function n2(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();function Ly(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var LS={exports:{}},Mh={},jS={exports:{}},ie={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ac=Symbol.for("react.element"),r2=Symbol.for("react.portal"),i2=Symbol.for("react.fragment"),s2=Symbol.for("react.strict_mode"),o2=Symbol.for("react.profiler"),a2=Symbol.for("react.provider"),l2=Symbol.for("react.context"),c2=Symbol.for("react.forward_ref"),u2=Symbol.for("react.suspense"),d2=Symbol.for("react.memo"),h2=Symbol.for("react.lazy"),$w=Symbol.iterator;function f2(t){return t===null||typeof t!="object"?null:(t=$w&&t[$w]||t["@@iterator"],typeof t=="function"?t:null)}var FS={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},$S=Object.assign,VS={};function fa(t,e,n){this.props=t,this.context=e,this.refs=VS,this.updater=n||FS}fa.prototype.isReactComponent={};fa.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};fa.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function US(){}US.prototype=fa.prototype;function jy(t,e,n){this.props=t,this.context=e,this.refs=VS,this.updater=n||FS}var Fy=jy.prototype=new US;Fy.constructor=jy;$S(Fy,fa.prototype);Fy.isPureReactComponent=!0;var Vw=Array.isArray,BS=Object.prototype.hasOwnProperty,$y={current:null},zS={key:!0,ref:!0,__self:!0,__source:!0};function WS(t,e,n){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)BS.call(e,r)&&!zS.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];i.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:Ac,type:t,key:s,ref:o,props:i,_owner:$y.current}}function p2(t,e){return{$$typeof:Ac,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Vy(t){return typeof t=="object"&&t!==null&&t.$$typeof===Ac}function m2(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var Uw=/\/+/g;function hp(t,e){return typeof t=="object"&&t!==null&&t.key!=null?m2(""+t.key):e.toString(36)}function Zu(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case Ac:case r2:o=!0}}if(o)return o=t,i=i(o),t=r===""?"."+hp(o,0):r,Vw(i)?(n="",t!=null&&(n=t.replace(Uw,"$&/")+"/"),Zu(i,e,n,"",function(c){return c})):i!=null&&(Vy(i)&&(i=p2(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(Uw,"$&/")+"/")+t)),e.push(i)),1;if(o=0,r=r===""?".":r+":",Vw(t))for(var a=0;a<t.length;a++){s=t[a];var l=r+hp(s,a);o+=Zu(s,e,n,l,i)}else if(l=f2(t),typeof l=="function")for(t=l.call(t),a=0;!(s=t.next()).done;)s=s.value,l=r+hp(s,a++),o+=Zu(s,e,n,l,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function _u(t,e,n){if(t==null)return t;var r=[],i=0;return Zu(t,r,"","",function(s){return e.call(n,s,i++)}),r}function g2(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Gt={current:null},ed={transition:null},y2={ReactCurrentDispatcher:Gt,ReactCurrentBatchConfig:ed,ReactCurrentOwner:$y};function HS(){throw Error("act(...) is not supported in production builds of React.")}ie.Children={map:_u,forEach:function(t,e,n){_u(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return _u(t,function(){e++}),e},toArray:function(t){return _u(t,function(e){return e})||[]},only:function(t){if(!Vy(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};ie.Component=fa;ie.Fragment=i2;ie.Profiler=o2;ie.PureComponent=jy;ie.StrictMode=s2;ie.Suspense=u2;ie.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=y2;ie.act=HS;ie.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=$S({},t.props),i=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=$y.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)BS.call(e,l)&&!zS.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];r.children=a}return{$$typeof:Ac,type:t.type,key:i,ref:s,props:r,_owner:o}};ie.createContext=function(t){return t={$$typeof:l2,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:a2,_context:t},t.Consumer=t};ie.createElement=WS;ie.createFactory=function(t){var e=WS.bind(null,t);return e.type=t,e};ie.createRef=function(){return{current:null}};ie.forwardRef=function(t){return{$$typeof:c2,render:t}};ie.isValidElement=Vy;ie.lazy=function(t){return{$$typeof:h2,_payload:{_status:-1,_result:t},_init:g2}};ie.memo=function(t,e){return{$$typeof:d2,type:t,compare:e===void 0?null:e}};ie.startTransition=function(t){var e=ed.transition;ed.transition={};try{t()}finally{ed.transition=e}};ie.unstable_act=HS;ie.useCallback=function(t,e){return Gt.current.useCallback(t,e)};ie.useContext=function(t){return Gt.current.useContext(t)};ie.useDebugValue=function(){};ie.useDeferredValue=function(t){return Gt.current.useDeferredValue(t)};ie.useEffect=function(t,e){return Gt.current.useEffect(t,e)};ie.useId=function(){return Gt.current.useId()};ie.useImperativeHandle=function(t,e,n){return Gt.current.useImperativeHandle(t,e,n)};ie.useInsertionEffect=function(t,e){return Gt.current.useInsertionEffect(t,e)};ie.useLayoutEffect=function(t,e){return Gt.current.useLayoutEffect(t,e)};ie.useMemo=function(t,e){return Gt.current.useMemo(t,e)};ie.useReducer=function(t,e,n){return Gt.current.useReducer(t,e,n)};ie.useRef=function(t){return Gt.current.useRef(t)};ie.useState=function(t){return Gt.current.useState(t)};ie.useSyncExternalStore=function(t,e,n){return Gt.current.useSyncExternalStore(t,e,n)};ie.useTransition=function(){return Gt.current.useTransition()};ie.version="18.3.1";jS.exports=ie;var k=jS.exports;const vi=Ly(k),Bw=n2({__proto__:null,default:vi},[k]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var v2=k,_2=Symbol.for("react.element"),w2=Symbol.for("react.fragment"),x2=Object.prototype.hasOwnProperty,E2=v2.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,C2={key:!0,ref:!0,__self:!0,__source:!0};function GS(t,e,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)x2.call(e,r)&&!C2.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:_2,type:t,key:s,ref:o,props:i,_owner:E2.current}}Mh.Fragment=w2;Mh.jsx=GS;Mh.jsxs=GS;LS.exports=Mh;var m=LS.exports,km={},KS={exports:{}},yn={},qS={exports:{}},YS={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(B,q){var X=B.length;B.push(q);e:for(;0<X;){var ye=X-1>>>1,se=B[ye];if(0<i(se,q))B[ye]=q,B[X]=se,X=ye;else break e}}function n(B){return B.length===0?null:B[0]}function r(B){if(B.length===0)return null;var q=B[0],X=B.pop();if(X!==q){B[0]=X;e:for(var ye=0,se=B.length,ce=se>>>1;ye<ce;){var ht=2*(ye+1)-1,it=B[ht],qt=ht+1,Lt=B[qt];if(0>i(it,X))qt<se&&0>i(Lt,it)?(B[ye]=Lt,B[qt]=X,ye=qt):(B[ye]=it,B[ht]=X,ye=ht);else if(qt<se&&0>i(Lt,X))B[ye]=Lt,B[qt]=X,ye=qt;else break e}}return q}function i(B,q){var X=B.sortIndex-q.sortIndex;return X!==0?X:B.id-q.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],c=[],d=1,h=null,f=3,v=!1,w=!1,S=!1,P=typeof setTimeout=="function"?setTimeout:null,_=typeof clearTimeout=="function"?clearTimeout:null,E=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function x(B){for(var q=n(c);q!==null;){if(q.callback===null)r(c);else if(q.startTime<=B)r(c),q.sortIndex=q.expirationTime,e(l,q);else break;q=n(c)}}function A(B){if(S=!1,x(B),!w)if(n(l)!==null)w=!0,Z(D);else{var q=n(c);q!==null&&ee(A,q.startTime-B)}}function D(B,q){w=!1,S&&(S=!1,_(C),C=-1),v=!0;var X=f;try{for(x(q),h=n(l);h!==null&&(!(h.expirationTime>q)||B&&!R());){var ye=h.callback;if(typeof ye=="function"){h.callback=null,f=h.priorityLevel;var se=ye(h.expirationTime<=q);q=t.unstable_now(),typeof se=="function"?h.callback=se:h===n(l)&&r(l),x(q)}else r(l);h=n(l)}if(h!==null)var ce=!0;else{var ht=n(c);ht!==null&&ee(A,ht.startTime-q),ce=!1}return ce}finally{h=null,f=X,v=!1}}var M=!1,b=null,C=-1,I=5,g=-1;function R(){return!(t.unstable_now()-g<I)}function O(){if(b!==null){var B=t.unstable_now();g=B;var q=!0;try{q=b(!0,B)}finally{q?N():(M=!1,b=null)}}else M=!1}var N;if(typeof E=="function")N=function(){E(O)};else if(typeof MessageChannel<"u"){var G=new MessageChannel,K=G.port2;G.port1.onmessage=O,N=function(){K.postMessage(null)}}else N=function(){P(O,0)};function Z(B){b=B,M||(M=!0,N())}function ee(B,q){C=P(function(){B(t.unstable_now())},q)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(B){B.callback=null},t.unstable_continueExecution=function(){w||v||(w=!0,Z(D))},t.unstable_forceFrameRate=function(B){0>B||125<B?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<B?Math.floor(1e3/B):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(B){switch(f){case 1:case 2:case 3:var q=3;break;default:q=f}var X=f;f=q;try{return B()}finally{f=X}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(B,q){switch(B){case 1:case 2:case 3:case 4:case 5:break;default:B=3}var X=f;f=B;try{return q()}finally{f=X}},t.unstable_scheduleCallback=function(B,q,X){var ye=t.unstable_now();switch(typeof X=="object"&&X!==null?(X=X.delay,X=typeof X=="number"&&0<X?ye+X:ye):X=ye,B){case 1:var se=-1;break;case 2:se=250;break;case 5:se=1073741823;break;case 4:se=1e4;break;default:se=5e3}return se=X+se,B={id:d++,callback:q,priorityLevel:B,startTime:X,expirationTime:se,sortIndex:-1},X>ye?(B.sortIndex=X,e(c,B),n(l)===null&&B===n(c)&&(S?(_(C),C=-1):S=!0,ee(A,X-ye))):(B.sortIndex=se,e(l,B),w||v||(w=!0,Z(D))),B},t.unstable_shouldYield=R,t.unstable_wrapCallback=function(B){var q=f;return function(){var X=f;f=q;try{return B.apply(this,arguments)}finally{f=X}}}})(YS);qS.exports=YS;var S2=qS.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var b2=k,mn=S2;function V(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var XS=new Set,zl={};function Us(t,e){Wo(t,e),Wo(t+"Capture",e)}function Wo(t,e){for(zl[t]=e,t=0;t<e.length;t++)XS.add(e[t])}var Br=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Im=Object.prototype.hasOwnProperty,T2=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,zw={},Ww={};function k2(t){return Im.call(Ww,t)?!0:Im.call(zw,t)?!1:T2.test(t)?Ww[t]=!0:(zw[t]=!0,!1)}function I2(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function P2(t,e,n,r){if(e===null||typeof e>"u"||I2(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Kt(t,e,n,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var xt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){xt[t]=new Kt(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];xt[e]=new Kt(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){xt[t]=new Kt(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){xt[t]=new Kt(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){xt[t]=new Kt(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){xt[t]=new Kt(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){xt[t]=new Kt(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){xt[t]=new Kt(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){xt[t]=new Kt(t,5,!1,t.toLowerCase(),null,!1,!1)});var Uy=/[\-:]([a-z])/g;function By(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Uy,By);xt[e]=new Kt(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Uy,By);xt[e]=new Kt(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Uy,By);xt[e]=new Kt(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){xt[t]=new Kt(t,1,!1,t.toLowerCase(),null,!1,!1)});xt.xlinkHref=new Kt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){xt[t]=new Kt(t,1,!1,t.toLowerCase(),null,!0,!0)});function zy(t,e,n,r){var i=xt.hasOwnProperty(e)?xt[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(P2(e,n,i,r)&&(n=null),r||i===null?k2(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Zr=b2.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,wu=Symbol.for("react.element"),ho=Symbol.for("react.portal"),fo=Symbol.for("react.fragment"),Wy=Symbol.for("react.strict_mode"),Pm=Symbol.for("react.profiler"),JS=Symbol.for("react.provider"),QS=Symbol.for("react.context"),Hy=Symbol.for("react.forward_ref"),Rm=Symbol.for("react.suspense"),Am=Symbol.for("react.suspense_list"),Gy=Symbol.for("react.memo"),di=Symbol.for("react.lazy"),ZS=Symbol.for("react.offscreen"),Hw=Symbol.iterator;function Ba(t){return t===null||typeof t!="object"?null:(t=Hw&&t[Hw]||t["@@iterator"],typeof t=="function"?t:null)}var Ve=Object.assign,fp;function al(t){if(fp===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);fp=e&&e[1]||""}return`
`+fp+t}var pp=!1;function mp(t,e){if(!t||pp)return"";pp=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var r=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){r=c}t.call(e.prototype)}else{try{throw Error()}catch(c){r=c}t()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var i=c.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var l=`
`+i[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{pp=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?al(t):""}function R2(t){switch(t.tag){case 5:return al(t.type);case 16:return al("Lazy");case 13:return al("Suspense");case 19:return al("SuspenseList");case 0:case 2:case 15:return t=mp(t.type,!1),t;case 11:return t=mp(t.type.render,!1),t;case 1:return t=mp(t.type,!0),t;default:return""}}function Nm(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case fo:return"Fragment";case ho:return"Portal";case Pm:return"Profiler";case Wy:return"StrictMode";case Rm:return"Suspense";case Am:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case QS:return(t.displayName||"Context")+".Consumer";case JS:return(t._context.displayName||"Context")+".Provider";case Hy:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Gy:return e=t.displayName||null,e!==null?e:Nm(t.type)||"Memo";case di:e=t._payload,t=t._init;try{return Nm(t(e))}catch{}}return null}function A2(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Nm(e);case 8:return e===Wy?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Oi(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function eb(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function N2(t){var e=eb(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function xu(t){t._valueTracker||(t._valueTracker=N2(t))}function tb(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=eb(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Id(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Dm(t,e){var n=e.checked;return Ve({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function Gw(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Oi(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function nb(t,e){e=e.checked,e!=null&&zy(t,"checked",e,!1)}function Om(t,e){nb(t,e);var n=Oi(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Mm(t,e.type,n):e.hasOwnProperty("defaultValue")&&Mm(t,e.type,Oi(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function Kw(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Mm(t,e,n){(e!=="number"||Id(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var ll=Array.isArray;function Ro(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Oi(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function Lm(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(V(91));return Ve({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function qw(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(V(92));if(ll(n)){if(1<n.length)throw Error(V(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Oi(n)}}function rb(t,e){var n=Oi(e.value),r=Oi(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function Yw(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function ib(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function jm(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?ib(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Eu,sb=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Eu=Eu||document.createElement("div"),Eu.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Eu.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Wl(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var _l={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},D2=["Webkit","ms","Moz","O"];Object.keys(_l).forEach(function(t){D2.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),_l[e]=_l[t]})});function ob(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||_l.hasOwnProperty(t)&&_l[t]?(""+e).trim():e+"px"}function ab(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=ob(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var O2=Ve({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Fm(t,e){if(e){if(O2[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(V(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(V(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(V(61))}if(e.style!=null&&typeof e.style!="object")throw Error(V(62))}}function $m(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Vm=null;function Ky(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Um=null,Ao=null,No=null;function Xw(t){if(t=Oc(t)){if(typeof Um!="function")throw Error(V(280));var e=t.stateNode;e&&(e=Vh(e),Um(t.stateNode,t.type,e))}}function lb(t){Ao?No?No.push(t):No=[t]:Ao=t}function cb(){if(Ao){var t=Ao,e=No;if(No=Ao=null,Xw(t),e)for(t=0;t<e.length;t++)Xw(e[t])}}function ub(t,e){return t(e)}function db(){}var gp=!1;function hb(t,e,n){if(gp)return t(e,n);gp=!0;try{return ub(t,e,n)}finally{gp=!1,(Ao!==null||No!==null)&&(db(),cb())}}function Hl(t,e){var n=t.stateNode;if(n===null)return null;var r=Vh(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(V(231,e,typeof n));return n}var Bm=!1;if(Br)try{var za={};Object.defineProperty(za,"passive",{get:function(){Bm=!0}}),window.addEventListener("test",za,za),window.removeEventListener("test",za,za)}catch{Bm=!1}function M2(t,e,n,r,i,s,o,a,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(d){this.onError(d)}}var wl=!1,Pd=null,Rd=!1,zm=null,L2={onError:function(t){wl=!0,Pd=t}};function j2(t,e,n,r,i,s,o,a,l){wl=!1,Pd=null,M2.apply(L2,arguments)}function F2(t,e,n,r,i,s,o,a,l){if(j2.apply(this,arguments),wl){if(wl){var c=Pd;wl=!1,Pd=null}else throw Error(V(198));Rd||(Rd=!0,zm=c)}}function Bs(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function fb(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Jw(t){if(Bs(t)!==t)throw Error(V(188))}function $2(t){var e=t.alternate;if(!e){if(e=Bs(t),e===null)throw Error(V(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return Jw(i),t;if(s===r)return Jw(i),e;s=s.sibling}throw Error(V(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o)throw Error(V(189))}}if(n.alternate!==r)throw Error(V(190))}if(n.tag!==3)throw Error(V(188));return n.stateNode.current===n?t:e}function pb(t){return t=$2(t),t!==null?mb(t):null}function mb(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=mb(t);if(e!==null)return e;t=t.sibling}return null}var gb=mn.unstable_scheduleCallback,Qw=mn.unstable_cancelCallback,V2=mn.unstable_shouldYield,U2=mn.unstable_requestPaint,Ye=mn.unstable_now,B2=mn.unstable_getCurrentPriorityLevel,qy=mn.unstable_ImmediatePriority,yb=mn.unstable_UserBlockingPriority,Ad=mn.unstable_NormalPriority,z2=mn.unstable_LowPriority,vb=mn.unstable_IdlePriority,Lh=null,fr=null;function W2(t){if(fr&&typeof fr.onCommitFiberRoot=="function")try{fr.onCommitFiberRoot(Lh,t,void 0,(t.current.flags&128)===128)}catch{}}var Yn=Math.clz32?Math.clz32:K2,H2=Math.log,G2=Math.LN2;function K2(t){return t>>>=0,t===0?32:31-(H2(t)/G2|0)|0}var Cu=64,Su=4194304;function cl(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Nd(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~i;a!==0?r=cl(a):(s&=o,s!==0&&(r=cl(s)))}else o=n&~i,o!==0?r=cl(o):s!==0&&(r=cl(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Yn(e),i=1<<n,r|=t[n],e&=~i;return r}function q2(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Y2(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-Yn(s),a=1<<o,l=i[o];l===-1?(!(a&n)||a&r)&&(i[o]=q2(a,e)):l<=e&&(t.expiredLanes|=a),s&=~a}}function Wm(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function _b(){var t=Cu;return Cu<<=1,!(Cu&4194240)&&(Cu=64),t}function yp(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Nc(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Yn(e),t[e]=n}function X2(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-Yn(n),s=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~s}}function Yy(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Yn(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var ge=0;function wb(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var xb,Xy,Eb,Cb,Sb,Hm=!1,bu=[],Ei=null,Ci=null,Si=null,Gl=new Map,Kl=new Map,fi=[],J2="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Zw(t,e){switch(t){case"focusin":case"focusout":Ei=null;break;case"dragenter":case"dragleave":Ci=null;break;case"mouseover":case"mouseout":Si=null;break;case"pointerover":case"pointerout":Gl.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Kl.delete(e.pointerId)}}function Wa(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=Oc(e),e!==null&&Xy(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function Q2(t,e,n,r,i){switch(e){case"focusin":return Ei=Wa(Ei,t,e,n,r,i),!0;case"dragenter":return Ci=Wa(Ci,t,e,n,r,i),!0;case"mouseover":return Si=Wa(Si,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return Gl.set(s,Wa(Gl.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,Kl.set(s,Wa(Kl.get(s)||null,t,e,n,r,i)),!0}return!1}function bb(t){var e=fs(t.target);if(e!==null){var n=Bs(e);if(n!==null){if(e=n.tag,e===13){if(e=fb(n),e!==null){t.blockedOn=e,Sb(t.priority,function(){Eb(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function td(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Gm(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Vm=r,n.target.dispatchEvent(r),Vm=null}else return e=Oc(n),e!==null&&Xy(e),t.blockedOn=n,!1;e.shift()}return!0}function ex(t,e,n){td(t)&&n.delete(e)}function Z2(){Hm=!1,Ei!==null&&td(Ei)&&(Ei=null),Ci!==null&&td(Ci)&&(Ci=null),Si!==null&&td(Si)&&(Si=null),Gl.forEach(ex),Kl.forEach(ex)}function Ha(t,e){t.blockedOn===e&&(t.blockedOn=null,Hm||(Hm=!0,mn.unstable_scheduleCallback(mn.unstable_NormalPriority,Z2)))}function ql(t){function e(i){return Ha(i,t)}if(0<bu.length){Ha(bu[0],t);for(var n=1;n<bu.length;n++){var r=bu[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Ei!==null&&Ha(Ei,t),Ci!==null&&Ha(Ci,t),Si!==null&&Ha(Si,t),Gl.forEach(e),Kl.forEach(e),n=0;n<fi.length;n++)r=fi[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<fi.length&&(n=fi[0],n.blockedOn===null);)bb(n),n.blockedOn===null&&fi.shift()}var Do=Zr.ReactCurrentBatchConfig,Dd=!0;function eD(t,e,n,r){var i=ge,s=Do.transition;Do.transition=null;try{ge=1,Jy(t,e,n,r)}finally{ge=i,Do.transition=s}}function tD(t,e,n,r){var i=ge,s=Do.transition;Do.transition=null;try{ge=4,Jy(t,e,n,r)}finally{ge=i,Do.transition=s}}function Jy(t,e,n,r){if(Dd){var i=Gm(t,e,n,r);if(i===null)kp(t,e,r,Od,n),Zw(t,r);else if(Q2(i,t,e,n,r))r.stopPropagation();else if(Zw(t,r),e&4&&-1<J2.indexOf(t)){for(;i!==null;){var s=Oc(i);if(s!==null&&xb(s),s=Gm(t,e,n,r),s===null&&kp(t,e,r,Od,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else kp(t,e,r,null,n)}}var Od=null;function Gm(t,e,n,r){if(Od=null,t=Ky(r),t=fs(t),t!==null)if(e=Bs(t),e===null)t=null;else if(n=e.tag,n===13){if(t=fb(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Od=t,null}function Tb(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(B2()){case qy:return 1;case yb:return 4;case Ad:case z2:return 16;case vb:return 536870912;default:return 16}default:return 16}}var _i=null,Qy=null,nd=null;function kb(){if(nd)return nd;var t,e=Qy,n=e.length,r,i="value"in _i?_i.value:_i.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===i[s-r];r++);return nd=i.slice(t,1<r?1-r:void 0)}function rd(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Tu(){return!0}function tx(){return!1}function vn(t){function e(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Tu:tx,this.isPropagationStopped=tx,this}return Ve(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Tu)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Tu)},persist:function(){},isPersistent:Tu}),e}var pa={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Zy=vn(pa),Dc=Ve({},pa,{view:0,detail:0}),nD=vn(Dc),vp,_p,Ga,jh=Ve({},Dc,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ev,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Ga&&(Ga&&t.type==="mousemove"?(vp=t.screenX-Ga.screenX,_p=t.screenY-Ga.screenY):_p=vp=0,Ga=t),vp)},movementY:function(t){return"movementY"in t?t.movementY:_p}}),nx=vn(jh),rD=Ve({},jh,{dataTransfer:0}),iD=vn(rD),sD=Ve({},Dc,{relatedTarget:0}),wp=vn(sD),oD=Ve({},pa,{animationName:0,elapsedTime:0,pseudoElement:0}),aD=vn(oD),lD=Ve({},pa,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),cD=vn(lD),uD=Ve({},pa,{data:0}),rx=vn(uD),dD={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},hD={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},fD={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function pD(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=fD[t])?!!e[t]:!1}function ev(){return pD}var mD=Ve({},Dc,{key:function(t){if(t.key){var e=dD[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=rd(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?hD[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ev,charCode:function(t){return t.type==="keypress"?rd(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?rd(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),gD=vn(mD),yD=Ve({},jh,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ix=vn(yD),vD=Ve({},Dc,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ev}),_D=vn(vD),wD=Ve({},pa,{propertyName:0,elapsedTime:0,pseudoElement:0}),xD=vn(wD),ED=Ve({},jh,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),CD=vn(ED),SD=[9,13,27,32],tv=Br&&"CompositionEvent"in window,xl=null;Br&&"documentMode"in document&&(xl=document.documentMode);var bD=Br&&"TextEvent"in window&&!xl,Ib=Br&&(!tv||xl&&8<xl&&11>=xl),sx=String.fromCharCode(32),ox=!1;function Pb(t,e){switch(t){case"keyup":return SD.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Rb(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var po=!1;function TD(t,e){switch(t){case"compositionend":return Rb(e);case"keypress":return e.which!==32?null:(ox=!0,sx);case"textInput":return t=e.data,t===sx&&ox?null:t;default:return null}}function kD(t,e){if(po)return t==="compositionend"||!tv&&Pb(t,e)?(t=kb(),nd=Qy=_i=null,po=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return Ib&&e.locale!=="ko"?null:e.data;default:return null}}var ID={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ax(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!ID[t.type]:e==="textarea"}function Ab(t,e,n,r){lb(r),e=Md(e,"onChange"),0<e.length&&(n=new Zy("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var El=null,Yl=null;function PD(t){Bb(t,0)}function Fh(t){var e=yo(t);if(tb(e))return t}function RD(t,e){if(t==="change")return e}var Nb=!1;if(Br){var xp;if(Br){var Ep="oninput"in document;if(!Ep){var lx=document.createElement("div");lx.setAttribute("oninput","return;"),Ep=typeof lx.oninput=="function"}xp=Ep}else xp=!1;Nb=xp&&(!document.documentMode||9<document.documentMode)}function cx(){El&&(El.detachEvent("onpropertychange",Db),Yl=El=null)}function Db(t){if(t.propertyName==="value"&&Fh(Yl)){var e=[];Ab(e,Yl,t,Ky(t)),hb(PD,e)}}function AD(t,e,n){t==="focusin"?(cx(),El=e,Yl=n,El.attachEvent("onpropertychange",Db)):t==="focusout"&&cx()}function ND(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Fh(Yl)}function DD(t,e){if(t==="click")return Fh(e)}function OD(t,e){if(t==="input"||t==="change")return Fh(e)}function MD(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Zn=typeof Object.is=="function"?Object.is:MD;function Xl(t,e){if(Zn(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!Im.call(e,i)||!Zn(t[i],e[i]))return!1}return!0}function ux(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function dx(t,e){var n=ux(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=ux(n)}}function Ob(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?Ob(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function Mb(){for(var t=window,e=Id();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Id(t.document)}return e}function nv(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function LD(t){var e=Mb(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&Ob(n.ownerDocument.documentElement,n)){if(r!==null&&nv(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!t.extend&&s>r&&(i=r,r=s,s=i),i=dx(n,s);var o=dx(n,r);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var jD=Br&&"documentMode"in document&&11>=document.documentMode,mo=null,Km=null,Cl=null,qm=!1;function hx(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;qm||mo==null||mo!==Id(r)||(r=mo,"selectionStart"in r&&nv(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Cl&&Xl(Cl,r)||(Cl=r,r=Md(Km,"onSelect"),0<r.length&&(e=new Zy("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=mo)))}function ku(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var go={animationend:ku("Animation","AnimationEnd"),animationiteration:ku("Animation","AnimationIteration"),animationstart:ku("Animation","AnimationStart"),transitionend:ku("Transition","TransitionEnd")},Cp={},Lb={};Br&&(Lb=document.createElement("div").style,"AnimationEvent"in window||(delete go.animationend.animation,delete go.animationiteration.animation,delete go.animationstart.animation),"TransitionEvent"in window||delete go.transitionend.transition);function $h(t){if(Cp[t])return Cp[t];if(!go[t])return t;var e=go[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in Lb)return Cp[t]=e[n];return t}var jb=$h("animationend"),Fb=$h("animationiteration"),$b=$h("animationstart"),Vb=$h("transitionend"),Ub=new Map,fx="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function zi(t,e){Ub.set(t,e),Us(e,[t])}for(var Sp=0;Sp<fx.length;Sp++){var bp=fx[Sp],FD=bp.toLowerCase(),$D=bp[0].toUpperCase()+bp.slice(1);zi(FD,"on"+$D)}zi(jb,"onAnimationEnd");zi(Fb,"onAnimationIteration");zi($b,"onAnimationStart");zi("dblclick","onDoubleClick");zi("focusin","onFocus");zi("focusout","onBlur");zi(Vb,"onTransitionEnd");Wo("onMouseEnter",["mouseout","mouseover"]);Wo("onMouseLeave",["mouseout","mouseover"]);Wo("onPointerEnter",["pointerout","pointerover"]);Wo("onPointerLeave",["pointerout","pointerover"]);Us("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Us("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Us("onBeforeInput",["compositionend","keypress","textInput","paste"]);Us("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Us("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Us("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ul="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),VD=new Set("cancel close invalid load scroll toggle".split(" ").concat(ul));function px(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,F2(r,e,void 0,t),t.currentTarget=null}function Bb(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==s&&i.isPropagationStopped())break e;px(i,a,c),s=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,c=a.currentTarget,a=a.listener,l!==s&&i.isPropagationStopped())break e;px(i,a,c),s=l}}}if(Rd)throw t=zm,Rd=!1,zm=null,t}function Pe(t,e){var n=e[Zm];n===void 0&&(n=e[Zm]=new Set);var r=t+"__bubble";n.has(r)||(zb(e,t,2,!1),n.add(r))}function Tp(t,e,n){var r=0;e&&(r|=4),zb(n,t,r,e)}var Iu="_reactListening"+Math.random().toString(36).slice(2);function Jl(t){if(!t[Iu]){t[Iu]=!0,XS.forEach(function(n){n!=="selectionchange"&&(VD.has(n)||Tp(n,!1,t),Tp(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Iu]||(e[Iu]=!0,Tp("selectionchange",!1,e))}}function zb(t,e,n,r){switch(Tb(e)){case 1:var i=eD;break;case 4:i=tD;break;default:i=Jy}n=i.bind(null,e,n,t),i=void 0,!Bm||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function kp(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;o=o.return}for(;a!==null;){if(o=fs(a),o===null)return;if(l=o.tag,l===5||l===6){r=s=o;continue e}a=a.parentNode}}r=r.return}hb(function(){var c=s,d=Ky(n),h=[];e:{var f=Ub.get(t);if(f!==void 0){var v=Zy,w=t;switch(t){case"keypress":if(rd(n)===0)break e;case"keydown":case"keyup":v=gD;break;case"focusin":w="focus",v=wp;break;case"focusout":w="blur",v=wp;break;case"beforeblur":case"afterblur":v=wp;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":v=nx;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":v=iD;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":v=_D;break;case jb:case Fb:case $b:v=aD;break;case Vb:v=xD;break;case"scroll":v=nD;break;case"wheel":v=CD;break;case"copy":case"cut":case"paste":v=cD;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":v=ix}var S=(e&4)!==0,P=!S&&t==="scroll",_=S?f!==null?f+"Capture":null:f;S=[];for(var E=c,x;E!==null;){x=E;var A=x.stateNode;if(x.tag===5&&A!==null&&(x=A,_!==null&&(A=Hl(E,_),A!=null&&S.push(Ql(E,A,x)))),P)break;E=E.return}0<S.length&&(f=new v(f,w,null,n,d),h.push({event:f,listeners:S}))}}if(!(e&7)){e:{if(f=t==="mouseover"||t==="pointerover",v=t==="mouseout"||t==="pointerout",f&&n!==Vm&&(w=n.relatedTarget||n.fromElement)&&(fs(w)||w[zr]))break e;if((v||f)&&(f=d.window===d?d:(f=d.ownerDocument)?f.defaultView||f.parentWindow:window,v?(w=n.relatedTarget||n.toElement,v=c,w=w?fs(w):null,w!==null&&(P=Bs(w),w!==P||w.tag!==5&&w.tag!==6)&&(w=null)):(v=null,w=c),v!==w)){if(S=nx,A="onMouseLeave",_="onMouseEnter",E="mouse",(t==="pointerout"||t==="pointerover")&&(S=ix,A="onPointerLeave",_="onPointerEnter",E="pointer"),P=v==null?f:yo(v),x=w==null?f:yo(w),f=new S(A,E+"leave",v,n,d),f.target=P,f.relatedTarget=x,A=null,fs(d)===c&&(S=new S(_,E+"enter",w,n,d),S.target=x,S.relatedTarget=P,A=S),P=A,v&&w)t:{for(S=v,_=w,E=0,x=S;x;x=no(x))E++;for(x=0,A=_;A;A=no(A))x++;for(;0<E-x;)S=no(S),E--;for(;0<x-E;)_=no(_),x--;for(;E--;){if(S===_||_!==null&&S===_.alternate)break t;S=no(S),_=no(_)}S=null}else S=null;v!==null&&mx(h,f,v,S,!1),w!==null&&P!==null&&mx(h,P,w,S,!0)}}e:{if(f=c?yo(c):window,v=f.nodeName&&f.nodeName.toLowerCase(),v==="select"||v==="input"&&f.type==="file")var D=RD;else if(ax(f))if(Nb)D=OD;else{D=ND;var M=AD}else(v=f.nodeName)&&v.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(D=DD);if(D&&(D=D(t,c))){Ab(h,D,n,d);break e}M&&M(t,f,c),t==="focusout"&&(M=f._wrapperState)&&M.controlled&&f.type==="number"&&Mm(f,"number",f.value)}switch(M=c?yo(c):window,t){case"focusin":(ax(M)||M.contentEditable==="true")&&(mo=M,Km=c,Cl=null);break;case"focusout":Cl=Km=mo=null;break;case"mousedown":qm=!0;break;case"contextmenu":case"mouseup":case"dragend":qm=!1,hx(h,n,d);break;case"selectionchange":if(jD)break;case"keydown":case"keyup":hx(h,n,d)}var b;if(tv)e:{switch(t){case"compositionstart":var C="onCompositionStart";break e;case"compositionend":C="onCompositionEnd";break e;case"compositionupdate":C="onCompositionUpdate";break e}C=void 0}else po?Pb(t,n)&&(C="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(C="onCompositionStart");C&&(Ib&&n.locale!=="ko"&&(po||C!=="onCompositionStart"?C==="onCompositionEnd"&&po&&(b=kb()):(_i=d,Qy="value"in _i?_i.value:_i.textContent,po=!0)),M=Md(c,C),0<M.length&&(C=new rx(C,t,null,n,d),h.push({event:C,listeners:M}),b?C.data=b:(b=Rb(n),b!==null&&(C.data=b)))),(b=bD?TD(t,n):kD(t,n))&&(c=Md(c,"onBeforeInput"),0<c.length&&(d=new rx("onBeforeInput","beforeinput",null,n,d),h.push({event:d,listeners:c}),d.data=b))}Bb(h,e)})}function Ql(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Md(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=Hl(t,n),s!=null&&r.unshift(Ql(t,s,i)),s=Hl(t,e),s!=null&&r.push(Ql(t,s,i))),t=t.return}return r}function no(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function mx(t,e,n,r,i){for(var s=e._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,c=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&c!==null&&(a=c,i?(l=Hl(n,s),l!=null&&o.unshift(Ql(n,l,a))):i||(l=Hl(n,s),l!=null&&o.push(Ql(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var UD=/\r\n?/g,BD=/\u0000|\uFFFD/g;function gx(t){return(typeof t=="string"?t:""+t).replace(UD,`
`).replace(BD,"")}function Pu(t,e,n){if(e=gx(e),gx(t)!==e&&n)throw Error(V(425))}function Ld(){}var Ym=null,Xm=null;function Jm(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Qm=typeof setTimeout=="function"?setTimeout:void 0,zD=typeof clearTimeout=="function"?clearTimeout:void 0,yx=typeof Promise=="function"?Promise:void 0,WD=typeof queueMicrotask=="function"?queueMicrotask:typeof yx<"u"?function(t){return yx.resolve(null).then(t).catch(HD)}:Qm;function HD(t){setTimeout(function(){throw t})}function Ip(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),ql(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);ql(e)}function bi(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function vx(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var ma=Math.random().toString(36).slice(2),dr="__reactFiber$"+ma,Zl="__reactProps$"+ma,zr="__reactContainer$"+ma,Zm="__reactEvents$"+ma,GD="__reactListeners$"+ma,KD="__reactHandles$"+ma;function fs(t){var e=t[dr];if(e)return e;for(var n=t.parentNode;n;){if(e=n[zr]||n[dr]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=vx(t);t!==null;){if(n=t[dr])return n;t=vx(t)}return e}t=n,n=t.parentNode}return null}function Oc(t){return t=t[dr]||t[zr],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function yo(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(V(33))}function Vh(t){return t[Zl]||null}var eg=[],vo=-1;function Wi(t){return{current:t}}function Re(t){0>vo||(t.current=eg[vo],eg[vo]=null,vo--)}function be(t,e){vo++,eg[vo]=t.current,t.current=e}var Mi={},Mt=Wi(Mi),sn=Wi(!1),Ts=Mi;function Ho(t,e){var n=t.type.contextTypes;if(!n)return Mi;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function on(t){return t=t.childContextTypes,t!=null}function jd(){Re(sn),Re(Mt)}function _x(t,e,n){if(Mt.current!==Mi)throw Error(V(168));be(Mt,e),be(sn,n)}function Wb(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(V(108,A2(t)||"Unknown",i));return Ve({},n,r)}function Fd(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Mi,Ts=Mt.current,be(Mt,t),be(sn,sn.current),!0}function wx(t,e,n){var r=t.stateNode;if(!r)throw Error(V(169));n?(t=Wb(t,e,Ts),r.__reactInternalMemoizedMergedChildContext=t,Re(sn),Re(Mt),be(Mt,t)):Re(sn),be(sn,n)}var Pr=null,Uh=!1,Pp=!1;function Hb(t){Pr===null?Pr=[t]:Pr.push(t)}function qD(t){Uh=!0,Hb(t)}function Hi(){if(!Pp&&Pr!==null){Pp=!0;var t=0,e=ge;try{var n=Pr;for(ge=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Pr=null,Uh=!1}catch(i){throw Pr!==null&&(Pr=Pr.slice(t+1)),gb(qy,Hi),i}finally{ge=e,Pp=!1}}return null}var _o=[],wo=0,$d=null,Vd=0,Sn=[],bn=0,ks=null,Nr=1,Dr="";function ss(t,e){_o[wo++]=Vd,_o[wo++]=$d,$d=t,Vd=e}function Gb(t,e,n){Sn[bn++]=Nr,Sn[bn++]=Dr,Sn[bn++]=ks,ks=t;var r=Nr;t=Dr;var i=32-Yn(r)-1;r&=~(1<<i),n+=1;var s=32-Yn(e)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Nr=1<<32-Yn(e)+i|n<<i|r,Dr=s+t}else Nr=1<<s|n<<i|r,Dr=t}function rv(t){t.return!==null&&(ss(t,1),Gb(t,1,0))}function iv(t){for(;t===$d;)$d=_o[--wo],_o[wo]=null,Vd=_o[--wo],_o[wo]=null;for(;t===ks;)ks=Sn[--bn],Sn[bn]=null,Dr=Sn[--bn],Sn[bn]=null,Nr=Sn[--bn],Sn[bn]=null}var hn=null,dn=null,De=!1,zn=null;function Kb(t,e){var n=kn(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function xx(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,hn=t,dn=bi(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,hn=t,dn=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=ks!==null?{id:Nr,overflow:Dr}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=kn(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,hn=t,dn=null,!0):!1;default:return!1}}function tg(t){return(t.mode&1)!==0&&(t.flags&128)===0}function ng(t){if(De){var e=dn;if(e){var n=e;if(!xx(t,e)){if(tg(t))throw Error(V(418));e=bi(n.nextSibling);var r=hn;e&&xx(t,e)?Kb(r,n):(t.flags=t.flags&-4097|2,De=!1,hn=t)}}else{if(tg(t))throw Error(V(418));t.flags=t.flags&-4097|2,De=!1,hn=t}}}function Ex(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;hn=t}function Ru(t){if(t!==hn)return!1;if(!De)return Ex(t),De=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Jm(t.type,t.memoizedProps)),e&&(e=dn)){if(tg(t))throw qb(),Error(V(418));for(;e;)Kb(t,e),e=bi(e.nextSibling)}if(Ex(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(V(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){dn=bi(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}dn=null}}else dn=hn?bi(t.stateNode.nextSibling):null;return!0}function qb(){for(var t=dn;t;)t=bi(t.nextSibling)}function Go(){dn=hn=null,De=!1}function sv(t){zn===null?zn=[t]:zn.push(t)}var YD=Zr.ReactCurrentBatchConfig;function Ka(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(V(309));var r=n.stateNode}if(!r)throw Error(V(147,t));var i=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var a=i.refs;o===null?delete a[s]:a[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error(V(284));if(!n._owner)throw Error(V(290,t))}return t}function Au(t,e){throw t=Object.prototype.toString.call(e),Error(V(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function Cx(t){var e=t._init;return e(t._payload)}function Yb(t){function e(_,E){if(t){var x=_.deletions;x===null?(_.deletions=[E],_.flags|=16):x.push(E)}}function n(_,E){if(!t)return null;for(;E!==null;)e(_,E),E=E.sibling;return null}function r(_,E){for(_=new Map;E!==null;)E.key!==null?_.set(E.key,E):_.set(E.index,E),E=E.sibling;return _}function i(_,E){return _=Pi(_,E),_.index=0,_.sibling=null,_}function s(_,E,x){return _.index=x,t?(x=_.alternate,x!==null?(x=x.index,x<E?(_.flags|=2,E):x):(_.flags|=2,E)):(_.flags|=1048576,E)}function o(_){return t&&_.alternate===null&&(_.flags|=2),_}function a(_,E,x,A){return E===null||E.tag!==6?(E=Lp(x,_.mode,A),E.return=_,E):(E=i(E,x),E.return=_,E)}function l(_,E,x,A){var D=x.type;return D===fo?d(_,E,x.props.children,A,x.key):E!==null&&(E.elementType===D||typeof D=="object"&&D!==null&&D.$$typeof===di&&Cx(D)===E.type)?(A=i(E,x.props),A.ref=Ka(_,E,x),A.return=_,A):(A=ud(x.type,x.key,x.props,null,_.mode,A),A.ref=Ka(_,E,x),A.return=_,A)}function c(_,E,x,A){return E===null||E.tag!==4||E.stateNode.containerInfo!==x.containerInfo||E.stateNode.implementation!==x.implementation?(E=jp(x,_.mode,A),E.return=_,E):(E=i(E,x.children||[]),E.return=_,E)}function d(_,E,x,A,D){return E===null||E.tag!==7?(E=Es(x,_.mode,A,D),E.return=_,E):(E=i(E,x),E.return=_,E)}function h(_,E,x){if(typeof E=="string"&&E!==""||typeof E=="number")return E=Lp(""+E,_.mode,x),E.return=_,E;if(typeof E=="object"&&E!==null){switch(E.$$typeof){case wu:return x=ud(E.type,E.key,E.props,null,_.mode,x),x.ref=Ka(_,null,E),x.return=_,x;case ho:return E=jp(E,_.mode,x),E.return=_,E;case di:var A=E._init;return h(_,A(E._payload),x)}if(ll(E)||Ba(E))return E=Es(E,_.mode,x,null),E.return=_,E;Au(_,E)}return null}function f(_,E,x,A){var D=E!==null?E.key:null;if(typeof x=="string"&&x!==""||typeof x=="number")return D!==null?null:a(_,E,""+x,A);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case wu:return x.key===D?l(_,E,x,A):null;case ho:return x.key===D?c(_,E,x,A):null;case di:return D=x._init,f(_,E,D(x._payload),A)}if(ll(x)||Ba(x))return D!==null?null:d(_,E,x,A,null);Au(_,x)}return null}function v(_,E,x,A,D){if(typeof A=="string"&&A!==""||typeof A=="number")return _=_.get(x)||null,a(E,_,""+A,D);if(typeof A=="object"&&A!==null){switch(A.$$typeof){case wu:return _=_.get(A.key===null?x:A.key)||null,l(E,_,A,D);case ho:return _=_.get(A.key===null?x:A.key)||null,c(E,_,A,D);case di:var M=A._init;return v(_,E,x,M(A._payload),D)}if(ll(A)||Ba(A))return _=_.get(x)||null,d(E,_,A,D,null);Au(E,A)}return null}function w(_,E,x,A){for(var D=null,M=null,b=E,C=E=0,I=null;b!==null&&C<x.length;C++){b.index>C?(I=b,b=null):I=b.sibling;var g=f(_,b,x[C],A);if(g===null){b===null&&(b=I);break}t&&b&&g.alternate===null&&e(_,b),E=s(g,E,C),M===null?D=g:M.sibling=g,M=g,b=I}if(C===x.length)return n(_,b),De&&ss(_,C),D;if(b===null){for(;C<x.length;C++)b=h(_,x[C],A),b!==null&&(E=s(b,E,C),M===null?D=b:M.sibling=b,M=b);return De&&ss(_,C),D}for(b=r(_,b);C<x.length;C++)I=v(b,_,C,x[C],A),I!==null&&(t&&I.alternate!==null&&b.delete(I.key===null?C:I.key),E=s(I,E,C),M===null?D=I:M.sibling=I,M=I);return t&&b.forEach(function(R){return e(_,R)}),De&&ss(_,C),D}function S(_,E,x,A){var D=Ba(x);if(typeof D!="function")throw Error(V(150));if(x=D.call(x),x==null)throw Error(V(151));for(var M=D=null,b=E,C=E=0,I=null,g=x.next();b!==null&&!g.done;C++,g=x.next()){b.index>C?(I=b,b=null):I=b.sibling;var R=f(_,b,g.value,A);if(R===null){b===null&&(b=I);break}t&&b&&R.alternate===null&&e(_,b),E=s(R,E,C),M===null?D=R:M.sibling=R,M=R,b=I}if(g.done)return n(_,b),De&&ss(_,C),D;if(b===null){for(;!g.done;C++,g=x.next())g=h(_,g.value,A),g!==null&&(E=s(g,E,C),M===null?D=g:M.sibling=g,M=g);return De&&ss(_,C),D}for(b=r(_,b);!g.done;C++,g=x.next())g=v(b,_,C,g.value,A),g!==null&&(t&&g.alternate!==null&&b.delete(g.key===null?C:g.key),E=s(g,E,C),M===null?D=g:M.sibling=g,M=g);return t&&b.forEach(function(O){return e(_,O)}),De&&ss(_,C),D}function P(_,E,x,A){if(typeof x=="object"&&x!==null&&x.type===fo&&x.key===null&&(x=x.props.children),typeof x=="object"&&x!==null){switch(x.$$typeof){case wu:e:{for(var D=x.key,M=E;M!==null;){if(M.key===D){if(D=x.type,D===fo){if(M.tag===7){n(_,M.sibling),E=i(M,x.props.children),E.return=_,_=E;break e}}else if(M.elementType===D||typeof D=="object"&&D!==null&&D.$$typeof===di&&Cx(D)===M.type){n(_,M.sibling),E=i(M,x.props),E.ref=Ka(_,M,x),E.return=_,_=E;break e}n(_,M);break}else e(_,M);M=M.sibling}x.type===fo?(E=Es(x.props.children,_.mode,A,x.key),E.return=_,_=E):(A=ud(x.type,x.key,x.props,null,_.mode,A),A.ref=Ka(_,E,x),A.return=_,_=A)}return o(_);case ho:e:{for(M=x.key;E!==null;){if(E.key===M)if(E.tag===4&&E.stateNode.containerInfo===x.containerInfo&&E.stateNode.implementation===x.implementation){n(_,E.sibling),E=i(E,x.children||[]),E.return=_,_=E;break e}else{n(_,E);break}else e(_,E);E=E.sibling}E=jp(x,_.mode,A),E.return=_,_=E}return o(_);case di:return M=x._init,P(_,E,M(x._payload),A)}if(ll(x))return w(_,E,x,A);if(Ba(x))return S(_,E,x,A);Au(_,x)}return typeof x=="string"&&x!==""||typeof x=="number"?(x=""+x,E!==null&&E.tag===6?(n(_,E.sibling),E=i(E,x),E.return=_,_=E):(n(_,E),E=Lp(x,_.mode,A),E.return=_,_=E),o(_)):n(_,E)}return P}var Ko=Yb(!0),Xb=Yb(!1),Ud=Wi(null),Bd=null,xo=null,ov=null;function av(){ov=xo=Bd=null}function lv(t){var e=Ud.current;Re(Ud),t._currentValue=e}function rg(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Oo(t,e){Bd=t,ov=xo=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(tn=!0),t.firstContext=null)}function An(t){var e=t._currentValue;if(ov!==t)if(t={context:t,memoizedValue:e,next:null},xo===null){if(Bd===null)throw Error(V(308));xo=t,Bd.dependencies={lanes:0,firstContext:t}}else xo=xo.next=t;return e}var ps=null;function cv(t){ps===null?ps=[t]:ps.push(t)}function Jb(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,cv(e)):(n.next=i.next,i.next=n),e.interleaved=n,Wr(t,r)}function Wr(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var hi=!1;function uv(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Qb(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function jr(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Ti(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,ue&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,Wr(t,n)}return i=r.interleaved,i===null?(e.next=e,cv(r)):(e.next=i.next,i.next=e),r.interleaved=e,Wr(t,n)}function id(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Yy(t,n)}}function Sx(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function zd(t,e,n,r){var i=t.updateQueue;hi=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,c=l.next;l.next=null,o===null?s=c:o.next=c,o=l;var d=t.alternate;d!==null&&(d=d.updateQueue,a=d.lastBaseUpdate,a!==o&&(a===null?d.firstBaseUpdate=c:a.next=c,d.lastBaseUpdate=l))}if(s!==null){var h=i.baseState;o=0,d=c=l=null,a=s;do{var f=a.lane,v=a.eventTime;if((r&f)===f){d!==null&&(d=d.next={eventTime:v,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var w=t,S=a;switch(f=e,v=n,S.tag){case 1:if(w=S.payload,typeof w=="function"){h=w.call(v,h,f);break e}h=w;break e;case 3:w.flags=w.flags&-65537|128;case 0:if(w=S.payload,f=typeof w=="function"?w.call(v,h,f):w,f==null)break e;h=Ve({},h,f);break e;case 2:hi=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,f=i.effects,f===null?i.effects=[a]:f.push(a))}else v={eventTime:v,lane:f,tag:a.tag,payload:a.payload,callback:a.callback,next:null},d===null?(c=d=v,l=h):d=d.next=v,o|=f;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;f=a,a=f.next,f.next=null,i.lastBaseUpdate=f,i.shared.pending=null}}while(1);if(d===null&&(l=h),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=d,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);Ps|=o,t.lanes=o,t.memoizedState=h}}function bx(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(V(191,i));i.call(r)}}}var Mc={},pr=Wi(Mc),ec=Wi(Mc),tc=Wi(Mc);function ms(t){if(t===Mc)throw Error(V(174));return t}function dv(t,e){switch(be(tc,e),be(ec,t),be(pr,Mc),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:jm(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=jm(e,t)}Re(pr),be(pr,e)}function qo(){Re(pr),Re(ec),Re(tc)}function Zb(t){ms(tc.current);var e=ms(pr.current),n=jm(e,t.type);e!==n&&(be(ec,t),be(pr,n))}function hv(t){ec.current===t&&(Re(pr),Re(ec))}var Le=Wi(0);function Wd(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Rp=[];function fv(){for(var t=0;t<Rp.length;t++)Rp[t]._workInProgressVersionPrimary=null;Rp.length=0}var sd=Zr.ReactCurrentDispatcher,Ap=Zr.ReactCurrentBatchConfig,Is=0,Fe=null,et=null,ct=null,Hd=!1,Sl=!1,nc=0,XD=0;function Tt(){throw Error(V(321))}function pv(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Zn(t[n],e[n]))return!1;return!0}function mv(t,e,n,r,i,s){if(Is=s,Fe=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,sd.current=t===null||t.memoizedState===null?eO:tO,t=n(r,i),Sl){s=0;do{if(Sl=!1,nc=0,25<=s)throw Error(V(301));s+=1,ct=et=null,e.updateQueue=null,sd.current=nO,t=n(r,i)}while(Sl)}if(sd.current=Gd,e=et!==null&&et.next!==null,Is=0,ct=et=Fe=null,Hd=!1,e)throw Error(V(300));return t}function gv(){var t=nc!==0;return nc=0,t}function ar(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ct===null?Fe.memoizedState=ct=t:ct=ct.next=t,ct}function Nn(){if(et===null){var t=Fe.alternate;t=t!==null?t.memoizedState:null}else t=et.next;var e=ct===null?Fe.memoizedState:ct.next;if(e!==null)ct=e,et=t;else{if(t===null)throw Error(V(310));et=t,t={memoizedState:et.memoizedState,baseState:et.baseState,baseQueue:et.baseQueue,queue:et.queue,next:null},ct===null?Fe.memoizedState=ct=t:ct=ct.next=t}return ct}function rc(t,e){return typeof e=="function"?e(t):e}function Np(t){var e=Nn(),n=e.queue;if(n===null)throw Error(V(311));n.lastRenderedReducer=t;var r=et,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var a=o=null,l=null,c=s;do{var d=c.lane;if((Is&d)===d)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:t(r,c.action);else{var h={lane:d,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(a=l=h,o=r):l=l.next=h,Fe.lanes|=d,Ps|=d}c=c.next}while(c!==null&&c!==s);l===null?o=r:l.next=a,Zn(r,e.memoizedState)||(tn=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do s=i.lane,Fe.lanes|=s,Ps|=s,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Dp(t){var e=Nn(),n=e.queue;if(n===null)throw Error(V(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=t(s,o.action),o=o.next;while(o!==i);Zn(s,e.memoizedState)||(tn=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function eT(){}function tT(t,e){var n=Fe,r=Nn(),i=e(),s=!Zn(r.memoizedState,i);if(s&&(r.memoizedState=i,tn=!0),r=r.queue,yv(iT.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||ct!==null&&ct.memoizedState.tag&1){if(n.flags|=2048,ic(9,rT.bind(null,n,r,i,e),void 0,null),dt===null)throw Error(V(349));Is&30||nT(n,e,i)}return i}function nT(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Fe.updateQueue,e===null?(e={lastEffect:null,stores:null},Fe.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function rT(t,e,n,r){e.value=n,e.getSnapshot=r,sT(e)&&oT(t)}function iT(t,e,n){return n(function(){sT(e)&&oT(t)})}function sT(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Zn(t,n)}catch{return!0}}function oT(t){var e=Wr(t,1);e!==null&&Xn(e,t,1,-1)}function Tx(t){var e=ar();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:rc,lastRenderedState:t},e.queue=t,t=t.dispatch=ZD.bind(null,Fe,t),[e.memoizedState,t]}function ic(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Fe.updateQueue,e===null?(e={lastEffect:null,stores:null},Fe.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function aT(){return Nn().memoizedState}function od(t,e,n,r){var i=ar();Fe.flags|=t,i.memoizedState=ic(1|e,n,void 0,r===void 0?null:r)}function Bh(t,e,n,r){var i=Nn();r=r===void 0?null:r;var s=void 0;if(et!==null){var o=et.memoizedState;if(s=o.destroy,r!==null&&pv(r,o.deps)){i.memoizedState=ic(e,n,s,r);return}}Fe.flags|=t,i.memoizedState=ic(1|e,n,s,r)}function kx(t,e){return od(8390656,8,t,e)}function yv(t,e){return Bh(2048,8,t,e)}function lT(t,e){return Bh(4,2,t,e)}function cT(t,e){return Bh(4,4,t,e)}function uT(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function dT(t,e,n){return n=n!=null?n.concat([t]):null,Bh(4,4,uT.bind(null,e,t),n)}function vv(){}function hT(t,e){var n=Nn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&pv(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function fT(t,e){var n=Nn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&pv(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function pT(t,e,n){return Is&21?(Zn(n,e)||(n=_b(),Fe.lanes|=n,Ps|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,tn=!0),t.memoizedState=n)}function JD(t,e){var n=ge;ge=n!==0&&4>n?n:4,t(!0);var r=Ap.transition;Ap.transition={};try{t(!1),e()}finally{ge=n,Ap.transition=r}}function mT(){return Nn().memoizedState}function QD(t,e,n){var r=Ii(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},gT(t))yT(e,n);else if(n=Jb(t,e,n,r),n!==null){var i=zt();Xn(n,t,r,i),vT(n,e,r)}}function ZD(t,e,n){var r=Ii(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(gT(t))yT(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,n);if(i.hasEagerState=!0,i.eagerState=a,Zn(a,o)){var l=e.interleaved;l===null?(i.next=i,cv(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=Jb(t,e,i,r),n!==null&&(i=zt(),Xn(n,t,r,i),vT(n,e,r))}}function gT(t){var e=t.alternate;return t===Fe||e!==null&&e===Fe}function yT(t,e){Sl=Hd=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function vT(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Yy(t,n)}}var Gd={readContext:An,useCallback:Tt,useContext:Tt,useEffect:Tt,useImperativeHandle:Tt,useInsertionEffect:Tt,useLayoutEffect:Tt,useMemo:Tt,useReducer:Tt,useRef:Tt,useState:Tt,useDebugValue:Tt,useDeferredValue:Tt,useTransition:Tt,useMutableSource:Tt,useSyncExternalStore:Tt,useId:Tt,unstable_isNewReconciler:!1},eO={readContext:An,useCallback:function(t,e){return ar().memoizedState=[t,e===void 0?null:e],t},useContext:An,useEffect:kx,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,od(4194308,4,uT.bind(null,e,t),n)},useLayoutEffect:function(t,e){return od(4194308,4,t,e)},useInsertionEffect:function(t,e){return od(4,2,t,e)},useMemo:function(t,e){var n=ar();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=ar();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=QD.bind(null,Fe,t),[r.memoizedState,t]},useRef:function(t){var e=ar();return t={current:t},e.memoizedState=t},useState:Tx,useDebugValue:vv,useDeferredValue:function(t){return ar().memoizedState=t},useTransition:function(){var t=Tx(!1),e=t[0];return t=JD.bind(null,t[1]),ar().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=Fe,i=ar();if(De){if(n===void 0)throw Error(V(407));n=n()}else{if(n=e(),dt===null)throw Error(V(349));Is&30||nT(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,kx(iT.bind(null,r,s,t),[t]),r.flags|=2048,ic(9,rT.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=ar(),e=dt.identifierPrefix;if(De){var n=Dr,r=Nr;n=(r&~(1<<32-Yn(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=nc++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=XD++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},tO={readContext:An,useCallback:hT,useContext:An,useEffect:yv,useImperativeHandle:dT,useInsertionEffect:lT,useLayoutEffect:cT,useMemo:fT,useReducer:Np,useRef:aT,useState:function(){return Np(rc)},useDebugValue:vv,useDeferredValue:function(t){var e=Nn();return pT(e,et.memoizedState,t)},useTransition:function(){var t=Np(rc)[0],e=Nn().memoizedState;return[t,e]},useMutableSource:eT,useSyncExternalStore:tT,useId:mT,unstable_isNewReconciler:!1},nO={readContext:An,useCallback:hT,useContext:An,useEffect:yv,useImperativeHandle:dT,useInsertionEffect:lT,useLayoutEffect:cT,useMemo:fT,useReducer:Dp,useRef:aT,useState:function(){return Dp(rc)},useDebugValue:vv,useDeferredValue:function(t){var e=Nn();return et===null?e.memoizedState=t:pT(e,et.memoizedState,t)},useTransition:function(){var t=Dp(rc)[0],e=Nn().memoizedState;return[t,e]},useMutableSource:eT,useSyncExternalStore:tT,useId:mT,unstable_isNewReconciler:!1};function Un(t,e){if(t&&t.defaultProps){e=Ve({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function ig(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Ve({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var zh={isMounted:function(t){return(t=t._reactInternals)?Bs(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=zt(),i=Ii(t),s=jr(r,i);s.payload=e,n!=null&&(s.callback=n),e=Ti(t,s,i),e!==null&&(Xn(e,t,i,r),id(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=zt(),i=Ii(t),s=jr(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=Ti(t,s,i),e!==null&&(Xn(e,t,i,r),id(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=zt(),r=Ii(t),i=jr(n,r);i.tag=2,e!=null&&(i.callback=e),e=Ti(t,i,r),e!==null&&(Xn(e,t,r,n),id(e,t,r))}};function Ix(t,e,n,r,i,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!Xl(n,r)||!Xl(i,s):!0}function _T(t,e,n){var r=!1,i=Mi,s=e.contextType;return typeof s=="object"&&s!==null?s=An(s):(i=on(e)?Ts:Mt.current,r=e.contextTypes,s=(r=r!=null)?Ho(t,i):Mi),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=zh,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function Px(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&zh.enqueueReplaceState(e,e.state,null)}function sg(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},uv(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=An(s):(s=on(e)?Ts:Mt.current,i.context=Ho(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(ig(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&zh.enqueueReplaceState(i,i.state,null),zd(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function Yo(t,e){try{var n="",r=e;do n+=R2(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function Op(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function og(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var rO=typeof WeakMap=="function"?WeakMap:Map;function wT(t,e,n){n=jr(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){qd||(qd=!0,gg=r),og(t,e)},n}function xT(t,e,n){n=jr(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){og(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){og(t,e),typeof r!="function"&&(ki===null?ki=new Set([this]):ki.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function Rx(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new rO;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=yO.bind(null,t,e,n),e.then(t,t))}function Ax(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function Nx(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=jr(-1,1),e.tag=2,Ti(n,e,1))),n.lanes|=1),t)}var iO=Zr.ReactCurrentOwner,tn=!1;function Ft(t,e,n,r){e.child=t===null?Xb(e,null,n,r):Ko(e,t.child,n,r)}function Dx(t,e,n,r,i){n=n.render;var s=e.ref;return Oo(e,i),r=mv(t,e,n,r,s,i),n=gv(),t!==null&&!tn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Hr(t,e,i)):(De&&n&&rv(e),e.flags|=1,Ft(t,e,r,i),e.child)}function Ox(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!Tv(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,ET(t,e,s,r,i)):(t=ud(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:Xl,n(o,r)&&t.ref===e.ref)return Hr(t,e,i)}return e.flags|=1,t=Pi(s,r),t.ref=e.ref,t.return=e,e.child=t}function ET(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if(Xl(s,r)&&t.ref===e.ref)if(tn=!1,e.pendingProps=r=s,(t.lanes&i)!==0)t.flags&131072&&(tn=!0);else return e.lanes=t.lanes,Hr(t,e,i)}return ag(t,e,n,r,i)}function CT(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},be(Co,cn),cn|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,be(Co,cn),cn|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,be(Co,cn),cn|=r}else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,be(Co,cn),cn|=r;return Ft(t,e,i,n),e.child}function ST(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function ag(t,e,n,r,i){var s=on(n)?Ts:Mt.current;return s=Ho(e,s),Oo(e,i),n=mv(t,e,n,r,s,i),r=gv(),t!==null&&!tn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Hr(t,e,i)):(De&&r&&rv(e),e.flags|=1,Ft(t,e,n,i),e.child)}function Mx(t,e,n,r,i){if(on(n)){var s=!0;Fd(e)}else s=!1;if(Oo(e,i),e.stateNode===null)ad(t,e),_T(e,n,r),sg(e,n,r,i),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,c=n.contextType;typeof c=="object"&&c!==null?c=An(c):(c=on(n)?Ts:Mt.current,c=Ho(e,c));var d=n.getDerivedStateFromProps,h=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==c)&&Px(e,o,r,c),hi=!1;var f=e.memoizedState;o.state=f,zd(e,r,o,i),l=e.memoizedState,a!==r||f!==l||sn.current||hi?(typeof d=="function"&&(ig(e,n,d,r),l=e.memoizedState),(a=hi||Ix(e,n,a,r,f,l,c))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=c,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,Qb(t,e),a=e.memoizedProps,c=e.type===e.elementType?a:Un(e.type,a),o.props=c,h=e.pendingProps,f=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=An(l):(l=on(n)?Ts:Mt.current,l=Ho(e,l));var v=n.getDerivedStateFromProps;(d=typeof v=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==h||f!==l)&&Px(e,o,r,l),hi=!1,f=e.memoizedState,o.state=f,zd(e,r,o,i);var w=e.memoizedState;a!==h||f!==w||sn.current||hi?(typeof v=="function"&&(ig(e,n,v,r),w=e.memoizedState),(c=hi||Ix(e,n,c,r,f,w,l)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,w,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,w,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=w),o.props=r,o.state=w,o.context=l,r=c):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),r=!1)}return lg(t,e,n,r,s,i)}function lg(t,e,n,r,i,s){ST(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&wx(e,n,!1),Hr(t,e,s);r=e.stateNode,iO.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=Ko(e,t.child,null,s),e.child=Ko(e,null,a,s)):Ft(t,e,a,s),e.memoizedState=r.state,i&&wx(e,n,!0),e.child}function bT(t){var e=t.stateNode;e.pendingContext?_x(t,e.pendingContext,e.pendingContext!==e.context):e.context&&_x(t,e.context,!1),dv(t,e.containerInfo)}function Lx(t,e,n,r,i){return Go(),sv(i),e.flags|=256,Ft(t,e,n,r),e.child}var cg={dehydrated:null,treeContext:null,retryLane:0};function ug(t){return{baseLanes:t,cachePool:null,transitions:null}}function TT(t,e,n){var r=e.pendingProps,i=Le.current,s=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),be(Le,i&1),t===null)return ng(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,s?(r=e.mode,s=e.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=Gh(o,r,0,null),t=Es(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=ug(n),e.memoizedState=cg,t):_v(e,o));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return sO(t,e,o,r,a,i,n);if(s){s=r.fallback,o=e.mode,i=t.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=Pi(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=Pi(a,s):(s=Es(s,o,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,o=t.child.memoizedState,o=o===null?ug(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~n,e.memoizedState=cg,r}return s=t.child,t=s.sibling,r=Pi(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function _v(t,e){return e=Gh({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Nu(t,e,n,r){return r!==null&&sv(r),Ko(e,t.child,null,n),t=_v(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function sO(t,e,n,r,i,s,o){if(n)return e.flags&256?(e.flags&=-257,r=Op(Error(V(422))),Nu(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=Gh({mode:"visible",children:r.children},i,0,null),s=Es(s,i,o,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&Ko(e,t.child,null,o),e.child.memoizedState=ug(o),e.memoizedState=cg,s);if(!(e.mode&1))return Nu(t,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,s=Error(V(419)),r=Op(s,r,void 0),Nu(t,e,o,r)}if(a=(o&t.childLanes)!==0,tn||a){if(r=dt,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,Wr(t,i),Xn(r,t,i,-1))}return bv(),r=Op(Error(V(421))),Nu(t,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=vO.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,dn=bi(i.nextSibling),hn=e,De=!0,zn=null,t!==null&&(Sn[bn++]=Nr,Sn[bn++]=Dr,Sn[bn++]=ks,Nr=t.id,Dr=t.overflow,ks=e),e=_v(e,r.children),e.flags|=4096,e)}function jx(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),rg(t.return,e,n)}function Mp(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function kT(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(Ft(t,e,r.children,n),r=Le.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&jx(t,n,e);else if(t.tag===19)jx(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(be(Le,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&Wd(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),Mp(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&Wd(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}Mp(e,!0,n,null,s);break;case"together":Mp(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function ad(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Hr(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Ps|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(V(153));if(e.child!==null){for(t=e.child,n=Pi(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Pi(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function oO(t,e,n){switch(e.tag){case 3:bT(e),Go();break;case 5:Zb(e);break;case 1:on(e.type)&&Fd(e);break;case 4:dv(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;be(Ud,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(be(Le,Le.current&1),e.flags|=128,null):n&e.child.childLanes?TT(t,e,n):(be(Le,Le.current&1),t=Hr(t,e,n),t!==null?t.sibling:null);be(Le,Le.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return kT(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),be(Le,Le.current),r)break;return null;case 22:case 23:return e.lanes=0,CT(t,e,n)}return Hr(t,e,n)}var IT,dg,PT,RT;IT=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};dg=function(){};PT=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,ms(pr.current);var s=null;switch(n){case"input":i=Dm(t,i),r=Dm(t,r),s=[];break;case"select":i=Ve({},i,{value:void 0}),r=Ve({},r,{value:void 0}),s=[];break;case"textarea":i=Lm(t,i),r=Lm(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Ld)}Fm(n,r);var o;n=null;for(c in i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&i[c]!=null)if(c==="style"){var a=i[c];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(zl.hasOwnProperty(c)?s||(s=[]):(s=s||[]).push(c,null));for(c in r){var l=r[c];if(a=i!=null?i[c]:void 0,r.hasOwnProperty(c)&&l!==a&&(l!=null||a!=null))if(c==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(s||(s=[]),s.push(c,n)),n=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(zl.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&Pe("scroll",t),s||a===l||(s=[])):(s=s||[]).push(c,l))}n&&(s=s||[]).push("style",n);var c=s;(e.updateQueue=c)&&(e.flags|=4)}};RT=function(t,e,n,r){n!==r&&(e.flags|=4)};function qa(t,e){if(!De)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function kt(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function aO(t,e,n){var r=e.pendingProps;switch(iv(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return kt(e),null;case 1:return on(e.type)&&jd(),kt(e),null;case 3:return r=e.stateNode,qo(),Re(sn),Re(Mt),fv(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Ru(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,zn!==null&&(_g(zn),zn=null))),dg(t,e),kt(e),null;case 5:hv(e);var i=ms(tc.current);if(n=e.type,t!==null&&e.stateNode!=null)PT(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(V(166));return kt(e),null}if(t=ms(pr.current),Ru(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[dr]=e,r[Zl]=s,t=(e.mode&1)!==0,n){case"dialog":Pe("cancel",r),Pe("close",r);break;case"iframe":case"object":case"embed":Pe("load",r);break;case"video":case"audio":for(i=0;i<ul.length;i++)Pe(ul[i],r);break;case"source":Pe("error",r);break;case"img":case"image":case"link":Pe("error",r),Pe("load",r);break;case"details":Pe("toggle",r);break;case"input":Gw(r,s),Pe("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},Pe("invalid",r);break;case"textarea":qw(r,s),Pe("invalid",r)}Fm(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?r.textContent!==a&&(s.suppressHydrationWarning!==!0&&Pu(r.textContent,a,t),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&Pu(r.textContent,a,t),i=["children",""+a]):zl.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&Pe("scroll",r)}switch(n){case"input":xu(r),Kw(r,s,!0);break;case"textarea":xu(r),Yw(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=Ld)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=ib(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[dr]=e,t[Zl]=r,IT(t,e,!1,!1),e.stateNode=t;e:{switch(o=$m(n,r),n){case"dialog":Pe("cancel",t),Pe("close",t),i=r;break;case"iframe":case"object":case"embed":Pe("load",t),i=r;break;case"video":case"audio":for(i=0;i<ul.length;i++)Pe(ul[i],t);i=r;break;case"source":Pe("error",t),i=r;break;case"img":case"image":case"link":Pe("error",t),Pe("load",t),i=r;break;case"details":Pe("toggle",t),i=r;break;case"input":Gw(t,r),i=Dm(t,r),Pe("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=Ve({},r,{value:void 0}),Pe("invalid",t);break;case"textarea":qw(t,r),i=Lm(t,r),Pe("invalid",t);break;default:i=r}Fm(n,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?ab(t,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&sb(t,l)):s==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&Wl(t,l):typeof l=="number"&&Wl(t,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(zl.hasOwnProperty(s)?l!=null&&s==="onScroll"&&Pe("scroll",t):l!=null&&zy(t,s,l,o))}switch(n){case"input":xu(t),Kw(t,r,!1);break;case"textarea":xu(t),Yw(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Oi(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?Ro(t,!!r.multiple,s,!1):r.defaultValue!=null&&Ro(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=Ld)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return kt(e),null;case 6:if(t&&e.stateNode!=null)RT(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(V(166));if(n=ms(tc.current),ms(pr.current),Ru(e)){if(r=e.stateNode,n=e.memoizedProps,r[dr]=e,(s=r.nodeValue!==n)&&(t=hn,t!==null))switch(t.tag){case 3:Pu(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Pu(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[dr]=e,e.stateNode=r}return kt(e),null;case 13:if(Re(Le),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(De&&dn!==null&&e.mode&1&&!(e.flags&128))qb(),Go(),e.flags|=98560,s=!1;else if(s=Ru(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error(V(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(V(317));s[dr]=e}else Go(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;kt(e),s=!1}else zn!==null&&(_g(zn),zn=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||Le.current&1?rt===0&&(rt=3):bv())),e.updateQueue!==null&&(e.flags|=4),kt(e),null);case 4:return qo(),dg(t,e),t===null&&Jl(e.stateNode.containerInfo),kt(e),null;case 10:return lv(e.type._context),kt(e),null;case 17:return on(e.type)&&jd(),kt(e),null;case 19:if(Re(Le),s=e.memoizedState,s===null)return kt(e),null;if(r=(e.flags&128)!==0,o=s.rendering,o===null)if(r)qa(s,!1);else{if(rt!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=Wd(t),o!==null){for(e.flags|=128,qa(s,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return be(Le,Le.current&1|2),e.child}t=t.sibling}s.tail!==null&&Ye()>Xo&&(e.flags|=128,r=!0,qa(s,!1),e.lanes=4194304)}else{if(!r)if(t=Wd(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),qa(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!De)return kt(e),null}else 2*Ye()-s.renderingStartTime>Xo&&n!==1073741824&&(e.flags|=128,r=!0,qa(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(n=s.last,n!==null?n.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=Ye(),e.sibling=null,n=Le.current,be(Le,r?n&1|2:n&1),e):(kt(e),null);case 22:case 23:return Sv(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?cn&1073741824&&(kt(e),e.subtreeFlags&6&&(e.flags|=8192)):kt(e),null;case 24:return null;case 25:return null}throw Error(V(156,e.tag))}function lO(t,e){switch(iv(e),e.tag){case 1:return on(e.type)&&jd(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return qo(),Re(sn),Re(Mt),fv(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return hv(e),null;case 13:if(Re(Le),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(V(340));Go()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Re(Le),null;case 4:return qo(),null;case 10:return lv(e.type._context),null;case 22:case 23:return Sv(),null;case 24:return null;default:return null}}var Du=!1,Rt=!1,cO=typeof WeakSet=="function"?WeakSet:Set,H=null;function Eo(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){We(t,e,r)}else n.current=null}function hg(t,e,n){try{n()}catch(r){We(t,e,r)}}var Fx=!1;function uO(t,e){if(Ym=Dd,t=Mb(),nv(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,c=0,d=0,h=t,f=null;t:for(;;){for(var v;h!==n||i!==0&&h.nodeType!==3||(a=o+i),h!==s||r!==0&&h.nodeType!==3||(l=o+r),h.nodeType===3&&(o+=h.nodeValue.length),(v=h.firstChild)!==null;)f=h,h=v;for(;;){if(h===t)break t;if(f===n&&++c===i&&(a=o),f===s&&++d===r&&(l=o),(v=h.nextSibling)!==null)break;h=f,f=h.parentNode}h=v}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(Xm={focusedElem:t,selectionRange:n},Dd=!1,H=e;H!==null;)if(e=H,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,H=t;else for(;H!==null;){e=H;try{var w=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(w!==null){var S=w.memoizedProps,P=w.memoizedState,_=e.stateNode,E=_.getSnapshotBeforeUpdate(e.elementType===e.type?S:Un(e.type,S),P);_.__reactInternalSnapshotBeforeUpdate=E}break;case 3:var x=e.stateNode.containerInfo;x.nodeType===1?x.textContent="":x.nodeType===9&&x.documentElement&&x.removeChild(x.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(V(163))}}catch(A){We(e,e.return,A)}if(t=e.sibling,t!==null){t.return=e.return,H=t;break}H=e.return}return w=Fx,Fx=!1,w}function bl(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&hg(e,n,s)}i=i.next}while(i!==r)}}function Wh(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function fg(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function AT(t){var e=t.alternate;e!==null&&(t.alternate=null,AT(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[dr],delete e[Zl],delete e[Zm],delete e[GD],delete e[KD])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function NT(t){return t.tag===5||t.tag===3||t.tag===4}function $x(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||NT(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function pg(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Ld));else if(r!==4&&(t=t.child,t!==null))for(pg(t,e,n),t=t.sibling;t!==null;)pg(t,e,n),t=t.sibling}function mg(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(mg(t,e,n),t=t.sibling;t!==null;)mg(t,e,n),t=t.sibling}var gt=null,Bn=!1;function li(t,e,n){for(n=n.child;n!==null;)DT(t,e,n),n=n.sibling}function DT(t,e,n){if(fr&&typeof fr.onCommitFiberUnmount=="function")try{fr.onCommitFiberUnmount(Lh,n)}catch{}switch(n.tag){case 5:Rt||Eo(n,e);case 6:var r=gt,i=Bn;gt=null,li(t,e,n),gt=r,Bn=i,gt!==null&&(Bn?(t=gt,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):gt.removeChild(n.stateNode));break;case 18:gt!==null&&(Bn?(t=gt,n=n.stateNode,t.nodeType===8?Ip(t.parentNode,n):t.nodeType===1&&Ip(t,n),ql(t)):Ip(gt,n.stateNode));break;case 4:r=gt,i=Bn,gt=n.stateNode.containerInfo,Bn=!0,li(t,e,n),gt=r,Bn=i;break;case 0:case 11:case 14:case 15:if(!Rt&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&hg(n,e,o),i=i.next}while(i!==r)}li(t,e,n);break;case 1:if(!Rt&&(Eo(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){We(n,e,a)}li(t,e,n);break;case 21:li(t,e,n);break;case 22:n.mode&1?(Rt=(r=Rt)||n.memoizedState!==null,li(t,e,n),Rt=r):li(t,e,n);break;default:li(t,e,n)}}function Vx(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new cO),e.forEach(function(r){var i=_O.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function $n(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:gt=a.stateNode,Bn=!1;break e;case 3:gt=a.stateNode.containerInfo,Bn=!0;break e;case 4:gt=a.stateNode.containerInfo,Bn=!0;break e}a=a.return}if(gt===null)throw Error(V(160));DT(s,o,i),gt=null,Bn=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(c){We(i,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)OT(e,t),e=e.sibling}function OT(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if($n(e,t),sr(t),r&4){try{bl(3,t,t.return),Wh(3,t)}catch(S){We(t,t.return,S)}try{bl(5,t,t.return)}catch(S){We(t,t.return,S)}}break;case 1:$n(e,t),sr(t),r&512&&n!==null&&Eo(n,n.return);break;case 5:if($n(e,t),sr(t),r&512&&n!==null&&Eo(n,n.return),t.flags&32){var i=t.stateNode;try{Wl(i,"")}catch(S){We(t,t.return,S)}}if(r&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,o=n!==null?n.memoizedProps:s,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&nb(i,s),$m(a,o);var c=$m(a,s);for(o=0;o<l.length;o+=2){var d=l[o],h=l[o+1];d==="style"?ab(i,h):d==="dangerouslySetInnerHTML"?sb(i,h):d==="children"?Wl(i,h):zy(i,d,h,c)}switch(a){case"input":Om(i,s);break;case"textarea":rb(i,s);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var v=s.value;v!=null?Ro(i,!!s.multiple,v,!1):f!==!!s.multiple&&(s.defaultValue!=null?Ro(i,!!s.multiple,s.defaultValue,!0):Ro(i,!!s.multiple,s.multiple?[]:"",!1))}i[Zl]=s}catch(S){We(t,t.return,S)}}break;case 6:if($n(e,t),sr(t),r&4){if(t.stateNode===null)throw Error(V(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(S){We(t,t.return,S)}}break;case 3:if($n(e,t),sr(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{ql(e.containerInfo)}catch(S){We(t,t.return,S)}break;case 4:$n(e,t),sr(t);break;case 13:$n(e,t),sr(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(Ev=Ye())),r&4&&Vx(t);break;case 22:if(d=n!==null&&n.memoizedState!==null,t.mode&1?(Rt=(c=Rt)||d,$n(e,t),Rt=c):$n(e,t),sr(t),r&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!d&&t.mode&1)for(H=t,d=t.child;d!==null;){for(h=H=d;H!==null;){switch(f=H,v=f.child,f.tag){case 0:case 11:case 14:case 15:bl(4,f,f.return);break;case 1:Eo(f,f.return);var w=f.stateNode;if(typeof w.componentWillUnmount=="function"){r=f,n=f.return;try{e=r,w.props=e.memoizedProps,w.state=e.memoizedState,w.componentWillUnmount()}catch(S){We(r,n,S)}}break;case 5:Eo(f,f.return);break;case 22:if(f.memoizedState!==null){Bx(h);continue}}v!==null?(v.return=f,H=v):Bx(h)}d=d.sibling}e:for(d=null,h=t;;){if(h.tag===5){if(d===null){d=h;try{i=h.stateNode,c?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=h.stateNode,l=h.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=ob("display",o))}catch(S){We(t,t.return,S)}}}else if(h.tag===6){if(d===null)try{h.stateNode.nodeValue=c?"":h.memoizedProps}catch(S){We(t,t.return,S)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===t)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===t)break e;for(;h.sibling===null;){if(h.return===null||h.return===t)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:$n(e,t),sr(t),r&4&&Vx(t);break;case 21:break;default:$n(e,t),sr(t)}}function sr(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(NT(n)){var r=n;break e}n=n.return}throw Error(V(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Wl(i,""),r.flags&=-33);var s=$x(t);mg(t,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,a=$x(t);pg(t,a,o);break;default:throw Error(V(161))}}catch(l){We(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function dO(t,e,n){H=t,MT(t)}function MT(t,e,n){for(var r=(t.mode&1)!==0;H!==null;){var i=H,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||Du;if(!o){var a=i.alternate,l=a!==null&&a.memoizedState!==null||Rt;a=Du;var c=Rt;if(Du=o,(Rt=l)&&!c)for(H=i;H!==null;)o=H,l=o.child,o.tag===22&&o.memoizedState!==null?zx(i):l!==null?(l.return=o,H=l):zx(i);for(;s!==null;)H=s,MT(s),s=s.sibling;H=i,Du=a,Rt=c}Ux(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,H=s):Ux(t)}}function Ux(t){for(;H!==null;){var e=H;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Rt||Wh(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Rt)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:Un(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&bx(e,s,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}bx(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var d=c.memoizedState;if(d!==null){var h=d.dehydrated;h!==null&&ql(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(V(163))}Rt||e.flags&512&&fg(e)}catch(f){We(e,e.return,f)}}if(e===t){H=null;break}if(n=e.sibling,n!==null){n.return=e.return,H=n;break}H=e.return}}function Bx(t){for(;H!==null;){var e=H;if(e===t){H=null;break}var n=e.sibling;if(n!==null){n.return=e.return,H=n;break}H=e.return}}function zx(t){for(;H!==null;){var e=H;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Wh(4,e)}catch(l){We(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){We(e,i,l)}}var s=e.return;try{fg(e)}catch(l){We(e,s,l)}break;case 5:var o=e.return;try{fg(e)}catch(l){We(e,o,l)}}}catch(l){We(e,e.return,l)}if(e===t){H=null;break}var a=e.sibling;if(a!==null){a.return=e.return,H=a;break}H=e.return}}var hO=Math.ceil,Kd=Zr.ReactCurrentDispatcher,wv=Zr.ReactCurrentOwner,Pn=Zr.ReactCurrentBatchConfig,ue=0,dt=null,Ze=null,wt=0,cn=0,Co=Wi(0),rt=0,sc=null,Ps=0,Hh=0,xv=0,Tl=null,Qt=null,Ev=0,Xo=1/0,kr=null,qd=!1,gg=null,ki=null,Ou=!1,wi=null,Yd=0,kl=0,yg=null,ld=-1,cd=0;function zt(){return ue&6?Ye():ld!==-1?ld:ld=Ye()}function Ii(t){return t.mode&1?ue&2&&wt!==0?wt&-wt:YD.transition!==null?(cd===0&&(cd=_b()),cd):(t=ge,t!==0||(t=window.event,t=t===void 0?16:Tb(t.type)),t):1}function Xn(t,e,n,r){if(50<kl)throw kl=0,yg=null,Error(V(185));Nc(t,n,r),(!(ue&2)||t!==dt)&&(t===dt&&(!(ue&2)&&(Hh|=n),rt===4&&pi(t,wt)),an(t,r),n===1&&ue===0&&!(e.mode&1)&&(Xo=Ye()+500,Uh&&Hi()))}function an(t,e){var n=t.callbackNode;Y2(t,e);var r=Nd(t,t===dt?wt:0);if(r===0)n!==null&&Qw(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&Qw(n),e===1)t.tag===0?qD(Wx.bind(null,t)):Hb(Wx.bind(null,t)),WD(function(){!(ue&6)&&Hi()}),n=null;else{switch(wb(r)){case 1:n=qy;break;case 4:n=yb;break;case 16:n=Ad;break;case 536870912:n=vb;break;default:n=Ad}n=zT(n,LT.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function LT(t,e){if(ld=-1,cd=0,ue&6)throw Error(V(327));var n=t.callbackNode;if(Mo()&&t.callbackNode!==n)return null;var r=Nd(t,t===dt?wt:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Xd(t,r);else{e=r;var i=ue;ue|=2;var s=FT();(dt!==t||wt!==e)&&(kr=null,Xo=Ye()+500,xs(t,e));do try{mO();break}catch(a){jT(t,a)}while(1);av(),Kd.current=s,ue=i,Ze!==null?e=0:(dt=null,wt=0,e=rt)}if(e!==0){if(e===2&&(i=Wm(t),i!==0&&(r=i,e=vg(t,i))),e===1)throw n=sc,xs(t,0),pi(t,r),an(t,Ye()),n;if(e===6)pi(t,r);else{if(i=t.current.alternate,!(r&30)&&!fO(i)&&(e=Xd(t,r),e===2&&(s=Wm(t),s!==0&&(r=s,e=vg(t,s))),e===1))throw n=sc,xs(t,0),pi(t,r),an(t,Ye()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(V(345));case 2:os(t,Qt,kr);break;case 3:if(pi(t,r),(r&130023424)===r&&(e=Ev+500-Ye(),10<e)){if(Nd(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){zt(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=Qm(os.bind(null,t,Qt,kr),e);break}os(t,Qt,kr);break;case 4:if(pi(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var o=31-Yn(r);s=1<<o,o=e[o],o>i&&(i=o),r&=~s}if(r=i,r=Ye()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*hO(r/1960))-r,10<r){t.timeoutHandle=Qm(os.bind(null,t,Qt,kr),r);break}os(t,Qt,kr);break;case 5:os(t,Qt,kr);break;default:throw Error(V(329))}}}return an(t,Ye()),t.callbackNode===n?LT.bind(null,t):null}function vg(t,e){var n=Tl;return t.current.memoizedState.isDehydrated&&(xs(t,e).flags|=256),t=Xd(t,e),t!==2&&(e=Qt,Qt=n,e!==null&&_g(e)),t}function _g(t){Qt===null?Qt=t:Qt.push.apply(Qt,t)}function fO(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!Zn(s(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function pi(t,e){for(e&=~xv,e&=~Hh,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Yn(e),r=1<<n;t[n]=-1,e&=~r}}function Wx(t){if(ue&6)throw Error(V(327));Mo();var e=Nd(t,0);if(!(e&1))return an(t,Ye()),null;var n=Xd(t,e);if(t.tag!==0&&n===2){var r=Wm(t);r!==0&&(e=r,n=vg(t,r))}if(n===1)throw n=sc,xs(t,0),pi(t,e),an(t,Ye()),n;if(n===6)throw Error(V(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,os(t,Qt,kr),an(t,Ye()),null}function Cv(t,e){var n=ue;ue|=1;try{return t(e)}finally{ue=n,ue===0&&(Xo=Ye()+500,Uh&&Hi())}}function Rs(t){wi!==null&&wi.tag===0&&!(ue&6)&&Mo();var e=ue;ue|=1;var n=Pn.transition,r=ge;try{if(Pn.transition=null,ge=1,t)return t()}finally{ge=r,Pn.transition=n,ue=e,!(ue&6)&&Hi()}}function Sv(){cn=Co.current,Re(Co)}function xs(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,zD(n)),Ze!==null)for(n=Ze.return;n!==null;){var r=n;switch(iv(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&jd();break;case 3:qo(),Re(sn),Re(Mt),fv();break;case 5:hv(r);break;case 4:qo();break;case 13:Re(Le);break;case 19:Re(Le);break;case 10:lv(r.type._context);break;case 22:case 23:Sv()}n=n.return}if(dt=t,Ze=t=Pi(t.current,null),wt=cn=e,rt=0,sc=null,xv=Hh=Ps=0,Qt=Tl=null,ps!==null){for(e=0;e<ps.length;e++)if(n=ps[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}ps=null}return t}function jT(t,e){do{var n=Ze;try{if(av(),sd.current=Gd,Hd){for(var r=Fe.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Hd=!1}if(Is=0,ct=et=Fe=null,Sl=!1,nc=0,wv.current=null,n===null||n.return===null){rt=1,sc=e,Ze=null;break}e:{var s=t,o=n.return,a=n,l=e;if(e=wt,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,d=a,h=d.tag;if(!(d.mode&1)&&(h===0||h===11||h===15)){var f=d.alternate;f?(d.updateQueue=f.updateQueue,d.memoizedState=f.memoizedState,d.lanes=f.lanes):(d.updateQueue=null,d.memoizedState=null)}var v=Ax(o);if(v!==null){v.flags&=-257,Nx(v,o,a,s,e),v.mode&1&&Rx(s,c,e),e=v,l=c;var w=e.updateQueue;if(w===null){var S=new Set;S.add(l),e.updateQueue=S}else w.add(l);break e}else{if(!(e&1)){Rx(s,c,e),bv();break e}l=Error(V(426))}}else if(De&&a.mode&1){var P=Ax(o);if(P!==null){!(P.flags&65536)&&(P.flags|=256),Nx(P,o,a,s,e),sv(Yo(l,a));break e}}s=l=Yo(l,a),rt!==4&&(rt=2),Tl===null?Tl=[s]:Tl.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var _=wT(s,l,e);Sx(s,_);break e;case 1:a=l;var E=s.type,x=s.stateNode;if(!(s.flags&128)&&(typeof E.getDerivedStateFromError=="function"||x!==null&&typeof x.componentDidCatch=="function"&&(ki===null||!ki.has(x)))){s.flags|=65536,e&=-e,s.lanes|=e;var A=xT(s,a,e);Sx(s,A);break e}}s=s.return}while(s!==null)}VT(n)}catch(D){e=D,Ze===n&&n!==null&&(Ze=n=n.return);continue}break}while(1)}function FT(){var t=Kd.current;return Kd.current=Gd,t===null?Gd:t}function bv(){(rt===0||rt===3||rt===2)&&(rt=4),dt===null||!(Ps&268435455)&&!(Hh&268435455)||pi(dt,wt)}function Xd(t,e){var n=ue;ue|=2;var r=FT();(dt!==t||wt!==e)&&(kr=null,xs(t,e));do try{pO();break}catch(i){jT(t,i)}while(1);if(av(),ue=n,Kd.current=r,Ze!==null)throw Error(V(261));return dt=null,wt=0,rt}function pO(){for(;Ze!==null;)$T(Ze)}function mO(){for(;Ze!==null&&!V2();)$T(Ze)}function $T(t){var e=BT(t.alternate,t,cn);t.memoizedProps=t.pendingProps,e===null?VT(t):Ze=e,wv.current=null}function VT(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=lO(n,e),n!==null){n.flags&=32767,Ze=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{rt=6,Ze=null;return}}else if(n=aO(n,e,cn),n!==null){Ze=n;return}if(e=e.sibling,e!==null){Ze=e;return}Ze=e=t}while(e!==null);rt===0&&(rt=5)}function os(t,e,n){var r=ge,i=Pn.transition;try{Pn.transition=null,ge=1,gO(t,e,n,r)}finally{Pn.transition=i,ge=r}return null}function gO(t,e,n,r){do Mo();while(wi!==null);if(ue&6)throw Error(V(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(V(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(X2(t,s),t===dt&&(Ze=dt=null,wt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Ou||(Ou=!0,zT(Ad,function(){return Mo(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=Pn.transition,Pn.transition=null;var o=ge;ge=1;var a=ue;ue|=4,wv.current=null,uO(t,n),OT(n,t),LD(Xm),Dd=!!Ym,Xm=Ym=null,t.current=n,dO(n),U2(),ue=a,ge=o,Pn.transition=s}else t.current=n;if(Ou&&(Ou=!1,wi=t,Yd=i),s=t.pendingLanes,s===0&&(ki=null),W2(n.stateNode),an(t,Ye()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(qd)throw qd=!1,t=gg,gg=null,t;return Yd&1&&t.tag!==0&&Mo(),s=t.pendingLanes,s&1?t===yg?kl++:(kl=0,yg=t):kl=0,Hi(),null}function Mo(){if(wi!==null){var t=wb(Yd),e=Pn.transition,n=ge;try{if(Pn.transition=null,ge=16>t?16:t,wi===null)var r=!1;else{if(t=wi,wi=null,Yd=0,ue&6)throw Error(V(331));var i=ue;for(ue|=4,H=t.current;H!==null;){var s=H,o=s.child;if(H.flags&16){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var c=a[l];for(H=c;H!==null;){var d=H;switch(d.tag){case 0:case 11:case 15:bl(8,d,s)}var h=d.child;if(h!==null)h.return=d,H=h;else for(;H!==null;){d=H;var f=d.sibling,v=d.return;if(AT(d),d===c){H=null;break}if(f!==null){f.return=v,H=f;break}H=v}}}var w=s.alternate;if(w!==null){var S=w.child;if(S!==null){w.child=null;do{var P=S.sibling;S.sibling=null,S=P}while(S!==null)}}H=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,H=o;else e:for(;H!==null;){if(s=H,s.flags&2048)switch(s.tag){case 0:case 11:case 15:bl(9,s,s.return)}var _=s.sibling;if(_!==null){_.return=s.return,H=_;break e}H=s.return}}var E=t.current;for(H=E;H!==null;){o=H;var x=o.child;if(o.subtreeFlags&2064&&x!==null)x.return=o,H=x;else e:for(o=E;H!==null;){if(a=H,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Wh(9,a)}}catch(D){We(a,a.return,D)}if(a===o){H=null;break e}var A=a.sibling;if(A!==null){A.return=a.return,H=A;break e}H=a.return}}if(ue=i,Hi(),fr&&typeof fr.onPostCommitFiberRoot=="function")try{fr.onPostCommitFiberRoot(Lh,t)}catch{}r=!0}return r}finally{ge=n,Pn.transition=e}}return!1}function Hx(t,e,n){e=Yo(n,e),e=wT(t,e,1),t=Ti(t,e,1),e=zt(),t!==null&&(Nc(t,1,e),an(t,e))}function We(t,e,n){if(t.tag===3)Hx(t,t,n);else for(;e!==null;){if(e.tag===3){Hx(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(ki===null||!ki.has(r))){t=Yo(n,t),t=xT(e,t,1),e=Ti(e,t,1),t=zt(),e!==null&&(Nc(e,1,t),an(e,t));break}}e=e.return}}function yO(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=zt(),t.pingedLanes|=t.suspendedLanes&n,dt===t&&(wt&n)===n&&(rt===4||rt===3&&(wt&130023424)===wt&&500>Ye()-Ev?xs(t,0):xv|=n),an(t,e)}function UT(t,e){e===0&&(t.mode&1?(e=Su,Su<<=1,!(Su&130023424)&&(Su=4194304)):e=1);var n=zt();t=Wr(t,e),t!==null&&(Nc(t,e,n),an(t,n))}function vO(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),UT(t,n)}function _O(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(V(314))}r!==null&&r.delete(e),UT(t,n)}var BT;BT=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||sn.current)tn=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return tn=!1,oO(t,e,n);tn=!!(t.flags&131072)}else tn=!1,De&&e.flags&1048576&&Gb(e,Vd,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;ad(t,e),t=e.pendingProps;var i=Ho(e,Mt.current);Oo(e,n),i=mv(null,e,r,t,i,n);var s=gv();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,on(r)?(s=!0,Fd(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,uv(e),i.updater=zh,e.stateNode=i,i._reactInternals=e,sg(e,r,t,n),e=lg(null,e,r,!0,s,n)):(e.tag=0,De&&s&&rv(e),Ft(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(ad(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=xO(r),t=Un(r,t),i){case 0:e=ag(null,e,r,t,n);break e;case 1:e=Mx(null,e,r,t,n);break e;case 11:e=Dx(null,e,r,t,n);break e;case 14:e=Ox(null,e,r,Un(r.type,t),n);break e}throw Error(V(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Un(r,i),ag(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Un(r,i),Mx(t,e,r,i,n);case 3:e:{if(bT(e),t===null)throw Error(V(387));r=e.pendingProps,s=e.memoizedState,i=s.element,Qb(t,e),zd(e,r,null,n);var o=e.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=Yo(Error(V(423)),e),e=Lx(t,e,r,n,i);break e}else if(r!==i){i=Yo(Error(V(424)),e),e=Lx(t,e,r,n,i);break e}else for(dn=bi(e.stateNode.containerInfo.firstChild),hn=e,De=!0,zn=null,n=Xb(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Go(),r===i){e=Hr(t,e,n);break e}Ft(t,e,r,n)}e=e.child}return e;case 5:return Zb(e),t===null&&ng(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,o=i.children,Jm(r,i)?o=null:s!==null&&Jm(r,s)&&(e.flags|=32),ST(t,e),Ft(t,e,o,n),e.child;case 6:return t===null&&ng(e),null;case 13:return TT(t,e,n);case 4:return dv(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Ko(e,null,r,n):Ft(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Un(r,i),Dx(t,e,r,i,n);case 7:return Ft(t,e,e.pendingProps,n),e.child;case 8:return Ft(t,e,e.pendingProps.children,n),e.child;case 12:return Ft(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,be(Ud,r._currentValue),r._currentValue=o,s!==null)if(Zn(s.value,o)){if(s.children===i.children&&!sn.current){e=Hr(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(s.tag===1){l=jr(-1,n&-n),l.tag=2;var c=s.updateQueue;if(c!==null){c=c.shared;var d=c.pending;d===null?l.next=l:(l.next=d.next,d.next=l),c.pending=l}}s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),rg(s.return,n,e),a.lanes|=n;break}l=l.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(V(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),rg(o,n,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}Ft(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,Oo(e,n),i=An(i),r=r(i),e.flags|=1,Ft(t,e,r,n),e.child;case 14:return r=e.type,i=Un(r,e.pendingProps),i=Un(r.type,i),Ox(t,e,r,i,n);case 15:return ET(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Un(r,i),ad(t,e),e.tag=1,on(r)?(t=!0,Fd(e)):t=!1,Oo(e,n),_T(e,r,i),sg(e,r,i,n),lg(null,e,r,!0,t,n);case 19:return kT(t,e,n);case 22:return CT(t,e,n)}throw Error(V(156,e.tag))};function zT(t,e){return gb(t,e)}function wO(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function kn(t,e,n,r){return new wO(t,e,n,r)}function Tv(t){return t=t.prototype,!(!t||!t.isReactComponent)}function xO(t){if(typeof t=="function")return Tv(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Hy)return 11;if(t===Gy)return 14}return 2}function Pi(t,e){var n=t.alternate;return n===null?(n=kn(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function ud(t,e,n,r,i,s){var o=2;if(r=t,typeof t=="function")Tv(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case fo:return Es(n.children,i,s,e);case Wy:o=8,i|=8;break;case Pm:return t=kn(12,n,e,i|2),t.elementType=Pm,t.lanes=s,t;case Rm:return t=kn(13,n,e,i),t.elementType=Rm,t.lanes=s,t;case Am:return t=kn(19,n,e,i),t.elementType=Am,t.lanes=s,t;case ZS:return Gh(n,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case JS:o=10;break e;case QS:o=9;break e;case Hy:o=11;break e;case Gy:o=14;break e;case di:o=16,r=null;break e}throw Error(V(130,t==null?t:typeof t,""))}return e=kn(o,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function Es(t,e,n,r){return t=kn(7,t,r,e),t.lanes=n,t}function Gh(t,e,n,r){return t=kn(22,t,r,e),t.elementType=ZS,t.lanes=n,t.stateNode={isHidden:!1},t}function Lp(t,e,n){return t=kn(6,t,null,e),t.lanes=n,t}function jp(t,e,n){return e=kn(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function EO(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=yp(0),this.expirationTimes=yp(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=yp(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function kv(t,e,n,r,i,s,o,a,l){return t=new EO(t,e,n,a,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=kn(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},uv(s),t}function CO(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ho,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function WT(t){if(!t)return Mi;t=t._reactInternals;e:{if(Bs(t)!==t||t.tag!==1)throw Error(V(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(on(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(V(171))}if(t.tag===1){var n=t.type;if(on(n))return Wb(t,n,e)}return e}function HT(t,e,n,r,i,s,o,a,l){return t=kv(n,r,!0,t,i,s,o,a,l),t.context=WT(null),n=t.current,r=zt(),i=Ii(n),s=jr(r,i),s.callback=e??null,Ti(n,s,i),t.current.lanes=i,Nc(t,i,r),an(t,r),t}function Kh(t,e,n,r){var i=e.current,s=zt(),o=Ii(i);return n=WT(n),e.context===null?e.context=n:e.pendingContext=n,e=jr(s,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Ti(i,e,o),t!==null&&(Xn(t,i,o,s),id(t,i,o)),o}function Jd(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Gx(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Iv(t,e){Gx(t,e),(t=t.alternate)&&Gx(t,e)}function SO(){return null}var GT=typeof reportError=="function"?reportError:function(t){console.error(t)};function Pv(t){this._internalRoot=t}qh.prototype.render=Pv.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(V(409));Kh(t,e,null,null)};qh.prototype.unmount=Pv.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Rs(function(){Kh(null,t,null,null)}),e[zr]=null}};function qh(t){this._internalRoot=t}qh.prototype.unstable_scheduleHydration=function(t){if(t){var e=Cb();t={blockedOn:null,target:t,priority:e};for(var n=0;n<fi.length&&e!==0&&e<fi[n].priority;n++);fi.splice(n,0,t),n===0&&bb(t)}};function Rv(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Yh(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Kx(){}function bO(t,e,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var c=Jd(o);s.call(c)}}var o=HT(e,r,t,0,null,!1,!1,"",Kx);return t._reactRootContainer=o,t[zr]=o.current,Jl(t.nodeType===8?t.parentNode:t),Rs(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var c=Jd(l);a.call(c)}}var l=kv(t,0,!1,null,null,!1,!1,"",Kx);return t._reactRootContainer=l,t[zr]=l.current,Jl(t.nodeType===8?t.parentNode:t),Rs(function(){Kh(e,l,n,r)}),l}function Xh(t,e,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var l=Jd(o);a.call(l)}}Kh(e,o,t,i)}else o=bO(n,e,t,i,r);return Jd(o)}xb=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=cl(e.pendingLanes);n!==0&&(Yy(e,n|1),an(e,Ye()),!(ue&6)&&(Xo=Ye()+500,Hi()))}break;case 13:Rs(function(){var r=Wr(t,1);if(r!==null){var i=zt();Xn(r,t,1,i)}}),Iv(t,1)}};Xy=function(t){if(t.tag===13){var e=Wr(t,134217728);if(e!==null){var n=zt();Xn(e,t,134217728,n)}Iv(t,134217728)}};Eb=function(t){if(t.tag===13){var e=Ii(t),n=Wr(t,e);if(n!==null){var r=zt();Xn(n,t,e,r)}Iv(t,e)}};Cb=function(){return ge};Sb=function(t,e){var n=ge;try{return ge=t,e()}finally{ge=n}};Um=function(t,e,n){switch(e){case"input":if(Om(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=Vh(r);if(!i)throw Error(V(90));tb(r),Om(r,i)}}}break;case"textarea":rb(t,n);break;case"select":e=n.value,e!=null&&Ro(t,!!n.multiple,e,!1)}};ub=Cv;db=Rs;var TO={usingClientEntryPoint:!1,Events:[Oc,yo,Vh,lb,cb,Cv]},Ya={findFiberByHostInstance:fs,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},kO={bundleType:Ya.bundleType,version:Ya.version,rendererPackageName:Ya.rendererPackageName,rendererConfig:Ya.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Zr.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=pb(t),t===null?null:t.stateNode},findFiberByHostInstance:Ya.findFiberByHostInstance||SO,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Mu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Mu.isDisabled&&Mu.supportsFiber)try{Lh=Mu.inject(kO),fr=Mu}catch{}}yn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=TO;yn.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Rv(e))throw Error(V(200));return CO(t,e,null,n)};yn.createRoot=function(t,e){if(!Rv(t))throw Error(V(299));var n=!1,r="",i=GT;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=kv(t,1,!1,null,null,n,!1,r,i),t[zr]=e.current,Jl(t.nodeType===8?t.parentNode:t),new Pv(e)};yn.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(V(188)):(t=Object.keys(t).join(","),Error(V(268,t)));return t=pb(e),t=t===null?null:t.stateNode,t};yn.flushSync=function(t){return Rs(t)};yn.hydrate=function(t,e,n){if(!Yh(e))throw Error(V(200));return Xh(null,t,e,!0,n)};yn.hydrateRoot=function(t,e,n){if(!Rv(t))throw Error(V(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=GT;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=HT(e,null,t,1,n??null,i,!1,s,o),t[zr]=e.current,Jl(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new qh(e)};yn.render=function(t,e,n){if(!Yh(e))throw Error(V(200));return Xh(null,t,e,!1,n)};yn.unmountComponentAtNode=function(t){if(!Yh(t))throw Error(V(40));return t._reactRootContainer?(Rs(function(){Xh(null,null,t,!1,function(){t._reactRootContainer=null,t[zr]=null})}),!0):!1};yn.unstable_batchedUpdates=Cv;yn.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Yh(n))throw Error(V(200));if(t==null||t._reactInternals===void 0)throw Error(V(38));return Xh(t,e,n,!1,r)};yn.version="18.3.1-next-f1338f8080-20240426";function KT(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(KT)}catch(t){console.error(t)}}KT(),KS.exports=yn;var Av=KS.exports;const Lu=Ly(Av);var qx=Av;km.createRoot=qx.createRoot,km.hydrateRoot=qx.hydrateRoot;const IO="modulepreload",PO=function(t){return"/EmproChampions-2025/"+t},Yx={},RO=function(e,n,r){if(!n||n.length===0)return e();const i=document.getElementsByTagName("link");return Promise.all(n.map(s=>{if(s=PO(s),s in Yx)return;Yx[s]=!0;const o=s.endsWith(".css"),a=o?'[rel="stylesheet"]':"";if(!!r)for(let d=i.length-1;d>=0;d--){const h=i[d];if(h.href===s&&(!o||h.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${s}"]${a}`))return;const c=document.createElement("link");if(c.rel=o?"stylesheet":IO,o||(c.as="script",c.crossOrigin=""),c.href=s,document.head.appendChild(c),o)return new Promise((d,h)=>{c.addEventListener("load",d),c.addEventListener("error",()=>h(new Error(`Unable to preload CSS for ${s}`)))})})).then(()=>e()).catch(s=>{const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=s,window.dispatchEvent(o),!o.defaultPrevented)throw s})};var Nv={};Object.defineProperty(Nv,"__esModule",{value:!0});Nv.parse=jO;Nv.serialize=FO;const AO=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,NO=/^[\u0021-\u003A\u003C-\u007E]*$/,DO=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,OO=/^[\u0020-\u003A\u003D-\u007E]*$/,MO=Object.prototype.toString,LO=(()=>{const t=function(){};return t.prototype=Object.create(null),t})();function jO(t,e){const n=new LO,r=t.length;if(r<2)return n;const i=(e==null?void 0:e.decode)||$O;let s=0;do{const o=t.indexOf("=",s);if(o===-1)break;const a=t.indexOf(";",s),l=a===-1?r:a;if(o>l){s=t.lastIndexOf(";",o-1)+1;continue}const c=Xx(t,s,o),d=Jx(t,o,c),h=t.slice(c,d);if(n[h]===void 0){let f=Xx(t,o+1,l),v=Jx(t,l,f);const w=i(t.slice(f,v));n[h]=w}s=l+1}while(s<r);return n}function Xx(t,e,n){do{const r=t.charCodeAt(e);if(r!==32&&r!==9)return e}while(++e<n);return n}function Jx(t,e,n){for(;e>n;){const r=t.charCodeAt(--e);if(r!==32&&r!==9)return e+1}return n}function FO(t,e,n){const r=(n==null?void 0:n.encode)||encodeURIComponent;if(!AO.test(t))throw new TypeError(`argument name is invalid: ${t}`);const i=r(e);if(!NO.test(i))throw new TypeError(`argument val is invalid: ${e}`);let s=t+"="+i;if(!n)return s;if(n.maxAge!==void 0){if(!Number.isInteger(n.maxAge))throw new TypeError(`option maxAge is invalid: ${n.maxAge}`);s+="; Max-Age="+n.maxAge}if(n.domain){if(!DO.test(n.domain))throw new TypeError(`option domain is invalid: ${n.domain}`);s+="; Domain="+n.domain}if(n.path){if(!OO.test(n.path))throw new TypeError(`option path is invalid: ${n.path}`);s+="; Path="+n.path}if(n.expires){if(!VO(n.expires)||!Number.isFinite(n.expires.valueOf()))throw new TypeError(`option expires is invalid: ${n.expires}`);s+="; Expires="+n.expires.toUTCString()}if(n.httpOnly&&(s+="; HttpOnly"),n.secure&&(s+="; Secure"),n.partitioned&&(s+="; Partitioned"),n.priority)switch(typeof n.priority=="string"?n.priority.toLowerCase():void 0){case"low":s+="; Priority=Low";break;case"medium":s+="; Priority=Medium";break;case"high":s+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${n.priority}`)}if(n.sameSite)switch(typeof n.sameSite=="string"?n.sameSite.toLowerCase():n.sameSite){case!0:case"strict":s+="; SameSite=Strict";break;case"lax":s+="; SameSite=Lax";break;case"none":s+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${n.sameSite}`)}return s}function $O(t){if(t.indexOf("%")===-1)return t;try{return decodeURIComponent(t)}catch{return t}}function VO(t){return MO.call(t)==="[object Date]"}var Qx="popstate";function UO(t={}){function e(r,i){let{pathname:s,search:o,hash:a}=r.location;return wg("",{pathname:s,search:o,hash:a},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:oc(i)}return zO(e,n,null,t)}function Oe(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function er(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function BO(){return Math.random().toString(36).substring(2,10)}function Zx(t,e){return{usr:t.state,key:t.key,idx:e}}function wg(t,e,n=null,r){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?ga(e):e,state:n,key:e&&e.key||r||BO()}}function oc({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function ga(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substring(r),t=t.substring(0,r)),t&&(e.pathname=t)}return e}function zO(t,e,n,r={}){let{window:i=document.defaultView,v5Compat:s=!1}=r,o=i.history,a="POP",l=null,c=d();c==null&&(c=0,o.replaceState({...o.state,idx:c},""));function d(){return(o.state||{idx:null}).idx}function h(){a="POP";let P=d(),_=P==null?null:P-c;c=P,l&&l({action:a,location:S.location,delta:_})}function f(P,_){a="PUSH";let E=wg(S.location,P,_);n&&n(E,P),c=d()+1;let x=Zx(E,c),A=S.createHref(E);try{o.pushState(x,"",A)}catch(D){if(D instanceof DOMException&&D.name==="DataCloneError")throw D;i.location.assign(A)}s&&l&&l({action:a,location:S.location,delta:1})}function v(P,_){a="REPLACE";let E=wg(S.location,P,_);n&&n(E,P),c=d();let x=Zx(E,c),A=S.createHref(E);o.replaceState(x,"",A),s&&l&&l({action:a,location:S.location,delta:0})}function w(P){return WO(P)}let S={get action(){return a},get location(){return t(i,o)},listen(P){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(Qx,h),l=P,()=>{i.removeEventListener(Qx,h),l=null}},createHref(P){return e(i,P)},createURL:w,encodeLocation(P){let _=w(P);return{pathname:_.pathname,search:_.search,hash:_.hash}},push:f,replace:v,go(P){return o.go(P)}};return S}function WO(t,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),Oe(n,"No window.location.(origin|href) available to create URL");let r=typeof t=="string"?t:oc(t);return r=r.replace(/ $/,"%20"),!e&&r.startsWith("//")&&(r=n+r),new URL(r,n)}function qT(t,e,n="/"){return HO(t,e,n,!1)}function HO(t,e,n,r){let i=typeof e=="string"?ga(e):e,s=Gr(i.pathname||"/",n);if(s==null)return null;let o=YT(t);GO(o);let a=null;for(let l=0;a==null&&l<o.length;++l){let c=rM(s);a=tM(o[l],c,r)}return a}function YT(t,e=[],n=[],r=""){let i=(s,o,a)=>{let l={relativePath:a===void 0?s.path||"":a,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};l.relativePath.startsWith("/")&&(Oe(l.relativePath.startsWith(r),`Absolute route path "${l.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),l.relativePath=l.relativePath.slice(r.length));let c=Fr([r,l.relativePath]),d=n.concat(l);s.children&&s.children.length>0&&(Oe(s.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${c}".`),YT(s.children,e,d,c)),!(s.path==null&&!s.index)&&e.push({path:c,score:ZO(c,s.index),routesMeta:d})};return t.forEach((s,o)=>{var a;if(s.path===""||!((a=s.path)!=null&&a.includes("?")))i(s,o);else for(let l of XT(s.path))i(s,o,l)}),e}function XT(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let o=XT(r.join("/")),a=[];return a.push(...o.map(l=>l===""?s:[s,l].join("/"))),i&&a.push(...o),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function GO(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:eM(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var KO=/^:[\w-]+$/,qO=3,YO=2,XO=1,JO=10,QO=-2,e1=t=>t==="*";function ZO(t,e){let n=t.split("/"),r=n.length;return n.some(e1)&&(r+=QO),e&&(r+=YO),n.filter(i=>!e1(i)).reduce((i,s)=>i+(KO.test(s)?qO:s===""?XO:JO),r)}function eM(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function tM(t,e,n=!1){let{routesMeta:r}=t,i={},s="/",o=[];for(let a=0;a<r.length;++a){let l=r[a],c=a===r.length-1,d=s==="/"?e:e.slice(s.length)||"/",h=Qd({path:l.relativePath,caseSensitive:l.caseSensitive,end:c},d),f=l.route;if(!h&&c&&n&&!r[r.length-1].route.index&&(h=Qd({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},d)),!h)return null;Object.assign(i,h.params),o.push({params:i,pathname:Fr([s,h.pathname]),pathnameBase:aM(Fr([s,h.pathnameBase])),route:f}),h.pathnameBase!=="/"&&(s=Fr([s,h.pathnameBase]))}return o}function Qd(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=nM(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((c,{paramName:d,isOptional:h},f)=>{if(d==="*"){let w=a[f]||"";o=s.slice(0,s.length-w.length).replace(/(.)\/+$/,"$1")}const v=a[f];return h&&!v?c[d]=void 0:c[d]=(v||"").replace(/%2F/g,"/"),c},{}),pathname:s,pathnameBase:o,pattern:t}}function nM(t,e=!1,n=!0){er(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,l)=>(r.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function rM(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return er(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function Gr(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function iM(t,e="/"){let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?ga(t):t;return{pathname:n?n.startsWith("/")?n:sM(n,e):e,search:lM(r),hash:cM(i)}}function sM(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function Fp(t,e,n,r){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function oM(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Dv(t){let e=oM(t);return e.map((n,r)=>r===e.length-1?n.pathname:n.pathnameBase)}function Ov(t,e,n,r=!1){let i;typeof t=="string"?i=ga(t):(i={...t},Oe(!i.pathname||!i.pathname.includes("?"),Fp("?","pathname","search",i)),Oe(!i.pathname||!i.pathname.includes("#"),Fp("#","pathname","hash",i)),Oe(!i.search||!i.search.includes("#"),Fp("#","search","hash",i)));let s=t===""||i.pathname==="",o=s?"/":i.pathname,a;if(o==null)a=n;else{let h=e.length-1;if(!r&&o.startsWith("..")){let f=o.split("/");for(;f[0]==="..";)f.shift(),h-=1;i.pathname=f.join("/")}a=h>=0?e[h]:"/"}let l=iM(i,a),c=o&&o!=="/"&&o.endsWith("/"),d=(s||o===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(c||d)&&(l.pathname+="/"),l}var Fr=t=>t.join("/").replace(/\/\/+/g,"/"),aM=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),lM=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,cM=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function uM(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}var JT=["POST","PUT","PATCH","DELETE"];new Set(JT);var dM=["GET",...JT];new Set(dM);var ya=k.createContext(null);ya.displayName="DataRouter";var Jh=k.createContext(null);Jh.displayName="DataRouterState";var QT=k.createContext({isTransitioning:!1});QT.displayName="ViewTransition";var hM=k.createContext(new Map);hM.displayName="Fetchers";var fM=k.createContext(null);fM.displayName="Await";var tr=k.createContext(null);tr.displayName="Navigation";var Lc=k.createContext(null);Lc.displayName="Location";var nr=k.createContext({outlet:null,matches:[],isDataRoute:!1});nr.displayName="Route";var Mv=k.createContext(null);Mv.displayName="RouteError";function pM(t,{relative:e}={}){Oe(va(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=k.useContext(tr),{hash:i,pathname:s,search:o}=jc(t,{relative:e}),a=s;return n!=="/"&&(a=s==="/"?n:Fr([n,s])),r.createHref({pathname:a,search:o,hash:i})}function va(){return k.useContext(Lc)!=null}function ei(){return Oe(va(),"useLocation() may be used only in the context of a <Router> component."),k.useContext(Lc).location}var ZT="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function ek(t){k.useContext(tr).static||k.useLayoutEffect(t)}function Gi(){let{isDataRoute:t}=k.useContext(nr);return t?IM():mM()}function mM(){Oe(va(),"useNavigate() may be used only in the context of a <Router> component.");let t=k.useContext(ya),{basename:e,navigator:n}=k.useContext(tr),{matches:r}=k.useContext(nr),{pathname:i}=ei(),s=JSON.stringify(Dv(r)),o=k.useRef(!1);return ek(()=>{o.current=!0}),k.useCallback((l,c={})=>{if(er(o.current,ZT),!o.current)return;if(typeof l=="number"){n.go(l);return}let d=Ov(l,JSON.parse(s),i,c.relative==="path");t==null&&e!=="/"&&(d.pathname=d.pathname==="/"?e:Fr([e,d.pathname])),(c.replace?n.replace:n.push)(d,c.state,c)},[e,n,s,i,t])}k.createContext(null);function gM(){let{matches:t}=k.useContext(nr),e=t[t.length-1];return e?e.params:{}}function jc(t,{relative:e}={}){let{matches:n}=k.useContext(nr),{pathname:r}=ei(),i=JSON.stringify(Dv(n));return k.useMemo(()=>Ov(t,JSON.parse(i),r,e==="path"),[t,i,r,e])}function yM(t,e){return tk(t,e)}function tk(t,e,n,r){var E;Oe(va(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:i,static:s}=k.useContext(tr),{matches:o}=k.useContext(nr),a=o[o.length-1],l=a?a.params:{},c=a?a.pathname:"/",d=a?a.pathnameBase:"/",h=a&&a.route;{let x=h&&h.path||"";nk(c,!h||x.endsWith("*")||x.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${c}" (under <Route path="${x}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${x}"> to <Route path="${x==="/"?"*":`${x}/*`}">.`)}let f=ei(),v;if(e){let x=typeof e=="string"?ga(e):e;Oe(d==="/"||((E=x.pathname)==null?void 0:E.startsWith(d)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${d}" but pathname "${x.pathname}" was given in the \`location\` prop.`),v=x}else v=f;let w=v.pathname||"/",S=w;if(d!=="/"){let x=d.replace(/^\//,"").split("/");S="/"+w.replace(/^\//,"").split("/").slice(x.length).join("/")}let P=!s&&n&&n.matches&&n.matches.length>0?n.matches:qT(t,{pathname:S});er(h||P!=null,`No routes matched location "${v.pathname}${v.search}${v.hash}" `),er(P==null||P[P.length-1].route.element!==void 0||P[P.length-1].route.Component!==void 0||P[P.length-1].route.lazy!==void 0,`Matched leaf route at location "${v.pathname}${v.search}${v.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let _=EM(P&&P.map(x=>Object.assign({},x,{params:Object.assign({},l,x.params),pathname:Fr([d,i.encodeLocation?i.encodeLocation(x.pathname).pathname:x.pathname]),pathnameBase:x.pathnameBase==="/"?d:Fr([d,i.encodeLocation?i.encodeLocation(x.pathnameBase).pathname:x.pathnameBase])})),o,n,r);return e&&_?k.createElement(Lc.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...v},navigationType:"POP"}},_):_}function vM(){let t=kM(),e=uM(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,r="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:r},s={padding:"2px 4px",backgroundColor:r},o=null;return console.error("Error handled by React Router default ErrorBoundary:",t),o=k.createElement(k.Fragment,null,k.createElement("p",null," Hey developer "),k.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",k.createElement("code",{style:s},"ErrorBoundary")," or"," ",k.createElement("code",{style:s},"errorElement")," prop on your route.")),k.createElement(k.Fragment,null,k.createElement("h2",null,"Unexpected Application Error!"),k.createElement("h3",{style:{fontStyle:"italic"}},e),n?k.createElement("pre",{style:i},n):null,o)}var _M=k.createElement(vM,null),wM=class extends k.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){console.error("React Router caught the following error during render",t,e)}render(){return this.state.error!==void 0?k.createElement(nr.Provider,{value:this.props.routeContext},k.createElement(Mv.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function xM({routeContext:t,match:e,children:n}){let r=k.useContext(ya);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),k.createElement(nr.Provider,{value:t},n)}function EM(t,e=[],n=null,r=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let i=t,s=n==null?void 0:n.errors;if(s!=null){let l=i.findIndex(c=>c.route.id&&(s==null?void 0:s[c.route.id])!==void 0);Oe(l>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(s).join(",")}`),i=i.slice(0,Math.min(i.length,l+1))}let o=!1,a=-1;if(n)for(let l=0;l<i.length;l++){let c=i[l];if((c.route.HydrateFallback||c.route.hydrateFallbackElement)&&(a=l),c.route.id){let{loaderData:d,errors:h}=n,f=c.route.loader&&!d.hasOwnProperty(c.route.id)&&(!h||h[c.route.id]===void 0);if(c.route.lazy||f){o=!0,a>=0?i=i.slice(0,a+1):i=[i[0]];break}}}return i.reduceRight((l,c,d)=>{let h,f=!1,v=null,w=null;n&&(h=s&&c.route.id?s[c.route.id]:void 0,v=c.route.errorElement||_M,o&&(a<0&&d===0?(nk("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),f=!0,w=null):a===d&&(f=!0,w=c.route.hydrateFallbackElement||null)));let S=e.concat(i.slice(0,d+1)),P=()=>{let _;return h?_=v:f?_=w:c.route.Component?_=k.createElement(c.route.Component,null):c.route.element?_=c.route.element:_=l,k.createElement(xM,{match:c,routeContext:{outlet:l,matches:S,isDataRoute:n!=null},children:_})};return n&&(c.route.ErrorBoundary||c.route.errorElement||d===0)?k.createElement(wM,{location:n.location,revalidation:n.revalidation,component:v,error:h,children:P(),routeContext:{outlet:null,matches:S,isDataRoute:!0}}):P()},null)}function Lv(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function CM(t){let e=k.useContext(ya);return Oe(e,Lv(t)),e}function SM(t){let e=k.useContext(Jh);return Oe(e,Lv(t)),e}function bM(t){let e=k.useContext(nr);return Oe(e,Lv(t)),e}function jv(t){let e=bM(t),n=e.matches[e.matches.length-1];return Oe(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function TM(){return jv("useRouteId")}function kM(){var r;let t=k.useContext(Mv),e=SM("useRouteError"),n=jv("useRouteError");return t!==void 0?t:(r=e.errors)==null?void 0:r[n]}function IM(){let{router:t}=CM("useNavigate"),e=jv("useNavigate"),n=k.useRef(!1);return ek(()=>{n.current=!0}),k.useCallback(async(i,s={})=>{er(n.current,ZT),n.current&&(typeof i=="number"?t.navigate(i):await t.navigate(i,{fromRouteId:e,...s}))},[t,e])}var t1={};function nk(t,e,n){!e&&!t1[t]&&(t1[t]=!0,er(!1,n))}k.memo(PM);function PM({routes:t,future:e,state:n}){return tk(t,void 0,n,e)}function xg({to:t,replace:e,state:n,relative:r}){Oe(va(),"<Navigate> may be used only in the context of a <Router> component.");let{static:i}=k.useContext(tr);er(!i,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:s}=k.useContext(nr),{pathname:o}=ei(),a=Gi(),l=Ov(t,Dv(s),o,r==="path"),c=JSON.stringify(l);return k.useEffect(()=>{a(JSON.parse(c),{replace:e,state:n,relative:r})},[a,c,r,e,n]),null}function En(t){Oe(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function RM({basename:t="/",children:e=null,location:n,navigationType:r="POP",navigator:i,static:s=!1}){Oe(!va(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let o=t.replace(/^\/*/,"/"),a=k.useMemo(()=>({basename:o,navigator:i,static:s,future:{}}),[o,i,s]);typeof n=="string"&&(n=ga(n));let{pathname:l="/",search:c="",hash:d="",state:h=null,key:f="default"}=n,v=k.useMemo(()=>{let w=Gr(l,o);return w==null?null:{location:{pathname:w,search:c,hash:d,state:h,key:f},navigationType:r}},[o,l,c,d,h,f,r]);return er(v!=null,`<Router basename="${o}"> is not able to match the URL "${l}${c}${d}" because it does not start with the basename, so the <Router> won't render anything.`),v==null?null:k.createElement(tr.Provider,{value:a},k.createElement(Lc.Provider,{children:e,value:v}))}function AM({children:t,location:e}){return yM(Eg(t),e)}function Eg(t,e=[]){let n=[];return k.Children.forEach(t,(r,i)=>{if(!k.isValidElement(r))return;let s=[...e,i];if(r.type===k.Fragment){n.push.apply(n,Eg(r.props.children,s));return}Oe(r.type===En,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Oe(!r.props.index||!r.props.children,"An index route cannot have child routes.");let o={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=Eg(r.props.children,s)),n.push(o)}),n}var dd="get",hd="application/x-www-form-urlencoded";function Qh(t){return t!=null&&typeof t.tagName=="string"}function NM(t){return Qh(t)&&t.tagName.toLowerCase()==="button"}function DM(t){return Qh(t)&&t.tagName.toLowerCase()==="form"}function OM(t){return Qh(t)&&t.tagName.toLowerCase()==="input"}function MM(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function LM(t,e){return t.button===0&&(!e||e==="_self")&&!MM(t)}var ju=null;function jM(){if(ju===null)try{new FormData(document.createElement("form"),0),ju=!1}catch{ju=!0}return ju}var FM=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function $p(t){return t!=null&&!FM.has(t)?(er(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${hd}"`),null):t}function $M(t,e){let n,r,i,s,o;if(DM(t)){let a=t.getAttribute("action");r=a?Gr(a,e):null,n=t.getAttribute("method")||dd,i=$p(t.getAttribute("enctype"))||hd,s=new FormData(t)}else if(NM(t)||OM(t)&&(t.type==="submit"||t.type==="image")){let a=t.form;if(a==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let l=t.getAttribute("formaction")||a.getAttribute("action");if(r=l?Gr(l,e):null,n=t.getAttribute("formmethod")||a.getAttribute("method")||dd,i=$p(t.getAttribute("formenctype"))||$p(a.getAttribute("enctype"))||hd,s=new FormData(a,t),!jM()){let{name:c,type:d,value:h}=t;if(d==="image"){let f=c?`${c}.`:"";s.append(`${f}x`,"0"),s.append(`${f}y`,"0")}else c&&s.append(c,h)}}else{if(Qh(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=dd,r=null,i=hd,o=t}return s&&i==="text/plain"&&(o=s,s=void 0),{action:r,method:n.toLowerCase(),encType:i,formData:s,body:o}}function Fv(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}async function VM(t,e){if(t.id in e)return e[t.id];try{let n=await RO(()=>import(t.module),[]);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function UM(t){return t!=null&&typeof t.page=="string"}function BM(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function zM(t,e,n){let r=await Promise.all(t.map(async i=>{let s=e.routes[i.route.id];if(s){let o=await VM(s,n);return o.links?o.links():[]}return[]}));return KM(r.flat(1).filter(BM).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function n1(t,e,n,r,i,s){let o=(l,c)=>n[c]?l.route.id!==n[c].route.id:!0,a=(l,c)=>{var d;return n[c].pathname!==l.pathname||((d=n[c].route.path)==null?void 0:d.endsWith("*"))&&n[c].params["*"]!==l.params["*"]};return s==="assets"?e.filter((l,c)=>o(l,c)||a(l,c)):s==="data"?e.filter((l,c)=>{var h;let d=r.routes[l.route.id];if(!d||!d.hasLoader)return!1;if(o(l,c)||a(l,c))return!0;if(l.route.shouldRevalidate){let f=l.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:((h=n[0])==null?void 0:h.params)||{},nextUrl:new URL(t,window.origin),nextParams:l.params,defaultShouldRevalidate:!0});if(typeof f=="boolean")return f}return!0}):[]}function WM(t,e,{includeHydrateFallback:n}={}){return HM(t.map(r=>{let i=e.routes[r.route.id];if(!i)return[];let s=[i.module];return i.clientActionModule&&(s=s.concat(i.clientActionModule)),i.clientLoaderModule&&(s=s.concat(i.clientLoaderModule)),n&&i.hydrateFallbackModule&&(s=s.concat(i.hydrateFallbackModule)),i.imports&&(s=s.concat(i.imports)),s}).flat(1))}function HM(t){return[...new Set(t)]}function GM(t){let e={},n=Object.keys(t).sort();for(let r of n)e[r]=t[r];return e}function KM(t,e){let n=new Set,r=new Set(e);return t.reduce((i,s)=>{if(e&&!UM(s)&&s.as==="script"&&s.href&&r.has(s.href))return i;let a=JSON.stringify(GM(s));return n.has(a)||(n.add(a),i.push({key:a,link:s})),i},[])}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var qM=new Set([100,101,204,205]);function YM(t,e){let n=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return n.pathname==="/"?n.pathname="_root.data":e&&Gr(n.pathname,e)==="/"?n.pathname=`${e.replace(/\/$/,"")}/_root.data`:n.pathname=`${n.pathname.replace(/\/$/,"")}.data`,n}function rk(){let t=k.useContext(ya);return Fv(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function XM(){let t=k.useContext(Jh);return Fv(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var $v=k.createContext(void 0);$v.displayName="FrameworkContext";function ik(){let t=k.useContext($v);return Fv(t,"You must render this element inside a <HydratedRouter> element"),t}function JM(t,e){let n=k.useContext($v),[r,i]=k.useState(!1),[s,o]=k.useState(!1),{onFocus:a,onBlur:l,onMouseEnter:c,onMouseLeave:d,onTouchStart:h}=e,f=k.useRef(null);k.useEffect(()=>{if(t==="render"&&o(!0),t==="viewport"){let S=_=>{_.forEach(E=>{o(E.isIntersecting)})},P=new IntersectionObserver(S,{threshold:.5});return f.current&&P.observe(f.current),()=>{P.disconnect()}}},[t]),k.useEffect(()=>{if(r){let S=setTimeout(()=>{o(!0)},100);return()=>{clearTimeout(S)}}},[r]);let v=()=>{i(!0)},w=()=>{i(!1),o(!1)};return n?t!=="intent"?[s,f,{}]:[s,f,{onFocus:Xa(a,v),onBlur:Xa(l,w),onMouseEnter:Xa(c,v),onMouseLeave:Xa(d,w),onTouchStart:Xa(h,v)}]:[!1,f,{}]}function Xa(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function QM({page:t,...e}){let{router:n}=rk(),r=k.useMemo(()=>qT(n.routes,t,n.basename),[n.routes,t,n.basename]);return r?k.createElement(eL,{page:t,matches:r,...e}):null}function ZM(t){let{manifest:e,routeModules:n}=ik(),[r,i]=k.useState([]);return k.useEffect(()=>{let s=!1;return zM(t,e,n).then(o=>{s||i(o)}),()=>{s=!0}},[t,e,n]),r}function eL({page:t,matches:e,...n}){let r=ei(),{manifest:i,routeModules:s}=ik(),{basename:o}=rk(),{loaderData:a,matches:l}=XM(),c=k.useMemo(()=>n1(t,e,l,i,r,"data"),[t,e,l,i,r]),d=k.useMemo(()=>n1(t,e,l,i,r,"assets"),[t,e,l,i,r]),h=k.useMemo(()=>{if(t===r.pathname+r.search+r.hash)return[];let w=new Set,S=!1;if(e.forEach(_=>{var x;let E=i.routes[_.route.id];!E||!E.hasLoader||(!c.some(A=>A.route.id===_.route.id)&&_.route.id in a&&((x=s[_.route.id])!=null&&x.shouldRevalidate)||E.hasClientLoader?S=!0:w.add(_.route.id))}),w.size===0)return[];let P=YM(t,o);return S&&w.size>0&&P.searchParams.set("_routes",e.filter(_=>w.has(_.route.id)).map(_=>_.route.id).join(",")),[P.pathname+P.search]},[o,a,r,i,c,e,t,s]),f=k.useMemo(()=>WM(d,i),[d,i]),v=ZM(d);return k.createElement(k.Fragment,null,h.map(w=>k.createElement("link",{key:w,rel:"prefetch",as:"fetch",href:w,...n})),f.map(w=>k.createElement("link",{key:w,rel:"modulepreload",href:w,...n})),v.map(({key:w,link:S})=>k.createElement("link",{key:w,...S})))}function tL(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var sk=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{sk&&(window.__reactRouterVersion="7.6.0")}catch{}function nL({basename:t,children:e,window:n}){let r=k.useRef();r.current==null&&(r.current=UO({window:n,v5Compat:!0}));let i=r.current,[s,o]=k.useState({action:i.action,location:i.location}),a=k.useCallback(l=>{k.startTransition(()=>o(l))},[o]);return k.useLayoutEffect(()=>i.listen(a),[i,a]),k.createElement(RM,{basename:t,children:e,location:s.location,navigationType:s.action,navigator:i})}var ok=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,lr=k.forwardRef(function({onClick:e,discover:n="render",prefetch:r="none",relative:i,reloadDocument:s,replace:o,state:a,target:l,to:c,preventScrollReset:d,viewTransition:h,...f},v){let{basename:w}=k.useContext(tr),S=typeof c=="string"&&ok.test(c),P,_=!1;if(typeof c=="string"&&S&&(P=c,sk))try{let I=new URL(window.location.href),g=c.startsWith("//")?new URL(I.protocol+c):new URL(c),R=Gr(g.pathname,w);g.origin===I.origin&&R!=null?c=R+g.search+g.hash:_=!0}catch{er(!1,`<Link to="${c}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let E=pM(c,{relative:i}),[x,A,D]=JM(r,f),M=oL(c,{replace:o,state:a,target:l,preventScrollReset:d,relative:i,viewTransition:h});function b(I){e&&e(I),I.defaultPrevented||M(I)}let C=k.createElement("a",{...f,...D,href:P||E,onClick:_||s?e:b,ref:tL(v,A),target:l,"data-discover":!S&&n==="render"?"true":void 0});return x&&!S?k.createElement(k.Fragment,null,C,k.createElement(QM,{page:E})):C});lr.displayName="Link";var rL=k.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:r="",end:i=!1,style:s,to:o,viewTransition:a,children:l,...c},d){let h=jc(o,{relative:c.relative}),f=ei(),v=k.useContext(Jh),{navigator:w,basename:S}=k.useContext(tr),P=v!=null&&dL(h)&&a===!0,_=w.encodeLocation?w.encodeLocation(h).pathname:h.pathname,E=f.pathname,x=v&&v.navigation&&v.navigation.location?v.navigation.location.pathname:null;n||(E=E.toLowerCase(),x=x?x.toLowerCase():null,_=_.toLowerCase()),x&&S&&(x=Gr(x,S)||x);const A=_!=="/"&&_.endsWith("/")?_.length-1:_.length;let D=E===_||!i&&E.startsWith(_)&&E.charAt(A)==="/",M=x!=null&&(x===_||!i&&x.startsWith(_)&&x.charAt(_.length)==="/"),b={isActive:D,isPending:M,isTransitioning:P},C=D?e:void 0,I;typeof r=="function"?I=r(b):I=[r,D?"active":null,M?"pending":null,P?"transitioning":null].filter(Boolean).join(" ");let g=typeof s=="function"?s(b):s;return k.createElement(lr,{...c,"aria-current":C,className:I,ref:d,style:g,to:o,viewTransition:a},typeof l=="function"?l(b):l)});rL.displayName="NavLink";var iL=k.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:r,replace:i,state:s,method:o=dd,action:a,onSubmit:l,relative:c,preventScrollReset:d,viewTransition:h,...f},v)=>{let w=cL(),S=uL(a,{relative:c}),P=o.toLowerCase()==="get"?"get":"post",_=typeof a=="string"&&ok.test(a),E=x=>{if(l&&l(x),x.defaultPrevented)return;x.preventDefault();let A=x.nativeEvent.submitter,D=(A==null?void 0:A.getAttribute("formmethod"))||o;w(A||x.currentTarget,{fetcherKey:e,method:D,navigate:n,replace:i,state:s,relative:c,preventScrollReset:d,viewTransition:h})};return k.createElement("form",{ref:v,method:P,action:S,onSubmit:r?l:E,...f,"data-discover":!_&&t==="render"?"true":void 0})});iL.displayName="Form";function sL(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function ak(t){let e=k.useContext(ya);return Oe(e,sL(t)),e}function oL(t,{target:e,replace:n,state:r,preventScrollReset:i,relative:s,viewTransition:o}={}){let a=Gi(),l=ei(),c=jc(t,{relative:s});return k.useCallback(d=>{if(LM(d,e)){d.preventDefault();let h=n!==void 0?n:oc(l)===oc(c);a(t,{replace:h,state:r,preventScrollReset:i,relative:s,viewTransition:o})}},[l,a,c,n,r,e,t,i,s,o])}var aL=0,lL=()=>`__${String(++aL)}__`;function cL(){let{router:t}=ak("useSubmit"),{basename:e}=k.useContext(tr),n=TM();return k.useCallback(async(r,i={})=>{let{action:s,method:o,encType:a,formData:l,body:c}=$M(r,e);if(i.navigate===!1){let d=i.fetcherKey||lL();await t.fetch(d,n,i.action||s,{preventScrollReset:i.preventScrollReset,formData:l,body:c,formMethod:i.method||o,formEncType:i.encType||a,flushSync:i.flushSync})}else await t.navigate(i.action||s,{preventScrollReset:i.preventScrollReset,formData:l,body:c,formMethod:i.method||o,formEncType:i.encType||a,replace:i.replace,state:i.state,fromRouteId:n,flushSync:i.flushSync,viewTransition:i.viewTransition})},[t,e,n])}function uL(t,{relative:e}={}){let{basename:n}=k.useContext(tr),r=k.useContext(nr);Oe(r,"useFormAction must be used inside a RouteContext");let[i]=r.matches.slice(-1),s={...jc(t||".",{relative:e})},o=ei();if(t==null){s.search=o.search;let a=new URLSearchParams(s.search),l=a.getAll("index");if(l.some(d=>d==="")){a.delete("index"),l.filter(h=>h).forEach(h=>a.append("index",h));let d=a.toString();s.search=d?`?${d}`:""}}return(!t||t===".")&&i.route.index&&(s.search=s.search?s.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(s.pathname=s.pathname==="/"?n:Fr([n,s.pathname])),oc(s)}function dL(t,e={}){let n=k.useContext(QT);Oe(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=ak("useViewTransitionState"),i=jc(t,{relative:e.relative});if(!n.isTransitioning)return!1;let s=Gr(n.currentLocation.pathname,r)||n.currentLocation.pathname,o=Gr(n.nextLocation.pathname,r)||n.nextLocation.pathname;return Qd(i.pathname,o)!=null||Qd(i.pathname,s)!=null}[...qM];const hL=()=>{};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lk={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U=function(t,e){if(!t)throw _a(e)},_a=function(t){return new Error("Firebase Database ("+lk.SDK_VERSION+") INTERNAL ASSERT FAILED: "+t)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ck=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},fL=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],o=t[n++],a=t[n++],l=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},Vv={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,a=o?t[i+1]:0,l=i+2<t.length,c=l?t[i+2]:0,d=s>>2,h=(s&3)<<4|a>>4;let f=(a&15)<<2|c>>6,v=c&63;l||(v=64,o||(f=64)),r.push(n[d],n[h],n[f],n[v])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(ck(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):fL(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const c=i<t.length?n[t.charAt(i)]:64;++i;const h=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||a==null||c==null||h==null)throw new pL;const f=s<<2|a>>4;if(r.push(f),c!==64){const v=a<<4&240|c>>2;if(r.push(v),h!==64){const w=c<<6&192|h;r.push(w)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class pL extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const uk=function(t){const e=ck(t);return Vv.encodeByteArray(e,!0)},Zd=function(t){return uk(t).replace(/\./g,"")},eh=function(t){try{return Vv.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mL(t){return dk(void 0,t)}function dk(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const n=e;return new Date(n.getTime());case Object:t===void 0&&(t={});break;case Array:t=[];break;default:return e}for(const n in e)!e.hasOwnProperty(n)||!gL(n)||(t[n]=dk(t[n],e[n]));return t}function gL(t){return t!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yL(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vL=()=>yL().__FIREBASE_DEFAULTS__,_L=()=>{if(typeof process>"u"||typeof process.env>"u")return;const t={}.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},wL=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&eh(t[1]);return e&&JSON.parse(e)},Uv=()=>{try{return hL()||vL()||_L()||wL()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},hk=t=>{var e,n;return(n=(e=Uv())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},Bv=t=>{const e=hk(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},fk=()=>{var t;return(t=Uv())===null||t===void 0?void 0:t.config},pk=t=>{var e;return(e=Uv())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fc{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zs(t){return t.endsWith(".cloudworkstations.dev")}async function Zh(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zv(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t),a="";return[Zd(JSON.stringify(n)),Zd(JSON.stringify(o)),a].join(".")}const Il={};function xL(){const t={prod:[],emulator:[]};for(const e of Object.keys(Il))Il[e]?t.emulator.push(e):t.prod.push(e);return t}function EL(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let r1=!1;function Ki(t,e){if(typeof window>"u"||typeof document>"u"||!zs(window.location.host)||Il[t]===e||Il[t]||r1)return;Il[t]=e;function n(f){return`__firebase__banner__${f}`}const r="__firebase__banner",s=xL().prod.length>0;function o(){const f=document.getElementById(r);f&&f.remove()}function a(f){f.style.display="flex",f.style.background="#7faaf0",f.style.position="fixed",f.style.bottom="5px",f.style.left="5px",f.style.padding=".5em",f.style.borderRadius="5px",f.style.alignItems="center"}function l(f,v){f.setAttribute("width","24"),f.setAttribute("id",v),f.setAttribute("height","24"),f.setAttribute("viewBox","0 0 24 24"),f.setAttribute("fill","none"),f.style.marginLeft="-6px"}function c(){const f=document.createElement("span");return f.style.cursor="pointer",f.style.marginLeft="16px",f.style.fontSize="24px",f.innerHTML=" &times;",f.onclick=()=>{r1=!0,o()},f}function d(f,v){f.setAttribute("id",v),f.innerText="Learn more",f.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",f.setAttribute("target","__blank"),f.style.paddingLeft="5px",f.style.textDecoration="underline"}function h(){const f=EL(r),v=n("text"),w=document.getElementById(v)||document.createElement("span"),S=n("learnmore"),P=document.getElementById(S)||document.createElement("a"),_=n("preprendIcon"),E=document.getElementById(_)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(f.created){const x=f.element;a(x),d(P,S);const A=c();l(E,_),x.append(E,w,P,A),document.body.appendChild(x)}s?(w.innerText="Preview backend disconnected.",E.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(E.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,w.innerText="Preview backend running in this workspace."),w.setAttribute("id",v)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",h):h()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ht(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Wv(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ht())}function CL(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function SL(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function mk(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function bL(){const t=Ht();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function gk(){return lk.NODE_ADMIN===!0}function yk(){try{return typeof indexedDB=="object"}catch{return!1}}function vk(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}function TL(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kL="FirebaseError";class rr extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=kL,Object.setPrototypeOf(this,rr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ws.prototype.create)}}class Ws{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?IL(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new rr(i,a,r)}}function IL(t,e){return t.replace(PL,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const PL=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ac(t){return JSON.parse(t)}function nt(t){return JSON.stringify(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _k=function(t){let e={},n={},r={},i="";try{const s=t.split(".");e=ac(eh(s[0])||""),n=ac(eh(s[1])||""),i=s[2],r=n.d||{},delete n.d}catch{}return{header:e,claims:n,data:r,signature:i}},RL=function(t){const e=_k(t),n=e.claims;return!!n&&typeof n=="object"&&n.hasOwnProperty("iat")},AL=function(t){const e=_k(t).claims;return typeof e=="object"&&e.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xr(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function Jo(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]}function Cg(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function th(t,e,n){const r={};for(const i in t)Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=e.call(n,t[i],i,t));return r}function Li(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(i1(s)&&i1(o)){if(!Li(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function i1(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wa(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function dl(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function hl(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NL{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,n){n||(n=0);const r=this.W_;if(typeof e=="string")for(let h=0;h<16;h++)r[h]=e.charCodeAt(n)<<24|e.charCodeAt(n+1)<<16|e.charCodeAt(n+2)<<8|e.charCodeAt(n+3),n+=4;else for(let h=0;h<16;h++)r[h]=e[n]<<24|e[n+1]<<16|e[n+2]<<8|e[n+3],n+=4;for(let h=16;h<80;h++){const f=r[h-3]^r[h-8]^r[h-14]^r[h-16];r[h]=(f<<1|f>>>31)&4294967295}let i=this.chain_[0],s=this.chain_[1],o=this.chain_[2],a=this.chain_[3],l=this.chain_[4],c,d;for(let h=0;h<80;h++){h<40?h<20?(c=a^s&(o^a),d=1518500249):(c=s^o^a,d=1859775393):h<60?(c=s&o|a&(s|o),d=2400959708):(c=s^o^a,d=3395469782);const f=(i<<5|i>>>27)+c+l+d+r[h]&4294967295;l=a,a=o,o=(s<<30|s>>>2)&4294967295,s=i,i=f}this.chain_[0]=this.chain_[0]+i&4294967295,this.chain_[1]=this.chain_[1]+s&4294967295,this.chain_[2]=this.chain_[2]+o&4294967295,this.chain_[3]=this.chain_[3]+a&4294967295,this.chain_[4]=this.chain_[4]+l&4294967295}update(e,n){if(e==null)return;n===void 0&&(n=e.length);const r=n-this.blockSize;let i=0;const s=this.buf_;let o=this.inbuf_;for(;i<n;){if(o===0)for(;i<=r;)this.compress_(e,i),i+=this.blockSize;if(typeof e=="string"){for(;i<n;)if(s[o]=e.charCodeAt(i),++o,++i,o===this.blockSize){this.compress_(s),o=0;break}}else for(;i<n;)if(s[o]=e[i],++o,++i,o===this.blockSize){this.compress_(s),o=0;break}}this.inbuf_=o,this.total_+=n}digest(){const e=[];let n=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let i=this.blockSize-1;i>=56;i--)this.buf_[i]=n&255,n/=256;this.compress_(this.buf_);let r=0;for(let i=0;i<5;i++)for(let s=24;s>=0;s-=8)e[r]=this.chain_[i]>>s&255,++r;return e}}function DL(t,e){const n=new OL(t,e);return n.subscribe.bind(n)}class OL{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");ML(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=Vp),i.error===void 0&&(i.error=Vp),i.complete===void 0&&(i.complete=Vp);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function ML(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Vp(){}function ef(t,e){return`${t} failed: ${e} argument `}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LL=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);if(i>=55296&&i<=56319){const s=i-55296;r++,U(r<t.length,"Surrogate pair missing trail surrogate.");const o=t.charCodeAt(r)-56320;i=65536+(s<<10)+o}i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):i<65536?(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},tf=function(t){let e=0;for(let n=0;n<t.length;n++){const r=t.charCodeAt(n);r<128?e++:r<2048?e+=2:r>=55296&&r<=56319?(e+=4,n++):e+=3}return e};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xe(t){return t&&t._delegate?t._delegate:t}class gn{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const as="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jL{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new Fc;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if($L(e))try{this.getOrInitializeService({instanceIdentifier:as})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=as){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=as){return this.instances.has(e)}getOptions(e=as){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:FL(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=as){return this.component?this.component.multipleInstances?e:as:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function FL(t){return t===as?void 0:t}function $L(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VL{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new jL(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var me;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(me||(me={}));const UL={debug:me.DEBUG,verbose:me.VERBOSE,info:me.INFO,warn:me.WARN,error:me.ERROR,silent:me.SILENT},BL=me.INFO,zL={[me.DEBUG]:"log",[me.VERBOSE]:"log",[me.INFO]:"info",[me.WARN]:"warn",[me.ERROR]:"error"},WL=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=zL[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class nf{constructor(e){this.name=e,this._logLevel=BL,this._logHandler=WL,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in me))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?UL[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,me.DEBUG,...e),this._logHandler(this,me.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,me.VERBOSE,...e),this._logHandler(this,me.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,me.INFO,...e),this._logHandler(this,me.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,me.WARN,...e),this._logHandler(this,me.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,me.ERROR,...e),this._logHandler(this,me.ERROR,...e)}}const HL=(t,e)=>e.some(n=>t instanceof n);let s1,o1;function GL(){return s1||(s1=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function KL(){return o1||(o1=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const wk=new WeakMap,Sg=new WeakMap,xk=new WeakMap,Up=new WeakMap,Hv=new WeakMap;function qL(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n($r(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&wk.set(n,t)}).catch(()=>{}),Hv.set(e,t),e}function YL(t){if(Sg.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});Sg.set(t,e)}let bg={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Sg.get(t);if(e==="objectStoreNames")return t.objectStoreNames||xk.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return $r(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function XL(t){bg=t(bg)}function JL(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Bp(this),e,...n);return xk.set(r,e.sort?e.sort():[e]),$r(r)}:KL().includes(t)?function(...e){return t.apply(Bp(this),e),$r(wk.get(this))}:function(...e){return $r(t.apply(Bp(this),e))}}function QL(t){return typeof t=="function"?JL(t):(t instanceof IDBTransaction&&YL(t),HL(t,GL())?new Proxy(t,bg):t)}function $r(t){if(t instanceof IDBRequest)return qL(t);if(Up.has(t))return Up.get(t);const e=QL(t);return e!==t&&(Up.set(t,e),Hv.set(e,t)),e}const Bp=t=>Hv.get(t);function rf(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=$r(o);return r&&o.addEventListener("upgradeneeded",l=>{r($r(o.result),l.oldVersion,l.newVersion,$r(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{s&&l.addEventListener("close",()=>s()),i&&l.addEventListener("versionchange",c=>i(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}function zp(t,{blocked:e}={}){const n=indexedDB.deleteDatabase(t);return e&&n.addEventListener("blocked",r=>e(r.oldVersion,r)),$r(n).then(()=>{})}const ZL=["get","getKey","getAll","getAllKeys","count"],ej=["put","add","delete","clear"],Wp=new Map;function a1(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Wp.get(e))return Wp.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=ej.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||ZL.includes(n)))return;const s=async function(o,...a){const l=this.transaction(o,i?"readwrite":"readonly");let c=l.store;return r&&(c=c.index(a.shift())),(await Promise.all([c[n](...a),i&&l.done]))[0]};return Wp.set(e,s),s}XL(t=>({...t,get:(e,n,r)=>a1(e,n)||t.get(e,n,r),has:(e,n)=>!!a1(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tj{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(nj(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function nj(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Tg="@firebase/app",l1="0.12.3";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kr=new nf("@firebase/app"),rj="@firebase/app-compat",ij="@firebase/analytics-compat",sj="@firebase/analytics",oj="@firebase/app-check-compat",aj="@firebase/app-check",lj="@firebase/auth",cj="@firebase/auth-compat",uj="@firebase/database",dj="@firebase/data-connect",hj="@firebase/database-compat",fj="@firebase/functions",pj="@firebase/functions-compat",mj="@firebase/installations",gj="@firebase/installations-compat",yj="@firebase/messaging",vj="@firebase/messaging-compat",_j="@firebase/performance",wj="@firebase/performance-compat",xj="@firebase/remote-config",Ej="@firebase/remote-config-compat",Cj="@firebase/storage",Sj="@firebase/storage-compat",bj="@firebase/firestore",Tj="@firebase/vertexai",kj="@firebase/firestore-compat",Ij="firebase",Pj="11.7.3";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kg="[DEFAULT]",Rj={[Tg]:"fire-core",[rj]:"fire-core-compat",[sj]:"fire-analytics",[ij]:"fire-analytics-compat",[aj]:"fire-app-check",[oj]:"fire-app-check-compat",[lj]:"fire-auth",[cj]:"fire-auth-compat",[uj]:"fire-rtdb",[dj]:"fire-data-connect",[hj]:"fire-rtdb-compat",[fj]:"fire-fn",[pj]:"fire-fn-compat",[mj]:"fire-iid",[gj]:"fire-iid-compat",[yj]:"fire-fcm",[vj]:"fire-fcm-compat",[_j]:"fire-perf",[wj]:"fire-perf-compat",[xj]:"fire-rc",[Ej]:"fire-rc-compat",[Cj]:"fire-gcs",[Sj]:"fire-gcs-compat",[bj]:"fire-fst",[kj]:"fire-fst-compat",[Tj]:"fire-vertex","fire-js":"fire-js",[Ij]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nh=new Map,Aj=new Map,Ig=new Map;function c1(t,e){try{t.container.addComponent(e)}catch(n){Kr.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Dn(t){const e=t.name;if(Ig.has(e))return Kr.debug(`There were multiple attempts to register component ${e}.`),!1;Ig.set(e,t);for(const n of nh.values())c1(n,t);for(const n of Aj.values())c1(n,t);return!0}function qi(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Vt(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nj={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ri=new Ws("app","Firebase",Nj);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dj{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new gn("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ri.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yi=Pj;function Ek(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:kg,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw Ri.create("bad-app-name",{appName:String(i)});if(n||(n=fk()),!n)throw Ri.create("no-options");const s=nh.get(i);if(s){if(Li(n,s.options)&&Li(r,s.config))return s;throw Ri.create("duplicate-app",{appName:i})}const o=new VL(i);for(const l of Ig.values())o.addComponent(l);const a=new Dj(n,r,o);return nh.set(i,a),a}function $c(t=kg){const e=nh.get(t);if(!e&&t===kg&&fk())return Ek();if(!e)throw Ri.create("no-app",{appName:t});return e}function Dt(t,e,n){var r;let i=(r=Rj[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${e}":`];s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Kr.warn(a.join(" "));return}Dn(new gn(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Oj="firebase-heartbeat-database",Mj=1,lc="firebase-heartbeat-store";let Hp=null;function Ck(){return Hp||(Hp=rf(Oj,Mj,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(lc)}catch(n){console.warn(n)}}}}).catch(t=>{throw Ri.create("idb-open",{originalErrorMessage:t.message})})),Hp}async function Lj(t){try{const n=(await Ck()).transaction(lc),r=await n.objectStore(lc).get(Sk(t));return await n.done,r}catch(e){if(e instanceof rr)Kr.warn(e.message);else{const n=Ri.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Kr.warn(n.message)}}}async function u1(t,e){try{const r=(await Ck()).transaction(lc,"readwrite");await r.objectStore(lc).put(e,Sk(t)),await r.done}catch(n){if(n instanceof rr)Kr.warn(n.message);else{const r=Ri.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Kr.warn(r.message)}}}function Sk(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jj=1024,Fj=30;class $j{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new Uj(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=d1();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats.length>Fj){const o=Bj(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){Kr.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=d1(),{heartbeatsToSend:r,unsentEntries:i}=Vj(this._heartbeatsCache.heartbeats),s=Zd(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(n){return Kr.warn(n),""}}}function d1(){return new Date().toISOString().substring(0,10)}function Vj(t,e=jj){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),h1(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),h1(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class Uj{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return yk()?vk().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await Lj(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return u1(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return u1(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function h1(t){return Zd(JSON.stringify({version:2,heartbeats:t})).length}function Bj(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zj(t){Dn(new gn("platform-logger",e=>new tj(e),"PRIVATE")),Dn(new gn("heartbeat",e=>new $j(e),"PRIVATE")),Dt(Tg,l1,t),Dt(Tg,l1,"esm2017"),Dt("fire-js","")}zj("");const bk="@firebase/installations",Gv="0.6.16";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tk=1e4,kk=`w:${Gv}`,Ik="FIS_v2",Wj="https://firebaseinstallations.googleapis.com/v1",Hj=60*60*1e3,Gj="installations",Kj="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qj={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},As=new Ws(Gj,Kj,qj);function Pk(t){return t instanceof rr&&t.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rk({projectId:t}){return`${Wj}/projects/${t}/installations`}function Ak(t){return{token:t.token,requestStatus:2,expiresIn:Xj(t.expiresIn),creationTime:Date.now()}}async function Nk(t,e){const r=(await e.json()).error;return As.create("request-failed",{requestName:t,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})}function Dk({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function Yj(t,{refreshToken:e}){const n=Dk(t);return n.append("Authorization",Jj(e)),n}async function Ok(t){const e=await t();return e.status>=500&&e.status<600?t():e}function Xj(t){return Number(t.replace("s","000"))}function Jj(t){return`${Ik} ${t}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Qj({appConfig:t,heartbeatServiceProvider:e},{fid:n}){const r=Rk(t),i=Dk(t),s=e.getImmediate({optional:!0});if(s){const c=await s.getHeartbeatsHeader();c&&i.append("x-firebase-client",c)}const o={fid:n,authVersion:Ik,appId:t.appId,sdkVersion:kk},a={method:"POST",headers:i,body:JSON.stringify(o)},l=await Ok(()=>fetch(r,a));if(l.ok){const c=await l.json();return{fid:c.fid||n,registrationStatus:2,refreshToken:c.refreshToken,authToken:Ak(c.authToken)}}else throw await Nk("Create Installation",l)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mk(t){return new Promise(e=>{setTimeout(e,t)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zj(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e4=/^[cdef][\w-]{21}$/,Pg="";function t4(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const n=n4(t);return e4.test(n)?n:Pg}catch{return Pg}}function n4(t){return Zj(t).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sf(t){return`${t.appName}!${t.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lk=new Map;function jk(t,e){const n=sf(t);Fk(n,e),r4(n,e)}function Fk(t,e){const n=Lk.get(t);if(n)for(const r of n)r(e)}function r4(t,e){const n=i4();n&&n.postMessage({key:t,fid:e}),s4()}let gs=null;function i4(){return!gs&&"BroadcastChannel"in self&&(gs=new BroadcastChannel("[Firebase] FID Change"),gs.onmessage=t=>{Fk(t.data.key,t.data.fid)}),gs}function s4(){Lk.size===0&&gs&&(gs.close(),gs=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o4="firebase-installations-database",a4=1,Ns="firebase-installations-store";let Gp=null;function Kv(){return Gp||(Gp=rf(o4,a4,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(Ns)}}})),Gp}async function rh(t,e){const n=sf(t),i=(await Kv()).transaction(Ns,"readwrite"),s=i.objectStore(Ns),o=await s.get(n);return await s.put(e,n),await i.done,(!o||o.fid!==e.fid)&&jk(t,e.fid),e}async function $k(t){const e=sf(t),r=(await Kv()).transaction(Ns,"readwrite");await r.objectStore(Ns).delete(e),await r.done}async function of(t,e){const n=sf(t),i=(await Kv()).transaction(Ns,"readwrite"),s=i.objectStore(Ns),o=await s.get(n),a=e(o);return a===void 0?await s.delete(n):await s.put(a,n),await i.done,a&&(!o||o.fid!==a.fid)&&jk(t,a.fid),a}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qv(t){let e;const n=await of(t.appConfig,r=>{const i=l4(r),s=c4(t,i);return e=s.registrationPromise,s.installationEntry});return n.fid===Pg?{installationEntry:await e}:{installationEntry:n,registrationPromise:e}}function l4(t){const e=t||{fid:t4(),registrationStatus:0};return Vk(e)}function c4(t,e){if(e.registrationStatus===0){if(!navigator.onLine){const i=Promise.reject(As.create("app-offline"));return{installationEntry:e,registrationPromise:i}}const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=u4(t,n);return{installationEntry:n,registrationPromise:r}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:d4(t)}:{installationEntry:e}}async function u4(t,e){try{const n=await Qj(t,e);return rh(t.appConfig,n)}catch(n){throw Pk(n)&&n.customData.serverCode===409?await $k(t.appConfig):await rh(t.appConfig,{fid:e.fid,registrationStatus:0}),n}}async function d4(t){let e=await f1(t.appConfig);for(;e.registrationStatus===1;)await Mk(100),e=await f1(t.appConfig);if(e.registrationStatus===0){const{installationEntry:n,registrationPromise:r}=await qv(t);return r||n}return e}function f1(t){return of(t,e=>{if(!e)throw As.create("installation-not-found");return Vk(e)})}function Vk(t){return h4(t)?{fid:t.fid,registrationStatus:0}:t}function h4(t){return t.registrationStatus===1&&t.registrationTime+Tk<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function f4({appConfig:t,heartbeatServiceProvider:e},n){const r=p4(t,n),i=Yj(t,n),s=e.getImmediate({optional:!0});if(s){const c=await s.getHeartbeatsHeader();c&&i.append("x-firebase-client",c)}const o={installation:{sdkVersion:kk,appId:t.appId}},a={method:"POST",headers:i,body:JSON.stringify(o)},l=await Ok(()=>fetch(r,a));if(l.ok){const c=await l.json();return Ak(c)}else throw await Nk("Generate Auth Token",l)}function p4(t,{fid:e}){return`${Rk(t)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Yv(t,e=!1){let n;const r=await of(t.appConfig,s=>{if(!Uk(s))throw As.create("not-registered");const o=s.authToken;if(!e&&y4(o))return s;if(o.requestStatus===1)return n=m4(t,e),s;{if(!navigator.onLine)throw As.create("app-offline");const a=_4(s);return n=g4(t,a),a}});return n?await n:r.authToken}async function m4(t,e){let n=await p1(t.appConfig);for(;n.authToken.requestStatus===1;)await Mk(100),n=await p1(t.appConfig);const r=n.authToken;return r.requestStatus===0?Yv(t,e):r}function p1(t){return of(t,e=>{if(!Uk(e))throw As.create("not-registered");const n=e.authToken;return w4(n)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}async function g4(t,e){try{const n=await f4(t,e),r=Object.assign(Object.assign({},e),{authToken:n});return await rh(t.appConfig,r),n}catch(n){if(Pk(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await $k(t.appConfig);else{const r=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});await rh(t.appConfig,r)}throw n}}function Uk(t){return t!==void 0&&t.registrationStatus===2}function y4(t){return t.requestStatus===2&&!v4(t)}function v4(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+Hj}function _4(t){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},t),{authToken:e})}function w4(t){return t.requestStatus===1&&t.requestTime+Tk<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function x4(t){const e=t,{installationEntry:n,registrationPromise:r}=await qv(e);return r?r.catch(console.error):Yv(e).catch(console.error),n.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function E4(t,e=!1){const n=t;return await C4(n),(await Yv(n,e)).token}async function C4(t){const{registrationPromise:e}=await qv(t);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function S4(t){if(!t||!t.options)throw Kp("App Configuration");if(!t.name)throw Kp("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!t.options[n])throw Kp(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}function Kp(t){return As.create("missing-app-config-values",{valueName:t})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bk="installations",b4="installations-internal",T4=t=>{const e=t.getProvider("app").getImmediate(),n=S4(e),r=qi(e,"heartbeat");return{app:e,appConfig:n,heartbeatServiceProvider:r,_delete:()=>Promise.resolve()}},k4=t=>{const e=t.getProvider("app").getImmediate(),n=qi(e,Bk).getImmediate();return{getId:()=>x4(n),getToken:i=>E4(n,i)}};function I4(){Dn(new gn(Bk,T4,"PUBLIC")),Dn(new gn(b4,k4,"PRIVATE"))}I4();Dt(bk,Gv);Dt(bk,Gv,"esm2017");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P4="/firebase-messaging-sw.js",R4="/firebase-cloud-messaging-push-scope",zk="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",A4="https://fcmregistrations.googleapis.com/v1",Wk="google.c.a.c_id",N4="google.c.a.c_l",D4="google.c.a.ts",O4="google.c.a.e",m1=1e4;var g1;(function(t){t[t.DATA_MESSAGE=1]="DATA_MESSAGE",t[t.DISPLAY_NOTIFICATION=3]="DISPLAY_NOTIFICATION"})(g1||(g1={}));/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License"); you may not use this file except
 * in compliance with the License. You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software distributed under the License
 * is distributed on an "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express
 * or implied. See the License for the specific language governing permissions and limitations under
 * the License.
 */var cc;(function(t){t.PUSH_RECEIVED="push-received",t.NOTIFICATION_CLICKED="notification-clicked"})(cc||(cc={}));/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ir(t){const e=new Uint8Array(t);return btoa(String.fromCharCode(...e)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function M4(t){const e="=".repeat((4-t.length%4)%4),n=(t+e).replace(/\-/g,"+").replace(/_/g,"/"),r=atob(n),i=new Uint8Array(r.length);for(let s=0;s<r.length;++s)i[s]=r.charCodeAt(s);return i}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qp="fcm_token_details_db",L4=5,y1="fcm_token_object_Store";async function j4(t){if("databases"in indexedDB&&!(await indexedDB.databases()).map(s=>s.name).includes(qp))return null;let e=null;return(await rf(qp,L4,{upgrade:async(r,i,s,o)=>{var a;if(i<2||!r.objectStoreNames.contains(y1))return;const l=o.objectStore(y1),c=await l.index("fcmSenderId").get(t);if(await l.clear(),!!c){if(i===2){const d=c;if(!d.auth||!d.p256dh||!d.endpoint)return;e={token:d.fcmToken,createTime:(a=d.createTime)!==null&&a!==void 0?a:Date.now(),subscriptionOptions:{auth:d.auth,p256dh:d.p256dh,endpoint:d.endpoint,swScope:d.swScope,vapidKey:typeof d.vapidKey=="string"?d.vapidKey:Ir(d.vapidKey)}}}else if(i===3){const d=c;e={token:d.fcmToken,createTime:d.createTime,subscriptionOptions:{auth:Ir(d.auth),p256dh:Ir(d.p256dh),endpoint:d.endpoint,swScope:d.swScope,vapidKey:Ir(d.vapidKey)}}}else if(i===4){const d=c;e={token:d.fcmToken,createTime:d.createTime,subscriptionOptions:{auth:Ir(d.auth),p256dh:Ir(d.p256dh),endpoint:d.endpoint,swScope:d.swScope,vapidKey:Ir(d.vapidKey)}}}}}})).close(),await zp(qp),await zp("fcm_vapid_details_db"),await zp("undefined"),F4(e)?e:null}function F4(t){if(!t||!t.subscriptionOptions)return!1;const{subscriptionOptions:e}=t;return typeof t.createTime=="number"&&t.createTime>0&&typeof t.token=="string"&&t.token.length>0&&typeof e.auth=="string"&&e.auth.length>0&&typeof e.p256dh=="string"&&e.p256dh.length>0&&typeof e.endpoint=="string"&&e.endpoint.length>0&&typeof e.swScope=="string"&&e.swScope.length>0&&typeof e.vapidKey=="string"&&e.vapidKey.length>0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $4="firebase-messaging-database",V4=1,uc="firebase-messaging-store";let Yp=null;function Hk(){return Yp||(Yp=rf($4,V4,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(uc)}}})),Yp}async function U4(t){const e=Gk(t),r=await(await Hk()).transaction(uc).objectStore(uc).get(e);if(r)return r;{const i=await j4(t.appConfig.senderId);if(i)return await Xv(t,i),i}}async function Xv(t,e){const n=Gk(t),i=(await Hk()).transaction(uc,"readwrite");return await i.objectStore(uc).put(e,n),await i.done,e}function Gk({appConfig:t}){return t.appId}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B4={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."},Ot=new Ws("messaging","Messaging",B4);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function z4(t,e){const n=await Qv(t),r=Kk(e),i={method:"POST",headers:n,body:JSON.stringify(r)};let s;try{s=await(await fetch(Jv(t.appConfig),i)).json()}catch(o){throw Ot.create("token-subscribe-failed",{errorInfo:o==null?void 0:o.toString()})}if(s.error){const o=s.error.message;throw Ot.create("token-subscribe-failed",{errorInfo:o})}if(!s.token)throw Ot.create("token-subscribe-no-token");return s.token}async function W4(t,e){const n=await Qv(t),r=Kk(e.subscriptionOptions),i={method:"PATCH",headers:n,body:JSON.stringify(r)};let s;try{s=await(await fetch(`${Jv(t.appConfig)}/${e.token}`,i)).json()}catch(o){throw Ot.create("token-update-failed",{errorInfo:o==null?void 0:o.toString()})}if(s.error){const o=s.error.message;throw Ot.create("token-update-failed",{errorInfo:o})}if(!s.token)throw Ot.create("token-update-no-token");return s.token}async function H4(t,e){const r={method:"DELETE",headers:await Qv(t)};try{const s=await(await fetch(`${Jv(t.appConfig)}/${e}`,r)).json();if(s.error){const o=s.error.message;throw Ot.create("token-unsubscribe-failed",{errorInfo:o})}}catch(i){throw Ot.create("token-unsubscribe-failed",{errorInfo:i==null?void 0:i.toString()})}}function Jv({projectId:t}){return`${A4}/projects/${t}/registrations`}async function Qv({appConfig:t,installations:e}){const n=await e.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t.apiKey,"x-goog-firebase-installations-auth":`FIS ${n}`})}function Kk({p256dh:t,auth:e,endpoint:n,vapidKey:r}){const i={web:{endpoint:n,auth:e,p256dh:t}};return r!==zk&&(i.web.applicationPubKey=r),i}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G4=7*24*60*60*1e3;async function K4(t){const e=await Y4(t.swRegistration,t.vapidKey),n={vapidKey:t.vapidKey,swScope:t.swRegistration.scope,endpoint:e.endpoint,auth:Ir(e.getKey("auth")),p256dh:Ir(e.getKey("p256dh"))},r=await U4(t.firebaseDependencies);if(r){if(X4(r.subscriptionOptions,n))return Date.now()>=r.createTime+G4?q4(t,{token:r.token,createTime:Date.now(),subscriptionOptions:n}):r.token;try{await H4(t.firebaseDependencies,r.token)}catch(i){console.warn(i)}return v1(t.firebaseDependencies,n)}else return v1(t.firebaseDependencies,n)}async function q4(t,e){try{const n=await W4(t.firebaseDependencies,e),r=Object.assign(Object.assign({},e),{token:n,createTime:Date.now()});return await Xv(t.firebaseDependencies,r),n}catch(n){throw n}}async function v1(t,e){const r={token:await z4(t,e),createTime:Date.now(),subscriptionOptions:e};return await Xv(t,r),r.token}async function Y4(t,e){const n=await t.pushManager.getSubscription();return n||t.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:M4(e)})}function X4(t,e){const n=e.vapidKey===t.vapidKey,r=e.endpoint===t.endpoint,i=e.auth===t.auth,s=e.p256dh===t.p256dh;return n&&r&&i&&s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _1(t){const e={from:t.from,collapseKey:t.collapse_key,messageId:t.fcmMessageId};return J4(e,t),Q4(e,t),Z4(e,t),e}function J4(t,e){if(!e.notification)return;t.notification={};const n=e.notification.title;n&&(t.notification.title=n);const r=e.notification.body;r&&(t.notification.body=r);const i=e.notification.image;i&&(t.notification.image=i);const s=e.notification.icon;s&&(t.notification.icon=s)}function Q4(t,e){e.data&&(t.data=e.data)}function Z4(t,e){var n,r,i,s,o;if(!e.fcmOptions&&!(!((n=e.notification)===null||n===void 0)&&n.click_action))return;t.fcmOptions={};const a=(i=(r=e.fcmOptions)===null||r===void 0?void 0:r.link)!==null&&i!==void 0?i:(s=e.notification)===null||s===void 0?void 0:s.click_action;a&&(t.fcmOptions.link=a);const l=(o=e.fcmOptions)===null||o===void 0?void 0:o.analytics_label;l&&(t.fcmOptions.analyticsLabel=l)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function e5(t){return typeof t=="object"&&!!t&&Wk in t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */t5("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");function t5(t,e){const n=[];for(let r=0;r<t.length;r++)n.push(t.charAt(r)),r<e.length&&n.push(e.charAt(r));return n.join("")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function n5(t){if(!t||!t.options)throw Xp("App Configuration Object");if(!t.name)throw Xp("App Name");const e=["projectId","apiKey","appId","messagingSenderId"],{options:n}=t;for(const r of e)if(!n[r])throw Xp(r);return{appName:t.name,projectId:n.projectId,apiKey:n.apiKey,appId:n.appId,senderId:n.messagingSenderId}}function Xp(t){return Ot.create("missing-app-config-values",{valueName:t})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r5{constructor(e,n,r){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const i=n5(e);this.firebaseDependencies={app:e,appConfig:i,installations:n,analyticsProvider:r}}_delete(){return Promise.resolve()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function i5(t){try{t.swRegistration=await navigator.serviceWorker.register(P4,{scope:R4}),t.swRegistration.update().catch(()=>{}),await s5(t.swRegistration)}catch(e){throw Ot.create("failed-service-worker-registration",{browserErrorMessage:e==null?void 0:e.message})}}async function s5(t){return new Promise((e,n)=>{const r=setTimeout(()=>n(new Error(`Service worker not registered after ${m1} ms`)),m1),i=t.installing||t.waiting;t.active?(clearTimeout(r),e()):i?i.onstatechange=s=>{var o;((o=s.target)===null||o===void 0?void 0:o.state)==="activated"&&(i.onstatechange=null,clearTimeout(r),e())}:(clearTimeout(r),n(new Error("No incoming service worker found.")))})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function o5(t,e){if(!e&&!t.swRegistration&&await i5(t),!(!e&&t.swRegistration)){if(!(e instanceof ServiceWorkerRegistration))throw Ot.create("invalid-sw-registration");t.swRegistration=e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function a5(t,e){e?t.vapidKey=e:t.vapidKey||(t.vapidKey=zk)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qk(t,e){if(!navigator)throw Ot.create("only-available-in-window");if(Notification.permission==="default"&&await Notification.requestPermission(),Notification.permission!=="granted")throw Ot.create("permission-blocked");return await a5(t,e==null?void 0:e.vapidKey),await o5(t,e==null?void 0:e.serviceWorkerRegistration),K4(t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function l5(t,e,n){const r=c5(e);(await t.firebaseDependencies.analyticsProvider.get()).logEvent(r,{message_id:n[Wk],message_name:n[N4],message_time:n[D4],message_device_time:Math.floor(Date.now()/1e3)})}function c5(t){switch(t){case cc.NOTIFICATION_CLICKED:return"notification_open";case cc.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function u5(t,e){const n=e.data;if(!n.isFirebaseMessaging)return;t.onMessageHandler&&n.messageType===cc.PUSH_RECEIVED&&(typeof t.onMessageHandler=="function"?t.onMessageHandler(_1(n)):t.onMessageHandler.next(_1(n)));const r=n.data;e5(r)&&r[O4]==="1"&&await l5(t,n.messageType,r)}const w1="@firebase/messaging",x1="0.12.20";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d5=t=>{const e=new r5(t.getProvider("app").getImmediate(),t.getProvider("installations-internal").getImmediate(),t.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",n=>u5(e,n)),e},h5=t=>{const e=t.getProvider("messaging").getImmediate();return{getToken:r=>qk(e,r)}};function f5(){Dn(new gn("messaging",d5,"PUBLIC")),Dn(new gn("messaging-internal",h5,"PRIVATE")),Dt(w1,x1),Dt(w1,x1,"esm2017")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function p5(){try{await vk()}catch{return!1}return typeof window<"u"&&yk()&&TL()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function m5(t,e){if(!navigator)throw Ot.create("only-available-in-window");return t.onMessageHandler=e,()=>{t.onMessageHandler=null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rg(t=$c()){return p5().then(e=>{if(!e)throw Ot.create("unsupported-browser")},e=>{throw Ot.create("indexed-db-unsupported")}),qi(Xe(t),"messaging").getImmediate()}async function g5(t,e){return t=Xe(t),qk(t,e)}function y5(t,e){return t=Xe(t),m5(t,e)}f5();var v5="firebase",_5="11.7.3";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Dt(v5,_5,"app");var Ag=function(t,e){return Ag=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(n[i]=r[i])},Ag(t,e)};function w5(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");Ag(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}var at=function(){return at=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},at.apply(this,arguments)};function Zv(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function Yk(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const x5=Yk,Xk=new Ws("auth","Firebase",Yk());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ih=new nf("@firebase/auth");function E5(t,...e){ih.logLevel<=me.WARN&&ih.warn(`Auth (${Yi}): ${t}`,...e)}function fd(t,...e){ih.logLevel<=me.ERROR&&ih.error(`Auth (${Yi}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function On(t,...e){throw t0(t,...e)}function Jn(t,...e){return t0(t,...e)}function e0(t,e,n){const r=Object.assign(Object.assign({},x5()),{[e]:n});return new Ws("auth","Firebase",r).create(e,{appName:t.name})}function Vr(t){return e0(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function C5(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&On(t,"argument-error"),e0(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function t0(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return Xk.create(t,...e)}function Y(t,e,...n){if(!t)throw t0(e,...n)}function Or(t){const e="INTERNAL ASSERTION FAILED: "+t;throw fd(e),new Error(e)}function qr(t,e){t||Or(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ng(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function S5(){return E1()==="http:"||E1()==="https:"}function E1(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function b5(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(S5()||SL()||"connection"in navigator)?navigator.onLine:!0}function T5(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vc{constructor(e,n){this.shortDelay=e,this.longDelay=n,qr(n>e,"Short delay should be less than long delay!"),this.isMobile=Wv()||mk()}get(){return b5()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function n0(t,e){qr(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jk{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Or("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Or("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Or("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k5={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I5=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],P5=new Vc(3e4,6e4);function ti(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function ni(t,e,n,r,i={}){return Qk(t,i,async()=>{let s={},o={};r&&(e==="GET"?o=r:s={body:JSON.stringify(r)});const a=wa(Object.assign({key:t.config.apiKey},o)).slice(1),l=await t._getAdditionalHeaders();l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode);const c=Object.assign({method:e,headers:l},s);return CL()||(c.referrerPolicy="no-referrer"),t.emulatorConfig&&zs(t.emulatorConfig.host)&&(c.credentials="include"),Jk.fetch()(await Zk(t,t.config.apiHost,n,a),c)})}async function Qk(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},k5),e);try{const i=new A5(t),s=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=await s.json();if("needConfirmation"in o)throw Fu(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[l,c]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw Fu(t,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw Fu(t,"email-already-in-use",o);if(l==="USER_DISABLED")throw Fu(t,"user-disabled",o);const d=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw e0(t,d,c);On(t,d)}}catch(i){if(i instanceof rr)throw i;On(t,"network-request-failed",{message:String(i)})}}async function Uc(t,e,n,r,i={}){const s=await ni(t,e,n,r,i);return"mfaPendingCredential"in s&&On(t,"multi-factor-auth-required",{_serverResponse:s}),s}async function Zk(t,e,n,r){const i=`${e}${n}?${r}`,s=t,o=s.config.emulator?n0(t.config,i):`${t.config.apiScheme}://${i}`;return I5.includes(n)&&(await s._persistenceManagerAvailable,s._getPersistenceType()==="COOKIE")?s._getPersistence()._getFinalTarget(o).toString():o}function R5(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class A5{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Jn(this.auth,"network-request-failed")),P5.get())})}}function Fu(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Jn(t,e,r);return i.customData._tokenResponse=n,i}function C1(t){return t!==void 0&&t.enterprise!==void 0}class N5{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return R5(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function D5(t,e){return ni(t,"GET","/v2/recaptchaConfig",ti(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function O5(t,e){return ni(t,"POST","/v1/accounts:delete",e)}async function sh(t,e){return ni(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pl(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function M5(t,e=!1){const n=Xe(t),r=await n.getIdToken(e),i=r0(r);Y(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,o=s==null?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:Pl(Jp(i.auth_time)),issuedAtTime:Pl(Jp(i.iat)),expirationTime:Pl(Jp(i.exp)),signInProvider:o||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function Jp(t){return Number(t)*1e3}function r0(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return fd("JWT malformed, contained fewer than 3 sections"),null;try{const i=eh(n);return i?JSON.parse(i):(fd("Failed to decode base64 JWT payload"),null)}catch(i){return fd("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function S1(t){const e=r0(t);return Y(e,"internal-error"),Y(typeof e.exp<"u","internal-error"),Y(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dc(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof rr&&L5(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function L5({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j5{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dg{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Pl(this.lastLoginAt),this.creationTime=Pl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oh(t){var e;const n=t.auth,r=await t.getIdToken(),i=await dc(t,sh(n,{idToken:r}));Y(i==null?void 0:i.users.length,n,"internal-error");const s=i.users[0];t._notifyReloadListener(s);const o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?eI(s.providerUserInfo):[],a=$5(t.providerData,o),l=t.isAnonymous,c=!(t.email&&s.passwordHash)&&!(a!=null&&a.length),d=l?c:!1,h={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new Dg(s.createdAt,s.lastLoginAt),isAnonymous:d};Object.assign(t,h)}async function F5(t){const e=Xe(t);await oh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function $5(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function eI(t){return t.map(e=>{var{providerId:n}=e,r=Zv(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function V5(t,e){const n=await Qk(t,{},async()=>{const r=wa({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=await Zk(t,i,"/v1/token",`key=${s}`),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",Jk.fetch()(o,{method:"POST",headers:a,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function U5(t,e){return ni(t,"POST","/v2/accounts:revokeToken",ti(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Y(e.idToken,"internal-error"),Y(typeof e.idToken<"u","internal-error"),Y(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):S1(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Y(e.length!==0,"internal-error");const n=S1(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Y(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:s}=await V5(e,n);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new Lo;return r&&(Y(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(Y(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(Y(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Lo,this.toJSON())}_performRefresh(){return Or("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ci(t,e){Y(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Hn{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=Zv(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new j5(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new Dg(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await dc(this,this.stsTokenManager.getToken(this.auth,e));return Y(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return M5(this,e)}reload(){return F5(this)}_assign(e){this!==e&&(Y(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Hn(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){Y(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await oh(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Vt(this.auth.app))return Promise.reject(Vr(this.auth));const e=await this.getIdToken();return await dc(this,O5(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,a,l,c,d;const h=(r=n.displayName)!==null&&r!==void 0?r:void 0,f=(i=n.email)!==null&&i!==void 0?i:void 0,v=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,w=(o=n.photoURL)!==null&&o!==void 0?o:void 0,S=(a=n.tenantId)!==null&&a!==void 0?a:void 0,P=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,_=(c=n.createdAt)!==null&&c!==void 0?c:void 0,E=(d=n.lastLoginAt)!==null&&d!==void 0?d:void 0,{uid:x,emailVerified:A,isAnonymous:D,providerData:M,stsTokenManager:b}=n;Y(x&&b,e,"internal-error");const C=Lo.fromJSON(this.name,b);Y(typeof x=="string",e,"internal-error"),ci(h,e.name),ci(f,e.name),Y(typeof A=="boolean",e,"internal-error"),Y(typeof D=="boolean",e,"internal-error"),ci(v,e.name),ci(w,e.name),ci(S,e.name),ci(P,e.name),ci(_,e.name),ci(E,e.name);const I=new Hn({uid:x,auth:e,email:f,emailVerified:A,displayName:h,isAnonymous:D,photoURL:w,phoneNumber:v,tenantId:S,stsTokenManager:C,createdAt:_,lastLoginAt:E});return M&&Array.isArray(M)&&(I.providerData=M.map(g=>Object.assign({},g))),P&&(I._redirectEventId=P),I}static async _fromIdTokenResponse(e,n,r=!1){const i=new Lo;i.updateFromServerResponse(n);const s=new Hn({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await oh(s),s}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];Y(i.localId!==void 0,"internal-error");const s=i.providerUserInfo!==void 0?eI(i.providerUserInfo):[],o=!(i.email&&i.passwordHash)&&!(s!=null&&s.length),a=new Lo;a.updateFromIdToken(r);const l=new Hn({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:o}),c={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new Dg(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(s!=null&&s.length)};return Object.assign(l,c),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b1=new Map;function Mr(t){qr(t instanceof Function,"Expected a class definition");let e=b1.get(t);return e?(qr(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,b1.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tI{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}tI.type="NONE";const T1=tI;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pd(t,e,n){return`firebase:${t}:${e}:${n}`}class jo{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=pd(this.userKey,i.apiKey,s),this.fullPersistenceKey=pd("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await sh(this.auth,{idToken:e}).catch(()=>{});return n?Hn._fromGetAccountInfoResponse(this.auth,n,e):null}return Hn._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new jo(Mr(T1),e,r);const i=(await Promise.all(n.map(async c=>{if(await c._isAvailable())return c}))).filter(c=>c);let s=i[0]||Mr(T1);const o=pd(r,e.config.apiKey,e.name);let a=null;for(const c of n)try{const d=await c._get(o);if(d){let h;if(typeof d=="string"){const f=await sh(e,{idToken:d}).catch(()=>{});if(!f)break;h=await Hn._fromGetAccountInfoResponse(e,f,d)}else h=Hn._fromJSON(e,d);c!==s&&(a=h),s=c;break}}catch{}const l=i.filter(c=>c._shouldAllowMigration);return!s._shouldAllowMigration||!l.length?new jo(s,e,r):(s=l[0],a&&await s._set(o,a.toJSON()),await Promise.all(n.map(async c=>{if(c!==s)try{await c._remove(o)}catch{}})),new jo(s,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function k1(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(sI(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(nI(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(aI(e))return"Blackberry";if(lI(e))return"Webos";if(rI(e))return"Safari";if((e.includes("chrome/")||iI(e))&&!e.includes("edge/"))return"Chrome";if(oI(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function nI(t=Ht()){return/firefox\//i.test(t)}function rI(t=Ht()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function iI(t=Ht()){return/crios\//i.test(t)}function sI(t=Ht()){return/iemobile/i.test(t)}function oI(t=Ht()){return/android/i.test(t)}function aI(t=Ht()){return/blackberry/i.test(t)}function lI(t=Ht()){return/webos/i.test(t)}function i0(t=Ht()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function B5(t=Ht()){var e;return i0(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function z5(){return bL()&&document.documentMode===10}function cI(t=Ht()){return i0(t)||oI(t)||lI(t)||aI(t)||/windows phone/i.test(t)||sI(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uI(t,e=[]){let n;switch(t){case"Browser":n=k1(Ht());break;case"Worker":n=`${k1(Ht())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Yi}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W5{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((o,a)=>{try{const l=e(s);o(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function H5(t,e={}){return ni(t,"GET","/v2/passwordPolicy",ti(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G5=6;class K5{constructor(e){var n,r,i,s;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:G5,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,s,o,a;const l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=(n=l.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),l.isValid&&(l.isValid=(r=l.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(i=l.containsLowercaseLetter)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(s=l.containsUppercaseLetter)!==null&&s!==void 0?s:!0),l.isValid&&(l.isValid=(o=l.containsNumericCharacter)!==null&&o!==void 0?o:!0),l.isValid&&(l.isValid=(a=l.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),l}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q5{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new I1(this),this.idTokenSubscription=new I1(this),this.beforeStateQueue=new W5(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Xk,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(s=>this._resolvePersistenceManagerAvailable=s)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Mr(n)),this._initializationPromise=this.queue(async()=>{var r,i,s;if(!this._deleted&&(this.persistenceManager=await jo.create(this,e),(r=this._resolvePersistenceManagerAvailable)===null||r===void 0||r.call(this),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((s=this.currentUser)===null||s===void 0?void 0:s.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await sh(this,{idToken:e}),r=await Hn._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(Vt(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let i=r,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i==null?void 0:i._redirectEventId,l=await this.tryRedirectSignIn(e);(!o||o===a)&&(l!=null&&l.user)&&(i=l.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return Y(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await oh(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=T5()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Vt(this.app))return Promise.reject(Vr(this));const n=e?Xe(e):null;return n&&Y(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Y(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Vt(this.app)?Promise.reject(Vr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Vt(this.app)?Promise.reject(Vr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Mr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await H5(this),n=new K5(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Ws("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await U5(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Mr(e)||this._popupRedirectResolver;Y(n,this,"argument-error"),this.redirectPersistenceManager=await jo.create(this,[Mr(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(Y(a,this,"internal-error"),a.then(()=>{o||s(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,r,i);return()=>{o=!0,l()}}else{const l=e.addObserver(n);return()=>{o=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Y(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=uI(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;if(Vt(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&E5(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function Xi(t){return Xe(t)}class I1{constructor(e){this.auth=e,this.observer=null,this.addObserver=DL(n=>this.observer=n)}get next(){return Y(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let af={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Y5(t){af=t}function dI(t){return af.loadJS(t)}function X5(){return af.recaptchaEnterpriseScript}function J5(){return af.gapiScript}function Q5(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class Z5{constructor(){this.enterprise=new eF}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class eF{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const tF="recaptcha-enterprise",hI="NO_RECAPTCHA";class nF{constructor(e){this.type=tF,this.auth=Xi(e)}async verify(e="verify",n=!1){async function r(s){if(!n){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise(async(o,a)=>{D5(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const c=new N5(l);return s.tenantId==null?s._agentRecaptchaConfig=c:s._tenantRecaptchaConfigs[s.tenantId]=c,o(c.siteKey)}}).catch(l=>{a(l)})})}function i(s,o,a){const l=window.grecaptcha;C1(l)?l.enterprise.ready(()=>{l.enterprise.execute(s,{action:e}).then(c=>{o(c)}).catch(()=>{o(hI)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new Z5().execute("siteKey",{action:"verify"}):new Promise((s,o)=>{r(this.auth).then(a=>{if(!n&&C1(window.grecaptcha))i(a,s,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let l=X5();l.length!==0&&(l+=a),dI(l).then(()=>{i(a,s,o)}).catch(c=>{o(c)})}}).catch(a=>{o(a)})})}}async function Ja(t,e,n,r=!1,i=!1){const s=new nF(t);let o;if(i)o=hI;else try{o=await s.verify(n)}catch{o=await s.verify(n,!0)}const a=Object.assign({},e);if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in a){const l=a.phoneEnrollmentInfo.phoneNumber,c=a.phoneEnrollmentInfo.recaptchaToken;Object.assign(a,{phoneEnrollmentInfo:{phoneNumber:l,recaptchaToken:c,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in a){const l=a.phoneSignInInfo.recaptchaToken;Object.assign(a,{phoneSignInInfo:{recaptchaToken:l,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return a}return r?Object.assign(a,{captchaResp:o}):Object.assign(a,{captchaResponse:o}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a}async function Og(t,e,n,r,i){var s,o;if(i==="EMAIL_PASSWORD_PROVIDER")if(!((s=t._getRecaptchaConfig())===null||s===void 0)&&s.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const a=await Ja(t,e,n,n==="getOobCode");return r(t,a)}else return r(t,e).catch(async a=>{if(a.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const l=await Ja(t,e,n,n==="getOobCode");return r(t,l)}else return Promise.reject(a)});else if(i==="PHONE_PROVIDER")if(!((o=t._getRecaptchaConfig())===null||o===void 0)&&o.isProviderEnabled("PHONE_PROVIDER")){const a=await Ja(t,e,n);return r(t,a).catch(async l=>{var c;if(((c=t._getRecaptchaConfig())===null||c===void 0?void 0:c.getProviderEnforcementState("PHONE_PROVIDER"))==="AUDIT"&&(l.code==="auth/missing-recaptcha-token"||l.code==="auth/invalid-app-credential")){console.log(`Failed to verify with reCAPTCHA Enterprise. Automatically triggering the reCAPTCHA v2 flow to complete the ${n} flow.`);const d=await Ja(t,e,n,!1,!0);return r(t,d)}return Promise.reject(l)})}else{const a=await Ja(t,e,n,!1,!0);return r(t,a)}else return Promise.reject(i+" provider is not supported.")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rF(t,e){const n=qi(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),s=n.getOptions();if(Li(s,e??{}))return i;On(i,"already-initialized")}return n.initialize({options:e})}function iF(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Mr);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function fI(t,e,n){const r=Xi(t);Y(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!!(n!=null&&n.disableWarnings),s=pI(e),{host:o,port:a}=sF(e),l=a===null?"":`:${a}`,c={url:`${s}//${o}${l}/`},d=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){Y(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),Y(Li(c,r.config.emulator)&&Li(d,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=c,r.emulatorConfig=d,r.settings.appVerificationDisabledForTesting=!0,zs(o)?(Ki("Auth",!0),Zh(`${s}//${o}${l}`)):i||oF()}function pI(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function sF(t){const e=pI(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:P1(r.substr(s.length+1))}}else{const[s,o]=r.split(":");return{host:s,port:P1(o)}}}function P1(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function oF(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s0{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Or("not implemented")}_getIdTokenResponse(e){return Or("not implemented")}_linkToIdToken(e,n){return Or("not implemented")}_getReauthenticationResolver(e){return Or("not implemented")}}async function aF(t,e){return ni(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lF(t,e){return Uc(t,"POST","/v1/accounts:signInWithPassword",ti(t,e))}async function cF(t,e){return ni(t,"POST","/v1/accounts:sendOobCode",ti(t,e))}async function uF(t,e){return cF(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dF(t,e){return Uc(t,"POST","/v1/accounts:signInWithEmailLink",ti(t,e))}async function hF(t,e){return Uc(t,"POST","/v1/accounts:signInWithEmailLink",ti(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hc extends s0{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new hc(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new hc(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Og(e,n,"signInWithPassword",lF,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return dF(e,{email:this._email,oobCode:this._password});default:On(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Og(e,r,"signUpPassword",aF,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return hF(e,{idToken:n,email:this._email,oobCode:this._password});default:On(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Fo(t,e){return Uc(t,"POST","/v1/accounts:signInWithIdp",ti(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fF="http://localhost";class Ds extends s0{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Ds(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):On("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,s=Zv(n,["providerId","signInMethod"]);if(!r||!i)return null;const o=new Ds(r,i);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return Fo(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Fo(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Fo(e,n)}buildRequest(){const e={requestUri:fF,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=wa(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pF(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function mF(t){const e=dl(hl(t)).link,n=e?dl(hl(e)).deep_link_id:null,r=dl(hl(t)).deep_link_id;return(r?dl(hl(r)).link:null)||r||n||e||t}class o0{constructor(e){var n,r,i,s,o,a;const l=dl(hl(e)),c=(n=l.apiKey)!==null&&n!==void 0?n:null,d=(r=l.oobCode)!==null&&r!==void 0?r:null,h=pF((i=l.mode)!==null&&i!==void 0?i:null);Y(c&&d&&h,"argument-error"),this.apiKey=c,this.operation=h,this.code=d,this.continueUrl=(s=l.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(o=l.lang)!==null&&o!==void 0?o:null,this.tenantId=(a=l.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){const n=mF(e);try{return new o0(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xa{constructor(){this.providerId=xa.PROVIDER_ID}static credential(e,n){return hc._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=o0.parseLink(n);return Y(r,"argument-error"),hc._fromEmailAndCode(e,r.code,r.tenantId)}}xa.PROVIDER_ID="password";xa.EMAIL_PASSWORD_SIGN_IN_METHOD="password";xa.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a0{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bc extends a0{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mi extends Bc{constructor(){super("facebook.com")}static credential(e){return Ds._fromParams({providerId:mi.PROVIDER_ID,signInMethod:mi.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return mi.credentialFromTaggedObject(e)}static credentialFromError(e){return mi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return mi.credential(e.oauthAccessToken)}catch{return null}}}mi.FACEBOOK_SIGN_IN_METHOD="facebook.com";mi.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rr extends Bc{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Ds._fromParams({providerId:Rr.PROVIDER_ID,signInMethod:Rr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Rr.credentialFromTaggedObject(e)}static credentialFromError(e){return Rr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Rr.credential(n,r)}catch{return null}}}Rr.GOOGLE_SIGN_IN_METHOD="google.com";Rr.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gi extends Bc{constructor(){super("github.com")}static credential(e){return Ds._fromParams({providerId:gi.PROVIDER_ID,signInMethod:gi.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return gi.credentialFromTaggedObject(e)}static credentialFromError(e){return gi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return gi.credential(e.oauthAccessToken)}catch{return null}}}gi.GITHUB_SIGN_IN_METHOD="github.com";gi.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yi extends Bc{constructor(){super("twitter.com")}static credential(e,n){return Ds._fromParams({providerId:yi.PROVIDER_ID,signInMethod:yi.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return yi.credentialFromTaggedObject(e)}static credentialFromError(e){return yi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return yi.credential(n,r)}catch{return null}}}yi.TWITTER_SIGN_IN_METHOD="twitter.com";yi.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gF(t,e){return Uc(t,"POST","/v1/accounts:signUp",ti(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Os{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const s=await Hn._fromIdTokenResponse(e,r,i),o=R1(r);return new Os({user:s,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=R1(r);return new Os({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function R1(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ah extends rr{constructor(e,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,ah.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new ah(e,n,r,i)}}function mI(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?ah._fromErrorAndOperation(t,s,e,r):s})}async function yF(t,e,n=!1){const r=await dc(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Os._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vF(t,e,n=!1){const{auth:r}=t;if(Vt(r.app))return Promise.reject(Vr(r));const i="reauthenticate";try{const s=await dc(t,mI(r,i,e,t),n);Y(s.idToken,r,"internal-error");const o=r0(s.idToken);Y(o,r,"internal-error");const{sub:a}=o;return Y(t.uid===a,r,"user-mismatch"),Os._forOperation(t,i,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&On(r,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gI(t,e,n=!1){if(Vt(t.app))return Promise.reject(Vr(t));const r="signIn",i=await mI(t,r,e),s=await Os._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(s.user),s}async function _F(t,e){return gI(Xi(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wF(t,e,n){var r;Y(((r=n.url)===null||r===void 0?void 0:r.length)>0,t,"invalid-continue-uri"),Y(typeof n.dynamicLinkDomain>"u"||n.dynamicLinkDomain.length>0,t,"invalid-dynamic-link-domain"),Y(typeof n.linkDomain>"u"||n.linkDomain.length>0,t,"invalid-hosting-link-domain"),e.continueUrl=n.url,e.dynamicLinkDomain=n.dynamicLinkDomain,e.linkDomain=n.linkDomain,e.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(Y(n.iOS.bundleId.length>0,t,"missing-ios-bundle-id"),e.iOSBundleId=n.iOS.bundleId),n.android&&(Y(n.android.packageName.length>0,t,"missing-android-pkg-name"),e.androidInstallApp=n.android.installApp,e.androidMinimumVersionCode=n.android.minimumVersion,e.androidPackageName=n.android.packageName)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yI(t){const e=Xi(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function xF(t,e,n){if(Vt(t.app))return Promise.reject(Vr(t));const r=Xi(t),o=await Og(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",gF,"EMAIL_PASSWORD_PROVIDER").catch(l=>{throw l.code==="auth/password-does-not-meet-requirements"&&yI(t),l}),a=await Os._fromIdTokenResponse(r,"signIn",o);return await r._updateCurrentUser(a.user),a}function EF(t,e,n){return Vt(t.app)?Promise.reject(Vr(t)):_F(Xe(t),xa.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&yI(t),r})}async function Mg(t,e){const n=Xe(t),i={requestType:"VERIFY_EMAIL",idToken:await t.getIdToken()};e&&wF(n.auth,i,e);const{email:s}=await uF(n.auth,i);s!==t.email&&await t.reload()}function CF(t,e,n,r){return Xe(t).onIdTokenChanged(e,n,r)}function SF(t,e,n){return Xe(t).beforeAuthStateChanged(e,n)}function bF(t,e,n,r){return Xe(t).onAuthStateChanged(e,n,r)}function TF(t){return Xe(t).signOut()}const lh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vI{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(lh,"1"),this.storage.removeItem(lh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kF=1e3,IF=10;class _I extends vI{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=cI(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,l)=>{this.notifyListeners(o,l)});return}const r=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},s=this.storage.getItem(r);z5()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,IF):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},kF)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}_I.type="LOCAL";const PF=_I;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wI extends vI{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}wI.type="SESSION";const xI=wI;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RF(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lf{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new lf(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:s}=n.data,o=this.handlersMap[i];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const a=Array.from(o).map(async c=>c(n.origin,s)),l=await RF(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}lf.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function l0(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AF{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((a,l)=>{const c=l0("",20);i.port1.start();const d=setTimeout(()=>{l(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(h){const f=h;if(f.data.eventId===c)switch(f.data.status){case"ack":clearTimeout(d),s=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(f.data.response);break;default:clearTimeout(d),clearTimeout(s),l(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:c,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mr(){return window}function NF(t){mr().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EI(){return typeof mr().WorkerGlobalScope<"u"&&typeof mr().importScripts=="function"}async function DF(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function OF(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function MF(){return EI()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CI="firebaseLocalStorageDb",LF=1,ch="firebaseLocalStorage",SI="fbase_key";class zc{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function cf(t,e){return t.transaction([ch],e?"readwrite":"readonly").objectStore(ch)}function jF(){const t=indexedDB.deleteDatabase(CI);return new zc(t).toPromise()}function Lg(){const t=indexedDB.open(CI,LF);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(ch,{keyPath:SI})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(ch)?e(r):(r.close(),await jF(),e(await Lg()))})})}async function A1(t,e,n){const r=cf(t,!0).put({[SI]:e,value:n});return new zc(r).toPromise()}async function FF(t,e){const n=cf(t,!1).get(e),r=await new zc(n).toPromise();return r===void 0?null:r.value}function N1(t,e){const n=cf(t,!0).delete(e);return new zc(n).toPromise()}const $F=800,VF=3;class bI{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Lg(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>VF)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return EI()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=lf._getInstance(MF()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await DF(),!this.activeServiceWorker)return;this.sender=new AF(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||OF()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Lg();return await A1(e,lh,"1"),await N1(e,lh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>A1(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>FF(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>N1(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=cf(i,!1).getAll();return new zc(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:s}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),$F)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}bI.type="LOCAL";const UF=bI;new Vc(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TI(t,e){return e?Mr(e):(Y(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c0 extends s0{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Fo(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Fo(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Fo(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function BF(t){return gI(t.auth,new c0(t),t.bypassAuthState)}function zF(t){const{auth:e,user:n}=t;return Y(n,e,"internal-error"),vF(n,new c0(t),t.bypassAuthState)}async function WF(t){const{auth:e,user:n}=t;return Y(n,e,"internal-error"),yF(n,new c0(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kI{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:o,type:a}=e;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(c){this.reject(c)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return BF;case"linkViaPopup":case"linkViaRedirect":return WF;case"reauthViaPopup":case"reauthViaRedirect":return zF;default:On(this.auth,"internal-error")}}resolve(e){qr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){qr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HF=new Vc(2e3,1e4);async function GF(t,e,n){if(Vt(t.app))return Promise.reject(Jn(t,"operation-not-supported-in-this-environment"));const r=Xi(t);C5(t,e,a0);const i=TI(r,n);return new ys(r,"signInViaPopup",e,i).executeNotNull()}class ys extends kI{constructor(e,n,r,i,s){super(e,n,i,s),this.provider=r,this.authWindow=null,this.pollId=null,ys.currentPopupAction&&ys.currentPopupAction.cancel(),ys.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Y(e,this.auth,"internal-error"),e}async onExecution(){qr(this.filter.length===1,"Popup operations only handle one event");const e=l0();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Jn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Jn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,ys.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Jn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,HF.get())};e()}}ys.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KF="pendingRedirect",md=new Map;class qF extends kI{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=md.get(this.auth._key());if(!e){try{const r=await YF(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}md.set(this.auth._key(),e)}return this.bypassAuthState||md.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function YF(t,e){const n=QF(e),r=JF(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function XF(t,e){md.set(t._key(),e)}function JF(t){return Mr(t._redirectPersistence)}function QF(t){return pd(KF,t.config.apiKey,t.name)}async function ZF(t,e,n=!1){if(Vt(t.app))return Promise.reject(Vr(t));const r=Xi(t),i=TI(r,e),o=await new qF(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e3=10*60*1e3;class t3{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!n3(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!II(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(Jn(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=e3&&this.cachedEventUids.clear(),this.cachedEventUids.has(D1(e))}saveEventToCache(e){this.cachedEventUids.add(D1(e)),this.lastProcessedEventTime=Date.now()}}function D1(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function II({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function n3(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return II(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function r3(t,e={}){return ni(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i3=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,s3=/^https?/;async function o3(t){if(t.config.emulator)return;const{authorizedDomains:e}=await r3(t);for(const n of e)try{if(a3(n))return}catch{}On(t,"unauthorized-domain")}function a3(t){const e=Ng(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!s3.test(n))return!1;if(i3.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l3=new Vc(3e4,6e4);function O1(){const t=mr().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function c3(t){return new Promise((e,n)=>{var r,i,s;function o(){O1(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{O1(),n(Jn(t,"network-request-failed"))},timeout:l3.get()})}if(!((i=(r=mr().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=mr().gapi)===null||s===void 0)&&s.load)o();else{const a=Q5("iframefcb");return mr()[a]=()=>{gapi.load?o():n(Jn(t,"network-request-failed"))},dI(`${J5()}?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw gd=null,e})}let gd=null;function u3(t){return gd=gd||c3(t),gd}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d3=new Vc(5e3,15e3),h3="__/auth/iframe",f3="emulator/auth/iframe",p3={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},m3=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function g3(t){const e=t.config;Y(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?n0(e,f3):`https://${t.config.authDomain}/${h3}`,r={apiKey:e.apiKey,appName:t.name,v:Yi},i=m3.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${wa(r).slice(1)}`}async function y3(t){const e=await u3(t),n=mr().gapi;return Y(n,t,"internal-error"),e.open({where:document.body,url:g3(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:p3,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const o=Jn(t,"network-request-failed"),a=mr().setTimeout(()=>{s(o)},d3.get());function l(){mr().clearTimeout(a),i(r)}r.ping(l).then(l,()=>{s(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v3={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},_3=500,w3=600,x3="_blank",E3="http://localhost";class M1{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function C3(t,e,n,r=_3,i=w3){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=Object.assign(Object.assign({},v3),{width:r.toString(),height:i.toString(),top:s,left:o}),c=Ht().toLowerCase();n&&(a=iI(c)?x3:n),nI(c)&&(e=e||E3,l.scrollbars="yes");const d=Object.entries(l).reduce((f,[v,w])=>`${f}${v}=${w},`,"");if(B5(c)&&a!=="_self")return S3(e||"",a),new M1(null);const h=window.open(e||"",a,d);Y(h,t,"popup-blocked");try{h.focus()}catch{}return new M1(h)}function S3(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b3="__/auth/handler",T3="emulator/auth/handler",k3=encodeURIComponent("fac");async function L1(t,e,n,r,i,s){Y(t.config.authDomain,t,"auth-domain-config-required"),Y(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Yi,eventId:i};if(e instanceof a0){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",Cg(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[d,h]of Object.entries(s||{}))o[d]=h}if(e instanceof Bc){const d=e.getScopes().filter(h=>h!=="");d.length>0&&(o.scopes=d.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const d of Object.keys(a))a[d]===void 0&&delete a[d];const l=await t._getAppCheckToken(),c=l?`#${k3}=${encodeURIComponent(l)}`:"";return`${I3(t)}?${wa(a).slice(1)}${c}`}function I3({config:t}){return t.emulator?n0(t,T3):`https://${t.authDomain}/${b3}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qp="webStorageSupport";class P3{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=xI,this._completeRedirectFn=ZF,this._overrideRedirectResult=XF}async _openPopup(e,n,r,i){var s;qr((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const o=await L1(e,n,r,Ng(),i);return C3(e,o,l0())}async _openRedirect(e,n,r,i){await this._originValidation(e);const s=await L1(e,n,r,Ng(),i);return NF(s),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(qr(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await y3(e),r=new t3(e);return n.register("authEvent",i=>(Y(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Qp,{type:Qp},i=>{var s;const o=(s=i==null?void 0:i[0])===null||s===void 0?void 0:s[Qp];o!==void 0&&n(!!o),On(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=o3(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return cI()||rI()||i0()}}const R3=P3;var j1="@firebase/auth",F1="1.10.4";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A3{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Y(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function N3(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function D3(t){Dn(new gn("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;Y(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:uI(t)},c=new q5(r,i,s,l);return iF(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Dn(new gn("auth-internal",e=>{const n=Xi(e.getProvider("auth").getImmediate());return(r=>new A3(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Dt(j1,F1,N3(t)),Dt(j1,F1,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O3=5*60,M3=pk("authIdTokenMaxAge")||O3;let $1=null;const L3=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>M3)return;const i=n==null?void 0:n.token;$1!==i&&($1=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function j3(t=$c()){const e=qi(t,"auth");if(e.isInitialized())return e.getImmediate();const n=rF(t,{popupRedirectResolver:R3,persistence:[UF,PF,xI]}),r=pk("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const s=new URL(r,location.origin);if(location.origin===s.origin){const o=L3(s.toString());SF(n,o,()=>o(n.currentUser)),CF(n,a=>o(a))}}const i=hk("auth");return i?fI(n,`http://${i}`):Ki("Auth",!1),n}function F3(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}Y5({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=Jn("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",F3().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});D3("Browser");const V1="@firebase/database",U1="1.0.17";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let PI="";function $3(t){PI=t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V3{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,n){n==null?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),nt(n))}get(e){const n=this.domStorage_.getItem(this.prefixedName_(e));return n==null?null:ac(n)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U3{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,n){n==null?delete this.cache_[e]:this.cache_[e]=n}get(e){return xr(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RI=function(t){try{if(typeof window<"u"&&typeof window[t]<"u"){const e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new V3(e)}}catch{}return new U3},vs=RI("localStorage"),jg=RI("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $o=new nf("@firebase/database"),B3=function(){let t=1;return function(){return t++}}(),AI=function(t){const e=LL(t),n=new NL;n.update(e);const r=n.digest();return Vv.encodeByteArray(r)},Wc=function(...t){let e="";for(let n=0;n<t.length;n++){const r=t[n];Array.isArray(r)||r&&typeof r=="object"&&typeof r.length=="number"?e+=Wc.apply(null,r):typeof r=="object"?e+=nt(r):e+=r,e+=" "}return e};let Cs=null,B1=!0;const z3=function(t,e){U(!e||t===!0||t===!1,"Can't turn on custom loggers persistently."),t===!0?($o.logLevel=me.VERBOSE,Cs=$o.log.bind($o),e&&jg.set("logging_enabled",!0)):typeof t=="function"?Cs=t:(Cs=null,jg.remove("logging_enabled"))},_t=function(...t){if(B1===!0&&(B1=!1,Cs===null&&jg.get("logging_enabled")===!0&&z3(!0)),Cs){const e=Wc.apply(null,t);Cs(e)}},Hc=function(t){return function(...e){_t(t,...e)}},Fg=function(...t){const e="FIREBASE INTERNAL ERROR: "+Wc(...t);$o.error(e)},Yr=function(...t){const e=`FIREBASE FATAL ERROR: ${Wc(...t)}`;throw $o.error(e),new Error(e)},Wt=function(...t){const e="FIREBASE WARNING: "+Wc(...t);$o.warn(e)},W3=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&Wt("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},u0=function(t){return typeof t=="number"&&(t!==t||t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY)},H3=function(t){if(document.readyState==="complete")t();else{let e=!1;const n=function(){if(!document.body){setTimeout(n,Math.floor(10));return}e||(e=!0,t())};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&n()}),window.attachEvent("onload",n))}},Qo="[MIN_NAME]",Ms="[MAX_NAME]",Hs=function(t,e){if(t===e)return 0;if(t===Qo||e===Ms)return-1;if(e===Qo||t===Ms)return 1;{const n=z1(t),r=z1(e);return n!==null?r!==null?n-r===0?t.length-e.length:n-r:-1:r!==null?1:t<e?-1:1}},G3=function(t,e){return t===e?0:t<e?-1:1},Qa=function(t,e){if(e&&t in e)return e[t];throw new Error("Missing required key ("+t+") in object: "+nt(e))},d0=function(t){if(typeof t!="object"||t===null)return nt(t);const e=[];for(const r in t)e.push(r);e.sort();let n="{";for(let r=0;r<e.length;r++)r!==0&&(n+=","),n+=nt(e[r]),n+=":",n+=d0(t[e[r]]);return n+="}",n},NI=function(t,e){const n=t.length;if(n<=e)return[t];const r=[];for(let i=0;i<n;i+=e)i+e>n?r.push(t.substring(i,n)):r.push(t.substring(i,i+e));return r};function Et(t,e){for(const n in t)t.hasOwnProperty(n)&&e(n,t[n])}const DI=function(t){U(!u0(t),"Invalid JSON number");const e=11,n=52,r=(1<<e-1)-1;let i,s,o,a,l;t===0?(s=0,o=0,i=1/t===-1/0?1:0):(i=t<0,t=Math.abs(t),t>=Math.pow(2,1-r)?(a=Math.min(Math.floor(Math.log(t)/Math.LN2),r),s=a+r,o=Math.round(t*Math.pow(2,n-a)-Math.pow(2,n))):(s=0,o=Math.round(t/Math.pow(2,1-r-n))));const c=[];for(l=n;l;l-=1)c.push(o%2?1:0),o=Math.floor(o/2);for(l=e;l;l-=1)c.push(s%2?1:0),s=Math.floor(s/2);c.push(i?1:0),c.reverse();const d=c.join("");let h="";for(l=0;l<64;l+=8){let f=parseInt(d.substr(l,8),2).toString(16);f.length===1&&(f="0"+f),h=h+f}return h.toLowerCase()},K3=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},q3=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function Y3(t,e){let n="Unknown Error";t==="too_big"?n="The data requested exceeds the maximum size that can be accessed with a single request.":t==="permission_denied"?n="Client doesn't have permission to access the desired data.":t==="unavailable"&&(n="The service is unavailable");const r=new Error(t+" at "+e._path.toString()+": "+n);return r.code=t.toUpperCase(),r}const X3=new RegExp("^-?(0*)\\d{1,10}$"),J3=-2147483648,Q3=2147483647,z1=function(t){if(X3.test(t)){const e=Number(t);if(e>=J3&&e<=Q3)return e}return null},Ea=function(t){try{t()}catch(e){setTimeout(()=>{const n=e.stack||"";throw Wt("Exception was thrown by user callback.",n),e},Math.floor(0))}},Z3=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},Rl=function(t,e){const n=setTimeout(t,e);return typeof n=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(n):typeof n=="object"&&n.unref&&n.unref(),n};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e6{constructor(e,n){this.appCheckProvider=n,this.appName=e.name,Vt(e)&&e.settings.appCheckToken&&(this.serverAppAppCheckToken=e.settings.appCheckToken),this.appCheck=n==null?void 0:n.getImmediate({optional:!0}),this.appCheck||n==null||n.get().then(r=>this.appCheck=r)}getToken(e){if(this.serverAppAppCheckToken){if(e)throw new Error("Attempted reuse of `FirebaseServerApp.appCheckToken` after previous usage failed.");return Promise.resolve({token:this.serverAppAppCheckToken})}return this.appCheck?this.appCheck.getToken(e):new Promise((n,r)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){var n;(n=this.appCheckProvider)===null||n===void 0||n.get().then(r=>r.addTokenListener(e))}notifyForInvalidToken(){Wt(`Provided AppCheck credentials for the app named "${this.appName}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t6{constructor(e,n,r){this.appName_=e,this.firebaseOptions_=n,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit(i=>this.auth_=i)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(n=>n&&n.code==="auth/token-not-initialized"?(_t("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(n)):new Promise((n,r)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(n=>n.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(n=>n.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',Wt(e)}}class Vo{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}Vo.OWNER="owner";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h0="5",OI="v",MI="s",LI="r",jI="f",FI=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,$I="ls",VI="p",$g="ac",UI="websocket",BI="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zI{constructor(e,n,r,i,s=!1,o="",a=!1,l=!1,c=null){this.secure=n,this.namespace=r,this.webSocketOnly=i,this.nodeAdmin=s,this.persistenceKey=o,this.includeNamespaceInQueryParams=a,this.isUsingEmulator=l,this.emulatorOptions=c,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=vs.get("host:"+e)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&vs.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){const e=this.secure?"https://":"http://",n=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${e}${this.host}/${n}`}}function n6(t){return t.host!==t.internalHost||t.isCustomHost()||t.includeNamespaceInQueryParams}function WI(t,e,n){U(typeof e=="string","typeof type must == string"),U(typeof n=="object","typeof params must == object");let r;if(e===UI)r=(t.secure?"wss://":"ws://")+t.internalHost+"/.ws?";else if(e===BI)r=(t.secure?"https://":"http://")+t.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+e);n6(t)&&(n.ns=t.namespace);const i=[];return Et(n,(s,o)=>{i.push(s+"="+o)}),r+i.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r6{constructor(){this.counters_={}}incrementCounter(e,n=1){xr(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=n}get(){return mL(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zp={},em={};function f0(t){const e=t.toString();return Zp[e]||(Zp[e]=new r6),Zp[e]}function i6(t,e){const n=t.toString();return em[n]||(em[n]=e()),em[n]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s6{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,n){this.closeAfterResponse=e,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,n){for(this.pendingResponses[e]=n;this.pendingResponses[this.currentResponseNum];){const r=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let i=0;i<r.length;++i)r[i]&&Ea(()=>{this.onMessage_(r[i])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W1="start",o6="close",a6="pLPCommand",l6="pRTLPCB",HI="id",GI="pw",KI="ser",c6="cb",u6="seg",d6="ts",h6="d",f6="dframe",qI=1870,YI=30,p6=qI-YI,m6=25e3,g6=3e4;class So{constructor(e,n,r,i,s,o,a){this.connId=e,this.repoInfo=n,this.applicationId=r,this.appCheckToken=i,this.authToken=s,this.transportSessionId=o,this.lastSessionId=a,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Hc(e),this.stats_=f0(n),this.urlFn=l=>(this.appCheckToken&&(l[$g]=this.appCheckToken),WI(n,BI,l))}open(e,n){this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new s6(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(g6)),H3(()=>{if(this.isClosed_)return;this.scriptTagHolder=new p0((...s)=>{const[o,a,l,c,d]=s;if(this.incrementIncomingBytes_(s),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,o===W1)this.id=a,this.password=l;else if(o===o6)a?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(a,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+o)},(...s)=>{const[o,a]=s;this.incrementIncomingBytes_(s),this.myPacketOrderer.handleResponse(o,a)},()=>{this.onClosed_()},this.urlFn);const r={};r[W1]="t",r[KI]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(r[c6]=this.scriptTagHolder.uniqueCallbackIdentifier),r[OI]=h0,this.transportSessionId&&(r[MI]=this.transportSessionId),this.lastSessionId&&(r[$I]=this.lastSessionId),this.applicationId&&(r[VI]=this.applicationId),this.appCheckToken&&(r[$g]=this.appCheckToken),typeof location<"u"&&location.hostname&&FI.test(location.hostname)&&(r[LI]=jI);const i=this.urlFn(r);this.log_("Connecting via long-poll to "+i),this.scriptTagHolder.addTag(i,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){So.forceAllow_=!0}static forceDisallow(){So.forceDisallow_=!0}static isAvailable(){return So.forceAllow_?!0:!So.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!K3()&&!q3()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const n=nt(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=uk(n),i=NI(r,p6);for(let s=0;s<i.length;s++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,i.length,i[s]),this.curSegmentNum++}addDisconnectPingFrame(e,n){this.myDisconnFrame=document.createElement("iframe");const r={};r[f6]="t",r[HI]=e,r[GI]=n,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const n=nt(e).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)}}class p0{constructor(e,n,r,i){this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=B3(),window[a6+this.uniqueCallbackIdentifier]=e,window[l6+this.uniqueCallbackIdentifier]=n,this.myIFrame=p0.createIFrame_();let s="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(s='<script>document.domain="'+document.domain+'";<\/script>');const o="<html><body>"+s+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(o),this.myIFrame.doc.close()}catch(a){_t("frame writing exception"),a.stack&&_t(a.stack),_t(a)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",document.body){document.body.appendChild(e);try{e.contentWindow.document||_t("No IE domain setting required")}catch{const r=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,n){for(this.myID=e,this.myPW=n,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e[HI]=this.myID,e[GI]=this.myPW,e[KI]=this.currentSerial;let n=this.urlFn(e),r="",i=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+YI+r.length<=qI;){const o=this.pendingSegs.shift();r=r+"&"+u6+i+"="+o.seg+"&"+d6+i+"="+o.ts+"&"+h6+i+"="+o.d,i++}return n=n+r,this.addLongPollTag_(n,this.currentSerial),!0}else return!1}enqueueSegment(e,n,r){this.pendingSegs.push({seg:e,ts:n,d:r}),this.alive&&this.newRequest_()}addLongPollTag_(e,n){this.outstandingRequests.add(n);const r=()=>{this.outstandingRequests.delete(n),this.newRequest_()},i=setTimeout(r,Math.floor(m6)),s=()=>{clearTimeout(i),r()};this.addTag(e,s)}addTag(e,n){setTimeout(()=>{try{if(!this.sendNewPolls)return;const r=this.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=e,r.onload=r.onreadystatechange=function(){const i=r.readyState;(!i||i==="loaded"||i==="complete")&&(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),n())},r.onerror=()=>{_t("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(r)}catch{}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y6=16384,v6=45e3;let uh=null;typeof MozWebSocket<"u"?uh=MozWebSocket:typeof WebSocket<"u"&&(uh=WebSocket);class Wn{constructor(e,n,r,i,s,o,a){this.connId=e,this.applicationId=r,this.appCheckToken=i,this.authToken=s,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Hc(this.connId),this.stats_=f0(n),this.connURL=Wn.connectionURL_(n,o,a,i,r),this.nodeAdmin=n.nodeAdmin}static connectionURL_(e,n,r,i,s){const o={};return o[OI]=h0,typeof location<"u"&&location.hostname&&FI.test(location.hostname)&&(o[LI]=jI),n&&(o[MI]=n),r&&(o[$I]=r),i&&(o[$g]=i),s&&(o[VI]=s),WI(e,UI,o)}open(e,n){this.onDisconnect=n,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,vs.set("previous_websocket_failure",!0);try{let r;gk(),this.mySock=new uh(this.connURL,[],r)}catch(r){this.log_("Error instantiating WebSocket.");const i=r.message||r.data;i&&this.log_(i),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=r=>{this.handleIncomingFrame(r)},this.mySock.onerror=r=>{this.log_("WebSocket error.  Closing connection.");const i=r.message||r.data;i&&this.log_(i),this.onClosed_()}}start(){}static forceDisallow(){Wn.forceDisallow_=!0}static isAvailable(){let e=!1;if(typeof navigator<"u"&&navigator.userAgent){const n=/Android ([0-9]{0,}\.[0-9]{0,})/,r=navigator.userAgent.match(n);r&&r.length>1&&parseFloat(r[1])<4.4&&(e=!0)}return!e&&uh!==null&&!Wn.forceDisallow_}static previouslyFailed(){return vs.isInMemoryStorage||vs.get("previous_websocket_failure")===!0}markConnectionHealthy(){vs.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const n=this.frames.join("");this.frames=null;const r=ac(n);this.onMessage(r)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if(U(this.frames===null,"We already have a frame buffer"),e.length<=6){const n=Number(e);if(!isNaN(n))return this.handleNewFrameCount_(n),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(this.mySock===null)return;const n=e.data;if(this.bytesReceived+=n.length,this.stats_.incrementCounter("bytes_received",n.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(n);else{const r=this.extractFrameCount_(n);r!==null&&this.appendFrame_(r)}}send(e){this.resetKeepAlive();const n=nt(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=NI(n,y6);r.length>1&&this.sendString_(String(r.length));for(let i=0;i<r.length;i++)this.sendString_(r[i])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(v6))}sendString_(e){try{this.mySock.send(e)}catch(n){this.log_("Exception thrown from WebSocket.send():",n.message||n.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}Wn.responsesRequiredToBeHealthy=2;Wn.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fc{static get ALL_TRANSPORTS(){return[So,Wn]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}constructor(e){this.initTransports_(e)}initTransports_(e){const n=Wn&&Wn.isAvailable();let r=n&&!Wn.previouslyFailed();if(e.webSocketOnly&&(n||Wt("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[Wn];else{const i=this.transports_=[];for(const s of fc.ALL_TRANSPORTS)s&&s.isAvailable()&&i.push(s);fc.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}fc.globalTransportInitialized_=!1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _6=6e4,w6=5e3,x6=10*1024,E6=100*1024,tm="t",H1="d",C6="s",G1="r",S6="e",K1="o",q1="a",Y1="n",X1="p",b6="h";class T6{constructor(e,n,r,i,s,o,a,l,c,d){this.id=e,this.repoInfo_=n,this.applicationId_=r,this.appCheckToken_=i,this.authToken_=s,this.onMessage_=o,this.onReady_=a,this.onDisconnect_=l,this.onKill_=c,this.lastSessionId=d,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Hc("c:"+this.id+":"),this.transportManager_=new fc(n),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(n,r)},Math.floor(0));const i=e.healthyTimeout||0;i>0&&(this.healthyTimeout_=Rl(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>E6?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>x6?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(i)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return n=>{e===this.conn_?this.onConnectionLost_(n):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return n=>{this.state_!==2&&(e===this.rx_?this.onPrimaryMessageReceived_(n):e===this.secondaryConn_?this.onSecondaryMessageReceived_(n):this.log_("message on old connection"))}}sendRequest(e){const n={t:"d",d:e};this.sendData_(n)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if(tm in e){const n=e[tm];n===q1?this.upgradeIfSecondaryHealthy_():n===G1?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):n===K1&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const n=Qa("t",e),r=Qa("d",e);if(n==="c")this.onSecondaryControl_(r);else if(n==="d")this.pendingDataMessages.push(r);else throw new Error("Unknown protocol layer: "+n)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:X1,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:q1,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:Y1,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const n=Qa("t",e),r=Qa("d",e);n==="c"?this.onControl_(r):n==="d"&&this.onDataMessage_(r)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const n=Qa(tm,e);if(H1 in e){const r=e[H1];if(n===b6){const i=Object.assign({},r);this.repoInfo_.isUsingEmulator&&(i.h=this.repoInfo_.host),this.onHandshake_(i)}else if(n===Y1){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let i=0;i<this.pendingDataMessages.length;++i)this.onDataMessage_(this.pendingDataMessages[i]);this.pendingDataMessages=[],this.tryCleanupConnection()}else n===C6?this.onConnectionShutdown_(r):n===G1?this.onReset_(r):n===S6?Fg("Server Error: "+r):n===K1?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):Fg("Unknown control packet command: "+n)}}onHandshake_(e){const n=e.ts,r=e.v,i=e.h;this.sessionId=e.s,this.repoInfo_.host=i,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),h0!==r&&Wt("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),Rl(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(_6))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,n){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Rl(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(w6))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:X1,d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,!e&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(vs.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(e)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XI{put(e,n,r,i){}merge(e,n,r,i){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,n,r){}onDisconnectMerge(e,n,r){}onDisconnectCancel(e,n){}reportStats(e){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JI{constructor(e){this.allowedEvents_=e,this.listeners_={},U(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...n){if(Array.isArray(this.listeners_[e])){const r=[...this.listeners_[e]];for(let i=0;i<r.length;i++)r[i].callback.apply(r[i].context,n)}}on(e,n,r){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:n,context:r});const i=this.getInitialEvent(e);i&&n.apply(r,i)}off(e,n,r){this.validateEventType_(e);const i=this.listeners_[e]||[];for(let s=0;s<i.length;s++)if(i[s].callback===n&&(!r||r===i[s].context)){i.splice(s,1);return}}validateEventType_(e){U(this.allowedEvents_.find(n=>n===e),"Unknown event: "+e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dh extends JI{static getInstance(){return new dh}constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!Wv()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}getInitialEvent(e){return U(e==="online","Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J1=32,Q1=768;class ve{constructor(e,n){if(n===void 0){this.pieces_=e.split("/");let r=0;for(let i=0;i<this.pieces_.length;i++)this.pieces_[i].length>0&&(this.pieces_[r]=this.pieces_[i],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=n}toString(){let e="";for(let n=this.pieceNum_;n<this.pieces_.length;n++)this.pieces_[n]!==""&&(e+="/"+this.pieces_[n]);return e||"/"}}function he(){return new ve("")}function te(t){return t.pieceNum_>=t.pieces_.length?null:t.pieces_[t.pieceNum_]}function ji(t){return t.pieces_.length-t.pieceNum_}function Se(t){let e=t.pieceNum_;return e<t.pieces_.length&&e++,new ve(t.pieces_,e)}function m0(t){return t.pieceNum_<t.pieces_.length?t.pieces_[t.pieces_.length-1]:null}function k6(t){let e="";for(let n=t.pieceNum_;n<t.pieces_.length;n++)t.pieces_[n]!==""&&(e+="/"+encodeURIComponent(String(t.pieces_[n])));return e||"/"}function pc(t,e=0){return t.pieces_.slice(t.pieceNum_+e)}function QI(t){if(t.pieceNum_>=t.pieces_.length)return null;const e=[];for(let n=t.pieceNum_;n<t.pieces_.length-1;n++)e.push(t.pieces_[n]);return new ve(e,0)}function He(t,e){const n=[];for(let r=t.pieceNum_;r<t.pieces_.length;r++)n.push(t.pieces_[r]);if(e instanceof ve)for(let r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);else{const r=e.split("/");for(let i=0;i<r.length;i++)r[i].length>0&&n.push(r[i])}return new ve(n,0)}function re(t){return t.pieceNum_>=t.pieces_.length}function Ut(t,e){const n=te(t),r=te(e);if(n===null)return e;if(n===r)return Ut(Se(t),Se(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+t+")")}function I6(t,e){const n=pc(t,0),r=pc(e,0);for(let i=0;i<n.length&&i<r.length;i++){const s=Hs(n[i],r[i]);if(s!==0)return s}return n.length===r.length?0:n.length<r.length?-1:1}function g0(t,e){if(ji(t)!==ji(e))return!1;for(let n=t.pieceNum_,r=e.pieceNum_;n<=t.pieces_.length;n++,r++)if(t.pieces_[n]!==e.pieces_[r])return!1;return!0}function In(t,e){let n=t.pieceNum_,r=e.pieceNum_;if(ji(t)>ji(e))return!1;for(;n<t.pieces_.length;){if(t.pieces_[n]!==e.pieces_[r])return!1;++n,++r}return!0}class P6{constructor(e,n){this.errorPrefix_=n,this.parts_=pc(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let r=0;r<this.parts_.length;r++)this.byteLength_+=tf(this.parts_[r]);ZI(this)}}function R6(t,e){t.parts_.length>0&&(t.byteLength_+=1),t.parts_.push(e),t.byteLength_+=tf(e),ZI(t)}function A6(t){const e=t.parts_.pop();t.byteLength_-=tf(e),t.parts_.length>0&&(t.byteLength_-=1)}function ZI(t){if(t.byteLength_>Q1)throw new Error(t.errorPrefix_+"has a key path longer than "+Q1+" bytes ("+t.byteLength_+").");if(t.parts_.length>J1)throw new Error(t.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+J1+") or object contains a cycle "+ls(t))}function ls(t){return t.parts_.length===0?"":"in property '"+t.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y0 extends JI{static getInstance(){return new y0}constructor(){super(["visible"]);let e,n;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(n="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(n="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(n="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(n="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,n&&document.addEventListener(n,()=>{const r=!document[e];r!==this.visible_&&(this.visible_=r,this.trigger("visible",r))},!1)}getInitialEvent(e){return U(e==="visible","Unknown event type: "+e),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Za=1e3,N6=60*5*1e3,Z1=30*1e3,D6=1.3,O6=3e4,M6="server_kill",eE=3;class Ur extends XI{constructor(e,n,r,i,s,o,a,l){if(super(),this.repoInfo_=e,this.applicationId_=n,this.onDataUpdate_=r,this.onConnectStatus_=i,this.onServerInfoUpdate_=s,this.authTokenProvider_=o,this.appCheckTokenProvider_=a,this.authOverride_=l,this.id=Ur.nextPersistentConnectionId_++,this.log_=Hc("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=Za,this.maxReconnectDelay_=N6,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,l&&!gk())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");y0.getInstance().on("visible",this.onVisible_,this),e.host.indexOf("fblocal")===-1&&dh.getInstance().on("online",this.onOnline_,this)}sendRequest(e,n,r){const i=++this.requestNumber_,s={r:i,a:e,b:n};this.log_(nt(s)),U(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(s),r&&(this.requestCBHash_[i]=r)}get(e){this.initConnection_();const n=new Fc,i={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:o=>{const a=o.d;o.s==="ok"?n.resolve(a):n.reject(a)}};this.outstandingGets_.push(i),this.outstandingGetCount_++;const s=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(s),n.promise}listen(e,n,r,i){this.initConnection_();const s=e._queryIdentifier,o=e._path.toString();this.log_("Listen called for "+o+" "+s),this.listens.has(o)||this.listens.set(o,new Map),U(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),U(!this.listens.get(o).has(s),"listen() called twice for same path/queryId.");const a={onComplete:i,hashFn:n,query:e,tag:r};this.listens.get(o).set(s,a),this.connected_&&this.sendListen_(a)}sendGet_(e){const n=this.outstandingGets_[e];this.sendRequest("g",n.request,r=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),n.onComplete&&n.onComplete(r)})}sendListen_(e){const n=e.query,r=n._path.toString(),i=n._queryIdentifier;this.log_("Listen on "+r+" for "+i);const s={p:r},o="q";e.tag&&(s.q=n._queryObject,s.t=e.tag),s.h=e.hashFn(),this.sendRequest(o,s,a=>{const l=a.d,c=a.s;Ur.warnOnListenWarnings_(l,n),(this.listens.get(r)&&this.listens.get(r).get(i))===e&&(this.log_("listen response",a),c!=="ok"&&this.removeListen_(r,i),e.onComplete&&e.onComplete(c,l))})}static warnOnListenWarnings_(e,n){if(e&&typeof e=="object"&&xr(e,"w")){const r=Jo(e,"w");if(Array.isArray(r)&&~r.indexOf("no_index")){const i='".indexOn": "'+n._queryParams.getIndex().toString()+'"',s=n._path.toString();Wt(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${i} at ${s} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&e.length===40||AL(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=Z1)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,n=RL(e)?"auth":"gauth",r={cred:e};this.authOverride_===null?r.noauth=!0:typeof this.authOverride_=="object"&&(r.authvar=this.authOverride_),this.sendRequest(n,r,i=>{const s=i.s,o=i.d||"error";this.authToken_===e&&(s==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(s,o))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const n=e.s,r=e.d||"error";n==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(n,r)})}unlisten(e,n){const r=e._path.toString(),i=e._queryIdentifier;this.log_("Unlisten called for "+r+" "+i),U(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(r,i)&&this.connected_&&this.sendUnlisten_(r,i,e._queryObject,n)}sendUnlisten_(e,n,r,i){this.log_("Unlisten on "+e+" for "+n);const s={p:e},o="n";i&&(s.q=r,s.t=i),this.sendRequest(o,s)}onDisconnectPut(e,n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,n,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:n,onComplete:r})}onDisconnectMerge(e,n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,n,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:n,onComplete:r})}onDisconnectCancel(e,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:n})}sendOnDisconnect_(e,n,r,i){const s={p:n,d:r};this.log_("onDisconnect "+e,s),this.sendRequest(e,s,o=>{i&&setTimeout(()=>{i(o.s,o.d)},Math.floor(0))})}put(e,n,r,i){this.putInternal("p",e,n,r,i)}merge(e,n,r,i){this.putInternal("m",e,n,r,i)}putInternal(e,n,r,i,s){this.initConnection_();const o={p:n,d:r};s!==void 0&&(o.h=s),this.outstandingPuts_.push({action:e,request:o,onComplete:i}),this.outstandingPutCount_++;const a=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(a):this.log_("Buffering put: "+n)}sendPut_(e){const n=this.outstandingPuts_[e].action,r=this.outstandingPuts_[e].request,i=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(n,r,s=>{this.log_(n+" response",s),delete this.outstandingPuts_[e],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),i&&i(s.s,s.d)})}reportStats(e){if(this.connected_){const n={c:e};this.log_("reportStats",n),this.sendRequest("s",n,r=>{if(r.s!=="ok"){const s=r.d;this.log_("reportStats","Error sending stats: "+s)}})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+nt(e));const n=e.r,r=this.requestCBHash_[n];r&&(delete this.requestCBHash_[n],r(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,n){this.log_("handleServerMessage",e,n),e==="d"?this.onDataUpdate_(n.p,n.d,!1,n.t):e==="m"?this.onDataUpdate_(n.p,n.d,!0,n.t):e==="c"?this.onListenRevoked_(n.p,n.q):e==="ac"?this.onAuthRevoked_(n.s,n.d):e==="apc"?this.onAppCheckRevoked_(n.s,n.d):e==="sd"?this.onSecurityDebugPacket_(n):Fg("Unrecognized action received from server: "+nt(e)+`
Are you using the latest client?`)}onReady_(e,n){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(e),this.lastSessionId=n,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){U(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Za,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=Za,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>O6&&(this.reconnectDelay_=Za),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const e=Math.max(0,new Date().getTime()-this.lastConnectionAttemptTime_);let n=Math.max(0,this.reconnectDelay_-e);n=Math.random()*n,this.log_("Trying to reconnect in "+n+"ms"),this.scheduleConnect_(n),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*D6)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const e=this.onDataMessage_.bind(this),n=this.onReady_.bind(this),r=this.onRealtimeDisconnect_.bind(this),i=this.id+":"+Ur.nextConnectionId_++,s=this.lastSessionId;let o=!1,a=null;const l=function(){a?a.close():(o=!0,r())},c=function(h){U(a,"sendRequest call when we're not connected not allowed."),a.sendRequest(h)};this.realtime_={close:l,sendRequest:c};const d=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[h,f]=await Promise.all([this.authTokenProvider_.getToken(d),this.appCheckTokenProvider_.getToken(d)]);o?_t("getToken() completed but was canceled"):(_t("getToken() completed. Creating connection."),this.authToken_=h&&h.accessToken,this.appCheckToken_=f&&f.token,a=new T6(i,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,n,r,v=>{Wt(v+" ("+this.repoInfo_.toString()+")"),this.interrupt(M6)},s))}catch(h){this.log_("Failed to get token: "+h),o||(this.repoInfo_.nodeAdmin&&Wt(h),l())}}}interrupt(e){_t("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){_t("Resuming connection for reason: "+e),delete this.interruptReasons_[e],Cg(this.interruptReasons_)&&(this.reconnectDelay_=Za,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const n=e-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:n})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const n=this.outstandingPuts_[e];n&&"h"in n.request&&n.queued&&(n.onComplete&&n.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(e,n){let r;n?r=n.map(s=>d0(s)).join("$"):r="default";const i=this.removeListen_(e,r);i&&i.onComplete&&i.onComplete("permission_denied")}removeListen_(e,n){const r=new ve(e).toString();let i;if(this.listens.has(r)){const s=this.listens.get(r);i=s.get(n),s.delete(n),s.size===0&&this.listens.delete(r)}else i=void 0;return i}onAuthRevoked_(e,n){_t("Auth token revoked: "+e+"/"+n),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(e==="invalid_token"||e==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=eE&&(this.reconnectDelay_=Z1,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,n){_t("App check token revoked: "+e+"/"+n),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(e==="invalid_token"||e==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=eE&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const n of e.values())this.sendListen_(n);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let n="js";e["sdk."+n+"."+PI.replace(/\./g,"-")]=1,Wv()?e["framework.cordova"]=1:mk()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=dh.getInstance().currentlyOnline();return Cg(this.interruptReasons_)&&e}}Ur.nextPersistentConnectionId_=0;Ur.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ne{constructor(e,n){this.name=e,this.node=n}static Wrap(e,n){return new ne(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uf{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,n){const r=new ne(Qo,e),i=new ne(Qo,n);return this.compare(r,i)!==0}minPost(){return ne.MIN}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let $u;class eP extends uf{static get __EMPTY_NODE(){return $u}static set __EMPTY_NODE(e){$u=e}compare(e,n){return Hs(e.name,n.name)}isDefinedOn(e){throw _a("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,n){return!1}minPost(){return ne.MIN}maxPost(){return new ne(Ms,$u)}makePost(e,n){return U(typeof e=="string","KeyIndex indexValue must always be a string."),new ne(e,$u)}toString(){return".key"}}const Uo=new eP;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vu{constructor(e,n,r,i,s=null){this.isReverse_=i,this.resultGenerator_=s,this.nodeStack_=[];let o=1;for(;!e.isEmpty();)if(e=e,o=n?r(e.key,n):1,i&&(o*=-1),o<0)this.isReverse_?e=e.left:e=e.right;else if(o===0){this.nodeStack_.push(e);break}else this.nodeStack_.push(e),this.isReverse_?e=e.right:e=e.left}getNext(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_.pop(),n;if(this.resultGenerator_?n=this.resultGenerator_(e.key,e.value):n={key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return n}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}class ut{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??ut.RED,this.left=i??nn.EMPTY_NODE,this.right=s??nn.EMPTY_NODE}copy(e,n,r,i,s){return new ut(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return s<0?i=i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i=i.copy(null,n,null,null,null):i=i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp_()}removeMin_(){if(this.left.isEmpty())return nn.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,n){let r,i;if(r=this,n(e,r.key)<0)!r.left.isEmpty()&&!r.left.isRed_()&&!r.left.left.isRed_()&&(r=r.moveRedLeft_()),r=r.copy(null,null,null,r.left.remove(e,n),null);else{if(r.left.isRed_()&&(r=r.rotateRight_()),!r.right.isEmpty()&&!r.right.isRed_()&&!r.right.left.isRed_()&&(r=r.moveRedRight_()),n(e,r.key)===0){if(r.right.isEmpty())return nn.EMPTY_NODE;i=r.right.min_(),r=r.copy(i.key,i.value,null,null,r.right.removeMin_())}r=r.copy(null,null,null,null,r.right.remove(e,n))}return r.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,ut.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,ut.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}ut.RED=!0;ut.BLACK=!1;class L6{copy(e,n,r,i,s){return this}insert(e,n,r){return new ut(e,n,null)}remove(e,n){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class nn{constructor(e,n=nn.EMPTY_NODE){this.comparator_=e,this.root_=n}insert(e,n){return new nn(this.comparator_,this.root_.insert(e,n,this.comparator_).copy(null,null,ut.BLACK,null,null))}remove(e){return new nn(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,ut.BLACK,null,null))}get(e){let n,r=this.root_;for(;!r.isEmpty();){if(n=this.comparator_(e,r.key),n===0)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}getPredecessorKey(e){let n,r=this.root_,i=null;for(;!r.isEmpty();)if(n=this.comparator_(e,r.key),n===0){if(r.left.isEmpty())return i?i.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}else n<0?r=r.left:n>0&&(i=r,r=r.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new Vu(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,n){return new Vu(this.root_,e,this.comparator_,!1,n)}getReverseIteratorFrom(e,n){return new Vu(this.root_,e,this.comparator_,!0,n)}getReverseIterator(e){return new Vu(this.root_,null,this.comparator_,!0,e)}}nn.EMPTY_NODE=new L6;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function j6(t,e){return Hs(t.name,e.name)}function v0(t,e){return Hs(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Vg;function F6(t){Vg=t}const tP=function(t){return typeof t=="number"?"number:"+DI(t):"string:"+t},nP=function(t){if(t.isLeafNode()){const e=t.val();U(typeof e=="string"||typeof e=="number"||typeof e=="object"&&xr(e,".sv"),"Priority must be a string or number.")}else U(t===Vg||t.isEmpty(),"priority of unexpected type.");U(t===Vg||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let tE;class lt{static set __childrenNodeConstructor(e){tE=e}static get __childrenNodeConstructor(){return tE}constructor(e,n=lt.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=n,this.lazyHash_=null,U(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),nP(this.priorityNode_)}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new lt(this.value_,e)}getImmediateChild(e){return e===".priority"?this.priorityNode_:lt.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return re(e)?this:te(e)===".priority"?this.priorityNode_:lt.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,n){return null}updateImmediateChild(e,n){return e===".priority"?this.updatePriority(n):n.isEmpty()&&e!==".priority"?this:lt.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,n).updatePriority(this.priorityNode_)}updateChild(e,n){const r=te(e);return r===null?n:n.isEmpty()&&r!==".priority"?this:(U(r!==".priority"||ji(e)===1,".priority must be the last token in a path"),this.updateImmediateChild(r,lt.__childrenNodeConstructor.EMPTY_NODE.updateChild(Se(e),n)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,n){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+tP(this.priorityNode_.val())+":");const n=typeof this.value_;e+=n+":",n==="number"?e+=DI(this.value_):e+=this.value_,this.lazyHash_=AI(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===lt.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof lt.__childrenNodeConstructor?-1:(U(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const n=typeof e.value_,r=typeof this.value_,i=lt.VALUE_TYPE_ORDER.indexOf(n),s=lt.VALUE_TYPE_ORDER.indexOf(r);return U(i>=0,"Unknown leaf type: "+n),U(s>=0,"Unknown leaf type: "+r),i===s?r==="object"?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:s-i}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const n=e;return this.value_===n.value_&&this.priorityNode_.equals(n.priorityNode_)}else return!1}}lt.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let rP,iP;function $6(t){rP=t}function V6(t){iP=t}class U6 extends uf{compare(e,n){const r=e.node.getPriority(),i=n.node.getPriority(),s=r.compareTo(i);return s===0?Hs(e.name,n.name):s}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,n){return!e.getPriority().equals(n.getPriority())}minPost(){return ne.MIN}maxPost(){return new ne(Ms,new lt("[PRIORITY-POST]",iP))}makePost(e,n){const r=rP(e);return new ne(n,new lt("[PRIORITY-POST]",r))}toString(){return".priority"}}const Ge=new U6;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B6=Math.log(2);class z6{constructor(e){const n=s=>parseInt(Math.log(s)/B6,10),r=s=>parseInt(Array(s+1).join("1"),2);this.count=n(e+1),this.current_=this.count-1;const i=r(this.count);this.bits_=e+1&i}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const hh=function(t,e,n,r){t.sort(e);const i=function(l,c){const d=c-l;let h,f;if(d===0)return null;if(d===1)return h=t[l],f=n?n(h):h,new ut(f,h.node,ut.BLACK,null,null);{const v=parseInt(d/2,10)+l,w=i(l,v),S=i(v+1,c);return h=t[v],f=n?n(h):h,new ut(f,h.node,ut.BLACK,w,S)}},s=function(l){let c=null,d=null,h=t.length;const f=function(w,S){const P=h-w,_=h;h-=w;const E=i(P+1,_),x=t[P],A=n?n(x):x;v(new ut(A,x.node,S,null,E))},v=function(w){c?(c.left=w,c=w):(d=w,c=w)};for(let w=0;w<l.count;++w){const S=l.nextBitIsOne(),P=Math.pow(2,l.count-(w+1));S?f(P,ut.BLACK):(f(P,ut.BLACK),f(P,ut.RED))}return d},o=new z6(t.length),a=s(o);return new nn(r||e,a)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let nm;const ro={};class Lr{static get Default(){return U(ro&&Ge,"ChildrenNode.ts has not been loaded"),nm=nm||new Lr({".priority":ro},{".priority":Ge}),nm}constructor(e,n){this.indexes_=e,this.indexSet_=n}get(e){const n=Jo(this.indexes_,e);if(!n)throw new Error("No index defined for "+e);return n instanceof nn?n:null}hasIndex(e){return xr(this.indexSet_,e.toString())}addIndex(e,n){U(e!==Uo,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const r=[];let i=!1;const s=n.getIterator(ne.Wrap);let o=s.getNext();for(;o;)i=i||e.isDefinedOn(o.node),r.push(o),o=s.getNext();let a;i?a=hh(r,e.getCompare()):a=ro;const l=e.toString(),c=Object.assign({},this.indexSet_);c[l]=e;const d=Object.assign({},this.indexes_);return d[l]=a,new Lr(d,c)}addToIndexes(e,n){const r=th(this.indexes_,(i,s)=>{const o=Jo(this.indexSet_,s);if(U(o,"Missing index implementation for "+s),i===ro)if(o.isDefinedOn(e.node)){const a=[],l=n.getIterator(ne.Wrap);let c=l.getNext();for(;c;)c.name!==e.name&&a.push(c),c=l.getNext();return a.push(e),hh(a,o.getCompare())}else return ro;else{const a=n.get(e.name);let l=i;return a&&(l=l.remove(new ne(e.name,a))),l.insert(e,e.node)}});return new Lr(r,this.indexSet_)}removeFromIndexes(e,n){const r=th(this.indexes_,i=>{if(i===ro)return i;{const s=n.get(e.name);return s?i.remove(new ne(e.name,s)):i}});return new Lr(r,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let el;class J{static get EMPTY_NODE(){return el||(el=new J(new nn(v0),null,Lr.Default))}constructor(e,n,r){this.children_=e,this.priorityNode_=n,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&nP(this.priorityNode_),this.children_.isEmpty()&&U(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}isLeafNode(){return!1}getPriority(){return this.priorityNode_||el}updatePriority(e){return this.children_.isEmpty()?this:new J(this.children_,e,this.indexMap_)}getImmediateChild(e){if(e===".priority")return this.getPriority();{const n=this.children_.get(e);return n===null?el:n}}getChild(e){const n=te(e);return n===null?this:this.getImmediateChild(n).getChild(Se(e))}hasChild(e){return this.children_.get(e)!==null}updateImmediateChild(e,n){if(U(n,"We should always be passing snapshot nodes"),e===".priority")return this.updatePriority(n);{const r=new ne(e,n);let i,s;n.isEmpty()?(i=this.children_.remove(e),s=this.indexMap_.removeFromIndexes(r,this.children_)):(i=this.children_.insert(e,n),s=this.indexMap_.addToIndexes(r,this.children_));const o=i.isEmpty()?el:this.priorityNode_;return new J(i,o,s)}}updateChild(e,n){const r=te(e);if(r===null)return n;{U(te(e)!==".priority"||ji(e)===1,".priority must be the last token in a path");const i=this.getImmediateChild(r).updateChild(Se(e),n);return this.updateImmediateChild(r,i)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const n={};let r=0,i=0,s=!0;if(this.forEachChild(Ge,(o,a)=>{n[o]=a.val(e),r++,s&&J.INTEGER_REGEXP_.test(o)?i=Math.max(i,Number(o)):s=!1}),!e&&s&&i<2*r){const o=[];for(const a in n)o[a]=n[a];return o}else return e&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n}hash(){if(this.lazyHash_===null){let e="";this.getPriority().isEmpty()||(e+="priority:"+tP(this.getPriority().val())+":"),this.forEachChild(Ge,(n,r)=>{const i=r.hash();i!==""&&(e+=":"+n+":"+i)}),this.lazyHash_=e===""?"":AI(e)}return this.lazyHash_}getPredecessorChildName(e,n,r){const i=this.resolveIndex_(r);if(i){const s=i.getPredecessorKey(new ne(e,n));return s?s.name:null}else return this.children_.getPredecessorKey(e)}getFirstChildName(e){const n=this.resolveIndex_(e);if(n){const r=n.minKey();return r&&r.name}else return this.children_.minKey()}getFirstChild(e){const n=this.getFirstChildName(e);return n?new ne(n,this.children_.get(n)):null}getLastChildName(e){const n=this.resolveIndex_(e);if(n){const r=n.maxKey();return r&&r.name}else return this.children_.maxKey()}getLastChild(e){const n=this.getLastChildName(e);return n?new ne(n,this.children_.get(n)):null}forEachChild(e,n){const r=this.resolveIndex_(e);return r?r.inorderTraversal(i=>n(i.name,i.node)):this.children_.inorderTraversal(n)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,n){const r=this.resolveIndex_(n);if(r)return r.getIteratorFrom(e,i=>i);{const i=this.children_.getIteratorFrom(e.name,ne.Wrap);let s=i.peek();for(;s!=null&&n.compare(s,e)<0;)i.getNext(),s=i.peek();return i}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,n){const r=this.resolveIndex_(n);if(r)return r.getReverseIteratorFrom(e,i=>i);{const i=this.children_.getReverseIteratorFrom(e.name,ne.Wrap);let s=i.peek();for(;s!=null&&n.compare(s,e)>0;)i.getNext(),s=i.peek();return i}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===Gc?-1:0}withIndex(e){if(e===Uo||this.indexMap_.hasIndex(e))return this;{const n=this.indexMap_.addIndex(e,this.children_);return new J(this.children_,this.priorityNode_,n)}}isIndexed(e){return e===Uo||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const n=e;if(this.getPriority().equals(n.getPriority()))if(this.children_.count()===n.children_.count()){const r=this.getIterator(Ge),i=n.getIterator(Ge);let s=r.getNext(),o=i.getNext();for(;s&&o;){if(s.name!==o.name||!s.node.equals(o.node))return!1;s=r.getNext(),o=i.getNext()}return s===null&&o===null}else return!1;else return!1}}resolveIndex_(e){return e===Uo?null:this.indexMap_.get(e.toString())}}J.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class W6 extends J{constructor(){super(new nn(v0),J.EMPTY_NODE,Lr.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return J.EMPTY_NODE}isEmpty(){return!1}}const Gc=new W6;Object.defineProperties(ne,{MIN:{value:new ne(Qo,J.EMPTY_NODE)},MAX:{value:new ne(Ms,Gc)}});eP.__EMPTY_NODE=J.EMPTY_NODE;lt.__childrenNodeConstructor=J;F6(Gc);V6(Gc);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H6=!0;function tt(t,e=null){if(t===null)return J.EMPTY_NODE;if(typeof t=="object"&&".priority"in t&&(e=t[".priority"]),U(e===null||typeof e=="string"||typeof e=="number"||typeof e=="object"&&".sv"in e,"Invalid priority type found: "+typeof e),typeof t=="object"&&".value"in t&&t[".value"]!==null&&(t=t[".value"]),typeof t!="object"||".sv"in t){const n=t;return new lt(n,tt(e))}if(!(t instanceof Array)&&H6){const n=[];let r=!1;if(Et(t,(o,a)=>{if(o.substring(0,1)!=="."){const l=tt(a);l.isEmpty()||(r=r||!l.getPriority().isEmpty(),n.push(new ne(o,l)))}}),n.length===0)return J.EMPTY_NODE;const s=hh(n,j6,o=>o.name,v0);if(r){const o=hh(n,Ge.getCompare());return new J(s,tt(e),new Lr({".priority":o},{".priority":Ge}))}else return new J(s,tt(e),Lr.Default)}else{let n=J.EMPTY_NODE;return Et(t,(r,i)=>{if(xr(t,r)&&r.substring(0,1)!=="."){const s=tt(i);(s.isLeafNode()||!s.isEmpty())&&(n=n.updateImmediateChild(r,s))}}),n.updatePriority(tt(e))}}$6(tt);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G6 extends uf{constructor(e){super(),this.indexPath_=e,U(!re(e)&&te(e)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,n){const r=this.extractChild(e.node),i=this.extractChild(n.node),s=r.compareTo(i);return s===0?Hs(e.name,n.name):s}makePost(e,n){const r=tt(e),i=J.EMPTY_NODE.updateChild(this.indexPath_,r);return new ne(n,i)}maxPost(){const e=J.EMPTY_NODE.updateChild(this.indexPath_,Gc);return new ne(Ms,e)}toString(){return pc(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K6 extends uf{compare(e,n){const r=e.node.compareTo(n.node);return r===0?Hs(e.name,n.name):r}isDefinedOn(e){return!0}indexedValueChanged(e,n){return!e.equals(n)}minPost(){return ne.MIN}maxPost(){return ne.MAX}makePost(e,n){const r=tt(e);return new ne(n,r)}toString(){return".value"}}const q6=new K6;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sP(t){return{type:"value",snapshotNode:t}}function Zo(t,e){return{type:"child_added",snapshotNode:e,childName:t}}function mc(t,e){return{type:"child_removed",snapshotNode:e,childName:t}}function gc(t,e,n){return{type:"child_changed",snapshotNode:e,childName:t,oldSnap:n}}function Y6(t,e){return{type:"child_moved",snapshotNode:e,childName:t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _0{constructor(e){this.index_=e}updateChild(e,n,r,i,s,o){U(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");const a=e.getImmediateChild(n);return a.getChild(i).equals(r.getChild(i))&&a.isEmpty()===r.isEmpty()||(o!=null&&(r.isEmpty()?e.hasChild(n)?o.trackChildChange(mc(n,a)):U(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):a.isEmpty()?o.trackChildChange(Zo(n,r)):o.trackChildChange(gc(n,r,a))),e.isLeafNode()&&r.isEmpty())?e:e.updateImmediateChild(n,r).withIndex(this.index_)}updateFullNode(e,n,r){return r!=null&&(e.isLeafNode()||e.forEachChild(Ge,(i,s)=>{n.hasChild(i)||r.trackChildChange(mc(i,s))}),n.isLeafNode()||n.forEachChild(Ge,(i,s)=>{if(e.hasChild(i)){const o=e.getImmediateChild(i);o.equals(s)||r.trackChildChange(gc(i,s,o))}else r.trackChildChange(Zo(i,s))})),n.withIndex(this.index_)}updatePriority(e,n){return e.isEmpty()?J.EMPTY_NODE:e.updatePriority(n)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yc{constructor(e){this.indexedFilter_=new _0(e.getIndex()),this.index_=e.getIndex(),this.startPost_=yc.getStartPost_(e),this.endPost_=yc.getEndPost_(e),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(e){const n=this.startIsInclusive_?this.index_.compare(this.getStartPost(),e)<=0:this.index_.compare(this.getStartPost(),e)<0,r=this.endIsInclusive_?this.index_.compare(e,this.getEndPost())<=0:this.index_.compare(e,this.getEndPost())<0;return n&&r}updateChild(e,n,r,i,s,o){return this.matches(new ne(n,r))||(r=J.EMPTY_NODE),this.indexedFilter_.updateChild(e,n,r,i,s,o)}updateFullNode(e,n,r){n.isLeafNode()&&(n=J.EMPTY_NODE);let i=n.withIndex(this.index_);i=i.updatePriority(J.EMPTY_NODE);const s=this;return n.forEachChild(Ge,(o,a)=>{s.matches(new ne(o,a))||(i=i.updateImmediateChild(o,J.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(e,i,r)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(e){if(e.hasStart()){const n=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),n)}else return e.getIndex().minPost()}static getEndPost_(e){if(e.hasEnd()){const n=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),n)}else return e.getIndex().maxPost()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X6{constructor(e){this.withinDirectionalStart=n=>this.reverse_?this.withinEndPost(n):this.withinStartPost(n),this.withinDirectionalEnd=n=>this.reverse_?this.withinStartPost(n):this.withinEndPost(n),this.withinStartPost=n=>{const r=this.index_.compare(this.rangedFilter_.getStartPost(),n);return this.startIsInclusive_?r<=0:r<0},this.withinEndPost=n=>{const r=this.index_.compare(n,this.rangedFilter_.getEndPost());return this.endIsInclusive_?r<=0:r<0},this.rangedFilter_=new yc(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft(),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}updateChild(e,n,r,i,s,o){return this.rangedFilter_.matches(new ne(n,r))||(r=J.EMPTY_NODE),e.getImmediateChild(n).equals(r)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,n,r,i,s,o):this.fullLimitUpdateChild_(e,n,r,s,o)}updateFullNode(e,n,r){let i;if(n.isLeafNode()||n.isEmpty())i=J.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<n.numChildren()&&n.isIndexed(this.index_)){i=J.EMPTY_NODE.withIndex(this.index_);let s;this.reverse_?s=n.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):s=n.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let o=0;for(;s.hasNext()&&o<this.limit_;){const a=s.getNext();if(this.withinDirectionalStart(a))if(this.withinDirectionalEnd(a))i=i.updateImmediateChild(a.name,a.node),o++;else break;else continue}}else{i=n.withIndex(this.index_),i=i.updatePriority(J.EMPTY_NODE);let s;this.reverse_?s=i.getReverseIterator(this.index_):s=i.getIterator(this.index_);let o=0;for(;s.hasNext();){const a=s.getNext();o<this.limit_&&this.withinDirectionalStart(a)&&this.withinDirectionalEnd(a)?o++:i=i.updateImmediateChild(a.name,J.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,i,r)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(e,n,r,i,s){let o;if(this.reverse_){const h=this.index_.getCompare();o=(f,v)=>h(v,f)}else o=this.index_.getCompare();const a=e;U(a.numChildren()===this.limit_,"");const l=new ne(n,r),c=this.reverse_?a.getFirstChild(this.index_):a.getLastChild(this.index_),d=this.rangedFilter_.matches(l);if(a.hasChild(n)){const h=a.getImmediateChild(n);let f=i.getChildAfterChild(this.index_,c,this.reverse_);for(;f!=null&&(f.name===n||a.hasChild(f.name));)f=i.getChildAfterChild(this.index_,f,this.reverse_);const v=f==null?1:o(f,l);if(d&&!r.isEmpty()&&v>=0)return s!=null&&s.trackChildChange(gc(n,r,h)),a.updateImmediateChild(n,r);{s!=null&&s.trackChildChange(mc(n,h));const S=a.updateImmediateChild(n,J.EMPTY_NODE);return f!=null&&this.rangedFilter_.matches(f)?(s!=null&&s.trackChildChange(Zo(f.name,f.node)),S.updateImmediateChild(f.name,f.node)):S}}else return r.isEmpty()?e:d&&o(c,l)>=0?(s!=null&&(s.trackChildChange(mc(c.name,c.node)),s.trackChildChange(Zo(n,r))),a.updateImmediateChild(n,r).updateImmediateChild(c.name,J.EMPTY_NODE)):e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w0{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Ge}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return U(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return U(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Qo}hasEnd(){return this.endSet_}getIndexEndValue(){return U(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return U(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:Ms}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return U(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===Ge}copy(){const e=new w0;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function J6(t){return t.loadsAllData()?new _0(t.getIndex()):t.hasLimit()?new X6(t):new yc(t)}function nE(t){const e={};if(t.isDefault())return e;let n;if(t.index_===Ge?n="$priority":t.index_===q6?n="$value":t.index_===Uo?n="$key":(U(t.index_ instanceof G6,"Unrecognized index type!"),n=t.index_.toString()),e.orderBy=nt(n),t.startSet_){const r=t.startAfterSet_?"startAfter":"startAt";e[r]=nt(t.indexStartValue_),t.startNameSet_&&(e[r]+=","+nt(t.indexStartName_))}if(t.endSet_){const r=t.endBeforeSet_?"endBefore":"endAt";e[r]=nt(t.indexEndValue_),t.endNameSet_&&(e[r]+=","+nt(t.indexEndName_))}return t.limitSet_&&(t.isViewFromLeft()?e.limitToFirst=t.limit_:e.limitToLast=t.limit_),e}function rE(t){const e={};if(t.startSet_&&(e.sp=t.indexStartValue_,t.startNameSet_&&(e.sn=t.indexStartName_),e.sin=!t.startAfterSet_),t.endSet_&&(e.ep=t.indexEndValue_,t.endNameSet_&&(e.en=t.indexEndName_),e.ein=!t.endBeforeSet_),t.limitSet_){e.l=t.limit_;let n=t.viewFrom_;n===""&&(t.isViewFromLeft()?n="l":n="r"),e.vf=n}return t.index_!==Ge&&(e.i=t.index_.toString()),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fh extends XI{reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,n){return n!==void 0?"tag$"+n:(U(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}constructor(e,n,r,i){super(),this.repoInfo_=e,this.onDataUpdate_=n,this.authTokenProvider_=r,this.appCheckTokenProvider_=i,this.log_=Hc("p:rest:"),this.listens_={}}listen(e,n,r,i){const s=e._path.toString();this.log_("Listen called for "+s+" "+e._queryIdentifier);const o=fh.getListenId_(e,r),a={};this.listens_[o]=a;const l=nE(e._queryParams);this.restRequest_(s+".json",l,(c,d)=>{let h=d;if(c===404&&(h=null,c=null),c===null&&this.onDataUpdate_(s,h,!1,r),Jo(this.listens_,o)===a){let f;c?c===401?f="permission_denied":f="rest_error:"+c:f="ok",i(f,null)}})}unlisten(e,n){const r=fh.getListenId_(e,n);delete this.listens_[r]}get(e){const n=nE(e._queryParams),r=e._path.toString(),i=new Fc;return this.restRequest_(r+".json",n,(s,o)=>{let a=o;s===404&&(a=null,s=null),s===null?(this.onDataUpdate_(r,a,!1,null),i.resolve(a)):i.reject(new Error(a))}),i.promise}refreshAuthToken(e){}restRequest_(e,n={},r){return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([i,s])=>{i&&i.accessToken&&(n.auth=i.accessToken),s&&s.token&&(n.ac=s.token);const o=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+wa(n);this.log_("Sending REST request for "+o);const a=new XMLHttpRequest;a.onreadystatechange=()=>{if(r&&a.readyState===4){this.log_("REST Response for "+o+" received. status:",a.status,"response:",a.responseText);let l=null;if(a.status>=200&&a.status<300){try{l=ac(a.responseText)}catch{Wt("Failed to parse JSON response for "+o+": "+a.responseText)}r(null,l)}else a.status!==401&&a.status!==404&&Wt("Got unsuccessful REST response for "+o+" Status: "+a.status),r(a.status);r=null}},a.open("GET",o,!0),a.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q6{constructor(){this.rootNode_=J.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,n){this.rootNode_=this.rootNode_.updateChild(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ph(){return{value:null,children:new Map}}function oP(t,e,n){if(re(e))t.value=n,t.children.clear();else if(t.value!==null)t.value=t.value.updateChild(e,n);else{const r=te(e);t.children.has(r)||t.children.set(r,ph());const i=t.children.get(r);e=Se(e),oP(i,e,n)}}function Ug(t,e,n){t.value!==null?n(e,t.value):Z6(t,(r,i)=>{const s=new ve(e.toString()+"/"+r);Ug(i,s,n)})}function Z6(t,e){t.children.forEach((n,r)=>{e(r,n)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e${constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),n=Object.assign({},e);return this.last_&&Et(this.last_,(r,i)=>{n[r]=n[r]-i}),this.last_=e,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iE=10*1e3,t$=30*1e3,n$=5*60*1e3;class r${constructor(e,n){this.server_=n,this.statsToReport_={},this.statsListener_=new e$(e);const r=iE+(t$-iE)*Math.random();Rl(this.reportStats_.bind(this),Math.floor(r))}reportStats_(){const e=this.statsListener_.get(),n={};let r=!1;Et(e,(i,s)=>{s>0&&xr(this.statsToReport_,i)&&(n[i]=s,r=!0)}),r&&this.server_.reportStats(n),Rl(this.reportStats_.bind(this),Math.floor(Math.random()*2*n$))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Gn;(function(t){t[t.OVERWRITE=0]="OVERWRITE",t[t.MERGE=1]="MERGE",t[t.ACK_USER_WRITE=2]="ACK_USER_WRITE",t[t.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(Gn||(Gn={}));function x0(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function E0(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function C0(t){return{fromUser:!1,fromServer:!0,queryId:t,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mh{constructor(e,n,r){this.path=e,this.affectedTree=n,this.revert=r,this.type=Gn.ACK_USER_WRITE,this.source=x0()}operationForChild(e){if(re(this.path)){if(this.affectedTree.value!=null)return U(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const n=this.affectedTree.subtree(new ve(e));return new mh(he(),n,this.revert)}}else return U(te(this.path)===e,"operationForChild called for unrelated child."),new mh(Se(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vc{constructor(e,n){this.source=e,this.path=n,this.type=Gn.LISTEN_COMPLETE}operationForChild(e){return re(this.path)?new vc(this.source,he()):new vc(this.source,Se(this.path))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ls{constructor(e,n,r){this.source=e,this.path=n,this.snap=r,this.type=Gn.OVERWRITE}operationForChild(e){return re(this.path)?new Ls(this.source,he(),this.snap.getImmediateChild(e)):new Ls(this.source,Se(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ea{constructor(e,n,r){this.source=e,this.path=n,this.children=r,this.type=Gn.MERGE}operationForChild(e){if(re(this.path)){const n=this.children.subtree(new ve(e));return n.isEmpty()?null:n.value?new Ls(this.source,he(),n.value):new ea(this.source,he(),n)}else return U(te(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new ea(this.source,Se(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fi{constructor(e,n,r){this.node_=e,this.fullyInitialized_=n,this.filtered_=r}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(re(e))return this.isFullyInitialized()&&!this.filtered_;const n=te(e);return this.isCompleteForChild(n)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i${constructor(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}}function s$(t,e,n,r){const i=[],s=[];return e.forEach(o=>{o.type==="child_changed"&&t.index_.indexedValueChanged(o.oldSnap,o.snapshotNode)&&s.push(Y6(o.childName,o.snapshotNode))}),tl(t,i,"child_removed",e,r,n),tl(t,i,"child_added",e,r,n),tl(t,i,"child_moved",s,r,n),tl(t,i,"child_changed",e,r,n),tl(t,i,"value",e,r,n),i}function tl(t,e,n,r,i,s){const o=r.filter(a=>a.type===n);o.sort((a,l)=>a$(t,a,l)),o.forEach(a=>{const l=o$(t,a,s);i.forEach(c=>{c.respondsTo(a.type)&&e.push(c.createEvent(l,t.query_))})})}function o$(t,e,n){return e.type==="value"||e.type==="child_removed"||(e.prevName=n.getPredecessorChildName(e.childName,e.snapshotNode,t.index_)),e}function a$(t,e,n){if(e.childName==null||n.childName==null)throw _a("Should only compare child_ events.");const r=new ne(e.childName,e.snapshotNode),i=new ne(n.childName,n.snapshotNode);return t.index_.compare(r,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function df(t,e){return{eventCache:t,serverCache:e}}function Al(t,e,n,r){return df(new Fi(e,n,r),t.serverCache)}function aP(t,e,n,r){return df(t.eventCache,new Fi(e,n,r))}function gh(t){return t.eventCache.isFullyInitialized()?t.eventCache.getNode():null}function js(t){return t.serverCache.isFullyInitialized()?t.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let rm;const l$=()=>(rm||(rm=new nn(G3)),rm);class Ce{static fromObject(e){let n=new Ce(null);return Et(e,(r,i)=>{n=n.set(new ve(r),i)}),n}constructor(e,n=l$()){this.value=e,this.children=n}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,n){if(this.value!=null&&n(this.value))return{path:he(),value:this.value};if(re(e))return null;{const r=te(e),i=this.children.get(r);if(i!==null){const s=i.findRootMostMatchingPathAndValue(Se(e),n);return s!=null?{path:He(new ve(r),s.path),value:s.value}:null}else return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(re(e))return this;{const n=te(e),r=this.children.get(n);return r!==null?r.subtree(Se(e)):new Ce(null)}}set(e,n){if(re(e))return new Ce(n,this.children);{const r=te(e),s=(this.children.get(r)||new Ce(null)).set(Se(e),n),o=this.children.insert(r,s);return new Ce(this.value,o)}}remove(e){if(re(e))return this.children.isEmpty()?new Ce(null):new Ce(null,this.children);{const n=te(e),r=this.children.get(n);if(r){const i=r.remove(Se(e));let s;return i.isEmpty()?s=this.children.remove(n):s=this.children.insert(n,i),this.value===null&&s.isEmpty()?new Ce(null):new Ce(this.value,s)}else return this}}get(e){if(re(e))return this.value;{const n=te(e),r=this.children.get(n);return r?r.get(Se(e)):null}}setTree(e,n){if(re(e))return n;{const r=te(e),s=(this.children.get(r)||new Ce(null)).setTree(Se(e),n);let o;return s.isEmpty()?o=this.children.remove(r):o=this.children.insert(r,s),new Ce(this.value,o)}}fold(e){return this.fold_(he(),e)}fold_(e,n){const r={};return this.children.inorderTraversal((i,s)=>{r[i]=s.fold_(He(e,i),n)}),n(e,this.value,r)}findOnPath(e,n){return this.findOnPath_(e,he(),n)}findOnPath_(e,n,r){const i=this.value?r(n,this.value):!1;if(i)return i;if(re(e))return null;{const s=te(e),o=this.children.get(s);return o?o.findOnPath_(Se(e),He(n,s),r):null}}foreachOnPath(e,n){return this.foreachOnPath_(e,he(),n)}foreachOnPath_(e,n,r){if(re(e))return this;{this.value&&r(n,this.value);const i=te(e),s=this.children.get(i);return s?s.foreachOnPath_(Se(e),He(n,i),r):new Ce(null)}}foreach(e){this.foreach_(he(),e)}foreach_(e,n){this.children.inorderTraversal((r,i)=>{i.foreach_(He(e,r),n)}),this.value&&n(e,this.value)}foreachChild(e){this.children.inorderTraversal((n,r)=>{r.value&&e(n,r.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qn{constructor(e){this.writeTree_=e}static empty(){return new Qn(new Ce(null))}}function Nl(t,e,n){if(re(e))return new Qn(new Ce(n));{const r=t.writeTree_.findRootMostValueAndPath(e);if(r!=null){const i=r.path;let s=r.value;const o=Ut(i,e);return s=s.updateChild(o,n),new Qn(t.writeTree_.set(i,s))}else{const i=new Ce(n),s=t.writeTree_.setTree(e,i);return new Qn(s)}}}function Bg(t,e,n){let r=t;return Et(n,(i,s)=>{r=Nl(r,He(e,i),s)}),r}function sE(t,e){if(re(e))return Qn.empty();{const n=t.writeTree_.setTree(e,new Ce(null));return new Qn(n)}}function zg(t,e){return Gs(t,e)!=null}function Gs(t,e){const n=t.writeTree_.findRootMostValueAndPath(e);return n!=null?t.writeTree_.get(n.path).getChild(Ut(n.path,e)):null}function oE(t){const e=[],n=t.writeTree_.value;return n!=null?n.isLeafNode()||n.forEachChild(Ge,(r,i)=>{e.push(new ne(r,i))}):t.writeTree_.children.inorderTraversal((r,i)=>{i.value!=null&&e.push(new ne(r,i.value))}),e}function Ai(t,e){if(re(e))return t;{const n=Gs(t,e);return n!=null?new Qn(new Ce(n)):new Qn(t.writeTree_.subtree(e))}}function Wg(t){return t.writeTree_.isEmpty()}function ta(t,e){return lP(he(),t.writeTree_,e)}function lP(t,e,n){if(e.value!=null)return n.updateChild(t,e.value);{let r=null;return e.children.inorderTraversal((i,s)=>{i===".priority"?(U(s.value!==null,"Priority writes must always be leaf nodes"),r=s.value):n=lP(He(t,i),s,n)}),!n.getChild(t).isEmpty()&&r!==null&&(n=n.updateChild(He(t,".priority"),r)),n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hf(t,e){return hP(e,t)}function c$(t,e,n,r,i){U(r>t.lastWriteId,"Stacking an older write on top of newer ones"),i===void 0&&(i=!0),t.allWrites.push({path:e,snap:n,writeId:r,visible:i}),i&&(t.visibleWrites=Nl(t.visibleWrites,e,n)),t.lastWriteId=r}function u$(t,e,n,r){U(r>t.lastWriteId,"Stacking an older merge on top of newer ones"),t.allWrites.push({path:e,children:n,writeId:r,visible:!0}),t.visibleWrites=Bg(t.visibleWrites,e,n),t.lastWriteId=r}function d$(t,e){for(let n=0;n<t.allWrites.length;n++){const r=t.allWrites[n];if(r.writeId===e)return r}return null}function h$(t,e){const n=t.allWrites.findIndex(a=>a.writeId===e);U(n>=0,"removeWrite called with nonexistent writeId.");const r=t.allWrites[n];t.allWrites.splice(n,1);let i=r.visible,s=!1,o=t.allWrites.length-1;for(;i&&o>=0;){const a=t.allWrites[o];a.visible&&(o>=n&&f$(a,r.path)?i=!1:In(r.path,a.path)&&(s=!0)),o--}if(i){if(s)return p$(t),!0;if(r.snap)t.visibleWrites=sE(t.visibleWrites,r.path);else{const a=r.children;Et(a,l=>{t.visibleWrites=sE(t.visibleWrites,He(r.path,l))})}return!0}else return!1}function f$(t,e){if(t.snap)return In(t.path,e);for(const n in t.children)if(t.children.hasOwnProperty(n)&&In(He(t.path,n),e))return!0;return!1}function p$(t){t.visibleWrites=cP(t.allWrites,m$,he()),t.allWrites.length>0?t.lastWriteId=t.allWrites[t.allWrites.length-1].writeId:t.lastWriteId=-1}function m$(t){return t.visible}function cP(t,e,n){let r=Qn.empty();for(let i=0;i<t.length;++i){const s=t[i];if(e(s)){const o=s.path;let a;if(s.snap)In(n,o)?(a=Ut(n,o),r=Nl(r,a,s.snap)):In(o,n)&&(a=Ut(o,n),r=Nl(r,he(),s.snap.getChild(a)));else if(s.children){if(In(n,o))a=Ut(n,o),r=Bg(r,a,s.children);else if(In(o,n))if(a=Ut(o,n),re(a))r=Bg(r,he(),s.children);else{const l=Jo(s.children,te(a));if(l){const c=l.getChild(Se(a));r=Nl(r,he(),c)}}}else throw _a("WriteRecord should have .snap or .children")}}return r}function uP(t,e,n,r,i){if(!r&&!i){const s=Gs(t.visibleWrites,e);if(s!=null)return s;{const o=Ai(t.visibleWrites,e);if(Wg(o))return n;if(n==null&&!zg(o,he()))return null;{const a=n||J.EMPTY_NODE;return ta(o,a)}}}else{const s=Ai(t.visibleWrites,e);if(!i&&Wg(s))return n;if(!i&&n==null&&!zg(s,he()))return null;{const o=function(c){return(c.visible||i)&&(!r||!~r.indexOf(c.writeId))&&(In(c.path,e)||In(e,c.path))},a=cP(t.allWrites,o,e),l=n||J.EMPTY_NODE;return ta(a,l)}}}function g$(t,e,n){let r=J.EMPTY_NODE;const i=Gs(t.visibleWrites,e);if(i)return i.isLeafNode()||i.forEachChild(Ge,(s,o)=>{r=r.updateImmediateChild(s,o)}),r;if(n){const s=Ai(t.visibleWrites,e);return n.forEachChild(Ge,(o,a)=>{const l=ta(Ai(s,new ve(o)),a);r=r.updateImmediateChild(o,l)}),oE(s).forEach(o=>{r=r.updateImmediateChild(o.name,o.node)}),r}else{const s=Ai(t.visibleWrites,e);return oE(s).forEach(o=>{r=r.updateImmediateChild(o.name,o.node)}),r}}function y$(t,e,n,r,i){U(r||i,"Either existingEventSnap or existingServerSnap must exist");const s=He(e,n);if(zg(t.visibleWrites,s))return null;{const o=Ai(t.visibleWrites,s);return Wg(o)?i.getChild(n):ta(o,i.getChild(n))}}function v$(t,e,n,r){const i=He(e,n),s=Gs(t.visibleWrites,i);if(s!=null)return s;if(r.isCompleteForChild(n)){const o=Ai(t.visibleWrites,i);return ta(o,r.getNode().getImmediateChild(n))}else return null}function _$(t,e){return Gs(t.visibleWrites,e)}function w$(t,e,n,r,i,s,o){let a;const l=Ai(t.visibleWrites,e),c=Gs(l,he());if(c!=null)a=c;else if(n!=null)a=ta(l,n);else return[];if(a=a.withIndex(o),!a.isEmpty()&&!a.isLeafNode()){const d=[],h=o.getCompare(),f=s?a.getReverseIteratorFrom(r,o):a.getIteratorFrom(r,o);let v=f.getNext();for(;v&&d.length<i;)h(v,r)!==0&&d.push(v),v=f.getNext();return d}else return[]}function x$(){return{visibleWrites:Qn.empty(),allWrites:[],lastWriteId:-1}}function yh(t,e,n,r){return uP(t.writeTree,t.treePath,e,n,r)}function S0(t,e){return g$(t.writeTree,t.treePath,e)}function aE(t,e,n,r){return y$(t.writeTree,t.treePath,e,n,r)}function vh(t,e){return _$(t.writeTree,He(t.treePath,e))}function E$(t,e,n,r,i,s){return w$(t.writeTree,t.treePath,e,n,r,i,s)}function b0(t,e,n){return v$(t.writeTree,t.treePath,e,n)}function dP(t,e){return hP(He(t.treePath,e),t.writeTree)}function hP(t,e){return{treePath:t,writeTree:e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C${constructor(){this.changeMap=new Map}trackChildChange(e){const n=e.type,r=e.childName;U(n==="child_added"||n==="child_changed"||n==="child_removed","Only child changes supported for tracking"),U(r!==".priority","Only non-priority child changes can be tracked.");const i=this.changeMap.get(r);if(i){const s=i.type;if(n==="child_added"&&s==="child_removed")this.changeMap.set(r,gc(r,e.snapshotNode,i.snapshotNode));else if(n==="child_removed"&&s==="child_added")this.changeMap.delete(r);else if(n==="child_removed"&&s==="child_changed")this.changeMap.set(r,mc(r,i.oldSnap));else if(n==="child_changed"&&s==="child_added")this.changeMap.set(r,Zo(r,e.snapshotNode));else if(n==="child_changed"&&s==="child_changed")this.changeMap.set(r,gc(r,e.snapshotNode,i.oldSnap));else throw _a("Illegal combination of changes: "+e+" occurred after "+i)}else this.changeMap.set(r,e)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S${getCompleteChild(e){return null}getChildAfterChild(e,n,r){return null}}const fP=new S$;class T0{constructor(e,n,r=null){this.writes_=e,this.viewCache_=n,this.optCompleteServerCache_=r}getCompleteChild(e){const n=this.viewCache_.eventCache;if(n.isCompleteForChild(e))return n.getNode().getImmediateChild(e);{const r=this.optCompleteServerCache_!=null?new Fi(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return b0(this.writes_,e,r)}}getChildAfterChild(e,n,r){const i=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:js(this.viewCache_),s=E$(this.writes_,i,n,1,r,e);return s.length===0?null:s[0]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function b$(t){return{filter:t}}function T$(t,e){U(e.eventCache.getNode().isIndexed(t.filter.getIndex()),"Event snap not indexed"),U(e.serverCache.getNode().isIndexed(t.filter.getIndex()),"Server snap not indexed")}function k$(t,e,n,r,i){const s=new C$;let o,a;if(n.type===Gn.OVERWRITE){const c=n;c.source.fromUser?o=Hg(t,e,c.path,c.snap,r,i,s):(U(c.source.fromServer,"Unknown source."),a=c.source.tagged||e.serverCache.isFiltered()&&!re(c.path),o=_h(t,e,c.path,c.snap,r,i,a,s))}else if(n.type===Gn.MERGE){const c=n;c.source.fromUser?o=P$(t,e,c.path,c.children,r,i,s):(U(c.source.fromServer,"Unknown source."),a=c.source.tagged||e.serverCache.isFiltered(),o=Gg(t,e,c.path,c.children,r,i,a,s))}else if(n.type===Gn.ACK_USER_WRITE){const c=n;c.revert?o=N$(t,e,c.path,r,i,s):o=R$(t,e,c.path,c.affectedTree,r,i,s)}else if(n.type===Gn.LISTEN_COMPLETE)o=A$(t,e,n.path,r,s);else throw _a("Unknown operation type: "+n.type);const l=s.getChanges();return I$(e,o,l),{viewCache:o,changes:l}}function I$(t,e,n){const r=e.eventCache;if(r.isFullyInitialized()){const i=r.getNode().isLeafNode()||r.getNode().isEmpty(),s=gh(t);(n.length>0||!t.eventCache.isFullyInitialized()||i&&!r.getNode().equals(s)||!r.getNode().getPriority().equals(s.getPriority()))&&n.push(sP(gh(e)))}}function pP(t,e,n,r,i,s){const o=e.eventCache;if(vh(r,n)!=null)return e;{let a,l;if(re(n))if(U(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const c=js(e),d=c instanceof J?c:J.EMPTY_NODE,h=S0(r,d);a=t.filter.updateFullNode(e.eventCache.getNode(),h,s)}else{const c=yh(r,js(e));a=t.filter.updateFullNode(e.eventCache.getNode(),c,s)}else{const c=te(n);if(c===".priority"){U(ji(n)===1,"Can't have a priority with additional path components");const d=o.getNode();l=e.serverCache.getNode();const h=aE(r,n,d,l);h!=null?a=t.filter.updatePriority(d,h):a=o.getNode()}else{const d=Se(n);let h;if(o.isCompleteForChild(c)){l=e.serverCache.getNode();const f=aE(r,n,o.getNode(),l);f!=null?h=o.getNode().getImmediateChild(c).updateChild(d,f):h=o.getNode().getImmediateChild(c)}else h=b0(r,c,e.serverCache);h!=null?a=t.filter.updateChild(o.getNode(),c,h,d,i,s):a=o.getNode()}}return Al(e,a,o.isFullyInitialized()||re(n),t.filter.filtersNodes())}}function _h(t,e,n,r,i,s,o,a){const l=e.serverCache;let c;const d=o?t.filter:t.filter.getIndexedFilter();if(re(n))c=d.updateFullNode(l.getNode(),r,null);else if(d.filtersNodes()&&!l.isFiltered()){const v=l.getNode().updateChild(n,r);c=d.updateFullNode(l.getNode(),v,null)}else{const v=te(n);if(!l.isCompleteForPath(n)&&ji(n)>1)return e;const w=Se(n),P=l.getNode().getImmediateChild(v).updateChild(w,r);v===".priority"?c=d.updatePriority(l.getNode(),P):c=d.updateChild(l.getNode(),v,P,w,fP,null)}const h=aP(e,c,l.isFullyInitialized()||re(n),d.filtersNodes()),f=new T0(i,h,s);return pP(t,h,n,i,f,a)}function Hg(t,e,n,r,i,s,o){const a=e.eventCache;let l,c;const d=new T0(i,e,s);if(re(n))c=t.filter.updateFullNode(e.eventCache.getNode(),r,o),l=Al(e,c,!0,t.filter.filtersNodes());else{const h=te(n);if(h===".priority")c=t.filter.updatePriority(e.eventCache.getNode(),r),l=Al(e,c,a.isFullyInitialized(),a.isFiltered());else{const f=Se(n),v=a.getNode().getImmediateChild(h);let w;if(re(f))w=r;else{const S=d.getCompleteChild(h);S!=null?m0(f)===".priority"&&S.getChild(QI(f)).isEmpty()?w=S:w=S.updateChild(f,r):w=J.EMPTY_NODE}if(v.equals(w))l=e;else{const S=t.filter.updateChild(a.getNode(),h,w,f,d,o);l=Al(e,S,a.isFullyInitialized(),t.filter.filtersNodes())}}}return l}function lE(t,e){return t.eventCache.isCompleteForChild(e)}function P$(t,e,n,r,i,s,o){let a=e;return r.foreach((l,c)=>{const d=He(n,l);lE(e,te(d))&&(a=Hg(t,a,d,c,i,s,o))}),r.foreach((l,c)=>{const d=He(n,l);lE(e,te(d))||(a=Hg(t,a,d,c,i,s,o))}),a}function cE(t,e,n){return n.foreach((r,i)=>{e=e.updateChild(r,i)}),e}function Gg(t,e,n,r,i,s,o,a){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let l=e,c;re(n)?c=r:c=new Ce(null).setTree(n,r);const d=e.serverCache.getNode();return c.children.inorderTraversal((h,f)=>{if(d.hasChild(h)){const v=e.serverCache.getNode().getImmediateChild(h),w=cE(t,v,f);l=_h(t,l,new ve(h),w,i,s,o,a)}}),c.children.inorderTraversal((h,f)=>{const v=!e.serverCache.isCompleteForChild(h)&&f.value===null;if(!d.hasChild(h)&&!v){const w=e.serverCache.getNode().getImmediateChild(h),S=cE(t,w,f);l=_h(t,l,new ve(h),S,i,s,o,a)}}),l}function R$(t,e,n,r,i,s,o){if(vh(i,n)!=null)return e;const a=e.serverCache.isFiltered(),l=e.serverCache;if(r.value!=null){if(re(n)&&l.isFullyInitialized()||l.isCompleteForPath(n))return _h(t,e,n,l.getNode().getChild(n),i,s,a,o);if(re(n)){let c=new Ce(null);return l.getNode().forEachChild(Uo,(d,h)=>{c=c.set(new ve(d),h)}),Gg(t,e,n,c,i,s,a,o)}else return e}else{let c=new Ce(null);return r.foreach((d,h)=>{const f=He(n,d);l.isCompleteForPath(f)&&(c=c.set(d,l.getNode().getChild(f)))}),Gg(t,e,n,c,i,s,a,o)}}function A$(t,e,n,r,i){const s=e.serverCache,o=aP(e,s.getNode(),s.isFullyInitialized()||re(n),s.isFiltered());return pP(t,o,n,r,fP,i)}function N$(t,e,n,r,i,s){let o;if(vh(r,n)!=null)return e;{const a=new T0(r,e,i),l=e.eventCache.getNode();let c;if(re(n)||te(n)===".priority"){let d;if(e.serverCache.isFullyInitialized())d=yh(r,js(e));else{const h=e.serverCache.getNode();U(h instanceof J,"serverChildren would be complete if leaf node"),d=S0(r,h)}d=d,c=t.filter.updateFullNode(l,d,s)}else{const d=te(n);let h=b0(r,d,e.serverCache);h==null&&e.serverCache.isCompleteForChild(d)&&(h=l.getImmediateChild(d)),h!=null?c=t.filter.updateChild(l,d,h,Se(n),a,s):e.eventCache.getNode().hasChild(d)?c=t.filter.updateChild(l,d,J.EMPTY_NODE,Se(n),a,s):c=l,c.isEmpty()&&e.serverCache.isFullyInitialized()&&(o=yh(r,js(e)),o.isLeafNode()&&(c=t.filter.updateFullNode(c,o,s)))}return o=e.serverCache.isFullyInitialized()||vh(r,he())!=null,Al(e,c,o,t.filter.filtersNodes())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D${constructor(e,n){this.query_=e,this.eventRegistrations_=[];const r=this.query_._queryParams,i=new _0(r.getIndex()),s=J6(r);this.processor_=b$(s);const o=n.serverCache,a=n.eventCache,l=i.updateFullNode(J.EMPTY_NODE,o.getNode(),null),c=s.updateFullNode(J.EMPTY_NODE,a.getNode(),null),d=new Fi(l,o.isFullyInitialized(),i.filtersNodes()),h=new Fi(c,a.isFullyInitialized(),s.filtersNodes());this.viewCache_=df(h,d),this.eventGenerator_=new i$(this.query_)}get query(){return this.query_}}function O$(t){return t.viewCache_.serverCache.getNode()}function M$(t){return gh(t.viewCache_)}function L$(t,e){const n=js(t.viewCache_);return n&&(t.query._queryParams.loadsAllData()||!re(e)&&!n.getImmediateChild(te(e)).isEmpty())?n.getChild(e):null}function uE(t){return t.eventRegistrations_.length===0}function j$(t,e){t.eventRegistrations_.push(e)}function dE(t,e,n){const r=[];if(n){U(e==null,"A cancel should cancel all event registrations.");const i=t.query._path;t.eventRegistrations_.forEach(s=>{const o=s.createCancelEvent(n,i);o&&r.push(o)})}if(e){let i=[];for(let s=0;s<t.eventRegistrations_.length;++s){const o=t.eventRegistrations_[s];if(!o.matches(e))i.push(o);else if(e.hasAnyCallback()){i=i.concat(t.eventRegistrations_.slice(s+1));break}}t.eventRegistrations_=i}else t.eventRegistrations_=[];return r}function hE(t,e,n,r){e.type===Gn.MERGE&&e.source.queryId!==null&&(U(js(t.viewCache_),"We should always have a full cache before handling merges"),U(gh(t.viewCache_),"Missing event cache, even though we have a server cache"));const i=t.viewCache_,s=k$(t.processor_,i,e,n,r);return T$(t.processor_,s.viewCache),U(s.viewCache.serverCache.isFullyInitialized()||!i.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),t.viewCache_=s.viewCache,mP(t,s.changes,s.viewCache.eventCache.getNode(),null)}function F$(t,e){const n=t.viewCache_.eventCache,r=[];return n.getNode().isLeafNode()||n.getNode().forEachChild(Ge,(s,o)=>{r.push(Zo(s,o))}),n.isFullyInitialized()&&r.push(sP(n.getNode())),mP(t,r,n.getNode(),e)}function mP(t,e,n,r){const i=r?[r]:t.eventRegistrations_;return s$(t.eventGenerator_,e,n,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let wh;class gP{constructor(){this.views=new Map}}function $$(t){U(!wh,"__referenceConstructor has already been defined"),wh=t}function V$(){return U(wh,"Reference.ts has not been loaded"),wh}function U$(t){return t.views.size===0}function k0(t,e,n,r){const i=e.source.queryId;if(i!==null){const s=t.views.get(i);return U(s!=null,"SyncTree gave us an op for an invalid query."),hE(s,e,n,r)}else{let s=[];for(const o of t.views.values())s=s.concat(hE(o,e,n,r));return s}}function yP(t,e,n,r,i){const s=e._queryIdentifier,o=t.views.get(s);if(!o){let a=yh(n,i?r:null),l=!1;a?l=!0:r instanceof J?(a=S0(n,r),l=!1):(a=J.EMPTY_NODE,l=!1);const c=df(new Fi(a,l,!1),new Fi(r,i,!1));return new D$(e,c)}return o}function B$(t,e,n,r,i,s){const o=yP(t,e,r,i,s);return t.views.has(e._queryIdentifier)||t.views.set(e._queryIdentifier,o),j$(o,n),F$(o,n)}function z$(t,e,n,r){const i=e._queryIdentifier,s=[];let o=[];const a=$i(t);if(i==="default")for(const[l,c]of t.views.entries())o=o.concat(dE(c,n,r)),uE(c)&&(t.views.delete(l),c.query._queryParams.loadsAllData()||s.push(c.query));else{const l=t.views.get(i);l&&(o=o.concat(dE(l,n,r)),uE(l)&&(t.views.delete(i),l.query._queryParams.loadsAllData()||s.push(l.query)))}return a&&!$i(t)&&s.push(new(V$())(e._repo,e._path)),{removed:s,events:o}}function vP(t){const e=[];for(const n of t.views.values())n.query._queryParams.loadsAllData()||e.push(n);return e}function Ni(t,e){let n=null;for(const r of t.views.values())n=n||L$(r,e);return n}function _P(t,e){if(e._queryParams.loadsAllData())return ff(t);{const r=e._queryIdentifier;return t.views.get(r)}}function wP(t,e){return _P(t,e)!=null}function $i(t){return ff(t)!=null}function ff(t){for(const e of t.views.values())if(e.query._queryParams.loadsAllData())return e;return null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let xh;function W$(t){U(!xh,"__referenceConstructor has already been defined"),xh=t}function H$(){return U(xh,"Reference.ts has not been loaded"),xh}let G$=1;class fE{constructor(e){this.listenProvider_=e,this.syncPointTree_=new Ce(null),this.pendingWriteTree_=x$(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function xP(t,e,n,r,i){return c$(t.pendingWriteTree_,e,n,r,i),i?Ca(t,new Ls(x0(),e,n)):[]}function K$(t,e,n,r){u$(t.pendingWriteTree_,e,n,r);const i=Ce.fromObject(n);return Ca(t,new ea(x0(),e,i))}function xi(t,e,n=!1){const r=d$(t.pendingWriteTree_,e);if(h$(t.pendingWriteTree_,e)){let s=new Ce(null);return r.snap!=null?s=s.set(he(),!0):Et(r.children,o=>{s=s.set(new ve(o),!0)}),Ca(t,new mh(r.path,s,n))}else return[]}function Kc(t,e,n){return Ca(t,new Ls(E0(),e,n))}function q$(t,e,n){const r=Ce.fromObject(n);return Ca(t,new ea(E0(),e,r))}function Y$(t,e){return Ca(t,new vc(E0(),e))}function X$(t,e,n){const r=P0(t,n);if(r){const i=R0(r),s=i.path,o=i.queryId,a=Ut(s,e),l=new vc(C0(o),a);return A0(t,s,l)}else return[]}function Eh(t,e,n,r,i=!1){const s=e._path,o=t.syncPointTree_.get(s);let a=[];if(o&&(e._queryIdentifier==="default"||wP(o,e))){const l=z$(o,e,n,r);U$(o)&&(t.syncPointTree_=t.syncPointTree_.remove(s));const c=l.removed;if(a=l.events,!i){const d=c.findIndex(f=>f._queryParams.loadsAllData())!==-1,h=t.syncPointTree_.findOnPath(s,(f,v)=>$i(v));if(d&&!h){const f=t.syncPointTree_.subtree(s);if(!f.isEmpty()){const v=Z$(f);for(let w=0;w<v.length;++w){const S=v[w],P=S.query,_=bP(t,S);t.listenProvider_.startListening(Dl(P),_c(t,P),_.hashFn,_.onComplete)}}}!h&&c.length>0&&!r&&(d?t.listenProvider_.stopListening(Dl(e),null):c.forEach(f=>{const v=t.queryToTagMap.get(pf(f));t.listenProvider_.stopListening(Dl(f),v)}))}eV(t,c)}return a}function EP(t,e,n,r){const i=P0(t,r);if(i!=null){const s=R0(i),o=s.path,a=s.queryId,l=Ut(o,e),c=new Ls(C0(a),l,n);return A0(t,o,c)}else return[]}function J$(t,e,n,r){const i=P0(t,r);if(i){const s=R0(i),o=s.path,a=s.queryId,l=Ut(o,e),c=Ce.fromObject(n),d=new ea(C0(a),l,c);return A0(t,o,d)}else return[]}function Kg(t,e,n,r=!1){const i=e._path;let s=null,o=!1;t.syncPointTree_.foreachOnPath(i,(f,v)=>{const w=Ut(f,i);s=s||Ni(v,w),o=o||$i(v)});let a=t.syncPointTree_.get(i);a?(o=o||$i(a),s=s||Ni(a,he())):(a=new gP,t.syncPointTree_=t.syncPointTree_.set(i,a));let l;s!=null?l=!0:(l=!1,s=J.EMPTY_NODE,t.syncPointTree_.subtree(i).foreachChild((v,w)=>{const S=Ni(w,he());S&&(s=s.updateImmediateChild(v,S))}));const c=wP(a,e);if(!c&&!e._queryParams.loadsAllData()){const f=pf(e);U(!t.queryToTagMap.has(f),"View does not exist, but we have a tag");const v=tV();t.queryToTagMap.set(f,v),t.tagToQueryMap.set(v,f)}const d=hf(t.pendingWriteTree_,i);let h=B$(a,e,n,d,s,l);if(!c&&!o&&!r){const f=_P(a,e);h=h.concat(nV(t,e,f))}return h}function I0(t,e,n){const i=t.pendingWriteTree_,s=t.syncPointTree_.findOnPath(e,(o,a)=>{const l=Ut(o,e),c=Ni(a,l);if(c)return c});return uP(i,e,s,n,!0)}function Q$(t,e){const n=e._path;let r=null;t.syncPointTree_.foreachOnPath(n,(c,d)=>{const h=Ut(c,n);r=r||Ni(d,h)});let i=t.syncPointTree_.get(n);i?r=r||Ni(i,he()):(i=new gP,t.syncPointTree_=t.syncPointTree_.set(n,i));const s=r!=null,o=s?new Fi(r,!0,!1):null,a=hf(t.pendingWriteTree_,e._path),l=yP(i,e,a,s?o.getNode():J.EMPTY_NODE,s);return M$(l)}function Ca(t,e){return CP(e,t.syncPointTree_,null,hf(t.pendingWriteTree_,he()))}function CP(t,e,n,r){if(re(t.path))return SP(t,e,n,r);{const i=e.get(he());n==null&&i!=null&&(n=Ni(i,he()));let s=[];const o=te(t.path),a=t.operationForChild(o),l=e.children.get(o);if(l&&a){const c=n?n.getImmediateChild(o):null,d=dP(r,o);s=s.concat(CP(a,l,c,d))}return i&&(s=s.concat(k0(i,t,r,n))),s}}function SP(t,e,n,r){const i=e.get(he());n==null&&i!=null&&(n=Ni(i,he()));let s=[];return e.children.inorderTraversal((o,a)=>{const l=n?n.getImmediateChild(o):null,c=dP(r,o),d=t.operationForChild(o);d&&(s=s.concat(SP(d,a,l,c)))}),i&&(s=s.concat(k0(i,t,r,n))),s}function bP(t,e){const n=e.query,r=_c(t,n);return{hashFn:()=>(O$(e)||J.EMPTY_NODE).hash(),onComplete:i=>{if(i==="ok")return r?X$(t,n._path,r):Y$(t,n._path);{const s=Y3(i,n);return Eh(t,n,null,s)}}}}function _c(t,e){const n=pf(e);return t.queryToTagMap.get(n)}function pf(t){return t._path.toString()+"$"+t._queryIdentifier}function P0(t,e){return t.tagToQueryMap.get(e)}function R0(t){const e=t.indexOf("$");return U(e!==-1&&e<t.length-1,"Bad queryKey."),{queryId:t.substr(e+1),path:new ve(t.substr(0,e))}}function A0(t,e,n){const r=t.syncPointTree_.get(e);U(r,"Missing sync point for query tag that we're tracking");const i=hf(t.pendingWriteTree_,e);return k0(r,n,i,null)}function Z$(t){return t.fold((e,n,r)=>{if(n&&$i(n))return[ff(n)];{let i=[];return n&&(i=vP(n)),Et(r,(s,o)=>{i=i.concat(o)}),i}})}function Dl(t){return t._queryParams.loadsAllData()&&!t._queryParams.isDefault()?new(H$())(t._repo,t._path):t}function eV(t,e){for(let n=0;n<e.length;++n){const r=e[n];if(!r._queryParams.loadsAllData()){const i=pf(r),s=t.queryToTagMap.get(i);t.queryToTagMap.delete(i),t.tagToQueryMap.delete(s)}}}function tV(){return G$++}function nV(t,e,n){const r=e._path,i=_c(t,e),s=bP(t,n),o=t.listenProvider_.startListening(Dl(e),i,s.hashFn,s.onComplete),a=t.syncPointTree_.subtree(r);if(i)U(!$i(a.value),"If we're adding a query, it shouldn't be shadowed");else{const l=a.fold((c,d,h)=>{if(!re(c)&&d&&$i(d))return[ff(d).query];{let f=[];return d&&(f=f.concat(vP(d).map(v=>v.query))),Et(h,(v,w)=>{f=f.concat(w)}),f}});for(let c=0;c<l.length;++c){const d=l[c];t.listenProvider_.stopListening(Dl(d),_c(t,d))}}return o}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N0{constructor(e){this.node_=e}getImmediateChild(e){const n=this.node_.getImmediateChild(e);return new N0(n)}node(){return this.node_}}class D0{constructor(e,n){this.syncTree_=e,this.path_=n}getImmediateChild(e){const n=He(this.path_,e);return new D0(this.syncTree_,n)}node(){return I0(this.syncTree_,this.path_)}}const rV=function(t){return t=t||{},t.timestamp=t.timestamp||new Date().getTime(),t},pE=function(t,e,n){if(!t||typeof t!="object")return t;if(U(".sv"in t,"Unexpected leaf node or priority contents"),typeof t[".sv"]=="string")return iV(t[".sv"],e,n);if(typeof t[".sv"]=="object")return sV(t[".sv"],e);U(!1,"Unexpected server value: "+JSON.stringify(t,null,2))},iV=function(t,e,n){switch(t){case"timestamp":return n.timestamp;default:U(!1,"Unexpected server value: "+t)}},sV=function(t,e,n){t.hasOwnProperty("increment")||U(!1,"Unexpected server value: "+JSON.stringify(t,null,2));const r=t.increment;typeof r!="number"&&U(!1,"Unexpected increment value: "+r);const i=e.node();if(U(i!==null&&typeof i<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;const o=i.getValue();return typeof o!="number"?r:o+r},TP=function(t,e,n,r){return O0(e,new D0(n,t),r)},kP=function(t,e,n){return O0(t,new N0(e),n)};function O0(t,e,n){const r=t.getPriority().val(),i=pE(r,e.getImmediateChild(".priority"),n);let s;if(t.isLeafNode()){const o=t,a=pE(o.getValue(),e,n);return a!==o.getValue()||i!==o.getPriority().val()?new lt(a,tt(i)):t}else{const o=t;return s=o,i!==o.getPriority().val()&&(s=s.updatePriority(new lt(i))),o.forEachChild(Ge,(a,l)=>{const c=O0(l,e.getImmediateChild(a),n);c!==l&&(s=s.updateImmediateChild(a,c))}),s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M0{constructor(e="",n=null,r={children:{},childCount:0}){this.name=e,this.parent=n,this.node=r}}function L0(t,e){let n=e instanceof ve?e:new ve(e),r=t,i=te(n);for(;i!==null;){const s=Jo(r.node.children,i)||{children:{},childCount:0};r=new M0(i,r,s),n=Se(n),i=te(n)}return r}function Sa(t){return t.node.value}function IP(t,e){t.node.value=e,qg(t)}function PP(t){return t.node.childCount>0}function oV(t){return Sa(t)===void 0&&!PP(t)}function mf(t,e){Et(t.node.children,(n,r)=>{e(new M0(n,t,r))})}function RP(t,e,n,r){n&&!r&&e(t),mf(t,i=>{RP(i,e,!0,r)}),n&&r&&e(t)}function aV(t,e,n){let r=n?t:t.parent;for(;r!==null;){if(e(r))return!0;r=r.parent}return!1}function qc(t){return new ve(t.parent===null?t.name:qc(t.parent)+"/"+t.name)}function qg(t){t.parent!==null&&lV(t.parent,t.name,t)}function lV(t,e,n){const r=oV(n),i=xr(t.node.children,e);r&&i?(delete t.node.children[e],t.node.childCount--,qg(t)):!r&&!i&&(t.node.children[e]=n.node,t.node.childCount++,qg(t))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cV=/[\[\].#$\/\u0000-\u001F\u007F]/,uV=/[\[\].#$\u0000-\u001F\u007F]/,im=10*1024*1024,j0=function(t){return typeof t=="string"&&t.length!==0&&!cV.test(t)},AP=function(t){return typeof t=="string"&&t.length!==0&&!uV.test(t)},dV=function(t){return t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),AP(t)},hV=function(t){return t===null||typeof t=="string"||typeof t=="number"&&!u0(t)||t&&typeof t=="object"&&xr(t,".sv")},NP=function(t,e,n,r){r&&e===void 0||gf(ef(t,"value"),e,n)},gf=function(t,e,n){const r=n instanceof ve?new P6(n,t):n;if(e===void 0)throw new Error(t+"contains undefined "+ls(r));if(typeof e=="function")throw new Error(t+"contains a function "+ls(r)+" with contents = "+e.toString());if(u0(e))throw new Error(t+"contains "+e.toString()+" "+ls(r));if(typeof e=="string"&&e.length>im/3&&tf(e)>im)throw new Error(t+"contains a string greater than "+im+" utf8 bytes "+ls(r)+" ('"+e.substring(0,50)+"...')");if(e&&typeof e=="object"){let i=!1,s=!1;if(Et(e,(o,a)=>{if(o===".value")i=!0;else if(o!==".priority"&&o!==".sv"&&(s=!0,!j0(o)))throw new Error(t+" contains an invalid key ("+o+") "+ls(r)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);R6(r,o),gf(t,a,r),A6(r)}),i&&s)throw new Error(t+' contains ".value" child '+ls(r)+" in addition to actual children.")}},fV=function(t,e){let n,r;for(n=0;n<e.length;n++){r=e[n];const s=pc(r);for(let o=0;o<s.length;o++)if(!(s[o]===".priority"&&o===s.length-1)){if(!j0(s[o]))throw new Error(t+"contains an invalid key ("+s[o]+") in path "+r.toString()+`. Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`)}}e.sort(I6);let i=null;for(n=0;n<e.length;n++){if(r=e[n],i!==null&&In(i,r))throw new Error(t+"contains a path "+i.toString()+" that is ancestor of another path "+r.toString());i=r}},pV=function(t,e,n,r){if(r&&e===void 0)return;const i=ef(t,"values");if(!(e&&typeof e=="object")||Array.isArray(e))throw new Error(i+" must be an object containing the children to replace.");const s=[];Et(e,(o,a)=>{const l=new ve(o);if(gf(i,a,He(n,l)),m0(l)===".priority"&&!hV(a))throw new Error(i+"contains an invalid value for '"+l.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");s.push(l)}),fV(i,s)},DP=function(t,e,n,r){if(!(r&&n===void 0)&&!AP(n))throw new Error(ef(t,e)+'was an invalid path = "'+n+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},mV=function(t,e,n,r){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),DP(t,e,n,r)},OP=function(t,e){if(te(e)===".info")throw new Error(t+" failed = Can't modify data under /.info/")},gV=function(t,e){const n=e.path.toString();if(typeof e.repoInfo.host!="string"||e.repoInfo.host.length===0||!j0(e.repoInfo.namespace)&&e.repoInfo.host.split(":")[0]!=="localhost"||n.length!==0&&!dV(n))throw new Error(ef(t,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yV{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function yf(t,e){let n=null;for(let r=0;r<e.length;r++){const i=e[r],s=i.getPath();n!==null&&!g0(s,n.path)&&(t.eventLists_.push(n),n=null),n===null&&(n={events:[],path:s}),n.events.push(i)}n&&t.eventLists_.push(n)}function MP(t,e,n){yf(t,n),LP(t,r=>g0(r,e))}function Mn(t,e,n){yf(t,n),LP(t,r=>In(r,e)||In(e,r))}function LP(t,e){t.recursionDepth_++;let n=!0;for(let r=0;r<t.eventLists_.length;r++){const i=t.eventLists_[r];if(i){const s=i.path;e(s)?(vV(t.eventLists_[r]),t.eventLists_[r]=null):n=!1}}n&&(t.eventLists_=[]),t.recursionDepth_--}function vV(t){for(let e=0;e<t.events.length;e++){const n=t.events[e];if(n!==null){t.events[e]=null;const r=n.getEventRunner();Cs&&_t("event: "+n.toString()),Ea(r)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _V="repo_interrupt",wV=25;class xV{constructor(e,n,r,i){this.repoInfo_=e,this.forceRestClient_=n,this.authTokenProvider_=r,this.appCheckProvider_=i,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new yV,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=ph(),this.transactionQueueTree_=new M0,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function EV(t,e,n){if(t.stats_=f0(t.repoInfo_),t.forceRestClient_||Z3())t.server_=new fh(t.repoInfo_,(r,i,s,o)=>{mE(t,r,i,s,o)},t.authTokenProvider_,t.appCheckProvider_),setTimeout(()=>gE(t,!0),0);else{if(typeof n<"u"&&n!==null){if(typeof n!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{nt(n)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}t.persistentConnection_=new Ur(t.repoInfo_,e,(r,i,s,o)=>{mE(t,r,i,s,o)},r=>{gE(t,r)},r=>{CV(t,r)},t.authTokenProvider_,t.appCheckProvider_,n),t.server_=t.persistentConnection_}t.authTokenProvider_.addTokenChangeListener(r=>{t.server_.refreshAuthToken(r)}),t.appCheckProvider_.addTokenChangeListener(r=>{t.server_.refreshAppCheckToken(r.token)}),t.statsReporter_=i6(t.repoInfo_,()=>new r$(t.stats_,t.server_)),t.infoData_=new Q6,t.infoSyncTree_=new fE({startListening:(r,i,s,o)=>{let a=[];const l=t.infoData_.getNode(r._path);return l.isEmpty()||(a=Kc(t.infoSyncTree_,r._path,l),setTimeout(()=>{o("ok")},0)),a},stopListening:()=>{}}),F0(t,"connected",!1),t.serverSyncTree_=new fE({startListening:(r,i,s,o)=>(t.server_.listen(r,s,i,(a,l)=>{const c=o(a,l);Mn(t.eventQueue_,r._path,c)}),[]),stopListening:(r,i)=>{t.server_.unlisten(r,i)}})}function jP(t){const n=t.infoData_.getNode(new ve(".info/serverTimeOffset")).val()||0;return new Date().getTime()+n}function vf(t){return rV({timestamp:jP(t)})}function mE(t,e,n,r,i){t.dataUpdateCount++;const s=new ve(e);n=t.interceptServerDataCallback_?t.interceptServerDataCallback_(e,n):n;let o=[];if(i)if(r){const l=th(n,c=>tt(c));o=J$(t.serverSyncTree_,s,l,i)}else{const l=tt(n);o=EP(t.serverSyncTree_,s,l,i)}else if(r){const l=th(n,c=>tt(c));o=q$(t.serverSyncTree_,s,l)}else{const l=tt(n);o=Kc(t.serverSyncTree_,s,l)}let a=s;o.length>0&&(a=na(t,s)),Mn(t.eventQueue_,a,o)}function gE(t,e){F0(t,"connected",e),e===!1&&kV(t)}function CV(t,e){Et(e,(n,r)=>{F0(t,n,r)})}function F0(t,e,n){const r=new ve("/.info/"+e),i=tt(n);t.infoData_.updateSnapshot(r,i);const s=Kc(t.infoSyncTree_,r,i);Mn(t.eventQueue_,r,s)}function $0(t){return t.nextWriteId_++}function SV(t,e,n){const r=Q$(t.serverSyncTree_,e);return r!=null?Promise.resolve(r):t.server_.get(e).then(i=>{const s=tt(i).withIndex(e._queryParams.getIndex());Kg(t.serverSyncTree_,e,n,!0);let o;if(e._queryParams.loadsAllData())o=Kc(t.serverSyncTree_,e._path,s);else{const a=_c(t.serverSyncTree_,e);o=EP(t.serverSyncTree_,e._path,s,a)}return Mn(t.eventQueue_,e._path,o),Eh(t.serverSyncTree_,e,n,null,!0),s},i=>(Yc(t,"get for query "+nt(e)+" failed: "+i),Promise.reject(new Error(i))))}function bV(t,e,n,r,i){Yc(t,"set",{path:e.toString(),value:n,priority:r});const s=vf(t),o=tt(n,r),a=I0(t.serverSyncTree_,e),l=kP(o,a,s),c=$0(t),d=xP(t.serverSyncTree_,e,l,c,!0);yf(t.eventQueue_,d),t.server_.put(e.toString(),o.val(!0),(f,v)=>{const w=f==="ok";w||Wt("set at "+e+" failed: "+f);const S=xi(t.serverSyncTree_,c,!w);Mn(t.eventQueue_,e,S),Yg(t,i,f,v)});const h=U0(t,e);na(t,h),Mn(t.eventQueue_,h,[])}function TV(t,e,n,r){Yc(t,"update",{path:e.toString(),value:n});let i=!0;const s=vf(t),o={};if(Et(n,(a,l)=>{i=!1,o[a]=TP(He(e,a),tt(l),t.serverSyncTree_,s)}),i)_t("update() called with empty data.  Don't do anything."),Yg(t,r,"ok",void 0);else{const a=$0(t),l=K$(t.serverSyncTree_,e,o,a);yf(t.eventQueue_,l),t.server_.merge(e.toString(),n,(c,d)=>{const h=c==="ok";h||Wt("update at "+e+" failed: "+c);const f=xi(t.serverSyncTree_,a,!h),v=f.length>0?na(t,e):e;Mn(t.eventQueue_,v,f),Yg(t,r,c,d)}),Et(n,c=>{const d=U0(t,He(e,c));na(t,d)}),Mn(t.eventQueue_,e,[])}}function kV(t){Yc(t,"onDisconnectEvents");const e=vf(t),n=ph();Ug(t.onDisconnect_,he(),(i,s)=>{const o=TP(i,s,t.serverSyncTree_,e);oP(n,i,o)});let r=[];Ug(n,he(),(i,s)=>{r=r.concat(Kc(t.serverSyncTree_,i,s));const o=U0(t,i);na(t,o)}),t.onDisconnect_=ph(),Mn(t.eventQueue_,he(),r)}function IV(t,e,n){let r;te(e._path)===".info"?r=Kg(t.infoSyncTree_,e,n):r=Kg(t.serverSyncTree_,e,n),MP(t.eventQueue_,e._path,r)}function yE(t,e,n){let r;te(e._path)===".info"?r=Eh(t.infoSyncTree_,e,n):r=Eh(t.serverSyncTree_,e,n),MP(t.eventQueue_,e._path,r)}function PV(t){t.persistentConnection_&&t.persistentConnection_.interrupt(_V)}function Yc(t,...e){let n="";t.persistentConnection_&&(n=t.persistentConnection_.id+":"),_t(n,...e)}function Yg(t,e,n,r){e&&Ea(()=>{if(n==="ok")e(null);else{const i=(n||"error").toUpperCase();let s=i;r&&(s+=": "+r);const o=new Error(s);o.code=i,e(o)}})}function FP(t,e,n){return I0(t.serverSyncTree_,e,n)||J.EMPTY_NODE}function V0(t,e=t.transactionQueueTree_){if(e||_f(t,e),Sa(e)){const n=VP(t,e);U(n.length>0,"Sending zero length transaction queue"),n.every(i=>i.status===0)&&RV(t,qc(e),n)}else PP(e)&&mf(e,n=>{V0(t,n)})}function RV(t,e,n){const r=n.map(c=>c.currentWriteId),i=FP(t,e,r);let s=i;const o=i.hash();for(let c=0;c<n.length;c++){const d=n[c];U(d.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),d.status=1,d.retryCount++;const h=Ut(e,d.path);s=s.updateChild(h,d.currentOutputSnapshotRaw)}const a=s.val(!0),l=e;t.server_.put(l.toString(),a,c=>{Yc(t,"transaction put response",{path:l.toString(),status:c});let d=[];if(c==="ok"){const h=[];for(let f=0;f<n.length;f++)n[f].status=2,d=d.concat(xi(t.serverSyncTree_,n[f].currentWriteId)),n[f].onComplete&&h.push(()=>n[f].onComplete(null,!0,n[f].currentOutputSnapshotResolved)),n[f].unwatcher();_f(t,L0(t.transactionQueueTree_,e)),V0(t,t.transactionQueueTree_),Mn(t.eventQueue_,e,d);for(let f=0;f<h.length;f++)Ea(h[f])}else{if(c==="datastale")for(let h=0;h<n.length;h++)n[h].status===3?n[h].status=4:n[h].status=0;else{Wt("transaction at "+l.toString()+" failed: "+c);for(let h=0;h<n.length;h++)n[h].status=4,n[h].abortReason=c}na(t,e)}},o)}function na(t,e){const n=$P(t,e),r=qc(n),i=VP(t,n);return AV(t,i,r),r}function AV(t,e,n){if(e.length===0)return;const r=[];let i=[];const o=e.filter(a=>a.status===0).map(a=>a.currentWriteId);for(let a=0;a<e.length;a++){const l=e[a],c=Ut(n,l.path);let d=!1,h;if(U(c!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),l.status===4)d=!0,h=l.abortReason,i=i.concat(xi(t.serverSyncTree_,l.currentWriteId,!0));else if(l.status===0)if(l.retryCount>=wV)d=!0,h="maxretry",i=i.concat(xi(t.serverSyncTree_,l.currentWriteId,!0));else{const f=FP(t,l.path,o);l.currentInputSnapshot=f;const v=e[a].update(f.val());if(v!==void 0){gf("transaction failed: Data returned ",v,l.path);let w=tt(v);typeof v=="object"&&v!=null&&xr(v,".priority")||(w=w.updatePriority(f.getPriority()));const P=l.currentWriteId,_=vf(t),E=kP(w,f,_);l.currentOutputSnapshotRaw=w,l.currentOutputSnapshotResolved=E,l.currentWriteId=$0(t),o.splice(o.indexOf(P),1),i=i.concat(xP(t.serverSyncTree_,l.path,E,l.currentWriteId,l.applyLocally)),i=i.concat(xi(t.serverSyncTree_,P,!0))}else d=!0,h="nodata",i=i.concat(xi(t.serverSyncTree_,l.currentWriteId,!0))}Mn(t.eventQueue_,n,i),i=[],d&&(e[a].status=2,function(f){setTimeout(f,Math.floor(0))}(e[a].unwatcher),e[a].onComplete&&(h==="nodata"?r.push(()=>e[a].onComplete(null,!1,e[a].currentInputSnapshot)):r.push(()=>e[a].onComplete(new Error(h),!1,null))))}_f(t,t.transactionQueueTree_);for(let a=0;a<r.length;a++)Ea(r[a]);V0(t,t.transactionQueueTree_)}function $P(t,e){let n,r=t.transactionQueueTree_;for(n=te(e);n!==null&&Sa(r)===void 0;)r=L0(r,n),e=Se(e),n=te(e);return r}function VP(t,e){const n=[];return UP(t,e,n),n.sort((r,i)=>r.order-i.order),n}function UP(t,e,n){const r=Sa(e);if(r)for(let i=0;i<r.length;i++)n.push(r[i]);mf(e,i=>{UP(t,i,n)})}function _f(t,e){const n=Sa(e);if(n){let r=0;for(let i=0;i<n.length;i++)n[i].status!==2&&(n[r]=n[i],r++);n.length=r,IP(e,n.length>0?n:void 0)}mf(e,r=>{_f(t,r)})}function U0(t,e){const n=qc($P(t,e)),r=L0(t.transactionQueueTree_,e);return aV(r,i=>{sm(t,i)}),sm(t,r),RP(r,i=>{sm(t,i)}),n}function sm(t,e){const n=Sa(e);if(n){const r=[];let i=[],s=-1;for(let o=0;o<n.length;o++)n[o].status===3||(n[o].status===1?(U(s===o-1,"All SENT items should be at beginning of queue."),s=o,n[o].status=3,n[o].abortReason="set"):(U(n[o].status===0,"Unexpected transaction status in abort"),n[o].unwatcher(),i=i.concat(xi(t.serverSyncTree_,n[o].currentWriteId,!0)),n[o].onComplete&&r.push(n[o].onComplete.bind(null,new Error("set"),!1,null))));s===-1?IP(e,void 0):n.length=s+1,Mn(t.eventQueue_,qc(e),i);for(let o=0;o<r.length;o++)Ea(r[o])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NV(t){let e="";const n=t.split("/");for(let r=0;r<n.length;r++)if(n[r].length>0){let i=n[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch{}e+="/"+i}return e}function DV(t){const e={};t.charAt(0)==="?"&&(t=t.substring(1));for(const n of t.split("&")){if(n.length===0)continue;const r=n.split("=");r.length===2?e[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):Wt(`Invalid query segment '${n}' in query '${t}'`)}return e}const vE=function(t,e){const n=OV(t),r=n.namespace;n.domain==="firebase.com"&&Yr(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||r==="undefined")&&n.domain!=="localhost"&&Yr("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||W3();const i=n.scheme==="ws"||n.scheme==="wss";return{repoInfo:new zI(n.host,n.secure,r,i,e,"",r!==n.subdomain),path:new ve(n.pathString)}},OV=function(t){let e="",n="",r="",i="",s="",o=!0,a="https",l=443;if(typeof t=="string"){let c=t.indexOf("//");c>=0&&(a=t.substring(0,c-1),t=t.substring(c+2));let d=t.indexOf("/");d===-1&&(d=t.length);let h=t.indexOf("?");h===-1&&(h=t.length),e=t.substring(0,Math.min(d,h)),d<h&&(i=NV(t.substring(d,h)));const f=DV(t.substring(Math.min(t.length,h)));c=e.indexOf(":"),c>=0?(o=a==="https"||a==="wss",l=parseInt(e.substring(c+1),10)):c=e.length;const v=e.slice(0,c);if(v.toLowerCase()==="localhost")n="localhost";else if(v.split(".").length<=2)n=v;else{const w=e.indexOf(".");r=e.substring(0,w).toLowerCase(),n=e.substring(w+1),s=r}"ns"in f&&(s=f.ns)}return{host:e,port:l,domain:n,subdomain:r,secure:o,scheme:a,pathString:i,namespace:s}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _E="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",MV=function(){let t=0;const e=[];return function(n){const r=n===t;t=n;let i;const s=new Array(8);for(i=7;i>=0;i--)s[i]=_E.charAt(n%64),n=Math.floor(n/64);U(n===0,"Cannot push at time == 0");let o=s.join("");if(r){for(i=11;i>=0&&e[i]===63;i--)e[i]=0;e[i]++}else for(i=0;i<12;i++)e[i]=Math.floor(Math.random()*64);for(i=0;i<12;i++)o+=_E.charAt(e[i]);return U(o.length===20,"nextPushId: Length should be 20."),o}}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BP{constructor(e,n,r,i){this.eventType=e,this.eventRegistration=n,this.snapshot=r,this.prevName=i}getPath(){const e=this.snapshot.ref;return this.eventType==="value"?e._path:e.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+nt(this.snapshot.exportVal())}}class zP{constructor(e,n,r){this.eventRegistration=e,this.error=n,this.path=r}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WP{constructor(e,n){this.snapshotCallback=e,this.cancelCallback=n}onValue(e,n){this.snapshotCallback.call(null,e,n)}onCancel(e){return U(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}get hasCancelCallback(){return!!this.cancelCallback}matches(e){return this.snapshotCallback===e.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B0{constructor(e,n,r,i){this._repo=e,this._path=n,this._queryParams=r,this._orderByCalled=i}get key(){return re(this._path)?null:m0(this._path)}get ref(){return new Er(this._repo,this._path)}get _queryIdentifier(){const e=rE(this._queryParams),n=d0(e);return n==="{}"?"default":n}get _queryObject(){return rE(this._queryParams)}isEqual(e){if(e=Xe(e),!(e instanceof B0))return!1;const n=this._repo===e._repo,r=g0(this._path,e._path),i=this._queryIdentifier===e._queryIdentifier;return n&&r&&i}toJSON(){return this.toString()}toString(){return this._repo.toString()+k6(this._path)}}class Er extends B0{constructor(e,n){super(e,n,new w0,!1)}get parent(){const e=QI(this._path);return e===null?null:new Er(this._repo,e)}get root(){let e=this;for(;e.parent!==null;)e=e.parent;return e}}class ra{constructor(e,n,r){this._node=e,this.ref=n,this._index=r}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(e){const n=new ve(e),r=ia(this.ref,e);return new ra(this._node.getChild(n),r,Ge)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(e){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(r,i)=>e(new ra(i,ia(this.ref,r),Ge)))}hasChild(e){const n=new ve(e);return!this._node.getChild(n).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function le(t,e){return t=Xe(t),t._checkNotDeleted("ref"),e!==void 0?ia(t._root,e):t._root}function ia(t,e){return t=Xe(t),te(t._path)===null?mV("child","path",e,!1):DP("child","path",e,!1),new Er(t._repo,He(t._path,e))}function fl(t,e){t=Xe(t),OP("push",t._path),NP("push",e,t._path,!0);const n=jP(t._repo),r=MV(n),i=ia(t,r),s=ia(t,r);let o;return e!=null?o=At(s,e).then(()=>s):o=Promise.resolve(s),i.then=o.then.bind(o),i.catch=o.then.bind(o,void 0),i}function At(t,e){t=Xe(t),OP("set",t._path),NP("set",e,t._path,!1);const n=new Fc;return bV(t._repo,t._path,e,null,n.wrapCallback(()=>{})),n.promise}function wE(t,e){pV("update",e,t._path,!1);const n=new Fc;return TV(t._repo,t._path,e,n.wrapCallback(()=>{})),n.promise}function Di(t){t=Xe(t);const e=new WP(()=>{}),n=new wf(e);return SV(t._repo,t,n).then(r=>new ra(r,new Er(t._repo,t._path),t._queryParams.getIndex()))}class wf{constructor(e){this.callbackContext=e}respondsTo(e){return e==="value"}createEvent(e,n){const r=n._queryParams.getIndex();return new BP("value",this,new ra(e.snapshotNode,new Er(n._repo,n._path),r))}getEventRunner(e){return e.getEventType()==="cancel"?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,null)}createCancelEvent(e,n){return this.callbackContext.hasCancelCallback?new zP(this,e,n):null}matches(e){return e instanceof wf?!e.callbackContext||!this.callbackContext?!0:e.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}}class z0{constructor(e,n){this.eventType=e,this.callbackContext=n}respondsTo(e){let n=e==="children_added"?"child_added":e;return n=n==="children_removed"?"child_removed":n,this.eventType===n}createCancelEvent(e,n){return this.callbackContext.hasCancelCallback?new zP(this,e,n):null}createEvent(e,n){U(e.childName!=null,"Child events should have a childName.");const r=ia(new Er(n._repo,n._path),e.childName),i=n._queryParams.getIndex();return new BP(e.type,this,new ra(e.snapshotNode,r,i),e.prevName)}getEventRunner(e){return e.getEventType()==="cancel"?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,e.prevName)}matches(e){return e instanceof z0?this.eventType===e.eventType&&(!this.callbackContext||!e.callbackContext||this.callbackContext.matches(e.callbackContext)):!1}hasAnyCallback(){return!!this.callbackContext}}function LV(t,e,n,r,i){let s;if(typeof r=="object"&&(s=void 0,i=r),typeof r=="function"&&(s=r),i&&i.onlyOnce){const l=n,c=(d,h)=>{yE(t._repo,t,a),l(d,h)};c.userCallback=n.userCallback,c.context=n.context,n=c}const o=new WP(n,s||void 0),a=e==="value"?new wf(o):new z0(e,o);return IV(t._repo,t,a),()=>yE(t._repo,t,a)}function Ar(t,e,n,r){return LV(t,"value",e,n,r)}$$(Er);W$(Er);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jV="FIREBASE_DATABASE_EMULATOR_HOST",Xg={};let FV=!1;function $V(t,e,n,r){const i=e.lastIndexOf(":"),s=e.substring(0,i),o=zs(s);t.repoInfo_=new zI(e,o,t.repoInfo_.namespace,t.repoInfo_.webSocketOnly,t.repoInfo_.nodeAdmin,t.repoInfo_.persistenceKey,t.repoInfo_.includeNamespaceInQueryParams,!0,n),r&&(t.authTokenProvider_=r)}function VV(t,e,n,r,i){let s=r||t.options.databaseURL;s===void 0&&(t.options.projectId||Yr("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),_t("Using default host for project ",t.options.projectId),s=`${t.options.projectId}-default-rtdb.firebaseio.com`);let o=vE(s,i),a=o.repoInfo,l,c;typeof process<"u"&&process.env&&(c=process.env[jV]),c?(l=!0,s=`http://${c}?ns=${a.namespace}`,o=vE(s,i),a=o.repoInfo):l=!o.repoInfo.secure;const d=i&&l?new Vo(Vo.OWNER):new t6(t.name,t.options,e);gV("Invalid Firebase Database URL",o),re(o.path)||Yr("Database URL must point to the root of a Firebase Database (not including a child path).");const h=BV(a,t,d,new e6(t,n));return new zV(h,t)}function UV(t,e){const n=Xg[e];(!n||n[t.key]!==t)&&Yr(`Database ${e}(${t.repoInfo_}) has already been deleted.`),PV(t),delete n[t.key]}function BV(t,e,n,r){let i=Xg[e.name];i||(i={},Xg[e.name]=i);let s=i[t.toURLString()];return s&&Yr("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),s=new xV(t,FV,n,r),i[t.toURLString()]=s,s}class zV{constructor(e,n){this._repoInternal=e,this.app=n,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(EV(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0,Ki("Database",this._repo.repoInfo_.emulatorOptions!==null)),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new Er(this._repo,he())),this._rootInternal}_delete(){return this._rootInternal!==null&&(UV(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){this._rootInternal===null&&Yr("Cannot call "+e+" on a deleted database.")}}function WV(t=$c(),e){const n=qi(t,"database").getImmediate({identifier:e});if(!n._instanceStarted){const r=Bv("database");r&&HP(n,...r)}return n}function HP(t,e,n,r={}){t=Xe(t),t._checkNotDeleted("useEmulator");const i=`${e}:${n}`,s=t._repoInternal;if(t._instanceStarted){if(i===t._repoInternal.repoInfo_.host&&Li(r,s.repoInfo_.emulatorOptions))return;Yr("connectDatabaseEmulator() cannot initialize or alter the emulator configuration after the database instance has started.")}let o;if(s.repoInfo_.nodeAdmin)r.mockUserToken&&Yr('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),o=new Vo(Vo.OWNER);else if(r.mockUserToken){const a=typeof r.mockUserToken=="string"?r.mockUserToken:zv(r.mockUserToken,t.app.options.projectId);o=new Vo(a)}zs(e)&&(Zh(e),Ki("Database",!0)),$V(s,i,r,o)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HV(t){$3(Yi),Dn(new gn("database",(e,{instanceIdentifier:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal"),s=e.getProvider("app-check-internal");return VV(r,i,s,n)},"PUBLIC").setMultipleInstances(!0)),Dt(V1,U1,t),Dt(V1,U1,"esm2017")}Ur.prototype.simpleListen=function(t,e){this.sendRequest("q",{p:t},e)};Ur.prototype.echo=function(t,e){this.sendRequest("echo",{d:t},e)};HV();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GP="firebasestorage.googleapis.com",GV="storageBucket",KV=2*60*1e3,qV=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cr extends rr{constructor(e,n,r=0){super(om(e),`Firebase Storage: ${n} (${om(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Cr.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return om(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var wr;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(wr||(wr={}));function om(t){return"storage/"+t}function YV(){const t="An unknown error occurred, please check the error payload for server response.";return new Cr(wr.UNKNOWN,t)}function XV(){return new Cr(wr.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function JV(){return new Cr(wr.CANCELED,"User canceled the upload/download.")}function QV(t){return new Cr(wr.INVALID_URL,"Invalid URL '"+t+"'.")}function ZV(t){return new Cr(wr.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function xE(t){return new Cr(wr.INVALID_ARGUMENT,t)}function KP(){return new Cr(wr.APP_DELETED,"The Firebase app was deleted.")}function eU(t){return new Cr(wr.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kn{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=Kn.makeFromUrl(e,n)}catch{return new Kn(e,"")}if(r.path==="")return r;throw ZV(e)}static makeFromUrl(e,n){let r=null;const i="([A-Za-z0-9.\\-_]+)";function s(A){A.path.charAt(A.path.length-1)==="/"&&(A.path_=A.path_.slice(0,-1))}const o="(/(.*))?$",a=new RegExp("^gs://"+i+o,"i"),l={bucket:1,path:3};function c(A){A.path_=decodeURIComponent(A.path)}const d="v[A-Za-z0-9_]+",h=n.replace(/[.]/g,"\\."),f="(/([^?#]*).*)?$",v=new RegExp(`^https?://${h}/${d}/b/${i}/o${f}`,"i"),w={bucket:1,path:3},S=n===GP?"(?:storage.googleapis.com|storage.cloud.google.com)":n,P="([^?#]*)",_=new RegExp(`^https?://${S}/${i}/${P}`,"i"),x=[{regex:a,indices:l,postModify:s},{regex:v,indices:w,postModify:c},{regex:_,indices:{bucket:1,path:2},postModify:c}];for(let A=0;A<x.length;A++){const D=x[A],M=D.regex.exec(e);if(M){const b=M[D.indices.bucket];let C=M[D.indices.path];C||(C=""),r=new Kn(b,C),D.postModify(r);break}}if(r==null)throw QV(e);return r}}class tU{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nU(t,e,n){let r=1,i=null,s=null,o=!1,a=0;function l(){return a===2}let c=!1;function d(...P){c||(c=!0,e.apply(null,P))}function h(P){i=setTimeout(()=>{i=null,t(v,l())},P)}function f(){s&&clearTimeout(s)}function v(P,..._){if(c){f();return}if(P){f(),d.call(null,P,..._);return}if(l()||o){f(),d.call(null,P,..._);return}r<64&&(r*=2);let x;a===1?(a=2,x=0):x=(r+Math.random())*1e3,h(x)}let w=!1;function S(P){w||(w=!0,f(),!c&&(i!==null?(P||(a=2),clearTimeout(i),h(0)):P||(a=1)))}return h(0),s=setTimeout(()=>{o=!0,S(!0)},n),S}function rU(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iU(t){return t!==void 0}function EE(t,e,n,r){if(r<e)throw xE(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw xE(`Invalid value for '${t}'. Expected ${n} or less.`)}function sU(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const i=e(r)+"="+e(t[r]);n=n+i+"&"}return n=n.slice(0,-1),n}var Ch;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(Ch||(Ch={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oU(t,e){const n=t>=500&&t<600,i=[408,429].indexOf(t)!==-1,s=e.indexOf(t)!==-1;return n||i||s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aU{constructor(e,n,r,i,s,o,a,l,c,d,h,f=!0,v=!1){this.url_=e,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=s,this.additionalRetryCodes_=o,this.callback_=a,this.errorCallback_=l,this.timeout_=c,this.progressCallback_=d,this.connectionFactory_=h,this.retry=f,this.isUsingEmulator=v,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((w,S)=>{this.resolve_=w,this.reject_=S,this.start_()})}start_(){const e=(r,i)=>{if(i){r(!1,new Uu(!1,null,!0));return}const s=this.connectionFactory_();this.pendingConnection_=s;const o=a=>{const l=a.loaded,c=a.lengthComputable?a.total:-1;this.progressCallback_!==null&&this.progressCallback_(l,c)};this.progressCallback_!==null&&s.addUploadProgressListener(o),s.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&s.removeUploadProgressListener(o),this.pendingConnection_=null;const a=s.getErrorCode()===Ch.NO_ERROR,l=s.getStatus();if(!a||oU(l,this.additionalRetryCodes_)&&this.retry){const d=s.getErrorCode()===Ch.ABORT;r(!1,new Uu(!1,null,d));return}const c=this.successCodes_.indexOf(l)!==-1;r(!0,new Uu(c,s))})},n=(r,i)=>{const s=this.resolve_,o=this.reject_,a=i.connection;if(i.wasSuccessCode)try{const l=this.callback_(a,a.getResponse());iU(l)?s(l):s()}catch(l){o(l)}else if(a!==null){const l=YV();l.serverResponse=a.getErrorText(),this.errorCallback_?o(this.errorCallback_(a,l)):o(l)}else if(i.canceled){const l=this.appDelete_?KP():JV();o(l)}else{const l=XV();o(l)}};this.canceled_?n(!1,new Uu(!1,null,!0)):this.backoffId_=nU(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&rU(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Uu{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function lU(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function cU(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function uU(t,e){e&&(t["X-Firebase-GMPID"]=e)}function dU(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function hU(t,e,n,r,i,s,o=!0,a=!1){const l=sU(t.urlParams),c=t.url+l,d=Object.assign({},t.headers);return uU(d,e),lU(d,n),cU(d,s),dU(d,r),new aU(c,t.method,d,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i,o,a)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fU(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function pU(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sh{constructor(e,n){this._service=e,n instanceof Kn?this._location=n:this._location=Kn.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new Sh(e,n)}get root(){const e=new Kn(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return pU(this._location.path)}get storage(){return this._service}get parent(){const e=fU(this._location.path);if(e===null)return null;const n=new Kn(this._location.bucket,e);return new Sh(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw eU(e)}}function CE(t,e){const n=e==null?void 0:e[GV];return n==null?null:Kn.makeFromBucketSpec(n,t)}function mU(t,e,n,r={}){t.host=`${e}:${n}`;const i=zs(e);i&&(Zh(`https://${t.host}`),Ki("Storage",!0)),t._isUsingEmulator=!0,t._protocol=i?"https":"http";const{mockUserToken:s}=r;s&&(t._overrideAuthToken=typeof s=="string"?s:zv(s,t.app.options.projectId))}class gU{constructor(e,n,r,i,s,o=!1){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=s,this._isUsingEmulator=o,this._bucket=null,this._host=GP,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=KV,this._maxUploadRetryTime=qV,this._requests=new Set,i!=null?this._bucket=Kn.makeFromBucketSpec(i,this._host):this._bucket=CE(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Kn.makeFromBucketSpec(this._url,e):this._bucket=CE(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){EE("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){EE("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(Vt(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Sh(this,e)}_makeRequest(e,n,r,i,s=!0){if(this._deleted)return new tU(KP());{const o=hU(e,this._appId,r,i,n,this._firebaseVersion,s,this._isUsingEmulator);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}async makeRequestWithTokens(e,n){const[r,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,i).getPromise()}}const SE="@firebase/storage",bE="0.13.10";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qP="storage";function yU(t=$c(),e){t=Xe(t),Ki("Storage",!1);const r=qi(t,qP).getImmediate({identifier:e}),i=Bv("storage");return i&&YP(r,...i),r}function YP(t,e,n,r={}){mU(t,e,n,r)}function vU(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),i=t.getProvider("app-check-internal");return new gU(n,r,i,e,Yi)}function _U(){Dn(new gn(qP,vU,"PUBLIC").setMultipleInstances(!0)),Dt(SE,bE,""),Dt(SE,bE,"esm2017")}_U();var TE=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var XP;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(b,C){function I(){}I.prototype=C.prototype,b.D=C.prototype,b.prototype=new I,b.prototype.constructor=b,b.C=function(g,R,O){for(var N=Array(arguments.length-2),G=2;G<arguments.length;G++)N[G-2]=arguments[G];return C.prototype[R].apply(g,N)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(b,C,I){I||(I=0);var g=Array(16);if(typeof C=="string")for(var R=0;16>R;++R)g[R]=C.charCodeAt(I++)|C.charCodeAt(I++)<<8|C.charCodeAt(I++)<<16|C.charCodeAt(I++)<<24;else for(R=0;16>R;++R)g[R]=C[I++]|C[I++]<<8|C[I++]<<16|C[I++]<<24;C=b.g[0],I=b.g[1],R=b.g[2];var O=b.g[3],N=C+(O^I&(R^O))+g[0]+3614090360&4294967295;C=I+(N<<7&4294967295|N>>>25),N=O+(R^C&(I^R))+g[1]+3905402710&4294967295,O=C+(N<<12&4294967295|N>>>20),N=R+(I^O&(C^I))+g[2]+606105819&4294967295,R=O+(N<<17&4294967295|N>>>15),N=I+(C^R&(O^C))+g[3]+3250441966&4294967295,I=R+(N<<22&4294967295|N>>>10),N=C+(O^I&(R^O))+g[4]+4118548399&4294967295,C=I+(N<<7&4294967295|N>>>25),N=O+(R^C&(I^R))+g[5]+1200080426&4294967295,O=C+(N<<12&4294967295|N>>>20),N=R+(I^O&(C^I))+g[6]+2821735955&4294967295,R=O+(N<<17&4294967295|N>>>15),N=I+(C^R&(O^C))+g[7]+4249261313&4294967295,I=R+(N<<22&4294967295|N>>>10),N=C+(O^I&(R^O))+g[8]+1770035416&4294967295,C=I+(N<<7&4294967295|N>>>25),N=O+(R^C&(I^R))+g[9]+2336552879&4294967295,O=C+(N<<12&4294967295|N>>>20),N=R+(I^O&(C^I))+g[10]+4294925233&4294967295,R=O+(N<<17&4294967295|N>>>15),N=I+(C^R&(O^C))+g[11]+2304563134&4294967295,I=R+(N<<22&4294967295|N>>>10),N=C+(O^I&(R^O))+g[12]+1804603682&4294967295,C=I+(N<<7&4294967295|N>>>25),N=O+(R^C&(I^R))+g[13]+4254626195&4294967295,O=C+(N<<12&4294967295|N>>>20),N=R+(I^O&(C^I))+g[14]+2792965006&4294967295,R=O+(N<<17&4294967295|N>>>15),N=I+(C^R&(O^C))+g[15]+1236535329&4294967295,I=R+(N<<22&4294967295|N>>>10),N=C+(R^O&(I^R))+g[1]+4129170786&4294967295,C=I+(N<<5&4294967295|N>>>27),N=O+(I^R&(C^I))+g[6]+3225465664&4294967295,O=C+(N<<9&4294967295|N>>>23),N=R+(C^I&(O^C))+g[11]+643717713&4294967295,R=O+(N<<14&4294967295|N>>>18),N=I+(O^C&(R^O))+g[0]+3921069994&4294967295,I=R+(N<<20&4294967295|N>>>12),N=C+(R^O&(I^R))+g[5]+3593408605&4294967295,C=I+(N<<5&4294967295|N>>>27),N=O+(I^R&(C^I))+g[10]+38016083&4294967295,O=C+(N<<9&4294967295|N>>>23),N=R+(C^I&(O^C))+g[15]+3634488961&4294967295,R=O+(N<<14&4294967295|N>>>18),N=I+(O^C&(R^O))+g[4]+3889429448&4294967295,I=R+(N<<20&4294967295|N>>>12),N=C+(R^O&(I^R))+g[9]+568446438&4294967295,C=I+(N<<5&4294967295|N>>>27),N=O+(I^R&(C^I))+g[14]+3275163606&4294967295,O=C+(N<<9&4294967295|N>>>23),N=R+(C^I&(O^C))+g[3]+4107603335&4294967295,R=O+(N<<14&4294967295|N>>>18),N=I+(O^C&(R^O))+g[8]+1163531501&4294967295,I=R+(N<<20&4294967295|N>>>12),N=C+(R^O&(I^R))+g[13]+2850285829&4294967295,C=I+(N<<5&4294967295|N>>>27),N=O+(I^R&(C^I))+g[2]+4243563512&4294967295,O=C+(N<<9&4294967295|N>>>23),N=R+(C^I&(O^C))+g[7]+1735328473&4294967295,R=O+(N<<14&4294967295|N>>>18),N=I+(O^C&(R^O))+g[12]+2368359562&4294967295,I=R+(N<<20&4294967295|N>>>12),N=C+(I^R^O)+g[5]+4294588738&4294967295,C=I+(N<<4&4294967295|N>>>28),N=O+(C^I^R)+g[8]+2272392833&4294967295,O=C+(N<<11&4294967295|N>>>21),N=R+(O^C^I)+g[11]+1839030562&4294967295,R=O+(N<<16&4294967295|N>>>16),N=I+(R^O^C)+g[14]+4259657740&4294967295,I=R+(N<<23&4294967295|N>>>9),N=C+(I^R^O)+g[1]+2763975236&4294967295,C=I+(N<<4&4294967295|N>>>28),N=O+(C^I^R)+g[4]+1272893353&4294967295,O=C+(N<<11&4294967295|N>>>21),N=R+(O^C^I)+g[7]+4139469664&4294967295,R=O+(N<<16&4294967295|N>>>16),N=I+(R^O^C)+g[10]+3200236656&4294967295,I=R+(N<<23&4294967295|N>>>9),N=C+(I^R^O)+g[13]+681279174&4294967295,C=I+(N<<4&4294967295|N>>>28),N=O+(C^I^R)+g[0]+3936430074&4294967295,O=C+(N<<11&4294967295|N>>>21),N=R+(O^C^I)+g[3]+3572445317&4294967295,R=O+(N<<16&4294967295|N>>>16),N=I+(R^O^C)+g[6]+76029189&4294967295,I=R+(N<<23&4294967295|N>>>9),N=C+(I^R^O)+g[9]+3654602809&4294967295,C=I+(N<<4&4294967295|N>>>28),N=O+(C^I^R)+g[12]+3873151461&4294967295,O=C+(N<<11&4294967295|N>>>21),N=R+(O^C^I)+g[15]+530742520&4294967295,R=O+(N<<16&4294967295|N>>>16),N=I+(R^O^C)+g[2]+3299628645&4294967295,I=R+(N<<23&4294967295|N>>>9),N=C+(R^(I|~O))+g[0]+4096336452&4294967295,C=I+(N<<6&4294967295|N>>>26),N=O+(I^(C|~R))+g[7]+1126891415&4294967295,O=C+(N<<10&4294967295|N>>>22),N=R+(C^(O|~I))+g[14]+2878612391&4294967295,R=O+(N<<15&4294967295|N>>>17),N=I+(O^(R|~C))+g[5]+4237533241&4294967295,I=R+(N<<21&4294967295|N>>>11),N=C+(R^(I|~O))+g[12]+1700485571&4294967295,C=I+(N<<6&4294967295|N>>>26),N=O+(I^(C|~R))+g[3]+2399980690&4294967295,O=C+(N<<10&4294967295|N>>>22),N=R+(C^(O|~I))+g[10]+4293915773&4294967295,R=O+(N<<15&4294967295|N>>>17),N=I+(O^(R|~C))+g[1]+2240044497&4294967295,I=R+(N<<21&4294967295|N>>>11),N=C+(R^(I|~O))+g[8]+1873313359&4294967295,C=I+(N<<6&4294967295|N>>>26),N=O+(I^(C|~R))+g[15]+4264355552&4294967295,O=C+(N<<10&4294967295|N>>>22),N=R+(C^(O|~I))+g[6]+2734768916&4294967295,R=O+(N<<15&4294967295|N>>>17),N=I+(O^(R|~C))+g[13]+1309151649&4294967295,I=R+(N<<21&4294967295|N>>>11),N=C+(R^(I|~O))+g[4]+4149444226&4294967295,C=I+(N<<6&4294967295|N>>>26),N=O+(I^(C|~R))+g[11]+3174756917&4294967295,O=C+(N<<10&4294967295|N>>>22),N=R+(C^(O|~I))+g[2]+718787259&4294967295,R=O+(N<<15&4294967295|N>>>17),N=I+(O^(R|~C))+g[9]+3951481745&4294967295,b.g[0]=b.g[0]+C&4294967295,b.g[1]=b.g[1]+(R+(N<<21&4294967295|N>>>11))&4294967295,b.g[2]=b.g[2]+R&4294967295,b.g[3]=b.g[3]+O&4294967295}r.prototype.u=function(b,C){C===void 0&&(C=b.length);for(var I=C-this.blockSize,g=this.B,R=this.h,O=0;O<C;){if(R==0)for(;O<=I;)i(this,b,O),O+=this.blockSize;if(typeof b=="string"){for(;O<C;)if(g[R++]=b.charCodeAt(O++),R==this.blockSize){i(this,g),R=0;break}}else for(;O<C;)if(g[R++]=b[O++],R==this.blockSize){i(this,g),R=0;break}}this.h=R,this.o+=C},r.prototype.v=function(){var b=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);b[0]=128;for(var C=1;C<b.length-8;++C)b[C]=0;var I=8*this.o;for(C=b.length-8;C<b.length;++C)b[C]=I&255,I/=256;for(this.u(b),b=Array(16),C=I=0;4>C;++C)for(var g=0;32>g;g+=8)b[I++]=this.g[C]>>>g&255;return b};function s(b,C){var I=a;return Object.prototype.hasOwnProperty.call(I,b)?I[b]:I[b]=C(b)}function o(b,C){this.h=C;for(var I=[],g=!0,R=b.length-1;0<=R;R--){var O=b[R]|0;g&&O==C||(I[R]=O,g=!1)}this.g=I}var a={};function l(b){return-128<=b&&128>b?s(b,function(C){return new o([C|0],0>C?-1:0)}):new o([b|0],0>b?-1:0)}function c(b){if(isNaN(b)||!isFinite(b))return h;if(0>b)return P(c(-b));for(var C=[],I=1,g=0;b>=I;g++)C[g]=b/I|0,I*=4294967296;return new o(C,0)}function d(b,C){if(b.length==0)throw Error("number format error: empty string");if(C=C||10,2>C||36<C)throw Error("radix out of range: "+C);if(b.charAt(0)=="-")return P(d(b.substring(1),C));if(0<=b.indexOf("-"))throw Error('number format error: interior "-" character');for(var I=c(Math.pow(C,8)),g=h,R=0;R<b.length;R+=8){var O=Math.min(8,b.length-R),N=parseInt(b.substring(R,R+O),C);8>O?(O=c(Math.pow(C,O)),g=g.j(O).add(c(N))):(g=g.j(I),g=g.add(c(N)))}return g}var h=l(0),f=l(1),v=l(16777216);t=o.prototype,t.m=function(){if(S(this))return-P(this).m();for(var b=0,C=1,I=0;I<this.g.length;I++){var g=this.i(I);b+=(0<=g?g:4294967296+g)*C,C*=4294967296}return b},t.toString=function(b){if(b=b||10,2>b||36<b)throw Error("radix out of range: "+b);if(w(this))return"0";if(S(this))return"-"+P(this).toString(b);for(var C=c(Math.pow(b,6)),I=this,g="";;){var R=A(I,C).g;I=_(I,R.j(C));var O=((0<I.g.length?I.g[0]:I.h)>>>0).toString(b);if(I=R,w(I))return O+g;for(;6>O.length;)O="0"+O;g=O+g}},t.i=function(b){return 0>b?0:b<this.g.length?this.g[b]:this.h};function w(b){if(b.h!=0)return!1;for(var C=0;C<b.g.length;C++)if(b.g[C]!=0)return!1;return!0}function S(b){return b.h==-1}t.l=function(b){return b=_(this,b),S(b)?-1:w(b)?0:1};function P(b){for(var C=b.g.length,I=[],g=0;g<C;g++)I[g]=~b.g[g];return new o(I,~b.h).add(f)}t.abs=function(){return S(this)?P(this):this},t.add=function(b){for(var C=Math.max(this.g.length,b.g.length),I=[],g=0,R=0;R<=C;R++){var O=g+(this.i(R)&65535)+(b.i(R)&65535),N=(O>>>16)+(this.i(R)>>>16)+(b.i(R)>>>16);g=N>>>16,O&=65535,N&=65535,I[R]=N<<16|O}return new o(I,I[I.length-1]&-2147483648?-1:0)};function _(b,C){return b.add(P(C))}t.j=function(b){if(w(this)||w(b))return h;if(S(this))return S(b)?P(this).j(P(b)):P(P(this).j(b));if(S(b))return P(this.j(P(b)));if(0>this.l(v)&&0>b.l(v))return c(this.m()*b.m());for(var C=this.g.length+b.g.length,I=[],g=0;g<2*C;g++)I[g]=0;for(g=0;g<this.g.length;g++)for(var R=0;R<b.g.length;R++){var O=this.i(g)>>>16,N=this.i(g)&65535,G=b.i(R)>>>16,K=b.i(R)&65535;I[2*g+2*R]+=N*K,E(I,2*g+2*R),I[2*g+2*R+1]+=O*K,E(I,2*g+2*R+1),I[2*g+2*R+1]+=N*G,E(I,2*g+2*R+1),I[2*g+2*R+2]+=O*G,E(I,2*g+2*R+2)}for(g=0;g<C;g++)I[g]=I[2*g+1]<<16|I[2*g];for(g=C;g<2*C;g++)I[g]=0;return new o(I,0)};function E(b,C){for(;(b[C]&65535)!=b[C];)b[C+1]+=b[C]>>>16,b[C]&=65535,C++}function x(b,C){this.g=b,this.h=C}function A(b,C){if(w(C))throw Error("division by zero");if(w(b))return new x(h,h);if(S(b))return C=A(P(b),C),new x(P(C.g),P(C.h));if(S(C))return C=A(b,P(C)),new x(P(C.g),C.h);if(30<b.g.length){if(S(b)||S(C))throw Error("slowDivide_ only works with positive integers.");for(var I=f,g=C;0>=g.l(b);)I=D(I),g=D(g);var R=M(I,1),O=M(g,1);for(g=M(g,2),I=M(I,2);!w(g);){var N=O.add(g);0>=N.l(b)&&(R=R.add(I),O=N),g=M(g,1),I=M(I,1)}return C=_(b,R.j(C)),new x(R,C)}for(R=h;0<=b.l(C);){for(I=Math.max(1,Math.floor(b.m()/C.m())),g=Math.ceil(Math.log(I)/Math.LN2),g=48>=g?1:Math.pow(2,g-48),O=c(I),N=O.j(C);S(N)||0<N.l(b);)I-=g,O=c(I),N=O.j(C);w(O)&&(O=f),R=R.add(O),b=_(b,N)}return new x(R,b)}t.A=function(b){return A(this,b).h},t.and=function(b){for(var C=Math.max(this.g.length,b.g.length),I=[],g=0;g<C;g++)I[g]=this.i(g)&b.i(g);return new o(I,this.h&b.h)},t.or=function(b){for(var C=Math.max(this.g.length,b.g.length),I=[],g=0;g<C;g++)I[g]=this.i(g)|b.i(g);return new o(I,this.h|b.h)},t.xor=function(b){for(var C=Math.max(this.g.length,b.g.length),I=[],g=0;g<C;g++)I[g]=this.i(g)^b.i(g);return new o(I,this.h^b.h)};function D(b){for(var C=b.g.length+1,I=[],g=0;g<C;g++)I[g]=b.i(g)<<1|b.i(g-1)>>>31;return new o(I,b.h)}function M(b,C){var I=C>>5;C%=32;for(var g=b.g.length-I,R=[],O=0;O<g;O++)R[O]=0<C?b.i(O+I)>>>C|b.i(O+I+1)<<32-C:b.i(O+I);return new o(R,b.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=c,o.fromString=d,XP=o}).apply(typeof TE<"u"?TE:typeof self<"u"?self:typeof window<"u"?window:{});var Bu=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(u,p,y){return u==Array.prototype||u==Object.prototype||(u[p]=y.value),u};function n(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof Bu=="object"&&Bu];for(var p=0;p<u.length;++p){var y=u[p];if(y&&y.Math==Math)return y}throw Error("Cannot find global object")}var r=n(this);function i(u,p){if(p)e:{var y=r;u=u.split(".");for(var T=0;T<u.length-1;T++){var L=u[T];if(!(L in y))break e;y=y[L]}u=u[u.length-1],T=y[u],p=p(T),p!=T&&p!=null&&e(y,u,{configurable:!0,writable:!0,value:p})}}function s(u,p){u instanceof String&&(u+="");var y=0,T=!1,L={next:function(){if(!T&&y<u.length){var F=y++;return{value:p(F,u[F]),done:!1}}return T=!0,{done:!0,value:void 0}}};return L[Symbol.iterator]=function(){return L},L}i("Array.prototype.values",function(u){return u||function(){return s(this,function(p,y){return y})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},a=this||self;function l(u){var p=typeof u;return p=p!="object"?p:u?Array.isArray(u)?"array":p:"null",p=="array"||p=="object"&&typeof u.length=="number"}function c(u){var p=typeof u;return p=="object"&&u!=null||p=="function"}function d(u,p,y){return u.call.apply(u.bind,arguments)}function h(u,p,y){if(!u)throw Error();if(2<arguments.length){var T=Array.prototype.slice.call(arguments,2);return function(){var L=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(L,T),u.apply(p,L)}}return function(){return u.apply(p,arguments)}}function f(u,p,y){return f=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?d:h,f.apply(null,arguments)}function v(u,p){var y=Array.prototype.slice.call(arguments,1);return function(){var T=y.slice();return T.push.apply(T,arguments),u.apply(this,T)}}function w(u,p){function y(){}y.prototype=p.prototype,u.aa=p.prototype,u.prototype=new y,u.prototype.constructor=u,u.Qb=function(T,L,F){for(var z=Array(arguments.length-2),_e=2;_e<arguments.length;_e++)z[_e-2]=arguments[_e];return p.prototype[L].apply(T,z)}}function S(u){const p=u.length;if(0<p){const y=Array(p);for(let T=0;T<p;T++)y[T]=u[T];return y}return[]}function P(u,p){for(let y=1;y<arguments.length;y++){const T=arguments[y];if(l(T)){const L=u.length||0,F=T.length||0;u.length=L+F;for(let z=0;z<F;z++)u[L+z]=T[z]}else u.push(T)}}class _{constructor(p,y){this.i=p,this.j=y,this.h=0,this.g=null}get(){let p;return 0<this.h?(this.h--,p=this.g,this.g=p.next,p.next=null):p=this.i(),p}}function E(u){return/^[\s\xa0]*$/.test(u)}function x(){var u=a.navigator;return u&&(u=u.userAgent)?u:""}function A(u){return A[" "](u),u}A[" "]=function(){};var D=x().indexOf("Gecko")!=-1&&!(x().toLowerCase().indexOf("webkit")!=-1&&x().indexOf("Edge")==-1)&&!(x().indexOf("Trident")!=-1||x().indexOf("MSIE")!=-1)&&x().indexOf("Edge")==-1;function M(u,p,y){for(const T in u)p.call(y,u[T],T,u)}function b(u,p){for(const y in u)p.call(void 0,u[y],y,u)}function C(u){const p={};for(const y in u)p[y]=u[y];return p}const I="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function g(u,p){let y,T;for(let L=1;L<arguments.length;L++){T=arguments[L];for(y in T)u[y]=T[y];for(let F=0;F<I.length;F++)y=I[F],Object.prototype.hasOwnProperty.call(T,y)&&(u[y]=T[y])}}function R(u){var p=1;u=u.split(":");const y=[];for(;0<p&&u.length;)y.push(u.shift()),p--;return u.length&&y.push(u.join(":")),y}function O(u){a.setTimeout(()=>{throw u},0)}function N(){var u=q;let p=null;return u.g&&(p=u.g,u.g=u.g.next,u.g||(u.h=null),p.next=null),p}class G{constructor(){this.h=this.g=null}add(p,y){const T=K.get();T.set(p,y),this.h?this.h.next=T:this.g=T,this.h=T}}var K=new _(()=>new Z,u=>u.reset());class Z{constructor(){this.next=this.g=this.h=null}set(p,y){this.h=p,this.g=y,this.next=null}reset(){this.next=this.g=this.h=null}}let ee,B=!1,q=new G,X=()=>{const u=a.Promise.resolve(void 0);ee=()=>{u.then(ye)}};var ye=()=>{for(var u;u=N();){try{u.h.call(u.g)}catch(y){O(y)}var p=K;p.j(u),100>p.h&&(p.h++,u.next=p.g,p.g=u)}B=!1};function se(){this.s=this.s,this.C=this.C}se.prototype.s=!1,se.prototype.ma=function(){this.s||(this.s=!0,this.N())},se.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ce(u,p){this.type=u,this.g=this.target=p,this.defaultPrevented=!1}ce.prototype.h=function(){this.defaultPrevented=!0};var ht=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var u=!1,p=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const y=()=>{};a.addEventListener("test",y,p),a.removeEventListener("test",y,p)}catch{}return u}();function it(u,p){if(ce.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u){var y=this.type=u.type,T=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;if(this.target=u.target||u.srcElement,this.g=p,p=u.relatedTarget){if(D){e:{try{A(p.nodeName);var L=!0;break e}catch{}L=!1}L||(p=null)}}else y=="mouseover"?p=u.fromElement:y=="mouseout"&&(p=u.toElement);this.relatedTarget=p,T?(this.clientX=T.clientX!==void 0?T.clientX:T.pageX,this.clientY=T.clientY!==void 0?T.clientY:T.pageY,this.screenX=T.screenX||0,this.screenY=T.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=typeof u.pointerType=="string"?u.pointerType:qt[u.pointerType]||"",this.state=u.state,this.i=u,u.defaultPrevented&&it.aa.h.call(this)}}w(it,ce);var qt={2:"touch",3:"pen",4:"mouse"};it.prototype.h=function(){it.aa.h.call(this);var u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var Lt="closure_listenable_"+(1e6*Math.random()|0),qs=0;function Ys(u,p,y,T,L){this.listener=u,this.proxy=null,this.src=p,this.type=y,this.capture=!!T,this.ha=L,this.key=++qs,this.da=this.fa=!1}function Yt(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function ir(u){this.src=u,this.g={},this.h=0}ir.prototype.add=function(u,p,y,T,L){var F=u.toString();u=this.g[F],u||(u=this.g[F]=[],this.h++);var z=W(u,p,T,L);return-1<z?(p=u[z],y||(p.fa=!1)):(p=new Ys(p,this.src,F,!!T,L),p.fa=y,u.push(p)),p};function j(u,p){var y=p.type;if(y in u.g){var T=u.g[y],L=Array.prototype.indexOf.call(T,p,void 0),F;(F=0<=L)&&Array.prototype.splice.call(T,L,1),F&&(Yt(p),u.g[y].length==0&&(delete u.g[y],u.h--))}}function W(u,p,y,T){for(var L=0;L<u.length;++L){var F=u[L];if(!F.da&&F.listener==p&&F.capture==!!y&&F.ha==T)return L}return-1}var Te="closure_lm_"+(1e6*Math.random()|0),ft={};function _n(u,p,y,T,L){if(T&&T.once)return pt(u,p,y,T,L);if(Array.isArray(p)){for(var F=0;F<p.length;F++)_n(u,p[F],y,T,L);return null}return y=ii(y),u&&u[Lt]?u.K(p,y,c(T)?!!T.capture:!!T,L):Me(u,p,y,!1,T,L)}function Me(u,p,y,T,L,F){if(!p)throw Error("Invalid event type");var z=c(L)?!!L.capture:!!L,_e=Xs(u);if(_e||(u[Te]=_e=new ir(u)),y=_e.add(p,y,T,z,F),y.proxy)return y;if(T=ke(),y.proxy=T,T.src=u,T.listener=y,u.addEventListener)ht||(L=z),L===void 0&&(L=!1),u.addEventListener(p.toString(),T,L);else if(u.attachEvent)u.attachEvent(Zi(p.toString()),T);else if(u.addListener&&u.removeListener)u.addListener(T);else throw Error("addEventListener and attachEvent are unavailable.");return y}function ke(){function u(y){return p.call(u.src,u.listener,y)}const p=Kf;return u}function pt(u,p,y,T,L){if(Array.isArray(p)){for(var F=0;F<p.length;F++)pt(u,p[F],y,T,L);return null}return y=ii(y),u&&u[Lt]?u.L(p,y,c(T)?!!T.capture:!!T,L):Me(u,p,y,!0,T,L)}function Qi(u,p,y,T,L){if(Array.isArray(p))for(var F=0;F<p.length;F++)Qi(u,p[F],y,T,L);else T=c(T)?!!T.capture:!!T,y=ii(y),u&&u[Lt]?(u=u.i,p=String(p).toString(),p in u.g&&(F=u.g[p],y=W(F,y,T,L),-1<y&&(Yt(F[y]),Array.prototype.splice.call(F,y,1),F.length==0&&(delete u.g[p],u.h--)))):u&&(u=Xs(u))&&(p=u.g[p.toString()],u=-1,p&&(u=W(p,y,T,L)),(y=-1<u?p[u]:null)&&Ct(y))}function Ct(u){if(typeof u!="number"&&u&&!u.da){var p=u.src;if(p&&p[Lt])j(p.i,u);else{var y=u.type,T=u.proxy;p.removeEventListener?p.removeEventListener(y,T,u.capture):p.detachEvent?p.detachEvent(Zi(y),T):p.addListener&&p.removeListener&&p.removeListener(T),(y=Xs(p))?(j(y,u),y.h==0&&(y.src=null,p[Te]=null)):Yt(u)}}}function Zi(u){return u in ft?ft[u]:ft[u]="on"+u}function Kf(u,p){if(u.da)u=!0;else{p=new it(p,this);var y=u.listener,T=u.ha||u.src;u.fa&&Ct(u),u=y.call(T,p)}return u}function Xs(u){return u=u[Te],u instanceof ir?u:null}var Ae="__closure_events_fn_"+(1e9*Math.random()>>>0);function ii(u){return typeof u=="function"?u:(u[Ae]||(u[Ae]=function(p){return u.handleEvent(p)}),u[Ae])}function st(){se.call(this),this.i=new ir(this),this.M=this,this.F=null}w(st,se),st.prototype[Lt]=!0,st.prototype.removeEventListener=function(u,p,y,T){Qi(this,u,p,y,T)};function ot(u,p){var y,T=u.F;if(T)for(y=[];T;T=T.F)y.push(T);if(u=u.M,T=p.type||p,typeof p=="string")p=new ce(p,u);else if(p instanceof ce)p.target=p.target||u;else{var L=p;p=new ce(T,u),g(p,L)}if(L=!0,y)for(var F=y.length-1;0<=F;F--){var z=p.g=y[F];L=Xt(z,T,!0,p)&&L}if(z=p.g=u,L=Xt(z,T,!0,p)&&L,L=Xt(z,T,!1,p)&&L,y)for(F=0;F<y.length;F++)z=p.g=y[F],L=Xt(z,T,!1,p)&&L}st.prototype.N=function(){if(st.aa.N.call(this),this.i){var u=this.i,p;for(p in u.g){for(var y=u.g[p],T=0;T<y.length;T++)Yt(y[T]);delete u.g[p],u.h--}}this.F=null},st.prototype.K=function(u,p,y,T){return this.i.add(String(u),p,!1,y,T)},st.prototype.L=function(u,p,y,T){return this.i.add(String(u),p,!0,y,T)};function Xt(u,p,y,T){if(p=u.i.g[String(p)],!p)return!0;p=p.concat();for(var L=!0,F=0;F<p.length;++F){var z=p[F];if(z&&!z.da&&z.capture==y){var _e=z.listener,mt=z.ha||z.src;z.fa&&j(u.i,z),L=_e.call(mt,T)!==!1&&L}}return L&&!T.defaultPrevented}function G_(u,p,y){if(typeof u=="function")y&&(u=f(u,y));else if(u&&typeof u.handleEvent=="function")u=f(u.handleEvent,u);else throw Error("Invalid listener argument");return 2147483647<Number(p)?-1:a.setTimeout(u,p||0)}function K_(u){u.g=G_(()=>{u.g=null,u.i&&(u.i=!1,K_(u))},u.l);const p=u.h;u.h=null,u.m.apply(null,p)}class IN extends se{constructor(p,y){super(),this.m=p,this.l=y,this.h=null,this.i=!1,this.g=null}j(p){this.h=arguments,this.g?this.i=!0:K_(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Pa(u){se.call(this),this.h=u,this.g={}}w(Pa,se);var q_=[];function Y_(u){M(u.g,function(p,y){this.g.hasOwnProperty(y)&&Ct(p)},u),u.g={}}Pa.prototype.N=function(){Pa.aa.N.call(this),Y_(this)},Pa.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var qf=a.JSON.stringify,PN=a.JSON.parse,RN=class{stringify(u){return a.JSON.stringify(u,void 0)}parse(u){return a.JSON.parse(u,void 0)}};function Yf(){}Yf.prototype.h=null;function X_(u){return u.h||(u.h=u.i())}function AN(){}var Ra={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Xf(){ce.call(this,"d")}w(Xf,ce);function Jf(){ce.call(this,"c")}w(Jf,ce);var Js={},J_=null;function Qf(){return J_=J_||new st}Js.La="serverreachability";function Q_(u){ce.call(this,Js.La,u)}w(Q_,ce);function Aa(u){const p=Qf();ot(p,new Q_(p))}Js.STAT_EVENT="statevent";function Z_(u,p){ce.call(this,Js.STAT_EVENT,u),this.stat=p}w(Z_,ce);function jt(u){const p=Qf();ot(p,new Z_(p,u))}Js.Ma="timingevent";function ew(u,p){ce.call(this,Js.Ma,u),this.size=p}w(ew,ce);function Na(u,p){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){u()},p)}function Da(){this.g=!0}Da.prototype.xa=function(){this.g=!1};function NN(u,p,y,T,L,F){u.info(function(){if(u.g)if(F)for(var z="",_e=F.split("&"),mt=0;mt<_e.length;mt++){var de=_e[mt].split("=");if(1<de.length){var St=de[0];de=de[1];var bt=St.split("_");z=2<=bt.length&&bt[1]=="type"?z+(St+"="+de+"&"):z+(St+"=redacted&")}}else z=null;else z=F;return"XMLHTTP REQ ("+T+") [attempt "+L+"]: "+p+`
`+y+`
`+z})}function DN(u,p,y,T,L,F,z){u.info(function(){return"XMLHTTP RESP ("+T+") [ attempt "+L+"]: "+p+`
`+y+`
`+F+" "+z})}function Qs(u,p,y,T){u.info(function(){return"XMLHTTP TEXT ("+p+"): "+MN(u,y)+(T?" "+T:"")})}function ON(u,p){u.info(function(){return"TIMEOUT: "+p})}Da.prototype.info=function(){};function MN(u,p){if(!u.g)return p;if(!p)return null;try{var y=JSON.parse(p);if(y){for(u=0;u<y.length;u++)if(Array.isArray(y[u])){var T=y[u];if(!(2>T.length)){var L=T[1];if(Array.isArray(L)&&!(1>L.length)){var F=L[0];if(F!="noop"&&F!="stop"&&F!="close")for(var z=1;z<L.length;z++)L[z]=""}}}}return qf(y)}catch{return p}}var Zf={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},LN={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},ep;function au(){}w(au,Yf),au.prototype.g=function(){return new XMLHttpRequest},au.prototype.i=function(){return{}},ep=new au;function si(u,p,y,T){this.j=u,this.i=p,this.l=y,this.R=T||1,this.U=new Pa(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new tw}function tw(){this.i=null,this.g="",this.h=!1}var nw={},tp={};function np(u,p,y){u.L=1,u.v=du(Sr(p)),u.m=y,u.P=!0,rw(u,null)}function rw(u,p){u.F=Date.now(),lu(u),u.A=Sr(u.v);var y=u.A,T=u.R;Array.isArray(T)||(T=[String(T)]),yw(y.i,"t",T),u.C=0,y=u.j.J,u.h=new tw,u.g=Mw(u.j,y?p:null,!u.m),0<u.O&&(u.M=new IN(f(u.Y,u,u.g),u.O)),p=u.U,y=u.g,T=u.ca;var L="readystatechange";Array.isArray(L)||(L&&(q_[0]=L.toString()),L=q_);for(var F=0;F<L.length;F++){var z=_n(y,L[F],T||p.handleEvent,!1,p.h||p);if(!z)break;p.g[z.key]=z}p=u.H?C(u.H):{},u.m?(u.u||(u.u="POST"),p["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.A,u.u,u.m,p)):(u.u="GET",u.g.ea(u.A,u.u,null,p)),Aa(),NN(u.i,u.u,u.A,u.l,u.R,u.m)}si.prototype.ca=function(u){u=u.target;const p=this.M;p&&br(u)==3?p.j():this.Y(u)},si.prototype.Y=function(u){try{if(u==this.g)e:{const bt=br(this.g);var p=this.g.Ba();const to=this.g.Z();if(!(3>bt)&&(bt!=3||this.g&&(this.h.h||this.g.oa()||Sw(this.g)))){this.J||bt!=4||p==7||(p==8||0>=to?Aa(3):Aa(2)),rp(this);var y=this.g.Z();this.X=y;t:if(iw(this)){var T=Sw(this.g);u="";var L=T.length,F=br(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){es(this),Oa(this);var z="";break t}this.h.i=new a.TextDecoder}for(p=0;p<L;p++)this.h.h=!0,u+=this.h.i.decode(T[p],{stream:!(F&&p==L-1)});T.length=0,this.h.g+=u,this.C=0,z=this.h.g}else z=this.g.oa();if(this.o=y==200,DN(this.i,this.u,this.A,this.l,this.R,bt,y),this.o){if(this.T&&!this.K){t:{if(this.g){var _e,mt=this.g;if((_e=mt.g?mt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!E(_e)){var de=_e;break t}}de=null}if(y=de)Qs(this.i,this.l,y,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,ip(this,y);else{this.o=!1,this.s=3,jt(12),es(this),Oa(this);break e}}if(this.P){y=!0;let Fn;for(;!this.J&&this.C<z.length;)if(Fn=jN(this,z),Fn==tp){bt==4&&(this.s=4,jt(14),y=!1),Qs(this.i,this.l,null,"[Incomplete Response]");break}else if(Fn==nw){this.s=4,jt(15),Qs(this.i,this.l,z,"[Invalid Chunk]"),y=!1;break}else Qs(this.i,this.l,Fn,null),ip(this,Fn);if(iw(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),bt!=4||z.length!=0||this.h.h||(this.s=1,jt(16),y=!1),this.o=this.o&&y,!y)Qs(this.i,this.l,z,"[Invalid Chunked Response]"),es(this),Oa(this);else if(0<z.length&&!this.W){this.W=!0;var St=this.j;St.g==this&&St.ba&&!St.M&&(St.j.info("Great, no buffering proxy detected. Bytes received: "+z.length),up(St),St.M=!0,jt(11))}}else Qs(this.i,this.l,z,null),ip(this,z);bt==4&&es(this),this.o&&!this.J&&(bt==4?Aw(this.j,this):(this.o=!1,lu(this)))}else e2(this.g),y==400&&0<z.indexOf("Unknown SID")?(this.s=3,jt(12)):(this.s=0,jt(13)),es(this),Oa(this)}}}catch{}finally{}};function iw(u){return u.g?u.u=="GET"&&u.L!=2&&u.j.Ca:!1}function jN(u,p){var y=u.C,T=p.indexOf(`
`,y);return T==-1?tp:(y=Number(p.substring(y,T)),isNaN(y)?nw:(T+=1,T+y>p.length?tp:(p=p.slice(T,T+y),u.C=T+y,p)))}si.prototype.cancel=function(){this.J=!0,es(this)};function lu(u){u.S=Date.now()+u.I,sw(u,u.I)}function sw(u,p){if(u.B!=null)throw Error("WatchDog timer not null");u.B=Na(f(u.ba,u),p)}function rp(u){u.B&&(a.clearTimeout(u.B),u.B=null)}si.prototype.ba=function(){this.B=null;const u=Date.now();0<=u-this.S?(ON(this.i,this.A),this.L!=2&&(Aa(),jt(17)),es(this),this.s=2,Oa(this)):sw(this,this.S-u)};function Oa(u){u.j.G==0||u.J||Aw(u.j,u)}function es(u){rp(u);var p=u.M;p&&typeof p.ma=="function"&&p.ma(),u.M=null,Y_(u.U),u.g&&(p=u.g,u.g=null,p.abort(),p.ma())}function ip(u,p){try{var y=u.j;if(y.G!=0&&(y.g==u||sp(y.h,u))){if(!u.K&&sp(y.h,u)&&y.G==3){try{var T=y.Da.g.parse(p)}catch{T=null}if(Array.isArray(T)&&T.length==3){var L=T;if(L[0]==0){e:if(!y.u){if(y.g)if(y.g.F+3e3<u.F)yu(y),mu(y);else break e;cp(y),jt(18)}}else y.za=L[1],0<y.za-y.T&&37500>L[2]&&y.F&&y.v==0&&!y.C&&(y.C=Na(f(y.Za,y),6e3));if(1>=lw(y.h)&&y.ca){try{y.ca()}catch{}y.ca=void 0}}else ns(y,11)}else if((u.K||y.g==u)&&yu(y),!E(p))for(L=y.Da.g.parse(p),p=0;p<L.length;p++){let de=L[p];if(y.T=de[0],de=de[1],y.G==2)if(de[0]=="c"){y.K=de[1],y.ia=de[2];const St=de[3];St!=null&&(y.la=St,y.j.info("VER="+y.la));const bt=de[4];bt!=null&&(y.Aa=bt,y.j.info("SVER="+y.Aa));const to=de[5];to!=null&&typeof to=="number"&&0<to&&(T=1.5*to,y.L=T,y.j.info("backChannelRequestTimeoutMs_="+T)),T=y;const Fn=u.g;if(Fn){const vu=Fn.g?Fn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(vu){var F=T.h;F.g||vu.indexOf("spdy")==-1&&vu.indexOf("quic")==-1&&vu.indexOf("h2")==-1||(F.j=F.l,F.g=new Set,F.h&&(op(F,F.h),F.h=null))}if(T.D){const dp=Fn.g?Fn.g.getResponseHeader("X-HTTP-Session-Id"):null;dp&&(T.ya=dp,Ie(T.I,T.D,dp))}}y.G=3,y.l&&y.l.ua(),y.ba&&(y.R=Date.now()-u.F,y.j.info("Handshake RTT: "+y.R+"ms")),T=y;var z=u;if(T.qa=Ow(T,T.J?T.ia:null,T.W),z.K){cw(T.h,z);var _e=z,mt=T.L;mt&&(_e.I=mt),_e.B&&(rp(_e),lu(_e)),T.g=z}else Pw(T);0<y.i.length&&gu(y)}else de[0]!="stop"&&de[0]!="close"||ns(y,7);else y.G==3&&(de[0]=="stop"||de[0]=="close"?de[0]=="stop"?ns(y,7):lp(y):de[0]!="noop"&&y.l&&y.l.ta(de),y.v=0)}}Aa(4)}catch{}}var FN=class{constructor(u,p){this.g=u,this.map=p}};function ow(u){this.l=u||10,a.PerformanceNavigationTiming?(u=a.performance.getEntriesByType("navigation"),u=0<u.length&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function aw(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function lw(u){return u.h?1:u.g?u.g.size:0}function sp(u,p){return u.h?u.h==p:u.g?u.g.has(p):!1}function op(u,p){u.g?u.g.add(p):u.h=p}function cw(u,p){u.h&&u.h==p?u.h=null:u.g&&u.g.has(p)&&u.g.delete(p)}ow.prototype.cancel=function(){if(this.i=uw(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function uw(u){if(u.h!=null)return u.i.concat(u.h.D);if(u.g!=null&&u.g.size!==0){let p=u.i;for(const y of u.g.values())p=p.concat(y.D);return p}return S(u.i)}function $N(u){if(u.V&&typeof u.V=="function")return u.V();if(typeof Map<"u"&&u instanceof Map||typeof Set<"u"&&u instanceof Set)return Array.from(u.values());if(typeof u=="string")return u.split("");if(l(u)){for(var p=[],y=u.length,T=0;T<y;T++)p.push(u[T]);return p}p=[],y=0;for(T in u)p[y++]=u[T];return p}function VN(u){if(u.na&&typeof u.na=="function")return u.na();if(!u.V||typeof u.V!="function"){if(typeof Map<"u"&&u instanceof Map)return Array.from(u.keys());if(!(typeof Set<"u"&&u instanceof Set)){if(l(u)||typeof u=="string"){var p=[];u=u.length;for(var y=0;y<u;y++)p.push(y);return p}p=[],y=0;for(const T in u)p[y++]=T;return p}}}function dw(u,p){if(u.forEach&&typeof u.forEach=="function")u.forEach(p,void 0);else if(l(u)||typeof u=="string")Array.prototype.forEach.call(u,p,void 0);else for(var y=VN(u),T=$N(u),L=T.length,F=0;F<L;F++)p.call(void 0,T[F],y&&y[F],u)}var hw=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function UN(u,p){if(u){u=u.split("&");for(var y=0;y<u.length;y++){var T=u[y].indexOf("="),L=null;if(0<=T){var F=u[y].substring(0,T);L=u[y].substring(T+1)}else F=u[y];p(F,L?decodeURIComponent(L.replace(/\+/g," ")):"")}}}function ts(u){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,u instanceof ts){this.h=u.h,cu(this,u.j),this.o=u.o,this.g=u.g,uu(this,u.s),this.l=u.l;var p=u.i,y=new ja;y.i=p.i,p.g&&(y.g=new Map(p.g),y.h=p.h),fw(this,y),this.m=u.m}else u&&(p=String(u).match(hw))?(this.h=!1,cu(this,p[1]||"",!0),this.o=Ma(p[2]||""),this.g=Ma(p[3]||"",!0),uu(this,p[4]),this.l=Ma(p[5]||"",!0),fw(this,p[6]||"",!0),this.m=Ma(p[7]||"")):(this.h=!1,this.i=new ja(null,this.h))}ts.prototype.toString=function(){var u=[],p=this.j;p&&u.push(La(p,pw,!0),":");var y=this.g;return(y||p=="file")&&(u.push("//"),(p=this.o)&&u.push(La(p,pw,!0),"@"),u.push(encodeURIComponent(String(y)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),y=this.s,y!=null&&u.push(":",String(y))),(y=this.l)&&(this.g&&y.charAt(0)!="/"&&u.push("/"),u.push(La(y,y.charAt(0)=="/"?WN:zN,!0))),(y=this.i.toString())&&u.push("?",y),(y=this.m)&&u.push("#",La(y,GN)),u.join("")};function Sr(u){return new ts(u)}function cu(u,p,y){u.j=y?Ma(p,!0):p,u.j&&(u.j=u.j.replace(/:$/,""))}function uu(u,p){if(p){if(p=Number(p),isNaN(p)||0>p)throw Error("Bad port number "+p);u.s=p}else u.s=null}function fw(u,p,y){p instanceof ja?(u.i=p,KN(u.i,u.h)):(y||(p=La(p,HN)),u.i=new ja(p,u.h))}function Ie(u,p,y){u.i.set(p,y)}function du(u){return Ie(u,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),u}function Ma(u,p){return u?p?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function La(u,p,y){return typeof u=="string"?(u=encodeURI(u).replace(p,BN),y&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function BN(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var pw=/[#\/\?@]/g,zN=/[#\?:]/g,WN=/[#\?]/g,HN=/[#\?@]/g,GN=/#/g;function ja(u,p){this.h=this.g=null,this.i=u||null,this.j=!!p}function oi(u){u.g||(u.g=new Map,u.h=0,u.i&&UN(u.i,function(p,y){u.add(decodeURIComponent(p.replace(/\+/g," ")),y)}))}t=ja.prototype,t.add=function(u,p){oi(this),this.i=null,u=Zs(this,u);var y=this.g.get(u);return y||this.g.set(u,y=[]),y.push(p),this.h+=1,this};function mw(u,p){oi(u),p=Zs(u,p),u.g.has(p)&&(u.i=null,u.h-=u.g.get(p).length,u.g.delete(p))}function gw(u,p){return oi(u),p=Zs(u,p),u.g.has(p)}t.forEach=function(u,p){oi(this),this.g.forEach(function(y,T){y.forEach(function(L){u.call(p,L,T,this)},this)},this)},t.na=function(){oi(this);const u=Array.from(this.g.values()),p=Array.from(this.g.keys()),y=[];for(let T=0;T<p.length;T++){const L=u[T];for(let F=0;F<L.length;F++)y.push(p[T])}return y},t.V=function(u){oi(this);let p=[];if(typeof u=="string")gw(this,u)&&(p=p.concat(this.g.get(Zs(this,u))));else{u=Array.from(this.g.values());for(let y=0;y<u.length;y++)p=p.concat(u[y])}return p},t.set=function(u,p){return oi(this),this.i=null,u=Zs(this,u),gw(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[p]),this.h+=1,this},t.get=function(u,p){return u?(u=this.V(u),0<u.length?String(u[0]):p):p};function yw(u,p,y){mw(u,p),0<y.length&&(u.i=null,u.g.set(Zs(u,p),S(y)),u.h+=y.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],p=Array.from(this.g.keys());for(var y=0;y<p.length;y++){var T=p[y];const F=encodeURIComponent(String(T)),z=this.V(T);for(T=0;T<z.length;T++){var L=F;z[T]!==""&&(L+="="+encodeURIComponent(String(z[T]))),u.push(L)}}return this.i=u.join("&")};function Zs(u,p){return p=String(p),u.j&&(p=p.toLowerCase()),p}function KN(u,p){p&&!u.j&&(oi(u),u.i=null,u.g.forEach(function(y,T){var L=T.toLowerCase();T!=L&&(mw(this,T),yw(this,L,y))},u)),u.j=p}function qN(u,p){const y=new Da;if(a.Image){const T=new Image;T.onload=v(ai,y,"TestLoadImage: loaded",!0,p,T),T.onerror=v(ai,y,"TestLoadImage: error",!1,p,T),T.onabort=v(ai,y,"TestLoadImage: abort",!1,p,T),T.ontimeout=v(ai,y,"TestLoadImage: timeout",!1,p,T),a.setTimeout(function(){T.ontimeout&&T.ontimeout()},1e4),T.src=u}else p(!1)}function YN(u,p){const y=new Da,T=new AbortController,L=setTimeout(()=>{T.abort(),ai(y,"TestPingServer: timeout",!1,p)},1e4);fetch(u,{signal:T.signal}).then(F=>{clearTimeout(L),F.ok?ai(y,"TestPingServer: ok",!0,p):ai(y,"TestPingServer: server error",!1,p)}).catch(()=>{clearTimeout(L),ai(y,"TestPingServer: error",!1,p)})}function ai(u,p,y,T,L){try{L&&(L.onload=null,L.onerror=null,L.onabort=null,L.ontimeout=null),T(y)}catch{}}function XN(){this.g=new RN}function JN(u,p,y){const T=y||"";try{dw(u,function(L,F){let z=L;c(L)&&(z=qf(L)),p.push(T+F+"="+encodeURIComponent(z))})}catch(L){throw p.push(T+"type="+encodeURIComponent("_badmap")),L}}function hu(u){this.l=u.Ub||null,this.j=u.eb||!1}w(hu,Yf),hu.prototype.g=function(){return new fu(this.l,this.j)},hu.prototype.i=function(u){return function(){return u}}({});function fu(u,p){st.call(this),this.D=u,this.o=p,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}w(fu,st),t=fu.prototype,t.open=function(u,p){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=u,this.A=p,this.readyState=1,$a(this)},t.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const p={headers:this.u,method:this.B,credentials:this.m,cache:void 0};u&&(p.body=u),(this.D||a).fetch(new Request(this.A,p)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Fa(this)),this.readyState=0},t.Sa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,$a(this)),this.g&&(this.readyState=3,$a(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;vw(this)}else u.text().then(this.Ra.bind(this),this.ga.bind(this))};function vw(u){u.j.read().then(u.Pa.bind(u)).catch(u.ga.bind(u))}t.Pa=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var p=u.value?u.value:new Uint8Array(0);(p=this.v.decode(p,{stream:!u.done}))&&(this.response=this.responseText+=p)}u.done?Fa(this):$a(this),this.readyState==3&&vw(this)}},t.Ra=function(u){this.g&&(this.response=this.responseText=u,Fa(this))},t.Qa=function(u){this.g&&(this.response=u,Fa(this))},t.ga=function(){this.g&&Fa(this)};function Fa(u){u.readyState=4,u.l=null,u.j=null,u.v=null,$a(u)}t.setRequestHeader=function(u,p){this.u.append(u,p)},t.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],p=this.h.entries();for(var y=p.next();!y.done;)y=y.value,u.push(y[0]+": "+y[1]),y=p.next();return u.join(`\r
`)};function $a(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(fu.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function _w(u){let p="";return M(u,function(y,T){p+=T,p+=":",p+=y,p+=`\r
`}),p}function ap(u,p,y){e:{for(T in y){var T=!1;break e}T=!0}T||(y=_w(y),typeof u=="string"?y!=null&&encodeURIComponent(String(y)):Ie(u,p,y))}function Ke(u){st.call(this),this.headers=new Map,this.o=u||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}w(Ke,st);var QN=/^https?$/i,ZN=["POST","PUT"];t=Ke.prototype,t.Ha=function(u){this.J=u},t.ea=function(u,p,y,T){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);p=p?p.toUpperCase():"GET",this.D=u,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():ep.g(),this.v=this.o?X_(this.o):X_(ep),this.g.onreadystatechange=f(this.Ea,this);try{this.B=!0,this.g.open(p,String(u),!0),this.B=!1}catch(F){ww(this,F);return}if(u=y||"",y=new Map(this.headers),T)if(Object.getPrototypeOf(T)===Object.prototype)for(var L in T)y.set(L,T[L]);else if(typeof T.keys=="function"&&typeof T.get=="function")for(const F of T.keys())y.set(F,T.get(F));else throw Error("Unknown input type for opt_headers: "+String(T));T=Array.from(y.keys()).find(F=>F.toLowerCase()=="content-type"),L=a.FormData&&u instanceof a.FormData,!(0<=Array.prototype.indexOf.call(ZN,p,void 0))||T||L||y.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[F,z]of y)this.g.setRequestHeader(F,z);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Cw(this),this.u=!0,this.g.send(u),this.u=!1}catch(F){ww(this,F)}};function ww(u,p){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=p,u.m=5,xw(u),pu(u)}function xw(u){u.A||(u.A=!0,ot(u,"complete"),ot(u,"error"))}t.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=u||7,ot(this,"complete"),ot(this,"abort"),pu(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),pu(this,!0)),Ke.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?Ew(this):this.bb())},t.bb=function(){Ew(this)};function Ew(u){if(u.h&&typeof o<"u"&&(!u.v[1]||br(u)!=4||u.Z()!=2)){if(u.u&&br(u)==4)G_(u.Ea,0,u);else if(ot(u,"readystatechange"),br(u)==4){u.h=!1;try{const z=u.Z();e:switch(z){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var p=!0;break e;default:p=!1}var y;if(!(y=p)){var T;if(T=z===0){var L=String(u.D).match(hw)[1]||null;!L&&a.self&&a.self.location&&(L=a.self.location.protocol.slice(0,-1)),T=!QN.test(L?L.toLowerCase():"")}y=T}if(y)ot(u,"complete"),ot(u,"success");else{u.m=6;try{var F=2<br(u)?u.g.statusText:""}catch{F=""}u.l=F+" ["+u.Z()+"]",xw(u)}}finally{pu(u)}}}}function pu(u,p){if(u.g){Cw(u);const y=u.g,T=u.v[0]?()=>{}:null;u.g=null,u.v=null,p||ot(u,"ready");try{y.onreadystatechange=T}catch{}}}function Cw(u){u.I&&(a.clearTimeout(u.I),u.I=null)}t.isActive=function(){return!!this.g};function br(u){return u.g?u.g.readyState:0}t.Z=function(){try{return 2<br(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(u){if(this.g){var p=this.g.responseText;return u&&p.indexOf(u)==0&&(p=p.substring(u.length)),PN(p)}};function Sw(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.H){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function e2(u){const p={};u=(u.g&&2<=br(u)&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let T=0;T<u.length;T++){if(E(u[T]))continue;var y=R(u[T]);const L=y[0];if(y=y[1],typeof y!="string")continue;y=y.trim();const F=p[L]||[];p[L]=F,F.push(y)}b(p,function(T){return T.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Va(u,p,y){return y&&y.internalChannelParams&&y.internalChannelParams[u]||p}function bw(u){this.Aa=0,this.i=[],this.j=new Da,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Va("failFast",!1,u),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Va("baseRetryDelayMs",5e3,u),this.cb=Va("retryDelaySeedMs",1e4,u),this.Wa=Va("forwardChannelMaxRetries",2,u),this.wa=Va("forwardChannelRequestTimeoutMs",2e4,u),this.pa=u&&u.xmlHttpFactory||void 0,this.Xa=u&&u.Tb||void 0,this.Ca=u&&u.useFetchStreams||!1,this.L=void 0,this.J=u&&u.supportsCrossDomainXhr||!1,this.K="",this.h=new ow(u&&u.concurrentRequestLimit),this.Da=new XN,this.P=u&&u.fastHandshake||!1,this.O=u&&u.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=u&&u.Rb||!1,u&&u.xa&&this.j.xa(),u&&u.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&u&&u.detectBufferingProxy||!1,this.ja=void 0,u&&u.longPollingTimeout&&0<u.longPollingTimeout&&(this.ja=u.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=bw.prototype,t.la=8,t.G=1,t.connect=function(u,p,y,T){jt(0),this.W=u,this.H=p||{},y&&T!==void 0&&(this.H.OSID=y,this.H.OAID=T),this.F=this.X,this.I=Ow(this,null,this.W),gu(this)};function lp(u){if(Tw(u),u.G==3){var p=u.U++,y=Sr(u.I);if(Ie(y,"SID",u.K),Ie(y,"RID",p),Ie(y,"TYPE","terminate"),Ua(u,y),p=new si(u,u.j,p),p.L=2,p.v=du(Sr(y)),y=!1,a.navigator&&a.navigator.sendBeacon)try{y=a.navigator.sendBeacon(p.v.toString(),"")}catch{}!y&&a.Image&&(new Image().src=p.v,y=!0),y||(p.g=Mw(p.j,null),p.g.ea(p.v)),p.F=Date.now(),lu(p)}Dw(u)}function mu(u){u.g&&(up(u),u.g.cancel(),u.g=null)}function Tw(u){mu(u),u.u&&(a.clearTimeout(u.u),u.u=null),yu(u),u.h.cancel(),u.s&&(typeof u.s=="number"&&a.clearTimeout(u.s),u.s=null)}function gu(u){if(!aw(u.h)&&!u.s){u.s=!0;var p=u.Ga;ee||X(),B||(ee(),B=!0),q.add(p,u),u.B=0}}function t2(u,p){return lw(u.h)>=u.h.j-(u.s?1:0)?!1:u.s?(u.i=p.D.concat(u.i),!0):u.G==1||u.G==2||u.B>=(u.Va?0:u.Wa)?!1:(u.s=Na(f(u.Ga,u,p),Nw(u,u.B)),u.B++,!0)}t.Ga=function(u){if(this.s)if(this.s=null,this.G==1){if(!u){this.U=Math.floor(1e5*Math.random()),u=this.U++;const L=new si(this,this.j,u);let F=this.o;if(this.S&&(F?(F=C(F),g(F,this.S)):F=this.S),this.m!==null||this.O||(L.H=F,F=null),this.P)e:{for(var p=0,y=0;y<this.i.length;y++){t:{var T=this.i[y];if("__data__"in T.map&&(T=T.map.__data__,typeof T=="string")){T=T.length;break t}T=void 0}if(T===void 0)break;if(p+=T,4096<p){p=y;break e}if(p===4096||y===this.i.length-1){p=y+1;break e}}p=1e3}else p=1e3;p=Iw(this,L,p),y=Sr(this.I),Ie(y,"RID",u),Ie(y,"CVER",22),this.D&&Ie(y,"X-HTTP-Session-Id",this.D),Ua(this,y),F&&(this.O?p="headers="+encodeURIComponent(String(_w(F)))+"&"+p:this.m&&ap(y,this.m,F)),op(this.h,L),this.Ua&&Ie(y,"TYPE","init"),this.P?(Ie(y,"$req",p),Ie(y,"SID","null"),L.T=!0,np(L,y,null)):np(L,y,p),this.G=2}}else this.G==3&&(u?kw(this,u):this.i.length==0||aw(this.h)||kw(this))};function kw(u,p){var y;p?y=p.l:y=u.U++;const T=Sr(u.I);Ie(T,"SID",u.K),Ie(T,"RID",y),Ie(T,"AID",u.T),Ua(u,T),u.m&&u.o&&ap(T,u.m,u.o),y=new si(u,u.j,y,u.B+1),u.m===null&&(y.H=u.o),p&&(u.i=p.D.concat(u.i)),p=Iw(u,y,1e3),y.I=Math.round(.5*u.wa)+Math.round(.5*u.wa*Math.random()),op(u.h,y),np(y,T,p)}function Ua(u,p){u.H&&M(u.H,function(y,T){Ie(p,T,y)}),u.l&&dw({},function(y,T){Ie(p,T,y)})}function Iw(u,p,y){y=Math.min(u.i.length,y);var T=u.l?f(u.l.Na,u.l,u):null;e:{var L=u.i;let F=-1;for(;;){const z=["count="+y];F==-1?0<y?(F=L[0].g,z.push("ofs="+F)):F=0:z.push("ofs="+F);let _e=!0;for(let mt=0;mt<y;mt++){let de=L[mt].g;const St=L[mt].map;if(de-=F,0>de)F=Math.max(0,L[mt].g-100),_e=!1;else try{JN(St,z,"req"+de+"_")}catch{T&&T(St)}}if(_e){T=z.join("&");break e}}}return u=u.i.splice(0,y),p.D=u,T}function Pw(u){if(!u.g&&!u.u){u.Y=1;var p=u.Fa;ee||X(),B||(ee(),B=!0),q.add(p,u),u.v=0}}function cp(u){return u.g||u.u||3<=u.v?!1:(u.Y++,u.u=Na(f(u.Fa,u),Nw(u,u.v)),u.v++,!0)}t.Fa=function(){if(this.u=null,Rw(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var u=2*this.R;this.j.info("BP detection timer enabled: "+u),this.A=Na(f(this.ab,this),u)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,jt(10),mu(this),Rw(this))};function up(u){u.A!=null&&(a.clearTimeout(u.A),u.A=null)}function Rw(u){u.g=new si(u,u.j,"rpc",u.Y),u.m===null&&(u.g.H=u.o),u.g.O=0;var p=Sr(u.qa);Ie(p,"RID","rpc"),Ie(p,"SID",u.K),Ie(p,"AID",u.T),Ie(p,"CI",u.F?"0":"1"),!u.F&&u.ja&&Ie(p,"TO",u.ja),Ie(p,"TYPE","xmlhttp"),Ua(u,p),u.m&&u.o&&ap(p,u.m,u.o),u.L&&(u.g.I=u.L);var y=u.g;u=u.ia,y.L=1,y.v=du(Sr(p)),y.m=null,y.P=!0,rw(y,u)}t.Za=function(){this.C!=null&&(this.C=null,mu(this),cp(this),jt(19))};function yu(u){u.C!=null&&(a.clearTimeout(u.C),u.C=null)}function Aw(u,p){var y=null;if(u.g==p){yu(u),up(u),u.g=null;var T=2}else if(sp(u.h,p))y=p.D,cw(u.h,p),T=1;else return;if(u.G!=0){if(p.o)if(T==1){y=p.m?p.m.length:0,p=Date.now()-p.F;var L=u.B;T=Qf(),ot(T,new ew(T,y)),gu(u)}else Pw(u);else if(L=p.s,L==3||L==0&&0<p.X||!(T==1&&t2(u,p)||T==2&&cp(u)))switch(y&&0<y.length&&(p=u.h,p.i=p.i.concat(y)),L){case 1:ns(u,5);break;case 4:ns(u,10);break;case 3:ns(u,6);break;default:ns(u,2)}}}function Nw(u,p){let y=u.Ta+Math.floor(Math.random()*u.cb);return u.isActive()||(y*=2),y*p}function ns(u,p){if(u.j.info("Error code "+p),p==2){var y=f(u.fb,u),T=u.Xa;const L=!T;T=new ts(T||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||cu(T,"https"),du(T),L?qN(T.toString(),y):YN(T.toString(),y)}else jt(2);u.G=0,u.l&&u.l.sa(p),Dw(u),Tw(u)}t.fb=function(u){u?(this.j.info("Successfully pinged google.com"),jt(2)):(this.j.info("Failed to ping google.com"),jt(1))};function Dw(u){if(u.G=0,u.ka=[],u.l){const p=uw(u.h);(p.length!=0||u.i.length!=0)&&(P(u.ka,p),P(u.ka,u.i),u.h.i.length=0,S(u.i),u.i.length=0),u.l.ra()}}function Ow(u,p,y){var T=y instanceof ts?Sr(y):new ts(y);if(T.g!="")p&&(T.g=p+"."+T.g),uu(T,T.s);else{var L=a.location;T=L.protocol,p=p?p+"."+L.hostname:L.hostname,L=+L.port;var F=new ts(null);T&&cu(F,T),p&&(F.g=p),L&&uu(F,L),y&&(F.l=y),T=F}return y=u.D,p=u.ya,y&&p&&Ie(T,y,p),Ie(T,"VER",u.la),Ua(u,T),T}function Mw(u,p,y){if(p&&!u.J)throw Error("Can't create secondary domain capable XhrIo object.");return p=u.Ca&&!u.pa?new Ke(new hu({eb:y})):new Ke(u.pa),p.Ha(u.J),p}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Lw(){}t=Lw.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function wn(u,p){st.call(this),this.g=new bw(p),this.l=u,this.h=p&&p.messageUrlParams||null,u=p&&p.messageHeaders||null,p&&p.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=p&&p.initMessageHeaders||null,p&&p.messageContentType&&(u?u["X-WebChannel-Content-Type"]=p.messageContentType:u={"X-WebChannel-Content-Type":p.messageContentType}),p&&p.va&&(u?u["X-WebChannel-Client-Profile"]=p.va:u={"X-WebChannel-Client-Profile":p.va}),this.g.S=u,(u=p&&p.Sb)&&!E(u)&&(this.g.m=u),this.v=p&&p.supportsCrossDomainXhr||!1,this.u=p&&p.sendRawJson||!1,(p=p&&p.httpSessionIdParam)&&!E(p)&&(this.g.D=p,u=this.h,u!==null&&p in u&&(u=this.h,p in u&&delete u[p])),this.j=new eo(this)}w(wn,st),wn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},wn.prototype.close=function(){lp(this.g)},wn.prototype.o=function(u){var p=this.g;if(typeof u=="string"){var y={};y.__data__=u,u=y}else this.u&&(y={},y.__data__=qf(u),u=y);p.i.push(new FN(p.Ya++,u)),p.G==3&&gu(p)},wn.prototype.N=function(){this.g.l=null,delete this.j,lp(this.g),delete this.g,wn.aa.N.call(this)};function jw(u){Xf.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var p=u.__sm__;if(p){e:{for(const y in p){u=y;break e}u=void 0}(this.i=u)&&(u=this.i,p=p!==null&&u in p?p[u]:void 0),this.data=p}else this.data=u}w(jw,Xf);function Fw(){Jf.call(this),this.status=1}w(Fw,Jf);function eo(u){this.g=u}w(eo,Lw),eo.prototype.ua=function(){ot(this.g,"a")},eo.prototype.ta=function(u){ot(this.g,new jw(u))},eo.prototype.sa=function(u){ot(this.g,new Fw)},eo.prototype.ra=function(){ot(this.g,"b")},wn.prototype.send=wn.prototype.o,wn.prototype.open=wn.prototype.m,wn.prototype.close=wn.prototype.close,Zf.NO_ERROR=0,Zf.TIMEOUT=8,Zf.HTTP_ERROR=6,LN.COMPLETE="complete",AN.EventType=Ra,Ra.OPEN="a",Ra.CLOSE="b",Ra.ERROR="c",Ra.MESSAGE="d",st.prototype.listen=st.prototype.K,Ke.prototype.listenOnce=Ke.prototype.L,Ke.prototype.getLastError=Ke.prototype.Ka,Ke.prototype.getLastErrorCode=Ke.prototype.Ba,Ke.prototype.getStatus=Ke.prototype.Z,Ke.prototype.getResponseJson=Ke.prototype.Oa,Ke.prototype.getResponseText=Ke.prototype.oa,Ke.prototype.send=Ke.prototype.ea,Ke.prototype.setWithCredentials=Ke.prototype.Ha}).apply(typeof Bu<"u"?Bu:typeof self<"u"?self:typeof window<"u"?window:{});const kE="@firebase/firestore",IE="4.7.14";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $t{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}$t.UNAUTHENTICATED=new $t(null),$t.GOOGLE_CREDENTIALS=new $t("google-credentials-uid"),$t.FIRST_PARTY=new $t("first-party-uid"),$t.MOCK_USER=new $t("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Xc="11.7.3";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sa=new nf("@firebase/firestore");function qn(t,...e){if(sa.logLevel<=me.DEBUG){const n=e.map(W0);sa.debug(`Firestore (${Xc}): ${t}`,...n)}}function JP(t,...e){if(sa.logLevel<=me.ERROR){const n=e.map(W0);sa.error(`Firestore (${Xc}): ${t}`,...n)}}function wU(t,...e){if(sa.logLevel<=me.WARN){const n=e.map(W0);sa.warn(`Firestore (${Xc}): ${t}`,...n)}}function W0(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QP(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,ZP(t,r,n)}function ZP(t,e,n){let r=`FIRESTORE (${Xc}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw JP(r),new Error(r)}function Ol(t,e,n,r){let i="Unexpected state";typeof n=="string"?i=n:r=n,t||ZP(e,i,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zt={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class en extends rr{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ml{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eR{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class xU{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n($t.UNAUTHENTICATED))}shutdown(){}}class EU{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class CU{constructor(e){this.t=e,this.currentUser=$t.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Ol(this.o===void 0,42304);let r=this.i;const i=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let s=new Ml;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Ml,e.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const l=s;e.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},a=l=>{qn("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(qn("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Ml)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(qn("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Ol(typeof r.accessToken=="string",31837,{l:r}),new eR(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ol(e===null||typeof e=="string",2055,{h:e}),new $t(e)}}class SU{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=$t.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class bU{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new SU(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n($t.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class PE{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class TU{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Vt(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Ol(this.o===void 0,3512);const r=s=>{s.error!=null&&qn("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.m;return this.m=s.token,qn("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{qn("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.V.getImmediate({optional:!0});s?i(s):qn("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new PE(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Ol(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new PE(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function kU(t){return t.name==="IndexedDbTransactionError"}const Jg="(default)";class bh{constructor(e,n){this.projectId=e,this.database=n||Jg}static empty(){return new bh("","")}get isDefaultDatabase(){return this.database===Jg}isEqual(e){return e instanceof bh&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var RE,ae;(ae=RE||(RE={}))[ae.OK=0]="OK",ae[ae.CANCELLED=1]="CANCELLED",ae[ae.UNKNOWN=2]="UNKNOWN",ae[ae.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ae[ae.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ae[ae.NOT_FOUND=5]="NOT_FOUND",ae[ae.ALREADY_EXISTS=6]="ALREADY_EXISTS",ae[ae.PERMISSION_DENIED=7]="PERMISSION_DENIED",ae[ae.UNAUTHENTICATED=16]="UNAUTHENTICATED",ae[ae.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ae[ae.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ae[ae.ABORTED=10]="ABORTED",ae[ae.OUT_OF_RANGE=11]="OUT_OF_RANGE",ae[ae.UNIMPLEMENTED=12]="UNIMPLEMENTED",ae[ae.INTERNAL=13]="INTERNAL",ae[ae.UNAVAILABLE=14]="UNAVAILABLE",ae[ae.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */new XP([4294967295,4294967295],0);/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IU=41943040;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PU=1048576;function am(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RU{constructor(e,n,r=1e3,i=1.5,s=6e4){this.bi=e,this.timerId=n,this.u_=r,this.c_=i,this.l_=s,this.h_=0,this.P_=null,this.T_=Date.now(),this.reset()}reset(){this.h_=0}I_(){this.h_=this.l_}E_(e){this.cancel();const n=Math.floor(this.h_+this.d_()),r=Math.max(0,Date.now()-this.T_),i=Math.max(0,n-r);i>0&&qn("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.h_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.P_=this.bi.enqueueAfterDelay(this.timerId,i,()=>(this.T_=Date.now(),e())),this.h_*=this.c_,this.h_<this.u_&&(this.h_=this.u_),this.h_>this.l_&&(this.h_=this.l_)}A_(){this.P_!==null&&(this.P_.skipDelay(),this.P_=null)}cancel(){this.P_!==null&&(this.P_.cancel(),this.P_=null)}d_(){return(Math.random()-.5)*this.h_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H0{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new Ml,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){const o=Date.now()+r,a=new H0(e,n,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new en(Zt.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}var AE,NE;(NE=AE||(AE={})).ya="default",NE.Cache="cache";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AU(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DE=new Map;function NU(t,e,n,r){if(e===!0&&r===!0)throw new en(Zt.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function DU(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":QP(12329,{type:typeof t})}function OU(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new en(Zt.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=DU(t);throw new en(Zt.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tR="firestore.googleapis.com",OE=!0;class ME{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new en(Zt.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=tR,this.ssl=OE}else this.host=e.host,this.ssl=(n=e.ssl)!==null&&n!==void 0?n:OE;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=IU;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<PU)throw new en(Zt.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}NU("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=AU((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new en(Zt.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new en(Zt.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new en(Zt.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class nR{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new ME({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new en(Zt.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new en(Zt.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new ME(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new xU;switch(r.type){case"firstParty":return new bU(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new en(Zt.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,Ki("Firestore",this._settings.isUsingEmulator),this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=DE.get(n);r&&(qn("ComponentProvider","Removing Datastore"),DE.delete(n),r.terminate())}(this),Promise.resolve()}}function rR(t,e,n,r={}){var i;t=OU(t,nR);const s=zs(e),o=t._getSettings(),a=Object.assign(Object.assign({},o),{emulatorOptions:t._getEmulatorOptions()}),l=`${e}:${n}`;o.host!==tR&&o.host!==l&&wU("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const c=Object.assign(Object.assign({},o),{host:l,ssl:s,emulatorOptions:r});if(!Li(c,a)&&(t._setSettings(c),s&&(Zh(`https://${l}`),Ki("Firestore",!0)),r.mockUserToken)){let d,h;if(typeof r.mockUserToken=="string")d=r.mockUserToken,h=$t.MOCK_USER;else{d=zv(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const f=r.mockUserToken.sub||r.mockUserToken.user_id;if(!f)throw new en(Zt.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");h=new $t(f)}t._authCredentials=new EU(new eR(d,h))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LE="AsyncQueue";class jE{constructor(e=Promise.resolve()){this.Qu=[],this.$u=!1,this.Uu=[],this.Ku=null,this.Wu=!1,this.Gu=!1,this.zu=[],this.y_=new RU(this,"async_queue_retry"),this.ju=()=>{const r=am();r&&qn(LE,"Visibility state changed to "+r.visibilityState),this.y_.A_()},this.Hu=e;const n=am();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.ju)}get isShuttingDown(){return this.$u}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Ju(),this.Yu(e)}enterRestrictedMode(e){if(!this.$u){this.$u=!0,this.Gu=e||!1;const n=am();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.ju)}}enqueue(e){if(this.Ju(),this.$u)return new Promise(()=>{});const n=new Ml;return this.Yu(()=>this.$u&&this.Gu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Qu.push(e),this.Zu()))}async Zu(){if(this.Qu.length!==0){try{await this.Qu[0](),this.Qu.shift(),this.y_.reset()}catch(e){if(!kU(e))throw e;qn(LE,"Operation failed with retryable error: "+e)}this.Qu.length>0&&this.y_.E_(()=>this.Zu())}}Yu(e){const n=this.Hu.then(()=>(this.Wu=!0,e().catch(r=>{throw this.Ku=r,this.Wu=!1,JP("INTERNAL UNHANDLED ERROR: ",FE(r)),r}).then(r=>(this.Wu=!1,r))));return this.Hu=n,n}enqueueAfterDelay(e,n,r){this.Ju(),this.zu.indexOf(e)>-1&&(n=0);const i=H0.createAndSchedule(this,e,n,r,s=>this.Xu(s));return this.Uu.push(i),i}Ju(){this.Ku&&QP(47125,{ec:FE(this.Ku)})}verifyOperationInProgress(){}async tc(){let e;do e=this.Hu,await e;while(e!==this.Hu)}nc(e){for(const n of this.Uu)if(n.timerId===e)return!0;return!1}rc(e){return this.tc().then(()=>{this.Uu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.Uu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.tc()})}sc(e){this.zu.push(e)}Xu(e){const n=this.Uu.indexOf(e);this.Uu.splice(n,1)}}function FE(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class MU extends nR{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new jE,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new jE(e),this._firestoreClient=void 0,await e}}}function LU(t,e){const n=typeof t=="object"?t:$c(),r=typeof t=="string"?t:e||Jg,i=qi(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const s=Bv("firestore");s&&rR(i,...s)}return i}(function(e,n=!0){(function(i){Xc=i})(Yi),Dn(new gn("firestore",(r,{instanceIdentifier:i,options:s})=>{const o=r.getProvider("app").getImmediate(),a=new MU(new CU(r.getProvider("auth-internal")),new TU(o,r.getProvider("app-check-internal")),function(c,d){if(!Object.prototype.hasOwnProperty.apply(c.options,["projectId"]))throw new en(Zt.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new bh(c.options.projectId,d)}(o,i),o);return s=Object.assign({useFetchStreams:n},s),a._setSettings(s),a},"PUBLIC").setMultipleInstances(!0)),Dt(kE,IE,e),Dt(kE,IE,"esm2017")})();const jU={apiKey:"AIzaSyD9cpSfGG212h80iXofJetw-B-arEEcOvI",authDomain:"emprochampions2025.firebaseapp.com",databaseURL:"https://emprochampions2025-default-rtdb.firebaseio.com",projectId:"emprochampions2025",storageBucket:"emprochampions2025.appspot.com",messagingSenderId:"683206087538",appId:"1:683206087538:web:8a1473aec968bd6ab543eb",measurementId:"G-3TX5J3NDT5"},Fs=Ek(jU),oa=j3(Fs),oe=WV(Fs),FU=yU(Fs),$U=LU(Fs);Rg(Fs);const VU=new Rr;window.location.hostname==="localhost"&&(fI(oa,"http://localhost:9099"),HP(oe,"localhost",9e3),YP(FU,"localhost",9199),rR($U,"localhost",8080),console.log("Conectado a emuladores de Firebase"));const Jc=k.createContext();function UU({children:t}){const[e,n]=k.useState(null),[r,i]=k.useState(null),[s,o]=k.useState(!0);return k.useEffect(()=>{let a,l;return a=bF(oa,async c=>{if(console.log(" [AuthContext] onAuthStateChanged - user:",c),c){n(c),l&&l();const d=le(oe,`usuarios/${c.uid}/rol`);l=Ar(d,h=>{if(h.exists()){const f=h.val();i(f||"usuario"),console.log("Rol del usuario cargado desde DB:",f||"usuario")}else i("usuario"),console.log("Nodo de usuario o rol no encontrado, rol por defecto: usuario");o(!1)},h=>{console.error("Error al leer el rol desde la base de datos:",h),i("usuario"),o(!1)})}else l&&l(),n(null),i(null),o(!1)}),()=>{a&&a(),l&&l()}},[]),m.jsx(Jc.Provider,{value:{usuario:e,rol:r,cargando:s},children:t})}function BU(){const[t,e]=k.useState(""),[n,r]=k.useState(""),i=Gi(),s=async l=>{console.log("[Login.jsx] LOG A: Iniciando asignarRolEnFirebase para:",l.email);const c=le(oe,`usuarios/${l.uid}`),d=await Di(c);console.log("[Login.jsx] LOG B: Snapshot de usuario existente en DB:",d.exists()?d.val():"No existe");const h=l.email.replace(/\./g,","),f=le(oe,`admins/${h}`),v=await Di(f);console.log("[Login.jsx] LOG C: Snapshot de admin en DB:",v.exists()?"Es admin":"No es admin por DB");let w="usuario";const S=["yayirobe2305@gmail.com","gersonespino@gmail.com","andiescobar8@gmail.com","rodriguezmerary42@gmail.com"];if(v.exists())w="admin",console.log("[Login.jsx] LOG C.1: Rol asignado como admin (desde DB /admins).");else if(S.includes(l.email)){const P=le(oe,`admins/${h}`);await At(P,!0),w="admin",console.log("[Login.jsx] LOG C.2: Rol asignado como admin (desde lista correosAdmin y aadido a DB).")}if(console.log("[Login.jsx] LOG D: Rol final determinado:",w),!d.exists())console.log("[Login.jsx] LOG E: Creando nuevo nodo de usuario en DB con rol:",w),await At(c,{correo:l.email,rol:w});else{const P=d.val();P.rol!==w?(console.log("[Login.jsx] LOG F: Actualizando rol del usuario existente de",P.rol,"a:",w),await At(le(oe,`usuarios/${l.uid}/rol`),w)):console.log("[Login.jsx] LOG F.1: Rol del usuario existente ya es correcto:",w)}console.log("[Login.jsx] LOG G: Navegando a '/' despus de asignar rol."),i("/")},o=async l=>{l.preventDefault(),console.log("[Login.jsx] LOG 1: Intentando iniciar sesin con email:",t);try{const d=(await EF(oa,t,n)).user;if(console.log("[Login.jsx] LOG 2: Usuario autenticado por Firebase Auth:",d),!d.emailVerified){console.log("[Login.jsx] LOG 3: Correo no verificado para:",d.email);try{await Mg(d),alert("Tu correo no est verificado. Te hemos enviado un nuevo correo de verificacin. Por favor, revisa tu bandeja de entrada y spam.")}catch(h){console.error("[Login.jsx] Error al enviar correo de verificacin:",h),alert("Tu correo no est verificado. No se pudo reenviar el correo de verificacin. Intenta ms tarde o contacta soporte.")}console.log("[Login.jsx] LOG 3.1: Deteniendo login por correo no verificado.");return}console.log("[Login.jsx] LOG 4: Correo verificado, procediendo a llamar asignarRolEnFirebase..."),await s(d),console.log("[Login.jsx] LOG 5: asignarRolEnFirebase completado (navegacin debera haber ocurrido).")}catch(c){console.error("[Login.jsx] Error en catch de handleLogin:",c),console.log("[Login.jsx] Cdigo de error:",c.code),console.log("[Login.jsx] Mensaje de error:",c.message);let d="Ocurri un error al intentar iniciar sesin.";c.code==="auth/user-not-found"||c.code==="auth/wrong-password"||c.code==="auth/invalid-credential"?d="Las credenciales ingresadas son incorrectas. Verifica tu correo y contrasea.":c.code==="auth/too-many-requests"&&(d="Demasiados intentos fallidos de inicio de sesin. Por favor, intenta ms tarde."),alert(d)}},a=async()=>{console.log("[Login.jsx] Iniciando handleGoogleLogin...");try{const c=(await GF(oa,VU)).user;if(console.log("[Login.jsx] Usuario autenticado con Google:",c),!c.emailVerified){console.log("[Login.jsx] Usuario de Google con email no verificado por Firebase (segn flag), intentando enviar verificacin...");try{await Mg(c),alert("Hemos detectado que tu correo de Google podra no estar verificado en nuestro sistema. Te hemos enviado un correo de verificacin. Por favor, revisa tu bandeja de entrada para asegurar el acceso completo.")}catch(d){console.error("[Login.jsx] Error al enviar correo de verificacin tras login con Google:",d),alert("No se pudo enviar un correo de verificacin adicional. Podrs continuar, pero considera verificar tu correo si encuentras problemas.")}}console.log("[Login.jsx] Procediendo a llamar asignarRolEnFirebase para usuario de Google..."),await s(c),console.log("[Login.jsx] asignarRolEnFirebase completado para usuario de Google.")}catch(l){console.error("[Login.jsx] Error en catch de handleGoogleLogin:",l),console.log("[Login.jsx] Cdigo de error de Google login:",l.code),console.log("[Login.jsx] Mensaje de error de Google login:",l.message);let c="Error al iniciar sesin con Google.";l.code==="auth/popup-closed-by-user"?c="Cancelaste el inicio de sesin con Google.":l.code==="auth/account-exists-with-different-credential"&&(c="Ya existe una cuenta con este correo electrnico pero con un mtodo de inicio de sesin diferente. Intenta iniciar sesin con ese mtodo."),alert(c)}};return m.jsx("div",{className:"min-h-screen bg-cover bg-center flex items-center justify-center",style:{backgroundImage:"url('/EmproChampions-2025/img/fondoempro-horizontal.png')"},children:m.jsxs("div",{className:"bg-white/90 rounded-2xl shadow-lg p-8 w-full max-w-md text-center",children:[m.jsx("img",{src:"/EmproChampions-2025/img/logo-empro.png",alt:"Logo Empro",className:"w-32 md:w-40 mx-auto mb-4"}),m.jsx("h1",{className:"text-3xl font-bold text-[#7a0026] mb-6",children:"Empro Champions 2025"}),m.jsxs("form",{onSubmit:o,className:"space-y-4",children:[m.jsx("h2",{className:"text-lg text-[#7a0026] font-bold",children:"HOLA, INICIA SESIN!"}),m.jsx("input",{type:"email",placeholder:"CORREO",value:t,onChange:l=>e(l.target.value),required:!0,className:"w-full px-4 py-2 border border-[#7a0026] rounded-md focus:outline-none focus:ring-2 focus:ring-[#FFD700]",autoComplete:"email"}),m.jsx("input",{type:"password",placeholder:"CONTRASEA",value:n,onChange:l=>r(l.target.value),required:!0,className:"w-full px-4 py-2 border border-[#7a0026] rounded-md focus:outline-none focus:ring-2 focus:ring-[#FFD700]",autoComplete:"current-password"}),m.jsx("button",{type:"submit",className:"w-full bg-[#FFD700] text-[#7a0026] font-bold py-2 rounded-md hover:bg-yellow-400 transition",children:"INICIAR SESIN"})]}),m.jsx("div",{className:"my-4 text-[#7a0026] font-semibold",children:"o"}),m.jsx("button",{onClick:a,className:"w-full bg-blue-600 text-white font-bold py-2 rounded-md hover:bg-blue-700 transition",children:"INGRESA CON GOOGLE"}),m.jsxs("p",{className:"mt-4 text-sm text-[#7a0026]",children:["No tienes cuenta?"," ",m.jsx(lr,{to:"/registro",className:"font-bold underline",children:"Crea una"})]})]})})}function zU(){const[t,e]=k.useState(""),[n,r]=k.useState(""),[i,s]=k.useState(""),[o,a]=k.useState(""),l=Gi(),c=(h,f)=>{const v=(h==null?void 0:h.charAt(0).toUpperCase())||"",w=(f==null?void 0:f.charAt(0).toUpperCase())||"";return`${v}${w}`},d=async h=>{h.preventDefault();try{const f=await xF(oa,i,o),v=f.user.uid,w={nombre:t,apellido:n,correo:i,rol:"usuario",iniciales:c(t,n),foto:null};await At(le(oe,`usuarios/${v}`),w),await Mg(f.user),alert("Cuenta creada exitosamente! Se ha enviado un correo de verificacin a tu direccin de email. Por favor, verifica tu correo para activar tu cuenta."),l("/login")}catch(f){console.error("Error al crear la cuenta:",f),f.code==="auth/email-already-in-use"?alert("Este correo electrnico ya est registrado. Por favor, intenta con otro o inicia sesin."):f.code==="auth/weak-password"?alert("La contrasea es demasiado dbil. Debe tener al menos 6 caracteres."):alert("Error al crear la cuenta. Por favor, intntalo de nuevo. Detalles: "+f.message)}};return m.jsx("div",{className:"min-h-screen bg-cover bg-center flex items-center justify-center",style:{backgroundImage:"url('/EmproChampions-2025/img/fondoempro-horizontal.png')"},children:m.jsxs("div",{className:"bg-white/90 rounded-2xl shadow-lg p-8 w-full max-w-md text-center",children:[m.jsx("img",{src:"/EmproChampions-2025/img/logo-empro.png",alt:"Logo Empro",className:"w-24 mx-auto mb-4"}),m.jsx("h1",{className:"text-3xl font-bold text-[#7a0026] mb-6",children:"Crear Cuenta"}),m.jsxs("form",{onSubmit:d,className:"space-y-4",children:[m.jsx("input",{type:"text",placeholder:"Nombre",value:t,onChange:h=>e(h.target.value),required:!0,className:"w-full px-4 py-2 border border-[#7a0026] rounded-md focus:outline-none focus:ring-2 focus:ring-[#FFD700]"}),m.jsx("input",{type:"text",placeholder:"Apellido",value:n,onChange:h=>r(h.target.value),required:!0,className:"w-full px-4 py-2 border border-[#7a0026] rounded-md focus:outline-none focus:ring-2 focus:ring-[#FFD700]"}),m.jsx("input",{type:"email",placeholder:"Correo",value:i,onChange:h=>s(h.target.value),required:!0,className:"w-full px-4 py-2 border border-[#7a0026] rounded-md focus:outline-none focus:ring-2 focus:ring-[#FFD700]"}),m.jsx("input",{type:"password",placeholder:"Contrasea (mn. 6 caracteres)",value:o,onChange:h=>a(h.target.value),required:!0,className:"w-full px-4 py-2 border border-[#7a0026] rounded-md focus:outline-none focus:ring-2 focus:ring-[#FFD700]"}),m.jsx("button",{type:"submit",className:"w-full bg-[#FFD700] text-[#7a0026] font-bold py-2 rounded-md hover:bg-yellow-400 transition",children:"Registrarme"})]}),m.jsxs("p",{className:"mt-4 text-sm text-[#7a0026]",children:["Ya tienes cuenta?"," ",m.jsx(lr,{to:"/login",className:"font-bold underline",children:"Inicia sesin"})]})]})})}function Ks(){const[t,e]=k.useState(!1),{usuario:n,rol:r,cargando:i}=k.useContext(Jc),s=ei();if(i||!n||s.pathname==="/login"||s.pathname==="/registro")return null;const o=r==="admin"||r==="superadmin";return m.jsx("nav",{className:"bg-[#7a0026] text-white px-4 py-3 shadow-md sticky top-0 z-50",children:m.jsxs("div",{className:"max-w-6xl mx-auto flex justify-between items-center",children:[m.jsx(lr,{to:"/",className:"text-2xl font-bold font-qatar",children:" Empro"}),m.jsx("button",{className:"md:hidden transition-transform",onClick:()=>e(!t),children:m.jsx("svg",{className:`w-7 h-7 transition-transform duration-300 ${t?"rotate-90":""}`,fill:"none",stroke:"currentColor",strokeWidth:2,viewBox:"0 0 24 24",children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:t?"M6 18L18 6M6 6l12 12":"M4 6h16M4 12h16M4 18h16"})})}),m.jsxs("ul",{className:`md:flex gap-6 text-lg font-bold absolute md:static top-16 left-0 w-full md:w-auto bg-[#7a0026] md:bg-transparent transition-all duration-300 ease-in-out ${t?"block":"hidden"}`,children:[m.jsx("li",{className:"p-3 md:p-0 text-center",children:m.jsx(lr,{to:"/",className:"hover:text-yellow-400",onClick:()=>e(!1),children:"Tabla"})}),m.jsx("li",{className:"p-3 md:p-0 text-center",children:m.jsx(lr,{to:"/goleadores",className:"hover:text-yellow-400",onClick:()=>e(!1),children:"Goleadores"})}),m.jsx("li",{className:"p-3 md:p-0 text-center",children:m.jsx(lr,{to:"/historial",className:"hover:text-yellow-400",onClick:()=>e(!1),children:"Historial"})}),m.jsx("li",{className:"p-3 md:p-0 text-center",children:m.jsx(lr,{to:"/configuracion",className:"hover:text-yellow-400",onClick:()=>e(!1),children:"Cuenta"})}),o&&m.jsx("li",{className:"p-3 md:p-0 text-center",children:m.jsx(lr,{to:"/partido/configurar",className:"hover:text-yellow-400",onClick:()=>e(!1),children:" Nuevo Partido"})})]})]})})}function WU(){const[t,e]=k.useState([]),[n,r]=k.useState("masculino");return k.useEffect(()=>{const i=le(oe,`tablas/${n}`),s=Ar(i,o=>{const a=o.val();if(a){const c=Object.entries(a).map(([d,h])=>({id:d,...h})).sort((d,h)=>h.puntos-d.puntos);e(c)}else e([])});return()=>s()},[n]),m.jsxs("div",{className:"min-h-screen bg-cover bg-center text-white font-qatar",style:{backgroundImage:"url('/EmproChampions-2025/img/fondoempro-horizontal.png')"},children:[m.jsx(Ks,{}),m.jsxs("div",{className:"text-center py-6",children:[m.jsx("img",{src:"/EmproChampions-2025/img/logo2.png",alt:"Tabla de Posiciones",className:"mx-auto w-auto mb-4 px-8"}),m.jsxs("button",{onClick:()=>r(n==="masculino"?"femenino":"masculino"),className:"bg-yellow-400 text-[#7a0026] font-bold px-6 py-2 rounded-full",children:["Cambiar a ",n==="masculino"?"Femenino":"Masculino"]})]}),m.jsx("div",{className:"overflow-x-auto px-4 pb-10",children:t.length===0?m.jsx("p",{className:"text-center text-xl",children:"No hay datos en la tabla de posiciones an."}):m.jsxs("table",{className:"min-w-[600px] w-full border-collapse text-center",children:[m.jsx("thead",{children:m.jsxs("tr",{className:"bg-[#FFD700] text-[#7a0026]",children:[m.jsx("th",{className:"px-4 py-2 sticky left-0 bg-[#FFD700]",children:"Equipo"}),m.jsx("th",{children:"PJ"}),m.jsx("th",{children:"PG"}),m.jsx("th",{children:"PE"}),m.jsx("th",{children:"PP"}),m.jsx("th",{children:"GF"}),m.jsx("th",{children:"GC"}),m.jsx("th",{children:"+/-"}),m.jsx("th",{children:"Puntos"})]})}),m.jsx("tbody",{children:t.map((i,s)=>m.jsxs("tr",{className:"bg-white text-black border-b",children:[m.jsxs("td",{className:"flex items-center gap-2 font-bold sticky left-0 bg-white px-2 py-2",children:[m.jsx("img",{src:`/EmproChampions-2025/img/escudos/${i.logo}`,alt:i.nombre,className:"w-4 h-4 object-contain mx-1"}),i.nombre," "]}),m.jsx("td",{children:i.pj||0}),m.jsx("td",{children:i.pg||0}),m.jsx("td",{children:i.pe||0}),m.jsx("td",{children:i.pp||0}),m.jsx("td",{children:i.gf||0}),m.jsx("td",{children:i.gc||0}),m.jsx("td",{children:(i.gf||0)-(i.gc||0)}),m.jsx("td",{className:"font-extrabold text-[#7a0026]",children:i.puntos||0})]},i.id))})]})})]})}function HU({equipo:t,jugadores:e,minuto:n,onSeleccion:r,onClose:i}){const[s,o]=k.useState(""),a=()=>{s&&r({nombre:s,minuto:n})};return m.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-70 flex justify-center items-center z-50",children:m.jsxs("div",{className:"bg-white text-black p-6 rounded-lg w-full max-w-md space-y-4",children:[m.jsx("h2",{className:"text-2xl font-bold text-center",children:"Registrar Gol"}),m.jsxs("div",{children:[m.jsx("label",{className:"block font-semibold mb-1",children:"Quin anot?"}),m.jsxs("select",{value:s,onChange:l=>o(l.target.value),className:"w-full border border-gray-300 rounded px-4 py-2",children:[m.jsx("option",{value:"",children:"Seleccionar jugador"}),e.map((l,c)=>m.jsx("option",{value:l.nombre,children:l.nombre},c))]})]}),m.jsxs("div",{className:"flex justify-end gap-4",children:[m.jsx("button",{onClick:i,className:"bg-gray-300 px-4 py-2 rounded font-bold",children:"Cancelar"}),m.jsx("button",{onClick:a,className:"bg-green-500 text-white px-4 py-2 rounded font-bold",children:"Confirmar"})]})]})})}function GU({equipo:t,jugadores:e,minuto:n,onConfirm:r,onClose:i}){const[s,o]=k.useState(""),[a,l]=k.useState(""),c=()=>{!s||!a||r({jugador:s,tipo:a,minuto:n})};return m.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-70 flex justify-center items-center z-50",children:m.jsxs("div",{className:"bg-white text-black p-6 rounded-lg w-full max-w-md space-y-4",children:[m.jsx("h2",{className:"text-2xl font-bold text-center",children:"Registrar Tarjeta"}),m.jsxs("div",{children:[m.jsx("label",{className:"block font-semibold mb-1",children:"Jugador"}),m.jsxs("select",{value:s,onChange:d=>o(d.target.value),className:"w-full border border-gray-300 rounded px-4 py-2",children:[m.jsx("option",{value:"",children:"Seleccionar jugador"}),e.map((d,h)=>m.jsx("option",{value:d.nombre,children:d.nombre},h))]})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block font-semibold mb-1",children:"Tipo de tarjeta"}),m.jsxs("div",{className:"flex gap-4",children:[m.jsxs("label",{className:"flex items-center",children:[m.jsx("input",{type:"radio",value:"amarilla",checked:a==="amarilla",onChange:()=>l("amarilla")}),m.jsx("span",{className:"ml-2",children:" Amarilla"})]}),m.jsxs("label",{className:"flex items-center",children:[m.jsx("input",{type:"radio",value:"roja",checked:a==="roja",onChange:()=>l("roja")}),m.jsx("span",{className:"ml-2",children:" Roja"})]})]})]}),m.jsxs("div",{className:"flex justify-end gap-4",children:[m.jsx("button",{onClick:i,className:"bg-gray-300 px-4 py-2 rounded font-bold",children:"Cancelar"}),m.jsx("button",{onClick:c,className:"bg-yellow-500 px-4 py-2 rounded font-bold",children:"Confirmar"})]})]})})}function KU({equipo:t,jugadores:e,minuto:n,onConfirm:r,onClose:i}){const[s,o]=k.useState(""),[a,l]=k.useState(""),c=()=>{!s||!a.trim()||r(s,a.trim(),n)};return m.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-70 flex justify-center items-center z-50",children:m.jsxs("div",{className:"bg-white text-black p-6 rounded-lg w-full max-w-md space-y-4",children:[m.jsx("h2",{className:"text-2xl font-bold text-center",children:"Realizar Cambio"}),m.jsxs("div",{children:[m.jsx("label",{className:"block font-semibold mb-1",children:"Titular que sale"}),m.jsxs("select",{value:s,onChange:d=>o(d.target.value),className:"w-full border border-gray-300 rounded px-4 py-2",children:[m.jsx("option",{value:"",children:"Seleccionar"}),e.map((d,h)=>m.jsx("option",{value:d.nombre,children:d.nombre},h))]})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block font-semibold mb-1",children:"Suplente que entra"}),m.jsx("input",{type:"text",placeholder:"Escrib el nombre",value:a,onChange:d=>l(d.target.value),className:"w-full border border-gray-300 rounded px-4 py-2"})]}),m.jsxs("div",{className:"flex justify-end gap-4",children:[m.jsx("button",{onClick:i,className:"bg-gray-300 px-4 py-2 rounded font-bold",children:"Cancelar"}),m.jsx("button",{onClick:c,className:"bg-blue-500 text-white px-4 py-2 rounded font-bold",children:"Confirmar Cambio"})]})]})})}function qU({equipoGanador:t,equipo1:e,equipo2:n,onClose:r}){const[i,s]=k.useState(null),o=()=>{if(!i){alert(" Debes seleccionar un jugador MVP.");return}const a={jugador:i.nombre,dorsal:i.dorsal,equipo:i.equipoPertenencia,logo:i.equipoPertenencia===e.nombre?e.logo:n.logo},l=JSON.parse(localStorage.getItem("mvps"))||[];localStorage.setItem("mvps",JSON.stringify([...l,a])),r(a)};return m.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-80 flex items-center justify-center z-50 p-4",children:m.jsxs("div",{className:"bg-white text-black rounded-xl p-6 w-full max-w-2xl shadow-xl",children:[m.jsxs("div",{className:"text-center mb-6",children:[m.jsx("img",{src:`/EmproChampions-2025/img/${t.logo}`,alt:"Ganador",className:"w-28 h-28 mx-auto mb-2"}),m.jsx("h2",{className:"text-2xl font-bold",children:"Selecciona el Jugador Ms Valioso (MVP)"}),m.jsx("p",{className:"text-sm text-gray-600",children:"(Incluye titulares y suplentes que jugaron)"})]}),m.jsxs("div",{className:"flex flex-col md:flex-row justify-center gap-6",children:[m.jsxs("div",{className:"flex-1",children:[m.jsx("h3",{className:"font-bold text-lg text-[#7a0026] mb-3",children:e==null?void 0:e.nombre}),m.jsx("div",{className:"grid grid-cols-2 gap-2 max-h-[300px] overflow-y-auto border p-2 rounded",children:((e==null?void 0:e.jugadores)||[]).filter(a=>a.haJugado||a.enJuego).map((a,l)=>m.jsxs("div",{onClick:()=>s({...a,equipoPertenencia:e.nombre}),className:`cursor-pointer border-2 rounded-lg p-2 text-center hover:border-yellow-500 transition ${(i==null?void 0:i.nombre)===a.nombre&&(i==null?void 0:i.equipoPertenencia)===e.nombre?"border-yellow-500 bg-yellow-100":"border-gray-300"}`,children:[m.jsxs("p",{className:"text-sm font-bold text-gray-800",children:["#",a.dorsal]}),m.jsx("p",{className:"text-xs text-gray-700",children:a.nombre})]},`${e.nombre}-${a.nombre}`))})]}),m.jsxs("div",{className:"flex-1",children:[m.jsx("h3",{className:"font-bold text-lg text-[#7a0026] mb-3",children:n==null?void 0:n.nombre}),m.jsx("div",{className:"grid grid-cols-2 gap-2 max-h-[300px] overflow-y-auto border p-2 rounded",children:((n==null?void 0:n.jugadores)||[]).filter(a=>a.haJugado||a.enJuego).map((a,l)=>m.jsxs("div",{onClick:()=>s({...a,equipoPertenencia:n.nombre}),className:`cursor-pointer border-2 rounded-lg p-2 text-center hover:border-yellow-500 transition ${(i==null?void 0:i.nombre)===a.nombre&&(i==null?void 0:i.equipoPertenencia)===n.nombre?"border-yellow-500 bg-yellow-100":"border-gray-300"}`,children:[m.jsxs("p",{className:"text-sm font-bold text-gray-800",children:["#",a.dorsal]}),m.jsx("p",{className:"text-xs text-gray-700",children:a.nombre})]},`${n.nombre}-${a.nombre}`))})]})]}),m.jsxs("div",{className:"flex justify-end gap-2 mt-6",children:[m.jsx("button",{onClick:()=>r(null),className:"bg-gray-300 px-4 py-2 rounded hover:bg-gray-400",children:"Cancelar"}),m.jsx("button",{onClick:o,className:"bg-yellow-500 text-black px-4 py-2 rounded hover:bg-yellow-600 font-semibold",children:"Guardar y Finalizar Partido"})]})]})})}function iR({mensaje:t,tipo:e="info"}){const n={info:"bg-blue-600 text-white",gol:"bg-green-500 text-white",tarjeta:"bg-yellow-400 text-black",roja:"bg-red-600 text-white",success:"bg-emerald-500 text-white"};return m.jsx("div",{className:"fixed bottom-6 left-1/2 -translate-x-1/2 z-[9999]",children:m.jsx("div",{className:`px-6 py-3 rounded-full shadow-lg animate-fade-in-out transition duration-500 ${n[e]||n.info}`,children:m.jsx("p",{className:"text-sm font-bold",children:t})})})}function YU(){const[t,e]=k.useState(0),[n,r]=k.useState(!1),i=k.useRef(null),s=()=>{n||(r(!0),i.current=setInterval(()=>{e(l=>l+1)},1e3))},o=()=>{r(!1),clearInterval(i.current)},a=()=>{e(0),o()};return k.useEffect(()=>()=>clearInterval(i.current),[]),{tiempo:t,enMarcha:n,iniciar:s,pausar:o,reiniciar:a}}function XU(){const[t,e]=k.useState(window.innerWidth<768);return k.useEffect(()=>{const n=()=>e(window.innerWidth<768);return window.addEventListener("resize",n),()=>window.removeEventListener("resize",n)},[]),t}function JU(){const{partidoId:t}=gM(),e=Gi(),[n,r]=k.useState(null),[i,s]=k.useState(null),[o,a]=k.useState({equipo1:0,equipo2:0}),[l,c]=k.useState([]),[d,h]=k.useState([]),[f,v]=k.useState([]),[w,S]=k.useState(null),[P,_]=k.useState(null),[E,x]=k.useState(null),[A,D]=k.useState(!1),[M,b]=k.useState(null),C=YU(),I=XU(),g=[{top:"12%",left:"25%"},{top:"12%",left:"75%"},{top:"33%",left:"50%"},{top:"58%",left:"24%"},{top:"58%",left:"76%"},{top:"85%",left:"50%"}];k.useEffect(()=>{if(!t)return;const j=le(oe,`partidos/${t}/alineacion`),W=le(oe,`partidos/${t}/eventos/goles`),Te=le(oe,`partidos/${t}/marcador`),ft=le(oe,`partidos/${t}/eventos/cambios`),_n=le(oe,`partidos/${t}/eventos/tarjetas`);Ar(j,Me=>{if(Me.exists()){const ke=Me.val();r(ke.equipo1),s(ke.equipo2)}}),Ar(W,Me=>{const ke=[];Me.forEach(pt=>ke.push(pt.val())),c(ke)}),Ar(Te,Me=>{Me.exists()&&a(Me.val())}),Ar(ft,Me=>{const ke=[];Me.forEach(pt=>ke.push(pt.val())),v(ke)}),Ar(_n,Me=>{const ke=[];Me.forEach(pt=>ke.push(pt.val())),h(ke)})},[t]);const R=(j,W="info")=>{b({mensaje:j,tipo:W}),setTimeout(()=>b(null),4e3)},O=()=>{const j=String(Math.floor(C.tiempo/60)).padStart(2,"0"),W=String(C.tiempo%60).padStart(2,"0");return`${j}:${W}`},N=j=>{if(!C.enMarcha){R("El cronmetro debe estar en marcha para marcar un gol","error");return}C.pausar(),S(j)},G=async j=>{const W=w,Te=le(oe,`partidos/${t}/marcador`),ft={...o,[W]:(o[W]||0)+1};await At(Te,ft),a(ft);const _n=le(oe,`partidos/${t}/eventos/goles`);await fl(_n,{equipo:W,jugador:j.nombre,minuto:O()}),S(null),C.iniciar(),R("Gol registrado!","success")},K=j=>_(j),Z=async({jugador:j,tipo:W,minuto:Te})=>{const ft=le(oe,`partidos/${t}/eventos/tarjetas`);await fl(ft,{equipo:P,jugador:j,tipo:W,minuto:Te}),_(null),R(`Tarjeta ${W} a ${j} (${Te})`,W==="roja"?"roja":"tarjeta")},ee=j=>x(j),B=async(j,W,Te)=>{const ft=E;let _n=ft==="equipo1"?n:i,Me=_n.jugadores.map(Ct=>Ct.nombre===j?{...Ct,enJuego:!1,haJugado:!0}:Ct),ke=_n.todosJugadores.find(Ct=>Ct.nombre===W);ke?ke={...ke,enJuego:!0,haJugado:!0}:ke={nombre:W,dorsal:"?",enJuego:!0,haJugado:!0},Me.some(Ct=>Ct.nombre===ke.nombre)?Me=Me.map(Ct=>Ct.nombre===ke.nombre?{...Ct,enJuego:!0,haJugado:!0}:Ct):Me.push(ke);const pt=le(oe,`partidos/${t}/alineacion/${ft}/jugadores`);await At(pt,Me),ft==="equipo1"?r({...n,jugadores:Me}):s({...i,jugadores:Me});const Qi=le(oe,`partidos/${t}/eventos/cambios`);await fl(Qi,{equipo:ft,titular:j,suplente:W,minuto:Te}),x(null),R(`Cambio: sale ${j}, entra ${W} (${Te})`,"info")},q=()=>{C.pausar(),D(!0),R("Partido finalizado. Selecciona el MVP","success")},X=async j=>{var Xs;const Te=((Xs=(await Di(le(oe,`partidos/${t}/alineacion`))).val())==null?void 0:Xs.genero)||"masculino",ft={marcador:o,goles:l,tarjetas:d,cambios:f,duracion:O(),mvp:j,equipo1:n,equipo2:i,terminado:!0,timestamp:Date.now()};await At(le(oe,`partidos/${t}/resultado`),ft);const _n=le(oe,`tablas/${Te}`),ke=(await Di(_n)).val()||{},pt=(Ae,ii,st,ot)=>{const Xt={...ke[Ae.nombre]||{pj:0,pg:0,pe:0,pp:0,gf:0,gc:0,puntos:0,logo:Ae.logo}};Xt.pj++,Xt.gf+=ii,Xt.gc+=st,ot==="victoria"?(Xt.pg++,Xt.puntos+=3):ot==="empate"?(Xt.pe++,Xt.puntos+=1):Xt.pp++,ke[Ae.nombre]=Xt};o.equipo1>o.equipo2?(pt(n,o.equipo1,o.equipo2,"victoria"),pt(i,o.equipo2,o.equipo1,"derrota")):o.equipo2>o.equipo1?(pt(n,o.equipo1,o.equipo2,"derrota"),pt(i,o.equipo2,o.equipo1,"victoria")):(pt(n,o.equipo1,o.equipo2,"empate"),pt(i,o.equipo2,o.equipo1,"empate")),await At(_n,ke);const Qi=le(oe,`goleadoresDetalles/${Te}`),Zi=(await Di(Qi)).val()||{};for(const Ae of l){Zi[Ae.jugador]||(Zi[Ae.jugador]=[]);const ii=Ae.equipo==="equipo1"?n:i;Zi[Ae.jugador].push({minuto:Ae.minuto,partido:`${n.nombre} vs ${i.nombre}`,fecha:new Date().toLocaleDateString(),equipo:ii.nombre,logo:ii.logo})}await At(Qi,Zi);const Kf=le(oe,`historial/${Te}`);await fl(Kf,{fecha:new Date().toLocaleDateString(),genero:Te,equipo1:n.nombre,equipo2:i.nombre,goles1:o.equipo1,goles2:o.equipo2,minutos:O(),mvp:j?j.jugador:"N/A",detalles:[...l.map(Ae=>({tipo:"gol",jugador:Ae.jugador,minuto:Ae.minuto})),...d.map(Ae=>({tipo:`${Ae.tipo} tarjeta`,jugador:Ae.jugador,minuto:Ae.minuto})),...f.map(Ae=>({tipo:"cambio",jugador:`${Ae.titular} por ${Ae.suplente}`,minuto:Ae.minuto}))]}),D(!1),R("Partido guardado correctamente","success"),setTimeout(()=>e("/main"),2e3)},ye=()=>o.equipo1>o.equipo2?n:o.equipo2>o.equipo1?i:{nombre:"Empate",logo:"logo-empro.png"},se=j=>`/EmproChampions-2025/camisas/camisa-${j.toLowerCase().replace(/\s+/g,"-")}.png`,ce=j=>["don bosco","luz","emprosaurios"].includes(j==null?void 0:j.toLowerCase())?"#000":"#fff",ht=(j,W,Te)=>m.jsx("div",{className:"absolute",style:{top:g[W].top,left:g[W].left,transform:"translate(-50%, -50%)",opacity:j.enJuego===!1?.4:1,transition:"opacity 0.3s ease-in-out"},children:m.jsxs("div",{className:"relative flex flex-col items-center",children:[m.jsx("div",{className:"absolute top-[8%] font-barcelona text-[20px] md:text-[28px] z-20",style:{color:ce((Te==null?void 0:Te.nombre)||""),textShadow:"1px 1px 1px rgba(0,0,0,0.7)"},children:j.dorsal}),m.jsx("img",{src:se(Te==null?void 0:Te.nombre),className:"w-10 md:w-14",alt:"jugador"}),m.jsx("div",{className:"absolute bottom-[-14px] font-barcelona text-[10px] md:text-[13px] text-white bg-black/80 px-2 py-[2px] rounded text-center z-20 whitespace-nowrap overflow-hidden text-ellipsis max-w-[70px]",children:j.nombre}),j.haJugado&&j.enJuego===!1&&m.jsx("span",{style:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",fontSize:"30px",color:"red",textShadow:"0 0 5px black",pointerEvents:"none"},children:""})]})},j.nombre);if(!n||!i)return m.jsxs("div",{className:"text-white text-center mt-20 px-4",children:[m.jsx("h2",{className:"text-3xl font-bold",children:"No hay equipos cargados"}),m.jsx("p",{className:"mt-4 text-lg",children:"Confirm la alineacin para continuar."})]});const it=O(),qt=((n==null?void 0:n.todosJugadores)||[]).filter(j=>!(n.jugadores||[]).some(W=>W.nombre===j.nombre)),Lt=((i==null?void 0:i.todosJugadores)||[]).filter(j=>!(i.jugadores||[]).some(W=>W.nombre===j.nombre)),qs=l.filter(j=>j.equipo==="equipo1"),Ys=l.filter(j=>j.equipo==="equipo2"),Yt=()=>m.jsxs("div",{className:"flex flex-col",children:[m.jsxs("div",{className:"flex flex-row items-center justify-center w-full mt-4 gap-2 md:gap-24",children:[m.jsx("img",{src:`/EmproChampions-2025/img/escudos/${n.logo}`,className:"w-20 h-20 md:w-40 md:h-40 object-contain"}),m.jsxs("div",{className:"flex flex-col items-center justify-center flex-shrink",children:[m.jsxs("span",{className:"font-extrabold text-yellow-400 text-7xl md:text-[7.5rem] leading-none drop-shadow-xl select-none",children:[o.equipo1," ",m.jsx("span",{className:"text-white",children:"-"})," ",o.equipo2]}),m.jsx("span",{className:"text-white text-3xl md:text-5xl font-bold mt-1",children:it}),m.jsxs("div",{className:"flex justify-center gap-3 mt-2",children:[m.jsx("button",{onClick:C.iniciar,className:"bg-blue-600 text-white text-2xl md:text-3xl px-5 py-2 rounded-full",children:""}),m.jsx("button",{onClick:C.pausar,className:"bg-blue-600 text-white text-2xl md:text-3xl px-5 py-2 rounded-full",children:""}),m.jsx("button",{onClick:C.reiniciar,className:"bg-blue-600 text-white text-2xl md:text-3xl px-5 py-2 rounded-full",children:""})]})]}),m.jsx("img",{src:`/EmproChampions-2025/img/escudos/${i.logo}`,className:"w-20 h-20 md:w-40 md:h-40 object-contain"})]}),m.jsxs("div",{className:"w-full flex flex-row items-start justify-center mt-2 gap-6",children:[m.jsxs("div",{className:"flex-1 max-h-[150px] overflow-y-auto",children:[" ",qs.map((j,W)=>m.jsxs("div",{className:"text-lg md:text-2xl flex items-center gap-2 justify-end",children:[m.jsx("span",{children:""}),m.jsx("span",{className:"font-bold whitespace-nowrap overflow-hidden text-ellipsis max-w-[120px]",children:j.jugador}),m.jsxs("span",{className:"ml-2 text-sm text-gray-200",children:[j.minuto,"'"]})]},W)),d.filter(j=>j.equipo==="equipo1").map((j,W)=>m.jsxs("div",{className:"text-lg md:text-2xl flex items-center gap-2 justify-end",children:[m.jsx("span",{children:j.tipo==="amarilla"?"":""}),m.jsx("span",{className:"font-bold whitespace-nowrap overflow-hidden text-ellipsis max-w-[120px]",children:j.jugador}),m.jsxs("span",{className:"ml-2 text-sm text-gray-200",children:[j.minuto,"'"]})]},`tarjeta1-${W}`)),f.filter(j=>j.equipo==="equipo1").map((j,W)=>m.jsxs("div",{className:"text-lg md:text-2xl flex items-center gap-2 justify-end",children:[m.jsx("span",{children:""}),m.jsxs("span",{className:"font-bold whitespace-nowrap overflow-hidden text-ellipsis max-w-[120px]",children:[j.titular," por ",j.suplente]}),m.jsxs("span",{className:"ml-2 text-sm text-gray-200",children:[j.minuto,"'"]})]},`cambio1-${W}`))]}),m.jsxs("div",{className:"flex-1 max-h-[150px] overflow-y-auto",children:[" ",Ys.map((j,W)=>m.jsxs("div",{className:"text-lg md:text-2xl flex items-center gap-2 justify-start",children:[m.jsx("span",{children:""}),m.jsx("span",{className:"font-bold whitespace-nowrap overflow-hidden text-ellipsis max-w-[120px]",children:j.jugador}),m.jsxs("span",{className:"ml-2 text-sm text-gray-200",children:[j.minuto,"'"]})]},W)),d.filter(j=>j.equipo==="equipo2").map((j,W)=>m.jsxs("div",{className:"text-lg md:text-2xl flex items-center gap-2 justify-start",children:[m.jsx("span",{children:j.tipo==="amarilla"?"":""}),m.jsx("span",{className:"font-bold whitespace-nowrap overflow-hidden text-ellipsis max-w-[120px]",children:j.jugador}),m.jsxs("span",{className:"ml-2 text-sm text-gray-200",children:[j.minuto,"'"]})]},`tarjeta2-${W}`)),f.filter(j=>j.equipo==="equipo2").map((j,W)=>m.jsxs("div",{className:"text-lg md:text-2xl flex items-center gap-2 justify-start",children:[m.jsx("span",{children:""}),m.jsxs("span",{className:"font-bold whitespace-nowrap overflow-hidden text-ellipsis max-w-[120px]",children:[j.titular," por ",j.suplente]}),m.jsxs("span",{className:"ml-2 text-sm text-gray-200",children:[j.minuto,"'"]})]},`cambio2-${W}`))]})]}),m.jsxs("div",{className:"flex flex-row justify-between items-start gap-8 mt-6 w-full",children:[m.jsxs("div",{className:"w-full md:w-1/2 flex flex-row items-start justify-center",children:[m.jsxs("div",{className:"relative w-[60vw] max-w-[340px] h-[220px] md:w-[300px] md:h-[400px]",children:[m.jsx("img",{src:"/EmproChampions-2025/img/cancha-vertical.svg",alt:"cancha local",className:"w-full h-full"}),(n.jugadores||[]).map((j,W)=>ht(j,W,n))]}),m.jsxs("div",{className:"flex flex-col items-center gap-3 ml-3 mt-0 md:mt-8 w-36",children:[m.jsx("button",{onClick:()=>N("equipo1"),className:"bg-green-500 w-full py-3 rounded-full font-bold text-lg",children:"Gol"}),m.jsx("button",{onClick:()=>K("equipo1"),className:"bg-yellow-400 w-full py-3 rounded-full font-bold text-lg text-black",children:"Tarjeta"}),m.jsx("button",{onClick:()=>ee("equipo1"),className:"bg-blue-500 w-full py-3 rounded-full font-bold text-lg",children:"Cambio"}),m.jsxs("div",{className:"mt-2 w-full",children:[m.jsx("h3",{className:"text-center font-bold text-base text-yellow-400",children:"Suplentes"}),m.jsx("div",{className:"flex flex-wrap gap-1 justify-center",children:qt.map((j,W)=>m.jsxs("div",{className:"bg-white/80 text-[#7a0026] rounded-xl px-2 py-0.5 font-bold text-xs whitespace-nowrap overflow-hidden text-ellipsis max-w-[70px]",children:[j.nombre," (#",j.dorsal,")"]},j.nombre))})]}),m.jsx("div",{className:"w-full max-h-[100px] overflow-y-auto",children:f.filter(j=>j.equipo==="equipo1").map((j,W)=>m.jsxs("div",{className:"flex items-center gap-1 justify-center text-base mt-1",children:[m.jsx("span",{className:"text-red-500",children:""}),m.jsx("span",{className:"font-bold whitespace-nowrap",children:j.titular}),m.jsx("span",{className:"text-green-500",children:""}),m.jsx("span",{className:"font-bold whitespace-nowrap",children:j.suplente}),m.jsxs("span",{className:"text-gray-300 text-xs",children:[j.minuto,"'"]})]},`cambio-desktop-1-${W}`))})]})]}),m.jsxs("div",{className:"w-full md:w-1/2 flex flex-row-reverse items-start justify-center",children:[m.jsxs("div",{className:"relative w-[60vw] max-w-[340px] h-[220px] md:w-[300px] md:h-[400px]",children:[m.jsx("img",{src:"/EmproChampions-2025/img/cancha-vertical.svg",alt:"cancha visita",className:"w-full h-full"}),(i.jugadores||[]).map((j,W)=>ht(j,W,i))]}),m.jsxs("div",{className:"flex flex-col items-center gap-3 mr-3 mt-0 md:mt-8 w-36",children:[m.jsx("button",{onClick:()=>N("equipo2"),className:"bg-green-500 w-full py-3 rounded-full font-bold text-lg",children:"Gol"}),m.jsx("button",{onClick:()=>K("equipo2"),className:"bg-yellow-400 w-full py-3 rounded-full font-bold text-lg text-black",children:"Tarjeta"}),m.jsx("button",{onClick:()=>ee("equipo2"),className:"bg-blue-500 w-full py-3 rounded-full font-bold text-lg",children:"Cambio"}),m.jsxs("div",{className:"mt-2 w-full",children:[m.jsx("h3",{className:"text-center font-bold text-base text-yellow-400",children:"Suplentes"}),m.jsx("div",{className:"flex flex-wrap gap-1 justify-center",children:Lt.map((j,W)=>m.jsxs("div",{className:"bg-white/80 text-[#7a0026] rounded-xl px-2 py-0.5 font-bold text-xs whitespace-nowrap overflow-hidden text-ellipsis max-w-[70px]",children:[j.nombre," (#",j.dorsal,")"]},j.nombre))})]}),m.jsx("div",{className:"w-full max-h-[100px] overflow-y-auto",children:f.filter(j=>j.equipo==="equipo2").map((j,W)=>m.jsxs("div",{className:"flex items-center gap-1 justify-center text-sm mt-1",children:[m.jsx("span",{className:"text-red-500",children:""}),m.jsx("span",{className:"font-bold whitespace-nowrap",children:j.titular}),m.jsx("span",{className:"text-green-500",children:""}),m.jsx("span",{className:"font-bold whitespace-nowrap",children:j.suplente}),m.jsxs("span",{className:"text-gray-300 text-xs",children:[j.minuto,"'"]})]},`cambio-desktop-2-${W}`))})]})]})]}),m.jsx("div",{className:"text-center mt-12",children:m.jsx("button",{onClick:q,className:"bg-yellow-500 hover:bg-yellow-600 text-black font-extrabold text-3xl px-14 py-5 rounded-full shadow-xl",children:"Finalizar Partido"})})]}),ir=()=>m.jsxs("div",{className:"flex flex-col items-center",children:[m.jsxs("div",{className:"flex flex-row items-center justify-center w-full mt-4 gap-3",children:[m.jsx("img",{src:`/EmproChampions-2025/img/escudos/${n.logo}`,className:"w-16 h-16 object-contain"}),m.jsxs("div",{className:"flex flex-col items-center justify-center",children:[m.jsxs("span",{className:"font-extrabold text-yellow-400 text-5xl leading-none drop-shadow-xl select-none",children:[o.equipo1," ",m.jsx("span",{className:"text-white",children:"-"})," ",o.equipo2]}),m.jsx("span",{className:"text-white text-2xl font-bold mt-1",children:it}),m.jsxs("div",{className:"flex justify-center gap-2 mt-2",children:[m.jsx("button",{onClick:C.iniciar,className:"bg-blue-600 text-white text-xl px-3 py-1 rounded-full",children:""}),m.jsx("button",{onClick:C.pausar,className:"bg-blue-600 text-white text-xl px-3 py-1 rounded-full",children:""}),m.jsx("button",{onClick:C.reiniciar,className:"bg-blue-600 text-white text-xl px-3 py-1 rounded-full",children:""})]})]}),m.jsx("img",{src:`/EmproChampions-2025/img/escudos/${i.logo}`,className:"w-16 h-16 object-contain"})]}),m.jsxs("div",{className:"flex flex-row w-full max-w-lg mt-3 gap-2",children:[m.jsxs("div",{className:"flex-1 max-h-[150px] overflow-y-auto",children:[" ",qs.map((j,W)=>m.jsxs("div",{className:"text-base flex items-center gap-2 justify-end",children:[m.jsx("span",{children:""}),m.jsx("span",{className:"font-bold whitespace-nowrap overflow-hidden text-ellipsis max-w-[90px]",children:j.jugador}),m.jsxs("span",{className:"ml-1 text-xs text-gray-200",children:[j.minuto,"'"]})]},W)),d.filter(j=>j.equipo==="equipo1").map((j,W)=>m.jsxs("div",{className:"text-base flex items-center gap-2 justify-end",children:[m.jsx("span",{children:j.tipo==="amarilla"?"":""}),m.jsx("span",{className:"font-bold whitespace-nowrap overflow-hidden text-ellipsis max-w-[90px]",children:j.jugador}),m.jsxs("span",{className:"ml-1 text-xs text-gray-200",children:[j.minuto,"'"]})]},`tarjeta1-m-${W}`)),f.filter(j=>j.equipo==="equipo1").map((j,W)=>m.jsxs("div",{className:"flex items-center gap-1 justify-end text-sm mt-1",children:[m.jsx("span",{className:"text-red-500",children:""}),m.jsx("span",{className:"font-bold whitespace-nowrap",children:j.titular}),m.jsx("span",{className:"text-green-500",children:""}),m.jsx("span",{className:"font-bold whitespace-nowrap",children:j.suplente}),m.jsxs("span",{className:"text-gray-300 text-xs",children:[j.minuto,"'"]})]},`cambio1-m-${W}`))]}),m.jsxs("div",{className:"flex-1 max-h-[150px] overflow-y-auto",children:[" ",Ys.map((j,W)=>m.jsxs("div",{className:"text-base flex items-center gap-2 justify-start",children:[m.jsx("span",{children:""}),m.jsx("span",{className:"font-bold whitespace-nowrap overflow-hidden text-ellipsis max-w-[90px]",children:j.jugador}),m.jsxs("span",{className:"ml-1 text-xs text-gray-200",children:[j.minuto,"'"]})]},W)),d.filter(j=>j.equipo==="equipo2").map((j,W)=>m.jsxs("div",{className:"text-base flex items-center gap-2 justify-start",children:[m.jsx("span",{children:j.tipo==="amarilla"?"":""}),m.jsx("span",{className:"font-bold whitespace-nowrap overflow-hidden text-ellipsis max-w-[90px]",children:j.jugador}),m.jsxs("span",{className:"ml-1 text-xs text-gray-200",children:[j.minuto,"'"]})]},`tarjeta2-m-${W}`)),f.filter(j=>j.equipo==="equipo2").map((j,W)=>m.jsxs("div",{className:"flex items-center gap-1 justify-start text-sm mt-1",children:[m.jsx("span",{className:"text-red-500",children:""}),m.jsx("span",{className:"font-bold whitespace-nowrap",children:j.titular}),m.jsx("span",{className:"text-green-500",children:""}),m.jsx("span",{className:"font-bold whitespace-nowrap",children:j.suplente}),m.jsxs("span",{className:"text-gray-300 text-xs",children:[j.minuto,"'"]})]},`cambio2-m-${W}`))]})]}),m.jsxs("div",{className:"w-full flex flex-col items-center gap-3 mt-6 max-w-[250px]",children:[m.jsx("button",{onClick:()=>N("equipo1"),className:"bg-green-500 w-full py-3 rounded-full font-bold text-lg",children:"Gol Equipo 1"}),m.jsx("button",{onClick:()=>K("equipo1"),className:"bg-yellow-400 w-full py-3 rounded-full font-bold text-lg text-black",children:"Tarjeta Equipo 1"}),m.jsx("button",{onClick:()=>ee("equipo1"),className:"bg-blue-500 w-full py-3 rounded-full font-bold text-lg",children:"Cambio Equipo 1"}),m.jsxs("div",{className:"mt-1 w-full",children:[m.jsx("h3",{className:"text-center font-bold text-base text-yellow-400",children:"Suplentes"}),m.jsx("div",{className:"flex flex-wrap gap-1 justify-center",children:qt.map((j,W)=>m.jsxs("div",{className:"bg-white/80 text-[#7a0026] rounded-xl px-2 py-0.5 font-bold text-xs whitespace-nowrap overflow-hidden text-ellipsis max-w-[70px]",children:[j.nombre," (#",j.dorsal,")"]},j.nombre))})]}),m.jsx("div",{className:"w-full max-h-[100px] overflow-y-auto",children:f.filter(j=>j.equipo==="equipo1").map((j,W)=>m.jsxs("div",{className:"flex items-center gap-1 justify-center text-sm mt-1",children:[m.jsx("span",{className:"text-red-500",children:""}),m.jsx("span",{className:"font-bold whitespace-nowrap",children:j.titular}),m.jsx("span",{className:"text-green-500",children:""}),m.jsx("span",{className:"font-bold whitespace-nowrap",children:j.suplente}),m.jsxs("span",{className:"text-gray-300 text-xs",children:[j.minuto,"'"]})]},`cambio-movil-1-${W}`))}),m.jsx("button",{onClick:()=>N("equipo2"),className:"bg-green-500 w-full py-3 rounded-full font-bold text-lg",children:"Gol Equipo 2"}),m.jsx("button",{onClick:()=>K("equipo2"),className:"bg-yellow-400 w-full py-3 rounded-full font-bold text-lg text-black",children:"Tarjeta Equipo 2"}),m.jsx("button",{onClick:()=>ee("equipo2"),className:"bg-blue-500 w-full py-3 rounded-full font-bold text-lg",children:"Cambio Equipo 2"}),m.jsxs("div",{className:"mt-1 w-full",children:[m.jsx("h3",{className:"text-center font-bold text-base text-yellow-400",children:"Suplentes"}),m.jsx("div",{className:"flex flex-wrap gap-1 justify-center",children:Lt.map((j,W)=>m.jsxs("div",{className:"bg-white/80 text-[#7a0026] rounded-xl px-2 py-0.5 font-bold text-xs whitespace-nowrap overflow-hidden text-ellipsis max-w-[70px]",children:[j.nombre," (#",j.dorsal,")"]},j.nombre))})]}),m.jsx("div",{className:"w-full max-h-[100px] overflow-y-auto",children:f.filter(j=>j.equipo==="equipo2").map((j,W)=>m.jsxs("div",{className:"flex items-center gap-1 justify-center text-sm mt-1",children:[m.jsx("span",{className:"text-red-500",children:""}),m.jsx("span",{className:"font-bold whitespace-nowrap",children:j.titular}),m.jsx("span",{className:"text-green-500",children:""}),m.jsx("span",{className:"font-bold whitespace-nowrap",children:j.suplente}),m.jsxs("span",{className:"text-gray-300 text-xs",children:[j.minuto,"'"]})]},`cambio-movil-2-${W}`))})]}),m.jsx("div",{className:"text-center mt-8",children:m.jsx("button",{onClick:q,className:"bg-yellow-500 hover:bg-yellow-600 text-black font-extrabold text-2xl px-10 py-4 rounded-full shadow-xl",children:"Finalizar Partido"})})]});return m.jsxs("div",{className:"w-full min-h-screen bg-cover bg-center text-white font-qatar px-2 md:px-8 py-4",style:{backgroundImage:"url('/img/fondoempro-horizontal.png')"},children:[m.jsx(Ks,{}),I?ir():Yt(),w&&n&&i&&m.jsx(HU,{equipo:w,jugadores:w==="equipo1"?n.jugadores:i.jugadores,minuto:it,onSeleccion:G,onClose:()=>{S(null),C.iniciar()}}),P&&m.jsx(GU,{equipo:P,jugadores:P==="equipo1"?n.jugadores:i.jugadores,minuto:it,onConfirm:Z,onClose:()=>_(null)}),E&&m.jsx(KU,{equipo:E,jugadores:E==="equipo1"?n.todosJugadores:i.todosJugadores,minuto:it,onConfirm:B,onClose:()=>x(null)}),A&&m.jsx(qU,{equipoGanador:ye(),equipo1:n,equipo2:i,onClose:X}),M&&m.jsx(iR,{mensaje:M.mensaje,tipo:M.tipo})]})}function QU(){const[t,e]=k.useState([]),[n,r]=k.useState("masculino"),[i,s]=k.useState({});k.useEffect(()=>{const a=le(oe,`goleadoresDetalles/${n}`);Ar(a,l=>{const c=l.val();if(c){const d={};Object.entries(c).forEach(([f,v])=>{Array.isArray(v)&&v.forEach(w=>{d[w.jugador]||(d[w.jugador]={equipo:w.equipo,goles:0,detalles:[],logo:w.logo||"default.png"}),d[w.jugador].goles++,d[w.jugador].detalles.push({minuto:w.minuto,partido:w.partido,fecha:w.fecha})})});const h=Object.entries(d).map(([f,v])=>({jugador:f,...v})).sort((f,v)=>v.goles-f.goles);e(h)}else e([])})},[n]);const o=a=>{s(l=>({...l,[a]:!l[a]}))};return m.jsxs("div",{className:"min-h-screen bg-cover bg-center text-white font-qatar",style:{backgroundImage:"url('/EmproChampions-2025/img/fondoempro-horizontal.png')"},children:[m.jsx(Ks,{}),m.jsxs("div",{className:"text-center py-6",children:[m.jsx("img",{src:"/EmproChampions-2025/img/logo3.png",alt:"Mximos Goleadores",className:"mx-auto w-auto px-8 mb-4"}),m.jsxs("button",{onClick:()=>r(n==="masculino"?"femenino":"masculino"),className:"bg-yellow-400 text-[#7a0026] font-bold px-6 py-2 rounded-full",children:["Cambiar a ",n==="masculino"?"Femenino":"Masculino"]})]}),m.jsx("div",{className:"max-w-4xl mx-auto px-4 pb-10",children:t.length===0?m.jsx("p",{className:"text-center text-xl",children:"No hay goles registrados an."}):m.jsxs("table",{className:"w-full border-collapse text-left",children:[m.jsx("thead",{children:m.jsxs("tr",{className:"bg-[#FFD700] text-[#7a0026]",children:[m.jsx("th",{className:"px-4 py-2",children:"#"}),m.jsx("th",{className:"px-4 py-2",children:"Jugador"}),m.jsx("th",{className:"px-4 py-2",children:"Equipo"}),m.jsx("th",{className:"px-4 py-2",children:"Goles"}),m.jsx("th",{className:"px-4 py-2",children:"Detalles"})]})}),m.jsx("tbody",{children:t.map((a,l)=>m.jsxs(vi.Fragment,{children:[m.jsxs("tr",{className:"bg-white text-black border-b border-[#C72C48]",children:[m.jsx("td",{className:"px-4 py-3",children:l+1}),m.jsx("td",{className:"px-4 py-3 font-bold",children:a.jugador}),m.jsxs("td",{className:"px-4 py-3 flex items-center gap-2",children:[m.jsx("img",{src:`/EmproChampions-2025/img/escudos/${a.logo}`,alt:a.equipo,className:"w-6 h-6 object-contain"}),a.equipo]}),m.jsxs("td",{className:"px-4 py-3 font-extrabold text-[#7a0026]",children:[a.goles," "]}),m.jsx("td",{className:"px-4 py-3",children:m.jsx("button",{onClick:()=>o(a.jugador),className:"btn-detalle",children:i[a.jugador]?"Ocultar":"Ver detalles"})})]}),i[a.jugador]&&m.jsx("tr",{children:m.jsx("td",{colSpan:"5",children:m.jsx("div",{className:"detalles",children:a.detalles.length===0?"<em>Sin detalles registrados</em>":a.detalles.map((c,d)=>m.jsxs("div",{className:"detalle-item",children:[" ",m.jsx("strong",{children:c.fecha}),m.jsx("br",{})," ",c.partido,m.jsx("br",{})," Min ",c.minuto]},d))})})})]},a.jugador))})]})})]})}function ZU(){const[t,e]=k.useState([]),[n,r]=k.useState("masculino"),[i,s]=k.useState({});k.useEffect(()=>{const a=le(oe,`historial/${n}`);Ar(a,l=>{const c=l.val();if(c){const d=Object.entries(c).map(([h,f])=>({id:h,...f})).sort((h,f)=>new Date(f.fecha)-new Date(h.fecha));e(d)}else e([])})},[n]);const o=a=>{s(l=>({...l,[a]:!l[a]}))};return m.jsxs("div",{className:"min-h-screen bg-cover bg-center text-white font-qatar",style:{backgroundImage:"url('/EmproChampions-2025/img/fondoempro-horizontal.png')"},children:[m.jsx(Ks,{}),m.jsxs("div",{className:"text-center py-6",children:[m.jsx("img",{src:"/EmproChampions-2025/img/logo4.png",alt:"Historial de Partidos",className:"mx-auto w-auto px-8 mb-4"}),m.jsxs("button",{onClick:()=>r(n==="masculino"?"femenino":"masculino"),className:"bg-yellow-400 text-[#7a0026] font-bold px-6 py-2 rounded-full",children:["Cambiar a ",n==="masculino"?"Femenino":"Masculino"]})]}),m.jsx("div",{className:"max-w-4xl mx-auto px-4 pb-10 space-y-4",children:t.length===0?m.jsx("p",{className:"text-center text-xl",children:"No hay partidos registrados an."}):t.map(a=>m.jsxs("div",{className:`rounded-lg p-4 bg-white text-black shadow relative flex flex-col md:flex-row justify-between gap-3 md:gap-6 ${n==="masculino"?"md:items-start":"md:items-end"}`,children:[m.jsxs("div",{className:"flex flex-col",children:[m.jsx("p",{className:"text-sm text-gray-600",children:a.fecha}),m.jsxs("p",{className:"text-lg font-bold",children:[a.equipo1," vs ",a.equipo2]}),m.jsxs("p",{className:"text-xl font-extrabold text-[#7a0026]",children:[a.goles1," - ",a.goles2]}),m.jsxs("p",{className:"text-sm",children:["Minutos jugados: ",a.minutos]})]}),m.jsxs("div",{className:"text-right md:text-left",children:[m.jsx("button",{onClick:()=>o(a.id),className:"text-sm text-blue-600 underline",children:i[a.id]?"Ocultar":"Ver ms"}),i[a.id]&&a.detalles&&m.jsx("ul",{className:"mt-2 text-sm list-disc pl-4",children:a.detalles.map((l,c)=>m.jsxs("li",{children:[l.tipo,": ",l.jugador," (",l.minuto,")"]},c))})]})]},a.id))})]})}const e9=[{nombre:"Atrapados",escudo:"/EmproChampions-2025/img/escudos/atrapados.png"},{nombre:"Bosco",escudo:"/EmproChampions-2025/img/escudos/bosco.png"},{nombre:"Emprosaurios",escudo:"/EmproChampions-2025/img/escudos/emprosaurios.png"},{nombre:"Huellas",escudo:"/EmproChampions-2025/img/escudos/huellas.png"},{nombre:"Luz",escudo:"/EmproChampions-2025/img/escudos/luz.png"},{nombre:"Mensajeros",escudo:"/EmproChampions-2025/img/escudos/mensajeros.png"}],t9=[{nombre:"Atrapados",escudo:"/EmproChampions-2025/img/escudos/atrapados.png"},{nombre:"Bosco",escudo:"/EmproChampions-2025/img/escudos/bosco.png"},{nombre:"Huellas",escudo:"/EmproChampions-2025/img/escudos/huellas.png"},{nombre:"Luz",escudo:"/EmproChampions-2025/img/escudos/luz.png"},{nombre:"Mensajeros",escudo:"/EmproChampions-2025/img/escudos/mensajeros.png"}];function $E(){const[t,e]=k.useState("masculino"),n=Gi(),r=t==="masculino"?e9:t9,[i,s]=k.useState(0),[o,a]=k.useState(1),[l,c]=k.useState(!0),[d,h]=k.useState(!0),f=(w,S)=>{const P=r.length;w==="local"?(c(!1),setTimeout(()=>{s(_=>(_+S+P)%P),c(!0)},150)):(h(!1),setTimeout(()=>{a(_=>(_+S+P)%P),h(!0)},150))},v=async()=>{const w=r[i],S=r[o];await At(le(oe,"selecciones/equipoLocal"),w),await At(le(oe,"selecciones/equipoVisita"),S),await At(le(oe,"selecciones/generoPartido"),t),n("/alineacion")};return m.jsxs("div",{className:"min-h-screen bg-cover bg-center font-qatar text-white flex flex-col",style:{backgroundImage:"url('/EmproChampions-2025/img/fondoempro-horizontal.png')"},children:[m.jsx(Ks,{}),m.jsxs("div",{className:"flex justify-center gap-4 mt-6",children:[m.jsx("button",{onClick:()=>{e("masculino"),s(0),a(1)},className:`px-4 py-2 font-bold rounded-full border-2 ${t==="masculino"?"bg-[#FFD700] text-[#7a0026] border-yellow-400":"bg-transparent border-white text-white"} transition`,children:"Masculino"}),m.jsx("button",{onClick:()=>{e("femenino"),s(0),a(1)},className:`px-4 py-2 font-bold rounded-full border-2 ${t==="femenino"?"bg-[#FFD700] text-[#7a0026] border-yellow-400":"bg-transparent border-white text-white"} transition`,children:"Femenino"})]}),m.jsx("h1",{className:"text-3xl sm:text-4xl font-bold text-center mt-6 text-yellow-400 drop-shadow",children:"Seleccin de Equipos"}),m.jsx("div",{className:"flex flex-col items-center justify-center px-6",children:m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-10 mt-6 mx-auto px-4 max-w-6xl",children:[m.jsxs("div",{className:"flex flex-col bg-white/90 rounded-2xl p-8 w-full max-w-[460px] text-[#7a0026] shadow-xl transition-all duration-300 min-h-[460px] justify-center items-center",children:[m.jsx("h2",{className:"font-bold text-2xl mb-4",children:"Equipo Local"}),m.jsxs("div",{className:`flex flex-col items-center transition-opacity duration-300 ease-in-out ${l?"opacity-100":"opacity-0"}`,children:[m.jsx("img",{src:r[i].escudo,alt:r[i].nombre,className:"w-32 h-32 object-contain mb-4 drop-shadow-md"}),m.jsx("p",{className:"text-3xl font-black",children:r[i].nombre})]}),m.jsxs("div",{className:"flex gap-10 mt-6",children:[m.jsx("button",{onClick:()=>f("local",-1),className:"text-4xl text-[#FFD700] hover:scale-110 transition",children:""}),m.jsx("button",{onClick:()=>f("local",1),className:"text-4xl text-[#FFD700] hover:scale-110 transition",children:""})]})]}),m.jsxs("div",{className:"flex flex-col bg-white/90 rounded-2xl p-8 w-full max-w-[460px] text-[#7a0026] shadow-xl transition-all duration-300 min-h-[460px] justify-center items-center",children:[m.jsx("h2",{className:"font-bold text-2xl mb-4",children:"Equipo Visitante"}),m.jsxs("div",{className:`flex flex-col items-center transition-opacity duration-300 ease-in-out ${d?"opacity-100":"opacity-0"}`,children:[m.jsx("img",{src:r[o].escudo,alt:r[o].nombre,className:"w-32 h-32 object-contain mb-4 drop-shadow-md"}),m.jsx("p",{className:"text-3xl font-black",children:r[o].nombre})]}),m.jsxs("div",{className:"flex gap-10 mt-6",children:[m.jsx("button",{onClick:()=>f("visita",-1),className:"text-4xl text-[#FFD700] hover:scale-110 transition",children:""}),m.jsx("button",{onClick:()=>f("visita",1),className:"text-4xl text-[#FFD700] hover:scale-110 transition",children:""})]})]})]})}),m.jsx("div",{className:"flex justify-center mt-12 mb-20",children:m.jsx("button",{onClick:v,className:"bg-[#FFD700] text-[#7a0026] font-bold px-10 py-4 rounded-full hover:bg-yellow-300 transition text-xl shadow-lg",children:"Siguiente"})})]})}const n9=[{nombre:"Juan Prez",dorsal:7,genero:"masculino"},{nombre:"Carlos Torres",dorsal:10,genero:"masculino"},{nombre:"Luis Lpez",dorsal:5,genero:"masculino"},{nombre:"Mario Paz",dorsal:11,genero:"masculino"},{nombre:"Erick Rodrguez",dorsal:2,genero:"masculino"},{nombre:"Erick 2",dorsal:0,genero:"masculino"},{nombre:"Antonio Daz",dorsal:4,genero:"masculino"},{nombre:"Sofia Garca",dorsal:1,genero:"femenino"},{nombre:"Valeria Castro",dorsal:9,genero:"femenino"}],r9=[{nombre:"Andrs Gutirrez",dorsal:3,genero:"masculino"},{nombre:"David Martnez",dorsal:1,genero:"masculino"},{nombre:"Pedro Ramrez",dorsal:8,genero:"masculino"},{nombre:"Fernando Vargas",dorsal:9,genero:"masculino"},{nombre:"Ral Cruz",dorsal:6,genero:"masculino"},{nombre:"Erick Rodrguez",dorsal:2,genero:"masculino"},{nombre:"Mauricio Salinas",dorsal:14,genero:"masculino"},{nombre:"Ana Lpez",dorsal:2,genero:"femenino"},{nombre:"Mara Prez",dorsal:10,genero:"femenino"}],i9=[{nombre:"Saurio Uno",dorsal:21,genero:"masculino"},{nombre:"Saurio Dos",dorsal:22,genero:"masculino"},{nombre:"Saurio Tres",dorsal:23,genero:"masculino"},{nombre:"Saurio Cuatro",dorsal:24,genero:"masculino"},{nombre:"Saurio Cinco",dorsal:25,genero:"masculino"},{nombre:"Saurio Seis",dorsal:26,genero:"masculino"}],s9=[{nombre:"Diego Muoz",dorsal:2,genero:"masculino"},{nombre:"Bryan Meja",dorsal:5,genero:"masculino"},{nombre:"Samuel Rivera",dorsal:8,genero:"masculino"},{nombre:"Kevin Palacios",dorsal:7,genero:"masculino"},{nombre:"Jos Martnez",dorsal:13,genero:"masculino"},{nombre:"Ricardo Castillo",dorsal:17,genero:"masculino"},{nombre:"Laura Ruiz",dorsal:3,genero:"femenino"},{nombre:"Andrea Soto",dorsal:6,genero:"femenino"}],o9=[{nombre:"Oscar Varela",dorsal:4,genero:"masculino"},{nombre:"David Salgado",dorsal:12,genero:"masculino"},{nombre:"Enrique Orellana",dorsal:9,genero:"masculino"},{nombre:"Manuel Molina",dorsal:3,genero:"masculino"},{nombre:"Javier Castro",dorsal:16,genero:"masculino"},{nombre:"Julio Soto",dorsal:18,genero:"masculino"},{nombre:"Daniela Paz",dorsal:4,genero:"femenino"},{nombre:"Camila Vargas",dorsal:11,genero:"femenino"}],a9=[{nombre:"Cristian Ayala",dorsal:19,genero:"masculino"},{nombre:"Luis Mndez",dorsal:6,genero:"masculino"},{nombre:"lvaro Salinas",dorsal:11,genero:"masculino"},{nombre:"Sergio Paz",dorsal:8,genero:"masculino"},{nombre:"Oscar Aguilar",dorsal:20,genero:"masculino"},{nombre:"Juan Martnez",dorsal:15,genero:"masculino"},{nombre:"Natalia Daz",dorsal:5,genero:"femenino"},{nombre:"Paula Meja",dorsal:8,genero:"femenino"}],pl={atrapados:n9,bosco:r9,emprosaurios:i9,huellas:s9,luz:o9,mensajeros:a9};function l9({tipo:t,index:e,jugador:n,onSave:r,onClose:i,camiseta:s,dorsalColor:o,jugadoresActuales:a,nombreEquipo:l}){const c=l==null?void 0:l.toLowerCase(),d=pl[c]||[],h=a.filter((_,E)=>E!==e&&_.nombre).map(_=>_.nombre),f=d.filter(_=>!h.includes(_.nombre)),v=n&&n.nombre&&n.dorsal?`${n.nombre}|${n.dorsal}`:"",[w,S]=k.useState(v),P=()=>{if(!w)return;const[_,E]=w.split("|");r(e,t,{nombre:_,dorsal:E})};return m.jsx("div",{className:"fixed inset-0 flex items-center justify-center z-50 bg-black/50",children:m.jsxs("div",{className:"bg-white rounded-xl shadow-xl p-6 text-black relative w-80 md:w-96 mx-auto",children:[m.jsx("button",{onClick:i,className:"absolute top-3 right-3 text-[#7a0026] font-bold text-xl",title:"Cerrar",children:""}),m.jsx("div",{className:"flex flex-col items-center mb-4",children:m.jsx("img",{src:s,alt:"camiseta",className:"w-16 h-16 mb-2"})}),m.jsx("label",{className:"block font-bold mb-1 text-[#7a0026]",children:"Jugador"}),m.jsxs("select",{className:"w-full px-4 py-2 border rounded",value:w,onChange:_=>S(_.target.value),children:[m.jsx("option",{value:"",children:"Selecciona un jugador"}),f.map(_=>m.jsxs("option",{value:`${_.nombre}|${_.dorsal}`,children:[_.nombre," (#",_.dorsal,")"]},_.dorsal+_.nombre))]}),m.jsx("button",{disabled:!w,onClick:P,className:"w-full bg-[#FFD700] text-[#7a0026] font-bold py-2 rounded mt-4 hover:bg-yellow-400 transition disabled:bg-gray-400",children:"Guardar"}),m.jsx("button",{onClick:i,className:"w-full bg-gray-300 text-[#7a0026] font-bold py-2 rounded mt-2 hover:bg-gray-400 transition",children:"Cancelar"})]})})}const G0=k.createContext({});function K0(t){const e=k.useRef(null);return e.current===null&&(e.current=t()),e.current}const q0=typeof window<"u",sR=q0?k.useLayoutEffect:k.useEffect,xf=k.createContext(null);function Y0(t,e){t.indexOf(e)===-1&&t.push(e)}function X0(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const Xr=(t,e,n)=>n>e?e:n<t?t:n;let J0=()=>{};const Jr={},oR=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t);function aR(t){return typeof t=="object"&&t!==null}const lR=t=>/^0[^.\s]+$/u.test(t);function Q0(t){let e;return()=>(e===void 0&&(e=t()),e)}const Rn=t=>t,c9=(t,e)=>n=>e(t(n)),Qc=(...t)=>t.reduce(c9),wc=(t,e,n)=>{const r=e-t;return r===0?1:(n-t)/r};class Z0{constructor(){this.subscriptions=[]}add(e){return Y0(this.subscriptions,e),()=>X0(this.subscriptions,e)}notify(e,n,r){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](e,n,r);else for(let s=0;s<i;s++){const o=this.subscriptions[s];o&&o(e,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const gr=t=>t*1e3,yr=t=>t/1e3;function cR(t,e){return e?t*(1e3/e):0}const uR=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,u9=1e-7,d9=12;function h9(t,e,n,r,i){let s,o,a=0;do o=e+(n-e)/2,s=uR(o,r,i)-t,s>0?n=o:e=o;while(Math.abs(s)>u9&&++a<d9);return o}function Zc(t,e,n,r){if(t===e&&n===r)return Rn;const i=s=>h9(s,0,1,t,n);return s=>s===0||s===1?s:uR(i(s),e,r)}const dR=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,hR=t=>e=>1-t(1-e),fR=Zc(.33,1.53,.69,.99),e_=hR(fR),pR=dR(e_),mR=t=>(t*=2)<1?.5*e_(t):.5*(2-Math.pow(2,-10*(t-1))),t_=t=>1-Math.sin(Math.acos(t)),gR=hR(t_),yR=dR(t_),f9=Zc(.42,0,1,1),p9=Zc(0,0,.58,1),vR=Zc(.42,0,.58,1),m9=t=>Array.isArray(t)&&typeof t[0]!="number",_R=t=>Array.isArray(t)&&typeof t[0]=="number",g9={linear:Rn,easeIn:f9,easeInOut:vR,easeOut:p9,circIn:t_,circInOut:yR,circOut:gR,backIn:e_,backInOut:pR,backOut:fR,anticipate:mR},y9=t=>typeof t=="string",VE=t=>{if(_R(t)){J0(t.length===4);const[e,n,r,i]=t;return Zc(e,n,r,i)}else if(y9(t))return g9[t];return t},zu=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"],UE={value:null,addProjectionMetrics:null};function v9(t,e){let n=new Set,r=new Set,i=!1,s=!1;const o=new WeakSet;let a={delta:0,timestamp:0,isProcessing:!1},l=0;function c(h){o.has(h)&&(d.schedule(h),t()),l++,h(a)}const d={schedule:(h,f=!1,v=!1)=>{const S=v&&i?n:r;return f&&o.add(h),S.has(h)||S.add(h),h},cancel:h=>{r.delete(h),o.delete(h)},process:h=>{if(a=h,i){s=!0;return}i=!0,[n,r]=[r,n],n.forEach(c),e&&UE.value&&UE.value.frameloop[e].push(l),l=0,n.clear(),i=!1,s&&(s=!1,d.process(h))}};return d}const _9=40;function wR(t,e){let n=!1,r=!0;const i={delta:0,timestamp:0,isProcessing:!1},s=()=>n=!0,o=zu.reduce((x,A)=>(x[A]=v9(s,e?A:void 0),x),{}),{setup:a,read:l,resolveKeyframes:c,preUpdate:d,update:h,preRender:f,render:v,postRender:w}=o,S=()=>{const x=Jr.useManualTiming?i.timestamp:performance.now();n=!1,Jr.useManualTiming||(i.delta=r?1e3/60:Math.max(Math.min(x-i.timestamp,_9),1)),i.timestamp=x,i.isProcessing=!0,a.process(i),l.process(i),c.process(i),d.process(i),h.process(i),f.process(i),v.process(i),w.process(i),i.isProcessing=!1,n&&e&&(r=!1,t(S))},P=()=>{n=!0,r=!0,i.isProcessing||t(S)};return{schedule:zu.reduce((x,A)=>{const D=o[A];return x[A]=(M,b=!1,C=!1)=>(n||P(),D.schedule(M,b,C)),x},{}),cancel:x=>{for(let A=0;A<zu.length;A++)o[zu[A]].cancel(x)},state:i,steps:o}}const{schedule:$e,cancel:Vi,state:yt,steps:lm}=wR(typeof requestAnimationFrame<"u"?requestAnimationFrame:Rn,!0);let yd;function w9(){yd=void 0}const rn={now:()=>(yd===void 0&&rn.set(yt.isProcessing||Jr.useManualTiming?yt.timestamp:performance.now()),yd),set:t=>{yd=t,queueMicrotask(w9)}},xR=t=>e=>typeof e=="string"&&e.startsWith(t),n_=xR("--"),x9=xR("var(--"),r_=t=>x9(t)?E9.test(t.split("/*")[0].trim()):!1,E9=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,ba={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},xc={...ba,transform:t=>Xr(0,1,t)},Wu={...ba,default:1},Ll=t=>Math.round(t*1e5)/1e5,i_=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function C9(t){return t==null}const S9=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,s_=(t,e)=>n=>!!(typeof n=="string"&&S9.test(n)&&n.startsWith(t)||e&&!C9(n)&&Object.prototype.hasOwnProperty.call(n,e)),ER=(t,e,n)=>r=>{if(typeof r!="string")return r;const[i,s,o,a]=r.match(i_);return{[t]:parseFloat(i),[e]:parseFloat(s),[n]:parseFloat(o),alpha:a!==void 0?parseFloat(a):1}},b9=t=>Xr(0,255,t),cm={...ba,transform:t=>Math.round(b9(t))},_s={test:s_("rgb","red"),parse:ER("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:r=1})=>"rgba("+cm.transform(t)+", "+cm.transform(e)+", "+cm.transform(n)+", "+Ll(xc.transform(r))+")"};function T9(t){let e="",n="",r="",i="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),r=t.substring(5,7),i=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),r=t.substring(3,4),i=t.substring(4,5),e+=e,n+=n,r+=r,i+=i),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}}const Qg={test:s_("#"),parse:T9,transform:_s.transform},eu=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),ui=eu("deg"),vr=eu("%"),Q=eu("px"),k9=eu("vh"),I9=eu("vw"),BE=(()=>({...vr,parse:t=>vr.parse(t)/100,transform:t=>vr.transform(t*100)}))(),bo={test:s_("hsl","hue"),parse:ER("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:r=1})=>"hsla("+Math.round(t)+", "+vr.transform(Ll(e))+", "+vr.transform(Ll(n))+", "+Ll(xc.transform(r))+")"},Pt={test:t=>_s.test(t)||Qg.test(t)||bo.test(t),parse:t=>_s.test(t)?_s.parse(t):bo.test(t)?bo.parse(t):Qg.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?_s.transform(t):bo.transform(t)},P9=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function R9(t){var e,n;return isNaN(t)&&typeof t=="string"&&(((e=t.match(i_))==null?void 0:e.length)||0)+(((n=t.match(P9))==null?void 0:n.length)||0)>0}const CR="number",SR="color",A9="var",N9="var(",zE="${}",D9=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Ec(t){const e=t.toString(),n=[],r={color:[],number:[],var:[]},i=[];let s=0;const a=e.replace(D9,l=>(Pt.test(l)?(r.color.push(s),i.push(SR),n.push(Pt.parse(l))):l.startsWith(N9)?(r.var.push(s),i.push(A9),n.push(l)):(r.number.push(s),i.push(CR),n.push(parseFloat(l))),++s,zE)).split(zE);return{values:n,split:a,indexes:r,types:i}}function bR(t){return Ec(t).values}function TR(t){const{split:e,types:n}=Ec(t),r=e.length;return i=>{let s="";for(let o=0;o<r;o++)if(s+=e[o],i[o]!==void 0){const a=n[o];a===CR?s+=Ll(i[o]):a===SR?s+=Pt.transform(i[o]):s+=i[o]}return s}}const O9=t=>typeof t=="number"?0:t;function M9(t){const e=bR(t);return TR(t)(e.map(O9))}const Ui={test:R9,parse:bR,createTransformer:TR,getAnimatableNone:M9};function um(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function L9({hue:t,saturation:e,lightness:n,alpha:r}){t/=360,e/=100,n/=100;let i=0,s=0,o=0;if(!e)i=s=o=n;else{const a=n<.5?n*(1+e):n+e-n*e,l=2*n-a;i=um(l,a,t+1/3),s=um(l,a,t),o=um(l,a,t-1/3)}return{red:Math.round(i*255),green:Math.round(s*255),blue:Math.round(o*255),alpha:r}}function Th(t,e){return n=>n>0?e:t}const je=(t,e,n)=>t+(e-t)*n,dm=(t,e,n)=>{const r=t*t,i=n*(e*e-r)+r;return i<0?0:Math.sqrt(i)},j9=[Qg,_s,bo],F9=t=>j9.find(e=>e.test(t));function WE(t){const e=F9(t);if(!e)return!1;let n=e.parse(t);return e===bo&&(n=L9(n)),n}const HE=(t,e)=>{const n=WE(t),r=WE(e);if(!n||!r)return Th(t,e);const i={...n};return s=>(i.red=dm(n.red,r.red,s),i.green=dm(n.green,r.green,s),i.blue=dm(n.blue,r.blue,s),i.alpha=je(n.alpha,r.alpha,s),_s.transform(i))},Zg=new Set(["none","hidden"]);function $9(t,e){return Zg.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function V9(t,e){return n=>je(t,e,n)}function o_(t){return typeof t=="number"?V9:typeof t=="string"?r_(t)?Th:Pt.test(t)?HE:z9:Array.isArray(t)?kR:typeof t=="object"?Pt.test(t)?HE:U9:Th}function kR(t,e){const n=[...t],r=n.length,i=t.map((s,o)=>o_(s)(s,e[o]));return s=>{for(let o=0;o<r;o++)n[o]=i[o](s);return n}}function U9(t,e){const n={...t,...e},r={};for(const i in n)t[i]!==void 0&&e[i]!==void 0&&(r[i]=o_(t[i])(t[i],e[i]));return i=>{for(const s in r)n[s]=r[s](i);return n}}function B9(t,e){const n=[],r={color:0,var:0,number:0};for(let i=0;i<e.values.length;i++){const s=e.types[i],o=t.indexes[s][r[s]],a=t.values[o]??0;n[i]=a,r[s]++}return n}const z9=(t,e)=>{const n=Ui.createTransformer(e),r=Ec(t),i=Ec(e);return r.indexes.var.length===i.indexes.var.length&&r.indexes.color.length===i.indexes.color.length&&r.indexes.number.length>=i.indexes.number.length?Zg.has(t)&&!i.values.length||Zg.has(e)&&!r.values.length?$9(t,e):Qc(kR(B9(r,i),i.values),n):Th(t,e)};function IR(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?je(t,e,n):o_(t)(t,e)}const W9=t=>{const e=({timestamp:n})=>t(n);return{start:(n=!0)=>$e.update(e,n),stop:()=>Vi(e),now:()=>yt.isProcessing?yt.timestamp:rn.now()}},PR=(t,e,n=10)=>{let r="";const i=Math.max(Math.round(e/n),2);for(let s=0;s<i;s++)r+=t(s/(i-1))+", ";return`linear(${r.substring(0,r.length-2)})`},kh=2e4;function a_(t){let e=0;const n=50;let r=t.next(e);for(;!r.done&&e<kh;)e+=n,r=t.next(e);return e>=kh?1/0:e}function H9(t,e=100,n){const r=n({...t,keyframes:[0,e]}),i=Math.min(a_(r),kh);return{type:"keyframes",ease:s=>r.next(i*s).value/e,duration:yr(i)}}const G9=5;function RR(t,e,n){const r=Math.max(e-G9,0);return cR(n-t(r),e-r)}const ze={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},hm=.001;function K9({duration:t=ze.duration,bounce:e=ze.bounce,velocity:n=ze.velocity,mass:r=ze.mass}){let i,s,o=1-e;o=Xr(ze.minDamping,ze.maxDamping,o),t=Xr(ze.minDuration,ze.maxDuration,yr(t)),o<1?(i=c=>{const d=c*o,h=d*t,f=d-n,v=ey(c,o),w=Math.exp(-h);return hm-f/v*w},s=c=>{const h=c*o*t,f=h*n+n,v=Math.pow(o,2)*Math.pow(c,2)*t,w=Math.exp(-h),S=ey(Math.pow(c,2),o);return(-i(c)+hm>0?-1:1)*((f-v)*w)/S}):(i=c=>{const d=Math.exp(-c*t),h=(c-n)*t+1;return-hm+d*h},s=c=>{const d=Math.exp(-c*t),h=(n-c)*(t*t);return d*h});const a=5/t,l=Y9(i,s,a);if(t=gr(t),isNaN(l))return{stiffness:ze.stiffness,damping:ze.damping,duration:t};{const c=Math.pow(l,2)*r;return{stiffness:c,damping:o*2*Math.sqrt(r*c),duration:t}}}const q9=12;function Y9(t,e,n){let r=n;for(let i=1;i<q9;i++)r=r-t(r)/e(r);return r}function ey(t,e){return t*Math.sqrt(1-e*e)}const X9=["duration","bounce"],J9=["stiffness","damping","mass"];function GE(t,e){return e.some(n=>t[n]!==void 0)}function Q9(t){let e={velocity:ze.velocity,stiffness:ze.stiffness,damping:ze.damping,mass:ze.mass,isResolvedFromDuration:!1,...t};if(!GE(t,J9)&&GE(t,X9))if(t.visualDuration){const n=t.visualDuration,r=2*Math.PI/(n*1.2),i=r*r,s=2*Xr(.05,1,1-(t.bounce||0))*Math.sqrt(i);e={...e,mass:ze.mass,stiffness:i,damping:s}}else{const n=K9(t);e={...e,...n,mass:ze.mass},e.isResolvedFromDuration=!0}return e}function Ih(t=ze.visualDuration,e=ze.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:r,restDelta:i}=n;const s=n.keyframes[0],o=n.keyframes[n.keyframes.length-1],a={done:!1,value:s},{stiffness:l,damping:c,mass:d,duration:h,velocity:f,isResolvedFromDuration:v}=Q9({...n,velocity:-yr(n.velocity||0)}),w=f||0,S=c/(2*Math.sqrt(l*d)),P=o-s,_=yr(Math.sqrt(l/d)),E=Math.abs(P)<5;r||(r=E?ze.restSpeed.granular:ze.restSpeed.default),i||(i=E?ze.restDelta.granular:ze.restDelta.default);let x;if(S<1){const D=ey(_,S);x=M=>{const b=Math.exp(-S*_*M);return o-b*((w+S*_*P)/D*Math.sin(D*M)+P*Math.cos(D*M))}}else if(S===1)x=D=>o-Math.exp(-_*D)*(P+(w+_*P)*D);else{const D=_*Math.sqrt(S*S-1);x=M=>{const b=Math.exp(-S*_*M),C=Math.min(D*M,300);return o-b*((w+S*_*P)*Math.sinh(C)+D*P*Math.cosh(C))/D}}const A={calculatedDuration:v&&h||null,next:D=>{const M=x(D);if(v)a.done=D>=h;else{let b=D===0?w:0;S<1&&(b=D===0?gr(w):RR(x,D,M));const C=Math.abs(b)<=r,I=Math.abs(o-M)<=i;a.done=C&&I}return a.value=a.done?o:M,a},toString:()=>{const D=Math.min(a_(A),kh),M=PR(b=>A.next(D*b).value,D,30);return D+"ms "+M},toTransition:()=>{}};return A}Ih.applyToOptions=t=>{const e=H9(t,100,Ih);return t.ease=e.ease,t.duration=gr(e.duration),t.type="keyframes",t};function ty({keyframes:t,velocity:e=0,power:n=.8,timeConstant:r=325,bounceDamping:i=10,bounceStiffness:s=500,modifyTarget:o,min:a,max:l,restDelta:c=.5,restSpeed:d}){const h=t[0],f={done:!1,value:h},v=C=>a!==void 0&&C<a||l!==void 0&&C>l,w=C=>a===void 0?l:l===void 0||Math.abs(a-C)<Math.abs(l-C)?a:l;let S=n*e;const P=h+S,_=o===void 0?P:o(P);_!==P&&(S=_-h);const E=C=>-S*Math.exp(-C/r),x=C=>_+E(C),A=C=>{const I=E(C),g=x(C);f.done=Math.abs(I)<=c,f.value=f.done?_:g};let D,M;const b=C=>{v(f.value)&&(D=C,M=Ih({keyframes:[f.value,w(f.value)],velocity:RR(x,C,f.value),damping:i,stiffness:s,restDelta:c,restSpeed:d}))};return b(0),{calculatedDuration:null,next:C=>{let I=!1;return!M&&D===void 0&&(I=!0,A(C),b(C)),D!==void 0&&C>=D?M.next(C-D):(!I&&A(C),f)}}}function Z9(t,e,n){const r=[],i=n||Jr.mix||IR,s=t.length-1;for(let o=0;o<s;o++){let a=i(t[o],t[o+1]);if(e){const l=Array.isArray(e)?e[o]||Rn:e;a=Qc(l,a)}r.push(a)}return r}function eB(t,e,{clamp:n=!0,ease:r,mixer:i}={}){const s=t.length;if(J0(s===e.length),s===1)return()=>e[0];if(s===2&&e[0]===e[1])return()=>e[1];const o=t[0]===t[1];t[0]>t[s-1]&&(t=[...t].reverse(),e=[...e].reverse());const a=Z9(e,r,i),l=a.length,c=d=>{if(o&&d<t[0])return e[0];let h=0;if(l>1)for(;h<t.length-2&&!(d<t[h+1]);h++);const f=wc(t[h],t[h+1],d);return a[h](f)};return n?d=>c(Xr(t[0],t[s-1],d)):c}function tB(t,e){const n=t[t.length-1];for(let r=1;r<=e;r++){const i=wc(0,e,r);t.push(je(n,1,i))}}function nB(t){const e=[0];return tB(e,t.length-1),e}function rB(t,e){return t.map(n=>n*e)}function iB(t,e){return t.map(()=>e||vR).splice(0,t.length-1)}function jl({duration:t=300,keyframes:e,times:n,ease:r="easeInOut"}){const i=m9(r)?r.map(VE):VE(r),s={done:!1,value:e[0]},o=rB(n&&n.length===e.length?n:nB(e),t),a=eB(o,e,{ease:Array.isArray(i)?i:iB(e,i)});return{calculatedDuration:t,next:l=>(s.value=a(l),s.done=l>=t,s)}}const sB=t=>t!==null;function l_(t,{repeat:e,repeatType:n="loop"},r,i=1){const s=t.filter(sB),a=i<0||e&&n!=="loop"&&e%2===1?0:s.length-1;return!a||r===void 0?s[a]:r}const oB={decay:ty,inertia:ty,tween:jl,keyframes:jl,spring:Ih};function AR(t){typeof t.type=="string"&&(t.type=oB[t.type])}class c_{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,n){return this.finished.then(e,n)}}const aB=t=>t/100;class u_ extends c_{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=(n=!0)=>{var r,i;if(n){const{motionValue:s}=this.options;s&&s.updatedAt!==rn.now()&&this.tick(rn.now())}this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(i=(r=this.options).onStop)==null||i.call(r))},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;AR(e);const{type:n=jl,repeat:r=0,repeatDelay:i=0,repeatType:s,velocity:o=0}=e;let{keyframes:a}=e;const l=n||jl;l!==jl&&typeof a[0]!="number"&&(this.mixKeyframes=Qc(aB,IR(a[0],a[1])),a=[0,100]);const c=l({...e,keyframes:a});s==="mirror"&&(this.mirroredGenerator=l({...e,keyframes:[...a].reverse(),velocity:-o})),c.calculatedDuration===null&&(c.calculatedDuration=a_(c));const{calculatedDuration:d}=c;this.calculatedDuration=d,this.resolvedDuration=d+i,this.totalDuration=this.resolvedDuration*(r+1)-i,this.generator=c}updateTime(e){const n=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(e,n=!1){const{generator:r,totalDuration:i,mixKeyframes:s,mirroredGenerator:o,resolvedDuration:a,calculatedDuration:l}=this;if(this.startTime===null)return r.next(0);const{delay:c=0,keyframes:d,repeat:h,repeatType:f,repeatDelay:v,type:w,onUpdate:S,finalKeyframe:P}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-i/this.speed,this.startTime)),n?this.currentTime=e:this.updateTime(e);const _=this.currentTime-c*(this.playbackSpeed>=0?1:-1),E=this.playbackSpeed>=0?_<0:_>i;this.currentTime=Math.max(_,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=i);let x=this.currentTime,A=r;if(h){const C=Math.min(this.currentTime,i)/a;let I=Math.floor(C),g=C%1;!g&&C>=1&&(g=1),g===1&&I--,I=Math.min(I,h+1),!!(I%2)&&(f==="reverse"?(g=1-g,v&&(g-=v/a)):f==="mirror"&&(A=o)),x=Xr(0,1,g)*a}const D=E?{done:!1,value:d[0]}:A.next(x);s&&(D.value=s(D.value));let{done:M}=D;!E&&l!==null&&(M=this.playbackSpeed>=0?this.currentTime>=i:this.currentTime<=0);const b=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&M);return b&&w!==ty&&(D.value=l_(d,this.options,P,this.speed)),S&&S(D.value),b&&this.finish(),D}then(e,n){return this.finished.then(e,n)}get duration(){return yr(this.calculatedDuration)}get time(){return yr(this.currentTime)}set time(e){var n;e=gr(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),(n=this.driver)==null||n.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(rn.now());const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=yr(this.currentTime))}play(){var i,s;if(this.isStopped)return;const{driver:e=W9,startTime:n}=this.options;this.driver||(this.driver=e(o=>this.tick(o))),(s=(i=this.options).onPlay)==null||s.call(i);const r=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=r):this.holdTime!==null?this.startTime=r-this.holdTime:this.startTime||(this.startTime=n??r),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(rn.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var e,n;this.notifyFinished(),this.teardown(),this.state="finished",(n=(e=this.options).onComplete)==null||n.call(e)}cancel(){var e,n;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(n=(e=this.options).onCancel)==null||n.call(e)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){var n;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(n=this.driver)==null||n.stop(),e.observe(this)}}function lB(t){for(let e=1;e<t.length;e++)t[e]??(t[e]=t[e-1])}const ws=t=>t*180/Math.PI,ny=t=>{const e=ws(Math.atan2(t[1],t[0]));return ry(e)},cB={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:ny,rotateZ:ny,skewX:t=>ws(Math.atan(t[1])),skewY:t=>ws(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},ry=t=>(t=t%360,t<0&&(t+=360),t),KE=ny,qE=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),YE=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),uB={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:qE,scaleY:YE,scale:t=>(qE(t)+YE(t))/2,rotateX:t=>ry(ws(Math.atan2(t[6],t[5]))),rotateY:t=>ry(ws(Math.atan2(-t[2],t[0]))),rotateZ:KE,rotate:KE,skewX:t=>ws(Math.atan(t[4])),skewY:t=>ws(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function iy(t){return t.includes("scale")?1:0}function sy(t,e){if(!t||t==="none")return iy(e);const n=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let r,i;if(n)r=uB,i=n;else{const a=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);r=cB,i=a}if(!i)return iy(e);const s=r[e],o=i[1].split(",").map(hB);return typeof s=="function"?s(o):o[s]}const dB=(t,e)=>{const{transform:n="none"}=getComputedStyle(t);return sy(n,e)};function hB(t){return parseFloat(t.trim())}const Ta=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],ka=(()=>new Set(Ta))(),XE=t=>t===ba||t===Q,fB=new Set(["x","y","z"]),pB=Ta.filter(t=>!fB.has(t));function mB(t){const e=[];return pB.forEach(n=>{const r=t.getValue(n);r!==void 0&&(e.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),e}const Ss={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:(t,{transform:e})=>sy(e,"x"),y:(t,{transform:e})=>sy(e,"y")};Ss.translateX=Ss.x;Ss.translateY=Ss.y;const bs=new Set;let oy=!1,ay=!1,ly=!1;function NR(){if(ay){const t=Array.from(bs).filter(r=>r.needsMeasurement),e=new Set(t.map(r=>r.element)),n=new Map;e.forEach(r=>{const i=mB(r);i.length&&(n.set(r,i),r.render())}),t.forEach(r=>r.measureInitialState()),e.forEach(r=>{r.render();const i=n.get(r);i&&i.forEach(([s,o])=>{var a;(a=r.getValue(s))==null||a.set(o)})}),t.forEach(r=>r.measureEndState()),t.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}ay=!1,oy=!1,bs.forEach(t=>t.complete(ly)),bs.clear()}function DR(){bs.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(ay=!0)})}function gB(){ly=!0,DR(),NR(),ly=!1}class d_{constructor(e,n,r,i,s,o=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=r,this.motionValue=i,this.element=s,this.isAsync=o}scheduleResolve(){this.state="scheduled",this.isAsync?(bs.add(this),oy||(oy=!0,$e.read(DR),$e.resolveKeyframes(NR))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:r,motionValue:i}=this;if(e[0]===null){const s=i==null?void 0:i.get(),o=e[e.length-1];if(s!==void 0)e[0]=s;else if(r&&n){const a=r.readValue(n,o);a!=null&&(e[0]=a)}e[0]===void 0&&(e[0]=o),i&&s===void 0&&i.set(e[0])}lB(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),bs.delete(this)}cancel(){this.state==="scheduled"&&(bs.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const yB=t=>t.startsWith("--");function vB(t,e,n){yB(e)?t.style.setProperty(e,n):t.style[e]=n}const _B=Q0(()=>window.ScrollTimeline!==void 0),wB={};function xB(t,e){const n=Q0(t);return()=>wB[e]??n()}const OR=xB(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),ml=([t,e,n,r])=>`cubic-bezier(${t}, ${e}, ${n}, ${r})`,JE={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:ml([0,.65,.55,1]),circOut:ml([.55,0,1,.45]),backIn:ml([.31,.01,.66,-.59]),backOut:ml([.33,1.53,.69,.99])};function MR(t,e){if(t)return typeof t=="function"?OR()?PR(t,e):"ease-out":_R(t)?ml(t):Array.isArray(t)?t.map(n=>MR(n,e)||JE.easeOut):JE[t]}function EB(t,e,n,{delay:r=0,duration:i=300,repeat:s=0,repeatType:o="loop",ease:a="easeOut",times:l}={},c=void 0){const d={[e]:n};l&&(d.offset=l);const h=MR(a,i);Array.isArray(h)&&(d.easing=h);const f={delay:r,duration:i,easing:Array.isArray(h)?"linear":h,fill:"both",iterations:s+1,direction:o==="reverse"?"alternate":"normal"};return c&&(f.pseudoElement=c),t.animate(d,f)}function LR(t){return typeof t=="function"&&"applyToOptions"in t}function CB({type:t,...e}){return LR(t)&&OR()?t.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class SB extends c_{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,!e)return;const{element:n,name:r,keyframes:i,pseudoElement:s,allowFlatten:o=!1,finalKeyframe:a,onComplete:l}=e;this.isPseudoElement=!!s,this.allowFlatten=o,this.options=e,J0(typeof e.type!="string");const c=CB(e);this.animation=EB(n,r,i,c,s),c.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!s){const d=l_(i,this.options,a,this.speed);this.updateMotionValue?this.updateMotionValue(d):vB(n,r,d),this.animation.cancel()}l==null||l(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var e,n;(n=(e=this.animation).finish)==null||n.call(e)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var e,n;this.isPseudoElement||(n=(e=this.animation).commitStyles)==null||n.call(e)}get duration(){var n,r;const e=((r=(n=this.animation.effect)==null?void 0:n.getComputedTiming)==null?void 0:r.call(n).duration)||0;return yr(Number(e))}get time(){return yr(Number(this.animation.currentTime)||0)}set time(e){this.finishedTime=null,this.animation.currentTime=gr(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(e){this.animation.startTime=e}attachTimeline({timeline:e,observe:n}){var r;return this.allowFlatten&&((r=this.animation.effect)==null||r.updateTiming({easing:"linear"})),this.animation.onfinish=null,e&&_B()?(this.animation.timeline=e,Rn):n(this)}}const jR={anticipate:mR,backInOut:pR,circInOut:yR};function bB(t){return t in jR}function TB(t){typeof t.ease=="string"&&bB(t.ease)&&(t.ease=jR[t.ease])}const QE=10;class kB extends SB{constructor(e){TB(e),AR(e),super(e),e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:n,onUpdate:r,onComplete:i,element:s,...o}=this.options;if(!n)return;if(e!==void 0){n.set(e);return}const a=new u_({...o,autoplay:!1}),l=gr(this.finishedTime??this.time);n.setWithVelocity(a.sample(l-QE).value,a.sample(l).value,QE),a.stop()}}const ZE=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(Ui.test(t)||t==="0")&&!t.startsWith("url("));function IB(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function PB(t,e,n,r){const i=t[0];if(i===null)return!1;if(e==="display"||e==="visibility")return!0;const s=t[t.length-1],o=ZE(i,e),a=ZE(s,e);return!o||!a?!1:IB(t)||(n==="spring"||LR(n))&&r}function h_(t){return aR(t)&&"offsetHeight"in t}const RB=new Set(["opacity","clipPath","filter","transform"]),AB=Q0(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function NB(t){var c;const{motionValue:e,name:n,repeatDelay:r,repeatType:i,damping:s,type:o}=t;if(!h_((c=e==null?void 0:e.owner)==null?void 0:c.current))return!1;const{onUpdate:a,transformTemplate:l}=e.owner.getProps();return AB()&&n&&RB.has(n)&&(n!=="transform"||!l)&&!a&&!r&&i!=="mirror"&&s!==0&&o!=="inertia"}const DB=40;class OB extends c_{constructor({autoplay:e=!0,delay:n=0,type:r="keyframes",repeat:i=0,repeatDelay:s=0,repeatType:o="loop",keyframes:a,name:l,motionValue:c,element:d,...h}){var w;super(),this.stop=()=>{var S,P;this._animation&&(this._animation.stop(),(S=this.stopTimeline)==null||S.call(this)),(P=this.keyframeResolver)==null||P.cancel()},this.createdAt=rn.now();const f={autoplay:e,delay:n,type:r,repeat:i,repeatDelay:s,repeatType:o,name:l,motionValue:c,element:d,...h},v=(d==null?void 0:d.KeyframeResolver)||d_;this.keyframeResolver=new v(a,(S,P,_)=>this.onKeyframesResolved(S,P,f,!_),l,c,d),(w=this.keyframeResolver)==null||w.scheduleResolve()}onKeyframesResolved(e,n,r,i){this.keyframeResolver=void 0;const{name:s,type:o,velocity:a,delay:l,isHandoff:c,onUpdate:d}=r;this.resolvedAt=rn.now(),PB(e,s,o,a)||((Jr.instantAnimations||!l)&&(d==null||d(l_(e,r,n))),e[0]=e[e.length-1],r.duration=0,r.repeat=0);const f={startTime:i?this.resolvedAt?this.resolvedAt-this.createdAt>DB?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...r,keyframes:e},v=!c&&NB(f)?new kB({...f,element:f.motionValue.owner.current}):new u_(f);v.finished.then(()=>this.notifyFinished()).catch(Rn),this.pendingTimeline&&(this.stopTimeline=v.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=v}get finished(){return this._animation?this.animation.finished:this._finished}then(e,n){return this.finished.finally(e).then(()=>{})}get animation(){var e;return this._animation||((e=this.keyframeResolver)==null||e.resume(),gB()),this._animation}get duration(){return this.animation.duration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var e;this._animation&&this.animation.cancel(),(e=this.keyframeResolver)==null||e.cancel()}}const MB=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function LB(t){const e=MB.exec(t);if(!e)return[,];const[,n,r,i]=e;return[`--${n??r}`,i]}function FR(t,e,n=1){const[r,i]=LB(t);if(!r)return;const s=window.getComputedStyle(e).getPropertyValue(r);if(s){const o=s.trim();return oR(o)?parseFloat(o):o}return r_(i)?FR(i,e,n+1):i}function f_(t,e){return(t==null?void 0:t[e])??(t==null?void 0:t.default)??t}const $R=new Set(["width","height","top","left","right","bottom",...Ta]),jB={test:t=>t==="auto",parse:t=>t},VR=t=>e=>e.test(t),UR=[ba,Q,vr,ui,I9,k9,jB],eC=t=>UR.find(VR(t));function FB(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||lR(t):!0}const $B=new Set(["brightness","contrast","saturate","opacity"]);function VB(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[r]=n.match(i_)||[];if(!r)return t;const i=n.replace(r,"");let s=$B.has(e)?1:0;return r!==n&&(s*=100),e+"("+s+i+")"}const UB=/\b([a-z-]*)\(.*?\)/gu,cy={...Ui,getAnimatableNone:t=>{const e=t.match(UB);return e?e.map(VB).join(" "):t}},tC={...ba,transform:Math.round},BB={rotate:ui,rotateX:ui,rotateY:ui,rotateZ:ui,scale:Wu,scaleX:Wu,scaleY:Wu,scaleZ:Wu,skew:ui,skewX:ui,skewY:ui,distance:Q,translateX:Q,translateY:Q,translateZ:Q,x:Q,y:Q,z:Q,perspective:Q,transformPerspective:Q,opacity:xc,originX:BE,originY:BE,originZ:Q},p_={borderWidth:Q,borderTopWidth:Q,borderRightWidth:Q,borderBottomWidth:Q,borderLeftWidth:Q,borderRadius:Q,radius:Q,borderTopLeftRadius:Q,borderTopRightRadius:Q,borderBottomRightRadius:Q,borderBottomLeftRadius:Q,width:Q,maxWidth:Q,height:Q,maxHeight:Q,top:Q,right:Q,bottom:Q,left:Q,padding:Q,paddingTop:Q,paddingRight:Q,paddingBottom:Q,paddingLeft:Q,margin:Q,marginTop:Q,marginRight:Q,marginBottom:Q,marginLeft:Q,backgroundPositionX:Q,backgroundPositionY:Q,...BB,zIndex:tC,fillOpacity:xc,strokeOpacity:xc,numOctaves:tC},zB={...p_,color:Pt,backgroundColor:Pt,outlineColor:Pt,fill:Pt,stroke:Pt,borderColor:Pt,borderTopColor:Pt,borderRightColor:Pt,borderBottomColor:Pt,borderLeftColor:Pt,filter:cy,WebkitFilter:cy},BR=t=>zB[t];function zR(t,e){let n=BR(t);return n!==cy&&(n=Ui),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const WB=new Set(["auto","none","0"]);function HB(t,e,n){let r=0,i;for(;r<t.length&&!i;){const s=t[r];typeof s=="string"&&!WB.has(s)&&Ec(s).values.length&&(i=t[r]),r++}if(i&&n)for(const s of e)t[s]=zR(n,i)}class GB extends d_{constructor(e,n,r,i,s){super(e,n,r,i,s,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let l=0;l<e.length;l++){let c=e[l];if(typeof c=="string"&&(c=c.trim(),r_(c))){const d=FR(c,n.current);d!==void 0&&(e[l]=d),l===e.length-1&&(this.finalKeyframe=c)}}if(this.resolveNoneKeyframes(),!$R.has(r)||e.length!==2)return;const[i,s]=e,o=eC(i),a=eC(s);if(o!==a)if(XE(o)&&XE(a))for(let l=0;l<e.length;l++){const c=e[l];typeof c=="string"&&(e[l]=parseFloat(c))}else Ss[r]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,r=[];for(let i=0;i<e.length;i++)(e[i]===null||FB(e[i]))&&r.push(i);r.length&&HB(e,r,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:r}=this;if(!e||!e.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Ss[r](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const i=n[n.length-1];i!==void 0&&e.getValue(r,i).jump(i,!1)}measureEndState(){var a;const{element:e,name:n,unresolvedKeyframes:r}=this;if(!e||!e.current)return;const i=e.getValue(n);i&&i.jump(this.measuredOrigin,!1);const s=r.length-1,o=r[s];r[s]=Ss[n](e.measureViewportBox(),window.getComputedStyle(e.current)),o!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=o),(a=this.removedTransforms)!=null&&a.length&&this.removedTransforms.forEach(([l,c])=>{e.getValue(l).set(c)}),this.resolveNoneKeyframes()}}function KB(t,e,n){if(t instanceof EventTarget)return[t];if(typeof t=="string"){let r=document;e&&(r=e.current);const i=(n==null?void 0:n[t])??r.querySelectorAll(t);return i?Array.from(i):[]}return Array.from(t)}const nC=30,qB=t=>!isNaN(parseFloat(t));class YB{constructor(e,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=(r,i=!0)=>{var o,a;const s=rn.now();if(this.updatedAt!==s&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&((o=this.events.change)==null||o.notify(this.current),this.dependents))for(const l of this.dependents)l.dirty();i&&((a=this.events.renderRequest)==null||a.notify(this.current))},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=rn.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=qB(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new Z0);const r=this.events[e].add(n);return e==="change"?()=>{r(),$e.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e,n=!0){!n||!this.passiveEffect?this.updateAndNotify(e,n):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-r}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var e;(e=this.events.change)==null||e.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=rn.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>nC)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,nC);return cR(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var e,n;(e=this.dependents)==null||e.clear(),(n=this.events.destroy)==null||n.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function aa(t,e){return new YB(t,e)}const WR=(t,e)=>e&&typeof t=="number"?e.transform(t):t,{schedule:m_,cancel:Wq}=wR(queueMicrotask,!1),Vn={x:!1,y:!1};function HR(){return Vn.x||Vn.y}function XB(t){return t==="x"||t==="y"?Vn[t]?null:(Vn[t]=!0,()=>{Vn[t]=!1}):Vn.x||Vn.y?null:(Vn.x=Vn.y=!0,()=>{Vn.x=Vn.y=!1})}function GR(t,e){const n=KB(t),r=new AbortController,i={passive:!0,...e,signal:r.signal};return[n,i,()=>r.abort()]}function rC(t){return!(t.pointerType==="touch"||HR())}function JB(t,e,n={}){const[r,i,s]=GR(t,n),o=a=>{if(!rC(a))return;const{target:l}=a,c=e(l,a);if(typeof c!="function"||!l)return;const d=h=>{rC(h)&&(c(h),l.removeEventListener("pointerleave",d))};l.addEventListener("pointerleave",d,i)};return r.forEach(a=>{a.addEventListener("pointerenter",o,i)}),s}const KR=(t,e)=>e?t===e?!0:KR(t,e.parentElement):!1,g_=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,QB=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function ZB(t){return QB.has(t.tagName)||t.tabIndex!==-1}const vd=new WeakSet;function iC(t){return e=>{e.key==="Enter"&&t(e)}}function fm(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const ez=(t,e)=>{const n=t.currentTarget;if(!n)return;const r=iC(()=>{if(vd.has(n))return;fm(n,"down");const i=iC(()=>{fm(n,"up")}),s=()=>fm(n,"cancel");n.addEventListener("keyup",i,e),n.addEventListener("blur",s,e)});n.addEventListener("keydown",r,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),e)};function sC(t){return g_(t)&&!HR()}function tz(t,e,n={}){const[r,i,s]=GR(t,n),o=a=>{const l=a.currentTarget;if(!sC(a))return;vd.add(l);const c=e(l,a),d=(v,w)=>{window.removeEventListener("pointerup",h),window.removeEventListener("pointercancel",f),vd.has(l)&&vd.delete(l),sC(v)&&typeof c=="function"&&c(v,{success:w})},h=v=>{d(v,l===window||l===document||n.useGlobalTarget||KR(l,v.target))},f=v=>{d(v,!1)};window.addEventListener("pointerup",h,i),window.addEventListener("pointercancel",f,i)};return r.forEach(a=>{(n.useGlobalTarget?window:a).addEventListener("pointerdown",o,i),h_(a)&&(a.addEventListener("focus",c=>ez(c,i)),!ZB(a)&&!a.hasAttribute("tabindex")&&(a.tabIndex=0))}),s}function qR(t){return aR(t)&&"ownerSVGElement"in t}function nz(t){return qR(t)&&t.tagName==="svg"}const Nt=t=>!!(t&&t.getVelocity),rz=[...UR,Pt,Ui],iz=t=>rz.find(VR(t)),y_=k.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});class sz extends k.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const r=n.offsetParent,i=h_(r)&&r.offsetWidth||0,s=this.props.sizeRef.current;s.height=n.offsetHeight||0,s.width=n.offsetWidth||0,s.top=n.offsetTop,s.left=n.offsetLeft,s.right=i-s.width-s.left}return null}componentDidUpdate(){}render(){return this.props.children}}function oz({children:t,isPresent:e,anchorX:n}){const r=k.useId(),i=k.useRef(null),s=k.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:o}=k.useContext(y_);return k.useInsertionEffect(()=>{const{width:a,height:l,top:c,left:d,right:h}=s.current;if(e||!i.current||!a||!l)return;const f=n==="left"?`left: ${d}`:`right: ${h}`;i.current.dataset.motionPopId=r;const v=document.createElement("style");return o&&(v.nonce=o),document.head.appendChild(v),v.sheet&&v.sheet.insertRule(`
          [data-motion-pop-id="${r}"] {
            position: absolute !important;
            width: ${a}px !important;
            height: ${l}px !important;
            ${f}px !important;
            top: ${c}px !important;
          }
        `),()=>{document.head.contains(v)&&document.head.removeChild(v)}},[e]),m.jsx(sz,{isPresent:e,childRef:i,sizeRef:s,children:k.cloneElement(t,{ref:i})})}const az=({children:t,initial:e,isPresent:n,onExitComplete:r,custom:i,presenceAffectsLayout:s,mode:o,anchorX:a})=>{const l=K0(lz),c=k.useId();let d=!0,h=k.useMemo(()=>(d=!1,{id:c,initial:e,isPresent:n,custom:i,onExitComplete:f=>{l.set(f,!0);for(const v of l.values())if(!v)return;r&&r()},register:f=>(l.set(f,!1),()=>l.delete(f))}),[n,l,r]);return s&&d&&(h={...h}),k.useMemo(()=>{l.forEach((f,v)=>l.set(v,!1))},[n]),k.useEffect(()=>{!n&&!l.size&&r&&r()},[n]),o==="popLayout"&&(t=m.jsx(oz,{isPresent:n,anchorX:a,children:t})),m.jsx(xf.Provider,{value:h,children:t})};function lz(){return new Map}function YR(t=!0){const e=k.useContext(xf);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:r,register:i}=e,s=k.useId();k.useEffect(()=>{if(t)return i(s)},[t]);const o=k.useCallback(()=>t&&r&&r(s),[s,r,t]);return!n&&r?[!1,o]:[!0]}const Hu=t=>t.key||"";function oC(t){const e=[];return k.Children.forEach(t,n=>{k.isValidElement(n)&&e.push(n)}),e}const cz=({children:t,custom:e,initial:n=!0,onExitComplete:r,presenceAffectsLayout:i=!0,mode:s="sync",propagate:o=!1,anchorX:a="left"})=>{const[l,c]=YR(o),d=k.useMemo(()=>oC(t),[t]),h=o&&!l?[]:d.map(Hu),f=k.useRef(!0),v=k.useRef(d),w=K0(()=>new Map),[S,P]=k.useState(d),[_,E]=k.useState(d);sR(()=>{f.current=!1,v.current=d;for(let D=0;D<_.length;D++){const M=Hu(_[D]);h.includes(M)?w.delete(M):w.get(M)!==!0&&w.set(M,!1)}},[_,h.length,h.join("-")]);const x=[];if(d!==S){let D=[...d];for(let M=0;M<_.length;M++){const b=_[M],C=Hu(b);h.includes(C)||(D.splice(M,0,b),x.push(b))}return s==="wait"&&x.length&&(D=x),E(oC(D)),P(d),null}const{forceRender:A}=k.useContext(G0);return m.jsx(m.Fragment,{children:_.map(D=>{const M=Hu(D),b=o&&!l?!1:d===_||h.includes(M),C=()=>{if(w.has(M))w.set(M,!0);else return;let I=!0;w.forEach(g=>{g||(I=!1)}),I&&(A==null||A(),E(v.current),o&&(c==null||c()),r&&r())};return m.jsx(az,{isPresent:b,initial:!f.current||n?void 0:!1,custom:e,presenceAffectsLayout:i,mode:s,onExitComplete:b?void 0:C,anchorX:a,children:D},M)})})},XR=k.createContext({strict:!1}),aC={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},la={};for(const t in aC)la[t]={isEnabled:e=>aC[t].some(n=>!!e[n])};function uz(t){for(const e in t)la[e]={...la[e],...t[e]}}const dz=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Ph(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||dz.has(t)}let JR=t=>!Ph(t);function hz(t){t&&(JR=e=>e.startsWith("on")?!Ph(e):t(e))}try{hz(require("@emotion/is-prop-valid").default)}catch{}function fz(t,e,n){const r={};for(const i in t)i==="values"&&typeof t.values=="object"||(JR(i)||n===!0&&Ph(i)||!e&&!Ph(i)||t.draggable&&i.startsWith("onDrag"))&&(r[i]=t[i]);return r}function pz(t){if(typeof Proxy>"u")return t;const e=new Map,n=(...r)=>t(...r);return new Proxy(n,{get:(r,i)=>i==="create"?t:(e.has(i)||e.set(i,t(i)),e.get(i))})}const Ef=k.createContext({});function Cf(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function Cc(t){return typeof t=="string"||Array.isArray(t)}const v_=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],__=["initial",...v_];function Sf(t){return Cf(t.animate)||__.some(e=>Cc(t[e]))}function QR(t){return!!(Sf(t)||t.variants)}function mz(t,e){if(Sf(t)){const{initial:n,animate:r}=t;return{initial:n===!1||Cc(n)?n:void 0,animate:Cc(r)?r:void 0}}return t.inherit!==!1?e:{}}function gz(t){const{initial:e,animate:n}=mz(t,k.useContext(Ef));return k.useMemo(()=>({initial:e,animate:n}),[lC(e),lC(n)])}function lC(t){return Array.isArray(t)?t.join(" "):t}const yz=Symbol.for("motionComponentSymbol");function To(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function vz(t,e,n){return k.useCallback(r=>{r&&t.onMount&&t.onMount(r),e&&(r?e.mount(r):e.unmount()),n&&(typeof n=="function"?n(r):To(n)&&(n.current=r))},[e])}const w_=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),_z="framerAppearId",ZR="data-"+w_(_z),eA=k.createContext({});function wz(t,e,n,r,i){var S,P;const{visualElement:s}=k.useContext(Ef),o=k.useContext(XR),a=k.useContext(xf),l=k.useContext(y_).reducedMotion,c=k.useRef(null);r=r||o.renderer,!c.current&&r&&(c.current=r(t,{visualState:e,parent:s,props:n,presenceContext:a,blockInitialAnimation:a?a.initial===!1:!1,reducedMotionConfig:l}));const d=c.current,h=k.useContext(eA);d&&!d.projection&&i&&(d.type==="html"||d.type==="svg")&&xz(c.current,n,i,h);const f=k.useRef(!1);k.useInsertionEffect(()=>{d&&f.current&&d.update(n,a)});const v=n[ZR],w=k.useRef(!!v&&!((S=window.MotionHandoffIsComplete)!=null&&S.call(window,v))&&((P=window.MotionHasOptimisedAnimation)==null?void 0:P.call(window,v)));return sR(()=>{d&&(f.current=!0,window.MotionIsMounted=!0,d.updateFeatures(),m_.render(d.render),w.current&&d.animationState&&d.animationState.animateChanges())}),k.useEffect(()=>{d&&(!w.current&&d.animationState&&d.animationState.animateChanges(),w.current&&(queueMicrotask(()=>{var _;(_=window.MotionHandoffMarkAsComplete)==null||_.call(window,v)}),w.current=!1))}),d}function xz(t,e,n,r){const{layoutId:i,layout:s,drag:o,dragConstraints:a,layoutScroll:l,layoutRoot:c,layoutCrossfade:d}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:tA(t.parent)),t.projection.setOptions({layoutId:i,layout:s,alwaysMeasureLayout:!!o||a&&To(a),visualElement:t,animationType:typeof s=="string"?s:"both",initialPromotionConfig:r,crossfade:d,layoutScroll:l,layoutRoot:c})}function tA(t){if(t)return t.options.allowProjection!==!1?t.projection:tA(t.parent)}function Ez({preloadedFeatures:t,createVisualElement:e,useRender:n,useVisualState:r,Component:i}){t&&uz(t);function s(a,l){let c;const d={...k.useContext(y_),...a,layoutId:Cz(a)},{isStatic:h}=d,f=gz(a),v=r(a,h);if(!h&&q0){Sz();const w=bz(d);c=w.MeasureLayout,f.visualElement=wz(i,v,d,e,w.ProjectionNode)}return m.jsxs(Ef.Provider,{value:f,children:[c&&f.visualElement?m.jsx(c,{visualElement:f.visualElement,...d}):null,n(i,a,vz(v,f.visualElement,l),v,h,f.visualElement)]})}s.displayName=`motion.${typeof i=="string"?i:`create(${i.displayName??i.name??""})`}`;const o=k.forwardRef(s);return o[yz]=i,o}function Cz({layoutId:t}){const e=k.useContext(G0).id;return e&&t!==void 0?e+"-"+t:t}function Sz(t,e){k.useContext(XR).strict}function bz(t){const{drag:e,layout:n}=la;if(!e&&!n)return{};const r={...e,...n};return{MeasureLayout:e!=null&&e.isEnabled(t)||n!=null&&n.isEnabled(t)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}const Sc={};function Tz(t){for(const e in t)Sc[e]=t[e],n_(e)&&(Sc[e].isCSSVariable=!0)}function nA(t,{layout:e,layoutId:n}){return ka.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!Sc[t]||t==="opacity")}const kz={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},Iz=Ta.length;function Pz(t,e,n){let r="",i=!0;for(let s=0;s<Iz;s++){const o=Ta[s],a=t[o];if(a===void 0)continue;let l=!0;if(typeof a=="number"?l=a===(o.startsWith("scale")?1:0):l=parseFloat(a)===0,!l||n){const c=WR(a,p_[o]);if(!l){i=!1;const d=kz[o]||o;r+=`${d}(${c}) `}n&&(e[o]=c)}}return r=r.trim(),n?r=n(e,i?"":r):i&&(r="none"),r}function x_(t,e,n){const{style:r,vars:i,transformOrigin:s}=t;let o=!1,a=!1;for(const l in e){const c=e[l];if(ka.has(l)){o=!0;continue}else if(n_(l)){i[l]=c;continue}else{const d=WR(c,p_[l]);l.startsWith("origin")?(a=!0,s[l]=d):r[l]=d}}if(e.transform||(o||n?r.transform=Pz(e,t.transform,n):r.transform&&(r.transform="none")),a){const{originX:l="50%",originY:c="50%",originZ:d=0}=s;r.transformOrigin=`${l} ${c} ${d}`}}const E_=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function rA(t,e,n){for(const r in e)!Nt(e[r])&&!nA(r,n)&&(t[r]=e[r])}function Rz({transformTemplate:t},e){return k.useMemo(()=>{const n=E_();return x_(n,e,t),Object.assign({},n.vars,n.style)},[e])}function Az(t,e){const n=t.style||{},r={};return rA(r,n,t),Object.assign(r,Rz(t,e)),r}function Nz(t,e){const n={},r=Az(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=r,n}const Dz={offset:"stroke-dashoffset",array:"stroke-dasharray"},Oz={offset:"strokeDashoffset",array:"strokeDasharray"};function Mz(t,e,n=1,r=0,i=!0){t.pathLength=1;const s=i?Dz:Oz;t[s.offset]=Q.transform(-r);const o=Q.transform(e),a=Q.transform(n);t[s.array]=`${o} ${a}`}function iA(t,{attrX:e,attrY:n,attrScale:r,pathLength:i,pathSpacing:s=1,pathOffset:o=0,...a},l,c,d){if(x_(t,a,c),l){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:h,style:f}=t;h.transform&&(f.transform=h.transform,delete h.transform),(f.transform||h.transformOrigin)&&(f.transformOrigin=h.transformOrigin??"50% 50%",delete h.transformOrigin),f.transform&&(f.transformBox=(d==null?void 0:d.transformBox)??"fill-box",delete h.transformBox),e!==void 0&&(h.x=e),n!==void 0&&(h.y=n),r!==void 0&&(h.scale=r),i!==void 0&&Mz(h,i,s,o,!1)}const sA=()=>({...E_(),attrs:{}}),oA=t=>typeof t=="string"&&t.toLowerCase()==="svg";function Lz(t,e,n,r){const i=k.useMemo(()=>{const s=sA();return iA(s,e,oA(r),t.transformTemplate,t.style),{...s.attrs,style:{...s.style}}},[e]);if(t.style){const s={};rA(s,t.style,t),i.style={...s,...i.style}}return i}const jz=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function C_(t){return typeof t!="string"||t.includes("-")?!1:!!(jz.indexOf(t)>-1||/[A-Z]/u.test(t))}function Fz(t=!1){return(n,r,i,{latestValues:s},o)=>{const l=(C_(n)?Lz:Nz)(r,s,o,n),c=fz(r,typeof n=="string",t),d=n!==k.Fragment?{...c,...l,ref:i}:{},{children:h}=r,f=k.useMemo(()=>Nt(h)?h.get():h,[h]);return k.createElement(n,{...d,children:f})}}function cC(t){const e=[{},{}];return t==null||t.values.forEach((n,r)=>{e[0][r]=n.get(),e[1][r]=n.getVelocity()}),e}function S_(t,e,n,r){if(typeof e=="function"){const[i,s]=cC(r);e=e(n!==void 0?n:t.custom,i,s)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[i,s]=cC(r);e=e(n!==void 0?n:t.custom,i,s)}return e}function _d(t){return Nt(t)?t.get():t}function $z({scrapeMotionValuesFromProps:t,createRenderState:e},n,r,i){return{latestValues:Vz(n,r,i,t),renderState:e()}}const aA=t=>(e,n)=>{const r=k.useContext(Ef),i=k.useContext(xf),s=()=>$z(t,e,r,i);return n?s():K0(s)};function Vz(t,e,n,r){const i={},s=r(t,{});for(const f in s)i[f]=_d(s[f]);let{initial:o,animate:a}=t;const l=Sf(t),c=QR(t);e&&c&&!l&&t.inherit!==!1&&(o===void 0&&(o=e.initial),a===void 0&&(a=e.animate));let d=n?n.initial===!1:!1;d=d||o===!1;const h=d?a:o;if(h&&typeof h!="boolean"&&!Cf(h)){const f=Array.isArray(h)?h:[h];for(let v=0;v<f.length;v++){const w=S_(t,f[v]);if(w){const{transitionEnd:S,transition:P,..._}=w;for(const E in _){let x=_[E];if(Array.isArray(x)){const A=d?x.length-1:0;x=x[A]}x!==null&&(i[E]=x)}for(const E in S)i[E]=S[E]}}}return i}function b_(t,e,n){var s;const{style:r}=t,i={};for(const o in r)(Nt(r[o])||e.style&&Nt(e.style[o])||nA(o,t)||((s=n==null?void 0:n.getValue(o))==null?void 0:s.liveStyle)!==void 0)&&(i[o]=r[o]);return i}const Uz={useVisualState:aA({scrapeMotionValuesFromProps:b_,createRenderState:E_})};function lA(t,e,n){const r=b_(t,e,n);for(const i in t)if(Nt(t[i])||Nt(e[i])){const s=Ta.indexOf(i)!==-1?"attr"+i.charAt(0).toUpperCase()+i.substring(1):i;r[s]=t[i]}return r}const Bz={useVisualState:aA({scrapeMotionValuesFromProps:lA,createRenderState:sA})};function zz(t,e){return function(r,{forwardMotionProps:i}={forwardMotionProps:!1}){const o={...C_(r)?Bz:Uz,preloadedFeatures:t,useRender:Fz(i),createVisualElement:e,Component:r};return Ez(o)}}function bc(t,e,n){const r=t.getProps();return S_(r,e,n!==void 0?n:r.custom,t)}const uy=t=>Array.isArray(t);function Wz(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,aa(n))}function Hz(t){return uy(t)?t[t.length-1]||0:t}function Gz(t,e){const n=bc(t,e);let{transitionEnd:r={},transition:i={},...s}=n||{};s={...s,...r};for(const o in s){const a=Hz(s[o]);Wz(t,o,a)}}function Kz(t){return!!(Nt(t)&&t.add)}function dy(t,e){const n=t.getValue("willChange");if(Kz(n))return n.add(e);if(!n&&Jr.WillChange){const r=new Jr.WillChange("auto");t.addValue("willChange",r),r.add(e)}}function cA(t){return t.props[ZR]}const qz=t=>t!==null;function Yz(t,{repeat:e,repeatType:n="loop"},r){const i=t.filter(qz),s=e&&n!=="loop"&&e%2===1?0:i.length-1;return!s||r===void 0?i[s]:r}const Xz={type:"spring",stiffness:500,damping:25,restSpeed:10},Jz=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),Qz={type:"keyframes",duration:.8},Zz={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},e7=(t,{keyframes:e})=>e.length>2?Qz:ka.has(t)?t.startsWith("scale")?Jz(e[1]):Xz:Zz;function t7({when:t,delay:e,delayChildren:n,staggerChildren:r,staggerDirection:i,repeat:s,repeatType:o,repeatDelay:a,from:l,elapsed:c,...d}){return!!Object.keys(d).length}const T_=(t,e,n,r={},i,s)=>o=>{const a=f_(r,t)||{},l=a.delay||r.delay||0;let{elapsed:c=0}=r;c=c-gr(l);const d={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...a,delay:-c,onUpdate:f=>{e.set(f),a.onUpdate&&a.onUpdate(f)},onComplete:()=>{o(),a.onComplete&&a.onComplete()},name:t,motionValue:e,element:s?void 0:i};t7(a)||Object.assign(d,e7(t,d)),d.duration&&(d.duration=gr(d.duration)),d.repeatDelay&&(d.repeatDelay=gr(d.repeatDelay)),d.from!==void 0&&(d.keyframes[0]=d.from);let h=!1;if((d.type===!1||d.duration===0&&!d.repeatDelay)&&(d.duration=0,d.delay===0&&(h=!0)),(Jr.instantAnimations||Jr.skipAnimations)&&(h=!0,d.duration=0,d.delay=0),d.allowFlatten=!a.type&&!a.ease,h&&!s&&e.get()!==void 0){const f=Yz(d.keyframes,a);if(f!==void 0){$e.update(()=>{d.onUpdate(f),d.onComplete()});return}}return a.isSync?new u_(d):new OB(d)};function n7({protectedKeys:t,needsAnimating:e},n){const r=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,r}function uA(t,e,{delay:n=0,transitionOverride:r,type:i}={}){let{transition:s=t.getDefaultTransition(),transitionEnd:o,...a}=e;r&&(s=r);const l=[],c=i&&t.animationState&&t.animationState.getState()[i];for(const d in a){const h=t.getValue(d,t.latestValues[d]??null),f=a[d];if(f===void 0||c&&n7(c,d))continue;const v={delay:n,...f_(s||{},d)},w=h.get();if(w!==void 0&&!h.isAnimating&&!Array.isArray(f)&&f===w&&!v.velocity)continue;let S=!1;if(window.MotionHandoffAnimation){const _=cA(t);if(_){const E=window.MotionHandoffAnimation(_,d,$e);E!==null&&(v.startTime=E,S=!0)}}dy(t,d),h.start(T_(d,h,f,t.shouldReduceMotion&&$R.has(d)?{type:!1}:v,t,S));const P=h.animation;P&&l.push(P)}return o&&Promise.all(l).then(()=>{$e.update(()=>{o&&Gz(t,o)})}),l}function hy(t,e,n={}){var l;const r=bc(t,e,n.type==="exit"?(l=t.presenceContext)==null?void 0:l.custom:void 0);let{transition:i=t.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(i=n.transitionOverride);const s=r?()=>Promise.all(uA(t,r,n)):()=>Promise.resolve(),o=t.variantChildren&&t.variantChildren.size?(c=0)=>{const{delayChildren:d=0,staggerChildren:h,staggerDirection:f}=i;return r7(t,e,d+c,h,f,n)}:()=>Promise.resolve(),{when:a}=i;if(a){const[c,d]=a==="beforeChildren"?[s,o]:[o,s];return c().then(()=>d())}else return Promise.all([s(),o(n.delay)])}function r7(t,e,n=0,r=0,i=1,s){const o=[],a=(t.variantChildren.size-1)*r,l=i===1?(c=0)=>c*r:(c=0)=>a-c*r;return Array.from(t.variantChildren).sort(i7).forEach((c,d)=>{c.notify("AnimationStart",e),o.push(hy(c,e,{...s,delay:n+l(d)}).then(()=>c.notify("AnimationComplete",e)))}),Promise.all(o)}function i7(t,e){return t.sortNodePosition(e)}function s7(t,e,n={}){t.notify("AnimationStart",e);let r;if(Array.isArray(e)){const i=e.map(s=>hy(t,s,n));r=Promise.all(i)}else if(typeof e=="string")r=hy(t,e,n);else{const i=typeof e=="function"?bc(t,e,n.custom):e;r=Promise.all(uA(t,i,n))}return r.then(()=>{t.notify("AnimationComplete",e)})}function dA(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}const o7=__.length;function hA(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?hA(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<o7;n++){const r=__[n],i=t.props[r];(Cc(i)||i===!1)&&(e[r]=i)}return e}const a7=[...v_].reverse(),l7=v_.length;function c7(t){return e=>Promise.all(e.map(({animation:n,options:r})=>s7(t,n,r)))}function u7(t){let e=c7(t),n=uC(),r=!0;const i=l=>(c,d)=>{var f;const h=bc(t,d,l==="exit"?(f=t.presenceContext)==null?void 0:f.custom:void 0);if(h){const{transition:v,transitionEnd:w,...S}=h;c={...c,...S,...w}}return c};function s(l){e=l(t)}function o(l){const{props:c}=t,d=hA(t.parent)||{},h=[],f=new Set;let v={},w=1/0;for(let P=0;P<l7;P++){const _=a7[P],E=n[_],x=c[_]!==void 0?c[_]:d[_],A=Cc(x),D=_===l?E.isActive:null;D===!1&&(w=P);let M=x===d[_]&&x!==c[_]&&A;if(M&&r&&t.manuallyAnimateOnMount&&(M=!1),E.protectedKeys={...v},!E.isActive&&D===null||!x&&!E.prevProp||Cf(x)||typeof x=="boolean")continue;const b=d7(E.prevProp,x);let C=b||_===l&&E.isActive&&!M&&A||P>w&&A,I=!1;const g=Array.isArray(x)?x:[x];let R=g.reduce(i(_),{});D===!1&&(R={});const{prevResolvedValues:O={}}=E,N={...O,...R},G=ee=>{C=!0,f.has(ee)&&(I=!0,f.delete(ee)),E.needsAnimating[ee]=!0;const B=t.getValue(ee);B&&(B.liveStyle=!1)};for(const ee in N){const B=R[ee],q=O[ee];if(v.hasOwnProperty(ee))continue;let X=!1;uy(B)&&uy(q)?X=!dA(B,q):X=B!==q,X?B!=null?G(ee):f.add(ee):B!==void 0&&f.has(ee)?G(ee):E.protectedKeys[ee]=!0}E.prevProp=x,E.prevResolvedValues=R,E.isActive&&(v={...v,...R}),r&&t.blockInitialAnimation&&(C=!1),C&&(!(M&&b)||I)&&h.push(...g.map(ee=>({animation:ee,options:{type:_}})))}if(f.size){const P={};if(typeof c.initial!="boolean"){const _=bc(t,Array.isArray(c.initial)?c.initial[0]:c.initial);_&&_.transition&&(P.transition=_.transition)}f.forEach(_=>{const E=t.getBaseTarget(_),x=t.getValue(_);x&&(x.liveStyle=!0),P[_]=E??null}),h.push({animation:P})}let S=!!h.length;return r&&(c.initial===!1||c.initial===c.animate)&&!t.manuallyAnimateOnMount&&(S=!1),r=!1,S?e(h):Promise.resolve()}function a(l,c){var h;if(n[l].isActive===c)return Promise.resolve();(h=t.variantChildren)==null||h.forEach(f=>{var v;return(v=f.animationState)==null?void 0:v.setActive(l,c)}),n[l].isActive=c;const d=o(l);for(const f in n)n[f].protectedKeys={};return d}return{animateChanges:o,setActive:a,setAnimateFunction:s,getState:()=>n,reset:()=>{n=uC(),r=!0}}}function d7(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!dA(e,t):!1}function rs(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function uC(){return{animate:rs(!0),whileInView:rs(),whileHover:rs(),whileTap:rs(),whileDrag:rs(),whileFocus:rs(),exit:rs()}}class Ji{constructor(e){this.isMounted=!1,this.node=e}update(){}}class h7 extends Ji{constructor(e){super(e),e.animationState||(e.animationState=u7(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();Cf(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)==null||e.call(this)}}let f7=0;class p7 extends Ji{constructor(){super(...arguments),this.id=f7++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const i=this.node.animationState.setActive("exit",!e);n&&!e&&i.then(()=>{n(this.id)})}mount(){const{register:e,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const m7={animation:{Feature:h7},exit:{Feature:p7}};function Tc(t,e,n,r={passive:!0}){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n)}function tu(t){return{point:{x:t.pageX,y:t.pageY}}}const g7=t=>e=>g_(e)&&t(e,tu(e));function Fl(t,e,n,r){return Tc(t,e,g7(n),r)}function fA({top:t,left:e,right:n,bottom:r}){return{x:{min:e,max:n},y:{min:t,max:r}}}function y7({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function v7(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),r=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}const pA=1e-4,_7=1-pA,w7=1+pA,mA=.01,x7=0-mA,E7=0+mA;function Bt(t){return t.max-t.min}function C7(t,e,n){return Math.abs(t-e)<=n}function dC(t,e,n,r=.5){t.origin=r,t.originPoint=je(e.min,e.max,t.origin),t.scale=Bt(n)/Bt(e),t.translate=je(n.min,n.max,t.origin)-t.originPoint,(t.scale>=_7&&t.scale<=w7||isNaN(t.scale))&&(t.scale=1),(t.translate>=x7&&t.translate<=E7||isNaN(t.translate))&&(t.translate=0)}function $l(t,e,n,r){dC(t.x,e.x,n.x,r?r.originX:void 0),dC(t.y,e.y,n.y,r?r.originY:void 0)}function hC(t,e,n){t.min=n.min+e.min,t.max=t.min+Bt(e)}function S7(t,e,n){hC(t.x,e.x,n.x),hC(t.y,e.y,n.y)}function fC(t,e,n){t.min=e.min-n.min,t.max=t.min+Bt(e)}function Vl(t,e,n){fC(t.x,e.x,n.x),fC(t.y,e.y,n.y)}const pC=()=>({translate:0,scale:1,origin:0,originPoint:0}),ko=()=>({x:pC(),y:pC()}),mC=()=>({min:0,max:0}),qe=()=>({x:mC(),y:mC()});function Cn(t){return[t("x"),t("y")]}function pm(t){return t===void 0||t===1}function fy({scale:t,scaleX:e,scaleY:n}){return!pm(t)||!pm(e)||!pm(n)}function cs(t){return fy(t)||gA(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function gA(t){return gC(t.x)||gC(t.y)}function gC(t){return t&&t!=="0%"}function Rh(t,e,n){const r=t-n,i=e*r;return n+i}function yC(t,e,n,r,i){return i!==void 0&&(t=Rh(t,i,r)),Rh(t,n,r)+e}function py(t,e=0,n=1,r,i){t.min=yC(t.min,e,n,r,i),t.max=yC(t.max,e,n,r,i)}function yA(t,{x:e,y:n}){py(t.x,e.translate,e.scale,e.originPoint),py(t.y,n.translate,n.scale,n.originPoint)}const vC=.999999999999,_C=1.0000000000001;function b7(t,e,n,r=!1){const i=n.length;if(!i)return;e.x=e.y=1;let s,o;for(let a=0;a<i;a++){s=n[a],o=s.projectionDelta;const{visualElement:l}=s.options;l&&l.props.style&&l.props.style.display==="contents"||(r&&s.options.layoutScroll&&s.scroll&&s!==s.root&&Po(t,{x:-s.scroll.offset.x,y:-s.scroll.offset.y}),o&&(e.x*=o.x.scale,e.y*=o.y.scale,yA(t,o)),r&&cs(s.latestValues)&&Po(t,s.latestValues))}e.x<_C&&e.x>vC&&(e.x=1),e.y<_C&&e.y>vC&&(e.y=1)}function Io(t,e){t.min=t.min+e,t.max=t.max+e}function wC(t,e,n,r,i=.5){const s=je(t.min,t.max,i);py(t,e,n,s,r)}function Po(t,e){wC(t.x,e.x,e.scaleX,e.scale,e.originX),wC(t.y,e.y,e.scaleY,e.scale,e.originY)}function vA(t,e){return fA(v7(t.getBoundingClientRect(),e))}function T7(t,e,n){const r=vA(t,n),{scroll:i}=e;return i&&(Io(r.x,i.offset.x),Io(r.y,i.offset.y)),r}const _A=({current:t})=>t?t.ownerDocument.defaultView:null,xC=(t,e)=>Math.abs(t-e);function k7(t,e){const n=xC(t.x,e.x),r=xC(t.y,e.y);return Math.sqrt(n**2+r**2)}class wA{constructor(e,n,{transformPagePoint:r,contextWindow:i,dragSnapToOrigin:s=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const h=gm(this.lastMoveEventInfo,this.history),f=this.startEvent!==null,v=k7(h.offset,{x:0,y:0})>=3;if(!f&&!v)return;const{point:w}=h,{timestamp:S}=yt;this.history.push({...w,timestamp:S});const{onStart:P,onMove:_}=this.handlers;f||(P&&P(this.lastMoveEvent,h),this.startEvent=this.lastMoveEvent),_&&_(this.lastMoveEvent,h)},this.handlePointerMove=(h,f)=>{this.lastMoveEvent=h,this.lastMoveEventInfo=mm(f,this.transformPagePoint),$e.update(this.updatePoint,!0)},this.handlePointerUp=(h,f)=>{this.end();const{onEnd:v,onSessionEnd:w,resumeAnimation:S}=this.handlers;if(this.dragSnapToOrigin&&S&&S(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const P=gm(h.type==="pointercancel"?this.lastMoveEventInfo:mm(f,this.transformPagePoint),this.history);this.startEvent&&v&&v(h,P),w&&w(h,P)},!g_(e))return;this.dragSnapToOrigin=s,this.handlers=n,this.transformPagePoint=r,this.contextWindow=i||window;const o=tu(e),a=mm(o,this.transformPagePoint),{point:l}=a,{timestamp:c}=yt;this.history=[{...l,timestamp:c}];const{onSessionStart:d}=n;d&&d(e,gm(a,this.history)),this.removeListeners=Qc(Fl(this.contextWindow,"pointermove",this.handlePointerMove),Fl(this.contextWindow,"pointerup",this.handlePointerUp),Fl(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),Vi(this.updatePoint)}}function mm(t,e){return e?{point:e(t.point)}:t}function EC(t,e){return{x:t.x-e.x,y:t.y-e.y}}function gm({point:t},e){return{point:t,delta:EC(t,xA(e)),offset:EC(t,I7(e)),velocity:P7(e,.1)}}function I7(t){return t[0]}function xA(t){return t[t.length-1]}function P7(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,r=null;const i=xA(t);for(;n>=0&&(r=t[n],!(i.timestamp-r.timestamp>gr(e)));)n--;if(!r)return{x:0,y:0};const s=yr(i.timestamp-r.timestamp);if(s===0)return{x:0,y:0};const o={x:(i.x-r.x)/s,y:(i.y-r.y)/s};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function R7(t,{min:e,max:n},r){return e!==void 0&&t<e?t=r?je(e,t,r.min):Math.max(t,e):n!==void 0&&t>n&&(t=r?je(n,t,r.max):Math.min(t,n)),t}function CC(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function A7(t,{top:e,left:n,bottom:r,right:i}){return{x:CC(t.x,n,i),y:CC(t.y,e,r)}}function SC(t,e){let n=e.min-t.min,r=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,r]=[r,n]),{min:n,max:r}}function N7(t,e){return{x:SC(t.x,e.x),y:SC(t.y,e.y)}}function D7(t,e){let n=.5;const r=Bt(t),i=Bt(e);return i>r?n=wc(e.min,e.max-r,t.min):r>i&&(n=wc(t.min,t.max-i,e.min)),Xr(0,1,n)}function O7(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const my=.35;function M7(t=my){return t===!1?t=0:t===!0&&(t=my),{x:bC(t,"left","right"),y:bC(t,"top","bottom")}}function bC(t,e,n){return{min:TC(t,e),max:TC(t,n)}}function TC(t,e){return typeof t=="number"?t:t[e]||0}const L7=new WeakMap;class j7{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=qe(),this.visualElement=e}start(e,{snapToCursor:n=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const i=d=>{const{dragSnapToOrigin:h}=this.getProps();h?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(tu(d).point)},s=(d,h)=>{const{drag:f,dragPropagation:v,onDragStart:w}=this.getProps();if(f&&!v&&(this.openDragLock&&this.openDragLock(),this.openDragLock=XB(f),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Cn(P=>{let _=this.getAxisMotionValue(P).get()||0;if(vr.test(_)){const{projection:E}=this.visualElement;if(E&&E.layout){const x=E.layout.layoutBox[P];x&&(_=Bt(x)*(parseFloat(_)/100))}}this.originPoint[P]=_}),w&&$e.postRender(()=>w(d,h)),dy(this.visualElement,"transform");const{animationState:S}=this.visualElement;S&&S.setActive("whileDrag",!0)},o=(d,h)=>{const{dragPropagation:f,dragDirectionLock:v,onDirectionLock:w,onDrag:S}=this.getProps();if(!f&&!this.openDragLock)return;const{offset:P}=h;if(v&&this.currentDirection===null){this.currentDirection=F7(P),this.currentDirection!==null&&w&&w(this.currentDirection);return}this.updateAxis("x",h.point,P),this.updateAxis("y",h.point,P),this.visualElement.render(),S&&S(d,h)},a=(d,h)=>this.stop(d,h),l=()=>Cn(d=>{var h;return this.getAnimationState(d)==="paused"&&((h=this.getAxisMotionValue(d).animation)==null?void 0:h.play())}),{dragSnapToOrigin:c}=this.getProps();this.panSession=new wA(e,{onSessionStart:i,onStart:s,onMove:o,onSessionEnd:a,resumeAnimation:l},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:c,contextWindow:_A(this.visualElement)})}stop(e,n){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:i}=n;this.startAnimation(i);const{onDragEnd:s}=this.getProps();s&&$e.postRender(()=>s(e,n))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,r){const{drag:i}=this.getProps();if(!r||!Gu(e,i,this.currentDirection))return;const s=this.getAxisMotionValue(e);let o=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(o=R7(o,this.constraints[e],this.elastic[e])),s.set(o)}resolveConstraints(){var s;const{dragConstraints:e,dragElastic:n}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(s=this.visualElement.projection)==null?void 0:s.layout,i=this.constraints;e&&To(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&r?this.constraints=A7(r.layoutBox,e):this.constraints=!1,this.elastic=M7(n),i!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&Cn(o=>{this.constraints!==!1&&this.getAxisMotionValue(o)&&(this.constraints[o]=O7(r.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!To(e))return!1;const r=e.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const s=T7(r,i.root,this.visualElement.getTransformPagePoint());let o=N7(i.layout.layoutBox,s);if(n){const a=n(y7(o));this.hasMutatedConstraints=!!a,a&&(o=fA(a))}return o}startAnimation(e){const{drag:n,dragMomentum:r,dragElastic:i,dragTransition:s,dragSnapToOrigin:o,onDragTransitionEnd:a}=this.getProps(),l=this.constraints||{},c=Cn(d=>{if(!Gu(d,n,this.currentDirection))return;let h=l&&l[d]||{};o&&(h={min:0,max:0});const f=i?200:1e6,v=i?40:1e7,w={type:"inertia",velocity:r?e[d]:0,bounceStiffness:f,bounceDamping:v,timeConstant:750,restDelta:1,restSpeed:10,...s,...h};return this.startAxisValueAnimation(d,w)});return Promise.all(c).then(a)}startAxisValueAnimation(e,n){const r=this.getAxisMotionValue(e);return dy(this.visualElement,e),r.start(T_(e,r,0,n,this.visualElement,!1))}stopAnimation(){Cn(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){Cn(e=>{var n;return(n=this.getAxisMotionValue(e).animation)==null?void 0:n.pause()})}getAnimationState(e){var n;return(n=this.getAxisMotionValue(e).animation)==null?void 0:n.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,r=this.visualElement.getProps(),i=r[n];return i||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){Cn(n=>{const{drag:r}=this.getProps();if(!Gu(n,r,this.currentDirection))return;const{projection:i}=this.visualElement,s=this.getAxisMotionValue(n);if(i&&i.layout){const{min:o,max:a}=i.layout.layoutBox[n];s.set(e[n]-je(o,a,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!To(n)||!r||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};Cn(o=>{const a=this.getAxisMotionValue(o);if(a&&this.constraints!==!1){const l=a.get();i[o]=D7({min:l,max:l},this.constraints[o])}});const{transformTemplate:s}=this.visualElement.getProps();this.visualElement.current.style.transform=s?s({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),Cn(o=>{if(!Gu(o,e,null))return;const a=this.getAxisMotionValue(o),{min:l,max:c}=this.constraints[o];a.set(je(l,c,i[o]))})}addListeners(){if(!this.visualElement.current)return;L7.set(this.visualElement,this);const e=this.visualElement.current,n=Fl(e,"pointerdown",l=>{const{drag:c,dragListener:d=!0}=this.getProps();c&&d&&this.start(l)}),r=()=>{const{dragConstraints:l}=this.getProps();To(l)&&l.current&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,s=i.addEventListener("measure",r);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),$e.read(r);const o=Tc(window,"resize",()=>this.scalePositionWithinConstraints()),a=i.addEventListener("didUpdate",({delta:l,hasLayoutChanged:c})=>{this.isDragging&&c&&(Cn(d=>{const h=this.getAxisMotionValue(d);h&&(this.originPoint[d]+=l[d].translate,h.set(h.get()+l[d].translate))}),this.visualElement.render())});return()=>{o(),n(),s(),a&&a()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:i=!1,dragConstraints:s=!1,dragElastic:o=my,dragMomentum:a=!0}=e;return{...e,drag:n,dragDirectionLock:r,dragPropagation:i,dragConstraints:s,dragElastic:o,dragMomentum:a}}}function Gu(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function F7(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class $7 extends Ji{constructor(e){super(e),this.removeGroupControls=Rn,this.removeListeners=Rn,this.controls=new j7(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Rn}unmount(){this.removeGroupControls(),this.removeListeners()}}const kC=t=>(e,n)=>{t&&$e.postRender(()=>t(e,n))};class V7 extends Ji{constructor(){super(...arguments),this.removePointerDownListener=Rn}onPointerDown(e){this.session=new wA(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:_A(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:r,onPanEnd:i}=this.node.getProps();return{onSessionStart:kC(e),onStart:kC(n),onMove:r,onEnd:(s,o)=>{delete this.session,i&&$e.postRender(()=>i(s,o))}}}mount(){this.removePointerDownListener=Fl(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const wd={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function IC(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const nl={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(Q.test(t))t=parseFloat(t);else return t;const n=IC(t,e.target.x),r=IC(t,e.target.y);return`${n}% ${r}%`}},U7={correct:(t,{treeScale:e,projectionDelta:n})=>{const r=t,i=Ui.parse(t);if(i.length>5)return r;const s=Ui.createTransformer(t),o=typeof i[0]!="number"?1:0,a=n.x.scale*e.x,l=n.y.scale*e.y;i[0+o]/=a,i[1+o]/=l;const c=je(a,l,.5);return typeof i[2+o]=="number"&&(i[2+o]/=c),typeof i[3+o]=="number"&&(i[3+o]/=c),s(i)}};class B7 extends k.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r,layoutId:i}=this.props,{projection:s}=e;Tz(z7),s&&(n.group&&n.group.add(s),r&&r.register&&i&&r.register(s),s.root.didUpdate(),s.addEventListener("animationComplete",()=>{this.safeToRemove()}),s.setOptions({...s.options,onExitComplete:()=>this.safeToRemove()})),wd.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:r,drag:i,isPresent:s}=this.props,{projection:o}=r;return o&&(o.isPresent=s,i||e.layoutDependency!==n||n===void 0||e.isPresent!==s?o.willUpdate():this.safeToRemove(),e.isPresent!==s&&(s?o.promote():o.relegate()||$e.postRender(()=>{const a=o.getStack();(!a||!a.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),m_.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:i}=e;i&&(i.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(i),r&&r.deregister&&r.deregister(i))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function EA(t){const[e,n]=YR(),r=k.useContext(G0);return m.jsx(B7,{...t,layoutGroup:r,switchLayoutGroup:k.useContext(eA),isPresent:e,safeToRemove:n})}const z7={borderRadius:{...nl,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:nl,borderTopRightRadius:nl,borderBottomLeftRadius:nl,borderBottomRightRadius:nl,boxShadow:U7};function W7(t,e,n){const r=Nt(t)?t:aa(t);return r.start(T_("",r,e,n)),r.animation}const H7=(t,e)=>t.depth-e.depth;class G7{constructor(){this.children=[],this.isDirty=!1}add(e){Y0(this.children,e),this.isDirty=!0}remove(e){X0(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(H7),this.isDirty=!1,this.children.forEach(e)}}function K7(t,e){const n=rn.now(),r=({timestamp:i})=>{const s=i-n;s>=e&&(Vi(r),t(s-e))};return $e.setup(r,!0),()=>Vi(r)}const CA=["TopLeft","TopRight","BottomLeft","BottomRight"],q7=CA.length,PC=t=>typeof t=="string"?parseFloat(t):t,RC=t=>typeof t=="number"||Q.test(t);function Y7(t,e,n,r,i,s){i?(t.opacity=je(0,n.opacity??1,X7(r)),t.opacityExit=je(e.opacity??1,0,J7(r))):s&&(t.opacity=je(e.opacity??1,n.opacity??1,r));for(let o=0;o<q7;o++){const a=`border${CA[o]}Radius`;let l=AC(e,a),c=AC(n,a);if(l===void 0&&c===void 0)continue;l||(l=0),c||(c=0),l===0||c===0||RC(l)===RC(c)?(t[a]=Math.max(je(PC(l),PC(c),r),0),(vr.test(c)||vr.test(l))&&(t[a]+="%")):t[a]=c}(e.rotate||n.rotate)&&(t.rotate=je(e.rotate||0,n.rotate||0,r))}function AC(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const X7=SA(0,.5,gR),J7=SA(.5,.95,Rn);function SA(t,e,n){return r=>r<t?0:r>e?1:n(wc(t,e,r))}function NC(t,e){t.min=e.min,t.max=e.max}function xn(t,e){NC(t.x,e.x),NC(t.y,e.y)}function DC(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function OC(t,e,n,r,i){return t-=e,t=Rh(t,1/n,r),i!==void 0&&(t=Rh(t,1/i,r)),t}function Q7(t,e=0,n=1,r=.5,i,s=t,o=t){if(vr.test(e)&&(e=parseFloat(e),e=je(o.min,o.max,e/100)-o.min),typeof e!="number")return;let a=je(s.min,s.max,r);t===s&&(a-=e),t.min=OC(t.min,e,n,a,i),t.max=OC(t.max,e,n,a,i)}function MC(t,e,[n,r,i],s,o){Q7(t,e[n],e[r],e[i],e.scale,s,o)}const Z7=["x","scaleX","originX"],e8=["y","scaleY","originY"];function LC(t,e,n,r){MC(t.x,e,Z7,n?n.x:void 0,r?r.x:void 0),MC(t.y,e,e8,n?n.y:void 0,r?r.y:void 0)}function jC(t){return t.translate===0&&t.scale===1}function bA(t){return jC(t.x)&&jC(t.y)}function FC(t,e){return t.min===e.min&&t.max===e.max}function t8(t,e){return FC(t.x,e.x)&&FC(t.y,e.y)}function $C(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function TA(t,e){return $C(t.x,e.x)&&$C(t.y,e.y)}function VC(t){return Bt(t.x)/Bt(t.y)}function UC(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class n8{constructor(){this.members=[]}add(e){Y0(this.members,e),e.scheduleRender()}remove(e){if(X0(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(i=>e===i);if(n===0)return!1;let r;for(let i=n;i>=0;i--){const s=this.members[i];if(s.isPresent!==!1){r=s;break}}return r?(this.promote(r),!0):!1}promote(e,n){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,n&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:i}=e.options;i===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:r}=e;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function r8(t,e,n){let r="";const i=t.x.translate/e.x,s=t.y.translate/e.y,o=(n==null?void 0:n.z)||0;if((i||s||o)&&(r=`translate3d(${i}px, ${s}px, ${o}px) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:c,rotate:d,rotateX:h,rotateY:f,skewX:v,skewY:w}=n;c&&(r=`perspective(${c}px) ${r}`),d&&(r+=`rotate(${d}deg) `),h&&(r+=`rotateX(${h}deg) `),f&&(r+=`rotateY(${f}deg) `),v&&(r+=`skewX(${v}deg) `),w&&(r+=`skewY(${w}deg) `)}const a=t.x.scale*e.x,l=t.y.scale*e.y;return(a!==1||l!==1)&&(r+=`scale(${a}, ${l})`),r||"none"}const ym=["","X","Y","Z"],i8={visibility:"hidden"},s8=1e3;let o8=0;function vm(t,e,n,r){const{latestValues:i}=e;i[t]&&(n[t]=i[t],e.setStaticValue(t,0),r&&(r[t]=0))}function kA(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=cA(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:i,layoutId:s}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",$e,!(i||s))}const{parent:r}=t;r&&!r.hasCheckedOptimisedAppear&&kA(r)}function IA({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:r,resetTransform:i}){return class{constructor(o={},a=e==null?void 0:e()){this.id=o8++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(c8),this.nodes.forEach(p8),this.nodes.forEach(m8),this.nodes.forEach(u8)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=a?a.root||a:this,this.path=a?[...a.path,a]:[],this.parent=a,this.depth=a?a.depth+1:0;for(let l=0;l<this.path.length;l++)this.path[l].shouldResetTransform=!0;this.root===this&&(this.nodes=new G7)}addEventListener(o,a){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new Z0),this.eventHandlers.get(o).add(a)}notifyListeners(o,...a){const l=this.eventHandlers.get(o);l&&l.notify(...a)}hasListeners(o){return this.eventHandlers.has(o)}mount(o){if(this.instance)return;this.isSVG=qR(o)&&!nz(o),this.instance=o;const{layoutId:a,layout:l,visualElement:c}=this.options;if(c&&!c.current&&c.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(l||a)&&(this.isLayoutDirty=!0),t){let d;const h=()=>this.root.updateBlockedByResize=!1;t(o,()=>{this.root.updateBlockedByResize=!0,d&&d(),d=K7(h,250),wd.hasAnimatedSinceResize&&(wd.hasAnimatedSinceResize=!1,this.nodes.forEach(zC))})}a&&this.root.registerSharedNode(a,this),this.options.animate!==!1&&c&&(a||l)&&this.addEventListener("didUpdate",({delta:d,hasLayoutChanged:h,hasRelativeLayoutChanged:f,layout:v})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const w=this.options.transition||c.getDefaultTransition()||w8,{onLayoutAnimationStart:S,onLayoutAnimationComplete:P}=c.getProps(),_=!this.targetLayout||!TA(this.targetLayout,v),E=!h&&f;if(this.options.layoutRoot||this.resumeFrom||E||h&&(_||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(d,E);const x={...f_(w,"layout"),onPlay:S,onComplete:P};(c.shouldReduceMotion||this.options.layoutRoot)&&(x.delay=0,x.type=!1),this.startAnimation(x)}else h||zC(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=v})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),Vi(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(g8),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&kA(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let d=0;d<this.path.length;d++){const h=this.path[d];h.shouldResetTransform=!0,h.updateScroll("snapshot"),h.options.layoutRoot&&h.willUpdate(!1)}const{layoutId:a,layout:l}=this.options;if(a===void 0&&!l)return;const c=this.getTransformTemplate();this.prevTransformTemplateValue=c?c(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(BC);return}this.isUpdating||this.nodes.forEach(h8),this.isUpdating=!1,this.nodes.forEach(f8),this.nodes.forEach(a8),this.nodes.forEach(l8),this.clearAllSnapshots();const a=rn.now();yt.delta=Xr(0,1e3/60,a-yt.timestamp),yt.timestamp=a,yt.isProcessing=!0,lm.update.process(yt),lm.preRender.process(yt),lm.render.process(yt),yt.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,m_.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(d8),this.sharedNodes.forEach(y8)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,$e.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){$e.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!Bt(this.snapshot.measuredBox.x)&&!Bt(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let l=0;l<this.path.length;l++)this.path[l].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=qe(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:a}=this.options;a&&a.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let a=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(a=!1),a&&this.instance){const l=r(this.instance);this.scroll={animationId:this.root.animationId,phase:o,isRoot:l,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:l}}}resetTransform(){if(!i)return;const o=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,a=this.projectionDelta&&!bA(this.projectionDelta),l=this.getTransformTemplate(),c=l?l(this.latestValues,""):void 0,d=c!==this.prevTransformTemplateValue;o&&this.instance&&(a||cs(this.latestValues)||d)&&(i(this.instance,c),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const a=this.measurePageBox();let l=this.removeElementScroll(a);return o&&(l=this.removeTransform(l)),x8(l),{animationId:this.root.animationId,measuredBox:a,layoutBox:l,latestValues:{},source:this.id}}measurePageBox(){var c;const{visualElement:o}=this.options;if(!o)return qe();const a=o.measureViewportBox();if(!(((c=this.scroll)==null?void 0:c.wasRoot)||this.path.some(E8))){const{scroll:d}=this.root;d&&(Io(a.x,d.offset.x),Io(a.y,d.offset.y))}return a}removeElementScroll(o){var l;const a=qe();if(xn(a,o),(l=this.scroll)!=null&&l.wasRoot)return a;for(let c=0;c<this.path.length;c++){const d=this.path[c],{scroll:h,options:f}=d;d!==this.root&&h&&f.layoutScroll&&(h.wasRoot&&xn(a,o),Io(a.x,h.offset.x),Io(a.y,h.offset.y))}return a}applyTransform(o,a=!1){const l=qe();xn(l,o);for(let c=0;c<this.path.length;c++){const d=this.path[c];!a&&d.options.layoutScroll&&d.scroll&&d!==d.root&&Po(l,{x:-d.scroll.offset.x,y:-d.scroll.offset.y}),cs(d.latestValues)&&Po(l,d.latestValues)}return cs(this.latestValues)&&Po(l,this.latestValues),l}removeTransform(o){const a=qe();xn(a,o);for(let l=0;l<this.path.length;l++){const c=this.path[l];if(!c.instance||!cs(c.latestValues))continue;fy(c.latestValues)&&c.updateSnapshot();const d=qe(),h=c.measurePageBox();xn(d,h),LC(a,c.latestValues,c.snapshot?c.snapshot.layoutBox:void 0,d)}return cs(this.latestValues)&&LC(a,this.latestValues),a}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==yt.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var f;const a=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=a.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=a.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=a.isSharedProjectionDirty);const l=!!this.resumingFrom||this!==a;if(!(o||l&&this.isSharedProjectionDirty||this.isProjectionDirty||(f=this.parent)!=null&&f.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:d,layoutId:h}=this.options;if(!(!this.layout||!(d||h))){if(this.resolvedRelativeTargetAt=yt.timestamp,!this.targetDelta&&!this.relativeTarget){const v=this.getClosestProjectingParent();v&&v.layout&&this.animationProgress!==1?(this.relativeParent=v,this.forceRelativeParentToResolveTarget(),this.relativeTarget=qe(),this.relativeTargetOrigin=qe(),Vl(this.relativeTargetOrigin,this.layout.layoutBox,v.layout.layoutBox),xn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=qe(),this.targetWithTransforms=qe()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),S7(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):xn(this.target,this.layout.layoutBox),yA(this.target,this.targetDelta)):xn(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const v=this.getClosestProjectingParent();v&&!!v.resumingFrom==!!this.resumingFrom&&!v.options.layoutScroll&&v.target&&this.animationProgress!==1?(this.relativeParent=v,this.forceRelativeParentToResolveTarget(),this.relativeTarget=qe(),this.relativeTargetOrigin=qe(),Vl(this.relativeTargetOrigin,this.target,v.target),xn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||fy(this.parent.latestValues)||gA(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var w;const o=this.getLead(),a=!!this.resumingFrom||this!==o;let l=!0;if((this.isProjectionDirty||(w=this.parent)!=null&&w.isProjectionDirty)&&(l=!1),a&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(l=!1),this.resolvedRelativeTargetAt===yt.timestamp&&(l=!1),l)return;const{layout:c,layoutId:d}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(c||d))return;xn(this.layoutCorrected,this.layout.layoutBox);const h=this.treeScale.x,f=this.treeScale.y;b7(this.layoutCorrected,this.treeScale,this.path,a),o.layout&&!o.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(o.target=o.layout.layoutBox,o.targetWithTransforms=qe());const{target:v}=o;if(!v){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(DC(this.prevProjectionDelta.x,this.projectionDelta.x),DC(this.prevProjectionDelta.y,this.projectionDelta.y)),$l(this.projectionDelta,this.layoutCorrected,v,this.latestValues),(this.treeScale.x!==h||this.treeScale.y!==f||!UC(this.projectionDelta.x,this.prevProjectionDelta.x)||!UC(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",v))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){var a;if((a=this.options.visualElement)==null||a.scheduleRender(),o){const l=this.getStack();l&&l.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=ko(),this.projectionDelta=ko(),this.projectionDeltaWithTransform=ko()}setAnimationOrigin(o,a=!1){const l=this.snapshot,c=l?l.latestValues:{},d={...this.latestValues},h=ko();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!a;const f=qe(),v=l?l.source:void 0,w=this.layout?this.layout.source:void 0,S=v!==w,P=this.getStack(),_=!P||P.members.length<=1,E=!!(S&&!_&&this.options.crossfade===!0&&!this.path.some(_8));this.animationProgress=0;let x;this.mixTargetDelta=A=>{const D=A/1e3;WC(h.x,o.x,D),WC(h.y,o.y,D),this.setTargetDelta(h),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Vl(f,this.layout.layoutBox,this.relativeParent.layout.layoutBox),v8(this.relativeTarget,this.relativeTargetOrigin,f,D),x&&t8(this.relativeTarget,x)&&(this.isProjectionDirty=!1),x||(x=qe()),xn(x,this.relativeTarget)),S&&(this.animationValues=d,Y7(d,c,this.latestValues,D,E,_)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=D},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){var a,l,c;this.notifyListeners("animationStart"),(a=this.currentAnimation)==null||a.stop(!1),(c=(l=this.resumingFrom)==null?void 0:l.currentAnimation)==null||c.stop(!1),this.pendingAnimation&&(Vi(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=$e.update(()=>{wd.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=aa(0)),this.currentAnimation=W7(this.motionValue,[0,1e3],{...o,isSync:!0,onUpdate:d=>{this.mixTargetDelta(d),o.onUpdate&&o.onUpdate(d)},onStop:()=>{},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(s8),this.currentAnimation.stop(!1)),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:a,target:l,layout:c,latestValues:d}=o;if(!(!a||!l||!c)){if(this!==o&&this.layout&&c&&PA(this.options.animationType,this.layout.layoutBox,c.layoutBox)){l=this.target||qe();const h=Bt(this.layout.layoutBox.x);l.x.min=o.target.x.min,l.x.max=l.x.min+h;const f=Bt(this.layout.layoutBox.y);l.y.min=o.target.y.min,l.y.max=l.y.min+f}xn(a,l),Po(a,d),$l(this.projectionDeltaWithTransform,this.layoutCorrected,a,d)}}registerSharedNode(o,a){this.sharedNodes.has(o)||this.sharedNodes.set(o,new n8),this.sharedNodes.get(o).add(a);const c=a.options.initialPromotionConfig;a.promote({transition:c?c.transition:void 0,preserveFollowOpacity:c&&c.shouldPreserveFollowOpacity?c.shouldPreserveFollowOpacity(a):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var a;const{layoutId:o}=this.options;return o?((a=this.getStack())==null?void 0:a.lead)||this:this}getPrevLead(){var a;const{layoutId:o}=this.options;return o?(a=this.getStack())==null?void 0:a.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:a,preserveFollowOpacity:l}={}){const c=this.getStack();c&&c.promote(this,l),o&&(this.projectionDelta=void 0,this.needsReset=!0),a&&this.setOptions({transition:a})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetSkewAndRotation(){const{visualElement:o}=this.options;if(!o)return;let a=!1;const{latestValues:l}=o;if((l.z||l.rotate||l.rotateX||l.rotateY||l.rotateZ||l.skewX||l.skewY)&&(a=!0),!a)return;const c={};l.z&&vm("z",o,c,this.animationValues);for(let d=0;d<ym.length;d++)vm(`rotate${ym[d]}`,o,c,this.animationValues),vm(`skew${ym[d]}`,o,c,this.animationValues);o.render();for(const d in c)o.setStaticValue(d,c[d]),this.animationValues&&(this.animationValues[d]=c[d]);o.scheduleRender()}getProjectionStyles(o){if(!this.instance||this.isSVG)return;if(!this.isVisible)return i8;const a={visibility:""},l=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,a.opacity="",a.pointerEvents=_d(o==null?void 0:o.pointerEvents)||"",a.transform=l?l(this.latestValues,""):"none",a;const c=this.getLead();if(!this.projectionDelta||!this.layout||!c.target){const v={};return this.options.layoutId&&(v.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,v.pointerEvents=_d(o==null?void 0:o.pointerEvents)||""),this.hasProjected&&!cs(this.latestValues)&&(v.transform=l?l({},""):"none",this.hasProjected=!1),v}const d=c.animationValues||c.latestValues;this.applyTransformsToTarget(),a.transform=r8(this.projectionDeltaWithTransform,this.treeScale,d),l&&(a.transform=l(d,a.transform));const{x:h,y:f}=this.projectionDelta;a.transformOrigin=`${h.origin*100}% ${f.origin*100}% 0`,c.animationValues?a.opacity=c===this?d.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:d.opacityExit:a.opacity=c===this?d.opacity!==void 0?d.opacity:"":d.opacityExit!==void 0?d.opacityExit:0;for(const v in Sc){if(d[v]===void 0)continue;const{correct:w,applyTo:S,isCSSVariable:P}=Sc[v],_=a.transform==="none"?d[v]:w(d[v],c);if(S){const E=S.length;for(let x=0;x<E;x++)a[S[x]]=_}else P?this.options.visualElement.renderState.vars[v]=_:a[v]=_}return this.options.layoutId&&(a.pointerEvents=c===this?_d(o==null?void 0:o.pointerEvents)||"":"none"),a}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var a;return(a=o.currentAnimation)==null?void 0:a.stop(!1)}),this.root.nodes.forEach(BC),this.root.sharedNodes.clear()}}}function a8(t){t.updateLayout()}function l8(t){var n;const e=((n=t.resumeFrom)==null?void 0:n.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&e&&t.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:i}=t.layout,{animationType:s}=t.options,o=e.source!==t.layout.source;s==="size"?Cn(h=>{const f=o?e.measuredBox[h]:e.layoutBox[h],v=Bt(f);f.min=r[h].min,f.max=f.min+v}):PA(s,e.layoutBox,r)&&Cn(h=>{const f=o?e.measuredBox[h]:e.layoutBox[h],v=Bt(r[h]);f.max=f.min+v,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[h].max=t.relativeTarget[h].min+v)});const a=ko();$l(a,r,e.layoutBox);const l=ko();o?$l(l,t.applyTransform(i,!0),e.measuredBox):$l(l,r,e.layoutBox);const c=!bA(a);let d=!1;if(!t.resumeFrom){const h=t.getClosestProjectingParent();if(h&&!h.resumeFrom){const{snapshot:f,layout:v}=h;if(f&&v){const w=qe();Vl(w,e.layoutBox,f.layoutBox);const S=qe();Vl(S,r,v.layoutBox),TA(w,S)||(d=!0),h.options.layoutRoot&&(t.relativeTarget=S,t.relativeTargetOrigin=w,t.relativeParent=h)}}}t.notifyListeners("didUpdate",{layout:r,snapshot:e,delta:l,layoutDelta:a,hasLayoutChanged:c,hasRelativeLayoutChanged:d})}else if(t.isLead()){const{onExitComplete:r}=t.options;r&&r()}t.options.transition=void 0}function c8(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function u8(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function d8(t){t.clearSnapshot()}function BC(t){t.clearMeasurements()}function h8(t){t.isLayoutDirty=!1}function f8(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function zC(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function p8(t){t.resolveTargetDelta()}function m8(t){t.calcProjection()}function g8(t){t.resetSkewAndRotation()}function y8(t){t.removeLeadSnapshot()}function WC(t,e,n){t.translate=je(e.translate,0,n),t.scale=je(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function HC(t,e,n,r){t.min=je(e.min,n.min,r),t.max=je(e.max,n.max,r)}function v8(t,e,n,r){HC(t.x,e.x,n.x,r),HC(t.y,e.y,n.y,r)}function _8(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const w8={duration:.45,ease:[.4,0,.1,1]},GC=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),KC=GC("applewebkit/")&&!GC("chrome/")?Math.round:Rn;function qC(t){t.min=KC(t.min),t.max=KC(t.max)}function x8(t){qC(t.x),qC(t.y)}function PA(t,e,n){return t==="position"||t==="preserve-aspect"&&!C7(VC(e),VC(n),.2)}function E8(t){var e;return t!==t.root&&((e=t.scroll)==null?void 0:e.wasRoot)}const C8=IA({attachResizeListener:(t,e)=>Tc(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),_m={current:void 0},RA=IA({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!_m.current){const t=new C8({});t.mount(window),t.setOptions({layoutScroll:!0}),_m.current=t}return _m.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),S8={pan:{Feature:V7},drag:{Feature:$7,ProjectionNode:RA,MeasureLayout:EA}};function YC(t,e,n){const{props:r}=t;t.animationState&&r.whileHover&&t.animationState.setActive("whileHover",n==="Start");const i="onHover"+n,s=r[i];s&&$e.postRender(()=>s(e,tu(e)))}class b8 extends Ji{mount(){const{current:e}=this.node;e&&(this.unmount=JB(e,(n,r)=>(YC(this.node,r,"Start"),i=>YC(this.node,i,"End"))))}unmount(){}}class T8 extends Ji{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Qc(Tc(this.node.current,"focus",()=>this.onFocus()),Tc(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function XC(t,e,n){const{props:r}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&r.whileTap&&t.animationState.setActive("whileTap",n==="Start");const i="onTap"+(n==="End"?"":n),s=r[i];s&&$e.postRender(()=>s(e,tu(e)))}class k8 extends Ji{mount(){const{current:e}=this.node;e&&(this.unmount=tz(e,(n,r)=>(XC(this.node,r,"Start"),(i,{success:s})=>XC(this.node,i,s?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const gy=new WeakMap,wm=new WeakMap,I8=t=>{const e=gy.get(t.target);e&&e(t)},P8=t=>{t.forEach(I8)};function R8({root:t,...e}){const n=t||document;wm.has(n)||wm.set(n,{});const r=wm.get(n),i=JSON.stringify(e);return r[i]||(r[i]=new IntersectionObserver(P8,{root:t,...e})),r[i]}function A8(t,e,n){const r=R8(e);return gy.set(t,n),r.observe(t),()=>{gy.delete(t),r.unobserve(t)}}const N8={some:0,all:1};class D8 extends Ji{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:r,amount:i="some",once:s}=e,o={root:n?n.current:void 0,rootMargin:r,threshold:typeof i=="number"?i:N8[i]},a=l=>{const{isIntersecting:c}=l;if(this.isInView===c||(this.isInView=c,s&&!c&&this.hasEnteredView))return;c&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",c);const{onViewportEnter:d,onViewportLeave:h}=this.node.getProps(),f=c?d:h;f&&f(l)};return A8(this.node.current,o,a)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(O8(e,n))&&this.startObserver()}unmount(){}}function O8({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const M8={inView:{Feature:D8},tap:{Feature:k8},focus:{Feature:T8},hover:{Feature:b8}},L8={layout:{ProjectionNode:RA,MeasureLayout:EA}},yy={current:null},AA={current:!1};function j8(){if(AA.current=!0,!!q0)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>yy.current=t.matches;t.addListener(e),e()}else yy.current=!1}const F8=new WeakMap;function $8(t,e,n){for(const r in e){const i=e[r],s=n[r];if(Nt(i))t.addValue(r,i);else if(Nt(s))t.addValue(r,aa(i,{owner:t}));else if(s!==i)if(t.hasValue(r)){const o=t.getValue(r);o.liveStyle===!0?o.jump(i):o.hasAnimated||o.set(i)}else{const o=t.getStaticValue(r);t.addValue(r,aa(o!==void 0?o:i,{owner:t}))}}for(const r in n)e[r]===void 0&&t.removeValue(r);return e}const JC=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class V8{scrapeMotionValuesFromProps(e,n,r){return{}}constructor({parent:e,props:n,presenceContext:r,reducedMotionConfig:i,blockInitialAnimation:s,visualState:o},a={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=d_,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const f=rn.now();this.renderScheduledAt<f&&(this.renderScheduledAt=f,$e.render(this.render,!1,!0))};const{latestValues:l,renderState:c}=o;this.latestValues=l,this.baseTarget={...l},this.initialValues=n.initial?{...l}:{},this.renderState=c,this.parent=e,this.props=n,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=i,this.options=a,this.blockInitialAnimation=!!s,this.isControllingVariants=Sf(n),this.isVariantNode=QR(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:d,...h}=this.scrapeMotionValuesFromProps(n,{},this);for(const f in h){const v=h[f];l[f]!==void 0&&Nt(v)&&v.set(l[f],!1)}}mount(e){this.current=e,F8.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),AA.current||j8(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:yy.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),Vi(this.notifyUpdate),Vi(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const n=this.features[e];n&&(n.unmount(),n.isMounted=!1)}this.current=null}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const r=ka.has(e);r&&this.onBindTransform&&this.onBindTransform();const i=n.on("change",a=>{this.latestValues[e]=a,this.props.onUpdate&&$e.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0)}),s=n.on("renderRequest",this.scheduleRender);let o;window.MotionCheckAppearSync&&(o=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{i(),s(),o&&o(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in la){const n=la[e];if(!n)continue;const{isEnabled:r,Feature:i}=n;if(!this.features[e]&&i&&r(this.props)&&(this.features[e]=new i(this)),this.features[e]){const s=this.features[e];s.isMounted?s.update():(s.mount(),s.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):qe()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<JC.length;r++){const i=JC[r];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const s="on"+i,o=e[s];o&&(this.propEventSubscriptions[i]=this.on(i,o))}this.prevMotionValues=$8(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const r=this.values.get(e);n!==r&&(r&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&n!==void 0&&(r=aa(n===null?void 0:n,{owner:this}),this.addValue(e,r)),r}readValue(e,n){let r=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return r!=null&&(typeof r=="string"&&(oR(r)||lR(r))?r=parseFloat(r):!iz(r)&&Ui.test(n)&&(r=zR(e,n)),this.setBaseTarget(e,Nt(r)?r.get():r)),Nt(r)?r.get():r}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var s;const{initial:n}=this.props;let r;if(typeof n=="string"||typeof n=="object"){const o=S_(this.props,n,(s=this.presenceContext)==null?void 0:s.custom);o&&(r=o[e])}if(n&&r!==void 0)return r;const i=this.getBaseTargetFromProps(this.props,e);return i!==void 0&&!Nt(i)?i:this.initialValues[e]!==void 0&&r===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new Z0),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}}class NA extends V8{constructor(){super(...arguments),this.KeyframeResolver=GB}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:r}){delete n[e],delete r[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;Nt(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function DA(t,{style:e,vars:n},r,i){Object.assign(t.style,e,i&&i.getProjectionStyles(r));for(const s in n)t.style.setProperty(s,n[s])}function U8(t){return window.getComputedStyle(t)}class B8 extends NA{constructor(){super(...arguments),this.type="html",this.renderInstance=DA}readValueFromInstance(e,n){var r;if(ka.has(n))return(r=this.projection)!=null&&r.isProjecting?iy(n):dB(e,n);{const i=U8(e),s=(n_(n)?i.getPropertyValue(n):i[n])||0;return typeof s=="string"?s.trim():s}}measureInstanceViewportBox(e,{transformPagePoint:n}){return vA(e,n)}build(e,n,r){x_(e,n,r.transformTemplate)}scrapeMotionValuesFromProps(e,n,r){return b_(e,n,r)}}const OA=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function z8(t,e,n,r){DA(t,e,void 0,r);for(const i in e.attrs)t.setAttribute(OA.has(i)?i:w_(i),e.attrs[i])}class W8 extends NA{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=qe}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(ka.has(n)){const r=BR(n);return r&&r.default||0}return n=OA.has(n)?n:w_(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,r){return lA(e,n,r)}build(e,n,r){iA(e,n,this.isSVGTag,r.transformTemplate,r.style)}renderInstance(e,n,r,i){z8(e,n,r,i)}mount(e){this.isSVGTag=oA(e.tagName),super.mount(e)}}const H8=(t,e)=>C_(t)?new W8(e):new B8(e,{allowProjection:t!==k.Fragment}),G8=zz({...m7,...M8,...S8,...L8},H8),K8=pz(G8);function q8(){const t=Gi(),e=useLocation(),[n,r]=k.useState(null),[i,s]=k.useState(Array(6).fill({nombre:"",dorsal:""})),[o,a]=k.useState(Array(6).fill({nombre:"",dorsal:""})),[l,c]=k.useState(null);k.useState(!1),k.useEffect(()=>{e.state&&e.state.equipoLocal&&e.state.equipoVisita&&e.state.genero&&e.state.fecha?(console.log("[Alineacion.jsx] Datos recibidos de Match.jsx:",e.state),r(e.state)):(console.warn("[Alineacion.jsx] No se recibieron datos de configuracin del partido. Redirigiendo a configurar."),t("/partido/configurar"))},[e.state,t]);const d=(_,E)=>{const x=E==="local"?i[_]:o[_],A=E==="local"?i:o,D=E==="local"?equipoLocal==null?void 0:equipoLocal.nombre:equipoVisita==null?void 0:equipoVisita.nombre;c({tipo:E,index:_,jugador:x,jugadoresActuales:A,nombreEquipo:D,generoPartido:genero})},h=(_,E,x)=>{if(E==="local"){const A=[...i];A[_]=x,s(A)}else{const A=[...o];A[_]=x,a(A)}c(null)},f=async()=>{let _=null;try{const E=I=>I.every(g=>g.nombre.trim()!==""&&g.dorsal.trim()!=="");if(!E(i)||!E(o)){alert("Todos los jugadores deben tener nombre y dorsal antes de continuar.");return}const x=le(oe,"partidos");_=fl(x).key;let D=[],M=[];try{const I=await Di(le(oe,`plantillas/${genero.toLowerCase()}/${equipoLocal.nombre.toLowerCase()}`)),g=await Di(le(oe,`plantillas/${genero.toLowerCase()}/${equipoVisita.nombre.toLowerCase()}`));I.exists()?D=I.val():D=pl[equipoLocal.nombre.toLowerCase()]||[],g.exists()?M=g.val():M=pl[equipoVisita.nombre.toLowerCase()]||[]}catch(I){console.error("Error cargando plantillas de suplentes (Alineacion.jsx):",I),D=pl[equipoLocal.nombre.toLowerCase()]||[],M=pl[equipoVisita.nombre.toLowerCase()]||[]}const b={nombre:equipoLocal.nombre,logo:equipoLocal.escudo.split("/").pop(),camisa:`camisa-${equipoLocal.nombre.toLowerCase().replace(/\s+/g,"-")}.png`,jugadores:i.map(I=>({...I,enJuego:!0,haJugado:!0})),todosJugadores:D,genero},C={nombre:equipoVisita.nombre,logo:equipoVisita.escudo.split("/").pop(),camisa:`camisa-${equipoVisita.nombre.toLowerCase().replace(/\s+/g,"-")}.png`,jugadores:o.map(I=>({...I,enJuego:!0,haJugado:!0})),todosJugadores:M,genero};console.log("Guardando alineacin",{equipo1:b,equipo2:C,genero,partidoId:_}),await At(le(oe,`partidos/${_}/alineacion`),{equipo1:b,equipo2:C,genero}),await At(le(oe,`partidos/${_}/marcador`),{equipo1:0,equipo2:0}),console.log(" Navegando a control (OK)",_),t(`/control/${_}`)}catch(E){alert(" ERROR al confirmar alineacin: "+E.message),console.error("Error al confirmar alineacin:",E);const x=_||"debug-fallback";console.log(" Forzando navegacin a control:",x),t(`/control/${x}`)}},v=_=>`/EmproChampions-2025/camisas/camisa-${_.toLowerCase().replace(/\s+/g,"-")}.png`,w=_=>["don bosco","luz","emprosaurios"].includes(_.toLowerCase())?"#000":"#fff",S=[{top:"15%",left:"18%"},{top:"15%",left:"62%"},{top:"38%",left:"40%"},{top:"55%",left:"17%"},{top:"55%",left:"63%"},{top:"74%",left:"40%"}],P=(_,E,x,A)=>{const D=(l==null?void 0:l.index)===E&&(l==null?void 0:l.tipo)===x;return m.jsx(K8.div,{className:"absolute cursor-pointer",style:{top:S[E].top,left:S[E].left,transform:"translate(-50%, -50%)"},animate:D?{scale:1.5,rotate:1.5}:{scale:1,rotate:0},transition:{duration:.3},onClick:()=>d(E,x),children:m.jsxs("div",{className:"relative w-fit flex flex-col items-center",children:[m.jsx("div",{className:"absolute top-[12%] font-barcelona text-[24px] md:text-[30px] z-20 pointer-events-none",style:{color:w((x==="local"?equipoLocal==null?void 0:equipoLocal.nombre:equipoVisita==null?void 0:equipoVisita.nombre)||""),textShadow:"1px 1px 1px rgba(0,0,0,0.6)"},children:_.dorsal}),m.jsx("img",{src:A,className:"w-16 md:w-20 relative z-10",alt:`jugador-${x}`}),_.nombre&&m.jsx("div",{className:"absolute bottom-[-18px] font-barcelona text-[11px] text-white bg-black/80 px-2 py-[2px] rounded text-center z-20",children:_.nombre})]})},E)};return!equipoLocal||!equipoVisita?null:m.jsxs("div",{className:"min-h-screen bg-cover bg-center font-qatar text-white",style:{backgroundImage:"url('/EmproChampions-2025/img/fondoempro-horizontal.png')"},children:[m.jsx(Ks,{}),m.jsx("h1",{className:"text-3xl sm:text-5xl font-bold text-center mt-6 text-yellow-400 drop-shadow",children:"Alineacin Inicial"}),m.jsxs("div",{className:"flex flex-col lg:flex-row items-center justify-center gap-8 p-4 lg:p-6",children:[m.jsxs("div",{className:"relative w-[320px] h-[540px] md:w-[400px] md:h-[640px]",children:[m.jsx("img",{src:"/EmproChampions-2025/img/cancha-vertical.svg",alt:"cancha local",className:"w-full h-full"}),i.map((_,E)=>P(_,E,"local",v(equipoLocal.nombre)))]}),m.jsxs("div",{className:"flex flex-col items-center gap-6",children:[m.jsx("img",{src:"/img/logo-empro.png",alt:"logo empro",className:"w-24 md:w-32"}),m.jsxs("div",{className:"flex items-center gap-10",children:[m.jsx("img",{src:equipoLocal.escudo,className:"w-50 h-60 object-contain",alt:"local logo"}),m.jsx("span",{className:"text-white text-4xl font-black",children:"V"}),m.jsx("img",{src:equipoVisita.escudo,className:"w-50 h-60 object-contain",alt:"visita logo"})]}),m.jsx("button",{onClick:()=>t("/match"),className:"bg-white/80 text-[#7a0026] font-bold px-6 py-2 rounded-full hover:bg-white transition",children:" Volver a Equipos"})]}),m.jsxs("div",{className:"relative w-[320px] h-[540px] md:w-[400px] md:h-[640px]",children:[m.jsx("img",{src:"/EmproChampions-2025/img/cancha-vertical.svg",alt:"cancha visita",className:"w-full h-full"}),o.map((_,E)=>P(_,E,"visita",v(equipoVisita.nombre)))]})]}),m.jsx("div",{className:"flex justify-center mt-6 pb-10",children:m.jsx("button",{onClick:f,className:"bg-[#FFD700] text-[#7a0026] font-bold px-10 py-3 rounded-full hover:bg-yellow-300 transition text-xl shadow-lg",children:"Confirmar Alineacin"})}),m.jsx(cz,{children:l&&m.jsx(l9,{tipo:l.tipo,index:l.index,jugador:l.jugador,onSave:h,onClose:()=>c(null),camiseta:v(l.tipo==="local"?equipoLocal.nombre:equipoVisita.nombre),dorsalColor:w(l.tipo==="local"?equipoLocal.nombre:equipoVisita.nombre),jugadoresActuales:l.jugadoresActuales,nombreEquipo:l.nombreEquipo,generoPartido:l.generoPartido})})]})}function $s(t){return t&&t.ownerDocument||document}function Ah(t){return $s(t).defaultView||window}function Y8(t=window){const e=t.document.documentElement.clientWidth;return t.innerWidth-e}function X8(t){const e=$s(t);return e.body===t?Ah(t).innerWidth>e.documentElement.clientWidth:t.scrollHeight>t.clientHeight}function Ul(t,e){e?t.setAttribute("aria-hidden","true"):t.removeAttribute("aria-hidden")}function QC(t){return parseInt(Ah(t).getComputedStyle(t).paddingRight,10)||0}function J8(t){const n=["TEMPLATE","SCRIPT","STYLE","LINK","MAP","META","NOSCRIPT","PICTURE","COL","COLGROUP","PARAM","SLOT","SOURCE","TRACK"].includes(t.tagName),r=t.tagName==="INPUT"&&t.getAttribute("type")==="hidden";return n||r}function ZC(t,e,n,r,i){const s=[e,n,...r];[].forEach.call(t.children,o=>{const a=!s.includes(o),l=!J8(o);a&&l&&Ul(o,i)})}function xm(t,e){let n=-1;return t.some((r,i)=>e(r)?(n=i,!0):!1),n}function Q8(t,e){const n=[],r=t.container;if(!e.disableScrollLock){if(X8(r)){const o=Y8(Ah(r));n.push({value:r.style.paddingRight,property:"padding-right",el:r}),r.style.paddingRight=`${QC(r)+o}px`;const a=$s(r).querySelectorAll(".mui-fixed");[].forEach.call(a,l=>{n.push({value:l.style.paddingRight,property:"padding-right",el:l}),l.style.paddingRight=`${QC(l)+o}px`})}let s;if(r.parentNode instanceof DocumentFragment)s=$s(r).body;else{const o=r.parentElement,a=Ah(r);s=(o==null?void 0:o.nodeName)==="HTML"&&a.getComputedStyle(o).overflowY==="scroll"?o:r}n.push({value:s.style.overflow,property:"overflow",el:s},{value:s.style.overflowX,property:"overflow-x",el:s},{value:s.style.overflowY,property:"overflow-y",el:s}),s.style.overflow="hidden"}return()=>{n.forEach(({value:s,el:o,property:a})=>{s?o.style.setProperty(a,s):o.style.removeProperty(a)})}}function Z8(t){const e=[];return[].forEach.call(t.children,n=>{n.getAttribute("aria-hidden")==="true"&&e.push(n)}),e}class eW{constructor(){this.modals=[],this.containers=[]}add(e,n){let r=this.modals.indexOf(e);if(r!==-1)return r;r=this.modals.length,this.modals.push(e),e.modalRef&&Ul(e.modalRef,!1);const i=Z8(n);ZC(n,e.mount,e.modalRef,i,!0);const s=xm(this.containers,o=>o.container===n);return s!==-1?(this.containers[s].modals.push(e),r):(this.containers.push({modals:[e],container:n,restore:null,hiddenSiblings:i}),r)}mount(e,n){const r=xm(this.containers,s=>s.modals.includes(e)),i=this.containers[r];i.restore||(i.restore=Q8(i,n))}remove(e,n=!0){const r=this.modals.indexOf(e);if(r===-1)return r;const i=xm(this.containers,o=>o.modals.includes(e)),s=this.containers[i];if(s.modals.splice(s.modals.indexOf(e),1),this.modals.splice(r,1),s.modals.length===0)s.restore&&s.restore(),e.modalRef&&Ul(e.modalRef,n),ZC(s.container,e.mount,e.modalRef,s.hiddenSiblings,!1),this.containers.splice(i,1);else{const o=s.modals[s.modals.length-1];o.modalRef&&Ul(o.modalRef,!1)}return r}isTopModal(e){return this.modals.length>0&&this.modals[this.modals.length-1]===e}}function MA(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=MA(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function ca(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=MA(t))&&(r&&(r+=" "),r+=e);return r}function LA(t,e,n=void 0){const r={};for(const i in t){const s=t[i];let o="",a=!0;for(let l=0;l<s.length;l+=1){const c=s[l];c&&(o+=(a===!0?"":" ")+e(c),a=!1,n&&n[c]&&(o+=" "+n[c]))}r[i]=o}return r}function nu(...t){const e=k.useRef(void 0),n=k.useCallback(r=>{const i=t.map(s=>{if(s==null)return null;if(typeof s=="function"){const o=s,a=o(r);return typeof a=="function"?a:()=>{o(null)}}return s.current=r,()=>{s.current=null}});return()=>{i.forEach(s=>s==null?void 0:s())}},t);return k.useMemo(()=>t.every(r=>r==null)?null:r=>{e.current&&(e.current(),e.current=void 0),r!=null&&(e.current=n(r))},t)}function k_(t){var e;return parseInt(k.version,10)>=19?((e=t==null?void 0:t.props)==null?void 0:e.ref)||null:(t==null?void 0:t.ref)||null}const tW=["input","select","textarea","a[href]","button","[tabindex]","audio[controls]","video[controls]",'[contenteditable]:not([contenteditable="false"])'].join(",");function nW(t){const e=parseInt(t.getAttribute("tabindex")||"",10);return Number.isNaN(e)?t.contentEditable==="true"||(t.nodeName==="AUDIO"||t.nodeName==="VIDEO"||t.nodeName==="DETAILS")&&t.getAttribute("tabindex")===null?0:t.tabIndex:e}function rW(t){if(t.tagName!=="INPUT"||t.type!=="radio"||!t.name)return!1;const e=r=>t.ownerDocument.querySelector(`input[type="radio"]${r}`);let n=e(`[name="${t.name}"]:checked`);return n||(n=e(`[name="${t.name}"]`)),n!==t}function iW(t){return!(t.disabled||t.tagName==="INPUT"&&t.type==="hidden"||rW(t))}function sW(t){const e=[],n=[];return Array.from(t.querySelectorAll(tW)).forEach((r,i)=>{const s=nW(r);s===-1||!iW(r)||(s===0?e.push(r):n.push({documentOrder:i,tabIndex:s,node:r}))}),n.sort((r,i)=>r.tabIndex===i.tabIndex?r.documentOrder-i.documentOrder:r.tabIndex-i.tabIndex).map(r=>r.node).concat(e)}function oW(){return!0}function aW(t){const{children:e,disableAutoFocus:n=!1,disableEnforceFocus:r=!1,disableRestoreFocus:i=!1,getTabbable:s=sW,isEnabled:o=oW,open:a}=t,l=k.useRef(!1),c=k.useRef(null),d=k.useRef(null),h=k.useRef(null),f=k.useRef(null),v=k.useRef(!1),w=k.useRef(null),S=nu(k_(e),w),P=k.useRef(null);k.useEffect(()=>{!a||!w.current||(v.current=!n)},[n,a]),k.useEffect(()=>{if(!a||!w.current)return;const x=$s(w.current);return w.current.contains(x.activeElement)||(w.current.hasAttribute("tabIndex")||w.current.setAttribute("tabIndex","-1"),v.current&&w.current.focus()),()=>{i||(h.current&&h.current.focus&&(l.current=!0,h.current.focus()),h.current=null)}},[a]),k.useEffect(()=>{if(!a||!w.current)return;const x=$s(w.current),A=b=>{P.current=b,!(r||!o()||b.key!=="Tab")&&x.activeElement===w.current&&b.shiftKey&&(l.current=!0,d.current&&d.current.focus())},D=()=>{var I,g;const b=w.current;if(b===null)return;if(!x.hasFocus()||!o()||l.current){l.current=!1;return}if(b.contains(x.activeElement)||r&&x.activeElement!==c.current&&x.activeElement!==d.current)return;if(x.activeElement!==f.current)f.current=null;else if(f.current!==null)return;if(!v.current)return;let C=[];if((x.activeElement===c.current||x.activeElement===d.current)&&(C=s(w.current)),C.length>0){const R=!!((I=P.current)!=null&&I.shiftKey&&((g=P.current)==null?void 0:g.key)==="Tab"),O=C[0],N=C[C.length-1];typeof O!="string"&&typeof N!="string"&&(R?N.focus():O.focus())}else b.focus()};x.addEventListener("focusin",D),x.addEventListener("keydown",A,!0);const M=setInterval(()=>{x.activeElement&&x.activeElement.tagName==="BODY"&&D()},50);return()=>{clearInterval(M),x.removeEventListener("focusin",D),x.removeEventListener("keydown",A,!0)}},[n,r,i,o,a,s]);const _=x=>{h.current===null&&(h.current=x.relatedTarget),v.current=!0,f.current=x.target;const A=e.props.onFocus;A&&A(x)},E=x=>{h.current===null&&(h.current=x.relatedTarget),v.current=!0};return m.jsxs(k.Fragment,{children:[m.jsx("div",{tabIndex:a?0:-1,onFocus:E,ref:c,"data-testid":"sentinelStart"}),k.cloneElement(e,{ref:S,onFocus:_}),m.jsx("div",{tabIndex:a?0:-1,onFocus:E,ref:d,"data-testid":"sentinelEnd"})]})}const lW=typeof window<"u"?k.useLayoutEffect:k.useEffect,vy=lW;function eS(t,e){typeof t=="function"?t(e):t&&(t.current=e)}function cW(t){return typeof t=="function"?t():t}const uW=k.forwardRef(function(e,n){const{children:r,container:i,disablePortal:s=!1}=e,[o,a]=k.useState(null),l=nu(k.isValidElement(r)?k_(r):null,n);if(vy(()=>{s||a(cW(i)||document.body)},[i,s]),vy(()=>{if(o&&!s)return eS(n,o),()=>{eS(n,null)}},[n,o,s]),s){if(k.isValidElement(r)){const c={ref:l};return k.cloneElement(r,c)}return r}return o&&Av.createPortal(r,o)}),dW=uW;function Vs(t,...e){const n=new URL(`https://mui.com/production-error/?code=${t}`);return e.forEach(r=>n.searchParams.append("args[]",r)),`Minified MUI error #${t}; visit ${n} for the full message.`}function jA(t){if(typeof t!="string")throw new Error(Vs(7));return t.charAt(0).toUpperCase()+t.slice(1)}var FA={exports:{}},Ee={};/**
 * @license React
 * react-is.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var I_=Symbol.for("react.transitional.element"),P_=Symbol.for("react.portal"),bf=Symbol.for("react.fragment"),Tf=Symbol.for("react.strict_mode"),kf=Symbol.for("react.profiler"),If=Symbol.for("react.consumer"),Pf=Symbol.for("react.context"),Rf=Symbol.for("react.forward_ref"),Af=Symbol.for("react.suspense"),Nf=Symbol.for("react.suspense_list"),Df=Symbol.for("react.memo"),Of=Symbol.for("react.lazy"),hW=Symbol.for("react.view_transition"),fW=Symbol.for("react.client.reference");function Ln(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case I_:switch(t=t.type,t){case bf:case kf:case Tf:case Af:case Nf:case hW:return t;default:switch(t=t&&t.$$typeof,t){case Pf:case Rf:case Of:case Df:return t;case If:return t;default:return e}}case P_:return e}}}Ee.ContextConsumer=If;Ee.ContextProvider=Pf;Ee.Element=I_;Ee.ForwardRef=Rf;Ee.Fragment=bf;Ee.Lazy=Of;Ee.Memo=Df;Ee.Portal=P_;Ee.Profiler=kf;Ee.StrictMode=Tf;Ee.Suspense=Af;Ee.SuspenseList=Nf;Ee.isContextConsumer=function(t){return Ln(t)===If};Ee.isContextProvider=function(t){return Ln(t)===Pf};Ee.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===I_};Ee.isForwardRef=function(t){return Ln(t)===Rf};Ee.isFragment=function(t){return Ln(t)===bf};Ee.isLazy=function(t){return Ln(t)===Of};Ee.isMemo=function(t){return Ln(t)===Df};Ee.isPortal=function(t){return Ln(t)===P_};Ee.isProfiler=function(t){return Ln(t)===kf};Ee.isStrictMode=function(t){return Ln(t)===Tf};Ee.isSuspense=function(t){return Ln(t)===Af};Ee.isSuspenseList=function(t){return Ln(t)===Nf};Ee.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===bf||t===kf||t===Tf||t===Af||t===Nf||typeof t=="object"&&t!==null&&(t.$$typeof===Of||t.$$typeof===Df||t.$$typeof===Pf||t.$$typeof===If||t.$$typeof===Rf||t.$$typeof===fW||t.getModuleId!==void 0)};Ee.typeOf=Ln;FA.exports=Ee;var $A=FA.exports;function hr(t){if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)}function VA(t){if(k.isValidElement(t)||$A.isValidElementType(t)||!hr(t))return t;const e={};return Object.keys(t).forEach(n=>{e[n]=VA(t[n])}),e}function fn(t,e,n={clone:!0}){const r=n.clone?{...t}:t;return hr(t)&&hr(e)&&Object.keys(e).forEach(i=>{k.isValidElement(e[i])||$A.isValidElementType(e[i])?r[i]=e[i]:hr(e[i])&&Object.prototype.hasOwnProperty.call(t,i)&&hr(t[i])?r[i]=fn(t[i],e[i],n):n.clone?r[i]=hr(e[i])?VA(e[i]):e[i]:r[i]=e[i]}),r}function Bl(t,e){return e?fn(t,e,{clone:!1}):t}function pW(t,e){if(!t.containerQueries)return e;const n=Object.keys(e).filter(r=>r.startsWith("@container")).sort((r,i)=>{var o,a;const s=/min-width:\s*([0-9.]+)/;return+(((o=r.match(s))==null?void 0:o[1])||0)-+(((a=i.match(s))==null?void 0:a[1])||0)});return n.length?n.reduce((r,i)=>{const s=e[i];return delete r[i],r[i]=s,r},{...e}):e}function mW(t,e){return e==="@"||e.startsWith("@")&&(t.some(n=>e.startsWith(`@${n}`))||!!e.match(/^@\d/))}function gW(t,e){const n=e.match(/^@([^/]+)?\/?(.+)?$/);if(!n)return null;const[,r,i]=n,s=Number.isNaN(+r)?r||0:+r;return t.containerQueries(i).up(s)}function yW(t){const e=(s,o)=>s.replace("@media",o?`@container ${o}`:"@container");function n(s,o){s.up=(...a)=>e(t.breakpoints.up(...a),o),s.down=(...a)=>e(t.breakpoints.down(...a),o),s.between=(...a)=>e(t.breakpoints.between(...a),o),s.only=(...a)=>e(t.breakpoints.only(...a),o),s.not=(...a)=>{const l=e(t.breakpoints.not(...a),o);return l.includes("not all and")?l.replace("not all and ","").replace("min-width:","width<").replace("max-width:","width>").replace("and","or"):l}}const r={},i=s=>(n(r,s),r);return n(i),{...t,containerQueries:i}}const Mf={xs:0,sm:600,md:900,lg:1200,xl:1536},tS={keys:["xs","sm","md","lg","xl"],up:t=>`@media (min-width:${Mf[t]}px)`},vW={containerQueries:t=>({up:e=>{let n=typeof e=="number"?e:Mf[e]||e;return typeof n=="number"&&(n=`${n}px`),t?`@container ${t} (min-width:${n})`:`@container (min-width:${n})`}})};function Qr(t,e,n){const r=t.theme||{};if(Array.isArray(e)){const s=r.breakpoints||tS;return e.reduce((o,a,l)=>(o[s.up(s.keys[l])]=n(e[l]),o),{})}if(typeof e=="object"){const s=r.breakpoints||tS;return Object.keys(e).reduce((o,a)=>{if(mW(s.keys,a)){const l=gW(r.containerQueries?r:vW,a);l&&(o[l]=n(e[a],a))}else if(Object.keys(s.values||Mf).includes(a)){const l=s.up(a);o[l]=n(e[a],a)}else{const l=a;o[l]=e[l]}return o},{})}return n(e)}function _W(t={}){var n;return((n=t.keys)==null?void 0:n.reduce((r,i)=>{const s=t.up(i);return r[s]={},r},{}))||{}}function wW(t,e){return t.reduce((n,r)=>{const i=n[r];return(!i||Object.keys(i).length===0)&&delete n[r],n},e)}function Lf(t,e,n=!0){if(!e||typeof e!="string")return null;if(t&&t.vars&&n){const r=`vars.${e}`.split(".").reduce((i,s)=>i&&i[s]?i[s]:null,t);if(r!=null)return r}return e.split(".").reduce((r,i)=>r&&r[i]!=null?r[i]:null,t)}function Nh(t,e,n,r=n){let i;return typeof t=="function"?i=t(n):Array.isArray(t)?i=t[n]||r:i=Lf(t,n)||r,e&&(i=e(i,r,t)),i}function Je(t){const{prop:e,cssProperty:n=t.prop,themeKey:r,transform:i}=t,s=o=>{if(o[e]==null)return null;const a=o[e],l=o.theme,c=Lf(l,r)||{};return Qr(o,a,h=>{let f=Nh(c,i,h);return h===f&&typeof h=="string"&&(f=Nh(c,i,`${e}${h==="default"?"":jA(h)}`,h)),n===!1?f:{[n]:f}})};return s.propTypes={},s.filterProps=[e],s}function xW(t){const e={};return n=>(e[n]===void 0&&(e[n]=t(n)),e[n])}const EW={m:"margin",p:"padding"},CW={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},nS={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},SW=xW(t=>{if(t.length>2)if(nS[t])t=nS[t];else return[t];const[e,n]=t.split(""),r=EW[e],i=CW[n]||"";return Array.isArray(i)?i.map(s=>r+s):[r+i]}),R_=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],A_=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"];[...R_,...A_];function ru(t,e,n,r){const i=Lf(t,e,!0)??n;return typeof i=="number"||typeof i=="string"?s=>typeof s=="string"?s:typeof i=="string"?i.startsWith("var(")&&s===0?0:i.startsWith("var(")&&s===1?i:`calc(${s} * ${i})`:i*s:Array.isArray(i)?s=>{if(typeof s=="string")return s;const o=Math.abs(s),a=i[o];return s>=0?a:typeof a=="number"?-a:typeof a=="string"&&a.startsWith("var(")?`calc(-1 * ${a})`:`-${a}`}:typeof i=="function"?i:()=>{}}function N_(t){return ru(t,"spacing",8)}function iu(t,e){return typeof e=="string"||e==null?e:t(e)}function bW(t,e){return n=>t.reduce((r,i)=>(r[i]=iu(e,n),r),{})}function TW(t,e,n,r){if(!e.includes(n))return null;const i=SW(n),s=bW(i,r),o=t[n];return Qr(t,o,s)}function UA(t,e){const n=N_(t.theme);return Object.keys(t).map(r=>TW(t,e,r,n)).reduce(Bl,{})}function Ue(t){return UA(t,R_)}Ue.propTypes={};Ue.filterProps=R_;function Be(t){return UA(t,A_)}Be.propTypes={};Be.filterProps=A_;function jf(...t){const e=t.reduce((r,i)=>(i.filterProps.forEach(s=>{r[s]=i}),r),{}),n=r=>Object.keys(r).reduce((i,s)=>e[s]?Bl(i,e[s](r)):i,{});return n.propTypes={},n.filterProps=t.reduce((r,i)=>r.concat(i.filterProps),[]),n}function Tn(t){return typeof t!="number"?t:`${t}px solid`}function jn(t,e){return Je({prop:t,themeKey:"borders",transform:e})}const kW=jn("border",Tn),IW=jn("borderTop",Tn),PW=jn("borderRight",Tn),RW=jn("borderBottom",Tn),AW=jn("borderLeft",Tn),NW=jn("borderColor"),DW=jn("borderTopColor"),OW=jn("borderRightColor"),MW=jn("borderBottomColor"),LW=jn("borderLeftColor"),jW=jn("outline",Tn),FW=jn("outlineColor"),Ff=t=>{if(t.borderRadius!==void 0&&t.borderRadius!==null){const e=ru(t.theme,"shape.borderRadius",4),n=r=>({borderRadius:iu(e,r)});return Qr(t,t.borderRadius,n)}return null};Ff.propTypes={};Ff.filterProps=["borderRadius"];jf(kW,IW,PW,RW,AW,NW,DW,OW,MW,LW,Ff,jW,FW);const $f=t=>{if(t.gap!==void 0&&t.gap!==null){const e=ru(t.theme,"spacing",8),n=r=>({gap:iu(e,r)});return Qr(t,t.gap,n)}return null};$f.propTypes={};$f.filterProps=["gap"];const Vf=t=>{if(t.columnGap!==void 0&&t.columnGap!==null){const e=ru(t.theme,"spacing",8),n=r=>({columnGap:iu(e,r)});return Qr(t,t.columnGap,n)}return null};Vf.propTypes={};Vf.filterProps=["columnGap"];const Uf=t=>{if(t.rowGap!==void 0&&t.rowGap!==null){const e=ru(t.theme,"spacing",8),n=r=>({rowGap:iu(e,r)});return Qr(t,t.rowGap,n)}return null};Uf.propTypes={};Uf.filterProps=["rowGap"];const $W=Je({prop:"gridColumn"}),VW=Je({prop:"gridRow"}),UW=Je({prop:"gridAutoFlow"}),BW=Je({prop:"gridAutoColumns"}),zW=Je({prop:"gridAutoRows"}),WW=Je({prop:"gridTemplateColumns"}),HW=Je({prop:"gridTemplateRows"}),GW=Je({prop:"gridTemplateAreas"}),KW=Je({prop:"gridArea"});jf($f,Vf,Uf,$W,VW,UW,BW,zW,WW,HW,GW,KW);function Bo(t,e){return e==="grey"?e:t}const qW=Je({prop:"color",themeKey:"palette",transform:Bo}),YW=Je({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette",transform:Bo}),XW=Je({prop:"backgroundColor",themeKey:"palette",transform:Bo});jf(qW,YW,XW);function un(t){return t<=1&&t!==0?`${t*100}%`:t}const JW=Je({prop:"width",transform:un}),D_=t=>{if(t.maxWidth!==void 0&&t.maxWidth!==null){const e=n=>{var i,s,o,a,l;const r=((o=(s=(i=t.theme)==null?void 0:i.breakpoints)==null?void 0:s.values)==null?void 0:o[n])||Mf[n];return r?((l=(a=t.theme)==null?void 0:a.breakpoints)==null?void 0:l.unit)!=="px"?{maxWidth:`${r}${t.theme.breakpoints.unit}`}:{maxWidth:r}:{maxWidth:un(n)}};return Qr(t,t.maxWidth,e)}return null};D_.filterProps=["maxWidth"];const QW=Je({prop:"minWidth",transform:un}),ZW=Je({prop:"height",transform:un}),eH=Je({prop:"maxHeight",transform:un}),tH=Je({prop:"minHeight",transform:un});Je({prop:"size",cssProperty:"width",transform:un});Je({prop:"size",cssProperty:"height",transform:un});const nH=Je({prop:"boxSizing"});jf(JW,D_,QW,ZW,eH,tH,nH);const rH={border:{themeKey:"borders",transform:Tn},borderTop:{themeKey:"borders",transform:Tn},borderRight:{themeKey:"borders",transform:Tn},borderBottom:{themeKey:"borders",transform:Tn},borderLeft:{themeKey:"borders",transform:Tn},borderColor:{themeKey:"palette"},borderTopColor:{themeKey:"palette"},borderRightColor:{themeKey:"palette"},borderBottomColor:{themeKey:"palette"},borderLeftColor:{themeKey:"palette"},outline:{themeKey:"borders",transform:Tn},outlineColor:{themeKey:"palette"},borderRadius:{themeKey:"shape.borderRadius",style:Ff},color:{themeKey:"palette",transform:Bo},bgcolor:{themeKey:"palette",cssProperty:"backgroundColor",transform:Bo},backgroundColor:{themeKey:"palette",transform:Bo},p:{style:Be},pt:{style:Be},pr:{style:Be},pb:{style:Be},pl:{style:Be},px:{style:Be},py:{style:Be},padding:{style:Be},paddingTop:{style:Be},paddingRight:{style:Be},paddingBottom:{style:Be},paddingLeft:{style:Be},paddingX:{style:Be},paddingY:{style:Be},paddingInline:{style:Be},paddingInlineStart:{style:Be},paddingInlineEnd:{style:Be},paddingBlock:{style:Be},paddingBlockStart:{style:Be},paddingBlockEnd:{style:Be},m:{style:Ue},mt:{style:Ue},mr:{style:Ue},mb:{style:Ue},ml:{style:Ue},mx:{style:Ue},my:{style:Ue},margin:{style:Ue},marginTop:{style:Ue},marginRight:{style:Ue},marginBottom:{style:Ue},marginLeft:{style:Ue},marginX:{style:Ue},marginY:{style:Ue},marginInline:{style:Ue},marginInlineStart:{style:Ue},marginInlineEnd:{style:Ue},marginBlock:{style:Ue},marginBlockStart:{style:Ue},marginBlockEnd:{style:Ue},displayPrint:{cssProperty:!1,transform:t=>({"@media print":{display:t}})},display:{},overflow:{},textOverflow:{},visibility:{},whiteSpace:{},flexBasis:{},flexDirection:{},flexWrap:{},justifyContent:{},alignItems:{},alignContent:{},order:{},flex:{},flexGrow:{},flexShrink:{},alignSelf:{},justifyItems:{},justifySelf:{},gap:{style:$f},rowGap:{style:Uf},columnGap:{style:Vf},gridColumn:{},gridRow:{},gridAutoFlow:{},gridAutoColumns:{},gridAutoRows:{},gridTemplateColumns:{},gridTemplateRows:{},gridTemplateAreas:{},gridArea:{},position:{},zIndex:{themeKey:"zIndex"},top:{},right:{},bottom:{},left:{},boxShadow:{themeKey:"shadows"},width:{transform:un},maxWidth:{style:D_},minWidth:{transform:un},height:{transform:un},maxHeight:{transform:un},minHeight:{transform:un},boxSizing:{},font:{themeKey:"font"},fontFamily:{themeKey:"typography"},fontSize:{themeKey:"typography"},fontStyle:{themeKey:"typography"},fontWeight:{themeKey:"typography"},letterSpacing:{},textTransform:{},lineHeight:{},textAlign:{},typography:{cssProperty:!1,themeKey:"typography"}},su=rH;function iH(...t){const e=t.reduce((r,i)=>r.concat(Object.keys(i)),[]),n=new Set(e);return t.every(r=>n.size===Object.keys(r).length)}function sH(t,e){return typeof t=="function"?t(e):t}function oH(){function t(n,r,i,s){const o={[n]:r,theme:i},a=s[n];if(!a)return{[n]:r};const{cssProperty:l=n,themeKey:c,transform:d,style:h}=a;if(r==null)return null;if(c==="typography"&&r==="inherit")return{[n]:r};const f=Lf(i,c)||{};return h?h(o):Qr(o,r,w=>{let S=Nh(f,d,w);return w===S&&typeof w=="string"&&(S=Nh(f,d,`${n}${w==="default"?"":jA(w)}`,w)),l===!1?S:{[l]:S}})}function e(n){const{sx:r,theme:i={}}=n||{};if(!r)return null;const s=i.unstable_sxConfig??su;function o(a){let l=a;if(typeof a=="function")l=a(i);else if(typeof a!="object")return a;if(!l)return null;const c=_W(i.breakpoints),d=Object.keys(c);let h=c;return Object.keys(l).forEach(f=>{const v=sH(l[f],i);if(v!=null)if(typeof v=="object")if(s[f])h=Bl(h,t(f,v,i,s));else{const w=Qr({theme:i},v,S=>({[f]:S}));iH(w,v)?h[f]=e({sx:v,theme:i}):h=Bl(h,w)}else h=Bl(h,t(f,v,i,s))}),pW(i,wW(d,h))}return Array.isArray(r)?r.map(o):o(r)}return e}const BA=oH();BA.filterProps=["sx"];const ua=BA,aH=t=>{var r;const e={systemProps:{},otherProps:{}},n=((r=t==null?void 0:t.theme)==null?void 0:r.unstable_sxConfig)??su;return Object.keys(t).forEach(i=>{n[i]?e.systemProps[i]=t[i]:e.otherProps[i]=t[i]}),e};function lH(t){const{sx:e,...n}=t,{systemProps:r,otherProps:i}=aH(n);let s;return Array.isArray(e)?s=[r,...e]:typeof e=="function"?s=(...o)=>{const a=e(...o);return hr(a)?{...r,...a}:r}:s={...r,...e},{...i,sx:s}}function _y(){return _y=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},_y.apply(null,arguments)}var cH=!1;function uH(t){if(t.sheet)return t.sheet;for(var e=0;e<document.styleSheets.length;e++)if(document.styleSheets[e].ownerNode===t)return document.styleSheets[e]}function dH(t){var e=document.createElement("style");return e.setAttribute("data-emotion",t.key),t.nonce!==void 0&&e.setAttribute("nonce",t.nonce),e.appendChild(document.createTextNode("")),e.setAttribute("data-s",""),e}var hH=function(){function t(n){var r=this;this._insertTag=function(i){var s;r.tags.length===0?r.insertionPoint?s=r.insertionPoint.nextSibling:r.prepend?s=r.container.firstChild:s=r.before:s=r.tags[r.tags.length-1].nextSibling,r.container.insertBefore(i,s),r.tags.push(i)},this.isSpeedy=n.speedy===void 0?!cH:n.speedy,this.tags=[],this.ctr=0,this.nonce=n.nonce,this.key=n.key,this.container=n.container,this.prepend=n.prepend,this.insertionPoint=n.insertionPoint,this.before=null}var e=t.prototype;return e.hydrate=function(r){r.forEach(this._insertTag)},e.insert=function(r){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(dH(this));var i=this.tags[this.tags.length-1];if(this.isSpeedy){var s=uH(i);try{s.insertRule(r,s.cssRules.length)}catch{}}else i.appendChild(document.createTextNode(r));this.ctr++},e.flush=function(){this.tags.forEach(function(r){var i;return(i=r.parentNode)==null?void 0:i.removeChild(r)}),this.tags=[],this.ctr=0},t}(),It="-ms-",Dh="-moz-",fe="-webkit-",zA="comm",O_="rule",M_="decl",fH="@import",WA="@keyframes",pH="@layer",mH=Math.abs,Bf=String.fromCharCode,gH=Object.assign;function yH(t,e){return vt(t,0)^45?(((e<<2^vt(t,0))<<2^vt(t,1))<<2^vt(t,2))<<2^vt(t,3):0}function HA(t){return t.trim()}function vH(t,e){return(t=e.exec(t))?t[0]:t}function pe(t,e,n){return t.replace(e,n)}function wy(t,e){return t.indexOf(e)}function vt(t,e){return t.charCodeAt(e)|0}function kc(t,e,n){return t.slice(e,n)}function cr(t){return t.length}function L_(t){return t.length}function Ku(t,e){return e.push(t),t}function _H(t,e){return t.map(e).join("")}var zf=1,da=1,GA=0,ln=0,Qe=0,Ia="";function Wf(t,e,n,r,i,s,o){return{value:t,root:e,parent:n,type:r,props:i,children:s,line:zf,column:da,length:o,return:""}}function rl(t,e){return gH(Wf("",null,null,"",null,null,0),t,{length:-t.length},e)}function wH(){return Qe}function xH(){return Qe=ln>0?vt(Ia,--ln):0,da--,Qe===10&&(da=1,zf--),Qe}function pn(){return Qe=ln<GA?vt(Ia,ln++):0,da++,Qe===10&&(da=1,zf++),Qe}function _r(){return vt(Ia,ln)}function xd(){return ln}function ou(t,e){return kc(Ia,t,e)}function Ic(t){switch(t){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function KA(t){return zf=da=1,GA=cr(Ia=t),ln=0,[]}function qA(t){return Ia="",t}function Ed(t){return HA(ou(ln-1,xy(t===91?t+2:t===40?t+1:t)))}function EH(t){for(;(Qe=_r())&&Qe<33;)pn();return Ic(t)>2||Ic(Qe)>3?"":" "}function CH(t,e){for(;--e&&pn()&&!(Qe<48||Qe>102||Qe>57&&Qe<65||Qe>70&&Qe<97););return ou(t,xd()+(e<6&&_r()==32&&pn()==32))}function xy(t){for(;pn();)switch(Qe){case t:return ln;case 34:case 39:t!==34&&t!==39&&xy(Qe);break;case 40:t===41&&xy(t);break;case 92:pn();break}return ln}function SH(t,e){for(;pn()&&t+Qe!==47+10;)if(t+Qe===42+42&&_r()===47)break;return"/*"+ou(e,ln-1)+"*"+Bf(t===47?t:pn())}function bH(t){for(;!Ic(_r());)pn();return ou(t,ln)}function TH(t){return qA(Cd("",null,null,null,[""],t=KA(t),0,[0],t))}function Cd(t,e,n,r,i,s,o,a,l){for(var c=0,d=0,h=o,f=0,v=0,w=0,S=1,P=1,_=1,E=0,x="",A=i,D=s,M=r,b=x;P;)switch(w=E,E=pn()){case 40:if(w!=108&&vt(b,h-1)==58){wy(b+=pe(Ed(E),"&","&\f"),"&\f")!=-1&&(_=-1);break}case 34:case 39:case 91:b+=Ed(E);break;case 9:case 10:case 13:case 32:b+=EH(w);break;case 92:b+=CH(xd()-1,7);continue;case 47:switch(_r()){case 42:case 47:Ku(kH(SH(pn(),xd()),e,n),l);break;default:b+="/"}break;case 123*S:a[c++]=cr(b)*_;case 125*S:case 59:case 0:switch(E){case 0:case 125:P=0;case 59+d:_==-1&&(b=pe(b,/\f/g,"")),v>0&&cr(b)-h&&Ku(v>32?iS(b+";",r,n,h-1):iS(pe(b," ","")+";",r,n,h-2),l);break;case 59:b+=";";default:if(Ku(M=rS(b,e,n,c,d,i,a,x,A=[],D=[],h),s),E===123)if(d===0)Cd(b,e,M,M,A,s,h,a,D);else switch(f===99&&vt(b,3)===110?100:f){case 100:case 108:case 109:case 115:Cd(t,M,M,r&&Ku(rS(t,M,M,0,0,i,a,x,i,A=[],h),D),i,D,h,a,r?A:D);break;default:Cd(b,M,M,M,[""],D,0,a,D)}}c=d=v=0,S=_=1,x=b="",h=o;break;case 58:h=1+cr(b),v=w;default:if(S<1){if(E==123)--S;else if(E==125&&S++==0&&xH()==125)continue}switch(b+=Bf(E),E*S){case 38:_=d>0?1:(b+="\f",-1);break;case 44:a[c++]=(cr(b)-1)*_,_=1;break;case 64:_r()===45&&(b+=Ed(pn())),f=_r(),d=h=cr(x=b+=bH(xd())),E++;break;case 45:w===45&&cr(b)==2&&(S=0)}}return s}function rS(t,e,n,r,i,s,o,a,l,c,d){for(var h=i-1,f=i===0?s:[""],v=L_(f),w=0,S=0,P=0;w<r;++w)for(var _=0,E=kc(t,h+1,h=mH(S=o[w])),x=t;_<v;++_)(x=HA(S>0?f[_]+" "+E:pe(E,/&\f/g,f[_])))&&(l[P++]=x);return Wf(t,e,n,i===0?O_:a,l,c,d)}function kH(t,e,n){return Wf(t,e,n,zA,Bf(wH()),kc(t,2,-2),0)}function iS(t,e,n,r){return Wf(t,e,n,M_,kc(t,0,r),kc(t,r+1,-1),r)}function zo(t,e){for(var n="",r=L_(t),i=0;i<r;i++)n+=e(t[i],i,t,e)||"";return n}function IH(t,e,n,r){switch(t.type){case pH:if(t.children.length)break;case fH:case M_:return t.return=t.return||t.value;case zA:return"";case WA:return t.return=t.value+"{"+zo(t.children,r)+"}";case O_:t.value=t.props.join(",")}return cr(n=zo(t.children,r))?t.return=t.value+"{"+n+"}":""}function PH(t){var e=L_(t);return function(n,r,i,s){for(var o="",a=0;a<e;a++)o+=t[a](n,r,i,s)||"";return o}}function RH(t){return function(e){e.root||(e=e.return)&&t(e)}}function YA(t){var e=Object.create(null);return function(n){return e[n]===void 0&&(e[n]=t(n)),e[n]}}var AH=function(e,n,r){for(var i=0,s=0;i=s,s=_r(),i===38&&s===12&&(n[r]=1),!Ic(s);)pn();return ou(e,ln)},NH=function(e,n){var r=-1,i=44;do switch(Ic(i)){case 0:i===38&&_r()===12&&(n[r]=1),e[r]+=AH(ln-1,n,r);break;case 2:e[r]+=Ed(i);break;case 4:if(i===44){e[++r]=_r()===58?"&\f":"",n[r]=e[r].length;break}default:e[r]+=Bf(i)}while(i=pn());return e},DH=function(e,n){return qA(NH(KA(e),n))},sS=new WeakMap,OH=function(e){if(!(e.type!=="rule"||!e.parent||e.length<1)){for(var n=e.value,r=e.parent,i=e.column===r.column&&e.line===r.line;r.type!=="rule";)if(r=r.parent,!r)return;if(!(e.props.length===1&&n.charCodeAt(0)!==58&&!sS.get(r))&&!i){sS.set(e,!0);for(var s=[],o=DH(n,s),a=r.props,l=0,c=0;l<o.length;l++)for(var d=0;d<a.length;d++,c++)e.props[c]=s[l]?o[l].replace(/&\f/g,a[d]):a[d]+" "+o[l]}}},MH=function(e){if(e.type==="decl"){var n=e.value;n.charCodeAt(0)===108&&n.charCodeAt(2)===98&&(e.return="",e.value="")}};function XA(t,e){switch(yH(t,e)){case 5103:return fe+"print-"+t+t;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return fe+t+t;case 5349:case 4246:case 4810:case 6968:case 2756:return fe+t+Dh+t+It+t+t;case 6828:case 4268:return fe+t+It+t+t;case 6165:return fe+t+It+"flex-"+t+t;case 5187:return fe+t+pe(t,/(\w+).+(:[^]+)/,fe+"box-$1$2"+It+"flex-$1$2")+t;case 5443:return fe+t+It+"flex-item-"+pe(t,/flex-|-self/,"")+t;case 4675:return fe+t+It+"flex-line-pack"+pe(t,/align-content|flex-|-self/,"")+t;case 5548:return fe+t+It+pe(t,"shrink","negative")+t;case 5292:return fe+t+It+pe(t,"basis","preferred-size")+t;case 6060:return fe+"box-"+pe(t,"-grow","")+fe+t+It+pe(t,"grow","positive")+t;case 4554:return fe+pe(t,/([^-])(transform)/g,"$1"+fe+"$2")+t;case 6187:return pe(pe(pe(t,/(zoom-|grab)/,fe+"$1"),/(image-set)/,fe+"$1"),t,"")+t;case 5495:case 3959:return pe(t,/(image-set\([^]*)/,fe+"$1$`$1");case 4968:return pe(pe(t,/(.+:)(flex-)?(.*)/,fe+"box-pack:$3"+It+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+fe+t+t;case 4095:case 3583:case 4068:case 2532:return pe(t,/(.+)-inline(.+)/,fe+"$1$2")+t;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(cr(t)-1-e>6)switch(vt(t,e+1)){case 109:if(vt(t,e+4)!==45)break;case 102:return pe(t,/(.+:)(.+)-([^]+)/,"$1"+fe+"$2-$3$1"+Dh+(vt(t,e+3)==108?"$3":"$2-$3"))+t;case 115:return~wy(t,"stretch")?XA(pe(t,"stretch","fill-available"),e)+t:t}break;case 4949:if(vt(t,e+1)!==115)break;case 6444:switch(vt(t,cr(t)-3-(~wy(t,"!important")&&10))){case 107:return pe(t,":",":"+fe)+t;case 101:return pe(t,/(.+:)([^;!]+)(;|!.+)?/,"$1"+fe+(vt(t,14)===45?"inline-":"")+"box$3$1"+fe+"$2$3$1"+It+"$2box$3")+t}break;case 5936:switch(vt(t,e+11)){case 114:return fe+t+It+pe(t,/[svh]\w+-[tblr]{2}/,"tb")+t;case 108:return fe+t+It+pe(t,/[svh]\w+-[tblr]{2}/,"tb-rl")+t;case 45:return fe+t+It+pe(t,/[svh]\w+-[tblr]{2}/,"lr")+t}return fe+t+It+t+t}return t}var LH=function(e,n,r,i){if(e.length>-1&&!e.return)switch(e.type){case M_:e.return=XA(e.value,e.length);break;case WA:return zo([rl(e,{value:pe(e.value,"@","@"+fe)})],i);case O_:if(e.length)return _H(e.props,function(s){switch(vH(s,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return zo([rl(e,{props:[pe(s,/:(read-\w+)/,":"+Dh+"$1")]})],i);case"::placeholder":return zo([rl(e,{props:[pe(s,/:(plac\w+)/,":"+fe+"input-$1")]}),rl(e,{props:[pe(s,/:(plac\w+)/,":"+Dh+"$1")]}),rl(e,{props:[pe(s,/:(plac\w+)/,It+"input-$1")]})],i)}return""})}},jH=[LH],FH=function(e){var n=e.key;if(n==="css"){var r=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(r,function(S){var P=S.getAttribute("data-emotion");P.indexOf(" ")!==-1&&(document.head.appendChild(S),S.setAttribute("data-s",""))})}var i=e.stylisPlugins||jH,s={},o,a=[];o=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+n+' "]'),function(S){for(var P=S.getAttribute("data-emotion").split(" "),_=1;_<P.length;_++)s[P[_]]=!0;a.push(S)});var l,c=[OH,MH];{var d,h=[IH,RH(function(S){d.insert(S)})],f=PH(c.concat(i,h)),v=function(P){return zo(TH(P),f)};l=function(P,_,E,x){d=E,v(P?P+"{"+_.styles+"}":_.styles),x&&(w.inserted[_.name]=!0)}}var w={key:n,sheet:new hH({key:n,container:o,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:s,registered:{},insert:l};return w.sheet.hydrate(a),w},$H=!0;function VH(t,e,n){var r="";return n.split(" ").forEach(function(i){t[i]!==void 0?e.push(t[i]+";"):i&&(r+=i+" ")}),r}var JA=function(e,n,r){var i=e.key+"-"+n.name;(r===!1||$H===!1)&&e.registered[i]===void 0&&(e.registered[i]=n.styles)},UH=function(e,n,r){JA(e,n,r);var i=e.key+"-"+n.name;if(e.inserted[n.name]===void 0){var s=n;do e.insert(n===s?"."+i:"",s,e.sheet,!0),s=s.next;while(s!==void 0)}};function BH(t){for(var e=0,n,r=0,i=t.length;i>=4;++r,i-=4)n=t.charCodeAt(r)&255|(t.charCodeAt(++r)&255)<<8|(t.charCodeAt(++r)&255)<<16|(t.charCodeAt(++r)&255)<<24,n=(n&65535)*1540483477+((n>>>16)*59797<<16),n^=n>>>24,e=(n&65535)*1540483477+((n>>>16)*59797<<16)^(e&65535)*1540483477+((e>>>16)*59797<<16);switch(i){case 3:e^=(t.charCodeAt(r+2)&255)<<16;case 2:e^=(t.charCodeAt(r+1)&255)<<8;case 1:e^=t.charCodeAt(r)&255,e=(e&65535)*1540483477+((e>>>16)*59797<<16)}return e^=e>>>13,e=(e&65535)*1540483477+((e>>>16)*59797<<16),((e^e>>>15)>>>0).toString(36)}var zH={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,scale:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},WH=!1,HH=/[A-Z]|^ms/g,GH=/_EMO_([^_]+?)_([^]*?)_EMO_/g,QA=function(e){return e.charCodeAt(1)===45},oS=function(e){return e!=null&&typeof e!="boolean"},Em=YA(function(t){return QA(t)?t:t.replace(HH,"-$&").toLowerCase()}),aS=function(e,n){switch(e){case"animation":case"animationName":if(typeof n=="string")return n.replace(GH,function(r,i,s){return ur={name:i,styles:s,next:ur},i})}return zH[e]!==1&&!QA(e)&&typeof n=="number"&&n!==0?n+"px":n},KH="Component selectors can only be used in conjunction with @emotion/babel-plugin, the swc Emotion plugin, or another Emotion-aware compiler transform.";function Pc(t,e,n){if(n==null)return"";var r=n;if(r.__emotion_styles!==void 0)return r;switch(typeof n){case"boolean":return"";case"object":{var i=n;if(i.anim===1)return ur={name:i.name,styles:i.styles,next:ur},i.name;var s=n;if(s.styles!==void 0){var o=s.next;if(o!==void 0)for(;o!==void 0;)ur={name:o.name,styles:o.styles,next:ur},o=o.next;var a=s.styles+";";return a}return qH(t,e,n)}case"function":{if(t!==void 0){var l=ur,c=n(t);return ur=l,Pc(t,e,c)}break}}var d=n;if(e==null)return d;var h=e[d];return h!==void 0?h:d}function qH(t,e,n){var r="";if(Array.isArray(n))for(var i=0;i<n.length;i++)r+=Pc(t,e,n[i])+";";else for(var s in n){var o=n[s];if(typeof o!="object"){var a=o;e!=null&&e[a]!==void 0?r+=s+"{"+e[a]+"}":oS(a)&&(r+=Em(s)+":"+aS(s,a)+";")}else{if(s==="NO_COMPONENT_SELECTOR"&&WH)throw new Error(KH);if(Array.isArray(o)&&typeof o[0]=="string"&&(e==null||e[o[0]]===void 0))for(var l=0;l<o.length;l++)oS(o[l])&&(r+=Em(s)+":"+aS(s,o[l])+";");else{var c=Pc(t,e,o);switch(s){case"animation":case"animationName":{r+=Em(s)+":"+c+";";break}default:r+=s+"{"+c+"}"}}}}return r}var lS=/label:\s*([^\s;{]+)\s*(;|$)/g,ur;function ZA(t,e,n){if(t.length===1&&typeof t[0]=="object"&&t[0]!==null&&t[0].styles!==void 0)return t[0];var r=!0,i="";ur=void 0;var s=t[0];if(s==null||s.raw===void 0)r=!1,i+=Pc(n,e,s);else{var o=s;i+=o[0]}for(var a=1;a<t.length;a++)if(i+=Pc(n,e,t[a]),r){var l=s;i+=l[a]}lS.lastIndex=0;for(var c="",d;(d=lS.exec(i))!==null;)c+="-"+d[1];var h=BH(i)+c;return{name:h,styles:i,next:ur}}var YH=function(e){return e()},XH=Bw["useInsertionEffect"]?Bw["useInsertionEffect"]:!1,JH=XH||YH,eN=k.createContext(typeof HTMLElement<"u"?FH({key:"css"}):null);eN.Provider;var QH=function(e){return k.forwardRef(function(n,r){var i=k.useContext(eN);return e(n,i,r)})},tN=k.createContext({}),ZH=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|disableRemotePlayback|download|draggable|encType|enterKeyHint|fetchpriority|fetchPriority|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,eG=YA(function(t){return ZH.test(t)||t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)<91}),tG=!1,nG=eG,rG=function(e){return e!=="theme"},cS=function(e){return typeof e=="string"&&e.charCodeAt(0)>96?nG:rG},uS=function(e,n,r){var i;if(n){var s=n.shouldForwardProp;i=e.__emotion_forwardProp&&s?function(o){return e.__emotion_forwardProp(o)&&s(o)}:s}return typeof i!="function"&&r&&(i=e.__emotion_forwardProp),i},iG=function(e){var n=e.cache,r=e.serialized,i=e.isStringTag;return JA(n,r,i),JH(function(){return UH(n,r,i)}),null},sG=function t(e,n){var r=e.__emotion_real===e,i=r&&e.__emotion_base||e,s,o;n!==void 0&&(s=n.label,o=n.target);var a=uS(e,n,r),l=a||cS(i),c=!l("as");return function(){var d=arguments,h=r&&e.__emotion_styles!==void 0?e.__emotion_styles.slice(0):[];if(s!==void 0&&h.push("label:"+s+";"),d[0]==null||d[0].raw===void 0)h.push.apply(h,d);else{var f=d[0];h.push(f[0]);for(var v=d.length,w=1;w<v;w++)h.push(d[w],f[w])}var S=QH(function(P,_,E){var x=c&&P.as||i,A="",D=[],M=P;if(P.theme==null){M={};for(var b in P)M[b]=P[b];M.theme=k.useContext(tN)}typeof P.className=="string"?A=VH(_.registered,D,P.className):P.className!=null&&(A=P.className+" ");var C=ZA(h.concat(D),_.registered,M);A+=_.key+"-"+C.name,o!==void 0&&(A+=" "+o);var I=c&&a===void 0?cS(x):l,g={};for(var R in P)c&&R==="as"||I(R)&&(g[R]=P[R]);return g.className=A,E&&(g.ref=E),k.createElement(k.Fragment,null,k.createElement(iG,{cache:_,serialized:C,isStringTag:typeof x=="string"}),k.createElement(x,g))});return S.displayName=s!==void 0?s:"Styled("+(typeof i=="string"?i:i.displayName||i.name||"Component")+")",S.defaultProps=e.defaultProps,S.__emotion_real=S,S.__emotion_base=i,S.__emotion_styles=h,S.__emotion_forwardProp=a,Object.defineProperty(S,"toString",{value:function(){return o===void 0&&tG?"NO_COMPONENT_SELECTOR":"."+o}}),S.withComponent=function(P,_){var E=t(P,_y({},n,_,{shouldForwardProp:uS(S,_,!0)}));return E.apply(void 0,h)},S}},oG=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"],Ey=sG.bind(null);oG.forEach(function(t){Ey[t]=Ey(t)});/**
 * @mui/styled-engine v7.1.0
 *
 * @license MIT
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */function nN(t,e){return Ey(t,e)}function aG(t,e){Array.isArray(t.__emotion_styles)&&(t.__emotion_styles=e(t.__emotion_styles))}const dS=[];function hS(t){return dS[0]=t,ZA(dS)}const lG=t=>{const e=Object.keys(t).map(n=>({key:n,val:t[n]}))||[];return e.sort((n,r)=>n.val-r.val),e.reduce((n,r)=>({...n,[r.key]:r.val}),{})};function cG(t){const{values:e={xs:0,sm:600,md:900,lg:1200,xl:1536},unit:n="px",step:r=5,...i}=t,s=lG(e),o=Object.keys(s);function a(f){return`@media (min-width:${typeof e[f]=="number"?e[f]:f}${n})`}function l(f){return`@media (max-width:${(typeof e[f]=="number"?e[f]:f)-r/100}${n})`}function c(f,v){const w=o.indexOf(v);return`@media (min-width:${typeof e[f]=="number"?e[f]:f}${n}) and (max-width:${(w!==-1&&typeof e[o[w]]=="number"?e[o[w]]:v)-r/100}${n})`}function d(f){return o.indexOf(f)+1<o.length?c(f,o[o.indexOf(f)+1]):a(f)}function h(f){const v=o.indexOf(f);return v===0?a(o[1]):v===o.length-1?l(o[v]):c(f,o[o.indexOf(f)+1]).replace("@media","@media not all and")}return{keys:o,values:s,up:a,down:l,between:c,only:d,not:h,unit:n,...i}}const uG={borderRadius:4},dG=uG;function rN(t=8,e=N_({spacing:t})){if(t.mui)return t;const n=(...r)=>(r.length===0?[1]:r).map(s=>{const o=e(s);return typeof o=="number"?`${o}px`:o}).join(" ");return n.mui=!0,n}function hG(t,e){var r;const n=this;if(n.vars){if(!((r=n.colorSchemes)!=null&&r[t])||typeof n.getColorSchemeSelector!="function")return{};let i=n.getColorSchemeSelector(t);return i==="&"?e:((i.includes("data-")||i.includes("."))&&(i=`*:where(${i.replace(/\s*&$/,"")}) &`),{[i]:e})}return n.palette.mode===t?e:{}}function j_(t={},...e){const{breakpoints:n={},palette:r={},spacing:i,shape:s={},...o}=t,a=cG(n),l=rN(i);let c=fn({breakpoints:a,direction:"ltr",components:{},palette:{mode:"light",...r},spacing:l,shape:{...dG,...s}},o);return c=yW(c),c.applyStyles=hG,c=e.reduce((d,h)=>fn(d,h),c),c.unstable_sxConfig={...su,...o==null?void 0:o.unstable_sxConfig},c.unstable_sx=function(h){return ua({sx:h,theme:this})},c}function fG(t){return Object.keys(t).length===0}function pG(t=null){const e=k.useContext(tN);return!e||fG(e)?t:e}const mG=j_();function iN(t=mG){return pG(t)}const fS=t=>t,gG=()=>{let t=fS;return{configure(e){t=e},generate(e){return t(e)},reset(){t=fS}}},yG=gG(),sN=yG;function vG(t={}){const{themeId:e,defaultTheme:n,defaultClassName:r="MuiBox-root",generateClassName:i}=t,s=nN("div",{shouldForwardProp:a=>a!=="theme"&&a!=="sx"&&a!=="as"})(ua);return k.forwardRef(function(l,c){const d=iN(n),{className:h,component:f="div",...v}=lH(l);return m.jsx(s,{as:f,ref:c,className:ca(h,i?i(r):r),theme:e&&d[e]||d,...v})})}const _G={active:"active",checked:"checked",completed:"completed",disabled:"disabled",error:"error",expanded:"expanded",focused:"focused",focusVisible:"focusVisible",open:"open",readOnly:"readOnly",required:"required",selected:"selected"};function F_(t,e,n="Mui"){const r=_G[e];return r?`${n}-${r}`:`${sN.generate(t)}-${e}`}function $_(t,e,n="Mui"){const r={};return e.forEach(i=>{r[i]=F_(t,i,n)}),r}function oN(t){const{variants:e,...n}=t,r={variants:e,style:hS(n),isProcessed:!0};return r.style===n||e&&e.forEach(i=>{typeof i.style!="function"&&(i.style=hS(i.style))}),r}const wG=j_();function Cm(t){return t!=="ownerState"&&t!=="theme"&&t!=="sx"&&t!=="as"}function xG(t){return t?(e,n)=>n[t]:null}function EG(t,e,n){t.theme=bG(t.theme)?n:t.theme[e]||t.theme}function Sd(t,e){const n=typeof e=="function"?e(t):e;if(Array.isArray(n))return n.flatMap(r=>Sd(t,r));if(Array.isArray(n==null?void 0:n.variants)){let r;if(n.isProcessed)r=n.style;else{const{variants:i,...s}=n;r=s}return aN(t,n.variants,[r])}return n!=null&&n.isProcessed?n.style:n}function aN(t,e,n=[]){var i;let r;e:for(let s=0;s<e.length;s+=1){const o=e[s];if(typeof o.props=="function"){if(r??(r={...t,...t.ownerState,ownerState:t.ownerState}),!o.props(r))continue}else for(const a in o.props)if(t[a]!==o.props[a]&&((i=t.ownerState)==null?void 0:i[a])!==o.props[a])continue e;typeof o.style=="function"?(r??(r={...t,...t.ownerState,ownerState:t.ownerState}),n.push(o.style(r))):n.push(o.style)}return n}function CG(t={}){const{themeId:e,defaultTheme:n=wG,rootShouldForwardProp:r=Cm,slotShouldForwardProp:i=Cm}=t;function s(a){EG(a,e,n)}return(a,l={})=>{aG(a,D=>D.filter(M=>M!==ua));const{name:c,slot:d,skipVariantsResolver:h,skipSx:f,overridesResolver:v=xG(kG(d)),...w}=l,S=h!==void 0?h:d&&d!=="Root"&&d!=="root"||!1,P=f||!1;let _=Cm;d==="Root"||d==="root"?_=r:d?_=i:TG(a)&&(_=void 0);const E=nN(a,{shouldForwardProp:_,label:SG(),...w}),x=D=>{if(typeof D=="function"&&D.__emotion_real!==D)return function(b){return Sd(b,D)};if(hr(D)){const M=oN(D);return M.variants?function(C){return Sd(C,M)}:M.style}return D},A=(...D)=>{const M=[],b=D.map(x),C=[];if(M.push(s),c&&v&&C.push(function(O){var Z,ee;const G=(ee=(Z=O.theme.components)==null?void 0:Z[c])==null?void 0:ee.styleOverrides;if(!G)return null;const K={};for(const B in G)K[B]=Sd(O,G[B]);return v(O,K)}),c&&!S&&C.push(function(O){var K,Z;const N=O.theme,G=(Z=(K=N==null?void 0:N.components)==null?void 0:K[c])==null?void 0:Z.variants;return G?aN(O,G):null}),P||C.push(ua),Array.isArray(b[0])){const R=b.shift(),O=new Array(M.length).fill(""),N=new Array(C.length).fill("");let G;G=[...O,...R,...N],G.raw=[...O,...R.raw,...N],M.unshift(G)}const I=[...M,...b,...C],g=E(...I);return a.muiName&&(g.muiName=a.muiName),g};return E.withConfig&&(A.withConfig=E.withConfig),A}}function SG(t,e){let n;return n}function bG(t){for(const e in t)return!1;return!0}function TG(t){return typeof t=="string"&&t.charCodeAt(0)>96}function kG(t){return t&&t.charAt(0).toLowerCase()+t.slice(1)}function Cy(t,e){const n={...e};for(const r in t)if(Object.prototype.hasOwnProperty.call(t,r)){const i=r;if(i==="components"||i==="slots")n[i]={...t[i],...n[i]};else if(i==="componentsProps"||i==="slotProps"){const s=t[i],o=e[i];if(!o)n[i]=s||{};else if(!s)n[i]=o;else{n[i]={...o};for(const a in s)if(Object.prototype.hasOwnProperty.call(s,a)){const l=a;n[i][l]=Cy(s[l],o[l])}}}else n[i]===void 0&&(n[i]=t[i])}return n}function IG(t,e=Number.MIN_SAFE_INTEGER,n=Number.MAX_SAFE_INTEGER){return Math.max(e,Math.min(t,n))}function V_(t,e=0,n=1){return IG(t,e,n)}function PG(t){t=t.slice(1);const e=new RegExp(`.{1,${t.length>=6?2:1}}`,"g");let n=t.match(e);return n&&n[0].length===1&&(n=n.map(r=>r+r)),n?`rgb${n.length===4?"a":""}(${n.map((r,i)=>i<3?parseInt(r,16):Math.round(parseInt(r,16)/255*1e3)/1e3).join(", ")})`:""}function Bi(t){if(t.type)return t;if(t.charAt(0)==="#")return Bi(PG(t));const e=t.indexOf("("),n=t.substring(0,e);if(!["rgb","rgba","hsl","hsla","color"].includes(n))throw new Error(Vs(9,t));let r=t.substring(e+1,t.length-1),i;if(n==="color"){if(r=r.split(" "),i=r.shift(),r.length===4&&r[3].charAt(0)==="/"&&(r[3]=r[3].slice(1)),!["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].includes(i))throw new Error(Vs(10,i))}else r=r.split(",");return r=r.map(s=>parseFloat(s)),{type:n,values:r,colorSpace:i}}const RG=t=>{const e=Bi(t);return e.values.slice(0,3).map((n,r)=>e.type.includes("hsl")&&r!==0?`${n}%`:n).join(" ")},gl=(t,e)=>{try{return RG(t)}catch{return t}};function Hf(t){const{type:e,colorSpace:n}=t;let{values:r}=t;return e.includes("rgb")?r=r.map((i,s)=>s<3?parseInt(i,10):i):e.includes("hsl")&&(r[1]=`${r[1]}%`,r[2]=`${r[2]}%`),e.includes("color")?r=`${n} ${r.join(" ")}`:r=`${r.join(", ")}`,`${e}(${r})`}function lN(t){t=Bi(t);const{values:e}=t,n=e[0],r=e[1]/100,i=e[2]/100,s=r*Math.min(i,1-i),o=(c,d=(c+n/30)%12)=>i-s*Math.max(Math.min(d-3,9-d,1),-1);let a="rgb";const l=[Math.round(o(0)*255),Math.round(o(8)*255),Math.round(o(4)*255)];return t.type==="hsla"&&(a+="a",l.push(e[3])),Hf({type:a,values:l})}function Sy(t){t=Bi(t);let e=t.type==="hsl"||t.type==="hsla"?Bi(lN(t)).values:t.values;return e=e.map(n=>(t.type!=="color"&&(n/=255),n<=.03928?n/12.92:((n+.055)/1.055)**2.4)),Number((.2126*e[0]+.7152*e[1]+.0722*e[2]).toFixed(3))}function AG(t,e){const n=Sy(t),r=Sy(e);return(Math.max(n,r)+.05)/(Math.min(n,r)+.05)}function NG(t,e){return t=Bi(t),e=V_(e),(t.type==="rgb"||t.type==="hsl")&&(t.type+="a"),t.type==="color"?t.values[3]=`/${e}`:t.values[3]=e,Hf(t)}function qu(t,e,n){try{return NG(t,e)}catch{return t}}function U_(t,e){if(t=Bi(t),e=V_(e),t.type.includes("hsl"))t.values[2]*=1-e;else if(t.type.includes("rgb")||t.type.includes("color"))for(let n=0;n<3;n+=1)t.values[n]*=1-e;return Hf(t)}function we(t,e,n){try{return U_(t,e)}catch{return t}}function B_(t,e){if(t=Bi(t),e=V_(e),t.type.includes("hsl"))t.values[2]+=(100-t.values[2])*e;else if(t.type.includes("rgb"))for(let n=0;n<3;n+=1)t.values[n]+=(255-t.values[n])*e;else if(t.type.includes("color"))for(let n=0;n<3;n+=1)t.values[n]+=(1-t.values[n])*e;return Hf(t)}function xe(t,e,n){try{return B_(t,e)}catch{return t}}function DG(t,e=.15){return Sy(t)>.5?U_(t,e):B_(t,e)}function Yu(t,e,n){try{return DG(t,e)}catch{return t}}const OG=k.createContext(void 0);function MG(t){const{theme:e,name:n,props:r}=t;if(!e||!e.components||!e.components[n])return r;const i=e.components[n];return i.defaultProps?Cy(i.defaultProps,r):!i.styleOverrides&&!i.variants?Cy(i,r):r}function LG({props:t,name:e}){const n=k.useContext(OG);return MG({props:t,name:e,theme:{components:n}})}const pS={theme:void 0};function jG(t){let e,n;return function(i){let s=e;return(s===void 0||i.theme!==n)&&(pS.theme=i.theme,s=oN(t(pS)),e=s,n=i.theme),s}}function FG(t=""){function e(...r){if(!r.length)return"";const i=r[0];return typeof i=="string"&&!i.match(/(#|\(|\)|(-?(\d*\.)?\d+)(px|em|%|ex|ch|rem|vw|vh|vmin|vmax|cm|mm|in|pt|pc))|^(-?(\d*\.)?\d+)$|(\d+ \d+ \d+)/)?`, var(--${t?`${t}-`:""}${i}${e(...r.slice(1))})`:`, ${i}`}return(r,...i)=>`var(--${t?`${t}-`:""}${r}${e(...i)})`}const mS=(t,e,n,r=[])=>{let i=t;e.forEach((s,o)=>{o===e.length-1?Array.isArray(i)?i[Number(s)]=n:i&&typeof i=="object"&&(i[s]=n):i&&typeof i=="object"&&(i[s]||(i[s]=r.includes(s)?[]:{}),i=i[s])})},$G=(t,e,n)=>{function r(i,s=[],o=[]){Object.entries(i).forEach(([a,l])=>{(!n||n&&!n([...s,a]))&&l!=null&&(typeof l=="object"&&Object.keys(l).length>0?r(l,[...s,a],Array.isArray(l)?[...o,a]:o):e([...s,a],l,o))})}r(t)},VG=(t,e)=>typeof e=="number"?["lineHeight","fontWeight","opacity","zIndex"].some(r=>t.includes(r))||t[t.length-1].toLowerCase().includes("opacity")?e:`${e}px`:e;function Sm(t,e){const{prefix:n,shouldSkipGeneratingVar:r}=e||{},i={},s={},o={};return $G(t,(a,l,c)=>{if((typeof l=="string"||typeof l=="number")&&(!r||!r(a,l))){const d=`--${n?`${n}-`:""}${a.join("-")}`,h=VG(a,l);Object.assign(i,{[d]:h}),mS(s,a,`var(${d})`,c),mS(o,a,`var(${d}, ${h})`,c)}},a=>a[0]==="vars"),{css:i,vars:s,varsWithDefaults:o}}function UG(t,e={}){const{getSelector:n=P,disableCssColorScheme:r,colorSchemeSelector:i}=e,{colorSchemes:s={},components:o,defaultColorScheme:a="light",...l}=t,{vars:c,css:d,varsWithDefaults:h}=Sm(l,e);let f=h;const v={},{[a]:w,...S}=s;if(Object.entries(S||{}).forEach(([x,A])=>{const{vars:D,css:M,varsWithDefaults:b}=Sm(A,e);f=fn(f,b),v[x]={css:M,vars:D}}),w){const{css:x,vars:A,varsWithDefaults:D}=Sm(w,e);f=fn(f,D),v[a]={css:x,vars:A}}function P(x,A){var M,b;let D=i;if(i==="class"&&(D=".%s"),i==="data"&&(D="[data-%s]"),i!=null&&i.startsWith("data-")&&!i.includes("%s")&&(D=`[${i}="%s"]`),x){if(D==="media")return t.defaultColorScheme===x?":root":{[`@media (prefers-color-scheme: ${((b=(M=s[x])==null?void 0:M.palette)==null?void 0:b.mode)||x})`]:{":root":A}};if(D)return t.defaultColorScheme===x?`:root, ${D.replace("%s",String(x))}`:D.replace("%s",String(x))}return":root"}return{vars:f,generateThemeVars:()=>{let x={...c};return Object.entries(v).forEach(([,{vars:A}])=>{x=fn(x,A)}),x},generateStyleSheets:()=>{var C,I;const x=[],A=t.defaultColorScheme||"light";function D(g,R){Object.keys(R).length&&x.push(typeof g=="string"?{[g]:{...R}}:g)}D(n(void 0,{...d}),d);const{[A]:M,...b}=v;if(M){const{css:g}=M,R=(I=(C=s[A])==null?void 0:C.palette)==null?void 0:I.mode,O=!r&&R?{colorScheme:R,...g}:{...g};D(n(A,{...O}),O)}return Object.entries(b).forEach(([g,{css:R}])=>{var G,K;const O=(K=(G=s[g])==null?void 0:G.palette)==null?void 0:K.mode,N=!r&&O?{colorScheme:O,...R}:{...R};D(n(g,{...N}),N)}),x}}}function BG(t){return function(n){return t==="media"?`@media (prefers-color-scheme: ${n})`:t?t.startsWith("data-")&&!t.includes("%s")?`[${t}="${n}"] &`:t==="class"?`.${n} &`:t==="data"?`[data-${n}] &`:`${t.replace("%s",n)} &`:"&"}}const zG={black:"#000",white:"#fff"},Rc=zG,WG={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"},HG=WG,GG={50:"#f3e5f5",100:"#e1bee7",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",600:"#8e24aa",700:"#7b1fa2",800:"#6a1b9a",900:"#4a148c",A100:"#ea80fc",A200:"#e040fb",A400:"#d500f9",A700:"#aa00ff"},io=GG,KG={50:"#ffebee",100:"#ffcdd2",200:"#ef9a9a",300:"#e57373",400:"#ef5350",500:"#f44336",600:"#e53935",700:"#d32f2f",800:"#c62828",900:"#b71c1c",A100:"#ff8a80",A200:"#ff5252",A400:"#ff1744",A700:"#d50000"},so=KG,qG={50:"#fff3e0",100:"#ffe0b2",200:"#ffcc80",300:"#ffb74d",400:"#ffa726",500:"#ff9800",600:"#fb8c00",700:"#f57c00",800:"#ef6c00",900:"#e65100",A100:"#ffd180",A200:"#ffab40",A400:"#ff9100",A700:"#ff6d00"},il=qG,YG={50:"#e3f2fd",100:"#bbdefb",200:"#90caf9",300:"#64b5f6",400:"#42a5f5",500:"#2196f3",600:"#1e88e5",700:"#1976d2",800:"#1565c0",900:"#0d47a1",A100:"#82b1ff",A200:"#448aff",A400:"#2979ff",A700:"#2962ff"},oo=YG,XG={50:"#e1f5fe",100:"#b3e5fc",200:"#81d4fa",300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",600:"#039be5",700:"#0288d1",800:"#0277bd",900:"#01579b",A100:"#80d8ff",A200:"#40c4ff",A400:"#00b0ff",A700:"#0091ea"},ao=XG,JG={50:"#e8f5e9",100:"#c8e6c9",200:"#a5d6a7",300:"#81c784",400:"#66bb6a",500:"#4caf50",600:"#43a047",700:"#388e3c",800:"#2e7d32",900:"#1b5e20",A100:"#b9f6ca",A200:"#69f0ae",A400:"#00e676",A700:"#00c853"},lo=JG;function cN(){return{text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:Rc.white,default:Rc.white},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}}}const QG=cN();function uN(){return{text:{primary:Rc.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:"#121212",default:"#121212"},action:{active:Rc.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}}}const gS=uN();function yS(t,e,n,r){const i=r.light||r,s=r.dark||r*1.5;t[e]||(t.hasOwnProperty(n)?t[e]=t[n]:e==="light"?t.light=B_(t.main,i):e==="dark"&&(t.dark=U_(t.main,s)))}function ZG(t="light"){return t==="dark"?{main:oo[200],light:oo[50],dark:oo[400]}:{main:oo[700],light:oo[400],dark:oo[800]}}function eK(t="light"){return t==="dark"?{main:io[200],light:io[50],dark:io[400]}:{main:io[500],light:io[300],dark:io[700]}}function tK(t="light"){return t==="dark"?{main:so[500],light:so[300],dark:so[700]}:{main:so[700],light:so[400],dark:so[800]}}function nK(t="light"){return t==="dark"?{main:ao[400],light:ao[300],dark:ao[700]}:{main:ao[700],light:ao[500],dark:ao[900]}}function rK(t="light"){return t==="dark"?{main:lo[400],light:lo[300],dark:lo[700]}:{main:lo[800],light:lo[500],dark:lo[900]}}function iK(t="light"){return t==="dark"?{main:il[400],light:il[300],dark:il[700]}:{main:"#ed6c02",light:il[500],dark:il[900]}}function z_(t){const{mode:e="light",contrastThreshold:n=3,tonalOffset:r=.2,...i}=t,s=t.primary||ZG(e),o=t.secondary||eK(e),a=t.error||tK(e),l=t.info||nK(e),c=t.success||rK(e),d=t.warning||iK(e);function h(S){return AG(S,gS.text.primary)>=n?gS.text.primary:QG.text.primary}const f=({color:S,name:P,mainShade:_=500,lightShade:E=300,darkShade:x=700})=>{if(S={...S},!S.main&&S[_]&&(S.main=S[_]),!S.hasOwnProperty("main"))throw new Error(Vs(11,P?` (${P})`:"",_));if(typeof S.main!="string")throw new Error(Vs(12,P?` (${P})`:"",JSON.stringify(S.main)));return yS(S,"light",E,r),yS(S,"dark",x,r),S.contrastText||(S.contrastText=h(S.main)),S};let v;return e==="light"?v=cN():e==="dark"&&(v=uN()),fn({common:{...Rc},mode:e,primary:f({color:s,name:"primary"}),secondary:f({color:o,name:"secondary",mainShade:"A400",lightShade:"A200",darkShade:"A700"}),error:f({color:a,name:"error"}),warning:f({color:d,name:"warning"}),info:f({color:l,name:"info"}),success:f({color:c,name:"success"}),grey:HG,contrastThreshold:n,getContrastText:h,augmentColor:f,tonalOffset:r,...v},i)}function sK(t){const e={};return Object.entries(t).forEach(r=>{const[i,s]=r;typeof s=="object"&&(e[i]=`${s.fontStyle?`${s.fontStyle} `:""}${s.fontVariant?`${s.fontVariant} `:""}${s.fontWeight?`${s.fontWeight} `:""}${s.fontStretch?`${s.fontStretch} `:""}${s.fontSize||""}${s.lineHeight?`/${s.lineHeight} `:""}${s.fontFamily||""}`)}),e}function oK(t,e){return{toolbar:{minHeight:56,[t.up("xs")]:{"@media (orientation: landscape)":{minHeight:48}},[t.up("sm")]:{minHeight:64}},...e}}function aK(t){return Math.round(t*1e5)/1e5}const vS={textTransform:"uppercase"},_S='"Roboto", "Helvetica", "Arial", sans-serif';function lK(t,e){const{fontFamily:n=_S,fontSize:r=14,fontWeightLight:i=300,fontWeightRegular:s=400,fontWeightMedium:o=500,fontWeightBold:a=700,htmlFontSize:l=16,allVariants:c,pxToRem:d,...h}=typeof e=="function"?e(t):e,f=r/14,v=d||(P=>`${P/l*f}rem`),w=(P,_,E,x,A)=>({fontFamily:n,fontWeight:P,fontSize:v(_),lineHeight:E,...n===_S?{letterSpacing:`${aK(x/_)}em`}:{},...A,...c}),S={h1:w(i,96,1.167,-1.5),h2:w(i,60,1.2,-.5),h3:w(s,48,1.167,0),h4:w(s,34,1.235,.25),h5:w(s,24,1.334,0),h6:w(o,20,1.6,.15),subtitle1:w(s,16,1.75,.15),subtitle2:w(o,14,1.57,.1),body1:w(s,16,1.5,.15),body2:w(s,14,1.43,.15),button:w(o,14,1.75,.4,vS),caption:w(s,12,1.66,.4),overline:w(s,12,2.66,1,vS),inherit:{fontFamily:"inherit",fontWeight:"inherit",fontSize:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}};return fn({htmlFontSize:l,pxToRem:v,fontFamily:n,fontSize:r,fontWeightLight:i,fontWeightRegular:s,fontWeightMedium:o,fontWeightBold:a,...S},h,{clone:!1})}const cK=.2,uK=.14,dK=.12;function Ne(...t){return[`${t[0]}px ${t[1]}px ${t[2]}px ${t[3]}px rgba(0,0,0,${cK})`,`${t[4]}px ${t[5]}px ${t[6]}px ${t[7]}px rgba(0,0,0,${uK})`,`${t[8]}px ${t[9]}px ${t[10]}px ${t[11]}px rgba(0,0,0,${dK})`].join(",")}const hK=["none",Ne(0,2,1,-1,0,1,1,0,0,1,3,0),Ne(0,3,1,-2,0,2,2,0,0,1,5,0),Ne(0,3,3,-2,0,3,4,0,0,1,8,0),Ne(0,2,4,-1,0,4,5,0,0,1,10,0),Ne(0,3,5,-1,0,5,8,0,0,1,14,0),Ne(0,3,5,-1,0,6,10,0,0,1,18,0),Ne(0,4,5,-2,0,7,10,1,0,2,16,1),Ne(0,5,5,-3,0,8,10,1,0,3,14,2),Ne(0,5,6,-3,0,9,12,1,0,3,16,2),Ne(0,6,6,-3,0,10,14,1,0,4,18,3),Ne(0,6,7,-4,0,11,15,1,0,4,20,3),Ne(0,7,8,-4,0,12,17,2,0,5,22,4),Ne(0,7,8,-4,0,13,19,2,0,5,24,4),Ne(0,7,9,-4,0,14,21,2,0,5,26,4),Ne(0,8,9,-5,0,15,22,2,0,6,28,5),Ne(0,8,10,-5,0,16,24,2,0,6,30,5),Ne(0,8,11,-5,0,17,26,2,0,6,32,5),Ne(0,9,11,-5,0,18,28,2,0,7,34,6),Ne(0,9,12,-6,0,19,29,2,0,7,36,6),Ne(0,10,13,-6,0,20,31,3,0,8,38,7),Ne(0,10,13,-6,0,21,33,3,0,8,40,7),Ne(0,10,14,-6,0,22,35,3,0,8,42,7),Ne(0,11,14,-7,0,23,36,3,0,9,44,8),Ne(0,11,15,-7,0,24,38,3,0,9,46,8)],fK=hK,pK={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},mK={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function wS(t){return`${Math.round(t)}ms`}function gK(t){if(!t)return 0;const e=t/36;return Math.min(Math.round((4+15*e**.25+e/5)*10),3e3)}function yK(t){const e={...pK,...t.easing},n={...mK,...t.duration};return{getAutoHeightDuration:gK,create:(i=["all"],s={})=>{const{duration:o=n.standard,easing:a=e.easeInOut,delay:l=0,...c}=s;return(Array.isArray(i)?i:[i]).map(d=>`${d} ${typeof o=="string"?o:wS(o)} ${a} ${typeof l=="string"?l:wS(l)}`).join(",")},...t,easing:e,duration:n}}const vK={mobileStepper:1e3,fab:1050,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500},_K=vK;function wK(t){return hr(t)||typeof t>"u"||typeof t=="string"||typeof t=="boolean"||typeof t=="number"||Array.isArray(t)}function dN(t={}){const e={...t};function n(r){const i=Object.entries(r);for(let s=0;s<i.length;s++){const[o,a]=i[s];!wK(a)||o.startsWith("unstable_")?delete r[o]:hr(a)&&(r[o]={...a},n(r[o]))}}return n(e),`import { unstable_createBreakpoints as createBreakpoints, createTransitions } from '@mui/material/styles';

const theme = ${JSON.stringify(e,null,2)};

theme.breakpoints = createBreakpoints(theme.breakpoints || {});
theme.transitions = createTransitions(theme.transitions || {});

export default theme;`}function by(t={},...e){const{breakpoints:n,mixins:r={},spacing:i,palette:s={},transitions:o={},typography:a={},shape:l,...c}=t;if(t.vars&&t.generateThemeVars===void 0)throw new Error(Vs(20));const d=z_(s),h=j_(t);let f=fn(h,{mixins:oK(h.breakpoints,r),palette:d,shadows:fK.slice(),typography:lK(d,a),transitions:yK(o),zIndex:{..._K}});return f=fn(f,c),f=e.reduce((v,w)=>fn(v,w),f),f.unstable_sxConfig={...su,...c==null?void 0:c.unstable_sxConfig},f.unstable_sx=function(w){return ua({sx:w,theme:this})},f.toRuntimeSource=dN,f}function xK(t){let e;return t<1?e=5.11916*t**2:e=4.5*Math.log(t+1)+2,Math.round(e*10)/1e3}const EK=[...Array(25)].map((t,e)=>{if(e===0)return"none";const n=xK(e);return`linear-gradient(rgba(255 255 255 / ${n}), rgba(255 255 255 / ${n}))`});function hN(t){return{inputPlaceholder:t==="dark"?.5:.42,inputUnderline:t==="dark"?.7:.42,switchTrackDisabled:t==="dark"?.2:.12,switchTrack:t==="dark"?.3:.38}}function fN(t){return t==="dark"?EK:[]}function CK(t){const{palette:e={mode:"light"},opacity:n,overlays:r,...i}=t,s=z_(e);return{palette:s,opacity:{...hN(s.mode),...n},overlays:r||fN(s.mode),...i}}function SK(t){var e;return!!t[0].match(/(cssVarPrefix|colorSchemeSelector|rootSelector|typography|mixins|breakpoints|direction|transitions)/)||!!t[0].match(/sxConfig$/)||t[0]==="palette"&&!!((e=t[1])!=null&&e.match(/(mode|contrastThreshold|tonalOffset)/))}const bK=t=>[...[...Array(25)].map((e,n)=>`--${t?`${t}-`:""}overlays-${n}`),`--${t?`${t}-`:""}palette-AppBar-darkBg`,`--${t?`${t}-`:""}palette-AppBar-darkColor`],TK=bK,kK=t=>(e,n)=>{const r=t.rootSelector||":root",i=t.colorSchemeSelector;let s=i;if(i==="class"&&(s=".%s"),i==="data"&&(s="[data-%s]"),i!=null&&i.startsWith("data-")&&!i.includes("%s")&&(s=`[${i}="%s"]`),t.defaultColorScheme===e){if(e==="dark"){const o={};return TK(t.cssVarPrefix).forEach(a=>{o[a]=n[a],delete n[a]}),s==="media"?{[r]:n,"@media (prefers-color-scheme: dark)":{[r]:o}}:s?{[s.replace("%s",e)]:o,[`${r}, ${s.replace("%s",e)}`]:n}:{[r]:{...n,...o}}}if(s&&s!=="media")return`${r}, ${s.replace("%s",String(e))}`}else if(e){if(s==="media")return{[`@media (prefers-color-scheme: ${String(e)})`]:{[r]:n}};if(s)return s.replace("%s",String(e))}return r};function IK(t,e){e.forEach(n=>{t[n]||(t[n]={})})}function $(t,e,n){!t[e]&&n&&(t[e]=n)}function yl(t){return typeof t!="string"||!t.startsWith("hsl")?t:lN(t)}function Tr(t,e){`${e}Channel`in t||(t[`${e}Channel`]=gl(yl(t[e]),`MUI: Can't create \`palette.${e}Channel\` because \`palette.${e}\` is not one of these formats: #nnn, #nnnnnn, rgb(), rgba(), hsl(), hsla(), color().
To suppress this warning, you need to explicitly provide the \`palette.${e}Channel\` as a string (in rgb format, for example "12 12 12") or undefined if you want to remove the channel token.`))}function PK(t){return typeof t=="number"?`${t}px`:typeof t=="string"||typeof t=="function"||Array.isArray(t)?t:"8px"}const or=t=>{try{return t()}catch{}},RK=(t="mui")=>FG(t);function bm(t,e,n,r){if(!e)return;e=e===!0?{}:e;const i=r==="dark"?"dark":"light";if(!n){t[r]=CK({...e,palette:{mode:i,...e==null?void 0:e.palette}});return}const{palette:s,...o}=by({...n,palette:{mode:i,...e==null?void 0:e.palette}});return t[r]={...e,palette:s,opacity:{...hN(i),...e==null?void 0:e.opacity},overlays:(e==null?void 0:e.overlays)||fN(i)},o}function AK(t={},...e){const{colorSchemes:n={light:!0},defaultColorScheme:r,disableCssColorScheme:i=!1,cssVarPrefix:s="mui",shouldSkipGeneratingVar:o=SK,colorSchemeSelector:a=n.light&&n.dark?"media":void 0,rootSelector:l=":root",...c}=t,d=Object.keys(n)[0],h=r||(n.light&&d!=="light"?"light":d),f=RK(s),{[h]:v,light:w,dark:S,...P}=n,_={...P};let E=v;if((h==="dark"&&!("dark"in n)||h==="light"&&!("light"in n))&&(E=!0),!E)throw new Error(Vs(21,h));const x=bm(_,E,c,h);w&&!_.light&&bm(_,w,void 0,"light"),S&&!_.dark&&bm(_,S,void 0,"dark");let A={defaultColorScheme:h,...x,cssVarPrefix:s,colorSchemeSelector:a,rootSelector:l,getCssVar:f,colorSchemes:_,font:{...sK(x.typography),...x.font},spacing:PK(c.spacing)};Object.keys(A.colorSchemes).forEach(I=>{const g=A.colorSchemes[I].palette,R=O=>{const N=O.split("-"),G=N[1],K=N[2];return f(O,g[G][K])};if(g.mode==="light"&&($(g.common,"background","#fff"),$(g.common,"onBackground","#000")),g.mode==="dark"&&($(g.common,"background","#000"),$(g.common,"onBackground","#fff")),IK(g,["Alert","AppBar","Avatar","Button","Chip","FilledInput","LinearProgress","Skeleton","Slider","SnackbarContent","SpeedDialAction","StepConnector","StepContent","Switch","TableCell","Tooltip"]),g.mode==="light"){$(g.Alert,"errorColor",we(g.error.light,.6)),$(g.Alert,"infoColor",we(g.info.light,.6)),$(g.Alert,"successColor",we(g.success.light,.6)),$(g.Alert,"warningColor",we(g.warning.light,.6)),$(g.Alert,"errorFilledBg",R("palette-error-main")),$(g.Alert,"infoFilledBg",R("palette-info-main")),$(g.Alert,"successFilledBg",R("palette-success-main")),$(g.Alert,"warningFilledBg",R("palette-warning-main")),$(g.Alert,"errorFilledColor",or(()=>g.getContrastText(g.error.main))),$(g.Alert,"infoFilledColor",or(()=>g.getContrastText(g.info.main))),$(g.Alert,"successFilledColor",or(()=>g.getContrastText(g.success.main))),$(g.Alert,"warningFilledColor",or(()=>g.getContrastText(g.warning.main))),$(g.Alert,"errorStandardBg",xe(g.error.light,.9)),$(g.Alert,"infoStandardBg",xe(g.info.light,.9)),$(g.Alert,"successStandardBg",xe(g.success.light,.9)),$(g.Alert,"warningStandardBg",xe(g.warning.light,.9)),$(g.Alert,"errorIconColor",R("palette-error-main")),$(g.Alert,"infoIconColor",R("palette-info-main")),$(g.Alert,"successIconColor",R("palette-success-main")),$(g.Alert,"warningIconColor",R("palette-warning-main")),$(g.AppBar,"defaultBg",R("palette-grey-100")),$(g.Avatar,"defaultBg",R("palette-grey-400")),$(g.Button,"inheritContainedBg",R("palette-grey-300")),$(g.Button,"inheritContainedHoverBg",R("palette-grey-A100")),$(g.Chip,"defaultBorder",R("palette-grey-400")),$(g.Chip,"defaultAvatarColor",R("palette-grey-700")),$(g.Chip,"defaultIconColor",R("palette-grey-700")),$(g.FilledInput,"bg","rgba(0, 0, 0, 0.06)"),$(g.FilledInput,"hoverBg","rgba(0, 0, 0, 0.09)"),$(g.FilledInput,"disabledBg","rgba(0, 0, 0, 0.12)"),$(g.LinearProgress,"primaryBg",xe(g.primary.main,.62)),$(g.LinearProgress,"secondaryBg",xe(g.secondary.main,.62)),$(g.LinearProgress,"errorBg",xe(g.error.main,.62)),$(g.LinearProgress,"infoBg",xe(g.info.main,.62)),$(g.LinearProgress,"successBg",xe(g.success.main,.62)),$(g.LinearProgress,"warningBg",xe(g.warning.main,.62)),$(g.Skeleton,"bg",`rgba(${R("palette-text-primaryChannel")} / 0.11)`),$(g.Slider,"primaryTrack",xe(g.primary.main,.62)),$(g.Slider,"secondaryTrack",xe(g.secondary.main,.62)),$(g.Slider,"errorTrack",xe(g.error.main,.62)),$(g.Slider,"infoTrack",xe(g.info.main,.62)),$(g.Slider,"successTrack",xe(g.success.main,.62)),$(g.Slider,"warningTrack",xe(g.warning.main,.62));const O=Yu(g.background.default,.8);$(g.SnackbarContent,"bg",O),$(g.SnackbarContent,"color",or(()=>g.getContrastText(O))),$(g.SpeedDialAction,"fabHoverBg",Yu(g.background.paper,.15)),$(g.StepConnector,"border",R("palette-grey-400")),$(g.StepContent,"border",R("palette-grey-400")),$(g.Switch,"defaultColor",R("palette-common-white")),$(g.Switch,"defaultDisabledColor",R("palette-grey-100")),$(g.Switch,"primaryDisabledColor",xe(g.primary.main,.62)),$(g.Switch,"secondaryDisabledColor",xe(g.secondary.main,.62)),$(g.Switch,"errorDisabledColor",xe(g.error.main,.62)),$(g.Switch,"infoDisabledColor",xe(g.info.main,.62)),$(g.Switch,"successDisabledColor",xe(g.success.main,.62)),$(g.Switch,"warningDisabledColor",xe(g.warning.main,.62)),$(g.TableCell,"border",xe(qu(g.divider,1),.88)),$(g.Tooltip,"bg",qu(g.grey[700],.92))}if(g.mode==="dark"){$(g.Alert,"errorColor",xe(g.error.light,.6)),$(g.Alert,"infoColor",xe(g.info.light,.6)),$(g.Alert,"successColor",xe(g.success.light,.6)),$(g.Alert,"warningColor",xe(g.warning.light,.6)),$(g.Alert,"errorFilledBg",R("palette-error-dark")),$(g.Alert,"infoFilledBg",R("palette-info-dark")),$(g.Alert,"successFilledBg",R("palette-success-dark")),$(g.Alert,"warningFilledBg",R("palette-warning-dark")),$(g.Alert,"errorFilledColor",or(()=>g.getContrastText(g.error.dark))),$(g.Alert,"infoFilledColor",or(()=>g.getContrastText(g.info.dark))),$(g.Alert,"successFilledColor",or(()=>g.getContrastText(g.success.dark))),$(g.Alert,"warningFilledColor",or(()=>g.getContrastText(g.warning.dark))),$(g.Alert,"errorStandardBg",we(g.error.light,.9)),$(g.Alert,"infoStandardBg",we(g.info.light,.9)),$(g.Alert,"successStandardBg",we(g.success.light,.9)),$(g.Alert,"warningStandardBg",we(g.warning.light,.9)),$(g.Alert,"errorIconColor",R("palette-error-main")),$(g.Alert,"infoIconColor",R("palette-info-main")),$(g.Alert,"successIconColor",R("palette-success-main")),$(g.Alert,"warningIconColor",R("palette-warning-main")),$(g.AppBar,"defaultBg",R("palette-grey-900")),$(g.AppBar,"darkBg",R("palette-background-paper")),$(g.AppBar,"darkColor",R("palette-text-primary")),$(g.Avatar,"defaultBg",R("palette-grey-600")),$(g.Button,"inheritContainedBg",R("palette-grey-800")),$(g.Button,"inheritContainedHoverBg",R("palette-grey-700")),$(g.Chip,"defaultBorder",R("palette-grey-700")),$(g.Chip,"defaultAvatarColor",R("palette-grey-300")),$(g.Chip,"defaultIconColor",R("palette-grey-300")),$(g.FilledInput,"bg","rgba(255, 255, 255, 0.09)"),$(g.FilledInput,"hoverBg","rgba(255, 255, 255, 0.13)"),$(g.FilledInput,"disabledBg","rgba(255, 255, 255, 0.12)"),$(g.LinearProgress,"primaryBg",we(g.primary.main,.5)),$(g.LinearProgress,"secondaryBg",we(g.secondary.main,.5)),$(g.LinearProgress,"errorBg",we(g.error.main,.5)),$(g.LinearProgress,"infoBg",we(g.info.main,.5)),$(g.LinearProgress,"successBg",we(g.success.main,.5)),$(g.LinearProgress,"warningBg",we(g.warning.main,.5)),$(g.Skeleton,"bg",`rgba(${R("palette-text-primaryChannel")} / 0.13)`),$(g.Slider,"primaryTrack",we(g.primary.main,.5)),$(g.Slider,"secondaryTrack",we(g.secondary.main,.5)),$(g.Slider,"errorTrack",we(g.error.main,.5)),$(g.Slider,"infoTrack",we(g.info.main,.5)),$(g.Slider,"successTrack",we(g.success.main,.5)),$(g.Slider,"warningTrack",we(g.warning.main,.5));const O=Yu(g.background.default,.98);$(g.SnackbarContent,"bg",O),$(g.SnackbarContent,"color",or(()=>g.getContrastText(O))),$(g.SpeedDialAction,"fabHoverBg",Yu(g.background.paper,.15)),$(g.StepConnector,"border",R("palette-grey-600")),$(g.StepContent,"border",R("palette-grey-600")),$(g.Switch,"defaultColor",R("palette-grey-300")),$(g.Switch,"defaultDisabledColor",R("palette-grey-600")),$(g.Switch,"primaryDisabledColor",we(g.primary.main,.55)),$(g.Switch,"secondaryDisabledColor",we(g.secondary.main,.55)),$(g.Switch,"errorDisabledColor",we(g.error.main,.55)),$(g.Switch,"infoDisabledColor",we(g.info.main,.55)),$(g.Switch,"successDisabledColor",we(g.success.main,.55)),$(g.Switch,"warningDisabledColor",we(g.warning.main,.55)),$(g.TableCell,"border",we(qu(g.divider,1),.68)),$(g.Tooltip,"bg",qu(g.grey[700],.92))}Tr(g.background,"default"),Tr(g.background,"paper"),Tr(g.common,"background"),Tr(g.common,"onBackground"),Tr(g,"divider"),Object.keys(g).forEach(O=>{const N=g[O];O!=="tonalOffset"&&N&&typeof N=="object"&&(N.main&&$(g[O],"mainChannel",gl(yl(N.main))),N.light&&$(g[O],"lightChannel",gl(yl(N.light))),N.dark&&$(g[O],"darkChannel",gl(yl(N.dark))),N.contrastText&&$(g[O],"contrastTextChannel",gl(yl(N.contrastText))),O==="text"&&(Tr(g[O],"primary"),Tr(g[O],"secondary")),O==="action"&&(N.active&&Tr(g[O],"active"),N.selected&&Tr(g[O],"selected")))})}),A=e.reduce((I,g)=>fn(I,g),A);const D={prefix:s,disableCssColorScheme:i,shouldSkipGeneratingVar:o,getSelector:kK(A)},{vars:M,generateThemeVars:b,generateStyleSheets:C}=UG(A,D);return A.vars=M,Object.entries(A.colorSchemes[A.defaultColorScheme]).forEach(([I,g])=>{A[I]=g}),A.generateThemeVars=b,A.generateStyleSheets=C,A.generateSpacing=function(){return rN(c.spacing,N_(this))},A.getColorSchemeSelector=BG(a),A.spacing=A.generateSpacing(),A.shouldSkipGeneratingVar=o,A.unstable_sxConfig={...su,...c==null?void 0:c.unstable_sxConfig},A.unstable_sx=function(g){return ua({sx:g,theme:this})},A.toRuntimeSource=dN,A}function xS(t,e,n){t.colorSchemes&&n&&(t.colorSchemes[e]={...n!==!0&&n,palette:z_({...n===!0?{}:n.palette,mode:e})})}function pN(t={},...e){const{palette:n,cssVariables:r=!1,colorSchemes:i=n?void 0:{light:!0},defaultColorScheme:s=n==null?void 0:n.mode,...o}=t,a=s||"light",l=i==null?void 0:i[a],c={...i,...n?{[a]:{...typeof l!="boolean"&&l,palette:n}}:void 0};if(r===!1){if(!("colorSchemes"in t))return by(t,...e);let d=n;"palette"in t||c[a]&&(c[a]!==!0?d=c[a].palette:a==="dark"&&(d={mode:"dark"}));const h=by({...t,palette:d},...e);return h.defaultColorScheme=a,h.colorSchemes=c,h.palette.mode==="light"&&(h.colorSchemes.light={...c.light!==!0&&c.light,palette:h.palette},xS(h,"dark",c.dark)),h.palette.mode==="dark"&&(h.colorSchemes.dark={...c.dark!==!0&&c.dark,palette:h.palette},xS(h,"light",c.light)),h}return!n&&!("light"in c)&&a==="light"&&(c.light=!0),AK({...o,colorSchemes:c,defaultColorScheme:a,...typeof r!="boolean"&&r},...e)}const NK=pN(),mN=NK,W_="$$material";function DK(){const t=iN(mN);return t[W_]||t}function OK(t){return t!=="ownerState"&&t!=="theme"&&t!=="sx"&&t!=="as"}const MK=t=>OK(t)&&t!=="classes",LK=MK,jK=CG({themeId:W_,defaultTheme:mN,rootShouldForwardProp:LK}),H_=jK,FK=jG,$K=FK;function gN(t){return LG(t)}function VK(t){return typeof t=="string"}function UK(t,e,n){return t===void 0||VK(t)?e:{...e,ownerState:{...e.ownerState,...n}}}function BK(t,e,n){return typeof t=="function"?t(e,n):t}function yN(t,e=[]){if(t===void 0)return{};const n={};return Object.keys(t).filter(r=>r.match(/^on[A-Z]/)&&typeof t[r]=="function"&&!e.includes(r)).forEach(r=>{n[r]=t[r]}),n}function ES(t){if(t===void 0)return{};const e={};return Object.keys(t).filter(n=>!(n.match(/^on[A-Z]/)&&typeof t[n]=="function")).forEach(n=>{e[n]=t[n]}),e}function zK(t){const{getSlotProps:e,additionalProps:n,externalSlotProps:r,externalForwardedProps:i,className:s}=t;if(!e){const v=ca(n==null?void 0:n.className,s,i==null?void 0:i.className,r==null?void 0:r.className),w={...n==null?void 0:n.style,...i==null?void 0:i.style,...r==null?void 0:r.style},S={...n,...i,...r};return v.length>0&&(S.className=v),Object.keys(w).length>0&&(S.style=w),{props:S,internalRef:void 0}}const o=yN({...i,...r}),a=ES(r),l=ES(i),c=e(o),d=ca(c==null?void 0:c.className,n==null?void 0:n.className,s,i==null?void 0:i.className,r==null?void 0:r.className),h={...c==null?void 0:c.style,...n==null?void 0:n.style,...i==null?void 0:i.style,...r==null?void 0:r.style},f={...c,...n,...l,...a};return d.length>0&&(f.className=d),Object.keys(h).length>0&&(f.style=h),{props:f,internalRef:c.ref}}function Oh(t,e){const{className:n,elementType:r,ownerState:i,externalForwardedProps:s,internalForwardedProps:o,shouldForwardComponentProp:a=!1,...l}=e,{component:c,slots:d={[t]:void 0},slotProps:h={[t]:void 0},...f}=s,v=d[t]||r,w=BK(h[t],i),{props:{component:S,...P},internalRef:_}=zK({className:n,...l,externalForwardedProps:t==="root"?f:void 0,externalSlotProps:w}),E=nu(_,w==null?void 0:w.ref,e.ref),x=t==="root"?S||c:S,A=UK(v,{...t==="root"&&!c&&!d[t]&&o,...t!=="root"&&!d[t]&&o,...P,...x&&!a&&{as:x},...x&&a&&{component:x},ref:E},i);return[v,A]}function WK(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function Ty(t,e){return Ty=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,r){return n.__proto__=r,n},Ty(t,e)}function HK(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,Ty(t,e)}const CS={disabled:!1},vN=vi.createContext(null);var GK=function(e){return e.scrollTop},vl="unmounted",us="exited",ds="entering",uo="entered",ky="exiting",ri=function(t){HK(e,t);function e(r,i){var s;s=t.call(this,r,i)||this;var o=i,a=o&&!o.isMounting?r.enter:r.appear,l;return s.appearStatus=null,r.in?a?(l=us,s.appearStatus=ds):l=uo:r.unmountOnExit||r.mountOnEnter?l=vl:l=us,s.state={status:l},s.nextCallback=null,s}e.getDerivedStateFromProps=function(i,s){var o=i.in;return o&&s.status===vl?{status:us}:null};var n=e.prototype;return n.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},n.componentDidUpdate=function(i){var s=null;if(i!==this.props){var o=this.state.status;this.props.in?o!==ds&&o!==uo&&(s=ds):(o===ds||o===uo)&&(s=ky)}this.updateStatus(!1,s)},n.componentWillUnmount=function(){this.cancelNextCallback()},n.getTimeouts=function(){var i=this.props.timeout,s,o,a;return s=o=a=i,i!=null&&typeof i!="number"&&(s=i.exit,o=i.enter,a=i.appear!==void 0?i.appear:o),{exit:s,enter:o,appear:a}},n.updateStatus=function(i,s){if(i===void 0&&(i=!1),s!==null)if(this.cancelNextCallback(),s===ds){if(this.props.unmountOnExit||this.props.mountOnEnter){var o=this.props.nodeRef?this.props.nodeRef.current:Lu.findDOMNode(this);o&&GK(o)}this.performEnter(i)}else this.performExit();else this.props.unmountOnExit&&this.state.status===us&&this.setState({status:vl})},n.performEnter=function(i){var s=this,o=this.props.enter,a=this.context?this.context.isMounting:i,l=this.props.nodeRef?[a]:[Lu.findDOMNode(this),a],c=l[0],d=l[1],h=this.getTimeouts(),f=a?h.appear:h.enter;if(!i&&!o||CS.disabled){this.safeSetState({status:uo},function(){s.props.onEntered(c)});return}this.props.onEnter(c,d),this.safeSetState({status:ds},function(){s.props.onEntering(c,d),s.onTransitionEnd(f,function(){s.safeSetState({status:uo},function(){s.props.onEntered(c,d)})})})},n.performExit=function(){var i=this,s=this.props.exit,o=this.getTimeouts(),a=this.props.nodeRef?void 0:Lu.findDOMNode(this);if(!s||CS.disabled){this.safeSetState({status:us},function(){i.props.onExited(a)});return}this.props.onExit(a),this.safeSetState({status:ky},function(){i.props.onExiting(a),i.onTransitionEnd(o.exit,function(){i.safeSetState({status:us},function(){i.props.onExited(a)})})})},n.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},n.safeSetState=function(i,s){s=this.setNextCallback(s),this.setState(i,s)},n.setNextCallback=function(i){var s=this,o=!0;return this.nextCallback=function(a){o&&(o=!1,s.nextCallback=null,i(a))},this.nextCallback.cancel=function(){o=!1},this.nextCallback},n.onTransitionEnd=function(i,s){this.setNextCallback(s);var o=this.props.nodeRef?this.props.nodeRef.current:Lu.findDOMNode(this),a=i==null&&!this.props.addEndListener;if(!o||a){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var l=this.props.nodeRef?[this.nextCallback]:[o,this.nextCallback],c=l[0],d=l[1];this.props.addEndListener(c,d)}i!=null&&setTimeout(this.nextCallback,i)},n.render=function(){var i=this.state.status;if(i===vl)return null;var s=this.props,o=s.children;s.in,s.mountOnEnter,s.unmountOnExit,s.appear,s.enter,s.exit,s.timeout,s.addEndListener,s.onEnter,s.onEntering,s.onEntered,s.onExit,s.onExiting,s.onExited,s.nodeRef;var a=WK(s,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return vi.createElement(vN.Provider,{value:null},typeof o=="function"?o(i,a):vi.cloneElement(vi.Children.only(o),a))},e}(vi.Component);ri.contextType=vN;ri.propTypes={};function co(){}ri.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:co,onEntering:co,onEntered:co,onExit:co,onExiting:co,onExited:co};ri.UNMOUNTED=vl;ri.EXITED=us;ri.ENTERING=ds;ri.ENTERED=uo;ri.EXITING=ky;const KK=ri,qK=t=>t.scrollTop;function SS(t,e){const{timeout:n,easing:r,style:i={}}=t;return{duration:i.transitionDuration??(typeof n=="number"?n:n[e.mode]||0),easing:i.transitionTimingFunction??(typeof r=="object"?r[e.mode]:r),delay:i.transitionDelay}}const YK={entering:{opacity:1},entered:{opacity:1}},XK=k.forwardRef(function(e,n){const r=DK(),i={enter:r.transitions.duration.enteringScreen,exit:r.transitions.duration.leavingScreen},{addEndListener:s,appear:o=!0,children:a,easing:l,in:c,onEnter:d,onEntered:h,onEntering:f,onExit:v,onExited:w,onExiting:S,style:P,timeout:_=i,TransitionComponent:E=KK,...x}=e,A=k.useRef(null),D=nu(A,k_(a),n),M=G=>K=>{if(G){const Z=A.current;K===void 0?G(Z):G(Z,K)}},b=M(f),C=M((G,K)=>{qK(G);const Z=SS({style:P,timeout:_,easing:l},{mode:"enter"});G.style.webkitTransition=r.transitions.create("opacity",Z),G.style.transition=r.transitions.create("opacity",Z),d&&d(G,K)}),I=M(h),g=M(S),R=M(G=>{const K=SS({style:P,timeout:_,easing:l},{mode:"exit"});G.style.webkitTransition=r.transitions.create("opacity",K),G.style.transition=r.transitions.create("opacity",K),v&&v(G)}),O=M(w),N=G=>{s&&s(A.current,G)};return m.jsx(E,{appear:o,in:c,nodeRef:A,onEnter:C,onEntered:I,onEntering:b,onExit:R,onExited:O,onExiting:g,addEndListener:N,timeout:_,...x,children:(G,{ownerState:K,...Z})=>k.cloneElement(a,{style:{opacity:0,visibility:G==="exited"&&!c?"hidden":void 0,...YK[G],...P,...a.props.style},ref:D,...Z})})}),JK=XK;function QK(t){return F_("MuiBackdrop",t)}$_("MuiBackdrop",["root","invisible"]);const ZK=t=>{const{classes:e,invisible:n}=t;return LA({root:["root",n&&"invisible"]},QK,e)},eq=H_("div",{name:"MuiBackdrop",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.invisible&&e.invisible]}})({position:"fixed",display:"flex",alignItems:"center",justifyContent:"center",right:0,bottom:0,top:0,left:0,backgroundColor:"rgba(0, 0, 0, 0.5)",WebkitTapHighlightColor:"transparent",variants:[{props:{invisible:!0},style:{backgroundColor:"transparent"}}]}),tq=k.forwardRef(function(e,n){const r=gN({props:e,name:"MuiBackdrop"}),{children:i,className:s,component:o="div",invisible:a=!1,open:l,components:c={},componentsProps:d={},slotProps:h={},slots:f={},TransitionComponent:v,transitionDuration:w,...S}=r,P={...r,component:o,invisible:a},_=ZK(P),E={transition:v,root:c.Root,...f},x={...d,...h},A={slots:E,slotProps:x},[D,M]=Oh("root",{elementType:eq,externalForwardedProps:A,className:ca(_.root,s),ownerState:P}),[b,C]=Oh("transition",{elementType:JK,externalForwardedProps:A,ownerState:P});return m.jsx(b,{in:l,timeout:w,...S,...C,children:m.jsx(D,{"aria-hidden":!0,...M,classes:_,ref:n,children:i})})}),nq=tq;function bS(t){const e=k.useRef(t);return vy(()=>{e.current=t}),k.useRef((...n)=>(0,e.current)(...n)).current}function TS(...t){return t.reduce((e,n)=>n==null?e:function(...i){e.apply(this,i),n.apply(this,i)},()=>{})}function rq(t){return typeof t=="function"?t():t}function iq(t){return t?t.props.hasOwnProperty("in"):!1}const kS=()=>{},Xu=new eW;function sq(t){const{container:e,disableEscapeKeyDown:n=!1,disableScrollLock:r=!1,closeAfterTransition:i=!1,onTransitionEnter:s,onTransitionExited:o,children:a,onClose:l,open:c,rootRef:d}=t,h=k.useRef({}),f=k.useRef(null),v=k.useRef(null),w=nu(v,d),[S,P]=k.useState(!c),_=iq(a);let E=!0;(t["aria-hidden"]==="false"||t["aria-hidden"]===!1)&&(E=!1);const x=()=>$s(f.current),A=()=>(h.current.modalRef=v.current,h.current.mount=f.current,h.current),D=()=>{Xu.mount(A(),{disableScrollLock:r}),v.current&&(v.current.scrollTop=0)},M=bS(()=>{const K=rq(e)||x().body;Xu.add(A(),K),v.current&&D()}),b=()=>Xu.isTopModal(A()),C=bS(K=>{f.current=K,K&&(c&&b()?D():v.current&&Ul(v.current,E))}),I=k.useCallback(()=>{Xu.remove(A(),E)},[E]);k.useEffect(()=>()=>{I()},[I]),k.useEffect(()=>{c?M():(!_||!i)&&I()},[c,I,_,i,M]);const g=K=>Z=>{var ee;(ee=K.onKeyDown)==null||ee.call(K,Z),!(Z.key!=="Escape"||Z.which===229||!b())&&(n||(Z.stopPropagation(),l&&l(Z,"escapeKeyDown")))},R=K=>Z=>{var ee;(ee=K.onClick)==null||ee.call(K,Z),Z.target===Z.currentTarget&&l&&l(Z,"backdropClick")};return{getRootProps:(K={})=>{const Z=yN(t);delete Z.onTransitionEnter,delete Z.onTransitionExited;const ee={...Z,...K};return{role:"presentation",...ee,onKeyDown:g(ee),ref:w}},getBackdropProps:(K={})=>{const Z=K;return{"aria-hidden":!0,...Z,onClick:R(Z),open:c}},getTransitionProps:()=>{const K=()=>{P(!1),s&&s()},Z=()=>{P(!0),o&&o(),i&&I()};return{onEnter:TS(K,(a==null?void 0:a.props.onEnter)??kS),onExited:TS(Z,(a==null?void 0:a.props.onExited)??kS)}},rootRef:w,portalRef:C,isTopModal:b,exited:S,hasTransition:_}}function oq(t){return F_("MuiModal",t)}$_("MuiModal",["root","hidden","backdrop"]);const aq=t=>{const{open:e,exited:n,classes:r}=t;return LA({root:["root",!e&&n&&"hidden"],backdrop:["backdrop"]},oq,r)},lq=H_("div",{name:"MuiModal",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,!n.open&&n.exited&&e.hidden]}})($K(({theme:t})=>({position:"fixed",zIndex:(t.vars||t).zIndex.modal,right:0,bottom:0,top:0,left:0,variants:[{props:({ownerState:e})=>!e.open&&e.exited,style:{visibility:"hidden"}}]}))),cq=H_(nq,{name:"MuiModal",slot:"Backdrop"})({zIndex:-1}),uq=k.forwardRef(function(e,n){const r=gN({name:"MuiModal",props:e}),{BackdropComponent:i=cq,BackdropProps:s,classes:o,className:a,closeAfterTransition:l=!1,children:c,container:d,component:h,components:f={},componentsProps:v={},disableAutoFocus:w=!1,disableEnforceFocus:S=!1,disableEscapeKeyDown:P=!1,disablePortal:_=!1,disableRestoreFocus:E=!1,disableScrollLock:x=!1,hideBackdrop:A=!1,keepMounted:D=!1,onClose:M,onTransitionEnter:b,onTransitionExited:C,open:I,slotProps:g={},slots:R={},theme:O,...N}=r,G={...r,closeAfterTransition:l,disableAutoFocus:w,disableEnforceFocus:S,disableEscapeKeyDown:P,disablePortal:_,disableRestoreFocus:E,disableScrollLock:x,hideBackdrop:A,keepMounted:D},{getRootProps:K,getBackdropProps:Z,getTransitionProps:ee,portalRef:B,isTopModal:q,exited:X,hasTransition:ye}=sq({...G,rootRef:n}),se={...G,exited:X},ce=aq(se),ht={};if(c.props.tabIndex===void 0&&(ht.tabIndex="-1"),ye){const{onEnter:Yt,onExited:ir}=ee();ht.onEnter=Yt,ht.onExited=ir}const it={slots:{root:f.Root,backdrop:f.Backdrop,...R},slotProps:{...v,...g}},[qt,Lt]=Oh("root",{ref:n,elementType:lq,externalForwardedProps:{...it,...N,component:h},getSlotProps:K,ownerState:se,className:ca(a,ce==null?void 0:ce.root,!se.open&&se.exited&&(ce==null?void 0:ce.hidden))}),[qs,Ys]=Oh("backdrop",{ref:s==null?void 0:s.ref,elementType:i,externalForwardedProps:it,shouldForwardComponentProp:!0,additionalProps:s,getSlotProps:Yt=>Z({...Yt,onClick:ir=>{Yt!=null&&Yt.onClick&&Yt.onClick(ir)}}),className:ca(s==null?void 0:s.className,ce==null?void 0:ce.backdrop),ownerState:se});return!D&&!I&&(!ye||X)?null:m.jsx(dW,{ref:B,container:d,disablePortal:_,children:m.jsxs(qt,{...Lt,children:[!A&&i?m.jsx(qs,{...Ys}):null,m.jsx(aW,{disableEnforceFocus:S,disableAutoFocus:w,disableRestoreFocus:E,isEnabled:q,open:I,children:k.cloneElement(c,ht)})]})})}),_N=uq,dq=$_("MuiBox",["root"]),hq=dq,fq=pN(),pq=vG({themeId:W_,defaultTheme:fq,defaultClassName:hq.root,generateClassName:sN.generate}),wN=pq;var IS=!1,hs,Iy,Py,bd,Td,xN,kd,Ry,Ay,Ny,EN,Dy,Oy,CN,SN;function Jt(){if(!IS){IS=!0;var t=navigator.userAgent,e=/(?:MSIE.(\d+\.\d+))|(?:(?:Firefox|GranParadiso|Iceweasel).(\d+\.\d+))|(?:Opera(?:.+Version.|.)(\d+\.\d+))|(?:AppleWebKit.(\d+(?:\.\d+)?))|(?:Trident\/\d+\.\d+.*rv:(\d+\.\d+))/.exec(t),n=/(Mac OS X)|(Windows)|(Linux)/.exec(t);if(Dy=/\b(iPhone|iP[ao]d)/.exec(t),Oy=/\b(iP[ao]d)/.exec(t),Ny=/Android/i.exec(t),CN=/FBAN\/\w+;/i.exec(t),SN=/Mobile/i.exec(t),EN=!!/Win64/.exec(t),e){hs=e[1]?parseFloat(e[1]):e[5]?parseFloat(e[5]):NaN,hs&&document&&document.documentMode&&(hs=document.documentMode);var r=/(?:Trident\/(\d+.\d+))/.exec(t);xN=r?parseFloat(r[1])+4:hs,Iy=e[2]?parseFloat(e[2]):NaN,Py=e[3]?parseFloat(e[3]):NaN,bd=e[4]?parseFloat(e[4]):NaN,bd?(e=/(?:Chrome\/(\d+\.\d+))/.exec(t),Td=e&&e[1]?parseFloat(e[1]):NaN):Td=NaN}else hs=Iy=Py=Td=bd=NaN;if(n){if(n[1]){var i=/(?:Mac OS X (\d+(?:[._]\d+)?))/.exec(t);kd=i?parseFloat(i[1].replace("_",".")):!0}else kd=!1;Ry=!!n[2],Ay=!!n[3]}else kd=Ry=Ay=!1}}var My={ie:function(){return Jt()||hs},ieCompatibilityMode:function(){return Jt()||xN>hs},ie64:function(){return My.ie()&&EN},firefox:function(){return Jt()||Iy},opera:function(){return Jt()||Py},webkit:function(){return Jt()||bd},safari:function(){return My.webkit()},chrome:function(){return Jt()||Td},windows:function(){return Jt()||Ry},osx:function(){return Jt()||kd},linux:function(){return Jt()||Ay},iphone:function(){return Jt()||Dy},mobile:function(){return Jt()||Dy||Oy||Ny||SN},nativeApp:function(){return Jt()||CN},android:function(){return Jt()||Ny},ipad:function(){return Jt()||Oy}},mq=My,Ju=!!(typeof window<"u"&&window.document&&window.document.createElement),gq={canUseDOM:Ju,canUseWorkers:typeof Worker<"u",canUseEventListeners:Ju&&!!(window.addEventListener||window.attachEvent),canUseViewport:Ju&&!!window.screen,isInWorker:!Ju},yq=gq,bN=yq,TN;bN.canUseDOM&&(TN=document.implementation&&document.implementation.hasFeature&&document.implementation.hasFeature("","")!==!0);/**
 * Checks if an event is supported in the current execution environment.
 *
 * NOTE: This will not work correctly for non-generic events such as `change`,
 * `reset`, `load`, `error`, and `select`.
 *
 * Borrows from Modernizr.
 *
 * @param {string} eventNameSuffix Event name, e.g. "click".
 * @param {?boolean} capture Check if the capture phase is supported.
 * @return {boolean} True if the event is supported.
 * @internal
 * @license Modernizr 3.0.0pre (Custom Build) | MIT
 */function vq(t,e){if(!bN.canUseDOM||e&&!("addEventListener"in document))return!1;var n="on"+t,r=n in document;if(!r){var i=document.createElement("div");i.setAttribute(n,"return;"),r=typeof i[n]=="function"}return!r&&TN&&t==="wheel"&&(r=document.implementation.hasFeature("Events.wheel","3.0")),r}var _q=vq,wq=mq,xq=_q,PS=10,RS=40,AS=800;function kN(t){var e=0,n=0,r=0,i=0;return"detail"in t&&(n=t.detail),"wheelDelta"in t&&(n=-t.wheelDelta/120),"wheelDeltaY"in t&&(n=-t.wheelDeltaY/120),"wheelDeltaX"in t&&(e=-t.wheelDeltaX/120),"axis"in t&&t.axis===t.HORIZONTAL_AXIS&&(e=n,n=0),r=e*PS,i=n*PS,"deltaY"in t&&(i=t.deltaY),"deltaX"in t&&(r=t.deltaX),(r||i)&&t.deltaMode&&(t.deltaMode==1?(r*=RS,i*=RS):(r*=AS,i*=AS)),r&&!e&&(e=r<1?-1:1),i&&!n&&(n=i<1?-1:1),{spinX:e,spinY:n,pixelX:r,pixelY:i}}kN.getEventType=function(){return wq.firefox()?"DOMMouseScroll":xq("wheel")?"wheel":"mousewheel"};var Eq=kN,Cq=Eq;const Sq=Ly(Cq);function bq(t,e,n,r,i,s){s===void 0&&(s=0);var o=ha(t,e,s),a=o.width,l=o.height,c=Math.min(a,n),d=Math.min(l,r);return c>d*i?{width:d*i,height:d}:{width:c,height:c/i}}function Tq(t){return t.width>t.height?t.width/t.naturalWidth:t.height/t.naturalHeight}function sl(t,e,n,r,i){i===void 0&&(i=0);var s=ha(e.width,e.height,i),o=s.width,a=s.height;return{x:NS(t.x,o,n.width,r),y:NS(t.y,a,n.height,r)}}function NS(t,e,n,r){var i=e*r/2-n/2;return Gf(t,-i,i)}function DS(t,e){return Math.sqrt(Math.pow(t.y-e.y,2)+Math.pow(t.x-e.x,2))}function OS(t,e){return Math.atan2(e.y-t.y,e.x-t.x)*180/Math.PI}function kq(t,e,n,r,i,s,o){s===void 0&&(s=0),o===void 0&&(o=!0);var a=o?Iq:Pq,l=ha(e.width,e.height,s),c=ha(e.naturalWidth,e.naturalHeight,s),d={x:a(100,((l.width-n.width/i)/2-t.x/i)/l.width*100),y:a(100,((l.height-n.height/i)/2-t.y/i)/l.height*100),width:a(100,n.width/l.width*100/i),height:a(100,n.height/l.height*100/i)},h=Math.round(a(c.width,d.width*c.width/100)),f=Math.round(a(c.height,d.height*c.height/100)),v=c.width>=c.height*r,w=v?{width:Math.round(f*r),height:f}:{width:h,height:Math.round(h/r)},S=at(at({},w),{x:Math.round(a(c.width-w.width,d.x*c.width/100)),y:Math.round(a(c.height-w.height,d.y*c.height/100))});return{croppedAreaPercentages:d,croppedAreaPixels:S}}function Iq(t,e){return Math.min(t,Math.max(0,e))}function Pq(t,e){return e}function Rq(t,e,n,r,i,s){var o=ha(e.width,e.height,n),a=Gf(r.width/o.width*(100/t.width),i,s),l={x:a*o.width/2-r.width/2-o.width*a*(t.x/100),y:a*o.height/2-r.height/2-o.height*a*(t.y/100)};return{crop:l,zoom:a}}function Aq(t,e,n){var r=Tq(e);return n.height>n.width?n.height/(t.height*r):n.width/(t.width*r)}function Nq(t,e,n,r,i,s){n===void 0&&(n=0);var o=ha(e.naturalWidth,e.naturalHeight,n),a=Gf(Aq(t,e,r),i,s),l=r.height>r.width?r.height/t.height:r.width/t.width,c={x:((o.width-t.width)/2-t.x)*l,y:((o.height-t.height)/2-t.y)*l};return{crop:c,zoom:a}}function MS(t,e){return{x:(e.x+t.x)/2,y:(e.y+t.y)/2}}function Dq(t){return t*Math.PI/180}function ha(t,e,n){var r=Dq(n);return{width:Math.abs(Math.cos(r)*t)+Math.abs(Math.sin(r)*e),height:Math.abs(Math.sin(r)*t)+Math.abs(Math.cos(r)*e)}}function Gf(t,e,n){return Math.min(Math.max(t,e),n)}function Qu(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return t.filter(function(n){return typeof n=="string"&&n.length>0}).join(" ").trim()}var Oq=`.reactEasyCrop_Container {
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  overflow: hidden;
  user-select: none;
  touch-action: none;
  cursor: move;
  display: flex;
  justify-content: center;
  align-items: center;
}

.reactEasyCrop_Image,
.reactEasyCrop_Video {
  will-change: transform; /* this improves performances and prevent painting issues on iOS Chrome */
}

.reactEasyCrop_Contain {
  max-width: 100%;
  max-height: 100%;
  margin: auto;
  position: absolute;
  top: 0;
  bottom: 0;
  left: 0;
  right: 0;
}
.reactEasyCrop_Cover_Horizontal {
  width: 100%;
  height: auto;
}
.reactEasyCrop_Cover_Vertical {
  width: auto;
  height: 100%;
}

.reactEasyCrop_CropArea {
  position: absolute;
  left: 50%;
  top: 50%;
  transform: translate(-50%, -50%);
  border: 1px solid rgba(255, 255, 255, 0.5);
  box-sizing: border-box;
  box-shadow: 0 0 0 9999em;
  color: rgba(0, 0, 0, 0.5);
  overflow: hidden;
}

.reactEasyCrop_CropAreaRound {
  border-radius: 50%;
}

.reactEasyCrop_CropAreaGrid::before {
  content: ' ';
  box-sizing: border-box;
  position: absolute;
  border: 1px solid rgba(255, 255, 255, 0.5);
  top: 0;
  bottom: 0;
  left: 33.33%;
  right: 33.33%;
  border-top: 0;
  border-bottom: 0;
}

.reactEasyCrop_CropAreaGrid::after {
  content: ' ';
  box-sizing: border-box;
  position: absolute;
  border: 1px solid rgba(255, 255, 255, 0.5);
  top: 33.33%;
  bottom: 33.33%;
  left: 0;
  right: 0;
  border-left: 0;
  border-right: 0;
}
`,Mq=1,Lq=3,jq=1,Fq=function(t){w5(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.cropperRef=k.createRef(),n.imageRef=k.createRef(),n.videoRef=k.createRef(),n.containerPosition={x:0,y:0},n.containerRef=null,n.styleRef=null,n.containerRect=null,n.mediaSize={width:0,height:0,naturalWidth:0,naturalHeight:0},n.dragStartPosition={x:0,y:0},n.dragStartCrop={x:0,y:0},n.gestureZoomStart=0,n.gestureRotationStart=0,n.isTouching=!1,n.lastPinchDistance=0,n.lastPinchRotation=0,n.rafDragTimeout=null,n.rafPinchTimeout=null,n.wheelTimer=null,n.currentDoc=typeof document<"u"?document:null,n.currentWindow=typeof window<"u"?window:null,n.resizeObserver=null,n.state={cropSize:null,hasWheelJustStarted:!1,mediaObjectFit:void 0},n.initResizeObserver=function(){if(!(typeof window.ResizeObserver>"u"||!n.containerRef)){var r=!0;n.resizeObserver=new window.ResizeObserver(function(i){if(r){r=!1;return}n.computeSizes()}),n.resizeObserver.observe(n.containerRef)}},n.preventZoomSafari=function(r){return r.preventDefault()},n.cleanEvents=function(){n.currentDoc&&(n.currentDoc.removeEventListener("mousemove",n.onMouseMove),n.currentDoc.removeEventListener("mouseup",n.onDragStopped),n.currentDoc.removeEventListener("touchmove",n.onTouchMove),n.currentDoc.removeEventListener("touchend",n.onDragStopped),n.currentDoc.removeEventListener("gesturemove",n.onGestureMove),n.currentDoc.removeEventListener("gestureend",n.onGestureEnd),n.currentDoc.removeEventListener("scroll",n.onScroll))},n.clearScrollEvent=function(){n.containerRef&&n.containerRef.removeEventListener("wheel",n.onWheel),n.wheelTimer&&clearTimeout(n.wheelTimer)},n.onMediaLoad=function(){var r=n.computeSizes();r&&(n.emitCropData(),n.setInitialCrop(r)),n.props.onMediaLoaded&&n.props.onMediaLoaded(n.mediaSize)},n.setInitialCrop=function(r){if(n.props.initialCroppedAreaPercentages){var i=Rq(n.props.initialCroppedAreaPercentages,n.mediaSize,n.props.rotation,r,n.props.minZoom,n.props.maxZoom),s=i.crop,o=i.zoom;n.props.onCropChange(s),n.props.onZoomChange&&n.props.onZoomChange(o)}else if(n.props.initialCroppedAreaPixels){var a=Nq(n.props.initialCroppedAreaPixels,n.mediaSize,n.props.rotation,r,n.props.minZoom,n.props.maxZoom),s=a.crop,o=a.zoom;n.props.onCropChange(s),n.props.onZoomChange&&n.props.onZoomChange(o)}},n.computeSizes=function(){var r,i,s,o,a,l,c=n.imageRef.current||n.videoRef.current;if(c&&n.containerRef){n.containerRect=n.containerRef.getBoundingClientRect(),n.saveContainerPosition();var d=n.containerRect.width/n.containerRect.height,h=((r=n.imageRef.current)===null||r===void 0?void 0:r.naturalWidth)||((i=n.videoRef.current)===null||i===void 0?void 0:i.videoWidth)||0,f=((s=n.imageRef.current)===null||s===void 0?void 0:s.naturalHeight)||((o=n.videoRef.current)===null||o===void 0?void 0:o.videoHeight)||0,v=c.offsetWidth<h||c.offsetHeight<f,w=h/f,S=void 0;if(v)switch(n.state.mediaObjectFit){default:case"contain":S=d>w?{width:n.containerRect.height*w,height:n.containerRect.height}:{width:n.containerRect.width,height:n.containerRect.width/w};break;case"horizontal-cover":S={width:n.containerRect.width,height:n.containerRect.width/w};break;case"vertical-cover":S={width:n.containerRect.height*w,height:n.containerRect.height};break}else S={width:c.offsetWidth,height:c.offsetHeight};n.mediaSize=at(at({},S),{naturalWidth:h,naturalHeight:f}),n.props.setMediaSize&&n.props.setMediaSize(n.mediaSize);var P=n.props.cropSize?n.props.cropSize:bq(n.mediaSize.width,n.mediaSize.height,n.containerRect.width,n.containerRect.height,n.props.aspect,n.props.rotation);return(((a=n.state.cropSize)===null||a===void 0?void 0:a.height)!==P.height||((l=n.state.cropSize)===null||l===void 0?void 0:l.width)!==P.width)&&n.props.onCropSizeChange&&n.props.onCropSizeChange(P),n.setState({cropSize:P},n.recomputeCropPosition),n.props.setCropSize&&n.props.setCropSize(P),P}},n.saveContainerPosition=function(){if(n.containerRef){var r=n.containerRef.getBoundingClientRect();n.containerPosition={x:r.left,y:r.top}}},n.onMouseDown=function(r){n.currentDoc&&(r.preventDefault(),n.currentDoc.addEventListener("mousemove",n.onMouseMove),n.currentDoc.addEventListener("mouseup",n.onDragStopped),n.saveContainerPosition(),n.onDragStart(e.getMousePoint(r)))},n.onMouseMove=function(r){return n.onDrag(e.getMousePoint(r))},n.onScroll=function(r){n.currentDoc&&(r.preventDefault(),n.saveContainerPosition())},n.onTouchStart=function(r){n.currentDoc&&(n.isTouching=!0,!(n.props.onTouchRequest&&!n.props.onTouchRequest(r))&&(n.currentDoc.addEventListener("touchmove",n.onTouchMove,{passive:!1}),n.currentDoc.addEventListener("touchend",n.onDragStopped),n.saveContainerPosition(),r.touches.length===2?n.onPinchStart(r):r.touches.length===1&&n.onDragStart(e.getTouchPoint(r.touches[0]))))},n.onTouchMove=function(r){r.preventDefault(),r.touches.length===2?n.onPinchMove(r):r.touches.length===1&&n.onDrag(e.getTouchPoint(r.touches[0]))},n.onGestureStart=function(r){n.currentDoc&&(r.preventDefault(),n.currentDoc.addEventListener("gesturechange",n.onGestureMove),n.currentDoc.addEventListener("gestureend",n.onGestureEnd),n.gestureZoomStart=n.props.zoom,n.gestureRotationStart=n.props.rotation)},n.onGestureMove=function(r){if(r.preventDefault(),!n.isTouching){var i=e.getMousePoint(r),s=n.gestureZoomStart-1+r.scale;if(n.setNewZoom(s,i,{shouldUpdatePosition:!0}),n.props.onRotationChange){var o=n.gestureRotationStart+r.rotation;n.props.onRotationChange(o)}}},n.onGestureEnd=function(r){n.cleanEvents()},n.onDragStart=function(r){var i,s,o=r.x,a=r.y;n.dragStartPosition={x:o,y:a},n.dragStartCrop=at({},n.props.crop),(s=(i=n.props).onInteractionStart)===null||s===void 0||s.call(i)},n.onDrag=function(r){var i=r.x,s=r.y;n.currentWindow&&(n.rafDragTimeout&&n.currentWindow.cancelAnimationFrame(n.rafDragTimeout),n.rafDragTimeout=n.currentWindow.requestAnimationFrame(function(){if(n.state.cropSize&&!(i===void 0||s===void 0)){var o=i-n.dragStartPosition.x,a=s-n.dragStartPosition.y,l={x:n.dragStartCrop.x+o,y:n.dragStartCrop.y+a},c=n.props.restrictPosition?sl(l,n.mediaSize,n.state.cropSize,n.props.zoom,n.props.rotation):l;n.props.onCropChange(c)}}))},n.onDragStopped=function(){var r,i;n.isTouching=!1,n.cleanEvents(),n.emitCropData(),(i=(r=n.props).onInteractionEnd)===null||i===void 0||i.call(r)},n.onWheel=function(r){if(n.currentWindow&&!(n.props.onWheelRequest&&!n.props.onWheelRequest(r))){r.preventDefault();var i=e.getMousePoint(r),s=Sq(r).pixelY,o=n.props.zoom-s*n.props.zoomSpeed/200;n.setNewZoom(o,i,{shouldUpdatePosition:!0}),n.state.hasWheelJustStarted||n.setState({hasWheelJustStarted:!0},function(){var a,l;return(l=(a=n.props).onInteractionStart)===null||l===void 0?void 0:l.call(a)}),n.wheelTimer&&clearTimeout(n.wheelTimer),n.wheelTimer=n.currentWindow.setTimeout(function(){return n.setState({hasWheelJustStarted:!1},function(){var a,l;return(l=(a=n.props).onInteractionEnd)===null||l===void 0?void 0:l.call(a)})},250)}},n.getPointOnContainer=function(r,i){var s=r.x,o=r.y;if(!n.containerRect)throw new Error("The Cropper is not mounted");return{x:n.containerRect.width/2-(s-i.x),y:n.containerRect.height/2-(o-i.y)}},n.getPointOnMedia=function(r){var i=r.x,s=r.y,o=n.props,a=o.crop,l=o.zoom;return{x:(i+a.x)/l,y:(s+a.y)/l}},n.setNewZoom=function(r,i,s){var o=s===void 0?{}:s,a=o.shouldUpdatePosition,l=a===void 0?!0:a;if(!(!n.state.cropSize||!n.props.onZoomChange)){var c=Gf(r,n.props.minZoom,n.props.maxZoom);if(l){var d=n.getPointOnContainer(i,n.containerPosition),h=n.getPointOnMedia(d),f={x:h.x*c-d.x,y:h.y*c-d.y},v=n.props.restrictPosition?sl(f,n.mediaSize,n.state.cropSize,c,n.props.rotation):f;n.props.onCropChange(v)}n.props.onZoomChange(c)}},n.getCropData=function(){if(!n.state.cropSize)return null;var r=n.props.restrictPosition?sl(n.props.crop,n.mediaSize,n.state.cropSize,n.props.zoom,n.props.rotation):n.props.crop;return kq(r,n.mediaSize,n.state.cropSize,n.getAspect(),n.props.zoom,n.props.rotation,n.props.restrictPosition)},n.emitCropData=function(){var r=n.getCropData();if(r){var i=r.croppedAreaPercentages,s=r.croppedAreaPixels;n.props.onCropComplete&&n.props.onCropComplete(i,s),n.props.onCropAreaChange&&n.props.onCropAreaChange(i,s)}},n.emitCropAreaChange=function(){var r=n.getCropData();if(r){var i=r.croppedAreaPercentages,s=r.croppedAreaPixels;n.props.onCropAreaChange&&n.props.onCropAreaChange(i,s)}},n.recomputeCropPosition=function(){if(n.state.cropSize){var r=n.props.restrictPosition?sl(n.props.crop,n.mediaSize,n.state.cropSize,n.props.zoom,n.props.rotation):n.props.crop;n.props.onCropChange(r),n.emitCropData()}},n.onKeyDown=function(r){var i,s,o=n.props,a=o.crop,l=o.onCropChange,c=o.keyboardStep,d=o.zoom,h=o.rotation,f=c;if(n.state.cropSize){r.shiftKey&&(f*=.2);var v=at({},a);switch(r.key){case"ArrowUp":v.y-=f,r.preventDefault();break;case"ArrowDown":v.y+=f,r.preventDefault();break;case"ArrowLeft":v.x-=f,r.preventDefault();break;case"ArrowRight":v.x+=f,r.preventDefault();break;default:return}n.props.restrictPosition&&(v=sl(v,n.mediaSize,n.state.cropSize,d,h)),r.repeat||(s=(i=n.props).onInteractionStart)===null||s===void 0||s.call(i),l(v)}},n.onKeyUp=function(r){var i,s;switch(r.key){case"ArrowUp":case"ArrowDown":case"ArrowLeft":case"ArrowRight":r.preventDefault();break;default:return}n.emitCropData(),(s=(i=n.props).onInteractionEnd)===null||s===void 0||s.call(i)},n}return e.prototype.componentDidMount=function(){!this.currentDoc||!this.currentWindow||(this.containerRef&&(this.containerRef.ownerDocument&&(this.currentDoc=this.containerRef.ownerDocument),this.currentDoc.defaultView&&(this.currentWindow=this.currentDoc.defaultView),this.initResizeObserver(),typeof window.ResizeObserver>"u"&&this.currentWindow.addEventListener("resize",this.computeSizes),this.props.zoomWithScroll&&this.containerRef.addEventListener("wheel",this.onWheel,{passive:!1}),this.containerRef.addEventListener("gesturestart",this.onGestureStart)),this.currentDoc.addEventListener("scroll",this.onScroll),this.props.disableAutomaticStylesInjection||(this.styleRef=this.currentDoc.createElement("style"),this.styleRef.setAttribute("type","text/css"),this.props.nonce&&this.styleRef.setAttribute("nonce",this.props.nonce),this.styleRef.innerHTML=Oq,this.currentDoc.head.appendChild(this.styleRef)),this.imageRef.current&&this.imageRef.current.complete&&this.onMediaLoad(),this.props.setImageRef&&this.props.setImageRef(this.imageRef),this.props.setVideoRef&&this.props.setVideoRef(this.videoRef),this.props.setCropperRef&&this.props.setCropperRef(this.cropperRef))},e.prototype.componentWillUnmount=function(){var n,r;!this.currentDoc||!this.currentWindow||(typeof window.ResizeObserver>"u"&&this.currentWindow.removeEventListener("resize",this.computeSizes),(n=this.resizeObserver)===null||n===void 0||n.disconnect(),this.containerRef&&this.containerRef.removeEventListener("gesturestart",this.preventZoomSafari),this.styleRef&&((r=this.styleRef.parentNode)===null||r===void 0||r.removeChild(this.styleRef)),this.cleanEvents(),this.props.zoomWithScroll&&this.clearScrollEvent())},e.prototype.componentDidUpdate=function(n){var r,i,s,o,a,l,c,d,h;n.rotation!==this.props.rotation?(this.computeSizes(),this.recomputeCropPosition()):n.aspect!==this.props.aspect?this.computeSizes():n.objectFit!==this.props.objectFit?this.computeSizes():n.zoom!==this.props.zoom?this.recomputeCropPosition():((r=n.cropSize)===null||r===void 0?void 0:r.height)!==((i=this.props.cropSize)===null||i===void 0?void 0:i.height)||((s=n.cropSize)===null||s===void 0?void 0:s.width)!==((o=this.props.cropSize)===null||o===void 0?void 0:o.width)?this.computeSizes():(((a=n.crop)===null||a===void 0?void 0:a.x)!==((l=this.props.crop)===null||l===void 0?void 0:l.x)||((c=n.crop)===null||c===void 0?void 0:c.y)!==((d=this.props.crop)===null||d===void 0?void 0:d.y))&&this.emitCropAreaChange(),n.zoomWithScroll!==this.props.zoomWithScroll&&this.containerRef&&(this.props.zoomWithScroll?this.containerRef.addEventListener("wheel",this.onWheel,{passive:!1}):this.clearScrollEvent()),n.video!==this.props.video&&((h=this.videoRef.current)===null||h===void 0||h.load());var f=this.getObjectFit();f!==this.state.mediaObjectFit&&this.setState({mediaObjectFit:f},this.computeSizes)},e.prototype.getAspect=function(){var n=this.props,r=n.cropSize,i=n.aspect;return r?r.width/r.height:i},e.prototype.getObjectFit=function(){var n,r,i,s;if(this.props.objectFit==="cover"){var o=this.imageRef.current||this.videoRef.current;if(o&&this.containerRef){this.containerRect=this.containerRef.getBoundingClientRect();var a=this.containerRect.width/this.containerRect.height,l=((n=this.imageRef.current)===null||n===void 0?void 0:n.naturalWidth)||((r=this.videoRef.current)===null||r===void 0?void 0:r.videoWidth)||0,c=((i=this.imageRef.current)===null||i===void 0?void 0:i.naturalHeight)||((s=this.videoRef.current)===null||s===void 0?void 0:s.videoHeight)||0,d=l/c;return d<a?"horizontal-cover":"vertical-cover"}return"horizontal-cover"}return this.props.objectFit},e.prototype.onPinchStart=function(n){var r=e.getTouchPoint(n.touches[0]),i=e.getTouchPoint(n.touches[1]);this.lastPinchDistance=DS(r,i),this.lastPinchRotation=OS(r,i),this.onDragStart(MS(r,i))},e.prototype.onPinchMove=function(n){var r=this;if(!(!this.currentDoc||!this.currentWindow)){var i=e.getTouchPoint(n.touches[0]),s=e.getTouchPoint(n.touches[1]),o=MS(i,s);this.onDrag(o),this.rafPinchTimeout&&this.currentWindow.cancelAnimationFrame(this.rafPinchTimeout),this.rafPinchTimeout=this.currentWindow.requestAnimationFrame(function(){var a=DS(i,s),l=r.props.zoom*(a/r.lastPinchDistance);r.setNewZoom(l,o,{shouldUpdatePosition:!1}),r.lastPinchDistance=a;var c=OS(i,s),d=r.props.rotation+(c-r.lastPinchRotation);r.props.onRotationChange&&r.props.onRotationChange(d),r.lastPinchRotation=c})}},e.prototype.render=function(){var n=this,r,i=this.props,s=i.image,o=i.video,a=i.mediaProps,l=i.cropperProps,c=i.transform,d=i.crop,h=d.x,f=d.y,v=i.rotation,w=i.zoom,S=i.cropShape,P=i.showGrid,_=i.style,E=_.containerStyle,x=_.cropAreaStyle,A=_.mediaStyle,D=i.classes,M=D.containerClassName,b=D.cropAreaClassName,C=D.mediaClassName,I=(r=this.state.mediaObjectFit)!==null&&r!==void 0?r:this.getObjectFit();return k.createElement("div",{onMouseDown:this.onMouseDown,onTouchStart:this.onTouchStart,ref:function(R){return n.containerRef=R},"data-testid":"container",style:E,className:Qu("reactEasyCrop_Container",M)},s?k.createElement("img",at({alt:"",className:Qu("reactEasyCrop_Image",I==="contain"&&"reactEasyCrop_Contain",I==="horizontal-cover"&&"reactEasyCrop_Cover_Horizontal",I==="vertical-cover"&&"reactEasyCrop_Cover_Vertical",C)},a,{src:s,ref:this.imageRef,style:at(at({},A),{transform:c||"translate(".concat(h,"px, ").concat(f,"px) rotate(").concat(v,"deg) scale(").concat(w,")")}),onLoad:this.onMediaLoad})):o&&k.createElement("video",at({autoPlay:!0,playsInline:!0,loop:!0,muted:!0,className:Qu("reactEasyCrop_Video",I==="contain"&&"reactEasyCrop_Contain",I==="horizontal-cover"&&"reactEasyCrop_Cover_Horizontal",I==="vertical-cover"&&"reactEasyCrop_Cover_Vertical",C)},a,{ref:this.videoRef,onLoadedMetadata:this.onMediaLoad,style:at(at({},A),{transform:c||"translate(".concat(h,"px, ").concat(f,"px) rotate(").concat(v,"deg) scale(").concat(w,")")}),controls:!1}),(Array.isArray(o)?o:[{src:o}]).map(function(g){return k.createElement("source",at({key:g.src},g))})),this.state.cropSize&&k.createElement("div",at({ref:this.cropperRef,style:at(at({},x),{width:this.state.cropSize.width,height:this.state.cropSize.height}),tabIndex:0,onKeyDown:this.onKeyDown,onKeyUp:this.onKeyUp,"data-testid":"cropper",className:Qu("reactEasyCrop_CropArea",S==="round"&&"reactEasyCrop_CropAreaRound",P&&"reactEasyCrop_CropAreaGrid",b)},l)))},e.defaultProps={zoom:1,rotation:0,aspect:4/3,maxZoom:Lq,minZoom:Mq,cropShape:"rect",objectFit:"contain",showGrid:!0,style:{},classes:{},mediaProps:{},cropperProps:{},zoomSpeed:1,restrictPosition:!0,zoomWithScroll:!0,keyboardStep:jq},e.getMousePoint=function(n){return{x:Number(n.clientX),y:Number(n.clientY)}},e.getTouchPoint=function(n){return{x:Number(n.clientX),y:Number(n.clientY)}},e}(k.Component);const $q=t=>new Promise((e,n)=>{const r=new Image;r.addEventListener("load",()=>e(r)),r.addEventListener("error",i=>n(i)),r.setAttribute("crossOrigin","anonymous"),r.src=t});async function Vq(t,e){const n=await $q(t),r=document.createElement("canvas"),i=r.getContext("2d");return r.width=e.width,r.height=e.height,i.drawImage(n,e.x,e.y,e.width,e.height,0,0,e.width,e.height),r}function Uq({open:t,onClose:e,usuario:n,onUploadSuccess:r}){const[i,s]=k.useState(null),[o,a]=k.useState({x:0,y:0}),[l,c]=k.useState(1),[d,h]=k.useState(null),[f,v]=k.useState(!1),w=k.useCallback((_,E)=>{h(E)},[]),S=_=>{if(_.target.files&&_.target.files.length>0){const E=_.target.files[0],x=new FileReader;x.onload=()=>{s(x.result)},x.readAsDataURL(E)}},P=async()=>{v(!0);const E=(await Vq(i,d)).toDataURL("image/jpeg");localStorage.setItem(`fotoPerfil_${n.uid}`,E),r(E),v(!1),e()};return m.jsx(_N,{open:t,onClose:e,children:m.jsxs(wN,{className:"bg-white rounded-lg p-4 shadow-lg w-full max-w-md mx-auto mt-32 max-h-[90vh] overflow-hidden",children:[m.jsx("h2",{className:"text-lg font-bold mb-4 text-center",children:"Editar Foto de Perfil"}),i?m.jsx("div",{className:"relative w-full h-[300px] bg-black",children:m.jsx(Fq,{image:i,crop:o,zoom:l,aspect:1,onCropChange:a,onZoomChange:c,onCropComplete:w})}):m.jsx("input",{type:"file",accept:"image/*",onChange:S}),m.jsxs("div",{className:"flex justify-end mt-4 gap-2",children:[m.jsx("button",{onClick:e,className:"px-4 py-2 bg-gray-300 rounded hover:bg-gray-400",children:"Cancelar"}),i&&m.jsx("button",{onClick:P,disabled:f,className:"px-4 py-2 bg-green-600 text-white rounded hover:bg-green-700",children:f?"Subiendo...":"Guardar"})]})]})})}function Bq(){const{usuario:t}=k.useContext(Jc),[e,n]=k.useState(null),[r,i]=k.useState(!1),[s,o]=k.useState(""),[a,l]=k.useState(""),[c,d]=k.useState(!1),[h,f]=k.useState(!1),[v,w]=k.useState(!1),S=Gi(),P=(A,D)=>((A==null?void 0:A.charAt(0).toUpperCase())||"")+((D==null?void 0:D.charAt(0).toUpperCase())||"");k.useEffect(()=>{if(t){const A=le(oe,`usuarios/${t.uid}`);Di(A).then(async D=>{const M=t.displayName||"",b=M.split(" ")[0]||"",C=M.split(" ")[1]||"",I=t.photoURL||null,R=localStorage.getItem(`fotoPerfil_${t.uid}`)||I||D.exists()&&D.val().foto||null,O={nombre:b,apellido:C,correo:t.email,rol:"usuario",iniciales:P(b,C),foto:R},N=!b||!C;if(d(N),i(N),o(b),l(C),!D.exists())await At(A,O),n(O);else{const G=D.val(),K={};G.nombre||(K.nombre=b),G.apellido||(K.apellido=C),!G.foto&&R&&(K.foto=R),Object.keys(K).length>0?(await wE(A,K),n({...G,...K,foto:R})):n({...G,foto:R}),o(G.nombre||b),l(G.apellido||C)}})}},[t]);const _=async()=>{if(!t)return;const A=le(oe,`usuarios/${t.uid}`),D={nombre:s,apellido:a,iniciales:P(s,a)};await wE(A,D),i(!1),d(!1),alert("Datos actualizados correctamente")},E=async()=>{await TF(oa),S("/login")},x=A=>{n(D=>({...D,foto:A}))};return e?m.jsxs("div",{className:"min-h-screen bg-cover bg-center text-white font-qatar",style:{backgroundImage:"url('/EmproChampions-2025/img/fondoempro-horizontal.png')"},children:[m.jsx(Ks,{}),m.jsx("div",{className:"flex items-center justify-center px-4 py-10",children:m.jsxs("div",{className:"bg-white/90 rounded-2xl shadow-lg p-8 w-full max-w-md text-center text-black",children:[m.jsx("h1",{className:"text-3xl font-bold text-[#7a0026] mb-6",children:"Configuracin de Cuenta"}),c&&m.jsx("div",{className:"mb-4 text-red-700 font-semibold",children:"Tu cuenta no tiene nombre ni foto. Por favor completa tu perfil "}),m.jsxs("div",{className:"mb-4 relative w-24 h-24 mx-auto",children:[e.foto?m.jsx("img",{src:e.foto,className:"w-24 h-24 rounded-full object-cover"}):m.jsx("div",{className:"w-24 h-24 rounded-full bg-[#7a0026] text-white text-3xl flex items-center justify-center",children:P(s,a)||"U"}),m.jsx("button",{type:"button",onClick:()=>w(!0),className:"absolute bottom-0 right-0 bg-yellow-400 text-black rounded-full p-1 shadow-md hover:bg-yellow-500",children:""})]}),m.jsxs("div",{className:"space-y-4 text-left",children:[m.jsx("input",{type:"text",placeholder:"Nombre",value:s,onChange:A=>o(A.target.value),className:"w-full px-4 py-2 border border-[#7a0026] rounded-md",disabled:!r}),m.jsx("input",{type:"text",placeholder:"Apellido",value:a,onChange:A=>l(A.target.value),className:"w-full px-4 py-2 border border-[#7a0026] rounded-md",disabled:!r}),m.jsxs("p",{className:"text-gray-700 font-sans text-sm break-all",children:["Correo: ",e.correo]})]}),m.jsxs("div",{className:"mt-6",children:[r?m.jsx("button",{onClick:_,className:"w-full bg-[#FFD700] text-[#7a0026] font-bold py-2 rounded-md hover:bg-yellow-400 transition",children:"Guardar Cambios"}):m.jsx("button",{onClick:()=>i(!0),className:"w-full bg-blue-600 text-white font-bold py-2 rounded-md hover:bg-blue-700 transition",children:"Editar"}),m.jsx("button",{onClick:()=>f(!0),className:"mt-4 w-full bg-red-600 text-white font-bold py-2 rounded-md hover:bg-red-700 transition",children:"Cerrar sesin"})]})]})}),m.jsx(_N,{open:h,onClose:()=>f(!1),children:m.jsxs(wN,{className:"bg-white p-6 rounded-md shadow-md w-full max-w-sm mx-auto mt-40 text-center",children:[m.jsx("h2",{className:"text-xl font-bold mb-4 text-black",children:"Cerrar sesin?"}),m.jsxs("div",{className:"flex justify-center gap-4",children:[m.jsx("button",{className:"bg-gray-300 px-4 py-2 rounded hover:bg-gray-400",onClick:()=>f(!1),children:"Cancelar"}),m.jsx("button",{className:"bg-red-600 text-white px-4 py-2 rounded hover:bg-red-700",onClick:E,children:"Confirmar"})]})]})}),m.jsx(Uq,{open:v,onClose:()=>w(!1),usuario:t,onUploadSuccess:x})]}):m.jsx("div",{className:"text-white text-center mt-10",children:"Cargando..."})}function ol({children:t}){const e=k.useContext(Jc),{usuario:n,cargando:r,rol:i}=e;return console.log("[ProtectedRoute] Evaluando...",{cargando:r,currentUserObtenido:n,rol:i}),r?(console.log("[ProtectedRoute] AuthContext todava est cargando..."),m.jsx("div",{children:"Cargando aplicacin..."})):n?(console.log("[ProtectedRoute] DECISIN: Hay usuario (despus de cargar), renderizando children. Usuario:",n,"Rol:",i),t):(console.log("[ProtectedRoute] DECISIN: No hay usuario (despus de cargar), redirigiendo a /login. Estado del contexto en este punto:",e),m.jsx(xg,{to:"/login",replace:!0}))}function Tm({children:t}){const e=k.useContext(Jc),{usuario:n,rol:r,cargando:i}=e;return console.log("[AdminRoute] Evaluando...",{cargando:i,currentUserObtenido:n,rolObtenido:r}),i?(console.log("[AdminRoute] AuthContext todava est cargando..."),m.jsx("div",{children:"Cargando aplicacin..."})):n?r!=="admin"&&r!=="superadmin"?(console.log("[AdminRoute] DECISIN: Usuario existe pero rol no es admin/superadmin (rol:",r,"), redirigiendo a /. Estado del contexto:",e),m.jsx(xg,{to:"/",replace:!0})):(console.log("[AdminRoute] DECISIN: Usuario es admin/superadmin (despus de cargar), renderizando children. Usuario:",n,"Rol:",r),t):(console.log("[AdminRoute] DECISIN: No hay usuario (despus de cargar), redirigiendo a /login. Estado del contexto:",e),m.jsx(xg,{to:"/login",replace:!0}))}function zq(){const[t,e]=k.useState(!1),[n,r]=k.useState({title:"",body:""});return k.useEffect(()=>{(async()=>{try{if(await Notification.requestPermission()==="granted"){console.log("Notification permission granted.");const l=Rg(Fs),c=await g5(l,{vapidKey:"BGq64U5eNzfqCtAtHTqnz9mh2oaeLpOZiJHMMama_1L9h_K1I9qScieLNbW8uHvEnRFlNVR2ZSBqAc61dtaW0Mc"});c?console.log("FCM Token:",c):console.log("No registration token available. Request permission to generate one.")}else console.log("Unable to get permission to notify.")}catch(a){console.error("An error occurred while requesting permission or getting token. ",a)}})();const s=Rg(Fs),o=y5(s,a=>{console.log("Message received. ",a),r({title:a.notification.title,body:a.notification.body}),e(!0)});return()=>{o()}},[]),m.jsx(UU,{children:m.jsxs(nL,{basename:"/EmproChampions-2025",children:[t&&m.jsx(iR,{title:n.title,body:n.body,image:n.image,onClose:()=>e(!1)}),m.jsxs(AM,{children:[m.jsx(En,{path:"/login",element:m.jsx(BU,{})}),m.jsx(En,{path:"/registro",element:m.jsx(zU,{})}),m.jsx(En,{path:"/",element:m.jsx(ol,{children:m.jsx(WU,{})})}),m.jsx(En,{path:"/partido/configurar",element:m.jsx(Tm,{children:m.jsx($E,{})})}),m.jsx(En,{path:"/partido/alineacion",element:m.jsx(Tm,{children:m.jsx(q8,{})})}),m.jsx(En,{path:"/control/:partidoId",element:m.jsx(Tm,{children:m.jsx(JU,{})})}),m.jsx(En,{path:"/match/:partidoId",element:m.jsx(ol,{children:m.jsx($E,{modo:"ver"})})}),m.jsx(En,{path:"/goleadores",element:m.jsx(ol,{children:m.jsx(QU,{})})}),m.jsx(En,{path:"/historial",element:m.jsx(ol,{children:m.jsx(ZU,{})})}),m.jsx(En,{path:"/configuracion",element:m.jsx(ol,{children:m.jsx(Bq,{})})}),m.jsx(En,{path:"*",element:m.jsx("div",{children:"Pgina no encontrada"})})," "]})]})})}const is=sessionStorage.getItem("redirect");sessionStorage.removeItem("redirect");if(is&&is!==window.location.pathname.replace("/EmproChampions-2025","")){let t=is;const e="/EmproChampions-2025";is.startsWith(e)?(t=is.substring(e.length),t.startsWith("/")||(t="/"+t)):is.startsWith("/")||(t="/"+is),t!==window.location.pathname.replace(e,"")&&(window.history.replaceState(null,null,e+(t==="/"?"":t)),console.log("Redirecting to:",e+(t==="/"?"":t)))}km.createRoot(document.getElementById("root")).render(m.jsx(vi.StrictMode,{children:m.jsx(zq,{})}));if("serviceWorker"in navigator){const t="/EmproChampions-2025/firebase-messaging-sw.js";navigator.serviceWorker.register(t,{scope:"/EmproChampions-2025/"}).then(e=>{console.log("Service Worker registrado:",e,"con ruta:",t,"y scope:",e.scope)}).catch(e=>{console.error("Fallo el registro del Service Worker:",e,"con ruta:",t)})}
