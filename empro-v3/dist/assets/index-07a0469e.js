function lN(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();function Fy(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var FS={exports:{}},Mh={},$S={exports:{}},ce={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ic=Symbol.for("react.element"),cN=Symbol.for("react.portal"),uN=Symbol.for("react.fragment"),dN=Symbol.for("react.strict_mode"),hN=Symbol.for("react.profiler"),fN=Symbol.for("react.provider"),pN=Symbol.for("react.context"),mN=Symbol.for("react.forward_ref"),gN=Symbol.for("react.suspense"),yN=Symbol.for("react.memo"),vN=Symbol.for("react.lazy"),Bw=Symbol.iterator;function _N(t){return t===null||typeof t!="object"?null:(t=Bw&&t[Bw]||t["@@iterator"],typeof t=="function"?t:null)}var VS={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},US=Object.assign,BS={};function ua(t,e,n){this.props=t,this.context=e,this.refs=BS,this.updater=n||VS}ua.prototype.isReactComponent={};ua.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};ua.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function zS(){}zS.prototype=ua.prototype;function $y(t,e,n){this.props=t,this.context=e,this.refs=BS,this.updater=n||VS}var Vy=$y.prototype=new zS;Vy.constructor=$y;US(Vy,ua.prototype);Vy.isPureReactComponent=!0;var zw=Array.isArray,WS=Object.prototype.hasOwnProperty,Uy={current:null},HS={key:!0,ref:!0,__self:!0,__source:!0};function GS(t,e,n){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)WS.call(e,r)&&!HS.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];i.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:Ic,type:t,key:s,ref:o,props:i,_owner:Uy.current}}function wN(t,e){return{$$typeof:Ic,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function By(t){return typeof t=="object"&&t!==null&&t.$$typeof===Ic}function xN(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var Ww=/\/+/g;function pp(t,e){return typeof t=="object"&&t!==null&&t.key!=null?xN(""+t.key):e.toString(36)}function Ju(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case Ic:case cN:o=!0}}if(o)return o=t,i=i(o),t=r===""?"."+pp(o,0):r,zw(i)?(n="",t!=null&&(n=t.replace(Ww,"$&/")+"/"),Ju(i,e,n,"",function(c){return c})):i!=null&&(By(i)&&(i=wN(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(Ww,"$&/")+"/")+t)),e.push(i)),1;if(o=0,r=r===""?".":r+":",zw(t))for(var a=0;a<t.length;a++){s=t[a];var l=r+pp(s,a);o+=Ju(s,e,n,l,i)}else if(l=_N(t),typeof l=="function")for(t=l.call(t),a=0;!(s=t.next()).done;)s=s.value,l=r+pp(s,a++),o+=Ju(s,e,n,l,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function yu(t,e,n){if(t==null)return t;var r=[],i=0;return Ju(t,r,"","",function(s){return e.call(n,s,i++)}),r}function EN(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Wt={current:null},Zu={transition:null},CN={ReactCurrentDispatcher:Wt,ReactCurrentBatchConfig:Zu,ReactCurrentOwner:Uy};function KS(){throw Error("act(...) is not supported in production builds of React.")}ce.Children={map:yu,forEach:function(t,e,n){yu(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return yu(t,function(){e++}),e},toArray:function(t){return yu(t,function(e){return e})||[]},only:function(t){if(!By(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};ce.Component=ua;ce.Fragment=uN;ce.Profiler=hN;ce.PureComponent=$y;ce.StrictMode=dN;ce.Suspense=gN;ce.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=CN;ce.act=KS;ce.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=US({},t.props),i=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=Uy.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)WS.call(e,l)&&!HS.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];r.children=a}return{$$typeof:Ic,type:t.type,key:i,ref:s,props:r,_owner:o}};ce.createContext=function(t){return t={$$typeof:pN,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:fN,_context:t},t.Consumer=t};ce.createElement=GS;ce.createFactory=function(t){var e=GS.bind(null,t);return e.type=t,e};ce.createRef=function(){return{current:null}};ce.forwardRef=function(t){return{$$typeof:mN,render:t}};ce.isValidElement=By;ce.lazy=function(t){return{$$typeof:vN,_payload:{_status:-1,_result:t},_init:EN}};ce.memo=function(t,e){return{$$typeof:yN,type:t,compare:e===void 0?null:e}};ce.startTransition=function(t){var e=Zu.transition;Zu.transition={};try{t()}finally{Zu.transition=e}};ce.unstable_act=KS;ce.useCallback=function(t,e){return Wt.current.useCallback(t,e)};ce.useContext=function(t){return Wt.current.useContext(t)};ce.useDebugValue=function(){};ce.useDeferredValue=function(t){return Wt.current.useDeferredValue(t)};ce.useEffect=function(t,e){return Wt.current.useEffect(t,e)};ce.useId=function(){return Wt.current.useId()};ce.useImperativeHandle=function(t,e,n){return Wt.current.useImperativeHandle(t,e,n)};ce.useInsertionEffect=function(t,e){return Wt.current.useInsertionEffect(t,e)};ce.useLayoutEffect=function(t,e){return Wt.current.useLayoutEffect(t,e)};ce.useMemo=function(t,e){return Wt.current.useMemo(t,e)};ce.useReducer=function(t,e,n){return Wt.current.useReducer(t,e,n)};ce.useRef=function(t){return Wt.current.useRef(t)};ce.useState=function(t){return Wt.current.useState(t)};ce.useSyncExternalStore=function(t,e,n){return Wt.current.useSyncExternalStore(t,e,n)};ce.useTransition=function(){return Wt.current.useTransition()};ce.version="18.3.1";$S.exports=ce;var T=$S.exports;const us=Fy(T),Hw=lN({__proto__:null,default:us},[T]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var SN=T,bN=Symbol.for("react.element"),TN=Symbol.for("react.fragment"),kN=Object.prototype.hasOwnProperty,IN=SN.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,PN={key:!0,ref:!0,__self:!0,__source:!0};function qS(t,e,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)kN.call(e,r)&&!PN.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:bN,type:t,key:s,ref:o,props:i,_owner:IN.current}}Mh.Fragment=TN;Mh.jsx=qS;Mh.jsxs=qS;FS.exports=Mh;var m=FS.exports,Im={},YS={exports:{}},mn={},XS={exports:{}},QS={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e($,q){var X=$.length;$.push(q);e:for(;0<X;){var _e=X-1>>>1,re=$[_e];if(0<i(re,q))$[_e]=q,$[X]=re,X=_e;else break e}}function n($){return $.length===0?null:$[0]}function r($){if($.length===0)return null;var q=$[0],X=$.pop();if(X!==q){$[0]=X;e:for(var _e=0,re=$.length,ee=re>>>1;_e<ee;){var Q=2*(_e+1)-1,ue=$[Q],de=Q+1,ie=$[de];if(0>i(ue,X))de<re&&0>i(ie,ue)?($[_e]=ie,$[de]=X,_e=de):($[_e]=ue,$[Q]=X,_e=Q);else if(de<re&&0>i(ie,X))$[_e]=ie,$[de]=X,_e=de;else break e}}return q}function i($,q){var X=$.sortIndex-q.sortIndex;return X!==0?X:$.id-q.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],c=[],d=1,h=null,f=3,v=!1,_=!1,S=!1,P=typeof setTimeout=="function"?setTimeout:null,w=typeof clearTimeout=="function"?clearTimeout:null,C=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function E($){for(var q=n(c);q!==null;){if(q.callback===null)r(c);else if(q.startTime<=$)r(c),q.sortIndex=q.expirationTime,e(l,q);else break;q=n(c)}}function R($){if(S=!1,E($),!_)if(n(l)!==null)_=!0,K(D);else{var q=n(c);q!==null&&G(R,q.startTime-$)}}function D($,q){_=!1,S&&(S=!1,w(x),x=-1),v=!0;var X=f;try{for(E(q),h=n(l);h!==null&&(!(h.expirationTime>q)||$&&!A());){var _e=h.callback;if(typeof _e=="function"){h.callback=null,f=h.priorityLevel;var re=_e(h.expirationTime<=q);q=t.unstable_now(),typeof re=="function"?h.callback=re:h===n(l)&&r(l),E(q)}else r(l);h=n(l)}if(h!==null)var ee=!0;else{var Q=n(c);Q!==null&&G(R,Q.startTime-q),ee=!1}return ee}finally{h=null,f=X,v=!1}}var M=!1,b=null,x=-1,I=5,g=-1;function A(){return!(t.unstable_now()-g<I)}function O(){if(b!==null){var $=t.unstable_now();g=$;var q=!0;try{q=b(!0,$)}finally{q?N():(M=!1,b=null)}}else M=!1}var N;if(typeof C=="function")N=function(){C(O)};else if(typeof MessageChannel<"u"){var V=new MessageChannel,W=V.port2;V.port1.onmessage=O,N=function(){W.postMessage(null)}}else N=function(){P(O,0)};function K($){b=$,M||(M=!0,N())}function G($,q){x=P(function(){$(t.unstable_now())},q)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function($){$.callback=null},t.unstable_continueExecution=function(){_||v||(_=!0,K(D))},t.unstable_forceFrameRate=function($){0>$||125<$?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<$?Math.floor(1e3/$):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function($){switch(f){case 1:case 2:case 3:var q=3;break;default:q=f}var X=f;f=q;try{return $()}finally{f=X}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function($,q){switch($){case 1:case 2:case 3:case 4:case 5:break;default:$=3}var X=f;f=$;try{return q()}finally{f=X}},t.unstable_scheduleCallback=function($,q,X){var _e=t.unstable_now();switch(typeof X=="object"&&X!==null?(X=X.delay,X=typeof X=="number"&&0<X?_e+X:_e):X=_e,$){case 1:var re=-1;break;case 2:re=250;break;case 5:re=1073741823;break;case 4:re=1e4;break;default:re=5e3}return re=X+re,$={id:d++,callback:q,priorityLevel:$,startTime:X,expirationTime:re,sortIndex:-1},X>_e?($.sortIndex=X,e(c,$),n(l)===null&&$===n(c)&&(S?(w(x),x=-1):S=!0,G(R,X-_e))):($.sortIndex=re,e(l,$),_||v||(_=!0,K(D))),$},t.unstable_shouldYield=A,t.unstable_wrapCallback=function($){var q=f;return function(){var X=f;f=q;try{return $.apply(this,arguments)}finally{f=X}}}})(QS);XS.exports=QS;var RN=XS.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var AN=T,fn=RN;function U(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var JS=new Set,Fl={};function $s(t,e){Bo(t,e),Bo(t+"Capture",e)}function Bo(t,e){for(Fl[t]=e,t=0;t<e.length;t++)JS.add(e[t])}var Wr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Pm=Object.prototype.hasOwnProperty,NN=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Gw={},Kw={};function DN(t){return Pm.call(Kw,t)?!0:Pm.call(Gw,t)?!1:NN.test(t)?Kw[t]=!0:(Gw[t]=!0,!1)}function ON(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function MN(t,e,n,r){if(e===null||typeof e>"u"||ON(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Ht(t,e,n,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var _t={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){_t[t]=new Ht(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];_t[e]=new Ht(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){_t[t]=new Ht(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){_t[t]=new Ht(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){_t[t]=new Ht(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){_t[t]=new Ht(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){_t[t]=new Ht(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){_t[t]=new Ht(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){_t[t]=new Ht(t,5,!1,t.toLowerCase(),null,!1,!1)});var zy=/[\-:]([a-z])/g;function Wy(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(zy,Wy);_t[e]=new Ht(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(zy,Wy);_t[e]=new Ht(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(zy,Wy);_t[e]=new Ht(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){_t[t]=new Ht(t,1,!1,t.toLowerCase(),null,!1,!1)});_t.xlinkHref=new Ht("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){_t[t]=new Ht(t,1,!1,t.toLowerCase(),null,!0,!0)});function Hy(t,e,n,r){var i=_t.hasOwnProperty(e)?_t[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(MN(e,n,i,r)&&(n=null),r||i===null?DN(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var ti=AN.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,vu=Symbol.for("react.element"),co=Symbol.for("react.portal"),uo=Symbol.for("react.fragment"),Gy=Symbol.for("react.strict_mode"),Rm=Symbol.for("react.profiler"),ZS=Symbol.for("react.provider"),eb=Symbol.for("react.context"),Ky=Symbol.for("react.forward_ref"),Am=Symbol.for("react.suspense"),Nm=Symbol.for("react.suspense_list"),qy=Symbol.for("react.memo"),hi=Symbol.for("react.lazy"),tb=Symbol.for("react.offscreen"),qw=Symbol.iterator;function Va(t){return t===null||typeof t!="object"?null:(t=qw&&t[qw]||t["@@iterator"],typeof t=="function"?t:null)}var $e=Object.assign,mp;function il(t){if(mp===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);mp=e&&e[1]||""}return`
`+mp+t}var gp=!1;function yp(t,e){if(!t||gp)return"";gp=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var r=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){r=c}t.call(e.prototype)}else{try{throw Error()}catch(c){r=c}t()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var i=c.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var l=`
`+i[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{gp=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?il(t):""}function LN(t){switch(t.tag){case 5:return il(t.type);case 16:return il("Lazy");case 13:return il("Suspense");case 19:return il("SuspenseList");case 0:case 2:case 15:return t=yp(t.type,!1),t;case 11:return t=yp(t.type.render,!1),t;case 1:return t=yp(t.type,!0),t;default:return""}}function Dm(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case uo:return"Fragment";case co:return"Portal";case Rm:return"Profiler";case Gy:return"StrictMode";case Am:return"Suspense";case Nm:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case eb:return(t.displayName||"Context")+".Consumer";case ZS:return(t._context.displayName||"Context")+".Provider";case Ky:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case qy:return e=t.displayName||null,e!==null?e:Dm(t.type)||"Memo";case hi:e=t._payload,t=t._init;try{return Dm(t(e))}catch{}}return null}function jN(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Dm(e);case 8:return e===Gy?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Oi(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function nb(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function FN(t){var e=nb(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function _u(t){t._valueTracker||(t._valueTracker=FN(t))}function rb(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=nb(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Id(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Om(t,e){var n=e.checked;return $e({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function Yw(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Oi(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function ib(t,e){e=e.checked,e!=null&&Hy(t,"checked",e,!1)}function Mm(t,e){ib(t,e);var n=Oi(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Lm(t,e.type,n):e.hasOwnProperty("defaultValue")&&Lm(t,e.type,Oi(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function Xw(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Lm(t,e,n){(e!=="number"||Id(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var sl=Array.isArray;function Io(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Oi(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function jm(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(U(91));return $e({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Qw(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(U(92));if(sl(n)){if(1<n.length)throw Error(U(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Oi(n)}}function sb(t,e){var n=Oi(e.value),r=Oi(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function Jw(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function ob(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Fm(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?ob(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var wu,ab=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(wu=wu||document.createElement("div"),wu.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=wu.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function $l(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var pl={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},$N=["Webkit","ms","Moz","O"];Object.keys(pl).forEach(function(t){$N.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),pl[e]=pl[t]})});function lb(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||pl.hasOwnProperty(t)&&pl[t]?(""+e).trim():e+"px"}function cb(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=lb(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var VN=$e({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function $m(t,e){if(e){if(VN[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(U(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(U(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(U(61))}if(e.style!=null&&typeof e.style!="object")throw Error(U(62))}}function Vm(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Um=null;function Yy(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Bm=null,Po=null,Ro=null;function Zw(t){if(t=Ac(t)){if(typeof Bm!="function")throw Error(U(280));var e=t.stateNode;e&&(e=Vh(e),Bm(t.stateNode,t.type,e))}}function ub(t){Po?Ro?Ro.push(t):Ro=[t]:Po=t}function db(){if(Po){var t=Po,e=Ro;if(Ro=Po=null,Zw(t),e)for(t=0;t<e.length;t++)Zw(e[t])}}function hb(t,e){return t(e)}function fb(){}var vp=!1;function pb(t,e,n){if(vp)return t(e,n);vp=!0;try{return hb(t,e,n)}finally{vp=!1,(Po!==null||Ro!==null)&&(fb(),db())}}function Vl(t,e){var n=t.stateNode;if(n===null)return null;var r=Vh(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(U(231,e,typeof n));return n}var zm=!1;if(Wr)try{var Ua={};Object.defineProperty(Ua,"passive",{get:function(){zm=!0}}),window.addEventListener("test",Ua,Ua),window.removeEventListener("test",Ua,Ua)}catch{zm=!1}function UN(t,e,n,r,i,s,o,a,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(d){this.onError(d)}}var ml=!1,Pd=null,Rd=!1,Wm=null,BN={onError:function(t){ml=!0,Pd=t}};function zN(t,e,n,r,i,s,o,a,l){ml=!1,Pd=null,UN.apply(BN,arguments)}function WN(t,e,n,r,i,s,o,a,l){if(zN.apply(this,arguments),ml){if(ml){var c=Pd;ml=!1,Pd=null}else throw Error(U(198));Rd||(Rd=!0,Wm=c)}}function Vs(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function mb(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function ex(t){if(Vs(t)!==t)throw Error(U(188))}function HN(t){var e=t.alternate;if(!e){if(e=Vs(t),e===null)throw Error(U(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return ex(i),t;if(s===r)return ex(i),e;s=s.sibling}throw Error(U(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o)throw Error(U(189))}}if(n.alternate!==r)throw Error(U(190))}if(n.tag!==3)throw Error(U(188));return n.stateNode.current===n?t:e}function gb(t){return t=HN(t),t!==null?yb(t):null}function yb(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=yb(t);if(e!==null)return e;t=t.sibling}return null}var vb=fn.unstable_scheduleCallback,tx=fn.unstable_cancelCallback,GN=fn.unstable_shouldYield,KN=fn.unstable_requestPaint,Ye=fn.unstable_now,qN=fn.unstable_getCurrentPriorityLevel,Xy=fn.unstable_ImmediatePriority,_b=fn.unstable_UserBlockingPriority,Ad=fn.unstable_NormalPriority,YN=fn.unstable_LowPriority,wb=fn.unstable_IdlePriority,Lh=null,dr=null;function XN(t){if(dr&&typeof dr.onCommitFiberRoot=="function")try{dr.onCommitFiberRoot(Lh,t,void 0,(t.current.flags&128)===128)}catch{}}var qn=Math.clz32?Math.clz32:ZN,QN=Math.log,JN=Math.LN2;function ZN(t){return t>>>=0,t===0?32:31-(QN(t)/JN|0)|0}var xu=64,Eu=4194304;function ol(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Nd(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~i;a!==0?r=ol(a):(s&=o,s!==0&&(r=ol(s)))}else o=n&~i,o!==0?r=ol(o):s!==0&&(r=ol(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-qn(e),i=1<<n,r|=t[n],e&=~i;return r}function eD(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function tD(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-qn(s),a=1<<o,l=i[o];l===-1?(!(a&n)||a&r)&&(i[o]=eD(a,e)):l<=e&&(t.expiredLanes|=a),s&=~a}}function Hm(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function xb(){var t=xu;return xu<<=1,!(xu&4194240)&&(xu=64),t}function _p(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Pc(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-qn(e),t[e]=n}function nD(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-qn(n),s=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~s}}function Qy(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-qn(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var we=0;function Eb(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var Cb,Jy,Sb,bb,Tb,Gm=!1,Cu=[],Ci=null,Si=null,bi=null,Ul=new Map,Bl=new Map,pi=[],rD="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function nx(t,e){switch(t){case"focusin":case"focusout":Ci=null;break;case"dragenter":case"dragleave":Si=null;break;case"mouseover":case"mouseout":bi=null;break;case"pointerover":case"pointerout":Ul.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Bl.delete(e.pointerId)}}function Ba(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=Ac(e),e!==null&&Jy(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function iD(t,e,n,r,i){switch(e){case"focusin":return Ci=Ba(Ci,t,e,n,r,i),!0;case"dragenter":return Si=Ba(Si,t,e,n,r,i),!0;case"mouseover":return bi=Ba(bi,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return Ul.set(s,Ba(Ul.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,Bl.set(s,Ba(Bl.get(s)||null,t,e,n,r,i)),!0}return!1}function kb(t){var e=ds(t.target);if(e!==null){var n=Vs(e);if(n!==null){if(e=n.tag,e===13){if(e=mb(n),e!==null){t.blockedOn=e,Tb(t.priority,function(){Sb(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function ed(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Km(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Um=r,n.target.dispatchEvent(r),Um=null}else return e=Ac(n),e!==null&&Jy(e),t.blockedOn=n,!1;e.shift()}return!0}function rx(t,e,n){ed(t)&&n.delete(e)}function sD(){Gm=!1,Ci!==null&&ed(Ci)&&(Ci=null),Si!==null&&ed(Si)&&(Si=null),bi!==null&&ed(bi)&&(bi=null),Ul.forEach(rx),Bl.forEach(rx)}function za(t,e){t.blockedOn===e&&(t.blockedOn=null,Gm||(Gm=!0,fn.unstable_scheduleCallback(fn.unstable_NormalPriority,sD)))}function zl(t){function e(i){return za(i,t)}if(0<Cu.length){za(Cu[0],t);for(var n=1;n<Cu.length;n++){var r=Cu[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Ci!==null&&za(Ci,t),Si!==null&&za(Si,t),bi!==null&&za(bi,t),Ul.forEach(e),Bl.forEach(e),n=0;n<pi.length;n++)r=pi[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<pi.length&&(n=pi[0],n.blockedOn===null);)kb(n),n.blockedOn===null&&pi.shift()}var Ao=ti.ReactCurrentBatchConfig,Dd=!0;function oD(t,e,n,r){var i=we,s=Ao.transition;Ao.transition=null;try{we=1,Zy(t,e,n,r)}finally{we=i,Ao.transition=s}}function aD(t,e,n,r){var i=we,s=Ao.transition;Ao.transition=null;try{we=4,Zy(t,e,n,r)}finally{we=i,Ao.transition=s}}function Zy(t,e,n,r){if(Dd){var i=Km(t,e,n,r);if(i===null)Pp(t,e,r,Od,n),nx(t,r);else if(iD(i,t,e,n,r))r.stopPropagation();else if(nx(t,r),e&4&&-1<rD.indexOf(t)){for(;i!==null;){var s=Ac(i);if(s!==null&&Cb(s),s=Km(t,e,n,r),s===null&&Pp(t,e,r,Od,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else Pp(t,e,r,null,n)}}var Od=null;function Km(t,e,n,r){if(Od=null,t=Yy(r),t=ds(t),t!==null)if(e=Vs(t),e===null)t=null;else if(n=e.tag,n===13){if(t=mb(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Od=t,null}function Ib(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(qN()){case Xy:return 1;case _b:return 4;case Ad:case YN:return 16;case wb:return 536870912;default:return 16}default:return 16}}var wi=null,e0=null,td=null;function Pb(){if(td)return td;var t,e=e0,n=e.length,r,i="value"in wi?wi.value:wi.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===i[s-r];r++);return td=i.slice(t,1<r?1-r:void 0)}function nd(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Su(){return!0}function ix(){return!1}function gn(t){function e(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Su:ix,this.isPropagationStopped=ix,this}return $e(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Su)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Su)},persist:function(){},isPersistent:Su}),e}var da={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},t0=gn(da),Rc=$e({},da,{view:0,detail:0}),lD=gn(Rc),wp,xp,Wa,jh=$e({},Rc,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:n0,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Wa&&(Wa&&t.type==="mousemove"?(wp=t.screenX-Wa.screenX,xp=t.screenY-Wa.screenY):xp=wp=0,Wa=t),wp)},movementY:function(t){return"movementY"in t?t.movementY:xp}}),sx=gn(jh),cD=$e({},jh,{dataTransfer:0}),uD=gn(cD),dD=$e({},Rc,{relatedTarget:0}),Ep=gn(dD),hD=$e({},da,{animationName:0,elapsedTime:0,pseudoElement:0}),fD=gn(hD),pD=$e({},da,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),mD=gn(pD),gD=$e({},da,{data:0}),ox=gn(gD),yD={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},vD={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},_D={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function wD(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=_D[t])?!!e[t]:!1}function n0(){return wD}var xD=$e({},Rc,{key:function(t){if(t.key){var e=yD[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=nd(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?vD[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:n0,charCode:function(t){return t.type==="keypress"?nd(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?nd(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),ED=gn(xD),CD=$e({},jh,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ax=gn(CD),SD=$e({},Rc,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:n0}),bD=gn(SD),TD=$e({},da,{propertyName:0,elapsedTime:0,pseudoElement:0}),kD=gn(TD),ID=$e({},jh,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),PD=gn(ID),RD=[9,13,27,32],r0=Wr&&"CompositionEvent"in window,gl=null;Wr&&"documentMode"in document&&(gl=document.documentMode);var AD=Wr&&"TextEvent"in window&&!gl,Rb=Wr&&(!r0||gl&&8<gl&&11>=gl),lx=String.fromCharCode(32),cx=!1;function Ab(t,e){switch(t){case"keyup":return RD.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Nb(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var ho=!1;function ND(t,e){switch(t){case"compositionend":return Nb(e);case"keypress":return e.which!==32?null:(cx=!0,lx);case"textInput":return t=e.data,t===lx&&cx?null:t;default:return null}}function DD(t,e){if(ho)return t==="compositionend"||!r0&&Ab(t,e)?(t=Pb(),td=e0=wi=null,ho=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return Rb&&e.locale!=="ko"?null:e.data;default:return null}}var OD={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ux(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!OD[t.type]:e==="textarea"}function Db(t,e,n,r){ub(r),e=Md(e,"onChange"),0<e.length&&(n=new t0("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var yl=null,Wl=null;function MD(t){Wb(t,0)}function Fh(t){var e=mo(t);if(rb(e))return t}function LD(t,e){if(t==="change")return e}var Ob=!1;if(Wr){var Cp;if(Wr){var Sp="oninput"in document;if(!Sp){var dx=document.createElement("div");dx.setAttribute("oninput","return;"),Sp=typeof dx.oninput=="function"}Cp=Sp}else Cp=!1;Ob=Cp&&(!document.documentMode||9<document.documentMode)}function hx(){yl&&(yl.detachEvent("onpropertychange",Mb),Wl=yl=null)}function Mb(t){if(t.propertyName==="value"&&Fh(Wl)){var e=[];Db(e,Wl,t,Yy(t)),pb(MD,e)}}function jD(t,e,n){t==="focusin"?(hx(),yl=e,Wl=n,yl.attachEvent("onpropertychange",Mb)):t==="focusout"&&hx()}function FD(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Fh(Wl)}function $D(t,e){if(t==="click")return Fh(e)}function VD(t,e){if(t==="input"||t==="change")return Fh(e)}function UD(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Jn=typeof Object.is=="function"?Object.is:UD;function Hl(t,e){if(Jn(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!Pm.call(e,i)||!Jn(t[i],e[i]))return!1}return!0}function fx(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function px(t,e){var n=fx(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=fx(n)}}function Lb(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?Lb(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function jb(){for(var t=window,e=Id();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Id(t.document)}return e}function i0(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function BD(t){var e=jb(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&Lb(n.ownerDocument.documentElement,n)){if(r!==null&&i0(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!t.extend&&s>r&&(i=r,r=s,s=i),i=px(n,s);var o=px(n,r);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var zD=Wr&&"documentMode"in document&&11>=document.documentMode,fo=null,qm=null,vl=null,Ym=!1;function mx(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Ym||fo==null||fo!==Id(r)||(r=fo,"selectionStart"in r&&i0(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),vl&&Hl(vl,r)||(vl=r,r=Md(qm,"onSelect"),0<r.length&&(e=new t0("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=fo)))}function bu(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var po={animationend:bu("Animation","AnimationEnd"),animationiteration:bu("Animation","AnimationIteration"),animationstart:bu("Animation","AnimationStart"),transitionend:bu("Transition","TransitionEnd")},bp={},Fb={};Wr&&(Fb=document.createElement("div").style,"AnimationEvent"in window||(delete po.animationend.animation,delete po.animationiteration.animation,delete po.animationstart.animation),"TransitionEvent"in window||delete po.transitionend.transition);function $h(t){if(bp[t])return bp[t];if(!po[t])return t;var e=po[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in Fb)return bp[t]=e[n];return t}var $b=$h("animationend"),Vb=$h("animationiteration"),Ub=$h("animationstart"),Bb=$h("transitionend"),zb=new Map,gx="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function zi(t,e){zb.set(t,e),$s(e,[t])}for(var Tp=0;Tp<gx.length;Tp++){var kp=gx[Tp],WD=kp.toLowerCase(),HD=kp[0].toUpperCase()+kp.slice(1);zi(WD,"on"+HD)}zi($b,"onAnimationEnd");zi(Vb,"onAnimationIteration");zi(Ub,"onAnimationStart");zi("dblclick","onDoubleClick");zi("focusin","onFocus");zi("focusout","onBlur");zi(Bb,"onTransitionEnd");Bo("onMouseEnter",["mouseout","mouseover"]);Bo("onMouseLeave",["mouseout","mouseover"]);Bo("onPointerEnter",["pointerout","pointerover"]);Bo("onPointerLeave",["pointerout","pointerover"]);$s("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));$s("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));$s("onBeforeInput",["compositionend","keypress","textInput","paste"]);$s("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));$s("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));$s("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var al="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),GD=new Set("cancel close invalid load scroll toggle".split(" ").concat(al));function yx(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,WN(r,e,void 0,t),t.currentTarget=null}function Wb(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==s&&i.isPropagationStopped())break e;yx(i,a,c),s=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,c=a.currentTarget,a=a.listener,l!==s&&i.isPropagationStopped())break e;yx(i,a,c),s=l}}}if(Rd)throw t=Wm,Rd=!1,Wm=null,t}function Re(t,e){var n=e[eg];n===void 0&&(n=e[eg]=new Set);var r=t+"__bubble";n.has(r)||(Hb(e,t,2,!1),n.add(r))}function Ip(t,e,n){var r=0;e&&(r|=4),Hb(n,t,r,e)}var Tu="_reactListening"+Math.random().toString(36).slice(2);function Gl(t){if(!t[Tu]){t[Tu]=!0,JS.forEach(function(n){n!=="selectionchange"&&(GD.has(n)||Ip(n,!1,t),Ip(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Tu]||(e[Tu]=!0,Ip("selectionchange",!1,e))}}function Hb(t,e,n,r){switch(Ib(e)){case 1:var i=oD;break;case 4:i=aD;break;default:i=Zy}n=i.bind(null,e,n,t),i=void 0,!zm||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function Pp(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;o=o.return}for(;a!==null;){if(o=ds(a),o===null)return;if(l=o.tag,l===5||l===6){r=s=o;continue e}a=a.parentNode}}r=r.return}pb(function(){var c=s,d=Yy(n),h=[];e:{var f=zb.get(t);if(f!==void 0){var v=t0,_=t;switch(t){case"keypress":if(nd(n)===0)break e;case"keydown":case"keyup":v=ED;break;case"focusin":_="focus",v=Ep;break;case"focusout":_="blur",v=Ep;break;case"beforeblur":case"afterblur":v=Ep;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":v=sx;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":v=uD;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":v=bD;break;case $b:case Vb:case Ub:v=fD;break;case Bb:v=kD;break;case"scroll":v=lD;break;case"wheel":v=PD;break;case"copy":case"cut":case"paste":v=mD;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":v=ax}var S=(e&4)!==0,P=!S&&t==="scroll",w=S?f!==null?f+"Capture":null:f;S=[];for(var C=c,E;C!==null;){E=C;var R=E.stateNode;if(E.tag===5&&R!==null&&(E=R,w!==null&&(R=Vl(C,w),R!=null&&S.push(Kl(C,R,E)))),P)break;C=C.return}0<S.length&&(f=new v(f,_,null,n,d),h.push({event:f,listeners:S}))}}if(!(e&7)){e:{if(f=t==="mouseover"||t==="pointerover",v=t==="mouseout"||t==="pointerout",f&&n!==Um&&(_=n.relatedTarget||n.fromElement)&&(ds(_)||_[Hr]))break e;if((v||f)&&(f=d.window===d?d:(f=d.ownerDocument)?f.defaultView||f.parentWindow:window,v?(_=n.relatedTarget||n.toElement,v=c,_=_?ds(_):null,_!==null&&(P=Vs(_),_!==P||_.tag!==5&&_.tag!==6)&&(_=null)):(v=null,_=c),v!==_)){if(S=sx,R="onMouseLeave",w="onMouseEnter",C="mouse",(t==="pointerout"||t==="pointerover")&&(S=ax,R="onPointerLeave",w="onPointerEnter",C="pointer"),P=v==null?f:mo(v),E=_==null?f:mo(_),f=new S(R,C+"leave",v,n,d),f.target=P,f.relatedTarget=E,R=null,ds(d)===c&&(S=new S(w,C+"enter",_,n,d),S.target=E,S.relatedTarget=P,R=S),P=R,v&&_)t:{for(S=v,w=_,C=0,E=S;E;E=Zs(E))C++;for(E=0,R=w;R;R=Zs(R))E++;for(;0<C-E;)S=Zs(S),C--;for(;0<E-C;)w=Zs(w),E--;for(;C--;){if(S===w||w!==null&&S===w.alternate)break t;S=Zs(S),w=Zs(w)}S=null}else S=null;v!==null&&vx(h,f,v,S,!1),_!==null&&P!==null&&vx(h,P,_,S,!0)}}e:{if(f=c?mo(c):window,v=f.nodeName&&f.nodeName.toLowerCase(),v==="select"||v==="input"&&f.type==="file")var D=LD;else if(ux(f))if(Ob)D=VD;else{D=FD;var M=jD}else(v=f.nodeName)&&v.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(D=$D);if(D&&(D=D(t,c))){Db(h,D,n,d);break e}M&&M(t,f,c),t==="focusout"&&(M=f._wrapperState)&&M.controlled&&f.type==="number"&&Lm(f,"number",f.value)}switch(M=c?mo(c):window,t){case"focusin":(ux(M)||M.contentEditable==="true")&&(fo=M,qm=c,vl=null);break;case"focusout":vl=qm=fo=null;break;case"mousedown":Ym=!0;break;case"contextmenu":case"mouseup":case"dragend":Ym=!1,mx(h,n,d);break;case"selectionchange":if(zD)break;case"keydown":case"keyup":mx(h,n,d)}var b;if(r0)e:{switch(t){case"compositionstart":var x="onCompositionStart";break e;case"compositionend":x="onCompositionEnd";break e;case"compositionupdate":x="onCompositionUpdate";break e}x=void 0}else ho?Ab(t,n)&&(x="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(x="onCompositionStart");x&&(Rb&&n.locale!=="ko"&&(ho||x!=="onCompositionStart"?x==="onCompositionEnd"&&ho&&(b=Pb()):(wi=d,e0="value"in wi?wi.value:wi.textContent,ho=!0)),M=Md(c,x),0<M.length&&(x=new ox(x,t,null,n,d),h.push({event:x,listeners:M}),b?x.data=b:(b=Nb(n),b!==null&&(x.data=b)))),(b=AD?ND(t,n):DD(t,n))&&(c=Md(c,"onBeforeInput"),0<c.length&&(d=new ox("onBeforeInput","beforeinput",null,n,d),h.push({event:d,listeners:c}),d.data=b))}Wb(h,e)})}function Kl(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Md(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=Vl(t,n),s!=null&&r.unshift(Kl(t,s,i)),s=Vl(t,e),s!=null&&r.push(Kl(t,s,i))),t=t.return}return r}function Zs(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function vx(t,e,n,r,i){for(var s=e._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,c=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&c!==null&&(a=c,i?(l=Vl(n,s),l!=null&&o.unshift(Kl(n,l,a))):i||(l=Vl(n,s),l!=null&&o.push(Kl(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var KD=/\r\n?/g,qD=/\u0000|\uFFFD/g;function _x(t){return(typeof t=="string"?t:""+t).replace(KD,`
`).replace(qD,"")}function ku(t,e,n){if(e=_x(e),_x(t)!==e&&n)throw Error(U(425))}function Ld(){}var Xm=null,Qm=null;function Jm(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Zm=typeof setTimeout=="function"?setTimeout:void 0,YD=typeof clearTimeout=="function"?clearTimeout:void 0,wx=typeof Promise=="function"?Promise:void 0,XD=typeof queueMicrotask=="function"?queueMicrotask:typeof wx<"u"?function(t){return wx.resolve(null).then(t).catch(QD)}:Zm;function QD(t){setTimeout(function(){throw t})}function Rp(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),zl(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);zl(e)}function Ti(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function xx(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var ha=Math.random().toString(36).slice(2),lr="__reactFiber$"+ha,ql="__reactProps$"+ha,Hr="__reactContainer$"+ha,eg="__reactEvents$"+ha,JD="__reactListeners$"+ha,ZD="__reactHandles$"+ha;function ds(t){var e=t[lr];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Hr]||n[lr]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=xx(t);t!==null;){if(n=t[lr])return n;t=xx(t)}return e}t=n,n=t.parentNode}return null}function Ac(t){return t=t[lr]||t[Hr],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function mo(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(U(33))}function Vh(t){return t[ql]||null}var tg=[],go=-1;function Wi(t){return{current:t}}function Ae(t){0>go||(t.current=tg[go],tg[go]=null,go--)}function Ie(t,e){go++,tg[go]=t.current,t.current=e}var Mi={},Nt=Wi(Mi),tn=Wi(!1),Ss=Mi;function zo(t,e){var n=t.type.contextTypes;if(!n)return Mi;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function nn(t){return t=t.childContextTypes,t!=null}function jd(){Ae(tn),Ae(Nt)}function Ex(t,e,n){if(Nt.current!==Mi)throw Error(U(168));Ie(Nt,e),Ie(tn,n)}function Gb(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(U(108,jN(t)||"Unknown",i));return $e({},n,r)}function Fd(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Mi,Ss=Nt.current,Ie(Nt,t),Ie(tn,tn.current),!0}function Cx(t,e,n){var r=t.stateNode;if(!r)throw Error(U(169));n?(t=Gb(t,e,Ss),r.__reactInternalMemoizedMergedChildContext=t,Ae(tn),Ae(Nt),Ie(Nt,t)):Ae(tn),Ie(tn,n)}var Nr=null,Uh=!1,Ap=!1;function Kb(t){Nr===null?Nr=[t]:Nr.push(t)}function eO(t){Uh=!0,Kb(t)}function Hi(){if(!Ap&&Nr!==null){Ap=!0;var t=0,e=we;try{var n=Nr;for(we=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Nr=null,Uh=!1}catch(i){throw Nr!==null&&(Nr=Nr.slice(t+1)),vb(Xy,Hi),i}finally{we=e,Ap=!1}}return null}var yo=[],vo=0,$d=null,Vd=0,wn=[],xn=0,bs=null,Dr=1,Or="";function ns(t,e){yo[vo++]=Vd,yo[vo++]=$d,$d=t,Vd=e}function qb(t,e,n){wn[xn++]=Dr,wn[xn++]=Or,wn[xn++]=bs,bs=t;var r=Dr;t=Or;var i=32-qn(r)-1;r&=~(1<<i),n+=1;var s=32-qn(e)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Dr=1<<32-qn(e)+i|n<<i|r,Or=s+t}else Dr=1<<s|n<<i|r,Or=t}function s0(t){t.return!==null&&(ns(t,1),qb(t,1,0))}function o0(t){for(;t===$d;)$d=yo[--vo],yo[vo]=null,Vd=yo[--vo],yo[vo]=null;for(;t===bs;)bs=wn[--xn],wn[xn]=null,Or=wn[--xn],wn[xn]=null,Dr=wn[--xn],wn[xn]=null}var un=null,cn=null,De=!1,Bn=null;function Yb(t,e){var n=Cn(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function Sx(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,un=t,cn=Ti(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,un=t,cn=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=bs!==null?{id:Dr,overflow:Or}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Cn(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,un=t,cn=null,!0):!1;default:return!1}}function ng(t){return(t.mode&1)!==0&&(t.flags&128)===0}function rg(t){if(De){var e=cn;if(e){var n=e;if(!Sx(t,e)){if(ng(t))throw Error(U(418));e=Ti(n.nextSibling);var r=un;e&&Sx(t,e)?Yb(r,n):(t.flags=t.flags&-4097|2,De=!1,un=t)}}else{if(ng(t))throw Error(U(418));t.flags=t.flags&-4097|2,De=!1,un=t}}}function bx(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;un=t}function Iu(t){if(t!==un)return!1;if(!De)return bx(t),De=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Jm(t.type,t.memoizedProps)),e&&(e=cn)){if(ng(t))throw Xb(),Error(U(418));for(;e;)Yb(t,e),e=Ti(e.nextSibling)}if(bx(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(U(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){cn=Ti(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}cn=null}}else cn=un?Ti(t.stateNode.nextSibling):null;return!0}function Xb(){for(var t=cn;t;)t=Ti(t.nextSibling)}function Wo(){cn=un=null,De=!1}function a0(t){Bn===null?Bn=[t]:Bn.push(t)}var tO=ti.ReactCurrentBatchConfig;function Ha(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(U(309));var r=n.stateNode}if(!r)throw Error(U(147,t));var i=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var a=i.refs;o===null?delete a[s]:a[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error(U(284));if(!n._owner)throw Error(U(290,t))}return t}function Pu(t,e){throw t=Object.prototype.toString.call(e),Error(U(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function Tx(t){var e=t._init;return e(t._payload)}function Qb(t){function e(w,C){if(t){var E=w.deletions;E===null?(w.deletions=[C],w.flags|=16):E.push(C)}}function n(w,C){if(!t)return null;for(;C!==null;)e(w,C),C=C.sibling;return null}function r(w,C){for(w=new Map;C!==null;)C.key!==null?w.set(C.key,C):w.set(C.index,C),C=C.sibling;return w}function i(w,C){return w=Ri(w,C),w.index=0,w.sibling=null,w}function s(w,C,E){return w.index=E,t?(E=w.alternate,E!==null?(E=E.index,E<C?(w.flags|=2,C):E):(w.flags|=2,C)):(w.flags|=1048576,C)}function o(w){return t&&w.alternate===null&&(w.flags|=2),w}function a(w,C,E,R){return C===null||C.tag!==6?(C=Fp(E,w.mode,R),C.return=w,C):(C=i(C,E),C.return=w,C)}function l(w,C,E,R){var D=E.type;return D===uo?d(w,C,E.props.children,R,E.key):C!==null&&(C.elementType===D||typeof D=="object"&&D!==null&&D.$$typeof===hi&&Tx(D)===C.type)?(R=i(C,E.props),R.ref=Ha(w,C,E),R.return=w,R):(R=cd(E.type,E.key,E.props,null,w.mode,R),R.ref=Ha(w,C,E),R.return=w,R)}function c(w,C,E,R){return C===null||C.tag!==4||C.stateNode.containerInfo!==E.containerInfo||C.stateNode.implementation!==E.implementation?(C=$p(E,w.mode,R),C.return=w,C):(C=i(C,E.children||[]),C.return=w,C)}function d(w,C,E,R,D){return C===null||C.tag!==7?(C=ws(E,w.mode,R,D),C.return=w,C):(C=i(C,E),C.return=w,C)}function h(w,C,E){if(typeof C=="string"&&C!==""||typeof C=="number")return C=Fp(""+C,w.mode,E),C.return=w,C;if(typeof C=="object"&&C!==null){switch(C.$$typeof){case vu:return E=cd(C.type,C.key,C.props,null,w.mode,E),E.ref=Ha(w,null,C),E.return=w,E;case co:return C=$p(C,w.mode,E),C.return=w,C;case hi:var R=C._init;return h(w,R(C._payload),E)}if(sl(C)||Va(C))return C=ws(C,w.mode,E,null),C.return=w,C;Pu(w,C)}return null}function f(w,C,E,R){var D=C!==null?C.key:null;if(typeof E=="string"&&E!==""||typeof E=="number")return D!==null?null:a(w,C,""+E,R);if(typeof E=="object"&&E!==null){switch(E.$$typeof){case vu:return E.key===D?l(w,C,E,R):null;case co:return E.key===D?c(w,C,E,R):null;case hi:return D=E._init,f(w,C,D(E._payload),R)}if(sl(E)||Va(E))return D!==null?null:d(w,C,E,R,null);Pu(w,E)}return null}function v(w,C,E,R,D){if(typeof R=="string"&&R!==""||typeof R=="number")return w=w.get(E)||null,a(C,w,""+R,D);if(typeof R=="object"&&R!==null){switch(R.$$typeof){case vu:return w=w.get(R.key===null?E:R.key)||null,l(C,w,R,D);case co:return w=w.get(R.key===null?E:R.key)||null,c(C,w,R,D);case hi:var M=R._init;return v(w,C,E,M(R._payload),D)}if(sl(R)||Va(R))return w=w.get(E)||null,d(C,w,R,D,null);Pu(C,R)}return null}function _(w,C,E,R){for(var D=null,M=null,b=C,x=C=0,I=null;b!==null&&x<E.length;x++){b.index>x?(I=b,b=null):I=b.sibling;var g=f(w,b,E[x],R);if(g===null){b===null&&(b=I);break}t&&b&&g.alternate===null&&e(w,b),C=s(g,C,x),M===null?D=g:M.sibling=g,M=g,b=I}if(x===E.length)return n(w,b),De&&ns(w,x),D;if(b===null){for(;x<E.length;x++)b=h(w,E[x],R),b!==null&&(C=s(b,C,x),M===null?D=b:M.sibling=b,M=b);return De&&ns(w,x),D}for(b=r(w,b);x<E.length;x++)I=v(b,w,x,E[x],R),I!==null&&(t&&I.alternate!==null&&b.delete(I.key===null?x:I.key),C=s(I,C,x),M===null?D=I:M.sibling=I,M=I);return t&&b.forEach(function(A){return e(w,A)}),De&&ns(w,x),D}function S(w,C,E,R){var D=Va(E);if(typeof D!="function")throw Error(U(150));if(E=D.call(E),E==null)throw Error(U(151));for(var M=D=null,b=C,x=C=0,I=null,g=E.next();b!==null&&!g.done;x++,g=E.next()){b.index>x?(I=b,b=null):I=b.sibling;var A=f(w,b,g.value,R);if(A===null){b===null&&(b=I);break}t&&b&&A.alternate===null&&e(w,b),C=s(A,C,x),M===null?D=A:M.sibling=A,M=A,b=I}if(g.done)return n(w,b),De&&ns(w,x),D;if(b===null){for(;!g.done;x++,g=E.next())g=h(w,g.value,R),g!==null&&(C=s(g,C,x),M===null?D=g:M.sibling=g,M=g);return De&&ns(w,x),D}for(b=r(w,b);!g.done;x++,g=E.next())g=v(b,w,x,g.value,R),g!==null&&(t&&g.alternate!==null&&b.delete(g.key===null?x:g.key),C=s(g,C,x),M===null?D=g:M.sibling=g,M=g);return t&&b.forEach(function(O){return e(w,O)}),De&&ns(w,x),D}function P(w,C,E,R){if(typeof E=="object"&&E!==null&&E.type===uo&&E.key===null&&(E=E.props.children),typeof E=="object"&&E!==null){switch(E.$$typeof){case vu:e:{for(var D=E.key,M=C;M!==null;){if(M.key===D){if(D=E.type,D===uo){if(M.tag===7){n(w,M.sibling),C=i(M,E.props.children),C.return=w,w=C;break e}}else if(M.elementType===D||typeof D=="object"&&D!==null&&D.$$typeof===hi&&Tx(D)===M.type){n(w,M.sibling),C=i(M,E.props),C.ref=Ha(w,M,E),C.return=w,w=C;break e}n(w,M);break}else e(w,M);M=M.sibling}E.type===uo?(C=ws(E.props.children,w.mode,R,E.key),C.return=w,w=C):(R=cd(E.type,E.key,E.props,null,w.mode,R),R.ref=Ha(w,C,E),R.return=w,w=R)}return o(w);case co:e:{for(M=E.key;C!==null;){if(C.key===M)if(C.tag===4&&C.stateNode.containerInfo===E.containerInfo&&C.stateNode.implementation===E.implementation){n(w,C.sibling),C=i(C,E.children||[]),C.return=w,w=C;break e}else{n(w,C);break}else e(w,C);C=C.sibling}C=$p(E,w.mode,R),C.return=w,w=C}return o(w);case hi:return M=E._init,P(w,C,M(E._payload),R)}if(sl(E))return _(w,C,E,R);if(Va(E))return S(w,C,E,R);Pu(w,E)}return typeof E=="string"&&E!==""||typeof E=="number"?(E=""+E,C!==null&&C.tag===6?(n(w,C.sibling),C=i(C,E),C.return=w,w=C):(n(w,C),C=Fp(E,w.mode,R),C.return=w,w=C),o(w)):n(w,C)}return P}var Ho=Qb(!0),Jb=Qb(!1),Ud=Wi(null),Bd=null,_o=null,l0=null;function c0(){l0=_o=Bd=null}function u0(t){var e=Ud.current;Ae(Ud),t._currentValue=e}function ig(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function No(t,e){Bd=t,l0=_o=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Jt=!0),t.firstContext=null)}function In(t){var e=t._currentValue;if(l0!==t)if(t={context:t,memoizedValue:e,next:null},_o===null){if(Bd===null)throw Error(U(308));_o=t,Bd.dependencies={lanes:0,firstContext:t}}else _o=_o.next=t;return e}var hs=null;function d0(t){hs===null?hs=[t]:hs.push(t)}function Zb(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,d0(e)):(n.next=i.next,i.next=n),e.interleaved=n,Gr(t,r)}function Gr(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var fi=!1;function h0(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function eT(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Fr(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function ki(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,fe&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,Gr(t,n)}return i=r.interleaved,i===null?(e.next=e,d0(r)):(e.next=i.next,i.next=e),r.interleaved=e,Gr(t,n)}function rd(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Qy(t,n)}}function kx(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function zd(t,e,n,r){var i=t.updateQueue;fi=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,c=l.next;l.next=null,o===null?s=c:o.next=c,o=l;var d=t.alternate;d!==null&&(d=d.updateQueue,a=d.lastBaseUpdate,a!==o&&(a===null?d.firstBaseUpdate=c:a.next=c,d.lastBaseUpdate=l))}if(s!==null){var h=i.baseState;o=0,d=c=l=null,a=s;do{var f=a.lane,v=a.eventTime;if((r&f)===f){d!==null&&(d=d.next={eventTime:v,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var _=t,S=a;switch(f=e,v=n,S.tag){case 1:if(_=S.payload,typeof _=="function"){h=_.call(v,h,f);break e}h=_;break e;case 3:_.flags=_.flags&-65537|128;case 0:if(_=S.payload,f=typeof _=="function"?_.call(v,h,f):_,f==null)break e;h=$e({},h,f);break e;case 2:fi=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,f=i.effects,f===null?i.effects=[a]:f.push(a))}else v={eventTime:v,lane:f,tag:a.tag,payload:a.payload,callback:a.callback,next:null},d===null?(c=d=v,l=h):d=d.next=v,o|=f;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;f=a,a=f.next,f.next=null,i.lastBaseUpdate=f,i.shared.pending=null}}while(1);if(d===null&&(l=h),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=d,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);ks|=o,t.lanes=o,t.memoizedState=h}}function Ix(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(U(191,i));i.call(r)}}}var Nc={},hr=Wi(Nc),Yl=Wi(Nc),Xl=Wi(Nc);function fs(t){if(t===Nc)throw Error(U(174));return t}function f0(t,e){switch(Ie(Xl,e),Ie(Yl,t),Ie(hr,Nc),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Fm(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Fm(e,t)}Ae(hr),Ie(hr,e)}function Go(){Ae(hr),Ae(Yl),Ae(Xl)}function tT(t){fs(Xl.current);var e=fs(hr.current),n=Fm(e,t.type);e!==n&&(Ie(Yl,t),Ie(hr,n))}function p0(t){Yl.current===t&&(Ae(hr),Ae(Yl))}var Me=Wi(0);function Wd(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Np=[];function m0(){for(var t=0;t<Np.length;t++)Np[t]._workInProgressVersionPrimary=null;Np.length=0}var id=ti.ReactCurrentDispatcher,Dp=ti.ReactCurrentBatchConfig,Ts=0,je=null,et=null,lt=null,Hd=!1,_l=!1,Ql=0,nO=0;function St(){throw Error(U(321))}function g0(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Jn(t[n],e[n]))return!1;return!0}function y0(t,e,n,r,i,s){if(Ts=s,je=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,id.current=t===null||t.memoizedState===null?oO:aO,t=n(r,i),_l){s=0;do{if(_l=!1,Ql=0,25<=s)throw Error(U(301));s+=1,lt=et=null,e.updateQueue=null,id.current=lO,t=n(r,i)}while(_l)}if(id.current=Gd,e=et!==null&&et.next!==null,Ts=0,lt=et=je=null,Hd=!1,e)throw Error(U(300));return t}function v0(){var t=Ql!==0;return Ql=0,t}function sr(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return lt===null?je.memoizedState=lt=t:lt=lt.next=t,lt}function Pn(){if(et===null){var t=je.alternate;t=t!==null?t.memoizedState:null}else t=et.next;var e=lt===null?je.memoizedState:lt.next;if(e!==null)lt=e,et=t;else{if(t===null)throw Error(U(310));et=t,t={memoizedState:et.memoizedState,baseState:et.baseState,baseQueue:et.baseQueue,queue:et.queue,next:null},lt===null?je.memoizedState=lt=t:lt=lt.next=t}return lt}function Jl(t,e){return typeof e=="function"?e(t):e}function Op(t){var e=Pn(),n=e.queue;if(n===null)throw Error(U(311));n.lastRenderedReducer=t;var r=et,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var a=o=null,l=null,c=s;do{var d=c.lane;if((Ts&d)===d)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:t(r,c.action);else{var h={lane:d,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(a=l=h,o=r):l=l.next=h,je.lanes|=d,ks|=d}c=c.next}while(c!==null&&c!==s);l===null?o=r:l.next=a,Jn(r,e.memoizedState)||(Jt=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do s=i.lane,je.lanes|=s,ks|=s,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Mp(t){var e=Pn(),n=e.queue;if(n===null)throw Error(U(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=t(s,o.action),o=o.next;while(o!==i);Jn(s,e.memoizedState)||(Jt=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function nT(){}function rT(t,e){var n=je,r=Pn(),i=e(),s=!Jn(r.memoizedState,i);if(s&&(r.memoizedState=i,Jt=!0),r=r.queue,_0(oT.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||lt!==null&&lt.memoizedState.tag&1){if(n.flags|=2048,Zl(9,sT.bind(null,n,r,i,e),void 0,null),ut===null)throw Error(U(349));Ts&30||iT(n,e,i)}return i}function iT(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=je.updateQueue,e===null?(e={lastEffect:null,stores:null},je.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function sT(t,e,n,r){e.value=n,e.getSnapshot=r,aT(e)&&lT(t)}function oT(t,e,n){return n(function(){aT(e)&&lT(t)})}function aT(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Jn(t,n)}catch{return!0}}function lT(t){var e=Gr(t,1);e!==null&&Yn(e,t,1,-1)}function Px(t){var e=sr();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Jl,lastRenderedState:t},e.queue=t,t=t.dispatch=sO.bind(null,je,t),[e.memoizedState,t]}function Zl(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=je.updateQueue,e===null?(e={lastEffect:null,stores:null},je.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function cT(){return Pn().memoizedState}function sd(t,e,n,r){var i=sr();je.flags|=t,i.memoizedState=Zl(1|e,n,void 0,r===void 0?null:r)}function Bh(t,e,n,r){var i=Pn();r=r===void 0?null:r;var s=void 0;if(et!==null){var o=et.memoizedState;if(s=o.destroy,r!==null&&g0(r,o.deps)){i.memoizedState=Zl(e,n,s,r);return}}je.flags|=t,i.memoizedState=Zl(1|e,n,s,r)}function Rx(t,e){return sd(8390656,8,t,e)}function _0(t,e){return Bh(2048,8,t,e)}function uT(t,e){return Bh(4,2,t,e)}function dT(t,e){return Bh(4,4,t,e)}function hT(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function fT(t,e,n){return n=n!=null?n.concat([t]):null,Bh(4,4,hT.bind(null,e,t),n)}function w0(){}function pT(t,e){var n=Pn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&g0(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function mT(t,e){var n=Pn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&g0(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function gT(t,e,n){return Ts&21?(Jn(n,e)||(n=xb(),je.lanes|=n,ks|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Jt=!0),t.memoizedState=n)}function rO(t,e){var n=we;we=n!==0&&4>n?n:4,t(!0);var r=Dp.transition;Dp.transition={};try{t(!1),e()}finally{we=n,Dp.transition=r}}function yT(){return Pn().memoizedState}function iO(t,e,n){var r=Pi(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},vT(t))_T(e,n);else if(n=Zb(t,e,n,r),n!==null){var i=Ut();Yn(n,t,r,i),wT(n,e,r)}}function sO(t,e,n){var r=Pi(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(vT(t))_T(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,n);if(i.hasEagerState=!0,i.eagerState=a,Jn(a,o)){var l=e.interleaved;l===null?(i.next=i,d0(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=Zb(t,e,i,r),n!==null&&(i=Ut(),Yn(n,t,r,i),wT(n,e,r))}}function vT(t){var e=t.alternate;return t===je||e!==null&&e===je}function _T(t,e){_l=Hd=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function wT(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Qy(t,n)}}var Gd={readContext:In,useCallback:St,useContext:St,useEffect:St,useImperativeHandle:St,useInsertionEffect:St,useLayoutEffect:St,useMemo:St,useReducer:St,useRef:St,useState:St,useDebugValue:St,useDeferredValue:St,useTransition:St,useMutableSource:St,useSyncExternalStore:St,useId:St,unstable_isNewReconciler:!1},oO={readContext:In,useCallback:function(t,e){return sr().memoizedState=[t,e===void 0?null:e],t},useContext:In,useEffect:Rx,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,sd(4194308,4,hT.bind(null,e,t),n)},useLayoutEffect:function(t,e){return sd(4194308,4,t,e)},useInsertionEffect:function(t,e){return sd(4,2,t,e)},useMemo:function(t,e){var n=sr();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=sr();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=iO.bind(null,je,t),[r.memoizedState,t]},useRef:function(t){var e=sr();return t={current:t},e.memoizedState=t},useState:Px,useDebugValue:w0,useDeferredValue:function(t){return sr().memoizedState=t},useTransition:function(){var t=Px(!1),e=t[0];return t=rO.bind(null,t[1]),sr().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=je,i=sr();if(De){if(n===void 0)throw Error(U(407));n=n()}else{if(n=e(),ut===null)throw Error(U(349));Ts&30||iT(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,Rx(oT.bind(null,r,s,t),[t]),r.flags|=2048,Zl(9,sT.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=sr(),e=ut.identifierPrefix;if(De){var n=Or,r=Dr;n=(r&~(1<<32-qn(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Ql++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=nO++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},aO={readContext:In,useCallback:pT,useContext:In,useEffect:_0,useImperativeHandle:fT,useInsertionEffect:uT,useLayoutEffect:dT,useMemo:mT,useReducer:Op,useRef:cT,useState:function(){return Op(Jl)},useDebugValue:w0,useDeferredValue:function(t){var e=Pn();return gT(e,et.memoizedState,t)},useTransition:function(){var t=Op(Jl)[0],e=Pn().memoizedState;return[t,e]},useMutableSource:nT,useSyncExternalStore:rT,useId:yT,unstable_isNewReconciler:!1},lO={readContext:In,useCallback:pT,useContext:In,useEffect:_0,useImperativeHandle:fT,useInsertionEffect:uT,useLayoutEffect:dT,useMemo:mT,useReducer:Mp,useRef:cT,useState:function(){return Mp(Jl)},useDebugValue:w0,useDeferredValue:function(t){var e=Pn();return et===null?e.memoizedState=t:gT(e,et.memoizedState,t)},useTransition:function(){var t=Mp(Jl)[0],e=Pn().memoizedState;return[t,e]},useMutableSource:nT,useSyncExternalStore:rT,useId:yT,unstable_isNewReconciler:!1};function $n(t,e){if(t&&t.defaultProps){e=$e({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function sg(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:$e({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var zh={isMounted:function(t){return(t=t._reactInternals)?Vs(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Ut(),i=Pi(t),s=Fr(r,i);s.payload=e,n!=null&&(s.callback=n),e=ki(t,s,i),e!==null&&(Yn(e,t,i,r),rd(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Ut(),i=Pi(t),s=Fr(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=ki(t,s,i),e!==null&&(Yn(e,t,i,r),rd(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Ut(),r=Pi(t),i=Fr(n,r);i.tag=2,e!=null&&(i.callback=e),e=ki(t,i,r),e!==null&&(Yn(e,t,r,n),rd(e,t,r))}};function Ax(t,e,n,r,i,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!Hl(n,r)||!Hl(i,s):!0}function xT(t,e,n){var r=!1,i=Mi,s=e.contextType;return typeof s=="object"&&s!==null?s=In(s):(i=nn(e)?Ss:Nt.current,r=e.contextTypes,s=(r=r!=null)?zo(t,i):Mi),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=zh,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function Nx(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&zh.enqueueReplaceState(e,e.state,null)}function og(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},h0(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=In(s):(s=nn(e)?Ss:Nt.current,i.context=zo(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(sg(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&zh.enqueueReplaceState(i,i.state,null),zd(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function Ko(t,e){try{var n="",r=e;do n+=LN(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function Lp(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function ag(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var cO=typeof WeakMap=="function"?WeakMap:Map;function ET(t,e,n){n=Fr(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){qd||(qd=!0,yg=r),ag(t,e)},n}function CT(t,e,n){n=Fr(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){ag(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){ag(t,e),typeof r!="function"&&(Ii===null?Ii=new Set([this]):Ii.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function Dx(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new cO;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=CO.bind(null,t,e,n),e.then(t,t))}function Ox(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function Mx(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Fr(-1,1),e.tag=2,ki(n,e,1))),n.lanes|=1),t)}var uO=ti.ReactCurrentOwner,Jt=!1;function Mt(t,e,n,r){e.child=t===null?Jb(e,null,n,r):Ho(e,t.child,n,r)}function Lx(t,e,n,r,i){n=n.render;var s=e.ref;return No(e,i),r=y0(t,e,n,r,s,i),n=v0(),t!==null&&!Jt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Kr(t,e,i)):(De&&n&&s0(e),e.flags|=1,Mt(t,e,r,i),e.child)}function jx(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!I0(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,ST(t,e,s,r,i)):(t=cd(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:Hl,n(o,r)&&t.ref===e.ref)return Kr(t,e,i)}return e.flags|=1,t=Ri(s,r),t.ref=e.ref,t.return=e,e.child=t}function ST(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if(Hl(s,r)&&t.ref===e.ref)if(Jt=!1,e.pendingProps=r=s,(t.lanes&i)!==0)t.flags&131072&&(Jt=!0);else return e.lanes=t.lanes,Kr(t,e,i)}return lg(t,e,n,r,i)}function bT(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ie(xo,an),an|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Ie(xo,an),an|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,Ie(xo,an),an|=r}else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,Ie(xo,an),an|=r;return Mt(t,e,i,n),e.child}function TT(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function lg(t,e,n,r,i){var s=nn(n)?Ss:Nt.current;return s=zo(e,s),No(e,i),n=y0(t,e,n,r,s,i),r=v0(),t!==null&&!Jt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Kr(t,e,i)):(De&&r&&s0(e),e.flags|=1,Mt(t,e,n,i),e.child)}function Fx(t,e,n,r,i){if(nn(n)){var s=!0;Fd(e)}else s=!1;if(No(e,i),e.stateNode===null)od(t,e),xT(e,n,r),og(e,n,r,i),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,c=n.contextType;typeof c=="object"&&c!==null?c=In(c):(c=nn(n)?Ss:Nt.current,c=zo(e,c));var d=n.getDerivedStateFromProps,h=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==c)&&Nx(e,o,r,c),fi=!1;var f=e.memoizedState;o.state=f,zd(e,r,o,i),l=e.memoizedState,a!==r||f!==l||tn.current||fi?(typeof d=="function"&&(sg(e,n,d,r),l=e.memoizedState),(a=fi||Ax(e,n,a,r,f,l,c))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=c,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,eT(t,e),a=e.memoizedProps,c=e.type===e.elementType?a:$n(e.type,a),o.props=c,h=e.pendingProps,f=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=In(l):(l=nn(n)?Ss:Nt.current,l=zo(e,l));var v=n.getDerivedStateFromProps;(d=typeof v=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==h||f!==l)&&Nx(e,o,r,l),fi=!1,f=e.memoizedState,o.state=f,zd(e,r,o,i);var _=e.memoizedState;a!==h||f!==_||tn.current||fi?(typeof v=="function"&&(sg(e,n,v,r),_=e.memoizedState),(c=fi||Ax(e,n,c,r,f,_,l)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,_,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,_,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=_),o.props=r,o.state=_,o.context=l,r=c):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),r=!1)}return cg(t,e,n,r,s,i)}function cg(t,e,n,r,i,s){TT(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&Cx(e,n,!1),Kr(t,e,s);r=e.stateNode,uO.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=Ho(e,t.child,null,s),e.child=Ho(e,null,a,s)):Mt(t,e,a,s),e.memoizedState=r.state,i&&Cx(e,n,!0),e.child}function kT(t){var e=t.stateNode;e.pendingContext?Ex(t,e.pendingContext,e.pendingContext!==e.context):e.context&&Ex(t,e.context,!1),f0(t,e.containerInfo)}function $x(t,e,n,r,i){return Wo(),a0(i),e.flags|=256,Mt(t,e,n,r),e.child}var ug={dehydrated:null,treeContext:null,retryLane:0};function dg(t){return{baseLanes:t,cachePool:null,transitions:null}}function IT(t,e,n){var r=e.pendingProps,i=Me.current,s=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),Ie(Me,i&1),t===null)return rg(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,s?(r=e.mode,s=e.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=Gh(o,r,0,null),t=ws(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=dg(n),e.memoizedState=ug,t):x0(e,o));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return dO(t,e,o,r,a,i,n);if(s){s=r.fallback,o=e.mode,i=t.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=Ri(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=Ri(a,s):(s=ws(s,o,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,o=t.child.memoizedState,o=o===null?dg(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~n,e.memoizedState=ug,r}return s=t.child,t=s.sibling,r=Ri(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function x0(t,e){return e=Gh({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Ru(t,e,n,r){return r!==null&&a0(r),Ho(e,t.child,null,n),t=x0(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function dO(t,e,n,r,i,s,o){if(n)return e.flags&256?(e.flags&=-257,r=Lp(Error(U(422))),Ru(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=Gh({mode:"visible",children:r.children},i,0,null),s=ws(s,i,o,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&Ho(e,t.child,null,o),e.child.memoizedState=dg(o),e.memoizedState=ug,s);if(!(e.mode&1))return Ru(t,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,s=Error(U(419)),r=Lp(s,r,void 0),Ru(t,e,o,r)}if(a=(o&t.childLanes)!==0,Jt||a){if(r=ut,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,Gr(t,i),Yn(r,t,i,-1))}return k0(),r=Lp(Error(U(421))),Ru(t,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=SO.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,cn=Ti(i.nextSibling),un=e,De=!0,Bn=null,t!==null&&(wn[xn++]=Dr,wn[xn++]=Or,wn[xn++]=bs,Dr=t.id,Or=t.overflow,bs=e),e=x0(e,r.children),e.flags|=4096,e)}function Vx(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),ig(t.return,e,n)}function jp(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function PT(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(Mt(t,e,r.children,n),r=Me.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Vx(t,n,e);else if(t.tag===19)Vx(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Ie(Me,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&Wd(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),jp(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&Wd(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}jp(e,!0,n,null,s);break;case"together":jp(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function od(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Kr(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),ks|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(U(153));if(e.child!==null){for(t=e.child,n=Ri(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Ri(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function hO(t,e,n){switch(e.tag){case 3:kT(e),Wo();break;case 5:tT(e);break;case 1:nn(e.type)&&Fd(e);break;case 4:f0(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;Ie(Ud,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Ie(Me,Me.current&1),e.flags|=128,null):n&e.child.childLanes?IT(t,e,n):(Ie(Me,Me.current&1),t=Kr(t,e,n),t!==null?t.sibling:null);Ie(Me,Me.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return PT(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ie(Me,Me.current),r)break;return null;case 22:case 23:return e.lanes=0,bT(t,e,n)}return Kr(t,e,n)}var RT,hg,AT,NT;RT=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};hg=function(){};AT=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,fs(hr.current);var s=null;switch(n){case"input":i=Om(t,i),r=Om(t,r),s=[];break;case"select":i=$e({},i,{value:void 0}),r=$e({},r,{value:void 0}),s=[];break;case"textarea":i=jm(t,i),r=jm(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Ld)}$m(n,r);var o;n=null;for(c in i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&i[c]!=null)if(c==="style"){var a=i[c];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(Fl.hasOwnProperty(c)?s||(s=[]):(s=s||[]).push(c,null));for(c in r){var l=r[c];if(a=i!=null?i[c]:void 0,r.hasOwnProperty(c)&&l!==a&&(l!=null||a!=null))if(c==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(s||(s=[]),s.push(c,n)),n=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(Fl.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&Re("scroll",t),s||a===l||(s=[])):(s=s||[]).push(c,l))}n&&(s=s||[]).push("style",n);var c=s;(e.updateQueue=c)&&(e.flags|=4)}};NT=function(t,e,n,r){n!==r&&(e.flags|=4)};function Ga(t,e){if(!De)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function bt(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function fO(t,e,n){var r=e.pendingProps;switch(o0(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return bt(e),null;case 1:return nn(e.type)&&jd(),bt(e),null;case 3:return r=e.stateNode,Go(),Ae(tn),Ae(Nt),m0(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Iu(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Bn!==null&&(wg(Bn),Bn=null))),hg(t,e),bt(e),null;case 5:p0(e);var i=fs(Xl.current);if(n=e.type,t!==null&&e.stateNode!=null)AT(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(U(166));return bt(e),null}if(t=fs(hr.current),Iu(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[lr]=e,r[ql]=s,t=(e.mode&1)!==0,n){case"dialog":Re("cancel",r),Re("close",r);break;case"iframe":case"object":case"embed":Re("load",r);break;case"video":case"audio":for(i=0;i<al.length;i++)Re(al[i],r);break;case"source":Re("error",r);break;case"img":case"image":case"link":Re("error",r),Re("load",r);break;case"details":Re("toggle",r);break;case"input":Yw(r,s),Re("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},Re("invalid",r);break;case"textarea":Qw(r,s),Re("invalid",r)}$m(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?r.textContent!==a&&(s.suppressHydrationWarning!==!0&&ku(r.textContent,a,t),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&ku(r.textContent,a,t),i=["children",""+a]):Fl.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&Re("scroll",r)}switch(n){case"input":_u(r),Xw(r,s,!0);break;case"textarea":_u(r),Jw(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=Ld)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=ob(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[lr]=e,t[ql]=r,RT(t,e,!1,!1),e.stateNode=t;e:{switch(o=Vm(n,r),n){case"dialog":Re("cancel",t),Re("close",t),i=r;break;case"iframe":case"object":case"embed":Re("load",t),i=r;break;case"video":case"audio":for(i=0;i<al.length;i++)Re(al[i],t);i=r;break;case"source":Re("error",t),i=r;break;case"img":case"image":case"link":Re("error",t),Re("load",t),i=r;break;case"details":Re("toggle",t),i=r;break;case"input":Yw(t,r),i=Om(t,r),Re("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=$e({},r,{value:void 0}),Re("invalid",t);break;case"textarea":Qw(t,r),i=jm(t,r),Re("invalid",t);break;default:i=r}$m(n,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?cb(t,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&ab(t,l)):s==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&$l(t,l):typeof l=="number"&&$l(t,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(Fl.hasOwnProperty(s)?l!=null&&s==="onScroll"&&Re("scroll",t):l!=null&&Hy(t,s,l,o))}switch(n){case"input":_u(t),Xw(t,r,!1);break;case"textarea":_u(t),Jw(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Oi(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?Io(t,!!r.multiple,s,!1):r.defaultValue!=null&&Io(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=Ld)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return bt(e),null;case 6:if(t&&e.stateNode!=null)NT(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(U(166));if(n=fs(Xl.current),fs(hr.current),Iu(e)){if(r=e.stateNode,n=e.memoizedProps,r[lr]=e,(s=r.nodeValue!==n)&&(t=un,t!==null))switch(t.tag){case 3:ku(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&ku(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[lr]=e,e.stateNode=r}return bt(e),null;case 13:if(Ae(Me),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(De&&cn!==null&&e.mode&1&&!(e.flags&128))Xb(),Wo(),e.flags|=98560,s=!1;else if(s=Iu(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error(U(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(U(317));s[lr]=e}else Wo(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;bt(e),s=!1}else Bn!==null&&(wg(Bn),Bn=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||Me.current&1?rt===0&&(rt=3):k0())),e.updateQueue!==null&&(e.flags|=4),bt(e),null);case 4:return Go(),hg(t,e),t===null&&Gl(e.stateNode.containerInfo),bt(e),null;case 10:return u0(e.type._context),bt(e),null;case 17:return nn(e.type)&&jd(),bt(e),null;case 19:if(Ae(Me),s=e.memoizedState,s===null)return bt(e),null;if(r=(e.flags&128)!==0,o=s.rendering,o===null)if(r)Ga(s,!1);else{if(rt!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=Wd(t),o!==null){for(e.flags|=128,Ga(s,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Ie(Me,Me.current&1|2),e.child}t=t.sibling}s.tail!==null&&Ye()>qo&&(e.flags|=128,r=!0,Ga(s,!1),e.lanes=4194304)}else{if(!r)if(t=Wd(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Ga(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!De)return bt(e),null}else 2*Ye()-s.renderingStartTime>qo&&n!==1073741824&&(e.flags|=128,r=!0,Ga(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(n=s.last,n!==null?n.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=Ye(),e.sibling=null,n=Me.current,Ie(Me,r?n&1|2:n&1),e):(bt(e),null);case 22:case 23:return T0(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?an&1073741824&&(bt(e),e.subtreeFlags&6&&(e.flags|=8192)):bt(e),null;case 24:return null;case 25:return null}throw Error(U(156,e.tag))}function pO(t,e){switch(o0(e),e.tag){case 1:return nn(e.type)&&jd(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Go(),Ae(tn),Ae(Nt),m0(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return p0(e),null;case 13:if(Ae(Me),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(U(340));Wo()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Ae(Me),null;case 4:return Go(),null;case 10:return u0(e.type._context),null;case 22:case 23:return T0(),null;case 24:return null;default:return null}}var Au=!1,It=!1,mO=typeof WeakSet=="function"?WeakSet:Set,H=null;function wo(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){We(t,e,r)}else n.current=null}function fg(t,e,n){try{n()}catch(r){We(t,e,r)}}var Ux=!1;function gO(t,e){if(Xm=Dd,t=jb(),i0(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,c=0,d=0,h=t,f=null;t:for(;;){for(var v;h!==n||i!==0&&h.nodeType!==3||(a=o+i),h!==s||r!==0&&h.nodeType!==3||(l=o+r),h.nodeType===3&&(o+=h.nodeValue.length),(v=h.firstChild)!==null;)f=h,h=v;for(;;){if(h===t)break t;if(f===n&&++c===i&&(a=o),f===s&&++d===r&&(l=o),(v=h.nextSibling)!==null)break;h=f,f=h.parentNode}h=v}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(Qm={focusedElem:t,selectionRange:n},Dd=!1,H=e;H!==null;)if(e=H,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,H=t;else for(;H!==null;){e=H;try{var _=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(_!==null){var S=_.memoizedProps,P=_.memoizedState,w=e.stateNode,C=w.getSnapshotBeforeUpdate(e.elementType===e.type?S:$n(e.type,S),P);w.__reactInternalSnapshotBeforeUpdate=C}break;case 3:var E=e.stateNode.containerInfo;E.nodeType===1?E.textContent="":E.nodeType===9&&E.documentElement&&E.removeChild(E.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(U(163))}}catch(R){We(e,e.return,R)}if(t=e.sibling,t!==null){t.return=e.return,H=t;break}H=e.return}return _=Ux,Ux=!1,_}function wl(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&fg(e,n,s)}i=i.next}while(i!==r)}}function Wh(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function pg(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function DT(t){var e=t.alternate;e!==null&&(t.alternate=null,DT(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[lr],delete e[ql],delete e[eg],delete e[JD],delete e[ZD])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function OT(t){return t.tag===5||t.tag===3||t.tag===4}function Bx(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||OT(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function mg(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Ld));else if(r!==4&&(t=t.child,t!==null))for(mg(t,e,n),t=t.sibling;t!==null;)mg(t,e,n),t=t.sibling}function gg(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(gg(t,e,n),t=t.sibling;t!==null;)gg(t,e,n),t=t.sibling}var pt=null,Vn=!1;function ci(t,e,n){for(n=n.child;n!==null;)MT(t,e,n),n=n.sibling}function MT(t,e,n){if(dr&&typeof dr.onCommitFiberUnmount=="function")try{dr.onCommitFiberUnmount(Lh,n)}catch{}switch(n.tag){case 5:It||wo(n,e);case 6:var r=pt,i=Vn;pt=null,ci(t,e,n),pt=r,Vn=i,pt!==null&&(Vn?(t=pt,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):pt.removeChild(n.stateNode));break;case 18:pt!==null&&(Vn?(t=pt,n=n.stateNode,t.nodeType===8?Rp(t.parentNode,n):t.nodeType===1&&Rp(t,n),zl(t)):Rp(pt,n.stateNode));break;case 4:r=pt,i=Vn,pt=n.stateNode.containerInfo,Vn=!0,ci(t,e,n),pt=r,Vn=i;break;case 0:case 11:case 14:case 15:if(!It&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&fg(n,e,o),i=i.next}while(i!==r)}ci(t,e,n);break;case 1:if(!It&&(wo(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){We(n,e,a)}ci(t,e,n);break;case 21:ci(t,e,n);break;case 22:n.mode&1?(It=(r=It)||n.memoizedState!==null,ci(t,e,n),It=r):ci(t,e,n);break;default:ci(t,e,n)}}function zx(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new mO),e.forEach(function(r){var i=bO.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function jn(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:pt=a.stateNode,Vn=!1;break e;case 3:pt=a.stateNode.containerInfo,Vn=!0;break e;case 4:pt=a.stateNode.containerInfo,Vn=!0;break e}a=a.return}if(pt===null)throw Error(U(160));MT(s,o,i),pt=null,Vn=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(c){We(i,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)LT(e,t),e=e.sibling}function LT(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(jn(e,t),rr(t),r&4){try{wl(3,t,t.return),Wh(3,t)}catch(S){We(t,t.return,S)}try{wl(5,t,t.return)}catch(S){We(t,t.return,S)}}break;case 1:jn(e,t),rr(t),r&512&&n!==null&&wo(n,n.return);break;case 5:if(jn(e,t),rr(t),r&512&&n!==null&&wo(n,n.return),t.flags&32){var i=t.stateNode;try{$l(i,"")}catch(S){We(t,t.return,S)}}if(r&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,o=n!==null?n.memoizedProps:s,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&ib(i,s),Vm(a,o);var c=Vm(a,s);for(o=0;o<l.length;o+=2){var d=l[o],h=l[o+1];d==="style"?cb(i,h):d==="dangerouslySetInnerHTML"?ab(i,h):d==="children"?$l(i,h):Hy(i,d,h,c)}switch(a){case"input":Mm(i,s);break;case"textarea":sb(i,s);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var v=s.value;v!=null?Io(i,!!s.multiple,v,!1):f!==!!s.multiple&&(s.defaultValue!=null?Io(i,!!s.multiple,s.defaultValue,!0):Io(i,!!s.multiple,s.multiple?[]:"",!1))}i[ql]=s}catch(S){We(t,t.return,S)}}break;case 6:if(jn(e,t),rr(t),r&4){if(t.stateNode===null)throw Error(U(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(S){We(t,t.return,S)}}break;case 3:if(jn(e,t),rr(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{zl(e.containerInfo)}catch(S){We(t,t.return,S)}break;case 4:jn(e,t),rr(t);break;case 13:jn(e,t),rr(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(S0=Ye())),r&4&&zx(t);break;case 22:if(d=n!==null&&n.memoizedState!==null,t.mode&1?(It=(c=It)||d,jn(e,t),It=c):jn(e,t),rr(t),r&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!d&&t.mode&1)for(H=t,d=t.child;d!==null;){for(h=H=d;H!==null;){switch(f=H,v=f.child,f.tag){case 0:case 11:case 14:case 15:wl(4,f,f.return);break;case 1:wo(f,f.return);var _=f.stateNode;if(typeof _.componentWillUnmount=="function"){r=f,n=f.return;try{e=r,_.props=e.memoizedProps,_.state=e.memoizedState,_.componentWillUnmount()}catch(S){We(r,n,S)}}break;case 5:wo(f,f.return);break;case 22:if(f.memoizedState!==null){Hx(h);continue}}v!==null?(v.return=f,H=v):Hx(h)}d=d.sibling}e:for(d=null,h=t;;){if(h.tag===5){if(d===null){d=h;try{i=h.stateNode,c?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=h.stateNode,l=h.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=lb("display",o))}catch(S){We(t,t.return,S)}}}else if(h.tag===6){if(d===null)try{h.stateNode.nodeValue=c?"":h.memoizedProps}catch(S){We(t,t.return,S)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===t)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===t)break e;for(;h.sibling===null;){if(h.return===null||h.return===t)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:jn(e,t),rr(t),r&4&&zx(t);break;case 21:break;default:jn(e,t),rr(t)}}function rr(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(OT(n)){var r=n;break e}n=n.return}throw Error(U(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&($l(i,""),r.flags&=-33);var s=Bx(t);gg(t,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,a=Bx(t);mg(t,a,o);break;default:throw Error(U(161))}}catch(l){We(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function yO(t,e,n){H=t,jT(t)}function jT(t,e,n){for(var r=(t.mode&1)!==0;H!==null;){var i=H,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||Au;if(!o){var a=i.alternate,l=a!==null&&a.memoizedState!==null||It;a=Au;var c=It;if(Au=o,(It=l)&&!c)for(H=i;H!==null;)o=H,l=o.child,o.tag===22&&o.memoizedState!==null?Gx(i):l!==null?(l.return=o,H=l):Gx(i);for(;s!==null;)H=s,jT(s),s=s.sibling;H=i,Au=a,It=c}Wx(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,H=s):Wx(t)}}function Wx(t){for(;H!==null;){var e=H;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:It||Wh(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!It)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:$n(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&Ix(e,s,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}Ix(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var d=c.memoizedState;if(d!==null){var h=d.dehydrated;h!==null&&zl(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(U(163))}It||e.flags&512&&pg(e)}catch(f){We(e,e.return,f)}}if(e===t){H=null;break}if(n=e.sibling,n!==null){n.return=e.return,H=n;break}H=e.return}}function Hx(t){for(;H!==null;){var e=H;if(e===t){H=null;break}var n=e.sibling;if(n!==null){n.return=e.return,H=n;break}H=e.return}}function Gx(t){for(;H!==null;){var e=H;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Wh(4,e)}catch(l){We(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){We(e,i,l)}}var s=e.return;try{pg(e)}catch(l){We(e,s,l)}break;case 5:var o=e.return;try{pg(e)}catch(l){We(e,o,l)}}}catch(l){We(e,e.return,l)}if(e===t){H=null;break}var a=e.sibling;if(a!==null){a.return=e.return,H=a;break}H=e.return}}var vO=Math.ceil,Kd=ti.ReactCurrentDispatcher,E0=ti.ReactCurrentOwner,bn=ti.ReactCurrentBatchConfig,fe=0,ut=null,Ze=null,vt=0,an=0,xo=Wi(0),rt=0,ec=null,ks=0,Hh=0,C0=0,xl=null,Yt=null,S0=0,qo=1/0,Rr=null,qd=!1,yg=null,Ii=null,Nu=!1,xi=null,Yd=0,El=0,vg=null,ad=-1,ld=0;function Ut(){return fe&6?Ye():ad!==-1?ad:ad=Ye()}function Pi(t){return t.mode&1?fe&2&&vt!==0?vt&-vt:tO.transition!==null?(ld===0&&(ld=xb()),ld):(t=we,t!==0||(t=window.event,t=t===void 0?16:Ib(t.type)),t):1}function Yn(t,e,n,r){if(50<El)throw El=0,vg=null,Error(U(185));Pc(t,n,r),(!(fe&2)||t!==ut)&&(t===ut&&(!(fe&2)&&(Hh|=n),rt===4&&mi(t,vt)),rn(t,r),n===1&&fe===0&&!(e.mode&1)&&(qo=Ye()+500,Uh&&Hi()))}function rn(t,e){var n=t.callbackNode;tD(t,e);var r=Nd(t,t===ut?vt:0);if(r===0)n!==null&&tx(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&tx(n),e===1)t.tag===0?eO(Kx.bind(null,t)):Kb(Kx.bind(null,t)),XD(function(){!(fe&6)&&Hi()}),n=null;else{switch(Eb(r)){case 1:n=Xy;break;case 4:n=_b;break;case 16:n=Ad;break;case 536870912:n=wb;break;default:n=Ad}n=HT(n,FT.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function FT(t,e){if(ad=-1,ld=0,fe&6)throw Error(U(327));var n=t.callbackNode;if(Do()&&t.callbackNode!==n)return null;var r=Nd(t,t===ut?vt:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Xd(t,r);else{e=r;var i=fe;fe|=2;var s=VT();(ut!==t||vt!==e)&&(Rr=null,qo=Ye()+500,_s(t,e));do try{xO();break}catch(a){$T(t,a)}while(1);c0(),Kd.current=s,fe=i,Ze!==null?e=0:(ut=null,vt=0,e=rt)}if(e!==0){if(e===2&&(i=Hm(t),i!==0&&(r=i,e=_g(t,i))),e===1)throw n=ec,_s(t,0),mi(t,r),rn(t,Ye()),n;if(e===6)mi(t,r);else{if(i=t.current.alternate,!(r&30)&&!_O(i)&&(e=Xd(t,r),e===2&&(s=Hm(t),s!==0&&(r=s,e=_g(t,s))),e===1))throw n=ec,_s(t,0),mi(t,r),rn(t,Ye()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(U(345));case 2:rs(t,Yt,Rr);break;case 3:if(mi(t,r),(r&130023424)===r&&(e=S0+500-Ye(),10<e)){if(Nd(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){Ut(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=Zm(rs.bind(null,t,Yt,Rr),e);break}rs(t,Yt,Rr);break;case 4:if(mi(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var o=31-qn(r);s=1<<o,o=e[o],o>i&&(i=o),r&=~s}if(r=i,r=Ye()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*vO(r/1960))-r,10<r){t.timeoutHandle=Zm(rs.bind(null,t,Yt,Rr),r);break}rs(t,Yt,Rr);break;case 5:rs(t,Yt,Rr);break;default:throw Error(U(329))}}}return rn(t,Ye()),t.callbackNode===n?FT.bind(null,t):null}function _g(t,e){var n=xl;return t.current.memoizedState.isDehydrated&&(_s(t,e).flags|=256),t=Xd(t,e),t!==2&&(e=Yt,Yt=n,e!==null&&wg(e)),t}function wg(t){Yt===null?Yt=t:Yt.push.apply(Yt,t)}function _O(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!Jn(s(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function mi(t,e){for(e&=~C0,e&=~Hh,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-qn(e),r=1<<n;t[n]=-1,e&=~r}}function Kx(t){if(fe&6)throw Error(U(327));Do();var e=Nd(t,0);if(!(e&1))return rn(t,Ye()),null;var n=Xd(t,e);if(t.tag!==0&&n===2){var r=Hm(t);r!==0&&(e=r,n=_g(t,r))}if(n===1)throw n=ec,_s(t,0),mi(t,e),rn(t,Ye()),n;if(n===6)throw Error(U(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,rs(t,Yt,Rr),rn(t,Ye()),null}function b0(t,e){var n=fe;fe|=1;try{return t(e)}finally{fe=n,fe===0&&(qo=Ye()+500,Uh&&Hi())}}function Is(t){xi!==null&&xi.tag===0&&!(fe&6)&&Do();var e=fe;fe|=1;var n=bn.transition,r=we;try{if(bn.transition=null,we=1,t)return t()}finally{we=r,bn.transition=n,fe=e,!(fe&6)&&Hi()}}function T0(){an=xo.current,Ae(xo)}function _s(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,YD(n)),Ze!==null)for(n=Ze.return;n!==null;){var r=n;switch(o0(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&jd();break;case 3:Go(),Ae(tn),Ae(Nt),m0();break;case 5:p0(r);break;case 4:Go();break;case 13:Ae(Me);break;case 19:Ae(Me);break;case 10:u0(r.type._context);break;case 22:case 23:T0()}n=n.return}if(ut=t,Ze=t=Ri(t.current,null),vt=an=e,rt=0,ec=null,C0=Hh=ks=0,Yt=xl=null,hs!==null){for(e=0;e<hs.length;e++)if(n=hs[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}hs=null}return t}function $T(t,e){do{var n=Ze;try{if(c0(),id.current=Gd,Hd){for(var r=je.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Hd=!1}if(Ts=0,lt=et=je=null,_l=!1,Ql=0,E0.current=null,n===null||n.return===null){rt=1,ec=e,Ze=null;break}e:{var s=t,o=n.return,a=n,l=e;if(e=vt,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,d=a,h=d.tag;if(!(d.mode&1)&&(h===0||h===11||h===15)){var f=d.alternate;f?(d.updateQueue=f.updateQueue,d.memoizedState=f.memoizedState,d.lanes=f.lanes):(d.updateQueue=null,d.memoizedState=null)}var v=Ox(o);if(v!==null){v.flags&=-257,Mx(v,o,a,s,e),v.mode&1&&Dx(s,c,e),e=v,l=c;var _=e.updateQueue;if(_===null){var S=new Set;S.add(l),e.updateQueue=S}else _.add(l);break e}else{if(!(e&1)){Dx(s,c,e),k0();break e}l=Error(U(426))}}else if(De&&a.mode&1){var P=Ox(o);if(P!==null){!(P.flags&65536)&&(P.flags|=256),Mx(P,o,a,s,e),a0(Ko(l,a));break e}}s=l=Ko(l,a),rt!==4&&(rt=2),xl===null?xl=[s]:xl.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var w=ET(s,l,e);kx(s,w);break e;case 1:a=l;var C=s.type,E=s.stateNode;if(!(s.flags&128)&&(typeof C.getDerivedStateFromError=="function"||E!==null&&typeof E.componentDidCatch=="function"&&(Ii===null||!Ii.has(E)))){s.flags|=65536,e&=-e,s.lanes|=e;var R=CT(s,a,e);kx(s,R);break e}}s=s.return}while(s!==null)}BT(n)}catch(D){e=D,Ze===n&&n!==null&&(Ze=n=n.return);continue}break}while(1)}function VT(){var t=Kd.current;return Kd.current=Gd,t===null?Gd:t}function k0(){(rt===0||rt===3||rt===2)&&(rt=4),ut===null||!(ks&268435455)&&!(Hh&268435455)||mi(ut,vt)}function Xd(t,e){var n=fe;fe|=2;var r=VT();(ut!==t||vt!==e)&&(Rr=null,_s(t,e));do try{wO();break}catch(i){$T(t,i)}while(1);if(c0(),fe=n,Kd.current=r,Ze!==null)throw Error(U(261));return ut=null,vt=0,rt}function wO(){for(;Ze!==null;)UT(Ze)}function xO(){for(;Ze!==null&&!GN();)UT(Ze)}function UT(t){var e=WT(t.alternate,t,an);t.memoizedProps=t.pendingProps,e===null?BT(t):Ze=e,E0.current=null}function BT(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=pO(n,e),n!==null){n.flags&=32767,Ze=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{rt=6,Ze=null;return}}else if(n=fO(n,e,an),n!==null){Ze=n;return}if(e=e.sibling,e!==null){Ze=e;return}Ze=e=t}while(e!==null);rt===0&&(rt=5)}function rs(t,e,n){var r=we,i=bn.transition;try{bn.transition=null,we=1,EO(t,e,n,r)}finally{bn.transition=i,we=r}return null}function EO(t,e,n,r){do Do();while(xi!==null);if(fe&6)throw Error(U(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(U(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(nD(t,s),t===ut&&(Ze=ut=null,vt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Nu||(Nu=!0,HT(Ad,function(){return Do(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=bn.transition,bn.transition=null;var o=we;we=1;var a=fe;fe|=4,E0.current=null,gO(t,n),LT(n,t),BD(Qm),Dd=!!Xm,Qm=Xm=null,t.current=n,yO(n),KN(),fe=a,we=o,bn.transition=s}else t.current=n;if(Nu&&(Nu=!1,xi=t,Yd=i),s=t.pendingLanes,s===0&&(Ii=null),XN(n.stateNode),rn(t,Ye()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(qd)throw qd=!1,t=yg,yg=null,t;return Yd&1&&t.tag!==0&&Do(),s=t.pendingLanes,s&1?t===vg?El++:(El=0,vg=t):El=0,Hi(),null}function Do(){if(xi!==null){var t=Eb(Yd),e=bn.transition,n=we;try{if(bn.transition=null,we=16>t?16:t,xi===null)var r=!1;else{if(t=xi,xi=null,Yd=0,fe&6)throw Error(U(331));var i=fe;for(fe|=4,H=t.current;H!==null;){var s=H,o=s.child;if(H.flags&16){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var c=a[l];for(H=c;H!==null;){var d=H;switch(d.tag){case 0:case 11:case 15:wl(8,d,s)}var h=d.child;if(h!==null)h.return=d,H=h;else for(;H!==null;){d=H;var f=d.sibling,v=d.return;if(DT(d),d===c){H=null;break}if(f!==null){f.return=v,H=f;break}H=v}}}var _=s.alternate;if(_!==null){var S=_.child;if(S!==null){_.child=null;do{var P=S.sibling;S.sibling=null,S=P}while(S!==null)}}H=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,H=o;else e:for(;H!==null;){if(s=H,s.flags&2048)switch(s.tag){case 0:case 11:case 15:wl(9,s,s.return)}var w=s.sibling;if(w!==null){w.return=s.return,H=w;break e}H=s.return}}var C=t.current;for(H=C;H!==null;){o=H;var E=o.child;if(o.subtreeFlags&2064&&E!==null)E.return=o,H=E;else e:for(o=C;H!==null;){if(a=H,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Wh(9,a)}}catch(D){We(a,a.return,D)}if(a===o){H=null;break e}var R=a.sibling;if(R!==null){R.return=a.return,H=R;break e}H=a.return}}if(fe=i,Hi(),dr&&typeof dr.onPostCommitFiberRoot=="function")try{dr.onPostCommitFiberRoot(Lh,t)}catch{}r=!0}return r}finally{we=n,bn.transition=e}}return!1}function qx(t,e,n){e=Ko(n,e),e=ET(t,e,1),t=ki(t,e,1),e=Ut(),t!==null&&(Pc(t,1,e),rn(t,e))}function We(t,e,n){if(t.tag===3)qx(t,t,n);else for(;e!==null;){if(e.tag===3){qx(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Ii===null||!Ii.has(r))){t=Ko(n,t),t=CT(e,t,1),e=ki(e,t,1),t=Ut(),e!==null&&(Pc(e,1,t),rn(e,t));break}}e=e.return}}function CO(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Ut(),t.pingedLanes|=t.suspendedLanes&n,ut===t&&(vt&n)===n&&(rt===4||rt===3&&(vt&130023424)===vt&&500>Ye()-S0?_s(t,0):C0|=n),rn(t,e)}function zT(t,e){e===0&&(t.mode&1?(e=Eu,Eu<<=1,!(Eu&130023424)&&(Eu=4194304)):e=1);var n=Ut();t=Gr(t,e),t!==null&&(Pc(t,e,n),rn(t,n))}function SO(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),zT(t,n)}function bO(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(U(314))}r!==null&&r.delete(e),zT(t,n)}var WT;WT=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||tn.current)Jt=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Jt=!1,hO(t,e,n);Jt=!!(t.flags&131072)}else Jt=!1,De&&e.flags&1048576&&qb(e,Vd,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;od(t,e),t=e.pendingProps;var i=zo(e,Nt.current);No(e,n),i=y0(null,e,r,t,i,n);var s=v0();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,nn(r)?(s=!0,Fd(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,h0(e),i.updater=zh,e.stateNode=i,i._reactInternals=e,og(e,r,t,n),e=cg(null,e,r,!0,s,n)):(e.tag=0,De&&s&&s0(e),Mt(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(od(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=kO(r),t=$n(r,t),i){case 0:e=lg(null,e,r,t,n);break e;case 1:e=Fx(null,e,r,t,n);break e;case 11:e=Lx(null,e,r,t,n);break e;case 14:e=jx(null,e,r,$n(r.type,t),n);break e}throw Error(U(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:$n(r,i),lg(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:$n(r,i),Fx(t,e,r,i,n);case 3:e:{if(kT(e),t===null)throw Error(U(387));r=e.pendingProps,s=e.memoizedState,i=s.element,eT(t,e),zd(e,r,null,n);var o=e.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=Ko(Error(U(423)),e),e=$x(t,e,r,n,i);break e}else if(r!==i){i=Ko(Error(U(424)),e),e=$x(t,e,r,n,i);break e}else for(cn=Ti(e.stateNode.containerInfo.firstChild),un=e,De=!0,Bn=null,n=Jb(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Wo(),r===i){e=Kr(t,e,n);break e}Mt(t,e,r,n)}e=e.child}return e;case 5:return tT(e),t===null&&rg(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,o=i.children,Jm(r,i)?o=null:s!==null&&Jm(r,s)&&(e.flags|=32),TT(t,e),Mt(t,e,o,n),e.child;case 6:return t===null&&rg(e),null;case 13:return IT(t,e,n);case 4:return f0(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Ho(e,null,r,n):Mt(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:$n(r,i),Lx(t,e,r,i,n);case 7:return Mt(t,e,e.pendingProps,n),e.child;case 8:return Mt(t,e,e.pendingProps.children,n),e.child;case 12:return Mt(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,Ie(Ud,r._currentValue),r._currentValue=o,s!==null)if(Jn(s.value,o)){if(s.children===i.children&&!tn.current){e=Kr(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(s.tag===1){l=Fr(-1,n&-n),l.tag=2;var c=s.updateQueue;if(c!==null){c=c.shared;var d=c.pending;d===null?l.next=l:(l.next=d.next,d.next=l),c.pending=l}}s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),ig(s.return,n,e),a.lanes|=n;break}l=l.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(U(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),ig(o,n,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}Mt(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,No(e,n),i=In(i),r=r(i),e.flags|=1,Mt(t,e,r,n),e.child;case 14:return r=e.type,i=$n(r,e.pendingProps),i=$n(r.type,i),jx(t,e,r,i,n);case 15:return ST(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:$n(r,i),od(t,e),e.tag=1,nn(r)?(t=!0,Fd(e)):t=!1,No(e,n),xT(e,r,i),og(e,r,i,n),cg(null,e,r,!0,t,n);case 19:return PT(t,e,n);case 22:return bT(t,e,n)}throw Error(U(156,e.tag))};function HT(t,e){return vb(t,e)}function TO(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Cn(t,e,n,r){return new TO(t,e,n,r)}function I0(t){return t=t.prototype,!(!t||!t.isReactComponent)}function kO(t){if(typeof t=="function")return I0(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Ky)return 11;if(t===qy)return 14}return 2}function Ri(t,e){var n=t.alternate;return n===null?(n=Cn(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function cd(t,e,n,r,i,s){var o=2;if(r=t,typeof t=="function")I0(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case uo:return ws(n.children,i,s,e);case Gy:o=8,i|=8;break;case Rm:return t=Cn(12,n,e,i|2),t.elementType=Rm,t.lanes=s,t;case Am:return t=Cn(13,n,e,i),t.elementType=Am,t.lanes=s,t;case Nm:return t=Cn(19,n,e,i),t.elementType=Nm,t.lanes=s,t;case tb:return Gh(n,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case ZS:o=10;break e;case eb:o=9;break e;case Ky:o=11;break e;case qy:o=14;break e;case hi:o=16,r=null;break e}throw Error(U(130,t==null?t:typeof t,""))}return e=Cn(o,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function ws(t,e,n,r){return t=Cn(7,t,r,e),t.lanes=n,t}function Gh(t,e,n,r){return t=Cn(22,t,r,e),t.elementType=tb,t.lanes=n,t.stateNode={isHidden:!1},t}function Fp(t,e,n){return t=Cn(6,t,null,e),t.lanes=n,t}function $p(t,e,n){return e=Cn(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function IO(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=_p(0),this.expirationTimes=_p(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=_p(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function P0(t,e,n,r,i,s,o,a,l){return t=new IO(t,e,n,a,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=Cn(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},h0(s),t}function PO(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:co,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function GT(t){if(!t)return Mi;t=t._reactInternals;e:{if(Vs(t)!==t||t.tag!==1)throw Error(U(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(nn(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(U(171))}if(t.tag===1){var n=t.type;if(nn(n))return Gb(t,n,e)}return e}function KT(t,e,n,r,i,s,o,a,l){return t=P0(n,r,!0,t,i,s,o,a,l),t.context=GT(null),n=t.current,r=Ut(),i=Pi(n),s=Fr(r,i),s.callback=e??null,ki(n,s,i),t.current.lanes=i,Pc(t,i,r),rn(t,r),t}function Kh(t,e,n,r){var i=e.current,s=Ut(),o=Pi(i);return n=GT(n),e.context===null?e.context=n:e.pendingContext=n,e=Fr(s,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=ki(i,e,o),t!==null&&(Yn(t,i,o,s),rd(t,i,o)),o}function Qd(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Yx(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function R0(t,e){Yx(t,e),(t=t.alternate)&&Yx(t,e)}function RO(){return null}var qT=typeof reportError=="function"?reportError:function(t){console.error(t)};function A0(t){this._internalRoot=t}qh.prototype.render=A0.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(U(409));Kh(t,e,null,null)};qh.prototype.unmount=A0.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Is(function(){Kh(null,t,null,null)}),e[Hr]=null}};function qh(t){this._internalRoot=t}qh.prototype.unstable_scheduleHydration=function(t){if(t){var e=bb();t={blockedOn:null,target:t,priority:e};for(var n=0;n<pi.length&&e!==0&&e<pi[n].priority;n++);pi.splice(n,0,t),n===0&&kb(t)}};function N0(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Yh(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Xx(){}function AO(t,e,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var c=Qd(o);s.call(c)}}var o=KT(e,r,t,0,null,!1,!1,"",Xx);return t._reactRootContainer=o,t[Hr]=o.current,Gl(t.nodeType===8?t.parentNode:t),Is(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var c=Qd(l);a.call(c)}}var l=P0(t,0,!1,null,null,!1,!1,"",Xx);return t._reactRootContainer=l,t[Hr]=l.current,Gl(t.nodeType===8?t.parentNode:t),Is(function(){Kh(e,l,n,r)}),l}function Xh(t,e,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var l=Qd(o);a.call(l)}}Kh(e,o,t,i)}else o=AO(n,e,t,i,r);return Qd(o)}Cb=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=ol(e.pendingLanes);n!==0&&(Qy(e,n|1),rn(e,Ye()),!(fe&6)&&(qo=Ye()+500,Hi()))}break;case 13:Is(function(){var r=Gr(t,1);if(r!==null){var i=Ut();Yn(r,t,1,i)}}),R0(t,1)}};Jy=function(t){if(t.tag===13){var e=Gr(t,134217728);if(e!==null){var n=Ut();Yn(e,t,134217728,n)}R0(t,134217728)}};Sb=function(t){if(t.tag===13){var e=Pi(t),n=Gr(t,e);if(n!==null){var r=Ut();Yn(n,t,e,r)}R0(t,e)}};bb=function(){return we};Tb=function(t,e){var n=we;try{return we=t,e()}finally{we=n}};Bm=function(t,e,n){switch(e){case"input":if(Mm(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=Vh(r);if(!i)throw Error(U(90));rb(r),Mm(r,i)}}}break;case"textarea":sb(t,n);break;case"select":e=n.value,e!=null&&Io(t,!!n.multiple,e,!1)}};hb=b0;fb=Is;var NO={usingClientEntryPoint:!1,Events:[Ac,mo,Vh,ub,db,b0]},Ka={findFiberByHostInstance:ds,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},DO={bundleType:Ka.bundleType,version:Ka.version,rendererPackageName:Ka.rendererPackageName,rendererConfig:Ka.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ti.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=gb(t),t===null?null:t.stateNode},findFiberByHostInstance:Ka.findFiberByHostInstance||RO,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Du=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Du.isDisabled&&Du.supportsFiber)try{Lh=Du.inject(DO),dr=Du}catch{}}mn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=NO;mn.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!N0(e))throw Error(U(200));return PO(t,e,null,n)};mn.createRoot=function(t,e){if(!N0(t))throw Error(U(299));var n=!1,r="",i=qT;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=P0(t,1,!1,null,null,n,!1,r,i),t[Hr]=e.current,Gl(t.nodeType===8?t.parentNode:t),new A0(e)};mn.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(U(188)):(t=Object.keys(t).join(","),Error(U(268,t)));return t=gb(e),t=t===null?null:t.stateNode,t};mn.flushSync=function(t){return Is(t)};mn.hydrate=function(t,e,n){if(!Yh(e))throw Error(U(200));return Xh(null,t,e,!0,n)};mn.hydrateRoot=function(t,e,n){if(!N0(t))throw Error(U(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=qT;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=KT(e,null,t,1,n??null,i,!1,s,o),t[Hr]=e.current,Gl(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new qh(e)};mn.render=function(t,e,n){if(!Yh(e))throw Error(U(200));return Xh(null,t,e,!1,n)};mn.unmountComponentAtNode=function(t){if(!Yh(t))throw Error(U(40));return t._reactRootContainer?(Is(function(){Xh(null,null,t,!1,function(){t._reactRootContainer=null,t[Hr]=null})}),!0):!1};mn.unstable_batchedUpdates=b0;mn.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Yh(n))throw Error(U(200));if(t==null||t._reactInternals===void 0)throw Error(U(38));return Xh(t,e,n,!1,r)};mn.version="18.3.1-next-f1338f8080-20240426";function YT(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(YT)}catch(t){console.error(t)}}YT(),YS.exports=mn;var D0=YS.exports;const Ou=Fy(D0);var Qx=D0;Im.createRoot=Qx.createRoot,Im.hydrateRoot=Qx.hydrateRoot;const OO="modulepreload",MO=function(t){return"/EmproChampions-2025/"+t},Jx={},LO=function(e,n,r){if(!n||n.length===0)return e();const i=document.getElementsByTagName("link");return Promise.all(n.map(s=>{if(s=MO(s),s in Jx)return;Jx[s]=!0;const o=s.endsWith(".css"),a=o?'[rel="stylesheet"]':"";if(!!r)for(let d=i.length-1;d>=0;d--){const h=i[d];if(h.href===s&&(!o||h.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${s}"]${a}`))return;const c=document.createElement("link");if(c.rel=o?"stylesheet":OO,o||(c.as="script",c.crossOrigin=""),c.href=s,document.head.appendChild(c),o)return new Promise((d,h)=>{c.addEventListener("load",d),c.addEventListener("error",()=>h(new Error(`Unable to preload CSS for ${s}`)))})})).then(()=>e()).catch(s=>{const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=s,window.dispatchEvent(o),!o.defaultPrevented)throw s})};var O0={};Object.defineProperty(O0,"__esModule",{value:!0});O0.parse=zO;O0.serialize=WO;const jO=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,FO=/^[\u0021-\u003A\u003C-\u007E]*$/,$O=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,VO=/^[\u0020-\u003A\u003D-\u007E]*$/,UO=Object.prototype.toString,BO=(()=>{const t=function(){};return t.prototype=Object.create(null),t})();function zO(t,e){const n=new BO,r=t.length;if(r<2)return n;const i=(e==null?void 0:e.decode)||HO;let s=0;do{const o=t.indexOf("=",s);if(o===-1)break;const a=t.indexOf(";",s),l=a===-1?r:a;if(o>l){s=t.lastIndexOf(";",o-1)+1;continue}const c=Zx(t,s,o),d=e1(t,o,c),h=t.slice(c,d);if(n[h]===void 0){let f=Zx(t,o+1,l),v=e1(t,l,f);const _=i(t.slice(f,v));n[h]=_}s=l+1}while(s<r);return n}function Zx(t,e,n){do{const r=t.charCodeAt(e);if(r!==32&&r!==9)return e}while(++e<n);return n}function e1(t,e,n){for(;e>n;){const r=t.charCodeAt(--e);if(r!==32&&r!==9)return e+1}return n}function WO(t,e,n){const r=(n==null?void 0:n.encode)||encodeURIComponent;if(!jO.test(t))throw new TypeError(`argument name is invalid: ${t}`);const i=r(e);if(!FO.test(i))throw new TypeError(`argument val is invalid: ${e}`);let s=t+"="+i;if(!n)return s;if(n.maxAge!==void 0){if(!Number.isInteger(n.maxAge))throw new TypeError(`option maxAge is invalid: ${n.maxAge}`);s+="; Max-Age="+n.maxAge}if(n.domain){if(!$O.test(n.domain))throw new TypeError(`option domain is invalid: ${n.domain}`);s+="; Domain="+n.domain}if(n.path){if(!VO.test(n.path))throw new TypeError(`option path is invalid: ${n.path}`);s+="; Path="+n.path}if(n.expires){if(!GO(n.expires)||!Number.isFinite(n.expires.valueOf()))throw new TypeError(`option expires is invalid: ${n.expires}`);s+="; Expires="+n.expires.toUTCString()}if(n.httpOnly&&(s+="; HttpOnly"),n.secure&&(s+="; Secure"),n.partitioned&&(s+="; Partitioned"),n.priority)switch(typeof n.priority=="string"?n.priority.toLowerCase():void 0){case"low":s+="; Priority=Low";break;case"medium":s+="; Priority=Medium";break;case"high":s+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${n.priority}`)}if(n.sameSite)switch(typeof n.sameSite=="string"?n.sameSite.toLowerCase():n.sameSite){case!0:case"strict":s+="; SameSite=Strict";break;case"lax":s+="; SameSite=Lax";break;case"none":s+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${n.sameSite}`)}return s}function HO(t){if(t.indexOf("%")===-1)return t;try{return decodeURIComponent(t)}catch{return t}}function GO(t){return UO.call(t)==="[object Date]"}var t1="popstate";function KO(t={}){function e(r,i){let{pathname:s,search:o,hash:a}=r.location;return xg("",{pathname:s,search:o,hash:a},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:tc(i)}return YO(e,n,null,t)}function Oe(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Zn(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function qO(){return Math.random().toString(36).substring(2,10)}function n1(t,e){return{usr:t.state,key:t.key,idx:e}}function xg(t,e,n=null,r){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?fa(e):e,state:n,key:e&&e.key||r||qO()}}function tc({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function fa(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substring(r),t=t.substring(0,r)),t&&(e.pathname=t)}return e}function YO(t,e,n,r={}){let{window:i=document.defaultView,v5Compat:s=!1}=r,o=i.history,a="POP",l=null,c=d();c==null&&(c=0,o.replaceState({...o.state,idx:c},""));function d(){return(o.state||{idx:null}).idx}function h(){a="POP";let P=d(),w=P==null?null:P-c;c=P,l&&l({action:a,location:S.location,delta:w})}function f(P,w){a="PUSH";let C=xg(S.location,P,w);n&&n(C,P),c=d()+1;let E=n1(C,c),R=S.createHref(C);try{o.pushState(E,"",R)}catch(D){if(D instanceof DOMException&&D.name==="DataCloneError")throw D;i.location.assign(R)}s&&l&&l({action:a,location:S.location,delta:1})}function v(P,w){a="REPLACE";let C=xg(S.location,P,w);n&&n(C,P),c=d();let E=n1(C,c),R=S.createHref(C);o.replaceState(E,"",R),s&&l&&l({action:a,location:S.location,delta:0})}function _(P){return XO(P)}let S={get action(){return a},get location(){return t(i,o)},listen(P){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(t1,h),l=P,()=>{i.removeEventListener(t1,h),l=null}},createHref(P){return e(i,P)},createURL:_,encodeLocation(P){let w=_(P);return{pathname:w.pathname,search:w.search,hash:w.hash}},push:f,replace:v,go(P){return o.go(P)}};return S}function XO(t,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),Oe(n,"No window.location.(origin|href) available to create URL");let r=typeof t=="string"?t:tc(t);return r=r.replace(/ $/,"%20"),!e&&r.startsWith("//")&&(r=n+r),new URL(r,n)}function XT(t,e,n="/"){return QO(t,e,n,!1)}function QO(t,e,n,r){let i=typeof e=="string"?fa(e):e,s=qr(i.pathname||"/",n);if(s==null)return null;let o=QT(t);JO(o);let a=null;for(let l=0;a==null&&l<o.length;++l){let c=cM(s);a=aM(o[l],c,r)}return a}function QT(t,e=[],n=[],r=""){let i=(s,o,a)=>{let l={relativePath:a===void 0?s.path||"":a,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};l.relativePath.startsWith("/")&&(Oe(l.relativePath.startsWith(r),`Absolute route path "${l.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),l.relativePath=l.relativePath.slice(r.length));let c=$r([r,l.relativePath]),d=n.concat(l);s.children&&s.children.length>0&&(Oe(s.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${c}".`),QT(s.children,e,d,c)),!(s.path==null&&!s.index)&&e.push({path:c,score:sM(c,s.index),routesMeta:d})};return t.forEach((s,o)=>{var a;if(s.path===""||!((a=s.path)!=null&&a.includes("?")))i(s,o);else for(let l of JT(s.path))i(s,o,l)}),e}function JT(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let o=JT(r.join("/")),a=[];return a.push(...o.map(l=>l===""?s:[s,l].join("/"))),i&&a.push(...o),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function JO(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:oM(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var ZO=/^:[\w-]+$/,eM=3,tM=2,nM=1,rM=10,iM=-2,r1=t=>t==="*";function sM(t,e){let n=t.split("/"),r=n.length;return n.some(r1)&&(r+=iM),e&&(r+=tM),n.filter(i=>!r1(i)).reduce((i,s)=>i+(ZO.test(s)?eM:s===""?nM:rM),r)}function oM(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function aM(t,e,n=!1){let{routesMeta:r}=t,i={},s="/",o=[];for(let a=0;a<r.length;++a){let l=r[a],c=a===r.length-1,d=s==="/"?e:e.slice(s.length)||"/",h=Jd({path:l.relativePath,caseSensitive:l.caseSensitive,end:c},d),f=l.route;if(!h&&c&&n&&!r[r.length-1].route.index&&(h=Jd({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},d)),!h)return null;Object.assign(i,h.params),o.push({params:i,pathname:$r([s,h.pathname]),pathnameBase:fM($r([s,h.pathnameBase])),route:f}),h.pathnameBase!=="/"&&(s=$r([s,h.pathnameBase]))}return o}function Jd(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=lM(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((c,{paramName:d,isOptional:h},f)=>{if(d==="*"){let _=a[f]||"";o=s.slice(0,s.length-_.length).replace(/(.)\/+$/,"$1")}const v=a[f];return h&&!v?c[d]=void 0:c[d]=(v||"").replace(/%2F/g,"/"),c},{}),pathname:s,pathnameBase:o,pattern:t}}function lM(t,e=!1,n=!0){Zn(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,l)=>(r.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function cM(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Zn(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function qr(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function uM(t,e="/"){let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?fa(t):t;return{pathname:n?n.startsWith("/")?n:dM(n,e):e,search:pM(r),hash:mM(i)}}function dM(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function Vp(t,e,n,r){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function hM(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function M0(t){let e=hM(t);return e.map((n,r)=>r===e.length-1?n.pathname:n.pathnameBase)}function L0(t,e,n,r=!1){let i;typeof t=="string"?i=fa(t):(i={...t},Oe(!i.pathname||!i.pathname.includes("?"),Vp("?","pathname","search",i)),Oe(!i.pathname||!i.pathname.includes("#"),Vp("#","pathname","hash",i)),Oe(!i.search||!i.search.includes("#"),Vp("#","search","hash",i)));let s=t===""||i.pathname==="",o=s?"/":i.pathname,a;if(o==null)a=n;else{let h=e.length-1;if(!r&&o.startsWith("..")){let f=o.split("/");for(;f[0]==="..";)f.shift(),h-=1;i.pathname=f.join("/")}a=h>=0?e[h]:"/"}let l=uM(i,a),c=o&&o!=="/"&&o.endsWith("/"),d=(s||o===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(c||d)&&(l.pathname+="/"),l}var $r=t=>t.join("/").replace(/\/\/+/g,"/"),fM=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),pM=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,mM=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function gM(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}var ZT=["POST","PUT","PATCH","DELETE"];new Set(ZT);var yM=["GET",...ZT];new Set(yM);var pa=T.createContext(null);pa.displayName="DataRouter";var Qh=T.createContext(null);Qh.displayName="DataRouterState";var ek=T.createContext({isTransitioning:!1});ek.displayName="ViewTransition";var vM=T.createContext(new Map);vM.displayName="Fetchers";var _M=T.createContext(null);_M.displayName="Await";var er=T.createContext(null);er.displayName="Navigation";var Dc=T.createContext(null);Dc.displayName="Location";var tr=T.createContext({outlet:null,matches:[],isDataRoute:!1});tr.displayName="Route";var j0=T.createContext(null);j0.displayName="RouteError";function wM(t,{relative:e}={}){Oe(ma(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=T.useContext(er),{hash:i,pathname:s,search:o}=Oc(t,{relative:e}),a=s;return n!=="/"&&(a=s==="/"?n:$r([n,s])),r.createHref({pathname:a,search:o,hash:i})}function ma(){return T.useContext(Dc)!=null}function xr(){return Oe(ma(),"useLocation() may be used only in the context of a <Router> component."),T.useContext(Dc).location}var tk="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function nk(t){T.useContext(er).static||T.useLayoutEffect(t)}function Er(){let{isDataRoute:t}=T.useContext(tr);return t?DM():xM()}function xM(){Oe(ma(),"useNavigate() may be used only in the context of a <Router> component.");let t=T.useContext(pa),{basename:e,navigator:n}=T.useContext(er),{matches:r}=T.useContext(tr),{pathname:i}=xr(),s=JSON.stringify(M0(r)),o=T.useRef(!1);return nk(()=>{o.current=!0}),T.useCallback((l,c={})=>{if(Zn(o.current,tk),!o.current)return;if(typeof l=="number"){n.go(l);return}let d=L0(l,JSON.parse(s),i,c.relative==="path");t==null&&e!=="/"&&(d.pathname=d.pathname==="/"?e:$r([e,d.pathname])),(c.replace?n.replace:n.push)(d,c.state,c)},[e,n,s,i,t])}T.createContext(null);function rk(){let{matches:t}=T.useContext(tr),e=t[t.length-1];return e?e.params:{}}function Oc(t,{relative:e}={}){let{matches:n}=T.useContext(tr),{pathname:r}=xr(),i=JSON.stringify(M0(n));return T.useMemo(()=>L0(t,JSON.parse(i),r,e==="path"),[t,i,r,e])}function EM(t,e){return ik(t,e)}function ik(t,e,n,r){var C;Oe(ma(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:i,static:s}=T.useContext(er),{matches:o}=T.useContext(tr),a=o[o.length-1],l=a?a.params:{},c=a?a.pathname:"/",d=a?a.pathnameBase:"/",h=a&&a.route;{let E=h&&h.path||"";sk(c,!h||E.endsWith("*")||E.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${c}" (under <Route path="${E}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${E}"> to <Route path="${E==="/"?"*":`${E}/*`}">.`)}let f=xr(),v;if(e){let E=typeof e=="string"?fa(e):e;Oe(d==="/"||((C=E.pathname)==null?void 0:C.startsWith(d)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${d}" but pathname "${E.pathname}" was given in the \`location\` prop.`),v=E}else v=f;let _=v.pathname||"/",S=_;if(d!=="/"){let E=d.replace(/^\//,"").split("/");S="/"+_.replace(/^\//,"").split("/").slice(E.length).join("/")}let P=!s&&n&&n.matches&&n.matches.length>0?n.matches:XT(t,{pathname:S});Zn(h||P!=null,`No routes matched location "${v.pathname}${v.search}${v.hash}" `),Zn(P==null||P[P.length-1].route.element!==void 0||P[P.length-1].route.Component!==void 0||P[P.length-1].route.lazy!==void 0,`Matched leaf route at location "${v.pathname}${v.search}${v.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let w=kM(P&&P.map(E=>Object.assign({},E,{params:Object.assign({},l,E.params),pathname:$r([d,i.encodeLocation?i.encodeLocation(E.pathname).pathname:E.pathname]),pathnameBase:E.pathnameBase==="/"?d:$r([d,i.encodeLocation?i.encodeLocation(E.pathnameBase).pathname:E.pathnameBase])})),o,n,r);return e&&w?T.createElement(Dc.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...v},navigationType:"POP"}},w):w}function CM(){let t=NM(),e=gM(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,r="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:r},s={padding:"2px 4px",backgroundColor:r},o=null;return console.error("Error handled by React Router default ErrorBoundary:",t),o=T.createElement(T.Fragment,null,T.createElement("p",null,"💿 Hey developer 👋"),T.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",T.createElement("code",{style:s},"ErrorBoundary")," or"," ",T.createElement("code",{style:s},"errorElement")," prop on your route.")),T.createElement(T.Fragment,null,T.createElement("h2",null,"Unexpected Application Error!"),T.createElement("h3",{style:{fontStyle:"italic"}},e),n?T.createElement("pre",{style:i},n):null,o)}var SM=T.createElement(CM,null),bM=class extends T.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){console.error("React Router caught the following error during render",t,e)}render(){return this.state.error!==void 0?T.createElement(tr.Provider,{value:this.props.routeContext},T.createElement(j0.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function TM({routeContext:t,match:e,children:n}){let r=T.useContext(pa);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),T.createElement(tr.Provider,{value:t},n)}function kM(t,e=[],n=null,r=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let i=t,s=n==null?void 0:n.errors;if(s!=null){let l=i.findIndex(c=>c.route.id&&(s==null?void 0:s[c.route.id])!==void 0);Oe(l>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(s).join(",")}`),i=i.slice(0,Math.min(i.length,l+1))}let o=!1,a=-1;if(n)for(let l=0;l<i.length;l++){let c=i[l];if((c.route.HydrateFallback||c.route.hydrateFallbackElement)&&(a=l),c.route.id){let{loaderData:d,errors:h}=n,f=c.route.loader&&!d.hasOwnProperty(c.route.id)&&(!h||h[c.route.id]===void 0);if(c.route.lazy||f){o=!0,a>=0?i=i.slice(0,a+1):i=[i[0]];break}}}return i.reduceRight((l,c,d)=>{let h,f=!1,v=null,_=null;n&&(h=s&&c.route.id?s[c.route.id]:void 0,v=c.route.errorElement||SM,o&&(a<0&&d===0?(sk("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),f=!0,_=null):a===d&&(f=!0,_=c.route.hydrateFallbackElement||null)));let S=e.concat(i.slice(0,d+1)),P=()=>{let w;return h?w=v:f?w=_:c.route.Component?w=T.createElement(c.route.Component,null):c.route.element?w=c.route.element:w=l,T.createElement(TM,{match:c,routeContext:{outlet:l,matches:S,isDataRoute:n!=null},children:w})};return n&&(c.route.ErrorBoundary||c.route.errorElement||d===0)?T.createElement(bM,{location:n.location,revalidation:n.revalidation,component:v,error:h,children:P(),routeContext:{outlet:null,matches:S,isDataRoute:!0}}):P()},null)}function F0(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function IM(t){let e=T.useContext(pa);return Oe(e,F0(t)),e}function PM(t){let e=T.useContext(Qh);return Oe(e,F0(t)),e}function RM(t){let e=T.useContext(tr);return Oe(e,F0(t)),e}function $0(t){let e=RM(t),n=e.matches[e.matches.length-1];return Oe(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function AM(){return $0("useRouteId")}function NM(){var r;let t=T.useContext(j0),e=PM("useRouteError"),n=$0("useRouteError");return t!==void 0?t:(r=e.errors)==null?void 0:r[n]}function DM(){let{router:t}=IM("useNavigate"),e=$0("useNavigate"),n=T.useRef(!1);return nk(()=>{n.current=!0}),T.useCallback(async(i,s={})=>{Zn(n.current,tk),n.current&&(typeof i=="number"?t.navigate(i):await t.navigate(i,{fromRouteId:e,...s}))},[t,e])}var i1={};function sk(t,e,n){!e&&!i1[t]&&(i1[t]=!0,Zn(!1,n))}T.memo(OM);function OM({routes:t,future:e,state:n}){return ik(t,void 0,n,e)}function Eg({to:t,replace:e,state:n,relative:r}){Oe(ma(),"<Navigate> may be used only in the context of a <Router> component.");let{static:i}=T.useContext(er);Zn(!i,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:s}=T.useContext(tr),{pathname:o}=xr(),a=Er(),l=L0(t,M0(s),o,r==="path"),c=JSON.stringify(l);return T.useEffect(()=>{a(JSON.parse(c),{replace:e,state:n,relative:r})},[a,c,r,e,n]),null}function qt(t){Oe(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function MM({basename:t="/",children:e=null,location:n,navigationType:r="POP",navigator:i,static:s=!1}){Oe(!ma(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let o=t.replace(/^\/*/,"/"),a=T.useMemo(()=>({basename:o,navigator:i,static:s,future:{}}),[o,i,s]);typeof n=="string"&&(n=fa(n));let{pathname:l="/",search:c="",hash:d="",state:h=null,key:f="default"}=n,v=T.useMemo(()=>{let _=qr(l,o);return _==null?null:{location:{pathname:_,search:c,hash:d,state:h,key:f},navigationType:r}},[o,l,c,d,h,f,r]);return Zn(v!=null,`<Router basename="${o}"> is not able to match the URL "${l}${c}${d}" because it does not start with the basename, so the <Router> won't render anything.`),v==null?null:T.createElement(er.Provider,{value:a},T.createElement(Dc.Provider,{children:e,value:v}))}function LM({children:t,location:e}){return EM(Cg(t),e)}function Cg(t,e=[]){let n=[];return T.Children.forEach(t,(r,i)=>{if(!T.isValidElement(r))return;let s=[...e,i];if(r.type===T.Fragment){n.push.apply(n,Cg(r.props.children,s));return}Oe(r.type===qt,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Oe(!r.props.index||!r.props.children,"An index route cannot have child routes.");let o={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=Cg(r.props.children,s)),n.push(o)}),n}var ud="get",dd="application/x-www-form-urlencoded";function Jh(t){return t!=null&&typeof t.tagName=="string"}function jM(t){return Jh(t)&&t.tagName.toLowerCase()==="button"}function FM(t){return Jh(t)&&t.tagName.toLowerCase()==="form"}function $M(t){return Jh(t)&&t.tagName.toLowerCase()==="input"}function VM(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function UM(t,e){return t.button===0&&(!e||e==="_self")&&!VM(t)}var Mu=null;function BM(){if(Mu===null)try{new FormData(document.createElement("form"),0),Mu=!1}catch{Mu=!0}return Mu}var zM=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Up(t){return t!=null&&!zM.has(t)?(Zn(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${dd}"`),null):t}function WM(t,e){let n,r,i,s,o;if(FM(t)){let a=t.getAttribute("action");r=a?qr(a,e):null,n=t.getAttribute("method")||ud,i=Up(t.getAttribute("enctype"))||dd,s=new FormData(t)}else if(jM(t)||$M(t)&&(t.type==="submit"||t.type==="image")){let a=t.form;if(a==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let l=t.getAttribute("formaction")||a.getAttribute("action");if(r=l?qr(l,e):null,n=t.getAttribute("formmethod")||a.getAttribute("method")||ud,i=Up(t.getAttribute("formenctype"))||Up(a.getAttribute("enctype"))||dd,s=new FormData(a,t),!BM()){let{name:c,type:d,value:h}=t;if(d==="image"){let f=c?`${c}.`:"";s.append(`${f}x`,"0"),s.append(`${f}y`,"0")}else c&&s.append(c,h)}}else{if(Jh(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=ud,r=null,i=dd,o=t}return s&&i==="text/plain"&&(o=s,s=void 0),{action:r,method:n.toLowerCase(),encType:i,formData:s,body:o}}function V0(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}async function HM(t,e){if(t.id in e)return e[t.id];try{let n=await LO(()=>import(t.module),[]);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function GM(t){return t!=null&&typeof t.page=="string"}function KM(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function qM(t,e,n){let r=await Promise.all(t.map(async i=>{let s=e.routes[i.route.id];if(s){let o=await HM(s,n);return o.links?o.links():[]}return[]}));return JM(r.flat(1).filter(KM).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function s1(t,e,n,r,i,s){let o=(l,c)=>n[c]?l.route.id!==n[c].route.id:!0,a=(l,c)=>{var d;return n[c].pathname!==l.pathname||((d=n[c].route.path)==null?void 0:d.endsWith("*"))&&n[c].params["*"]!==l.params["*"]};return s==="assets"?e.filter((l,c)=>o(l,c)||a(l,c)):s==="data"?e.filter((l,c)=>{var h;let d=r.routes[l.route.id];if(!d||!d.hasLoader)return!1;if(o(l,c)||a(l,c))return!0;if(l.route.shouldRevalidate){let f=l.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:((h=n[0])==null?void 0:h.params)||{},nextUrl:new URL(t,window.origin),nextParams:l.params,defaultShouldRevalidate:!0});if(typeof f=="boolean")return f}return!0}):[]}function YM(t,e,{includeHydrateFallback:n}={}){return XM(t.map(r=>{let i=e.routes[r.route.id];if(!i)return[];let s=[i.module];return i.clientActionModule&&(s=s.concat(i.clientActionModule)),i.clientLoaderModule&&(s=s.concat(i.clientLoaderModule)),n&&i.hydrateFallbackModule&&(s=s.concat(i.hydrateFallbackModule)),i.imports&&(s=s.concat(i.imports)),s}).flat(1))}function XM(t){return[...new Set(t)]}function QM(t){let e={},n=Object.keys(t).sort();for(let r of n)e[r]=t[r];return e}function JM(t,e){let n=new Set,r=new Set(e);return t.reduce((i,s)=>{if(e&&!GM(s)&&s.as==="script"&&s.href&&r.has(s.href))return i;let a=JSON.stringify(QM(s));return n.has(a)||(n.add(a),i.push({key:a,link:s})),i},[])}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var ZM=new Set([100,101,204,205]);function e4(t,e){let n=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return n.pathname==="/"?n.pathname="_root.data":e&&qr(n.pathname,e)==="/"?n.pathname=`${e.replace(/\/$/,"")}/_root.data`:n.pathname=`${n.pathname.replace(/\/$/,"")}.data`,n}function ok(){let t=T.useContext(pa);return V0(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function t4(){let t=T.useContext(Qh);return V0(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var U0=T.createContext(void 0);U0.displayName="FrameworkContext";function ak(){let t=T.useContext(U0);return V0(t,"You must render this element inside a <HydratedRouter> element"),t}function n4(t,e){let n=T.useContext(U0),[r,i]=T.useState(!1),[s,o]=T.useState(!1),{onFocus:a,onBlur:l,onMouseEnter:c,onMouseLeave:d,onTouchStart:h}=e,f=T.useRef(null);T.useEffect(()=>{if(t==="render"&&o(!0),t==="viewport"){let S=w=>{w.forEach(C=>{o(C.isIntersecting)})},P=new IntersectionObserver(S,{threshold:.5});return f.current&&P.observe(f.current),()=>{P.disconnect()}}},[t]),T.useEffect(()=>{if(r){let S=setTimeout(()=>{o(!0)},100);return()=>{clearTimeout(S)}}},[r]);let v=()=>{i(!0)},_=()=>{i(!1),o(!1)};return n?t!=="intent"?[s,f,{}]:[s,f,{onFocus:qa(a,v),onBlur:qa(l,_),onMouseEnter:qa(c,v),onMouseLeave:qa(d,_),onTouchStart:qa(h,v)}]:[!1,f,{}]}function qa(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function r4({page:t,...e}){let{router:n}=ok(),r=T.useMemo(()=>XT(n.routes,t,n.basename),[n.routes,t,n.basename]);return r?T.createElement(s4,{page:t,matches:r,...e}):null}function i4(t){let{manifest:e,routeModules:n}=ak(),[r,i]=T.useState([]);return T.useEffect(()=>{let s=!1;return qM(t,e,n).then(o=>{s||i(o)}),()=>{s=!0}},[t,e,n]),r}function s4({page:t,matches:e,...n}){let r=xr(),{manifest:i,routeModules:s}=ak(),{basename:o}=ok(),{loaderData:a,matches:l}=t4(),c=T.useMemo(()=>s1(t,e,l,i,r,"data"),[t,e,l,i,r]),d=T.useMemo(()=>s1(t,e,l,i,r,"assets"),[t,e,l,i,r]),h=T.useMemo(()=>{if(t===r.pathname+r.search+r.hash)return[];let _=new Set,S=!1;if(e.forEach(w=>{var E;let C=i.routes[w.route.id];!C||!C.hasLoader||(!c.some(R=>R.route.id===w.route.id)&&w.route.id in a&&((E=s[w.route.id])!=null&&E.shouldRevalidate)||C.hasClientLoader?S=!0:_.add(w.route.id))}),_.size===0)return[];let P=e4(t,o);return S&&_.size>0&&P.searchParams.set("_routes",e.filter(w=>_.has(w.route.id)).map(w=>w.route.id).join(",")),[P.pathname+P.search]},[o,a,r,i,c,e,t,s]),f=T.useMemo(()=>YM(d,i),[d,i]),v=i4(d);return T.createElement(T.Fragment,null,h.map(_=>T.createElement("link",{key:_,rel:"prefetch",as:"fetch",href:_,...n})),f.map(_=>T.createElement("link",{key:_,rel:"modulepreload",href:_,...n})),v.map(({key:_,link:S})=>T.createElement("link",{key:_,...S})))}function o4(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var lk=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{lk&&(window.__reactRouterVersion="7.6.0")}catch{}function a4({basename:t,children:e,window:n}){let r=T.useRef();r.current==null&&(r.current=KO({window:n,v5Compat:!0}));let i=r.current,[s,o]=T.useState({action:i.action,location:i.location}),a=T.useCallback(l=>{T.startTransition(()=>o(l))},[o]);return T.useLayoutEffect(()=>i.listen(a),[i,a]),T.createElement(MM,{basename:t,children:e,location:s.location,navigationType:s.action,navigator:i})}var ck=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Un=T.forwardRef(function({onClick:e,discover:n="render",prefetch:r="none",relative:i,reloadDocument:s,replace:o,state:a,target:l,to:c,preventScrollReset:d,viewTransition:h,...f},v){let{basename:_}=T.useContext(er),S=typeof c=="string"&&ck.test(c),P,w=!1;if(typeof c=="string"&&S&&(P=c,lk))try{let I=new URL(window.location.href),g=c.startsWith("//")?new URL(I.protocol+c):new URL(c),A=qr(g.pathname,_);g.origin===I.origin&&A!=null?c=A+g.search+g.hash:w=!0}catch{Zn(!1,`<Link to="${c}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let C=wM(c,{relative:i}),[E,R,D]=n4(r,f),M=d4(c,{replace:o,state:a,target:l,preventScrollReset:d,relative:i,viewTransition:h});function b(I){e&&e(I),I.defaultPrevented||M(I)}let x=T.createElement("a",{...f,...D,href:P||C,onClick:w||s?e:b,ref:o4(v,R),target:l,"data-discover":!S&&n==="render"?"true":void 0});return E&&!S?T.createElement(T.Fragment,null,x,T.createElement(r4,{page:C})):x});Un.displayName="Link";var l4=T.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:r="",end:i=!1,style:s,to:o,viewTransition:a,children:l,...c},d){let h=Oc(o,{relative:c.relative}),f=xr(),v=T.useContext(Qh),{navigator:_,basename:S}=T.useContext(er),P=v!=null&&g4(h)&&a===!0,w=_.encodeLocation?_.encodeLocation(h).pathname:h.pathname,C=f.pathname,E=v&&v.navigation&&v.navigation.location?v.navigation.location.pathname:null;n||(C=C.toLowerCase(),E=E?E.toLowerCase():null,w=w.toLowerCase()),E&&S&&(E=qr(E,S)||E);const R=w!=="/"&&w.endsWith("/")?w.length-1:w.length;let D=C===w||!i&&C.startsWith(w)&&C.charAt(R)==="/",M=E!=null&&(E===w||!i&&E.startsWith(w)&&E.charAt(w.length)==="/"),b={isActive:D,isPending:M,isTransitioning:P},x=D?e:void 0,I;typeof r=="function"?I=r(b):I=[r,D?"active":null,M?"pending":null,P?"transitioning":null].filter(Boolean).join(" ");let g=typeof s=="function"?s(b):s;return T.createElement(Un,{...c,"aria-current":x,className:I,ref:d,style:g,to:o,viewTransition:a},typeof l=="function"?l(b):l)});l4.displayName="NavLink";var c4=T.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:r,replace:i,state:s,method:o=ud,action:a,onSubmit:l,relative:c,preventScrollReset:d,viewTransition:h,...f},v)=>{let _=p4(),S=m4(a,{relative:c}),P=o.toLowerCase()==="get"?"get":"post",w=typeof a=="string"&&ck.test(a),C=E=>{if(l&&l(E),E.defaultPrevented)return;E.preventDefault();let R=E.nativeEvent.submitter,D=(R==null?void 0:R.getAttribute("formmethod"))||o;_(R||E.currentTarget,{fetcherKey:e,method:D,navigate:n,replace:i,state:s,relative:c,preventScrollReset:d,viewTransition:h})};return T.createElement("form",{ref:v,method:P,action:S,onSubmit:r?l:C,...f,"data-discover":!w&&t==="render"?"true":void 0})});c4.displayName="Form";function u4(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function uk(t){let e=T.useContext(pa);return Oe(e,u4(t)),e}function d4(t,{target:e,replace:n,state:r,preventScrollReset:i,relative:s,viewTransition:o}={}){let a=Er(),l=xr(),c=Oc(t,{relative:s});return T.useCallback(d=>{if(UM(d,e)){d.preventDefault();let h=n!==void 0?n:tc(l)===tc(c);a(t,{replace:h,state:r,preventScrollReset:i,relative:s,viewTransition:o})}},[l,a,c,n,r,e,t,i,s,o])}var h4=0,f4=()=>`__${String(++h4)}__`;function p4(){let{router:t}=uk("useSubmit"),{basename:e}=T.useContext(er),n=AM();return T.useCallback(async(r,i={})=>{let{action:s,method:o,encType:a,formData:l,body:c}=WM(r,e);if(i.navigate===!1){let d=i.fetcherKey||f4();await t.fetch(d,n,i.action||s,{preventScrollReset:i.preventScrollReset,formData:l,body:c,formMethod:i.method||o,formEncType:i.encType||a,flushSync:i.flushSync})}else await t.navigate(i.action||s,{preventScrollReset:i.preventScrollReset,formData:l,body:c,formMethod:i.method||o,formEncType:i.encType||a,replace:i.replace,state:i.state,fromRouteId:n,flushSync:i.flushSync,viewTransition:i.viewTransition})},[t,e,n])}function m4(t,{relative:e}={}){let{basename:n}=T.useContext(er),r=T.useContext(tr);Oe(r,"useFormAction must be used inside a RouteContext");let[i]=r.matches.slice(-1),s={...Oc(t||".",{relative:e})},o=xr();if(t==null){s.search=o.search;let a=new URLSearchParams(s.search),l=a.getAll("index");if(l.some(d=>d==="")){a.delete("index"),l.filter(h=>h).forEach(h=>a.append("index",h));let d=a.toString();s.search=d?`?${d}`:""}}return(!t||t===".")&&i.route.index&&(s.search=s.search?s.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(s.pathname=s.pathname==="/"?n:$r([n,s.pathname])),tc(s)}function g4(t,e={}){let n=T.useContext(ek);Oe(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=uk("useViewTransitionState"),i=Oc(t,{relative:e.relative});if(!n.isTransitioning)return!1;let s=qr(n.currentLocation.pathname,r)||n.currentLocation.pathname,o=qr(n.nextLocation.pathname,r)||n.nextLocation.pathname;return Jd(i.pathname,o)!=null||Jd(i.pathname,s)!=null}[...ZM];const y4=()=>{};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dk={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B=function(t,e){if(!t)throw ga(e)},ga=function(t){return new Error("Firebase Database ("+dk.SDK_VERSION+") INTERNAL ASSERT FAILED: "+t)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hk=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},v4=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],o=t[n++],a=t[n++],l=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},B0={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,a=o?t[i+1]:0,l=i+2<t.length,c=l?t[i+2]:0,d=s>>2,h=(s&3)<<4|a>>4;let f=(a&15)<<2|c>>6,v=c&63;l||(v=64,o||(f=64)),r.push(n[d],n[h],n[f],n[v])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(hk(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):v4(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const c=i<t.length?n[t.charAt(i)]:64;++i;const h=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||a==null||c==null||h==null)throw new _4;const f=s<<2|a>>4;if(r.push(f),c!==64){const v=a<<4&240|c>>2;if(r.push(v),h!==64){const _=c<<6&192|h;r.push(_)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class _4 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const fk=function(t){const e=hk(t);return B0.encodeByteArray(e,!0)},Zd=function(t){return fk(t).replace(/\./g,"")},eh=function(t){try{return B0.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function w4(t){return pk(void 0,t)}function pk(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const n=e;return new Date(n.getTime());case Object:t===void 0&&(t={});break;case Array:t=[];break;default:return e}for(const n in e)!e.hasOwnProperty(n)||!x4(n)||(t[n]=pk(t[n],e[n]));return t}function x4(t){return t!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function E4(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C4=()=>E4().__FIREBASE_DEFAULTS__,S4=()=>{if(typeof process>"u"||typeof process.env>"u")return;const t={}.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},b4=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&eh(t[1]);return e&&JSON.parse(e)},z0=()=>{try{return y4()||C4()||S4()||b4()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},mk=t=>{var e,n;return(n=(e=z0())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},W0=t=>{const e=mk(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},gk=()=>{var t;return(t=z0())===null||t===void 0?void 0:t.config},yk=t=>{var e;return(e=z0())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mc{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Us(t){return t.endsWith(".cloudworkstations.dev")}async function Zh(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function H0(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t),a="";return[Zd(JSON.stringify(n)),Zd(JSON.stringify(o)),a].join(".")}const Cl={};function T4(){const t={prod:[],emulator:[]};for(const e of Object.keys(Cl))Cl[e]?t.emulator.push(e):t.prod.push(e);return t}function k4(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let o1=!1;function Gi(t,e){if(typeof window>"u"||typeof document>"u"||!Us(window.location.host)||Cl[t]===e||Cl[t]||o1)return;Cl[t]=e;function n(f){return`__firebase__banner__${f}`}const r="__firebase__banner",s=T4().prod.length>0;function o(){const f=document.getElementById(r);f&&f.remove()}function a(f){f.style.display="flex",f.style.background="#7faaf0",f.style.position="fixed",f.style.bottom="5px",f.style.left="5px",f.style.padding=".5em",f.style.borderRadius="5px",f.style.alignItems="center"}function l(f,v){f.setAttribute("width","24"),f.setAttribute("id",v),f.setAttribute("height","24"),f.setAttribute("viewBox","0 0 24 24"),f.setAttribute("fill","none"),f.style.marginLeft="-6px"}function c(){const f=document.createElement("span");return f.style.cursor="pointer",f.style.marginLeft="16px",f.style.fontSize="24px",f.innerHTML=" &times;",f.onclick=()=>{o1=!0,o()},f}function d(f,v){f.setAttribute("id",v),f.innerText="Learn more",f.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",f.setAttribute("target","__blank"),f.style.paddingLeft="5px",f.style.textDecoration="underline"}function h(){const f=k4(r),v=n("text"),_=document.getElementById(v)||document.createElement("span"),S=n("learnmore"),P=document.getElementById(S)||document.createElement("a"),w=n("preprendIcon"),C=document.getElementById(w)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(f.created){const E=f.element;a(E),d(P,S);const R=c();l(C,w),E.append(C,_,P,R),document.body.appendChild(E)}s?(_.innerText="Preview backend disconnected.",C.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(C.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,_.innerText="Preview backend running in this workspace."),_.setAttribute("id",v)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",h):h()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function G0(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(zt())}function I4(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function P4(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function vk(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function R4(){const t=zt();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function _k(){return dk.NODE_ADMIN===!0}function wk(){try{return typeof indexedDB=="object"}catch{return!1}}function xk(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}function A4(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N4="FirebaseError";class nr extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=N4,Object.setPrototypeOf(this,nr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Bs.prototype.create)}}class Bs{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?D4(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new nr(i,a,r)}}function D4(t,e){return t.replace(O4,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const O4=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nc(t){return JSON.parse(t)}function nt(t){return JSON.stringify(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ek=function(t){let e={},n={},r={},i="";try{const s=t.split(".");e=nc(eh(s[0])||""),n=nc(eh(s[1])||""),i=s[2],r=n.d||{},delete n.d}catch{}return{header:e,claims:n,data:r,signature:i}},M4=function(t){const e=Ek(t),n=e.claims;return!!n&&typeof n=="object"&&n.hasOwnProperty("iat")},L4=function(t){const e=Ek(t).claims;return typeof e=="object"&&e.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cr(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function Yo(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]}function Sg(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function th(t,e,n){const r={};for(const i in t)Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=e.call(n,t[i],i,t));return r}function Li(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(a1(s)&&a1(o)){if(!Li(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function a1(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ya(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function ll(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function cl(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j4{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,n){n||(n=0);const r=this.W_;if(typeof e=="string")for(let h=0;h<16;h++)r[h]=e.charCodeAt(n)<<24|e.charCodeAt(n+1)<<16|e.charCodeAt(n+2)<<8|e.charCodeAt(n+3),n+=4;else for(let h=0;h<16;h++)r[h]=e[n]<<24|e[n+1]<<16|e[n+2]<<8|e[n+3],n+=4;for(let h=16;h<80;h++){const f=r[h-3]^r[h-8]^r[h-14]^r[h-16];r[h]=(f<<1|f>>>31)&4294967295}let i=this.chain_[0],s=this.chain_[1],o=this.chain_[2],a=this.chain_[3],l=this.chain_[4],c,d;for(let h=0;h<80;h++){h<40?h<20?(c=a^s&(o^a),d=1518500249):(c=s^o^a,d=1859775393):h<60?(c=s&o|a&(s|o),d=2400959708):(c=s^o^a,d=3395469782);const f=(i<<5|i>>>27)+c+l+d+r[h]&4294967295;l=a,a=o,o=(s<<30|s>>>2)&4294967295,s=i,i=f}this.chain_[0]=this.chain_[0]+i&4294967295,this.chain_[1]=this.chain_[1]+s&4294967295,this.chain_[2]=this.chain_[2]+o&4294967295,this.chain_[3]=this.chain_[3]+a&4294967295,this.chain_[4]=this.chain_[4]+l&4294967295}update(e,n){if(e==null)return;n===void 0&&(n=e.length);const r=n-this.blockSize;let i=0;const s=this.buf_;let o=this.inbuf_;for(;i<n;){if(o===0)for(;i<=r;)this.compress_(e,i),i+=this.blockSize;if(typeof e=="string"){for(;i<n;)if(s[o]=e.charCodeAt(i),++o,++i,o===this.blockSize){this.compress_(s),o=0;break}}else for(;i<n;)if(s[o]=e[i],++o,++i,o===this.blockSize){this.compress_(s),o=0;break}}this.inbuf_=o,this.total_+=n}digest(){const e=[];let n=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let i=this.blockSize-1;i>=56;i--)this.buf_[i]=n&255,n/=256;this.compress_(this.buf_);let r=0;for(let i=0;i<5;i++)for(let s=24;s>=0;s-=8)e[r]=this.chain_[i]>>s&255,++r;return e}}function F4(t,e){const n=new $4(t,e);return n.subscribe.bind(n)}class $4{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");V4(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=Bp),i.error===void 0&&(i.error=Bp),i.complete===void 0&&(i.complete=Bp);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function V4(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Bp(){}function ef(t,e){return`${t} failed: ${e} argument `}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U4=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);if(i>=55296&&i<=56319){const s=i-55296;r++,B(r<t.length,"Surrogate pair missing trail surrogate.");const o=t.charCodeAt(r)-56320;i=65536+(s<<10)+o}i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):i<65536?(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},tf=function(t){let e=0;for(let n=0;n<t.length;n++){const r=t.charCodeAt(n);r<128?e++:r<2048?e+=2:r>=55296&&r<=56319?(e+=4,n++):e+=3}return e};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xe(t){return t&&t._delegate?t._delegate:t}class pn{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const is="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B4{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new Mc;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(W4(e))try{this.getOrInitializeService({instanceIdentifier:is})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=is){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=is){return this.instances.has(e)}getOptions(e=is){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:z4(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=is){return this.component?this.component.multipleInstances?e:is:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function z4(t){return t===is?void 0:t}function W4(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H4{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new B4(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ve;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(ve||(ve={}));const G4={debug:ve.DEBUG,verbose:ve.VERBOSE,info:ve.INFO,warn:ve.WARN,error:ve.ERROR,silent:ve.SILENT},K4=ve.INFO,q4={[ve.DEBUG]:"log",[ve.VERBOSE]:"log",[ve.INFO]:"info",[ve.WARN]:"warn",[ve.ERROR]:"error"},Y4=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=q4[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class nf{constructor(e){this.name=e,this._logLevel=K4,this._logHandler=Y4,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ve))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?G4[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ve.DEBUG,...e),this._logHandler(this,ve.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ve.VERBOSE,...e),this._logHandler(this,ve.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ve.INFO,...e),this._logHandler(this,ve.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ve.WARN,...e),this._logHandler(this,ve.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ve.ERROR,...e),this._logHandler(this,ve.ERROR,...e)}}const X4=(t,e)=>e.some(n=>t instanceof n);let l1,c1;function Q4(){return l1||(l1=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function J4(){return c1||(c1=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Ck=new WeakMap,bg=new WeakMap,Sk=new WeakMap,zp=new WeakMap,K0=new WeakMap;function Z4(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(Vr(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&Ck.set(n,t)}).catch(()=>{}),K0.set(e,t),e}function eL(t){if(bg.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});bg.set(t,e)}let Tg={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return bg.get(t);if(e==="objectStoreNames")return t.objectStoreNames||Sk.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Vr(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function tL(t){Tg=t(Tg)}function nL(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Wp(this),e,...n);return Sk.set(r,e.sort?e.sort():[e]),Vr(r)}:J4().includes(t)?function(...e){return t.apply(Wp(this),e),Vr(Ck.get(this))}:function(...e){return Vr(t.apply(Wp(this),e))}}function rL(t){return typeof t=="function"?nL(t):(t instanceof IDBTransaction&&eL(t),X4(t,Q4())?new Proxy(t,Tg):t)}function Vr(t){if(t instanceof IDBRequest)return Z4(t);if(zp.has(t))return zp.get(t);const e=rL(t);return e!==t&&(zp.set(t,e),K0.set(e,t)),e}const Wp=t=>K0.get(t);function rf(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=Vr(o);return r&&o.addEventListener("upgradeneeded",l=>{r(Vr(o.result),l.oldVersion,l.newVersion,Vr(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{s&&l.addEventListener("close",()=>s()),i&&l.addEventListener("versionchange",c=>i(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}function Hp(t,{blocked:e}={}){const n=indexedDB.deleteDatabase(t);return e&&n.addEventListener("blocked",r=>e(r.oldVersion,r)),Vr(n).then(()=>{})}const iL=["get","getKey","getAll","getAllKeys","count"],sL=["put","add","delete","clear"],Gp=new Map;function u1(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Gp.get(e))return Gp.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=sL.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||iL.includes(n)))return;const s=async function(o,...a){const l=this.transaction(o,i?"readwrite":"readonly");let c=l.store;return r&&(c=c.index(a.shift())),(await Promise.all([c[n](...a),i&&l.done]))[0]};return Gp.set(e,s),s}tL(t=>({...t,get:(e,n,r)=>u1(e,n)||t.get(e,n,r),has:(e,n)=>!!u1(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oL{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(aL(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function aL(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const kg="@firebase/app",d1="0.12.3";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yr=new nf("@firebase/app"),lL="@firebase/app-compat",cL="@firebase/analytics-compat",uL="@firebase/analytics",dL="@firebase/app-check-compat",hL="@firebase/app-check",fL="@firebase/auth",pL="@firebase/auth-compat",mL="@firebase/database",gL="@firebase/data-connect",yL="@firebase/database-compat",vL="@firebase/functions",_L="@firebase/functions-compat",wL="@firebase/installations",xL="@firebase/installations-compat",EL="@firebase/messaging",CL="@firebase/messaging-compat",SL="@firebase/performance",bL="@firebase/performance-compat",TL="@firebase/remote-config",kL="@firebase/remote-config-compat",IL="@firebase/storage",PL="@firebase/storage-compat",RL="@firebase/firestore",AL="@firebase/vertexai",NL="@firebase/firestore-compat",DL="firebase",OL="11.7.3";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ig="[DEFAULT]",ML={[kg]:"fire-core",[lL]:"fire-core-compat",[uL]:"fire-analytics",[cL]:"fire-analytics-compat",[hL]:"fire-app-check",[dL]:"fire-app-check-compat",[fL]:"fire-auth",[pL]:"fire-auth-compat",[mL]:"fire-rtdb",[gL]:"fire-data-connect",[yL]:"fire-rtdb-compat",[vL]:"fire-fn",[_L]:"fire-fn-compat",[wL]:"fire-iid",[xL]:"fire-iid-compat",[EL]:"fire-fcm",[CL]:"fire-fcm-compat",[SL]:"fire-perf",[bL]:"fire-perf-compat",[TL]:"fire-rc",[kL]:"fire-rc-compat",[IL]:"fire-gcs",[PL]:"fire-gcs-compat",[RL]:"fire-fst",[NL]:"fire-fst-compat",[AL]:"fire-vertex","fire-js":"fire-js",[DL]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nh=new Map,LL=new Map,Pg=new Map;function h1(t,e){try{t.container.addComponent(e)}catch(n){Yr.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Rn(t){const e=t.name;if(Pg.has(e))return Yr.debug(`There were multiple attempts to register component ${e}.`),!1;Pg.set(e,t);for(const n of nh.values())h1(n,t);for(const n of LL.values())h1(n,t);return!0}function Ki(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Ft(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jL={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ai=new Bs("app","Firebase",jL);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FL{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new pn("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ai.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qi=OL;function bk(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:Ig,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw Ai.create("bad-app-name",{appName:String(i)});if(n||(n=gk()),!n)throw Ai.create("no-options");const s=nh.get(i);if(s){if(Li(n,s.options)&&Li(r,s.config))return s;throw Ai.create("duplicate-app",{appName:i})}const o=new H4(i);for(const l of Pg.values())o.addComponent(l);const a=new FL(n,r,o);return nh.set(i,a),a}function Lc(t=Ig){const e=nh.get(t);if(!e&&t===Ig&&gk())return bk();if(!e)throw Ai.create("no-app",{appName:t});return e}function Rt(t,e,n){var r;let i=(r=ML[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${e}":`];s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Yr.warn(a.join(" "));return}Rn(new pn(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $L="firebase-heartbeat-database",VL=1,rc="firebase-heartbeat-store";let Kp=null;function Tk(){return Kp||(Kp=rf($L,VL,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(rc)}catch(n){console.warn(n)}}}}).catch(t=>{throw Ai.create("idb-open",{originalErrorMessage:t.message})})),Kp}async function UL(t){try{const n=(await Tk()).transaction(rc),r=await n.objectStore(rc).get(kk(t));return await n.done,r}catch(e){if(e instanceof nr)Yr.warn(e.message);else{const n=Ai.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Yr.warn(n.message)}}}async function f1(t,e){try{const r=(await Tk()).transaction(rc,"readwrite");await r.objectStore(rc).put(e,kk(t)),await r.done}catch(n){if(n instanceof nr)Yr.warn(n.message);else{const r=Ai.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Yr.warn(r.message)}}}function kk(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BL=1024,zL=30;class WL{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new GL(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=p1();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats.length>zL){const o=KL(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){Yr.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=p1(),{heartbeatsToSend:r,unsentEntries:i}=HL(this._heartbeatsCache.heartbeats),s=Zd(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(n){return Yr.warn(n),""}}}function p1(){return new Date().toISOString().substring(0,10)}function HL(t,e=BL){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),m1(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),m1(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class GL{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return wk()?xk().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await UL(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return f1(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return f1(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function m1(t){return Zd(JSON.stringify({version:2,heartbeats:t})).length}function KL(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qL(t){Rn(new pn("platform-logger",e=>new oL(e),"PRIVATE")),Rn(new pn("heartbeat",e=>new WL(e),"PRIVATE")),Rt(kg,d1,t),Rt(kg,d1,"esm2017"),Rt("fire-js","")}qL("");const Ik="@firebase/installations",q0="0.6.16";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pk=1e4,Rk=`w:${q0}`,Ak="FIS_v2",YL="https://firebaseinstallations.googleapis.com/v1",XL=60*60*1e3,QL="installations",JL="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZL={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},Ps=new Bs(QL,JL,ZL);function Nk(t){return t instanceof nr&&t.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dk({projectId:t}){return`${YL}/projects/${t}/installations`}function Ok(t){return{token:t.token,requestStatus:2,expiresIn:tj(t.expiresIn),creationTime:Date.now()}}async function Mk(t,e){const r=(await e.json()).error;return Ps.create("request-failed",{requestName:t,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})}function Lk({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function ej(t,{refreshToken:e}){const n=Lk(t);return n.append("Authorization",nj(e)),n}async function jk(t){const e=await t();return e.status>=500&&e.status<600?t():e}function tj(t){return Number(t.replace("s","000"))}function nj(t){return`${Ak} ${t}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rj({appConfig:t,heartbeatServiceProvider:e},{fid:n}){const r=Dk(t),i=Lk(t),s=e.getImmediate({optional:!0});if(s){const c=await s.getHeartbeatsHeader();c&&i.append("x-firebase-client",c)}const o={fid:n,authVersion:Ak,appId:t.appId,sdkVersion:Rk},a={method:"POST",headers:i,body:JSON.stringify(o)},l=await jk(()=>fetch(r,a));if(l.ok){const c=await l.json();return{fid:c.fid||n,registrationStatus:2,refreshToken:c.refreshToken,authToken:Ok(c.authToken)}}else throw await Mk("Create Installation",l)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fk(t){return new Promise(e=>{setTimeout(e,t)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ij(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sj=/^[cdef][\w-]{21}$/,Rg="";function oj(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const n=aj(t);return sj.test(n)?n:Rg}catch{return Rg}}function aj(t){return ij(t).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sf(t){return`${t.appName}!${t.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $k=new Map;function Vk(t,e){const n=sf(t);Uk(n,e),lj(n,e)}function Uk(t,e){const n=$k.get(t);if(n)for(const r of n)r(e)}function lj(t,e){const n=cj();n&&n.postMessage({key:t,fid:e}),uj()}let ps=null;function cj(){return!ps&&"BroadcastChannel"in self&&(ps=new BroadcastChannel("[Firebase] FID Change"),ps.onmessage=t=>{Uk(t.data.key,t.data.fid)}),ps}function uj(){$k.size===0&&ps&&(ps.close(),ps=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dj="firebase-installations-database",hj=1,Rs="firebase-installations-store";let qp=null;function Y0(){return qp||(qp=rf(dj,hj,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(Rs)}}})),qp}async function rh(t,e){const n=sf(t),i=(await Y0()).transaction(Rs,"readwrite"),s=i.objectStore(Rs),o=await s.get(n);return await s.put(e,n),await i.done,(!o||o.fid!==e.fid)&&Vk(t,e.fid),e}async function Bk(t){const e=sf(t),r=(await Y0()).transaction(Rs,"readwrite");await r.objectStore(Rs).delete(e),await r.done}async function of(t,e){const n=sf(t),i=(await Y0()).transaction(Rs,"readwrite"),s=i.objectStore(Rs),o=await s.get(n),a=e(o);return a===void 0?await s.delete(n):await s.put(a,n),await i.done,a&&(!o||o.fid!==a.fid)&&Vk(t,a.fid),a}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function X0(t){let e;const n=await of(t.appConfig,r=>{const i=fj(r),s=pj(t,i);return e=s.registrationPromise,s.installationEntry});return n.fid===Rg?{installationEntry:await e}:{installationEntry:n,registrationPromise:e}}function fj(t){const e=t||{fid:oj(),registrationStatus:0};return zk(e)}function pj(t,e){if(e.registrationStatus===0){if(!navigator.onLine){const i=Promise.reject(Ps.create("app-offline"));return{installationEntry:e,registrationPromise:i}}const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=mj(t,n);return{installationEntry:n,registrationPromise:r}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:gj(t)}:{installationEntry:e}}async function mj(t,e){try{const n=await rj(t,e);return rh(t.appConfig,n)}catch(n){throw Nk(n)&&n.customData.serverCode===409?await Bk(t.appConfig):await rh(t.appConfig,{fid:e.fid,registrationStatus:0}),n}}async function gj(t){let e=await g1(t.appConfig);for(;e.registrationStatus===1;)await Fk(100),e=await g1(t.appConfig);if(e.registrationStatus===0){const{installationEntry:n,registrationPromise:r}=await X0(t);return r||n}return e}function g1(t){return of(t,e=>{if(!e)throw Ps.create("installation-not-found");return zk(e)})}function zk(t){return yj(t)?{fid:t.fid,registrationStatus:0}:t}function yj(t){return t.registrationStatus===1&&t.registrationTime+Pk<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vj({appConfig:t,heartbeatServiceProvider:e},n){const r=_j(t,n),i=ej(t,n),s=e.getImmediate({optional:!0});if(s){const c=await s.getHeartbeatsHeader();c&&i.append("x-firebase-client",c)}const o={installation:{sdkVersion:Rk,appId:t.appId}},a={method:"POST",headers:i,body:JSON.stringify(o)},l=await jk(()=>fetch(r,a));if(l.ok){const c=await l.json();return Ok(c)}else throw await Mk("Generate Auth Token",l)}function _j(t,{fid:e}){return`${Dk(t)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Q0(t,e=!1){let n;const r=await of(t.appConfig,s=>{if(!Wk(s))throw Ps.create("not-registered");const o=s.authToken;if(!e&&Ej(o))return s;if(o.requestStatus===1)return n=wj(t,e),s;{if(!navigator.onLine)throw Ps.create("app-offline");const a=Sj(s);return n=xj(t,a),a}});return n?await n:r.authToken}async function wj(t,e){let n=await y1(t.appConfig);for(;n.authToken.requestStatus===1;)await Fk(100),n=await y1(t.appConfig);const r=n.authToken;return r.requestStatus===0?Q0(t,e):r}function y1(t){return of(t,e=>{if(!Wk(e))throw Ps.create("not-registered");const n=e.authToken;return bj(n)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}async function xj(t,e){try{const n=await vj(t,e),r=Object.assign(Object.assign({},e),{authToken:n});return await rh(t.appConfig,r),n}catch(n){if(Nk(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await Bk(t.appConfig);else{const r=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});await rh(t.appConfig,r)}throw n}}function Wk(t){return t!==void 0&&t.registrationStatus===2}function Ej(t){return t.requestStatus===2&&!Cj(t)}function Cj(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+XL}function Sj(t){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},t),{authToken:e})}function bj(t){return t.requestStatus===1&&t.requestTime+Pk<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Tj(t){const e=t,{installationEntry:n,registrationPromise:r}=await X0(e);return r?r.catch(console.error):Q0(e).catch(console.error),n.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kj(t,e=!1){const n=t;return await Ij(n),(await Q0(n,e)).token}async function Ij(t){const{registrationPromise:e}=await X0(t);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pj(t){if(!t||!t.options)throw Yp("App Configuration");if(!t.name)throw Yp("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!t.options[n])throw Yp(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}function Yp(t){return Ps.create("missing-app-config-values",{valueName:t})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hk="installations",Rj="installations-internal",Aj=t=>{const e=t.getProvider("app").getImmediate(),n=Pj(e),r=Ki(e,"heartbeat");return{app:e,appConfig:n,heartbeatServiceProvider:r,_delete:()=>Promise.resolve()}},Nj=t=>{const e=t.getProvider("app").getImmediate(),n=Ki(e,Hk).getImmediate();return{getId:()=>Tj(n),getToken:i=>kj(n,i)}};function Dj(){Rn(new pn(Hk,Aj,"PUBLIC")),Rn(new pn(Rj,Nj,"PRIVATE"))}Dj();Rt(Ik,q0);Rt(Ik,q0,"esm2017");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Oj="/firebase-messaging-sw.js",Mj="/firebase-cloud-messaging-push-scope",Gk="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",Lj="https://fcmregistrations.googleapis.com/v1",Kk="google.c.a.c_id",jj="google.c.a.c_l",Fj="google.c.a.ts",$j="google.c.a.e",v1=1e4;var _1;(function(t){t[t.DATA_MESSAGE=1]="DATA_MESSAGE",t[t.DISPLAY_NOTIFICATION=3]="DISPLAY_NOTIFICATION"})(_1||(_1={}));/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License"); you may not use this file except
 * in compliance with the License. You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software distributed under the License
 * is distributed on an "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express
 * or implied. See the License for the specific language governing permissions and limitations under
 * the License.
 */var ic;(function(t){t.PUSH_RECEIVED="push-received",t.NOTIFICATION_CLICKED="notification-clicked"})(ic||(ic={}));/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ar(t){const e=new Uint8Array(t);return btoa(String.fromCharCode(...e)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function Vj(t){const e="=".repeat((4-t.length%4)%4),n=(t+e).replace(/\-/g,"+").replace(/_/g,"/"),r=atob(n),i=new Uint8Array(r.length);for(let s=0;s<r.length;++s)i[s]=r.charCodeAt(s);return i}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xp="fcm_token_details_db",Uj=5,w1="fcm_token_object_Store";async function Bj(t){if("databases"in indexedDB&&!(await indexedDB.databases()).map(s=>s.name).includes(Xp))return null;let e=null;return(await rf(Xp,Uj,{upgrade:async(r,i,s,o)=>{var a;if(i<2||!r.objectStoreNames.contains(w1))return;const l=o.objectStore(w1),c=await l.index("fcmSenderId").get(t);if(await l.clear(),!!c){if(i===2){const d=c;if(!d.auth||!d.p256dh||!d.endpoint)return;e={token:d.fcmToken,createTime:(a=d.createTime)!==null&&a!==void 0?a:Date.now(),subscriptionOptions:{auth:d.auth,p256dh:d.p256dh,endpoint:d.endpoint,swScope:d.swScope,vapidKey:typeof d.vapidKey=="string"?d.vapidKey:Ar(d.vapidKey)}}}else if(i===3){const d=c;e={token:d.fcmToken,createTime:d.createTime,subscriptionOptions:{auth:Ar(d.auth),p256dh:Ar(d.p256dh),endpoint:d.endpoint,swScope:d.swScope,vapidKey:Ar(d.vapidKey)}}}else if(i===4){const d=c;e={token:d.fcmToken,createTime:d.createTime,subscriptionOptions:{auth:Ar(d.auth),p256dh:Ar(d.p256dh),endpoint:d.endpoint,swScope:d.swScope,vapidKey:Ar(d.vapidKey)}}}}}})).close(),await Hp(Xp),await Hp("fcm_vapid_details_db"),await Hp("undefined"),zj(e)?e:null}function zj(t){if(!t||!t.subscriptionOptions)return!1;const{subscriptionOptions:e}=t;return typeof t.createTime=="number"&&t.createTime>0&&typeof t.token=="string"&&t.token.length>0&&typeof e.auth=="string"&&e.auth.length>0&&typeof e.p256dh=="string"&&e.p256dh.length>0&&typeof e.endpoint=="string"&&e.endpoint.length>0&&typeof e.swScope=="string"&&e.swScope.length>0&&typeof e.vapidKey=="string"&&e.vapidKey.length>0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wj="firebase-messaging-database",Hj=1,sc="firebase-messaging-store";let Qp=null;function qk(){return Qp||(Qp=rf(Wj,Hj,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(sc)}}})),Qp}async function Gj(t){const e=Yk(t),r=await(await qk()).transaction(sc).objectStore(sc).get(e);if(r)return r;{const i=await Bj(t.appConfig.senderId);if(i)return await J0(t,i),i}}async function J0(t,e){const n=Yk(t),i=(await qk()).transaction(sc,"readwrite");return await i.objectStore(sc).put(e,n),await i.done,e}function Yk({appConfig:t}){return t.appId}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kj={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."},At=new Bs("messaging","Messaging",Kj);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qj(t,e){const n=await ev(t),r=Xk(e),i={method:"POST",headers:n,body:JSON.stringify(r)};let s;try{s=await(await fetch(Z0(t.appConfig),i)).json()}catch(o){throw At.create("token-subscribe-failed",{errorInfo:o==null?void 0:o.toString()})}if(s.error){const o=s.error.message;throw At.create("token-subscribe-failed",{errorInfo:o})}if(!s.token)throw At.create("token-subscribe-no-token");return s.token}async function Yj(t,e){const n=await ev(t),r=Xk(e.subscriptionOptions),i={method:"PATCH",headers:n,body:JSON.stringify(r)};let s;try{s=await(await fetch(`${Z0(t.appConfig)}/${e.token}`,i)).json()}catch(o){throw At.create("token-update-failed",{errorInfo:o==null?void 0:o.toString()})}if(s.error){const o=s.error.message;throw At.create("token-update-failed",{errorInfo:o})}if(!s.token)throw At.create("token-update-no-token");return s.token}async function Xj(t,e){const r={method:"DELETE",headers:await ev(t)};try{const s=await(await fetch(`${Z0(t.appConfig)}/${e}`,r)).json();if(s.error){const o=s.error.message;throw At.create("token-unsubscribe-failed",{errorInfo:o})}}catch(i){throw At.create("token-unsubscribe-failed",{errorInfo:i==null?void 0:i.toString()})}}function Z0({projectId:t}){return`${Lj}/projects/${t}/registrations`}async function ev({appConfig:t,installations:e}){const n=await e.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t.apiKey,"x-goog-firebase-installations-auth":`FIS ${n}`})}function Xk({p256dh:t,auth:e,endpoint:n,vapidKey:r}){const i={web:{endpoint:n,auth:e,p256dh:t}};return r!==Gk&&(i.web.applicationPubKey=r),i}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qj=7*24*60*60*1e3;async function Jj(t){const e=await e5(t.swRegistration,t.vapidKey),n={vapidKey:t.vapidKey,swScope:t.swRegistration.scope,endpoint:e.endpoint,auth:Ar(e.getKey("auth")),p256dh:Ar(e.getKey("p256dh"))},r=await Gj(t.firebaseDependencies);if(r){if(t5(r.subscriptionOptions,n))return Date.now()>=r.createTime+Qj?Zj(t,{token:r.token,createTime:Date.now(),subscriptionOptions:n}):r.token;try{await Xj(t.firebaseDependencies,r.token)}catch(i){console.warn(i)}return x1(t.firebaseDependencies,n)}else return x1(t.firebaseDependencies,n)}async function Zj(t,e){try{const n=await Yj(t.firebaseDependencies,e),r=Object.assign(Object.assign({},e),{token:n,createTime:Date.now()});return await J0(t.firebaseDependencies,r),n}catch(n){throw n}}async function x1(t,e){const r={token:await qj(t,e),createTime:Date.now(),subscriptionOptions:e};return await J0(t,r),r.token}async function e5(t,e){const n=await t.pushManager.getSubscription();return n||t.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:Vj(e)})}function t5(t,e){const n=e.vapidKey===t.vapidKey,r=e.endpoint===t.endpoint,i=e.auth===t.auth,s=e.p256dh===t.p256dh;return n&&r&&i&&s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function E1(t){const e={from:t.from,collapseKey:t.collapse_key,messageId:t.fcmMessageId};return n5(e,t),r5(e,t),i5(e,t),e}function n5(t,e){if(!e.notification)return;t.notification={};const n=e.notification.title;n&&(t.notification.title=n);const r=e.notification.body;r&&(t.notification.body=r);const i=e.notification.image;i&&(t.notification.image=i);const s=e.notification.icon;s&&(t.notification.icon=s)}function r5(t,e){e.data&&(t.data=e.data)}function i5(t,e){var n,r,i,s,o;if(!e.fcmOptions&&!(!((n=e.notification)===null||n===void 0)&&n.click_action))return;t.fcmOptions={};const a=(i=(r=e.fcmOptions)===null||r===void 0?void 0:r.link)!==null&&i!==void 0?i:(s=e.notification)===null||s===void 0?void 0:s.click_action;a&&(t.fcmOptions.link=a);const l=(o=e.fcmOptions)===null||o===void 0?void 0:o.analytics_label;l&&(t.fcmOptions.analyticsLabel=l)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function s5(t){return typeof t=="object"&&!!t&&Kk in t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */o5("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");function o5(t,e){const n=[];for(let r=0;r<t.length;r++)n.push(t.charAt(r)),r<e.length&&n.push(e.charAt(r));return n.join("")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function a5(t){if(!t||!t.options)throw Jp("App Configuration Object");if(!t.name)throw Jp("App Name");const e=["projectId","apiKey","appId","messagingSenderId"],{options:n}=t;for(const r of e)if(!n[r])throw Jp(r);return{appName:t.name,projectId:n.projectId,apiKey:n.apiKey,appId:n.appId,senderId:n.messagingSenderId}}function Jp(t){return At.create("missing-app-config-values",{valueName:t})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l5{constructor(e,n,r){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const i=a5(e);this.firebaseDependencies={app:e,appConfig:i,installations:n,analyticsProvider:r}}_delete(){return Promise.resolve()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function c5(t){try{t.swRegistration=await navigator.serviceWorker.register(Oj,{scope:Mj}),t.swRegistration.update().catch(()=>{}),await u5(t.swRegistration)}catch(e){throw At.create("failed-service-worker-registration",{browserErrorMessage:e==null?void 0:e.message})}}async function u5(t){return new Promise((e,n)=>{const r=setTimeout(()=>n(new Error(`Service worker not registered after ${v1} ms`)),v1),i=t.installing||t.waiting;t.active?(clearTimeout(r),e()):i?i.onstatechange=s=>{var o;((o=s.target)===null||o===void 0?void 0:o.state)==="activated"&&(i.onstatechange=null,clearTimeout(r),e())}:(clearTimeout(r),n(new Error("No incoming service worker found.")))})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function d5(t,e){if(!e&&!t.swRegistration&&await c5(t),!(!e&&t.swRegistration)){if(!(e instanceof ServiceWorkerRegistration))throw At.create("invalid-sw-registration");t.swRegistration=e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function h5(t,e){e?t.vapidKey=e:t.vapidKey||(t.vapidKey=Gk)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Qk(t,e){if(!navigator)throw At.create("only-available-in-window");if(Notification.permission==="default"&&await Notification.requestPermission(),Notification.permission!=="granted")throw At.create("permission-blocked");return await h5(t,e==null?void 0:e.vapidKey),await d5(t,e==null?void 0:e.serviceWorkerRegistration),Jj(t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function f5(t,e,n){const r=p5(e);(await t.firebaseDependencies.analyticsProvider.get()).logEvent(r,{message_id:n[Kk],message_name:n[jj],message_time:n[Fj],message_device_time:Math.floor(Date.now()/1e3)})}function p5(t){switch(t){case ic.NOTIFICATION_CLICKED:return"notification_open";case ic.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function m5(t,e){const n=e.data;if(!n.isFirebaseMessaging)return;t.onMessageHandler&&n.messageType===ic.PUSH_RECEIVED&&(typeof t.onMessageHandler=="function"?t.onMessageHandler(E1(n)):t.onMessageHandler.next(E1(n)));const r=n.data;s5(r)&&r[$j]==="1"&&await f5(t,n.messageType,r)}const C1="@firebase/messaging",S1="0.12.20";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g5=t=>{const e=new l5(t.getProvider("app").getImmediate(),t.getProvider("installations-internal").getImmediate(),t.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",n=>m5(e,n)),e},y5=t=>{const e=t.getProvider("messaging").getImmediate();return{getToken:r=>Qk(e,r)}};function v5(){Rn(new pn("messaging",g5,"PUBLIC")),Rn(new pn("messaging-internal",y5,"PRIVATE")),Rt(C1,S1),Rt(C1,S1,"esm2017")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _5(){try{await xk()}catch{return!1}return typeof window<"u"&&wk()&&A4()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function w5(t,e){if(!navigator)throw At.create("only-available-in-window");return t.onMessageHandler=e,()=>{t.onMessageHandler=null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ag(t=Lc()){return _5().then(e=>{if(!e)throw At.create("unsupported-browser")},e=>{throw At.create("indexed-db-unsupported")}),Ki(Xe(t),"messaging").getImmediate()}async function x5(t,e){return t=Xe(t),Qk(t,e)}function E5(t,e){return t=Xe(t),w5(t,e)}v5();var C5="firebase",S5="11.7.3";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Rt(C5,S5,"app");var Ng=function(t,e){return Ng=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(n[i]=r[i])},Ng(t,e)};function b5(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");Ng(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}var ot=function(){return ot=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},ot.apply(this,arguments)};function tv(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function Jk(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const T5=Jk,Zk=new Bs("auth","Firebase",Jk());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ih=new nf("@firebase/auth");function k5(t,...e){ih.logLevel<=ve.WARN&&ih.warn(`Auth (${qi}): ${t}`,...e)}function hd(t,...e){ih.logLevel<=ve.ERROR&&ih.error(`Auth (${qi}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function An(t,...e){throw rv(t,...e)}function Xn(t,...e){return rv(t,...e)}function nv(t,e,n){const r=Object.assign(Object.assign({},T5()),{[e]:n});return new Bs("auth","Firebase",r).create(e,{appName:t.name})}function Ur(t){return nv(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function I5(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&An(t,"argument-error"),nv(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function rv(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return Zk.create(t,...e)}function Y(t,e,...n){if(!t)throw rv(e,...n)}function Mr(t){const e="INTERNAL ASSERTION FAILED: "+t;throw hd(e),new Error(e)}function Xr(t,e){t||Mr(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dg(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function P5(){return b1()==="http:"||b1()==="https:"}function b1(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function R5(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(P5()||P4()||"connection"in navigator)?navigator.onLine:!0}function A5(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jc{constructor(e,n){this.shortDelay=e,this.longDelay=n,Xr(n>e,"Short delay should be less than long delay!"),this.isMobile=G0()||vk()}get(){return R5()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iv(t,e){Xr(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eI{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Mr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Mr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Mr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N5={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D5=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],O5=new jc(3e4,6e4);function ni(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function ri(t,e,n,r,i={}){return tI(t,i,async()=>{let s={},o={};r&&(e==="GET"?o=r:s={body:JSON.stringify(r)});const a=ya(Object.assign({key:t.config.apiKey},o)).slice(1),l=await t._getAdditionalHeaders();l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode);const c=Object.assign({method:e,headers:l},s);return I4()||(c.referrerPolicy="no-referrer"),t.emulatorConfig&&Us(t.emulatorConfig.host)&&(c.credentials="include"),eI.fetch()(await nI(t,t.config.apiHost,n,a),c)})}async function tI(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},N5),e);try{const i=new L5(t),s=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=await s.json();if("needConfirmation"in o)throw Lu(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[l,c]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw Lu(t,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw Lu(t,"email-already-in-use",o);if(l==="USER_DISABLED")throw Lu(t,"user-disabled",o);const d=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw nv(t,d,c);An(t,d)}}catch(i){if(i instanceof nr)throw i;An(t,"network-request-failed",{message:String(i)})}}async function Fc(t,e,n,r,i={}){const s=await ri(t,e,n,r,i);return"mfaPendingCredential"in s&&An(t,"multi-factor-auth-required",{_serverResponse:s}),s}async function nI(t,e,n,r){const i=`${e}${n}?${r}`,s=t,o=s.config.emulator?iv(t.config,i):`${t.config.apiScheme}://${i}`;return D5.includes(n)&&(await s._persistenceManagerAvailable,s._getPersistenceType()==="COOKIE")?s._getPersistence()._getFinalTarget(o).toString():o}function M5(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class L5{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Xn(this.auth,"network-request-failed")),O5.get())})}}function Lu(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Xn(t,e,r);return i.customData._tokenResponse=n,i}function T1(t){return t!==void 0&&t.enterprise!==void 0}class j5{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return M5(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function F5(t,e){return ri(t,"GET","/v2/recaptchaConfig",ni(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $5(t,e){return ri(t,"POST","/v1/accounts:delete",e)}async function sh(t,e){return ri(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sl(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function V5(t,e=!1){const n=Xe(t),r=await n.getIdToken(e),i=sv(r);Y(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,o=s==null?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:Sl(Zp(i.auth_time)),issuedAtTime:Sl(Zp(i.iat)),expirationTime:Sl(Zp(i.exp)),signInProvider:o||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function Zp(t){return Number(t)*1e3}function sv(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return hd("JWT malformed, contained fewer than 3 sections"),null;try{const i=eh(n);return i?JSON.parse(i):(hd("Failed to decode base64 JWT payload"),null)}catch(i){return hd("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function k1(t){const e=sv(t);return Y(e,"internal-error"),Y(typeof e.exp<"u","internal-error"),Y(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oc(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof nr&&U5(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function U5({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B5{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Og{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Sl(this.lastLoginAt),this.creationTime=Sl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oh(t){var e;const n=t.auth,r=await t.getIdToken(),i=await oc(t,sh(n,{idToken:r}));Y(i==null?void 0:i.users.length,n,"internal-error");const s=i.users[0];t._notifyReloadListener(s);const o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?rI(s.providerUserInfo):[],a=W5(t.providerData,o),l=t.isAnonymous,c=!(t.email&&s.passwordHash)&&!(a!=null&&a.length),d=l?c:!1,h={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new Og(s.createdAt,s.lastLoginAt),isAnonymous:d};Object.assign(t,h)}async function z5(t){const e=Xe(t);await oh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function W5(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function rI(t){return t.map(e=>{var{providerId:n}=e,r=tv(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function H5(t,e){const n=await tI(t,{},async()=>{const r=ya({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=await nI(t,i,"/v1/token",`key=${s}`),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",eI.fetch()(o,{method:"POST",headers:a,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function G5(t,e){return ri(t,"POST","/v2/accounts:revokeToken",ni(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Y(e.idToken,"internal-error"),Y(typeof e.idToken<"u","internal-error"),Y(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):k1(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Y(e.length!==0,"internal-error");const n=k1(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Y(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:s}=await H5(e,n);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new Oo;return r&&(Y(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(Y(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(Y(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Oo,this.toJSON())}_performRefresh(){return Mr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ui(t,e){Y(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Wn{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=tv(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new B5(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new Og(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await oc(this,this.stsTokenManager.getToken(this.auth,e));return Y(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return V5(this,e)}reload(){return z5(this)}_assign(e){this!==e&&(Y(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Wn(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){Y(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await oh(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Ft(this.auth.app))return Promise.reject(Ur(this.auth));const e=await this.getIdToken();return await oc(this,$5(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,a,l,c,d;const h=(r=n.displayName)!==null&&r!==void 0?r:void 0,f=(i=n.email)!==null&&i!==void 0?i:void 0,v=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,_=(o=n.photoURL)!==null&&o!==void 0?o:void 0,S=(a=n.tenantId)!==null&&a!==void 0?a:void 0,P=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,w=(c=n.createdAt)!==null&&c!==void 0?c:void 0,C=(d=n.lastLoginAt)!==null&&d!==void 0?d:void 0,{uid:E,emailVerified:R,isAnonymous:D,providerData:M,stsTokenManager:b}=n;Y(E&&b,e,"internal-error");const x=Oo.fromJSON(this.name,b);Y(typeof E=="string",e,"internal-error"),ui(h,e.name),ui(f,e.name),Y(typeof R=="boolean",e,"internal-error"),Y(typeof D=="boolean",e,"internal-error"),ui(v,e.name),ui(_,e.name),ui(S,e.name),ui(P,e.name),ui(w,e.name),ui(C,e.name);const I=new Wn({uid:E,auth:e,email:f,emailVerified:R,displayName:h,isAnonymous:D,photoURL:_,phoneNumber:v,tenantId:S,stsTokenManager:x,createdAt:w,lastLoginAt:C});return M&&Array.isArray(M)&&(I.providerData=M.map(g=>Object.assign({},g))),P&&(I._redirectEventId=P),I}static async _fromIdTokenResponse(e,n,r=!1){const i=new Oo;i.updateFromServerResponse(n);const s=new Wn({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await oh(s),s}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];Y(i.localId!==void 0,"internal-error");const s=i.providerUserInfo!==void 0?rI(i.providerUserInfo):[],o=!(i.email&&i.passwordHash)&&!(s!=null&&s.length),a=new Oo;a.updateFromIdToken(r);const l=new Wn({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:o}),c={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new Og(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(s!=null&&s.length)};return Object.assign(l,c),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I1=new Map;function Lr(t){Xr(t instanceof Function,"Expected a class definition");let e=I1.get(t);return e?(Xr(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,I1.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iI{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}iI.type="NONE";const P1=iI;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fd(t,e,n){return`firebase:${t}:${e}:${n}`}class Mo{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=fd(this.userKey,i.apiKey,s),this.fullPersistenceKey=fd("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await sh(this.auth,{idToken:e}).catch(()=>{});return n?Wn._fromGetAccountInfoResponse(this.auth,n,e):null}return Wn._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Mo(Lr(P1),e,r);const i=(await Promise.all(n.map(async c=>{if(await c._isAvailable())return c}))).filter(c=>c);let s=i[0]||Lr(P1);const o=fd(r,e.config.apiKey,e.name);let a=null;for(const c of n)try{const d=await c._get(o);if(d){let h;if(typeof d=="string"){const f=await sh(e,{idToken:d}).catch(()=>{});if(!f)break;h=await Wn._fromGetAccountInfoResponse(e,f,d)}else h=Wn._fromJSON(e,d);c!==s&&(a=h),s=c;break}}catch{}const l=i.filter(c=>c._shouldAllowMigration);return!s._shouldAllowMigration||!l.length?new Mo(s,e,r):(s=l[0],a&&await s._set(o,a.toJSON()),await Promise.all(n.map(async c=>{if(c!==s)try{await c._remove(o)}catch{}})),new Mo(s,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function R1(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(lI(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(sI(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(uI(e))return"Blackberry";if(dI(e))return"Webos";if(oI(e))return"Safari";if((e.includes("chrome/")||aI(e))&&!e.includes("edge/"))return"Chrome";if(cI(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function sI(t=zt()){return/firefox\//i.test(t)}function oI(t=zt()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function aI(t=zt()){return/crios\//i.test(t)}function lI(t=zt()){return/iemobile/i.test(t)}function cI(t=zt()){return/android/i.test(t)}function uI(t=zt()){return/blackberry/i.test(t)}function dI(t=zt()){return/webos/i.test(t)}function ov(t=zt()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function K5(t=zt()){var e;return ov(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function q5(){return R4()&&document.documentMode===10}function hI(t=zt()){return ov(t)||cI(t)||dI(t)||uI(t)||/windows phone/i.test(t)||lI(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fI(t,e=[]){let n;switch(t){case"Browser":n=R1(zt());break;case"Worker":n=`${R1(zt())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${qi}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y5{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((o,a)=>{try{const l=e(s);o(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function X5(t,e={}){return ri(t,"GET","/v2/passwordPolicy",ni(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q5=6;class J5{constructor(e){var n,r,i,s;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:Q5,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,s,o,a;const l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=(n=l.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),l.isValid&&(l.isValid=(r=l.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(i=l.containsLowercaseLetter)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(s=l.containsUppercaseLetter)!==null&&s!==void 0?s:!0),l.isValid&&(l.isValid=(o=l.containsNumericCharacter)!==null&&o!==void 0?o:!0),l.isValid&&(l.isValid=(a=l.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),l}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z5{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new A1(this),this.idTokenSubscription=new A1(this),this.beforeStateQueue=new Y5(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Zk,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(s=>this._resolvePersistenceManagerAvailable=s)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Lr(n)),this._initializationPromise=this.queue(async()=>{var r,i,s;if(!this._deleted&&(this.persistenceManager=await Mo.create(this,e),(r=this._resolvePersistenceManagerAvailable)===null||r===void 0||r.call(this),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((s=this.currentUser)===null||s===void 0?void 0:s.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await sh(this,{idToken:e}),r=await Wn._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(Ft(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let i=r,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i==null?void 0:i._redirectEventId,l=await this.tryRedirectSignIn(e);(!o||o===a)&&(l!=null&&l.user)&&(i=l.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return Y(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await oh(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=A5()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Ft(this.app))return Promise.reject(Ur(this));const n=e?Xe(e):null;return n&&Y(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Y(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Ft(this.app)?Promise.reject(Ur(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Ft(this.app)?Promise.reject(Ur(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Lr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await X5(this),n=new J5(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Bs("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await G5(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Lr(e)||this._popupRedirectResolver;Y(n,this,"argument-error"),this.redirectPersistenceManager=await Mo.create(this,[Lr(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(Y(a,this,"internal-error"),a.then(()=>{o||s(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,r,i);return()=>{o=!0,l()}}else{const l=e.addObserver(n);return()=>{o=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Y(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=fI(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;if(Ft(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&k5(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function Yi(t){return Xe(t)}class A1{constructor(e){this.auth=e,this.observer=null,this.addObserver=F4(n=>this.observer=n)}get next(){return Y(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let af={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function e3(t){af=t}function pI(t){return af.loadJS(t)}function t3(){return af.recaptchaEnterpriseScript}function n3(){return af.gapiScript}function r3(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class i3{constructor(){this.enterprise=new s3}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class s3{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const o3="recaptcha-enterprise",mI="NO_RECAPTCHA";class a3{constructor(e){this.type=o3,this.auth=Yi(e)}async verify(e="verify",n=!1){async function r(s){if(!n){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise(async(o,a)=>{F5(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const c=new j5(l);return s.tenantId==null?s._agentRecaptchaConfig=c:s._tenantRecaptchaConfigs[s.tenantId]=c,o(c.siteKey)}}).catch(l=>{a(l)})})}function i(s,o,a){const l=window.grecaptcha;T1(l)?l.enterprise.ready(()=>{l.enterprise.execute(s,{action:e}).then(c=>{o(c)}).catch(()=>{o(mI)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new i3().execute("siteKey",{action:"verify"}):new Promise((s,o)=>{r(this.auth).then(a=>{if(!n&&T1(window.grecaptcha))i(a,s,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let l=t3();l.length!==0&&(l+=a),pI(l).then(()=>{i(a,s,o)}).catch(c=>{o(c)})}}).catch(a=>{o(a)})})}}async function Ya(t,e,n,r=!1,i=!1){const s=new a3(t);let o;if(i)o=mI;else try{o=await s.verify(n)}catch{o=await s.verify(n,!0)}const a=Object.assign({},e);if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in a){const l=a.phoneEnrollmentInfo.phoneNumber,c=a.phoneEnrollmentInfo.recaptchaToken;Object.assign(a,{phoneEnrollmentInfo:{phoneNumber:l,recaptchaToken:c,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in a){const l=a.phoneSignInInfo.recaptchaToken;Object.assign(a,{phoneSignInInfo:{recaptchaToken:l,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return a}return r?Object.assign(a,{captchaResp:o}):Object.assign(a,{captchaResponse:o}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a}async function Mg(t,e,n,r,i){var s,o;if(i==="EMAIL_PASSWORD_PROVIDER")if(!((s=t._getRecaptchaConfig())===null||s===void 0)&&s.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const a=await Ya(t,e,n,n==="getOobCode");return r(t,a)}else return r(t,e).catch(async a=>{if(a.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const l=await Ya(t,e,n,n==="getOobCode");return r(t,l)}else return Promise.reject(a)});else if(i==="PHONE_PROVIDER")if(!((o=t._getRecaptchaConfig())===null||o===void 0)&&o.isProviderEnabled("PHONE_PROVIDER")){const a=await Ya(t,e,n);return r(t,a).catch(async l=>{var c;if(((c=t._getRecaptchaConfig())===null||c===void 0?void 0:c.getProviderEnforcementState("PHONE_PROVIDER"))==="AUDIT"&&(l.code==="auth/missing-recaptcha-token"||l.code==="auth/invalid-app-credential")){console.log(`Failed to verify with reCAPTCHA Enterprise. Automatically triggering the reCAPTCHA v2 flow to complete the ${n} flow.`);const d=await Ya(t,e,n,!1,!0);return r(t,d)}return Promise.reject(l)})}else{const a=await Ya(t,e,n,!1,!0);return r(t,a)}else return Promise.reject(i+" provider is not supported.")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function l3(t,e){const n=Ki(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),s=n.getOptions();if(Li(s,e??{}))return i;An(i,"already-initialized")}return n.initialize({options:e})}function c3(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Lr);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function gI(t,e,n){const r=Yi(t);Y(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!!(n!=null&&n.disableWarnings),s=yI(e),{host:o,port:a}=u3(e),l=a===null?"":`:${a}`,c={url:`${s}//${o}${l}/`},d=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){Y(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),Y(Li(c,r.config.emulator)&&Li(d,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=c,r.emulatorConfig=d,r.settings.appVerificationDisabledForTesting=!0,Us(o)?(Gi("Auth",!0),Zh(`${s}//${o}${l}`)):i||d3()}function yI(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function u3(t){const e=yI(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:N1(r.substr(s.length+1))}}else{const[s,o]=r.split(":");return{host:s,port:N1(o)}}}function N1(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function d3(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class av{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Mr("not implemented")}_getIdTokenResponse(e){return Mr("not implemented")}_linkToIdToken(e,n){return Mr("not implemented")}_getReauthenticationResolver(e){return Mr("not implemented")}}async function h3(t,e){return ri(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function f3(t,e){return Fc(t,"POST","/v1/accounts:signInWithPassword",ni(t,e))}async function p3(t,e){return ri(t,"POST","/v1/accounts:sendOobCode",ni(t,e))}async function m3(t,e){return p3(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function g3(t,e){return Fc(t,"POST","/v1/accounts:signInWithEmailLink",ni(t,e))}async function y3(t,e){return Fc(t,"POST","/v1/accounts:signInWithEmailLink",ni(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ac extends av{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new ac(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new ac(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Mg(e,n,"signInWithPassword",f3,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return g3(e,{email:this._email,oobCode:this._password});default:An(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Mg(e,r,"signUpPassword",h3,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return y3(e,{idToken:n,email:this._email,oobCode:this._password});default:An(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Lo(t,e){return Fc(t,"POST","/v1/accounts:signInWithIdp",ni(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v3="http://localhost";class As extends av{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new As(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):An("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,s=tv(n,["providerId","signInMethod"]);if(!r||!i)return null;const o=new As(r,i);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return Lo(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Lo(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Lo(e,n)}buildRequest(){const e={requestUri:v3,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=ya(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _3(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function w3(t){const e=ll(cl(t)).link,n=e?ll(cl(e)).deep_link_id:null,r=ll(cl(t)).deep_link_id;return(r?ll(cl(r)).link:null)||r||n||e||t}class lv{constructor(e){var n,r,i,s,o,a;const l=ll(cl(e)),c=(n=l.apiKey)!==null&&n!==void 0?n:null,d=(r=l.oobCode)!==null&&r!==void 0?r:null,h=_3((i=l.mode)!==null&&i!==void 0?i:null);Y(c&&d&&h,"argument-error"),this.apiKey=c,this.operation=h,this.code=d,this.continueUrl=(s=l.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(o=l.lang)!==null&&o!==void 0?o:null,this.tenantId=(a=l.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){const n=w3(e);try{return new lv(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class va{constructor(){this.providerId=va.PROVIDER_ID}static credential(e,n){return ac._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=lv.parseLink(n);return Y(r,"argument-error"),ac._fromEmailAndCode(e,r.code,r.tenantId)}}va.PROVIDER_ID="password";va.EMAIL_PASSWORD_SIGN_IN_METHOD="password";va.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cv{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $c extends cv{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gi extends $c{constructor(){super("facebook.com")}static credential(e){return As._fromParams({providerId:gi.PROVIDER_ID,signInMethod:gi.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return gi.credentialFromTaggedObject(e)}static credentialFromError(e){return gi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return gi.credential(e.oauthAccessToken)}catch{return null}}}gi.FACEBOOK_SIGN_IN_METHOD="facebook.com";gi.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cr extends $c{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return As._fromParams({providerId:cr.PROVIDER_ID,signInMethod:cr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return cr.credentialFromTaggedObject(e)}static credentialFromError(e){return cr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return cr.credential(n,r)}catch{return null}}}cr.GOOGLE_SIGN_IN_METHOD="google.com";cr.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yi extends $c{constructor(){super("github.com")}static credential(e){return As._fromParams({providerId:yi.PROVIDER_ID,signInMethod:yi.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return yi.credentialFromTaggedObject(e)}static credentialFromError(e){return yi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return yi.credential(e.oauthAccessToken)}catch{return null}}}yi.GITHUB_SIGN_IN_METHOD="github.com";yi.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vi extends $c{constructor(){super("twitter.com")}static credential(e,n){return As._fromParams({providerId:vi.PROVIDER_ID,signInMethod:vi.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return vi.credentialFromTaggedObject(e)}static credentialFromError(e){return vi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return vi.credential(n,r)}catch{return null}}}vi.TWITTER_SIGN_IN_METHOD="twitter.com";vi.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function x3(t,e){return Fc(t,"POST","/v1/accounts:signUp",ni(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ns{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const s=await Wn._fromIdTokenResponse(e,r,i),o=D1(r);return new Ns({user:s,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=D1(r);return new Ns({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function D1(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ah extends nr{constructor(e,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,ah.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new ah(e,n,r,i)}}function vI(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?ah._fromErrorAndOperation(t,s,e,r):s})}async function E3(t,e,n=!1){const r=await oc(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Ns._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function C3(t,e,n=!1){const{auth:r}=t;if(Ft(r.app))return Promise.reject(Ur(r));const i="reauthenticate";try{const s=await oc(t,vI(r,i,e,t),n);Y(s.idToken,r,"internal-error");const o=sv(s.idToken);Y(o,r,"internal-error");const{sub:a}=o;return Y(t.uid===a,r,"user-mismatch"),Ns._forOperation(t,i,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&An(r,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _I(t,e,n=!1){if(Ft(t.app))return Promise.reject(Ur(t));const r="signIn",i=await vI(t,r,e),s=await Ns._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(s.user),s}async function S3(t,e){return _I(Yi(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function b3(t,e,n){var r;Y(((r=n.url)===null||r===void 0?void 0:r.length)>0,t,"invalid-continue-uri"),Y(typeof n.dynamicLinkDomain>"u"||n.dynamicLinkDomain.length>0,t,"invalid-dynamic-link-domain"),Y(typeof n.linkDomain>"u"||n.linkDomain.length>0,t,"invalid-hosting-link-domain"),e.continueUrl=n.url,e.dynamicLinkDomain=n.dynamicLinkDomain,e.linkDomain=n.linkDomain,e.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(Y(n.iOS.bundleId.length>0,t,"missing-ios-bundle-id"),e.iOSBundleId=n.iOS.bundleId),n.android&&(Y(n.android.packageName.length>0,t,"missing-android-pkg-name"),e.androidInstallApp=n.android.installApp,e.androidMinimumVersionCode=n.android.minimumVersion,e.androidPackageName=n.android.packageName)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wI(t){const e=Yi(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function xI(t,e,n){if(Ft(t.app))return Promise.reject(Ur(t));const r=Yi(t),o=await Mg(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",x3,"EMAIL_PASSWORD_PROVIDER").catch(l=>{throw l.code==="auth/password-does-not-meet-requirements"&&wI(t),l}),a=await Ns._fromIdTokenResponse(r,"signIn",o);return await r._updateCurrentUser(a.user),a}function T3(t,e,n){return Ft(t.app)?Promise.reject(Ur(t)):S3(Xe(t),va.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&wI(t),r})}async function k3(t,e){const n=Xe(t),i={requestType:"VERIFY_EMAIL",idToken:await t.getIdToken()};e&&b3(n.auth,i,e);const{email:s}=await m3(n.auth,i);s!==t.email&&await t.reload()}function I3(t,e,n,r){return Xe(t).onIdTokenChanged(e,n,r)}function P3(t,e,n){return Xe(t).beforeAuthStateChanged(e,n)}function R3(t,e,n,r){return Xe(t).onAuthStateChanged(e,n,r)}function EI(t){return Xe(t).signOut()}const lh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CI{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(lh,"1"),this.storage.removeItem(lh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A3=1e3,N3=10;class SI extends CI{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=hI(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,l)=>{this.notifyListeners(o,l)});return}const r=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},s=this.storage.getItem(r);q5()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,N3):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},A3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}SI.type="LOCAL";const D3=SI;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bI extends CI{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}bI.type="SESSION";const TI=bI;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function O3(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lf{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new lf(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:s}=n.data,o=this.handlersMap[i];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const a=Array.from(o).map(async c=>c(n.origin,s)),l=await O3(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}lf.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uv(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M3{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((a,l)=>{const c=uv("",20);i.port1.start();const d=setTimeout(()=>{l(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(h){const f=h;if(f.data.eventId===c)switch(f.data.status){case"ack":clearTimeout(d),s=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(f.data.response);break;default:clearTimeout(d),clearTimeout(s),l(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:c,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fr(){return window}function L3(t){fr().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kI(){return typeof fr().WorkerGlobalScope<"u"&&typeof fr().importScripts=="function"}async function j3(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function F3(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function $3(){return kI()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const II="firebaseLocalStorageDb",V3=1,ch="firebaseLocalStorage",PI="fbase_key";class Vc{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function cf(t,e){return t.transaction([ch],e?"readwrite":"readonly").objectStore(ch)}function U3(){const t=indexedDB.deleteDatabase(II);return new Vc(t).toPromise()}function Lg(){const t=indexedDB.open(II,V3);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(ch,{keyPath:PI})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(ch)?e(r):(r.close(),await U3(),e(await Lg()))})})}async function O1(t,e,n){const r=cf(t,!0).put({[PI]:e,value:n});return new Vc(r).toPromise()}async function B3(t,e){const n=cf(t,!1).get(e),r=await new Vc(n).toPromise();return r===void 0?null:r.value}function M1(t,e){const n=cf(t,!0).delete(e);return new Vc(n).toPromise()}const z3=800,W3=3;class RI{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Lg(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>W3)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return kI()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=lf._getInstance($3()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await j3(),!this.activeServiceWorker)return;this.sender=new M3(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||F3()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Lg();return await O1(e,lh,"1"),await M1(e,lh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>O1(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>B3(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>M1(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=cf(i,!1).getAll();return new Vc(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:s}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),z3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}RI.type="LOCAL";const H3=RI;new jc(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AI(t,e){return e?Lr(e):(Y(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dv extends av{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Lo(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Lo(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Lo(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function G3(t){return _I(t.auth,new dv(t),t.bypassAuthState)}function K3(t){const{auth:e,user:n}=t;return Y(n,e,"internal-error"),C3(n,new dv(t),t.bypassAuthState)}async function q3(t){const{auth:e,user:n}=t;return Y(n,e,"internal-error"),E3(n,new dv(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NI{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:o,type:a}=e;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(c){this.reject(c)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return G3;case"linkViaPopup":case"linkViaRedirect":return q3;case"reauthViaPopup":case"reauthViaRedirect":return K3;default:An(this.auth,"internal-error")}}resolve(e){Xr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Xr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y3=new jc(2e3,1e4);async function X3(t,e,n){if(Ft(t.app))return Promise.reject(Xn(t,"operation-not-supported-in-this-environment"));const r=Yi(t);I5(t,e,cv);const i=AI(r,n);return new ms(r,"signInViaPopup",e,i).executeNotNull()}class ms extends NI{constructor(e,n,r,i,s){super(e,n,i,s),this.provider=r,this.authWindow=null,this.pollId=null,ms.currentPopupAction&&ms.currentPopupAction.cancel(),ms.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Y(e,this.auth,"internal-error"),e}async onExecution(){Xr(this.filter.length===1,"Popup operations only handle one event");const e=uv();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Xn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Xn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,ms.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Xn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,Y3.get())};e()}}ms.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q3="pendingRedirect",pd=new Map;class J3 extends NI{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=pd.get(this.auth._key());if(!e){try{const r=await Z3(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}pd.set(this.auth._key(),e)}return this.bypassAuthState||pd.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function Z3(t,e){const n=n6(e),r=t6(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function e6(t,e){pd.set(t._key(),e)}function t6(t){return Lr(t._redirectPersistence)}function n6(t){return fd(Q3,t.config.apiKey,t.name)}async function r6(t,e,n=!1){if(Ft(t.app))return Promise.reject(Ur(t));const r=Yi(t),i=AI(r,e),o=await new J3(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i6=10*60*1e3;class s6{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!o6(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!DI(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(Xn(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=i6&&this.cachedEventUids.clear(),this.cachedEventUids.has(L1(e))}saveEventToCache(e){this.cachedEventUids.add(L1(e)),this.lastProcessedEventTime=Date.now()}}function L1(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function DI({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function o6(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return DI(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function a6(t,e={}){return ri(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l6=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,c6=/^https?/;async function u6(t){if(t.config.emulator)return;const{authorizedDomains:e}=await a6(t);for(const n of e)try{if(d6(n))return}catch{}An(t,"unauthorized-domain")}function d6(t){const e=Dg(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!c6.test(n))return!1;if(l6.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h6=new jc(3e4,6e4);function j1(){const t=fr().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function f6(t){return new Promise((e,n)=>{var r,i,s;function o(){j1(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{j1(),n(Xn(t,"network-request-failed"))},timeout:h6.get()})}if(!((i=(r=fr().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=fr().gapi)===null||s===void 0)&&s.load)o();else{const a=r3("iframefcb");return fr()[a]=()=>{gapi.load?o():n(Xn(t,"network-request-failed"))},pI(`${n3()}?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw md=null,e})}let md=null;function p6(t){return md=md||f6(t),md}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m6=new jc(5e3,15e3),g6="__/auth/iframe",y6="emulator/auth/iframe",v6={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},_6=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function w6(t){const e=t.config;Y(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?iv(e,y6):`https://${t.config.authDomain}/${g6}`,r={apiKey:e.apiKey,appName:t.name,v:qi},i=_6.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${ya(r).slice(1)}`}async function x6(t){const e=await p6(t),n=fr().gapi;return Y(n,t,"internal-error"),e.open({where:document.body,url:w6(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:v6,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const o=Xn(t,"network-request-failed"),a=fr().setTimeout(()=>{s(o)},m6.get());function l(){fr().clearTimeout(a),i(r)}r.ping(l).then(l,()=>{s(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E6={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},C6=500,S6=600,b6="_blank",T6="http://localhost";class F1{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function k6(t,e,n,r=C6,i=S6){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=Object.assign(Object.assign({},E6),{width:r.toString(),height:i.toString(),top:s,left:o}),c=zt().toLowerCase();n&&(a=aI(c)?b6:n),sI(c)&&(e=e||T6,l.scrollbars="yes");const d=Object.entries(l).reduce((f,[v,_])=>`${f}${v}=${_},`,"");if(K5(c)&&a!=="_self")return I6(e||"",a),new F1(null);const h=window.open(e||"",a,d);Y(h,t,"popup-blocked");try{h.focus()}catch{}return new F1(h)}function I6(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P6="__/auth/handler",R6="emulator/auth/handler",A6=encodeURIComponent("fac");async function $1(t,e,n,r,i,s){Y(t.config.authDomain,t,"auth-domain-config-required"),Y(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:qi,eventId:i};if(e instanceof cv){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",Sg(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[d,h]of Object.entries(s||{}))o[d]=h}if(e instanceof $c){const d=e.getScopes().filter(h=>h!=="");d.length>0&&(o.scopes=d.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const d of Object.keys(a))a[d]===void 0&&delete a[d];const l=await t._getAppCheckToken(),c=l?`#${A6}=${encodeURIComponent(l)}`:"";return`${N6(t)}?${ya(a).slice(1)}${c}`}function N6({config:t}){return t.emulator?iv(t,R6):`https://${t.authDomain}/${P6}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const em="webStorageSupport";class D6{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=TI,this._completeRedirectFn=r6,this._overrideRedirectResult=e6}async _openPopup(e,n,r,i){var s;Xr((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const o=await $1(e,n,r,Dg(),i);return k6(e,o,uv())}async _openRedirect(e,n,r,i){await this._originValidation(e);const s=await $1(e,n,r,Dg(),i);return L3(s),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(Xr(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await x6(e),r=new s6(e);return n.register("authEvent",i=>(Y(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(em,{type:em},i=>{var s;const o=(s=i==null?void 0:i[0])===null||s===void 0?void 0:s[em];o!==void 0&&n(!!o),An(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=u6(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return hI()||oI()||ov()}}const O6=D6;var V1="@firebase/auth",U1="1.10.4";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M6{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Y(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function L6(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function j6(t){Rn(new pn("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;Y(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:fI(t)},c=new Z5(r,i,s,l);return c3(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Rn(new pn("auth-internal",e=>{const n=Yi(e.getProvider("auth").getImmediate());return(r=>new M6(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Rt(V1,U1,L6(t)),Rt(V1,U1,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F6=5*60,$6=yk("authIdTokenMaxAge")||F6;let B1=null;const V6=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>$6)return;const i=n==null?void 0:n.token;B1!==i&&(B1=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function U6(t=Lc()){const e=Ki(t,"auth");if(e.isInitialized())return e.getImmediate();const n=l3(t,{popupRedirectResolver:O6,persistence:[H3,D3,TI]}),r=yk("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const s=new URL(r,location.origin);if(location.origin===s.origin){const o=V6(s.toString());P3(n,o,()=>o(n.currentUser)),I3(n,a=>o(a))}}const i=mk("auth");return i?gI(n,`http://${i}`):Gi("Auth",!1),n}function B6(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}e3({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=Xn("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",B6().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});j6("Browser");const z1="@firebase/database",W1="1.0.17";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let OI="";function z6(t){OI=t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W6{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,n){n==null?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),nt(n))}get(e){const n=this.domStorage_.getItem(this.prefixedName_(e));return n==null?null:nc(n)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H6{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,n){n==null?delete this.cache_[e]:this.cache_[e]=n}get(e){return Cr(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MI=function(t){try{if(typeof window<"u"&&typeof window[t]<"u"){const e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new W6(e)}}catch{}return new H6},gs=MI("localStorage"),jg=MI("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jo=new nf("@firebase/database"),G6=function(){let t=1;return function(){return t++}}(),LI=function(t){const e=U4(t),n=new j4;n.update(e);const r=n.digest();return B0.encodeByteArray(r)},Uc=function(...t){let e="";for(let n=0;n<t.length;n++){const r=t[n];Array.isArray(r)||r&&typeof r=="object"&&typeof r.length=="number"?e+=Uc.apply(null,r):typeof r=="object"?e+=nt(r):e+=r,e+=" "}return e};let xs=null,H1=!0;const K6=function(t,e){B(!e||t===!0||t===!1,"Can't turn on custom loggers persistently."),t===!0?(jo.logLevel=ve.VERBOSE,xs=jo.log.bind(jo),e&&jg.set("logging_enabled",!0)):typeof t=="function"?xs=t:(xs=null,jg.remove("logging_enabled"))},yt=function(...t){if(H1===!0&&(H1=!1,xs===null&&jg.get("logging_enabled")===!0&&K6(!0)),xs){const e=Uc.apply(null,t);xs(e)}},Bc=function(t){return function(...e){yt(t,...e)}},Fg=function(...t){const e="FIREBASE INTERNAL ERROR: "+Uc(...t);jo.error(e)},Qr=function(...t){const e=`FIREBASE FATAL ERROR: ${Uc(...t)}`;throw jo.error(e),new Error(e)},Bt=function(...t){const e="FIREBASE WARNING: "+Uc(...t);jo.warn(e)},q6=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&Bt("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},hv=function(t){return typeof t=="number"&&(t!==t||t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY)},Y6=function(t){if(document.readyState==="complete")t();else{let e=!1;const n=function(){if(!document.body){setTimeout(n,Math.floor(10));return}e||(e=!0,t())};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&n()}),window.attachEvent("onload",n))}},Xo="[MIN_NAME]",Ds="[MAX_NAME]",zs=function(t,e){if(t===e)return 0;if(t===Xo||e===Ds)return-1;if(e===Xo||t===Ds)return 1;{const n=G1(t),r=G1(e);return n!==null?r!==null?n-r===0?t.length-e.length:n-r:-1:r!==null?1:t<e?-1:1}},X6=function(t,e){return t===e?0:t<e?-1:1},Xa=function(t,e){if(e&&t in e)return e[t];throw new Error("Missing required key ("+t+") in object: "+nt(e))},fv=function(t){if(typeof t!="object"||t===null)return nt(t);const e=[];for(const r in t)e.push(r);e.sort();let n="{";for(let r=0;r<e.length;r++)r!==0&&(n+=","),n+=nt(e[r]),n+=":",n+=fv(t[e[r]]);return n+="}",n},jI=function(t,e){const n=t.length;if(n<=e)return[t];const r=[];for(let i=0;i<n;i+=e)i+e>n?r.push(t.substring(i,n)):r.push(t.substring(i,i+e));return r};function wt(t,e){for(const n in t)t.hasOwnProperty(n)&&e(n,t[n])}const FI=function(t){B(!hv(t),"Invalid JSON number");const e=11,n=52,r=(1<<e-1)-1;let i,s,o,a,l;t===0?(s=0,o=0,i=1/t===-1/0?1:0):(i=t<0,t=Math.abs(t),t>=Math.pow(2,1-r)?(a=Math.min(Math.floor(Math.log(t)/Math.LN2),r),s=a+r,o=Math.round(t*Math.pow(2,n-a)-Math.pow(2,n))):(s=0,o=Math.round(t/Math.pow(2,1-r-n))));const c=[];for(l=n;l;l-=1)c.push(o%2?1:0),o=Math.floor(o/2);for(l=e;l;l-=1)c.push(s%2?1:0),s=Math.floor(s/2);c.push(i?1:0),c.reverse();const d=c.join("");let h="";for(l=0;l<64;l+=8){let f=parseInt(d.substr(l,8),2).toString(16);f.length===1&&(f="0"+f),h=h+f}return h.toLowerCase()},Q6=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},J6=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function Z6(t,e){let n="Unknown Error";t==="too_big"?n="The data requested exceeds the maximum size that can be accessed with a single request.":t==="permission_denied"?n="Client doesn't have permission to access the desired data.":t==="unavailable"&&(n="The service is unavailable");const r=new Error(t+" at "+e._path.toString()+": "+n);return r.code=t.toUpperCase(),r}const eF=new RegExp("^-?(0*)\\d{1,10}$"),tF=-2147483648,nF=2147483647,G1=function(t){if(eF.test(t)){const e=Number(t);if(e>=tF&&e<=nF)return e}return null},_a=function(t){try{t()}catch(e){setTimeout(()=>{const n=e.stack||"";throw Bt("Exception was thrown by user callback.",n),e},Math.floor(0))}},rF=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},bl=function(t,e){const n=setTimeout(t,e);return typeof n=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(n):typeof n=="object"&&n.unref&&n.unref(),n};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iF{constructor(e,n){this.appCheckProvider=n,this.appName=e.name,Ft(e)&&e.settings.appCheckToken&&(this.serverAppAppCheckToken=e.settings.appCheckToken),this.appCheck=n==null?void 0:n.getImmediate({optional:!0}),this.appCheck||n==null||n.get().then(r=>this.appCheck=r)}getToken(e){if(this.serverAppAppCheckToken){if(e)throw new Error("Attempted reuse of `FirebaseServerApp.appCheckToken` after previous usage failed.");return Promise.resolve({token:this.serverAppAppCheckToken})}return this.appCheck?this.appCheck.getToken(e):new Promise((n,r)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){var n;(n=this.appCheckProvider)===null||n===void 0||n.get().then(r=>r.addTokenListener(e))}notifyForInvalidToken(){Bt(`Provided AppCheck credentials for the app named "${this.appName}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sF{constructor(e,n,r){this.appName_=e,this.firebaseOptions_=n,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit(i=>this.auth_=i)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(n=>n&&n.code==="auth/token-not-initialized"?(yt("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(n)):new Promise((n,r)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(n=>n.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(n=>n.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',Bt(e)}}class Fo{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}Fo.OWNER="owner";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pv="5",$I="v",VI="s",UI="r",BI="f",zI=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,WI="ls",HI="p",$g="ac",GI="websocket",KI="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qI{constructor(e,n,r,i,s=!1,o="",a=!1,l=!1,c=null){this.secure=n,this.namespace=r,this.webSocketOnly=i,this.nodeAdmin=s,this.persistenceKey=o,this.includeNamespaceInQueryParams=a,this.isUsingEmulator=l,this.emulatorOptions=c,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=gs.get("host:"+e)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&gs.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){const e=this.secure?"https://":"http://",n=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${e}${this.host}/${n}`}}function oF(t){return t.host!==t.internalHost||t.isCustomHost()||t.includeNamespaceInQueryParams}function YI(t,e,n){B(typeof e=="string","typeof type must == string"),B(typeof n=="object","typeof params must == object");let r;if(e===GI)r=(t.secure?"wss://":"ws://")+t.internalHost+"/.ws?";else if(e===KI)r=(t.secure?"https://":"http://")+t.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+e);oF(t)&&(n.ns=t.namespace);const i=[];return wt(n,(s,o)=>{i.push(s+"="+o)}),r+i.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aF{constructor(){this.counters_={}}incrementCounter(e,n=1){Cr(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=n}get(){return w4(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tm={},nm={};function mv(t){const e=t.toString();return tm[e]||(tm[e]=new aF),tm[e]}function lF(t,e){const n=t.toString();return nm[n]||(nm[n]=e()),nm[n]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cF{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,n){this.closeAfterResponse=e,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,n){for(this.pendingResponses[e]=n;this.pendingResponses[this.currentResponseNum];){const r=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let i=0;i<r.length;++i)r[i]&&_a(()=>{this.onMessage_(r[i])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K1="start",uF="close",dF="pLPCommand",hF="pRTLPCB",XI="id",QI="pw",JI="ser",fF="cb",pF="seg",mF="ts",gF="d",yF="dframe",ZI=1870,eP=30,vF=ZI-eP,_F=25e3,wF=3e4;class Eo{constructor(e,n,r,i,s,o,a){this.connId=e,this.repoInfo=n,this.applicationId=r,this.appCheckToken=i,this.authToken=s,this.transportSessionId=o,this.lastSessionId=a,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Bc(e),this.stats_=mv(n),this.urlFn=l=>(this.appCheckToken&&(l[$g]=this.appCheckToken),YI(n,KI,l))}open(e,n){this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new cF(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(wF)),Y6(()=>{if(this.isClosed_)return;this.scriptTagHolder=new gv((...s)=>{const[o,a,l,c,d]=s;if(this.incrementIncomingBytes_(s),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,o===K1)this.id=a,this.password=l;else if(o===uF)a?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(a,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+o)},(...s)=>{const[o,a]=s;this.incrementIncomingBytes_(s),this.myPacketOrderer.handleResponse(o,a)},()=>{this.onClosed_()},this.urlFn);const r={};r[K1]="t",r[JI]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(r[fF]=this.scriptTagHolder.uniqueCallbackIdentifier),r[$I]=pv,this.transportSessionId&&(r[VI]=this.transportSessionId),this.lastSessionId&&(r[WI]=this.lastSessionId),this.applicationId&&(r[HI]=this.applicationId),this.appCheckToken&&(r[$g]=this.appCheckToken),typeof location<"u"&&location.hostname&&zI.test(location.hostname)&&(r[UI]=BI);const i=this.urlFn(r);this.log_("Connecting via long-poll to "+i),this.scriptTagHolder.addTag(i,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){Eo.forceAllow_=!0}static forceDisallow(){Eo.forceDisallow_=!0}static isAvailable(){return Eo.forceAllow_?!0:!Eo.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!Q6()&&!J6()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const n=nt(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=fk(n),i=jI(r,vF);for(let s=0;s<i.length;s++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,i.length,i[s]),this.curSegmentNum++}addDisconnectPingFrame(e,n){this.myDisconnFrame=document.createElement("iframe");const r={};r[yF]="t",r[XI]=e,r[QI]=n,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const n=nt(e).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)}}class gv{constructor(e,n,r,i){this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=G6(),window[dF+this.uniqueCallbackIdentifier]=e,window[hF+this.uniqueCallbackIdentifier]=n,this.myIFrame=gv.createIFrame_();let s="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(s='<script>document.domain="'+document.domain+'";<\/script>');const o="<html><body>"+s+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(o),this.myIFrame.doc.close()}catch(a){yt("frame writing exception"),a.stack&&yt(a.stack),yt(a)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",document.body){document.body.appendChild(e);try{e.contentWindow.document||yt("No IE domain setting required")}catch{const r=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,n){for(this.myID=e,this.myPW=n,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e[XI]=this.myID,e[QI]=this.myPW,e[JI]=this.currentSerial;let n=this.urlFn(e),r="",i=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+eP+r.length<=ZI;){const o=this.pendingSegs.shift();r=r+"&"+pF+i+"="+o.seg+"&"+mF+i+"="+o.ts+"&"+gF+i+"="+o.d,i++}return n=n+r,this.addLongPollTag_(n,this.currentSerial),!0}else return!1}enqueueSegment(e,n,r){this.pendingSegs.push({seg:e,ts:n,d:r}),this.alive&&this.newRequest_()}addLongPollTag_(e,n){this.outstandingRequests.add(n);const r=()=>{this.outstandingRequests.delete(n),this.newRequest_()},i=setTimeout(r,Math.floor(_F)),s=()=>{clearTimeout(i),r()};this.addTag(e,s)}addTag(e,n){setTimeout(()=>{try{if(!this.sendNewPolls)return;const r=this.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=e,r.onload=r.onreadystatechange=function(){const i=r.readyState;(!i||i==="loaded"||i==="complete")&&(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),n())},r.onerror=()=>{yt("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(r)}catch{}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xF=16384,EF=45e3;let uh=null;typeof MozWebSocket<"u"?uh=MozWebSocket:typeof WebSocket<"u"&&(uh=WebSocket);class zn{constructor(e,n,r,i,s,o,a){this.connId=e,this.applicationId=r,this.appCheckToken=i,this.authToken=s,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Bc(this.connId),this.stats_=mv(n),this.connURL=zn.connectionURL_(n,o,a,i,r),this.nodeAdmin=n.nodeAdmin}static connectionURL_(e,n,r,i,s){const o={};return o[$I]=pv,typeof location<"u"&&location.hostname&&zI.test(location.hostname)&&(o[UI]=BI),n&&(o[VI]=n),r&&(o[WI]=r),i&&(o[$g]=i),s&&(o[HI]=s),YI(e,GI,o)}open(e,n){this.onDisconnect=n,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,gs.set("previous_websocket_failure",!0);try{let r;_k(),this.mySock=new uh(this.connURL,[],r)}catch(r){this.log_("Error instantiating WebSocket.");const i=r.message||r.data;i&&this.log_(i),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=r=>{this.handleIncomingFrame(r)},this.mySock.onerror=r=>{this.log_("WebSocket error.  Closing connection.");const i=r.message||r.data;i&&this.log_(i),this.onClosed_()}}start(){}static forceDisallow(){zn.forceDisallow_=!0}static isAvailable(){let e=!1;if(typeof navigator<"u"&&navigator.userAgent){const n=/Android ([0-9]{0,}\.[0-9]{0,})/,r=navigator.userAgent.match(n);r&&r.length>1&&parseFloat(r[1])<4.4&&(e=!0)}return!e&&uh!==null&&!zn.forceDisallow_}static previouslyFailed(){return gs.isInMemoryStorage||gs.get("previous_websocket_failure")===!0}markConnectionHealthy(){gs.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const n=this.frames.join("");this.frames=null;const r=nc(n);this.onMessage(r)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if(B(this.frames===null,"We already have a frame buffer"),e.length<=6){const n=Number(e);if(!isNaN(n))return this.handleNewFrameCount_(n),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(this.mySock===null)return;const n=e.data;if(this.bytesReceived+=n.length,this.stats_.incrementCounter("bytes_received",n.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(n);else{const r=this.extractFrameCount_(n);r!==null&&this.appendFrame_(r)}}send(e){this.resetKeepAlive();const n=nt(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=jI(n,xF);r.length>1&&this.sendString_(String(r.length));for(let i=0;i<r.length;i++)this.sendString_(r[i])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(EF))}sendString_(e){try{this.mySock.send(e)}catch(n){this.log_("Exception thrown from WebSocket.send():",n.message||n.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}zn.responsesRequiredToBeHealthy=2;zn.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lc{static get ALL_TRANSPORTS(){return[Eo,zn]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}constructor(e){this.initTransports_(e)}initTransports_(e){const n=zn&&zn.isAvailable();let r=n&&!zn.previouslyFailed();if(e.webSocketOnly&&(n||Bt("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[zn];else{const i=this.transports_=[];for(const s of lc.ALL_TRANSPORTS)s&&s.isAvailable()&&i.push(s);lc.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}lc.globalTransportInitialized_=!1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CF=6e4,SF=5e3,bF=10*1024,TF=100*1024,rm="t",q1="d",kF="s",Y1="r",IF="e",X1="o",Q1="a",J1="n",Z1="p",PF="h";class RF{constructor(e,n,r,i,s,o,a,l,c,d){this.id=e,this.repoInfo_=n,this.applicationId_=r,this.appCheckToken_=i,this.authToken_=s,this.onMessage_=o,this.onReady_=a,this.onDisconnect_=l,this.onKill_=c,this.lastSessionId=d,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Bc("c:"+this.id+":"),this.transportManager_=new lc(n),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(n,r)},Math.floor(0));const i=e.healthyTimeout||0;i>0&&(this.healthyTimeout_=bl(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>TF?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>bF?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(i)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return n=>{e===this.conn_?this.onConnectionLost_(n):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return n=>{this.state_!==2&&(e===this.rx_?this.onPrimaryMessageReceived_(n):e===this.secondaryConn_?this.onSecondaryMessageReceived_(n):this.log_("message on old connection"))}}sendRequest(e){const n={t:"d",d:e};this.sendData_(n)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if(rm in e){const n=e[rm];n===Q1?this.upgradeIfSecondaryHealthy_():n===Y1?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):n===X1&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const n=Xa("t",e),r=Xa("d",e);if(n==="c")this.onSecondaryControl_(r);else if(n==="d")this.pendingDataMessages.push(r);else throw new Error("Unknown protocol layer: "+n)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:Z1,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:Q1,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:J1,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const n=Xa("t",e),r=Xa("d",e);n==="c"?this.onControl_(r):n==="d"&&this.onDataMessage_(r)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const n=Xa(rm,e);if(q1 in e){const r=e[q1];if(n===PF){const i=Object.assign({},r);this.repoInfo_.isUsingEmulator&&(i.h=this.repoInfo_.host),this.onHandshake_(i)}else if(n===J1){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let i=0;i<this.pendingDataMessages.length;++i)this.onDataMessage_(this.pendingDataMessages[i]);this.pendingDataMessages=[],this.tryCleanupConnection()}else n===kF?this.onConnectionShutdown_(r):n===Y1?this.onReset_(r):n===IF?Fg("Server Error: "+r):n===X1?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):Fg("Unknown control packet command: "+n)}}onHandshake_(e){const n=e.ts,r=e.v,i=e.h;this.sessionId=e.s,this.repoInfo_.host=i,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),pv!==r&&Bt("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),bl(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(CF))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,n){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):bl(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(SF))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:Z1,d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,!e&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(gs.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(e)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tP{put(e,n,r,i){}merge(e,n,r,i){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,n,r){}onDisconnectMerge(e,n,r){}onDisconnectCancel(e,n){}reportStats(e){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nP{constructor(e){this.allowedEvents_=e,this.listeners_={},B(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...n){if(Array.isArray(this.listeners_[e])){const r=[...this.listeners_[e]];for(let i=0;i<r.length;i++)r[i].callback.apply(r[i].context,n)}}on(e,n,r){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:n,context:r});const i=this.getInitialEvent(e);i&&n.apply(r,i)}off(e,n,r){this.validateEventType_(e);const i=this.listeners_[e]||[];for(let s=0;s<i.length;s++)if(i[s].callback===n&&(!r||r===i[s].context)){i.splice(s,1);return}}validateEventType_(e){B(this.allowedEvents_.find(n=>n===e),"Unknown event: "+e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dh extends nP{static getInstance(){return new dh}constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!G0()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}getInitialEvent(e){return B(e==="online","Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eE=32,tE=768;class xe{constructor(e,n){if(n===void 0){this.pieces_=e.split("/");let r=0;for(let i=0;i<this.pieces_.length;i++)this.pieces_[i].length>0&&(this.pieces_[r]=this.pieces_[i],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=n}toString(){let e="";for(let n=this.pieceNum_;n<this.pieces_.length;n++)this.pieces_[n]!==""&&(e+="/"+this.pieces_[n]);return e||"/"}}function me(){return new xe("")}function oe(t){return t.pieceNum_>=t.pieces_.length?null:t.pieces_[t.pieceNum_]}function ji(t){return t.pieces_.length-t.pieceNum_}function ke(t){let e=t.pieceNum_;return e<t.pieces_.length&&e++,new xe(t.pieces_,e)}function yv(t){return t.pieceNum_<t.pieces_.length?t.pieces_[t.pieces_.length-1]:null}function AF(t){let e="";for(let n=t.pieceNum_;n<t.pieces_.length;n++)t.pieces_[n]!==""&&(e+="/"+encodeURIComponent(String(t.pieces_[n])));return e||"/"}function cc(t,e=0){return t.pieces_.slice(t.pieceNum_+e)}function rP(t){if(t.pieceNum_>=t.pieces_.length)return null;const e=[];for(let n=t.pieceNum_;n<t.pieces_.length-1;n++)e.push(t.pieces_[n]);return new xe(e,0)}function He(t,e){const n=[];for(let r=t.pieceNum_;r<t.pieces_.length;r++)n.push(t.pieces_[r]);if(e instanceof xe)for(let r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);else{const r=e.split("/");for(let i=0;i<r.length;i++)r[i].length>0&&n.push(r[i])}return new xe(n,0)}function le(t){return t.pieceNum_>=t.pieces_.length}function $t(t,e){const n=oe(t),r=oe(e);if(n===null)return e;if(n===r)return $t(ke(t),ke(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+t+")")}function NF(t,e){const n=cc(t,0),r=cc(e,0);for(let i=0;i<n.length&&i<r.length;i++){const s=zs(n[i],r[i]);if(s!==0)return s}return n.length===r.length?0:n.length<r.length?-1:1}function vv(t,e){if(ji(t)!==ji(e))return!1;for(let n=t.pieceNum_,r=e.pieceNum_;n<=t.pieces_.length;n++,r++)if(t.pieces_[n]!==e.pieces_[r])return!1;return!0}function Sn(t,e){let n=t.pieceNum_,r=e.pieceNum_;if(ji(t)>ji(e))return!1;for(;n<t.pieces_.length;){if(t.pieces_[n]!==e.pieces_[r])return!1;++n,++r}return!0}class DF{constructor(e,n){this.errorPrefix_=n,this.parts_=cc(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let r=0;r<this.parts_.length;r++)this.byteLength_+=tf(this.parts_[r]);iP(this)}}function OF(t,e){t.parts_.length>0&&(t.byteLength_+=1),t.parts_.push(e),t.byteLength_+=tf(e),iP(t)}function MF(t){const e=t.parts_.pop();t.byteLength_-=tf(e),t.parts_.length>0&&(t.byteLength_-=1)}function iP(t){if(t.byteLength_>tE)throw new Error(t.errorPrefix_+"has a key path longer than "+tE+" bytes ("+t.byteLength_+").");if(t.parts_.length>eE)throw new Error(t.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+eE+") or object contains a cycle "+ss(t))}function ss(t){return t.parts_.length===0?"":"in property '"+t.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _v extends nP{static getInstance(){return new _v}constructor(){super(["visible"]);let e,n;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(n="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(n="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(n="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(n="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,n&&document.addEventListener(n,()=>{const r=!document[e];r!==this.visible_&&(this.visible_=r,this.trigger("visible",r))},!1)}getInitialEvent(e){return B(e==="visible","Unknown event type: "+e),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qa=1e3,LF=60*5*1e3,nE=30*1e3,jF=1.3,FF=3e4,$F="server_kill",rE=3;class Br extends tP{constructor(e,n,r,i,s,o,a,l){if(super(),this.repoInfo_=e,this.applicationId_=n,this.onDataUpdate_=r,this.onConnectStatus_=i,this.onServerInfoUpdate_=s,this.authTokenProvider_=o,this.appCheckTokenProvider_=a,this.authOverride_=l,this.id=Br.nextPersistentConnectionId_++,this.log_=Bc("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=Qa,this.maxReconnectDelay_=LF,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,l&&!_k())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");_v.getInstance().on("visible",this.onVisible_,this),e.host.indexOf("fblocal")===-1&&dh.getInstance().on("online",this.onOnline_,this)}sendRequest(e,n,r){const i=++this.requestNumber_,s={r:i,a:e,b:n};this.log_(nt(s)),B(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(s),r&&(this.requestCBHash_[i]=r)}get(e){this.initConnection_();const n=new Mc,i={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:o=>{const a=o.d;o.s==="ok"?n.resolve(a):n.reject(a)}};this.outstandingGets_.push(i),this.outstandingGetCount_++;const s=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(s),n.promise}listen(e,n,r,i){this.initConnection_();const s=e._queryIdentifier,o=e._path.toString();this.log_("Listen called for "+o+" "+s),this.listens.has(o)||this.listens.set(o,new Map),B(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),B(!this.listens.get(o).has(s),"listen() called twice for same path/queryId.");const a={onComplete:i,hashFn:n,query:e,tag:r};this.listens.get(o).set(s,a),this.connected_&&this.sendListen_(a)}sendGet_(e){const n=this.outstandingGets_[e];this.sendRequest("g",n.request,r=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),n.onComplete&&n.onComplete(r)})}sendListen_(e){const n=e.query,r=n._path.toString(),i=n._queryIdentifier;this.log_("Listen on "+r+" for "+i);const s={p:r},o="q";e.tag&&(s.q=n._queryObject,s.t=e.tag),s.h=e.hashFn(),this.sendRequest(o,s,a=>{const l=a.d,c=a.s;Br.warnOnListenWarnings_(l,n),(this.listens.get(r)&&this.listens.get(r).get(i))===e&&(this.log_("listen response",a),c!=="ok"&&this.removeListen_(r,i),e.onComplete&&e.onComplete(c,l))})}static warnOnListenWarnings_(e,n){if(e&&typeof e=="object"&&Cr(e,"w")){const r=Yo(e,"w");if(Array.isArray(r)&&~r.indexOf("no_index")){const i='".indexOn": "'+n._queryParams.getIndex().toString()+'"',s=n._path.toString();Bt(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${i} at ${s} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&e.length===40||L4(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=nE)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,n=M4(e)?"auth":"gauth",r={cred:e};this.authOverride_===null?r.noauth=!0:typeof this.authOverride_=="object"&&(r.authvar=this.authOverride_),this.sendRequest(n,r,i=>{const s=i.s,o=i.d||"error";this.authToken_===e&&(s==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(s,o))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const n=e.s,r=e.d||"error";n==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(n,r)})}unlisten(e,n){const r=e._path.toString(),i=e._queryIdentifier;this.log_("Unlisten called for "+r+" "+i),B(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(r,i)&&this.connected_&&this.sendUnlisten_(r,i,e._queryObject,n)}sendUnlisten_(e,n,r,i){this.log_("Unlisten on "+e+" for "+n);const s={p:e},o="n";i&&(s.q=r,s.t=i),this.sendRequest(o,s)}onDisconnectPut(e,n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,n,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:n,onComplete:r})}onDisconnectMerge(e,n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,n,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:n,onComplete:r})}onDisconnectCancel(e,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:n})}sendOnDisconnect_(e,n,r,i){const s={p:n,d:r};this.log_("onDisconnect "+e,s),this.sendRequest(e,s,o=>{i&&setTimeout(()=>{i(o.s,o.d)},Math.floor(0))})}put(e,n,r,i){this.putInternal("p",e,n,r,i)}merge(e,n,r,i){this.putInternal("m",e,n,r,i)}putInternal(e,n,r,i,s){this.initConnection_();const o={p:n,d:r};s!==void 0&&(o.h=s),this.outstandingPuts_.push({action:e,request:o,onComplete:i}),this.outstandingPutCount_++;const a=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(a):this.log_("Buffering put: "+n)}sendPut_(e){const n=this.outstandingPuts_[e].action,r=this.outstandingPuts_[e].request,i=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(n,r,s=>{this.log_(n+" response",s),delete this.outstandingPuts_[e],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),i&&i(s.s,s.d)})}reportStats(e){if(this.connected_){const n={c:e};this.log_("reportStats",n),this.sendRequest("s",n,r=>{if(r.s!=="ok"){const s=r.d;this.log_("reportStats","Error sending stats: "+s)}})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+nt(e));const n=e.r,r=this.requestCBHash_[n];r&&(delete this.requestCBHash_[n],r(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,n){this.log_("handleServerMessage",e,n),e==="d"?this.onDataUpdate_(n.p,n.d,!1,n.t):e==="m"?this.onDataUpdate_(n.p,n.d,!0,n.t):e==="c"?this.onListenRevoked_(n.p,n.q):e==="ac"?this.onAuthRevoked_(n.s,n.d):e==="apc"?this.onAppCheckRevoked_(n.s,n.d):e==="sd"?this.onSecurityDebugPacket_(n):Fg("Unrecognized action received from server: "+nt(e)+`
Are you using the latest client?`)}onReady_(e,n){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(e),this.lastSessionId=n,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){B(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Qa,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=Qa,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>FF&&(this.reconnectDelay_=Qa),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const e=Math.max(0,new Date().getTime()-this.lastConnectionAttemptTime_);let n=Math.max(0,this.reconnectDelay_-e);n=Math.random()*n,this.log_("Trying to reconnect in "+n+"ms"),this.scheduleConnect_(n),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*jF)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const e=this.onDataMessage_.bind(this),n=this.onReady_.bind(this),r=this.onRealtimeDisconnect_.bind(this),i=this.id+":"+Br.nextConnectionId_++,s=this.lastSessionId;let o=!1,a=null;const l=function(){a?a.close():(o=!0,r())},c=function(h){B(a,"sendRequest call when we're not connected not allowed."),a.sendRequest(h)};this.realtime_={close:l,sendRequest:c};const d=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[h,f]=await Promise.all([this.authTokenProvider_.getToken(d),this.appCheckTokenProvider_.getToken(d)]);o?yt("getToken() completed but was canceled"):(yt("getToken() completed. Creating connection."),this.authToken_=h&&h.accessToken,this.appCheckToken_=f&&f.token,a=new RF(i,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,n,r,v=>{Bt(v+" ("+this.repoInfo_.toString()+")"),this.interrupt($F)},s))}catch(h){this.log_("Failed to get token: "+h),o||(this.repoInfo_.nodeAdmin&&Bt(h),l())}}}interrupt(e){yt("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){yt("Resuming connection for reason: "+e),delete this.interruptReasons_[e],Sg(this.interruptReasons_)&&(this.reconnectDelay_=Qa,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const n=e-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:n})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const n=this.outstandingPuts_[e];n&&"h"in n.request&&n.queued&&(n.onComplete&&n.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(e,n){let r;n?r=n.map(s=>fv(s)).join("$"):r="default";const i=this.removeListen_(e,r);i&&i.onComplete&&i.onComplete("permission_denied")}removeListen_(e,n){const r=new xe(e).toString();let i;if(this.listens.has(r)){const s=this.listens.get(r);i=s.get(n),s.delete(n),s.size===0&&this.listens.delete(r)}else i=void 0;return i}onAuthRevoked_(e,n){yt("Auth token revoked: "+e+"/"+n),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(e==="invalid_token"||e==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=rE&&(this.reconnectDelay_=nE,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,n){yt("App check token revoked: "+e+"/"+n),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(e==="invalid_token"||e==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=rE&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const n of e.values())this.sendListen_(n);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let n="js";e["sdk."+n+"."+OI.replace(/\./g,"-")]=1,G0()?e["framework.cordova"]=1:vk()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=dh.getInstance().currentlyOnline();return Sg(this.interruptReasons_)&&e}}Br.nextPersistentConnectionId_=0;Br.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ae{constructor(e,n){this.name=e,this.node=n}static Wrap(e,n){return new ae(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uf{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,n){const r=new ae(Xo,e),i=new ae(Xo,n);return this.compare(r,i)!==0}minPost(){return ae.MIN}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ju;class sP extends uf{static get __EMPTY_NODE(){return ju}static set __EMPTY_NODE(e){ju=e}compare(e,n){return zs(e.name,n.name)}isDefinedOn(e){throw ga("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,n){return!1}minPost(){return ae.MIN}maxPost(){return new ae(Ds,ju)}makePost(e,n){return B(typeof e=="string","KeyIndex indexValue must always be a string."),new ae(e,ju)}toString(){return".key"}}const $o=new sP;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fu{constructor(e,n,r,i,s=null){this.isReverse_=i,this.resultGenerator_=s,this.nodeStack_=[];let o=1;for(;!e.isEmpty();)if(e=e,o=n?r(e.key,n):1,i&&(o*=-1),o<0)this.isReverse_?e=e.left:e=e.right;else if(o===0){this.nodeStack_.push(e);break}else this.nodeStack_.push(e),this.isReverse_?e=e.right:e=e.left}getNext(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_.pop(),n;if(this.resultGenerator_?n=this.resultGenerator_(e.key,e.value):n={key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return n}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}class ct{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??ct.RED,this.left=i??Zt.EMPTY_NODE,this.right=s??Zt.EMPTY_NODE}copy(e,n,r,i,s){return new ct(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return s<0?i=i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i=i.copy(null,n,null,null,null):i=i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp_()}removeMin_(){if(this.left.isEmpty())return Zt.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,n){let r,i;if(r=this,n(e,r.key)<0)!r.left.isEmpty()&&!r.left.isRed_()&&!r.left.left.isRed_()&&(r=r.moveRedLeft_()),r=r.copy(null,null,null,r.left.remove(e,n),null);else{if(r.left.isRed_()&&(r=r.rotateRight_()),!r.right.isEmpty()&&!r.right.isRed_()&&!r.right.left.isRed_()&&(r=r.moveRedRight_()),n(e,r.key)===0){if(r.right.isEmpty())return Zt.EMPTY_NODE;i=r.right.min_(),r=r.copy(i.key,i.value,null,null,r.right.removeMin_())}r=r.copy(null,null,null,null,r.right.remove(e,n))}return r.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,ct.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,ct.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}ct.RED=!0;ct.BLACK=!1;class VF{copy(e,n,r,i,s){return this}insert(e,n,r){return new ct(e,n,null)}remove(e,n){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class Zt{constructor(e,n=Zt.EMPTY_NODE){this.comparator_=e,this.root_=n}insert(e,n){return new Zt(this.comparator_,this.root_.insert(e,n,this.comparator_).copy(null,null,ct.BLACK,null,null))}remove(e){return new Zt(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,ct.BLACK,null,null))}get(e){let n,r=this.root_;for(;!r.isEmpty();){if(n=this.comparator_(e,r.key),n===0)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}getPredecessorKey(e){let n,r=this.root_,i=null;for(;!r.isEmpty();)if(n=this.comparator_(e,r.key),n===0){if(r.left.isEmpty())return i?i.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}else n<0?r=r.left:n>0&&(i=r,r=r.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new Fu(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,n){return new Fu(this.root_,e,this.comparator_,!1,n)}getReverseIteratorFrom(e,n){return new Fu(this.root_,e,this.comparator_,!0,n)}getReverseIterator(e){return new Fu(this.root_,null,this.comparator_,!0,e)}}Zt.EMPTY_NODE=new VF;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UF(t,e){return zs(t.name,e.name)}function wv(t,e){return zs(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Vg;function BF(t){Vg=t}const oP=function(t){return typeof t=="number"?"number:"+FI(t):"string:"+t},aP=function(t){if(t.isLeafNode()){const e=t.val();B(typeof e=="string"||typeof e=="number"||typeof e=="object"&&Cr(e,".sv"),"Priority must be a string or number.")}else B(t===Vg||t.isEmpty(),"priority of unexpected type.");B(t===Vg||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let iE;class at{static set __childrenNodeConstructor(e){iE=e}static get __childrenNodeConstructor(){return iE}constructor(e,n=at.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=n,this.lazyHash_=null,B(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),aP(this.priorityNode_)}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new at(this.value_,e)}getImmediateChild(e){return e===".priority"?this.priorityNode_:at.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return le(e)?this:oe(e)===".priority"?this.priorityNode_:at.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,n){return null}updateImmediateChild(e,n){return e===".priority"?this.updatePriority(n):n.isEmpty()&&e!==".priority"?this:at.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,n).updatePriority(this.priorityNode_)}updateChild(e,n){const r=oe(e);return r===null?n:n.isEmpty()&&r!==".priority"?this:(B(r!==".priority"||ji(e)===1,".priority must be the last token in a path"),this.updateImmediateChild(r,at.__childrenNodeConstructor.EMPTY_NODE.updateChild(ke(e),n)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,n){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+oP(this.priorityNode_.val())+":");const n=typeof this.value_;e+=n+":",n==="number"?e+=FI(this.value_):e+=this.value_,this.lazyHash_=LI(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===at.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof at.__childrenNodeConstructor?-1:(B(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const n=typeof e.value_,r=typeof this.value_,i=at.VALUE_TYPE_ORDER.indexOf(n),s=at.VALUE_TYPE_ORDER.indexOf(r);return B(i>=0,"Unknown leaf type: "+n),B(s>=0,"Unknown leaf type: "+r),i===s?r==="object"?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:s-i}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const n=e;return this.value_===n.value_&&this.priorityNode_.equals(n.priorityNode_)}else return!1}}at.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let lP,cP;function zF(t){lP=t}function WF(t){cP=t}class HF extends uf{compare(e,n){const r=e.node.getPriority(),i=n.node.getPriority(),s=r.compareTo(i);return s===0?zs(e.name,n.name):s}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,n){return!e.getPriority().equals(n.getPriority())}minPost(){return ae.MIN}maxPost(){return new ae(Ds,new at("[PRIORITY-POST]",cP))}makePost(e,n){const r=lP(e);return new ae(n,new at("[PRIORITY-POST]",r))}toString(){return".priority"}}const Ge=new HF;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GF=Math.log(2);class KF{constructor(e){const n=s=>parseInt(Math.log(s)/GF,10),r=s=>parseInt(Array(s+1).join("1"),2);this.count=n(e+1),this.current_=this.count-1;const i=r(this.count);this.bits_=e+1&i}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const hh=function(t,e,n,r){t.sort(e);const i=function(l,c){const d=c-l;let h,f;if(d===0)return null;if(d===1)return h=t[l],f=n?n(h):h,new ct(f,h.node,ct.BLACK,null,null);{const v=parseInt(d/2,10)+l,_=i(l,v),S=i(v+1,c);return h=t[v],f=n?n(h):h,new ct(f,h.node,ct.BLACK,_,S)}},s=function(l){let c=null,d=null,h=t.length;const f=function(_,S){const P=h-_,w=h;h-=_;const C=i(P+1,w),E=t[P],R=n?n(E):E;v(new ct(R,E.node,S,null,C))},v=function(_){c?(c.left=_,c=_):(d=_,c=_)};for(let _=0;_<l.count;++_){const S=l.nextBitIsOne(),P=Math.pow(2,l.count-(_+1));S?f(P,ct.BLACK):(f(P,ct.BLACK),f(P,ct.RED))}return d},o=new KF(t.length),a=s(o);return new Zt(r||e,a)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let im;const eo={};class jr{static get Default(){return B(eo&&Ge,"ChildrenNode.ts has not been loaded"),im=im||new jr({".priority":eo},{".priority":Ge}),im}constructor(e,n){this.indexes_=e,this.indexSet_=n}get(e){const n=Yo(this.indexes_,e);if(!n)throw new Error("No index defined for "+e);return n instanceof Zt?n:null}hasIndex(e){return Cr(this.indexSet_,e.toString())}addIndex(e,n){B(e!==$o,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const r=[];let i=!1;const s=n.getIterator(ae.Wrap);let o=s.getNext();for(;o;)i=i||e.isDefinedOn(o.node),r.push(o),o=s.getNext();let a;i?a=hh(r,e.getCompare()):a=eo;const l=e.toString(),c=Object.assign({},this.indexSet_);c[l]=e;const d=Object.assign({},this.indexes_);return d[l]=a,new jr(d,c)}addToIndexes(e,n){const r=th(this.indexes_,(i,s)=>{const o=Yo(this.indexSet_,s);if(B(o,"Missing index implementation for "+s),i===eo)if(o.isDefinedOn(e.node)){const a=[],l=n.getIterator(ae.Wrap);let c=l.getNext();for(;c;)c.name!==e.name&&a.push(c),c=l.getNext();return a.push(e),hh(a,o.getCompare())}else return eo;else{const a=n.get(e.name);let l=i;return a&&(l=l.remove(new ae(e.name,a))),l.insert(e,e.node)}});return new jr(r,this.indexSet_)}removeFromIndexes(e,n){const r=th(this.indexes_,i=>{if(i===eo)return i;{const s=n.get(e.name);return s?i.remove(new ae(e.name,s)):i}});return new jr(r,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ja;class J{static get EMPTY_NODE(){return Ja||(Ja=new J(new Zt(wv),null,jr.Default))}constructor(e,n,r){this.children_=e,this.priorityNode_=n,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&aP(this.priorityNode_),this.children_.isEmpty()&&B(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}isLeafNode(){return!1}getPriority(){return this.priorityNode_||Ja}updatePriority(e){return this.children_.isEmpty()?this:new J(this.children_,e,this.indexMap_)}getImmediateChild(e){if(e===".priority")return this.getPriority();{const n=this.children_.get(e);return n===null?Ja:n}}getChild(e){const n=oe(e);return n===null?this:this.getImmediateChild(n).getChild(ke(e))}hasChild(e){return this.children_.get(e)!==null}updateImmediateChild(e,n){if(B(n,"We should always be passing snapshot nodes"),e===".priority")return this.updatePriority(n);{const r=new ae(e,n);let i,s;n.isEmpty()?(i=this.children_.remove(e),s=this.indexMap_.removeFromIndexes(r,this.children_)):(i=this.children_.insert(e,n),s=this.indexMap_.addToIndexes(r,this.children_));const o=i.isEmpty()?Ja:this.priorityNode_;return new J(i,o,s)}}updateChild(e,n){const r=oe(e);if(r===null)return n;{B(oe(e)!==".priority"||ji(e)===1,".priority must be the last token in a path");const i=this.getImmediateChild(r).updateChild(ke(e),n);return this.updateImmediateChild(r,i)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const n={};let r=0,i=0,s=!0;if(this.forEachChild(Ge,(o,a)=>{n[o]=a.val(e),r++,s&&J.INTEGER_REGEXP_.test(o)?i=Math.max(i,Number(o)):s=!1}),!e&&s&&i<2*r){const o=[];for(const a in n)o[a]=n[a];return o}else return e&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n}hash(){if(this.lazyHash_===null){let e="";this.getPriority().isEmpty()||(e+="priority:"+oP(this.getPriority().val())+":"),this.forEachChild(Ge,(n,r)=>{const i=r.hash();i!==""&&(e+=":"+n+":"+i)}),this.lazyHash_=e===""?"":LI(e)}return this.lazyHash_}getPredecessorChildName(e,n,r){const i=this.resolveIndex_(r);if(i){const s=i.getPredecessorKey(new ae(e,n));return s?s.name:null}else return this.children_.getPredecessorKey(e)}getFirstChildName(e){const n=this.resolveIndex_(e);if(n){const r=n.minKey();return r&&r.name}else return this.children_.minKey()}getFirstChild(e){const n=this.getFirstChildName(e);return n?new ae(n,this.children_.get(n)):null}getLastChildName(e){const n=this.resolveIndex_(e);if(n){const r=n.maxKey();return r&&r.name}else return this.children_.maxKey()}getLastChild(e){const n=this.getLastChildName(e);return n?new ae(n,this.children_.get(n)):null}forEachChild(e,n){const r=this.resolveIndex_(e);return r?r.inorderTraversal(i=>n(i.name,i.node)):this.children_.inorderTraversal(n)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,n){const r=this.resolveIndex_(n);if(r)return r.getIteratorFrom(e,i=>i);{const i=this.children_.getIteratorFrom(e.name,ae.Wrap);let s=i.peek();for(;s!=null&&n.compare(s,e)<0;)i.getNext(),s=i.peek();return i}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,n){const r=this.resolveIndex_(n);if(r)return r.getReverseIteratorFrom(e,i=>i);{const i=this.children_.getReverseIteratorFrom(e.name,ae.Wrap);let s=i.peek();for(;s!=null&&n.compare(s,e)>0;)i.getNext(),s=i.peek();return i}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===zc?-1:0}withIndex(e){if(e===$o||this.indexMap_.hasIndex(e))return this;{const n=this.indexMap_.addIndex(e,this.children_);return new J(this.children_,this.priorityNode_,n)}}isIndexed(e){return e===$o||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const n=e;if(this.getPriority().equals(n.getPriority()))if(this.children_.count()===n.children_.count()){const r=this.getIterator(Ge),i=n.getIterator(Ge);let s=r.getNext(),o=i.getNext();for(;s&&o;){if(s.name!==o.name||!s.node.equals(o.node))return!1;s=r.getNext(),o=i.getNext()}return s===null&&o===null}else return!1;else return!1}}resolveIndex_(e){return e===$o?null:this.indexMap_.get(e.toString())}}J.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class qF extends J{constructor(){super(new Zt(wv),J.EMPTY_NODE,jr.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return J.EMPTY_NODE}isEmpty(){return!1}}const zc=new qF;Object.defineProperties(ae,{MIN:{value:new ae(Xo,J.EMPTY_NODE)},MAX:{value:new ae(Ds,zc)}});sP.__EMPTY_NODE=J.EMPTY_NODE;at.__childrenNodeConstructor=J;BF(zc);WF(zc);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YF=!0;function tt(t,e=null){if(t===null)return J.EMPTY_NODE;if(typeof t=="object"&&".priority"in t&&(e=t[".priority"]),B(e===null||typeof e=="string"||typeof e=="number"||typeof e=="object"&&".sv"in e,"Invalid priority type found: "+typeof e),typeof t=="object"&&".value"in t&&t[".value"]!==null&&(t=t[".value"]),typeof t!="object"||".sv"in t){const n=t;return new at(n,tt(e))}if(!(t instanceof Array)&&YF){const n=[];let r=!1;if(wt(t,(o,a)=>{if(o.substring(0,1)!=="."){const l=tt(a);l.isEmpty()||(r=r||!l.getPriority().isEmpty(),n.push(new ae(o,l)))}}),n.length===0)return J.EMPTY_NODE;const s=hh(n,UF,o=>o.name,wv);if(r){const o=hh(n,Ge.getCompare());return new J(s,tt(e),new jr({".priority":o},{".priority":Ge}))}else return new J(s,tt(e),jr.Default)}else{let n=J.EMPTY_NODE;return wt(t,(r,i)=>{if(Cr(t,r)&&r.substring(0,1)!=="."){const s=tt(i);(s.isLeafNode()||!s.isEmpty())&&(n=n.updateImmediateChild(r,s))}}),n.updatePriority(tt(e))}}zF(tt);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XF extends uf{constructor(e){super(),this.indexPath_=e,B(!le(e)&&oe(e)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,n){const r=this.extractChild(e.node),i=this.extractChild(n.node),s=r.compareTo(i);return s===0?zs(e.name,n.name):s}makePost(e,n){const r=tt(e),i=J.EMPTY_NODE.updateChild(this.indexPath_,r);return new ae(n,i)}maxPost(){const e=J.EMPTY_NODE.updateChild(this.indexPath_,zc);return new ae(Ds,e)}toString(){return cc(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QF extends uf{compare(e,n){const r=e.node.compareTo(n.node);return r===0?zs(e.name,n.name):r}isDefinedOn(e){return!0}indexedValueChanged(e,n){return!e.equals(n)}minPost(){return ae.MIN}maxPost(){return ae.MAX}makePost(e,n){const r=tt(e);return new ae(n,r)}toString(){return".value"}}const JF=new QF;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uP(t){return{type:"value",snapshotNode:t}}function Qo(t,e){return{type:"child_added",snapshotNode:e,childName:t}}function uc(t,e){return{type:"child_removed",snapshotNode:e,childName:t}}function dc(t,e,n){return{type:"child_changed",snapshotNode:e,childName:t,oldSnap:n}}function ZF(t,e){return{type:"child_moved",snapshotNode:e,childName:t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xv{constructor(e){this.index_=e}updateChild(e,n,r,i,s,o){B(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");const a=e.getImmediateChild(n);return a.getChild(i).equals(r.getChild(i))&&a.isEmpty()===r.isEmpty()||(o!=null&&(r.isEmpty()?e.hasChild(n)?o.trackChildChange(uc(n,a)):B(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):a.isEmpty()?o.trackChildChange(Qo(n,r)):o.trackChildChange(dc(n,r,a))),e.isLeafNode()&&r.isEmpty())?e:e.updateImmediateChild(n,r).withIndex(this.index_)}updateFullNode(e,n,r){return r!=null&&(e.isLeafNode()||e.forEachChild(Ge,(i,s)=>{n.hasChild(i)||r.trackChildChange(uc(i,s))}),n.isLeafNode()||n.forEachChild(Ge,(i,s)=>{if(e.hasChild(i)){const o=e.getImmediateChild(i);o.equals(s)||r.trackChildChange(dc(i,s,o))}else r.trackChildChange(Qo(i,s))})),n.withIndex(this.index_)}updatePriority(e,n){return e.isEmpty()?J.EMPTY_NODE:e.updatePriority(n)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hc{constructor(e){this.indexedFilter_=new xv(e.getIndex()),this.index_=e.getIndex(),this.startPost_=hc.getStartPost_(e),this.endPost_=hc.getEndPost_(e),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(e){const n=this.startIsInclusive_?this.index_.compare(this.getStartPost(),e)<=0:this.index_.compare(this.getStartPost(),e)<0,r=this.endIsInclusive_?this.index_.compare(e,this.getEndPost())<=0:this.index_.compare(e,this.getEndPost())<0;return n&&r}updateChild(e,n,r,i,s,o){return this.matches(new ae(n,r))||(r=J.EMPTY_NODE),this.indexedFilter_.updateChild(e,n,r,i,s,o)}updateFullNode(e,n,r){n.isLeafNode()&&(n=J.EMPTY_NODE);let i=n.withIndex(this.index_);i=i.updatePriority(J.EMPTY_NODE);const s=this;return n.forEachChild(Ge,(o,a)=>{s.matches(new ae(o,a))||(i=i.updateImmediateChild(o,J.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(e,i,r)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(e){if(e.hasStart()){const n=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),n)}else return e.getIndex().minPost()}static getEndPost_(e){if(e.hasEnd()){const n=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),n)}else return e.getIndex().maxPost()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e${constructor(e){this.withinDirectionalStart=n=>this.reverse_?this.withinEndPost(n):this.withinStartPost(n),this.withinDirectionalEnd=n=>this.reverse_?this.withinStartPost(n):this.withinEndPost(n),this.withinStartPost=n=>{const r=this.index_.compare(this.rangedFilter_.getStartPost(),n);return this.startIsInclusive_?r<=0:r<0},this.withinEndPost=n=>{const r=this.index_.compare(n,this.rangedFilter_.getEndPost());return this.endIsInclusive_?r<=0:r<0},this.rangedFilter_=new hc(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft(),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}updateChild(e,n,r,i,s,o){return this.rangedFilter_.matches(new ae(n,r))||(r=J.EMPTY_NODE),e.getImmediateChild(n).equals(r)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,n,r,i,s,o):this.fullLimitUpdateChild_(e,n,r,s,o)}updateFullNode(e,n,r){let i;if(n.isLeafNode()||n.isEmpty())i=J.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<n.numChildren()&&n.isIndexed(this.index_)){i=J.EMPTY_NODE.withIndex(this.index_);let s;this.reverse_?s=n.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):s=n.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let o=0;for(;s.hasNext()&&o<this.limit_;){const a=s.getNext();if(this.withinDirectionalStart(a))if(this.withinDirectionalEnd(a))i=i.updateImmediateChild(a.name,a.node),o++;else break;else continue}}else{i=n.withIndex(this.index_),i=i.updatePriority(J.EMPTY_NODE);let s;this.reverse_?s=i.getReverseIterator(this.index_):s=i.getIterator(this.index_);let o=0;for(;s.hasNext();){const a=s.getNext();o<this.limit_&&this.withinDirectionalStart(a)&&this.withinDirectionalEnd(a)?o++:i=i.updateImmediateChild(a.name,J.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,i,r)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(e,n,r,i,s){let o;if(this.reverse_){const h=this.index_.getCompare();o=(f,v)=>h(v,f)}else o=this.index_.getCompare();const a=e;B(a.numChildren()===this.limit_,"");const l=new ae(n,r),c=this.reverse_?a.getFirstChild(this.index_):a.getLastChild(this.index_),d=this.rangedFilter_.matches(l);if(a.hasChild(n)){const h=a.getImmediateChild(n);let f=i.getChildAfterChild(this.index_,c,this.reverse_);for(;f!=null&&(f.name===n||a.hasChild(f.name));)f=i.getChildAfterChild(this.index_,f,this.reverse_);const v=f==null?1:o(f,l);if(d&&!r.isEmpty()&&v>=0)return s!=null&&s.trackChildChange(dc(n,r,h)),a.updateImmediateChild(n,r);{s!=null&&s.trackChildChange(uc(n,h));const S=a.updateImmediateChild(n,J.EMPTY_NODE);return f!=null&&this.rangedFilter_.matches(f)?(s!=null&&s.trackChildChange(Qo(f.name,f.node)),S.updateImmediateChild(f.name,f.node)):S}}else return r.isEmpty()?e:d&&o(c,l)>=0?(s!=null&&(s.trackChildChange(uc(c.name,c.node)),s.trackChildChange(Qo(n,r))),a.updateImmediateChild(n,r).updateImmediateChild(c.name,J.EMPTY_NODE)):e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ev{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Ge}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return B(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return B(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Xo}hasEnd(){return this.endSet_}getIndexEndValue(){return B(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return B(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:Ds}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return B(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===Ge}copy(){const e=new Ev;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function t$(t){return t.loadsAllData()?new xv(t.getIndex()):t.hasLimit()?new e$(t):new hc(t)}function sE(t){const e={};if(t.isDefault())return e;let n;if(t.index_===Ge?n="$priority":t.index_===JF?n="$value":t.index_===$o?n="$key":(B(t.index_ instanceof XF,"Unrecognized index type!"),n=t.index_.toString()),e.orderBy=nt(n),t.startSet_){const r=t.startAfterSet_?"startAfter":"startAt";e[r]=nt(t.indexStartValue_),t.startNameSet_&&(e[r]+=","+nt(t.indexStartName_))}if(t.endSet_){const r=t.endBeforeSet_?"endBefore":"endAt";e[r]=nt(t.indexEndValue_),t.endNameSet_&&(e[r]+=","+nt(t.indexEndName_))}return t.limitSet_&&(t.isViewFromLeft()?e.limitToFirst=t.limit_:e.limitToLast=t.limit_),e}function oE(t){const e={};if(t.startSet_&&(e.sp=t.indexStartValue_,t.startNameSet_&&(e.sn=t.indexStartName_),e.sin=!t.startAfterSet_),t.endSet_&&(e.ep=t.indexEndValue_,t.endNameSet_&&(e.en=t.indexEndName_),e.ein=!t.endBeforeSet_),t.limitSet_){e.l=t.limit_;let n=t.viewFrom_;n===""&&(t.isViewFromLeft()?n="l":n="r"),e.vf=n}return t.index_!==Ge&&(e.i=t.index_.toString()),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fh extends tP{reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,n){return n!==void 0?"tag$"+n:(B(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}constructor(e,n,r,i){super(),this.repoInfo_=e,this.onDataUpdate_=n,this.authTokenProvider_=r,this.appCheckTokenProvider_=i,this.log_=Bc("p:rest:"),this.listens_={}}listen(e,n,r,i){const s=e._path.toString();this.log_("Listen called for "+s+" "+e._queryIdentifier);const o=fh.getListenId_(e,r),a={};this.listens_[o]=a;const l=sE(e._queryParams);this.restRequest_(s+".json",l,(c,d)=>{let h=d;if(c===404&&(h=null,c=null),c===null&&this.onDataUpdate_(s,h,!1,r),Yo(this.listens_,o)===a){let f;c?c===401?f="permission_denied":f="rest_error:"+c:f="ok",i(f,null)}})}unlisten(e,n){const r=fh.getListenId_(e,n);delete this.listens_[r]}get(e){const n=sE(e._queryParams),r=e._path.toString(),i=new Mc;return this.restRequest_(r+".json",n,(s,o)=>{let a=o;s===404&&(a=null,s=null),s===null?(this.onDataUpdate_(r,a,!1,null),i.resolve(a)):i.reject(new Error(a))}),i.promise}refreshAuthToken(e){}restRequest_(e,n={},r){return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([i,s])=>{i&&i.accessToken&&(n.auth=i.accessToken),s&&s.token&&(n.ac=s.token);const o=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+ya(n);this.log_("Sending REST request for "+o);const a=new XMLHttpRequest;a.onreadystatechange=()=>{if(r&&a.readyState===4){this.log_("REST Response for "+o+" received. status:",a.status,"response:",a.responseText);let l=null;if(a.status>=200&&a.status<300){try{l=nc(a.responseText)}catch{Bt("Failed to parse JSON response for "+o+": "+a.responseText)}r(null,l)}else a.status!==401&&a.status!==404&&Bt("Got unsuccessful REST response for "+o+" Status: "+a.status),r(a.status);r=null}},a.open("GET",o,!0),a.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n${constructor(){this.rootNode_=J.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,n){this.rootNode_=this.rootNode_.updateChild(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ph(){return{value:null,children:new Map}}function dP(t,e,n){if(le(e))t.value=n,t.children.clear();else if(t.value!==null)t.value=t.value.updateChild(e,n);else{const r=oe(e);t.children.has(r)||t.children.set(r,ph());const i=t.children.get(r);e=ke(e),dP(i,e,n)}}function Ug(t,e,n){t.value!==null?n(e,t.value):r$(t,(r,i)=>{const s=new xe(e.toString()+"/"+r);Ug(i,s,n)})}function r$(t,e){t.children.forEach((n,r)=>{e(r,n)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i${constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),n=Object.assign({},e);return this.last_&&wt(this.last_,(r,i)=>{n[r]=n[r]-i}),this.last_=e,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aE=10*1e3,s$=30*1e3,o$=5*60*1e3;class a${constructor(e,n){this.server_=n,this.statsToReport_={},this.statsListener_=new i$(e);const r=aE+(s$-aE)*Math.random();bl(this.reportStats_.bind(this),Math.floor(r))}reportStats_(){const e=this.statsListener_.get(),n={};let r=!1;wt(e,(i,s)=>{s>0&&Cr(this.statsToReport_,i)&&(n[i]=s,r=!0)}),r&&this.server_.reportStats(n),bl(this.reportStats_.bind(this),Math.floor(Math.random()*2*o$))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Hn;(function(t){t[t.OVERWRITE=0]="OVERWRITE",t[t.MERGE=1]="MERGE",t[t.ACK_USER_WRITE=2]="ACK_USER_WRITE",t[t.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(Hn||(Hn={}));function Cv(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function Sv(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function bv(t){return{fromUser:!1,fromServer:!0,queryId:t,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mh{constructor(e,n,r){this.path=e,this.affectedTree=n,this.revert=r,this.type=Hn.ACK_USER_WRITE,this.source=Cv()}operationForChild(e){if(le(this.path)){if(this.affectedTree.value!=null)return B(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const n=this.affectedTree.subtree(new xe(e));return new mh(me(),n,this.revert)}}else return B(oe(this.path)===e,"operationForChild called for unrelated child."),new mh(ke(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fc{constructor(e,n){this.source=e,this.path=n,this.type=Hn.LISTEN_COMPLETE}operationForChild(e){return le(this.path)?new fc(this.source,me()):new fc(this.source,ke(this.path))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Os{constructor(e,n,r){this.source=e,this.path=n,this.snap=r,this.type=Hn.OVERWRITE}operationForChild(e){return le(this.path)?new Os(this.source,me(),this.snap.getImmediateChild(e)):new Os(this.source,ke(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jo{constructor(e,n,r){this.source=e,this.path=n,this.children=r,this.type=Hn.MERGE}operationForChild(e){if(le(this.path)){const n=this.children.subtree(new xe(e));return n.isEmpty()?null:n.value?new Os(this.source,me(),n.value):new Jo(this.source,me(),n)}else return B(oe(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new Jo(this.source,ke(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fi{constructor(e,n,r){this.node_=e,this.fullyInitialized_=n,this.filtered_=r}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(le(e))return this.isFullyInitialized()&&!this.filtered_;const n=oe(e);return this.isCompleteForChild(n)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l${constructor(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}}function c$(t,e,n,r){const i=[],s=[];return e.forEach(o=>{o.type==="child_changed"&&t.index_.indexedValueChanged(o.oldSnap,o.snapshotNode)&&s.push(ZF(o.childName,o.snapshotNode))}),Za(t,i,"child_removed",e,r,n),Za(t,i,"child_added",e,r,n),Za(t,i,"child_moved",s,r,n),Za(t,i,"child_changed",e,r,n),Za(t,i,"value",e,r,n),i}function Za(t,e,n,r,i,s){const o=r.filter(a=>a.type===n);o.sort((a,l)=>d$(t,a,l)),o.forEach(a=>{const l=u$(t,a,s);i.forEach(c=>{c.respondsTo(a.type)&&e.push(c.createEvent(l,t.query_))})})}function u$(t,e,n){return e.type==="value"||e.type==="child_removed"||(e.prevName=n.getPredecessorChildName(e.childName,e.snapshotNode,t.index_)),e}function d$(t,e,n){if(e.childName==null||n.childName==null)throw ga("Should only compare child_ events.");const r=new ae(e.childName,e.snapshotNode),i=new ae(n.childName,n.snapshotNode);return t.index_.compare(r,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function df(t,e){return{eventCache:t,serverCache:e}}function Tl(t,e,n,r){return df(new Fi(e,n,r),t.serverCache)}function hP(t,e,n,r){return df(t.eventCache,new Fi(e,n,r))}function gh(t){return t.eventCache.isFullyInitialized()?t.eventCache.getNode():null}function Ms(t){return t.serverCache.isFullyInitialized()?t.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let sm;const h$=()=>(sm||(sm=new Zt(X6)),sm);class Te{static fromObject(e){let n=new Te(null);return wt(e,(r,i)=>{n=n.set(new xe(r),i)}),n}constructor(e,n=h$()){this.value=e,this.children=n}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,n){if(this.value!=null&&n(this.value))return{path:me(),value:this.value};if(le(e))return null;{const r=oe(e),i=this.children.get(r);if(i!==null){const s=i.findRootMostMatchingPathAndValue(ke(e),n);return s!=null?{path:He(new xe(r),s.path),value:s.value}:null}else return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(le(e))return this;{const n=oe(e),r=this.children.get(n);return r!==null?r.subtree(ke(e)):new Te(null)}}set(e,n){if(le(e))return new Te(n,this.children);{const r=oe(e),s=(this.children.get(r)||new Te(null)).set(ke(e),n),o=this.children.insert(r,s);return new Te(this.value,o)}}remove(e){if(le(e))return this.children.isEmpty()?new Te(null):new Te(null,this.children);{const n=oe(e),r=this.children.get(n);if(r){const i=r.remove(ke(e));let s;return i.isEmpty()?s=this.children.remove(n):s=this.children.insert(n,i),this.value===null&&s.isEmpty()?new Te(null):new Te(this.value,s)}else return this}}get(e){if(le(e))return this.value;{const n=oe(e),r=this.children.get(n);return r?r.get(ke(e)):null}}setTree(e,n){if(le(e))return n;{const r=oe(e),s=(this.children.get(r)||new Te(null)).setTree(ke(e),n);let o;return s.isEmpty()?o=this.children.remove(r):o=this.children.insert(r,s),new Te(this.value,o)}}fold(e){return this.fold_(me(),e)}fold_(e,n){const r={};return this.children.inorderTraversal((i,s)=>{r[i]=s.fold_(He(e,i),n)}),n(e,this.value,r)}findOnPath(e,n){return this.findOnPath_(e,me(),n)}findOnPath_(e,n,r){const i=this.value?r(n,this.value):!1;if(i)return i;if(le(e))return null;{const s=oe(e),o=this.children.get(s);return o?o.findOnPath_(ke(e),He(n,s),r):null}}foreachOnPath(e,n){return this.foreachOnPath_(e,me(),n)}foreachOnPath_(e,n,r){if(le(e))return this;{this.value&&r(n,this.value);const i=oe(e),s=this.children.get(i);return s?s.foreachOnPath_(ke(e),He(n,i),r):new Te(null)}}foreach(e){this.foreach_(me(),e)}foreach_(e,n){this.children.inorderTraversal((r,i)=>{i.foreach_(He(e,r),n)}),this.value&&n(e,this.value)}foreachChild(e){this.children.inorderTraversal((n,r)=>{r.value&&e(n,r.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qn{constructor(e){this.writeTree_=e}static empty(){return new Qn(new Te(null))}}function kl(t,e,n){if(le(e))return new Qn(new Te(n));{const r=t.writeTree_.findRootMostValueAndPath(e);if(r!=null){const i=r.path;let s=r.value;const o=$t(i,e);return s=s.updateChild(o,n),new Qn(t.writeTree_.set(i,s))}else{const i=new Te(n),s=t.writeTree_.setTree(e,i);return new Qn(s)}}}function Bg(t,e,n){let r=t;return wt(n,(i,s)=>{r=kl(r,He(e,i),s)}),r}function lE(t,e){if(le(e))return Qn.empty();{const n=t.writeTree_.setTree(e,new Te(null));return new Qn(n)}}function zg(t,e){return Ws(t,e)!=null}function Ws(t,e){const n=t.writeTree_.findRootMostValueAndPath(e);return n!=null?t.writeTree_.get(n.path).getChild($t(n.path,e)):null}function cE(t){const e=[],n=t.writeTree_.value;return n!=null?n.isLeafNode()||n.forEachChild(Ge,(r,i)=>{e.push(new ae(r,i))}):t.writeTree_.children.inorderTraversal((r,i)=>{i.value!=null&&e.push(new ae(r,i.value))}),e}function Ni(t,e){if(le(e))return t;{const n=Ws(t,e);return n!=null?new Qn(new Te(n)):new Qn(t.writeTree_.subtree(e))}}function Wg(t){return t.writeTree_.isEmpty()}function Zo(t,e){return fP(me(),t.writeTree_,e)}function fP(t,e,n){if(e.value!=null)return n.updateChild(t,e.value);{let r=null;return e.children.inorderTraversal((i,s)=>{i===".priority"?(B(s.value!==null,"Priority writes must always be leaf nodes"),r=s.value):n=fP(He(t,i),s,n)}),!n.getChild(t).isEmpty()&&r!==null&&(n=n.updateChild(He(t,".priority"),r)),n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hf(t,e){return yP(e,t)}function f$(t,e,n,r,i){B(r>t.lastWriteId,"Stacking an older write on top of newer ones"),i===void 0&&(i=!0),t.allWrites.push({path:e,snap:n,writeId:r,visible:i}),i&&(t.visibleWrites=kl(t.visibleWrites,e,n)),t.lastWriteId=r}function p$(t,e,n,r){B(r>t.lastWriteId,"Stacking an older merge on top of newer ones"),t.allWrites.push({path:e,children:n,writeId:r,visible:!0}),t.visibleWrites=Bg(t.visibleWrites,e,n),t.lastWriteId=r}function m$(t,e){for(let n=0;n<t.allWrites.length;n++){const r=t.allWrites[n];if(r.writeId===e)return r}return null}function g$(t,e){const n=t.allWrites.findIndex(a=>a.writeId===e);B(n>=0,"removeWrite called with nonexistent writeId.");const r=t.allWrites[n];t.allWrites.splice(n,1);let i=r.visible,s=!1,o=t.allWrites.length-1;for(;i&&o>=0;){const a=t.allWrites[o];a.visible&&(o>=n&&y$(a,r.path)?i=!1:Sn(r.path,a.path)&&(s=!0)),o--}if(i){if(s)return v$(t),!0;if(r.snap)t.visibleWrites=lE(t.visibleWrites,r.path);else{const a=r.children;wt(a,l=>{t.visibleWrites=lE(t.visibleWrites,He(r.path,l))})}return!0}else return!1}function y$(t,e){if(t.snap)return Sn(t.path,e);for(const n in t.children)if(t.children.hasOwnProperty(n)&&Sn(He(t.path,n),e))return!0;return!1}function v$(t){t.visibleWrites=pP(t.allWrites,_$,me()),t.allWrites.length>0?t.lastWriteId=t.allWrites[t.allWrites.length-1].writeId:t.lastWriteId=-1}function _$(t){return t.visible}function pP(t,e,n){let r=Qn.empty();for(let i=0;i<t.length;++i){const s=t[i];if(e(s)){const o=s.path;let a;if(s.snap)Sn(n,o)?(a=$t(n,o),r=kl(r,a,s.snap)):Sn(o,n)&&(a=$t(o,n),r=kl(r,me(),s.snap.getChild(a)));else if(s.children){if(Sn(n,o))a=$t(n,o),r=Bg(r,a,s.children);else if(Sn(o,n))if(a=$t(o,n),le(a))r=Bg(r,me(),s.children);else{const l=Yo(s.children,oe(a));if(l){const c=l.getChild(ke(a));r=kl(r,me(),c)}}}else throw ga("WriteRecord should have .snap or .children")}}return r}function mP(t,e,n,r,i){if(!r&&!i){const s=Ws(t.visibleWrites,e);if(s!=null)return s;{const o=Ni(t.visibleWrites,e);if(Wg(o))return n;if(n==null&&!zg(o,me()))return null;{const a=n||J.EMPTY_NODE;return Zo(o,a)}}}else{const s=Ni(t.visibleWrites,e);if(!i&&Wg(s))return n;if(!i&&n==null&&!zg(s,me()))return null;{const o=function(c){return(c.visible||i)&&(!r||!~r.indexOf(c.writeId))&&(Sn(c.path,e)||Sn(e,c.path))},a=pP(t.allWrites,o,e),l=n||J.EMPTY_NODE;return Zo(a,l)}}}function w$(t,e,n){let r=J.EMPTY_NODE;const i=Ws(t.visibleWrites,e);if(i)return i.isLeafNode()||i.forEachChild(Ge,(s,o)=>{r=r.updateImmediateChild(s,o)}),r;if(n){const s=Ni(t.visibleWrites,e);return n.forEachChild(Ge,(o,a)=>{const l=Zo(Ni(s,new xe(o)),a);r=r.updateImmediateChild(o,l)}),cE(s).forEach(o=>{r=r.updateImmediateChild(o.name,o.node)}),r}else{const s=Ni(t.visibleWrites,e);return cE(s).forEach(o=>{r=r.updateImmediateChild(o.name,o.node)}),r}}function x$(t,e,n,r,i){B(r||i,"Either existingEventSnap or existingServerSnap must exist");const s=He(e,n);if(zg(t.visibleWrites,s))return null;{const o=Ni(t.visibleWrites,s);return Wg(o)?i.getChild(n):Zo(o,i.getChild(n))}}function E$(t,e,n,r){const i=He(e,n),s=Ws(t.visibleWrites,i);if(s!=null)return s;if(r.isCompleteForChild(n)){const o=Ni(t.visibleWrites,i);return Zo(o,r.getNode().getImmediateChild(n))}else return null}function C$(t,e){return Ws(t.visibleWrites,e)}function S$(t,e,n,r,i,s,o){let a;const l=Ni(t.visibleWrites,e),c=Ws(l,me());if(c!=null)a=c;else if(n!=null)a=Zo(l,n);else return[];if(a=a.withIndex(o),!a.isEmpty()&&!a.isLeafNode()){const d=[],h=o.getCompare(),f=s?a.getReverseIteratorFrom(r,o):a.getIteratorFrom(r,o);let v=f.getNext();for(;v&&d.length<i;)h(v,r)!==0&&d.push(v),v=f.getNext();return d}else return[]}function b$(){return{visibleWrites:Qn.empty(),allWrites:[],lastWriteId:-1}}function yh(t,e,n,r){return mP(t.writeTree,t.treePath,e,n,r)}function Tv(t,e){return w$(t.writeTree,t.treePath,e)}function uE(t,e,n,r){return x$(t.writeTree,t.treePath,e,n,r)}function vh(t,e){return C$(t.writeTree,He(t.treePath,e))}function T$(t,e,n,r,i,s){return S$(t.writeTree,t.treePath,e,n,r,i,s)}function kv(t,e,n){return E$(t.writeTree,t.treePath,e,n)}function gP(t,e){return yP(He(t.treePath,e),t.writeTree)}function yP(t,e){return{treePath:t,writeTree:e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k${constructor(){this.changeMap=new Map}trackChildChange(e){const n=e.type,r=e.childName;B(n==="child_added"||n==="child_changed"||n==="child_removed","Only child changes supported for tracking"),B(r!==".priority","Only non-priority child changes can be tracked.");const i=this.changeMap.get(r);if(i){const s=i.type;if(n==="child_added"&&s==="child_removed")this.changeMap.set(r,dc(r,e.snapshotNode,i.snapshotNode));else if(n==="child_removed"&&s==="child_added")this.changeMap.delete(r);else if(n==="child_removed"&&s==="child_changed")this.changeMap.set(r,uc(r,i.oldSnap));else if(n==="child_changed"&&s==="child_added")this.changeMap.set(r,Qo(r,e.snapshotNode));else if(n==="child_changed"&&s==="child_changed")this.changeMap.set(r,dc(r,e.snapshotNode,i.oldSnap));else throw ga("Illegal combination of changes: "+e+" occurred after "+i)}else this.changeMap.set(r,e)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I${getCompleteChild(e){return null}getChildAfterChild(e,n,r){return null}}const vP=new I$;class Iv{constructor(e,n,r=null){this.writes_=e,this.viewCache_=n,this.optCompleteServerCache_=r}getCompleteChild(e){const n=this.viewCache_.eventCache;if(n.isCompleteForChild(e))return n.getNode().getImmediateChild(e);{const r=this.optCompleteServerCache_!=null?new Fi(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return kv(this.writes_,e,r)}}getChildAfterChild(e,n,r){const i=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:Ms(this.viewCache_),s=T$(this.writes_,i,n,1,r,e);return s.length===0?null:s[0]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function P$(t){return{filter:t}}function R$(t,e){B(e.eventCache.getNode().isIndexed(t.filter.getIndex()),"Event snap not indexed"),B(e.serverCache.getNode().isIndexed(t.filter.getIndex()),"Server snap not indexed")}function A$(t,e,n,r,i){const s=new k$;let o,a;if(n.type===Hn.OVERWRITE){const c=n;c.source.fromUser?o=Hg(t,e,c.path,c.snap,r,i,s):(B(c.source.fromServer,"Unknown source."),a=c.source.tagged||e.serverCache.isFiltered()&&!le(c.path),o=_h(t,e,c.path,c.snap,r,i,a,s))}else if(n.type===Hn.MERGE){const c=n;c.source.fromUser?o=D$(t,e,c.path,c.children,r,i,s):(B(c.source.fromServer,"Unknown source."),a=c.source.tagged||e.serverCache.isFiltered(),o=Gg(t,e,c.path,c.children,r,i,a,s))}else if(n.type===Hn.ACK_USER_WRITE){const c=n;c.revert?o=L$(t,e,c.path,r,i,s):o=O$(t,e,c.path,c.affectedTree,r,i,s)}else if(n.type===Hn.LISTEN_COMPLETE)o=M$(t,e,n.path,r,s);else throw ga("Unknown operation type: "+n.type);const l=s.getChanges();return N$(e,o,l),{viewCache:o,changes:l}}function N$(t,e,n){const r=e.eventCache;if(r.isFullyInitialized()){const i=r.getNode().isLeafNode()||r.getNode().isEmpty(),s=gh(t);(n.length>0||!t.eventCache.isFullyInitialized()||i&&!r.getNode().equals(s)||!r.getNode().getPriority().equals(s.getPriority()))&&n.push(uP(gh(e)))}}function _P(t,e,n,r,i,s){const o=e.eventCache;if(vh(r,n)!=null)return e;{let a,l;if(le(n))if(B(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const c=Ms(e),d=c instanceof J?c:J.EMPTY_NODE,h=Tv(r,d);a=t.filter.updateFullNode(e.eventCache.getNode(),h,s)}else{const c=yh(r,Ms(e));a=t.filter.updateFullNode(e.eventCache.getNode(),c,s)}else{const c=oe(n);if(c===".priority"){B(ji(n)===1,"Can't have a priority with additional path components");const d=o.getNode();l=e.serverCache.getNode();const h=uE(r,n,d,l);h!=null?a=t.filter.updatePriority(d,h):a=o.getNode()}else{const d=ke(n);let h;if(o.isCompleteForChild(c)){l=e.serverCache.getNode();const f=uE(r,n,o.getNode(),l);f!=null?h=o.getNode().getImmediateChild(c).updateChild(d,f):h=o.getNode().getImmediateChild(c)}else h=kv(r,c,e.serverCache);h!=null?a=t.filter.updateChild(o.getNode(),c,h,d,i,s):a=o.getNode()}}return Tl(e,a,o.isFullyInitialized()||le(n),t.filter.filtersNodes())}}function _h(t,e,n,r,i,s,o,a){const l=e.serverCache;let c;const d=o?t.filter:t.filter.getIndexedFilter();if(le(n))c=d.updateFullNode(l.getNode(),r,null);else if(d.filtersNodes()&&!l.isFiltered()){const v=l.getNode().updateChild(n,r);c=d.updateFullNode(l.getNode(),v,null)}else{const v=oe(n);if(!l.isCompleteForPath(n)&&ji(n)>1)return e;const _=ke(n),P=l.getNode().getImmediateChild(v).updateChild(_,r);v===".priority"?c=d.updatePriority(l.getNode(),P):c=d.updateChild(l.getNode(),v,P,_,vP,null)}const h=hP(e,c,l.isFullyInitialized()||le(n),d.filtersNodes()),f=new Iv(i,h,s);return _P(t,h,n,i,f,a)}function Hg(t,e,n,r,i,s,o){const a=e.eventCache;let l,c;const d=new Iv(i,e,s);if(le(n))c=t.filter.updateFullNode(e.eventCache.getNode(),r,o),l=Tl(e,c,!0,t.filter.filtersNodes());else{const h=oe(n);if(h===".priority")c=t.filter.updatePriority(e.eventCache.getNode(),r),l=Tl(e,c,a.isFullyInitialized(),a.isFiltered());else{const f=ke(n),v=a.getNode().getImmediateChild(h);let _;if(le(f))_=r;else{const S=d.getCompleteChild(h);S!=null?yv(f)===".priority"&&S.getChild(rP(f)).isEmpty()?_=S:_=S.updateChild(f,r):_=J.EMPTY_NODE}if(v.equals(_))l=e;else{const S=t.filter.updateChild(a.getNode(),h,_,f,d,o);l=Tl(e,S,a.isFullyInitialized(),t.filter.filtersNodes())}}}return l}function dE(t,e){return t.eventCache.isCompleteForChild(e)}function D$(t,e,n,r,i,s,o){let a=e;return r.foreach((l,c)=>{const d=He(n,l);dE(e,oe(d))&&(a=Hg(t,a,d,c,i,s,o))}),r.foreach((l,c)=>{const d=He(n,l);dE(e,oe(d))||(a=Hg(t,a,d,c,i,s,o))}),a}function hE(t,e,n){return n.foreach((r,i)=>{e=e.updateChild(r,i)}),e}function Gg(t,e,n,r,i,s,o,a){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let l=e,c;le(n)?c=r:c=new Te(null).setTree(n,r);const d=e.serverCache.getNode();return c.children.inorderTraversal((h,f)=>{if(d.hasChild(h)){const v=e.serverCache.getNode().getImmediateChild(h),_=hE(t,v,f);l=_h(t,l,new xe(h),_,i,s,o,a)}}),c.children.inorderTraversal((h,f)=>{const v=!e.serverCache.isCompleteForChild(h)&&f.value===null;if(!d.hasChild(h)&&!v){const _=e.serverCache.getNode().getImmediateChild(h),S=hE(t,_,f);l=_h(t,l,new xe(h),S,i,s,o,a)}}),l}function O$(t,e,n,r,i,s,o){if(vh(i,n)!=null)return e;const a=e.serverCache.isFiltered(),l=e.serverCache;if(r.value!=null){if(le(n)&&l.isFullyInitialized()||l.isCompleteForPath(n))return _h(t,e,n,l.getNode().getChild(n),i,s,a,o);if(le(n)){let c=new Te(null);return l.getNode().forEachChild($o,(d,h)=>{c=c.set(new xe(d),h)}),Gg(t,e,n,c,i,s,a,o)}else return e}else{let c=new Te(null);return r.foreach((d,h)=>{const f=He(n,d);l.isCompleteForPath(f)&&(c=c.set(d,l.getNode().getChild(f)))}),Gg(t,e,n,c,i,s,a,o)}}function M$(t,e,n,r,i){const s=e.serverCache,o=hP(e,s.getNode(),s.isFullyInitialized()||le(n),s.isFiltered());return _P(t,o,n,r,vP,i)}function L$(t,e,n,r,i,s){let o;if(vh(r,n)!=null)return e;{const a=new Iv(r,e,i),l=e.eventCache.getNode();let c;if(le(n)||oe(n)===".priority"){let d;if(e.serverCache.isFullyInitialized())d=yh(r,Ms(e));else{const h=e.serverCache.getNode();B(h instanceof J,"serverChildren would be complete if leaf node"),d=Tv(r,h)}d=d,c=t.filter.updateFullNode(l,d,s)}else{const d=oe(n);let h=kv(r,d,e.serverCache);h==null&&e.serverCache.isCompleteForChild(d)&&(h=l.getImmediateChild(d)),h!=null?c=t.filter.updateChild(l,d,h,ke(n),a,s):e.eventCache.getNode().hasChild(d)?c=t.filter.updateChild(l,d,J.EMPTY_NODE,ke(n),a,s):c=l,c.isEmpty()&&e.serverCache.isFullyInitialized()&&(o=yh(r,Ms(e)),o.isLeafNode()&&(c=t.filter.updateFullNode(c,o,s)))}return o=e.serverCache.isFullyInitialized()||vh(r,me())!=null,Tl(e,c,o,t.filter.filtersNodes())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j${constructor(e,n){this.query_=e,this.eventRegistrations_=[];const r=this.query_._queryParams,i=new xv(r.getIndex()),s=t$(r);this.processor_=P$(s);const o=n.serverCache,a=n.eventCache,l=i.updateFullNode(J.EMPTY_NODE,o.getNode(),null),c=s.updateFullNode(J.EMPTY_NODE,a.getNode(),null),d=new Fi(l,o.isFullyInitialized(),i.filtersNodes()),h=new Fi(c,a.isFullyInitialized(),s.filtersNodes());this.viewCache_=df(h,d),this.eventGenerator_=new l$(this.query_)}get query(){return this.query_}}function F$(t){return t.viewCache_.serverCache.getNode()}function $$(t){return gh(t.viewCache_)}function V$(t,e){const n=Ms(t.viewCache_);return n&&(t.query._queryParams.loadsAllData()||!le(e)&&!n.getImmediateChild(oe(e)).isEmpty())?n.getChild(e):null}function fE(t){return t.eventRegistrations_.length===0}function U$(t,e){t.eventRegistrations_.push(e)}function pE(t,e,n){const r=[];if(n){B(e==null,"A cancel should cancel all event registrations.");const i=t.query._path;t.eventRegistrations_.forEach(s=>{const o=s.createCancelEvent(n,i);o&&r.push(o)})}if(e){let i=[];for(let s=0;s<t.eventRegistrations_.length;++s){const o=t.eventRegistrations_[s];if(!o.matches(e))i.push(o);else if(e.hasAnyCallback()){i=i.concat(t.eventRegistrations_.slice(s+1));break}}t.eventRegistrations_=i}else t.eventRegistrations_=[];return r}function mE(t,e,n,r){e.type===Hn.MERGE&&e.source.queryId!==null&&(B(Ms(t.viewCache_),"We should always have a full cache before handling merges"),B(gh(t.viewCache_),"Missing event cache, even though we have a server cache"));const i=t.viewCache_,s=A$(t.processor_,i,e,n,r);return R$(t.processor_,s.viewCache),B(s.viewCache.serverCache.isFullyInitialized()||!i.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),t.viewCache_=s.viewCache,wP(t,s.changes,s.viewCache.eventCache.getNode(),null)}function B$(t,e){const n=t.viewCache_.eventCache,r=[];return n.getNode().isLeafNode()||n.getNode().forEachChild(Ge,(s,o)=>{r.push(Qo(s,o))}),n.isFullyInitialized()&&r.push(uP(n.getNode())),wP(t,r,n.getNode(),e)}function wP(t,e,n,r){const i=r?[r]:t.eventRegistrations_;return c$(t.eventGenerator_,e,n,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let wh;class xP{constructor(){this.views=new Map}}function z$(t){B(!wh,"__referenceConstructor has already been defined"),wh=t}function W$(){return B(wh,"Reference.ts has not been loaded"),wh}function H$(t){return t.views.size===0}function Pv(t,e,n,r){const i=e.source.queryId;if(i!==null){const s=t.views.get(i);return B(s!=null,"SyncTree gave us an op for an invalid query."),mE(s,e,n,r)}else{let s=[];for(const o of t.views.values())s=s.concat(mE(o,e,n,r));return s}}function EP(t,e,n,r,i){const s=e._queryIdentifier,o=t.views.get(s);if(!o){let a=yh(n,i?r:null),l=!1;a?l=!0:r instanceof J?(a=Tv(n,r),l=!1):(a=J.EMPTY_NODE,l=!1);const c=df(new Fi(a,l,!1),new Fi(r,i,!1));return new j$(e,c)}return o}function G$(t,e,n,r,i,s){const o=EP(t,e,r,i,s);return t.views.has(e._queryIdentifier)||t.views.set(e._queryIdentifier,o),U$(o,n),B$(o,n)}function K$(t,e,n,r){const i=e._queryIdentifier,s=[];let o=[];const a=$i(t);if(i==="default")for(const[l,c]of t.views.entries())o=o.concat(pE(c,n,r)),fE(c)&&(t.views.delete(l),c.query._queryParams.loadsAllData()||s.push(c.query));else{const l=t.views.get(i);l&&(o=o.concat(pE(l,n,r)),fE(l)&&(t.views.delete(i),l.query._queryParams.loadsAllData()||s.push(l.query)))}return a&&!$i(t)&&s.push(new(W$())(e._repo,e._path)),{removed:s,events:o}}function CP(t){const e=[];for(const n of t.views.values())n.query._queryParams.loadsAllData()||e.push(n);return e}function Di(t,e){let n=null;for(const r of t.views.values())n=n||V$(r,e);return n}function SP(t,e){if(e._queryParams.loadsAllData())return ff(t);{const r=e._queryIdentifier;return t.views.get(r)}}function bP(t,e){return SP(t,e)!=null}function $i(t){return ff(t)!=null}function ff(t){for(const e of t.views.values())if(e.query._queryParams.loadsAllData())return e;return null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let xh;function q$(t){B(!xh,"__referenceConstructor has already been defined"),xh=t}function Y$(){return B(xh,"Reference.ts has not been loaded"),xh}let X$=1;class gE{constructor(e){this.listenProvider_=e,this.syncPointTree_=new Te(null),this.pendingWriteTree_=b$(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function TP(t,e,n,r,i){return f$(t.pendingWriteTree_,e,n,r,i),i?wa(t,new Os(Cv(),e,n)):[]}function Q$(t,e,n,r){p$(t.pendingWriteTree_,e,n,r);const i=Te.fromObject(n);return wa(t,new Jo(Cv(),e,i))}function Ei(t,e,n=!1){const r=m$(t.pendingWriteTree_,e);if(g$(t.pendingWriteTree_,e)){let s=new Te(null);return r.snap!=null?s=s.set(me(),!0):wt(r.children,o=>{s=s.set(new xe(o),!0)}),wa(t,new mh(r.path,s,n))}else return[]}function Wc(t,e,n){return wa(t,new Os(Sv(),e,n))}function J$(t,e,n){const r=Te.fromObject(n);return wa(t,new Jo(Sv(),e,r))}function Z$(t,e){return wa(t,new fc(Sv(),e))}function e9(t,e,n){const r=Av(t,n);if(r){const i=Nv(r),s=i.path,o=i.queryId,a=$t(s,e),l=new fc(bv(o),a);return Dv(t,s,l)}else return[]}function Eh(t,e,n,r,i=!1){const s=e._path,o=t.syncPointTree_.get(s);let a=[];if(o&&(e._queryIdentifier==="default"||bP(o,e))){const l=K$(o,e,n,r);H$(o)&&(t.syncPointTree_=t.syncPointTree_.remove(s));const c=l.removed;if(a=l.events,!i){const d=c.findIndex(f=>f._queryParams.loadsAllData())!==-1,h=t.syncPointTree_.findOnPath(s,(f,v)=>$i(v));if(d&&!h){const f=t.syncPointTree_.subtree(s);if(!f.isEmpty()){const v=r9(f);for(let _=0;_<v.length;++_){const S=v[_],P=S.query,w=RP(t,S);t.listenProvider_.startListening(Il(P),pc(t,P),w.hashFn,w.onComplete)}}}!h&&c.length>0&&!r&&(d?t.listenProvider_.stopListening(Il(e),null):c.forEach(f=>{const v=t.queryToTagMap.get(pf(f));t.listenProvider_.stopListening(Il(f),v)}))}i9(t,c)}return a}function kP(t,e,n,r){const i=Av(t,r);if(i!=null){const s=Nv(i),o=s.path,a=s.queryId,l=$t(o,e),c=new Os(bv(a),l,n);return Dv(t,o,c)}else return[]}function t9(t,e,n,r){const i=Av(t,r);if(i){const s=Nv(i),o=s.path,a=s.queryId,l=$t(o,e),c=Te.fromObject(n),d=new Jo(bv(a),l,c);return Dv(t,o,d)}else return[]}function Kg(t,e,n,r=!1){const i=e._path;let s=null,o=!1;t.syncPointTree_.foreachOnPath(i,(f,v)=>{const _=$t(f,i);s=s||Di(v,_),o=o||$i(v)});let a=t.syncPointTree_.get(i);a?(o=o||$i(a),s=s||Di(a,me())):(a=new xP,t.syncPointTree_=t.syncPointTree_.set(i,a));let l;s!=null?l=!0:(l=!1,s=J.EMPTY_NODE,t.syncPointTree_.subtree(i).foreachChild((v,_)=>{const S=Di(_,me());S&&(s=s.updateImmediateChild(v,S))}));const c=bP(a,e);if(!c&&!e._queryParams.loadsAllData()){const f=pf(e);B(!t.queryToTagMap.has(f),"View does not exist, but we have a tag");const v=s9();t.queryToTagMap.set(f,v),t.tagToQueryMap.set(v,f)}const d=hf(t.pendingWriteTree_,i);let h=G$(a,e,n,d,s,l);if(!c&&!o&&!r){const f=SP(a,e);h=h.concat(o9(t,e,f))}return h}function Rv(t,e,n){const i=t.pendingWriteTree_,s=t.syncPointTree_.findOnPath(e,(o,a)=>{const l=$t(o,e),c=Di(a,l);if(c)return c});return mP(i,e,s,n,!0)}function n9(t,e){const n=e._path;let r=null;t.syncPointTree_.foreachOnPath(n,(c,d)=>{const h=$t(c,n);r=r||Di(d,h)});let i=t.syncPointTree_.get(n);i?r=r||Di(i,me()):(i=new xP,t.syncPointTree_=t.syncPointTree_.set(n,i));const s=r!=null,o=s?new Fi(r,!0,!1):null,a=hf(t.pendingWriteTree_,e._path),l=EP(i,e,a,s?o.getNode():J.EMPTY_NODE,s);return $$(l)}function wa(t,e){return IP(e,t.syncPointTree_,null,hf(t.pendingWriteTree_,me()))}function IP(t,e,n,r){if(le(t.path))return PP(t,e,n,r);{const i=e.get(me());n==null&&i!=null&&(n=Di(i,me()));let s=[];const o=oe(t.path),a=t.operationForChild(o),l=e.children.get(o);if(l&&a){const c=n?n.getImmediateChild(o):null,d=gP(r,o);s=s.concat(IP(a,l,c,d))}return i&&(s=s.concat(Pv(i,t,r,n))),s}}function PP(t,e,n,r){const i=e.get(me());n==null&&i!=null&&(n=Di(i,me()));let s=[];return e.children.inorderTraversal((o,a)=>{const l=n?n.getImmediateChild(o):null,c=gP(r,o),d=t.operationForChild(o);d&&(s=s.concat(PP(d,a,l,c)))}),i&&(s=s.concat(Pv(i,t,r,n))),s}function RP(t,e){const n=e.query,r=pc(t,n);return{hashFn:()=>(F$(e)||J.EMPTY_NODE).hash(),onComplete:i=>{if(i==="ok")return r?e9(t,n._path,r):Z$(t,n._path);{const s=Z6(i,n);return Eh(t,n,null,s)}}}}function pc(t,e){const n=pf(e);return t.queryToTagMap.get(n)}function pf(t){return t._path.toString()+"$"+t._queryIdentifier}function Av(t,e){return t.tagToQueryMap.get(e)}function Nv(t){const e=t.indexOf("$");return B(e!==-1&&e<t.length-1,"Bad queryKey."),{queryId:t.substr(e+1),path:new xe(t.substr(0,e))}}function Dv(t,e,n){const r=t.syncPointTree_.get(e);B(r,"Missing sync point for query tag that we're tracking");const i=hf(t.pendingWriteTree_,e);return Pv(r,n,i,null)}function r9(t){return t.fold((e,n,r)=>{if(n&&$i(n))return[ff(n)];{let i=[];return n&&(i=CP(n)),wt(r,(s,o)=>{i=i.concat(o)}),i}})}function Il(t){return t._queryParams.loadsAllData()&&!t._queryParams.isDefault()?new(Y$())(t._repo,t._path):t}function i9(t,e){for(let n=0;n<e.length;++n){const r=e[n];if(!r._queryParams.loadsAllData()){const i=pf(r),s=t.queryToTagMap.get(i);t.queryToTagMap.delete(i),t.tagToQueryMap.delete(s)}}}function s9(){return X$++}function o9(t,e,n){const r=e._path,i=pc(t,e),s=RP(t,n),o=t.listenProvider_.startListening(Il(e),i,s.hashFn,s.onComplete),a=t.syncPointTree_.subtree(r);if(i)B(!$i(a.value),"If we're adding a query, it shouldn't be shadowed");else{const l=a.fold((c,d,h)=>{if(!le(c)&&d&&$i(d))return[ff(d).query];{let f=[];return d&&(f=f.concat(CP(d).map(v=>v.query))),wt(h,(v,_)=>{f=f.concat(_)}),f}});for(let c=0;c<l.length;++c){const d=l[c];t.listenProvider_.stopListening(Il(d),pc(t,d))}}return o}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ov{constructor(e){this.node_=e}getImmediateChild(e){const n=this.node_.getImmediateChild(e);return new Ov(n)}node(){return this.node_}}class Mv{constructor(e,n){this.syncTree_=e,this.path_=n}getImmediateChild(e){const n=He(this.path_,e);return new Mv(this.syncTree_,n)}node(){return Rv(this.syncTree_,this.path_)}}const a9=function(t){return t=t||{},t.timestamp=t.timestamp||new Date().getTime(),t},yE=function(t,e,n){if(!t||typeof t!="object")return t;if(B(".sv"in t,"Unexpected leaf node or priority contents"),typeof t[".sv"]=="string")return l9(t[".sv"],e,n);if(typeof t[".sv"]=="object")return c9(t[".sv"],e);B(!1,"Unexpected server value: "+JSON.stringify(t,null,2))},l9=function(t,e,n){switch(t){case"timestamp":return n.timestamp;default:B(!1,"Unexpected server value: "+t)}},c9=function(t,e,n){t.hasOwnProperty("increment")||B(!1,"Unexpected server value: "+JSON.stringify(t,null,2));const r=t.increment;typeof r!="number"&&B(!1,"Unexpected increment value: "+r);const i=e.node();if(B(i!==null&&typeof i<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;const o=i.getValue();return typeof o!="number"?r:o+r},AP=function(t,e,n,r){return Lv(e,new Mv(n,t),r)},NP=function(t,e,n){return Lv(t,new Ov(e),n)};function Lv(t,e,n){const r=t.getPriority().val(),i=yE(r,e.getImmediateChild(".priority"),n);let s;if(t.isLeafNode()){const o=t,a=yE(o.getValue(),e,n);return a!==o.getValue()||i!==o.getPriority().val()?new at(a,tt(i)):t}else{const o=t;return s=o,i!==o.getPriority().val()&&(s=s.updatePriority(new at(i))),o.forEachChild(Ge,(a,l)=>{const c=Lv(l,e.getImmediateChild(a),n);c!==l&&(s=s.updateImmediateChild(a,c))}),s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jv{constructor(e="",n=null,r={children:{},childCount:0}){this.name=e,this.parent=n,this.node=r}}function Fv(t,e){let n=e instanceof xe?e:new xe(e),r=t,i=oe(n);for(;i!==null;){const s=Yo(r.node.children,i)||{children:{},childCount:0};r=new jv(i,r,s),n=ke(n),i=oe(n)}return r}function xa(t){return t.node.value}function DP(t,e){t.node.value=e,qg(t)}function OP(t){return t.node.childCount>0}function u9(t){return xa(t)===void 0&&!OP(t)}function mf(t,e){wt(t.node.children,(n,r)=>{e(new jv(n,t,r))})}function MP(t,e,n,r){n&&!r&&e(t),mf(t,i=>{MP(i,e,!0,r)}),n&&r&&e(t)}function d9(t,e,n){let r=n?t:t.parent;for(;r!==null;){if(e(r))return!0;r=r.parent}return!1}function Hc(t){return new xe(t.parent===null?t.name:Hc(t.parent)+"/"+t.name)}function qg(t){t.parent!==null&&h9(t.parent,t.name,t)}function h9(t,e,n){const r=u9(n),i=Cr(t.node.children,e);r&&i?(delete t.node.children[e],t.node.childCount--,qg(t)):!r&&!i&&(t.node.children[e]=n.node,t.node.childCount++,qg(t))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f9=/[\[\].#$\/\u0000-\u001F\u007F]/,p9=/[\[\].#$\u0000-\u001F\u007F]/,om=10*1024*1024,$v=function(t){return typeof t=="string"&&t.length!==0&&!f9.test(t)},LP=function(t){return typeof t=="string"&&t.length!==0&&!p9.test(t)},m9=function(t){return t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),LP(t)},g9=function(t){return t===null||typeof t=="string"||typeof t=="number"&&!hv(t)||t&&typeof t=="object"&&Cr(t,".sv")},jP=function(t,e,n,r){r&&e===void 0||gf(ef(t,"value"),e,n)},gf=function(t,e,n){const r=n instanceof xe?new DF(n,t):n;if(e===void 0)throw new Error(t+"contains undefined "+ss(r));if(typeof e=="function")throw new Error(t+"contains a function "+ss(r)+" with contents = "+e.toString());if(hv(e))throw new Error(t+"contains "+e.toString()+" "+ss(r));if(typeof e=="string"&&e.length>om/3&&tf(e)>om)throw new Error(t+"contains a string greater than "+om+" utf8 bytes "+ss(r)+" ('"+e.substring(0,50)+"...')");if(e&&typeof e=="object"){let i=!1,s=!1;if(wt(e,(o,a)=>{if(o===".value")i=!0;else if(o!==".priority"&&o!==".sv"&&(s=!0,!$v(o)))throw new Error(t+" contains an invalid key ("+o+") "+ss(r)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);OF(r,o),gf(t,a,r),MF(r)}),i&&s)throw new Error(t+' contains ".value" child '+ss(r)+" in addition to actual children.")}},y9=function(t,e){let n,r;for(n=0;n<e.length;n++){r=e[n];const s=cc(r);for(let o=0;o<s.length;o++)if(!(s[o]===".priority"&&o===s.length-1)){if(!$v(s[o]))throw new Error(t+"contains an invalid key ("+s[o]+") in path "+r.toString()+`. Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`)}}e.sort(NF);let i=null;for(n=0;n<e.length;n++){if(r=e[n],i!==null&&Sn(i,r))throw new Error(t+"contains a path "+i.toString()+" that is ancestor of another path "+r.toString());i=r}},v9=function(t,e,n,r){if(r&&e===void 0)return;const i=ef(t,"values");if(!(e&&typeof e=="object")||Array.isArray(e))throw new Error(i+" must be an object containing the children to replace.");const s=[];wt(e,(o,a)=>{const l=new xe(o);if(gf(i,a,He(n,l)),yv(l)===".priority"&&!g9(a))throw new Error(i+"contains an invalid value for '"+l.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");s.push(l)}),y9(i,s)},FP=function(t,e,n,r){if(!(r&&n===void 0)&&!LP(n))throw new Error(ef(t,e)+'was an invalid path = "'+n+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},_9=function(t,e,n,r){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),FP(t,e,n,r)},$P=function(t,e){if(oe(e)===".info")throw new Error(t+" failed = Can't modify data under /.info/")},w9=function(t,e){const n=e.path.toString();if(typeof e.repoInfo.host!="string"||e.repoInfo.host.length===0||!$v(e.repoInfo.namespace)&&e.repoInfo.host.split(":")[0]!=="localhost"||n.length!==0&&!m9(n))throw new Error(ef(t,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x9{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function yf(t,e){let n=null;for(let r=0;r<e.length;r++){const i=e[r],s=i.getPath();n!==null&&!vv(s,n.path)&&(t.eventLists_.push(n),n=null),n===null&&(n={events:[],path:s}),n.events.push(i)}n&&t.eventLists_.push(n)}function VP(t,e,n){yf(t,n),UP(t,r=>vv(r,e))}function Nn(t,e,n){yf(t,n),UP(t,r=>Sn(r,e)||Sn(e,r))}function UP(t,e){t.recursionDepth_++;let n=!0;for(let r=0;r<t.eventLists_.length;r++){const i=t.eventLists_[r];if(i){const s=i.path;e(s)?(E9(t.eventLists_[r]),t.eventLists_[r]=null):n=!1}}n&&(t.eventLists_=[]),t.recursionDepth_--}function E9(t){for(let e=0;e<t.events.length;e++){const n=t.events[e];if(n!==null){t.events[e]=null;const r=n.getEventRunner();xs&&yt("event: "+n.toString()),_a(r)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C9="repo_interrupt",S9=25;class b9{constructor(e,n,r,i){this.repoInfo_=e,this.forceRestClient_=n,this.authTokenProvider_=r,this.appCheckProvider_=i,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new x9,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=ph(),this.transactionQueueTree_=new jv,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function T9(t,e,n){if(t.stats_=mv(t.repoInfo_),t.forceRestClient_||rF())t.server_=new fh(t.repoInfo_,(r,i,s,o)=>{vE(t,r,i,s,o)},t.authTokenProvider_,t.appCheckProvider_),setTimeout(()=>_E(t,!0),0);else{if(typeof n<"u"&&n!==null){if(typeof n!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{nt(n)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}t.persistentConnection_=new Br(t.repoInfo_,e,(r,i,s,o)=>{vE(t,r,i,s,o)},r=>{_E(t,r)},r=>{k9(t,r)},t.authTokenProvider_,t.appCheckProvider_,n),t.server_=t.persistentConnection_}t.authTokenProvider_.addTokenChangeListener(r=>{t.server_.refreshAuthToken(r)}),t.appCheckProvider_.addTokenChangeListener(r=>{t.server_.refreshAppCheckToken(r.token)}),t.statsReporter_=lF(t.repoInfo_,()=>new a$(t.stats_,t.server_)),t.infoData_=new n$,t.infoSyncTree_=new gE({startListening:(r,i,s,o)=>{let a=[];const l=t.infoData_.getNode(r._path);return l.isEmpty()||(a=Wc(t.infoSyncTree_,r._path,l),setTimeout(()=>{o("ok")},0)),a},stopListening:()=>{}}),Vv(t,"connected",!1),t.serverSyncTree_=new gE({startListening:(r,i,s,o)=>(t.server_.listen(r,s,i,(a,l)=>{const c=o(a,l);Nn(t.eventQueue_,r._path,c)}),[]),stopListening:(r,i)=>{t.server_.unlisten(r,i)}})}function BP(t){const n=t.infoData_.getNode(new xe(".info/serverTimeOffset")).val()||0;return new Date().getTime()+n}function vf(t){return a9({timestamp:BP(t)})}function vE(t,e,n,r,i){t.dataUpdateCount++;const s=new xe(e);n=t.interceptServerDataCallback_?t.interceptServerDataCallback_(e,n):n;let o=[];if(i)if(r){const l=th(n,c=>tt(c));o=t9(t.serverSyncTree_,s,l,i)}else{const l=tt(n);o=kP(t.serverSyncTree_,s,l,i)}else if(r){const l=th(n,c=>tt(c));o=J$(t.serverSyncTree_,s,l)}else{const l=tt(n);o=Wc(t.serverSyncTree_,s,l)}let a=s;o.length>0&&(a=ea(t,s)),Nn(t.eventQueue_,a,o)}function _E(t,e){Vv(t,"connected",e),e===!1&&A9(t)}function k9(t,e){wt(e,(n,r)=>{Vv(t,n,r)})}function Vv(t,e,n){const r=new xe("/.info/"+e),i=tt(n);t.infoData_.updateSnapshot(r,i);const s=Wc(t.infoSyncTree_,r,i);Nn(t.eventQueue_,r,s)}function Uv(t){return t.nextWriteId_++}function I9(t,e,n){const r=n9(t.serverSyncTree_,e);return r!=null?Promise.resolve(r):t.server_.get(e).then(i=>{const s=tt(i).withIndex(e._queryParams.getIndex());Kg(t.serverSyncTree_,e,n,!0);let o;if(e._queryParams.loadsAllData())o=Wc(t.serverSyncTree_,e._path,s);else{const a=pc(t.serverSyncTree_,e);o=kP(t.serverSyncTree_,e._path,s,a)}return Nn(t.eventQueue_,e._path,o),Eh(t.serverSyncTree_,e,n,null,!0),s},i=>(Gc(t,"get for query "+nt(e)+" failed: "+i),Promise.reject(new Error(i))))}function P9(t,e,n,r,i){Gc(t,"set",{path:e.toString(),value:n,priority:r});const s=vf(t),o=tt(n,r),a=Rv(t.serverSyncTree_,e),l=NP(o,a,s),c=Uv(t),d=TP(t.serverSyncTree_,e,l,c,!0);yf(t.eventQueue_,d),t.server_.put(e.toString(),o.val(!0),(f,v)=>{const _=f==="ok";_||Bt("set at "+e+" failed: "+f);const S=Ei(t.serverSyncTree_,c,!_);Nn(t.eventQueue_,e,S),Xg(t,i,f,v)});const h=zv(t,e);ea(t,h),Nn(t.eventQueue_,h,[])}function R9(t,e,n,r){Gc(t,"update",{path:e.toString(),value:n});let i=!0;const s=vf(t),o={};if(wt(n,(a,l)=>{i=!1,o[a]=AP(He(e,a),tt(l),t.serverSyncTree_,s)}),i)yt("update() called with empty data.  Don't do anything."),Xg(t,r,"ok",void 0);else{const a=Uv(t),l=Q$(t.serverSyncTree_,e,o,a);yf(t.eventQueue_,l),t.server_.merge(e.toString(),n,(c,d)=>{const h=c==="ok";h||Bt("update at "+e+" failed: "+c);const f=Ei(t.serverSyncTree_,a,!h),v=f.length>0?ea(t,e):e;Nn(t.eventQueue_,v,f),Xg(t,r,c,d)}),wt(n,c=>{const d=zv(t,He(e,c));ea(t,d)}),Nn(t.eventQueue_,e,[])}}function A9(t){Gc(t,"onDisconnectEvents");const e=vf(t),n=ph();Ug(t.onDisconnect_,me(),(i,s)=>{const o=AP(i,s,t.serverSyncTree_,e);dP(n,i,o)});let r=[];Ug(n,me(),(i,s)=>{r=r.concat(Wc(t.serverSyncTree_,i,s));const o=zv(t,i);ea(t,o)}),t.onDisconnect_=ph(),Nn(t.eventQueue_,me(),r)}function N9(t,e,n){let r;oe(e._path)===".info"?r=Kg(t.infoSyncTree_,e,n):r=Kg(t.serverSyncTree_,e,n),VP(t.eventQueue_,e._path,r)}function Yg(t,e,n){let r;oe(e._path)===".info"?r=Eh(t.infoSyncTree_,e,n):r=Eh(t.serverSyncTree_,e,n),VP(t.eventQueue_,e._path,r)}function D9(t){t.persistentConnection_&&t.persistentConnection_.interrupt(C9)}function Gc(t,...e){let n="";t.persistentConnection_&&(n=t.persistentConnection_.id+":"),yt(n,...e)}function Xg(t,e,n,r){e&&_a(()=>{if(n==="ok")e(null);else{const i=(n||"error").toUpperCase();let s=i;r&&(s+=": "+r);const o=new Error(s);o.code=i,e(o)}})}function zP(t,e,n){return Rv(t.serverSyncTree_,e,n)||J.EMPTY_NODE}function Bv(t,e=t.transactionQueueTree_){if(e||_f(t,e),xa(e)){const n=HP(t,e);B(n.length>0,"Sending zero length transaction queue"),n.every(i=>i.status===0)&&O9(t,Hc(e),n)}else OP(e)&&mf(e,n=>{Bv(t,n)})}function O9(t,e,n){const r=n.map(c=>c.currentWriteId),i=zP(t,e,r);let s=i;const o=i.hash();for(let c=0;c<n.length;c++){const d=n[c];B(d.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),d.status=1,d.retryCount++;const h=$t(e,d.path);s=s.updateChild(h,d.currentOutputSnapshotRaw)}const a=s.val(!0),l=e;t.server_.put(l.toString(),a,c=>{Gc(t,"transaction put response",{path:l.toString(),status:c});let d=[];if(c==="ok"){const h=[];for(let f=0;f<n.length;f++)n[f].status=2,d=d.concat(Ei(t.serverSyncTree_,n[f].currentWriteId)),n[f].onComplete&&h.push(()=>n[f].onComplete(null,!0,n[f].currentOutputSnapshotResolved)),n[f].unwatcher();_f(t,Fv(t.transactionQueueTree_,e)),Bv(t,t.transactionQueueTree_),Nn(t.eventQueue_,e,d);for(let f=0;f<h.length;f++)_a(h[f])}else{if(c==="datastale")for(let h=0;h<n.length;h++)n[h].status===3?n[h].status=4:n[h].status=0;else{Bt("transaction at "+l.toString()+" failed: "+c);for(let h=0;h<n.length;h++)n[h].status=4,n[h].abortReason=c}ea(t,e)}},o)}function ea(t,e){const n=WP(t,e),r=Hc(n),i=HP(t,n);return M9(t,i,r),r}function M9(t,e,n){if(e.length===0)return;const r=[];let i=[];const o=e.filter(a=>a.status===0).map(a=>a.currentWriteId);for(let a=0;a<e.length;a++){const l=e[a],c=$t(n,l.path);let d=!1,h;if(B(c!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),l.status===4)d=!0,h=l.abortReason,i=i.concat(Ei(t.serverSyncTree_,l.currentWriteId,!0));else if(l.status===0)if(l.retryCount>=S9)d=!0,h="maxretry",i=i.concat(Ei(t.serverSyncTree_,l.currentWriteId,!0));else{const f=zP(t,l.path,o);l.currentInputSnapshot=f;const v=e[a].update(f.val());if(v!==void 0){gf("transaction failed: Data returned ",v,l.path);let _=tt(v);typeof v=="object"&&v!=null&&Cr(v,".priority")||(_=_.updatePriority(f.getPriority()));const P=l.currentWriteId,w=vf(t),C=NP(_,f,w);l.currentOutputSnapshotRaw=_,l.currentOutputSnapshotResolved=C,l.currentWriteId=Uv(t),o.splice(o.indexOf(P),1),i=i.concat(TP(t.serverSyncTree_,l.path,C,l.currentWriteId,l.applyLocally)),i=i.concat(Ei(t.serverSyncTree_,P,!0))}else d=!0,h="nodata",i=i.concat(Ei(t.serverSyncTree_,l.currentWriteId,!0))}Nn(t.eventQueue_,n,i),i=[],d&&(e[a].status=2,function(f){setTimeout(f,Math.floor(0))}(e[a].unwatcher),e[a].onComplete&&(h==="nodata"?r.push(()=>e[a].onComplete(null,!1,e[a].currentInputSnapshot)):r.push(()=>e[a].onComplete(new Error(h),!1,null))))}_f(t,t.transactionQueueTree_);for(let a=0;a<r.length;a++)_a(r[a]);Bv(t,t.transactionQueueTree_)}function WP(t,e){let n,r=t.transactionQueueTree_;for(n=oe(e);n!==null&&xa(r)===void 0;)r=Fv(r,n),e=ke(e),n=oe(e);return r}function HP(t,e){const n=[];return GP(t,e,n),n.sort((r,i)=>r.order-i.order),n}function GP(t,e,n){const r=xa(e);if(r)for(let i=0;i<r.length;i++)n.push(r[i]);mf(e,i=>{GP(t,i,n)})}function _f(t,e){const n=xa(e);if(n){let r=0;for(let i=0;i<n.length;i++)n[i].status!==2&&(n[r]=n[i],r++);n.length=r,DP(e,n.length>0?n:void 0)}mf(e,r=>{_f(t,r)})}function zv(t,e){const n=Hc(WP(t,e)),r=Fv(t.transactionQueueTree_,e);return d9(r,i=>{am(t,i)}),am(t,r),MP(r,i=>{am(t,i)}),n}function am(t,e){const n=xa(e);if(n){const r=[];let i=[],s=-1;for(let o=0;o<n.length;o++)n[o].status===3||(n[o].status===1?(B(s===o-1,"All SENT items should be at beginning of queue."),s=o,n[o].status=3,n[o].abortReason="set"):(B(n[o].status===0,"Unexpected transaction status in abort"),n[o].unwatcher(),i=i.concat(Ei(t.serverSyncTree_,n[o].currentWriteId,!0)),n[o].onComplete&&r.push(n[o].onComplete.bind(null,new Error("set"),!1,null))));s===-1?DP(e,void 0):n.length=s+1,Nn(t.eventQueue_,Hc(e),i);for(let o=0;o<r.length;o++)_a(r[o])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function L9(t){let e="";const n=t.split("/");for(let r=0;r<n.length;r++)if(n[r].length>0){let i=n[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch{}e+="/"+i}return e}function j9(t){const e={};t.charAt(0)==="?"&&(t=t.substring(1));for(const n of t.split("&")){if(n.length===0)continue;const r=n.split("=");r.length===2?e[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):Bt(`Invalid query segment '${n}' in query '${t}'`)}return e}const wE=function(t,e){const n=F9(t),r=n.namespace;n.domain==="firebase.com"&&Qr(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||r==="undefined")&&n.domain!=="localhost"&&Qr("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||q6();const i=n.scheme==="ws"||n.scheme==="wss";return{repoInfo:new qI(n.host,n.secure,r,i,e,"",r!==n.subdomain),path:new xe(n.pathString)}},F9=function(t){let e="",n="",r="",i="",s="",o=!0,a="https",l=443;if(typeof t=="string"){let c=t.indexOf("//");c>=0&&(a=t.substring(0,c-1),t=t.substring(c+2));let d=t.indexOf("/");d===-1&&(d=t.length);let h=t.indexOf("?");h===-1&&(h=t.length),e=t.substring(0,Math.min(d,h)),d<h&&(i=L9(t.substring(d,h)));const f=j9(t.substring(Math.min(t.length,h)));c=e.indexOf(":"),c>=0?(o=a==="https"||a==="wss",l=parseInt(e.substring(c+1),10)):c=e.length;const v=e.slice(0,c);if(v.toLowerCase()==="localhost")n="localhost";else if(v.split(".").length<=2)n=v;else{const _=e.indexOf(".");r=e.substring(0,_).toLowerCase(),n=e.substring(_+1),s=r}"ns"in f&&(s=f.ns)}return{host:e,port:l,domain:n,subdomain:r,secure:o,scheme:a,pathString:i,namespace:s}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xE="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",$9=function(){let t=0;const e=[];return function(n){const r=n===t;t=n;let i;const s=new Array(8);for(i=7;i>=0;i--)s[i]=xE.charAt(n%64),n=Math.floor(n/64);B(n===0,"Cannot push at time == 0");let o=s.join("");if(r){for(i=11;i>=0&&e[i]===63;i--)e[i]=0;e[i]++}else for(i=0;i<12;i++)e[i]=Math.floor(Math.random()*64);for(i=0;i<12;i++)o+=xE.charAt(e[i]);return B(o.length===20,"nextPushId: Length should be 20."),o}}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KP{constructor(e,n,r,i){this.eventType=e,this.eventRegistration=n,this.snapshot=r,this.prevName=i}getPath(){const e=this.snapshot.ref;return this.eventType==="value"?e._path:e.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+nt(this.snapshot.exportVal())}}class qP{constructor(e,n,r){this.eventRegistration=e,this.error=n,this.path=r}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wv{constructor(e,n){this.snapshotCallback=e,this.cancelCallback=n}onValue(e,n){this.snapshotCallback.call(null,e,n)}onCancel(e){return B(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}get hasCancelCallback(){return!!this.cancelCallback}matches(e){return this.snapshotCallback===e.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hv{constructor(e,n,r,i){this._repo=e,this._path=n,this._queryParams=r,this._orderByCalled=i}get key(){return le(this._path)?null:yv(this._path)}get ref(){return new Sr(this._repo,this._path)}get _queryIdentifier(){const e=oE(this._queryParams),n=fv(e);return n==="{}"?"default":n}get _queryObject(){return oE(this._queryParams)}isEqual(e){if(e=Xe(e),!(e instanceof Hv))return!1;const n=this._repo===e._repo,r=vv(this._path,e._path),i=this._queryIdentifier===e._queryIdentifier;return n&&r&&i}toJSON(){return this.toString()}toString(){return this._repo.toString()+AF(this._path)}}class Sr extends Hv{constructor(e,n){super(e,n,new Ev,!1)}get parent(){const e=rP(this._path);return e===null?null:new Sr(this._repo,e)}get root(){let e=this;for(;e.parent!==null;)e=e.parent;return e}}class ta{constructor(e,n,r){this._node=e,this.ref=n,this._index=r}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(e){const n=new xe(e),r=na(this.ref,e);return new ta(this._node.getChild(n),r,Ge)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(e){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(r,i)=>e(new ta(i,na(this.ref,r),Ge)))}hasChild(e){const n=new xe(e);return!this._node.getChild(n).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function se(t,e){return t=Xe(t),t._checkNotDeleted("ref"),e!==void 0?na(t._root,e):t._root}function na(t,e){return t=Xe(t),oe(t._path)===null?_9("child","path",e,!1):FP("child","path",e,!1),new Sr(t._repo,He(t._path,e))}function gd(t,e){t=Xe(t),$P("push",t._path),jP("push",e,t._path,!0);const n=BP(t._repo),r=$9(n),i=na(t,r),s=na(t,r);let o;return e!=null?o=jt(s,e).then(()=>s):o=Promise.resolve(s),i.then=o.then.bind(o),i.catch=o.then.bind(o,void 0),i}function jt(t,e){t=Xe(t),$P("set",t._path),jP("set",e,t._path,!1);const n=new Mc;return P9(t._repo,t._path,e,null,n.wrapCallback(()=>{})),n.promise}function mc(t,e){v9("update",e,t._path,!1);const n=new Mc;return R9(t._repo,t._path,e,n.wrapCallback(()=>{})),n.promise}function Tn(t){t=Xe(t);const e=new Wv(()=>{}),n=new Kc(e);return I9(t._repo,t,n).then(r=>new ta(r,new Sr(t._repo,t._path),t._queryParams.getIndex()))}class Kc{constructor(e){this.callbackContext=e}respondsTo(e){return e==="value"}createEvent(e,n){const r=n._queryParams.getIndex();return new KP("value",this,new ta(e.snapshotNode,new Sr(n._repo,n._path),r))}getEventRunner(e){return e.getEventType()==="cancel"?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,null)}createCancelEvent(e,n){return this.callbackContext.hasCancelCallback?new qP(this,e,n):null}matches(e){return e instanceof Kc?!e.callbackContext||!this.callbackContext?!0:e.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}}class wf{constructor(e,n){this.eventType=e,this.callbackContext=n}respondsTo(e){let n=e==="children_added"?"child_added":e;return n=n==="children_removed"?"child_removed":n,this.eventType===n}createCancelEvent(e,n){return this.callbackContext.hasCancelCallback?new qP(this,e,n):null}createEvent(e,n){B(e.childName!=null,"Child events should have a childName.");const r=na(new Sr(n._repo,n._path),e.childName),i=n._queryParams.getIndex();return new KP(e.type,this,new ta(e.snapshotNode,r,i),e.prevName)}getEventRunner(e){return e.getEventType()==="cancel"?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,e.prevName)}matches(e){return e instanceof wf?this.eventType===e.eventType&&(!this.callbackContext||!e.callbackContext||this.callbackContext.matches(e.callbackContext)):!1}hasAnyCallback(){return!!this.callbackContext}}function V9(t,e,n,r,i){let s;if(typeof r=="object"&&(s=void 0,i=r),typeof r=="function"&&(s=r),i&&i.onlyOnce){const l=n,c=(d,h)=>{Yg(t._repo,t,a),l(d,h)};c.userCallback=n.userCallback,c.context=n.context,n=c}const o=new Wv(n,s||void 0),a=e==="value"?new Kc(o):new wf(e,o);return N9(t._repo,t,a),()=>Yg(t._repo,t,a)}function zr(t,e,n,r){return V9(t,"value",e,n,r)}function gc(t,e,n){let r=null;const i=n?new Wv(n):null;e==="value"?r=new Kc(i):e&&(r=new wf(e,i)),Yg(t._repo,t,r)}z$(Sr);q$(Sr);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U9="FIREBASE_DATABASE_EMULATOR_HOST",Qg={};let B9=!1;function z9(t,e,n,r){const i=e.lastIndexOf(":"),s=e.substring(0,i),o=Us(s);t.repoInfo_=new qI(e,o,t.repoInfo_.namespace,t.repoInfo_.webSocketOnly,t.repoInfo_.nodeAdmin,t.repoInfo_.persistenceKey,t.repoInfo_.includeNamespaceInQueryParams,!0,n),r&&(t.authTokenProvider_=r)}function W9(t,e,n,r,i){let s=r||t.options.databaseURL;s===void 0&&(t.options.projectId||Qr("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),yt("Using default host for project ",t.options.projectId),s=`${t.options.projectId}-default-rtdb.firebaseio.com`);let o=wE(s,i),a=o.repoInfo,l,c;typeof process<"u"&&process.env&&(c=process.env[U9]),c?(l=!0,s=`http://${c}?ns=${a.namespace}`,o=wE(s,i),a=o.repoInfo):l=!o.repoInfo.secure;const d=i&&l?new Fo(Fo.OWNER):new sF(t.name,t.options,e);w9("Invalid Firebase Database URL",o),le(o.path)||Qr("Database URL must point to the root of a Firebase Database (not including a child path).");const h=G9(a,t,d,new iF(t,n));return new K9(h,t)}function H9(t,e){const n=Qg[e];(!n||n[t.key]!==t)&&Qr(`Database ${e}(${t.repoInfo_}) has already been deleted.`),D9(t),delete n[t.key]}function G9(t,e,n,r){let i=Qg[e.name];i||(i={},Qg[e.name]=i);let s=i[t.toURLString()];return s&&Qr("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),s=new b9(t,B9,n,r),i[t.toURLString()]=s,s}class K9{constructor(e,n){this._repoInternal=e,this.app=n,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(T9(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0,Gi("Database",this._repo.repoInfo_.emulatorOptions!==null)),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new Sr(this._repo,me())),this._rootInternal}_delete(){return this._rootInternal!==null&&(H9(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){this._rootInternal===null&&Qr("Cannot call "+e+" on a deleted database.")}}function q9(t=Lc(),e){const n=Ki(t,"database").getImmediate({identifier:e});if(!n._instanceStarted){const r=W0("database");r&&YP(n,...r)}return n}function YP(t,e,n,r={}){t=Xe(t),t._checkNotDeleted("useEmulator");const i=`${e}:${n}`,s=t._repoInternal;if(t._instanceStarted){if(i===t._repoInternal.repoInfo_.host&&Li(r,s.repoInfo_.emulatorOptions))return;Qr("connectDatabaseEmulator() cannot initialize or alter the emulator configuration after the database instance has started.")}let o;if(s.repoInfo_.nodeAdmin)r.mockUserToken&&Qr('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),o=new Fo(Fo.OWNER);else if(r.mockUserToken){const a=typeof r.mockUserToken=="string"?r.mockUserToken:H0(r.mockUserToken,t.app.options.projectId);o=new Fo(a)}Us(e)&&(Zh(e),Gi("Database",!0)),z9(s,i,r,o)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Y9(t){z6(qi),Rn(new pn("database",(e,{instanceIdentifier:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal"),s=e.getProvider("app-check-internal");return W9(r,i,s,n)},"PUBLIC").setMultipleInstances(!0)),Rt(z1,W1,t),Rt(z1,W1,"esm2017")}Br.prototype.simpleListen=function(t,e){this.sendRequest("q",{p:t},e)};Br.prototype.echo=function(t,e){this.sendRequest("echo",{d:t},e)};Y9();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XP="firebasestorage.googleapis.com",X9="storageBucket",Q9=2*60*1e3,J9=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class br extends nr{constructor(e,n,r=0){super(lm(e),`Firebase Storage: ${n} (${lm(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,br.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return lm(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var vr;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(vr||(vr={}));function lm(t){return"storage/"+t}function Z9(){const t="An unknown error occurred, please check the error payload for server response.";return new br(vr.UNKNOWN,t)}function eV(){return new br(vr.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function tV(){return new br(vr.CANCELED,"User canceled the upload/download.")}function nV(t){return new br(vr.INVALID_URL,"Invalid URL '"+t+"'.")}function rV(t){return new br(vr.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function EE(t){return new br(vr.INVALID_ARGUMENT,t)}function QP(){return new br(vr.APP_DELETED,"The Firebase app was deleted.")}function iV(t){return new br(vr.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gn{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=Gn.makeFromUrl(e,n)}catch{return new Gn(e,"")}if(r.path==="")return r;throw rV(e)}static makeFromUrl(e,n){let r=null;const i="([A-Za-z0-9.\\-_]+)";function s(R){R.path.charAt(R.path.length-1)==="/"&&(R.path_=R.path_.slice(0,-1))}const o="(/(.*))?$",a=new RegExp("^gs://"+i+o,"i"),l={bucket:1,path:3};function c(R){R.path_=decodeURIComponent(R.path)}const d="v[A-Za-z0-9_]+",h=n.replace(/[.]/g,"\\."),f="(/([^?#]*).*)?$",v=new RegExp(`^https?://${h}/${d}/b/${i}/o${f}`,"i"),_={bucket:1,path:3},S=n===XP?"(?:storage.googleapis.com|storage.cloud.google.com)":n,P="([^?#]*)",w=new RegExp(`^https?://${S}/${i}/${P}`,"i"),E=[{regex:a,indices:l,postModify:s},{regex:v,indices:_,postModify:c},{regex:w,indices:{bucket:1,path:2},postModify:c}];for(let R=0;R<E.length;R++){const D=E[R],M=D.regex.exec(e);if(M){const b=M[D.indices.bucket];let x=M[D.indices.path];x||(x=""),r=new Gn(b,x),D.postModify(r);break}}if(r==null)throw nV(e);return r}}class sV{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oV(t,e,n){let r=1,i=null,s=null,o=!1,a=0;function l(){return a===2}let c=!1;function d(...P){c||(c=!0,e.apply(null,P))}function h(P){i=setTimeout(()=>{i=null,t(v,l())},P)}function f(){s&&clearTimeout(s)}function v(P,...w){if(c){f();return}if(P){f(),d.call(null,P,...w);return}if(l()||o){f(),d.call(null,P,...w);return}r<64&&(r*=2);let E;a===1?(a=2,E=0):E=(r+Math.random())*1e3,h(E)}let _=!1;function S(P){_||(_=!0,f(),!c&&(i!==null?(P||(a=2),clearTimeout(i),h(0)):P||(a=1)))}return h(0),s=setTimeout(()=>{o=!0,S(!0)},n),S}function aV(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lV(t){return t!==void 0}function CE(t,e,n,r){if(r<e)throw EE(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw EE(`Invalid value for '${t}'. Expected ${n} or less.`)}function cV(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const i=e(r)+"="+e(t[r]);n=n+i+"&"}return n=n.slice(0,-1),n}var Ch;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(Ch||(Ch={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uV(t,e){const n=t>=500&&t<600,i=[408,429].indexOf(t)!==-1,s=e.indexOf(t)!==-1;return n||i||s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dV{constructor(e,n,r,i,s,o,a,l,c,d,h,f=!0,v=!1){this.url_=e,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=s,this.additionalRetryCodes_=o,this.callback_=a,this.errorCallback_=l,this.timeout_=c,this.progressCallback_=d,this.connectionFactory_=h,this.retry=f,this.isUsingEmulator=v,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((_,S)=>{this.resolve_=_,this.reject_=S,this.start_()})}start_(){const e=(r,i)=>{if(i){r(!1,new $u(!1,null,!0));return}const s=this.connectionFactory_();this.pendingConnection_=s;const o=a=>{const l=a.loaded,c=a.lengthComputable?a.total:-1;this.progressCallback_!==null&&this.progressCallback_(l,c)};this.progressCallback_!==null&&s.addUploadProgressListener(o),s.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&s.removeUploadProgressListener(o),this.pendingConnection_=null;const a=s.getErrorCode()===Ch.NO_ERROR,l=s.getStatus();if(!a||uV(l,this.additionalRetryCodes_)&&this.retry){const d=s.getErrorCode()===Ch.ABORT;r(!1,new $u(!1,null,d));return}const c=this.successCodes_.indexOf(l)!==-1;r(!0,new $u(c,s))})},n=(r,i)=>{const s=this.resolve_,o=this.reject_,a=i.connection;if(i.wasSuccessCode)try{const l=this.callback_(a,a.getResponse());lV(l)?s(l):s()}catch(l){o(l)}else if(a!==null){const l=Z9();l.serverResponse=a.getErrorText(),this.errorCallback_?o(this.errorCallback_(a,l)):o(l)}else if(i.canceled){const l=this.appDelete_?QP():tV();o(l)}else{const l=eV();o(l)}};this.canceled_?n(!1,new $u(!1,null,!0)):this.backoffId_=oV(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&aV(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class $u{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function hV(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function fV(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function pV(t,e){e&&(t["X-Firebase-GMPID"]=e)}function mV(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function gV(t,e,n,r,i,s,o=!0,a=!1){const l=cV(t.urlParams),c=t.url+l,d=Object.assign({},t.headers);return pV(d,e),hV(d,n),fV(d,s),mV(d,r),new dV(c,t.method,d,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i,o,a)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yV(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function vV(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sh{constructor(e,n){this._service=e,n instanceof Gn?this._location=n:this._location=Gn.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new Sh(e,n)}get root(){const e=new Gn(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return vV(this._location.path)}get storage(){return this._service}get parent(){const e=yV(this._location.path);if(e===null)return null;const n=new Gn(this._location.bucket,e);return new Sh(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw iV(e)}}function SE(t,e){const n=e==null?void 0:e[X9];return n==null?null:Gn.makeFromBucketSpec(n,t)}function _V(t,e,n,r={}){t.host=`${e}:${n}`;const i=Us(e);i&&(Zh(`https://${t.host}`),Gi("Storage",!0)),t._isUsingEmulator=!0,t._protocol=i?"https":"http";const{mockUserToken:s}=r;s&&(t._overrideAuthToken=typeof s=="string"?s:H0(s,t.app.options.projectId))}class wV{constructor(e,n,r,i,s,o=!1){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=s,this._isUsingEmulator=o,this._bucket=null,this._host=XP,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=Q9,this._maxUploadRetryTime=J9,this._requests=new Set,i!=null?this._bucket=Gn.makeFromBucketSpec(i,this._host):this._bucket=SE(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Gn.makeFromBucketSpec(this._url,e):this._bucket=SE(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){CE("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){CE("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(Ft(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Sh(this,e)}_makeRequest(e,n,r,i,s=!0){if(this._deleted)return new sV(QP());{const o=gV(e,this._appId,r,i,n,this._firebaseVersion,s,this._isUsingEmulator);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}async makeRequestWithTokens(e,n){const[r,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,i).getPromise()}}const bE="@firebase/storage",TE="0.13.10";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JP="storage";function xV(t=Lc(),e){t=Xe(t),Gi("Storage",!1);const r=Ki(t,JP).getImmediate({identifier:e}),i=W0("storage");return i&&ZP(r,...i),r}function ZP(t,e,n,r={}){_V(t,e,n,r)}function EV(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),i=t.getProvider("app-check-internal");return new wV(n,r,i,e,qi)}function CV(){Rn(new pn(JP,EV,"PUBLIC").setMultipleInstances(!0)),Rt(bE,TE,""),Rt(bE,TE,"esm2017")}CV();var kE=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var eR;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(b,x){function I(){}I.prototype=x.prototype,b.D=x.prototype,b.prototype=new I,b.prototype.constructor=b,b.C=function(g,A,O){for(var N=Array(arguments.length-2),V=2;V<arguments.length;V++)N[V-2]=arguments[V];return x.prototype[A].apply(g,N)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(b,x,I){I||(I=0);var g=Array(16);if(typeof x=="string")for(var A=0;16>A;++A)g[A]=x.charCodeAt(I++)|x.charCodeAt(I++)<<8|x.charCodeAt(I++)<<16|x.charCodeAt(I++)<<24;else for(A=0;16>A;++A)g[A]=x[I++]|x[I++]<<8|x[I++]<<16|x[I++]<<24;x=b.g[0],I=b.g[1],A=b.g[2];var O=b.g[3],N=x+(O^I&(A^O))+g[0]+3614090360&4294967295;x=I+(N<<7&4294967295|N>>>25),N=O+(A^x&(I^A))+g[1]+3905402710&4294967295,O=x+(N<<12&4294967295|N>>>20),N=A+(I^O&(x^I))+g[2]+606105819&4294967295,A=O+(N<<17&4294967295|N>>>15),N=I+(x^A&(O^x))+g[3]+3250441966&4294967295,I=A+(N<<22&4294967295|N>>>10),N=x+(O^I&(A^O))+g[4]+4118548399&4294967295,x=I+(N<<7&4294967295|N>>>25),N=O+(A^x&(I^A))+g[5]+1200080426&4294967295,O=x+(N<<12&4294967295|N>>>20),N=A+(I^O&(x^I))+g[6]+2821735955&4294967295,A=O+(N<<17&4294967295|N>>>15),N=I+(x^A&(O^x))+g[7]+4249261313&4294967295,I=A+(N<<22&4294967295|N>>>10),N=x+(O^I&(A^O))+g[8]+1770035416&4294967295,x=I+(N<<7&4294967295|N>>>25),N=O+(A^x&(I^A))+g[9]+2336552879&4294967295,O=x+(N<<12&4294967295|N>>>20),N=A+(I^O&(x^I))+g[10]+4294925233&4294967295,A=O+(N<<17&4294967295|N>>>15),N=I+(x^A&(O^x))+g[11]+2304563134&4294967295,I=A+(N<<22&4294967295|N>>>10),N=x+(O^I&(A^O))+g[12]+1804603682&4294967295,x=I+(N<<7&4294967295|N>>>25),N=O+(A^x&(I^A))+g[13]+4254626195&4294967295,O=x+(N<<12&4294967295|N>>>20),N=A+(I^O&(x^I))+g[14]+2792965006&4294967295,A=O+(N<<17&4294967295|N>>>15),N=I+(x^A&(O^x))+g[15]+1236535329&4294967295,I=A+(N<<22&4294967295|N>>>10),N=x+(A^O&(I^A))+g[1]+4129170786&4294967295,x=I+(N<<5&4294967295|N>>>27),N=O+(I^A&(x^I))+g[6]+3225465664&4294967295,O=x+(N<<9&4294967295|N>>>23),N=A+(x^I&(O^x))+g[11]+643717713&4294967295,A=O+(N<<14&4294967295|N>>>18),N=I+(O^x&(A^O))+g[0]+3921069994&4294967295,I=A+(N<<20&4294967295|N>>>12),N=x+(A^O&(I^A))+g[5]+3593408605&4294967295,x=I+(N<<5&4294967295|N>>>27),N=O+(I^A&(x^I))+g[10]+38016083&4294967295,O=x+(N<<9&4294967295|N>>>23),N=A+(x^I&(O^x))+g[15]+3634488961&4294967295,A=O+(N<<14&4294967295|N>>>18),N=I+(O^x&(A^O))+g[4]+3889429448&4294967295,I=A+(N<<20&4294967295|N>>>12),N=x+(A^O&(I^A))+g[9]+568446438&4294967295,x=I+(N<<5&4294967295|N>>>27),N=O+(I^A&(x^I))+g[14]+3275163606&4294967295,O=x+(N<<9&4294967295|N>>>23),N=A+(x^I&(O^x))+g[3]+4107603335&4294967295,A=O+(N<<14&4294967295|N>>>18),N=I+(O^x&(A^O))+g[8]+1163531501&4294967295,I=A+(N<<20&4294967295|N>>>12),N=x+(A^O&(I^A))+g[13]+2850285829&4294967295,x=I+(N<<5&4294967295|N>>>27),N=O+(I^A&(x^I))+g[2]+4243563512&4294967295,O=x+(N<<9&4294967295|N>>>23),N=A+(x^I&(O^x))+g[7]+1735328473&4294967295,A=O+(N<<14&4294967295|N>>>18),N=I+(O^x&(A^O))+g[12]+2368359562&4294967295,I=A+(N<<20&4294967295|N>>>12),N=x+(I^A^O)+g[5]+4294588738&4294967295,x=I+(N<<4&4294967295|N>>>28),N=O+(x^I^A)+g[8]+2272392833&4294967295,O=x+(N<<11&4294967295|N>>>21),N=A+(O^x^I)+g[11]+1839030562&4294967295,A=O+(N<<16&4294967295|N>>>16),N=I+(A^O^x)+g[14]+4259657740&4294967295,I=A+(N<<23&4294967295|N>>>9),N=x+(I^A^O)+g[1]+2763975236&4294967295,x=I+(N<<4&4294967295|N>>>28),N=O+(x^I^A)+g[4]+1272893353&4294967295,O=x+(N<<11&4294967295|N>>>21),N=A+(O^x^I)+g[7]+4139469664&4294967295,A=O+(N<<16&4294967295|N>>>16),N=I+(A^O^x)+g[10]+3200236656&4294967295,I=A+(N<<23&4294967295|N>>>9),N=x+(I^A^O)+g[13]+681279174&4294967295,x=I+(N<<4&4294967295|N>>>28),N=O+(x^I^A)+g[0]+3936430074&4294967295,O=x+(N<<11&4294967295|N>>>21),N=A+(O^x^I)+g[3]+3572445317&4294967295,A=O+(N<<16&4294967295|N>>>16),N=I+(A^O^x)+g[6]+76029189&4294967295,I=A+(N<<23&4294967295|N>>>9),N=x+(I^A^O)+g[9]+3654602809&4294967295,x=I+(N<<4&4294967295|N>>>28),N=O+(x^I^A)+g[12]+3873151461&4294967295,O=x+(N<<11&4294967295|N>>>21),N=A+(O^x^I)+g[15]+530742520&4294967295,A=O+(N<<16&4294967295|N>>>16),N=I+(A^O^x)+g[2]+3299628645&4294967295,I=A+(N<<23&4294967295|N>>>9),N=x+(A^(I|~O))+g[0]+4096336452&4294967295,x=I+(N<<6&4294967295|N>>>26),N=O+(I^(x|~A))+g[7]+1126891415&4294967295,O=x+(N<<10&4294967295|N>>>22),N=A+(x^(O|~I))+g[14]+2878612391&4294967295,A=O+(N<<15&4294967295|N>>>17),N=I+(O^(A|~x))+g[5]+4237533241&4294967295,I=A+(N<<21&4294967295|N>>>11),N=x+(A^(I|~O))+g[12]+1700485571&4294967295,x=I+(N<<6&4294967295|N>>>26),N=O+(I^(x|~A))+g[3]+2399980690&4294967295,O=x+(N<<10&4294967295|N>>>22),N=A+(x^(O|~I))+g[10]+4293915773&4294967295,A=O+(N<<15&4294967295|N>>>17),N=I+(O^(A|~x))+g[1]+2240044497&4294967295,I=A+(N<<21&4294967295|N>>>11),N=x+(A^(I|~O))+g[8]+1873313359&4294967295,x=I+(N<<6&4294967295|N>>>26),N=O+(I^(x|~A))+g[15]+4264355552&4294967295,O=x+(N<<10&4294967295|N>>>22),N=A+(x^(O|~I))+g[6]+2734768916&4294967295,A=O+(N<<15&4294967295|N>>>17),N=I+(O^(A|~x))+g[13]+1309151649&4294967295,I=A+(N<<21&4294967295|N>>>11),N=x+(A^(I|~O))+g[4]+4149444226&4294967295,x=I+(N<<6&4294967295|N>>>26),N=O+(I^(x|~A))+g[11]+3174756917&4294967295,O=x+(N<<10&4294967295|N>>>22),N=A+(x^(O|~I))+g[2]+718787259&4294967295,A=O+(N<<15&4294967295|N>>>17),N=I+(O^(A|~x))+g[9]+3951481745&4294967295,b.g[0]=b.g[0]+x&4294967295,b.g[1]=b.g[1]+(A+(N<<21&4294967295|N>>>11))&4294967295,b.g[2]=b.g[2]+A&4294967295,b.g[3]=b.g[3]+O&4294967295}r.prototype.u=function(b,x){x===void 0&&(x=b.length);for(var I=x-this.blockSize,g=this.B,A=this.h,O=0;O<x;){if(A==0)for(;O<=I;)i(this,b,O),O+=this.blockSize;if(typeof b=="string"){for(;O<x;)if(g[A++]=b.charCodeAt(O++),A==this.blockSize){i(this,g),A=0;break}}else for(;O<x;)if(g[A++]=b[O++],A==this.blockSize){i(this,g),A=0;break}}this.h=A,this.o+=x},r.prototype.v=function(){var b=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);b[0]=128;for(var x=1;x<b.length-8;++x)b[x]=0;var I=8*this.o;for(x=b.length-8;x<b.length;++x)b[x]=I&255,I/=256;for(this.u(b),b=Array(16),x=I=0;4>x;++x)for(var g=0;32>g;g+=8)b[I++]=this.g[x]>>>g&255;return b};function s(b,x){var I=a;return Object.prototype.hasOwnProperty.call(I,b)?I[b]:I[b]=x(b)}function o(b,x){this.h=x;for(var I=[],g=!0,A=b.length-1;0<=A;A--){var O=b[A]|0;g&&O==x||(I[A]=O,g=!1)}this.g=I}var a={};function l(b){return-128<=b&&128>b?s(b,function(x){return new o([x|0],0>x?-1:0)}):new o([b|0],0>b?-1:0)}function c(b){if(isNaN(b)||!isFinite(b))return h;if(0>b)return P(c(-b));for(var x=[],I=1,g=0;b>=I;g++)x[g]=b/I|0,I*=4294967296;return new o(x,0)}function d(b,x){if(b.length==0)throw Error("number format error: empty string");if(x=x||10,2>x||36<x)throw Error("radix out of range: "+x);if(b.charAt(0)=="-")return P(d(b.substring(1),x));if(0<=b.indexOf("-"))throw Error('number format error: interior "-" character');for(var I=c(Math.pow(x,8)),g=h,A=0;A<b.length;A+=8){var O=Math.min(8,b.length-A),N=parseInt(b.substring(A,A+O),x);8>O?(O=c(Math.pow(x,O)),g=g.j(O).add(c(N))):(g=g.j(I),g=g.add(c(N)))}return g}var h=l(0),f=l(1),v=l(16777216);t=o.prototype,t.m=function(){if(S(this))return-P(this).m();for(var b=0,x=1,I=0;I<this.g.length;I++){var g=this.i(I);b+=(0<=g?g:4294967296+g)*x,x*=4294967296}return b},t.toString=function(b){if(b=b||10,2>b||36<b)throw Error("radix out of range: "+b);if(_(this))return"0";if(S(this))return"-"+P(this).toString(b);for(var x=c(Math.pow(b,6)),I=this,g="";;){var A=R(I,x).g;I=w(I,A.j(x));var O=((0<I.g.length?I.g[0]:I.h)>>>0).toString(b);if(I=A,_(I))return O+g;for(;6>O.length;)O="0"+O;g=O+g}},t.i=function(b){return 0>b?0:b<this.g.length?this.g[b]:this.h};function _(b){if(b.h!=0)return!1;for(var x=0;x<b.g.length;x++)if(b.g[x]!=0)return!1;return!0}function S(b){return b.h==-1}t.l=function(b){return b=w(this,b),S(b)?-1:_(b)?0:1};function P(b){for(var x=b.g.length,I=[],g=0;g<x;g++)I[g]=~b.g[g];return new o(I,~b.h).add(f)}t.abs=function(){return S(this)?P(this):this},t.add=function(b){for(var x=Math.max(this.g.length,b.g.length),I=[],g=0,A=0;A<=x;A++){var O=g+(this.i(A)&65535)+(b.i(A)&65535),N=(O>>>16)+(this.i(A)>>>16)+(b.i(A)>>>16);g=N>>>16,O&=65535,N&=65535,I[A]=N<<16|O}return new o(I,I[I.length-1]&-2147483648?-1:0)};function w(b,x){return b.add(P(x))}t.j=function(b){if(_(this)||_(b))return h;if(S(this))return S(b)?P(this).j(P(b)):P(P(this).j(b));if(S(b))return P(this.j(P(b)));if(0>this.l(v)&&0>b.l(v))return c(this.m()*b.m());for(var x=this.g.length+b.g.length,I=[],g=0;g<2*x;g++)I[g]=0;for(g=0;g<this.g.length;g++)for(var A=0;A<b.g.length;A++){var O=this.i(g)>>>16,N=this.i(g)&65535,V=b.i(A)>>>16,W=b.i(A)&65535;I[2*g+2*A]+=N*W,C(I,2*g+2*A),I[2*g+2*A+1]+=O*W,C(I,2*g+2*A+1),I[2*g+2*A+1]+=N*V,C(I,2*g+2*A+1),I[2*g+2*A+2]+=O*V,C(I,2*g+2*A+2)}for(g=0;g<x;g++)I[g]=I[2*g+1]<<16|I[2*g];for(g=x;g<2*x;g++)I[g]=0;return new o(I,0)};function C(b,x){for(;(b[x]&65535)!=b[x];)b[x+1]+=b[x]>>>16,b[x]&=65535,x++}function E(b,x){this.g=b,this.h=x}function R(b,x){if(_(x))throw Error("division by zero");if(_(b))return new E(h,h);if(S(b))return x=R(P(b),x),new E(P(x.g),P(x.h));if(S(x))return x=R(b,P(x)),new E(P(x.g),x.h);if(30<b.g.length){if(S(b)||S(x))throw Error("slowDivide_ only works with positive integers.");for(var I=f,g=x;0>=g.l(b);)I=D(I),g=D(g);var A=M(I,1),O=M(g,1);for(g=M(g,2),I=M(I,2);!_(g);){var N=O.add(g);0>=N.l(b)&&(A=A.add(I),O=N),g=M(g,1),I=M(I,1)}return x=w(b,A.j(x)),new E(A,x)}for(A=h;0<=b.l(x);){for(I=Math.max(1,Math.floor(b.m()/x.m())),g=Math.ceil(Math.log(I)/Math.LN2),g=48>=g?1:Math.pow(2,g-48),O=c(I),N=O.j(x);S(N)||0<N.l(b);)I-=g,O=c(I),N=O.j(x);_(O)&&(O=f),A=A.add(O),b=w(b,N)}return new E(A,b)}t.A=function(b){return R(this,b).h},t.and=function(b){for(var x=Math.max(this.g.length,b.g.length),I=[],g=0;g<x;g++)I[g]=this.i(g)&b.i(g);return new o(I,this.h&b.h)},t.or=function(b){for(var x=Math.max(this.g.length,b.g.length),I=[],g=0;g<x;g++)I[g]=this.i(g)|b.i(g);return new o(I,this.h|b.h)},t.xor=function(b){for(var x=Math.max(this.g.length,b.g.length),I=[],g=0;g<x;g++)I[g]=this.i(g)^b.i(g);return new o(I,this.h^b.h)};function D(b){for(var x=b.g.length+1,I=[],g=0;g<x;g++)I[g]=b.i(g)<<1|b.i(g-1)>>>31;return new o(I,b.h)}function M(b,x){var I=x>>5;x%=32;for(var g=b.g.length-I,A=[],O=0;O<g;O++)A[O]=0<x?b.i(O+I)>>>x|b.i(O+I+1)<<32-x:b.i(O+I);return new o(A,b.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=c,o.fromString=d,eR=o}).apply(typeof kE<"u"?kE:typeof self<"u"?self:typeof window<"u"?window:{});var Vu=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(u,p,y){return u==Array.prototype||u==Object.prototype||(u[p]=y.value),u};function n(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof Vu=="object"&&Vu];for(var p=0;p<u.length;++p){var y=u[p];if(y&&y.Math==Math)return y}throw Error("Cannot find global object")}var r=n(this);function i(u,p){if(p)e:{var y=r;u=u.split(".");for(var k=0;k<u.length-1;k++){var L=u[k];if(!(L in y))break e;y=y[L]}u=u[u.length-1],k=y[u],p=p(k),p!=k&&p!=null&&e(y,u,{configurable:!0,writable:!0,value:p})}}function s(u,p){u instanceof String&&(u+="");var y=0,k=!1,L={next:function(){if(!k&&y<u.length){var j=y++;return{value:p(j,u[j]),done:!1}}return k=!0,{done:!0,value:void 0}}};return L[Symbol.iterator]=function(){return L},L}i("Array.prototype.values",function(u){return u||function(){return s(this,function(p,y){return y})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},a=this||self;function l(u){var p=typeof u;return p=p!="object"?p:u?Array.isArray(u)?"array":p:"null",p=="array"||p=="object"&&typeof u.length=="number"}function c(u){var p=typeof u;return p=="object"&&u!=null||p=="function"}function d(u,p,y){return u.call.apply(u.bind,arguments)}function h(u,p,y){if(!u)throw Error();if(2<arguments.length){var k=Array.prototype.slice.call(arguments,2);return function(){var L=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(L,k),u.apply(p,L)}}return function(){return u.apply(p,arguments)}}function f(u,p,y){return f=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?d:h,f.apply(null,arguments)}function v(u,p){var y=Array.prototype.slice.call(arguments,1);return function(){var k=y.slice();return k.push.apply(k,arguments),u.apply(this,k)}}function _(u,p){function y(){}y.prototype=p.prototype,u.aa=p.prototype,u.prototype=new y,u.prototype.constructor=u,u.Qb=function(k,L,j){for(var z=Array(arguments.length-2),Ee=2;Ee<arguments.length;Ee++)z[Ee-2]=arguments[Ee];return p.prototype[L].apply(k,z)}}function S(u){const p=u.length;if(0<p){const y=Array(p);for(let k=0;k<p;k++)y[k]=u[k];return y}return[]}function P(u,p){for(let y=1;y<arguments.length;y++){const k=arguments[y];if(l(k)){const L=u.length||0,j=k.length||0;u.length=L+j;for(let z=0;z<j;z++)u[L+z]=k[z]}else u.push(k)}}class w{constructor(p,y){this.i=p,this.j=y,this.h=0,this.g=null}get(){let p;return 0<this.h?(this.h--,p=this.g,this.g=p.next,p.next=null):p=this.i(),p}}function C(u){return/^[\s\xa0]*$/.test(u)}function E(){var u=a.navigator;return u&&(u=u.userAgent)?u:""}function R(u){return R[" "](u),u}R[" "]=function(){};var D=E().indexOf("Gecko")!=-1&&!(E().toLowerCase().indexOf("webkit")!=-1&&E().indexOf("Edge")==-1)&&!(E().indexOf("Trident")!=-1||E().indexOf("MSIE")!=-1)&&E().indexOf("Edge")==-1;function M(u,p,y){for(const k in u)p.call(y,u[k],k,u)}function b(u,p){for(const y in u)p.call(void 0,u[y],y,u)}function x(u){const p={};for(const y in u)p[y]=u[y];return p}const I="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function g(u,p){let y,k;for(let L=1;L<arguments.length;L++){k=arguments[L];for(y in k)u[y]=k[y];for(let j=0;j<I.length;j++)y=I[j],Object.prototype.hasOwnProperty.call(k,y)&&(u[y]=k[y])}}function A(u){var p=1;u=u.split(":");const y=[];for(;0<p&&u.length;)y.push(u.shift()),p--;return u.length&&y.push(u.join(":")),y}function O(u){a.setTimeout(()=>{throw u},0)}function N(){var u=q;let p=null;return u.g&&(p=u.g,u.g=u.g.next,u.g||(u.h=null),p.next=null),p}class V{constructor(){this.h=this.g=null}add(p,y){const k=W.get();k.set(p,y),this.h?this.h.next=k:this.g=k,this.h=k}}var W=new w(()=>new K,u=>u.reset());class K{constructor(){this.next=this.g=this.h=null}set(p,y){this.h=p,this.g=y,this.next=null}reset(){this.next=this.g=this.h=null}}let G,$=!1,q=new V,X=()=>{const u=a.Promise.resolve(void 0);G=()=>{u.then(_e)}};var _e=()=>{for(var u;u=N();){try{u.h.call(u.g)}catch(y){O(y)}var p=W;p.j(u),100>p.h&&(p.h++,u.next=p.g,p.g=u)}$=!1};function re(){this.s=this.s,this.C=this.C}re.prototype.s=!1,re.prototype.ma=function(){this.s||(this.s=!0,this.N())},re.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ee(u,p){this.type=u,this.g=this.target=p,this.defaultPrevented=!1}ee.prototype.h=function(){this.defaultPrevented=!0};var Q=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var u=!1,p=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const y=()=>{};a.addEventListener("test",y,p),a.removeEventListener("test",y,p)}catch{}return u}();function ue(u,p){if(ee.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u){var y=this.type=u.type,k=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;if(this.target=u.target||u.srcElement,this.g=p,p=u.relatedTarget){if(D){e:{try{R(p.nodeName);var L=!0;break e}catch{}L=!1}L||(p=null)}}else y=="mouseover"?p=u.fromElement:y=="mouseout"&&(p=u.toElement);this.relatedTarget=p,k?(this.clientX=k.clientX!==void 0?k.clientX:k.pageX,this.clientY=k.clientY!==void 0?k.clientY:k.pageY,this.screenX=k.screenX||0,this.screenY=k.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=typeof u.pointerType=="string"?u.pointerType:de[u.pointerType]||"",this.state=u.state,this.i=u,u.defaultPrevented&&ue.aa.h.call(this)}}_(ue,ee);var de={2:"touch",3:"pen",4:"mouse"};ue.prototype.h=function(){ue.aa.h.call(this);var u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var ie="closure_listenable_"+(1e6*Math.random()|0),it=0;function dt(u,p,y,k,L){this.listener=u,this.proxy=null,this.src=p,this.type=y,this.capture=!!k,this.ha=L,this.key=++it,this.da=this.fa=!1}function Ve(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function ht(u){this.src=u,this.g={},this.h=0}ht.prototype.add=function(u,p,y,k,L){var j=u.toString();u=this.g[j],u||(u=this.g[j]=[],this.h++);var z=Tr(u,p,k,L);return-1<z?(p=u[z],y||(p.fa=!1)):(p=new dt(p,this.src,j,!!k,L),p.fa=y,u.push(p)),p};function te(u,p){var y=p.type;if(y in u.g){var k=u.g[y],L=Array.prototype.indexOf.call(k,p,void 0),j;(j=0<=L)&&Array.prototype.splice.call(k,L,1),j&&(Ve(p),u.g[y].length==0&&(delete u.g[y],u.h--))}}function Tr(u,p,y,k){for(var L=0;L<u.length;++L){var j=u[L];if(!j.da&&j.listener==p&&j.capture==!!y&&j.ha==k)return L}return-1}var Gs="closure_lm_"+(1e6*Math.random()|0),Mn={};function Ks(u,p,y,k,L){if(k&&k.once)return Ta(u,p,y,k,L);if(Array.isArray(p)){for(var j=0;j<p.length;j++)Ks(u,p[j],y,k,L);return null}return y=Yf(y),u&&u[ie]?u.K(p,y,c(k)?!!k.capture:!!k,L):st(u,p,y,!1,k,L)}function st(u,p,y,k,L,j){if(!p)throw Error("Invalid event type");var z=c(L)?!!L.capture:!!L,Ee=Kf(u);if(Ee||(u[Gs]=Ee=new ht(u)),y=Ee.add(p,y,k,z,j),y.proxy)return y;if(k=si(),y.proxy=k,k.src=u,k.listener=y,u.addEventListener)Q||(L=z),L===void 0&&(L=!1),u.addEventListener(p.toString(),k,L);else if(u.attachEvent)u.attachEvent(q_(p.toString()),k);else if(u.addListener&&u.removeListener)u.addListener(k);else throw Error("addEventListener and attachEvent are unavailable.");return y}function si(){function u(y){return p.call(u.src,u.listener,y)}const p=D2;return u}function Ta(u,p,y,k,L){if(Array.isArray(p)){for(var j=0;j<p.length;j++)Ta(u,p[j],y,k,L);return null}return y=Yf(y),u&&u[ie]?u.L(p,y,c(k)?!!k.capture:!!k,L):st(u,p,y,!0,k,L)}function Gt(u,p,y,k,L){if(Array.isArray(p))for(var j=0;j<p.length;j++)Gt(u,p[j],y,k,L);else k=c(k)?!!k.capture:!!k,y=Yf(y),u&&u[ie]?(u=u.i,p=String(p).toString(),p in u.g&&(j=u.g[p],y=Tr(j,y,k,L),-1<y&&(Ve(j[y]),Array.prototype.splice.call(j,y,1),j.length==0&&(delete u.g[p],u.h--)))):u&&(u=Kf(u))&&(p=u.g[p.toString()],u=-1,p&&(u=Tr(p,y,k,L)),(y=-1<u?p[u]:null)&&on(y))}function on(u){if(typeof u!="number"&&u&&!u.da){var p=u.src;if(p&&p[ie])te(p.i,u);else{var y=u.type,k=u.proxy;p.removeEventListener?p.removeEventListener(y,k,u.capture):p.detachEvent?p.detachEvent(q_(y),k):p.addListener&&p.removeListener&&p.removeListener(k),(y=Kf(p))?(te(y,u),y.h==0&&(y.src=null,p[Gs]=null)):Ve(u)}}}function q_(u){return u in Mn?Mn[u]:Mn[u]="on"+u}function D2(u,p){if(u.da)u=!0;else{p=new ue(p,this);var y=u.listener,k=u.ha||u.src;u.fa&&on(u),u=y.call(k,p)}return u}function Kf(u){return u=u[Gs],u instanceof ht?u:null}var qf="__closure_events_fn_"+(1e9*Math.random()>>>0);function Yf(u){return typeof u=="function"?u:(u[qf]||(u[qf]=function(p){return u.handleEvent(p)}),u[qf])}function xt(){re.call(this),this.i=new ht(this),this.M=this,this.F=null}_(xt,re),xt.prototype[ie]=!0,xt.prototype.removeEventListener=function(u,p,y,k){Gt(this,u,p,y,k)};function Dt(u,p){var y,k=u.F;if(k)for(y=[];k;k=k.F)y.push(k);if(u=u.M,k=p.type||p,typeof p=="string")p=new ee(p,u);else if(p instanceof ee)p.target=p.target||u;else{var L=p;p=new ee(k,u),g(p,L)}if(L=!0,y)for(var j=y.length-1;0<=j;j--){var z=p.g=y[j];L=iu(z,k,!0,p)&&L}if(z=p.g=u,L=iu(z,k,!0,p)&&L,L=iu(z,k,!1,p)&&L,y)for(j=0;j<y.length;j++)z=p.g=y[j],L=iu(z,k,!1,p)&&L}xt.prototype.N=function(){if(xt.aa.N.call(this),this.i){var u=this.i,p;for(p in u.g){for(var y=u.g[p],k=0;k<y.length;k++)Ve(y[k]);delete u.g[p],u.h--}}this.F=null},xt.prototype.K=function(u,p,y,k){return this.i.add(String(u),p,!1,y,k)},xt.prototype.L=function(u,p,y,k){return this.i.add(String(u),p,!0,y,k)};function iu(u,p,y,k){if(p=u.i.g[String(p)],!p)return!0;p=p.concat();for(var L=!0,j=0;j<p.length;++j){var z=p[j];if(z&&!z.da&&z.capture==y){var Ee=z.listener,ft=z.ha||z.src;z.fa&&te(u.i,z),L=Ee.call(ft,k)!==!1&&L}}return L&&!k.defaultPrevented}function Y_(u,p,y){if(typeof u=="function")y&&(u=f(u,y));else if(u&&typeof u.handleEvent=="function")u=f(u.handleEvent,u);else throw Error("Invalid listener argument");return 2147483647<Number(p)?-1:a.setTimeout(u,p||0)}function X_(u){u.g=Y_(()=>{u.g=null,u.i&&(u.i=!1,X_(u))},u.l);const p=u.h;u.h=null,u.m.apply(null,p)}class O2 extends re{constructor(p,y){super(),this.m=p,this.l=y,this.h=null,this.i=!1,this.g=null}j(p){this.h=arguments,this.g?this.i=!0:X_(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ka(u){re.call(this),this.h=u,this.g={}}_(ka,re);var Q_=[];function J_(u){M(u.g,function(p,y){this.g.hasOwnProperty(y)&&on(p)},u),u.g={}}ka.prototype.N=function(){ka.aa.N.call(this),J_(this)},ka.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Xf=a.JSON.stringify,M2=a.JSON.parse,L2=class{stringify(u){return a.JSON.stringify(u,void 0)}parse(u){return a.JSON.parse(u,void 0)}};function Qf(){}Qf.prototype.h=null;function Z_(u){return u.h||(u.h=u.i())}function j2(){}var Ia={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Jf(){ee.call(this,"d")}_(Jf,ee);function Zf(){ee.call(this,"c")}_(Zf,ee);var qs={},ew=null;function ep(){return ew=ew||new xt}qs.La="serverreachability";function tw(u){ee.call(this,qs.La,u)}_(tw,ee);function Pa(u){const p=ep();Dt(p,new tw(p))}qs.STAT_EVENT="statevent";function nw(u,p){ee.call(this,qs.STAT_EVENT,u),this.stat=p}_(nw,ee);function Ot(u){const p=ep();Dt(p,new nw(p,u))}qs.Ma="timingevent";function rw(u,p){ee.call(this,qs.Ma,u),this.size=p}_(rw,ee);function Ra(u,p){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){u()},p)}function Aa(){this.g=!0}Aa.prototype.xa=function(){this.g=!1};function F2(u,p,y,k,L,j){u.info(function(){if(u.g)if(j)for(var z="",Ee=j.split("&"),ft=0;ft<Ee.length;ft++){var pe=Ee[ft].split("=");if(1<pe.length){var Et=pe[0];pe=pe[1];var Ct=Et.split("_");z=2<=Ct.length&&Ct[1]=="type"?z+(Et+"="+pe+"&"):z+(Et+"=redacted&")}}else z=null;else z=j;return"XMLHTTP REQ ("+k+") [attempt "+L+"]: "+p+`
`+y+`
`+z})}function $2(u,p,y,k,L,j,z){u.info(function(){return"XMLHTTP RESP ("+k+") [ attempt "+L+"]: "+p+`
`+y+`
`+j+" "+z})}function Ys(u,p,y,k){u.info(function(){return"XMLHTTP TEXT ("+p+"): "+U2(u,y)+(k?" "+k:"")})}function V2(u,p){u.info(function(){return"TIMEOUT: "+p})}Aa.prototype.info=function(){};function U2(u,p){if(!u.g)return p;if(!p)return null;try{var y=JSON.parse(p);if(y){for(u=0;u<y.length;u++)if(Array.isArray(y[u])){var k=y[u];if(!(2>k.length)){var L=k[1];if(Array.isArray(L)&&!(1>L.length)){var j=L[0];if(j!="noop"&&j!="stop"&&j!="close")for(var z=1;z<L.length;z++)L[z]=""}}}}return Xf(y)}catch{return p}}var tp={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},B2={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},np;function su(){}_(su,Qf),su.prototype.g=function(){return new XMLHttpRequest},su.prototype.i=function(){return{}},np=new su;function oi(u,p,y,k){this.j=u,this.i=p,this.l=y,this.R=k||1,this.U=new ka(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new iw}function iw(){this.i=null,this.g="",this.h=!1}var sw={},rp={};function ip(u,p,y){u.L=1,u.v=cu(kr(p)),u.m=y,u.P=!0,ow(u,null)}function ow(u,p){u.F=Date.now(),ou(u),u.A=kr(u.v);var y=u.A,k=u.R;Array.isArray(k)||(k=[String(k)]),ww(y.i,"t",k),u.C=0,y=u.j.J,u.h=new iw,u.g=Fw(u.j,y?p:null,!u.m),0<u.O&&(u.M=new O2(f(u.Y,u,u.g),u.O)),p=u.U,y=u.g,k=u.ca;var L="readystatechange";Array.isArray(L)||(L&&(Q_[0]=L.toString()),L=Q_);for(var j=0;j<L.length;j++){var z=Ks(y,L[j],k||p.handleEvent,!1,p.h||p);if(!z)break;p.g[z.key]=z}p=u.H?x(u.H):{},u.m?(u.u||(u.u="POST"),p["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.A,u.u,u.m,p)):(u.u="GET",u.g.ea(u.A,u.u,null,p)),Pa(),F2(u.i,u.u,u.A,u.l,u.R,u.m)}oi.prototype.ca=function(u){u=u.target;const p=this.M;p&&Ir(u)==3?p.j():this.Y(u)},oi.prototype.Y=function(u){try{if(u==this.g)e:{const Ct=Ir(this.g);var p=this.g.Ba();const Js=this.g.Z();if(!(3>Ct)&&(Ct!=3||this.g&&(this.h.h||this.g.oa()||kw(this.g)))){this.J||Ct!=4||p==7||(p==8||0>=Js?Pa(3):Pa(2)),sp(this);var y=this.g.Z();this.X=y;t:if(aw(this)){var k=kw(this.g);u="";var L=k.length,j=Ir(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Qi(this),Na(this);var z="";break t}this.h.i=new a.TextDecoder}for(p=0;p<L;p++)this.h.h=!0,u+=this.h.i.decode(k[p],{stream:!(j&&p==L-1)});k.length=0,this.h.g+=u,this.C=0,z=this.h.g}else z=this.g.oa();if(this.o=y==200,$2(this.i,this.u,this.A,this.l,this.R,Ct,y),this.o){if(this.T&&!this.K){t:{if(this.g){var Ee,ft=this.g;if((Ee=ft.g?ft.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!C(Ee)){var pe=Ee;break t}}pe=null}if(y=pe)Ys(this.i,this.l,y,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,op(this,y);else{this.o=!1,this.s=3,Ot(12),Qi(this),Na(this);break e}}if(this.P){y=!0;let Ln;for(;!this.J&&this.C<z.length;)if(Ln=z2(this,z),Ln==rp){Ct==4&&(this.s=4,Ot(14),y=!1),Ys(this.i,this.l,null,"[Incomplete Response]");break}else if(Ln==sw){this.s=4,Ot(15),Ys(this.i,this.l,z,"[Invalid Chunk]"),y=!1;break}else Ys(this.i,this.l,Ln,null),op(this,Ln);if(aw(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ct!=4||z.length!=0||this.h.h||(this.s=1,Ot(16),y=!1),this.o=this.o&&y,!y)Ys(this.i,this.l,z,"[Invalid Chunked Response]"),Qi(this),Na(this);else if(0<z.length&&!this.W){this.W=!0;var Et=this.j;Et.g==this&&Et.ba&&!Et.M&&(Et.j.info("Great, no buffering proxy detected. Bytes received: "+z.length),hp(Et),Et.M=!0,Ot(11))}}else Ys(this.i,this.l,z,null),op(this,z);Ct==4&&Qi(this),this.o&&!this.J&&(Ct==4?Ow(this.j,this):(this.o=!1,ou(this)))}else oN(this.g),y==400&&0<z.indexOf("Unknown SID")?(this.s=3,Ot(12)):(this.s=0,Ot(13)),Qi(this),Na(this)}}}catch{}finally{}};function aw(u){return u.g?u.u=="GET"&&u.L!=2&&u.j.Ca:!1}function z2(u,p){var y=u.C,k=p.indexOf(`
`,y);return k==-1?rp:(y=Number(p.substring(y,k)),isNaN(y)?sw:(k+=1,k+y>p.length?rp:(p=p.slice(k,k+y),u.C=k+y,p)))}oi.prototype.cancel=function(){this.J=!0,Qi(this)};function ou(u){u.S=Date.now()+u.I,lw(u,u.I)}function lw(u,p){if(u.B!=null)throw Error("WatchDog timer not null");u.B=Ra(f(u.ba,u),p)}function sp(u){u.B&&(a.clearTimeout(u.B),u.B=null)}oi.prototype.ba=function(){this.B=null;const u=Date.now();0<=u-this.S?(V2(this.i,this.A),this.L!=2&&(Pa(),Ot(17)),Qi(this),this.s=2,Na(this)):lw(this,this.S-u)};function Na(u){u.j.G==0||u.J||Ow(u.j,u)}function Qi(u){sp(u);var p=u.M;p&&typeof p.ma=="function"&&p.ma(),u.M=null,J_(u.U),u.g&&(p=u.g,u.g=null,p.abort(),p.ma())}function op(u,p){try{var y=u.j;if(y.G!=0&&(y.g==u||ap(y.h,u))){if(!u.K&&ap(y.h,u)&&y.G==3){try{var k=y.Da.g.parse(p)}catch{k=null}if(Array.isArray(k)&&k.length==3){var L=k;if(L[0]==0){e:if(!y.u){if(y.g)if(y.g.F+3e3<u.F)mu(y),fu(y);else break e;dp(y),Ot(18)}}else y.za=L[1],0<y.za-y.T&&37500>L[2]&&y.F&&y.v==0&&!y.C&&(y.C=Ra(f(y.Za,y),6e3));if(1>=dw(y.h)&&y.ca){try{y.ca()}catch{}y.ca=void 0}}else Zi(y,11)}else if((u.K||y.g==u)&&mu(y),!C(p))for(L=y.Da.g.parse(p),p=0;p<L.length;p++){let pe=L[p];if(y.T=pe[0],pe=pe[1],y.G==2)if(pe[0]=="c"){y.K=pe[1],y.ia=pe[2];const Et=pe[3];Et!=null&&(y.la=Et,y.j.info("VER="+y.la));const Ct=pe[4];Ct!=null&&(y.Aa=Ct,y.j.info("SVER="+y.Aa));const Js=pe[5];Js!=null&&typeof Js=="number"&&0<Js&&(k=1.5*Js,y.L=k,y.j.info("backChannelRequestTimeoutMs_="+k)),k=y;const Ln=u.g;if(Ln){const gu=Ln.g?Ln.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(gu){var j=k.h;j.g||gu.indexOf("spdy")==-1&&gu.indexOf("quic")==-1&&gu.indexOf("h2")==-1||(j.j=j.l,j.g=new Set,j.h&&(lp(j,j.h),j.h=null))}if(k.D){const fp=Ln.g?Ln.g.getResponseHeader("X-HTTP-Session-Id"):null;fp&&(k.ya=fp,Pe(k.I,k.D,fp))}}y.G=3,y.l&&y.l.ua(),y.ba&&(y.R=Date.now()-u.F,y.j.info("Handshake RTT: "+y.R+"ms")),k=y;var z=u;if(k.qa=jw(k,k.J?k.ia:null,k.W),z.K){hw(k.h,z);var Ee=z,ft=k.L;ft&&(Ee.I=ft),Ee.B&&(sp(Ee),ou(Ee)),k.g=z}else Nw(k);0<y.i.length&&pu(y)}else pe[0]!="stop"&&pe[0]!="close"||Zi(y,7);else y.G==3&&(pe[0]=="stop"||pe[0]=="close"?pe[0]=="stop"?Zi(y,7):up(y):pe[0]!="noop"&&y.l&&y.l.ta(pe),y.v=0)}}Pa(4)}catch{}}var W2=class{constructor(u,p){this.g=u,this.map=p}};function cw(u){this.l=u||10,a.PerformanceNavigationTiming?(u=a.performance.getEntriesByType("navigation"),u=0<u.length&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function uw(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function dw(u){return u.h?1:u.g?u.g.size:0}function ap(u,p){return u.h?u.h==p:u.g?u.g.has(p):!1}function lp(u,p){u.g?u.g.add(p):u.h=p}function hw(u,p){u.h&&u.h==p?u.h=null:u.g&&u.g.has(p)&&u.g.delete(p)}cw.prototype.cancel=function(){if(this.i=fw(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function fw(u){if(u.h!=null)return u.i.concat(u.h.D);if(u.g!=null&&u.g.size!==0){let p=u.i;for(const y of u.g.values())p=p.concat(y.D);return p}return S(u.i)}function H2(u){if(u.V&&typeof u.V=="function")return u.V();if(typeof Map<"u"&&u instanceof Map||typeof Set<"u"&&u instanceof Set)return Array.from(u.values());if(typeof u=="string")return u.split("");if(l(u)){for(var p=[],y=u.length,k=0;k<y;k++)p.push(u[k]);return p}p=[],y=0;for(k in u)p[y++]=u[k];return p}function G2(u){if(u.na&&typeof u.na=="function")return u.na();if(!u.V||typeof u.V!="function"){if(typeof Map<"u"&&u instanceof Map)return Array.from(u.keys());if(!(typeof Set<"u"&&u instanceof Set)){if(l(u)||typeof u=="string"){var p=[];u=u.length;for(var y=0;y<u;y++)p.push(y);return p}p=[],y=0;for(const k in u)p[y++]=k;return p}}}function pw(u,p){if(u.forEach&&typeof u.forEach=="function")u.forEach(p,void 0);else if(l(u)||typeof u=="string")Array.prototype.forEach.call(u,p,void 0);else for(var y=G2(u),k=H2(u),L=k.length,j=0;j<L;j++)p.call(void 0,k[j],y&&y[j],u)}var mw=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function K2(u,p){if(u){u=u.split("&");for(var y=0;y<u.length;y++){var k=u[y].indexOf("="),L=null;if(0<=k){var j=u[y].substring(0,k);L=u[y].substring(k+1)}else j=u[y];p(j,L?decodeURIComponent(L.replace(/\+/g," ")):"")}}}function Ji(u){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,u instanceof Ji){this.h=u.h,au(this,u.j),this.o=u.o,this.g=u.g,lu(this,u.s),this.l=u.l;var p=u.i,y=new Ma;y.i=p.i,p.g&&(y.g=new Map(p.g),y.h=p.h),gw(this,y),this.m=u.m}else u&&(p=String(u).match(mw))?(this.h=!1,au(this,p[1]||"",!0),this.o=Da(p[2]||""),this.g=Da(p[3]||"",!0),lu(this,p[4]),this.l=Da(p[5]||"",!0),gw(this,p[6]||"",!0),this.m=Da(p[7]||"")):(this.h=!1,this.i=new Ma(null,this.h))}Ji.prototype.toString=function(){var u=[],p=this.j;p&&u.push(Oa(p,yw,!0),":");var y=this.g;return(y||p=="file")&&(u.push("//"),(p=this.o)&&u.push(Oa(p,yw,!0),"@"),u.push(encodeURIComponent(String(y)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),y=this.s,y!=null&&u.push(":",String(y))),(y=this.l)&&(this.g&&y.charAt(0)!="/"&&u.push("/"),u.push(Oa(y,y.charAt(0)=="/"?X2:Y2,!0))),(y=this.i.toString())&&u.push("?",y),(y=this.m)&&u.push("#",Oa(y,J2)),u.join("")};function kr(u){return new Ji(u)}function au(u,p,y){u.j=y?Da(p,!0):p,u.j&&(u.j=u.j.replace(/:$/,""))}function lu(u,p){if(p){if(p=Number(p),isNaN(p)||0>p)throw Error("Bad port number "+p);u.s=p}else u.s=null}function gw(u,p,y){p instanceof Ma?(u.i=p,Z2(u.i,u.h)):(y||(p=Oa(p,Q2)),u.i=new Ma(p,u.h))}function Pe(u,p,y){u.i.set(p,y)}function cu(u){return Pe(u,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),u}function Da(u,p){return u?p?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function Oa(u,p,y){return typeof u=="string"?(u=encodeURI(u).replace(p,q2),y&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function q2(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var yw=/[#\/\?@]/g,Y2=/[#\?:]/g,X2=/[#\?]/g,Q2=/[#\?@]/g,J2=/#/g;function Ma(u,p){this.h=this.g=null,this.i=u||null,this.j=!!p}function ai(u){u.g||(u.g=new Map,u.h=0,u.i&&K2(u.i,function(p,y){u.add(decodeURIComponent(p.replace(/\+/g," ")),y)}))}t=Ma.prototype,t.add=function(u,p){ai(this),this.i=null,u=Xs(this,u);var y=this.g.get(u);return y||this.g.set(u,y=[]),y.push(p),this.h+=1,this};function vw(u,p){ai(u),p=Xs(u,p),u.g.has(p)&&(u.i=null,u.h-=u.g.get(p).length,u.g.delete(p))}function _w(u,p){return ai(u),p=Xs(u,p),u.g.has(p)}t.forEach=function(u,p){ai(this),this.g.forEach(function(y,k){y.forEach(function(L){u.call(p,L,k,this)},this)},this)},t.na=function(){ai(this);const u=Array.from(this.g.values()),p=Array.from(this.g.keys()),y=[];for(let k=0;k<p.length;k++){const L=u[k];for(let j=0;j<L.length;j++)y.push(p[k])}return y},t.V=function(u){ai(this);let p=[];if(typeof u=="string")_w(this,u)&&(p=p.concat(this.g.get(Xs(this,u))));else{u=Array.from(this.g.values());for(let y=0;y<u.length;y++)p=p.concat(u[y])}return p},t.set=function(u,p){return ai(this),this.i=null,u=Xs(this,u),_w(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[p]),this.h+=1,this},t.get=function(u,p){return u?(u=this.V(u),0<u.length?String(u[0]):p):p};function ww(u,p,y){vw(u,p),0<y.length&&(u.i=null,u.g.set(Xs(u,p),S(y)),u.h+=y.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],p=Array.from(this.g.keys());for(var y=0;y<p.length;y++){var k=p[y];const j=encodeURIComponent(String(k)),z=this.V(k);for(k=0;k<z.length;k++){var L=j;z[k]!==""&&(L+="="+encodeURIComponent(String(z[k]))),u.push(L)}}return this.i=u.join("&")};function Xs(u,p){return p=String(p),u.j&&(p=p.toLowerCase()),p}function Z2(u,p){p&&!u.j&&(ai(u),u.i=null,u.g.forEach(function(y,k){var L=k.toLowerCase();k!=L&&(vw(this,k),ww(this,L,y))},u)),u.j=p}function eN(u,p){const y=new Aa;if(a.Image){const k=new Image;k.onload=v(li,y,"TestLoadImage: loaded",!0,p,k),k.onerror=v(li,y,"TestLoadImage: error",!1,p,k),k.onabort=v(li,y,"TestLoadImage: abort",!1,p,k),k.ontimeout=v(li,y,"TestLoadImage: timeout",!1,p,k),a.setTimeout(function(){k.ontimeout&&k.ontimeout()},1e4),k.src=u}else p(!1)}function tN(u,p){const y=new Aa,k=new AbortController,L=setTimeout(()=>{k.abort(),li(y,"TestPingServer: timeout",!1,p)},1e4);fetch(u,{signal:k.signal}).then(j=>{clearTimeout(L),j.ok?li(y,"TestPingServer: ok",!0,p):li(y,"TestPingServer: server error",!1,p)}).catch(()=>{clearTimeout(L),li(y,"TestPingServer: error",!1,p)})}function li(u,p,y,k,L){try{L&&(L.onload=null,L.onerror=null,L.onabort=null,L.ontimeout=null),k(y)}catch{}}function nN(){this.g=new L2}function rN(u,p,y){const k=y||"";try{pw(u,function(L,j){let z=L;c(L)&&(z=Xf(L)),p.push(k+j+"="+encodeURIComponent(z))})}catch(L){throw p.push(k+"type="+encodeURIComponent("_badmap")),L}}function uu(u){this.l=u.Ub||null,this.j=u.eb||!1}_(uu,Qf),uu.prototype.g=function(){return new du(this.l,this.j)},uu.prototype.i=function(u){return function(){return u}}({});function du(u,p){xt.call(this),this.D=u,this.o=p,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}_(du,xt),t=du.prototype,t.open=function(u,p){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=u,this.A=p,this.readyState=1,ja(this)},t.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const p={headers:this.u,method:this.B,credentials:this.m,cache:void 0};u&&(p.body=u),(this.D||a).fetch(new Request(this.A,p)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,La(this)),this.readyState=0},t.Sa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,ja(this)),this.g&&(this.readyState=3,ja(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;xw(this)}else u.text().then(this.Ra.bind(this),this.ga.bind(this))};function xw(u){u.j.read().then(u.Pa.bind(u)).catch(u.ga.bind(u))}t.Pa=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var p=u.value?u.value:new Uint8Array(0);(p=this.v.decode(p,{stream:!u.done}))&&(this.response=this.responseText+=p)}u.done?La(this):ja(this),this.readyState==3&&xw(this)}},t.Ra=function(u){this.g&&(this.response=this.responseText=u,La(this))},t.Qa=function(u){this.g&&(this.response=u,La(this))},t.ga=function(){this.g&&La(this)};function La(u){u.readyState=4,u.l=null,u.j=null,u.v=null,ja(u)}t.setRequestHeader=function(u,p){this.u.append(u,p)},t.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],p=this.h.entries();for(var y=p.next();!y.done;)y=y.value,u.push(y[0]+": "+y[1]),y=p.next();return u.join(`\r
`)};function ja(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(du.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function Ew(u){let p="";return M(u,function(y,k){p+=k,p+=":",p+=y,p+=`\r
`}),p}function cp(u,p,y){e:{for(k in y){var k=!1;break e}k=!0}k||(y=Ew(y),typeof u=="string"?y!=null&&encodeURIComponent(String(y)):Pe(u,p,y))}function Ke(u){xt.call(this),this.headers=new Map,this.o=u||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}_(Ke,xt);var iN=/^https?$/i,sN=["POST","PUT"];t=Ke.prototype,t.Ha=function(u){this.J=u},t.ea=function(u,p,y,k){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);p=p?p.toUpperCase():"GET",this.D=u,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():np.g(),this.v=this.o?Z_(this.o):Z_(np),this.g.onreadystatechange=f(this.Ea,this);try{this.B=!0,this.g.open(p,String(u),!0),this.B=!1}catch(j){Cw(this,j);return}if(u=y||"",y=new Map(this.headers),k)if(Object.getPrototypeOf(k)===Object.prototype)for(var L in k)y.set(L,k[L]);else if(typeof k.keys=="function"&&typeof k.get=="function")for(const j of k.keys())y.set(j,k.get(j));else throw Error("Unknown input type for opt_headers: "+String(k));k=Array.from(y.keys()).find(j=>j.toLowerCase()=="content-type"),L=a.FormData&&u instanceof a.FormData,!(0<=Array.prototype.indexOf.call(sN,p,void 0))||k||L||y.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[j,z]of y)this.g.setRequestHeader(j,z);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Tw(this),this.u=!0,this.g.send(u),this.u=!1}catch(j){Cw(this,j)}};function Cw(u,p){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=p,u.m=5,Sw(u),hu(u)}function Sw(u){u.A||(u.A=!0,Dt(u,"complete"),Dt(u,"error"))}t.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=u||7,Dt(this,"complete"),Dt(this,"abort"),hu(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),hu(this,!0)),Ke.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?bw(this):this.bb())},t.bb=function(){bw(this)};function bw(u){if(u.h&&typeof o<"u"&&(!u.v[1]||Ir(u)!=4||u.Z()!=2)){if(u.u&&Ir(u)==4)Y_(u.Ea,0,u);else if(Dt(u,"readystatechange"),Ir(u)==4){u.h=!1;try{const z=u.Z();e:switch(z){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var p=!0;break e;default:p=!1}var y;if(!(y=p)){var k;if(k=z===0){var L=String(u.D).match(mw)[1]||null;!L&&a.self&&a.self.location&&(L=a.self.location.protocol.slice(0,-1)),k=!iN.test(L?L.toLowerCase():"")}y=k}if(y)Dt(u,"complete"),Dt(u,"success");else{u.m=6;try{var j=2<Ir(u)?u.g.statusText:""}catch{j=""}u.l=j+" ["+u.Z()+"]",Sw(u)}}finally{hu(u)}}}}function hu(u,p){if(u.g){Tw(u);const y=u.g,k=u.v[0]?()=>{}:null;u.g=null,u.v=null,p||Dt(u,"ready");try{y.onreadystatechange=k}catch{}}}function Tw(u){u.I&&(a.clearTimeout(u.I),u.I=null)}t.isActive=function(){return!!this.g};function Ir(u){return u.g?u.g.readyState:0}t.Z=function(){try{return 2<Ir(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(u){if(this.g){var p=this.g.responseText;return u&&p.indexOf(u)==0&&(p=p.substring(u.length)),M2(p)}};function kw(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.H){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function oN(u){const p={};u=(u.g&&2<=Ir(u)&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let k=0;k<u.length;k++){if(C(u[k]))continue;var y=A(u[k]);const L=y[0];if(y=y[1],typeof y!="string")continue;y=y.trim();const j=p[L]||[];p[L]=j,j.push(y)}b(p,function(k){return k.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Fa(u,p,y){return y&&y.internalChannelParams&&y.internalChannelParams[u]||p}function Iw(u){this.Aa=0,this.i=[],this.j=new Aa,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Fa("failFast",!1,u),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Fa("baseRetryDelayMs",5e3,u),this.cb=Fa("retryDelaySeedMs",1e4,u),this.Wa=Fa("forwardChannelMaxRetries",2,u),this.wa=Fa("forwardChannelRequestTimeoutMs",2e4,u),this.pa=u&&u.xmlHttpFactory||void 0,this.Xa=u&&u.Tb||void 0,this.Ca=u&&u.useFetchStreams||!1,this.L=void 0,this.J=u&&u.supportsCrossDomainXhr||!1,this.K="",this.h=new cw(u&&u.concurrentRequestLimit),this.Da=new nN,this.P=u&&u.fastHandshake||!1,this.O=u&&u.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=u&&u.Rb||!1,u&&u.xa&&this.j.xa(),u&&u.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&u&&u.detectBufferingProxy||!1,this.ja=void 0,u&&u.longPollingTimeout&&0<u.longPollingTimeout&&(this.ja=u.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=Iw.prototype,t.la=8,t.G=1,t.connect=function(u,p,y,k){Ot(0),this.W=u,this.H=p||{},y&&k!==void 0&&(this.H.OSID=y,this.H.OAID=k),this.F=this.X,this.I=jw(this,null,this.W),pu(this)};function up(u){if(Pw(u),u.G==3){var p=u.U++,y=kr(u.I);if(Pe(y,"SID",u.K),Pe(y,"RID",p),Pe(y,"TYPE","terminate"),$a(u,y),p=new oi(u,u.j,p),p.L=2,p.v=cu(kr(y)),y=!1,a.navigator&&a.navigator.sendBeacon)try{y=a.navigator.sendBeacon(p.v.toString(),"")}catch{}!y&&a.Image&&(new Image().src=p.v,y=!0),y||(p.g=Fw(p.j,null),p.g.ea(p.v)),p.F=Date.now(),ou(p)}Lw(u)}function fu(u){u.g&&(hp(u),u.g.cancel(),u.g=null)}function Pw(u){fu(u),u.u&&(a.clearTimeout(u.u),u.u=null),mu(u),u.h.cancel(),u.s&&(typeof u.s=="number"&&a.clearTimeout(u.s),u.s=null)}function pu(u){if(!uw(u.h)&&!u.s){u.s=!0;var p=u.Ga;G||X(),$||(G(),$=!0),q.add(p,u),u.B=0}}function aN(u,p){return dw(u.h)>=u.h.j-(u.s?1:0)?!1:u.s?(u.i=p.D.concat(u.i),!0):u.G==1||u.G==2||u.B>=(u.Va?0:u.Wa)?!1:(u.s=Ra(f(u.Ga,u,p),Mw(u,u.B)),u.B++,!0)}t.Ga=function(u){if(this.s)if(this.s=null,this.G==1){if(!u){this.U=Math.floor(1e5*Math.random()),u=this.U++;const L=new oi(this,this.j,u);let j=this.o;if(this.S&&(j?(j=x(j),g(j,this.S)):j=this.S),this.m!==null||this.O||(L.H=j,j=null),this.P)e:{for(var p=0,y=0;y<this.i.length;y++){t:{var k=this.i[y];if("__data__"in k.map&&(k=k.map.__data__,typeof k=="string")){k=k.length;break t}k=void 0}if(k===void 0)break;if(p+=k,4096<p){p=y;break e}if(p===4096||y===this.i.length-1){p=y+1;break e}}p=1e3}else p=1e3;p=Aw(this,L,p),y=kr(this.I),Pe(y,"RID",u),Pe(y,"CVER",22),this.D&&Pe(y,"X-HTTP-Session-Id",this.D),$a(this,y),j&&(this.O?p="headers="+encodeURIComponent(String(Ew(j)))+"&"+p:this.m&&cp(y,this.m,j)),lp(this.h,L),this.Ua&&Pe(y,"TYPE","init"),this.P?(Pe(y,"$req",p),Pe(y,"SID","null"),L.T=!0,ip(L,y,null)):ip(L,y,p),this.G=2}}else this.G==3&&(u?Rw(this,u):this.i.length==0||uw(this.h)||Rw(this))};function Rw(u,p){var y;p?y=p.l:y=u.U++;const k=kr(u.I);Pe(k,"SID",u.K),Pe(k,"RID",y),Pe(k,"AID",u.T),$a(u,k),u.m&&u.o&&cp(k,u.m,u.o),y=new oi(u,u.j,y,u.B+1),u.m===null&&(y.H=u.o),p&&(u.i=p.D.concat(u.i)),p=Aw(u,y,1e3),y.I=Math.round(.5*u.wa)+Math.round(.5*u.wa*Math.random()),lp(u.h,y),ip(y,k,p)}function $a(u,p){u.H&&M(u.H,function(y,k){Pe(p,k,y)}),u.l&&pw({},function(y,k){Pe(p,k,y)})}function Aw(u,p,y){y=Math.min(u.i.length,y);var k=u.l?f(u.l.Na,u.l,u):null;e:{var L=u.i;let j=-1;for(;;){const z=["count="+y];j==-1?0<y?(j=L[0].g,z.push("ofs="+j)):j=0:z.push("ofs="+j);let Ee=!0;for(let ft=0;ft<y;ft++){let pe=L[ft].g;const Et=L[ft].map;if(pe-=j,0>pe)j=Math.max(0,L[ft].g-100),Ee=!1;else try{rN(Et,z,"req"+pe+"_")}catch{k&&k(Et)}}if(Ee){k=z.join("&");break e}}}return u=u.i.splice(0,y),p.D=u,k}function Nw(u){if(!u.g&&!u.u){u.Y=1;var p=u.Fa;G||X(),$||(G(),$=!0),q.add(p,u),u.v=0}}function dp(u){return u.g||u.u||3<=u.v?!1:(u.Y++,u.u=Ra(f(u.Fa,u),Mw(u,u.v)),u.v++,!0)}t.Fa=function(){if(this.u=null,Dw(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var u=2*this.R;this.j.info("BP detection timer enabled: "+u),this.A=Ra(f(this.ab,this),u)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Ot(10),fu(this),Dw(this))};function hp(u){u.A!=null&&(a.clearTimeout(u.A),u.A=null)}function Dw(u){u.g=new oi(u,u.j,"rpc",u.Y),u.m===null&&(u.g.H=u.o),u.g.O=0;var p=kr(u.qa);Pe(p,"RID","rpc"),Pe(p,"SID",u.K),Pe(p,"AID",u.T),Pe(p,"CI",u.F?"0":"1"),!u.F&&u.ja&&Pe(p,"TO",u.ja),Pe(p,"TYPE","xmlhttp"),$a(u,p),u.m&&u.o&&cp(p,u.m,u.o),u.L&&(u.g.I=u.L);var y=u.g;u=u.ia,y.L=1,y.v=cu(kr(p)),y.m=null,y.P=!0,ow(y,u)}t.Za=function(){this.C!=null&&(this.C=null,fu(this),dp(this),Ot(19))};function mu(u){u.C!=null&&(a.clearTimeout(u.C),u.C=null)}function Ow(u,p){var y=null;if(u.g==p){mu(u),hp(u),u.g=null;var k=2}else if(ap(u.h,p))y=p.D,hw(u.h,p),k=1;else return;if(u.G!=0){if(p.o)if(k==1){y=p.m?p.m.length:0,p=Date.now()-p.F;var L=u.B;k=ep(),Dt(k,new rw(k,y)),pu(u)}else Nw(u);else if(L=p.s,L==3||L==0&&0<p.X||!(k==1&&aN(u,p)||k==2&&dp(u)))switch(y&&0<y.length&&(p=u.h,p.i=p.i.concat(y)),L){case 1:Zi(u,5);break;case 4:Zi(u,10);break;case 3:Zi(u,6);break;default:Zi(u,2)}}}function Mw(u,p){let y=u.Ta+Math.floor(Math.random()*u.cb);return u.isActive()||(y*=2),y*p}function Zi(u,p){if(u.j.info("Error code "+p),p==2){var y=f(u.fb,u),k=u.Xa;const L=!k;k=new Ji(k||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||au(k,"https"),cu(k),L?eN(k.toString(),y):tN(k.toString(),y)}else Ot(2);u.G=0,u.l&&u.l.sa(p),Lw(u),Pw(u)}t.fb=function(u){u?(this.j.info("Successfully pinged google.com"),Ot(2)):(this.j.info("Failed to ping google.com"),Ot(1))};function Lw(u){if(u.G=0,u.ka=[],u.l){const p=fw(u.h);(p.length!=0||u.i.length!=0)&&(P(u.ka,p),P(u.ka,u.i),u.h.i.length=0,S(u.i),u.i.length=0),u.l.ra()}}function jw(u,p,y){var k=y instanceof Ji?kr(y):new Ji(y);if(k.g!="")p&&(k.g=p+"."+k.g),lu(k,k.s);else{var L=a.location;k=L.protocol,p=p?p+"."+L.hostname:L.hostname,L=+L.port;var j=new Ji(null);k&&au(j,k),p&&(j.g=p),L&&lu(j,L),y&&(j.l=y),k=j}return y=u.D,p=u.ya,y&&p&&Pe(k,y,p),Pe(k,"VER",u.la),$a(u,k),k}function Fw(u,p,y){if(p&&!u.J)throw Error("Can't create secondary domain capable XhrIo object.");return p=u.Ca&&!u.pa?new Ke(new uu({eb:y})):new Ke(u.pa),p.Ha(u.J),p}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function $w(){}t=$w.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function yn(u,p){xt.call(this),this.g=new Iw(p),this.l=u,this.h=p&&p.messageUrlParams||null,u=p&&p.messageHeaders||null,p&&p.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=p&&p.initMessageHeaders||null,p&&p.messageContentType&&(u?u["X-WebChannel-Content-Type"]=p.messageContentType:u={"X-WebChannel-Content-Type":p.messageContentType}),p&&p.va&&(u?u["X-WebChannel-Client-Profile"]=p.va:u={"X-WebChannel-Client-Profile":p.va}),this.g.S=u,(u=p&&p.Sb)&&!C(u)&&(this.g.m=u),this.v=p&&p.supportsCrossDomainXhr||!1,this.u=p&&p.sendRawJson||!1,(p=p&&p.httpSessionIdParam)&&!C(p)&&(this.g.D=p,u=this.h,u!==null&&p in u&&(u=this.h,p in u&&delete u[p])),this.j=new Qs(this)}_(yn,xt),yn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},yn.prototype.close=function(){up(this.g)},yn.prototype.o=function(u){var p=this.g;if(typeof u=="string"){var y={};y.__data__=u,u=y}else this.u&&(y={},y.__data__=Xf(u),u=y);p.i.push(new W2(p.Ya++,u)),p.G==3&&pu(p)},yn.prototype.N=function(){this.g.l=null,delete this.j,up(this.g),delete this.g,yn.aa.N.call(this)};function Vw(u){Jf.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var p=u.__sm__;if(p){e:{for(const y in p){u=y;break e}u=void 0}(this.i=u)&&(u=this.i,p=p!==null&&u in p?p[u]:void 0),this.data=p}else this.data=u}_(Vw,Jf);function Uw(){Zf.call(this),this.status=1}_(Uw,Zf);function Qs(u){this.g=u}_(Qs,$w),Qs.prototype.ua=function(){Dt(this.g,"a")},Qs.prototype.ta=function(u){Dt(this.g,new Vw(u))},Qs.prototype.sa=function(u){Dt(this.g,new Uw)},Qs.prototype.ra=function(){Dt(this.g,"b")},yn.prototype.send=yn.prototype.o,yn.prototype.open=yn.prototype.m,yn.prototype.close=yn.prototype.close,tp.NO_ERROR=0,tp.TIMEOUT=8,tp.HTTP_ERROR=6,B2.COMPLETE="complete",j2.EventType=Ia,Ia.OPEN="a",Ia.CLOSE="b",Ia.ERROR="c",Ia.MESSAGE="d",xt.prototype.listen=xt.prototype.K,Ke.prototype.listenOnce=Ke.prototype.L,Ke.prototype.getLastError=Ke.prototype.Ka,Ke.prototype.getLastErrorCode=Ke.prototype.Ba,Ke.prototype.getStatus=Ke.prototype.Z,Ke.prototype.getResponseJson=Ke.prototype.Oa,Ke.prototype.getResponseText=Ke.prototype.oa,Ke.prototype.send=Ke.prototype.ea,Ke.prototype.setWithCredentials=Ke.prototype.Ha}).apply(typeof Vu<"u"?Vu:typeof self<"u"?self:typeof window<"u"?window:{});const IE="@firebase/firestore",PE="4.7.14";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Lt.UNAUTHENTICATED=new Lt(null),Lt.GOOGLE_CREDENTIALS=new Lt("google-credentials-uid"),Lt.FIRST_PARTY=new Lt("first-party-uid"),Lt.MOCK_USER=new Lt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let qc="11.7.3";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ra=new nf("@firebase/firestore");function Kn(t,...e){if(ra.logLevel<=ve.DEBUG){const n=e.map(Gv);ra.debug(`Firestore (${qc}): ${t}`,...n)}}function tR(t,...e){if(ra.logLevel<=ve.ERROR){const n=e.map(Gv);ra.error(`Firestore (${qc}): ${t}`,...n)}}function SV(t,...e){if(ra.logLevel<=ve.WARN){const n=e.map(Gv);ra.warn(`Firestore (${qc}): ${t}`,...n)}}function Gv(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nR(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,rR(t,r,n)}function rR(t,e,n){let r=`FIRESTORE (${qc}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw tR(r),new Error(r)}function Pl(t,e,n,r){let i="Unexpected state";typeof n=="string"?i=n:r=n,t||rR(e,i,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xt={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Qt extends nr{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rl{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iR{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class bV{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Lt.UNAUTHENTICATED))}shutdown(){}}class TV{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class kV{constructor(e){this.t=e,this.currentUser=Lt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Pl(this.o===void 0,42304);let r=this.i;const i=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let s=new Rl;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Rl,e.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const l=s;e.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},a=l=>{Kn("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(Kn("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Rl)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(Kn("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Pl(typeof r.accessToken=="string",31837,{l:r}),new iR(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Pl(e===null||typeof e=="string",2055,{h:e}),new Lt(e)}}class IV{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=Lt.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class PV{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new IV(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(Lt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class RE{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class RV{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Ft(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Pl(this.o===void 0,3512);const r=s=>{s.error!=null&&Kn("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.m;return this.m=s.token,Kn("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{Kn("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.V.getImmediate({optional:!0});s?i(s):Kn("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new RE(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Pl(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new RE(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function AV(t){return t.name==="IndexedDbTransactionError"}const Jg="(default)";class bh{constructor(e,n){this.projectId=e,this.database=n||Jg}static empty(){return new bh("","")}get isDefaultDatabase(){return this.database===Jg}isEqual(e){return e instanceof bh&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var AE,he;(he=AE||(AE={}))[he.OK=0]="OK",he[he.CANCELLED=1]="CANCELLED",he[he.UNKNOWN=2]="UNKNOWN",he[he.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",he[he.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",he[he.NOT_FOUND=5]="NOT_FOUND",he[he.ALREADY_EXISTS=6]="ALREADY_EXISTS",he[he.PERMISSION_DENIED=7]="PERMISSION_DENIED",he[he.UNAUTHENTICATED=16]="UNAUTHENTICATED",he[he.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",he[he.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",he[he.ABORTED=10]="ABORTED",he[he.OUT_OF_RANGE=11]="OUT_OF_RANGE",he[he.UNIMPLEMENTED=12]="UNIMPLEMENTED",he[he.INTERNAL=13]="INTERNAL",he[he.UNAVAILABLE=14]="UNAVAILABLE",he[he.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */new eR([4294967295,4294967295],0);/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NV=41943040;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DV=1048576;function cm(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OV{constructor(e,n,r=1e3,i=1.5,s=6e4){this.bi=e,this.timerId=n,this.u_=r,this.c_=i,this.l_=s,this.h_=0,this.P_=null,this.T_=Date.now(),this.reset()}reset(){this.h_=0}I_(){this.h_=this.l_}E_(e){this.cancel();const n=Math.floor(this.h_+this.d_()),r=Math.max(0,Date.now()-this.T_),i=Math.max(0,n-r);i>0&&Kn("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.h_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.P_=this.bi.enqueueAfterDelay(this.timerId,i,()=>(this.T_=Date.now(),e())),this.h_*=this.c_,this.h_<this.u_&&(this.h_=this.u_),this.h_>this.l_&&(this.h_=this.l_)}A_(){this.P_!==null&&(this.P_.skipDelay(),this.P_=null)}cancel(){this.P_!==null&&(this.P_.cancel(),this.P_=null)}d_(){return(Math.random()-.5)*this.h_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kv{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new Rl,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){const o=Date.now()+r,a=new Kv(e,n,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Qt(Xt.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}var NE,DE;(DE=NE||(NE={})).ya="default",DE.Cache="cache";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MV(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OE=new Map;function LV(t,e,n,r){if(e===!0&&r===!0)throw new Qt(Xt.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function jV(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":nR(12329,{type:typeof t})}function FV(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Qt(Xt.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=jV(t);throw new Qt(Xt.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sR="firestore.googleapis.com",ME=!0;class LE{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new Qt(Xt.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=sR,this.ssl=ME}else this.host=e.host,this.ssl=(n=e.ssl)!==null&&n!==void 0?n:ME;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=NV;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<DV)throw new Qt(Xt.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}LV("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=MV((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new Qt(Xt.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new Qt(Xt.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new Qt(Xt.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class oR{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new LE({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Qt(Xt.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Qt(Xt.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new LE(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new bV;switch(r.type){case"firstParty":return new PV(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new Qt(Xt.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,Gi("Firestore",this._settings.isUsingEmulator),this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=OE.get(n);r&&(Kn("ComponentProvider","Removing Datastore"),OE.delete(n),r.terminate())}(this),Promise.resolve()}}function aR(t,e,n,r={}){var i;t=FV(t,oR);const s=Us(e),o=t._getSettings(),a=Object.assign(Object.assign({},o),{emulatorOptions:t._getEmulatorOptions()}),l=`${e}:${n}`;o.host!==sR&&o.host!==l&&SV("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const c=Object.assign(Object.assign({},o),{host:l,ssl:s,emulatorOptions:r});if(!Li(c,a)&&(t._setSettings(c),s&&(Zh(`https://${l}`),Gi("Firestore",!0)),r.mockUserToken)){let d,h;if(typeof r.mockUserToken=="string")d=r.mockUserToken,h=Lt.MOCK_USER;else{d=H0(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const f=r.mockUserToken.sub||r.mockUserToken.user_id;if(!f)throw new Qt(Xt.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");h=new Lt(f)}t._authCredentials=new TV(new iR(d,h))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jE="AsyncQueue";class FE{constructor(e=Promise.resolve()){this.Qu=[],this.$u=!1,this.Uu=[],this.Ku=null,this.Wu=!1,this.Gu=!1,this.zu=[],this.y_=new OV(this,"async_queue_retry"),this.ju=()=>{const r=cm();r&&Kn(jE,"Visibility state changed to "+r.visibilityState),this.y_.A_()},this.Hu=e;const n=cm();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.ju)}get isShuttingDown(){return this.$u}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Ju(),this.Yu(e)}enterRestrictedMode(e){if(!this.$u){this.$u=!0,this.Gu=e||!1;const n=cm();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.ju)}}enqueue(e){if(this.Ju(),this.$u)return new Promise(()=>{});const n=new Rl;return this.Yu(()=>this.$u&&this.Gu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Qu.push(e),this.Zu()))}async Zu(){if(this.Qu.length!==0){try{await this.Qu[0](),this.Qu.shift(),this.y_.reset()}catch(e){if(!AV(e))throw e;Kn(jE,"Operation failed with retryable error: "+e)}this.Qu.length>0&&this.y_.E_(()=>this.Zu())}}Yu(e){const n=this.Hu.then(()=>(this.Wu=!0,e().catch(r=>{throw this.Ku=r,this.Wu=!1,tR("INTERNAL UNHANDLED ERROR: ",$E(r)),r}).then(r=>(this.Wu=!1,r))));return this.Hu=n,n}enqueueAfterDelay(e,n,r){this.Ju(),this.zu.indexOf(e)>-1&&(n=0);const i=Kv.createAndSchedule(this,e,n,r,s=>this.Xu(s));return this.Uu.push(i),i}Ju(){this.Ku&&nR(47125,{ec:$E(this.Ku)})}verifyOperationInProgress(){}async tc(){let e;do e=this.Hu,await e;while(e!==this.Hu)}nc(e){for(const n of this.Uu)if(n.timerId===e)return!0;return!1}rc(e){return this.tc().then(()=>{this.Uu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.Uu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.tc()})}sc(e){this.zu.push(e)}Xu(e){const n=this.Uu.indexOf(e);this.Uu.splice(n,1)}}function $E(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class $V extends oR{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new FE,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new FE(e),this._firestoreClient=void 0,await e}}}function VV(t,e){const n=typeof t=="object"?t:Lc(),r=typeof t=="string"?t:e||Jg,i=Ki(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const s=W0("firestore");s&&aR(i,...s)}return i}(function(e,n=!0){(function(i){qc=i})(qi),Rn(new pn("firestore",(r,{instanceIdentifier:i,options:s})=>{const o=r.getProvider("app").getImmediate(),a=new $V(new kV(r.getProvider("auth-internal")),new RV(o,r.getProvider("app-check-internal")),function(c,d){if(!Object.prototype.hasOwnProperty.apply(c.options,["projectId"]))throw new Qt(Xt.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new bh(c.options.projectId,d)}(o,i),o);return s=Object.assign({useFetchStreams:n},s),a._setSettings(s),a},"PUBLIC").setMultipleInstances(!0)),Rt(IE,PE,e),Rt(IE,PE,"esm2017")})();const UV={apiKey:"AIzaSyD9cpSfGG212h80iXofJetw-B-arEEcOvI",authDomain:"emprochampions2025.firebaseapp.com",databaseURL:"https://emprochampions2025-default-rtdb.firebaseio.com",projectId:"emprochampions2025",storageBucket:"emprochampions2025.appspot.com",messagingSenderId:"683206087538",appId:"1:683206087538:web:8a1473aec968bd6ab543eb",measurementId:"G-3TX5J3NDT5"},Ls=bk(UV),_i=U6(Ls),ne=q9(Ls),BV=xV(Ls),zV=VV(Ls);Ag(Ls);new cr;window.location.hostname==="localhost"&&(gI(_i,"http://localhost:9099"),YP(ne,"localhost",9e3),ZP(BV,"localhost",9199),aR(zV,"localhost",8080),console.log("Conectado a emuladores de Firebase"));const lR=T.createContext(),Hs=()=>{const t=T.useContext(lR);if(!t)throw new Error("useAuth must be used within an AuthProvider");return t};function WV({children:t}){const[e,n]=T.useState(null),[r,i]=T.useState(null),[s,o]=T.useState(!0),a=(h,f)=>xI(_i,h,f),l=(h,f)=>T3(_i,h,f),c=()=>EI(_i),d=()=>{const h=new cr;return h.setCustomParameters({prompt:"select_account"}),X3(_i,h)};return T.useEffect(()=>{const h=R3(_i,async f=>{var v,_;if(f){const P=["yayirobe2305@gmail.com","gersonespino@gmail.com","andiescobar8@gmail.com","rodriguezmerary42@gmail.com"].includes(f.email)?"admin":"usuario";i(P),n(f);const w=se(ne,`usuarios/${f.uid}`),C=await Tn(w);if(C.exists())C.val().rol!==P&&await mc(w,{rol:P});else{const E={correo:f.email,rol:P,nombre:((v=f.displayName)==null?void 0:v.split(" ")[0])||"",apellido:((_=f.displayName)==null?void 0:_.split(" ")[1])||""};await jt(w,E)}}else n(null),i(null);o(!1)});return()=>h()},[]),m.jsx(lR.Provider,{value:{user:e,rol:r,loading:s,signup:a,login:l,logout:c,loginWithGoogle:d},children:t})}function HV(){const[t,e]=T.useState(""),[n,r]=T.useState(""),[i,s]=T.useState(""),o=Er(),{login:a,loginWithGoogle:l}=Hs(),c=async h=>{h.preventDefault(),s("");try{await a(t,n),o("/")}catch(f){s("Credenciales incorrectas. Verifica tu correo y contraseña."),console.error("Error en login:",f.message)}},d=async()=>{s("");try{await l(),o("/")}catch(h){s("Error al iniciar sesión con Google."),console.error("Error en login con Google:",h.message)}};return m.jsx("div",{className:"min-h-screen bg-cover bg-center flex items-center justify-center",style:{backgroundImage:"url('/EmproChampions-2025/img/fondoempro-horizontal.png')"},children:m.jsxs("div",{className:"bg-white/90 rounded-2xl shadow-lg p-8 w-full max-w-md text-center",children:[m.jsx("img",{src:"/EmproChampions-2025/img/logo-empro.png",alt:"Logo Empro",className:"w-32 md:w-40 mx-auto mb-4"}),m.jsx("h1",{className:"text-3xl font-bold text-[#7a0026] mb-6",children:"Empro Champions 2025"}),i&&m.jsx("p",{className:"bg-red-500 text-white p-2 rounded-md mb-4",children:i}),m.jsxs("form",{onSubmit:c,className:"space-y-4",children:[m.jsx("h2",{className:"text-lg text-[#7a0026] font-bold",children:"¡HOLA, INICIA SESIÓN!"}),m.jsx("input",{type:"email",placeholder:"CORREO",value:t,onChange:h=>e(h.target.value),required:!0,className:"w-full px-4 py-2 border border-[#7a0026] rounded-md focus:outline-none focus:ring-2 focus:ring-[#FFD700]",autoComplete:"email"}),m.jsx("input",{type:"password",placeholder:"CONTRASEÑA",value:n,onChange:h=>r(h.target.value),required:!0,className:"w-full px-4 py-2 border border-[#7a0026] rounded-md focus:outline-none focus:ring-2 focus:ring-[#FFD700]",autoComplete:"current-password"}),m.jsx("button",{type:"submit",className:"w-full bg-[#FFD700] text-[#7a0026] font-bold py-2 rounded-md hover:bg-yellow-400 transition",children:"INICIAR SESIÓN"})]}),m.jsx("div",{className:"my-4 text-[#7a0026] font-semibold",children:"o"}),m.jsx("button",{onClick:d,className:"w-full bg-blue-600 text-white font-bold py-2 rounded-md hover:bg-blue-700 transition",children:"INGRESA CON GOOGLE"}),m.jsxs("p",{className:"mt-4 text-sm text-[#7a0026]",children:["¿No tienes cuenta?"," ",m.jsx(Un,{to:"/registro",className:"font-bold underline",children:"Crea una"})]})]})})}function GV(){const[t,e]=T.useState(""),[n,r]=T.useState(""),[i,s]=T.useState(""),[o,a]=T.useState(""),l=Er(),c=(h,f)=>{const v=(h==null?void 0:h.charAt(0).toUpperCase())||"",_=(f==null?void 0:f.charAt(0).toUpperCase())||"";return`${v}${_}`},d=async h=>{h.preventDefault();try{const f=await xI(_i,i,o),v=f.user.uid,_={nombre:t,apellido:n,correo:i,rol:"usuario",iniciales:c(t,n),foto:null};await jt(se(ne,`usuarios/${v}`),_),await k3(f.user),alert("¡Cuenta creada exitosamente! Se ha enviado un correo de verificación a tu dirección de email. Por favor, verifica tu correo para activar tu cuenta."),l("/login")}catch(f){console.error("Error al crear la cuenta:",f),f.code==="auth/email-already-in-use"?alert("Este correo electrónico ya está registrado. Por favor, intenta con otro o inicia sesión."):f.code==="auth/weak-password"?alert("La contraseña es demasiado débil. Debe tener al menos 6 caracteres."):alert("Error al crear la cuenta. Por favor, inténtalo de nuevo. Detalles: "+f.message)}};return m.jsx("div",{className:"min-h-screen bg-cover bg-center flex items-center justify-center",style:{backgroundImage:"url('/EmproChampions-2025/img/fondoempro-horizontal.png')"},children:m.jsxs("div",{className:"bg-white/90 rounded-2xl shadow-lg p-8 w-full max-w-md text-center",children:[m.jsx("img",{src:"/EmproChampions-2025/img/logo-empro.png",alt:"Logo Empro",className:"w-24 mx-auto mb-4"}),m.jsx("h1",{className:"text-3xl font-bold text-[#7a0026] mb-6",children:"Crear Cuenta"}),m.jsxs("form",{onSubmit:d,className:"space-y-4",children:[m.jsx("input",{type:"text",placeholder:"Nombre",value:t,onChange:h=>e(h.target.value),required:!0,className:"w-full px-4 py-2 border border-[#7a0026] rounded-md focus:outline-none focus:ring-2 focus:ring-[#FFD700]"}),m.jsx("input",{type:"text",placeholder:"Apellido",value:n,onChange:h=>r(h.target.value),required:!0,className:"w-full px-4 py-2 border border-[#7a0026] rounded-md focus:outline-none focus:ring-2 focus:ring-[#FFD700]"}),m.jsx("input",{type:"email",placeholder:"Correo",value:i,onChange:h=>s(h.target.value),required:!0,className:"w-full px-4 py-2 border border-[#7a0026] rounded-md focus:outline-none focus:ring-2 focus:ring-[#FFD700]"}),m.jsx("input",{type:"password",placeholder:"Contraseña (mín. 6 caracteres)",value:o,onChange:h=>a(h.target.value),required:!0,className:"w-full px-4 py-2 border border-[#7a0026] rounded-md focus:outline-none focus:ring-2 focus:ring-[#FFD700]"}),m.jsx("button",{type:"submit",className:"w-full bg-[#FFD700] text-[#7a0026] font-bold py-2 rounded-md hover:bg-yellow-400 transition",children:"Registrarme"})]}),m.jsxs("p",{className:"mt-4 text-sm text-[#7a0026]",children:["¿Ya tienes cuenta?"," ",m.jsx(Un,{to:"/login",className:"font-bold underline",children:"Inicia sesión"})]})]})})}function _r(){const[t,e]=T.useState(!1),{user:n,rol:r,loading:i}=Hs(),s=xr();if(i||s.pathname==="/login"||s.pathname==="/registro")return null;const o=r==="admin"||r==="superadmin";return m.jsx("nav",{className:"bg-[#7a0026] text-white px-4 py-3 shadow-md sticky top-0 z-50",children:m.jsxs("div",{className:"max-w-6xl mx-auto flex justify-between items-center",children:[m.jsx(Un,{to:"/",className:"text-2xl font-bold font-qatar",children:"🏆 Empro"}),m.jsx("button",{className:"md:hidden transition-transform",onClick:()=>e(!t),children:m.jsx("svg",{className:`w-7 h-7 transition-transform duration-300 ${t?"rotate-90":""}`,fill:"none",stroke:"currentColor",strokeWidth:2,viewBox:"0 0 24 24",children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:t?"M6 18L18 6M6 6l12 12":"M4 6h16M4 12h16M4 18h16"})})}),m.jsxs("ul",{className:`md:flex gap-6 text-lg font-bold absolute md:static top-16 left-0 w-full md:w-auto bg-[#7a0026] md:bg-transparent transition-all duration-300 ease-in-out ${t?"block":"hidden"}`,children:[m.jsx("li",{className:"p-3 md:p-0 text-center",children:m.jsx(Un,{to:"/",className:"hover:text-yellow-400",onClick:()=>e(!1),children:"Tabla"})}),m.jsx("li",{className:"p-3 md:p-0 text-center",children:m.jsx(Un,{to:"/goleadores",className:"hover:text-yellow-400",onClick:()=>e(!1),children:"Goleadores"})}),m.jsx("li",{className:"p-3 md:p-0 text-center",children:m.jsx(Un,{to:"/historial",className:"hover:text-yellow-400",onClick:()=>e(!1),children:"Historial"})}),m.jsx("li",{className:"p-3 md:p-0 text-center",children:m.jsx(Un,{to:"/calendario",className:"hover:text-yellow-400",onClick:()=>e(!1),children:"Calendario"})}),m.jsx("li",{className:"p-3 md:p-0 text-center",children:m.jsx(Un,{to:"/configuracion",className:"hover:text-yellow-400",onClick:()=>e(!1),children:"Cuenta"})}),o&&m.jsx("li",{className:"p-3 md:p-0 text-center",children:m.jsx(Un,{to:"/partido/configurar",className:"hover:text-yellow-400",onClick:()=>e(!1),children:"➕ Nuevo Partido"})})]})]})})}const VE=["pillarh.png","municipalidad.png","mercaditoladespensa.png","pillarh.png","municipalidad.png","mercaditoladespensa.png","pillarh.png","municipalidad.png","mercaditoladespensa.png"],KV=[...VE,...VE];function qV(){return m.jsx("div",{className:"w-full bg-gray-100 dark:bg-gray-900/80 py-4 mt-8 overflow-hidden backdrop-blur-sm border-y border-yellow-400/20",children:m.jsx("div",{className:"animate-scroll flex items-center",children:KV.map((t,e)=>m.jsx("div",{className:"flex-shrink-0 mx-10",children:m.jsx("img",{src:`/EmproChampions-2025/img/sponsors/${t}`,alt:`Patrocinador ${e+1}`,className:"h-10 md:h-12 max-w-none"})},e))})})}function wr(){const t=new Date().getFullYear(),e="https://www.facebook.com/elmer.hernandez.516479",n="https://www.instagram.com/hernandezsuarez_27/";return m.jsx("footer",{className:"bg-black/50 text-white font-qatar backdrop-blur-sm mt-auto border-t border-yellow-400/20",children:m.jsxs("div",{className:"mx-auto max-w-5xl px-4 pt-16 pb-8 sm:px-6 lg:px-8",children:[m.jsxs("div",{className:"mx-auto max-w-3xl text-center",children:[m.jsx("p",{className:"leading-relaxed text-gray-300",children:"Evento deportivo de las Comunidades del Centro Guia Santa Rosa de Lima con el objetivo de unir los lazos de amistad y fomentar los buenos valores inculcados en el movimiento."}),m.jsx("p",{className:"mt-6 text-lg italic text-yellow-400",children:'"Porque un verdadero Emproista es aquel que ve el trabajo no como una carga, sino como una necesidad"'})]}),m.jsxs("ul",{className:"mt-12 flex justify-center gap-6 md:gap-8",children:[m.jsx("li",{children:m.jsxs("a",{href:e,rel:"noreferrer",target:"_blank",className:"text-gray-400 transition hover:text-yellow-400","aria-label":"Facebook de Elmer Hernandez",children:[m.jsx("span",{className:"sr-only",children:"Facebook"}),m.jsx("svg",{className:"h-7 w-7",fill:"currentColor",viewBox:"0 0 24 24","aria-hidden":"true",children:m.jsx("path",{fillRule:"evenodd",d:"M22 12c0-5.523-4.477-10-10-10S2 6.477 2 12c0 4.991 3.657 9.128 8.438 9.878v-6.987h-2.54V12h2.54V9.797c0-2.506 1.492-3.89 3.777-3.89 1.094 0 2.238.195 2.238.195v2.46h-1.26c-1.243 0-1.63.771-1.63 1.562V12h2.773l-.443 2.89h-2.33v6.988C18.343 21.128 22 16.991 22 12z",clipRule:"evenodd"})})]})}),m.jsx("li",{children:m.jsxs("a",{href:n,rel:"noreferrer",target:"_blank",className:"text-gray-400 transition hover:text-yellow-400","aria-label":"Instagram de Elmer Hernandez",children:[m.jsx("span",{className:"sr-only",children:"Instagram"}),m.jsx("svg",{className:"h-7 w-7",fill:"currentColor",viewBox:"0 0 24 24","aria-hidden":"true",children:m.jsx("path",{fillRule:"evenodd",d:"M12.315 2c2.43 0 2.784.013 3.808.06 1.064.049 1.791.218 2.427.465a4.902 4.902 0 011.772 1.153 4.902 4.902 0 011.153 1.772c.247.636.416 1.363.465 2.427.048 1.067.06 1.407.06 4.123v.08c0 2.643-.012 2.987-.06 4.043-.049 1.064-.218 1.791-.465 2.427a4.902 4.902 0 01-1.153 1.772 4.902 4.902 0 01-1.772 1.153c-.636.247-1.363.416-2.427.465-1.067.048-1.407.06-4.123.06h-.08c-2.643 0-2.987-.012-4.043-.06-1.064-.049-1.791-.218-2.427-.465a4.902 4.902 0 01-1.772-1.153 4.902 4.902 0 01-1.153-1.772c-.247-.636-.416-1.363-.465-2.427-.047-1.024-.06-1.379-.06-3.808v-.63c0-2.43.013-2.784.06-3.808.049-1.064.218-1.791.465-2.427a4.902 4.902 0 011.153-1.772A4.902 4.902 0 015.45 2.525c.636-.247 1.363-.416 2.427-.465C8.901 2.013 9.256 2 11.685 2h.63zm-.081 1.802h-.468c-2.456 0-2.784.011-3.807.058-.975.045-1.504.207-1.857.344-.467.182-.8.398-1.15.748-.35.35-.566.683-.748 1.15-.137.353-.3.882-.344 1.857-.047 1.023-.058 1.351-.058 3.807v.468c0 2.456.011 2.784.058 3.807.045.975.207 1.504.344 1.857.182.466.399.8.748 1.15.35.35.683.566 1.15.748.353.137.882.3 1.857.344 1.054.048 1.37.058 4.041.058h.08c2.597 0 2.917-.01 3.96-.058.976-.045 1.505-.207 1.858-.344.466-.182.8-.398 1.15-.748.35-.35.566-.683.748-1.15.137-.353.3-.882.344-1.857.048-1.055.058-1.37.058-4.041v-.08c0-2.597-.01-2.917-.058-3.96-.045-.976-.207-1.505-.344-1.858a3.097 3.097 0 00-.748-1.15 3.098 3.098 0 00-1.15-.748c-.353-.137-.882-.3-1.857-.344-1.023-.047-1.351-.058-3.807-.058zM12 6.865a5.135 5.135 0 110 10.27 5.135 5.135 0 010-10.27zm0 1.802a3.333 3.333 0 100 6.666 3.333 3.333 0 000-6.666zm5.338-3.205a1.2 1.2 0 110 2.4 1.2 1.2 0 010-2.4z",clipRule:"evenodd"})})]})})]}),m.jsxs("div",{className:"mt-12 border-t border-yellow-400/20 pt-8 text-center",children:[m.jsxs("p",{className:"text-sm text-gray-400",children:["Copyright © ",t,". EmproChampions. Todos los derechos reservados."]}),m.jsxs("p",{className:"text-sm text-gray-400 mt-2",children:["Diseñado por ",m.jsx("a",{href:n,target:"_blank",rel:"noopener noreferrer",className:"text-yellow-400 hover:underline",children:"Elmer Hernandez"})]})]})]})})}function YV(){const[t,e]=T.useState([]),[n,r]=T.useState([]),[i,s]=T.useState("masculino");T.useEffect(()=>{const a=(l,c)=>{const d=se(ne,`tablas/${l}`);zr(d,h=>{const f=h.val();if(f){const v=Object.keys(f).map(_=>({nombre:_,...f[_]})).sort((_,S)=>S.puntos-_.puntos||S.gf-S.gc-(_.gf-_.gc));c(v)}})};a("masculino",e),a("femenino",r)},[]);const o=i==="masculino"?t:n;return m.jsxs("div",{className:"w-full min-h-screen bg-cover bg-center text-white font-qatar bg-main-background",children:[m.jsx(_r,{}),m.jsxs("div",{className:"container mx-auto px-4 py-8",children:[m.jsx("h1",{className:"text-5xl font-bold text-center text-yellow-400 drop-shadow-lg mb-6",children:"Tabla de Posiciones"}),m.jsxs("div",{className:"flex justify-center mb-8 bg-black/30 rounded-full p-1 max-w-sm mx-auto",children:[m.jsx("button",{onClick:()=>s("masculino"),className:`w-1/2 py-2 rounded-full font-bold transition-colors ${i==="masculino"?"bg-yellow-400 text-black":"hover:bg-white/10"}`,children:"Masculino"}),m.jsx("button",{onClick:()=>s("femenino"),className:`w-1/2 py-2 rounded-full font-bold transition-colors ${i==="femenino"?"bg-yellow-400 text-black":"hover:bg-white/10"}`,children:"Femenino"})]}),m.jsxs("div",{className:"bg-black/50 backdrop-blur-sm rounded-xl overflow-hidden shadow-2xl",children:[m.jsxs("div",{className:"grid grid-cols-10 md:grid-cols-12 text-center font-bold text-yellow-400 p-4 border-b border-yellow-400/20",children:[m.jsx("div",{className:"col-span-4 md:col-span-5 text-left pl-3",children:"Club"}),m.jsx("div",{className:"hidden md:block",children:"PJ"}),m.jsx("div",{className:"hidden md:block",children:"PG"}),m.jsx("div",{className:"hidden md:block",children:"PE"}),m.jsx("div",{className:"hidden md:block",children:"PP"}),m.jsx("div",{className:"col-span-2 md:col-span-1",children:"GF"}),m.jsx("div",{className:"col-span-2 md:col-span-1",children:"GC"}),m.jsx("div",{className:"col-span-2 md:col-span-1",children:"Pts"})]}),m.jsx("div",{children:o.map((a,l)=>m.jsxs("div",{className:"grid grid-cols-10 md:grid-cols-12 items-center text-center p-3 border-b border-gray-700/50 hover:bg-white/5 transition-colors",children:[m.jsxs("div",{className:"col-span-4 md:col-span-5 flex items-center gap-3 text-left",children:[m.jsx("span",{className:"font-bold text-lg w-6 text-center text-gray-400",children:l+1}),m.jsx("img",{src:`/EmproChampions-2025/img/escudos/${a.logo}`,alt:a.nombre,className:"w-8 h-8 md:w-10 md:h-10 object-contain"}),m.jsx("span",{className:"font-bold text-base md:text-lg",children:a.nombre})]}),m.jsx("div",{className:"hidden md:block",children:a.pj}),m.jsx("div",{className:"hidden md:block",children:a.pg}),m.jsx("div",{className:"hidden md:block",children:a.pe}),m.jsx("div",{className:"hidden md:block",children:a.pp}),m.jsx("div",{className:"col-span-2 md:col-span-1",children:a.gf}),m.jsx("div",{className:"col-span-2 md:col-span-1",children:a.gc}),m.jsx("div",{className:"col-span-2 md:col-span-1 font-extrabold text-lg",children:a.puntos})]},a.nombre))})]})]}),m.jsx(qV,{}),m.jsx(wr,{})]})}function XV({equipo:t,jugadores:e,minuto:n,onSeleccion:r,onClose:i}){const[s,o]=T.useState(""),a=()=>{s&&r({nombre:s,minuto:n})};return m.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-70 flex justify-center items-center z-50",children:m.jsxs("div",{className:"bg-white text-black p-6 rounded-lg w-full max-w-md space-y-4",children:[m.jsx("h2",{className:"text-2xl font-bold text-center",children:"Registrar Gol"}),m.jsxs("div",{children:[m.jsx("label",{className:"block font-semibold mb-1",children:"¿Quién anotó?"}),m.jsxs("select",{value:s,onChange:l=>o(l.target.value),className:"w-full border border-gray-300 rounded px-4 py-2",children:[m.jsx("option",{value:"",children:"Seleccionar jugador"}),e.map((l,c)=>m.jsx("option",{value:l.nombre,children:l.nombre},c))]})]}),m.jsxs("div",{className:"flex justify-end gap-4",children:[m.jsx("button",{onClick:i,className:"bg-gray-300 px-4 py-2 rounded font-bold",children:"Cancelar"}),m.jsx("button",{onClick:a,className:"bg-green-500 text-white px-4 py-2 rounded font-bold",children:"Confirmar"})]})]})})}function QV({equipo:t,jugadores:e,minuto:n,onConfirm:r,onClose:i}){const[s,o]=T.useState(""),[a,l]=T.useState(""),c=()=>{!s||!a||r({jugador:s,tipo:a,minuto:n})};return m.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-70 flex justify-center items-center z-50",children:m.jsxs("div",{className:"bg-white text-black p-6 rounded-lg w-full max-w-md space-y-4",children:[m.jsx("h2",{className:"text-2xl font-bold text-center",children:"Registrar Tarjeta"}),m.jsxs("div",{children:[m.jsx("label",{className:"block font-semibold mb-1",children:"Jugador"}),m.jsxs("select",{value:s,onChange:d=>o(d.target.value),className:"w-full border border-gray-300 rounded px-4 py-2",children:[m.jsx("option",{value:"",children:"Seleccionar jugador"}),e.map((d,h)=>m.jsx("option",{value:d.nombre,children:d.nombre},h))]})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block font-semibold mb-1",children:"Tipo de tarjeta"}),m.jsxs("div",{className:"flex gap-4",children:[m.jsxs("label",{className:"flex items-center",children:[m.jsx("input",{type:"radio",value:"amarilla",checked:a==="amarilla",onChange:()=>l("amarilla")}),m.jsx("span",{className:"ml-2",children:"🟨 Amarilla"})]}),m.jsxs("label",{className:"flex items-center",children:[m.jsx("input",{type:"radio",value:"roja",checked:a==="roja",onChange:()=>l("roja")}),m.jsx("span",{className:"ml-2",children:"🟥 Roja"})]})]})]}),m.jsxs("div",{className:"flex justify-end gap-4",children:[m.jsx("button",{onClick:i,className:"bg-gray-300 px-4 py-2 rounded font-bold",children:"Cancelar"}),m.jsx("button",{onClick:c,className:"bg-yellow-500 px-4 py-2 rounded font-bold",children:"Confirmar"})]})]})})}function JV({equipo:t,jugadores:e,minuto:n,onConfirm:r,onClose:i}){const[s,o]=T.useState(""),[a,l]=T.useState(""),c=()=>{!s||!a.trim()||r(s,a.trim(),n)};return m.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-70 flex justify-center items-center z-50",children:m.jsxs("div",{className:"bg-white text-black p-6 rounded-lg w-full max-w-md space-y-4",children:[m.jsx("h2",{className:"text-2xl font-bold text-center",children:"Realizar Cambio"}),m.jsxs("div",{children:[m.jsx("label",{className:"block font-semibold mb-1",children:"Titular que sale"}),m.jsxs("select",{value:s,onChange:d=>o(d.target.value),className:"w-full border border-gray-300 rounded px-4 py-2",children:[m.jsx("option",{value:"",children:"Seleccionar"}),e.map((d,h)=>m.jsx("option",{value:d.nombre,children:d.nombre},h))]})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block font-semibold mb-1",children:"Suplente que entra"}),m.jsx("input",{type:"text",placeholder:"Escribí el nombre",value:a,onChange:d=>l(d.target.value),className:"w-full border border-gray-300 rounded px-4 py-2"})]}),m.jsxs("div",{className:"flex justify-end gap-4",children:[m.jsx("button",{onClick:i,className:"bg-gray-300 px-4 py-2 rounded font-bold",children:"Cancelar"}),m.jsx("button",{onClick:c,className:"bg-blue-500 text-white px-4 py-2 rounded font-bold",children:"Confirmar Cambio"})]})]})})}function ZV({equipoGanador:t,equipo1:e,equipo2:n,onClose:r}){const[i,s]=T.useState(null),o=((e==null?void 0:e.jugadores)||[]).filter(h=>h.haJugado),a=((n==null?void 0:n.jugadores)||[]).filter(h=>h.haJugado),l=h=>{s(h)},c=()=>{r(i||null)},d=({jugador:h})=>m.jsxs("div",{onClick:()=>l(h),className:`p-3 rounded-lg cursor-pointer transition-all duration-200 text-center ${(i==null?void 0:i.nombre)===h.nombre?"bg-yellow-400 text-black scale-105 ring-2 ring-white":"bg-gray-700 text-white hover:bg-gray-600"}`,children:[m.jsx("span",{className:"font-bold text-base",children:h.nombre}),m.jsxs("span",{className:"block text-sm opacity-80 mt-1",children:["#",h.dorsal]})]},h.nombre);return m.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-70 flex justify-center items-center z-50 p-4 font-qatar",children:m.jsxs("div",{className:"bg-gray-800 rounded-2xl shadow-xl w-full max-w-2xl p-6 border border-yellow-400/30",children:[m.jsxs("div",{className:"text-center",children:[t.nombre!=="Empate"?m.jsx("img",{src:`/EmproChampions-2025/img/escudos/${t.logo}`,alt:t.nombre,className:"w-28 h-28 mx-auto mb-4 object-contain"}):m.jsx("div",{className:"w-28 h-28 mx-auto mb-4 flex items-center justify-center bg-gray-700 rounded-full",children:m.jsx("span",{className:"text-5xl",role:"img","aria-label":"empate",children:"🤝"})}),m.jsx("h2",{className:"text-4xl font-extrabold text-yellow-400",children:"¡Partido Finalizado!"}),m.jsx("p",{className:"text-white mt-2 text-xl",children:t.nombre!=="Empate"?`Ganador: ${t.nombre}`:"El partido terminó en empate"}),m.jsx("p",{className:"text-white mt-5 font-bold text-2xl",children:"Selecciona al MVP del partido"})]}),m.jsxs("div",{className:"my-6 flex flex-row gap-4 md:gap-6",children:[m.jsxs("div",{className:"w-1/2",children:[m.jsx("h3",{className:"text-center font-bold text-white mb-4 text-xl",children:e.nombre}),m.jsx("div",{className:"max-h-[35vh] overflow-y-auto grid grid-cols-1 md:grid-cols-2 gap-3 pr-2",children:o.map(h=>m.jsx(d,{jugador:h},h.nombre))})]}),m.jsx("div",{className:"w-px bg-gray-600/50"}),m.jsxs("div",{className:"w-1/2",children:[m.jsx("h3",{className:"text-center font-bold text-white mb-4 text-xl",children:n.nombre}),m.jsx("div",{className:"max-h-[35vh] overflow-y-auto grid grid-cols-1 md:grid-cols-2 gap-3 pr-2",children:a.map(h=>m.jsx(d,{jugador:h},h.nombre))})]})]}),m.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 pt-4 border-t border-gray-600/50",children:[m.jsx("button",{onClick:()=>r(null),className:"w-full bg-gray-600 hover:bg-gray-500 text-white font-bold py-3 px-4 rounded-lg transition-colors text-lg",children:"Cancelar"}),m.jsx("button",{onClick:c,disabled:!i,className:"w-full bg-green-600 hover:bg-green-500 text-white font-bold py-3 px-4 rounded-lg transition-colors disabled:bg-gray-500 disabled:cursor-not-allowed text-lg",children:"Confirmar MVP y Guardar"})]})]})})}function cR({mensaje:t,tipo:e="info"}){const n={info:"bg-blue-600 text-white",gol:"bg-green-500 text-white",tarjeta:"bg-yellow-400 text-black",roja:"bg-red-600 text-white",success:"bg-emerald-500 text-white"};return m.jsx("div",{className:"fixed bottom-6 left-1/2 -translate-x-1/2 z-[9999]",children:m.jsx("div",{className:`px-6 py-3 rounded-full shadow-lg animate-fade-in-out transition duration-500 ${n[e]||n.info}`,children:m.jsx("p",{className:"text-sm font-bold",children:t})})})}function eU(){const[t,e]=T.useState(0),[n,r]=T.useState(!1),i=T.useRef(null),s=()=>{n||(r(!0),i.current=setInterval(()=>{e(l=>l+1)},1e3))},o=()=>{r(!1),clearInterval(i.current)},a=()=>{e(0),o()};return T.useEffect(()=>()=>clearInterval(i.current),[]),{tiempo:t,enMarcha:n,iniciar:s,pausar:o,reiniciar:a}}const tU=({equipo1:t,equipo2:e,goles:n,minuto:r})=>m.jsx("div",{className:"bg-gray-900 bg-opacity-60 backdrop-blur-sm rounded-xl p-4 shadow-lg text-white font-qatar",children:m.jsxs("div",{className:"flex justify-between items-center",children:[m.jsxs("div",{className:"flex flex-col items-center w-1/3 text-center",children:[m.jsx("img",{src:`/EmproChampions-2025/img/escudos/${t.logo}`,alt:t.nombre,className:"h-16 w-16 md:h-24 md:w-24 object-contain"}),m.jsx("span",{className:"mt-2 text-sm md:text-lg font-bold",children:t.nombre})]}),m.jsxs("div",{className:"flex flex-col items-center w-1/3 text-center",children:[m.jsxs("div",{className:"text-4xl md:text-6xl font-black tracking-wider",children:[m.jsx("span",{children:n.equipo1}),m.jsx("span",{className:"mx-2 text-yellow-400",children:"-"}),m.jsx("span",{children:n.equipo2})]}),m.jsx("div",{className:"text-lg md:text-2xl mt-2 font-semibold bg-black/50 px-3 py-1 rounded-md",children:r})]}),m.jsxs("div",{className:"flex flex-col items-center w-1/3 text-center",children:[m.jsx("img",{src:`/EmproChampions-2025/img/escudos/${e.logo}`,alt:e.nombre,className:"h-16 w-16 md:h-24 md:w-24 object-contain"}),m.jsx("span",{className:"mt-2 text-sm md:text-lg font-bold",children:e.nombre})]})]})}),nU=t=>{const e="/EmproChampions-2025/";let n="";return t.tipo.includes("gol")?n="pelota.svg":t.tipo.includes("amarilla")?n="amarilla.svg":t.tipo.includes("roja")?n="roja.svg":t.tipo.includes("cambio")&&(n="cambio.svg"),n?`${e}img/${n}`:null},rU=({eventos:t})=>!t||t.length===0?m.jsx("div",{className:"text-center text-white text-opacity-70 mt-8 py-10",children:"El partido está por comenzar."}):m.jsxs("div",{className:"relative mt-8 py-5 font-barcelona",children:[m.jsx("div",{className:"absolute top-0 left-1/2 w-0.5 h-full bg-gray-500/30"}),t.map((e,n)=>{const r=e.equipo==="equipo1",i=nU(e),s=()=>m.jsxs("div",{className:`flex items-center gap-3 w-full ${r?"flex-row-reverse":"flex-row"}`,children:[m.jsx("span",{className:"font-bold text-sm text-white truncate max-w-[150px] md:max-w-xs",children:e.jugador||`${e.titular} ➜ ${e.suplente}`}),i&&m.jsx("img",{src:i,alt:e.tipo,className:"w-5 h-5"})]});return m.jsxs("div",{className:"relative flex items-center justify-center my-6 h-6",children:[m.jsx("div",{className:"w-1/2 pr-8 flex justify-end",children:r&&m.jsx(s,{})}),m.jsx("div",{className:"absolute z-10 bg-[#1a1d23] px-1.5 py-0.5 rounded-full border border-gray-600/50",children:m.jsxs("span",{className:"text-yellow-400 font-bold text-xs",children:[e.minuto,"'"]})}),m.jsx("div",{className:"w-1/2 pl-8 flex justify-start",children:!r&&m.jsx(s,{})})]},e.id||n)})]});function iU(){const{partidoId:t}=rk(),e=Er(),[n,r]=T.useState(null),[i,s]=T.useState(null),[o,a]=T.useState({equipo1:0,equipo2:0}),[l,c]=T.useState([]),[d,h]=T.useState([]),[f,v]=T.useState([]),[_,S]=T.useState([]),[P,w]=T.useState(null),[C,E]=T.useState(null),[R,D]=T.useState(null),[M,b]=T.useState(!1),[x,I]=T.useState(null),[g,A]=T.useState(!1),O=eU();T.useEffect(()=>{if(!t)return;const Q={alineacion:se(ne,`partidos/${t}/alineacion`),marcador:se(ne,`partidos/${t}/marcador`),eventos:se(ne,`partidos/${t}/eventos`)},ue=[zr(Q.alineacion,de=>{de.exists()&&(r(de.val().equipo1),s(de.val().equipo2))}),zr(Q.marcador,de=>{de.exists()&&a(de.val())}),zr(Q.eventos,de=>{if(!de.exists()){S([]);return}const ie=de.val(),it=[],dt=[],Ve=[],ht=[];for(const te in ie.goles)dt.push({...ie.goles[te],id:te}),it.push({...ie.goles[te],id:te});for(const te in ie.tarjetas)Ve.push({...ie.tarjetas[te],id:te}),it.push({...ie.tarjetas[te],id:te});for(const te in ie.cambios)ht.push({...ie.cambios[te],id:te}),it.push({...ie.cambios[te],id:te});c(dt),h(Ve),v(ht),it.sort((te,Tr)=>{if(!te.minuto||!Tr.minuto)return 0;const[Gs,Mn]=te.minuto.split(":").map(Number),[Ks,st]=Tr.minuto.split(":").map(Number);return Gs*60+Mn-(Ks*60+st)}),S(it)})];return()=>{Object.keys(Q).forEach((de,ie)=>{ue[ie]&&gc(Q[de],"value",ue[ie])})}},[t]);const N=(Q,ue="info")=>{I({mensaje:Q,tipo:ue}),setTimeout(()=>I(null),4e3)},V=()=>{const Q=String(Math.floor(O.tiempo/60)).padStart(2,"0"),ue=String(O.tiempo%60).padStart(2,"0");return`${Q}:${ue}`},W=Q=>{if(!O.enMarcha){N("El cronómetro debe estar en marcha","error");return}O.pausar(),w(Q)},K=Q=>E(Q),G=Q=>D(Q),$=async Q=>{const ue=P,de=se(ne,`partidos/${t}/marcador`),ie={...o,[ue]:(o[ue]||0)+1};await jt(de,ie);const it=se(ne,`partidos/${t}/eventos/goles`);await gd(it,{tipo:"gol",equipo:ue,jugador:Q.nombre,minuto:V()}),w(null),O.iniciar(),N("¡Gol registrado!","success")},q=async({jugador:Q,tipo:ue,minuto:de})=>{const ie=C,it=se(ne,`partidos/${t}/eventos/tarjetas`);await gd(it,{tipo:ue,equipo:ie,jugador:Q,minuto:de}),E(null),N(`Tarjeta ${ue} a ${Q} (${de})`,ue==="roja"?"roja":"tarjeta")},X=async(Q,ue,de)=>{const ie=R;let it=ie==="equipo1"?n:i,dt=it.jugadores.map(te=>te.nombre===Q?{...te,enJuego:!1,haJugado:!0}:te),Ve=it.todosJugadores.find(te=>te.nombre===ue)||{nombre:ue,dorsal:"?",enJuego:!0,haJugado:!0};Ve={...Ve,enJuego:!0,haJugado:!0},dt.some(te=>te.nombre===Ve.nombre)?dt=dt.map(te=>te.nombre===Ve.nombre?{...te,enJuego:!0,haJugado:!0}:te):dt.push(Ve),await jt(se(ne,`partidos/${t}/alineacion/${ie}/jugadores`),dt),ie==="equipo1"?r({...n,jugadores:dt}):s({...i,jugadores:dt});const ht=se(ne,`partidos/${t}/eventos/cambios`);await gd(ht,{tipo:"cambio",equipo:ie,titular:Q,suplente:ue,minuto:de}),D(null),N(`Cambio: sale ${Q}, entra ${ue} (${de})`,"info")},_e=()=>{O.pausar(),b(!0),N("Partido finalizado. Selecciona el MVP","success")},re=async Q=>{var ue;if(g){console.log("Guardado ya en progreso. Evitando doble ejecución.");return}if(A(!0),!Q){console.log("Guardado cancelado porque no se seleccionó MVP."),b(!1),A(!1);return}console.log("Iniciando guardado final del partido...");try{const ie=((ue=(await Tn(se(ne,`partidos/${t}/alineacion`))).val())==null?void 0:ue.genero)||"masculino",it={marcador:o,mvp:Q,terminado:!0,timestamp:Date.now()};await jt(se(ne,`partidos/${t}/resultado`),it),console.log("Paso 1/4: Resultado del partido guardado.");const dt=se(ne,`tablas/${ie}`),ht=(await Tn(dt)).val()||{},te=(st,si,Ta,Gt)=>{if(!st||!st.nombre)return;const on=ht[st.nombre]||{pj:0,pg:0,pe:0,pp:0,gf:0,gc:0,puntos:0,logo:st.logo};on.pj++,on.gf+=si,on.gc+=Ta,Gt==="victoria"?(on.pg++,on.puntos+=3):Gt==="empate"?(on.pe++,on.puntos+=1):on.pp++,ht[st.nombre]=on};o.equipo1>o.equipo2?(te(n,o.equipo1,o.equipo2,"victoria"),te(i,o.equipo2,o.equipo1,"derrota")):o.equipo2>o.equipo1?(te(n,o.equipo1,o.equipo2,"derrota"),te(i,o.equipo2,o.equipo1,"victoria")):(te(n,o.equipo1,o.equipo2,"empate"),te(i,o.equipo2,o.equipo1,"empate")),await jt(dt,ht),console.log("Paso 2/4: Tabla de posiciones actualizada.");const Tr=se(ne,`goleadoresDetalles/${ie}`),Mn=(await Tn(Tr)).val()||{};for(const st of l){if(!st.jugador)continue;const si=st.jugador.replace(/[.#$[\]]/g,"_");if(Mn[si]||(Mn[si]=[]),!Mn[si].some(Gt=>Gt.idDelGol===st.id)){const Gt=st.equipo==="equipo1"?n:i;Mn[si].push({idDelGol:st.id,minuto:st.minuto,partidoId:t,partidoNombre:`${(n==null?void 0:n.nombre)||"Equipo 1"} vs ${(i==null?void 0:i.nombre)||"Equipo 2"}`,fecha:new Date().toLocaleDateString("es-HN"),equipo:(Gt==null?void 0:Gt.nombre)||"",logo:(Gt==null?void 0:Gt.logo)||"",jugador:st.jugador})}}await jt(Tr,Mn),console.log("Paso 3/4: Detalles de goleadores actualizados.");const Ks=se(ne,`historial/${ie}/${t}`);await jt(Ks,{fecha:new Date().toLocaleDateString("es-HN"),equipo1:(n==null?void 0:n.nombre)||"Equipo 1",equipo2:(i==null?void 0:i.nombre)||"Equipo 2",logo1:(n==null?void 0:n.logo)||"",logo2:(i==null?void 0:i.logo)||"",goles1:o.equipo1,goles2:o.equipo2,mvp:(Q==null?void 0:Q.nombre)||"No definido"}),console.log("Paso 4/4: Historial de partidos actualizado."),b(!1),N("Partido guardado correctamente","success"),console.log("¡Éxito! Redirigiendo..."),setTimeout(()=>e("/"),1500)}catch(de){console.error("ERROR AL GUARDAR EL PARTIDO:",de),N("Error al guardar. Revisa la consola.","error"),A(!1)}},ee=()=>o.equipo1>o.equipo2?n:o.equipo2>o.equipo1?i:{nombre:"Empate",logo:"logo-empro.png"};return!n||!i?m.jsxs("div",{className:"w-full min-h-screen bg-cover bg-center text-white flex flex-col bg-main-background",children:[m.jsx(_r,{}),m.jsx("div",{className:"flex-grow flex items-center justify-center text-center p-4",children:m.jsx("div",{children:m.jsx("h2",{className:"text-3xl font-bold",children:"Cargando datos del partido..."})})}),m.jsx(wr,{})]}):m.jsxs("div",{className:"w-full min-h-screen bg-cover bg-center text-white font-qatar px-2 md:px-8 py-4 bg-main-background flex flex-col",children:[m.jsx(_r,{}),m.jsxs("div",{className:"container mx-auto flex-grow",children:[m.jsx(tU,{equipo1:n,equipo2:i,goles:o,minuto:V()}),m.jsxs("div",{className:"flex justify-center gap-4 my-6",children:[m.jsx("button",{onClick:O.iniciar,disabled:O.enMarcha,className:"bg-green-500 hover:bg-green-600 text-white font-bold py-2 px-4 rounded disabled:bg-gray-500",children:"▶️ Iniciar"}),m.jsx("button",{onClick:O.pausar,disabled:!O.enMarcha,className:"bg-yellow-500 hover:bg-yellow-600 text-white font-bold py-2 px-4 rounded disabled:bg-gray-500",children:"⏸️ Pausar"}),m.jsx("button",{onClick:O.reiniciar,className:"bg-red-500 hover:bg-red-600 text-white font-bold py-2 px-4 rounded",children:"🔁 Reiniciar"})]}),m.jsxs("div",{className:"bg-black/40 backdrop-blur-sm p-4 rounded-lg flex flex-wrap justify-center gap-x-6 gap-y-3 shadow-lg",children:[m.jsxs("button",{onClick:()=>W("equipo1"),className:"text-white font-semibold hover:text-green-400 transition-colors",children:["Gol ",n.nombre]}),m.jsxs("button",{onClick:()=>K("equipo1"),className:"text-white font-semibold hover:text-yellow-400 transition-colors",children:["Tarjeta ",n.nombre]}),m.jsxs("button",{onClick:()=>G("equipo1"),className:"text-white font-semibold hover:text-blue-400 transition-colors",children:["Cambio ",n.nombre]}),m.jsx("div",{className:"w-full md:w-auto h-px md:h-auto md:w-px bg-white/20"}),m.jsxs("button",{onClick:()=>W("equipo2"),className:"text-white font-semibold hover:text-green-400 transition-colors",children:["Gol ",i.nombre]}),m.jsxs("button",{onClick:()=>K("equipo2"),className:"text-white font-semibold hover:text-yellow-400 transition-colors",children:["Tarjeta ",i.nombre]}),m.jsxs("button",{onClick:()=>G("equipo2"),className:"text-white font-semibold hover:text-blue-400 transition-colors",children:["Cambio ",i.nombre]})]}),m.jsx(rU,{eventos:_}),m.jsx("div",{className:"text-center mt-12",children:m.jsx("button",{onClick:_e,className:"bg-yellow-500 hover:bg-yellow-600 text-black font-extrabold text-2xl px-12 py-4 rounded-full shadow-xl",children:"Finalizar Partido"})})]}),P&&m.jsx(XV,{equipo:P,jugadores:(P==="equipo1"?n.jugadores:i.jugadores).filter(Q=>Q.enJuego!==!1),minuto:V(),onSeleccion:$,onClose:()=>{w(null),O.iniciar()}}),C&&m.jsx(QV,{equipo:C,jugadores:(C==="equipo1"?n.jugadores:i.jugadores).filter(Q=>Q.enJuego!==!1),minuto:V(),onConfirm:q,onClose:()=>E(null)}),R&&m.jsx(JV,{equipo:R,jugadores:R==="equipo1"?n.todosJugadores:i.todosJugadores,minuto:V(),onConfirm:X,onClose:()=>D(null)}),M&&m.jsx(ZV,{equipoGanador:ee(),equipo1:n,equipo2:i,onClose:re}),x&&m.jsx(cR,{mensaje:x.mensaje,tipo:x.tipo}),m.jsx(wr,{})]})}function sU(){const[t,e]=T.useState([]),[n,r]=T.useState("masculino"),[i,s]=T.useState(null);T.useEffect(()=>{const a=se(ne,`goleadores/${n}`);zr(a,l=>{const c=l.val();if(c){const d=Object.values(c).sort((h,f)=>f.goles-h.goles);e(d)}else e([])})},[n]);const o=a=>{s(i===a?null:a)};return m.jsxs("div",{className:"w-full min-h-screen bg-cover bg-center text-white font-qatar bg-main-background flex flex-col",children:[m.jsx(_r,{}),m.jsxs("div",{className:"container mx-auto px-4 py-8 flex-grow",children:[m.jsx("h1",{className:"text-5xl font-bold text-center text-yellow-400 drop-shadow-lg mb-6",children:"Tabla de Goleadores"}),m.jsxs("div",{className:"flex justify-center mb-8 bg-black/30 rounded-full p-1 max-w-sm mx-auto",children:[m.jsx("button",{onClick:()=>r("masculino"),className:`w-1/2 py-2 rounded-full font-bold transition-colors ${n==="masculino"?"bg-yellow-400 text-black":"hover:bg-white/10"}`,children:"Masculino"}),m.jsx("button",{onClick:()=>r("femenino"),className:`w-1/2 py-2 rounded-full font-bold transition-colors ${n==="femenino"?"bg-yellow-400 text-black":"hover:bg-white/10"}`,children:"Femenino"})]}),m.jsx("div",{className:"space-y-4 max-w-4xl mx-auto",children:t.map((a,l)=>m.jsxs("div",{className:"bg-black/50 backdrop-blur-sm rounded-xl shadow-lg p-4 transition-all duration-300",children:[m.jsxs("div",{className:"flex items-center gap-4",children:[m.jsx("span",{className:"text-3xl font-bold text-yellow-400 w-8 text-center",children:l+1}),m.jsx("img",{src:`/EmproChampions-2025/img/escudos/${a.logo}`,alt:a.equipo,className:"w-12 h-12 object-contain"}),m.jsxs("div",{className:"flex-grow",children:[m.jsx("h2",{className:"text-2xl font-bold",children:a.nombre}),m.jsx("p",{className:"text-sm opacity-80",children:a.equipo})]}),m.jsxs("div",{className:"text-right flex items-center gap-4",children:[m.jsxs("div",{children:[m.jsx("p",{className:"text-4xl font-extrabold",children:a.goles}),m.jsx("p",{className:"text-sm opacity-80 -mt-1",children:"Goles"})]}),m.jsx("button",{onClick:()=>o(a.nombre),className:"bg-yellow-400 text-black font-bold h-10 px-4 rounded-lg text-sm transition hover:bg-yellow-300",children:"Detalles"})]})]}),i===a.nombre&&m.jsxs("div",{className:"pl-14 mt-4 border-t border-white/10 pt-3",children:[m.jsx("h4",{className:"font-bold text-yellow-300 mb-2 text-sm",children:"DETALLE DE GOLES:"}),a.detalles&&a.detalles.length>0?a.detalles.map((c,d)=>{var h;return m.jsxs("div",{className:"flex items-center gap-2 text-sm opacity-90 mt-1",children:[m.jsx("span",{children:"⚽"}),m.jsxs("span",{children:["vs ",(h=c.partidoNombre)==null?void 0:h.replace(a.equipo,"").replace("vs","").trim()]}),m.jsxs("span",{className:"ml-auto font-mono bg-white/10 px-2 rounded",children:[c.minuto,"'"]})]},d)}):m.jsx("p",{className:"text-sm opacity-70",children:"No hay detalles de goles disponibles."})]})]},a.nombre))})]}),m.jsx(wr,{})]})}const oU=({partidoId:t,onClose:e})=>{var s,o,a,l,c,d,h,f,v;const[n,r]=T.useState(null);if(T.useEffect(()=>{const _=se(ne,`partidos/${t}`);Tn(_).then(S=>{var P,w,C,E;if(S.exists()){const R=S.val(),D={marcador:(P=R.resultado)==null?void 0:P.marcador,mvp:(w=R.resultado)==null?void 0:w.mvp,equipo1:(C=R.alineacion)==null?void 0:C.equipo1,equipo2:(E=R.alineacion)==null?void 0:E.equipo2,eventos:R.eventos||{}};r(D)}})},[t]),!n)return m.jsx("div",{className:"fixed inset-0 bg-black/70 flex items-center justify-center z-50",children:m.jsx("p",{className:"text-white text-xl",children:"Cargando detalles..."})});const i=[];return n.eventos.goles&&Object.values(n.eventos.goles).forEach(_=>i.push({..._,tipoVisual:"⚽ Gol"})),i.sort((_,S)=>(_.minuto||"00:00").localeCompare(S.minuto||"00:00")),m.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-80 flex justify-center items-center z-50 p-4 font-qatar",onClick:e,children:m.jsxs("div",{className:"bg-gray-800 rounded-xl w-full max-w-md p-6",onClick:_=>_.stopPropagation(),children:[m.jsx("h2",{className:"text-2xl font-bold text-yellow-400 text-center mb-4",children:"Detalles del Partido"}),m.jsxs("div",{className:"flex justify-between items-center mb-4",children:[m.jsxs("div",{className:"flex items-center gap-2 text-lg font-bold w-2/5",children:[m.jsx("img",{src:`/EmproChampions-2025/img/escudos/${(s=n.equipo1)==null?void 0:s.logo}`,className:"w-8 h-8 object-contain",alt:(o=n.equipo1)==null?void 0:o.nombre}),m.jsx("span",{children:(a=n.equipo1)==null?void 0:a.nombre})]}),m.jsxs("span",{className:"font-bold text-2xl",children:[(l=n.marcador)==null?void 0:l.equipo1," - ",(c=n.marcador)==null?void 0:c.equipo2]}),m.jsxs("div",{className:"flex items-center justify-end gap-2 text-lg font-bold w-2/5",children:[m.jsx("span",{className:"text-right",children:(d=n.equipo2)==null?void 0:d.nombre}),m.jsx("img",{src:`/EmproChampions-2025/img/escudos/${(h=n.equipo2)==null?void 0:h.logo}`,className:"w-8 h-8 object-contain",alt:(f=n.equipo2)==null?void 0:f.nombre})]})]}),((v=n.mvp)==null?void 0:v.nombre)&&m.jsxs("p",{className:"text-center mb-4 text-sm",children:["MVP: ",m.jsx("span",{className:"font-bold text-yellow-300",children:n.mvp.nombre})]}),m.jsx("div",{className:"max-h-64 overflow-y-auto space-y-2 border-t border-white/10 pt-3",children:i.map((_,S)=>m.jsxs("div",{className:"flex items-center text-sm p-2 bg-white/5 rounded",children:[m.jsxs("span",{className:"font-mono w-12",children:[_.minuto,"'"]}),m.jsx("span",{className:"w-24",children:_.tipoVisual}),m.jsx("span",{className:"font-bold flex-grow",children:_.jugador})]},S))}),m.jsx("button",{onClick:e,className:"w-full mt-6 bg-yellow-400 text-black font-bold py-2 rounded-lg",children:"Cerrar"})]})})};function aU(){const{user:t}=Hs(),e=Er(),[n,r]=T.useState([]),[i,s]=T.useState("masculino"),[o,a]=T.useState(null);return T.useEffect(()=>{const l=se(ne,`historial/${i}`),c=zr(l,d=>{if(d.exists()){const h=Object.entries(d.val()).map(([f,v])=>({id:f,...v})).reverse();r(h)}else r([])});return()=>{gc(l,"value",c)}},[i]),m.jsxs("div",{className:"w-full min-h-screen bg-cover bg-center text-white font-qatar bg-main-background",children:[m.jsx(_r,{}),m.jsxs("div",{className:"container mx-auto px-4 py-8",children:[m.jsx("h1",{className:"text-5xl font-bold text-center text-yellow-400 drop-shadow-lg mb-6",children:"Historial de Partidos"}),m.jsxs("div",{className:"flex justify-center mb-8 bg-black/30 rounded-full p-1 max-w-sm mx-auto",children:[m.jsx("button",{onClick:()=>s("masculino"),className:`w-1/2 py-2 rounded-full font-bold transition-colors ${i==="masculino"?"bg-yellow-400 text-black":"hover:bg-white/10"}`,children:"Masculino"}),m.jsx("button",{onClick:()=>s("femenino"),className:`w-1/2 py-2 rounded-full font-bold transition-colors ${i==="femenino"?"bg-yellow-400 text-black":"hover:bg-white/10"}`,children:"Femenino"})]}),m.jsx("div",{className:"space-y-4 max-w-4xl mx-auto",children:n.map(l=>m.jsx("div",{className:"bg-black/50 backdrop-blur-sm rounded-xl shadow-lg p-4",children:m.jsxs("div",{className:"flex items-center w-full",children:[m.jsxs("div",{className:"flex-grow space-y-2",children:[m.jsxs("div",{className:"flex items-center gap-3",children:[m.jsx("img",{src:`/EmproChampions-2025/img/escudos/${l.logo1}`,className:"w-8 h-8 object-contain",alt:l.equipo1}),m.jsx("span",{children:l.equipo1})]}),m.jsxs("div",{className:"flex items-center gap-3",children:[m.jsx("img",{src:`/EmproChampions-2025/img/escudos/${l.logo2}`,className:"w-8 h-8 object-contain",alt:l.equipo2}),m.jsx("span",{children:l.equipo2})]})]}),m.jsxs("div",{className:"px-6 text-center",children:[m.jsxs("p",{className:"text-4xl font-extrabold",children:[l.goles1," - ",l.goles2]}),m.jsx("p",{className:"text-xs opacity-70",children:l.fecha})]}),m.jsxs("div",{className:"flex items-center gap-2 ml-auto",children:[t&&m.jsx("button",{onClick:()=>e(`/partido/editar/${l.id}`),className:"bg-blue-500 hover:bg-blue-400 text-white font-bold h-10 px-4 rounded-lg text-sm transition",children:"Editar"}),m.jsx("button",{onClick:()=>a(l.id),className:"bg-yellow-400 text-black font-bold h-10 px-4 rounded-lg text-sm transition hover:bg-yellow-300",children:"Detalles"})]})]})},l.id))})]}),o&&m.jsx(oU,{partidoId:o,onClose:()=>a(null)}),m.jsx(wr,{})]})}const lU=[{nombre:"Atrapados",escudo:"/EmproChampions-2025/img/escudos/atrapados.png"},{nombre:"Bosco",escudo:"/EmproChampions-2025/img/escudos/bosco.png"},{nombre:"Emprosaurios",escudo:"/EmproChampions-2025/img/escudos/emprosaurios.png"},{nombre:"Huellas",escudo:"/EmproChampions-2025/img/escudos/huellas.png"},{nombre:"Luz",escudo:"/EmproChampions-2025/img/escudos/luz.png"},{nombre:"Mensajeros",escudo:"/EmproChampions-2025/img/escudos/mensajeros.png"}],cU=[{nombre:"Atrapados",escudo:"/EmproChampions-2025/img/escudos/atrapados.png"},{nombre:"Bosco",escudo:"/EmproChampions-2025/img/escudos/bosco.png"},{nombre:"Huellas",escudo:"/EmproChampions-2025/img/escudos/huellas.png"},{nombre:"Luz",escudo:"/EmproChampions-2025/img/escudos/luz.png"},{nombre:"Mensajeros",escudo:"/EmproChampions-2025/img/escudos/mensajeros.png"}];function UE(){const[t,e]=T.useState("masculino"),n=Er(),r=t==="masculino"?lU:cU,[i,s]=T.useState(0),[o,a]=T.useState(1),[l,c]=T.useState(!0),[d,h]=T.useState(!0),f=(_,S)=>{const P=r.length;_==="local"?(c(!1),setTimeout(()=>{s(w=>(w+S+P)%P),c(!0)},150)):(h(!1),setTimeout(()=>{a(w=>(w+S+P)%P),h(!0)},150))},v=async()=>{const _=r[i],S=r[o];if(_.nombre===S.nombre){alert("El equipo local y visitante no pueden ser el mismo.");return}await jt(se(ne,"selecciones/equipoLocal"),_),await jt(se(ne,"selecciones/equipoVisita"),S),await jt(se(ne,"selecciones/generoPartido"),t),n("/partido/alineacion",{state:{equipoLocal:_,equipoVisita:S,genero:t,fecha:Date.now()}})};return m.jsxs("div",{className:"min-h-screen bg-cover bg-center font-qatar text-white flex flex-col",style:{backgroundImage:"url('/EmproChampions-2025/img/fondoempro-horizontal.png')"},children:[m.jsx(_r,{}),m.jsxs("div",{className:"flex justify-center gap-4 mt-6",children:[m.jsx("button",{onClick:()=>{e("masculino"),s(0),a(1)},className:`px-4 py-2 font-bold rounded-full border-2 ${t==="masculino"?"bg-[#FFD700] text-[#7a0026] border-yellow-400":"bg-transparent border-white text-white"} transition`,children:"Masculino"}),m.jsx("button",{onClick:()=>{e("femenino"),s(0),a(1)},className:`px-4 py-2 font-bold rounded-full border-2 ${t==="femenino"?"bg-[#FFD700] text-[#7a0026] border-yellow-400":"bg-transparent border-white text-white"} transition`,children:"Femenino"})]}),m.jsx("h1",{className:"text-3xl sm:text-4xl font-bold text-center mt-6 text-yellow-400 drop-shadow",children:"Selección de Equipos"}),m.jsx("div",{className:"flex flex-col items-center justify-center px-6",children:m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-10 mt-6 mx-auto px-4 max-w-6xl",children:[m.jsxs("div",{className:"flex flex-col bg-white/90 rounded-2xl p-8 w-full max-w-[460px] text-[#7a0026] shadow-xl transition-all duration-300 min-h-[460px] justify-center items-center",children:[m.jsx("h2",{className:"font-bold text-2xl mb-4",children:"Equipo Local"}),m.jsxs("div",{className:`flex flex-col items-center transition-opacity duration-300 ease-in-out ${l?"opacity-100":"opacity-0"}`,children:[m.jsx("img",{src:r[i].escudo,alt:r[i].nombre,className:"w-32 h-32 object-contain mb-4 drop-shadow-md"}),m.jsx("p",{className:"text-3xl font-black",children:r[i].nombre})]}),m.jsxs("div",{className:"flex gap-10 mt-6",children:[m.jsx("button",{onClick:()=>f("local",-1),className:"text-4xl text-[#FFD700] hover:scale-110 transition",children:"◀"}),m.jsx("button",{onClick:()=>f("local",1),className:"text-4xl text-[#FFD700] hover:scale-110 transition",children:"▶"})]})]}),m.jsxs("div",{className:"flex flex-col bg-white/90 rounded-2xl p-8 w-full max-w-[460px] text-[#7a0026] shadow-xl transition-all duration-300 min-h-[460px] justify-center items-center",children:[m.jsx("h2",{className:"font-bold text-2xl mb-4",children:"Equipo Visitante"}),m.jsxs("div",{className:`flex flex-col items-center transition-opacity duration-300 ease-in-out ${d?"opacity-100":"opacity-0"}`,children:[m.jsx("img",{src:r[o].escudo,alt:r[o].nombre,className:"w-32 h-32 object-contain mb-4 drop-shadow-md"}),m.jsx("p",{className:"text-3xl font-black",children:r[o].nombre})]}),m.jsxs("div",{className:"flex gap-10 mt-6",children:[m.jsx("button",{onClick:()=>f("visita",-1),className:"text-4xl text-[#FFD700] hover:scale-110 transition",children:"◀"}),m.jsx("button",{onClick:()=>f("visita",1),className:"text-4xl text-[#FFD700] hover:scale-110 transition",children:"▶"})]})]})]})}),m.jsx("div",{className:"flex justify-center mt-12 mb-20",children:m.jsx("button",{onClick:v,className:"bg-[#FFD700] text-[#7a0026] font-bold px-10 py-4 rounded-full hover:bg-yellow-300 transition text-xl shadow-lg",children:"Siguiente"})}),m.jsx(wr,{})]})}const uU=[{nombre:"Juan Pérez",dorsal:7,genero:"masculino"},{nombre:"Carlos Torres",dorsal:10,genero:"masculino"},{nombre:"Luis López",dorsal:5,genero:"masculino"},{nombre:"Mario Paz",dorsal:11,genero:"masculino"},{nombre:"Erick Rodríguez",dorsal:2,genero:"masculino"},{nombre:"Erick 2",dorsal:0,genero:"masculino"},{nombre:"Antonio Díaz",dorsal:4,genero:"masculino"},{nombre:"Sofia García",dorsal:1,genero:"femenino"},{nombre:"Valeria Castro",dorsal:9,genero:"femenino"}],dU=[{nombre:"Andrés Gutiérrez",dorsal:3,genero:"masculino"},{nombre:"David Martínez",dorsal:1,genero:"masculino"},{nombre:"Pedro Ramírez",dorsal:8,genero:"masculino"},{nombre:"Fernando Vargas",dorsal:9,genero:"masculino"},{nombre:"Raúl Cruz",dorsal:6,genero:"masculino"},{nombre:"Erick Rodríguez",dorsal:2,genero:"masculino"},{nombre:"Mauricio Salinas",dorsal:14,genero:"masculino"},{nombre:"Ana López",dorsal:2,genero:"femenino"},{nombre:"María Pérez",dorsal:10,genero:"femenino"}],hU=[{nombre:"Saurio Uno",dorsal:21,genero:"masculino"},{nombre:"Saurio Dos",dorsal:22,genero:"masculino"},{nombre:"Saurio Tres",dorsal:23,genero:"masculino"},{nombre:"Saurio Cuatro",dorsal:24,genero:"masculino"},{nombre:"Saurio Cinco",dorsal:25,genero:"masculino"},{nombre:"Saurio Seis",dorsal:26,genero:"masculino"}],fU=[{nombre:"Diego Muñoz",dorsal:2,genero:"masculino"},{nombre:"Bryan Mejía",dorsal:5,genero:"masculino"},{nombre:"Samuel Rivera",dorsal:8,genero:"masculino"},{nombre:"Kevin Palacios",dorsal:7,genero:"masculino"},{nombre:"José Martínez",dorsal:13,genero:"masculino"},{nombre:"Ricardo Castillo",dorsal:17,genero:"masculino"},{nombre:"Laura Ruiz",dorsal:3,genero:"femenino"},{nombre:"Andrea Soto",dorsal:6,genero:"femenino"}],pU=[{nombre:"Oscar Varela",dorsal:4,genero:"masculino"},{nombre:"David Salgado",dorsal:12,genero:"masculino"},{nombre:"Enrique Orellana",dorsal:9,genero:"masculino"},{nombre:"Manuel Molina",dorsal:3,genero:"masculino"},{nombre:"Javier Castro",dorsal:16,genero:"masculino"},{nombre:"Julio Soto",dorsal:18,genero:"masculino"},{nombre:"Daniela Paz",dorsal:4,genero:"femenino"},{nombre:"Camila Vargas",dorsal:11,genero:"femenino"}],mU=[{nombre:"Cristian Ayala",dorsal:19,genero:"masculino"},{nombre:"Luis Méndez",dorsal:6,genero:"masculino"},{nombre:"Álvaro Salinas",dorsal:11,genero:"masculino"},{nombre:"Sergio Paz",dorsal:8,genero:"masculino"},{nombre:"Oscar Aguilar",dorsal:20,genero:"masculino"},{nombre:"Juan Martínez",dorsal:15,genero:"masculino"},{nombre:"Natalia Díaz",dorsal:5,genero:"femenino"},{nombre:"Paula Mejía",dorsal:8,genero:"femenino"}],Zg={atrapados:uU,bosco:dU,emprosaurios:hU,huellas:fU,luz:pU,mensajeros:mU};function gU({tipo:t,index:e,jugador:n,onSave:r,onClose:i,camiseta:s,dorsalColor:o,jugadoresActuales:a,nombreEquipo:l}){const c=l==null?void 0:l.toLowerCase(),d=Zg[c]||[],h=a.filter((w,C)=>C!==e&&w.nombre).map(w=>w.nombre),f=d.filter(w=>!h.includes(w.nombre)),v=n&&n.nombre&&n.dorsal?`${n.nombre}|${n.dorsal}`:"",[_,S]=T.useState(v),P=()=>{if(!_)return;const[w,C]=_.split("|");r(e,t,{nombre:w,dorsal:C})};return m.jsx("div",{className:"fixed inset-0 flex items-center justify-center z-50 bg-black/50",children:m.jsxs("div",{className:"bg-white rounded-xl shadow-xl p-6 text-black relative w-80 md:w-96 mx-auto",children:[m.jsx("button",{onClick:i,className:"absolute top-3 right-3 text-[#7a0026] font-bold text-xl",title:"Cerrar",children:"×"}),m.jsx("div",{className:"flex flex-col items-center mb-4",children:m.jsx("img",{src:s,alt:"camiseta",className:"w-16 h-16 mb-2"})}),m.jsx("label",{className:"block font-bold mb-1 text-[#7a0026]",children:"Jugador"}),m.jsxs("select",{className:"w-full px-4 py-2 border rounded",value:_,onChange:w=>S(w.target.value),children:[m.jsx("option",{value:"",children:"Selecciona un jugador"}),f.map(w=>m.jsxs("option",{value:`${w.nombre}|${w.dorsal}`,children:[w.nombre," (#",w.dorsal,")"]},w.dorsal+w.nombre))]}),m.jsx("button",{disabled:!_,onClick:P,className:"w-full bg-[#FFD700] text-[#7a0026] font-bold py-2 rounded mt-4 hover:bg-yellow-400 transition disabled:bg-gray-400",children:"Guardar"}),m.jsx("button",{onClick:i,className:"w-full bg-gray-300 text-[#7a0026] font-bold py-2 rounded mt-2 hover:bg-gray-400 transition",children:"Cancelar"})]})})}const qv=T.createContext({});function Yv(t){const e=T.useRef(null);return e.current===null&&(e.current=t()),e.current}const Xv=typeof window<"u",uR=Xv?T.useLayoutEffect:T.useEffect,xf=T.createContext(null);function Qv(t,e){t.indexOf(e)===-1&&t.push(e)}function Jv(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const Jr=(t,e,n)=>n>e?e:n<t?t:n;let Zv=()=>{};const Zr={},dR=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t);function hR(t){return typeof t=="object"&&t!==null}const fR=t=>/^0[^.\s]+$/u.test(t);function e_(t){let e;return()=>(e===void 0&&(e=t()),e)}const kn=t=>t,yU=(t,e)=>n=>e(t(n)),Yc=(...t)=>t.reduce(yU),yc=(t,e,n)=>{const r=e-t;return r===0?1:(n-t)/r};class t_{constructor(){this.subscriptions=[]}add(e){return Qv(this.subscriptions,e),()=>Jv(this.subscriptions,e)}notify(e,n,r){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](e,n,r);else for(let s=0;s<i;s++){const o=this.subscriptions[s];o&&o(e,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const pr=t=>t*1e3,mr=t=>t/1e3;function pR(t,e){return e?t*(1e3/e):0}const mR=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,vU=1e-7,_U=12;function wU(t,e,n,r,i){let s,o,a=0;do o=e+(n-e)/2,s=mR(o,r,i)-t,s>0?n=o:e=o;while(Math.abs(s)>vU&&++a<_U);return o}function Xc(t,e,n,r){if(t===e&&n===r)return kn;const i=s=>wU(s,0,1,t,n);return s=>s===0||s===1?s:mR(i(s),e,r)}const gR=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,yR=t=>e=>1-t(1-e),vR=Xc(.33,1.53,.69,.99),n_=yR(vR),_R=gR(n_),wR=t=>(t*=2)<1?.5*n_(t):.5*(2-Math.pow(2,-10*(t-1))),r_=t=>1-Math.sin(Math.acos(t)),xR=yR(r_),ER=gR(r_),xU=Xc(.42,0,1,1),EU=Xc(0,0,.58,1),CR=Xc(.42,0,.58,1),CU=t=>Array.isArray(t)&&typeof t[0]!="number",SR=t=>Array.isArray(t)&&typeof t[0]=="number",SU={linear:kn,easeIn:xU,easeInOut:CR,easeOut:EU,circIn:r_,circInOut:ER,circOut:xR,backIn:n_,backInOut:_R,backOut:vR,anticipate:wR},bU=t=>typeof t=="string",BE=t=>{if(SR(t)){Zv(t.length===4);const[e,n,r,i]=t;return Xc(e,n,r,i)}else if(bU(t))return SU[t];return t},Uu=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"],zE={value:null,addProjectionMetrics:null};function TU(t,e){let n=new Set,r=new Set,i=!1,s=!1;const o=new WeakSet;let a={delta:0,timestamp:0,isProcessing:!1},l=0;function c(h){o.has(h)&&(d.schedule(h),t()),l++,h(a)}const d={schedule:(h,f=!1,v=!1)=>{const S=v&&i?n:r;return f&&o.add(h),S.has(h)||S.add(h),h},cancel:h=>{r.delete(h),o.delete(h)},process:h=>{if(a=h,i){s=!0;return}i=!0,[n,r]=[r,n],n.forEach(c),e&&zE.value&&zE.value.frameloop[e].push(l),l=0,n.clear(),i=!1,s&&(s=!1,d.process(h))}};return d}const kU=40;function bR(t,e){let n=!1,r=!0;const i={delta:0,timestamp:0,isProcessing:!1},s=()=>n=!0,o=Uu.reduce((E,R)=>(E[R]=TU(s,e?R:void 0),E),{}),{setup:a,read:l,resolveKeyframes:c,preUpdate:d,update:h,preRender:f,render:v,postRender:_}=o,S=()=>{const E=Zr.useManualTiming?i.timestamp:performance.now();n=!1,Zr.useManualTiming||(i.delta=r?1e3/60:Math.max(Math.min(E-i.timestamp,kU),1)),i.timestamp=E,i.isProcessing=!0,a.process(i),l.process(i),c.process(i),d.process(i),h.process(i),f.process(i),v.process(i),_.process(i),i.isProcessing=!1,n&&e&&(r=!1,t(S))},P=()=>{n=!0,r=!0,i.isProcessing||t(S)};return{schedule:Uu.reduce((E,R)=>{const D=o[R];return E[R]=(M,b=!1,x=!1)=>(n||P(),D.schedule(M,b,x)),E},{}),cancel:E=>{for(let R=0;R<Uu.length;R++)o[Uu[R]].cancel(E)},state:i,steps:o}}const{schedule:Fe,cancel:Vi,state:mt,steps:um}=bR(typeof requestAnimationFrame<"u"?requestAnimationFrame:kn,!0);let yd;function IU(){yd=void 0}const en={now:()=>(yd===void 0&&en.set(mt.isProcessing||Zr.useManualTiming?mt.timestamp:performance.now()),yd),set:t=>{yd=t,queueMicrotask(IU)}},TR=t=>e=>typeof e=="string"&&e.startsWith(t),i_=TR("--"),PU=TR("var(--"),s_=t=>PU(t)?RU.test(t.split("/*")[0].trim()):!1,RU=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,Ea={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},vc={...Ea,transform:t=>Jr(0,1,t)},Bu={...Ea,default:1},Al=t=>Math.round(t*1e5)/1e5,o_=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function AU(t){return t==null}const NU=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,a_=(t,e)=>n=>!!(typeof n=="string"&&NU.test(n)&&n.startsWith(t)||e&&!AU(n)&&Object.prototype.hasOwnProperty.call(n,e)),kR=(t,e,n)=>r=>{if(typeof r!="string")return r;const[i,s,o,a]=r.match(o_);return{[t]:parseFloat(i),[e]:parseFloat(s),[n]:parseFloat(o),alpha:a!==void 0?parseFloat(a):1}},DU=t=>Jr(0,255,t),dm={...Ea,transform:t=>Math.round(DU(t))},ys={test:a_("rgb","red"),parse:kR("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:r=1})=>"rgba("+dm.transform(t)+", "+dm.transform(e)+", "+dm.transform(n)+", "+Al(vc.transform(r))+")"};function OU(t){let e="",n="",r="",i="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),r=t.substring(5,7),i=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),r=t.substring(3,4),i=t.substring(4,5),e+=e,n+=n,r+=r,i+=i),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}}const ey={test:a_("#"),parse:OU,transform:ys.transform},Qc=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),di=Qc("deg"),gr=Qc("%"),Z=Qc("px"),MU=Qc("vh"),LU=Qc("vw"),WE=(()=>({...gr,parse:t=>gr.parse(t)/100,transform:t=>gr.transform(t*100)}))(),Co={test:a_("hsl","hue"),parse:kR("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:r=1})=>"hsla("+Math.round(t)+", "+gr.transform(Al(e))+", "+gr.transform(Al(n))+", "+Al(vc.transform(r))+")"},kt={test:t=>ys.test(t)||ey.test(t)||Co.test(t),parse:t=>ys.test(t)?ys.parse(t):Co.test(t)?Co.parse(t):ey.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?ys.transform(t):Co.transform(t)},jU=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function FU(t){var e,n;return isNaN(t)&&typeof t=="string"&&(((e=t.match(o_))==null?void 0:e.length)||0)+(((n=t.match(jU))==null?void 0:n.length)||0)>0}const IR="number",PR="color",$U="var",VU="var(",HE="${}",UU=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function _c(t){const e=t.toString(),n=[],r={color:[],number:[],var:[]},i=[];let s=0;const a=e.replace(UU,l=>(kt.test(l)?(r.color.push(s),i.push(PR),n.push(kt.parse(l))):l.startsWith(VU)?(r.var.push(s),i.push($U),n.push(l)):(r.number.push(s),i.push(IR),n.push(parseFloat(l))),++s,HE)).split(HE);return{values:n,split:a,indexes:r,types:i}}function RR(t){return _c(t).values}function AR(t){const{split:e,types:n}=_c(t),r=e.length;return i=>{let s="";for(let o=0;o<r;o++)if(s+=e[o],i[o]!==void 0){const a=n[o];a===IR?s+=Al(i[o]):a===PR?s+=kt.transform(i[o]):s+=i[o]}return s}}const BU=t=>typeof t=="number"?0:t;function zU(t){const e=RR(t);return AR(t)(e.map(BU))}const Ui={test:FU,parse:RR,createTransformer:AR,getAnimatableNone:zU};function hm(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function WU({hue:t,saturation:e,lightness:n,alpha:r}){t/=360,e/=100,n/=100;let i=0,s=0,o=0;if(!e)i=s=o=n;else{const a=n<.5?n*(1+e):n+e-n*e,l=2*n-a;i=hm(l,a,t+1/3),s=hm(l,a,t),o=hm(l,a,t-1/3)}return{red:Math.round(i*255),green:Math.round(s*255),blue:Math.round(o*255),alpha:r}}function Th(t,e){return n=>n>0?e:t}const Le=(t,e,n)=>t+(e-t)*n,fm=(t,e,n)=>{const r=t*t,i=n*(e*e-r)+r;return i<0?0:Math.sqrt(i)},HU=[ey,ys,Co],GU=t=>HU.find(e=>e.test(t));function GE(t){const e=GU(t);if(!e)return!1;let n=e.parse(t);return e===Co&&(n=WU(n)),n}const KE=(t,e)=>{const n=GE(t),r=GE(e);if(!n||!r)return Th(t,e);const i={...n};return s=>(i.red=fm(n.red,r.red,s),i.green=fm(n.green,r.green,s),i.blue=fm(n.blue,r.blue,s),i.alpha=Le(n.alpha,r.alpha,s),ys.transform(i))},ty=new Set(["none","hidden"]);function KU(t,e){return ty.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function qU(t,e){return n=>Le(t,e,n)}function l_(t){return typeof t=="number"?qU:typeof t=="string"?s_(t)?Th:kt.test(t)?KE:QU:Array.isArray(t)?NR:typeof t=="object"?kt.test(t)?KE:YU:Th}function NR(t,e){const n=[...t],r=n.length,i=t.map((s,o)=>l_(s)(s,e[o]));return s=>{for(let o=0;o<r;o++)n[o]=i[o](s);return n}}function YU(t,e){const n={...t,...e},r={};for(const i in n)t[i]!==void 0&&e[i]!==void 0&&(r[i]=l_(t[i])(t[i],e[i]));return i=>{for(const s in r)n[s]=r[s](i);return n}}function XU(t,e){const n=[],r={color:0,var:0,number:0};for(let i=0;i<e.values.length;i++){const s=e.types[i],o=t.indexes[s][r[s]],a=t.values[o]??0;n[i]=a,r[s]++}return n}const QU=(t,e)=>{const n=Ui.createTransformer(e),r=_c(t),i=_c(e);return r.indexes.var.length===i.indexes.var.length&&r.indexes.color.length===i.indexes.color.length&&r.indexes.number.length>=i.indexes.number.length?ty.has(t)&&!i.values.length||ty.has(e)&&!r.values.length?KU(t,e):Yc(NR(XU(r,i),i.values),n):Th(t,e)};function DR(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?Le(t,e,n):l_(t)(t,e)}const JU=t=>{const e=({timestamp:n})=>t(n);return{start:(n=!0)=>Fe.update(e,n),stop:()=>Vi(e),now:()=>mt.isProcessing?mt.timestamp:en.now()}},OR=(t,e,n=10)=>{let r="";const i=Math.max(Math.round(e/n),2);for(let s=0;s<i;s++)r+=t(s/(i-1))+", ";return`linear(${r.substring(0,r.length-2)})`},kh=2e4;function c_(t){let e=0;const n=50;let r=t.next(e);for(;!r.done&&e<kh;)e+=n,r=t.next(e);return e>=kh?1/0:e}function ZU(t,e=100,n){const r=n({...t,keyframes:[0,e]}),i=Math.min(c_(r),kh);return{type:"keyframes",ease:s=>r.next(i*s).value/e,duration:mr(i)}}const eB=5;function MR(t,e,n){const r=Math.max(e-eB,0);return pR(n-t(r),e-r)}const ze={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},pm=.001;function tB({duration:t=ze.duration,bounce:e=ze.bounce,velocity:n=ze.velocity,mass:r=ze.mass}){let i,s,o=1-e;o=Jr(ze.minDamping,ze.maxDamping,o),t=Jr(ze.minDuration,ze.maxDuration,mr(t)),o<1?(i=c=>{const d=c*o,h=d*t,f=d-n,v=ny(c,o),_=Math.exp(-h);return pm-f/v*_},s=c=>{const h=c*o*t,f=h*n+n,v=Math.pow(o,2)*Math.pow(c,2)*t,_=Math.exp(-h),S=ny(Math.pow(c,2),o);return(-i(c)+pm>0?-1:1)*((f-v)*_)/S}):(i=c=>{const d=Math.exp(-c*t),h=(c-n)*t+1;return-pm+d*h},s=c=>{const d=Math.exp(-c*t),h=(n-c)*(t*t);return d*h});const a=5/t,l=rB(i,s,a);if(t=pr(t),isNaN(l))return{stiffness:ze.stiffness,damping:ze.damping,duration:t};{const c=Math.pow(l,2)*r;return{stiffness:c,damping:o*2*Math.sqrt(r*c),duration:t}}}const nB=12;function rB(t,e,n){let r=n;for(let i=1;i<nB;i++)r=r-t(r)/e(r);return r}function ny(t,e){return t*Math.sqrt(1-e*e)}const iB=["duration","bounce"],sB=["stiffness","damping","mass"];function qE(t,e){return e.some(n=>t[n]!==void 0)}function oB(t){let e={velocity:ze.velocity,stiffness:ze.stiffness,damping:ze.damping,mass:ze.mass,isResolvedFromDuration:!1,...t};if(!qE(t,sB)&&qE(t,iB))if(t.visualDuration){const n=t.visualDuration,r=2*Math.PI/(n*1.2),i=r*r,s=2*Jr(.05,1,1-(t.bounce||0))*Math.sqrt(i);e={...e,mass:ze.mass,stiffness:i,damping:s}}else{const n=tB(t);e={...e,...n,mass:ze.mass},e.isResolvedFromDuration=!0}return e}function Ih(t=ze.visualDuration,e=ze.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:r,restDelta:i}=n;const s=n.keyframes[0],o=n.keyframes[n.keyframes.length-1],a={done:!1,value:s},{stiffness:l,damping:c,mass:d,duration:h,velocity:f,isResolvedFromDuration:v}=oB({...n,velocity:-mr(n.velocity||0)}),_=f||0,S=c/(2*Math.sqrt(l*d)),P=o-s,w=mr(Math.sqrt(l/d)),C=Math.abs(P)<5;r||(r=C?ze.restSpeed.granular:ze.restSpeed.default),i||(i=C?ze.restDelta.granular:ze.restDelta.default);let E;if(S<1){const D=ny(w,S);E=M=>{const b=Math.exp(-S*w*M);return o-b*((_+S*w*P)/D*Math.sin(D*M)+P*Math.cos(D*M))}}else if(S===1)E=D=>o-Math.exp(-w*D)*(P+(_+w*P)*D);else{const D=w*Math.sqrt(S*S-1);E=M=>{const b=Math.exp(-S*w*M),x=Math.min(D*M,300);return o-b*((_+S*w*P)*Math.sinh(x)+D*P*Math.cosh(x))/D}}const R={calculatedDuration:v&&h||null,next:D=>{const M=E(D);if(v)a.done=D>=h;else{let b=D===0?_:0;S<1&&(b=D===0?pr(_):MR(E,D,M));const x=Math.abs(b)<=r,I=Math.abs(o-M)<=i;a.done=x&&I}return a.value=a.done?o:M,a},toString:()=>{const D=Math.min(c_(R),kh),M=OR(b=>R.next(D*b).value,D,30);return D+"ms "+M},toTransition:()=>{}};return R}Ih.applyToOptions=t=>{const e=ZU(t,100,Ih);return t.ease=e.ease,t.duration=pr(e.duration),t.type="keyframes",t};function ry({keyframes:t,velocity:e=0,power:n=.8,timeConstant:r=325,bounceDamping:i=10,bounceStiffness:s=500,modifyTarget:o,min:a,max:l,restDelta:c=.5,restSpeed:d}){const h=t[0],f={done:!1,value:h},v=x=>a!==void 0&&x<a||l!==void 0&&x>l,_=x=>a===void 0?l:l===void 0||Math.abs(a-x)<Math.abs(l-x)?a:l;let S=n*e;const P=h+S,w=o===void 0?P:o(P);w!==P&&(S=w-h);const C=x=>-S*Math.exp(-x/r),E=x=>w+C(x),R=x=>{const I=C(x),g=E(x);f.done=Math.abs(I)<=c,f.value=f.done?w:g};let D,M;const b=x=>{v(f.value)&&(D=x,M=Ih({keyframes:[f.value,_(f.value)],velocity:MR(E,x,f.value),damping:i,stiffness:s,restDelta:c,restSpeed:d}))};return b(0),{calculatedDuration:null,next:x=>{let I=!1;return!M&&D===void 0&&(I=!0,R(x),b(x)),D!==void 0&&x>=D?M.next(x-D):(!I&&R(x),f)}}}function aB(t,e,n){const r=[],i=n||Zr.mix||DR,s=t.length-1;for(let o=0;o<s;o++){let a=i(t[o],t[o+1]);if(e){const l=Array.isArray(e)?e[o]||kn:e;a=Yc(l,a)}r.push(a)}return r}function lB(t,e,{clamp:n=!0,ease:r,mixer:i}={}){const s=t.length;if(Zv(s===e.length),s===1)return()=>e[0];if(s===2&&e[0]===e[1])return()=>e[1];const o=t[0]===t[1];t[0]>t[s-1]&&(t=[...t].reverse(),e=[...e].reverse());const a=aB(e,r,i),l=a.length,c=d=>{if(o&&d<t[0])return e[0];let h=0;if(l>1)for(;h<t.length-2&&!(d<t[h+1]);h++);const f=yc(t[h],t[h+1],d);return a[h](f)};return n?d=>c(Jr(t[0],t[s-1],d)):c}function cB(t,e){const n=t[t.length-1];for(let r=1;r<=e;r++){const i=yc(0,e,r);t.push(Le(n,1,i))}}function uB(t){const e=[0];return cB(e,t.length-1),e}function dB(t,e){return t.map(n=>n*e)}function hB(t,e){return t.map(()=>e||CR).splice(0,t.length-1)}function Nl({duration:t=300,keyframes:e,times:n,ease:r="easeInOut"}){const i=CU(r)?r.map(BE):BE(r),s={done:!1,value:e[0]},o=dB(n&&n.length===e.length?n:uB(e),t),a=lB(o,e,{ease:Array.isArray(i)?i:hB(e,i)});return{calculatedDuration:t,next:l=>(s.value=a(l),s.done=l>=t,s)}}const fB=t=>t!==null;function u_(t,{repeat:e,repeatType:n="loop"},r,i=1){const s=t.filter(fB),a=i<0||e&&n!=="loop"&&e%2===1?0:s.length-1;return!a||r===void 0?s[a]:r}const pB={decay:ry,inertia:ry,tween:Nl,keyframes:Nl,spring:Ih};function LR(t){typeof t.type=="string"&&(t.type=pB[t.type])}class d_{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,n){return this.finished.then(e,n)}}const mB=t=>t/100;class h_ extends d_{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=(n=!0)=>{var r,i;if(n){const{motionValue:s}=this.options;s&&s.updatedAt!==en.now()&&this.tick(en.now())}this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(i=(r=this.options).onStop)==null||i.call(r))},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;LR(e);const{type:n=Nl,repeat:r=0,repeatDelay:i=0,repeatType:s,velocity:o=0}=e;let{keyframes:a}=e;const l=n||Nl;l!==Nl&&typeof a[0]!="number"&&(this.mixKeyframes=Yc(mB,DR(a[0],a[1])),a=[0,100]);const c=l({...e,keyframes:a});s==="mirror"&&(this.mirroredGenerator=l({...e,keyframes:[...a].reverse(),velocity:-o})),c.calculatedDuration===null&&(c.calculatedDuration=c_(c));const{calculatedDuration:d}=c;this.calculatedDuration=d,this.resolvedDuration=d+i,this.totalDuration=this.resolvedDuration*(r+1)-i,this.generator=c}updateTime(e){const n=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(e,n=!1){const{generator:r,totalDuration:i,mixKeyframes:s,mirroredGenerator:o,resolvedDuration:a,calculatedDuration:l}=this;if(this.startTime===null)return r.next(0);const{delay:c=0,keyframes:d,repeat:h,repeatType:f,repeatDelay:v,type:_,onUpdate:S,finalKeyframe:P}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-i/this.speed,this.startTime)),n?this.currentTime=e:this.updateTime(e);const w=this.currentTime-c*(this.playbackSpeed>=0?1:-1),C=this.playbackSpeed>=0?w<0:w>i;this.currentTime=Math.max(w,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=i);let E=this.currentTime,R=r;if(h){const x=Math.min(this.currentTime,i)/a;let I=Math.floor(x),g=x%1;!g&&x>=1&&(g=1),g===1&&I--,I=Math.min(I,h+1),!!(I%2)&&(f==="reverse"?(g=1-g,v&&(g-=v/a)):f==="mirror"&&(R=o)),E=Jr(0,1,g)*a}const D=C?{done:!1,value:d[0]}:R.next(E);s&&(D.value=s(D.value));let{done:M}=D;!C&&l!==null&&(M=this.playbackSpeed>=0?this.currentTime>=i:this.currentTime<=0);const b=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&M);return b&&_!==ry&&(D.value=u_(d,this.options,P,this.speed)),S&&S(D.value),b&&this.finish(),D}then(e,n){return this.finished.then(e,n)}get duration(){return mr(this.calculatedDuration)}get time(){return mr(this.currentTime)}set time(e){var n;e=pr(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),(n=this.driver)==null||n.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(en.now());const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=mr(this.currentTime))}play(){var i,s;if(this.isStopped)return;const{driver:e=JU,startTime:n}=this.options;this.driver||(this.driver=e(o=>this.tick(o))),(s=(i=this.options).onPlay)==null||s.call(i);const r=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=r):this.holdTime!==null?this.startTime=r-this.holdTime:this.startTime||(this.startTime=n??r),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(en.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var e,n;this.notifyFinished(),this.teardown(),this.state="finished",(n=(e=this.options).onComplete)==null||n.call(e)}cancel(){var e,n;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(n=(e=this.options).onCancel)==null||n.call(e)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){var n;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(n=this.driver)==null||n.stop(),e.observe(this)}}function gB(t){for(let e=1;e<t.length;e++)t[e]??(t[e]=t[e-1])}const vs=t=>t*180/Math.PI,iy=t=>{const e=vs(Math.atan2(t[1],t[0]));return sy(e)},yB={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:iy,rotateZ:iy,skewX:t=>vs(Math.atan(t[1])),skewY:t=>vs(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},sy=t=>(t=t%360,t<0&&(t+=360),t),YE=iy,XE=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),QE=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),vB={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:XE,scaleY:QE,scale:t=>(XE(t)+QE(t))/2,rotateX:t=>sy(vs(Math.atan2(t[6],t[5]))),rotateY:t=>sy(vs(Math.atan2(-t[2],t[0]))),rotateZ:YE,rotate:YE,skewX:t=>vs(Math.atan(t[4])),skewY:t=>vs(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function oy(t){return t.includes("scale")?1:0}function ay(t,e){if(!t||t==="none")return oy(e);const n=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let r,i;if(n)r=vB,i=n;else{const a=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);r=yB,i=a}if(!i)return oy(e);const s=r[e],o=i[1].split(",").map(wB);return typeof s=="function"?s(o):o[s]}const _B=(t,e)=>{const{transform:n="none"}=getComputedStyle(t);return ay(n,e)};function wB(t){return parseFloat(t.trim())}const Ca=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Sa=(()=>new Set(Ca))(),JE=t=>t===Ea||t===Z,xB=new Set(["x","y","z"]),EB=Ca.filter(t=>!xB.has(t));function CB(t){const e=[];return EB.forEach(n=>{const r=t.getValue(n);r!==void 0&&(e.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),e}const Es={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:(t,{transform:e})=>ay(e,"x"),y:(t,{transform:e})=>ay(e,"y")};Es.translateX=Es.x;Es.translateY=Es.y;const Cs=new Set;let ly=!1,cy=!1,uy=!1;function jR(){if(cy){const t=Array.from(Cs).filter(r=>r.needsMeasurement),e=new Set(t.map(r=>r.element)),n=new Map;e.forEach(r=>{const i=CB(r);i.length&&(n.set(r,i),r.render())}),t.forEach(r=>r.measureInitialState()),e.forEach(r=>{r.render();const i=n.get(r);i&&i.forEach(([s,o])=>{var a;(a=r.getValue(s))==null||a.set(o)})}),t.forEach(r=>r.measureEndState()),t.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}cy=!1,ly=!1,Cs.forEach(t=>t.complete(uy)),Cs.clear()}function FR(){Cs.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(cy=!0)})}function SB(){uy=!0,FR(),jR(),uy=!1}class f_{constructor(e,n,r,i,s,o=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=r,this.motionValue=i,this.element=s,this.isAsync=o}scheduleResolve(){this.state="scheduled",this.isAsync?(Cs.add(this),ly||(ly=!0,Fe.read(FR),Fe.resolveKeyframes(jR))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:r,motionValue:i}=this;if(e[0]===null){const s=i==null?void 0:i.get(),o=e[e.length-1];if(s!==void 0)e[0]=s;else if(r&&n){const a=r.readValue(n,o);a!=null&&(e[0]=a)}e[0]===void 0&&(e[0]=o),i&&s===void 0&&i.set(e[0])}gB(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),Cs.delete(this)}cancel(){this.state==="scheduled"&&(Cs.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const bB=t=>t.startsWith("--");function TB(t,e,n){bB(e)?t.style.setProperty(e,n):t.style[e]=n}const kB=e_(()=>window.ScrollTimeline!==void 0),IB={};function PB(t,e){const n=e_(t);return()=>IB[e]??n()}const $R=PB(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),ul=([t,e,n,r])=>`cubic-bezier(${t}, ${e}, ${n}, ${r})`,ZE={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:ul([0,.65,.55,1]),circOut:ul([.55,0,1,.45]),backIn:ul([.31,.01,.66,-.59]),backOut:ul([.33,1.53,.69,.99])};function VR(t,e){if(t)return typeof t=="function"?$R()?OR(t,e):"ease-out":SR(t)?ul(t):Array.isArray(t)?t.map(n=>VR(n,e)||ZE.easeOut):ZE[t]}function RB(t,e,n,{delay:r=0,duration:i=300,repeat:s=0,repeatType:o="loop",ease:a="easeOut",times:l}={},c=void 0){const d={[e]:n};l&&(d.offset=l);const h=VR(a,i);Array.isArray(h)&&(d.easing=h);const f={delay:r,duration:i,easing:Array.isArray(h)?"linear":h,fill:"both",iterations:s+1,direction:o==="reverse"?"alternate":"normal"};return c&&(f.pseudoElement=c),t.animate(d,f)}function UR(t){return typeof t=="function"&&"applyToOptions"in t}function AB({type:t,...e}){return UR(t)&&$R()?t.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class NB extends d_{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,!e)return;const{element:n,name:r,keyframes:i,pseudoElement:s,allowFlatten:o=!1,finalKeyframe:a,onComplete:l}=e;this.isPseudoElement=!!s,this.allowFlatten=o,this.options=e,Zv(typeof e.type!="string");const c=AB(e);this.animation=RB(n,r,i,c,s),c.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!s){const d=u_(i,this.options,a,this.speed);this.updateMotionValue?this.updateMotionValue(d):TB(n,r,d),this.animation.cancel()}l==null||l(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var e,n;(n=(e=this.animation).finish)==null||n.call(e)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var e,n;this.isPseudoElement||(n=(e=this.animation).commitStyles)==null||n.call(e)}get duration(){var n,r;const e=((r=(n=this.animation.effect)==null?void 0:n.getComputedTiming)==null?void 0:r.call(n).duration)||0;return mr(Number(e))}get time(){return mr(Number(this.animation.currentTime)||0)}set time(e){this.finishedTime=null,this.animation.currentTime=pr(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(e){this.animation.startTime=e}attachTimeline({timeline:e,observe:n}){var r;return this.allowFlatten&&((r=this.animation.effect)==null||r.updateTiming({easing:"linear"})),this.animation.onfinish=null,e&&kB()?(this.animation.timeline=e,kn):n(this)}}const BR={anticipate:wR,backInOut:_R,circInOut:ER};function DB(t){return t in BR}function OB(t){typeof t.ease=="string"&&DB(t.ease)&&(t.ease=BR[t.ease])}const eC=10;class MB extends NB{constructor(e){OB(e),LR(e),super(e),e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:n,onUpdate:r,onComplete:i,element:s,...o}=this.options;if(!n)return;if(e!==void 0){n.set(e);return}const a=new h_({...o,autoplay:!1}),l=pr(this.finishedTime??this.time);n.setWithVelocity(a.sample(l-eC).value,a.sample(l).value,eC),a.stop()}}const tC=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(Ui.test(t)||t==="0")&&!t.startsWith("url("));function LB(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function jB(t,e,n,r){const i=t[0];if(i===null)return!1;if(e==="display"||e==="visibility")return!0;const s=t[t.length-1],o=tC(i,e),a=tC(s,e);return!o||!a?!1:LB(t)||(n==="spring"||UR(n))&&r}function p_(t){return hR(t)&&"offsetHeight"in t}const FB=new Set(["opacity","clipPath","filter","transform"]),$B=e_(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function VB(t){var c;const{motionValue:e,name:n,repeatDelay:r,repeatType:i,damping:s,type:o}=t;if(!p_((c=e==null?void 0:e.owner)==null?void 0:c.current))return!1;const{onUpdate:a,transformTemplate:l}=e.owner.getProps();return $B()&&n&&FB.has(n)&&(n!=="transform"||!l)&&!a&&!r&&i!=="mirror"&&s!==0&&o!=="inertia"}const UB=40;class BB extends d_{constructor({autoplay:e=!0,delay:n=0,type:r="keyframes",repeat:i=0,repeatDelay:s=0,repeatType:o="loop",keyframes:a,name:l,motionValue:c,element:d,...h}){var _;super(),this.stop=()=>{var S,P;this._animation&&(this._animation.stop(),(S=this.stopTimeline)==null||S.call(this)),(P=this.keyframeResolver)==null||P.cancel()},this.createdAt=en.now();const f={autoplay:e,delay:n,type:r,repeat:i,repeatDelay:s,repeatType:o,name:l,motionValue:c,element:d,...h},v=(d==null?void 0:d.KeyframeResolver)||f_;this.keyframeResolver=new v(a,(S,P,w)=>this.onKeyframesResolved(S,P,f,!w),l,c,d),(_=this.keyframeResolver)==null||_.scheduleResolve()}onKeyframesResolved(e,n,r,i){this.keyframeResolver=void 0;const{name:s,type:o,velocity:a,delay:l,isHandoff:c,onUpdate:d}=r;this.resolvedAt=en.now(),jB(e,s,o,a)||((Zr.instantAnimations||!l)&&(d==null||d(u_(e,r,n))),e[0]=e[e.length-1],r.duration=0,r.repeat=0);const f={startTime:i?this.resolvedAt?this.resolvedAt-this.createdAt>UB?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...r,keyframes:e},v=!c&&VB(f)?new MB({...f,element:f.motionValue.owner.current}):new h_(f);v.finished.then(()=>this.notifyFinished()).catch(kn),this.pendingTimeline&&(this.stopTimeline=v.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=v}get finished(){return this._animation?this.animation.finished:this._finished}then(e,n){return this.finished.finally(e).then(()=>{})}get animation(){var e;return this._animation||((e=this.keyframeResolver)==null||e.resume(),SB()),this._animation}get duration(){return this.animation.duration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var e;this._animation&&this.animation.cancel(),(e=this.keyframeResolver)==null||e.cancel()}}const zB=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function WB(t){const e=zB.exec(t);if(!e)return[,];const[,n,r,i]=e;return[`--${n??r}`,i]}function zR(t,e,n=1){const[r,i]=WB(t);if(!r)return;const s=window.getComputedStyle(e).getPropertyValue(r);if(s){const o=s.trim();return dR(o)?parseFloat(o):o}return s_(i)?zR(i,e,n+1):i}function m_(t,e){return(t==null?void 0:t[e])??(t==null?void 0:t.default)??t}const WR=new Set(["width","height","top","left","right","bottom",...Ca]),HB={test:t=>t==="auto",parse:t=>t},HR=t=>e=>e.test(t),GR=[Ea,Z,gr,di,LU,MU,HB],nC=t=>GR.find(HR(t));function GB(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||fR(t):!0}const KB=new Set(["brightness","contrast","saturate","opacity"]);function qB(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[r]=n.match(o_)||[];if(!r)return t;const i=n.replace(r,"");let s=KB.has(e)?1:0;return r!==n&&(s*=100),e+"("+s+i+")"}const YB=/\b([a-z-]*)\(.*?\)/gu,dy={...Ui,getAnimatableNone:t=>{const e=t.match(YB);return e?e.map(qB).join(" "):t}},rC={...Ea,transform:Math.round},XB={rotate:di,rotateX:di,rotateY:di,rotateZ:di,scale:Bu,scaleX:Bu,scaleY:Bu,scaleZ:Bu,skew:di,skewX:di,skewY:di,distance:Z,translateX:Z,translateY:Z,translateZ:Z,x:Z,y:Z,z:Z,perspective:Z,transformPerspective:Z,opacity:vc,originX:WE,originY:WE,originZ:Z},g_={borderWidth:Z,borderTopWidth:Z,borderRightWidth:Z,borderBottomWidth:Z,borderLeftWidth:Z,borderRadius:Z,radius:Z,borderTopLeftRadius:Z,borderTopRightRadius:Z,borderBottomRightRadius:Z,borderBottomLeftRadius:Z,width:Z,maxWidth:Z,height:Z,maxHeight:Z,top:Z,right:Z,bottom:Z,left:Z,padding:Z,paddingTop:Z,paddingRight:Z,paddingBottom:Z,paddingLeft:Z,margin:Z,marginTop:Z,marginRight:Z,marginBottom:Z,marginLeft:Z,backgroundPositionX:Z,backgroundPositionY:Z,...XB,zIndex:rC,fillOpacity:vc,strokeOpacity:vc,numOctaves:rC},QB={...g_,color:kt,backgroundColor:kt,outlineColor:kt,fill:kt,stroke:kt,borderColor:kt,borderTopColor:kt,borderRightColor:kt,borderBottomColor:kt,borderLeftColor:kt,filter:dy,WebkitFilter:dy},KR=t=>QB[t];function qR(t,e){let n=KR(t);return n!==dy&&(n=Ui),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const JB=new Set(["auto","none","0"]);function ZB(t,e,n){let r=0,i;for(;r<t.length&&!i;){const s=t[r];typeof s=="string"&&!JB.has(s)&&_c(s).values.length&&(i=t[r]),r++}if(i&&n)for(const s of e)t[s]=qR(n,i)}class e8 extends f_{constructor(e,n,r,i,s){super(e,n,r,i,s,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let l=0;l<e.length;l++){let c=e[l];if(typeof c=="string"&&(c=c.trim(),s_(c))){const d=zR(c,n.current);d!==void 0&&(e[l]=d),l===e.length-1&&(this.finalKeyframe=c)}}if(this.resolveNoneKeyframes(),!WR.has(r)||e.length!==2)return;const[i,s]=e,o=nC(i),a=nC(s);if(o!==a)if(JE(o)&&JE(a))for(let l=0;l<e.length;l++){const c=e[l];typeof c=="string"&&(e[l]=parseFloat(c))}else Es[r]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,r=[];for(let i=0;i<e.length;i++)(e[i]===null||GB(e[i]))&&r.push(i);r.length&&ZB(e,r,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:r}=this;if(!e||!e.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Es[r](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const i=n[n.length-1];i!==void 0&&e.getValue(r,i).jump(i,!1)}measureEndState(){var a;const{element:e,name:n,unresolvedKeyframes:r}=this;if(!e||!e.current)return;const i=e.getValue(n);i&&i.jump(this.measuredOrigin,!1);const s=r.length-1,o=r[s];r[s]=Es[n](e.measureViewportBox(),window.getComputedStyle(e.current)),o!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=o),(a=this.removedTransforms)!=null&&a.length&&this.removedTransforms.forEach(([l,c])=>{e.getValue(l).set(c)}),this.resolveNoneKeyframes()}}function t8(t,e,n){if(t instanceof EventTarget)return[t];if(typeof t=="string"){let r=document;e&&(r=e.current);const i=(n==null?void 0:n[t])??r.querySelectorAll(t);return i?Array.from(i):[]}return Array.from(t)}const iC=30,n8=t=>!isNaN(parseFloat(t));class r8{constructor(e,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=(r,i=!0)=>{var o,a;const s=en.now();if(this.updatedAt!==s&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&((o=this.events.change)==null||o.notify(this.current),this.dependents))for(const l of this.dependents)l.dirty();i&&((a=this.events.renderRequest)==null||a.notify(this.current))},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=en.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=n8(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new t_);const r=this.events[e].add(n);return e==="change"?()=>{r(),Fe.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e,n=!0){!n||!this.passiveEffect?this.updateAndNotify(e,n):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-r}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var e;(e=this.events.change)==null||e.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=en.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>iC)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,iC);return pR(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var e,n;(e=this.dependents)==null||e.clear(),(n=this.events.destroy)==null||n.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function ia(t,e){return new r8(t,e)}const YR=(t,e)=>e&&typeof t=="number"?e.transform(t):t,{schedule:y_,cancel:rY}=bR(queueMicrotask,!1),Fn={x:!1,y:!1};function XR(){return Fn.x||Fn.y}function i8(t){return t==="x"||t==="y"?Fn[t]?null:(Fn[t]=!0,()=>{Fn[t]=!1}):Fn.x||Fn.y?null:(Fn.x=Fn.y=!0,()=>{Fn.x=Fn.y=!1})}function QR(t,e){const n=t8(t),r=new AbortController,i={passive:!0,...e,signal:r.signal};return[n,i,()=>r.abort()]}function sC(t){return!(t.pointerType==="touch"||XR())}function s8(t,e,n={}){const[r,i,s]=QR(t,n),o=a=>{if(!sC(a))return;const{target:l}=a,c=e(l,a);if(typeof c!="function"||!l)return;const d=h=>{sC(h)&&(c(h),l.removeEventListener("pointerleave",d))};l.addEventListener("pointerleave",d,i)};return r.forEach(a=>{a.addEventListener("pointerenter",o,i)}),s}const JR=(t,e)=>e?t===e?!0:JR(t,e.parentElement):!1,v_=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,o8=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function a8(t){return o8.has(t.tagName)||t.tabIndex!==-1}const vd=new WeakSet;function oC(t){return e=>{e.key==="Enter"&&t(e)}}function mm(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const l8=(t,e)=>{const n=t.currentTarget;if(!n)return;const r=oC(()=>{if(vd.has(n))return;mm(n,"down");const i=oC(()=>{mm(n,"up")}),s=()=>mm(n,"cancel");n.addEventListener("keyup",i,e),n.addEventListener("blur",s,e)});n.addEventListener("keydown",r,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),e)};function aC(t){return v_(t)&&!XR()}function c8(t,e,n={}){const[r,i,s]=QR(t,n),o=a=>{const l=a.currentTarget;if(!aC(a))return;vd.add(l);const c=e(l,a),d=(v,_)=>{window.removeEventListener("pointerup",h),window.removeEventListener("pointercancel",f),vd.has(l)&&vd.delete(l),aC(v)&&typeof c=="function"&&c(v,{success:_})},h=v=>{d(v,l===window||l===document||n.useGlobalTarget||JR(l,v.target))},f=v=>{d(v,!1)};window.addEventListener("pointerup",h,i),window.addEventListener("pointercancel",f,i)};return r.forEach(a=>{(n.useGlobalTarget?window:a).addEventListener("pointerdown",o,i),p_(a)&&(a.addEventListener("focus",c=>l8(c,i)),!a8(a)&&!a.hasAttribute("tabindex")&&(a.tabIndex=0))}),s}function ZR(t){return hR(t)&&"ownerSVGElement"in t}function u8(t){return ZR(t)&&t.tagName==="svg"}const Pt=t=>!!(t&&t.getVelocity),d8=[...GR,kt,Ui],h8=t=>d8.find(HR(t)),__=T.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});class f8 extends T.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const r=n.offsetParent,i=p_(r)&&r.offsetWidth||0,s=this.props.sizeRef.current;s.height=n.offsetHeight||0,s.width=n.offsetWidth||0,s.top=n.offsetTop,s.left=n.offsetLeft,s.right=i-s.width-s.left}return null}componentDidUpdate(){}render(){return this.props.children}}function p8({children:t,isPresent:e,anchorX:n}){const r=T.useId(),i=T.useRef(null),s=T.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:o}=T.useContext(__);return T.useInsertionEffect(()=>{const{width:a,height:l,top:c,left:d,right:h}=s.current;if(e||!i.current||!a||!l)return;const f=n==="left"?`left: ${d}`:`right: ${h}`;i.current.dataset.motionPopId=r;const v=document.createElement("style");return o&&(v.nonce=o),document.head.appendChild(v),v.sheet&&v.sheet.insertRule(`
          [data-motion-pop-id="${r}"] {
            position: absolute !important;
            width: ${a}px !important;
            height: ${l}px !important;
            ${f}px !important;
            top: ${c}px !important;
          }
        `),()=>{document.head.contains(v)&&document.head.removeChild(v)}},[e]),m.jsx(f8,{isPresent:e,childRef:i,sizeRef:s,children:T.cloneElement(t,{ref:i})})}const m8=({children:t,initial:e,isPresent:n,onExitComplete:r,custom:i,presenceAffectsLayout:s,mode:o,anchorX:a})=>{const l=Yv(g8),c=T.useId();let d=!0,h=T.useMemo(()=>(d=!1,{id:c,initial:e,isPresent:n,custom:i,onExitComplete:f=>{l.set(f,!0);for(const v of l.values())if(!v)return;r&&r()},register:f=>(l.set(f,!1),()=>l.delete(f))}),[n,l,r]);return s&&d&&(h={...h}),T.useMemo(()=>{l.forEach((f,v)=>l.set(v,!1))},[n]),T.useEffect(()=>{!n&&!l.size&&r&&r()},[n]),o==="popLayout"&&(t=m.jsx(p8,{isPresent:n,anchorX:a,children:t})),m.jsx(xf.Provider,{value:h,children:t})};function g8(){return new Map}function eA(t=!0){const e=T.useContext(xf);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:r,register:i}=e,s=T.useId();T.useEffect(()=>{if(t)return i(s)},[t]);const o=T.useCallback(()=>t&&r&&r(s),[s,r,t]);return!n&&r?[!1,o]:[!0]}const zu=t=>t.key||"";function lC(t){const e=[];return T.Children.forEach(t,n=>{T.isValidElement(n)&&e.push(n)}),e}const y8=({children:t,custom:e,initial:n=!0,onExitComplete:r,presenceAffectsLayout:i=!0,mode:s="sync",propagate:o=!1,anchorX:a="left"})=>{const[l,c]=eA(o),d=T.useMemo(()=>lC(t),[t]),h=o&&!l?[]:d.map(zu),f=T.useRef(!0),v=T.useRef(d),_=Yv(()=>new Map),[S,P]=T.useState(d),[w,C]=T.useState(d);uR(()=>{f.current=!1,v.current=d;for(let D=0;D<w.length;D++){const M=zu(w[D]);h.includes(M)?_.delete(M):_.get(M)!==!0&&_.set(M,!1)}},[w,h.length,h.join("-")]);const E=[];if(d!==S){let D=[...d];for(let M=0;M<w.length;M++){const b=w[M],x=zu(b);h.includes(x)||(D.splice(M,0,b),E.push(b))}return s==="wait"&&E.length&&(D=E),C(lC(D)),P(d),null}const{forceRender:R}=T.useContext(qv);return m.jsx(m.Fragment,{children:w.map(D=>{const M=zu(D),b=o&&!l?!1:d===w||h.includes(M),x=()=>{if(_.has(M))_.set(M,!0);else return;let I=!0;_.forEach(g=>{g||(I=!1)}),I&&(R==null||R(),C(v.current),o&&(c==null||c()),r&&r())};return m.jsx(m8,{isPresent:b,initial:!f.current||n?void 0:!1,custom:e,presenceAffectsLayout:i,mode:s,onExitComplete:b?void 0:x,anchorX:a,children:D},M)})})},tA=T.createContext({strict:!1}),cC={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},sa={};for(const t in cC)sa[t]={isEnabled:e=>cC[t].some(n=>!!e[n])};function v8(t){for(const e in t)sa[e]={...sa[e],...t[e]}}const _8=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Ph(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||_8.has(t)}let nA=t=>!Ph(t);function w8(t){t&&(nA=e=>e.startsWith("on")?!Ph(e):t(e))}try{w8(require("@emotion/is-prop-valid").default)}catch{}function x8(t,e,n){const r={};for(const i in t)i==="values"&&typeof t.values=="object"||(nA(i)||n===!0&&Ph(i)||!e&&!Ph(i)||t.draggable&&i.startsWith("onDrag"))&&(r[i]=t[i]);return r}function E8(t){if(typeof Proxy>"u")return t;const e=new Map,n=(...r)=>t(...r);return new Proxy(n,{get:(r,i)=>i==="create"?t:(e.has(i)||e.set(i,t(i)),e.get(i))})}const Ef=T.createContext({});function Cf(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function wc(t){return typeof t=="string"||Array.isArray(t)}const w_=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],x_=["initial",...w_];function Sf(t){return Cf(t.animate)||x_.some(e=>wc(t[e]))}function rA(t){return!!(Sf(t)||t.variants)}function C8(t,e){if(Sf(t)){const{initial:n,animate:r}=t;return{initial:n===!1||wc(n)?n:void 0,animate:wc(r)?r:void 0}}return t.inherit!==!1?e:{}}function S8(t){const{initial:e,animate:n}=C8(t,T.useContext(Ef));return T.useMemo(()=>({initial:e,animate:n}),[uC(e),uC(n)])}function uC(t){return Array.isArray(t)?t.join(" "):t}const b8=Symbol.for("motionComponentSymbol");function So(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function T8(t,e,n){return T.useCallback(r=>{r&&t.onMount&&t.onMount(r),e&&(r?e.mount(r):e.unmount()),n&&(typeof n=="function"?n(r):So(n)&&(n.current=r))},[e])}const E_=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),k8="framerAppearId",iA="data-"+E_(k8),sA=T.createContext({});function I8(t,e,n,r,i){var S,P;const{visualElement:s}=T.useContext(Ef),o=T.useContext(tA),a=T.useContext(xf),l=T.useContext(__).reducedMotion,c=T.useRef(null);r=r||o.renderer,!c.current&&r&&(c.current=r(t,{visualState:e,parent:s,props:n,presenceContext:a,blockInitialAnimation:a?a.initial===!1:!1,reducedMotionConfig:l}));const d=c.current,h=T.useContext(sA);d&&!d.projection&&i&&(d.type==="html"||d.type==="svg")&&P8(c.current,n,i,h);const f=T.useRef(!1);T.useInsertionEffect(()=>{d&&f.current&&d.update(n,a)});const v=n[iA],_=T.useRef(!!v&&!((S=window.MotionHandoffIsComplete)!=null&&S.call(window,v))&&((P=window.MotionHasOptimisedAnimation)==null?void 0:P.call(window,v)));return uR(()=>{d&&(f.current=!0,window.MotionIsMounted=!0,d.updateFeatures(),y_.render(d.render),_.current&&d.animationState&&d.animationState.animateChanges())}),T.useEffect(()=>{d&&(!_.current&&d.animationState&&d.animationState.animateChanges(),_.current&&(queueMicrotask(()=>{var w;(w=window.MotionHandoffMarkAsComplete)==null||w.call(window,v)}),_.current=!1))}),d}function P8(t,e,n,r){const{layoutId:i,layout:s,drag:o,dragConstraints:a,layoutScroll:l,layoutRoot:c,layoutCrossfade:d}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:oA(t.parent)),t.projection.setOptions({layoutId:i,layout:s,alwaysMeasureLayout:!!o||a&&So(a),visualElement:t,animationType:typeof s=="string"?s:"both",initialPromotionConfig:r,crossfade:d,layoutScroll:l,layoutRoot:c})}function oA(t){if(t)return t.options.allowProjection!==!1?t.projection:oA(t.parent)}function R8({preloadedFeatures:t,createVisualElement:e,useRender:n,useVisualState:r,Component:i}){t&&v8(t);function s(a,l){let c;const d={...T.useContext(__),...a,layoutId:A8(a)},{isStatic:h}=d,f=S8(a),v=r(a,h);if(!h&&Xv){N8();const _=D8(d);c=_.MeasureLayout,f.visualElement=I8(i,v,d,e,_.ProjectionNode)}return m.jsxs(Ef.Provider,{value:f,children:[c&&f.visualElement?m.jsx(c,{visualElement:f.visualElement,...d}):null,n(i,a,T8(v,f.visualElement,l),v,h,f.visualElement)]})}s.displayName=`motion.${typeof i=="string"?i:`create(${i.displayName??i.name??""})`}`;const o=T.forwardRef(s);return o[b8]=i,o}function A8({layoutId:t}){const e=T.useContext(qv).id;return e&&t!==void 0?e+"-"+t:t}function N8(t,e){T.useContext(tA).strict}function D8(t){const{drag:e,layout:n}=sa;if(!e&&!n)return{};const r={...e,...n};return{MeasureLayout:e!=null&&e.isEnabled(t)||n!=null&&n.isEnabled(t)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}const xc={};function O8(t){for(const e in t)xc[e]=t[e],i_(e)&&(xc[e].isCSSVariable=!0)}function aA(t,{layout:e,layoutId:n}){return Sa.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!xc[t]||t==="opacity")}const M8={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},L8=Ca.length;function j8(t,e,n){let r="",i=!0;for(let s=0;s<L8;s++){const o=Ca[s],a=t[o];if(a===void 0)continue;let l=!0;if(typeof a=="number"?l=a===(o.startsWith("scale")?1:0):l=parseFloat(a)===0,!l||n){const c=YR(a,g_[o]);if(!l){i=!1;const d=M8[o]||o;r+=`${d}(${c}) `}n&&(e[o]=c)}}return r=r.trim(),n?r=n(e,i?"":r):i&&(r="none"),r}function C_(t,e,n){const{style:r,vars:i,transformOrigin:s}=t;let o=!1,a=!1;for(const l in e){const c=e[l];if(Sa.has(l)){o=!0;continue}else if(i_(l)){i[l]=c;continue}else{const d=YR(c,g_[l]);l.startsWith("origin")?(a=!0,s[l]=d):r[l]=d}}if(e.transform||(o||n?r.transform=j8(e,t.transform,n):r.transform&&(r.transform="none")),a){const{originX:l="50%",originY:c="50%",originZ:d=0}=s;r.transformOrigin=`${l} ${c} ${d}`}}const S_=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function lA(t,e,n){for(const r in e)!Pt(e[r])&&!aA(r,n)&&(t[r]=e[r])}function F8({transformTemplate:t},e){return T.useMemo(()=>{const n=S_();return C_(n,e,t),Object.assign({},n.vars,n.style)},[e])}function $8(t,e){const n=t.style||{},r={};return lA(r,n,t),Object.assign(r,F8(t,e)),r}function V8(t,e){const n={},r=$8(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=r,n}const U8={offset:"stroke-dashoffset",array:"stroke-dasharray"},B8={offset:"strokeDashoffset",array:"strokeDasharray"};function z8(t,e,n=1,r=0,i=!0){t.pathLength=1;const s=i?U8:B8;t[s.offset]=Z.transform(-r);const o=Z.transform(e),a=Z.transform(n);t[s.array]=`${o} ${a}`}function cA(t,{attrX:e,attrY:n,attrScale:r,pathLength:i,pathSpacing:s=1,pathOffset:o=0,...a},l,c,d){if(C_(t,a,c),l){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:h,style:f}=t;h.transform&&(f.transform=h.transform,delete h.transform),(f.transform||h.transformOrigin)&&(f.transformOrigin=h.transformOrigin??"50% 50%",delete h.transformOrigin),f.transform&&(f.transformBox=(d==null?void 0:d.transformBox)??"fill-box",delete h.transformBox),e!==void 0&&(h.x=e),n!==void 0&&(h.y=n),r!==void 0&&(h.scale=r),i!==void 0&&z8(h,i,s,o,!1)}const uA=()=>({...S_(),attrs:{}}),dA=t=>typeof t=="string"&&t.toLowerCase()==="svg";function W8(t,e,n,r){const i=T.useMemo(()=>{const s=uA();return cA(s,e,dA(r),t.transformTemplate,t.style),{...s.attrs,style:{...s.style}}},[e]);if(t.style){const s={};lA(s,t.style,t),i.style={...s,...i.style}}return i}const H8=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function b_(t){return typeof t!="string"||t.includes("-")?!1:!!(H8.indexOf(t)>-1||/[A-Z]/u.test(t))}function G8(t=!1){return(n,r,i,{latestValues:s},o)=>{const l=(b_(n)?W8:V8)(r,s,o,n),c=x8(r,typeof n=="string",t),d=n!==T.Fragment?{...c,...l,ref:i}:{},{children:h}=r,f=T.useMemo(()=>Pt(h)?h.get():h,[h]);return T.createElement(n,{...d,children:f})}}function dC(t){const e=[{},{}];return t==null||t.values.forEach((n,r)=>{e[0][r]=n.get(),e[1][r]=n.getVelocity()}),e}function T_(t,e,n,r){if(typeof e=="function"){const[i,s]=dC(r);e=e(n!==void 0?n:t.custom,i,s)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[i,s]=dC(r);e=e(n!==void 0?n:t.custom,i,s)}return e}function _d(t){return Pt(t)?t.get():t}function K8({scrapeMotionValuesFromProps:t,createRenderState:e},n,r,i){return{latestValues:q8(n,r,i,t),renderState:e()}}const hA=t=>(e,n)=>{const r=T.useContext(Ef),i=T.useContext(xf),s=()=>K8(t,e,r,i);return n?s():Yv(s)};function q8(t,e,n,r){const i={},s=r(t,{});for(const f in s)i[f]=_d(s[f]);let{initial:o,animate:a}=t;const l=Sf(t),c=rA(t);e&&c&&!l&&t.inherit!==!1&&(o===void 0&&(o=e.initial),a===void 0&&(a=e.animate));let d=n?n.initial===!1:!1;d=d||o===!1;const h=d?a:o;if(h&&typeof h!="boolean"&&!Cf(h)){const f=Array.isArray(h)?h:[h];for(let v=0;v<f.length;v++){const _=T_(t,f[v]);if(_){const{transitionEnd:S,transition:P,...w}=_;for(const C in w){let E=w[C];if(Array.isArray(E)){const R=d?E.length-1:0;E=E[R]}E!==null&&(i[C]=E)}for(const C in S)i[C]=S[C]}}}return i}function k_(t,e,n){var s;const{style:r}=t,i={};for(const o in r)(Pt(r[o])||e.style&&Pt(e.style[o])||aA(o,t)||((s=n==null?void 0:n.getValue(o))==null?void 0:s.liveStyle)!==void 0)&&(i[o]=r[o]);return i}const Y8={useVisualState:hA({scrapeMotionValuesFromProps:k_,createRenderState:S_})};function fA(t,e,n){const r=k_(t,e,n);for(const i in t)if(Pt(t[i])||Pt(e[i])){const s=Ca.indexOf(i)!==-1?"attr"+i.charAt(0).toUpperCase()+i.substring(1):i;r[s]=t[i]}return r}const X8={useVisualState:hA({scrapeMotionValuesFromProps:fA,createRenderState:uA})};function Q8(t,e){return function(r,{forwardMotionProps:i}={forwardMotionProps:!1}){const o={...b_(r)?X8:Y8,preloadedFeatures:t,useRender:G8(i),createVisualElement:e,Component:r};return R8(o)}}function Ec(t,e,n){const r=t.getProps();return T_(r,e,n!==void 0?n:r.custom,t)}const hy=t=>Array.isArray(t);function J8(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,ia(n))}function Z8(t){return hy(t)?t[t.length-1]||0:t}function e7(t,e){const n=Ec(t,e);let{transitionEnd:r={},transition:i={},...s}=n||{};s={...s,...r};for(const o in s){const a=Z8(s[o]);J8(t,o,a)}}function t7(t){return!!(Pt(t)&&t.add)}function fy(t,e){const n=t.getValue("willChange");if(t7(n))return n.add(e);if(!n&&Zr.WillChange){const r=new Zr.WillChange("auto");t.addValue("willChange",r),r.add(e)}}function pA(t){return t.props[iA]}const n7=t=>t!==null;function r7(t,{repeat:e,repeatType:n="loop"},r){const i=t.filter(n7),s=e&&n!=="loop"&&e%2===1?0:i.length-1;return!s||r===void 0?i[s]:r}const i7={type:"spring",stiffness:500,damping:25,restSpeed:10},s7=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),o7={type:"keyframes",duration:.8},a7={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},l7=(t,{keyframes:e})=>e.length>2?o7:Sa.has(t)?t.startsWith("scale")?s7(e[1]):i7:a7;function c7({when:t,delay:e,delayChildren:n,staggerChildren:r,staggerDirection:i,repeat:s,repeatType:o,repeatDelay:a,from:l,elapsed:c,...d}){return!!Object.keys(d).length}const I_=(t,e,n,r={},i,s)=>o=>{const a=m_(r,t)||{},l=a.delay||r.delay||0;let{elapsed:c=0}=r;c=c-pr(l);const d={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...a,delay:-c,onUpdate:f=>{e.set(f),a.onUpdate&&a.onUpdate(f)},onComplete:()=>{o(),a.onComplete&&a.onComplete()},name:t,motionValue:e,element:s?void 0:i};c7(a)||Object.assign(d,l7(t,d)),d.duration&&(d.duration=pr(d.duration)),d.repeatDelay&&(d.repeatDelay=pr(d.repeatDelay)),d.from!==void 0&&(d.keyframes[0]=d.from);let h=!1;if((d.type===!1||d.duration===0&&!d.repeatDelay)&&(d.duration=0,d.delay===0&&(h=!0)),(Zr.instantAnimations||Zr.skipAnimations)&&(h=!0,d.duration=0,d.delay=0),d.allowFlatten=!a.type&&!a.ease,h&&!s&&e.get()!==void 0){const f=r7(d.keyframes,a);if(f!==void 0){Fe.update(()=>{d.onUpdate(f),d.onComplete()});return}}return a.isSync?new h_(d):new BB(d)};function u7({protectedKeys:t,needsAnimating:e},n){const r=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,r}function mA(t,e,{delay:n=0,transitionOverride:r,type:i}={}){let{transition:s=t.getDefaultTransition(),transitionEnd:o,...a}=e;r&&(s=r);const l=[],c=i&&t.animationState&&t.animationState.getState()[i];for(const d in a){const h=t.getValue(d,t.latestValues[d]??null),f=a[d];if(f===void 0||c&&u7(c,d))continue;const v={delay:n,...m_(s||{},d)},_=h.get();if(_!==void 0&&!h.isAnimating&&!Array.isArray(f)&&f===_&&!v.velocity)continue;let S=!1;if(window.MotionHandoffAnimation){const w=pA(t);if(w){const C=window.MotionHandoffAnimation(w,d,Fe);C!==null&&(v.startTime=C,S=!0)}}fy(t,d),h.start(I_(d,h,f,t.shouldReduceMotion&&WR.has(d)?{type:!1}:v,t,S));const P=h.animation;P&&l.push(P)}return o&&Promise.all(l).then(()=>{Fe.update(()=>{o&&e7(t,o)})}),l}function py(t,e,n={}){var l;const r=Ec(t,e,n.type==="exit"?(l=t.presenceContext)==null?void 0:l.custom:void 0);let{transition:i=t.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(i=n.transitionOverride);const s=r?()=>Promise.all(mA(t,r,n)):()=>Promise.resolve(),o=t.variantChildren&&t.variantChildren.size?(c=0)=>{const{delayChildren:d=0,staggerChildren:h,staggerDirection:f}=i;return d7(t,e,d+c,h,f,n)}:()=>Promise.resolve(),{when:a}=i;if(a){const[c,d]=a==="beforeChildren"?[s,o]:[o,s];return c().then(()=>d())}else return Promise.all([s(),o(n.delay)])}function d7(t,e,n=0,r=0,i=1,s){const o=[],a=(t.variantChildren.size-1)*r,l=i===1?(c=0)=>c*r:(c=0)=>a-c*r;return Array.from(t.variantChildren).sort(h7).forEach((c,d)=>{c.notify("AnimationStart",e),o.push(py(c,e,{...s,delay:n+l(d)}).then(()=>c.notify("AnimationComplete",e)))}),Promise.all(o)}function h7(t,e){return t.sortNodePosition(e)}function f7(t,e,n={}){t.notify("AnimationStart",e);let r;if(Array.isArray(e)){const i=e.map(s=>py(t,s,n));r=Promise.all(i)}else if(typeof e=="string")r=py(t,e,n);else{const i=typeof e=="function"?Ec(t,e,n.custom):e;r=Promise.all(mA(t,i,n))}return r.then(()=>{t.notify("AnimationComplete",e)})}function gA(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}const p7=x_.length;function yA(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?yA(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<p7;n++){const r=x_[n],i=t.props[r];(wc(i)||i===!1)&&(e[r]=i)}return e}const m7=[...w_].reverse(),g7=w_.length;function y7(t){return e=>Promise.all(e.map(({animation:n,options:r})=>f7(t,n,r)))}function v7(t){let e=y7(t),n=hC(),r=!0;const i=l=>(c,d)=>{var f;const h=Ec(t,d,l==="exit"?(f=t.presenceContext)==null?void 0:f.custom:void 0);if(h){const{transition:v,transitionEnd:_,...S}=h;c={...c,...S,..._}}return c};function s(l){e=l(t)}function o(l){const{props:c}=t,d=yA(t.parent)||{},h=[],f=new Set;let v={},_=1/0;for(let P=0;P<g7;P++){const w=m7[P],C=n[w],E=c[w]!==void 0?c[w]:d[w],R=wc(E),D=w===l?C.isActive:null;D===!1&&(_=P);let M=E===d[w]&&E!==c[w]&&R;if(M&&r&&t.manuallyAnimateOnMount&&(M=!1),C.protectedKeys={...v},!C.isActive&&D===null||!E&&!C.prevProp||Cf(E)||typeof E=="boolean")continue;const b=_7(C.prevProp,E);let x=b||w===l&&C.isActive&&!M&&R||P>_&&R,I=!1;const g=Array.isArray(E)?E:[E];let A=g.reduce(i(w),{});D===!1&&(A={});const{prevResolvedValues:O={}}=C,N={...O,...A},V=G=>{x=!0,f.has(G)&&(I=!0,f.delete(G)),C.needsAnimating[G]=!0;const $=t.getValue(G);$&&($.liveStyle=!1)};for(const G in N){const $=A[G],q=O[G];if(v.hasOwnProperty(G))continue;let X=!1;hy($)&&hy(q)?X=!gA($,q):X=$!==q,X?$!=null?V(G):f.add(G):$!==void 0&&f.has(G)?V(G):C.protectedKeys[G]=!0}C.prevProp=E,C.prevResolvedValues=A,C.isActive&&(v={...v,...A}),r&&t.blockInitialAnimation&&(x=!1),x&&(!(M&&b)||I)&&h.push(...g.map(G=>({animation:G,options:{type:w}})))}if(f.size){const P={};if(typeof c.initial!="boolean"){const w=Ec(t,Array.isArray(c.initial)?c.initial[0]:c.initial);w&&w.transition&&(P.transition=w.transition)}f.forEach(w=>{const C=t.getBaseTarget(w),E=t.getValue(w);E&&(E.liveStyle=!0),P[w]=C??null}),h.push({animation:P})}let S=!!h.length;return r&&(c.initial===!1||c.initial===c.animate)&&!t.manuallyAnimateOnMount&&(S=!1),r=!1,S?e(h):Promise.resolve()}function a(l,c){var h;if(n[l].isActive===c)return Promise.resolve();(h=t.variantChildren)==null||h.forEach(f=>{var v;return(v=f.animationState)==null?void 0:v.setActive(l,c)}),n[l].isActive=c;const d=o(l);for(const f in n)n[f].protectedKeys={};return d}return{animateChanges:o,setActive:a,setAnimateFunction:s,getState:()=>n,reset:()=>{n=hC(),r=!0}}}function _7(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!gA(e,t):!1}function es(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function hC(){return{animate:es(!0),whileInView:es(),whileHover:es(),whileTap:es(),whileDrag:es(),whileFocus:es(),exit:es()}}class Xi{constructor(e){this.isMounted=!1,this.node=e}update(){}}class w7 extends Xi{constructor(e){super(e),e.animationState||(e.animationState=v7(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();Cf(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)==null||e.call(this)}}let x7=0;class E7 extends Xi{constructor(){super(...arguments),this.id=x7++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const i=this.node.animationState.setActive("exit",!e);n&&!e&&i.then(()=>{n(this.id)})}mount(){const{register:e,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const C7={animation:{Feature:w7},exit:{Feature:E7}};function Cc(t,e,n,r={passive:!0}){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n)}function Jc(t){return{point:{x:t.pageX,y:t.pageY}}}const S7=t=>e=>v_(e)&&t(e,Jc(e));function Dl(t,e,n,r){return Cc(t,e,S7(n),r)}function vA({top:t,left:e,right:n,bottom:r}){return{x:{min:e,max:n},y:{min:t,max:r}}}function b7({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function T7(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),r=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}const _A=1e-4,k7=1-_A,I7=1+_A,wA=.01,P7=0-wA,R7=0+wA;function Vt(t){return t.max-t.min}function A7(t,e,n){return Math.abs(t-e)<=n}function fC(t,e,n,r=.5){t.origin=r,t.originPoint=Le(e.min,e.max,t.origin),t.scale=Vt(n)/Vt(e),t.translate=Le(n.min,n.max,t.origin)-t.originPoint,(t.scale>=k7&&t.scale<=I7||isNaN(t.scale))&&(t.scale=1),(t.translate>=P7&&t.translate<=R7||isNaN(t.translate))&&(t.translate=0)}function Ol(t,e,n,r){fC(t.x,e.x,n.x,r?r.originX:void 0),fC(t.y,e.y,n.y,r?r.originY:void 0)}function pC(t,e,n){t.min=n.min+e.min,t.max=t.min+Vt(e)}function N7(t,e,n){pC(t.x,e.x,n.x),pC(t.y,e.y,n.y)}function mC(t,e,n){t.min=e.min-n.min,t.max=t.min+Vt(e)}function Ml(t,e,n){mC(t.x,e.x,n.x),mC(t.y,e.y,n.y)}const gC=()=>({translate:0,scale:1,origin:0,originPoint:0}),bo=()=>({x:gC(),y:gC()}),yC=()=>({min:0,max:0}),qe=()=>({x:yC(),y:yC()});function _n(t){return[t("x"),t("y")]}function gm(t){return t===void 0||t===1}function my({scale:t,scaleX:e,scaleY:n}){return!gm(t)||!gm(e)||!gm(n)}function os(t){return my(t)||xA(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function xA(t){return vC(t.x)||vC(t.y)}function vC(t){return t&&t!=="0%"}function Rh(t,e,n){const r=t-n,i=e*r;return n+i}function _C(t,e,n,r,i){return i!==void 0&&(t=Rh(t,i,r)),Rh(t,n,r)+e}function gy(t,e=0,n=1,r,i){t.min=_C(t.min,e,n,r,i),t.max=_C(t.max,e,n,r,i)}function EA(t,{x:e,y:n}){gy(t.x,e.translate,e.scale,e.originPoint),gy(t.y,n.translate,n.scale,n.originPoint)}const wC=.999999999999,xC=1.0000000000001;function D7(t,e,n,r=!1){const i=n.length;if(!i)return;e.x=e.y=1;let s,o;for(let a=0;a<i;a++){s=n[a],o=s.projectionDelta;const{visualElement:l}=s.options;l&&l.props.style&&l.props.style.display==="contents"||(r&&s.options.layoutScroll&&s.scroll&&s!==s.root&&ko(t,{x:-s.scroll.offset.x,y:-s.scroll.offset.y}),o&&(e.x*=o.x.scale,e.y*=o.y.scale,EA(t,o)),r&&os(s.latestValues)&&ko(t,s.latestValues))}e.x<xC&&e.x>wC&&(e.x=1),e.y<xC&&e.y>wC&&(e.y=1)}function To(t,e){t.min=t.min+e,t.max=t.max+e}function EC(t,e,n,r,i=.5){const s=Le(t.min,t.max,i);gy(t,e,n,s,r)}function ko(t,e){EC(t.x,e.x,e.scaleX,e.scale,e.originX),EC(t.y,e.y,e.scaleY,e.scale,e.originY)}function CA(t,e){return vA(T7(t.getBoundingClientRect(),e))}function O7(t,e,n){const r=CA(t,n),{scroll:i}=e;return i&&(To(r.x,i.offset.x),To(r.y,i.offset.y)),r}const SA=({current:t})=>t?t.ownerDocument.defaultView:null,CC=(t,e)=>Math.abs(t-e);function M7(t,e){const n=CC(t.x,e.x),r=CC(t.y,e.y);return Math.sqrt(n**2+r**2)}class bA{constructor(e,n,{transformPagePoint:r,contextWindow:i,dragSnapToOrigin:s=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const h=vm(this.lastMoveEventInfo,this.history),f=this.startEvent!==null,v=M7(h.offset,{x:0,y:0})>=3;if(!f&&!v)return;const{point:_}=h,{timestamp:S}=mt;this.history.push({..._,timestamp:S});const{onStart:P,onMove:w}=this.handlers;f||(P&&P(this.lastMoveEvent,h),this.startEvent=this.lastMoveEvent),w&&w(this.lastMoveEvent,h)},this.handlePointerMove=(h,f)=>{this.lastMoveEvent=h,this.lastMoveEventInfo=ym(f,this.transformPagePoint),Fe.update(this.updatePoint,!0)},this.handlePointerUp=(h,f)=>{this.end();const{onEnd:v,onSessionEnd:_,resumeAnimation:S}=this.handlers;if(this.dragSnapToOrigin&&S&&S(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const P=vm(h.type==="pointercancel"?this.lastMoveEventInfo:ym(f,this.transformPagePoint),this.history);this.startEvent&&v&&v(h,P),_&&_(h,P)},!v_(e))return;this.dragSnapToOrigin=s,this.handlers=n,this.transformPagePoint=r,this.contextWindow=i||window;const o=Jc(e),a=ym(o,this.transformPagePoint),{point:l}=a,{timestamp:c}=mt;this.history=[{...l,timestamp:c}];const{onSessionStart:d}=n;d&&d(e,vm(a,this.history)),this.removeListeners=Yc(Dl(this.contextWindow,"pointermove",this.handlePointerMove),Dl(this.contextWindow,"pointerup",this.handlePointerUp),Dl(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),Vi(this.updatePoint)}}function ym(t,e){return e?{point:e(t.point)}:t}function SC(t,e){return{x:t.x-e.x,y:t.y-e.y}}function vm({point:t},e){return{point:t,delta:SC(t,TA(e)),offset:SC(t,L7(e)),velocity:j7(e,.1)}}function L7(t){return t[0]}function TA(t){return t[t.length-1]}function j7(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,r=null;const i=TA(t);for(;n>=0&&(r=t[n],!(i.timestamp-r.timestamp>pr(e)));)n--;if(!r)return{x:0,y:0};const s=mr(i.timestamp-r.timestamp);if(s===0)return{x:0,y:0};const o={x:(i.x-r.x)/s,y:(i.y-r.y)/s};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function F7(t,{min:e,max:n},r){return e!==void 0&&t<e?t=r?Le(e,t,r.min):Math.max(t,e):n!==void 0&&t>n&&(t=r?Le(n,t,r.max):Math.min(t,n)),t}function bC(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function $7(t,{top:e,left:n,bottom:r,right:i}){return{x:bC(t.x,n,i),y:bC(t.y,e,r)}}function TC(t,e){let n=e.min-t.min,r=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,r]=[r,n]),{min:n,max:r}}function V7(t,e){return{x:TC(t.x,e.x),y:TC(t.y,e.y)}}function U7(t,e){let n=.5;const r=Vt(t),i=Vt(e);return i>r?n=yc(e.min,e.max-r,t.min):r>i&&(n=yc(t.min,t.max-i,e.min)),Jr(0,1,n)}function B7(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const yy=.35;function z7(t=yy){return t===!1?t=0:t===!0&&(t=yy),{x:kC(t,"left","right"),y:kC(t,"top","bottom")}}function kC(t,e,n){return{min:IC(t,e),max:IC(t,n)}}function IC(t,e){return typeof t=="number"?t:t[e]||0}const W7=new WeakMap;class H7{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=qe(),this.visualElement=e}start(e,{snapToCursor:n=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const i=d=>{const{dragSnapToOrigin:h}=this.getProps();h?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(Jc(d).point)},s=(d,h)=>{const{drag:f,dragPropagation:v,onDragStart:_}=this.getProps();if(f&&!v&&(this.openDragLock&&this.openDragLock(),this.openDragLock=i8(f),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),_n(P=>{let w=this.getAxisMotionValue(P).get()||0;if(gr.test(w)){const{projection:C}=this.visualElement;if(C&&C.layout){const E=C.layout.layoutBox[P];E&&(w=Vt(E)*(parseFloat(w)/100))}}this.originPoint[P]=w}),_&&Fe.postRender(()=>_(d,h)),fy(this.visualElement,"transform");const{animationState:S}=this.visualElement;S&&S.setActive("whileDrag",!0)},o=(d,h)=>{const{dragPropagation:f,dragDirectionLock:v,onDirectionLock:_,onDrag:S}=this.getProps();if(!f&&!this.openDragLock)return;const{offset:P}=h;if(v&&this.currentDirection===null){this.currentDirection=G7(P),this.currentDirection!==null&&_&&_(this.currentDirection);return}this.updateAxis("x",h.point,P),this.updateAxis("y",h.point,P),this.visualElement.render(),S&&S(d,h)},a=(d,h)=>this.stop(d,h),l=()=>_n(d=>{var h;return this.getAnimationState(d)==="paused"&&((h=this.getAxisMotionValue(d).animation)==null?void 0:h.play())}),{dragSnapToOrigin:c}=this.getProps();this.panSession=new bA(e,{onSessionStart:i,onStart:s,onMove:o,onSessionEnd:a,resumeAnimation:l},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:c,contextWindow:SA(this.visualElement)})}stop(e,n){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:i}=n;this.startAnimation(i);const{onDragEnd:s}=this.getProps();s&&Fe.postRender(()=>s(e,n))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,r){const{drag:i}=this.getProps();if(!r||!Wu(e,i,this.currentDirection))return;const s=this.getAxisMotionValue(e);let o=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(o=F7(o,this.constraints[e],this.elastic[e])),s.set(o)}resolveConstraints(){var s;const{dragConstraints:e,dragElastic:n}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(s=this.visualElement.projection)==null?void 0:s.layout,i=this.constraints;e&&So(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&r?this.constraints=$7(r.layoutBox,e):this.constraints=!1,this.elastic=z7(n),i!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&_n(o=>{this.constraints!==!1&&this.getAxisMotionValue(o)&&(this.constraints[o]=B7(r.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!So(e))return!1;const r=e.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const s=O7(r,i.root,this.visualElement.getTransformPagePoint());let o=V7(i.layout.layoutBox,s);if(n){const a=n(b7(o));this.hasMutatedConstraints=!!a,a&&(o=vA(a))}return o}startAnimation(e){const{drag:n,dragMomentum:r,dragElastic:i,dragTransition:s,dragSnapToOrigin:o,onDragTransitionEnd:a}=this.getProps(),l=this.constraints||{},c=_n(d=>{if(!Wu(d,n,this.currentDirection))return;let h=l&&l[d]||{};o&&(h={min:0,max:0});const f=i?200:1e6,v=i?40:1e7,_={type:"inertia",velocity:r?e[d]:0,bounceStiffness:f,bounceDamping:v,timeConstant:750,restDelta:1,restSpeed:10,...s,...h};return this.startAxisValueAnimation(d,_)});return Promise.all(c).then(a)}startAxisValueAnimation(e,n){const r=this.getAxisMotionValue(e);return fy(this.visualElement,e),r.start(I_(e,r,0,n,this.visualElement,!1))}stopAnimation(){_n(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){_n(e=>{var n;return(n=this.getAxisMotionValue(e).animation)==null?void 0:n.pause()})}getAnimationState(e){var n;return(n=this.getAxisMotionValue(e).animation)==null?void 0:n.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,r=this.visualElement.getProps(),i=r[n];return i||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){_n(n=>{const{drag:r}=this.getProps();if(!Wu(n,r,this.currentDirection))return;const{projection:i}=this.visualElement,s=this.getAxisMotionValue(n);if(i&&i.layout){const{min:o,max:a}=i.layout.layoutBox[n];s.set(e[n]-Le(o,a,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!So(n)||!r||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};_n(o=>{const a=this.getAxisMotionValue(o);if(a&&this.constraints!==!1){const l=a.get();i[o]=U7({min:l,max:l},this.constraints[o])}});const{transformTemplate:s}=this.visualElement.getProps();this.visualElement.current.style.transform=s?s({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),_n(o=>{if(!Wu(o,e,null))return;const a=this.getAxisMotionValue(o),{min:l,max:c}=this.constraints[o];a.set(Le(l,c,i[o]))})}addListeners(){if(!this.visualElement.current)return;W7.set(this.visualElement,this);const e=this.visualElement.current,n=Dl(e,"pointerdown",l=>{const{drag:c,dragListener:d=!0}=this.getProps();c&&d&&this.start(l)}),r=()=>{const{dragConstraints:l}=this.getProps();So(l)&&l.current&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,s=i.addEventListener("measure",r);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),Fe.read(r);const o=Cc(window,"resize",()=>this.scalePositionWithinConstraints()),a=i.addEventListener("didUpdate",({delta:l,hasLayoutChanged:c})=>{this.isDragging&&c&&(_n(d=>{const h=this.getAxisMotionValue(d);h&&(this.originPoint[d]+=l[d].translate,h.set(h.get()+l[d].translate))}),this.visualElement.render())});return()=>{o(),n(),s(),a&&a()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:i=!1,dragConstraints:s=!1,dragElastic:o=yy,dragMomentum:a=!0}=e;return{...e,drag:n,dragDirectionLock:r,dragPropagation:i,dragConstraints:s,dragElastic:o,dragMomentum:a}}}function Wu(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function G7(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class K7 extends Xi{constructor(e){super(e),this.removeGroupControls=kn,this.removeListeners=kn,this.controls=new H7(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||kn}unmount(){this.removeGroupControls(),this.removeListeners()}}const PC=t=>(e,n)=>{t&&Fe.postRender(()=>t(e,n))};class q7 extends Xi{constructor(){super(...arguments),this.removePointerDownListener=kn}onPointerDown(e){this.session=new bA(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:SA(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:r,onPanEnd:i}=this.node.getProps();return{onSessionStart:PC(e),onStart:PC(n),onMove:r,onEnd:(s,o)=>{delete this.session,i&&Fe.postRender(()=>i(s,o))}}}mount(){this.removePointerDownListener=Dl(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const wd={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function RC(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const el={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(Z.test(t))t=parseFloat(t);else return t;const n=RC(t,e.target.x),r=RC(t,e.target.y);return`${n}% ${r}%`}},Y7={correct:(t,{treeScale:e,projectionDelta:n})=>{const r=t,i=Ui.parse(t);if(i.length>5)return r;const s=Ui.createTransformer(t),o=typeof i[0]!="number"?1:0,a=n.x.scale*e.x,l=n.y.scale*e.y;i[0+o]/=a,i[1+o]/=l;const c=Le(a,l,.5);return typeof i[2+o]=="number"&&(i[2+o]/=c),typeof i[3+o]=="number"&&(i[3+o]/=c),s(i)}};class X7 extends T.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r,layoutId:i}=this.props,{projection:s}=e;O8(Q7),s&&(n.group&&n.group.add(s),r&&r.register&&i&&r.register(s),s.root.didUpdate(),s.addEventListener("animationComplete",()=>{this.safeToRemove()}),s.setOptions({...s.options,onExitComplete:()=>this.safeToRemove()})),wd.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:r,drag:i,isPresent:s}=this.props,{projection:o}=r;return o&&(o.isPresent=s,i||e.layoutDependency!==n||n===void 0||e.isPresent!==s?o.willUpdate():this.safeToRemove(),e.isPresent!==s&&(s?o.promote():o.relegate()||Fe.postRender(()=>{const a=o.getStack();(!a||!a.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),y_.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:i}=e;i&&(i.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(i),r&&r.deregister&&r.deregister(i))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function kA(t){const[e,n]=eA(),r=T.useContext(qv);return m.jsx(X7,{...t,layoutGroup:r,switchLayoutGroup:T.useContext(sA),isPresent:e,safeToRemove:n})}const Q7={borderRadius:{...el,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:el,borderTopRightRadius:el,borderBottomLeftRadius:el,borderBottomRightRadius:el,boxShadow:Y7};function J7(t,e,n){const r=Pt(t)?t:ia(t);return r.start(I_("",r,e,n)),r.animation}const Z7=(t,e)=>t.depth-e.depth;class ez{constructor(){this.children=[],this.isDirty=!1}add(e){Qv(this.children,e),this.isDirty=!0}remove(e){Jv(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(Z7),this.isDirty=!1,this.children.forEach(e)}}function tz(t,e){const n=en.now(),r=({timestamp:i})=>{const s=i-n;s>=e&&(Vi(r),t(s-e))};return Fe.setup(r,!0),()=>Vi(r)}const IA=["TopLeft","TopRight","BottomLeft","BottomRight"],nz=IA.length,AC=t=>typeof t=="string"?parseFloat(t):t,NC=t=>typeof t=="number"||Z.test(t);function rz(t,e,n,r,i,s){i?(t.opacity=Le(0,n.opacity??1,iz(r)),t.opacityExit=Le(e.opacity??1,0,sz(r))):s&&(t.opacity=Le(e.opacity??1,n.opacity??1,r));for(let o=0;o<nz;o++){const a=`border${IA[o]}Radius`;let l=DC(e,a),c=DC(n,a);if(l===void 0&&c===void 0)continue;l||(l=0),c||(c=0),l===0||c===0||NC(l)===NC(c)?(t[a]=Math.max(Le(AC(l),AC(c),r),0),(gr.test(c)||gr.test(l))&&(t[a]+="%")):t[a]=c}(e.rotate||n.rotate)&&(t.rotate=Le(e.rotate||0,n.rotate||0,r))}function DC(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const iz=PA(0,.5,xR),sz=PA(.5,.95,kn);function PA(t,e,n){return r=>r<t?0:r>e?1:n(yc(t,e,r))}function OC(t,e){t.min=e.min,t.max=e.max}function vn(t,e){OC(t.x,e.x),OC(t.y,e.y)}function MC(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function LC(t,e,n,r,i){return t-=e,t=Rh(t,1/n,r),i!==void 0&&(t=Rh(t,1/i,r)),t}function oz(t,e=0,n=1,r=.5,i,s=t,o=t){if(gr.test(e)&&(e=parseFloat(e),e=Le(o.min,o.max,e/100)-o.min),typeof e!="number")return;let a=Le(s.min,s.max,r);t===s&&(a-=e),t.min=LC(t.min,e,n,a,i),t.max=LC(t.max,e,n,a,i)}function jC(t,e,[n,r,i],s,o){oz(t,e[n],e[r],e[i],e.scale,s,o)}const az=["x","scaleX","originX"],lz=["y","scaleY","originY"];function FC(t,e,n,r){jC(t.x,e,az,n?n.x:void 0,r?r.x:void 0),jC(t.y,e,lz,n?n.y:void 0,r?r.y:void 0)}function $C(t){return t.translate===0&&t.scale===1}function RA(t){return $C(t.x)&&$C(t.y)}function VC(t,e){return t.min===e.min&&t.max===e.max}function cz(t,e){return VC(t.x,e.x)&&VC(t.y,e.y)}function UC(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function AA(t,e){return UC(t.x,e.x)&&UC(t.y,e.y)}function BC(t){return Vt(t.x)/Vt(t.y)}function zC(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class uz{constructor(){this.members=[]}add(e){Qv(this.members,e),e.scheduleRender()}remove(e){if(Jv(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(i=>e===i);if(n===0)return!1;let r;for(let i=n;i>=0;i--){const s=this.members[i];if(s.isPresent!==!1){r=s;break}}return r?(this.promote(r),!0):!1}promote(e,n){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,n&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:i}=e.options;i===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:r}=e;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function dz(t,e,n){let r="";const i=t.x.translate/e.x,s=t.y.translate/e.y,o=(n==null?void 0:n.z)||0;if((i||s||o)&&(r=`translate3d(${i}px, ${s}px, ${o}px) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:c,rotate:d,rotateX:h,rotateY:f,skewX:v,skewY:_}=n;c&&(r=`perspective(${c}px) ${r}`),d&&(r+=`rotate(${d}deg) `),h&&(r+=`rotateX(${h}deg) `),f&&(r+=`rotateY(${f}deg) `),v&&(r+=`skewX(${v}deg) `),_&&(r+=`skewY(${_}deg) `)}const a=t.x.scale*e.x,l=t.y.scale*e.y;return(a!==1||l!==1)&&(r+=`scale(${a}, ${l})`),r||"none"}const _m=["","X","Y","Z"],hz={visibility:"hidden"},fz=1e3;let pz=0;function wm(t,e,n,r){const{latestValues:i}=e;i[t]&&(n[t]=i[t],e.setStaticValue(t,0),r&&(r[t]=0))}function NA(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=pA(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:i,layoutId:s}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",Fe,!(i||s))}const{parent:r}=t;r&&!r.hasCheckedOptimisedAppear&&NA(r)}function DA({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:r,resetTransform:i}){return class{constructor(o={},a=e==null?void 0:e()){this.id=pz++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(yz),this.nodes.forEach(Ez),this.nodes.forEach(Cz),this.nodes.forEach(vz)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=a?a.root||a:this,this.path=a?[...a.path,a]:[],this.parent=a,this.depth=a?a.depth+1:0;for(let l=0;l<this.path.length;l++)this.path[l].shouldResetTransform=!0;this.root===this&&(this.nodes=new ez)}addEventListener(o,a){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new t_),this.eventHandlers.get(o).add(a)}notifyListeners(o,...a){const l=this.eventHandlers.get(o);l&&l.notify(...a)}hasListeners(o){return this.eventHandlers.has(o)}mount(o){if(this.instance)return;this.isSVG=ZR(o)&&!u8(o),this.instance=o;const{layoutId:a,layout:l,visualElement:c}=this.options;if(c&&!c.current&&c.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(l||a)&&(this.isLayoutDirty=!0),t){let d;const h=()=>this.root.updateBlockedByResize=!1;t(o,()=>{this.root.updateBlockedByResize=!0,d&&d(),d=tz(h,250),wd.hasAnimatedSinceResize&&(wd.hasAnimatedSinceResize=!1,this.nodes.forEach(HC))})}a&&this.root.registerSharedNode(a,this),this.options.animate!==!1&&c&&(a||l)&&this.addEventListener("didUpdate",({delta:d,hasLayoutChanged:h,hasRelativeLayoutChanged:f,layout:v})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const _=this.options.transition||c.getDefaultTransition()||Iz,{onLayoutAnimationStart:S,onLayoutAnimationComplete:P}=c.getProps(),w=!this.targetLayout||!AA(this.targetLayout,v),C=!h&&f;if(this.options.layoutRoot||this.resumeFrom||C||h&&(w||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(d,C);const E={...m_(_,"layout"),onPlay:S,onComplete:P};(c.shouldReduceMotion||this.options.layoutRoot)&&(E.delay=0,E.type=!1),this.startAnimation(E)}else h||HC(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=v})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),Vi(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(Sz),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&NA(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let d=0;d<this.path.length;d++){const h=this.path[d];h.shouldResetTransform=!0,h.updateScroll("snapshot"),h.options.layoutRoot&&h.willUpdate(!1)}const{layoutId:a,layout:l}=this.options;if(a===void 0&&!l)return;const c=this.getTransformTemplate();this.prevTransformTemplateValue=c?c(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(WC);return}this.isUpdating||this.nodes.forEach(wz),this.isUpdating=!1,this.nodes.forEach(xz),this.nodes.forEach(mz),this.nodes.forEach(gz),this.clearAllSnapshots();const a=en.now();mt.delta=Jr(0,1e3/60,a-mt.timestamp),mt.timestamp=a,mt.isProcessing=!0,um.update.process(mt),um.preRender.process(mt),um.render.process(mt),mt.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,y_.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(_z),this.sharedNodes.forEach(bz)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Fe.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Fe.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!Vt(this.snapshot.measuredBox.x)&&!Vt(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let l=0;l<this.path.length;l++)this.path[l].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=qe(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:a}=this.options;a&&a.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let a=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(a=!1),a&&this.instance){const l=r(this.instance);this.scroll={animationId:this.root.animationId,phase:o,isRoot:l,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:l}}}resetTransform(){if(!i)return;const o=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,a=this.projectionDelta&&!RA(this.projectionDelta),l=this.getTransformTemplate(),c=l?l(this.latestValues,""):void 0,d=c!==this.prevTransformTemplateValue;o&&this.instance&&(a||os(this.latestValues)||d)&&(i(this.instance,c),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const a=this.measurePageBox();let l=this.removeElementScroll(a);return o&&(l=this.removeTransform(l)),Pz(l),{animationId:this.root.animationId,measuredBox:a,layoutBox:l,latestValues:{},source:this.id}}measurePageBox(){var c;const{visualElement:o}=this.options;if(!o)return qe();const a=o.measureViewportBox();if(!(((c=this.scroll)==null?void 0:c.wasRoot)||this.path.some(Rz))){const{scroll:d}=this.root;d&&(To(a.x,d.offset.x),To(a.y,d.offset.y))}return a}removeElementScroll(o){var l;const a=qe();if(vn(a,o),(l=this.scroll)!=null&&l.wasRoot)return a;for(let c=0;c<this.path.length;c++){const d=this.path[c],{scroll:h,options:f}=d;d!==this.root&&h&&f.layoutScroll&&(h.wasRoot&&vn(a,o),To(a.x,h.offset.x),To(a.y,h.offset.y))}return a}applyTransform(o,a=!1){const l=qe();vn(l,o);for(let c=0;c<this.path.length;c++){const d=this.path[c];!a&&d.options.layoutScroll&&d.scroll&&d!==d.root&&ko(l,{x:-d.scroll.offset.x,y:-d.scroll.offset.y}),os(d.latestValues)&&ko(l,d.latestValues)}return os(this.latestValues)&&ko(l,this.latestValues),l}removeTransform(o){const a=qe();vn(a,o);for(let l=0;l<this.path.length;l++){const c=this.path[l];if(!c.instance||!os(c.latestValues))continue;my(c.latestValues)&&c.updateSnapshot();const d=qe(),h=c.measurePageBox();vn(d,h),FC(a,c.latestValues,c.snapshot?c.snapshot.layoutBox:void 0,d)}return os(this.latestValues)&&FC(a,this.latestValues),a}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==mt.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var f;const a=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=a.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=a.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=a.isSharedProjectionDirty);const l=!!this.resumingFrom||this!==a;if(!(o||l&&this.isSharedProjectionDirty||this.isProjectionDirty||(f=this.parent)!=null&&f.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:d,layoutId:h}=this.options;if(!(!this.layout||!(d||h))){if(this.resolvedRelativeTargetAt=mt.timestamp,!this.targetDelta&&!this.relativeTarget){const v=this.getClosestProjectingParent();v&&v.layout&&this.animationProgress!==1?(this.relativeParent=v,this.forceRelativeParentToResolveTarget(),this.relativeTarget=qe(),this.relativeTargetOrigin=qe(),Ml(this.relativeTargetOrigin,this.layout.layoutBox,v.layout.layoutBox),vn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=qe(),this.targetWithTransforms=qe()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),N7(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):vn(this.target,this.layout.layoutBox),EA(this.target,this.targetDelta)):vn(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const v=this.getClosestProjectingParent();v&&!!v.resumingFrom==!!this.resumingFrom&&!v.options.layoutScroll&&v.target&&this.animationProgress!==1?(this.relativeParent=v,this.forceRelativeParentToResolveTarget(),this.relativeTarget=qe(),this.relativeTargetOrigin=qe(),Ml(this.relativeTargetOrigin,this.target,v.target),vn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||my(this.parent.latestValues)||xA(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var _;const o=this.getLead(),a=!!this.resumingFrom||this!==o;let l=!0;if((this.isProjectionDirty||(_=this.parent)!=null&&_.isProjectionDirty)&&(l=!1),a&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(l=!1),this.resolvedRelativeTargetAt===mt.timestamp&&(l=!1),l)return;const{layout:c,layoutId:d}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(c||d))return;vn(this.layoutCorrected,this.layout.layoutBox);const h=this.treeScale.x,f=this.treeScale.y;D7(this.layoutCorrected,this.treeScale,this.path,a),o.layout&&!o.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(o.target=o.layout.layoutBox,o.targetWithTransforms=qe());const{target:v}=o;if(!v){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(MC(this.prevProjectionDelta.x,this.projectionDelta.x),MC(this.prevProjectionDelta.y,this.projectionDelta.y)),Ol(this.projectionDelta,this.layoutCorrected,v,this.latestValues),(this.treeScale.x!==h||this.treeScale.y!==f||!zC(this.projectionDelta.x,this.prevProjectionDelta.x)||!zC(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",v))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){var a;if((a=this.options.visualElement)==null||a.scheduleRender(),o){const l=this.getStack();l&&l.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=bo(),this.projectionDelta=bo(),this.projectionDeltaWithTransform=bo()}setAnimationOrigin(o,a=!1){const l=this.snapshot,c=l?l.latestValues:{},d={...this.latestValues},h=bo();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!a;const f=qe(),v=l?l.source:void 0,_=this.layout?this.layout.source:void 0,S=v!==_,P=this.getStack(),w=!P||P.members.length<=1,C=!!(S&&!w&&this.options.crossfade===!0&&!this.path.some(kz));this.animationProgress=0;let E;this.mixTargetDelta=R=>{const D=R/1e3;GC(h.x,o.x,D),GC(h.y,o.y,D),this.setTargetDelta(h),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Ml(f,this.layout.layoutBox,this.relativeParent.layout.layoutBox),Tz(this.relativeTarget,this.relativeTargetOrigin,f,D),E&&cz(this.relativeTarget,E)&&(this.isProjectionDirty=!1),E||(E=qe()),vn(E,this.relativeTarget)),S&&(this.animationValues=d,rz(d,c,this.latestValues,D,C,w)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=D},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){var a,l,c;this.notifyListeners("animationStart"),(a=this.currentAnimation)==null||a.stop(!1),(c=(l=this.resumingFrom)==null?void 0:l.currentAnimation)==null||c.stop(!1),this.pendingAnimation&&(Vi(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Fe.update(()=>{wd.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=ia(0)),this.currentAnimation=J7(this.motionValue,[0,1e3],{...o,isSync:!0,onUpdate:d=>{this.mixTargetDelta(d),o.onUpdate&&o.onUpdate(d)},onStop:()=>{},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(fz),this.currentAnimation.stop(!1)),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:a,target:l,layout:c,latestValues:d}=o;if(!(!a||!l||!c)){if(this!==o&&this.layout&&c&&OA(this.options.animationType,this.layout.layoutBox,c.layoutBox)){l=this.target||qe();const h=Vt(this.layout.layoutBox.x);l.x.min=o.target.x.min,l.x.max=l.x.min+h;const f=Vt(this.layout.layoutBox.y);l.y.min=o.target.y.min,l.y.max=l.y.min+f}vn(a,l),ko(a,d),Ol(this.projectionDeltaWithTransform,this.layoutCorrected,a,d)}}registerSharedNode(o,a){this.sharedNodes.has(o)||this.sharedNodes.set(o,new uz),this.sharedNodes.get(o).add(a);const c=a.options.initialPromotionConfig;a.promote({transition:c?c.transition:void 0,preserveFollowOpacity:c&&c.shouldPreserveFollowOpacity?c.shouldPreserveFollowOpacity(a):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var a;const{layoutId:o}=this.options;return o?((a=this.getStack())==null?void 0:a.lead)||this:this}getPrevLead(){var a;const{layoutId:o}=this.options;return o?(a=this.getStack())==null?void 0:a.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:a,preserveFollowOpacity:l}={}){const c=this.getStack();c&&c.promote(this,l),o&&(this.projectionDelta=void 0,this.needsReset=!0),a&&this.setOptions({transition:a})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetSkewAndRotation(){const{visualElement:o}=this.options;if(!o)return;let a=!1;const{latestValues:l}=o;if((l.z||l.rotate||l.rotateX||l.rotateY||l.rotateZ||l.skewX||l.skewY)&&(a=!0),!a)return;const c={};l.z&&wm("z",o,c,this.animationValues);for(let d=0;d<_m.length;d++)wm(`rotate${_m[d]}`,o,c,this.animationValues),wm(`skew${_m[d]}`,o,c,this.animationValues);o.render();for(const d in c)o.setStaticValue(d,c[d]),this.animationValues&&(this.animationValues[d]=c[d]);o.scheduleRender()}getProjectionStyles(o){if(!this.instance||this.isSVG)return;if(!this.isVisible)return hz;const a={visibility:""},l=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,a.opacity="",a.pointerEvents=_d(o==null?void 0:o.pointerEvents)||"",a.transform=l?l(this.latestValues,""):"none",a;const c=this.getLead();if(!this.projectionDelta||!this.layout||!c.target){const v={};return this.options.layoutId&&(v.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,v.pointerEvents=_d(o==null?void 0:o.pointerEvents)||""),this.hasProjected&&!os(this.latestValues)&&(v.transform=l?l({},""):"none",this.hasProjected=!1),v}const d=c.animationValues||c.latestValues;this.applyTransformsToTarget(),a.transform=dz(this.projectionDeltaWithTransform,this.treeScale,d),l&&(a.transform=l(d,a.transform));const{x:h,y:f}=this.projectionDelta;a.transformOrigin=`${h.origin*100}% ${f.origin*100}% 0`,c.animationValues?a.opacity=c===this?d.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:d.opacityExit:a.opacity=c===this?d.opacity!==void 0?d.opacity:"":d.opacityExit!==void 0?d.opacityExit:0;for(const v in xc){if(d[v]===void 0)continue;const{correct:_,applyTo:S,isCSSVariable:P}=xc[v],w=a.transform==="none"?d[v]:_(d[v],c);if(S){const C=S.length;for(let E=0;E<C;E++)a[S[E]]=w}else P?this.options.visualElement.renderState.vars[v]=w:a[v]=w}return this.options.layoutId&&(a.pointerEvents=c===this?_d(o==null?void 0:o.pointerEvents)||"":"none"),a}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var a;return(a=o.currentAnimation)==null?void 0:a.stop(!1)}),this.root.nodes.forEach(WC),this.root.sharedNodes.clear()}}}function mz(t){t.updateLayout()}function gz(t){var n;const e=((n=t.resumeFrom)==null?void 0:n.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&e&&t.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:i}=t.layout,{animationType:s}=t.options,o=e.source!==t.layout.source;s==="size"?_n(h=>{const f=o?e.measuredBox[h]:e.layoutBox[h],v=Vt(f);f.min=r[h].min,f.max=f.min+v}):OA(s,e.layoutBox,r)&&_n(h=>{const f=o?e.measuredBox[h]:e.layoutBox[h],v=Vt(r[h]);f.max=f.min+v,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[h].max=t.relativeTarget[h].min+v)});const a=bo();Ol(a,r,e.layoutBox);const l=bo();o?Ol(l,t.applyTransform(i,!0),e.measuredBox):Ol(l,r,e.layoutBox);const c=!RA(a);let d=!1;if(!t.resumeFrom){const h=t.getClosestProjectingParent();if(h&&!h.resumeFrom){const{snapshot:f,layout:v}=h;if(f&&v){const _=qe();Ml(_,e.layoutBox,f.layoutBox);const S=qe();Ml(S,r,v.layoutBox),AA(_,S)||(d=!0),h.options.layoutRoot&&(t.relativeTarget=S,t.relativeTargetOrigin=_,t.relativeParent=h)}}}t.notifyListeners("didUpdate",{layout:r,snapshot:e,delta:l,layoutDelta:a,hasLayoutChanged:c,hasRelativeLayoutChanged:d})}else if(t.isLead()){const{onExitComplete:r}=t.options;r&&r()}t.options.transition=void 0}function yz(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function vz(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function _z(t){t.clearSnapshot()}function WC(t){t.clearMeasurements()}function wz(t){t.isLayoutDirty=!1}function xz(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function HC(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function Ez(t){t.resolveTargetDelta()}function Cz(t){t.calcProjection()}function Sz(t){t.resetSkewAndRotation()}function bz(t){t.removeLeadSnapshot()}function GC(t,e,n){t.translate=Le(e.translate,0,n),t.scale=Le(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function KC(t,e,n,r){t.min=Le(e.min,n.min,r),t.max=Le(e.max,n.max,r)}function Tz(t,e,n,r){KC(t.x,e.x,n.x,r),KC(t.y,e.y,n.y,r)}function kz(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const Iz={duration:.45,ease:[.4,0,.1,1]},qC=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),YC=qC("applewebkit/")&&!qC("chrome/")?Math.round:kn;function XC(t){t.min=YC(t.min),t.max=YC(t.max)}function Pz(t){XC(t.x),XC(t.y)}function OA(t,e,n){return t==="position"||t==="preserve-aspect"&&!A7(BC(e),BC(n),.2)}function Rz(t){var e;return t!==t.root&&((e=t.scroll)==null?void 0:e.wasRoot)}const Az=DA({attachResizeListener:(t,e)=>Cc(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),xm={current:void 0},MA=DA({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!xm.current){const t=new Az({});t.mount(window),t.setOptions({layoutScroll:!0}),xm.current=t}return xm.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),Nz={pan:{Feature:q7},drag:{Feature:K7,ProjectionNode:MA,MeasureLayout:kA}};function QC(t,e,n){const{props:r}=t;t.animationState&&r.whileHover&&t.animationState.setActive("whileHover",n==="Start");const i="onHover"+n,s=r[i];s&&Fe.postRender(()=>s(e,Jc(e)))}class Dz extends Xi{mount(){const{current:e}=this.node;e&&(this.unmount=s8(e,(n,r)=>(QC(this.node,r,"Start"),i=>QC(this.node,i,"End"))))}unmount(){}}class Oz extends Xi{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Yc(Cc(this.node.current,"focus",()=>this.onFocus()),Cc(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function JC(t,e,n){const{props:r}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&r.whileTap&&t.animationState.setActive("whileTap",n==="Start");const i="onTap"+(n==="End"?"":n),s=r[i];s&&Fe.postRender(()=>s(e,Jc(e)))}class Mz extends Xi{mount(){const{current:e}=this.node;e&&(this.unmount=c8(e,(n,r)=>(JC(this.node,r,"Start"),(i,{success:s})=>JC(this.node,i,s?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const vy=new WeakMap,Em=new WeakMap,Lz=t=>{const e=vy.get(t.target);e&&e(t)},jz=t=>{t.forEach(Lz)};function Fz({root:t,...e}){const n=t||document;Em.has(n)||Em.set(n,{});const r=Em.get(n),i=JSON.stringify(e);return r[i]||(r[i]=new IntersectionObserver(jz,{root:t,...e})),r[i]}function $z(t,e,n){const r=Fz(e);return vy.set(t,n),r.observe(t),()=>{vy.delete(t),r.unobserve(t)}}const Vz={some:0,all:1};class Uz extends Xi{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:r,amount:i="some",once:s}=e,o={root:n?n.current:void 0,rootMargin:r,threshold:typeof i=="number"?i:Vz[i]},a=l=>{const{isIntersecting:c}=l;if(this.isInView===c||(this.isInView=c,s&&!c&&this.hasEnteredView))return;c&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",c);const{onViewportEnter:d,onViewportLeave:h}=this.node.getProps(),f=c?d:h;f&&f(l)};return $z(this.node.current,o,a)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(Bz(e,n))&&this.startObserver()}unmount(){}}function Bz({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const zz={inView:{Feature:Uz},tap:{Feature:Mz},focus:{Feature:Oz},hover:{Feature:Dz}},Wz={layout:{ProjectionNode:MA,MeasureLayout:kA}},_y={current:null},LA={current:!1};function Hz(){if(LA.current=!0,!!Xv)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>_y.current=t.matches;t.addListener(e),e()}else _y.current=!1}const Gz=new WeakMap;function Kz(t,e,n){for(const r in e){const i=e[r],s=n[r];if(Pt(i))t.addValue(r,i);else if(Pt(s))t.addValue(r,ia(i,{owner:t}));else if(s!==i)if(t.hasValue(r)){const o=t.getValue(r);o.liveStyle===!0?o.jump(i):o.hasAnimated||o.set(i)}else{const o=t.getStaticValue(r);t.addValue(r,ia(o!==void 0?o:i,{owner:t}))}}for(const r in n)e[r]===void 0&&t.removeValue(r);return e}const ZC=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class qz{scrapeMotionValuesFromProps(e,n,r){return{}}constructor({parent:e,props:n,presenceContext:r,reducedMotionConfig:i,blockInitialAnimation:s,visualState:o},a={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=f_,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const f=en.now();this.renderScheduledAt<f&&(this.renderScheduledAt=f,Fe.render(this.render,!1,!0))};const{latestValues:l,renderState:c}=o;this.latestValues=l,this.baseTarget={...l},this.initialValues=n.initial?{...l}:{},this.renderState=c,this.parent=e,this.props=n,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=i,this.options=a,this.blockInitialAnimation=!!s,this.isControllingVariants=Sf(n),this.isVariantNode=rA(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:d,...h}=this.scrapeMotionValuesFromProps(n,{},this);for(const f in h){const v=h[f];l[f]!==void 0&&Pt(v)&&v.set(l[f],!1)}}mount(e){this.current=e,Gz.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),LA.current||Hz(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:_y.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),Vi(this.notifyUpdate),Vi(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const n=this.features[e];n&&(n.unmount(),n.isMounted=!1)}this.current=null}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const r=Sa.has(e);r&&this.onBindTransform&&this.onBindTransform();const i=n.on("change",a=>{this.latestValues[e]=a,this.props.onUpdate&&Fe.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0)}),s=n.on("renderRequest",this.scheduleRender);let o;window.MotionCheckAppearSync&&(o=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{i(),s(),o&&o(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in sa){const n=sa[e];if(!n)continue;const{isEnabled:r,Feature:i}=n;if(!this.features[e]&&i&&r(this.props)&&(this.features[e]=new i(this)),this.features[e]){const s=this.features[e];s.isMounted?s.update():(s.mount(),s.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):qe()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<ZC.length;r++){const i=ZC[r];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const s="on"+i,o=e[s];o&&(this.propEventSubscriptions[i]=this.on(i,o))}this.prevMotionValues=Kz(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const r=this.values.get(e);n!==r&&(r&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&n!==void 0&&(r=ia(n===null?void 0:n,{owner:this}),this.addValue(e,r)),r}readValue(e,n){let r=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return r!=null&&(typeof r=="string"&&(dR(r)||fR(r))?r=parseFloat(r):!h8(r)&&Ui.test(n)&&(r=qR(e,n)),this.setBaseTarget(e,Pt(r)?r.get():r)),Pt(r)?r.get():r}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var s;const{initial:n}=this.props;let r;if(typeof n=="string"||typeof n=="object"){const o=T_(this.props,n,(s=this.presenceContext)==null?void 0:s.custom);o&&(r=o[e])}if(n&&r!==void 0)return r;const i=this.getBaseTargetFromProps(this.props,e);return i!==void 0&&!Pt(i)?i:this.initialValues[e]!==void 0&&r===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new t_),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}}class jA extends qz{constructor(){super(...arguments),this.KeyframeResolver=e8}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:r}){delete n[e],delete r[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;Pt(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function FA(t,{style:e,vars:n},r,i){Object.assign(t.style,e,i&&i.getProjectionStyles(r));for(const s in n)t.style.setProperty(s,n[s])}function Yz(t){return window.getComputedStyle(t)}class Xz extends jA{constructor(){super(...arguments),this.type="html",this.renderInstance=FA}readValueFromInstance(e,n){var r;if(Sa.has(n))return(r=this.projection)!=null&&r.isProjecting?oy(n):_B(e,n);{const i=Yz(e),s=(i_(n)?i.getPropertyValue(n):i[n])||0;return typeof s=="string"?s.trim():s}}measureInstanceViewportBox(e,{transformPagePoint:n}){return CA(e,n)}build(e,n,r){C_(e,n,r.transformTemplate)}scrapeMotionValuesFromProps(e,n,r){return k_(e,n,r)}}const $A=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function Qz(t,e,n,r){FA(t,e,void 0,r);for(const i in e.attrs)t.setAttribute($A.has(i)?i:E_(i),e.attrs[i])}class Jz extends jA{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=qe}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(Sa.has(n)){const r=KR(n);return r&&r.default||0}return n=$A.has(n)?n:E_(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,r){return fA(e,n,r)}build(e,n,r){cA(e,n,this.isSVGTag,r.transformTemplate,r.style)}renderInstance(e,n,r,i){Qz(e,n,r,i)}mount(e){this.isSVGTag=dA(e.tagName),super.mount(e)}}const Zz=(t,e)=>b_(t)?new Jz(e):new Xz(e,{allowProjection:t!==T.Fragment}),eW=Q8({...C7,...zz,...Nz,...Wz},Zz),tW=E8(eW);function nW(){const t=Er(),e=xr(),[n,r]=T.useState(null),[i,s]=T.useState(null),[o,a]=T.useState(null),[l,c]=T.useState(null),[d,h]=T.useState(Array(6).fill({nombre:"",dorsal:""})),[f,v]=T.useState(Array(6).fill({nombre:"",dorsal:""})),[_,S]=T.useState(null);T.useState(!1),T.useEffect(()=>{var b,x;(b=e.state)!=null&&b.equipoLocal&&((x=e.state)!=null&&x.equipoVisita)?(r(e.state),s(e.state.equipoLocal),a(e.state.equipoVisita),c(e.state.genero)):(console.warn("[Alineacion.jsx] No se recibieron datos de configuración del partido. Redirigiendo."),t("/partido/configurar"))},[e.state,t]);const P=(b,x)=>{const I=x==="local"?d[b]:f[b],g=x==="local"?d:f,A=x==="local"?i==null?void 0:i.nombre:o==null?void 0:o.nombre;S({tipo:x,index:b,jugador:I,jugadoresActuales:g,nombreEquipo:A,generoPartido:l})},w=(b,x,I)=>{const g=x==="local"?h:v,O=[...x==="local"?d:f];O[b]=I,g(O),S(null)},C=async()=>{let b=null;try{const x=G=>G.every($=>$.nombre.trim()!==""&&$.dorsal.trim()!=="");if(!x(d)||!x(f)){alert("Todos los jugadores deben tener nombre y dorsal antes de continuar.");return}const I=se(ne,"partidos");b=gd(I).key;const[A,O]=await Promise.all([Tn(se(ne,`plantillas/${l.toLowerCase()}/${i.nombre.toLowerCase()}`)),Tn(se(ne,`plantillas/${l.toLowerCase()}/${o.nombre.toLowerCase()}`))]),N=A.exists()?A.val():Zg[i.nombre.toLowerCase()]||[],V=O.exists()?O.val():Zg[o.nombre.toLowerCase()]||[],W={nombre:i.nombre,logo:i.escudo.split("/").pop(),jugadores:d.map(G=>({...G,enJuego:!0,haJugado:!0})),todosJugadores:N},K={nombre:o.nombre,logo:o.escudo.split("/").pop(),jugadores:f.map(G=>({...G,enJuego:!0,haJugado:!0})),todosJugadores:V};await jt(se(ne,`partidos/${b}/alineacion`),{equipo1:W,equipo2:K,genero:l}),await jt(se(ne,`partidos/${b}/marcador`),{equipo1:0,equipo2:0}),t(`/control-partido/${b}`)}catch(x){alert("❌ ERROR al confirmar alineación: "+x.message),console.error("Error al confirmar alineación:",x)}},E=b=>`/EmproChampions-2025/camisas/camisa-${b.toLowerCase().replace(/\s+/g,"-")}.png`,R=b=>["don bosco","luz","emprosaurios"].includes(b.toLowerCase())?"#000":"#fff",D=[{top:"15%",left:"18%"},{top:"15%",left:"62%"},{top:"38%",left:"40%"},{top:"55%",left:"17%"},{top:"55%",left:"63%"},{top:"74%",left:"40%"}],M=(b,x,I,g)=>m.jsx(tW.div,{className:"absolute cursor-pointer",style:{top:D[x].top,left:D[x].left,transform:"translate(-50%, -50%)"},animate:{scale:(_==null?void 0:_.index)===x&&(_==null?void 0:_.tipo)===I?1.5:1},transition:{duration:.3},onClick:()=>P(x,I),children:m.jsxs("div",{className:"relative w-fit flex flex-col items-center",children:[m.jsx("div",{className:"absolute top-[12%] font-barcelona text-[24px] md:text-[30px] z-20 pointer-events-none",style:{color:R((I==="local"?i==null?void 0:i.nombre:o==null?void 0:o.nombre)||""),textShadow:"1px 1px 1px rgba(0,0,0,0.6)"},children:b.dorsal}),m.jsx("img",{src:g,className:"w-16 md:w-20 relative z-10",alt:`jugador-${I}`}),b.nombre&&m.jsx("div",{className:"absolute bottom-[-18px] font-barcelona text-[11px] text-white bg-black/80 px-2 py-[2px] rounded text-center z-20",children:b.nombre})]})},x);return!i||!o?null:m.jsxs("div",{className:"min-h-screen bg-cover bg-center font-qatar text-white",style:{backgroundImage:"url('/EmproChampions-2025/img/fondoempro-horizontal.png')"},children:[m.jsx(_r,{}),m.jsx("h1",{className:"text-3xl sm:text-5xl font-bold text-center mt-6 text-yellow-400 drop-shadow",children:"Alineación Inicial"}),m.jsxs("div",{className:"flex flex-col lg:flex-row items-center justify-center gap-4 lg:gap-8 p-2 lg:p-6",children:[m.jsxs("div",{className:"relative w-[300px] h-[510px] sm:w-[320px] sm:h-[540px] md:w-[400px] md:h-[640px]",children:[m.jsx("img",{src:"/EmproChampions-2025/img/cancha-vertical.svg",alt:"cancha local",className:"w-full h-full"}),d.map((b,x)=>M(b,x,"local",E(i.nombre)))]}),m.jsxs("div",{className:"flex flex-col items-center gap-4 my-4 lg:my-0",children:[m.jsx("img",{src:"/img/logo-empro.png",alt:"logo empro",className:"w-20 md:w-32"}),m.jsxs("div",{className:"flex items-center gap-4 md:gap-10",children:[m.jsx("img",{src:i.escudo,className:"w-20 h-20 md:w-24 md:h-24 object-contain",alt:"local logo"}),m.jsx("span",{className:"text-white text-3xl md:text-4xl font-black",children:"VS"}),m.jsx("img",{src:o.escudo,className:"w-20 h-20 md:w-24 md:h-24 object-contain",alt:"visita logo"})]}),m.jsx("button",{onClick:()=>t("/partido/configurar"),className:"bg-white/80 text-[#7a0026] font-bold px-6 py-2 rounded-full hover:bg-white transition",children:"⬅ Volver"})]}),m.jsxs("div",{className:"relative w-[300px] h-[510px] sm:w-[320px] sm:h-[540px] md:w-[400px] md:h-[640px]",children:[m.jsx("img",{src:"/EmproChampions-2025/img/cancha-vertical.svg",alt:"cancha visita",className:"w-full h-full"}),f.map((b,x)=>M(b,x,"visita",E(o.nombre)))]})]}),m.jsx("div",{className:"flex justify-center mt-6 pb-10",children:m.jsx("button",{onClick:C,className:"bg-[#FFD700] text-[#7a0026] font-bold px-10 py-3 rounded-full hover:bg-yellow-300 transition text-xl shadow-lg",children:"Confirmar Alineación"})}),m.jsx(y8,{children:_&&m.jsx(gU,{..._,onSave:w,onClose:()=>S(null),camiseta:E(_.tipo==="local"?i.nombre:o.nombre),dorsalColor:R(_.tipo==="local"?i.nombre:o.nombre)})}),m.jsx(wr,{})]})}function js(t){return t&&t.ownerDocument||document}function Ah(t){return js(t).defaultView||window}function rW(t=window){const e=t.document.documentElement.clientWidth;return t.innerWidth-e}function iW(t){const e=js(t);return e.body===t?Ah(t).innerWidth>e.documentElement.clientWidth:t.scrollHeight>t.clientHeight}function Ll(t,e){e?t.setAttribute("aria-hidden","true"):t.removeAttribute("aria-hidden")}function eS(t){return parseInt(Ah(t).getComputedStyle(t).paddingRight,10)||0}function sW(t){const n=["TEMPLATE","SCRIPT","STYLE","LINK","MAP","META","NOSCRIPT","PICTURE","COL","COLGROUP","PARAM","SLOT","SOURCE","TRACK"].includes(t.tagName),r=t.tagName==="INPUT"&&t.getAttribute("type")==="hidden";return n||r}function tS(t,e,n,r,i){const s=[e,n,...r];[].forEach.call(t.children,o=>{const a=!s.includes(o),l=!sW(o);a&&l&&Ll(o,i)})}function Cm(t,e){let n=-1;return t.some((r,i)=>e(r)?(n=i,!0):!1),n}function oW(t,e){const n=[],r=t.container;if(!e.disableScrollLock){if(iW(r)){const o=rW(Ah(r));n.push({value:r.style.paddingRight,property:"padding-right",el:r}),r.style.paddingRight=`${eS(r)+o}px`;const a=js(r).querySelectorAll(".mui-fixed");[].forEach.call(a,l=>{n.push({value:l.style.paddingRight,property:"padding-right",el:l}),l.style.paddingRight=`${eS(l)+o}px`})}let s;if(r.parentNode instanceof DocumentFragment)s=js(r).body;else{const o=r.parentElement,a=Ah(r);s=(o==null?void 0:o.nodeName)==="HTML"&&a.getComputedStyle(o).overflowY==="scroll"?o:r}n.push({value:s.style.overflow,property:"overflow",el:s},{value:s.style.overflowX,property:"overflow-x",el:s},{value:s.style.overflowY,property:"overflow-y",el:s}),s.style.overflow="hidden"}return()=>{n.forEach(({value:s,el:o,property:a})=>{s?o.style.setProperty(a,s):o.style.removeProperty(a)})}}function aW(t){const e=[];return[].forEach.call(t.children,n=>{n.getAttribute("aria-hidden")==="true"&&e.push(n)}),e}class lW{constructor(){this.modals=[],this.containers=[]}add(e,n){let r=this.modals.indexOf(e);if(r!==-1)return r;r=this.modals.length,this.modals.push(e),e.modalRef&&Ll(e.modalRef,!1);const i=aW(n);tS(n,e.mount,e.modalRef,i,!0);const s=Cm(this.containers,o=>o.container===n);return s!==-1?(this.containers[s].modals.push(e),r):(this.containers.push({modals:[e],container:n,restore:null,hiddenSiblings:i}),r)}mount(e,n){const r=Cm(this.containers,s=>s.modals.includes(e)),i=this.containers[r];i.restore||(i.restore=oW(i,n))}remove(e,n=!0){const r=this.modals.indexOf(e);if(r===-1)return r;const i=Cm(this.containers,o=>o.modals.includes(e)),s=this.containers[i];if(s.modals.splice(s.modals.indexOf(e),1),this.modals.splice(r,1),s.modals.length===0)s.restore&&s.restore(),e.modalRef&&Ll(e.modalRef,n),tS(s.container,e.mount,e.modalRef,s.hiddenSiblings,!1),this.containers.splice(i,1);else{const o=s.modals[s.modals.length-1];o.modalRef&&Ll(o.modalRef,!1)}return r}isTopModal(e){return this.modals.length>0&&this.modals[this.modals.length-1]===e}}function VA(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=VA(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function oa(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=VA(t))&&(r&&(r+=" "),r+=e);return r}function UA(t,e,n=void 0){const r={};for(const i in t){const s=t[i];let o="",a=!0;for(let l=0;l<s.length;l+=1){const c=s[l];c&&(o+=(a===!0?"":" ")+e(c),a=!1,n&&n[c]&&(o+=" "+n[c]))}r[i]=o}return r}function Zc(...t){const e=T.useRef(void 0),n=T.useCallback(r=>{const i=t.map(s=>{if(s==null)return null;if(typeof s=="function"){const o=s,a=o(r);return typeof a=="function"?a:()=>{o(null)}}return s.current=r,()=>{s.current=null}});return()=>{i.forEach(s=>s==null?void 0:s())}},t);return T.useMemo(()=>t.every(r=>r==null)?null:r=>{e.current&&(e.current(),e.current=void 0),r!=null&&(e.current=n(r))},t)}function P_(t){var e;return parseInt(T.version,10)>=19?((e=t==null?void 0:t.props)==null?void 0:e.ref)||null:(t==null?void 0:t.ref)||null}const cW=["input","select","textarea","a[href]","button","[tabindex]","audio[controls]","video[controls]",'[contenteditable]:not([contenteditable="false"])'].join(",");function uW(t){const e=parseInt(t.getAttribute("tabindex")||"",10);return Number.isNaN(e)?t.contentEditable==="true"||(t.nodeName==="AUDIO"||t.nodeName==="VIDEO"||t.nodeName==="DETAILS")&&t.getAttribute("tabindex")===null?0:t.tabIndex:e}function dW(t){if(t.tagName!=="INPUT"||t.type!=="radio"||!t.name)return!1;const e=r=>t.ownerDocument.querySelector(`input[type="radio"]${r}`);let n=e(`[name="${t.name}"]:checked`);return n||(n=e(`[name="${t.name}"]`)),n!==t}function hW(t){return!(t.disabled||t.tagName==="INPUT"&&t.type==="hidden"||dW(t))}function fW(t){const e=[],n=[];return Array.from(t.querySelectorAll(cW)).forEach((r,i)=>{const s=uW(r);s===-1||!hW(r)||(s===0?e.push(r):n.push({documentOrder:i,tabIndex:s,node:r}))}),n.sort((r,i)=>r.tabIndex===i.tabIndex?r.documentOrder-i.documentOrder:r.tabIndex-i.tabIndex).map(r=>r.node).concat(e)}function pW(){return!0}function mW(t){const{children:e,disableAutoFocus:n=!1,disableEnforceFocus:r=!1,disableRestoreFocus:i=!1,getTabbable:s=fW,isEnabled:o=pW,open:a}=t,l=T.useRef(!1),c=T.useRef(null),d=T.useRef(null),h=T.useRef(null),f=T.useRef(null),v=T.useRef(!1),_=T.useRef(null),S=Zc(P_(e),_),P=T.useRef(null);T.useEffect(()=>{!a||!_.current||(v.current=!n)},[n,a]),T.useEffect(()=>{if(!a||!_.current)return;const E=js(_.current);return _.current.contains(E.activeElement)||(_.current.hasAttribute("tabIndex")||_.current.setAttribute("tabIndex","-1"),v.current&&_.current.focus()),()=>{i||(h.current&&h.current.focus&&(l.current=!0,h.current.focus()),h.current=null)}},[a]),T.useEffect(()=>{if(!a||!_.current)return;const E=js(_.current),R=b=>{P.current=b,!(r||!o()||b.key!=="Tab")&&E.activeElement===_.current&&b.shiftKey&&(l.current=!0,d.current&&d.current.focus())},D=()=>{var I,g;const b=_.current;if(b===null)return;if(!E.hasFocus()||!o()||l.current){l.current=!1;return}if(b.contains(E.activeElement)||r&&E.activeElement!==c.current&&E.activeElement!==d.current)return;if(E.activeElement!==f.current)f.current=null;else if(f.current!==null)return;if(!v.current)return;let x=[];if((E.activeElement===c.current||E.activeElement===d.current)&&(x=s(_.current)),x.length>0){const A=!!((I=P.current)!=null&&I.shiftKey&&((g=P.current)==null?void 0:g.key)==="Tab"),O=x[0],N=x[x.length-1];typeof O!="string"&&typeof N!="string"&&(A?N.focus():O.focus())}else b.focus()};E.addEventListener("focusin",D),E.addEventListener("keydown",R,!0);const M=setInterval(()=>{E.activeElement&&E.activeElement.tagName==="BODY"&&D()},50);return()=>{clearInterval(M),E.removeEventListener("focusin",D),E.removeEventListener("keydown",R,!0)}},[n,r,i,o,a,s]);const w=E=>{h.current===null&&(h.current=E.relatedTarget),v.current=!0,f.current=E.target;const R=e.props.onFocus;R&&R(E)},C=E=>{h.current===null&&(h.current=E.relatedTarget),v.current=!0};return m.jsxs(T.Fragment,{children:[m.jsx("div",{tabIndex:a?0:-1,onFocus:C,ref:c,"data-testid":"sentinelStart"}),T.cloneElement(e,{ref:S,onFocus:w}),m.jsx("div",{tabIndex:a?0:-1,onFocus:C,ref:d,"data-testid":"sentinelEnd"})]})}const gW=typeof window<"u"?T.useLayoutEffect:T.useEffect,wy=gW;function nS(t,e){typeof t=="function"?t(e):t&&(t.current=e)}function yW(t){return typeof t=="function"?t():t}const vW=T.forwardRef(function(e,n){const{children:r,container:i,disablePortal:s=!1}=e,[o,a]=T.useState(null),l=Zc(T.isValidElement(r)?P_(r):null,n);if(wy(()=>{s||a(yW(i)||document.body)},[i,s]),wy(()=>{if(o&&!s)return nS(n,o),()=>{nS(n,null)}},[n,o,s]),s){if(T.isValidElement(r)){const c={ref:l};return T.cloneElement(r,c)}return r}return o&&D0.createPortal(r,o)}),_W=vW;function Fs(t,...e){const n=new URL(`https://mui.com/production-error/?code=${t}`);return e.forEach(r=>n.searchParams.append("args[]",r)),`Minified MUI error #${t}; visit ${n} for the full message.`}function BA(t){if(typeof t!="string")throw new Error(Fs(7));return t.charAt(0).toUpperCase()+t.slice(1)}var zA={exports:{}},be={};/**
 * @license React
 * react-is.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var R_=Symbol.for("react.transitional.element"),A_=Symbol.for("react.portal"),bf=Symbol.for("react.fragment"),Tf=Symbol.for("react.strict_mode"),kf=Symbol.for("react.profiler"),If=Symbol.for("react.consumer"),Pf=Symbol.for("react.context"),Rf=Symbol.for("react.forward_ref"),Af=Symbol.for("react.suspense"),Nf=Symbol.for("react.suspense_list"),Df=Symbol.for("react.memo"),Of=Symbol.for("react.lazy"),wW=Symbol.for("react.view_transition"),xW=Symbol.for("react.client.reference");function Dn(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case R_:switch(t=t.type,t){case bf:case kf:case Tf:case Af:case Nf:case wW:return t;default:switch(t=t&&t.$$typeof,t){case Pf:case Rf:case Of:case Df:return t;case If:return t;default:return e}}case A_:return e}}}be.ContextConsumer=If;be.ContextProvider=Pf;be.Element=R_;be.ForwardRef=Rf;be.Fragment=bf;be.Lazy=Of;be.Memo=Df;be.Portal=A_;be.Profiler=kf;be.StrictMode=Tf;be.Suspense=Af;be.SuspenseList=Nf;be.isContextConsumer=function(t){return Dn(t)===If};be.isContextProvider=function(t){return Dn(t)===Pf};be.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===R_};be.isForwardRef=function(t){return Dn(t)===Rf};be.isFragment=function(t){return Dn(t)===bf};be.isLazy=function(t){return Dn(t)===Of};be.isMemo=function(t){return Dn(t)===Df};be.isPortal=function(t){return Dn(t)===A_};be.isProfiler=function(t){return Dn(t)===kf};be.isStrictMode=function(t){return Dn(t)===Tf};be.isSuspense=function(t){return Dn(t)===Af};be.isSuspenseList=function(t){return Dn(t)===Nf};be.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===bf||t===kf||t===Tf||t===Af||t===Nf||typeof t=="object"&&t!==null&&(t.$$typeof===Of||t.$$typeof===Df||t.$$typeof===Pf||t.$$typeof===If||t.$$typeof===Rf||t.$$typeof===xW||t.getModuleId!==void 0)};be.typeOf=Dn;zA.exports=be;var WA=zA.exports;function ur(t){if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)}function HA(t){if(T.isValidElement(t)||WA.isValidElementType(t)||!ur(t))return t;const e={};return Object.keys(t).forEach(n=>{e[n]=HA(t[n])}),e}function dn(t,e,n={clone:!0}){const r=n.clone?{...t}:t;return ur(t)&&ur(e)&&Object.keys(e).forEach(i=>{T.isValidElement(e[i])||WA.isValidElementType(e[i])?r[i]=e[i]:ur(e[i])&&Object.prototype.hasOwnProperty.call(t,i)&&ur(t[i])?r[i]=dn(t[i],e[i],n):n.clone?r[i]=ur(e[i])?HA(e[i]):e[i]:r[i]=e[i]}),r}function jl(t,e){return e?dn(t,e,{clone:!1}):t}function EW(t,e){if(!t.containerQueries)return e;const n=Object.keys(e).filter(r=>r.startsWith("@container")).sort((r,i)=>{var o,a;const s=/min-width:\s*([0-9.]+)/;return+(((o=r.match(s))==null?void 0:o[1])||0)-+(((a=i.match(s))==null?void 0:a[1])||0)});return n.length?n.reduce((r,i)=>{const s=e[i];return delete r[i],r[i]=s,r},{...e}):e}function CW(t,e){return e==="@"||e.startsWith("@")&&(t.some(n=>e.startsWith(`@${n}`))||!!e.match(/^@\d/))}function SW(t,e){const n=e.match(/^@([^/]+)?\/?(.+)?$/);if(!n)return null;const[,r,i]=n,s=Number.isNaN(+r)?r||0:+r;return t.containerQueries(i).up(s)}function bW(t){const e=(s,o)=>s.replace("@media",o?`@container ${o}`:"@container");function n(s,o){s.up=(...a)=>e(t.breakpoints.up(...a),o),s.down=(...a)=>e(t.breakpoints.down(...a),o),s.between=(...a)=>e(t.breakpoints.between(...a),o),s.only=(...a)=>e(t.breakpoints.only(...a),o),s.not=(...a)=>{const l=e(t.breakpoints.not(...a),o);return l.includes("not all and")?l.replace("not all and ","").replace("min-width:","width<").replace("max-width:","width>").replace("and","or"):l}}const r={},i=s=>(n(r,s),r);return n(i),{...t,containerQueries:i}}const Mf={xs:0,sm:600,md:900,lg:1200,xl:1536},rS={keys:["xs","sm","md","lg","xl"],up:t=>`@media (min-width:${Mf[t]}px)`},TW={containerQueries:t=>({up:e=>{let n=typeof e=="number"?e:Mf[e]||e;return typeof n=="number"&&(n=`${n}px`),t?`@container ${t} (min-width:${n})`:`@container (min-width:${n})`}})};function ei(t,e,n){const r=t.theme||{};if(Array.isArray(e)){const s=r.breakpoints||rS;return e.reduce((o,a,l)=>(o[s.up(s.keys[l])]=n(e[l]),o),{})}if(typeof e=="object"){const s=r.breakpoints||rS;return Object.keys(e).reduce((o,a)=>{if(CW(s.keys,a)){const l=SW(r.containerQueries?r:TW,a);l&&(o[l]=n(e[a],a))}else if(Object.keys(s.values||Mf).includes(a)){const l=s.up(a);o[l]=n(e[a],a)}else{const l=a;o[l]=e[l]}return o},{})}return n(e)}function kW(t={}){var n;return((n=t.keys)==null?void 0:n.reduce((r,i)=>{const s=t.up(i);return r[s]={},r},{}))||{}}function IW(t,e){return t.reduce((n,r)=>{const i=n[r];return(!i||Object.keys(i).length===0)&&delete n[r],n},e)}function Lf(t,e,n=!0){if(!e||typeof e!="string")return null;if(t&&t.vars&&n){const r=`vars.${e}`.split(".").reduce((i,s)=>i&&i[s]?i[s]:null,t);if(r!=null)return r}return e.split(".").reduce((r,i)=>r&&r[i]!=null?r[i]:null,t)}function Nh(t,e,n,r=n){let i;return typeof t=="function"?i=t(n):Array.isArray(t)?i=t[n]||r:i=Lf(t,n)||r,e&&(i=e(i,r,t)),i}function Qe(t){const{prop:e,cssProperty:n=t.prop,themeKey:r,transform:i}=t,s=o=>{if(o[e]==null)return null;const a=o[e],l=o.theme,c=Lf(l,r)||{};return ei(o,a,h=>{let f=Nh(c,i,h);return h===f&&typeof h=="string"&&(f=Nh(c,i,`${e}${h==="default"?"":BA(h)}`,h)),n===!1?f:{[n]:f}})};return s.propTypes={},s.filterProps=[e],s}function PW(t){const e={};return n=>(e[n]===void 0&&(e[n]=t(n)),e[n])}const RW={m:"margin",p:"padding"},AW={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},iS={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},NW=PW(t=>{if(t.length>2)if(iS[t])t=iS[t];else return[t];const[e,n]=t.split(""),r=RW[e],i=AW[n]||"";return Array.isArray(i)?i.map(s=>r+s):[r+i]}),N_=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],D_=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"];[...N_,...D_];function eu(t,e,n,r){const i=Lf(t,e,!0)??n;return typeof i=="number"||typeof i=="string"?s=>typeof s=="string"?s:typeof i=="string"?i.startsWith("var(")&&s===0?0:i.startsWith("var(")&&s===1?i:`calc(${s} * ${i})`:i*s:Array.isArray(i)?s=>{if(typeof s=="string")return s;const o=Math.abs(s),a=i[o];return s>=0?a:typeof a=="number"?-a:typeof a=="string"&&a.startsWith("var(")?`calc(-1 * ${a})`:`-${a}`}:typeof i=="function"?i:()=>{}}function O_(t){return eu(t,"spacing",8)}function tu(t,e){return typeof e=="string"||e==null?e:t(e)}function DW(t,e){return n=>t.reduce((r,i)=>(r[i]=tu(e,n),r),{})}function OW(t,e,n,r){if(!e.includes(n))return null;const i=NW(n),s=DW(i,r),o=t[n];return ei(t,o,s)}function GA(t,e){const n=O_(t.theme);return Object.keys(t).map(r=>OW(t,e,r,n)).reduce(jl,{})}function Ue(t){return GA(t,N_)}Ue.propTypes={};Ue.filterProps=N_;function Be(t){return GA(t,D_)}Be.propTypes={};Be.filterProps=D_;function jf(...t){const e=t.reduce((r,i)=>(i.filterProps.forEach(s=>{r[s]=i}),r),{}),n=r=>Object.keys(r).reduce((i,s)=>e[s]?jl(i,e[s](r)):i,{});return n.propTypes={},n.filterProps=t.reduce((r,i)=>r.concat(i.filterProps),[]),n}function En(t){return typeof t!="number"?t:`${t}px solid`}function On(t,e){return Qe({prop:t,themeKey:"borders",transform:e})}const MW=On("border",En),LW=On("borderTop",En),jW=On("borderRight",En),FW=On("borderBottom",En),$W=On("borderLeft",En),VW=On("borderColor"),UW=On("borderTopColor"),BW=On("borderRightColor"),zW=On("borderBottomColor"),WW=On("borderLeftColor"),HW=On("outline",En),GW=On("outlineColor"),Ff=t=>{if(t.borderRadius!==void 0&&t.borderRadius!==null){const e=eu(t.theme,"shape.borderRadius",4),n=r=>({borderRadius:tu(e,r)});return ei(t,t.borderRadius,n)}return null};Ff.propTypes={};Ff.filterProps=["borderRadius"];jf(MW,LW,jW,FW,$W,VW,UW,BW,zW,WW,Ff,HW,GW);const $f=t=>{if(t.gap!==void 0&&t.gap!==null){const e=eu(t.theme,"spacing",8),n=r=>({gap:tu(e,r)});return ei(t,t.gap,n)}return null};$f.propTypes={};$f.filterProps=["gap"];const Vf=t=>{if(t.columnGap!==void 0&&t.columnGap!==null){const e=eu(t.theme,"spacing",8),n=r=>({columnGap:tu(e,r)});return ei(t,t.columnGap,n)}return null};Vf.propTypes={};Vf.filterProps=["columnGap"];const Uf=t=>{if(t.rowGap!==void 0&&t.rowGap!==null){const e=eu(t.theme,"spacing",8),n=r=>({rowGap:tu(e,r)});return ei(t,t.rowGap,n)}return null};Uf.propTypes={};Uf.filterProps=["rowGap"];const KW=Qe({prop:"gridColumn"}),qW=Qe({prop:"gridRow"}),YW=Qe({prop:"gridAutoFlow"}),XW=Qe({prop:"gridAutoColumns"}),QW=Qe({prop:"gridAutoRows"}),JW=Qe({prop:"gridTemplateColumns"}),ZW=Qe({prop:"gridTemplateRows"}),eH=Qe({prop:"gridTemplateAreas"}),tH=Qe({prop:"gridArea"});jf($f,Vf,Uf,KW,qW,YW,XW,QW,JW,ZW,eH,tH);function Vo(t,e){return e==="grey"?e:t}const nH=Qe({prop:"color",themeKey:"palette",transform:Vo}),rH=Qe({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette",transform:Vo}),iH=Qe({prop:"backgroundColor",themeKey:"palette",transform:Vo});jf(nH,rH,iH);function ln(t){return t<=1&&t!==0?`${t*100}%`:t}const sH=Qe({prop:"width",transform:ln}),M_=t=>{if(t.maxWidth!==void 0&&t.maxWidth!==null){const e=n=>{var i,s,o,a,l;const r=((o=(s=(i=t.theme)==null?void 0:i.breakpoints)==null?void 0:s.values)==null?void 0:o[n])||Mf[n];return r?((l=(a=t.theme)==null?void 0:a.breakpoints)==null?void 0:l.unit)!=="px"?{maxWidth:`${r}${t.theme.breakpoints.unit}`}:{maxWidth:r}:{maxWidth:ln(n)}};return ei(t,t.maxWidth,e)}return null};M_.filterProps=["maxWidth"];const oH=Qe({prop:"minWidth",transform:ln}),aH=Qe({prop:"height",transform:ln}),lH=Qe({prop:"maxHeight",transform:ln}),cH=Qe({prop:"minHeight",transform:ln});Qe({prop:"size",cssProperty:"width",transform:ln});Qe({prop:"size",cssProperty:"height",transform:ln});const uH=Qe({prop:"boxSizing"});jf(sH,M_,oH,aH,lH,cH,uH);const dH={border:{themeKey:"borders",transform:En},borderTop:{themeKey:"borders",transform:En},borderRight:{themeKey:"borders",transform:En},borderBottom:{themeKey:"borders",transform:En},borderLeft:{themeKey:"borders",transform:En},borderColor:{themeKey:"palette"},borderTopColor:{themeKey:"palette"},borderRightColor:{themeKey:"palette"},borderBottomColor:{themeKey:"palette"},borderLeftColor:{themeKey:"palette"},outline:{themeKey:"borders",transform:En},outlineColor:{themeKey:"palette"},borderRadius:{themeKey:"shape.borderRadius",style:Ff},color:{themeKey:"palette",transform:Vo},bgcolor:{themeKey:"palette",cssProperty:"backgroundColor",transform:Vo},backgroundColor:{themeKey:"palette",transform:Vo},p:{style:Be},pt:{style:Be},pr:{style:Be},pb:{style:Be},pl:{style:Be},px:{style:Be},py:{style:Be},padding:{style:Be},paddingTop:{style:Be},paddingRight:{style:Be},paddingBottom:{style:Be},paddingLeft:{style:Be},paddingX:{style:Be},paddingY:{style:Be},paddingInline:{style:Be},paddingInlineStart:{style:Be},paddingInlineEnd:{style:Be},paddingBlock:{style:Be},paddingBlockStart:{style:Be},paddingBlockEnd:{style:Be},m:{style:Ue},mt:{style:Ue},mr:{style:Ue},mb:{style:Ue},ml:{style:Ue},mx:{style:Ue},my:{style:Ue},margin:{style:Ue},marginTop:{style:Ue},marginRight:{style:Ue},marginBottom:{style:Ue},marginLeft:{style:Ue},marginX:{style:Ue},marginY:{style:Ue},marginInline:{style:Ue},marginInlineStart:{style:Ue},marginInlineEnd:{style:Ue},marginBlock:{style:Ue},marginBlockStart:{style:Ue},marginBlockEnd:{style:Ue},displayPrint:{cssProperty:!1,transform:t=>({"@media print":{display:t}})},display:{},overflow:{},textOverflow:{},visibility:{},whiteSpace:{},flexBasis:{},flexDirection:{},flexWrap:{},justifyContent:{},alignItems:{},alignContent:{},order:{},flex:{},flexGrow:{},flexShrink:{},alignSelf:{},justifyItems:{},justifySelf:{},gap:{style:$f},rowGap:{style:Uf},columnGap:{style:Vf},gridColumn:{},gridRow:{},gridAutoFlow:{},gridAutoColumns:{},gridAutoRows:{},gridTemplateColumns:{},gridTemplateRows:{},gridTemplateAreas:{},gridArea:{},position:{},zIndex:{themeKey:"zIndex"},top:{},right:{},bottom:{},left:{},boxShadow:{themeKey:"shadows"},width:{transform:ln},maxWidth:{style:M_},minWidth:{transform:ln},height:{transform:ln},maxHeight:{transform:ln},minHeight:{transform:ln},boxSizing:{},font:{themeKey:"font"},fontFamily:{themeKey:"typography"},fontSize:{themeKey:"typography"},fontStyle:{themeKey:"typography"},fontWeight:{themeKey:"typography"},letterSpacing:{},textTransform:{},lineHeight:{},textAlign:{},typography:{cssProperty:!1,themeKey:"typography"}},nu=dH;function hH(...t){const e=t.reduce((r,i)=>r.concat(Object.keys(i)),[]),n=new Set(e);return t.every(r=>n.size===Object.keys(r).length)}function fH(t,e){return typeof t=="function"?t(e):t}function pH(){function t(n,r,i,s){const o={[n]:r,theme:i},a=s[n];if(!a)return{[n]:r};const{cssProperty:l=n,themeKey:c,transform:d,style:h}=a;if(r==null)return null;if(c==="typography"&&r==="inherit")return{[n]:r};const f=Lf(i,c)||{};return h?h(o):ei(o,r,_=>{let S=Nh(f,d,_);return _===S&&typeof _=="string"&&(S=Nh(f,d,`${n}${_==="default"?"":BA(_)}`,_)),l===!1?S:{[l]:S}})}function e(n){const{sx:r,theme:i={}}=n||{};if(!r)return null;const s=i.unstable_sxConfig??nu;function o(a){let l=a;if(typeof a=="function")l=a(i);else if(typeof a!="object")return a;if(!l)return null;const c=kW(i.breakpoints),d=Object.keys(c);let h=c;return Object.keys(l).forEach(f=>{const v=fH(l[f],i);if(v!=null)if(typeof v=="object")if(s[f])h=jl(h,t(f,v,i,s));else{const _=ei({theme:i},v,S=>({[f]:S}));hH(_,v)?h[f]=e({sx:v,theme:i}):h=jl(h,_)}else h=jl(h,t(f,v,i,s))}),EW(i,IW(d,h))}return Array.isArray(r)?r.map(o):o(r)}return e}const KA=pH();KA.filterProps=["sx"];const aa=KA,mH=t=>{var r;const e={systemProps:{},otherProps:{}},n=((r=t==null?void 0:t.theme)==null?void 0:r.unstable_sxConfig)??nu;return Object.keys(t).forEach(i=>{n[i]?e.systemProps[i]=t[i]:e.otherProps[i]=t[i]}),e};function gH(t){const{sx:e,...n}=t,{systemProps:r,otherProps:i}=mH(n);let s;return Array.isArray(e)?s=[r,...e]:typeof e=="function"?s=(...o)=>{const a=e(...o);return ur(a)?{...r,...a}:r}:s={...r,...e},{...i,sx:s}}function xy(){return xy=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},xy.apply(null,arguments)}var yH=!1;function vH(t){if(t.sheet)return t.sheet;for(var e=0;e<document.styleSheets.length;e++)if(document.styleSheets[e].ownerNode===t)return document.styleSheets[e]}function _H(t){var e=document.createElement("style");return e.setAttribute("data-emotion",t.key),t.nonce!==void 0&&e.setAttribute("nonce",t.nonce),e.appendChild(document.createTextNode("")),e.setAttribute("data-s",""),e}var wH=function(){function t(n){var r=this;this._insertTag=function(i){var s;r.tags.length===0?r.insertionPoint?s=r.insertionPoint.nextSibling:r.prepend?s=r.container.firstChild:s=r.before:s=r.tags[r.tags.length-1].nextSibling,r.container.insertBefore(i,s),r.tags.push(i)},this.isSpeedy=n.speedy===void 0?!yH:n.speedy,this.tags=[],this.ctr=0,this.nonce=n.nonce,this.key=n.key,this.container=n.container,this.prepend=n.prepend,this.insertionPoint=n.insertionPoint,this.before=null}var e=t.prototype;return e.hydrate=function(r){r.forEach(this._insertTag)},e.insert=function(r){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(_H(this));var i=this.tags[this.tags.length-1];if(this.isSpeedy){var s=vH(i);try{s.insertRule(r,s.cssRules.length)}catch{}}else i.appendChild(document.createTextNode(r));this.ctr++},e.flush=function(){this.tags.forEach(function(r){var i;return(i=r.parentNode)==null?void 0:i.removeChild(r)}),this.tags=[],this.ctr=0},t}(),Tt="-ms-",Dh="-moz-",ge="-webkit-",qA="comm",L_="rule",j_="decl",xH="@import",YA="@keyframes",EH="@layer",CH=Math.abs,Bf=String.fromCharCode,SH=Object.assign;function bH(t,e){return gt(t,0)^45?(((e<<2^gt(t,0))<<2^gt(t,1))<<2^gt(t,2))<<2^gt(t,3):0}function XA(t){return t.trim()}function TH(t,e){return(t=e.exec(t))?t[0]:t}function ye(t,e,n){return t.replace(e,n)}function Ey(t,e){return t.indexOf(e)}function gt(t,e){return t.charCodeAt(e)|0}function Sc(t,e,n){return t.slice(e,n)}function or(t){return t.length}function F_(t){return t.length}function Hu(t,e){return e.push(t),t}function kH(t,e){return t.map(e).join("")}var zf=1,la=1,QA=0,sn=0,Je=0,ba="";function Wf(t,e,n,r,i,s,o){return{value:t,root:e,parent:n,type:r,props:i,children:s,line:zf,column:la,length:o,return:""}}function tl(t,e){return SH(Wf("",null,null,"",null,null,0),t,{length:-t.length},e)}function IH(){return Je}function PH(){return Je=sn>0?gt(ba,--sn):0,la--,Je===10&&(la=1,zf--),Je}function hn(){return Je=sn<QA?gt(ba,sn++):0,la++,Je===10&&(la=1,zf++),Je}function yr(){return gt(ba,sn)}function xd(){return sn}function ru(t,e){return Sc(ba,t,e)}function bc(t){switch(t){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function JA(t){return zf=la=1,QA=or(ba=t),sn=0,[]}function ZA(t){return ba="",t}function Ed(t){return XA(ru(sn-1,Cy(t===91?t+2:t===40?t+1:t)))}function RH(t){for(;(Je=yr())&&Je<33;)hn();return bc(t)>2||bc(Je)>3?"":" "}function AH(t,e){for(;--e&&hn()&&!(Je<48||Je>102||Je>57&&Je<65||Je>70&&Je<97););return ru(t,xd()+(e<6&&yr()==32&&hn()==32))}function Cy(t){for(;hn();)switch(Je){case t:return sn;case 34:case 39:t!==34&&t!==39&&Cy(Je);break;case 40:t===41&&Cy(t);break;case 92:hn();break}return sn}function NH(t,e){for(;hn()&&t+Je!==47+10;)if(t+Je===42+42&&yr()===47)break;return"/*"+ru(e,sn-1)+"*"+Bf(t===47?t:hn())}function DH(t){for(;!bc(yr());)hn();return ru(t,sn)}function OH(t){return ZA(Cd("",null,null,null,[""],t=JA(t),0,[0],t))}function Cd(t,e,n,r,i,s,o,a,l){for(var c=0,d=0,h=o,f=0,v=0,_=0,S=1,P=1,w=1,C=0,E="",R=i,D=s,M=r,b=E;P;)switch(_=C,C=hn()){case 40:if(_!=108&&gt(b,h-1)==58){Ey(b+=ye(Ed(C),"&","&\f"),"&\f")!=-1&&(w=-1);break}case 34:case 39:case 91:b+=Ed(C);break;case 9:case 10:case 13:case 32:b+=RH(_);break;case 92:b+=AH(xd()-1,7);continue;case 47:switch(yr()){case 42:case 47:Hu(MH(NH(hn(),xd()),e,n),l);break;default:b+="/"}break;case 123*S:a[c++]=or(b)*w;case 125*S:case 59:case 0:switch(C){case 0:case 125:P=0;case 59+d:w==-1&&(b=ye(b,/\f/g,"")),v>0&&or(b)-h&&Hu(v>32?oS(b+";",r,n,h-1):oS(ye(b," ","")+";",r,n,h-2),l);break;case 59:b+=";";default:if(Hu(M=sS(b,e,n,c,d,i,a,E,R=[],D=[],h),s),C===123)if(d===0)Cd(b,e,M,M,R,s,h,a,D);else switch(f===99&&gt(b,3)===110?100:f){case 100:case 108:case 109:case 115:Cd(t,M,M,r&&Hu(sS(t,M,M,0,0,i,a,E,i,R=[],h),D),i,D,h,a,r?R:D);break;default:Cd(b,M,M,M,[""],D,0,a,D)}}c=d=v=0,S=w=1,E=b="",h=o;break;case 58:h=1+or(b),v=_;default:if(S<1){if(C==123)--S;else if(C==125&&S++==0&&PH()==125)continue}switch(b+=Bf(C),C*S){case 38:w=d>0?1:(b+="\f",-1);break;case 44:a[c++]=(or(b)-1)*w,w=1;break;case 64:yr()===45&&(b+=Ed(hn())),f=yr(),d=h=or(E=b+=DH(xd())),C++;break;case 45:_===45&&or(b)==2&&(S=0)}}return s}function sS(t,e,n,r,i,s,o,a,l,c,d){for(var h=i-1,f=i===0?s:[""],v=F_(f),_=0,S=0,P=0;_<r;++_)for(var w=0,C=Sc(t,h+1,h=CH(S=o[_])),E=t;w<v;++w)(E=XA(S>0?f[w]+" "+C:ye(C,/&\f/g,f[w])))&&(l[P++]=E);return Wf(t,e,n,i===0?L_:a,l,c,d)}function MH(t,e,n){return Wf(t,e,n,qA,Bf(IH()),Sc(t,2,-2),0)}function oS(t,e,n,r){return Wf(t,e,n,j_,Sc(t,0,r),Sc(t,r+1,-1),r)}function Uo(t,e){for(var n="",r=F_(t),i=0;i<r;i++)n+=e(t[i],i,t,e)||"";return n}function LH(t,e,n,r){switch(t.type){case EH:if(t.children.length)break;case xH:case j_:return t.return=t.return||t.value;case qA:return"";case YA:return t.return=t.value+"{"+Uo(t.children,r)+"}";case L_:t.value=t.props.join(",")}return or(n=Uo(t.children,r))?t.return=t.value+"{"+n+"}":""}function jH(t){var e=F_(t);return function(n,r,i,s){for(var o="",a=0;a<e;a++)o+=t[a](n,r,i,s)||"";return o}}function FH(t){return function(e){e.root||(e=e.return)&&t(e)}}function e2(t){var e=Object.create(null);return function(n){return e[n]===void 0&&(e[n]=t(n)),e[n]}}var $H=function(e,n,r){for(var i=0,s=0;i=s,s=yr(),i===38&&s===12&&(n[r]=1),!bc(s);)hn();return ru(e,sn)},VH=function(e,n){var r=-1,i=44;do switch(bc(i)){case 0:i===38&&yr()===12&&(n[r]=1),e[r]+=$H(sn-1,n,r);break;case 2:e[r]+=Ed(i);break;case 4:if(i===44){e[++r]=yr()===58?"&\f":"",n[r]=e[r].length;break}default:e[r]+=Bf(i)}while(i=hn());return e},UH=function(e,n){return ZA(VH(JA(e),n))},aS=new WeakMap,BH=function(e){if(!(e.type!=="rule"||!e.parent||e.length<1)){for(var n=e.value,r=e.parent,i=e.column===r.column&&e.line===r.line;r.type!=="rule";)if(r=r.parent,!r)return;if(!(e.props.length===1&&n.charCodeAt(0)!==58&&!aS.get(r))&&!i){aS.set(e,!0);for(var s=[],o=UH(n,s),a=r.props,l=0,c=0;l<o.length;l++)for(var d=0;d<a.length;d++,c++)e.props[c]=s[l]?o[l].replace(/&\f/g,a[d]):a[d]+" "+o[l]}}},zH=function(e){if(e.type==="decl"){var n=e.value;n.charCodeAt(0)===108&&n.charCodeAt(2)===98&&(e.return="",e.value="")}};function t2(t,e){switch(bH(t,e)){case 5103:return ge+"print-"+t+t;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return ge+t+t;case 5349:case 4246:case 4810:case 6968:case 2756:return ge+t+Dh+t+Tt+t+t;case 6828:case 4268:return ge+t+Tt+t+t;case 6165:return ge+t+Tt+"flex-"+t+t;case 5187:return ge+t+ye(t,/(\w+).+(:[^]+)/,ge+"box-$1$2"+Tt+"flex-$1$2")+t;case 5443:return ge+t+Tt+"flex-item-"+ye(t,/flex-|-self/,"")+t;case 4675:return ge+t+Tt+"flex-line-pack"+ye(t,/align-content|flex-|-self/,"")+t;case 5548:return ge+t+Tt+ye(t,"shrink","negative")+t;case 5292:return ge+t+Tt+ye(t,"basis","preferred-size")+t;case 6060:return ge+"box-"+ye(t,"-grow","")+ge+t+Tt+ye(t,"grow","positive")+t;case 4554:return ge+ye(t,/([^-])(transform)/g,"$1"+ge+"$2")+t;case 6187:return ye(ye(ye(t,/(zoom-|grab)/,ge+"$1"),/(image-set)/,ge+"$1"),t,"")+t;case 5495:case 3959:return ye(t,/(image-set\([^]*)/,ge+"$1$`$1");case 4968:return ye(ye(t,/(.+:)(flex-)?(.*)/,ge+"box-pack:$3"+Tt+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+ge+t+t;case 4095:case 3583:case 4068:case 2532:return ye(t,/(.+)-inline(.+)/,ge+"$1$2")+t;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(or(t)-1-e>6)switch(gt(t,e+1)){case 109:if(gt(t,e+4)!==45)break;case 102:return ye(t,/(.+:)(.+)-([^]+)/,"$1"+ge+"$2-$3$1"+Dh+(gt(t,e+3)==108?"$3":"$2-$3"))+t;case 115:return~Ey(t,"stretch")?t2(ye(t,"stretch","fill-available"),e)+t:t}break;case 4949:if(gt(t,e+1)!==115)break;case 6444:switch(gt(t,or(t)-3-(~Ey(t,"!important")&&10))){case 107:return ye(t,":",":"+ge)+t;case 101:return ye(t,/(.+:)([^;!]+)(;|!.+)?/,"$1"+ge+(gt(t,14)===45?"inline-":"")+"box$3$1"+ge+"$2$3$1"+Tt+"$2box$3")+t}break;case 5936:switch(gt(t,e+11)){case 114:return ge+t+Tt+ye(t,/[svh]\w+-[tblr]{2}/,"tb")+t;case 108:return ge+t+Tt+ye(t,/[svh]\w+-[tblr]{2}/,"tb-rl")+t;case 45:return ge+t+Tt+ye(t,/[svh]\w+-[tblr]{2}/,"lr")+t}return ge+t+Tt+t+t}return t}var WH=function(e,n,r,i){if(e.length>-1&&!e.return)switch(e.type){case j_:e.return=t2(e.value,e.length);break;case YA:return Uo([tl(e,{value:ye(e.value,"@","@"+ge)})],i);case L_:if(e.length)return kH(e.props,function(s){switch(TH(s,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return Uo([tl(e,{props:[ye(s,/:(read-\w+)/,":"+Dh+"$1")]})],i);case"::placeholder":return Uo([tl(e,{props:[ye(s,/:(plac\w+)/,":"+ge+"input-$1")]}),tl(e,{props:[ye(s,/:(plac\w+)/,":"+Dh+"$1")]}),tl(e,{props:[ye(s,/:(plac\w+)/,Tt+"input-$1")]})],i)}return""})}},HH=[WH],GH=function(e){var n=e.key;if(n==="css"){var r=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(r,function(S){var P=S.getAttribute("data-emotion");P.indexOf(" ")!==-1&&(document.head.appendChild(S),S.setAttribute("data-s",""))})}var i=e.stylisPlugins||HH,s={},o,a=[];o=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+n+' "]'),function(S){for(var P=S.getAttribute("data-emotion").split(" "),w=1;w<P.length;w++)s[P[w]]=!0;a.push(S)});var l,c=[BH,zH];{var d,h=[LH,FH(function(S){d.insert(S)})],f=jH(c.concat(i,h)),v=function(P){return Uo(OH(P),f)};l=function(P,w,C,E){d=C,v(P?P+"{"+w.styles+"}":w.styles),E&&(_.inserted[w.name]=!0)}}var _={key:n,sheet:new wH({key:n,container:o,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:s,registered:{},insert:l};return _.sheet.hydrate(a),_},KH=!0;function qH(t,e,n){var r="";return n.split(" ").forEach(function(i){t[i]!==void 0?e.push(t[i]+";"):i&&(r+=i+" ")}),r}var n2=function(e,n,r){var i=e.key+"-"+n.name;(r===!1||KH===!1)&&e.registered[i]===void 0&&(e.registered[i]=n.styles)},YH=function(e,n,r){n2(e,n,r);var i=e.key+"-"+n.name;if(e.inserted[n.name]===void 0){var s=n;do e.insert(n===s?"."+i:"",s,e.sheet,!0),s=s.next;while(s!==void 0)}};function XH(t){for(var e=0,n,r=0,i=t.length;i>=4;++r,i-=4)n=t.charCodeAt(r)&255|(t.charCodeAt(++r)&255)<<8|(t.charCodeAt(++r)&255)<<16|(t.charCodeAt(++r)&255)<<24,n=(n&65535)*1540483477+((n>>>16)*59797<<16),n^=n>>>24,e=(n&65535)*1540483477+((n>>>16)*59797<<16)^(e&65535)*1540483477+((e>>>16)*59797<<16);switch(i){case 3:e^=(t.charCodeAt(r+2)&255)<<16;case 2:e^=(t.charCodeAt(r+1)&255)<<8;case 1:e^=t.charCodeAt(r)&255,e=(e&65535)*1540483477+((e>>>16)*59797<<16)}return e^=e>>>13,e=(e&65535)*1540483477+((e>>>16)*59797<<16),((e^e>>>15)>>>0).toString(36)}var QH={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,scale:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},JH=!1,ZH=/[A-Z]|^ms/g,eG=/_EMO_([^_]+?)_([^]*?)_EMO_/g,r2=function(e){return e.charCodeAt(1)===45},lS=function(e){return e!=null&&typeof e!="boolean"},Sm=e2(function(t){return r2(t)?t:t.replace(ZH,"-$&").toLowerCase()}),cS=function(e,n){switch(e){case"animation":case"animationName":if(typeof n=="string")return n.replace(eG,function(r,i,s){return ar={name:i,styles:s,next:ar},i})}return QH[e]!==1&&!r2(e)&&typeof n=="number"&&n!==0?n+"px":n},tG="Component selectors can only be used in conjunction with @emotion/babel-plugin, the swc Emotion plugin, or another Emotion-aware compiler transform.";function Tc(t,e,n){if(n==null)return"";var r=n;if(r.__emotion_styles!==void 0)return r;switch(typeof n){case"boolean":return"";case"object":{var i=n;if(i.anim===1)return ar={name:i.name,styles:i.styles,next:ar},i.name;var s=n;if(s.styles!==void 0){var o=s.next;if(o!==void 0)for(;o!==void 0;)ar={name:o.name,styles:o.styles,next:ar},o=o.next;var a=s.styles+";";return a}return nG(t,e,n)}case"function":{if(t!==void 0){var l=ar,c=n(t);return ar=l,Tc(t,e,c)}break}}var d=n;if(e==null)return d;var h=e[d];return h!==void 0?h:d}function nG(t,e,n){var r="";if(Array.isArray(n))for(var i=0;i<n.length;i++)r+=Tc(t,e,n[i])+";";else for(var s in n){var o=n[s];if(typeof o!="object"){var a=o;e!=null&&e[a]!==void 0?r+=s+"{"+e[a]+"}":lS(a)&&(r+=Sm(s)+":"+cS(s,a)+";")}else{if(s==="NO_COMPONENT_SELECTOR"&&JH)throw new Error(tG);if(Array.isArray(o)&&typeof o[0]=="string"&&(e==null||e[o[0]]===void 0))for(var l=0;l<o.length;l++)lS(o[l])&&(r+=Sm(s)+":"+cS(s,o[l])+";");else{var c=Tc(t,e,o);switch(s){case"animation":case"animationName":{r+=Sm(s)+":"+c+";";break}default:r+=s+"{"+c+"}"}}}}return r}var uS=/label:\s*([^\s;{]+)\s*(;|$)/g,ar;function i2(t,e,n){if(t.length===1&&typeof t[0]=="object"&&t[0]!==null&&t[0].styles!==void 0)return t[0];var r=!0,i="";ar=void 0;var s=t[0];if(s==null||s.raw===void 0)r=!1,i+=Tc(n,e,s);else{var o=s;i+=o[0]}for(var a=1;a<t.length;a++)if(i+=Tc(n,e,t[a]),r){var l=s;i+=l[a]}uS.lastIndex=0;for(var c="",d;(d=uS.exec(i))!==null;)c+="-"+d[1];var h=XH(i)+c;return{name:h,styles:i,next:ar}}var rG=function(e){return e()},iG=Hw["useInsertionEffect"]?Hw["useInsertionEffect"]:!1,sG=iG||rG,s2=T.createContext(typeof HTMLElement<"u"?GH({key:"css"}):null);s2.Provider;var oG=function(e){return T.forwardRef(function(n,r){var i=T.useContext(s2);return e(n,i,r)})},o2=T.createContext({}),aG=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|disableRemotePlayback|download|draggable|encType|enterKeyHint|fetchpriority|fetchPriority|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,lG=e2(function(t){return aG.test(t)||t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)<91}),cG=!1,uG=lG,dG=function(e){return e!=="theme"},dS=function(e){return typeof e=="string"&&e.charCodeAt(0)>96?uG:dG},hS=function(e,n,r){var i;if(n){var s=n.shouldForwardProp;i=e.__emotion_forwardProp&&s?function(o){return e.__emotion_forwardProp(o)&&s(o)}:s}return typeof i!="function"&&r&&(i=e.__emotion_forwardProp),i},hG=function(e){var n=e.cache,r=e.serialized,i=e.isStringTag;return n2(n,r,i),sG(function(){return YH(n,r,i)}),null},fG=function t(e,n){var r=e.__emotion_real===e,i=r&&e.__emotion_base||e,s,o;n!==void 0&&(s=n.label,o=n.target);var a=hS(e,n,r),l=a||dS(i),c=!l("as");return function(){var d=arguments,h=r&&e.__emotion_styles!==void 0?e.__emotion_styles.slice(0):[];if(s!==void 0&&h.push("label:"+s+";"),d[0]==null||d[0].raw===void 0)h.push.apply(h,d);else{var f=d[0];h.push(f[0]);for(var v=d.length,_=1;_<v;_++)h.push(d[_],f[_])}var S=oG(function(P,w,C){var E=c&&P.as||i,R="",D=[],M=P;if(P.theme==null){M={};for(var b in P)M[b]=P[b];M.theme=T.useContext(o2)}typeof P.className=="string"?R=qH(w.registered,D,P.className):P.className!=null&&(R=P.className+" ");var x=i2(h.concat(D),w.registered,M);R+=w.key+"-"+x.name,o!==void 0&&(R+=" "+o);var I=c&&a===void 0?dS(E):l,g={};for(var A in P)c&&A==="as"||I(A)&&(g[A]=P[A]);return g.className=R,C&&(g.ref=C),T.createElement(T.Fragment,null,T.createElement(hG,{cache:w,serialized:x,isStringTag:typeof E=="string"}),T.createElement(E,g))});return S.displayName=s!==void 0?s:"Styled("+(typeof i=="string"?i:i.displayName||i.name||"Component")+")",S.defaultProps=e.defaultProps,S.__emotion_real=S,S.__emotion_base=i,S.__emotion_styles=h,S.__emotion_forwardProp=a,Object.defineProperty(S,"toString",{value:function(){return o===void 0&&cG?"NO_COMPONENT_SELECTOR":"."+o}}),S.withComponent=function(P,w){var C=t(P,xy({},n,w,{shouldForwardProp:hS(S,w,!0)}));return C.apply(void 0,h)},S}},pG=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"],Sy=fG.bind(null);pG.forEach(function(t){Sy[t]=Sy(t)});/**
 * @mui/styled-engine v7.1.0
 *
 * @license MIT
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */function a2(t,e){return Sy(t,e)}function mG(t,e){Array.isArray(t.__emotion_styles)&&(t.__emotion_styles=e(t.__emotion_styles))}const fS=[];function pS(t){return fS[0]=t,i2(fS)}const gG=t=>{const e=Object.keys(t).map(n=>({key:n,val:t[n]}))||[];return e.sort((n,r)=>n.val-r.val),e.reduce((n,r)=>({...n,[r.key]:r.val}),{})};function yG(t){const{values:e={xs:0,sm:600,md:900,lg:1200,xl:1536},unit:n="px",step:r=5,...i}=t,s=gG(e),o=Object.keys(s);function a(f){return`@media (min-width:${typeof e[f]=="number"?e[f]:f}${n})`}function l(f){return`@media (max-width:${(typeof e[f]=="number"?e[f]:f)-r/100}${n})`}function c(f,v){const _=o.indexOf(v);return`@media (min-width:${typeof e[f]=="number"?e[f]:f}${n}) and (max-width:${(_!==-1&&typeof e[o[_]]=="number"?e[o[_]]:v)-r/100}${n})`}function d(f){return o.indexOf(f)+1<o.length?c(f,o[o.indexOf(f)+1]):a(f)}function h(f){const v=o.indexOf(f);return v===0?a(o[1]):v===o.length-1?l(o[v]):c(f,o[o.indexOf(f)+1]).replace("@media","@media not all and")}return{keys:o,values:s,up:a,down:l,between:c,only:d,not:h,unit:n,...i}}const vG={borderRadius:4},_G=vG;function l2(t=8,e=O_({spacing:t})){if(t.mui)return t;const n=(...r)=>(r.length===0?[1]:r).map(s=>{const o=e(s);return typeof o=="number"?`${o}px`:o}).join(" ");return n.mui=!0,n}function wG(t,e){var r;const n=this;if(n.vars){if(!((r=n.colorSchemes)!=null&&r[t])||typeof n.getColorSchemeSelector!="function")return{};let i=n.getColorSchemeSelector(t);return i==="&"?e:((i.includes("data-")||i.includes("."))&&(i=`*:where(${i.replace(/\s*&$/,"")}) &`),{[i]:e})}return n.palette.mode===t?e:{}}function $_(t={},...e){const{breakpoints:n={},palette:r={},spacing:i,shape:s={},...o}=t,a=yG(n),l=l2(i);let c=dn({breakpoints:a,direction:"ltr",components:{},palette:{mode:"light",...r},spacing:l,shape:{..._G,...s}},o);return c=bW(c),c.applyStyles=wG,c=e.reduce((d,h)=>dn(d,h),c),c.unstable_sxConfig={...nu,...o==null?void 0:o.unstable_sxConfig},c.unstable_sx=function(h){return aa({sx:h,theme:this})},c}function xG(t){return Object.keys(t).length===0}function EG(t=null){const e=T.useContext(o2);return!e||xG(e)?t:e}const CG=$_();function c2(t=CG){return EG(t)}const mS=t=>t,SG=()=>{let t=mS;return{configure(e){t=e},generate(e){return t(e)},reset(){t=mS}}},bG=SG(),u2=bG;function TG(t={}){const{themeId:e,defaultTheme:n,defaultClassName:r="MuiBox-root",generateClassName:i}=t,s=a2("div",{shouldForwardProp:a=>a!=="theme"&&a!=="sx"&&a!=="as"})(aa);return T.forwardRef(function(l,c){const d=c2(n),{className:h,component:f="div",...v}=gH(l);return m.jsx(s,{as:f,ref:c,className:oa(h,i?i(r):r),theme:e&&d[e]||d,...v})})}const kG={active:"active",checked:"checked",completed:"completed",disabled:"disabled",error:"error",expanded:"expanded",focused:"focused",focusVisible:"focusVisible",open:"open",readOnly:"readOnly",required:"required",selected:"selected"};function V_(t,e,n="Mui"){const r=kG[e];return r?`${n}-${r}`:`${u2.generate(t)}-${e}`}function U_(t,e,n="Mui"){const r={};return e.forEach(i=>{r[i]=V_(t,i,n)}),r}function d2(t){const{variants:e,...n}=t,r={variants:e,style:pS(n),isProcessed:!0};return r.style===n||e&&e.forEach(i=>{typeof i.style!="function"&&(i.style=pS(i.style))}),r}const IG=$_();function bm(t){return t!=="ownerState"&&t!=="theme"&&t!=="sx"&&t!=="as"}function PG(t){return t?(e,n)=>n[t]:null}function RG(t,e,n){t.theme=DG(t.theme)?n:t.theme[e]||t.theme}function Sd(t,e){const n=typeof e=="function"?e(t):e;if(Array.isArray(n))return n.flatMap(r=>Sd(t,r));if(Array.isArray(n==null?void 0:n.variants)){let r;if(n.isProcessed)r=n.style;else{const{variants:i,...s}=n;r=s}return h2(t,n.variants,[r])}return n!=null&&n.isProcessed?n.style:n}function h2(t,e,n=[]){var i;let r;e:for(let s=0;s<e.length;s+=1){const o=e[s];if(typeof o.props=="function"){if(r??(r={...t,...t.ownerState,ownerState:t.ownerState}),!o.props(r))continue}else for(const a in o.props)if(t[a]!==o.props[a]&&((i=t.ownerState)==null?void 0:i[a])!==o.props[a])continue e;typeof o.style=="function"?(r??(r={...t,...t.ownerState,ownerState:t.ownerState}),n.push(o.style(r))):n.push(o.style)}return n}function AG(t={}){const{themeId:e,defaultTheme:n=IG,rootShouldForwardProp:r=bm,slotShouldForwardProp:i=bm}=t;function s(a){RG(a,e,n)}return(a,l={})=>{mG(a,D=>D.filter(M=>M!==aa));const{name:c,slot:d,skipVariantsResolver:h,skipSx:f,overridesResolver:v=PG(MG(d)),..._}=l,S=h!==void 0?h:d&&d!=="Root"&&d!=="root"||!1,P=f||!1;let w=bm;d==="Root"||d==="root"?w=r:d?w=i:OG(a)&&(w=void 0);const C=a2(a,{shouldForwardProp:w,label:NG(),..._}),E=D=>{if(typeof D=="function"&&D.__emotion_real!==D)return function(b){return Sd(b,D)};if(ur(D)){const M=d2(D);return M.variants?function(x){return Sd(x,M)}:M.style}return D},R=(...D)=>{const M=[],b=D.map(E),x=[];if(M.push(s),c&&v&&x.push(function(O){var K,G;const V=(G=(K=O.theme.components)==null?void 0:K[c])==null?void 0:G.styleOverrides;if(!V)return null;const W={};for(const $ in V)W[$]=Sd(O,V[$]);return v(O,W)}),c&&!S&&x.push(function(O){var W,K;const N=O.theme,V=(K=(W=N==null?void 0:N.components)==null?void 0:W[c])==null?void 0:K.variants;return V?h2(O,V):null}),P||x.push(aa),Array.isArray(b[0])){const A=b.shift(),O=new Array(M.length).fill(""),N=new Array(x.length).fill("");let V;V=[...O,...A,...N],V.raw=[...O,...A.raw,...N],M.unshift(V)}const I=[...M,...b,...x],g=C(...I);return a.muiName&&(g.muiName=a.muiName),g};return C.withConfig&&(R.withConfig=C.withConfig),R}}function NG(t,e){let n;return n}function DG(t){for(const e in t)return!1;return!0}function OG(t){return typeof t=="string"&&t.charCodeAt(0)>96}function MG(t){return t&&t.charAt(0).toLowerCase()+t.slice(1)}function by(t,e){const n={...e};for(const r in t)if(Object.prototype.hasOwnProperty.call(t,r)){const i=r;if(i==="components"||i==="slots")n[i]={...t[i],...n[i]};else if(i==="componentsProps"||i==="slotProps"){const s=t[i],o=e[i];if(!o)n[i]=s||{};else if(!s)n[i]=o;else{n[i]={...o};for(const a in s)if(Object.prototype.hasOwnProperty.call(s,a)){const l=a;n[i][l]=by(s[l],o[l])}}}else n[i]===void 0&&(n[i]=t[i])}return n}function LG(t,e=Number.MIN_SAFE_INTEGER,n=Number.MAX_SAFE_INTEGER){return Math.max(e,Math.min(t,n))}function B_(t,e=0,n=1){return LG(t,e,n)}function jG(t){t=t.slice(1);const e=new RegExp(`.{1,${t.length>=6?2:1}}`,"g");let n=t.match(e);return n&&n[0].length===1&&(n=n.map(r=>r+r)),n?`rgb${n.length===4?"a":""}(${n.map((r,i)=>i<3?parseInt(r,16):Math.round(parseInt(r,16)/255*1e3)/1e3).join(", ")})`:""}function Bi(t){if(t.type)return t;if(t.charAt(0)==="#")return Bi(jG(t));const e=t.indexOf("("),n=t.substring(0,e);if(!["rgb","rgba","hsl","hsla","color"].includes(n))throw new Error(Fs(9,t));let r=t.substring(e+1,t.length-1),i;if(n==="color"){if(r=r.split(" "),i=r.shift(),r.length===4&&r[3].charAt(0)==="/"&&(r[3]=r[3].slice(1)),!["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].includes(i))throw new Error(Fs(10,i))}else r=r.split(",");return r=r.map(s=>parseFloat(s)),{type:n,values:r,colorSpace:i}}const FG=t=>{const e=Bi(t);return e.values.slice(0,3).map((n,r)=>e.type.includes("hsl")&&r!==0?`${n}%`:n).join(" ")},dl=(t,e)=>{try{return FG(t)}catch{return t}};function Hf(t){const{type:e,colorSpace:n}=t;let{values:r}=t;return e.includes("rgb")?r=r.map((i,s)=>s<3?parseInt(i,10):i):e.includes("hsl")&&(r[1]=`${r[1]}%`,r[2]=`${r[2]}%`),e.includes("color")?r=`${n} ${r.join(" ")}`:r=`${r.join(", ")}`,`${e}(${r})`}function f2(t){t=Bi(t);const{values:e}=t,n=e[0],r=e[1]/100,i=e[2]/100,s=r*Math.min(i,1-i),o=(c,d=(c+n/30)%12)=>i-s*Math.max(Math.min(d-3,9-d,1),-1);let a="rgb";const l=[Math.round(o(0)*255),Math.round(o(8)*255),Math.round(o(4)*255)];return t.type==="hsla"&&(a+="a",l.push(e[3])),Hf({type:a,values:l})}function Ty(t){t=Bi(t);let e=t.type==="hsl"||t.type==="hsla"?Bi(f2(t)).values:t.values;return e=e.map(n=>(t.type!=="color"&&(n/=255),n<=.03928?n/12.92:((n+.055)/1.055)**2.4)),Number((.2126*e[0]+.7152*e[1]+.0722*e[2]).toFixed(3))}function $G(t,e){const n=Ty(t),r=Ty(e);return(Math.max(n,r)+.05)/(Math.min(n,r)+.05)}function VG(t,e){return t=Bi(t),e=B_(e),(t.type==="rgb"||t.type==="hsl")&&(t.type+="a"),t.type==="color"?t.values[3]=`/${e}`:t.values[3]=e,Hf(t)}function Gu(t,e,n){try{return VG(t,e)}catch{return t}}function z_(t,e){if(t=Bi(t),e=B_(e),t.type.includes("hsl"))t.values[2]*=1-e;else if(t.type.includes("rgb")||t.type.includes("color"))for(let n=0;n<3;n+=1)t.values[n]*=1-e;return Hf(t)}function Ce(t,e,n){try{return z_(t,e)}catch{return t}}function W_(t,e){if(t=Bi(t),e=B_(e),t.type.includes("hsl"))t.values[2]+=(100-t.values[2])*e;else if(t.type.includes("rgb"))for(let n=0;n<3;n+=1)t.values[n]+=(255-t.values[n])*e;else if(t.type.includes("color"))for(let n=0;n<3;n+=1)t.values[n]+=(1-t.values[n])*e;return Hf(t)}function Se(t,e,n){try{return W_(t,e)}catch{return t}}function UG(t,e=.15){return Ty(t)>.5?z_(t,e):W_(t,e)}function Ku(t,e,n){try{return UG(t,e)}catch{return t}}const BG=T.createContext(void 0);function zG(t){const{theme:e,name:n,props:r}=t;if(!e||!e.components||!e.components[n])return r;const i=e.components[n];return i.defaultProps?by(i.defaultProps,r):!i.styleOverrides&&!i.variants?by(i,r):r}function WG({props:t,name:e}){const n=T.useContext(BG);return zG({props:t,name:e,theme:{components:n}})}const gS={theme:void 0};function HG(t){let e,n;return function(i){let s=e;return(s===void 0||i.theme!==n)&&(gS.theme=i.theme,s=d2(t(gS)),e=s,n=i.theme),s}}function GG(t=""){function e(...r){if(!r.length)return"";const i=r[0];return typeof i=="string"&&!i.match(/(#|\(|\)|(-?(\d*\.)?\d+)(px|em|%|ex|ch|rem|vw|vh|vmin|vmax|cm|mm|in|pt|pc))|^(-?(\d*\.)?\d+)$|(\d+ \d+ \d+)/)?`, var(--${t?`${t}-`:""}${i}${e(...r.slice(1))})`:`, ${i}`}return(r,...i)=>`var(--${t?`${t}-`:""}${r}${e(...i)})`}const yS=(t,e,n,r=[])=>{let i=t;e.forEach((s,o)=>{o===e.length-1?Array.isArray(i)?i[Number(s)]=n:i&&typeof i=="object"&&(i[s]=n):i&&typeof i=="object"&&(i[s]||(i[s]=r.includes(s)?[]:{}),i=i[s])})},KG=(t,e,n)=>{function r(i,s=[],o=[]){Object.entries(i).forEach(([a,l])=>{(!n||n&&!n([...s,a]))&&l!=null&&(typeof l=="object"&&Object.keys(l).length>0?r(l,[...s,a],Array.isArray(l)?[...o,a]:o):e([...s,a],l,o))})}r(t)},qG=(t,e)=>typeof e=="number"?["lineHeight","fontWeight","opacity","zIndex"].some(r=>t.includes(r))||t[t.length-1].toLowerCase().includes("opacity")?e:`${e}px`:e;function Tm(t,e){const{prefix:n,shouldSkipGeneratingVar:r}=e||{},i={},s={},o={};return KG(t,(a,l,c)=>{if((typeof l=="string"||typeof l=="number")&&(!r||!r(a,l))){const d=`--${n?`${n}-`:""}${a.join("-")}`,h=qG(a,l);Object.assign(i,{[d]:h}),yS(s,a,`var(${d})`,c),yS(o,a,`var(${d}, ${h})`,c)}},a=>a[0]==="vars"),{css:i,vars:s,varsWithDefaults:o}}function YG(t,e={}){const{getSelector:n=P,disableCssColorScheme:r,colorSchemeSelector:i}=e,{colorSchemes:s={},components:o,defaultColorScheme:a="light",...l}=t,{vars:c,css:d,varsWithDefaults:h}=Tm(l,e);let f=h;const v={},{[a]:_,...S}=s;if(Object.entries(S||{}).forEach(([E,R])=>{const{vars:D,css:M,varsWithDefaults:b}=Tm(R,e);f=dn(f,b),v[E]={css:M,vars:D}}),_){const{css:E,vars:R,varsWithDefaults:D}=Tm(_,e);f=dn(f,D),v[a]={css:E,vars:R}}function P(E,R){var M,b;let D=i;if(i==="class"&&(D=".%s"),i==="data"&&(D="[data-%s]"),i!=null&&i.startsWith("data-")&&!i.includes("%s")&&(D=`[${i}="%s"]`),E){if(D==="media")return t.defaultColorScheme===E?":root":{[`@media (prefers-color-scheme: ${((b=(M=s[E])==null?void 0:M.palette)==null?void 0:b.mode)||E})`]:{":root":R}};if(D)return t.defaultColorScheme===E?`:root, ${D.replace("%s",String(E))}`:D.replace("%s",String(E))}return":root"}return{vars:f,generateThemeVars:()=>{let E={...c};return Object.entries(v).forEach(([,{vars:R}])=>{E=dn(E,R)}),E},generateStyleSheets:()=>{var x,I;const E=[],R=t.defaultColorScheme||"light";function D(g,A){Object.keys(A).length&&E.push(typeof g=="string"?{[g]:{...A}}:g)}D(n(void 0,{...d}),d);const{[R]:M,...b}=v;if(M){const{css:g}=M,A=(I=(x=s[R])==null?void 0:x.palette)==null?void 0:I.mode,O=!r&&A?{colorScheme:A,...g}:{...g};D(n(R,{...O}),O)}return Object.entries(b).forEach(([g,{css:A}])=>{var V,W;const O=(W=(V=s[g])==null?void 0:V.palette)==null?void 0:W.mode,N=!r&&O?{colorScheme:O,...A}:{...A};D(n(g,{...N}),N)}),E}}}function XG(t){return function(n){return t==="media"?`@media (prefers-color-scheme: ${n})`:t?t.startsWith("data-")&&!t.includes("%s")?`[${t}="${n}"] &`:t==="class"?`.${n} &`:t==="data"?`[data-${n}] &`:`${t.replace("%s",n)} &`:"&"}}const QG={black:"#000",white:"#fff"},kc=QG,JG={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"},ZG=JG,eK={50:"#f3e5f5",100:"#e1bee7",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",600:"#8e24aa",700:"#7b1fa2",800:"#6a1b9a",900:"#4a148c",A100:"#ea80fc",A200:"#e040fb",A400:"#d500f9",A700:"#aa00ff"},to=eK,tK={50:"#ffebee",100:"#ffcdd2",200:"#ef9a9a",300:"#e57373",400:"#ef5350",500:"#f44336",600:"#e53935",700:"#d32f2f",800:"#c62828",900:"#b71c1c",A100:"#ff8a80",A200:"#ff5252",A400:"#ff1744",A700:"#d50000"},no=tK,nK={50:"#fff3e0",100:"#ffe0b2",200:"#ffcc80",300:"#ffb74d",400:"#ffa726",500:"#ff9800",600:"#fb8c00",700:"#f57c00",800:"#ef6c00",900:"#e65100",A100:"#ffd180",A200:"#ffab40",A400:"#ff9100",A700:"#ff6d00"},nl=nK,rK={50:"#e3f2fd",100:"#bbdefb",200:"#90caf9",300:"#64b5f6",400:"#42a5f5",500:"#2196f3",600:"#1e88e5",700:"#1976d2",800:"#1565c0",900:"#0d47a1",A100:"#82b1ff",A200:"#448aff",A400:"#2979ff",A700:"#2962ff"},ro=rK,iK={50:"#e1f5fe",100:"#b3e5fc",200:"#81d4fa",300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",600:"#039be5",700:"#0288d1",800:"#0277bd",900:"#01579b",A100:"#80d8ff",A200:"#40c4ff",A400:"#00b0ff",A700:"#0091ea"},io=iK,sK={50:"#e8f5e9",100:"#c8e6c9",200:"#a5d6a7",300:"#81c784",400:"#66bb6a",500:"#4caf50",600:"#43a047",700:"#388e3c",800:"#2e7d32",900:"#1b5e20",A100:"#b9f6ca",A200:"#69f0ae",A400:"#00e676",A700:"#00c853"},so=sK;function p2(){return{text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:kc.white,default:kc.white},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}}}const oK=p2();function m2(){return{text:{primary:kc.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:"#121212",default:"#121212"},action:{active:kc.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}}}const vS=m2();function _S(t,e,n,r){const i=r.light||r,s=r.dark||r*1.5;t[e]||(t.hasOwnProperty(n)?t[e]=t[n]:e==="light"?t.light=W_(t.main,i):e==="dark"&&(t.dark=z_(t.main,s)))}function aK(t="light"){return t==="dark"?{main:ro[200],light:ro[50],dark:ro[400]}:{main:ro[700],light:ro[400],dark:ro[800]}}function lK(t="light"){return t==="dark"?{main:to[200],light:to[50],dark:to[400]}:{main:to[500],light:to[300],dark:to[700]}}function cK(t="light"){return t==="dark"?{main:no[500],light:no[300],dark:no[700]}:{main:no[700],light:no[400],dark:no[800]}}function uK(t="light"){return t==="dark"?{main:io[400],light:io[300],dark:io[700]}:{main:io[700],light:io[500],dark:io[900]}}function dK(t="light"){return t==="dark"?{main:so[400],light:so[300],dark:so[700]}:{main:so[800],light:so[500],dark:so[900]}}function hK(t="light"){return t==="dark"?{main:nl[400],light:nl[300],dark:nl[700]}:{main:"#ed6c02",light:nl[500],dark:nl[900]}}function H_(t){const{mode:e="light",contrastThreshold:n=3,tonalOffset:r=.2,...i}=t,s=t.primary||aK(e),o=t.secondary||lK(e),a=t.error||cK(e),l=t.info||uK(e),c=t.success||dK(e),d=t.warning||hK(e);function h(S){return $G(S,vS.text.primary)>=n?vS.text.primary:oK.text.primary}const f=({color:S,name:P,mainShade:w=500,lightShade:C=300,darkShade:E=700})=>{if(S={...S},!S.main&&S[w]&&(S.main=S[w]),!S.hasOwnProperty("main"))throw new Error(Fs(11,P?` (${P})`:"",w));if(typeof S.main!="string")throw new Error(Fs(12,P?` (${P})`:"",JSON.stringify(S.main)));return _S(S,"light",C,r),_S(S,"dark",E,r),S.contrastText||(S.contrastText=h(S.main)),S};let v;return e==="light"?v=p2():e==="dark"&&(v=m2()),dn({common:{...kc},mode:e,primary:f({color:s,name:"primary"}),secondary:f({color:o,name:"secondary",mainShade:"A400",lightShade:"A200",darkShade:"A700"}),error:f({color:a,name:"error"}),warning:f({color:d,name:"warning"}),info:f({color:l,name:"info"}),success:f({color:c,name:"success"}),grey:ZG,contrastThreshold:n,getContrastText:h,augmentColor:f,tonalOffset:r,...v},i)}function fK(t){const e={};return Object.entries(t).forEach(r=>{const[i,s]=r;typeof s=="object"&&(e[i]=`${s.fontStyle?`${s.fontStyle} `:""}${s.fontVariant?`${s.fontVariant} `:""}${s.fontWeight?`${s.fontWeight} `:""}${s.fontStretch?`${s.fontStretch} `:""}${s.fontSize||""}${s.lineHeight?`/${s.lineHeight} `:""}${s.fontFamily||""}`)}),e}function pK(t,e){return{toolbar:{minHeight:56,[t.up("xs")]:{"@media (orientation: landscape)":{minHeight:48}},[t.up("sm")]:{minHeight:64}},...e}}function mK(t){return Math.round(t*1e5)/1e5}const wS={textTransform:"uppercase"},xS='"Roboto", "Helvetica", "Arial", sans-serif';function gK(t,e){const{fontFamily:n=xS,fontSize:r=14,fontWeightLight:i=300,fontWeightRegular:s=400,fontWeightMedium:o=500,fontWeightBold:a=700,htmlFontSize:l=16,allVariants:c,pxToRem:d,...h}=typeof e=="function"?e(t):e,f=r/14,v=d||(P=>`${P/l*f}rem`),_=(P,w,C,E,R)=>({fontFamily:n,fontWeight:P,fontSize:v(w),lineHeight:C,...n===xS?{letterSpacing:`${mK(E/w)}em`}:{},...R,...c}),S={h1:_(i,96,1.167,-1.5),h2:_(i,60,1.2,-.5),h3:_(s,48,1.167,0),h4:_(s,34,1.235,.25),h5:_(s,24,1.334,0),h6:_(o,20,1.6,.15),subtitle1:_(s,16,1.75,.15),subtitle2:_(o,14,1.57,.1),body1:_(s,16,1.5,.15),body2:_(s,14,1.43,.15),button:_(o,14,1.75,.4,wS),caption:_(s,12,1.66,.4),overline:_(s,12,2.66,1,wS),inherit:{fontFamily:"inherit",fontWeight:"inherit",fontSize:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}};return dn({htmlFontSize:l,pxToRem:v,fontFamily:n,fontSize:r,fontWeightLight:i,fontWeightRegular:s,fontWeightMedium:o,fontWeightBold:a,...S},h,{clone:!1})}const yK=.2,vK=.14,_K=.12;function Ne(...t){return[`${t[0]}px ${t[1]}px ${t[2]}px ${t[3]}px rgba(0,0,0,${yK})`,`${t[4]}px ${t[5]}px ${t[6]}px ${t[7]}px rgba(0,0,0,${vK})`,`${t[8]}px ${t[9]}px ${t[10]}px ${t[11]}px rgba(0,0,0,${_K})`].join(",")}const wK=["none",Ne(0,2,1,-1,0,1,1,0,0,1,3,0),Ne(0,3,1,-2,0,2,2,0,0,1,5,0),Ne(0,3,3,-2,0,3,4,0,0,1,8,0),Ne(0,2,4,-1,0,4,5,0,0,1,10,0),Ne(0,3,5,-1,0,5,8,0,0,1,14,0),Ne(0,3,5,-1,0,6,10,0,0,1,18,0),Ne(0,4,5,-2,0,7,10,1,0,2,16,1),Ne(0,5,5,-3,0,8,10,1,0,3,14,2),Ne(0,5,6,-3,0,9,12,1,0,3,16,2),Ne(0,6,6,-3,0,10,14,1,0,4,18,3),Ne(0,6,7,-4,0,11,15,1,0,4,20,3),Ne(0,7,8,-4,0,12,17,2,0,5,22,4),Ne(0,7,8,-4,0,13,19,2,0,5,24,4),Ne(0,7,9,-4,0,14,21,2,0,5,26,4),Ne(0,8,9,-5,0,15,22,2,0,6,28,5),Ne(0,8,10,-5,0,16,24,2,0,6,30,5),Ne(0,8,11,-5,0,17,26,2,0,6,32,5),Ne(0,9,11,-5,0,18,28,2,0,7,34,6),Ne(0,9,12,-6,0,19,29,2,0,7,36,6),Ne(0,10,13,-6,0,20,31,3,0,8,38,7),Ne(0,10,13,-6,0,21,33,3,0,8,40,7),Ne(0,10,14,-6,0,22,35,3,0,8,42,7),Ne(0,11,14,-7,0,23,36,3,0,9,44,8),Ne(0,11,15,-7,0,24,38,3,0,9,46,8)],xK=wK,EK={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},CK={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function ES(t){return`${Math.round(t)}ms`}function SK(t){if(!t)return 0;const e=t/36;return Math.min(Math.round((4+15*e**.25+e/5)*10),3e3)}function bK(t){const e={...EK,...t.easing},n={...CK,...t.duration};return{getAutoHeightDuration:SK,create:(i=["all"],s={})=>{const{duration:o=n.standard,easing:a=e.easeInOut,delay:l=0,...c}=s;return(Array.isArray(i)?i:[i]).map(d=>`${d} ${typeof o=="string"?o:ES(o)} ${a} ${typeof l=="string"?l:ES(l)}`).join(",")},...t,easing:e,duration:n}}const TK={mobileStepper:1e3,fab:1050,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500},kK=TK;function IK(t){return ur(t)||typeof t>"u"||typeof t=="string"||typeof t=="boolean"||typeof t=="number"||Array.isArray(t)}function g2(t={}){const e={...t};function n(r){const i=Object.entries(r);for(let s=0;s<i.length;s++){const[o,a]=i[s];!IK(a)||o.startsWith("unstable_")?delete r[o]:ur(a)&&(r[o]={...a},n(r[o]))}}return n(e),`import { unstable_createBreakpoints as createBreakpoints, createTransitions } from '@mui/material/styles';

const theme = ${JSON.stringify(e,null,2)};

theme.breakpoints = createBreakpoints(theme.breakpoints || {});
theme.transitions = createTransitions(theme.transitions || {});

export default theme;`}function ky(t={},...e){const{breakpoints:n,mixins:r={},spacing:i,palette:s={},transitions:o={},typography:a={},shape:l,...c}=t;if(t.vars&&t.generateThemeVars===void 0)throw new Error(Fs(20));const d=H_(s),h=$_(t);let f=dn(h,{mixins:pK(h.breakpoints,r),palette:d,shadows:xK.slice(),typography:gK(d,a),transitions:bK(o),zIndex:{...kK}});return f=dn(f,c),f=e.reduce((v,_)=>dn(v,_),f),f.unstable_sxConfig={...nu,...c==null?void 0:c.unstable_sxConfig},f.unstable_sx=function(_){return aa({sx:_,theme:this})},f.toRuntimeSource=g2,f}function PK(t){let e;return t<1?e=5.11916*t**2:e=4.5*Math.log(t+1)+2,Math.round(e*10)/1e3}const RK=[...Array(25)].map((t,e)=>{if(e===0)return"none";const n=PK(e);return`linear-gradient(rgba(255 255 255 / ${n}), rgba(255 255 255 / ${n}))`});function y2(t){return{inputPlaceholder:t==="dark"?.5:.42,inputUnderline:t==="dark"?.7:.42,switchTrackDisabled:t==="dark"?.2:.12,switchTrack:t==="dark"?.3:.38}}function v2(t){return t==="dark"?RK:[]}function AK(t){const{palette:e={mode:"light"},opacity:n,overlays:r,...i}=t,s=H_(e);return{palette:s,opacity:{...y2(s.mode),...n},overlays:r||v2(s.mode),...i}}function NK(t){var e;return!!t[0].match(/(cssVarPrefix|colorSchemeSelector|rootSelector|typography|mixins|breakpoints|direction|transitions)/)||!!t[0].match(/sxConfig$/)||t[0]==="palette"&&!!((e=t[1])!=null&&e.match(/(mode|contrastThreshold|tonalOffset)/))}const DK=t=>[...[...Array(25)].map((e,n)=>`--${t?`${t}-`:""}overlays-${n}`),`--${t?`${t}-`:""}palette-AppBar-darkBg`,`--${t?`${t}-`:""}palette-AppBar-darkColor`],OK=DK,MK=t=>(e,n)=>{const r=t.rootSelector||":root",i=t.colorSchemeSelector;let s=i;if(i==="class"&&(s=".%s"),i==="data"&&(s="[data-%s]"),i!=null&&i.startsWith("data-")&&!i.includes("%s")&&(s=`[${i}="%s"]`),t.defaultColorScheme===e){if(e==="dark"){const o={};return OK(t.cssVarPrefix).forEach(a=>{o[a]=n[a],delete n[a]}),s==="media"?{[r]:n,"@media (prefers-color-scheme: dark)":{[r]:o}}:s?{[s.replace("%s",e)]:o,[`${r}, ${s.replace("%s",e)}`]:n}:{[r]:{...n,...o}}}if(s&&s!=="media")return`${r}, ${s.replace("%s",String(e))}`}else if(e){if(s==="media")return{[`@media (prefers-color-scheme: ${String(e)})`]:{[r]:n}};if(s)return s.replace("%s",String(e))}return r};function LK(t,e){e.forEach(n=>{t[n]||(t[n]={})})}function F(t,e,n){!t[e]&&n&&(t[e]=n)}function hl(t){return typeof t!="string"||!t.startsWith("hsl")?t:f2(t)}function Pr(t,e){`${e}Channel`in t||(t[`${e}Channel`]=dl(hl(t[e]),`MUI: Can't create \`palette.${e}Channel\` because \`palette.${e}\` is not one of these formats: #nnn, #nnnnnn, rgb(), rgba(), hsl(), hsla(), color().
To suppress this warning, you need to explicitly provide the \`palette.${e}Channel\` as a string (in rgb format, for example "12 12 12") or undefined if you want to remove the channel token.`))}function jK(t){return typeof t=="number"?`${t}px`:typeof t=="string"||typeof t=="function"||Array.isArray(t)?t:"8px"}const ir=t=>{try{return t()}catch{}},FK=(t="mui")=>GG(t);function km(t,e,n,r){if(!e)return;e=e===!0?{}:e;const i=r==="dark"?"dark":"light";if(!n){t[r]=AK({...e,palette:{mode:i,...e==null?void 0:e.palette}});return}const{palette:s,...o}=ky({...n,palette:{mode:i,...e==null?void 0:e.palette}});return t[r]={...e,palette:s,opacity:{...y2(i),...e==null?void 0:e.opacity},overlays:(e==null?void 0:e.overlays)||v2(i)},o}function $K(t={},...e){const{colorSchemes:n={light:!0},defaultColorScheme:r,disableCssColorScheme:i=!1,cssVarPrefix:s="mui",shouldSkipGeneratingVar:o=NK,colorSchemeSelector:a=n.light&&n.dark?"media":void 0,rootSelector:l=":root",...c}=t,d=Object.keys(n)[0],h=r||(n.light&&d!=="light"?"light":d),f=FK(s),{[h]:v,light:_,dark:S,...P}=n,w={...P};let C=v;if((h==="dark"&&!("dark"in n)||h==="light"&&!("light"in n))&&(C=!0),!C)throw new Error(Fs(21,h));const E=km(w,C,c,h);_&&!w.light&&km(w,_,void 0,"light"),S&&!w.dark&&km(w,S,void 0,"dark");let R={defaultColorScheme:h,...E,cssVarPrefix:s,colorSchemeSelector:a,rootSelector:l,getCssVar:f,colorSchemes:w,font:{...fK(E.typography),...E.font},spacing:jK(c.spacing)};Object.keys(R.colorSchemes).forEach(I=>{const g=R.colorSchemes[I].palette,A=O=>{const N=O.split("-"),V=N[1],W=N[2];return f(O,g[V][W])};if(g.mode==="light"&&(F(g.common,"background","#fff"),F(g.common,"onBackground","#000")),g.mode==="dark"&&(F(g.common,"background","#000"),F(g.common,"onBackground","#fff")),LK(g,["Alert","AppBar","Avatar","Button","Chip","FilledInput","LinearProgress","Skeleton","Slider","SnackbarContent","SpeedDialAction","StepConnector","StepContent","Switch","TableCell","Tooltip"]),g.mode==="light"){F(g.Alert,"errorColor",Ce(g.error.light,.6)),F(g.Alert,"infoColor",Ce(g.info.light,.6)),F(g.Alert,"successColor",Ce(g.success.light,.6)),F(g.Alert,"warningColor",Ce(g.warning.light,.6)),F(g.Alert,"errorFilledBg",A("palette-error-main")),F(g.Alert,"infoFilledBg",A("palette-info-main")),F(g.Alert,"successFilledBg",A("palette-success-main")),F(g.Alert,"warningFilledBg",A("palette-warning-main")),F(g.Alert,"errorFilledColor",ir(()=>g.getContrastText(g.error.main))),F(g.Alert,"infoFilledColor",ir(()=>g.getContrastText(g.info.main))),F(g.Alert,"successFilledColor",ir(()=>g.getContrastText(g.success.main))),F(g.Alert,"warningFilledColor",ir(()=>g.getContrastText(g.warning.main))),F(g.Alert,"errorStandardBg",Se(g.error.light,.9)),F(g.Alert,"infoStandardBg",Se(g.info.light,.9)),F(g.Alert,"successStandardBg",Se(g.success.light,.9)),F(g.Alert,"warningStandardBg",Se(g.warning.light,.9)),F(g.Alert,"errorIconColor",A("palette-error-main")),F(g.Alert,"infoIconColor",A("palette-info-main")),F(g.Alert,"successIconColor",A("palette-success-main")),F(g.Alert,"warningIconColor",A("palette-warning-main")),F(g.AppBar,"defaultBg",A("palette-grey-100")),F(g.Avatar,"defaultBg",A("palette-grey-400")),F(g.Button,"inheritContainedBg",A("palette-grey-300")),F(g.Button,"inheritContainedHoverBg",A("palette-grey-A100")),F(g.Chip,"defaultBorder",A("palette-grey-400")),F(g.Chip,"defaultAvatarColor",A("palette-grey-700")),F(g.Chip,"defaultIconColor",A("palette-grey-700")),F(g.FilledInput,"bg","rgba(0, 0, 0, 0.06)"),F(g.FilledInput,"hoverBg","rgba(0, 0, 0, 0.09)"),F(g.FilledInput,"disabledBg","rgba(0, 0, 0, 0.12)"),F(g.LinearProgress,"primaryBg",Se(g.primary.main,.62)),F(g.LinearProgress,"secondaryBg",Se(g.secondary.main,.62)),F(g.LinearProgress,"errorBg",Se(g.error.main,.62)),F(g.LinearProgress,"infoBg",Se(g.info.main,.62)),F(g.LinearProgress,"successBg",Se(g.success.main,.62)),F(g.LinearProgress,"warningBg",Se(g.warning.main,.62)),F(g.Skeleton,"bg",`rgba(${A("palette-text-primaryChannel")} / 0.11)`),F(g.Slider,"primaryTrack",Se(g.primary.main,.62)),F(g.Slider,"secondaryTrack",Se(g.secondary.main,.62)),F(g.Slider,"errorTrack",Se(g.error.main,.62)),F(g.Slider,"infoTrack",Se(g.info.main,.62)),F(g.Slider,"successTrack",Se(g.success.main,.62)),F(g.Slider,"warningTrack",Se(g.warning.main,.62));const O=Ku(g.background.default,.8);F(g.SnackbarContent,"bg",O),F(g.SnackbarContent,"color",ir(()=>g.getContrastText(O))),F(g.SpeedDialAction,"fabHoverBg",Ku(g.background.paper,.15)),F(g.StepConnector,"border",A("palette-grey-400")),F(g.StepContent,"border",A("palette-grey-400")),F(g.Switch,"defaultColor",A("palette-common-white")),F(g.Switch,"defaultDisabledColor",A("palette-grey-100")),F(g.Switch,"primaryDisabledColor",Se(g.primary.main,.62)),F(g.Switch,"secondaryDisabledColor",Se(g.secondary.main,.62)),F(g.Switch,"errorDisabledColor",Se(g.error.main,.62)),F(g.Switch,"infoDisabledColor",Se(g.info.main,.62)),F(g.Switch,"successDisabledColor",Se(g.success.main,.62)),F(g.Switch,"warningDisabledColor",Se(g.warning.main,.62)),F(g.TableCell,"border",Se(Gu(g.divider,1),.88)),F(g.Tooltip,"bg",Gu(g.grey[700],.92))}if(g.mode==="dark"){F(g.Alert,"errorColor",Se(g.error.light,.6)),F(g.Alert,"infoColor",Se(g.info.light,.6)),F(g.Alert,"successColor",Se(g.success.light,.6)),F(g.Alert,"warningColor",Se(g.warning.light,.6)),F(g.Alert,"errorFilledBg",A("palette-error-dark")),F(g.Alert,"infoFilledBg",A("palette-info-dark")),F(g.Alert,"successFilledBg",A("palette-success-dark")),F(g.Alert,"warningFilledBg",A("palette-warning-dark")),F(g.Alert,"errorFilledColor",ir(()=>g.getContrastText(g.error.dark))),F(g.Alert,"infoFilledColor",ir(()=>g.getContrastText(g.info.dark))),F(g.Alert,"successFilledColor",ir(()=>g.getContrastText(g.success.dark))),F(g.Alert,"warningFilledColor",ir(()=>g.getContrastText(g.warning.dark))),F(g.Alert,"errorStandardBg",Ce(g.error.light,.9)),F(g.Alert,"infoStandardBg",Ce(g.info.light,.9)),F(g.Alert,"successStandardBg",Ce(g.success.light,.9)),F(g.Alert,"warningStandardBg",Ce(g.warning.light,.9)),F(g.Alert,"errorIconColor",A("palette-error-main")),F(g.Alert,"infoIconColor",A("palette-info-main")),F(g.Alert,"successIconColor",A("palette-success-main")),F(g.Alert,"warningIconColor",A("palette-warning-main")),F(g.AppBar,"defaultBg",A("palette-grey-900")),F(g.AppBar,"darkBg",A("palette-background-paper")),F(g.AppBar,"darkColor",A("palette-text-primary")),F(g.Avatar,"defaultBg",A("palette-grey-600")),F(g.Button,"inheritContainedBg",A("palette-grey-800")),F(g.Button,"inheritContainedHoverBg",A("palette-grey-700")),F(g.Chip,"defaultBorder",A("palette-grey-700")),F(g.Chip,"defaultAvatarColor",A("palette-grey-300")),F(g.Chip,"defaultIconColor",A("palette-grey-300")),F(g.FilledInput,"bg","rgba(255, 255, 255, 0.09)"),F(g.FilledInput,"hoverBg","rgba(255, 255, 255, 0.13)"),F(g.FilledInput,"disabledBg","rgba(255, 255, 255, 0.12)"),F(g.LinearProgress,"primaryBg",Ce(g.primary.main,.5)),F(g.LinearProgress,"secondaryBg",Ce(g.secondary.main,.5)),F(g.LinearProgress,"errorBg",Ce(g.error.main,.5)),F(g.LinearProgress,"infoBg",Ce(g.info.main,.5)),F(g.LinearProgress,"successBg",Ce(g.success.main,.5)),F(g.LinearProgress,"warningBg",Ce(g.warning.main,.5)),F(g.Skeleton,"bg",`rgba(${A("palette-text-primaryChannel")} / 0.13)`),F(g.Slider,"primaryTrack",Ce(g.primary.main,.5)),F(g.Slider,"secondaryTrack",Ce(g.secondary.main,.5)),F(g.Slider,"errorTrack",Ce(g.error.main,.5)),F(g.Slider,"infoTrack",Ce(g.info.main,.5)),F(g.Slider,"successTrack",Ce(g.success.main,.5)),F(g.Slider,"warningTrack",Ce(g.warning.main,.5));const O=Ku(g.background.default,.98);F(g.SnackbarContent,"bg",O),F(g.SnackbarContent,"color",ir(()=>g.getContrastText(O))),F(g.SpeedDialAction,"fabHoverBg",Ku(g.background.paper,.15)),F(g.StepConnector,"border",A("palette-grey-600")),F(g.StepContent,"border",A("palette-grey-600")),F(g.Switch,"defaultColor",A("palette-grey-300")),F(g.Switch,"defaultDisabledColor",A("palette-grey-600")),F(g.Switch,"primaryDisabledColor",Ce(g.primary.main,.55)),F(g.Switch,"secondaryDisabledColor",Ce(g.secondary.main,.55)),F(g.Switch,"errorDisabledColor",Ce(g.error.main,.55)),F(g.Switch,"infoDisabledColor",Ce(g.info.main,.55)),F(g.Switch,"successDisabledColor",Ce(g.success.main,.55)),F(g.Switch,"warningDisabledColor",Ce(g.warning.main,.55)),F(g.TableCell,"border",Ce(Gu(g.divider,1),.68)),F(g.Tooltip,"bg",Gu(g.grey[700],.92))}Pr(g.background,"default"),Pr(g.background,"paper"),Pr(g.common,"background"),Pr(g.common,"onBackground"),Pr(g,"divider"),Object.keys(g).forEach(O=>{const N=g[O];O!=="tonalOffset"&&N&&typeof N=="object"&&(N.main&&F(g[O],"mainChannel",dl(hl(N.main))),N.light&&F(g[O],"lightChannel",dl(hl(N.light))),N.dark&&F(g[O],"darkChannel",dl(hl(N.dark))),N.contrastText&&F(g[O],"contrastTextChannel",dl(hl(N.contrastText))),O==="text"&&(Pr(g[O],"primary"),Pr(g[O],"secondary")),O==="action"&&(N.active&&Pr(g[O],"active"),N.selected&&Pr(g[O],"selected")))})}),R=e.reduce((I,g)=>dn(I,g),R);const D={prefix:s,disableCssColorScheme:i,shouldSkipGeneratingVar:o,getSelector:MK(R)},{vars:M,generateThemeVars:b,generateStyleSheets:x}=YG(R,D);return R.vars=M,Object.entries(R.colorSchemes[R.defaultColorScheme]).forEach(([I,g])=>{R[I]=g}),R.generateThemeVars=b,R.generateStyleSheets=x,R.generateSpacing=function(){return l2(c.spacing,O_(this))},R.getColorSchemeSelector=XG(a),R.spacing=R.generateSpacing(),R.shouldSkipGeneratingVar=o,R.unstable_sxConfig={...nu,...c==null?void 0:c.unstable_sxConfig},R.unstable_sx=function(g){return aa({sx:g,theme:this})},R.toRuntimeSource=g2,R}function CS(t,e,n){t.colorSchemes&&n&&(t.colorSchemes[e]={...n!==!0&&n,palette:H_({...n===!0?{}:n.palette,mode:e})})}function _2(t={},...e){const{palette:n,cssVariables:r=!1,colorSchemes:i=n?void 0:{light:!0},defaultColorScheme:s=n==null?void 0:n.mode,...o}=t,a=s||"light",l=i==null?void 0:i[a],c={...i,...n?{[a]:{...typeof l!="boolean"&&l,palette:n}}:void 0};if(r===!1){if(!("colorSchemes"in t))return ky(t,...e);let d=n;"palette"in t||c[a]&&(c[a]!==!0?d=c[a].palette:a==="dark"&&(d={mode:"dark"}));const h=ky({...t,palette:d},...e);return h.defaultColorScheme=a,h.colorSchemes=c,h.palette.mode==="light"&&(h.colorSchemes.light={...c.light!==!0&&c.light,palette:h.palette},CS(h,"dark",c.dark)),h.palette.mode==="dark"&&(h.colorSchemes.dark={...c.dark!==!0&&c.dark,palette:h.palette},CS(h,"light",c.light)),h}return!n&&!("light"in c)&&a==="light"&&(c.light=!0),$K({...o,colorSchemes:c,defaultColorScheme:a,...typeof r!="boolean"&&r},...e)}const VK=_2(),w2=VK,G_="$$material";function UK(){const t=c2(w2);return t[G_]||t}function BK(t){return t!=="ownerState"&&t!=="theme"&&t!=="sx"&&t!=="as"}const zK=t=>BK(t)&&t!=="classes",WK=zK,HK=AG({themeId:G_,defaultTheme:w2,rootShouldForwardProp:WK}),K_=HK,GK=HG,KK=GK;function x2(t){return WG(t)}function qK(t){return typeof t=="string"}function YK(t,e,n){return t===void 0||qK(t)?e:{...e,ownerState:{...e.ownerState,...n}}}function XK(t,e,n){return typeof t=="function"?t(e,n):t}function E2(t,e=[]){if(t===void 0)return{};const n={};return Object.keys(t).filter(r=>r.match(/^on[A-Z]/)&&typeof t[r]=="function"&&!e.includes(r)).forEach(r=>{n[r]=t[r]}),n}function SS(t){if(t===void 0)return{};const e={};return Object.keys(t).filter(n=>!(n.match(/^on[A-Z]/)&&typeof t[n]=="function")).forEach(n=>{e[n]=t[n]}),e}function QK(t){const{getSlotProps:e,additionalProps:n,externalSlotProps:r,externalForwardedProps:i,className:s}=t;if(!e){const v=oa(n==null?void 0:n.className,s,i==null?void 0:i.className,r==null?void 0:r.className),_={...n==null?void 0:n.style,...i==null?void 0:i.style,...r==null?void 0:r.style},S={...n,...i,...r};return v.length>0&&(S.className=v),Object.keys(_).length>0&&(S.style=_),{props:S,internalRef:void 0}}const o=E2({...i,...r}),a=SS(r),l=SS(i),c=e(o),d=oa(c==null?void 0:c.className,n==null?void 0:n.className,s,i==null?void 0:i.className,r==null?void 0:r.className),h={...c==null?void 0:c.style,...n==null?void 0:n.style,...i==null?void 0:i.style,...r==null?void 0:r.style},f={...c,...n,...l,...a};return d.length>0&&(f.className=d),Object.keys(h).length>0&&(f.style=h),{props:f,internalRef:c.ref}}function Oh(t,e){const{className:n,elementType:r,ownerState:i,externalForwardedProps:s,internalForwardedProps:o,shouldForwardComponentProp:a=!1,...l}=e,{component:c,slots:d={[t]:void 0},slotProps:h={[t]:void 0},...f}=s,v=d[t]||r,_=XK(h[t],i),{props:{component:S,...P},internalRef:w}=QK({className:n,...l,externalForwardedProps:t==="root"?f:void 0,externalSlotProps:_}),C=Zc(w,_==null?void 0:_.ref,e.ref),E=t==="root"?S||c:S,R=YK(v,{...t==="root"&&!c&&!d[t]&&o,...t!=="root"&&!d[t]&&o,...P,...E&&!a&&{as:E},...E&&a&&{component:E},ref:C},i);return[v,R]}function JK(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function Iy(t,e){return Iy=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,r){return n.__proto__=r,n},Iy(t,e)}function ZK(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,Iy(t,e)}const bS={disabled:!1},C2=us.createContext(null);var eq=function(e){return e.scrollTop},fl="unmounted",as="exited",ls="entering",lo="entered",Py="exiting",ii=function(t){ZK(e,t);function e(r,i){var s;s=t.call(this,r,i)||this;var o=i,a=o&&!o.isMounting?r.enter:r.appear,l;return s.appearStatus=null,r.in?a?(l=as,s.appearStatus=ls):l=lo:r.unmountOnExit||r.mountOnEnter?l=fl:l=as,s.state={status:l},s.nextCallback=null,s}e.getDerivedStateFromProps=function(i,s){var o=i.in;return o&&s.status===fl?{status:as}:null};var n=e.prototype;return n.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},n.componentDidUpdate=function(i){var s=null;if(i!==this.props){var o=this.state.status;this.props.in?o!==ls&&o!==lo&&(s=ls):(o===ls||o===lo)&&(s=Py)}this.updateStatus(!1,s)},n.componentWillUnmount=function(){this.cancelNextCallback()},n.getTimeouts=function(){var i=this.props.timeout,s,o,a;return s=o=a=i,i!=null&&typeof i!="number"&&(s=i.exit,o=i.enter,a=i.appear!==void 0?i.appear:o),{exit:s,enter:o,appear:a}},n.updateStatus=function(i,s){if(i===void 0&&(i=!1),s!==null)if(this.cancelNextCallback(),s===ls){if(this.props.unmountOnExit||this.props.mountOnEnter){var o=this.props.nodeRef?this.props.nodeRef.current:Ou.findDOMNode(this);o&&eq(o)}this.performEnter(i)}else this.performExit();else this.props.unmountOnExit&&this.state.status===as&&this.setState({status:fl})},n.performEnter=function(i){var s=this,o=this.props.enter,a=this.context?this.context.isMounting:i,l=this.props.nodeRef?[a]:[Ou.findDOMNode(this),a],c=l[0],d=l[1],h=this.getTimeouts(),f=a?h.appear:h.enter;if(!i&&!o||bS.disabled){this.safeSetState({status:lo},function(){s.props.onEntered(c)});return}this.props.onEnter(c,d),this.safeSetState({status:ls},function(){s.props.onEntering(c,d),s.onTransitionEnd(f,function(){s.safeSetState({status:lo},function(){s.props.onEntered(c,d)})})})},n.performExit=function(){var i=this,s=this.props.exit,o=this.getTimeouts(),a=this.props.nodeRef?void 0:Ou.findDOMNode(this);if(!s||bS.disabled){this.safeSetState({status:as},function(){i.props.onExited(a)});return}this.props.onExit(a),this.safeSetState({status:Py},function(){i.props.onExiting(a),i.onTransitionEnd(o.exit,function(){i.safeSetState({status:as},function(){i.props.onExited(a)})})})},n.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},n.safeSetState=function(i,s){s=this.setNextCallback(s),this.setState(i,s)},n.setNextCallback=function(i){var s=this,o=!0;return this.nextCallback=function(a){o&&(o=!1,s.nextCallback=null,i(a))},this.nextCallback.cancel=function(){o=!1},this.nextCallback},n.onTransitionEnd=function(i,s){this.setNextCallback(s);var o=this.props.nodeRef?this.props.nodeRef.current:Ou.findDOMNode(this),a=i==null&&!this.props.addEndListener;if(!o||a){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var l=this.props.nodeRef?[this.nextCallback]:[o,this.nextCallback],c=l[0],d=l[1];this.props.addEndListener(c,d)}i!=null&&setTimeout(this.nextCallback,i)},n.render=function(){var i=this.state.status;if(i===fl)return null;var s=this.props,o=s.children;s.in,s.mountOnEnter,s.unmountOnExit,s.appear,s.enter,s.exit,s.timeout,s.addEndListener,s.onEnter,s.onEntering,s.onEntered,s.onExit,s.onExiting,s.onExited,s.nodeRef;var a=JK(s,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return us.createElement(C2.Provider,{value:null},typeof o=="function"?o(i,a):us.cloneElement(us.Children.only(o),a))},e}(us.Component);ii.contextType=C2;ii.propTypes={};function oo(){}ii.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:oo,onEntering:oo,onEntered:oo,onExit:oo,onExiting:oo,onExited:oo};ii.UNMOUNTED=fl;ii.EXITED=as;ii.ENTERING=ls;ii.ENTERED=lo;ii.EXITING=Py;const tq=ii,nq=t=>t.scrollTop;function TS(t,e){const{timeout:n,easing:r,style:i={}}=t;return{duration:i.transitionDuration??(typeof n=="number"?n:n[e.mode]||0),easing:i.transitionTimingFunction??(typeof r=="object"?r[e.mode]:r),delay:i.transitionDelay}}const rq={entering:{opacity:1},entered:{opacity:1}},iq=T.forwardRef(function(e,n){const r=UK(),i={enter:r.transitions.duration.enteringScreen,exit:r.transitions.duration.leavingScreen},{addEndListener:s,appear:o=!0,children:a,easing:l,in:c,onEnter:d,onEntered:h,onEntering:f,onExit:v,onExited:_,onExiting:S,style:P,timeout:w=i,TransitionComponent:C=tq,...E}=e,R=T.useRef(null),D=Zc(R,P_(a),n),M=V=>W=>{if(V){const K=R.current;W===void 0?V(K):V(K,W)}},b=M(f),x=M((V,W)=>{nq(V);const K=TS({style:P,timeout:w,easing:l},{mode:"enter"});V.style.webkitTransition=r.transitions.create("opacity",K),V.style.transition=r.transitions.create("opacity",K),d&&d(V,W)}),I=M(h),g=M(S),A=M(V=>{const W=TS({style:P,timeout:w,easing:l},{mode:"exit"});V.style.webkitTransition=r.transitions.create("opacity",W),V.style.transition=r.transitions.create("opacity",W),v&&v(V)}),O=M(_),N=V=>{s&&s(R.current,V)};return m.jsx(C,{appear:o,in:c,nodeRef:R,onEnter:x,onEntered:I,onEntering:b,onExit:A,onExited:O,onExiting:g,addEndListener:N,timeout:w,...E,children:(V,{ownerState:W,...K})=>T.cloneElement(a,{style:{opacity:0,visibility:V==="exited"&&!c?"hidden":void 0,...rq[V],...P,...a.props.style},ref:D,...K})})}),sq=iq;function oq(t){return V_("MuiBackdrop",t)}U_("MuiBackdrop",["root","invisible"]);const aq=t=>{const{classes:e,invisible:n}=t;return UA({root:["root",n&&"invisible"]},oq,e)},lq=K_("div",{name:"MuiBackdrop",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.invisible&&e.invisible]}})({position:"fixed",display:"flex",alignItems:"center",justifyContent:"center",right:0,bottom:0,top:0,left:0,backgroundColor:"rgba(0, 0, 0, 0.5)",WebkitTapHighlightColor:"transparent",variants:[{props:{invisible:!0},style:{backgroundColor:"transparent"}}]}),cq=T.forwardRef(function(e,n){const r=x2({props:e,name:"MuiBackdrop"}),{children:i,className:s,component:o="div",invisible:a=!1,open:l,components:c={},componentsProps:d={},slotProps:h={},slots:f={},TransitionComponent:v,transitionDuration:_,...S}=r,P={...r,component:o,invisible:a},w=aq(P),C={transition:v,root:c.Root,...f},E={...d,...h},R={slots:C,slotProps:E},[D,M]=Oh("root",{elementType:lq,externalForwardedProps:R,className:oa(w.root,s),ownerState:P}),[b,x]=Oh("transition",{elementType:sq,externalForwardedProps:R,ownerState:P});return m.jsx(b,{in:l,timeout:_,...S,...x,children:m.jsx(D,{"aria-hidden":!0,...M,classes:w,ref:n,children:i})})}),uq=cq;function kS(t){const e=T.useRef(t);return wy(()=>{e.current=t}),T.useRef((...n)=>(0,e.current)(...n)).current}function IS(...t){return t.reduce((e,n)=>n==null?e:function(...i){e.apply(this,i),n.apply(this,i)},()=>{})}function dq(t){return typeof t=="function"?t():t}function hq(t){return t?t.props.hasOwnProperty("in"):!1}const PS=()=>{},qu=new lW;function fq(t){const{container:e,disableEscapeKeyDown:n=!1,disableScrollLock:r=!1,closeAfterTransition:i=!1,onTransitionEnter:s,onTransitionExited:o,children:a,onClose:l,open:c,rootRef:d}=t,h=T.useRef({}),f=T.useRef(null),v=T.useRef(null),_=Zc(v,d),[S,P]=T.useState(!c),w=hq(a);let C=!0;(t["aria-hidden"]==="false"||t["aria-hidden"]===!1)&&(C=!1);const E=()=>js(f.current),R=()=>(h.current.modalRef=v.current,h.current.mount=f.current,h.current),D=()=>{qu.mount(R(),{disableScrollLock:r}),v.current&&(v.current.scrollTop=0)},M=kS(()=>{const W=dq(e)||E().body;qu.add(R(),W),v.current&&D()}),b=()=>qu.isTopModal(R()),x=kS(W=>{f.current=W,W&&(c&&b()?D():v.current&&Ll(v.current,C))}),I=T.useCallback(()=>{qu.remove(R(),C)},[C]);T.useEffect(()=>()=>{I()},[I]),T.useEffect(()=>{c?M():(!w||!i)&&I()},[c,I,w,i,M]);const g=W=>K=>{var G;(G=W.onKeyDown)==null||G.call(W,K),!(K.key!=="Escape"||K.which===229||!b())&&(n||(K.stopPropagation(),l&&l(K,"escapeKeyDown")))},A=W=>K=>{var G;(G=W.onClick)==null||G.call(W,K),K.target===K.currentTarget&&l&&l(K,"backdropClick")};return{getRootProps:(W={})=>{const K=E2(t);delete K.onTransitionEnter,delete K.onTransitionExited;const G={...K,...W};return{role:"presentation",...G,onKeyDown:g(G),ref:_}},getBackdropProps:(W={})=>{const K=W;return{"aria-hidden":!0,...K,onClick:A(K),open:c}},getTransitionProps:()=>{const W=()=>{P(!1),s&&s()},K=()=>{P(!0),o&&o(),i&&I()};return{onEnter:IS(W,(a==null?void 0:a.props.onEnter)??PS),onExited:IS(K,(a==null?void 0:a.props.onExited)??PS)}},rootRef:_,portalRef:x,isTopModal:b,exited:S,hasTransition:w}}function pq(t){return V_("MuiModal",t)}U_("MuiModal",["root","hidden","backdrop"]);const mq=t=>{const{open:e,exited:n,classes:r}=t;return UA({root:["root",!e&&n&&"hidden"],backdrop:["backdrop"]},pq,r)},gq=K_("div",{name:"MuiModal",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,!n.open&&n.exited&&e.hidden]}})(KK(({theme:t})=>({position:"fixed",zIndex:(t.vars||t).zIndex.modal,right:0,bottom:0,top:0,left:0,variants:[{props:({ownerState:e})=>!e.open&&e.exited,style:{visibility:"hidden"}}]}))),yq=K_(uq,{name:"MuiModal",slot:"Backdrop"})({zIndex:-1}),vq=T.forwardRef(function(e,n){const r=x2({name:"MuiModal",props:e}),{BackdropComponent:i=yq,BackdropProps:s,classes:o,className:a,closeAfterTransition:l=!1,children:c,container:d,component:h,components:f={},componentsProps:v={},disableAutoFocus:_=!1,disableEnforceFocus:S=!1,disableEscapeKeyDown:P=!1,disablePortal:w=!1,disableRestoreFocus:C=!1,disableScrollLock:E=!1,hideBackdrop:R=!1,keepMounted:D=!1,onClose:M,onTransitionEnter:b,onTransitionExited:x,open:I,slotProps:g={},slots:A={},theme:O,...N}=r,V={...r,closeAfterTransition:l,disableAutoFocus:_,disableEnforceFocus:S,disableEscapeKeyDown:P,disablePortal:w,disableRestoreFocus:C,disableScrollLock:E,hideBackdrop:R,keepMounted:D},{getRootProps:W,getBackdropProps:K,getTransitionProps:G,portalRef:$,isTopModal:q,exited:X,hasTransition:_e}=fq({...V,rootRef:n}),re={...V,exited:X},ee=mq(re),Q={};if(c.props.tabIndex===void 0&&(Q.tabIndex="-1"),_e){const{onEnter:Ve,onExited:ht}=G();Q.onEnter=Ve,Q.onExited=ht}const ue={slots:{root:f.Root,backdrop:f.Backdrop,...A},slotProps:{...v,...g}},[de,ie]=Oh("root",{ref:n,elementType:gq,externalForwardedProps:{...ue,...N,component:h},getSlotProps:W,ownerState:re,className:oa(a,ee==null?void 0:ee.root,!re.open&&re.exited&&(ee==null?void 0:ee.hidden))}),[it,dt]=Oh("backdrop",{ref:s==null?void 0:s.ref,elementType:i,externalForwardedProps:ue,shouldForwardComponentProp:!0,additionalProps:s,getSlotProps:Ve=>K({...Ve,onClick:ht=>{Ve!=null&&Ve.onClick&&Ve.onClick(ht)}}),className:oa(s==null?void 0:s.className,ee==null?void 0:ee.backdrop),ownerState:re});return!D&&!I&&(!_e||X)?null:m.jsx(_W,{ref:$,container:d,disablePortal:w,children:m.jsxs(de,{...ie,children:[!R&&i?m.jsx(it,{...dt}):null,m.jsx(mW,{disableEnforceFocus:S,disableAutoFocus:_,disableRestoreFocus:C,isEnabled:q,open:I,children:T.cloneElement(c,Q)})]})})}),S2=vq,_q=U_("MuiBox",["root"]),wq=_q,xq=_2(),Eq=TG({themeId:G_,defaultTheme:xq,defaultClassName:wq.root,generateClassName:u2.generate}),b2=Eq;var RS=!1,cs,Ry,Ay,bd,Td,T2,kd,Ny,Dy,Oy,k2,My,Ly,I2,P2;function Kt(){if(!RS){RS=!0;var t=navigator.userAgent,e=/(?:MSIE.(\d+\.\d+))|(?:(?:Firefox|GranParadiso|Iceweasel).(\d+\.\d+))|(?:Opera(?:.+Version.|.)(\d+\.\d+))|(?:AppleWebKit.(\d+(?:\.\d+)?))|(?:Trident\/\d+\.\d+.*rv:(\d+\.\d+))/.exec(t),n=/(Mac OS X)|(Windows)|(Linux)/.exec(t);if(My=/\b(iPhone|iP[ao]d)/.exec(t),Ly=/\b(iP[ao]d)/.exec(t),Oy=/Android/i.exec(t),I2=/FBAN\/\w+;/i.exec(t),P2=/Mobile/i.exec(t),k2=!!/Win64/.exec(t),e){cs=e[1]?parseFloat(e[1]):e[5]?parseFloat(e[5]):NaN,cs&&document&&document.documentMode&&(cs=document.documentMode);var r=/(?:Trident\/(\d+.\d+))/.exec(t);T2=r?parseFloat(r[1])+4:cs,Ry=e[2]?parseFloat(e[2]):NaN,Ay=e[3]?parseFloat(e[3]):NaN,bd=e[4]?parseFloat(e[4]):NaN,bd?(e=/(?:Chrome\/(\d+\.\d+))/.exec(t),Td=e&&e[1]?parseFloat(e[1]):NaN):Td=NaN}else cs=Ry=Ay=Td=bd=NaN;if(n){if(n[1]){var i=/(?:Mac OS X (\d+(?:[._]\d+)?))/.exec(t);kd=i?parseFloat(i[1].replace("_",".")):!0}else kd=!1;Ny=!!n[2],Dy=!!n[3]}else kd=Ny=Dy=!1}}var jy={ie:function(){return Kt()||cs},ieCompatibilityMode:function(){return Kt()||T2>cs},ie64:function(){return jy.ie()&&k2},firefox:function(){return Kt()||Ry},opera:function(){return Kt()||Ay},webkit:function(){return Kt()||bd},safari:function(){return jy.webkit()},chrome:function(){return Kt()||Td},windows:function(){return Kt()||Ny},osx:function(){return Kt()||kd},linux:function(){return Kt()||Dy},iphone:function(){return Kt()||My},mobile:function(){return Kt()||My||Ly||Oy||P2},nativeApp:function(){return Kt()||I2},android:function(){return Kt()||Oy},ipad:function(){return Kt()||Ly}},Cq=jy,Yu=!!(typeof window<"u"&&window.document&&window.document.createElement),Sq={canUseDOM:Yu,canUseWorkers:typeof Worker<"u",canUseEventListeners:Yu&&!!(window.addEventListener||window.attachEvent),canUseViewport:Yu&&!!window.screen,isInWorker:!Yu},bq=Sq,R2=bq,A2;R2.canUseDOM&&(A2=document.implementation&&document.implementation.hasFeature&&document.implementation.hasFeature("","")!==!0);/**
 * Checks if an event is supported in the current execution environment.
 *
 * NOTE: This will not work correctly for non-generic events such as `change`,
 * `reset`, `load`, `error`, and `select`.
 *
 * Borrows from Modernizr.
 *
 * @param {string} eventNameSuffix Event name, e.g. "click".
 * @param {?boolean} capture Check if the capture phase is supported.
 * @return {boolean} True if the event is supported.
 * @internal
 * @license Modernizr 3.0.0pre (Custom Build) | MIT
 */function Tq(t,e){if(!R2.canUseDOM||e&&!("addEventListener"in document))return!1;var n="on"+t,r=n in document;if(!r){var i=document.createElement("div");i.setAttribute(n,"return;"),r=typeof i[n]=="function"}return!r&&A2&&t==="wheel"&&(r=document.implementation.hasFeature("Events.wheel","3.0")),r}var kq=Tq,Iq=Cq,Pq=kq,AS=10,NS=40,DS=800;function N2(t){var e=0,n=0,r=0,i=0;return"detail"in t&&(n=t.detail),"wheelDelta"in t&&(n=-t.wheelDelta/120),"wheelDeltaY"in t&&(n=-t.wheelDeltaY/120),"wheelDeltaX"in t&&(e=-t.wheelDeltaX/120),"axis"in t&&t.axis===t.HORIZONTAL_AXIS&&(e=n,n=0),r=e*AS,i=n*AS,"deltaY"in t&&(i=t.deltaY),"deltaX"in t&&(r=t.deltaX),(r||i)&&t.deltaMode&&(t.deltaMode==1?(r*=NS,i*=NS):(r*=DS,i*=DS)),r&&!e&&(e=r<1?-1:1),i&&!n&&(n=i<1?-1:1),{spinX:e,spinY:n,pixelX:r,pixelY:i}}N2.getEventType=function(){return Iq.firefox()?"DOMMouseScroll":Pq("wheel")?"wheel":"mousewheel"};var Rq=N2,Aq=Rq;const Nq=Fy(Aq);function Dq(t,e,n,r,i,s){s===void 0&&(s=0);var o=ca(t,e,s),a=o.width,l=o.height,c=Math.min(a,n),d=Math.min(l,r);return c>d*i?{width:d*i,height:d}:{width:c,height:c/i}}function Oq(t){return t.width>t.height?t.width/t.naturalWidth:t.height/t.naturalHeight}function rl(t,e,n,r,i){i===void 0&&(i=0);var s=ca(e.width,e.height,i),o=s.width,a=s.height;return{x:OS(t.x,o,n.width,r),y:OS(t.y,a,n.height,r)}}function OS(t,e,n,r){var i=e*r/2-n/2;return Gf(t,-i,i)}function MS(t,e){return Math.sqrt(Math.pow(t.y-e.y,2)+Math.pow(t.x-e.x,2))}function LS(t,e){return Math.atan2(e.y-t.y,e.x-t.x)*180/Math.PI}function Mq(t,e,n,r,i,s,o){s===void 0&&(s=0),o===void 0&&(o=!0);var a=o?Lq:jq,l=ca(e.width,e.height,s),c=ca(e.naturalWidth,e.naturalHeight,s),d={x:a(100,((l.width-n.width/i)/2-t.x/i)/l.width*100),y:a(100,((l.height-n.height/i)/2-t.y/i)/l.height*100),width:a(100,n.width/l.width*100/i),height:a(100,n.height/l.height*100/i)},h=Math.round(a(c.width,d.width*c.width/100)),f=Math.round(a(c.height,d.height*c.height/100)),v=c.width>=c.height*r,_=v?{width:Math.round(f*r),height:f}:{width:h,height:Math.round(h/r)},S=ot(ot({},_),{x:Math.round(a(c.width-_.width,d.x*c.width/100)),y:Math.round(a(c.height-_.height,d.y*c.height/100))});return{croppedAreaPercentages:d,croppedAreaPixels:S}}function Lq(t,e){return Math.min(t,Math.max(0,e))}function jq(t,e){return e}function Fq(t,e,n,r,i,s){var o=ca(e.width,e.height,n),a=Gf(r.width/o.width*(100/t.width),i,s),l={x:a*o.width/2-r.width/2-o.width*a*(t.x/100),y:a*o.height/2-r.height/2-o.height*a*(t.y/100)};return{crop:l,zoom:a}}function $q(t,e,n){var r=Oq(e);return n.height>n.width?n.height/(t.height*r):n.width/(t.width*r)}function Vq(t,e,n,r,i,s){n===void 0&&(n=0);var o=ca(e.naturalWidth,e.naturalHeight,n),a=Gf($q(t,e,r),i,s),l=r.height>r.width?r.height/t.height:r.width/t.width,c={x:((o.width-t.width)/2-t.x)*l,y:((o.height-t.height)/2-t.y)*l};return{crop:c,zoom:a}}function jS(t,e){return{x:(e.x+t.x)/2,y:(e.y+t.y)/2}}function Uq(t){return t*Math.PI/180}function ca(t,e,n){var r=Uq(n);return{width:Math.abs(Math.cos(r)*t)+Math.abs(Math.sin(r)*e),height:Math.abs(Math.sin(r)*t)+Math.abs(Math.cos(r)*e)}}function Gf(t,e,n){return Math.min(Math.max(t,e),n)}function Xu(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return t.filter(function(n){return typeof n=="string"&&n.length>0}).join(" ").trim()}var Bq=`.reactEasyCrop_Container {
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  overflow: hidden;
  user-select: none;
  touch-action: none;
  cursor: move;
  display: flex;
  justify-content: center;
  align-items: center;
}

.reactEasyCrop_Image,
.reactEasyCrop_Video {
  will-change: transform; /* this improves performances and prevent painting issues on iOS Chrome */
}

.reactEasyCrop_Contain {
  max-width: 100%;
  max-height: 100%;
  margin: auto;
  position: absolute;
  top: 0;
  bottom: 0;
  left: 0;
  right: 0;
}
.reactEasyCrop_Cover_Horizontal {
  width: 100%;
  height: auto;
}
.reactEasyCrop_Cover_Vertical {
  width: auto;
  height: 100%;
}

.reactEasyCrop_CropArea {
  position: absolute;
  left: 50%;
  top: 50%;
  transform: translate(-50%, -50%);
  border: 1px solid rgba(255, 255, 255, 0.5);
  box-sizing: border-box;
  box-shadow: 0 0 0 9999em;
  color: rgba(0, 0, 0, 0.5);
  overflow: hidden;
}

.reactEasyCrop_CropAreaRound {
  border-radius: 50%;
}

.reactEasyCrop_CropAreaGrid::before {
  content: ' ';
  box-sizing: border-box;
  position: absolute;
  border: 1px solid rgba(255, 255, 255, 0.5);
  top: 0;
  bottom: 0;
  left: 33.33%;
  right: 33.33%;
  border-top: 0;
  border-bottom: 0;
}

.reactEasyCrop_CropAreaGrid::after {
  content: ' ';
  box-sizing: border-box;
  position: absolute;
  border: 1px solid rgba(255, 255, 255, 0.5);
  top: 33.33%;
  bottom: 33.33%;
  left: 0;
  right: 0;
  border-left: 0;
  border-right: 0;
}
`,zq=1,Wq=3,Hq=1,Gq=function(t){b5(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.cropperRef=T.createRef(),n.imageRef=T.createRef(),n.videoRef=T.createRef(),n.containerPosition={x:0,y:0},n.containerRef=null,n.styleRef=null,n.containerRect=null,n.mediaSize={width:0,height:0,naturalWidth:0,naturalHeight:0},n.dragStartPosition={x:0,y:0},n.dragStartCrop={x:0,y:0},n.gestureZoomStart=0,n.gestureRotationStart=0,n.isTouching=!1,n.lastPinchDistance=0,n.lastPinchRotation=0,n.rafDragTimeout=null,n.rafPinchTimeout=null,n.wheelTimer=null,n.currentDoc=typeof document<"u"?document:null,n.currentWindow=typeof window<"u"?window:null,n.resizeObserver=null,n.state={cropSize:null,hasWheelJustStarted:!1,mediaObjectFit:void 0},n.initResizeObserver=function(){if(!(typeof window.ResizeObserver>"u"||!n.containerRef)){var r=!0;n.resizeObserver=new window.ResizeObserver(function(i){if(r){r=!1;return}n.computeSizes()}),n.resizeObserver.observe(n.containerRef)}},n.preventZoomSafari=function(r){return r.preventDefault()},n.cleanEvents=function(){n.currentDoc&&(n.currentDoc.removeEventListener("mousemove",n.onMouseMove),n.currentDoc.removeEventListener("mouseup",n.onDragStopped),n.currentDoc.removeEventListener("touchmove",n.onTouchMove),n.currentDoc.removeEventListener("touchend",n.onDragStopped),n.currentDoc.removeEventListener("gesturemove",n.onGestureMove),n.currentDoc.removeEventListener("gestureend",n.onGestureEnd),n.currentDoc.removeEventListener("scroll",n.onScroll))},n.clearScrollEvent=function(){n.containerRef&&n.containerRef.removeEventListener("wheel",n.onWheel),n.wheelTimer&&clearTimeout(n.wheelTimer)},n.onMediaLoad=function(){var r=n.computeSizes();r&&(n.emitCropData(),n.setInitialCrop(r)),n.props.onMediaLoaded&&n.props.onMediaLoaded(n.mediaSize)},n.setInitialCrop=function(r){if(n.props.initialCroppedAreaPercentages){var i=Fq(n.props.initialCroppedAreaPercentages,n.mediaSize,n.props.rotation,r,n.props.minZoom,n.props.maxZoom),s=i.crop,o=i.zoom;n.props.onCropChange(s),n.props.onZoomChange&&n.props.onZoomChange(o)}else if(n.props.initialCroppedAreaPixels){var a=Vq(n.props.initialCroppedAreaPixels,n.mediaSize,n.props.rotation,r,n.props.minZoom,n.props.maxZoom),s=a.crop,o=a.zoom;n.props.onCropChange(s),n.props.onZoomChange&&n.props.onZoomChange(o)}},n.computeSizes=function(){var r,i,s,o,a,l,c=n.imageRef.current||n.videoRef.current;if(c&&n.containerRef){n.containerRect=n.containerRef.getBoundingClientRect(),n.saveContainerPosition();var d=n.containerRect.width/n.containerRect.height,h=((r=n.imageRef.current)===null||r===void 0?void 0:r.naturalWidth)||((i=n.videoRef.current)===null||i===void 0?void 0:i.videoWidth)||0,f=((s=n.imageRef.current)===null||s===void 0?void 0:s.naturalHeight)||((o=n.videoRef.current)===null||o===void 0?void 0:o.videoHeight)||0,v=c.offsetWidth<h||c.offsetHeight<f,_=h/f,S=void 0;if(v)switch(n.state.mediaObjectFit){default:case"contain":S=d>_?{width:n.containerRect.height*_,height:n.containerRect.height}:{width:n.containerRect.width,height:n.containerRect.width/_};break;case"horizontal-cover":S={width:n.containerRect.width,height:n.containerRect.width/_};break;case"vertical-cover":S={width:n.containerRect.height*_,height:n.containerRect.height};break}else S={width:c.offsetWidth,height:c.offsetHeight};n.mediaSize=ot(ot({},S),{naturalWidth:h,naturalHeight:f}),n.props.setMediaSize&&n.props.setMediaSize(n.mediaSize);var P=n.props.cropSize?n.props.cropSize:Dq(n.mediaSize.width,n.mediaSize.height,n.containerRect.width,n.containerRect.height,n.props.aspect,n.props.rotation);return(((a=n.state.cropSize)===null||a===void 0?void 0:a.height)!==P.height||((l=n.state.cropSize)===null||l===void 0?void 0:l.width)!==P.width)&&n.props.onCropSizeChange&&n.props.onCropSizeChange(P),n.setState({cropSize:P},n.recomputeCropPosition),n.props.setCropSize&&n.props.setCropSize(P),P}},n.saveContainerPosition=function(){if(n.containerRef){var r=n.containerRef.getBoundingClientRect();n.containerPosition={x:r.left,y:r.top}}},n.onMouseDown=function(r){n.currentDoc&&(r.preventDefault(),n.currentDoc.addEventListener("mousemove",n.onMouseMove),n.currentDoc.addEventListener("mouseup",n.onDragStopped),n.saveContainerPosition(),n.onDragStart(e.getMousePoint(r)))},n.onMouseMove=function(r){return n.onDrag(e.getMousePoint(r))},n.onScroll=function(r){n.currentDoc&&(r.preventDefault(),n.saveContainerPosition())},n.onTouchStart=function(r){n.currentDoc&&(n.isTouching=!0,!(n.props.onTouchRequest&&!n.props.onTouchRequest(r))&&(n.currentDoc.addEventListener("touchmove",n.onTouchMove,{passive:!1}),n.currentDoc.addEventListener("touchend",n.onDragStopped),n.saveContainerPosition(),r.touches.length===2?n.onPinchStart(r):r.touches.length===1&&n.onDragStart(e.getTouchPoint(r.touches[0]))))},n.onTouchMove=function(r){r.preventDefault(),r.touches.length===2?n.onPinchMove(r):r.touches.length===1&&n.onDrag(e.getTouchPoint(r.touches[0]))},n.onGestureStart=function(r){n.currentDoc&&(r.preventDefault(),n.currentDoc.addEventListener("gesturechange",n.onGestureMove),n.currentDoc.addEventListener("gestureend",n.onGestureEnd),n.gestureZoomStart=n.props.zoom,n.gestureRotationStart=n.props.rotation)},n.onGestureMove=function(r){if(r.preventDefault(),!n.isTouching){var i=e.getMousePoint(r),s=n.gestureZoomStart-1+r.scale;if(n.setNewZoom(s,i,{shouldUpdatePosition:!0}),n.props.onRotationChange){var o=n.gestureRotationStart+r.rotation;n.props.onRotationChange(o)}}},n.onGestureEnd=function(r){n.cleanEvents()},n.onDragStart=function(r){var i,s,o=r.x,a=r.y;n.dragStartPosition={x:o,y:a},n.dragStartCrop=ot({},n.props.crop),(s=(i=n.props).onInteractionStart)===null||s===void 0||s.call(i)},n.onDrag=function(r){var i=r.x,s=r.y;n.currentWindow&&(n.rafDragTimeout&&n.currentWindow.cancelAnimationFrame(n.rafDragTimeout),n.rafDragTimeout=n.currentWindow.requestAnimationFrame(function(){if(n.state.cropSize&&!(i===void 0||s===void 0)){var o=i-n.dragStartPosition.x,a=s-n.dragStartPosition.y,l={x:n.dragStartCrop.x+o,y:n.dragStartCrop.y+a},c=n.props.restrictPosition?rl(l,n.mediaSize,n.state.cropSize,n.props.zoom,n.props.rotation):l;n.props.onCropChange(c)}}))},n.onDragStopped=function(){var r,i;n.isTouching=!1,n.cleanEvents(),n.emitCropData(),(i=(r=n.props).onInteractionEnd)===null||i===void 0||i.call(r)},n.onWheel=function(r){if(n.currentWindow&&!(n.props.onWheelRequest&&!n.props.onWheelRequest(r))){r.preventDefault();var i=e.getMousePoint(r),s=Nq(r).pixelY,o=n.props.zoom-s*n.props.zoomSpeed/200;n.setNewZoom(o,i,{shouldUpdatePosition:!0}),n.state.hasWheelJustStarted||n.setState({hasWheelJustStarted:!0},function(){var a,l;return(l=(a=n.props).onInteractionStart)===null||l===void 0?void 0:l.call(a)}),n.wheelTimer&&clearTimeout(n.wheelTimer),n.wheelTimer=n.currentWindow.setTimeout(function(){return n.setState({hasWheelJustStarted:!1},function(){var a,l;return(l=(a=n.props).onInteractionEnd)===null||l===void 0?void 0:l.call(a)})},250)}},n.getPointOnContainer=function(r,i){var s=r.x,o=r.y;if(!n.containerRect)throw new Error("The Cropper is not mounted");return{x:n.containerRect.width/2-(s-i.x),y:n.containerRect.height/2-(o-i.y)}},n.getPointOnMedia=function(r){var i=r.x,s=r.y,o=n.props,a=o.crop,l=o.zoom;return{x:(i+a.x)/l,y:(s+a.y)/l}},n.setNewZoom=function(r,i,s){var o=s===void 0?{}:s,a=o.shouldUpdatePosition,l=a===void 0?!0:a;if(!(!n.state.cropSize||!n.props.onZoomChange)){var c=Gf(r,n.props.minZoom,n.props.maxZoom);if(l){var d=n.getPointOnContainer(i,n.containerPosition),h=n.getPointOnMedia(d),f={x:h.x*c-d.x,y:h.y*c-d.y},v=n.props.restrictPosition?rl(f,n.mediaSize,n.state.cropSize,c,n.props.rotation):f;n.props.onCropChange(v)}n.props.onZoomChange(c)}},n.getCropData=function(){if(!n.state.cropSize)return null;var r=n.props.restrictPosition?rl(n.props.crop,n.mediaSize,n.state.cropSize,n.props.zoom,n.props.rotation):n.props.crop;return Mq(r,n.mediaSize,n.state.cropSize,n.getAspect(),n.props.zoom,n.props.rotation,n.props.restrictPosition)},n.emitCropData=function(){var r=n.getCropData();if(r){var i=r.croppedAreaPercentages,s=r.croppedAreaPixels;n.props.onCropComplete&&n.props.onCropComplete(i,s),n.props.onCropAreaChange&&n.props.onCropAreaChange(i,s)}},n.emitCropAreaChange=function(){var r=n.getCropData();if(r){var i=r.croppedAreaPercentages,s=r.croppedAreaPixels;n.props.onCropAreaChange&&n.props.onCropAreaChange(i,s)}},n.recomputeCropPosition=function(){if(n.state.cropSize){var r=n.props.restrictPosition?rl(n.props.crop,n.mediaSize,n.state.cropSize,n.props.zoom,n.props.rotation):n.props.crop;n.props.onCropChange(r),n.emitCropData()}},n.onKeyDown=function(r){var i,s,o=n.props,a=o.crop,l=o.onCropChange,c=o.keyboardStep,d=o.zoom,h=o.rotation,f=c;if(n.state.cropSize){r.shiftKey&&(f*=.2);var v=ot({},a);switch(r.key){case"ArrowUp":v.y-=f,r.preventDefault();break;case"ArrowDown":v.y+=f,r.preventDefault();break;case"ArrowLeft":v.x-=f,r.preventDefault();break;case"ArrowRight":v.x+=f,r.preventDefault();break;default:return}n.props.restrictPosition&&(v=rl(v,n.mediaSize,n.state.cropSize,d,h)),r.repeat||(s=(i=n.props).onInteractionStart)===null||s===void 0||s.call(i),l(v)}},n.onKeyUp=function(r){var i,s;switch(r.key){case"ArrowUp":case"ArrowDown":case"ArrowLeft":case"ArrowRight":r.preventDefault();break;default:return}n.emitCropData(),(s=(i=n.props).onInteractionEnd)===null||s===void 0||s.call(i)},n}return e.prototype.componentDidMount=function(){!this.currentDoc||!this.currentWindow||(this.containerRef&&(this.containerRef.ownerDocument&&(this.currentDoc=this.containerRef.ownerDocument),this.currentDoc.defaultView&&(this.currentWindow=this.currentDoc.defaultView),this.initResizeObserver(),typeof window.ResizeObserver>"u"&&this.currentWindow.addEventListener("resize",this.computeSizes),this.props.zoomWithScroll&&this.containerRef.addEventListener("wheel",this.onWheel,{passive:!1}),this.containerRef.addEventListener("gesturestart",this.onGestureStart)),this.currentDoc.addEventListener("scroll",this.onScroll),this.props.disableAutomaticStylesInjection||(this.styleRef=this.currentDoc.createElement("style"),this.styleRef.setAttribute("type","text/css"),this.props.nonce&&this.styleRef.setAttribute("nonce",this.props.nonce),this.styleRef.innerHTML=Bq,this.currentDoc.head.appendChild(this.styleRef)),this.imageRef.current&&this.imageRef.current.complete&&this.onMediaLoad(),this.props.setImageRef&&this.props.setImageRef(this.imageRef),this.props.setVideoRef&&this.props.setVideoRef(this.videoRef),this.props.setCropperRef&&this.props.setCropperRef(this.cropperRef))},e.prototype.componentWillUnmount=function(){var n,r;!this.currentDoc||!this.currentWindow||(typeof window.ResizeObserver>"u"&&this.currentWindow.removeEventListener("resize",this.computeSizes),(n=this.resizeObserver)===null||n===void 0||n.disconnect(),this.containerRef&&this.containerRef.removeEventListener("gesturestart",this.preventZoomSafari),this.styleRef&&((r=this.styleRef.parentNode)===null||r===void 0||r.removeChild(this.styleRef)),this.cleanEvents(),this.props.zoomWithScroll&&this.clearScrollEvent())},e.prototype.componentDidUpdate=function(n){var r,i,s,o,a,l,c,d,h;n.rotation!==this.props.rotation?(this.computeSizes(),this.recomputeCropPosition()):n.aspect!==this.props.aspect?this.computeSizes():n.objectFit!==this.props.objectFit?this.computeSizes():n.zoom!==this.props.zoom?this.recomputeCropPosition():((r=n.cropSize)===null||r===void 0?void 0:r.height)!==((i=this.props.cropSize)===null||i===void 0?void 0:i.height)||((s=n.cropSize)===null||s===void 0?void 0:s.width)!==((o=this.props.cropSize)===null||o===void 0?void 0:o.width)?this.computeSizes():(((a=n.crop)===null||a===void 0?void 0:a.x)!==((l=this.props.crop)===null||l===void 0?void 0:l.x)||((c=n.crop)===null||c===void 0?void 0:c.y)!==((d=this.props.crop)===null||d===void 0?void 0:d.y))&&this.emitCropAreaChange(),n.zoomWithScroll!==this.props.zoomWithScroll&&this.containerRef&&(this.props.zoomWithScroll?this.containerRef.addEventListener("wheel",this.onWheel,{passive:!1}):this.clearScrollEvent()),n.video!==this.props.video&&((h=this.videoRef.current)===null||h===void 0||h.load());var f=this.getObjectFit();f!==this.state.mediaObjectFit&&this.setState({mediaObjectFit:f},this.computeSizes)},e.prototype.getAspect=function(){var n=this.props,r=n.cropSize,i=n.aspect;return r?r.width/r.height:i},e.prototype.getObjectFit=function(){var n,r,i,s;if(this.props.objectFit==="cover"){var o=this.imageRef.current||this.videoRef.current;if(o&&this.containerRef){this.containerRect=this.containerRef.getBoundingClientRect();var a=this.containerRect.width/this.containerRect.height,l=((n=this.imageRef.current)===null||n===void 0?void 0:n.naturalWidth)||((r=this.videoRef.current)===null||r===void 0?void 0:r.videoWidth)||0,c=((i=this.imageRef.current)===null||i===void 0?void 0:i.naturalHeight)||((s=this.videoRef.current)===null||s===void 0?void 0:s.videoHeight)||0,d=l/c;return d<a?"horizontal-cover":"vertical-cover"}return"horizontal-cover"}return this.props.objectFit},e.prototype.onPinchStart=function(n){var r=e.getTouchPoint(n.touches[0]),i=e.getTouchPoint(n.touches[1]);this.lastPinchDistance=MS(r,i),this.lastPinchRotation=LS(r,i),this.onDragStart(jS(r,i))},e.prototype.onPinchMove=function(n){var r=this;if(!(!this.currentDoc||!this.currentWindow)){var i=e.getTouchPoint(n.touches[0]),s=e.getTouchPoint(n.touches[1]),o=jS(i,s);this.onDrag(o),this.rafPinchTimeout&&this.currentWindow.cancelAnimationFrame(this.rafPinchTimeout),this.rafPinchTimeout=this.currentWindow.requestAnimationFrame(function(){var a=MS(i,s),l=r.props.zoom*(a/r.lastPinchDistance);r.setNewZoom(l,o,{shouldUpdatePosition:!1}),r.lastPinchDistance=a;var c=LS(i,s),d=r.props.rotation+(c-r.lastPinchRotation);r.props.onRotationChange&&r.props.onRotationChange(d),r.lastPinchRotation=c})}},e.prototype.render=function(){var n=this,r,i=this.props,s=i.image,o=i.video,a=i.mediaProps,l=i.cropperProps,c=i.transform,d=i.crop,h=d.x,f=d.y,v=i.rotation,_=i.zoom,S=i.cropShape,P=i.showGrid,w=i.style,C=w.containerStyle,E=w.cropAreaStyle,R=w.mediaStyle,D=i.classes,M=D.containerClassName,b=D.cropAreaClassName,x=D.mediaClassName,I=(r=this.state.mediaObjectFit)!==null&&r!==void 0?r:this.getObjectFit();return T.createElement("div",{onMouseDown:this.onMouseDown,onTouchStart:this.onTouchStart,ref:function(A){return n.containerRef=A},"data-testid":"container",style:C,className:Xu("reactEasyCrop_Container",M)},s?T.createElement("img",ot({alt:"",className:Xu("reactEasyCrop_Image",I==="contain"&&"reactEasyCrop_Contain",I==="horizontal-cover"&&"reactEasyCrop_Cover_Horizontal",I==="vertical-cover"&&"reactEasyCrop_Cover_Vertical",x)},a,{src:s,ref:this.imageRef,style:ot(ot({},R),{transform:c||"translate(".concat(h,"px, ").concat(f,"px) rotate(").concat(v,"deg) scale(").concat(_,")")}),onLoad:this.onMediaLoad})):o&&T.createElement("video",ot({autoPlay:!0,playsInline:!0,loop:!0,muted:!0,className:Xu("reactEasyCrop_Video",I==="contain"&&"reactEasyCrop_Contain",I==="horizontal-cover"&&"reactEasyCrop_Cover_Horizontal",I==="vertical-cover"&&"reactEasyCrop_Cover_Vertical",x)},a,{ref:this.videoRef,onLoadedMetadata:this.onMediaLoad,style:ot(ot({},R),{transform:c||"translate(".concat(h,"px, ").concat(f,"px) rotate(").concat(v,"deg) scale(").concat(_,")")}),controls:!1}),(Array.isArray(o)?o:[{src:o}]).map(function(g){return T.createElement("source",ot({key:g.src},g))})),this.state.cropSize&&T.createElement("div",ot({ref:this.cropperRef,style:ot(ot({},E),{width:this.state.cropSize.width,height:this.state.cropSize.height}),tabIndex:0,onKeyDown:this.onKeyDown,onKeyUp:this.onKeyUp,"data-testid":"cropper",className:Xu("reactEasyCrop_CropArea",S==="round"&&"reactEasyCrop_CropAreaRound",P&&"reactEasyCrop_CropAreaGrid",b)},l)))},e.defaultProps={zoom:1,rotation:0,aspect:4/3,maxZoom:Wq,minZoom:zq,cropShape:"rect",objectFit:"contain",showGrid:!0,style:{},classes:{},mediaProps:{},cropperProps:{},zoomSpeed:1,restrictPosition:!0,zoomWithScroll:!0,keyboardStep:Hq},e.getMousePoint=function(n){return{x:Number(n.clientX),y:Number(n.clientY)}},e.getTouchPoint=function(n){return{x:Number(n.clientX),y:Number(n.clientY)}},e}(T.Component);const Kq=t=>new Promise((e,n)=>{const r=new Image;r.addEventListener("load",()=>e(r)),r.addEventListener("error",i=>n(i)),r.setAttribute("crossOrigin","anonymous"),r.src=t});async function qq(t,e){const n=await Kq(t),r=document.createElement("canvas"),i=r.getContext("2d");return r.width=e.width,r.height=e.height,i.drawImage(n,e.x,e.y,e.width,e.height,0,0,e.width,e.height),r}function Yq({open:t,onClose:e,usuario:n,onUploadSuccess:r}){const[i,s]=T.useState(null),[o,a]=T.useState({x:0,y:0}),[l,c]=T.useState(1),[d,h]=T.useState(null),[f,v]=T.useState(!1),_=T.useCallback((w,C)=>{h(C)},[]),S=w=>{if(w.target.files&&w.target.files.length>0){const C=w.target.files[0],E=new FileReader;E.onload=()=>{s(E.result)},E.readAsDataURL(C)}},P=async()=>{v(!0);const C=(await qq(i,d)).toDataURL("image/jpeg");localStorage.setItem(`fotoPerfil_${n.uid}`,C),r(C),v(!1),e()};return m.jsx(S2,{open:t,onClose:e,children:m.jsxs(b2,{className:"bg-white rounded-lg p-4 shadow-lg w-full max-w-md mx-auto mt-32 max-h-[90vh] overflow-hidden",children:[m.jsx("h2",{className:"text-lg font-bold mb-4 text-center",children:"Editar Foto de Perfil"}),i?m.jsx("div",{className:"relative w-full h-[300px] bg-black",children:m.jsx(Gq,{image:i,crop:o,zoom:l,aspect:1,onCropChange:a,onZoomChange:c,onCropComplete:_})}):m.jsx("input",{type:"file",accept:"image/*",onChange:S}),m.jsxs("div",{className:"flex justify-end mt-4 gap-2",children:[m.jsx("button",{onClick:e,className:"px-4 py-2 bg-gray-300 rounded hover:bg-gray-400",children:"Cancelar"}),i&&m.jsx("button",{onClick:P,disabled:f,className:"px-4 py-2 bg-green-600 text-white rounded hover:bg-green-700",children:f?"Subiendo...":"Guardar"})]})]})})}function Xq(){const{user:t}=Hs(),[e,n]=T.useState(null),[r,i]=T.useState(!1),[s,o]=T.useState(""),[a,l]=T.useState(""),[c,d]=T.useState(!1),[h,f]=T.useState(!1),[v,_]=T.useState(!1),S=Er(),P=(R,D)=>((R==null?void 0:R.charAt(0).toUpperCase())||"")+((D==null?void 0:D.charAt(0).toUpperCase())||"");T.useEffect(()=>{if(t){const R=se(ne,`usuarios/${t.uid}`);Tn(R).then(async D=>{const M=t.displayName||"",b=M.split(" ")[0]||"",x=M.split(" ")[1]||"",I=t.photoURL||null,A=localStorage.getItem(`fotoPerfil_${t.uid}`)||I||D.exists()&&D.val().foto||null,O={nombre:b,apellido:x,correo:t.email,rol:"usuario",iniciales:P(b,x),foto:A},N=!b||!x;if(d(N),i(N),o(b),l(x),!D.exists())await jt(R,O),n(O);else{const V=D.val(),W={};V.nombre||(W.nombre=b),V.apellido||(W.apellido=x),!V.foto&&A&&(W.foto=A),Object.keys(W).length>0?(await mc(R,W),n({...V,...W,foto:A})):n({...V,foto:A}),o(V.nombre||b),l(V.apellido||x)}})}},[t]);const w=async()=>{if(!t)return;const R=se(ne,`usuarios/${t.uid}`),D={nombre:s,apellido:a,iniciales:P(s,a)};await mc(R,D),i(!1),d(!1),alert("Datos actualizados correctamente")},C=async()=>{await EI(_i),S("/login")},E=R=>{n(D=>({...D,foto:R}))};return e?m.jsxs("div",{className:"min-h-screen bg-cover bg-center text-white font-qatar",style:{backgroundImage:"url('/EmproChampions-2025/img/fondoempro-horizontal.png')"},children:[m.jsx(_r,{}),m.jsx("div",{className:"flex items-center justify-center px-4 py-10",children:m.jsxs("div",{className:"bg-white/90 rounded-2xl shadow-lg p-8 w-full max-w-md text-center text-black",children:[m.jsx("h1",{className:"text-3xl font-bold text-[#7a0026] mb-6",children:"Configuración de Cuenta"}),c&&m.jsx("div",{className:"mb-4 text-red-700 font-semibold",children:"Tu cuenta no tiene nombre ni foto. Por favor completa tu perfil 👇"}),m.jsxs("div",{className:"mb-4 relative w-24 h-24 mx-auto",children:[e.foto?m.jsx("img",{src:e.foto,alt:"Foto de perfil",className:"w-24 h-24 rounded-full object-cover"}):m.jsx("div",{className:"w-24 h-24 rounded-full bg-[#7a0026] text-white text-3xl flex items-center justify-center",children:P(s,a)||"U"}),m.jsx("button",{type:"button",onClick:()=>_(!0),className:"absolute bottom-0 right-0 bg-yellow-400 text-black rounded-full p-1 shadow-md hover:bg-yellow-500","aria-label":"Editar foto de perfil",children:"✏️"})]}),m.jsxs("div",{className:"space-y-4 text-left",children:[m.jsx("input",{type:"text",placeholder:"Nombre",value:s,onChange:R=>o(R.target.value),className:"w-full px-4 py-2 border border-[#7a0026] rounded-md",disabled:!r}),m.jsx("input",{type:"text",placeholder:"Apellido",value:a,onChange:R=>l(R.target.value),className:"w-full px-4 py-2 border border-[#7a0026] rounded-md",disabled:!r}),m.jsxs("p",{className:"text-gray-700 font-sans text-sm break-all",children:["Correo: ",e.correo]})]}),m.jsxs("div",{className:"mt-6",children:[r?m.jsx("button",{onClick:w,className:"w-full bg-[#FFD700] text-[#7a0026] font-bold py-2 rounded-md hover:bg-yellow-400 transition",children:"Guardar Cambios"}):m.jsx("button",{onClick:()=>i(!0),className:"w-full bg-blue-600 text-white font-bold py-2 rounded-md hover:bg-blue-700 transition",children:"Editar"}),m.jsx("button",{onClick:()=>f(!0),className:"mt-4 w-full bg-red-600 text-white font-bold py-2 rounded-md hover:bg-red-700 transition",children:"Cerrar sesión"})]})]})}),m.jsx(S2,{open:h,onClose:()=>f(!1),children:m.jsxs(b2,{sx:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:400,bgcolor:"background.paper",border:"2px solid #000",boxShadow:24,p:4,textAlign:"center"},children:[m.jsx("h2",{className:"text-xl font-bold mb-4 text-black",children:"¿Cerrar sesión?"}),m.jsxs("div",{className:"flex justify-center gap-4",children:[m.jsx("button",{className:"bg-gray-300 px-4 py-2 rounded hover:bg-gray-400",onClick:()=>f(!1),children:"Cancelar"}),m.jsx("button",{className:"bg-red-600 text-white px-4 py-2 rounded hover:bg-red-700",onClick:C,children:"Confirmar"})]})]})}),m.jsx(Yq,{open:v,onClose:()=>_(!1),usuario:t,onUploadSuccess:E}),m.jsx(wr,{})]}):m.jsx("div",{className:"text-white text-center mt-10",children:"Cargando..."})}function Qq(){var f,v,_,S;const{partidoId:t}=rk(),e=Er(),[n,r]=T.useState(null),[i,s]=T.useState([]),[o,a]=T.useState(!0),[l,c]=T.useState(!1);T.useEffect(()=>{if(!t){e("/");return}const P=se(ne,`partidos/${t}`),w=zr(P,C=>{var E;if(C.exists()){const R=C.val();r(R);const D=(E=R.eventos)!=null&&E.goles?Object.entries(R.eventos.goles).map(([M,b])=>({id:M,...b})):[];s(D)}else e("/historial");a(!1)});return()=>gc(P,"value",w)},[t,e]);const d=P=>{window.confirm("¿Estás seguro de que quieres eliminar este gol?")&&(s(w=>w.filter(C=>C.id!==P)),alert("Gol eliminado de la lista de edición. Recuerda guardar los cambios para que sea permanente."))},h=T.useCallback(async()=>{var P,w;if(!((P=n==null?void 0:n.alineacion)!=null&&P.equipo1)||!((w=n==null?void 0:n.alineacion)!=null&&w.equipo2)){alert("Error: Faltan datos de alineación en este partido. No se pueden recalcular las estadísticas."),c(!1);return}if(!l){c(!0),alert("Procesando... Esto puede tardar unos segundos. Por favor, espera.");try{const C=n.alineacion.genero,E=n.alineacion.equipo1,R=n.alineacion.equipo2,D=(await Tn(se(ne,`historial/${C}/${t}`))).val();let b=(await Tn(se(ne,`tablas/${C}`))).val()||{};if(D){const{equipo1:V,equipo2:W,goles1:K,goles2:G}=D,$=(q,X,_e,re)=>{if(!b[q])return;let ee={...b[q]};ee.pj-=1,ee.gf-=X,ee.gc-=_e,re==="victoria"?(ee.pg-=1,ee.puntos-=3):re==="empate"?(ee.pe-=1,ee.puntos-=1):ee.pp-=1,b[q]=ee};K>G?($(V,K,G,"victoria"),$(W,G,K,"derrota")):G>K?($(V,K,G,"derrota"),$(W,G,K,"victoria")):($(V,K,G,"empate"),$(W,G,K,"empate"))}const x={equipo1:0,equipo2:0};i.forEach(V=>{V.equipo==="equipo1"&&x.equipo1++,V.equipo==="equipo2"&&x.equipo2++});const I=(V,W,K,G)=>{if(!(V!=null&&V.nombre))return;let $=b[V.nombre]||{pj:0,pg:0,pe:0,pp:0,gf:0,gc:0,puntos:0,logo:V.logo};$.pj=($.pj||0)+1,$.gf=($.gf||0)+W,$.gc=($.gc||0)+K,G==="victoria"?($.pg=($.pg||0)+1,$.puntos=($.puntos||0)+3):G==="empate"?($.pe=($.pe||0)+1,$.puntos=($.puntos||0)+1):$.pp=($.pp||0)+1,b[V.nombre]=$};x.equipo1>x.equipo2?(I(E,x.equipo1,x.equipo2,"victoria"),I(R,x.equipo2,x.equipo1,"derrota")):x.equipo2>x.equipo1?(I(E,x.equipo1,x.equipo2,"derrota"),I(R,x.equipo2,x.equipo1,"victoria")):(I(E,x.equipo1,x.equipo2,"empate"),I(R,x.equipo2,x.equipo1,"empate"));const g={},A=i.reduce((V,W)=>({...V,[W.id]:{equipo:W.equipo,jugador:W.jugador,minuto:W.minuto,tipo:W.tipo}}),{});g[`/partidos/${t}/eventos/goles`]=A,g[`/partidos/${t}/resultado/marcador`]=x,g[`/historial/${C}/${t}/goles1`]=x.equipo1,g[`/historial/${C}/${t}/goles2`]=x.equipo2,g[`/tablas/${C}`]=b;let N=(await Tn(se(ne,`goleadoresDetalles/${C}`))).val()||{};Object.keys(N).forEach(V=>{N[V]=N[V].filter(W=>W.partidoId!==t),N[V].length===0&&delete N[V]}),i.forEach(V=>{const W=V.jugador.replace(/[.#$[\]]/g,"_");N[W]||(N[W]=[]),N[W].push({idDelGol:V.id,minuto:V.minuto,partidoId:t,partidoNombre:`${E.nombre} vs ${R.nombre}`,fecha:(D==null?void 0:D.fecha)||new Date().toLocaleDateString("es-HN"),equipo:V.equipo==="equipo1"?E.nombre:R.nombre,logo:V.equipo==="equipo1"?E.logo:R.logo,jugador:V.jugador})}),g[`/goleadoresDetalles/${C}`]=N,await mc(se(ne),g),alert("¡Éxito! Todas las tablas han sido recalculadas y actualizadas."),e("/historial")}catch(C){console.error("Error al guardar los cambios:",C),alert(`Hubo un error al guardar: ${C.message}`)}finally{c(!1)}}},[n,i,t,e,l]);return o?m.jsx("div",{className:"w-full min-h-screen bg-main-background text-white flex justify-center items-center",children:"Cargando datos..."}):m.jsxs("div",{className:"w-full min-h-screen bg-main-background text-white font-qatar flex flex-col",children:[m.jsx(_r,{}),m.jsxs("div",{className:"container mx-auto px-4 py-8 flex-grow",children:[m.jsx("h1",{className:"text-4xl md:text-5xl font-bold text-center text-yellow-400 drop-shadow-lg mb-2",children:"Editar Partido"}),m.jsxs("p",{className:"text-center text-gray-300 mb-8",children:[((v=(f=n.alineacion)==null?void 0:f.equipo1)==null?void 0:v.nombre)||"Equipo 1"," vs ",((S=(_=n.alineacion)==null?void 0:_.equipo2)==null?void 0:S.nombre)||"Equipo 2"]}),m.jsxs("div",{className:"max-w-2xl mx-auto bg-black/50 p-6 rounded-xl",children:[m.jsx("h2",{className:"text-2xl font-bold mb-4 text-yellow-300",children:"Eventos del Partido"}),m.jsx("div",{className:"space-y-3",children:i.length>0?i.map(P=>m.jsxs("div",{className:"flex items-center justify-between bg-gray-800/50 p-3 rounded-lg",children:[m.jsxs("div",{children:[m.jsxs("p",{className:"font-bold",children:[P.jugador," (Gol)"]}),m.jsxs("p",{className:"text-sm opacity-70",children:["Minuto: ",P.minuto]})]}),m.jsx("button",{onClick:()=>d(P.id),className:"bg-red-600 hover:bg-red-500 text-white font-bold py-1 px-3 rounded text-sm",children:"Eliminar"})]},P.id)):m.jsx("p",{children:"No hay goles para editar."})}),m.jsxs("div",{className:"mt-8 pt-6 border-t border-yellow-400/20 flex justify-between items-center",children:[m.jsx("button",{onClick:()=>e("/historial"),className:"bg-gray-500 hover:bg-gray-400 text-white font-bold py-2 px-6 rounded",children:"Cancelar"}),m.jsx("button",{onClick:h,disabled:l,className:"bg-green-600 hover:bg-green-500 text-white font-bold py-2 px-6 rounded disabled:bg-gray-400",children:l?"Guardando...":"Guardar Cambios y Recalcular"})]})]})]}),m.jsx(wr,{})]})}function Jq({open:t,onClose:e,letra:n,genero:r,asignacionActual:i}){const[s,o]=T.useState([]),[a,l]=T.useState(i||""),[c,d]=T.useState(!1);T.useEffect(()=>{if(t){const f=se(ne,`plantillas/${r}`);Tn(f).then(v=>{v.exists()&&o(Object.keys(v.val()))}),l(i)}},[t,r,i]);const h=async()=>{if(!a){alert("Por favor, selecciona un equipo.");return}d(!0);const f=se(ne,`calendario/${r}/asignaciones`);try{await mc(f,{[n]:a}),alert("Asignación guardada correctamente."),e()}catch(v){alert("Error al guardar: "+v.message)}finally{d(!1)}};return t?m.jsx("div",{className:"fixed inset-0 bg-black/70 flex items-center justify-center z-50 p-4",children:m.jsxs("div",{className:"bg-gray-800 text-white rounded-xl w-full max-w-sm p-6",children:[m.jsxs("h2",{className:"text-2xl font-bold text-yellow-400 mb-4",children:['Asignar Equipo a la Letra "',n,'"']}),m.jsxs("select",{value:a,onChange:f=>l(f.target.value),className:"w-full p-3 bg-gray-700 rounded-lg text-white mb-6",children:[m.jsx("option",{value:"",children:"Selecciona un equipo"}),s.map(f=>m.jsx("option",{value:f,children:f},f))]}),m.jsxs("div",{className:"flex justify-between gap-4",children:[m.jsx("button",{onClick:e,className:"w-1/2 bg-gray-600 hover:bg-gray-500 font-bold py-2 rounded-lg transition",children:"Cancelar"}),m.jsx("button",{onClick:h,disabled:c,className:"w-1/2 bg-green-600 hover:bg-green-500 font-bold py-2 rounded-lg transition disabled:bg-gray-400",children:c?"Guardando...":"Guardar"})]})]})}):null}function Zq({partido:t,asignaciones:e,equiposInfo:n}){const r=e[t.equipo1]||t.equipo1,i=e[t.equipo2]||t.equipo2,s=n[r],o=n[i],a=s!=null&&s.logo?'<span class="math-inline">{"/EmproChampions-2025/"}img/escudos/</span>{infoEquipo1.logo}':"/EmproChampions-2025/img/logo-empro.png",l=o!=null&&o.logo?'<span class="math-inline">{"/EmproChampions-2025/"}img/escudos/</span>{infoEquipo2.logo}':"/EmproChampions-2025/img/logo-empro.png";return m.jsxs("div",{className:"bg-gray-800/60 rounded-xl p-3 w-full text-white shadow-lg border border-white/10",children:[m.jsxs("div",{className:"text-center text-xs text-yellow-300 mb-3 font-semibold tracking-wider",children:[m.jsx("span",{children:t.fecha}),t.cancha&&m.jsx("span",{className:"mx-2 text-gray-500",children:"|"}),t.cancha&&m.jsxs("span",{children:["CANCHA ",t.cancha]}),t.nombre&&m.jsx("span",{className:"mx-2 text-gray-500",children:"|"}),t.nombre&&m.jsx("span",{className:"text-red-400",children:t.nombre.toUpperCase()})]}),m.jsxs("div",{className:"flex justify-between items-center px-2",children:[m.jsxs("div",{className:"flex flex-col items-center text-center w-[35%]",children:[m.jsx("img",{src:a,alt:r,className:"h-10 md:h-12 mb-2 object-contain"}),m.jsx("span",{className:"text-xs md:text-sm font-bold truncate w-full",children:r})]}),m.jsx("span",{className:"text-xl md:text-2xl font-light text-gray-400",children:"VS"}),m.jsxs("div",{className:"flex flex-col items-center text-center w-[35%]",children:[m.jsx("img",{src:l,alt:i,className:"h-10 md:h-12 mb-2 object-contain"}),m.jsx("span",{className:"text-xs md:text-sm font-bold truncate w-full",children:i})]})]})]})}const eY=t=>t.startsWith("jornada")?`JORNADA ${t.replace("jornada","")}`:t.startsWith("semifinales")?"SEMIFINALES":t.startsWith("finales")?"FINALES":t.toUpperCase();function tY(){const{user:t}=Hs(),[e,n]=T.useState("masculino"),[r,i]=T.useState({calendario:null,equiposInfo:{}}),[s,o]=T.useState(!0),[a,l]=T.useState(!1),[c,d]=T.useState({letra:"",asignacionActual:""});T.useEffect(()=>{o(!0);const _=se(ne,`calendario/${e}`),S=se(ne,`tablas/${e}`),P=zr(_,C=>{i(E=>({...E,calendario:C.exists()?C.val():null})),o(!1)}),w=zr(S,C=>{i(E=>({...E,equiposInfo:C.exists()?C.val():{}}))});return()=>{gc(_,"value",P),gc(S,"value",w)}},[e]);const h=(_,S)=>{d({letra:_,asignacionActual:S}),l(!0)},{calendario:f,equiposInfo:v}=r;return m.jsxs("div",{className:"w-full min-h-screen bg-main-background text-white font-qatar flex flex-col",children:[m.jsx(_r,{}),m.jsxs("div",{className:"container mx-auto px-4 py-8 flex-grow",children:[m.jsx("h1",{className:"text-4xl md:text-5xl font-bold text-center text-yellow-400 drop-shadow-lg mb-6",children:"Calendario de Partidos"}),m.jsxs("div",{className:"flex justify-center mb-8 bg-black/30 rounded-full p-1 max-w-sm mx-auto",children:[m.jsx("button",{onClick:()=>n("masculino"),className:`w-1/2 py-2 rounded-full font-bold transition-colors ${e==="masculino"?"bg-yellow-400 text-black":"hover:bg-white/10"}`,children:"Masculino"}),m.jsx("button",{onClick:()=>n("femenino"),className:`w-1/2 py-2 rounded-full font-bold transition-colors ${e==="femenino"?"bg-yellow-400 text-black":"hover:bg-white/10"}`,children:"Femenino"})]}),s?m.jsx("p",{className:"text-center",children:"Cargando calendario..."}):f?m.jsxs("div",{className:"max-w-4xl mx-auto",children:[m.jsxs("div",{className:"bg-black/50 p-4 rounded-xl mb-8",children:[m.jsx("h2",{className:"text-xl font-bold text-yellow-300 mb-3 text-center",children:"Equipos del Sorteo"}),m.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-6 gap-2",children:Object.entries(f.asignaciones).map(([_,S])=>m.jsxs("div",{className:"bg-gray-800/70 p-2 rounded-lg text-center text-xs",children:[m.jsxs("span",{className:"font-bold text-gray-400",children:["Letra ",_]}),m.jsx("p",{className:"text-yellow-200 font-semibold truncate",children:S}),t&&m.jsx("button",{onClick:()=>h(_,S),className:"text-xs mt-1 text-blue-400 hover:text-blue-300",children:"Editar"})]},_))})]}),m.jsx("div",{className:"space-y-8",children:Object.entries(f.partidos).map(([_,S])=>m.jsxs("div",{children:[m.jsx("h2",{className:"text-2xl font-bold text-yellow-300 mb-4 border-b-2 border-yellow-400/20 pb-2",children:eY(_)}),m.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:S.map((P,w)=>m.jsx(Zq,{partido:P,asignaciones:f.asignaciones,equiposInfo:v},w))})]},_))})]}):m.jsx("p",{className:"text-center",children:"No hay calendario disponible para esta categoría."})]}),m.jsx(wr,{}),m.jsx(Jq,{open:a,onClose:()=>l(!1),letra:c.letra,genero:e,asignacionActual:c.asignacionActual})]})}function ao({children:t}){const{user:e,loading:n}=Hs();return n?m.jsx("div",{children:"Cargando aplicación..."}):e?t:m.jsx(Eg,{to:"/login",replace:!0})}function Qu({children:t}){const{user:e,rol:n,loading:r}=Hs();return r?m.jsx("div",{children:"Cargando aplicación..."}):e?n!=="admin"&&n!=="superadmin"?m.jsx(Eg,{to:"/",replace:!0}):t:m.jsx(Eg,{to:"/login",replace:!0})}function nY(){const[t,e]=T.useState(!1),[n,r]=T.useState({title:"",body:""});return T.useEffect(()=>{(async()=>{try{if(await Notification.requestPermission()==="granted"){console.log("Notification permission granted.");const l=Ag(Ls),c=await x5(l,{vapidKey:"BGq64U5eNzfqCtAtHTqnz9mh2oaeLpOZiJHMMama_1L9h_K1I9qScieLNbW8uHvEnRFlNVR2ZSBqAc61dtaW0Mc"});c?console.log("FCM Token:",c):console.log("No registration token available.")}else console.log("Unable to get permission to notify.")}catch(a){console.error("An error occurred while requesting permission or getting token. ",a)}})();const s=Ag(Ls),o=E5(s,a=>{console.log("Message received. ",a),r({title:a.notification.title,body:a.notification.body}),e(!0)});return()=>{o()}},[]),m.jsx(WV,{children:m.jsxs(a4,{basename:"/EmproChampions-2025",children:[t&&m.jsx(cR,{title:n.title,body:n.body,image:n.image,onClose:()=>e(!1)}),m.jsxs(LM,{children:[m.jsx(qt,{path:"/login",element:m.jsx(HV,{})}),m.jsx(qt,{path:"/registro",element:m.jsx(GV,{})}),m.jsx(qt,{path:"/",element:m.jsx(ao,{children:m.jsx(YV,{})})}),m.jsx(qt,{path:"/partido/configurar",element:m.jsx(Qu,{children:m.jsx(UE,{})})}),m.jsx(qt,{path:"/partido/alineacion",element:m.jsx(Qu,{children:m.jsx(nW,{})})}),m.jsx(qt,{path:"/control-partido/:partidoId",element:m.jsx(Qu,{children:m.jsx(iU,{})})}),m.jsx(qt,{path:"/match/:partidoId",element:m.jsx(ao,{children:m.jsx(UE,{modo:"ver"})})}),m.jsx(qt,{path:"/goleadores",element:m.jsx(ao,{children:m.jsx(sU,{})})}),m.jsx(qt,{path:"/historial",element:m.jsx(ao,{children:m.jsx(aU,{})})}),m.jsx(qt,{path:"/configuracion",element:m.jsx(ao,{children:m.jsx(Xq,{})})}),m.jsx(qt,{path:"/partido/editar/:partidoId",element:m.jsx(Qu,{children:m.jsx(Qq,{})})}),m.jsx(qt,{path:"*",element:m.jsx("div",{children:"Página no encontrada"})}),m.jsx(qt,{path:"/calendario",element:m.jsx(ao,{children:m.jsx(tY,{})})})]})]})})}const ts=sessionStorage.getItem("redirect");sessionStorage.removeItem("redirect");if(ts&&ts!==window.location.pathname.replace("/EmproChampions-2025","")){let t=ts;const e="/EmproChampions-2025";ts.startsWith(e)?(t=ts.substring(e.length),t.startsWith("/")||(t="/"+t)):ts.startsWith("/")||(t="/"+ts),t!==window.location.pathname.replace(e,"")&&(window.history.replaceState(null,null,e+(t==="/"?"":t)),console.log("Redirecting to:",e+(t==="/"?"":t)))}Im.createRoot(document.getElementById("root")).render(m.jsx(us.StrictMode,{children:m.jsx(nY,{})}));if("serviceWorker"in navigator){const t="/EmproChampions-2025/firebase-messaging-sw.js";navigator.serviceWorker.register(t,{scope:"/EmproChampions-2025/"}).then(e=>{console.log("Service Worker registrado:",e,"con ruta:",t,"y scope:",e.scope)}).catch(e=>{console.error("Fallo el registro del Service Worker:",e,"con ruta:",t)})}
