function hO(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in e)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(e,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();function B0(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var lT={exports:{}},_f={},cT={exports:{}},he={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ru=Symbol.for("react.element"),fO=Symbol.for("react.portal"),pO=Symbol.for("react.fragment"),mO=Symbol.for("react.strict_mode"),gO=Symbol.for("react.profiler"),yO=Symbol.for("react.provider"),vO=Symbol.for("react.context"),wO=Symbol.for("react.forward_ref"),_O=Symbol.for("react.suspense"),xO=Symbol.for("react.memo"),EO=Symbol.for("react.lazy"),J1=Symbol.iterator;function bO(e){return e===null||typeof e!="object"?null:(e=J1&&e[J1]||e["@@iterator"],typeof e=="function"?e:null)}var uT={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},dT=Object.assign,hT={};function Oa(e,t,n){this.props=e,this.context=t,this.refs=hT,this.updater=n||uT}Oa.prototype.isReactComponent={};Oa.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Oa.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function fT(){}fT.prototype=Oa.prototype;function z0(e,t,n){this.props=e,this.context=t,this.refs=hT,this.updater=n||uT}var W0=z0.prototype=new fT;W0.constructor=z0;dT(W0,Oa.prototype);W0.isPureReactComponent=!0;var Q1=Array.isArray,pT=Object.prototype.hasOwnProperty,H0={current:null},mT={key:!0,ref:!0,__self:!0,__source:!0};function gT(e,t,n){var r,i={},s=null,o=null;if(t!=null)for(r in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(s=""+t.key),t)pT.call(t,r)&&!mT.hasOwnProperty(r)&&(i[r]=t[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];i.children=l}if(e&&e.defaultProps)for(r in a=e.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:ru,type:e,key:s,ref:o,props:i,_owner:H0.current}}function CO(e,t){return{$$typeof:ru,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function q0(e){return typeof e=="object"&&e!==null&&e.$$typeof===ru}function SO(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var Z1=/\/+/g;function lm(e,t){return typeof e=="object"&&e!==null&&e.key!=null?SO(""+e.key):t.toString(36)}function Nd(e,t,n,r,i){var s=typeof e;(s==="undefined"||s==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case ru:case fO:o=!0}}if(o)return o=e,i=i(o),e=r===""?"."+lm(o,0):r,Q1(i)?(n="",e!=null&&(n=e.replace(Z1,"$&/")+"/"),Nd(i,t,n,"",function(c){return c})):i!=null&&(q0(i)&&(i=CO(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(Z1,"$&/")+"/")+e)),t.push(i)),1;if(o=0,r=r===""?".":r+":",Q1(e))for(var a=0;a<e.length;a++){s=e[a];var l=r+lm(s,a);o+=Nd(s,t,n,l,i)}else if(l=bO(e),typeof l=="function")for(e=l.call(e),a=0;!(s=e.next()).done;)s=s.value,l=r+lm(s,a++),o+=Nd(s,t,n,l,i);else if(s==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function Yu(e,t,n){if(e==null)return e;var r=[],i=0;return Nd(e,r,"","",function(s){return t.call(n,s,i++)}),r}function TO(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Gt={current:null},Dd={transition:null},kO={ReactCurrentDispatcher:Gt,ReactCurrentBatchConfig:Dd,ReactCurrentOwner:H0};function yT(){throw Error("act(...) is not supported in production builds of React.")}he.Children={map:Yu,forEach:function(e,t,n){Yu(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return Yu(e,function(){t++}),t},toArray:function(e){return Yu(e,function(t){return t})||[]},only:function(e){if(!q0(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};he.Component=Oa;he.Fragment=pO;he.Profiler=gO;he.PureComponent=z0;he.StrictMode=mO;he.Suspense=_O;he.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=kO;he.act=yT;he.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=dT({},e.props),i=e.key,s=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(s=t.ref,o=H0.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var a=e.type.defaultProps;for(l in t)pT.call(t,l)&&!mT.hasOwnProperty(l)&&(r[l]=t[l]===void 0&&a!==void 0?a[l]:t[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];r.children=a}return{$$typeof:ru,type:e.type,key:i,ref:s,props:r,_owner:o}};he.createContext=function(e){return e={$$typeof:vO,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:yO,_context:e},e.Consumer=e};he.createElement=gT;he.createFactory=function(e){var t=gT.bind(null,e);return t.type=e,t};he.createRef=function(){return{current:null}};he.forwardRef=function(e){return{$$typeof:wO,render:e}};he.isValidElement=q0;he.lazy=function(e){return{$$typeof:EO,_payload:{_status:-1,_result:e},_init:TO}};he.memo=function(e,t){return{$$typeof:xO,type:e,compare:t===void 0?null:t}};he.startTransition=function(e){var t=Dd.transition;Dd.transition={};try{e()}finally{Dd.transition=t}};he.unstable_act=yT;he.useCallback=function(e,t){return Gt.current.useCallback(e,t)};he.useContext=function(e){return Gt.current.useContext(e)};he.useDebugValue=function(){};he.useDeferredValue=function(e){return Gt.current.useDeferredValue(e)};he.useEffect=function(e,t){return Gt.current.useEffect(e,t)};he.useId=function(){return Gt.current.useId()};he.useImperativeHandle=function(e,t,n){return Gt.current.useImperativeHandle(e,t,n)};he.useInsertionEffect=function(e,t){return Gt.current.useInsertionEffect(e,t)};he.useLayoutEffect=function(e,t){return Gt.current.useLayoutEffect(e,t)};he.useMemo=function(e,t){return Gt.current.useMemo(e,t)};he.useReducer=function(e,t,n){return Gt.current.useReducer(e,t,n)};he.useRef=function(e){return Gt.current.useRef(e)};he.useState=function(e){return Gt.current.useState(e)};he.useSyncExternalStore=function(e,t,n){return Gt.current.useSyncExternalStore(e,t,n)};he.useTransition=function(){return Gt.current.useTransition()};he.version="18.3.1";cT.exports=he;var w=cT.exports;const Z=B0(w),lh=hO({__proto__:null,default:Z},[w]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var IO=w,PO=Symbol.for("react.element"),AO=Symbol.for("react.fragment"),RO=Object.prototype.hasOwnProperty,NO=IO.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,DO={key:!0,ref:!0,__self:!0,__source:!0};function vT(e,t,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),t.key!==void 0&&(s=""+t.key),t.ref!==void 0&&(o=t.ref);for(r in t)RO.call(t,r)&&!DO.hasOwnProperty(r)&&(i[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)i[r]===void 0&&(i[r]=t[r]);return{$$typeof:PO,type:e,key:s,ref:o,props:i,_owner:NO.current}}_f.Fragment=AO;_f.jsx=vT;_f.jsxs=vT;lT.exports=_f;var m=lT.exports,Tg={},wT={exports:{}},_n={},_T={exports:{}},xT={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t($,K){var X=$.length;$.push(K);e:for(;0<X;){var le=X-1>>>1,ne=$[le];if(0<i(ne,K))$[le]=K,$[X]=ne,X=le;else break e}}function n($){return $.length===0?null:$[0]}function r($){if($.length===0)return null;var K=$[0],X=$.pop();if(X!==K){$[0]=X;e:for(var le=0,ne=$.length,H=ne>>>1;le<H;){var J=2*(le+1)-1,oe=$[J],fe=J+1,re=$[fe];if(0>i(oe,X))fe<ne&&0>i(re,oe)?($[le]=re,$[fe]=X,le=fe):($[le]=oe,$[J]=X,le=J);else if(fe<ne&&0>i(re,X))$[le]=re,$[fe]=X,le=fe;else break e}}return K}function i($,K){var X=$.sortIndex-K.sortIndex;return X!==0?X:$.id-K.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;e.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();e.unstable_now=function(){return o.now()-a}}var l=[],c=[],d=1,h=null,f=3,g=!1,y=!1,S=!1,k=typeof setTimeout=="function"?setTimeout:null,x=typeof clearTimeout=="function"?clearTimeout:null,C=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function E($){for(var K=n(c);K!==null;){if(K.callback===null)r(c);else if(K.startTime<=$)r(c),K.sortIndex=K.expirationTime,t(l,K);else break;K=n(c)}}function I($){if(S=!1,E($),!y)if(n(l)!==null)y=!0,Y(D);else{var K=n(c);K!==null&&G(I,K.startTime-$)}}function D($,K){y=!1,S&&(S=!1,x(b),b=-1),g=!0;var X=f;try{for(E(K),h=n(l);h!==null&&(!(h.expirationTime>K)||$&&!R());){var le=h.callback;if(typeof le=="function"){h.callback=null,f=h.priorityLevel;var ne=le(h.expirationTime<=K);K=e.unstable_now(),typeof ne=="function"?h.callback=ne:h===n(l)&&r(l),E(K)}else r(l);h=n(l)}if(h!==null)var H=!0;else{var J=n(c);J!==null&&G(I,J.startTime-K),H=!1}return H}finally{h=null,f=X,g=!1}}var M=!1,T=null,b=-1,P=5,v=-1;function R(){return!(e.unstable_now()-v<P)}function O(){if(T!==null){var $=e.unstable_now();v=$;var K=!0;try{K=T(!0,$)}finally{K?N():(M=!1,T=null)}}else M=!1}var N;if(typeof C=="function")N=function(){C(O)};else if(typeof MessageChannel<"u"){var V=new MessageChannel,z=V.port2;V.port1.onmessage=O,N=function(){z.postMessage(null)}}else N=function(){k(O,0)};function Y($){T=$,M||(M=!0,N())}function G($,K){b=k(function(){$(e.unstable_now())},K)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function($){$.callback=null},e.unstable_continueExecution=function(){y||g||(y=!0,Y(D))},e.unstable_forceFrameRate=function($){0>$||125<$?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<$?Math.floor(1e3/$):5},e.unstable_getCurrentPriorityLevel=function(){return f},e.unstable_getFirstCallbackNode=function(){return n(l)},e.unstable_next=function($){switch(f){case 1:case 2:case 3:var K=3;break;default:K=f}var X=f;f=K;try{return $()}finally{f=X}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function($,K){switch($){case 1:case 2:case 3:case 4:case 5:break;default:$=3}var X=f;f=$;try{return K()}finally{f=X}},e.unstable_scheduleCallback=function($,K,X){var le=e.unstable_now();switch(typeof X=="object"&&X!==null?(X=X.delay,X=typeof X=="number"&&0<X?le+X:le):X=le,$){case 1:var ne=-1;break;case 2:ne=250;break;case 5:ne=1073741823;break;case 4:ne=1e4;break;default:ne=5e3}return ne=X+ne,$={id:d++,callback:K,priorityLevel:$,startTime:X,expirationTime:ne,sortIndex:-1},X>le?($.sortIndex=X,t(c,$),n(l)===null&&$===n(c)&&(S?(x(b),b=-1):S=!0,G(I,X-le))):($.sortIndex=ne,t(l,$),y||g||(y=!0,Y(D))),$},e.unstable_shouldYield=R,e.unstable_wrapCallback=function($){var K=f;return function(){var X=f;f=K;try{return $.apply(this,arguments)}finally{f=X}}}})(xT);_T.exports=xT;var OO=_T.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var MO=w,vn=OO;function U(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var ET=new Set,fc={};function oo(e,t){da(e,t),da(e+"Capture",t)}function da(e,t){for(fc[e]=t,e=0;e<t.length;e++)ET.add(t[e])}var ti=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),kg=Object.prototype.hasOwnProperty,LO=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,ex={},tx={};function jO(e){return kg.call(tx,e)?!0:kg.call(ex,e)?!1:LO.test(e)?tx[e]=!0:(ex[e]=!0,!1)}function FO(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function $O(e,t,n,r){if(t===null||typeof t>"u"||FO(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Kt(e,t,n,r,i,s,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=s,this.removeEmptyString=o}var bt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){bt[e]=new Kt(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];bt[t]=new Kt(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){bt[e]=new Kt(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){bt[e]=new Kt(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){bt[e]=new Kt(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){bt[e]=new Kt(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){bt[e]=new Kt(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){bt[e]=new Kt(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){bt[e]=new Kt(e,5,!1,e.toLowerCase(),null,!1,!1)});var G0=/[\-:]([a-z])/g;function K0(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(G0,K0);bt[t]=new Kt(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(G0,K0);bt[t]=new Kt(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(G0,K0);bt[t]=new Kt(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){bt[e]=new Kt(e,1,!1,e.toLowerCase(),null,!1,!1)});bt.xlinkHref=new Kt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){bt[e]=new Kt(e,1,!1,e.toLowerCase(),null,!0,!0)});function Y0(e,t,n,r){var i=bt.hasOwnProperty(t)?bt[t]:null;(i!==null?i.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&($O(t,n,i,r)&&(n=null),r||i===null?jO(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=n===null?i.type===3?!1:"":n:(t=i.attributeName,r=i.attributeNamespace,n===null?e.removeAttribute(t):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var fi=MO.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Xu=Symbol.for("react.element"),No=Symbol.for("react.portal"),Do=Symbol.for("react.fragment"),X0=Symbol.for("react.strict_mode"),Ig=Symbol.for("react.profiler"),bT=Symbol.for("react.provider"),CT=Symbol.for("react.context"),J0=Symbol.for("react.forward_ref"),Pg=Symbol.for("react.suspense"),Ag=Symbol.for("react.suspense_list"),Q0=Symbol.for("react.memo"),Si=Symbol.for("react.lazy"),ST=Symbol.for("react.offscreen"),nx=Symbol.iterator;function ul(e){return e===null||typeof e!="object"?null:(e=nx&&e[nx]||e["@@iterator"],typeof e=="function"?e:null)}var ze=Object.assign,cm;function Il(e){if(cm===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);cm=t&&t[1]||""}return`
`+cm+e}var um=!1;function dm(e,t){if(!e||um)return"";um=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var i=c.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var l=`
`+i[o].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}while(1<=o&&0<=a);break}}}finally{um=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?Il(e):""}function VO(e){switch(e.tag){case 5:return Il(e.type);case 16:return Il("Lazy");case 13:return Il("Suspense");case 19:return Il("SuspenseList");case 0:case 2:case 15:return e=dm(e.type,!1),e;case 11:return e=dm(e.type.render,!1),e;case 1:return e=dm(e.type,!0),e;default:return""}}function Rg(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Do:return"Fragment";case No:return"Portal";case Ig:return"Profiler";case X0:return"StrictMode";case Pg:return"Suspense";case Ag:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case CT:return(e.displayName||"Context")+".Consumer";case bT:return(e._context.displayName||"Context")+".Provider";case J0:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Q0:return t=e.displayName||null,t!==null?t:Rg(e.type)||"Memo";case Si:t=e._payload,e=e._init;try{return Rg(e(t))}catch{}}return null}function UO(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Rg(t);case 8:return t===X0?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Ji(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function TT(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function BO(e){var t=TT(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Ju(e){e._valueTracker||(e._valueTracker=BO(e))}function kT(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=TT(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function ch(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Ng(e,t){var n=t.checked;return ze({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function rx(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=Ji(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function IT(e,t){t=t.checked,t!=null&&Y0(e,"checked",t,!1)}function Dg(e,t){IT(e,t);var n=Ji(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Og(e,t.type,n):t.hasOwnProperty("defaultValue")&&Og(e,t.type,Ji(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function ix(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function Og(e,t,n){(t!=="number"||ch(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var Pl=Array.isArray;function Xo(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+Ji(n),t=null,i=0;i<e.length;i++){if(e[i].value===n){e[i].selected=!0,r&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function Mg(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(U(91));return ze({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function sx(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(U(92));if(Pl(n)){if(1<n.length)throw Error(U(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:Ji(n)}}function PT(e,t){var n=Ji(t.value),r=Ji(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function ox(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function AT(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Lg(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?AT(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Qu,RT=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,i){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,i)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Qu=Qu||document.createElement("div"),Qu.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Qu.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function pc(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Ul={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},zO=["Webkit","ms","Moz","O"];Object.keys(Ul).forEach(function(e){zO.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Ul[t]=Ul[e]})});function NT(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||Ul.hasOwnProperty(e)&&Ul[e]?(""+t).trim():t+"px"}function DT(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=NT(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}var WO=ze({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function jg(e,t){if(t){if(WO[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(U(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(U(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(U(61))}if(t.style!=null&&typeof t.style!="object")throw Error(U(62))}}function Fg(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var $g=null;function Z0(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Vg=null,Jo=null,Qo=null;function ax(e){if(e=ou(e)){if(typeof Vg!="function")throw Error(U(280));var t=e.stateNode;t&&(t=Sf(t),Vg(e.stateNode,e.type,t))}}function OT(e){Jo?Qo?Qo.push(e):Qo=[e]:Jo=e}function MT(){if(Jo){var e=Jo,t=Qo;if(Qo=Jo=null,ax(e),t)for(e=0;e<t.length;e++)ax(t[e])}}function LT(e,t){return e(t)}function jT(){}var hm=!1;function FT(e,t,n){if(hm)return e(t,n);hm=!0;try{return LT(e,t,n)}finally{hm=!1,(Jo!==null||Qo!==null)&&(jT(),MT())}}function mc(e,t){var n=e.stateNode;if(n===null)return null;var r=Sf(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(U(231,t,typeof n));return n}var Ug=!1;if(ti)try{var dl={};Object.defineProperty(dl,"passive",{get:function(){Ug=!0}}),window.addEventListener("test",dl,dl),window.removeEventListener("test",dl,dl)}catch{Ug=!1}function HO(e,t,n,r,i,s,o,a,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(d){this.onError(d)}}var Bl=!1,uh=null,dh=!1,Bg=null,qO={onError:function(e){Bl=!0,uh=e}};function GO(e,t,n,r,i,s,o,a,l){Bl=!1,uh=null,HO.apply(qO,arguments)}function KO(e,t,n,r,i,s,o,a,l){if(GO.apply(this,arguments),Bl){if(Bl){var c=uh;Bl=!1,uh=null}else throw Error(U(198));dh||(dh=!0,Bg=c)}}function ao(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function $T(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function lx(e){if(ao(e)!==e)throw Error(U(188))}function YO(e){var t=e.alternate;if(!t){if(t=ao(e),t===null)throw Error(U(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return lx(i),e;if(s===r)return lx(i),t;s=s.sibling}throw Error(U(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o)throw Error(U(189))}}if(n.alternate!==r)throw Error(U(190))}if(n.tag!==3)throw Error(U(188));return n.stateNode.current===n?e:t}function VT(e){return e=YO(e),e!==null?UT(e):null}function UT(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=UT(e);if(t!==null)return t;e=e.sibling}return null}var BT=vn.unstable_scheduleCallback,cx=vn.unstable_cancelCallback,XO=vn.unstable_shouldYield,JO=vn.unstable_requestPaint,Ze=vn.unstable_now,QO=vn.unstable_getCurrentPriorityLevel,ev=vn.unstable_ImmediatePriority,zT=vn.unstable_UserBlockingPriority,hh=vn.unstable_NormalPriority,ZO=vn.unstable_LowPriority,WT=vn.unstable_IdlePriority,xf=null,wr=null;function eM(e){if(wr&&typeof wr.onCommitFiberRoot=="function")try{wr.onCommitFiberRoot(xf,e,void 0,(e.current.flags&128)===128)}catch{}}var tr=Math.clz32?Math.clz32:rM,tM=Math.log,nM=Math.LN2;function rM(e){return e>>>=0,e===0?32:31-(tM(e)/nM|0)|0}var Zu=64,ed=4194304;function Al(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function fh(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,i=e.suspendedLanes,s=e.pingedLanes,o=n&268435455;if(o!==0){var a=o&~i;a!==0?r=Al(a):(s&=o,s!==0&&(r=Al(s)))}else o=n&~i,o!==0?r=Al(o):s!==0&&(r=Al(s));if(r===0)return 0;if(t!==0&&t!==r&&!(t&i)&&(i=r&-r,s=t&-t,i>=s||i===16&&(s&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-tr(t),i=1<<n,r|=e[n],t&=~i;return r}function iM(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function sM(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,s=e.pendingLanes;0<s;){var o=31-tr(s),a=1<<o,l=i[o];l===-1?(!(a&n)||a&r)&&(i[o]=iM(a,t)):l<=t&&(e.expiredLanes|=a),s&=~a}}function zg(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function HT(){var e=Zu;return Zu<<=1,!(Zu&4194240)&&(Zu=64),e}function fm(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function iu(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-tr(t),e[t]=n}function oM(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-tr(n),s=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~s}}function tv(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-tr(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var xe=0;function qT(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var GT,nv,KT,YT,XT,Wg=!1,td=[],$i=null,Vi=null,Ui=null,gc=new Map,yc=new Map,ki=[],aM="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function ux(e,t){switch(e){case"focusin":case"focusout":$i=null;break;case"dragenter":case"dragleave":Vi=null;break;case"mouseover":case"mouseout":Ui=null;break;case"pointerover":case"pointerout":gc.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":yc.delete(t.pointerId)}}function hl(e,t,n,r,i,s){return e===null||e.nativeEvent!==s?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},t!==null&&(t=ou(t),t!==null&&nv(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function lM(e,t,n,r,i){switch(t){case"focusin":return $i=hl($i,e,t,n,r,i),!0;case"dragenter":return Vi=hl(Vi,e,t,n,r,i),!0;case"mouseover":return Ui=hl(Ui,e,t,n,r,i),!0;case"pointerover":var s=i.pointerId;return gc.set(s,hl(gc.get(s)||null,e,t,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,yc.set(s,hl(yc.get(s)||null,e,t,n,r,i)),!0}return!1}function JT(e){var t=Ps(e.target);if(t!==null){var n=ao(t);if(n!==null){if(t=n.tag,t===13){if(t=$T(n),t!==null){e.blockedOn=t,XT(e.priority,function(){KT(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Od(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Hg(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);$g=r,n.target.dispatchEvent(r),$g=null}else return t=ou(n),t!==null&&nv(t),e.blockedOn=n,!1;t.shift()}return!0}function dx(e,t,n){Od(e)&&n.delete(t)}function cM(){Wg=!1,$i!==null&&Od($i)&&($i=null),Vi!==null&&Od(Vi)&&(Vi=null),Ui!==null&&Od(Ui)&&(Ui=null),gc.forEach(dx),yc.forEach(dx)}function fl(e,t){e.blockedOn===t&&(e.blockedOn=null,Wg||(Wg=!0,vn.unstable_scheduleCallback(vn.unstable_NormalPriority,cM)))}function vc(e){function t(i){return fl(i,e)}if(0<td.length){fl(td[0],e);for(var n=1;n<td.length;n++){var r=td[n];r.blockedOn===e&&(r.blockedOn=null)}}for($i!==null&&fl($i,e),Vi!==null&&fl(Vi,e),Ui!==null&&fl(Ui,e),gc.forEach(t),yc.forEach(t),n=0;n<ki.length;n++)r=ki[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<ki.length&&(n=ki[0],n.blockedOn===null);)JT(n),n.blockedOn===null&&ki.shift()}var Zo=fi.ReactCurrentBatchConfig,ph=!0;function uM(e,t,n,r){var i=xe,s=Zo.transition;Zo.transition=null;try{xe=1,rv(e,t,n,r)}finally{xe=i,Zo.transition=s}}function dM(e,t,n,r){var i=xe,s=Zo.transition;Zo.transition=null;try{xe=4,rv(e,t,n,r)}finally{xe=i,Zo.transition=s}}function rv(e,t,n,r){if(ph){var i=Hg(e,t,n,r);if(i===null)bm(e,t,r,mh,n),ux(e,r);else if(lM(i,e,t,n,r))r.stopPropagation();else if(ux(e,r),t&4&&-1<aM.indexOf(e)){for(;i!==null;){var s=ou(i);if(s!==null&&GT(s),s=Hg(e,t,n,r),s===null&&bm(e,t,r,mh,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else bm(e,t,r,null,n)}}var mh=null;function Hg(e,t,n,r){if(mh=null,e=Z0(r),e=Ps(e),e!==null)if(t=ao(e),t===null)e=null;else if(n=t.tag,n===13){if(e=$T(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return mh=e,null}function QT(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(QO()){case ev:return 1;case zT:return 4;case hh:case ZO:return 16;case WT:return 536870912;default:return 16}default:return 16}}var Oi=null,iv=null,Md=null;function ZT(){if(Md)return Md;var e,t=iv,n=t.length,r,i="value"in Oi?Oi.value:Oi.textContent,s=i.length;for(e=0;e<n&&t[e]===i[e];e++);var o=n-e;for(r=1;r<=o&&t[n-r]===i[s-r];r++);return Md=i.slice(e,1<r?1-r:void 0)}function Ld(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function nd(){return!0}function hx(){return!1}function xn(e){function t(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in e)e.hasOwnProperty(a)&&(n=e[a],this[a]=n?n(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?nd:hx,this.isPropagationStopped=hx,this}return ze(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=nd)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=nd)},persist:function(){},isPersistent:nd}),t}var Ma={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},sv=xn(Ma),su=ze({},Ma,{view:0,detail:0}),hM=xn(su),pm,mm,pl,Ef=ze({},su,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ov,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==pl&&(pl&&e.type==="mousemove"?(pm=e.screenX-pl.screenX,mm=e.screenY-pl.screenY):mm=pm=0,pl=e),pm)},movementY:function(e){return"movementY"in e?e.movementY:mm}}),fx=xn(Ef),fM=ze({},Ef,{dataTransfer:0}),pM=xn(fM),mM=ze({},su,{relatedTarget:0}),gm=xn(mM),gM=ze({},Ma,{animationName:0,elapsedTime:0,pseudoElement:0}),yM=xn(gM),vM=ze({},Ma,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),wM=xn(vM),_M=ze({},Ma,{data:0}),px=xn(_M),xM={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},EM={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},bM={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function CM(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=bM[e])?!!t[e]:!1}function ov(){return CM}var SM=ze({},su,{key:function(e){if(e.key){var t=xM[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Ld(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?EM[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ov,charCode:function(e){return e.type==="keypress"?Ld(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Ld(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),TM=xn(SM),kM=ze({},Ef,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),mx=xn(kM),IM=ze({},su,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ov}),PM=xn(IM),AM=ze({},Ma,{propertyName:0,elapsedTime:0,pseudoElement:0}),RM=xn(AM),NM=ze({},Ef,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),DM=xn(NM),OM=[9,13,27,32],av=ti&&"CompositionEvent"in window,zl=null;ti&&"documentMode"in document&&(zl=document.documentMode);var MM=ti&&"TextEvent"in window&&!zl,ek=ti&&(!av||zl&&8<zl&&11>=zl),gx=String.fromCharCode(32),yx=!1;function tk(e,t){switch(e){case"keyup":return OM.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function nk(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Oo=!1;function LM(e,t){switch(e){case"compositionend":return nk(t);case"keypress":return t.which!==32?null:(yx=!0,gx);case"textInput":return e=t.data,e===gx&&yx?null:e;default:return null}}function jM(e,t){if(Oo)return e==="compositionend"||!av&&tk(e,t)?(e=ZT(),Md=iv=Oi=null,Oo=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return ek&&t.locale!=="ko"?null:t.data;default:return null}}var FM={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function vx(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!FM[e.type]:t==="textarea"}function rk(e,t,n,r){OT(r),t=gh(t,"onChange"),0<t.length&&(n=new sv("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Wl=null,wc=null;function $M(e){pk(e,0)}function bf(e){var t=jo(e);if(kT(t))return e}function VM(e,t){if(e==="change")return t}var ik=!1;if(ti){var ym;if(ti){var vm="oninput"in document;if(!vm){var wx=document.createElement("div");wx.setAttribute("oninput","return;"),vm=typeof wx.oninput=="function"}ym=vm}else ym=!1;ik=ym&&(!document.documentMode||9<document.documentMode)}function _x(){Wl&&(Wl.detachEvent("onpropertychange",sk),wc=Wl=null)}function sk(e){if(e.propertyName==="value"&&bf(wc)){var t=[];rk(t,wc,e,Z0(e)),FT($M,t)}}function UM(e,t,n){e==="focusin"?(_x(),Wl=t,wc=n,Wl.attachEvent("onpropertychange",sk)):e==="focusout"&&_x()}function BM(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return bf(wc)}function zM(e,t){if(e==="click")return bf(t)}function WM(e,t){if(e==="input"||e==="change")return bf(t)}function HM(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var sr=typeof Object.is=="function"?Object.is:HM;function _c(e,t){if(sr(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!kg.call(t,i)||!sr(e[i],t[i]))return!1}return!0}function xx(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Ex(e,t){var n=xx(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=xx(n)}}function ok(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?ok(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function ak(){for(var e=window,t=ch();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=ch(e.document)}return t}function lv(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function qM(e){var t=ak(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&ok(n.ownerDocument.documentElement,n)){if(r!==null&&lv(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!e.extend&&s>r&&(i=r,r=s,s=i),i=Ex(n,s);var o=Ex(n,r);i&&o&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),s>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var GM=ti&&"documentMode"in document&&11>=document.documentMode,Mo=null,qg=null,Hl=null,Gg=!1;function bx(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Gg||Mo==null||Mo!==ch(r)||(r=Mo,"selectionStart"in r&&lv(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Hl&&_c(Hl,r)||(Hl=r,r=gh(qg,"onSelect"),0<r.length&&(t=new sv("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=Mo)))}function rd(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Lo={animationend:rd("Animation","AnimationEnd"),animationiteration:rd("Animation","AnimationIteration"),animationstart:rd("Animation","AnimationStart"),transitionend:rd("Transition","TransitionEnd")},wm={},lk={};ti&&(lk=document.createElement("div").style,"AnimationEvent"in window||(delete Lo.animationend.animation,delete Lo.animationiteration.animation,delete Lo.animationstart.animation),"TransitionEvent"in window||delete Lo.transitionend.transition);function Cf(e){if(wm[e])return wm[e];if(!Lo[e])return e;var t=Lo[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in lk)return wm[e]=t[n];return e}var ck=Cf("animationend"),uk=Cf("animationiteration"),dk=Cf("animationstart"),hk=Cf("transitionend"),fk=new Map,Cx="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function os(e,t){fk.set(e,t),oo(t,[e])}for(var _m=0;_m<Cx.length;_m++){var xm=Cx[_m],KM=xm.toLowerCase(),YM=xm[0].toUpperCase()+xm.slice(1);os(KM,"on"+YM)}os(ck,"onAnimationEnd");os(uk,"onAnimationIteration");os(dk,"onAnimationStart");os("dblclick","onDoubleClick");os("focusin","onFocus");os("focusout","onBlur");os(hk,"onTransitionEnd");da("onMouseEnter",["mouseout","mouseover"]);da("onMouseLeave",["mouseout","mouseover"]);da("onPointerEnter",["pointerout","pointerover"]);da("onPointerLeave",["pointerout","pointerover"]);oo("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));oo("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));oo("onBeforeInput",["compositionend","keypress","textInput","paste"]);oo("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));oo("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));oo("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Rl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),XM=new Set("cancel close invalid load scroll toggle".split(" ").concat(Rl));function Sx(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,KO(r,t,void 0,e),e.currentTarget=null}function pk(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var s=void 0;if(t)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==s&&i.isPropagationStopped())break e;Sx(i,a,c),s=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,c=a.currentTarget,a=a.listener,l!==s&&i.isPropagationStopped())break e;Sx(i,a,c),s=l}}}if(dh)throw e=Bg,dh=!1,Bg=null,e}function Ne(e,t){var n=t[Qg];n===void 0&&(n=t[Qg]=new Set);var r=e+"__bubble";n.has(r)||(mk(t,e,2,!1),n.add(r))}function Em(e,t,n){var r=0;t&&(r|=4),mk(n,e,r,t)}var id="_reactListening"+Math.random().toString(36).slice(2);function xc(e){if(!e[id]){e[id]=!0,ET.forEach(function(n){n!=="selectionchange"&&(XM.has(n)||Em(n,!1,e),Em(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[id]||(t[id]=!0,Em("selectionchange",!1,t))}}function mk(e,t,n,r){switch(QT(t)){case 1:var i=uM;break;case 4:i=dM;break;default:i=rv}n=i.bind(null,t,n,e),i=void 0,!Ug||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),r?i!==void 0?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):i!==void 0?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function bm(e,t,n,r,i){var s=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;o=o.return}for(;a!==null;){if(o=Ps(a),o===null)return;if(l=o.tag,l===5||l===6){r=s=o;continue e}a=a.parentNode}}r=r.return}FT(function(){var c=s,d=Z0(n),h=[];e:{var f=fk.get(e);if(f!==void 0){var g=sv,y=e;switch(e){case"keypress":if(Ld(n)===0)break e;case"keydown":case"keyup":g=TM;break;case"focusin":y="focus",g=gm;break;case"focusout":y="blur",g=gm;break;case"beforeblur":case"afterblur":g=gm;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":g=fx;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":g=pM;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":g=PM;break;case ck:case uk:case dk:g=yM;break;case hk:g=RM;break;case"scroll":g=hM;break;case"wheel":g=DM;break;case"copy":case"cut":case"paste":g=wM;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":g=mx}var S=(t&4)!==0,k=!S&&e==="scroll",x=S?f!==null?f+"Capture":null:f;S=[];for(var C=c,E;C!==null;){E=C;var I=E.stateNode;if(E.tag===5&&I!==null&&(E=I,x!==null&&(I=mc(C,x),I!=null&&S.push(Ec(C,I,E)))),k)break;C=C.return}0<S.length&&(f=new g(f,y,null,n,d),h.push({event:f,listeners:S}))}}if(!(t&7)){e:{if(f=e==="mouseover"||e==="pointerover",g=e==="mouseout"||e==="pointerout",f&&n!==$g&&(y=n.relatedTarget||n.fromElement)&&(Ps(y)||y[ni]))break e;if((g||f)&&(f=d.window===d?d:(f=d.ownerDocument)?f.defaultView||f.parentWindow:window,g?(y=n.relatedTarget||n.toElement,g=c,y=y?Ps(y):null,y!==null&&(k=ao(y),y!==k||y.tag!==5&&y.tag!==6)&&(y=null)):(g=null,y=c),g!==y)){if(S=fx,I="onMouseLeave",x="onMouseEnter",C="mouse",(e==="pointerout"||e==="pointerover")&&(S=mx,I="onPointerLeave",x="onPointerEnter",C="pointer"),k=g==null?f:jo(g),E=y==null?f:jo(y),f=new S(I,C+"leave",g,n,d),f.target=k,f.relatedTarget=E,I=null,Ps(d)===c&&(S=new S(x,C+"enter",y,n,d),S.target=E,S.relatedTarget=k,I=S),k=I,g&&y)t:{for(S=g,x=y,C=0,E=S;E;E=Eo(E))C++;for(E=0,I=x;I;I=Eo(I))E++;for(;0<C-E;)S=Eo(S),C--;for(;0<E-C;)x=Eo(x),E--;for(;C--;){if(S===x||x!==null&&S===x.alternate)break t;S=Eo(S),x=Eo(x)}S=null}else S=null;g!==null&&Tx(h,f,g,S,!1),y!==null&&k!==null&&Tx(h,k,y,S,!0)}}e:{if(f=c?jo(c):window,g=f.nodeName&&f.nodeName.toLowerCase(),g==="select"||g==="input"&&f.type==="file")var D=VM;else if(vx(f))if(ik)D=WM;else{D=BM;var M=UM}else(g=f.nodeName)&&g.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(D=zM);if(D&&(D=D(e,c))){rk(h,D,n,d);break e}M&&M(e,f,c),e==="focusout"&&(M=f._wrapperState)&&M.controlled&&f.type==="number"&&Og(f,"number",f.value)}switch(M=c?jo(c):window,e){case"focusin":(vx(M)||M.contentEditable==="true")&&(Mo=M,qg=c,Hl=null);break;case"focusout":Hl=qg=Mo=null;break;case"mousedown":Gg=!0;break;case"contextmenu":case"mouseup":case"dragend":Gg=!1,bx(h,n,d);break;case"selectionchange":if(GM)break;case"keydown":case"keyup":bx(h,n,d)}var T;if(av)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else Oo?tk(e,n)&&(b="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(b="onCompositionStart");b&&(ek&&n.locale!=="ko"&&(Oo||b!=="onCompositionStart"?b==="onCompositionEnd"&&Oo&&(T=ZT()):(Oi=d,iv="value"in Oi?Oi.value:Oi.textContent,Oo=!0)),M=gh(c,b),0<M.length&&(b=new px(b,e,null,n,d),h.push({event:b,listeners:M}),T?b.data=T:(T=nk(n),T!==null&&(b.data=T)))),(T=MM?LM(e,n):jM(e,n))&&(c=gh(c,"onBeforeInput"),0<c.length&&(d=new px("onBeforeInput","beforeinput",null,n,d),h.push({event:d,listeners:c}),d.data=T))}pk(h,t)})}function Ec(e,t,n){return{instance:e,listener:t,currentTarget:n}}function gh(e,t){for(var n=t+"Capture",r=[];e!==null;){var i=e,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=mc(e,n),s!=null&&r.unshift(Ec(e,s,i)),s=mc(e,t),s!=null&&r.push(Ec(e,s,i))),e=e.return}return r}function Eo(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Tx(e,t,n,r,i){for(var s=t._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,c=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&c!==null&&(a=c,i?(l=mc(n,s),l!=null&&o.unshift(Ec(n,l,a))):i||(l=mc(n,s),l!=null&&o.push(Ec(n,l,a)))),n=n.return}o.length!==0&&e.push({event:t,listeners:o})}var JM=/\r\n?/g,QM=/\u0000|\uFFFD/g;function kx(e){return(typeof e=="string"?e:""+e).replace(JM,`
`).replace(QM,"")}function sd(e,t,n){if(t=kx(t),kx(e)!==t&&n)throw Error(U(425))}function yh(){}var Kg=null,Yg=null;function Xg(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Jg=typeof setTimeout=="function"?setTimeout:void 0,ZM=typeof clearTimeout=="function"?clearTimeout:void 0,Ix=typeof Promise=="function"?Promise:void 0,e4=typeof queueMicrotask=="function"?queueMicrotask:typeof Ix<"u"?function(e){return Ix.resolve(null).then(e).catch(t4)}:Jg;function t4(e){setTimeout(function(){throw e})}function Cm(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){e.removeChild(i),vc(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);vc(t)}function Bi(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Px(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var La=Math.random().toString(36).slice(2),gr="__reactFiber$"+La,bc="__reactProps$"+La,ni="__reactContainer$"+La,Qg="__reactEvents$"+La,n4="__reactListeners$"+La,r4="__reactHandles$"+La;function Ps(e){var t=e[gr];if(t)return t;for(var n=e.parentNode;n;){if(t=n[ni]||n[gr]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=Px(e);e!==null;){if(n=e[gr])return n;e=Px(e)}return t}e=n,n=e.parentNode}return null}function ou(e){return e=e[gr]||e[ni],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function jo(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(U(33))}function Sf(e){return e[bc]||null}var Zg=[],Fo=-1;function as(e){return{current:e}}function De(e){0>Fo||(e.current=Zg[Fo],Zg[Fo]=null,Fo--)}function Ae(e,t){Fo++,Zg[Fo]=e.current,e.current=t}var Qi={},jt=as(Qi),sn=as(!1),Ws=Qi;function ha(e,t){var n=e.type.contextTypes;if(!n)return Qi;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=t[s];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function on(e){return e=e.childContextTypes,e!=null}function vh(){De(sn),De(jt)}function Ax(e,t,n){if(jt.current!==Qi)throw Error(U(168));Ae(jt,t),Ae(sn,n)}function gk(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in t))throw Error(U(108,UO(e)||"Unknown",i));return ze({},n,r)}function wh(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Qi,Ws=jt.current,Ae(jt,e),Ae(sn,sn.current),!0}function Rx(e,t,n){var r=e.stateNode;if(!r)throw Error(U(169));n?(e=gk(e,t,Ws),r.__reactInternalMemoizedMergedChildContext=e,De(sn),De(jt),Ae(jt,e)):De(sn),Ae(sn,n)}var Ur=null,Tf=!1,Sm=!1;function yk(e){Ur===null?Ur=[e]:Ur.push(e)}function i4(e){Tf=!0,yk(e)}function ls(){if(!Sm&&Ur!==null){Sm=!0;var e=0,t=xe;try{var n=Ur;for(xe=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}Ur=null,Tf=!1}catch(i){throw Ur!==null&&(Ur=Ur.slice(e+1)),BT(ev,ls),i}finally{xe=t,Sm=!1}}return null}var $o=[],Vo=0,_h=null,xh=0,Tn=[],kn=0,Hs=null,zr=1,Wr="";function ws(e,t){$o[Vo++]=xh,$o[Vo++]=_h,_h=e,xh=t}function vk(e,t,n){Tn[kn++]=zr,Tn[kn++]=Wr,Tn[kn++]=Hs,Hs=e;var r=zr;e=Wr;var i=32-tr(r)-1;r&=~(1<<i),n+=1;var s=32-tr(t)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,zr=1<<32-tr(t)+i|n<<i|r,Wr=s+e}else zr=1<<s|n<<i|r,Wr=e}function cv(e){e.return!==null&&(ws(e,1),vk(e,1,0))}function uv(e){for(;e===_h;)_h=$o[--Vo],$o[Vo]=null,xh=$o[--Vo],$o[Vo]=null;for(;e===Hs;)Hs=Tn[--kn],Tn[kn]=null,Wr=Tn[--kn],Tn[kn]=null,zr=Tn[--kn],Tn[kn]=null}var mn=null,pn=null,Me=!1,Kn=null;function wk(e,t){var n=Pn(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function Nx(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,mn=e,pn=Bi(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,mn=e,pn=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=Hs!==null?{id:zr,overflow:Wr}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=Pn(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,mn=e,pn=null,!0):!1;default:return!1}}function ey(e){return(e.mode&1)!==0&&(e.flags&128)===0}function ty(e){if(Me){var t=pn;if(t){var n=t;if(!Nx(e,t)){if(ey(e))throw Error(U(418));t=Bi(n.nextSibling);var r=mn;t&&Nx(e,t)?wk(r,n):(e.flags=e.flags&-4097|2,Me=!1,mn=e)}}else{if(ey(e))throw Error(U(418));e.flags=e.flags&-4097|2,Me=!1,mn=e}}}function Dx(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;mn=e}function od(e){if(e!==mn)return!1;if(!Me)return Dx(e),Me=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Xg(e.type,e.memoizedProps)),t&&(t=pn)){if(ey(e))throw _k(),Error(U(418));for(;t;)wk(e,t),t=Bi(t.nextSibling)}if(Dx(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(U(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){pn=Bi(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}pn=null}}else pn=mn?Bi(e.stateNode.nextSibling):null;return!0}function _k(){for(var e=pn;e;)e=Bi(e.nextSibling)}function fa(){pn=mn=null,Me=!1}function dv(e){Kn===null?Kn=[e]:Kn.push(e)}var s4=fi.ReactCurrentBatchConfig;function ml(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(U(309));var r=n.stateNode}if(!r)throw Error(U(147,e));var i=r,s=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===s?t.ref:(t=function(o){var a=i.refs;o===null?delete a[s]:a[s]=o},t._stringRef=s,t)}if(typeof e!="string")throw Error(U(284));if(!n._owner)throw Error(U(290,e))}return e}function ad(e,t){throw e=Object.prototype.toString.call(t),Error(U(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Ox(e){var t=e._init;return t(e._payload)}function xk(e){function t(x,C){if(e){var E=x.deletions;E===null?(x.deletions=[C],x.flags|=16):E.push(C)}}function n(x,C){if(!e)return null;for(;C!==null;)t(x,C),C=C.sibling;return null}function r(x,C){for(x=new Map;C!==null;)C.key!==null?x.set(C.key,C):x.set(C.index,C),C=C.sibling;return x}function i(x,C){return x=qi(x,C),x.index=0,x.sibling=null,x}function s(x,C,E){return x.index=E,e?(E=x.alternate,E!==null?(E=E.index,E<C?(x.flags|=2,C):E):(x.flags|=2,C)):(x.flags|=1048576,C)}function o(x){return e&&x.alternate===null&&(x.flags|=2),x}function a(x,C,E,I){return C===null||C.tag!==6?(C=Nm(E,x.mode,I),C.return=x,C):(C=i(C,E),C.return=x,C)}function l(x,C,E,I){var D=E.type;return D===Do?d(x,C,E.props.children,I,E.key):C!==null&&(C.elementType===D||typeof D=="object"&&D!==null&&D.$$typeof===Si&&Ox(D)===C.type)?(I=i(C,E.props),I.ref=ml(x,C,E),I.return=x,I):(I=zd(E.type,E.key,E.props,null,x.mode,I),I.ref=ml(x,C,E),I.return=x,I)}function c(x,C,E,I){return C===null||C.tag!==4||C.stateNode.containerInfo!==E.containerInfo||C.stateNode.implementation!==E.implementation?(C=Dm(E,x.mode,I),C.return=x,C):(C=i(C,E.children||[]),C.return=x,C)}function d(x,C,E,I,D){return C===null||C.tag!==7?(C=$s(E,x.mode,I,D),C.return=x,C):(C=i(C,E),C.return=x,C)}function h(x,C,E){if(typeof C=="string"&&C!==""||typeof C=="number")return C=Nm(""+C,x.mode,E),C.return=x,C;if(typeof C=="object"&&C!==null){switch(C.$$typeof){case Xu:return E=zd(C.type,C.key,C.props,null,x.mode,E),E.ref=ml(x,null,C),E.return=x,E;case No:return C=Dm(C,x.mode,E),C.return=x,C;case Si:var I=C._init;return h(x,I(C._payload),E)}if(Pl(C)||ul(C))return C=$s(C,x.mode,E,null),C.return=x,C;ad(x,C)}return null}function f(x,C,E,I){var D=C!==null?C.key:null;if(typeof E=="string"&&E!==""||typeof E=="number")return D!==null?null:a(x,C,""+E,I);if(typeof E=="object"&&E!==null){switch(E.$$typeof){case Xu:return E.key===D?l(x,C,E,I):null;case No:return E.key===D?c(x,C,E,I):null;case Si:return D=E._init,f(x,C,D(E._payload),I)}if(Pl(E)||ul(E))return D!==null?null:d(x,C,E,I,null);ad(x,E)}return null}function g(x,C,E,I,D){if(typeof I=="string"&&I!==""||typeof I=="number")return x=x.get(E)||null,a(C,x,""+I,D);if(typeof I=="object"&&I!==null){switch(I.$$typeof){case Xu:return x=x.get(I.key===null?E:I.key)||null,l(C,x,I,D);case No:return x=x.get(I.key===null?E:I.key)||null,c(C,x,I,D);case Si:var M=I._init;return g(x,C,E,M(I._payload),D)}if(Pl(I)||ul(I))return x=x.get(E)||null,d(C,x,I,D,null);ad(C,I)}return null}function y(x,C,E,I){for(var D=null,M=null,T=C,b=C=0,P=null;T!==null&&b<E.length;b++){T.index>b?(P=T,T=null):P=T.sibling;var v=f(x,T,E[b],I);if(v===null){T===null&&(T=P);break}e&&T&&v.alternate===null&&t(x,T),C=s(v,C,b),M===null?D=v:M.sibling=v,M=v,T=P}if(b===E.length)return n(x,T),Me&&ws(x,b),D;if(T===null){for(;b<E.length;b++)T=h(x,E[b],I),T!==null&&(C=s(T,C,b),M===null?D=T:M.sibling=T,M=T);return Me&&ws(x,b),D}for(T=r(x,T);b<E.length;b++)P=g(T,x,b,E[b],I),P!==null&&(e&&P.alternate!==null&&T.delete(P.key===null?b:P.key),C=s(P,C,b),M===null?D=P:M.sibling=P,M=P);return e&&T.forEach(function(R){return t(x,R)}),Me&&ws(x,b),D}function S(x,C,E,I){var D=ul(E);if(typeof D!="function")throw Error(U(150));if(E=D.call(E),E==null)throw Error(U(151));for(var M=D=null,T=C,b=C=0,P=null,v=E.next();T!==null&&!v.done;b++,v=E.next()){T.index>b?(P=T,T=null):P=T.sibling;var R=f(x,T,v.value,I);if(R===null){T===null&&(T=P);break}e&&T&&R.alternate===null&&t(x,T),C=s(R,C,b),M===null?D=R:M.sibling=R,M=R,T=P}if(v.done)return n(x,T),Me&&ws(x,b),D;if(T===null){for(;!v.done;b++,v=E.next())v=h(x,v.value,I),v!==null&&(C=s(v,C,b),M===null?D=v:M.sibling=v,M=v);return Me&&ws(x,b),D}for(T=r(x,T);!v.done;b++,v=E.next())v=g(T,x,b,v.value,I),v!==null&&(e&&v.alternate!==null&&T.delete(v.key===null?b:v.key),C=s(v,C,b),M===null?D=v:M.sibling=v,M=v);return e&&T.forEach(function(O){return t(x,O)}),Me&&ws(x,b),D}function k(x,C,E,I){if(typeof E=="object"&&E!==null&&E.type===Do&&E.key===null&&(E=E.props.children),typeof E=="object"&&E!==null){switch(E.$$typeof){case Xu:e:{for(var D=E.key,M=C;M!==null;){if(M.key===D){if(D=E.type,D===Do){if(M.tag===7){n(x,M.sibling),C=i(M,E.props.children),C.return=x,x=C;break e}}else if(M.elementType===D||typeof D=="object"&&D!==null&&D.$$typeof===Si&&Ox(D)===M.type){n(x,M.sibling),C=i(M,E.props),C.ref=ml(x,M,E),C.return=x,x=C;break e}n(x,M);break}else t(x,M);M=M.sibling}E.type===Do?(C=$s(E.props.children,x.mode,I,E.key),C.return=x,x=C):(I=zd(E.type,E.key,E.props,null,x.mode,I),I.ref=ml(x,C,E),I.return=x,x=I)}return o(x);case No:e:{for(M=E.key;C!==null;){if(C.key===M)if(C.tag===4&&C.stateNode.containerInfo===E.containerInfo&&C.stateNode.implementation===E.implementation){n(x,C.sibling),C=i(C,E.children||[]),C.return=x,x=C;break e}else{n(x,C);break}else t(x,C);C=C.sibling}C=Dm(E,x.mode,I),C.return=x,x=C}return o(x);case Si:return M=E._init,k(x,C,M(E._payload),I)}if(Pl(E))return y(x,C,E,I);if(ul(E))return S(x,C,E,I);ad(x,E)}return typeof E=="string"&&E!==""||typeof E=="number"?(E=""+E,C!==null&&C.tag===6?(n(x,C.sibling),C=i(C,E),C.return=x,x=C):(n(x,C),C=Nm(E,x.mode,I),C.return=x,x=C),o(x)):n(x,C)}return k}var pa=xk(!0),Ek=xk(!1),Eh=as(null),bh=null,Uo=null,hv=null;function fv(){hv=Uo=bh=null}function pv(e){var t=Eh.current;De(Eh),e._currentValue=t}function ny(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function ea(e,t){bh=e,hv=Uo=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(tn=!0),e.firstContext=null)}function On(e){var t=e._currentValue;if(hv!==e)if(e={context:e,memoizedValue:t,next:null},Uo===null){if(bh===null)throw Error(U(308));Uo=e,bh.dependencies={lanes:0,firstContext:e}}else Uo=Uo.next=e;return t}var As=null;function mv(e){As===null?As=[e]:As.push(e)}function bk(e,t,n,r){var i=t.interleaved;return i===null?(n.next=n,mv(t)):(n.next=i.next,i.next=n),t.interleaved=n,ri(e,r)}function ri(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var Ti=!1;function gv(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Ck(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Kr(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function zi(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,me&2){var i=r.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),r.pending=t,ri(e,n)}return i=r.interleaved,i===null?(t.next=t,mv(r)):(t.next=i.next,i.next=t),r.interleaved=t,ri(e,n)}function jd(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,tv(e,n)}}function Mx(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=t:s=s.next=t}else i=s=t;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Ch(e,t,n,r){var i=e.updateQueue;Ti=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,c=l.next;l.next=null,o===null?s=c:o.next=c,o=l;var d=e.alternate;d!==null&&(d=d.updateQueue,a=d.lastBaseUpdate,a!==o&&(a===null?d.firstBaseUpdate=c:a.next=c,d.lastBaseUpdate=l))}if(s!==null){var h=i.baseState;o=0,d=c=l=null,a=s;do{var f=a.lane,g=a.eventTime;if((r&f)===f){d!==null&&(d=d.next={eventTime:g,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var y=e,S=a;switch(f=t,g=n,S.tag){case 1:if(y=S.payload,typeof y=="function"){h=y.call(g,h,f);break e}h=y;break e;case 3:y.flags=y.flags&-65537|128;case 0:if(y=S.payload,f=typeof y=="function"?y.call(g,h,f):y,f==null)break e;h=ze({},h,f);break e;case 2:Ti=!0}}a.callback!==null&&a.lane!==0&&(e.flags|=64,f=i.effects,f===null?i.effects=[a]:f.push(a))}else g={eventTime:g,lane:f,tag:a.tag,payload:a.payload,callback:a.callback,next:null},d===null?(c=d=g,l=h):d=d.next=g,o|=f;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;f=a,a=f.next,f.next=null,i.lastBaseUpdate=f,i.shared.pending=null}}while(1);if(d===null&&(l=h),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=d,t=i.shared.interleaved,t!==null){i=t;do o|=i.lane,i=i.next;while(i!==t)}else s===null&&(i.shared.lanes=0);Gs|=o,e.lanes=o,e.memoizedState=h}}function Lx(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(U(191,i));i.call(r)}}}var au={},_r=as(au),Cc=as(au),Sc=as(au);function Rs(e){if(e===au)throw Error(U(174));return e}function yv(e,t){switch(Ae(Sc,t),Ae(Cc,e),Ae(_r,au),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Lg(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Lg(t,e)}De(_r),Ae(_r,t)}function ma(){De(_r),De(Cc),De(Sc)}function Sk(e){Rs(Sc.current);var t=Rs(_r.current),n=Lg(t,e.type);t!==n&&(Ae(Cc,e),Ae(_r,n))}function vv(e){Cc.current===e&&(De(_r),De(Cc))}var $e=as(0);function Sh(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Tm=[];function wv(){for(var e=0;e<Tm.length;e++)Tm[e]._workInProgressVersionPrimary=null;Tm.length=0}var Fd=fi.ReactCurrentDispatcher,km=fi.ReactCurrentBatchConfig,qs=0,Ue=null,it=null,dt=null,Th=!1,ql=!1,Tc=0,o4=0;function It(){throw Error(U(321))}function _v(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!sr(e[n],t[n]))return!1;return!0}function xv(e,t,n,r,i,s){if(qs=s,Ue=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Fd.current=e===null||e.memoizedState===null?u4:d4,e=n(r,i),ql){s=0;do{if(ql=!1,Tc=0,25<=s)throw Error(U(301));s+=1,dt=it=null,t.updateQueue=null,Fd.current=h4,e=n(r,i)}while(ql)}if(Fd.current=kh,t=it!==null&&it.next!==null,qs=0,dt=it=Ue=null,Th=!1,t)throw Error(U(300));return e}function Ev(){var e=Tc!==0;return Tc=0,e}function fr(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return dt===null?Ue.memoizedState=dt=e:dt=dt.next=e,dt}function Mn(){if(it===null){var e=Ue.alternate;e=e!==null?e.memoizedState:null}else e=it.next;var t=dt===null?Ue.memoizedState:dt.next;if(t!==null)dt=t,it=e;else{if(e===null)throw Error(U(310));it=e,e={memoizedState:it.memoizedState,baseState:it.baseState,baseQueue:it.baseQueue,queue:it.queue,next:null},dt===null?Ue.memoizedState=dt=e:dt=dt.next=e}return dt}function kc(e,t){return typeof t=="function"?t(e):t}function Im(e){var t=Mn(),n=t.queue;if(n===null)throw Error(U(311));n.lastRenderedReducer=e;var r=it,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var a=o=null,l=null,c=s;do{var d=c.lane;if((qs&d)===d)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:e(r,c.action);else{var h={lane:d,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(a=l=h,o=r):l=l.next=h,Ue.lanes|=d,Gs|=d}c=c.next}while(c!==null&&c!==s);l===null?o=r:l.next=a,sr(r,t.memoizedState)||(tn=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=l,n.lastRenderedState=r}if(e=n.interleaved,e!==null){i=e;do s=i.lane,Ue.lanes|=s,Gs|=s,i=i.next;while(i!==e)}else i===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Pm(e){var t=Mn(),n=t.queue;if(n===null)throw Error(U(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,s=t.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=e(s,o.action),o=o.next;while(o!==i);sr(s,t.memoizedState)||(tn=!0),t.memoizedState=s,t.baseQueue===null&&(t.baseState=s),n.lastRenderedState=s}return[s,r]}function Tk(){}function kk(e,t){var n=Ue,r=Mn(),i=t(),s=!sr(r.memoizedState,i);if(s&&(r.memoizedState=i,tn=!0),r=r.queue,bv(Ak.bind(null,n,r,e),[e]),r.getSnapshot!==t||s||dt!==null&&dt.memoizedState.tag&1){if(n.flags|=2048,Ic(9,Pk.bind(null,n,r,i,t),void 0,null),pt===null)throw Error(U(349));qs&30||Ik(n,t,i)}return i}function Ik(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=Ue.updateQueue,t===null?(t={lastEffect:null,stores:null},Ue.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function Pk(e,t,n,r){t.value=n,t.getSnapshot=r,Rk(t)&&Nk(e)}function Ak(e,t,n){return n(function(){Rk(t)&&Nk(e)})}function Rk(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!sr(e,n)}catch{return!0}}function Nk(e){var t=ri(e,1);t!==null&&nr(t,e,1,-1)}function jx(e){var t=fr();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:kc,lastRenderedState:e},t.queue=e,e=e.dispatch=c4.bind(null,Ue,e),[t.memoizedState,e]}function Ic(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=Ue.updateQueue,t===null?(t={lastEffect:null,stores:null},Ue.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function Dk(){return Mn().memoizedState}function $d(e,t,n,r){var i=fr();Ue.flags|=e,i.memoizedState=Ic(1|t,n,void 0,r===void 0?null:r)}function kf(e,t,n,r){var i=Mn();r=r===void 0?null:r;var s=void 0;if(it!==null){var o=it.memoizedState;if(s=o.destroy,r!==null&&_v(r,o.deps)){i.memoizedState=Ic(t,n,s,r);return}}Ue.flags|=e,i.memoizedState=Ic(1|t,n,s,r)}function Fx(e,t){return $d(8390656,8,e,t)}function bv(e,t){return kf(2048,8,e,t)}function Ok(e,t){return kf(4,2,e,t)}function Mk(e,t){return kf(4,4,e,t)}function Lk(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function jk(e,t,n){return n=n!=null?n.concat([e]):null,kf(4,4,Lk.bind(null,t,e),n)}function Cv(){}function Fk(e,t){var n=Mn();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&_v(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function $k(e,t){var n=Mn();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&_v(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Vk(e,t,n){return qs&21?(sr(n,t)||(n=HT(),Ue.lanes|=n,Gs|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,tn=!0),e.memoizedState=n)}function a4(e,t){var n=xe;xe=n!==0&&4>n?n:4,e(!0);var r=km.transition;km.transition={};try{e(!1),t()}finally{xe=n,km.transition=r}}function Uk(){return Mn().memoizedState}function l4(e,t,n){var r=Hi(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Bk(e))zk(t,n);else if(n=bk(e,t,n,r),n!==null){var i=Wt();nr(n,e,r,i),Wk(n,t,r)}}function c4(e,t,n){var r=Hi(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Bk(e))zk(t,i);else{var s=e.alternate;if(e.lanes===0&&(s===null||s.lanes===0)&&(s=t.lastRenderedReducer,s!==null))try{var o=t.lastRenderedState,a=s(o,n);if(i.hasEagerState=!0,i.eagerState=a,sr(a,o)){var l=t.interleaved;l===null?(i.next=i,mv(t)):(i.next=l.next,l.next=i),t.interleaved=i;return}}catch{}finally{}n=bk(e,t,i,r),n!==null&&(i=Wt(),nr(n,e,r,i),Wk(n,t,r))}}function Bk(e){var t=e.alternate;return e===Ue||t!==null&&t===Ue}function zk(e,t){ql=Th=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Wk(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,tv(e,n)}}var kh={readContext:On,useCallback:It,useContext:It,useEffect:It,useImperativeHandle:It,useInsertionEffect:It,useLayoutEffect:It,useMemo:It,useReducer:It,useRef:It,useState:It,useDebugValue:It,useDeferredValue:It,useTransition:It,useMutableSource:It,useSyncExternalStore:It,useId:It,unstable_isNewReconciler:!1},u4={readContext:On,useCallback:function(e,t){return fr().memoizedState=[e,t===void 0?null:t],e},useContext:On,useEffect:Fx,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,$d(4194308,4,Lk.bind(null,t,e),n)},useLayoutEffect:function(e,t){return $d(4194308,4,e,t)},useInsertionEffect:function(e,t){return $d(4,2,e,t)},useMemo:function(e,t){var n=fr();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=fr();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=l4.bind(null,Ue,e),[r.memoizedState,e]},useRef:function(e){var t=fr();return e={current:e},t.memoizedState=e},useState:jx,useDebugValue:Cv,useDeferredValue:function(e){return fr().memoizedState=e},useTransition:function(){var e=jx(!1),t=e[0];return e=a4.bind(null,e[1]),fr().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=Ue,i=fr();if(Me){if(n===void 0)throw Error(U(407));n=n()}else{if(n=t(),pt===null)throw Error(U(349));qs&30||Ik(r,t,n)}i.memoizedState=n;var s={value:n,getSnapshot:t};return i.queue=s,Fx(Ak.bind(null,r,s,e),[e]),r.flags|=2048,Ic(9,Pk.bind(null,r,s,n,t),void 0,null),n},useId:function(){var e=fr(),t=pt.identifierPrefix;if(Me){var n=Wr,r=zr;n=(r&~(1<<32-tr(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=Tc++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=o4++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},d4={readContext:On,useCallback:Fk,useContext:On,useEffect:bv,useImperativeHandle:jk,useInsertionEffect:Ok,useLayoutEffect:Mk,useMemo:$k,useReducer:Im,useRef:Dk,useState:function(){return Im(kc)},useDebugValue:Cv,useDeferredValue:function(e){var t=Mn();return Vk(t,it.memoizedState,e)},useTransition:function(){var e=Im(kc)[0],t=Mn().memoizedState;return[e,t]},useMutableSource:Tk,useSyncExternalStore:kk,useId:Uk,unstable_isNewReconciler:!1},h4={readContext:On,useCallback:Fk,useContext:On,useEffect:bv,useImperativeHandle:jk,useInsertionEffect:Ok,useLayoutEffect:Mk,useMemo:$k,useReducer:Pm,useRef:Dk,useState:function(){return Pm(kc)},useDebugValue:Cv,useDeferredValue:function(e){var t=Mn();return it===null?t.memoizedState=e:Vk(t,it.memoizedState,e)},useTransition:function(){var e=Pm(kc)[0],t=Mn().memoizedState;return[e,t]},useMutableSource:Tk,useSyncExternalStore:kk,useId:Uk,unstable_isNewReconciler:!1};function Hn(e,t){if(e&&e.defaultProps){t=ze({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function ry(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:ze({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var If={isMounted:function(e){return(e=e._reactInternals)?ao(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Wt(),i=Hi(e),s=Kr(r,i);s.payload=t,n!=null&&(s.callback=n),t=zi(e,s,i),t!==null&&(nr(t,e,i,r),jd(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Wt(),i=Hi(e),s=Kr(r,i);s.tag=1,s.payload=t,n!=null&&(s.callback=n),t=zi(e,s,i),t!==null&&(nr(t,e,i,r),jd(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Wt(),r=Hi(e),i=Kr(n,r);i.tag=2,t!=null&&(i.callback=t),t=zi(e,i,r),t!==null&&(nr(t,e,r,n),jd(t,e,r))}};function $x(e,t,n,r,i,s,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,s,o):t.prototype&&t.prototype.isPureReactComponent?!_c(n,r)||!_c(i,s):!0}function Hk(e,t,n){var r=!1,i=Qi,s=t.contextType;return typeof s=="object"&&s!==null?s=On(s):(i=on(t)?Ws:jt.current,r=t.contextTypes,s=(r=r!=null)?ha(e,i):Qi),t=new t(n,s),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=If,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=s),t}function Vx(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&If.enqueueReplaceState(t,t.state,null)}function iy(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs={},gv(e);var s=t.contextType;typeof s=="object"&&s!==null?i.context=On(s):(s=on(t)?Ws:jt.current,i.context=ha(e,s)),i.state=e.memoizedState,s=t.getDerivedStateFromProps,typeof s=="function"&&(ry(e,t,s,n),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&If.enqueueReplaceState(i,i.state,null),Ch(e,n,i,r),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function ga(e,t){try{var n="",r=t;do n+=VO(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:e,source:t,stack:i,digest:null}}function Am(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function sy(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var f4=typeof WeakMap=="function"?WeakMap:Map;function qk(e,t,n){n=Kr(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Ph||(Ph=!0,my=r),sy(e,t)},n}function Gk(e,t,n){n=Kr(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){sy(e,t)}}var s=e.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){sy(e,t),typeof r!="function"&&(Wi===null?Wi=new Set([this]):Wi.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),n}function Ux(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new f4;var i=new Set;r.set(t,i)}else i=r.get(t),i===void 0&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=k4.bind(null,e,t,n),t.then(e,e))}function Bx(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function zx(e,t,n,r,i){return e.mode&1?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=Kr(-1,1),t.tag=2,zi(n,t,1))),n.lanes|=1),e)}var p4=fi.ReactCurrentOwner,tn=!1;function Vt(e,t,n,r){t.child=e===null?Ek(t,null,n,r):pa(t,e.child,n,r)}function Wx(e,t,n,r,i){n=n.render;var s=t.ref;return ea(t,i),r=xv(e,t,n,r,s,i),n=Ev(),e!==null&&!tn?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,ii(e,t,i)):(Me&&n&&cv(t),t.flags|=1,Vt(e,t,r,i),t.child)}function Hx(e,t,n,r,i){if(e===null){var s=n.type;return typeof s=="function"&&!Nv(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=s,Kk(e,t,s,r,i)):(e=zd(n.type,null,r,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(s=e.child,!(e.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:_c,n(o,r)&&e.ref===t.ref)return ii(e,t,i)}return t.flags|=1,e=qi(s,r),e.ref=t.ref,e.return=t,t.child=e}function Kk(e,t,n,r,i){if(e!==null){var s=e.memoizedProps;if(_c(s,r)&&e.ref===t.ref)if(tn=!1,t.pendingProps=r=s,(e.lanes&i)!==0)e.flags&131072&&(tn=!0);else return t.lanes=e.lanes,ii(e,t,i)}return oy(e,t,n,r,i)}function Yk(e,t,n){var r=t.pendingProps,i=r.children,s=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ae(zo,hn),hn|=n;else{if(!(n&1073741824))return e=s!==null?s.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Ae(zo,hn),hn|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,Ae(zo,hn),hn|=r}else s!==null?(r=s.baseLanes|n,t.memoizedState=null):r=n,Ae(zo,hn),hn|=r;return Vt(e,t,i,n),t.child}function Xk(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function oy(e,t,n,r,i){var s=on(n)?Ws:jt.current;return s=ha(t,s),ea(t,i),n=xv(e,t,n,r,s,i),r=Ev(),e!==null&&!tn?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,ii(e,t,i)):(Me&&r&&cv(t),t.flags|=1,Vt(e,t,n,i),t.child)}function qx(e,t,n,r,i){if(on(n)){var s=!0;wh(t)}else s=!1;if(ea(t,i),t.stateNode===null)Vd(e,t),Hk(t,n,r),iy(t,n,r,i),r=!0;else if(e===null){var o=t.stateNode,a=t.memoizedProps;o.props=a;var l=o.context,c=n.contextType;typeof c=="object"&&c!==null?c=On(c):(c=on(n)?Ws:jt.current,c=ha(t,c));var d=n.getDerivedStateFromProps,h=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==c)&&Vx(t,o,r,c),Ti=!1;var f=t.memoizedState;o.state=f,Ch(t,r,o,i),l=t.memoizedState,a!==r||f!==l||sn.current||Ti?(typeof d=="function"&&(ry(t,n,d,r),l=t.memoizedState),(a=Ti||$x(t,n,a,r,f,l,c))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),o.props=r,o.state=l,o.context=c,r=a):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,Ck(e,t),a=t.memoizedProps,c=t.type===t.elementType?a:Hn(t.type,a),o.props=c,h=t.pendingProps,f=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=On(l):(l=on(n)?Ws:jt.current,l=ha(t,l));var g=n.getDerivedStateFromProps;(d=typeof g=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==h||f!==l)&&Vx(t,o,r,l),Ti=!1,f=t.memoizedState,o.state=f,Ch(t,r,o,i);var y=t.memoizedState;a!==h||f!==y||sn.current||Ti?(typeof g=="function"&&(ry(t,n,g,r),y=t.memoizedState),(c=Ti||$x(t,n,c,r,f,y,l)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,y,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,y,l)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=y),o.props=r,o.state=y,o.context=l,r=c):(typeof o.componentDidUpdate!="function"||a===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),r=!1)}return ay(e,t,n,r,s,i)}function ay(e,t,n,r,i,s){Xk(e,t);var o=(t.flags&128)!==0;if(!r&&!o)return i&&Rx(t,n,!1),ii(e,t,s);r=t.stateNode,p4.current=t;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&o?(t.child=pa(t,e.child,null,s),t.child=pa(t,null,a,s)):Vt(e,t,a,s),t.memoizedState=r.state,i&&Rx(t,n,!0),t.child}function Jk(e){var t=e.stateNode;t.pendingContext?Ax(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Ax(e,t.context,!1),yv(e,t.containerInfo)}function Gx(e,t,n,r,i){return fa(),dv(i),t.flags|=256,Vt(e,t,n,r),t.child}var ly={dehydrated:null,treeContext:null,retryLane:0};function cy(e){return{baseLanes:e,cachePool:null,transitions:null}}function Qk(e,t,n){var r=t.pendingProps,i=$e.current,s=!1,o=(t.flags&128)!==0,a;if((a=o)||(a=e!==null&&e.memoizedState===null?!1:(i&2)!==0),a?(s=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),Ae($e,i&1),e===null)return ty(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=r.children,e=r.fallback,s?(r=t.mode,s=t.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=Rf(o,r,0,null),e=$s(e,r,n,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=cy(n),t.memoizedState=ly,e):Sv(t,o));if(i=e.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return m4(e,t,o,r,a,i,n);if(s){s=r.fallback,o=t.mode,i=e.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&t.child!==i?(r=t.child,r.childLanes=0,r.pendingProps=l,t.deletions=null):(r=qi(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=qi(a,s):(s=$s(s,o,n,null),s.flags|=2),s.return=t,r.return=t,r.sibling=s,t.child=r,r=s,s=t.child,o=e.child.memoizedState,o=o===null?cy(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=e.childLanes&~n,t.memoizedState=ly,r}return s=e.child,e=s.sibling,r=qi(s,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function Sv(e,t){return t=Rf({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function ld(e,t,n,r){return r!==null&&dv(r),pa(t,e.child,null,n),e=Sv(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function m4(e,t,n,r,i,s,o){if(n)return t.flags&256?(t.flags&=-257,r=Am(Error(U(422))),ld(e,t,o,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(s=r.fallback,i=t.mode,r=Rf({mode:"visible",children:r.children},i,0,null),s=$s(s,i,o,null),s.flags|=2,r.return=t,s.return=t,r.sibling=s,t.child=r,t.mode&1&&pa(t,e.child,null,o),t.child.memoizedState=cy(o),t.memoizedState=ly,s);if(!(t.mode&1))return ld(e,t,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,s=Error(U(419)),r=Am(s,r,void 0),ld(e,t,o,r)}if(a=(o&e.childLanes)!==0,tn||a){if(r=pt,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,ri(e,i),nr(r,e,i,-1))}return Rv(),r=Am(Error(U(421))),ld(e,t,o,r)}return i.data==="$?"?(t.flags|=128,t.child=e.child,t=I4.bind(null,e),i._reactRetry=t,null):(e=s.treeContext,pn=Bi(i.nextSibling),mn=t,Me=!0,Kn=null,e!==null&&(Tn[kn++]=zr,Tn[kn++]=Wr,Tn[kn++]=Hs,zr=e.id,Wr=e.overflow,Hs=t),t=Sv(t,r.children),t.flags|=4096,t)}function Kx(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),ny(e.return,t,n)}function Rm(e,t,n,r,i){var s=e.memoizedState;s===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function Zk(e,t,n){var r=t.pendingProps,i=r.revealOrder,s=r.tail;if(Vt(e,t,r.children,n),r=$e.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Kx(e,n,t);else if(e.tag===19)Kx(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Ae($e,r),!(t.mode&1))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;n!==null;)e=n.alternate,e!==null&&Sh(e)===null&&(i=n),n=n.sibling;n=i,n===null?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Rm(t,!1,i,n,s);break;case"backwards":for(n=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&Sh(e)===null){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Rm(t,!0,n,null,s);break;case"together":Rm(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Vd(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function ii(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Gs|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(U(153));if(t.child!==null){for(e=t.child,n=qi(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=qi(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function g4(e,t,n){switch(t.tag){case 3:Jk(t),fa();break;case 5:Sk(t);break;case 1:on(t.type)&&wh(t);break;case 4:yv(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;Ae(Eh,r._currentValue),r._currentValue=i;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(Ae($e,$e.current&1),t.flags|=128,null):n&t.child.childLanes?Qk(e,t,n):(Ae($e,$e.current&1),e=ii(e,t,n),e!==null?e.sibling:null);Ae($e,$e.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return Zk(e,t,n);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ae($e,$e.current),r)break;return null;case 22:case 23:return t.lanes=0,Yk(e,t,n)}return ii(e,t,n)}var eI,uy,tI,nI;eI=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};uy=function(){};tI=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,Rs(_r.current);var s=null;switch(n){case"input":i=Ng(e,i),r=Ng(e,r),s=[];break;case"select":i=ze({},i,{value:void 0}),r=ze({},r,{value:void 0}),s=[];break;case"textarea":i=Mg(e,i),r=Mg(e,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=yh)}jg(n,r);var o;n=null;for(c in i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&i[c]!=null)if(c==="style"){var a=i[c];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(fc.hasOwnProperty(c)?s||(s=[]):(s=s||[]).push(c,null));for(c in r){var l=r[c];if(a=i!=null?i[c]:void 0,r.hasOwnProperty(c)&&l!==a&&(l!=null||a!=null))if(c==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(s||(s=[]),s.push(c,n)),n=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(fc.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&Ne("scroll",e),s||a===l||(s=[])):(s=s||[]).push(c,l))}n&&(s=s||[]).push("style",n);var c=s;(t.updateQueue=c)&&(t.flags|=4)}};nI=function(e,t,n,r){n!==r&&(t.flags|=4)};function gl(e,t){if(!Me)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Pt(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function y4(e,t,n){var r=t.pendingProps;switch(uv(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Pt(t),null;case 1:return on(t.type)&&vh(),Pt(t),null;case 3:return r=t.stateNode,ma(),De(sn),De(jt),wv(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(od(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Kn!==null&&(vy(Kn),Kn=null))),uy(e,t),Pt(t),null;case 5:vv(t);var i=Rs(Sc.current);if(n=t.type,e!==null&&t.stateNode!=null)tI(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(U(166));return Pt(t),null}if(e=Rs(_r.current),od(t)){r=t.stateNode,n=t.type;var s=t.memoizedProps;switch(r[gr]=t,r[bc]=s,e=(t.mode&1)!==0,n){case"dialog":Ne("cancel",r),Ne("close",r);break;case"iframe":case"object":case"embed":Ne("load",r);break;case"video":case"audio":for(i=0;i<Rl.length;i++)Ne(Rl[i],r);break;case"source":Ne("error",r);break;case"img":case"image":case"link":Ne("error",r),Ne("load",r);break;case"details":Ne("toggle",r);break;case"input":rx(r,s),Ne("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},Ne("invalid",r);break;case"textarea":sx(r,s),Ne("invalid",r)}jg(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?r.textContent!==a&&(s.suppressHydrationWarning!==!0&&sd(r.textContent,a,e),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&sd(r.textContent,a,e),i=["children",""+a]):fc.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&Ne("scroll",r)}switch(n){case"input":Ju(r),ix(r,s,!0);break;case"textarea":Ju(r),ox(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=yh)}r=i,t.updateQueue=r,r!==null&&(t.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=AT(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=o.createElement(n,{is:r.is}):(e=o.createElement(n),n==="select"&&(o=e,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):e=o.createElementNS(e,n),e[gr]=t,e[bc]=r,eI(e,t,!1,!1),t.stateNode=e;e:{switch(o=Fg(n,r),n){case"dialog":Ne("cancel",e),Ne("close",e),i=r;break;case"iframe":case"object":case"embed":Ne("load",e),i=r;break;case"video":case"audio":for(i=0;i<Rl.length;i++)Ne(Rl[i],e);i=r;break;case"source":Ne("error",e),i=r;break;case"img":case"image":case"link":Ne("error",e),Ne("load",e),i=r;break;case"details":Ne("toggle",e),i=r;break;case"input":rx(e,r),i=Ng(e,r),Ne("invalid",e);break;case"option":i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=ze({},r,{value:void 0}),Ne("invalid",e);break;case"textarea":sx(e,r),i=Mg(e,r),Ne("invalid",e);break;default:i=r}jg(n,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?DT(e,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&RT(e,l)):s==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&pc(e,l):typeof l=="number"&&pc(e,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(fc.hasOwnProperty(s)?l!=null&&s==="onScroll"&&Ne("scroll",e):l!=null&&Y0(e,s,l,o))}switch(n){case"input":Ju(e),ix(e,r,!1);break;case"textarea":Ju(e),ox(e);break;case"option":r.value!=null&&e.setAttribute("value",""+Ji(r.value));break;case"select":e.multiple=!!r.multiple,s=r.value,s!=null?Xo(e,!!r.multiple,s,!1):r.defaultValue!=null&&Xo(e,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=yh)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Pt(t),null;case 6:if(e&&t.stateNode!=null)nI(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(U(166));if(n=Rs(Sc.current),Rs(_r.current),od(t)){if(r=t.stateNode,n=t.memoizedProps,r[gr]=t,(s=r.nodeValue!==n)&&(e=mn,e!==null))switch(e.tag){case 3:sd(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&sd(r.nodeValue,n,(e.mode&1)!==0)}s&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[gr]=t,t.stateNode=r}return Pt(t),null;case 13:if(De($e),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Me&&pn!==null&&t.mode&1&&!(t.flags&128))_k(),fa(),t.flags|=98560,s=!1;else if(s=od(t),r!==null&&r.dehydrated!==null){if(e===null){if(!s)throw Error(U(318));if(s=t.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(U(317));s[gr]=t}else fa(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Pt(t),s=!1}else Kn!==null&&(vy(Kn),Kn=null),s=!0;if(!s)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||$e.current&1?at===0&&(at=3):Rv())),t.updateQueue!==null&&(t.flags|=4),Pt(t),null);case 4:return ma(),uy(e,t),e===null&&xc(t.stateNode.containerInfo),Pt(t),null;case 10:return pv(t.type._context),Pt(t),null;case 17:return on(t.type)&&vh(),Pt(t),null;case 19:if(De($e),s=t.memoizedState,s===null)return Pt(t),null;if(r=(t.flags&128)!==0,o=s.rendering,o===null)if(r)gl(s,!1);else{if(at!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=Sh(e),o!==null){for(t.flags|=128,gl(s,!1),r=o.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)s=n,e=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=e,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,e=o.dependencies,s.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Ae($e,$e.current&1|2),t.child}e=e.sibling}s.tail!==null&&Ze()>ya&&(t.flags|=128,r=!0,gl(s,!1),t.lanes=4194304)}else{if(!r)if(e=Sh(o),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),gl(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!Me)return Pt(t),null}else 2*Ze()-s.renderingStartTime>ya&&n!==1073741824&&(t.flags|=128,r=!0,gl(s,!1),t.lanes=4194304);s.isBackwards?(o.sibling=t.child,t.child=o):(n=s.last,n!==null?n.sibling=o:t.child=o,s.last=o)}return s.tail!==null?(t=s.tail,s.rendering=t,s.tail=t.sibling,s.renderingStartTime=Ze(),t.sibling=null,n=$e.current,Ae($e,r?n&1|2:n&1),t):(Pt(t),null);case 22:case 23:return Av(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?hn&1073741824&&(Pt(t),t.subtreeFlags&6&&(t.flags|=8192)):Pt(t),null;case 24:return null;case 25:return null}throw Error(U(156,t.tag))}function v4(e,t){switch(uv(t),t.tag){case 1:return on(t.type)&&vh(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return ma(),De(sn),De(jt),wv(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return vv(t),null;case 13:if(De($e),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(U(340));fa()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return De($e),null;case 4:return ma(),null;case 10:return pv(t.type._context),null;case 22:case 23:return Av(),null;case 24:return null;default:return null}}var cd=!1,Nt=!1,w4=typeof WeakSet=="function"?WeakSet:Set,q=null;function Bo(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Ke(e,t,r)}else n.current=null}function dy(e,t,n){try{n()}catch(r){Ke(e,t,r)}}var Yx=!1;function _4(e,t){if(Kg=ph,e=ak(),lv(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,c=0,d=0,h=e,f=null;t:for(;;){for(var g;h!==n||i!==0&&h.nodeType!==3||(a=o+i),h!==s||r!==0&&h.nodeType!==3||(l=o+r),h.nodeType===3&&(o+=h.nodeValue.length),(g=h.firstChild)!==null;)f=h,h=g;for(;;){if(h===e)break t;if(f===n&&++c===i&&(a=o),f===s&&++d===r&&(l=o),(g=h.nextSibling)!==null)break;h=f,f=h.parentNode}h=g}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(Yg={focusedElem:e,selectionRange:n},ph=!1,q=t;q!==null;)if(t=q,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,q=e;else for(;q!==null;){t=q;try{var y=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(y!==null){var S=y.memoizedProps,k=y.memoizedState,x=t.stateNode,C=x.getSnapshotBeforeUpdate(t.elementType===t.type?S:Hn(t.type,S),k);x.__reactInternalSnapshotBeforeUpdate=C}break;case 3:var E=t.stateNode.containerInfo;E.nodeType===1?E.textContent="":E.nodeType===9&&E.documentElement&&E.removeChild(E.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(U(163))}}catch(I){Ke(t,t.return,I)}if(e=t.sibling,e!==null){e.return=t.return,q=e;break}q=t.return}return y=Yx,Yx=!1,y}function Gl(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&e)===e){var s=i.destroy;i.destroy=void 0,s!==void 0&&dy(t,n,s)}i=i.next}while(i!==r)}}function Pf(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function hy(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function rI(e){var t=e.alternate;t!==null&&(e.alternate=null,rI(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[gr],delete t[bc],delete t[Qg],delete t[n4],delete t[r4])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function iI(e){return e.tag===5||e.tag===3||e.tag===4}function Xx(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||iI(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function fy(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=yh));else if(r!==4&&(e=e.child,e!==null))for(fy(e,t,n),e=e.sibling;e!==null;)fy(e,t,n),e=e.sibling}function py(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(py(e,t,n),e=e.sibling;e!==null;)py(e,t,n),e=e.sibling}var vt=null,qn=!1;function Ei(e,t,n){for(n=n.child;n!==null;)sI(e,t,n),n=n.sibling}function sI(e,t,n){if(wr&&typeof wr.onCommitFiberUnmount=="function")try{wr.onCommitFiberUnmount(xf,n)}catch{}switch(n.tag){case 5:Nt||Bo(n,t);case 6:var r=vt,i=qn;vt=null,Ei(e,t,n),vt=r,qn=i,vt!==null&&(qn?(e=vt,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):vt.removeChild(n.stateNode));break;case 18:vt!==null&&(qn?(e=vt,n=n.stateNode,e.nodeType===8?Cm(e.parentNode,n):e.nodeType===1&&Cm(e,n),vc(e)):Cm(vt,n.stateNode));break;case 4:r=vt,i=qn,vt=n.stateNode.containerInfo,qn=!0,Ei(e,t,n),vt=r,qn=i;break;case 0:case 11:case 14:case 15:if(!Nt&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&dy(n,t,o),i=i.next}while(i!==r)}Ei(e,t,n);break;case 1:if(!Nt&&(Bo(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){Ke(n,t,a)}Ei(e,t,n);break;case 21:Ei(e,t,n);break;case 22:n.mode&1?(Nt=(r=Nt)||n.memoizedState!==null,Ei(e,t,n),Nt=r):Ei(e,t,n);break;default:Ei(e,t,n)}}function Jx(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new w4),t.forEach(function(r){var i=P4.bind(null,e,r);n.has(r)||(n.add(r),r.then(i,i))})}}function zn(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=e,o=t,a=o;e:for(;a!==null;){switch(a.tag){case 5:vt=a.stateNode,qn=!1;break e;case 3:vt=a.stateNode.containerInfo,qn=!0;break e;case 4:vt=a.stateNode.containerInfo,qn=!0;break e}a=a.return}if(vt===null)throw Error(U(160));sI(s,o,i),vt=null,qn=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(c){Ke(i,t,c)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)oI(t,e),t=t.sibling}function oI(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(zn(t,e),ur(e),r&4){try{Gl(3,e,e.return),Pf(3,e)}catch(S){Ke(e,e.return,S)}try{Gl(5,e,e.return)}catch(S){Ke(e,e.return,S)}}break;case 1:zn(t,e),ur(e),r&512&&n!==null&&Bo(n,n.return);break;case 5:if(zn(t,e),ur(e),r&512&&n!==null&&Bo(n,n.return),e.flags&32){var i=e.stateNode;try{pc(i,"")}catch(S){Ke(e,e.return,S)}}if(r&4&&(i=e.stateNode,i!=null)){var s=e.memoizedProps,o=n!==null?n.memoizedProps:s,a=e.type,l=e.updateQueue;if(e.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&IT(i,s),Fg(a,o);var c=Fg(a,s);for(o=0;o<l.length;o+=2){var d=l[o],h=l[o+1];d==="style"?DT(i,h):d==="dangerouslySetInnerHTML"?RT(i,h):d==="children"?pc(i,h):Y0(i,d,h,c)}switch(a){case"input":Dg(i,s);break;case"textarea":PT(i,s);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var g=s.value;g!=null?Xo(i,!!s.multiple,g,!1):f!==!!s.multiple&&(s.defaultValue!=null?Xo(i,!!s.multiple,s.defaultValue,!0):Xo(i,!!s.multiple,s.multiple?[]:"",!1))}i[bc]=s}catch(S){Ke(e,e.return,S)}}break;case 6:if(zn(t,e),ur(e),r&4){if(e.stateNode===null)throw Error(U(162));i=e.stateNode,s=e.memoizedProps;try{i.nodeValue=s}catch(S){Ke(e,e.return,S)}}break;case 3:if(zn(t,e),ur(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{vc(t.containerInfo)}catch(S){Ke(e,e.return,S)}break;case 4:zn(t,e),ur(e);break;case 13:zn(t,e),ur(e),i=e.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(Iv=Ze())),r&4&&Jx(e);break;case 22:if(d=n!==null&&n.memoizedState!==null,e.mode&1?(Nt=(c=Nt)||d,zn(t,e),Nt=c):zn(t,e),ur(e),r&8192){if(c=e.memoizedState!==null,(e.stateNode.isHidden=c)&&!d&&e.mode&1)for(q=e,d=e.child;d!==null;){for(h=q=d;q!==null;){switch(f=q,g=f.child,f.tag){case 0:case 11:case 14:case 15:Gl(4,f,f.return);break;case 1:Bo(f,f.return);var y=f.stateNode;if(typeof y.componentWillUnmount=="function"){r=f,n=f.return;try{t=r,y.props=t.memoizedProps,y.state=t.memoizedState,y.componentWillUnmount()}catch(S){Ke(r,n,S)}}break;case 5:Bo(f,f.return);break;case 22:if(f.memoizedState!==null){Zx(h);continue}}g!==null?(g.return=f,q=g):Zx(h)}d=d.sibling}e:for(d=null,h=e;;){if(h.tag===5){if(d===null){d=h;try{i=h.stateNode,c?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=h.stateNode,l=h.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=NT("display",o))}catch(S){Ke(e,e.return,S)}}}else if(h.tag===6){if(d===null)try{h.stateNode.nodeValue=c?"":h.memoizedProps}catch(S){Ke(e,e.return,S)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===e)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;h.sibling===null;){if(h.return===null||h.return===e)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:zn(t,e),ur(e),r&4&&Jx(e);break;case 21:break;default:zn(t,e),ur(e)}}function ur(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(iI(n)){var r=n;break e}n=n.return}throw Error(U(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(pc(i,""),r.flags&=-33);var s=Xx(e);py(e,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,a=Xx(e);fy(e,a,o);break;default:throw Error(U(161))}}catch(l){Ke(e,e.return,l)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function x4(e,t,n){q=e,aI(e)}function aI(e,t,n){for(var r=(e.mode&1)!==0;q!==null;){var i=q,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||cd;if(!o){var a=i.alternate,l=a!==null&&a.memoizedState!==null||Nt;a=cd;var c=Nt;if(cd=o,(Nt=l)&&!c)for(q=i;q!==null;)o=q,l=o.child,o.tag===22&&o.memoizedState!==null?eE(i):l!==null?(l.return=o,q=l):eE(i);for(;s!==null;)q=s,aI(s),s=s.sibling;q=i,cd=a,Nt=c}Qx(e)}else i.subtreeFlags&8772&&s!==null?(s.return=i,q=s):Qx(e)}}function Qx(e){for(;q!==null;){var t=q;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Nt||Pf(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!Nt)if(n===null)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:Hn(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=t.updateQueue;s!==null&&Lx(t,s,r);break;case 3:var o=t.updateQueue;if(o!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}Lx(t,o,n)}break;case 5:var a=t.stateNode;if(n===null&&t.flags&4){n=a;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var c=t.alternate;if(c!==null){var d=c.memoizedState;if(d!==null){var h=d.dehydrated;h!==null&&vc(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(U(163))}Nt||t.flags&512&&hy(t)}catch(f){Ke(t,t.return,f)}}if(t===e){q=null;break}if(n=t.sibling,n!==null){n.return=t.return,q=n;break}q=t.return}}function Zx(e){for(;q!==null;){var t=q;if(t===e){q=null;break}var n=t.sibling;if(n!==null){n.return=t.return,q=n;break}q=t.return}}function eE(e){for(;q!==null;){var t=q;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{Pf(4,t)}catch(l){Ke(t,n,l)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var i=t.return;try{r.componentDidMount()}catch(l){Ke(t,i,l)}}var s=t.return;try{hy(t)}catch(l){Ke(t,s,l)}break;case 5:var o=t.return;try{hy(t)}catch(l){Ke(t,o,l)}}}catch(l){Ke(t,t.return,l)}if(t===e){q=null;break}var a=t.sibling;if(a!==null){a.return=t.return,q=a;break}q=t.return}}var E4=Math.ceil,Ih=fi.ReactCurrentDispatcher,Tv=fi.ReactCurrentOwner,Rn=fi.ReactCurrentBatchConfig,me=0,pt=null,rt=null,Et=0,hn=0,zo=as(0),at=0,Pc=null,Gs=0,Af=0,kv=0,Kl=null,Qt=null,Iv=0,ya=1/0,$r=null,Ph=!1,my=null,Wi=null,ud=!1,Mi=null,Ah=0,Yl=0,gy=null,Ud=-1,Bd=0;function Wt(){return me&6?Ze():Ud!==-1?Ud:Ud=Ze()}function Hi(e){return e.mode&1?me&2&&Et!==0?Et&-Et:s4.transition!==null?(Bd===0&&(Bd=HT()),Bd):(e=xe,e!==0||(e=window.event,e=e===void 0?16:QT(e.type)),e):1}function nr(e,t,n,r){if(50<Yl)throw Yl=0,gy=null,Error(U(185));iu(e,n,r),(!(me&2)||e!==pt)&&(e===pt&&(!(me&2)&&(Af|=n),at===4&&Ii(e,Et)),an(e,r),n===1&&me===0&&!(t.mode&1)&&(ya=Ze()+500,Tf&&ls()))}function an(e,t){var n=e.callbackNode;sM(e,t);var r=fh(e,e===pt?Et:0);if(r===0)n!==null&&cx(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&cx(n),t===1)e.tag===0?i4(tE.bind(null,e)):yk(tE.bind(null,e)),e4(function(){!(me&6)&&ls()}),n=null;else{switch(qT(r)){case 1:n=ev;break;case 4:n=zT;break;case 16:n=hh;break;case 536870912:n=WT;break;default:n=hh}n=mI(n,lI.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function lI(e,t){if(Ud=-1,Bd=0,me&6)throw Error(U(327));var n=e.callbackNode;if(ta()&&e.callbackNode!==n)return null;var r=fh(e,e===pt?Et:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=Rh(e,r);else{t=r;var i=me;me|=2;var s=uI();(pt!==e||Et!==t)&&($r=null,ya=Ze()+500,Fs(e,t));do try{S4();break}catch(a){cI(e,a)}while(1);fv(),Ih.current=s,me=i,rt!==null?t=0:(pt=null,Et=0,t=at)}if(t!==0){if(t===2&&(i=zg(e),i!==0&&(r=i,t=yy(e,i))),t===1)throw n=Pc,Fs(e,0),Ii(e,r),an(e,Ze()),n;if(t===6)Ii(e,r);else{if(i=e.current.alternate,!(r&30)&&!b4(i)&&(t=Rh(e,r),t===2&&(s=zg(e),s!==0&&(r=s,t=yy(e,s))),t===1))throw n=Pc,Fs(e,0),Ii(e,r),an(e,Ze()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(U(345));case 2:_s(e,Qt,$r);break;case 3:if(Ii(e,r),(r&130023424)===r&&(t=Iv+500-Ze(),10<t)){if(fh(e,0)!==0)break;if(i=e.suspendedLanes,(i&r)!==r){Wt(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=Jg(_s.bind(null,e,Qt,$r),t);break}_s(e,Qt,$r);break;case 4:if(Ii(e,r),(r&4194240)===r)break;for(t=e.eventTimes,i=-1;0<r;){var o=31-tr(r);s=1<<o,o=t[o],o>i&&(i=o),r&=~s}if(r=i,r=Ze()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*E4(r/1960))-r,10<r){e.timeoutHandle=Jg(_s.bind(null,e,Qt,$r),r);break}_s(e,Qt,$r);break;case 5:_s(e,Qt,$r);break;default:throw Error(U(329))}}}return an(e,Ze()),e.callbackNode===n?lI.bind(null,e):null}function yy(e,t){var n=Kl;return e.current.memoizedState.isDehydrated&&(Fs(e,t).flags|=256),e=Rh(e,t),e!==2&&(t=Qt,Qt=n,t!==null&&vy(t)),e}function vy(e){Qt===null?Qt=e:Qt.push.apply(Qt,e)}function b4(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!sr(s(),i))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Ii(e,t){for(t&=~kv,t&=~Af,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-tr(t),r=1<<n;e[n]=-1,t&=~r}}function tE(e){if(me&6)throw Error(U(327));ta();var t=fh(e,0);if(!(t&1))return an(e,Ze()),null;var n=Rh(e,t);if(e.tag!==0&&n===2){var r=zg(e);r!==0&&(t=r,n=yy(e,r))}if(n===1)throw n=Pc,Fs(e,0),Ii(e,t),an(e,Ze()),n;if(n===6)throw Error(U(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,_s(e,Qt,$r),an(e,Ze()),null}function Pv(e,t){var n=me;me|=1;try{return e(t)}finally{me=n,me===0&&(ya=Ze()+500,Tf&&ls())}}function Ks(e){Mi!==null&&Mi.tag===0&&!(me&6)&&ta();var t=me;me|=1;var n=Rn.transition,r=xe;try{if(Rn.transition=null,xe=1,e)return e()}finally{xe=r,Rn.transition=n,me=t,!(me&6)&&ls()}}function Av(){hn=zo.current,De(zo)}function Fs(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,ZM(n)),rt!==null)for(n=rt.return;n!==null;){var r=n;switch(uv(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&vh();break;case 3:ma(),De(sn),De(jt),wv();break;case 5:vv(r);break;case 4:ma();break;case 13:De($e);break;case 19:De($e);break;case 10:pv(r.type._context);break;case 22:case 23:Av()}n=n.return}if(pt=e,rt=e=qi(e.current,null),Et=hn=t,at=0,Pc=null,kv=Af=Gs=0,Qt=Kl=null,As!==null){for(t=0;t<As.length;t++)if(n=As[t],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}As=null}return e}function cI(e,t){do{var n=rt;try{if(fv(),Fd.current=kh,Th){for(var r=Ue.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Th=!1}if(qs=0,dt=it=Ue=null,ql=!1,Tc=0,Tv.current=null,n===null||n.return===null){at=1,Pc=t,rt=null;break}e:{var s=e,o=n.return,a=n,l=t;if(t=Et,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,d=a,h=d.tag;if(!(d.mode&1)&&(h===0||h===11||h===15)){var f=d.alternate;f?(d.updateQueue=f.updateQueue,d.memoizedState=f.memoizedState,d.lanes=f.lanes):(d.updateQueue=null,d.memoizedState=null)}var g=Bx(o);if(g!==null){g.flags&=-257,zx(g,o,a,s,t),g.mode&1&&Ux(s,c,t),t=g,l=c;var y=t.updateQueue;if(y===null){var S=new Set;S.add(l),t.updateQueue=S}else y.add(l);break e}else{if(!(t&1)){Ux(s,c,t),Rv();break e}l=Error(U(426))}}else if(Me&&a.mode&1){var k=Bx(o);if(k!==null){!(k.flags&65536)&&(k.flags|=256),zx(k,o,a,s,t),dv(ga(l,a));break e}}s=l=ga(l,a),at!==4&&(at=2),Kl===null?Kl=[s]:Kl.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,t&=-t,s.lanes|=t;var x=qk(s,l,t);Mx(s,x);break e;case 1:a=l;var C=s.type,E=s.stateNode;if(!(s.flags&128)&&(typeof C.getDerivedStateFromError=="function"||E!==null&&typeof E.componentDidCatch=="function"&&(Wi===null||!Wi.has(E)))){s.flags|=65536,t&=-t,s.lanes|=t;var I=Gk(s,a,t);Mx(s,I);break e}}s=s.return}while(s!==null)}hI(n)}catch(D){t=D,rt===n&&n!==null&&(rt=n=n.return);continue}break}while(1)}function uI(){var e=Ih.current;return Ih.current=kh,e===null?kh:e}function Rv(){(at===0||at===3||at===2)&&(at=4),pt===null||!(Gs&268435455)&&!(Af&268435455)||Ii(pt,Et)}function Rh(e,t){var n=me;me|=2;var r=uI();(pt!==e||Et!==t)&&($r=null,Fs(e,t));do try{C4();break}catch(i){cI(e,i)}while(1);if(fv(),me=n,Ih.current=r,rt!==null)throw Error(U(261));return pt=null,Et=0,at}function C4(){for(;rt!==null;)dI(rt)}function S4(){for(;rt!==null&&!XO();)dI(rt)}function dI(e){var t=pI(e.alternate,e,hn);e.memoizedProps=e.pendingProps,t===null?hI(e):rt=t,Tv.current=null}function hI(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=v4(n,t),n!==null){n.flags&=32767,rt=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{at=6,rt=null;return}}else if(n=y4(n,t,hn),n!==null){rt=n;return}if(t=t.sibling,t!==null){rt=t;return}rt=t=e}while(t!==null);at===0&&(at=5)}function _s(e,t,n){var r=xe,i=Rn.transition;try{Rn.transition=null,xe=1,T4(e,t,n,r)}finally{Rn.transition=i,xe=r}return null}function T4(e,t,n,r){do ta();while(Mi!==null);if(me&6)throw Error(U(327));n=e.finishedWork;var i=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(U(177));e.callbackNode=null,e.callbackPriority=0;var s=n.lanes|n.childLanes;if(oM(e,s),e===pt&&(rt=pt=null,Et=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||ud||(ud=!0,mI(hh,function(){return ta(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=Rn.transition,Rn.transition=null;var o=xe;xe=1;var a=me;me|=4,Tv.current=null,_4(e,n),oI(n,e),qM(Yg),ph=!!Kg,Yg=Kg=null,e.current=n,x4(n),JO(),me=a,xe=o,Rn.transition=s}else e.current=n;if(ud&&(ud=!1,Mi=e,Ah=i),s=e.pendingLanes,s===0&&(Wi=null),eM(n.stateNode),an(e,Ze()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Ph)throw Ph=!1,e=my,my=null,e;return Ah&1&&e.tag!==0&&ta(),s=e.pendingLanes,s&1?e===gy?Yl++:(Yl=0,gy=e):Yl=0,ls(),null}function ta(){if(Mi!==null){var e=qT(Ah),t=Rn.transition,n=xe;try{if(Rn.transition=null,xe=16>e?16:e,Mi===null)var r=!1;else{if(e=Mi,Mi=null,Ah=0,me&6)throw Error(U(331));var i=me;for(me|=4,q=e.current;q!==null;){var s=q,o=s.child;if(q.flags&16){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var c=a[l];for(q=c;q!==null;){var d=q;switch(d.tag){case 0:case 11:case 15:Gl(8,d,s)}var h=d.child;if(h!==null)h.return=d,q=h;else for(;q!==null;){d=q;var f=d.sibling,g=d.return;if(rI(d),d===c){q=null;break}if(f!==null){f.return=g,q=f;break}q=g}}}var y=s.alternate;if(y!==null){var S=y.child;if(S!==null){y.child=null;do{var k=S.sibling;S.sibling=null,S=k}while(S!==null)}}q=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,q=o;else e:for(;q!==null;){if(s=q,s.flags&2048)switch(s.tag){case 0:case 11:case 15:Gl(9,s,s.return)}var x=s.sibling;if(x!==null){x.return=s.return,q=x;break e}q=s.return}}var C=e.current;for(q=C;q!==null;){o=q;var E=o.child;if(o.subtreeFlags&2064&&E!==null)E.return=o,q=E;else e:for(o=C;q!==null;){if(a=q,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Pf(9,a)}}catch(D){Ke(a,a.return,D)}if(a===o){q=null;break e}var I=a.sibling;if(I!==null){I.return=a.return,q=I;break e}q=a.return}}if(me=i,ls(),wr&&typeof wr.onPostCommitFiberRoot=="function")try{wr.onPostCommitFiberRoot(xf,e)}catch{}r=!0}return r}finally{xe=n,Rn.transition=t}}return!1}function nE(e,t,n){t=ga(n,t),t=qk(e,t,1),e=zi(e,t,1),t=Wt(),e!==null&&(iu(e,1,t),an(e,t))}function Ke(e,t,n){if(e.tag===3)nE(e,e,n);else for(;t!==null;){if(t.tag===3){nE(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Wi===null||!Wi.has(r))){e=ga(n,e),e=Gk(t,e,1),t=zi(t,e,1),e=Wt(),t!==null&&(iu(t,1,e),an(t,e));break}}t=t.return}}function k4(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=Wt(),e.pingedLanes|=e.suspendedLanes&n,pt===e&&(Et&n)===n&&(at===4||at===3&&(Et&130023424)===Et&&500>Ze()-Iv?Fs(e,0):kv|=n),an(e,t)}function fI(e,t){t===0&&(e.mode&1?(t=ed,ed<<=1,!(ed&130023424)&&(ed=4194304)):t=1);var n=Wt();e=ri(e,t),e!==null&&(iu(e,t,n),an(e,n))}function I4(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),fI(e,n)}function P4(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(U(314))}r!==null&&r.delete(t),fI(e,n)}var pI;pI=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||sn.current)tn=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return tn=!1,g4(e,t,n);tn=!!(e.flags&131072)}else tn=!1,Me&&t.flags&1048576&&vk(t,xh,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Vd(e,t),e=t.pendingProps;var i=ha(t,jt.current);ea(t,n),i=xv(null,t,r,e,i,n);var s=Ev();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,on(r)?(s=!0,wh(t)):s=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,gv(t),i.updater=If,t.stateNode=i,i._reactInternals=t,iy(t,r,e,n),t=ay(null,t,r,!0,s,n)):(t.tag=0,Me&&s&&cv(t),Vt(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Vd(e,t),e=t.pendingProps,i=r._init,r=i(r._payload),t.type=r,i=t.tag=R4(r),e=Hn(r,e),i){case 0:t=oy(null,t,r,e,n);break e;case 1:t=qx(null,t,r,e,n);break e;case 11:t=Wx(null,t,r,e,n);break e;case 14:t=Hx(null,t,r,Hn(r.type,e),n);break e}throw Error(U(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Hn(r,i),oy(e,t,r,i,n);case 1:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Hn(r,i),qx(e,t,r,i,n);case 3:e:{if(Jk(t),e===null)throw Error(U(387));r=t.pendingProps,s=t.memoizedState,i=s.element,Ck(e,t),Ch(t,r,null,n);var o=t.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=s,t.memoizedState=s,t.flags&256){i=ga(Error(U(423)),t),t=Gx(e,t,r,n,i);break e}else if(r!==i){i=ga(Error(U(424)),t),t=Gx(e,t,r,n,i);break e}else for(pn=Bi(t.stateNode.containerInfo.firstChild),mn=t,Me=!0,Kn=null,n=Ek(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(fa(),r===i){t=ii(e,t,n);break e}Vt(e,t,r,n)}t=t.child}return t;case 5:return Sk(t),e===null&&ty(t),r=t.type,i=t.pendingProps,s=e!==null?e.memoizedProps:null,o=i.children,Xg(r,i)?o=null:s!==null&&Xg(r,s)&&(t.flags|=32),Xk(e,t),Vt(e,t,o,n),t.child;case 6:return e===null&&ty(t),null;case 13:return Qk(e,t,n);case 4:return yv(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=pa(t,null,r,n):Vt(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Hn(r,i),Wx(e,t,r,i,n);case 7:return Vt(e,t,t.pendingProps,n),t.child;case 8:return Vt(e,t,t.pendingProps.children,n),t.child;case 12:return Vt(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,s=t.memoizedProps,o=i.value,Ae(Eh,r._currentValue),r._currentValue=o,s!==null)if(sr(s.value,o)){if(s.children===i.children&&!sn.current){t=ii(e,t,n);break e}}else for(s=t.child,s!==null&&(s.return=t);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(s.tag===1){l=Kr(-1,n&-n),l.tag=2;var c=s.updateQueue;if(c!==null){c=c.shared;var d=c.pending;d===null?l.next=l:(l.next=d.next,d.next=l),c.pending=l}}s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),ny(s.return,n,t),a.lanes|=n;break}l=l.next}}else if(s.tag===10)o=s.type===t.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(U(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),ny(o,n,t),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===t){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}Vt(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,ea(t,n),i=On(i),r=r(i),t.flags|=1,Vt(e,t,r,n),t.child;case 14:return r=t.type,i=Hn(r,t.pendingProps),i=Hn(r.type,i),Hx(e,t,r,i,n);case 15:return Kk(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Hn(r,i),Vd(e,t),t.tag=1,on(r)?(e=!0,wh(t)):e=!1,ea(t,n),Hk(t,r,i),iy(t,r,i,n),ay(null,t,r,!0,e,n);case 19:return Zk(e,t,n);case 22:return Yk(e,t,n)}throw Error(U(156,t.tag))};function mI(e,t){return BT(e,t)}function A4(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Pn(e,t,n,r){return new A4(e,t,n,r)}function Nv(e){return e=e.prototype,!(!e||!e.isReactComponent)}function R4(e){if(typeof e=="function")return Nv(e)?1:0;if(e!=null){if(e=e.$$typeof,e===J0)return 11;if(e===Q0)return 14}return 2}function qi(e,t){var n=e.alternate;return n===null?(n=Pn(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function zd(e,t,n,r,i,s){var o=2;if(r=e,typeof e=="function")Nv(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case Do:return $s(n.children,i,s,t);case X0:o=8,i|=8;break;case Ig:return e=Pn(12,n,t,i|2),e.elementType=Ig,e.lanes=s,e;case Pg:return e=Pn(13,n,t,i),e.elementType=Pg,e.lanes=s,e;case Ag:return e=Pn(19,n,t,i),e.elementType=Ag,e.lanes=s,e;case ST:return Rf(n,i,s,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case bT:o=10;break e;case CT:o=9;break e;case J0:o=11;break e;case Q0:o=14;break e;case Si:o=16,r=null;break e}throw Error(U(130,e==null?e:typeof e,""))}return t=Pn(o,n,t,i),t.elementType=e,t.type=r,t.lanes=s,t}function $s(e,t,n,r){return e=Pn(7,e,r,t),e.lanes=n,e}function Rf(e,t,n,r){return e=Pn(22,e,r,t),e.elementType=ST,e.lanes=n,e.stateNode={isHidden:!1},e}function Nm(e,t,n){return e=Pn(6,e,null,t),e.lanes=n,e}function Dm(e,t,n){return t=Pn(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function N4(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=fm(0),this.expirationTimes=fm(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=fm(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Dv(e,t,n,r,i,s,o,a,l){return e=new N4(e,t,n,a,l),t===1?(t=1,s===!0&&(t|=8)):t=0,s=Pn(3,null,null,t),e.current=s,s.stateNode=e,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},gv(s),e}function D4(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:No,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function gI(e){if(!e)return Qi;e=e._reactInternals;e:{if(ao(e)!==e||e.tag!==1)throw Error(U(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(on(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(U(171))}if(e.tag===1){var n=e.type;if(on(n))return gk(e,n,t)}return t}function yI(e,t,n,r,i,s,o,a,l){return e=Dv(n,r,!0,e,i,s,o,a,l),e.context=gI(null),n=e.current,r=Wt(),i=Hi(n),s=Kr(r,i),s.callback=t??null,zi(n,s,i),e.current.lanes=i,iu(e,i,r),an(e,r),e}function Nf(e,t,n,r){var i=t.current,s=Wt(),o=Hi(i);return n=gI(n),t.context===null?t.context=n:t.pendingContext=n,t=Kr(s,o),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=zi(i,t,o),e!==null&&(nr(e,i,o,s),jd(e,i,o)),o}function Nh(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function rE(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Ov(e,t){rE(e,t),(e=e.alternate)&&rE(e,t)}function O4(){return null}var vI=typeof reportError=="function"?reportError:function(e){console.error(e)};function Mv(e){this._internalRoot=e}Df.prototype.render=Mv.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(U(409));Nf(e,t,null,null)};Df.prototype.unmount=Mv.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Ks(function(){Nf(null,e,null,null)}),t[ni]=null}};function Df(e){this._internalRoot=e}Df.prototype.unstable_scheduleHydration=function(e){if(e){var t=YT();e={blockedOn:null,target:e,priority:t};for(var n=0;n<ki.length&&t!==0&&t<ki[n].priority;n++);ki.splice(n,0,e),n===0&&JT(e)}};function Lv(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Of(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function iE(){}function M4(e,t,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var c=Nh(o);s.call(c)}}var o=yI(t,r,e,0,null,!1,!1,"",iE);return e._reactRootContainer=o,e[ni]=o.current,xc(e.nodeType===8?e.parentNode:e),Ks(),o}for(;i=e.lastChild;)e.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var c=Nh(l);a.call(c)}}var l=Dv(e,0,!1,null,null,!1,!1,"",iE);return e._reactRootContainer=l,e[ni]=l.current,xc(e.nodeType===8?e.parentNode:e),Ks(function(){Nf(t,l,n,r)}),l}function Mf(e,t,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var l=Nh(o);a.call(l)}}Nf(t,o,e,i)}else o=M4(n,t,e,i,r);return Nh(o)}GT=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=Al(t.pendingLanes);n!==0&&(tv(t,n|1),an(t,Ze()),!(me&6)&&(ya=Ze()+500,ls()))}break;case 13:Ks(function(){var r=ri(e,1);if(r!==null){var i=Wt();nr(r,e,1,i)}}),Ov(e,1)}};nv=function(e){if(e.tag===13){var t=ri(e,134217728);if(t!==null){var n=Wt();nr(t,e,134217728,n)}Ov(e,134217728)}};KT=function(e){if(e.tag===13){var t=Hi(e),n=ri(e,t);if(n!==null){var r=Wt();nr(n,e,t,r)}Ov(e,t)}};YT=function(){return xe};XT=function(e,t){var n=xe;try{return xe=e,t()}finally{xe=n}};Vg=function(e,t,n){switch(t){case"input":if(Dg(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=Sf(r);if(!i)throw Error(U(90));kT(r),Dg(r,i)}}}break;case"textarea":PT(e,n);break;case"select":t=n.value,t!=null&&Xo(e,!!n.multiple,t,!1)}};LT=Pv;jT=Ks;var L4={usingClientEntryPoint:!1,Events:[ou,jo,Sf,OT,MT,Pv]},yl={findFiberByHostInstance:Ps,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},j4={bundleType:yl.bundleType,version:yl.version,rendererPackageName:yl.rendererPackageName,rendererConfig:yl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:fi.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=VT(e),e===null?null:e.stateNode},findFiberByHostInstance:yl.findFiberByHostInstance||O4,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var dd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!dd.isDisabled&&dd.supportsFiber)try{xf=dd.inject(j4),wr=dd}catch{}}_n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=L4;_n.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Lv(t))throw Error(U(200));return D4(e,t,null,n)};_n.createRoot=function(e,t){if(!Lv(e))throw Error(U(299));var n=!1,r="",i=vI;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=Dv(e,1,!1,null,null,n,!1,r,i),e[ni]=t.current,xc(e.nodeType===8?e.parentNode:e),new Mv(t)};_n.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(U(188)):(e=Object.keys(e).join(","),Error(U(268,e)));return e=VT(t),e=e===null?null:e.stateNode,e};_n.flushSync=function(e){return Ks(e)};_n.hydrate=function(e,t,n){if(!Of(t))throw Error(U(200));return Mf(null,e,t,!0,n)};_n.hydrateRoot=function(e,t,n){if(!Lv(e))throw Error(U(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=vI;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),t=yI(t,null,e,1,n??null,i,!1,s,o),e[ni]=t.current,xc(e),r)for(e=0;e<r.length;e++)n=r[e],i=n._getVersion,i=i(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new Df(t)};_n.render=function(e,t,n){if(!Of(t))throw Error(U(200));return Mf(null,e,t,!1,n)};_n.unmountComponentAtNode=function(e){if(!Of(e))throw Error(U(40));return e._reactRootContainer?(Ks(function(){Mf(null,null,e,!1,function(){e._reactRootContainer=null,e[ni]=null})}),!0):!1};_n.unstable_batchedUpdates=Pv;_n.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Of(n))throw Error(U(200));if(e==null||e._reactInternals===void 0)throw Error(U(38));return Mf(e,t,n,!1,r)};_n.version="18.3.1-next-f1338f8080-20240426";function wI(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(wI)}catch(e){console.error(e)}}wI(),wT.exports=_n;var Lf=wT.exports;const hd=B0(Lf);var sE=Lf;Tg.createRoot=sE.createRoot,Tg.hydrateRoot=sE.hydrateRoot;const F4="modulepreload",$4=function(e){return"/EmproChampions-2025/"+e},oE={},V4=function(t,n,r){if(!n||n.length===0)return t();const i=document.getElementsByTagName("link");return Promise.all(n.map(s=>{if(s=$4(s),s in oE)return;oE[s]=!0;const o=s.endsWith(".css"),a=o?'[rel="stylesheet"]':"";if(!!r)for(let d=i.length-1;d>=0;d--){const h=i[d];if(h.href===s&&(!o||h.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${s}"]${a}`))return;const c=document.createElement("link");if(c.rel=o?"stylesheet":F4,o||(c.as="script",c.crossOrigin=""),c.href=s,document.head.appendChild(c),o)return new Promise((d,h)=>{c.addEventListener("load",d),c.addEventListener("error",()=>h(new Error(`Unable to preload CSS for ${s}`)))})})).then(()=>t()).catch(s=>{const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=s,window.dispatchEvent(o),!o.defaultPrevented)throw s})};var jv={};Object.defineProperty(jv,"__esModule",{value:!0});jv.parse=G4;jv.serialize=K4;const U4=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,B4=/^[\u0021-\u003A\u003C-\u007E]*$/,z4=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,W4=/^[\u0020-\u003A\u003D-\u007E]*$/,H4=Object.prototype.toString,q4=(()=>{const e=function(){};return e.prototype=Object.create(null),e})();function G4(e,t){const n=new q4,r=e.length;if(r<2)return n;const i=(t==null?void 0:t.decode)||Y4;let s=0;do{const o=e.indexOf("=",s);if(o===-1)break;const a=e.indexOf(";",s),l=a===-1?r:a;if(o>l){s=e.lastIndexOf(";",o-1)+1;continue}const c=aE(e,s,o),d=lE(e,o,c),h=e.slice(c,d);if(n[h]===void 0){let f=aE(e,o+1,l),g=lE(e,l,f);const y=i(e.slice(f,g));n[h]=y}s=l+1}while(s<r);return n}function aE(e,t,n){do{const r=e.charCodeAt(t);if(r!==32&&r!==9)return t}while(++t<n);return n}function lE(e,t,n){for(;t>n;){const r=e.charCodeAt(--t);if(r!==32&&r!==9)return t+1}return n}function K4(e,t,n){const r=(n==null?void 0:n.encode)||encodeURIComponent;if(!U4.test(e))throw new TypeError(`argument name is invalid: ${e}`);const i=r(t);if(!B4.test(i))throw new TypeError(`argument val is invalid: ${t}`);let s=e+"="+i;if(!n)return s;if(n.maxAge!==void 0){if(!Number.isInteger(n.maxAge))throw new TypeError(`option maxAge is invalid: ${n.maxAge}`);s+="; Max-Age="+n.maxAge}if(n.domain){if(!z4.test(n.domain))throw new TypeError(`option domain is invalid: ${n.domain}`);s+="; Domain="+n.domain}if(n.path){if(!W4.test(n.path))throw new TypeError(`option path is invalid: ${n.path}`);s+="; Path="+n.path}if(n.expires){if(!X4(n.expires)||!Number.isFinite(n.expires.valueOf()))throw new TypeError(`option expires is invalid: ${n.expires}`);s+="; Expires="+n.expires.toUTCString()}if(n.httpOnly&&(s+="; HttpOnly"),n.secure&&(s+="; Secure"),n.partitioned&&(s+="; Partitioned"),n.priority)switch(typeof n.priority=="string"?n.priority.toLowerCase():void 0){case"low":s+="; Priority=Low";break;case"medium":s+="; Priority=Medium";break;case"high":s+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${n.priority}`)}if(n.sameSite)switch(typeof n.sameSite=="string"?n.sameSite.toLowerCase():n.sameSite){case!0:case"strict":s+="; SameSite=Strict";break;case"lax":s+="; SameSite=Lax";break;case"none":s+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${n.sameSite}`)}return s}function Y4(e){if(e.indexOf("%")===-1)return e;try{return decodeURIComponent(e)}catch{return e}}function X4(e){return H4.call(e)==="[object Date]"}var cE="popstate";function J4(e={}){function t(r,i){let{pathname:s,search:o,hash:a}=r.location;return wy("",{pathname:s,search:o,hash:a},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:Ac(i)}return Z4(t,n,null,e)}function Le(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function or(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function Q4(){return Math.random().toString(36).substring(2,10)}function uE(e,t){return{usr:e.state,key:e.key,idx:t}}function wy(e,t,n=null,r){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof t=="string"?ja(t):t,state:n,key:t&&t.key||r||Q4()}}function Ac({pathname:e="/",search:t="",hash:n=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function ja(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substring(n),e=e.substring(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substring(r),e=e.substring(0,r)),e&&(t.pathname=e)}return t}function Z4(e,t,n,r={}){let{window:i=document.defaultView,v5Compat:s=!1}=r,o=i.history,a="POP",l=null,c=d();c==null&&(c=0,o.replaceState({...o.state,idx:c},""));function d(){return(o.state||{idx:null}).idx}function h(){a="POP";let k=d(),x=k==null?null:k-c;c=k,l&&l({action:a,location:S.location,delta:x})}function f(k,x){a="PUSH";let C=wy(S.location,k,x);n&&n(C,k),c=d()+1;let E=uE(C,c),I=S.createHref(C);try{o.pushState(E,"",I)}catch(D){if(D instanceof DOMException&&D.name==="DataCloneError")throw D;i.location.assign(I)}s&&l&&l({action:a,location:S.location,delta:1})}function g(k,x){a="REPLACE";let C=wy(S.location,k,x);n&&n(C,k),c=d();let E=uE(C,c),I=S.createHref(C);o.replaceState(E,"",I),s&&l&&l({action:a,location:S.location,delta:0})}function y(k){return eL(k)}let S={get action(){return a},get location(){return e(i,o)},listen(k){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(cE,h),l=k,()=>{i.removeEventListener(cE,h),l=null}},createHref(k){return t(i,k)},createURL:y,encodeLocation(k){let x=y(k);return{pathname:x.pathname,search:x.search,hash:x.hash}},push:f,replace:g,go(k){return o.go(k)}};return S}function eL(e,t=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),Le(n,"No window.location.(origin|href) available to create URL");let r=typeof e=="string"?e:Ac(e);return r=r.replace(/ $/,"%20"),!t&&r.startsWith("//")&&(r=n+r),new URL(r,n)}function _I(e,t,n="/"){return tL(e,t,n,!1)}function tL(e,t,n,r){let i=typeof t=="string"?ja(t):t,s=si(i.pathname||"/",n);if(s==null)return null;let o=xI(e);nL(o);let a=null;for(let l=0;a==null&&l<o.length;++l){let c=fL(s);a=dL(o[l],c,r)}return a}function xI(e,t=[],n=[],r=""){let i=(s,o,a)=>{let l={relativePath:a===void 0?s.path||"":a,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};l.relativePath.startsWith("/")&&(Le(l.relativePath.startsWith(r),`Absolute route path "${l.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),l.relativePath=l.relativePath.slice(r.length));let c=Yr([r,l.relativePath]),d=n.concat(l);s.children&&s.children.length>0&&(Le(s.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${c}".`),xI(s.children,t,d,c)),!(s.path==null&&!s.index)&&t.push({path:c,score:cL(c,s.index),routesMeta:d})};return e.forEach((s,o)=>{var a;if(s.path===""||!((a=s.path)!=null&&a.includes("?")))i(s,o);else for(let l of EI(s.path))i(s,o,l)}),t}function EI(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let o=EI(r.join("/")),a=[];return a.push(...o.map(l=>l===""?s:[s,l].join("/"))),i&&a.push(...o),a.map(l=>e.startsWith("/")&&l===""?"/":l)}function nL(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:uL(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var rL=/^:[\w-]+$/,iL=3,sL=2,oL=1,aL=10,lL=-2,dE=e=>e==="*";function cL(e,t){let n=e.split("/"),r=n.length;return n.some(dE)&&(r+=lL),t&&(r+=sL),n.filter(i=>!dE(i)).reduce((i,s)=>i+(rL.test(s)?iL:s===""?oL:aL),r)}function uL(e,t){return e.length===t.length&&e.slice(0,-1).every((r,i)=>r===t[i])?e[e.length-1]-t[t.length-1]:0}function dL(e,t,n=!1){let{routesMeta:r}=e,i={},s="/",o=[];for(let a=0;a<r.length;++a){let l=r[a],c=a===r.length-1,d=s==="/"?t:t.slice(s.length)||"/",h=Dh({path:l.relativePath,caseSensitive:l.caseSensitive,end:c},d),f=l.route;if(!h&&c&&n&&!r[r.length-1].route.index&&(h=Dh({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},d)),!h)return null;Object.assign(i,h.params),o.push({params:i,pathname:Yr([s,h.pathname]),pathnameBase:yL(Yr([s,h.pathnameBase])),route:f}),h.pathnameBase!=="/"&&(s=Yr([s,h.pathnameBase]))}return o}function Dh(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=hL(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((c,{paramName:d,isOptional:h},f)=>{if(d==="*"){let y=a[f]||"";o=s.slice(0,s.length-y.length).replace(/(.)\/+$/,"$1")}const g=a[f];return h&&!g?c[d]=void 0:c[d]=(g||"").replace(/%2F/g,"/"),c},{}),pathname:s,pathnameBase:o,pattern:e}}function hL(e,t=!1,n=!0){or(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,l)=>(r.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(r.push({paramName:"*"}),i+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":e!==""&&e!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),r]}function fL(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return or(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function si(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}function pL(e,t="/"){let{pathname:n,search:r="",hash:i=""}=typeof e=="string"?ja(e):e;return{pathname:n?n.startsWith("/")?n:mL(n,t):t,search:vL(r),hash:wL(i)}}function mL(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function Om(e,t,n,r){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function gL(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function Fv(e){let t=gL(e);return t.map((n,r)=>r===t.length-1?n.pathname:n.pathnameBase)}function $v(e,t,n,r=!1){let i;typeof e=="string"?i=ja(e):(i={...e},Le(!i.pathname||!i.pathname.includes("?"),Om("?","pathname","search",i)),Le(!i.pathname||!i.pathname.includes("#"),Om("#","pathname","hash",i)),Le(!i.search||!i.search.includes("#"),Om("#","search","hash",i)));let s=e===""||i.pathname==="",o=s?"/":i.pathname,a;if(o==null)a=n;else{let h=t.length-1;if(!r&&o.startsWith("..")){let f=o.split("/");for(;f[0]==="..";)f.shift(),h-=1;i.pathname=f.join("/")}a=h>=0?t[h]:"/"}let l=pL(i,a),c=o&&o!=="/"&&o.endsWith("/"),d=(s||o===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(c||d)&&(l.pathname+="/"),l}var Yr=e=>e.join("/").replace(/\/\/+/g,"/"),yL=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),vL=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,wL=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function _L(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}var bI=["POST","PUT","PATCH","DELETE"];new Set(bI);var xL=["GET",...bI];new Set(xL);var Fa=w.createContext(null);Fa.displayName="DataRouter";var jf=w.createContext(null);jf.displayName="DataRouterState";var CI=w.createContext({isTransitioning:!1});CI.displayName="ViewTransition";var EL=w.createContext(new Map);EL.displayName="Fetchers";var bL=w.createContext(null);bL.displayName="Await";var ar=w.createContext(null);ar.displayName="Navigation";var lu=w.createContext(null);lu.displayName="Location";var lr=w.createContext({outlet:null,matches:[],isDataRoute:!1});lr.displayName="Route";var Vv=w.createContext(null);Vv.displayName="RouteError";function CL(e,{relative:t}={}){Le($a(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=w.useContext(ar),{hash:i,pathname:s,search:o}=cu(e,{relative:t}),a=s;return n!=="/"&&(a=s==="/"?n:Yr([n,s])),r.createHref({pathname:a,search:o,hash:i})}function $a(){return w.useContext(lu)!=null}function Pr(){return Le($a(),"useLocation() may be used only in the context of a <Router> component."),w.useContext(lu).location}var SI="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function TI(e){w.useContext(ar).static||w.useLayoutEffect(e)}function Ar(){let{isDataRoute:e}=w.useContext(lr);return e?jL():SL()}function SL(){Le($a(),"useNavigate() may be used only in the context of a <Router> component.");let e=w.useContext(Fa),{basename:t,navigator:n}=w.useContext(ar),{matches:r}=w.useContext(lr),{pathname:i}=Pr(),s=JSON.stringify(Fv(r)),o=w.useRef(!1);return TI(()=>{o.current=!0}),w.useCallback((l,c={})=>{if(or(o.current,SI),!o.current)return;if(typeof l=="number"){n.go(l);return}let d=$v(l,JSON.parse(s),i,c.relative==="path");e==null&&t!=="/"&&(d.pathname=d.pathname==="/"?t:Yr([t,d.pathname])),(c.replace?n.replace:n.push)(d,c.state,c)},[t,n,s,i,e])}w.createContext(null);function kI(){let{matches:e}=w.useContext(lr),t=e[e.length-1];return t?t.params:{}}function cu(e,{relative:t}={}){let{matches:n}=w.useContext(lr),{pathname:r}=Pr(),i=JSON.stringify(Fv(n));return w.useMemo(()=>$v(e,JSON.parse(i),r,t==="path"),[e,i,r,t])}function TL(e,t){return II(e,t)}function II(e,t,n,r){var C;Le($a(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:i,static:s}=w.useContext(ar),{matches:o}=w.useContext(lr),a=o[o.length-1],l=a?a.params:{},c=a?a.pathname:"/",d=a?a.pathnameBase:"/",h=a&&a.route;{let E=h&&h.path||"";PI(c,!h||E.endsWith("*")||E.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${c}" (under <Route path="${E}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${E}"> to <Route path="${E==="/"?"*":`${E}/*`}">.`)}let f=Pr(),g;if(t){let E=typeof t=="string"?ja(t):t;Le(d==="/"||((C=E.pathname)==null?void 0:C.startsWith(d)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${d}" but pathname "${E.pathname}" was given in the \`location\` prop.`),g=E}else g=f;let y=g.pathname||"/",S=y;if(d!=="/"){let E=d.replace(/^\//,"").split("/");S="/"+y.replace(/^\//,"").split("/").slice(E.length).join("/")}let k=!s&&n&&n.matches&&n.matches.length>0?n.matches:_I(e,{pathname:S});or(h||k!=null,`No routes matched location "${g.pathname}${g.search}${g.hash}" `),or(k==null||k[k.length-1].route.element!==void 0||k[k.length-1].route.Component!==void 0||k[k.length-1].route.lazy!==void 0,`Matched leaf route at location "${g.pathname}${g.search}${g.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let x=RL(k&&k.map(E=>Object.assign({},E,{params:Object.assign({},l,E.params),pathname:Yr([d,i.encodeLocation?i.encodeLocation(E.pathname).pathname:E.pathname]),pathnameBase:E.pathnameBase==="/"?d:Yr([d,i.encodeLocation?i.encodeLocation(E.pathnameBase).pathname:E.pathnameBase])})),o,n,r);return t&&x?w.createElement(lu.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...g},navigationType:"POP"}},x):x}function kL(){let e=LL(),t=_L(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,r="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:r},s={padding:"2px 4px",backgroundColor:r},o=null;return console.error("Error handled by React Router default ErrorBoundary:",e),o=w.createElement(w.Fragment,null,w.createElement("p",null,"💿 Hey developer 👋"),w.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",w.createElement("code",{style:s},"ErrorBoundary")," or"," ",w.createElement("code",{style:s},"errorElement")," prop on your route.")),w.createElement(w.Fragment,null,w.createElement("h2",null,"Unexpected Application Error!"),w.createElement("h3",{style:{fontStyle:"italic"}},t),n?w.createElement("pre",{style:i},n):null,o)}var IL=w.createElement(kL,null),PL=class extends w.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return this.state.error!==void 0?w.createElement(lr.Provider,{value:this.props.routeContext},w.createElement(Vv.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function AL({routeContext:e,match:t,children:n}){let r=w.useContext(Fa);return r&&r.static&&r.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=t.route.id),w.createElement(lr.Provider,{value:e},n)}function RL(e,t=[],n=null,r=null){if(e==null){if(!n)return null;if(n.errors)e=n.matches;else if(t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let i=e,s=n==null?void 0:n.errors;if(s!=null){let l=i.findIndex(c=>c.route.id&&(s==null?void 0:s[c.route.id])!==void 0);Le(l>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(s).join(",")}`),i=i.slice(0,Math.min(i.length,l+1))}let o=!1,a=-1;if(n)for(let l=0;l<i.length;l++){let c=i[l];if((c.route.HydrateFallback||c.route.hydrateFallbackElement)&&(a=l),c.route.id){let{loaderData:d,errors:h}=n,f=c.route.loader&&!d.hasOwnProperty(c.route.id)&&(!h||h[c.route.id]===void 0);if(c.route.lazy||f){o=!0,a>=0?i=i.slice(0,a+1):i=[i[0]];break}}}return i.reduceRight((l,c,d)=>{let h,f=!1,g=null,y=null;n&&(h=s&&c.route.id?s[c.route.id]:void 0,g=c.route.errorElement||IL,o&&(a<0&&d===0?(PI("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),f=!0,y=null):a===d&&(f=!0,y=c.route.hydrateFallbackElement||null)));let S=t.concat(i.slice(0,d+1)),k=()=>{let x;return h?x=g:f?x=y:c.route.Component?x=w.createElement(c.route.Component,null):c.route.element?x=c.route.element:x=l,w.createElement(AL,{match:c,routeContext:{outlet:l,matches:S,isDataRoute:n!=null},children:x})};return n&&(c.route.ErrorBoundary||c.route.errorElement||d===0)?w.createElement(PL,{location:n.location,revalidation:n.revalidation,component:g,error:h,children:k(),routeContext:{outlet:null,matches:S,isDataRoute:!0}}):k()},null)}function Uv(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function NL(e){let t=w.useContext(Fa);return Le(t,Uv(e)),t}function DL(e){let t=w.useContext(jf);return Le(t,Uv(e)),t}function OL(e){let t=w.useContext(lr);return Le(t,Uv(e)),t}function Bv(e){let t=OL(e),n=t.matches[t.matches.length-1];return Le(n.route.id,`${e} can only be used on routes that contain a unique "id"`),n.route.id}function ML(){return Bv("useRouteId")}function LL(){var r;let e=w.useContext(Vv),t=DL("useRouteError"),n=Bv("useRouteError");return e!==void 0?e:(r=t.errors)==null?void 0:r[n]}function jL(){let{router:e}=NL("useNavigate"),t=Bv("useNavigate"),n=w.useRef(!1);return TI(()=>{n.current=!0}),w.useCallback(async(i,s={})=>{or(n.current,SI),n.current&&(typeof i=="number"?e.navigate(i):await e.navigate(i,{fromRouteId:t,...s}))},[e,t])}var hE={};function PI(e,t,n){!t&&!hE[e]&&(hE[e]=!0,or(!1,n))}w.memo(FL);function FL({routes:e,future:t,state:n}){return II(e,void 0,n,t)}function _y({to:e,replace:t,state:n,relative:r}){Le($a(),"<Navigate> may be used only in the context of a <Router> component.");let{static:i}=w.useContext(ar);or(!i,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:s}=w.useContext(lr),{pathname:o}=Pr(),a=Ar(),l=$v(e,Fv(s),o,r==="path"),c=JSON.stringify(l);return w.useEffect(()=>{a(JSON.parse(c),{replace:t,state:n,relative:r})},[a,c,r,t,n]),null}function Jt(e){Le(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function $L({basename:e="/",children:t=null,location:n,navigationType:r="POP",navigator:i,static:s=!1}){Le(!$a(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let o=e.replace(/^\/*/,"/"),a=w.useMemo(()=>({basename:o,navigator:i,static:s,future:{}}),[o,i,s]);typeof n=="string"&&(n=ja(n));let{pathname:l="/",search:c="",hash:d="",state:h=null,key:f="default"}=n,g=w.useMemo(()=>{let y=si(l,o);return y==null?null:{location:{pathname:y,search:c,hash:d,state:h,key:f},navigationType:r}},[o,l,c,d,h,f,r]);return or(g!=null,`<Router basename="${o}"> is not able to match the URL "${l}${c}${d}" because it does not start with the basename, so the <Router> won't render anything.`),g==null?null:w.createElement(ar.Provider,{value:a},w.createElement(lu.Provider,{children:t,value:g}))}function VL({children:e,location:t}){return TL(xy(e),t)}function xy(e,t=[]){let n=[];return w.Children.forEach(e,(r,i)=>{if(!w.isValidElement(r))return;let s=[...t,i];if(r.type===w.Fragment){n.push.apply(n,xy(r.props.children,s));return}Le(r.type===Jt,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Le(!r.props.index||!r.props.children,"An index route cannot have child routes.");let o={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=xy(r.props.children,s)),n.push(o)}),n}var Wd="get",Hd="application/x-www-form-urlencoded";function Ff(e){return e!=null&&typeof e.tagName=="string"}function UL(e){return Ff(e)&&e.tagName.toLowerCase()==="button"}function BL(e){return Ff(e)&&e.tagName.toLowerCase()==="form"}function zL(e){return Ff(e)&&e.tagName.toLowerCase()==="input"}function WL(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function HL(e,t){return e.button===0&&(!t||t==="_self")&&!WL(e)}var fd=null;function qL(){if(fd===null)try{new FormData(document.createElement("form"),0),fd=!1}catch{fd=!0}return fd}var GL=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Mm(e){return e!=null&&!GL.has(e)?(or(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Hd}"`),null):e}function KL(e,t){let n,r,i,s,o;if(BL(e)){let a=e.getAttribute("action");r=a?si(a,t):null,n=e.getAttribute("method")||Wd,i=Mm(e.getAttribute("enctype"))||Hd,s=new FormData(e)}else if(UL(e)||zL(e)&&(e.type==="submit"||e.type==="image")){let a=e.form;if(a==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let l=e.getAttribute("formaction")||a.getAttribute("action");if(r=l?si(l,t):null,n=e.getAttribute("formmethod")||a.getAttribute("method")||Wd,i=Mm(e.getAttribute("formenctype"))||Mm(a.getAttribute("enctype"))||Hd,s=new FormData(a,e),!qL()){let{name:c,type:d,value:h}=e;if(d==="image"){let f=c?`${c}.`:"";s.append(`${f}x`,"0"),s.append(`${f}y`,"0")}else c&&s.append(c,h)}}else{if(Ff(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Wd,r=null,i=Hd,o=e}return s&&i==="text/plain"&&(o=s,s=void 0),{action:r,method:n.toLowerCase(),encType:i,formData:s,body:o}}function zv(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}async function YL(e,t){if(e.id in t)return t[e.id];try{let n=await V4(()=>import(e.module),[]);return t[e.id]=n,n}catch(n){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function XL(e){return e!=null&&typeof e.page=="string"}function JL(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function QL(e,t,n){let r=await Promise.all(e.map(async i=>{let s=t.routes[i.route.id];if(s){let o=await YL(s,n);return o.links?o.links():[]}return[]}));return nj(r.flat(1).filter(JL).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function fE(e,t,n,r,i,s){let o=(l,c)=>n[c]?l.route.id!==n[c].route.id:!0,a=(l,c)=>{var d;return n[c].pathname!==l.pathname||((d=n[c].route.path)==null?void 0:d.endsWith("*"))&&n[c].params["*"]!==l.params["*"]};return s==="assets"?t.filter((l,c)=>o(l,c)||a(l,c)):s==="data"?t.filter((l,c)=>{var h;let d=r.routes[l.route.id];if(!d||!d.hasLoader)return!1;if(o(l,c)||a(l,c))return!0;if(l.route.shouldRevalidate){let f=l.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:((h=n[0])==null?void 0:h.params)||{},nextUrl:new URL(e,window.origin),nextParams:l.params,defaultShouldRevalidate:!0});if(typeof f=="boolean")return f}return!0}):[]}function ZL(e,t,{includeHydrateFallback:n}={}){return ej(e.map(r=>{let i=t.routes[r.route.id];if(!i)return[];let s=[i.module];return i.clientActionModule&&(s=s.concat(i.clientActionModule)),i.clientLoaderModule&&(s=s.concat(i.clientLoaderModule)),n&&i.hydrateFallbackModule&&(s=s.concat(i.hydrateFallbackModule)),i.imports&&(s=s.concat(i.imports)),s}).flat(1))}function ej(e){return[...new Set(e)]}function tj(e){let t={},n=Object.keys(e).sort();for(let r of n)t[r]=e[r];return t}function nj(e,t){let n=new Set,r=new Set(t);return e.reduce((i,s)=>{if(t&&!XL(s)&&s.as==="script"&&s.href&&r.has(s.href))return i;let a=JSON.stringify(tj(s));return n.has(a)||(n.add(a),i.push({key:a,link:s})),i},[])}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var rj=new Set([100,101,204,205]);function ij(e,t){let n=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return n.pathname==="/"?n.pathname="_root.data":t&&si(n.pathname,t)==="/"?n.pathname=`${t.replace(/\/$/,"")}/_root.data`:n.pathname=`${n.pathname.replace(/\/$/,"")}.data`,n}function AI(){let e=w.useContext(Fa);return zv(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function sj(){let e=w.useContext(jf);return zv(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var Wv=w.createContext(void 0);Wv.displayName="FrameworkContext";function RI(){let e=w.useContext(Wv);return zv(e,"You must render this element inside a <HydratedRouter> element"),e}function oj(e,t){let n=w.useContext(Wv),[r,i]=w.useState(!1),[s,o]=w.useState(!1),{onFocus:a,onBlur:l,onMouseEnter:c,onMouseLeave:d,onTouchStart:h}=t,f=w.useRef(null);w.useEffect(()=>{if(e==="render"&&o(!0),e==="viewport"){let S=x=>{x.forEach(C=>{o(C.isIntersecting)})},k=new IntersectionObserver(S,{threshold:.5});return f.current&&k.observe(f.current),()=>{k.disconnect()}}},[e]),w.useEffect(()=>{if(r){let S=setTimeout(()=>{o(!0)},100);return()=>{clearTimeout(S)}}},[r]);let g=()=>{i(!0)},y=()=>{i(!1),o(!1)};return n?e!=="intent"?[s,f,{}]:[s,f,{onFocus:vl(a,g),onBlur:vl(l,y),onMouseEnter:vl(c,g),onMouseLeave:vl(d,y),onTouchStart:vl(h,g)}]:[!1,f,{}]}function vl(e,t){return n=>{e&&e(n),n.defaultPrevented||t(n)}}function aj({page:e,...t}){let{router:n}=AI(),r=w.useMemo(()=>_I(n.routes,e,n.basename),[n.routes,e,n.basename]);return r?w.createElement(cj,{page:e,matches:r,...t}):null}function lj(e){let{manifest:t,routeModules:n}=RI(),[r,i]=w.useState([]);return w.useEffect(()=>{let s=!1;return QL(e,t,n).then(o=>{s||i(o)}),()=>{s=!0}},[e,t,n]),r}function cj({page:e,matches:t,...n}){let r=Pr(),{manifest:i,routeModules:s}=RI(),{basename:o}=AI(),{loaderData:a,matches:l}=sj(),c=w.useMemo(()=>fE(e,t,l,i,r,"data"),[e,t,l,i,r]),d=w.useMemo(()=>fE(e,t,l,i,r,"assets"),[e,t,l,i,r]),h=w.useMemo(()=>{if(e===r.pathname+r.search+r.hash)return[];let y=new Set,S=!1;if(t.forEach(x=>{var E;let C=i.routes[x.route.id];!C||!C.hasLoader||(!c.some(I=>I.route.id===x.route.id)&&x.route.id in a&&((E=s[x.route.id])!=null&&E.shouldRevalidate)||C.hasClientLoader?S=!0:y.add(x.route.id))}),y.size===0)return[];let k=ij(e,o);return S&&y.size>0&&k.searchParams.set("_routes",t.filter(x=>y.has(x.route.id)).map(x=>x.route.id).join(",")),[k.pathname+k.search]},[o,a,r,i,c,t,e,s]),f=w.useMemo(()=>ZL(d,i),[d,i]),g=lj(d);return w.createElement(w.Fragment,null,h.map(y=>w.createElement("link",{key:y,rel:"prefetch",as:"fetch",href:y,...n})),f.map(y=>w.createElement("link",{key:y,rel:"modulepreload",href:y,...n})),g.map(({key:y,link:S})=>w.createElement("link",{key:y,...S})))}function uj(...e){return t=>{e.forEach(n=>{typeof n=="function"?n(t):n!=null&&(n.current=t)})}}var NI=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{NI&&(window.__reactRouterVersion="7.6.0")}catch{}function dj({basename:e,children:t,window:n}){let r=w.useRef();r.current==null&&(r.current=J4({window:n,v5Compat:!0}));let i=r.current,[s,o]=w.useState({action:i.action,location:i.location}),a=w.useCallback(l=>{w.startTransition(()=>o(l))},[o]);return w.useLayoutEffect(()=>i.listen(a),[i,a]),w.createElement($L,{basename:e,children:t,location:s.location,navigationType:s.action,navigator:i})}var DI=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Gn=w.forwardRef(function({onClick:t,discover:n="render",prefetch:r="none",relative:i,reloadDocument:s,replace:o,state:a,target:l,to:c,preventScrollReset:d,viewTransition:h,...f},g){let{basename:y}=w.useContext(ar),S=typeof c=="string"&&DI.test(c),k,x=!1;if(typeof c=="string"&&S&&(k=c,NI))try{let P=new URL(window.location.href),v=c.startsWith("//")?new URL(P.protocol+c):new URL(c),R=si(v.pathname,y);v.origin===P.origin&&R!=null?c=R+v.search+v.hash:x=!0}catch{or(!1,`<Link to="${c}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let C=CL(c,{relative:i}),[E,I,D]=oj(r,f),M=mj(c,{replace:o,state:a,target:l,preventScrollReset:d,relative:i,viewTransition:h});function T(P){t&&t(P),P.defaultPrevented||M(P)}let b=w.createElement("a",{...f,...D,href:k||C,onClick:x||s?t:T,ref:uj(g,I),target:l,"data-discover":!S&&n==="render"?"true":void 0});return E&&!S?w.createElement(w.Fragment,null,b,w.createElement(aj,{page:C})):b});Gn.displayName="Link";var hj=w.forwardRef(function({"aria-current":t="page",caseSensitive:n=!1,className:r="",end:i=!1,style:s,to:o,viewTransition:a,children:l,...c},d){let h=cu(o,{relative:c.relative}),f=Pr(),g=w.useContext(jf),{navigator:y,basename:S}=w.useContext(ar),k=g!=null&&_j(h)&&a===!0,x=y.encodeLocation?y.encodeLocation(h).pathname:h.pathname,C=f.pathname,E=g&&g.navigation&&g.navigation.location?g.navigation.location.pathname:null;n||(C=C.toLowerCase(),E=E?E.toLowerCase():null,x=x.toLowerCase()),E&&S&&(E=si(E,S)||E);const I=x!=="/"&&x.endsWith("/")?x.length-1:x.length;let D=C===x||!i&&C.startsWith(x)&&C.charAt(I)==="/",M=E!=null&&(E===x||!i&&E.startsWith(x)&&E.charAt(x.length)==="/"),T={isActive:D,isPending:M,isTransitioning:k},b=D?t:void 0,P;typeof r=="function"?P=r(T):P=[r,D?"active":null,M?"pending":null,k?"transitioning":null].filter(Boolean).join(" ");let v=typeof s=="function"?s(T):s;return w.createElement(Gn,{...c,"aria-current":b,className:P,ref:d,style:v,to:o,viewTransition:a},typeof l=="function"?l(T):l)});hj.displayName="NavLink";var fj=w.forwardRef(({discover:e="render",fetcherKey:t,navigate:n,reloadDocument:r,replace:i,state:s,method:o=Wd,action:a,onSubmit:l,relative:c,preventScrollReset:d,viewTransition:h,...f},g)=>{let y=vj(),S=wj(a,{relative:c}),k=o.toLowerCase()==="get"?"get":"post",x=typeof a=="string"&&DI.test(a),C=E=>{if(l&&l(E),E.defaultPrevented)return;E.preventDefault();let I=E.nativeEvent.submitter,D=(I==null?void 0:I.getAttribute("formmethod"))||o;y(I||E.currentTarget,{fetcherKey:t,method:D,navigate:n,replace:i,state:s,relative:c,preventScrollReset:d,viewTransition:h})};return w.createElement("form",{ref:g,method:k,action:S,onSubmit:r?l:C,...f,"data-discover":!x&&e==="render"?"true":void 0})});fj.displayName="Form";function pj(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function OI(e){let t=w.useContext(Fa);return Le(t,pj(e)),t}function mj(e,{target:t,replace:n,state:r,preventScrollReset:i,relative:s,viewTransition:o}={}){let a=Ar(),l=Pr(),c=cu(e,{relative:s});return w.useCallback(d=>{if(HL(d,t)){d.preventDefault();let h=n!==void 0?n:Ac(l)===Ac(c);a(e,{replace:h,state:r,preventScrollReset:i,relative:s,viewTransition:o})}},[l,a,c,n,r,t,e,i,s,o])}var gj=0,yj=()=>`__${String(++gj)}__`;function vj(){let{router:e}=OI("useSubmit"),{basename:t}=w.useContext(ar),n=ML();return w.useCallback(async(r,i={})=>{let{action:s,method:o,encType:a,formData:l,body:c}=KL(r,t);if(i.navigate===!1){let d=i.fetcherKey||yj();await e.fetch(d,n,i.action||s,{preventScrollReset:i.preventScrollReset,formData:l,body:c,formMethod:i.method||o,formEncType:i.encType||a,flushSync:i.flushSync})}else await e.navigate(i.action||s,{preventScrollReset:i.preventScrollReset,formData:l,body:c,formMethod:i.method||o,formEncType:i.encType||a,replace:i.replace,state:i.state,fromRouteId:n,flushSync:i.flushSync,viewTransition:i.viewTransition})},[e,t,n])}function wj(e,{relative:t}={}){let{basename:n}=w.useContext(ar),r=w.useContext(lr);Le(r,"useFormAction must be used inside a RouteContext");let[i]=r.matches.slice(-1),s={...cu(e||".",{relative:t})},o=Pr();if(e==null){s.search=o.search;let a=new URLSearchParams(s.search),l=a.getAll("index");if(l.some(d=>d==="")){a.delete("index"),l.filter(h=>h).forEach(h=>a.append("index",h));let d=a.toString();s.search=d?`?${d}`:""}}return(!e||e===".")&&i.route.index&&(s.search=s.search?s.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(s.pathname=s.pathname==="/"?n:Yr([n,s.pathname])),Ac(s)}function _j(e,t={}){let n=w.useContext(CI);Le(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=OI("useViewTransitionState"),i=cu(e,{relative:t.relative});if(!n.isTransitioning)return!1;let s=si(n.currentLocation.pathname,r)||n.currentLocation.pathname,o=si(n.nextLocation.pathname,r)||n.nextLocation.pathname;return Dh(i.pathname,o)!=null||Dh(i.pathname,s)!=null}[...rj];const xj=()=>{};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MI={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B=function(e,t){if(!e)throw Va(t)},Va=function(e){return new Error("Firebase Database ("+MI.SDK_VERSION+") INTERNAL ASSERT FAILED: "+e)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LI=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=i&63|128):(i&64512)===55296&&r+1<e.length&&(e.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(e.charCodeAt(++r)&1023),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=i&63|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=i&63|128)}return t},Ej=function(e){const t=[];let n=0,r=0;for(;n<e.length;){const i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=e[n++];t[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=e[n++],o=e[n++],a=e[n++],l=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;t[r++]=String.fromCharCode(55296+(l>>10)),t[r++]=String.fromCharCode(56320+(l&1023))}else{const s=e[n++],o=e[n++];t[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return t.join("")},Hv={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<e.length;i+=3){const s=e[i],o=i+1<e.length,a=o?e[i+1]:0,l=i+2<e.length,c=l?e[i+2]:0,d=s>>2,h=(s&3)<<4|a>>4;let f=(a&15)<<2|c>>6,g=c&63;l||(g=64,o||(f=64)),r.push(n[d],n[h],n[f],n[g])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(LI(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):Ej(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<e.length;){const s=n[e.charAt(i++)],a=i<e.length?n[e.charAt(i)]:0;++i;const c=i<e.length?n[e.charAt(i)]:64;++i;const h=i<e.length?n[e.charAt(i)]:64;if(++i,s==null||a==null||c==null||h==null)throw new bj;const f=s<<2|a>>4;if(r.push(f),c!==64){const g=a<<4&240|c>>2;if(r.push(g),h!==64){const y=c<<6&192|h;r.push(y)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class bj extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const jI=function(e){const t=LI(e);return Hv.encodeByteArray(t,!0)},Oh=function(e){return jI(e).replace(/\./g,"")},Mh=function(e){try{return Hv.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cj(e){return FI(void 0,e)}function FI(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:const n=t;return new Date(n.getTime());case Object:e===void 0&&(e={});break;case Array:e=[];break;default:return t}for(const n in t)!t.hasOwnProperty(n)||!Sj(n)||(e[n]=FI(e[n],t[n]));return e}function Sj(e){return e!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tj(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kj=()=>Tj().__FIREBASE_DEFAULTS__,Ij=()=>{if(typeof process>"u"||typeof process.env>"u")return;const e={}.__FIREBASE_DEFAULTS__;if(e)return JSON.parse(e)},Pj=()=>{if(typeof document>"u")return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=e&&Mh(e[1]);return t&&JSON.parse(t)},qv=()=>{try{return xj()||kj()||Ij()||Pj()}catch(e){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${e}`);return}},$I=e=>{var t,n;return(n=(t=qv())===null||t===void 0?void 0:t.emulatorHosts)===null||n===void 0?void 0:n[e]},Gv=e=>{const t=$I(e);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const r=parseInt(t.substring(n+1),10);return t[0]==="["?[t.substring(1,n-1),r]:[t.substring(0,n),r]},VI=()=>{var e;return(e=qv())===null||e===void 0?void 0:e.config},UI=e=>{var t;return(t=qv())===null||t===void 0?void 0:t[`_${e}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uu{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}wrapCallback(t){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(n):t(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lo(e){return e.endsWith(".cloudworkstations.dev")}async function $f(e){return(await fetch(e,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kv(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=t||"demo-project",i=e.iat||0,s=e.sub||e.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},e),a="";return[Oh(JSON.stringify(n)),Oh(JSON.stringify(o)),a].join(".")}const Xl={};function Aj(){const e={prod:[],emulator:[]};for(const t of Object.keys(Xl))Xl[t]?e.emulator.push(t):e.prod.push(t);return e}function Rj(e){let t=document.getElementById(e),n=!1;return t||(t=document.createElement("div"),t.setAttribute("id",e),n=!0),{created:n,element:t}}let pE=!1;function cs(e,t){if(typeof window>"u"||typeof document>"u"||!lo(window.location.host)||Xl[e]===t||Xl[e]||pE)return;Xl[e]=t;function n(f){return`__firebase__banner__${f}`}const r="__firebase__banner",s=Aj().prod.length>0;function o(){const f=document.getElementById(r);f&&f.remove()}function a(f){f.style.display="flex",f.style.background="#7faaf0",f.style.position="fixed",f.style.bottom="5px",f.style.left="5px",f.style.padding=".5em",f.style.borderRadius="5px",f.style.alignItems="center"}function l(f,g){f.setAttribute("width","24"),f.setAttribute("id",g),f.setAttribute("height","24"),f.setAttribute("viewBox","0 0 24 24"),f.setAttribute("fill","none"),f.style.marginLeft="-6px"}function c(){const f=document.createElement("span");return f.style.cursor="pointer",f.style.marginLeft="16px",f.style.fontSize="24px",f.innerHTML=" &times;",f.onclick=()=>{pE=!0,o()},f}function d(f,g){f.setAttribute("id",g),f.innerText="Learn more",f.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",f.setAttribute("target","__blank"),f.style.paddingLeft="5px",f.style.textDecoration="underline"}function h(){const f=Rj(r),g=n("text"),y=document.getElementById(g)||document.createElement("span"),S=n("learnmore"),k=document.getElementById(S)||document.createElement("a"),x=n("preprendIcon"),C=document.getElementById(x)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(f.created){const E=f.element;a(E),d(k,S);const I=c();l(C,x),E.append(C,y,k,I),document.body.appendChild(E)}s?(y.innerText="Preview backend disconnected.",C.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(C.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,y.innerText="Preview backend running in this workspace."),y.setAttribute("id",g)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",h):h()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Yv(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(qt())}function Nj(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function Dj(){const e=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof e=="object"&&e.id!==void 0}function BI(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Oj(){const e=qt();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function zI(){return MI.NODE_ADMIN===!0}function WI(){try{return typeof indexedDB=="object"}catch{return!1}}function HI(){return new Promise((e,t)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;t(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){t(n)}})}function Mj(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lj="FirebaseError";class cr extends Error{constructor(t,n,r){super(n),this.code=t,this.customData=r,this.name=Lj,Object.setPrototypeOf(this,cr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,co.prototype.create)}}class co{constructor(t,n,r){this.service=t,this.serviceName=n,this.errors=r}create(t,...n){const r=n[0]||{},i=`${this.service}/${t}`,s=this.errors[t],o=s?jj(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new cr(i,a,r)}}function jj(e,t){return e.replace(Fj,(n,r)=>{const i=t[r];return i!=null?String(i):`<${r}?>`})}const Fj=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rc(e){return JSON.parse(e)}function ot(e){return JSON.stringify(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qI=function(e){let t={},n={},r={},i="";try{const s=e.split(".");t=Rc(Mh(s[0])||""),n=Rc(Mh(s[1])||""),i=s[2],r=n.d||{},delete n.d}catch{}return{header:t,claims:n,data:r,signature:i}},$j=function(e){const t=qI(e),n=t.claims;return!!n&&typeof n=="object"&&n.hasOwnProperty("iat")},Vj=function(e){const t=qI(e).claims;return typeof t=="object"&&t.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rr(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function va(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]}function Ey(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function Lh(e,t,n){const r={};for(const i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=t.call(n,e[i],i,e));return r}function Zi(e,t){if(e===t)return!0;const n=Object.keys(e),r=Object.keys(t);for(const i of n){if(!r.includes(i))return!1;const s=e[i],o=t[i];if(mE(s)&&mE(o)){if(!Zi(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function mE(e){return e!==null&&typeof e=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ua(e){const t=[];for(const[n,r]of Object.entries(e))Array.isArray(r)?r.forEach(i=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}function Nl(e){const t={};return e.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,s]=r.split("=");t[decodeURIComponent(i)]=decodeURIComponent(s)}}),t}function Dl(e){const t=e.indexOf("?");if(!t)return"";const n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uj{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let t=1;t<this.blockSize;++t)this.pad_[t]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(t,n){n||(n=0);const r=this.W_;if(typeof t=="string")for(let h=0;h<16;h++)r[h]=t.charCodeAt(n)<<24|t.charCodeAt(n+1)<<16|t.charCodeAt(n+2)<<8|t.charCodeAt(n+3),n+=4;else for(let h=0;h<16;h++)r[h]=t[n]<<24|t[n+1]<<16|t[n+2]<<8|t[n+3],n+=4;for(let h=16;h<80;h++){const f=r[h-3]^r[h-8]^r[h-14]^r[h-16];r[h]=(f<<1|f>>>31)&4294967295}let i=this.chain_[0],s=this.chain_[1],o=this.chain_[2],a=this.chain_[3],l=this.chain_[4],c,d;for(let h=0;h<80;h++){h<40?h<20?(c=a^s&(o^a),d=1518500249):(c=s^o^a,d=1859775393):h<60?(c=s&o|a&(s|o),d=2400959708):(c=s^o^a,d=3395469782);const f=(i<<5|i>>>27)+c+l+d+r[h]&4294967295;l=a,a=o,o=(s<<30|s>>>2)&4294967295,s=i,i=f}this.chain_[0]=this.chain_[0]+i&4294967295,this.chain_[1]=this.chain_[1]+s&4294967295,this.chain_[2]=this.chain_[2]+o&4294967295,this.chain_[3]=this.chain_[3]+a&4294967295,this.chain_[4]=this.chain_[4]+l&4294967295}update(t,n){if(t==null)return;n===void 0&&(n=t.length);const r=n-this.blockSize;let i=0;const s=this.buf_;let o=this.inbuf_;for(;i<n;){if(o===0)for(;i<=r;)this.compress_(t,i),i+=this.blockSize;if(typeof t=="string"){for(;i<n;)if(s[o]=t.charCodeAt(i),++o,++i,o===this.blockSize){this.compress_(s),o=0;break}}else for(;i<n;)if(s[o]=t[i],++o,++i,o===this.blockSize){this.compress_(s),o=0;break}}this.inbuf_=o,this.total_+=n}digest(){const t=[];let n=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let i=this.blockSize-1;i>=56;i--)this.buf_[i]=n&255,n/=256;this.compress_(this.buf_);let r=0;for(let i=0;i<5;i++)for(let s=24;s>=0;s-=8)t[r]=this.chain_[i]>>s&255,++r;return t}}function Bj(e,t){const n=new zj(e,t);return n.subscribe.bind(n)}class zj{constructor(t,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{t(this)}).catch(r=>{this.error(r)})}next(t){this.forEachObserver(n=>{n.next(t)})}error(t){this.forEachObserver(n=>{n.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,n,r){let i;if(t===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");Wj(t,["next","error","complete"])?i=t:i={next:t,error:n,complete:r},i.next===void 0&&(i.next=Lm),i.error===void 0&&(i.error=Lm),i.complete===void 0&&(i.complete=Lm);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,t)}sendOne(t,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{n(this.observers[t])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Wj(e,t){if(typeof e!="object"||e===null)return!1;for(const n of t)if(n in e&&typeof e[n]=="function")return!0;return!1}function Lm(){}function Vf(e,t){return`${e} failed: ${t} argument `}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hj=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);if(i>=55296&&i<=56319){const s=i-55296;r++,B(r<e.length,"Surrogate pair missing trail surrogate.");const o=e.charCodeAt(r)-56320;i=65536+(s<<10)+o}i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=i&63|128):i<65536?(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=i&63|128):(t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=i&63|128)}return t},Uf=function(e){let t=0;for(let n=0;n<e.length;n++){const r=e.charCodeAt(n);r<128?t++:r<2048?t+=2:r>=55296&&r<=56319?(t+=4,n++):t+=3}return t};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function et(e){return e&&e._delegate?e._delegate:e}class ln{constructor(t,n,r){this.name=t,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xs="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qj{constructor(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){const r=new uu;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(t){var n;const r=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),i=(n=t==null?void 0:t.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(Kj(t))try{this.getOrInitializeService({instanceIdentifier:xs})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(t=xs){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...t.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=xs){return this.instances.has(t)}getOptions(t=xs){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:n={}}=t,r=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(t,n){var r;const i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(t),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&t(o,i),()=>{s.delete(t)}}invokeOnInitCallbacks(t,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(t,n)}catch{}}getOrInitializeService({instanceIdentifier:t,options:n={}}){let r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:Gj(t),options:n}),this.instances.set(t,r),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch{}return r||null}normalizeInstanceIdentifier(t=xs){return this.component?this.component.multipleInstances?t:xs:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function Gj(e){return e===xs?void 0:e}function Kj(e){return e.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yj{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const n=this.getProvider(t.name);if(n.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);n.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const n=new qj(t,this);return this.providers.set(t,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var _e;(function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"})(_e||(_e={}));const Xj={debug:_e.DEBUG,verbose:_e.VERBOSE,info:_e.INFO,warn:_e.WARN,error:_e.ERROR,silent:_e.SILENT},Jj=_e.INFO,Qj={[_e.DEBUG]:"log",[_e.VERBOSE]:"log",[_e.INFO]:"info",[_e.WARN]:"warn",[_e.ERROR]:"error"},Zj=(e,t,...n)=>{if(t<e.logLevel)return;const r=new Date().toISOString(),i=Qj[t];if(i)console[i](`[${r}]  ${e.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class Bf{constructor(t){this.name=t,this._logLevel=Jj,this._logHandler=Zj,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in _e))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?Xj[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,_e.DEBUG,...t),this._logHandler(this,_e.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,_e.VERBOSE,...t),this._logHandler(this,_e.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,_e.INFO,...t),this._logHandler(this,_e.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,_e.WARN,...t),this._logHandler(this,_e.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,_e.ERROR,...t),this._logHandler(this,_e.ERROR,...t)}}const e5=(e,t)=>t.some(n=>e instanceof n);let gE,yE;function t5(){return gE||(gE=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function n5(){return yE||(yE=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const GI=new WeakMap,by=new WeakMap,KI=new WeakMap,jm=new WeakMap,Xv=new WeakMap;function r5(e){const t=new Promise((n,r)=>{const i=()=>{e.removeEventListener("success",s),e.removeEventListener("error",o)},s=()=>{n(Xr(e.result)),i()},o=()=>{r(e.error),i()};e.addEventListener("success",s),e.addEventListener("error",o)});return t.then(n=>{n instanceof IDBCursor&&GI.set(n,e)}).catch(()=>{}),Xv.set(t,e),t}function i5(e){if(by.has(e))return;const t=new Promise((n,r)=>{const i=()=>{e.removeEventListener("complete",s),e.removeEventListener("error",o),e.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(e.error||new DOMException("AbortError","AbortError")),i()};e.addEventListener("complete",s),e.addEventListener("error",o),e.addEventListener("abort",o)});by.set(e,t)}let Cy={get(e,t,n){if(e instanceof IDBTransaction){if(t==="done")return by.get(e);if(t==="objectStoreNames")return e.objectStoreNames||KI.get(e);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Xr(e[t])},set(e,t,n){return e[t]=n,!0},has(e,t){return e instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in e}};function s5(e){Cy=e(Cy)}function o5(e){return e===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...n){const r=e.call(Fm(this),t,...n);return KI.set(r,t.sort?t.sort():[t]),Xr(r)}:n5().includes(e)?function(...t){return e.apply(Fm(this),t),Xr(GI.get(this))}:function(...t){return Xr(e.apply(Fm(this),t))}}function a5(e){return typeof e=="function"?o5(e):(e instanceof IDBTransaction&&i5(e),e5(e,t5())?new Proxy(e,Cy):e)}function Xr(e){if(e instanceof IDBRequest)return r5(e);if(jm.has(e))return jm.get(e);const t=a5(e);return t!==e&&(jm.set(e,t),Xv.set(t,e)),t}const Fm=e=>Xv.get(e);function zf(e,t,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(e,t),a=Xr(o);return r&&o.addEventListener("upgradeneeded",l=>{r(Xr(o.result),l.oldVersion,l.newVersion,Xr(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{s&&l.addEventListener("close",()=>s()),i&&l.addEventListener("versionchange",c=>i(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}function $m(e,{blocked:t}={}){const n=indexedDB.deleteDatabase(e);return t&&n.addEventListener("blocked",r=>t(r.oldVersion,r)),Xr(n).then(()=>{})}const l5=["get","getKey","getAll","getAllKeys","count"],c5=["put","add","delete","clear"],Vm=new Map;function vE(e,t){if(!(e instanceof IDBDatabase&&!(t in e)&&typeof t=="string"))return;if(Vm.get(t))return Vm.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,i=c5.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||l5.includes(n)))return;const s=async function(o,...a){const l=this.transaction(o,i?"readwrite":"readonly");let c=l.store;return r&&(c=c.index(a.shift())),(await Promise.all([c[n](...a),i&&l.done]))[0]};return Vm.set(t,s),s}s5(e=>({...e,get:(t,n,r)=>vE(t,n)||e.get(t,n,r),has:(t,n)=>!!vE(t,n)||e.has(t,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u5{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(d5(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function d5(e){const t=e.getComponent();return(t==null?void 0:t.type)==="VERSION"}const Sy="@firebase/app",wE="0.12.3";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oi=new Bf("@firebase/app"),h5="@firebase/app-compat",f5="@firebase/analytics-compat",p5="@firebase/analytics",m5="@firebase/app-check-compat",g5="@firebase/app-check",y5="@firebase/auth",v5="@firebase/auth-compat",w5="@firebase/database",_5="@firebase/data-connect",x5="@firebase/database-compat",E5="@firebase/functions",b5="@firebase/functions-compat",C5="@firebase/installations",S5="@firebase/installations-compat",T5="@firebase/messaging",k5="@firebase/messaging-compat",I5="@firebase/performance",P5="@firebase/performance-compat",A5="@firebase/remote-config",R5="@firebase/remote-config-compat",N5="@firebase/storage",D5="@firebase/storage-compat",O5="@firebase/firestore",M5="@firebase/vertexai",L5="@firebase/firestore-compat",j5="firebase",F5="11.7.3";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ty="[DEFAULT]",$5={[Sy]:"fire-core",[h5]:"fire-core-compat",[p5]:"fire-analytics",[f5]:"fire-analytics-compat",[g5]:"fire-app-check",[m5]:"fire-app-check-compat",[y5]:"fire-auth",[v5]:"fire-auth-compat",[w5]:"fire-rtdb",[_5]:"fire-data-connect",[x5]:"fire-rtdb-compat",[E5]:"fire-fn",[b5]:"fire-fn-compat",[C5]:"fire-iid",[S5]:"fire-iid-compat",[T5]:"fire-fcm",[k5]:"fire-fcm-compat",[I5]:"fire-perf",[P5]:"fire-perf-compat",[A5]:"fire-rc",[R5]:"fire-rc-compat",[N5]:"fire-gcs",[D5]:"fire-gcs-compat",[O5]:"fire-fst",[L5]:"fire-fst-compat",[M5]:"fire-vertex","fire-js":"fire-js",[j5]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jh=new Map,V5=new Map,ky=new Map;function _E(e,t){try{e.container.addComponent(t)}catch(n){oi.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,n)}}function wn(e){const t=e.name;if(ky.has(t))return oi.debug(`There were multiple attempts to register component ${t}.`),!1;ky.set(t,e);for(const n of jh.values())_E(n,e);for(const n of V5.values())_E(n,e);return!0}function us(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function Dt(e){return e==null?!1:e.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U5={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Gi=new co("app","Firebase",U5);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B5{constructor(t,n,r){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new ln("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Gi.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ds=F5;function YI(e,t={}){let n=e;typeof t!="object"&&(t={name:t});const r=Object.assign({name:Ty,automaticDataCollectionEnabled:!1},t),i=r.name;if(typeof i!="string"||!i)throw Gi.create("bad-app-name",{appName:String(i)});if(n||(n=VI()),!n)throw Gi.create("no-options");const s=jh.get(i);if(s){if(Zi(n,s.options)&&Zi(r,s.config))return s;throw Gi.create("duplicate-app",{appName:i})}const o=new Yj(i);for(const l of ky.values())o.addComponent(l);const a=new B5(n,r,o);return jh.set(i,a),a}function du(e=Ty){const t=jh.get(e);if(!t&&e===Ty&&VI())return YI();if(!t)throw Gi.create("no-app",{appName:e});return t}function mt(e,t,n){var r;let i=(r=$5[e])!==null&&r!==void 0?r:e;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=t.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${t}":`];s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${t}" contains illegal characters (whitespace or "/")`),oi.warn(a.join(" "));return}wn(new ln(`${i}-version`,()=>({library:i,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z5="firebase-heartbeat-database",W5=1,Nc="firebase-heartbeat-store";let Um=null;function XI(){return Um||(Um=zf(z5,W5,{upgrade:(e,t)=>{switch(t){case 0:try{e.createObjectStore(Nc)}catch(n){console.warn(n)}}}}).catch(e=>{throw Gi.create("idb-open",{originalErrorMessage:e.message})})),Um}async function H5(e){try{const n=(await XI()).transaction(Nc),r=await n.objectStore(Nc).get(JI(e));return await n.done,r}catch(t){if(t instanceof cr)oi.warn(t.message);else{const n=Gi.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});oi.warn(n.message)}}}async function xE(e,t){try{const r=(await XI()).transaction(Nc,"readwrite");await r.objectStore(Nc).put(t,JI(e)),await r.done}catch(n){if(n instanceof cr)oi.warn(n.message);else{const r=Gi.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});oi.warn(r.message)}}}function JI(e){return`${e.name}!${e.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q5=1024,G5=30;class K5{constructor(t){this.container=t,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new X5(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var t,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=EE();if(((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats.length>G5){const o=J5(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){oi.warn(r)}}async getHeartbeatsHeader(){var t;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=EE(),{heartbeatsToSend:r,unsentEntries:i}=Y5(this._heartbeatsCache.heartbeats),s=Oh(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(n){return oi.warn(n),""}}}function EE(){return new Date().toISOString().substring(0,10)}function Y5(e,t=q5){const n=[];let r=e.slice();for(const i of e){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),bE(n)>t){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),bE(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class X5{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return WI()?HI().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await H5(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return xE(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return xE(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...t.heartbeats]})}else return}}function bE(e){return Oh(JSON.stringify({version:2,heartbeats:e})).length}function J5(e){if(e.length===0)return-1;let t=0,n=e[0].date;for(let r=1;r<e.length;r++)e[r].date<n&&(n=e[r].date,t=r);return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Q5(e){wn(new ln("platform-logger",t=>new u5(t),"PRIVATE")),wn(new ln("heartbeat",t=>new K5(t),"PRIVATE")),mt(Sy,wE,e),mt(Sy,wE,"esm2017"),mt("fire-js","")}Q5("");const QI="@firebase/installations",Jv="0.6.16";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZI=1e4,eP=`w:${Jv}`,tP="FIS_v2",Z5="https://firebaseinstallations.googleapis.com/v1",eF=60*60*1e3,tF="installations",nF="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rF={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},Ys=new co(tF,nF,rF);function nP(e){return e instanceof cr&&e.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rP({projectId:e}){return`${Z5}/projects/${e}/installations`}function iP(e){return{token:e.token,requestStatus:2,expiresIn:sF(e.expiresIn),creationTime:Date.now()}}async function sP(e,t){const r=(await t.json()).error;return Ys.create("request-failed",{requestName:e,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})}function oP({apiKey:e}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":e})}function iF(e,{refreshToken:t}){const n=oP(e);return n.append("Authorization",oF(t)),n}async function aP(e){const t=await e();return t.status>=500&&t.status<600?e():t}function sF(e){return Number(e.replace("s","000"))}function oF(e){return`${tP} ${e}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function aF({appConfig:e,heartbeatServiceProvider:t},{fid:n}){const r=rP(e),i=oP(e),s=t.getImmediate({optional:!0});if(s){const c=await s.getHeartbeatsHeader();c&&i.append("x-firebase-client",c)}const o={fid:n,authVersion:tP,appId:e.appId,sdkVersion:eP},a={method:"POST",headers:i,body:JSON.stringify(o)},l=await aP(()=>fetch(r,a));if(l.ok){const c=await l.json();return{fid:c.fid||n,registrationStatus:2,refreshToken:c.refreshToken,authToken:iP(c.authToken)}}else throw await sP("Create Installation",l)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lP(e){return new Promise(t=>{setTimeout(t,e)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lF(e){return btoa(String.fromCharCode(...e)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cF=/^[cdef][\w-]{21}$/,Iy="";function uF(){try{const e=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(e),e[0]=112+e[0]%16;const n=dF(e);return cF.test(n)?n:Iy}catch{return Iy}}function dF(e){return lF(e).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wf(e){return`${e.appName}!${e.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cP=new Map;function uP(e,t){const n=Wf(e);dP(n,t),hF(n,t)}function dP(e,t){const n=cP.get(e);if(n)for(const r of n)r(t)}function hF(e,t){const n=fF();n&&n.postMessage({key:e,fid:t}),pF()}let Ns=null;function fF(){return!Ns&&"BroadcastChannel"in self&&(Ns=new BroadcastChannel("[Firebase] FID Change"),Ns.onmessage=e=>{dP(e.data.key,e.data.fid)}),Ns}function pF(){cP.size===0&&Ns&&(Ns.close(),Ns=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mF="firebase-installations-database",gF=1,Xs="firebase-installations-store";let Bm=null;function Qv(){return Bm||(Bm=zf(mF,gF,{upgrade:(e,t)=>{switch(t){case 0:e.createObjectStore(Xs)}}})),Bm}async function Fh(e,t){const n=Wf(e),i=(await Qv()).transaction(Xs,"readwrite"),s=i.objectStore(Xs),o=await s.get(n);return await s.put(t,n),await i.done,(!o||o.fid!==t.fid)&&uP(e,t.fid),t}async function hP(e){const t=Wf(e),r=(await Qv()).transaction(Xs,"readwrite");await r.objectStore(Xs).delete(t),await r.done}async function Hf(e,t){const n=Wf(e),i=(await Qv()).transaction(Xs,"readwrite"),s=i.objectStore(Xs),o=await s.get(n),a=t(o);return a===void 0?await s.delete(n):await s.put(a,n),await i.done,a&&(!o||o.fid!==a.fid)&&uP(e,a.fid),a}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Zv(e){let t;const n=await Hf(e.appConfig,r=>{const i=yF(r),s=vF(e,i);return t=s.registrationPromise,s.installationEntry});return n.fid===Iy?{installationEntry:await t}:{installationEntry:n,registrationPromise:t}}function yF(e){const t=e||{fid:uF(),registrationStatus:0};return fP(t)}function vF(e,t){if(t.registrationStatus===0){if(!navigator.onLine){const i=Promise.reject(Ys.create("app-offline"));return{installationEntry:t,registrationPromise:i}}const n={fid:t.fid,registrationStatus:1,registrationTime:Date.now()},r=wF(e,n);return{installationEntry:n,registrationPromise:r}}else return t.registrationStatus===1?{installationEntry:t,registrationPromise:_F(e)}:{installationEntry:t}}async function wF(e,t){try{const n=await aF(e,t);return Fh(e.appConfig,n)}catch(n){throw nP(n)&&n.customData.serverCode===409?await hP(e.appConfig):await Fh(e.appConfig,{fid:t.fid,registrationStatus:0}),n}}async function _F(e){let t=await CE(e.appConfig);for(;t.registrationStatus===1;)await lP(100),t=await CE(e.appConfig);if(t.registrationStatus===0){const{installationEntry:n,registrationPromise:r}=await Zv(e);return r||n}return t}function CE(e){return Hf(e,t=>{if(!t)throw Ys.create("installation-not-found");return fP(t)})}function fP(e){return xF(e)?{fid:e.fid,registrationStatus:0}:e}function xF(e){return e.registrationStatus===1&&e.registrationTime+ZI<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function EF({appConfig:e,heartbeatServiceProvider:t},n){const r=bF(e,n),i=iF(e,n),s=t.getImmediate({optional:!0});if(s){const c=await s.getHeartbeatsHeader();c&&i.append("x-firebase-client",c)}const o={installation:{sdkVersion:eP,appId:e.appId}},a={method:"POST",headers:i,body:JSON.stringify(o)},l=await aP(()=>fetch(r,a));if(l.ok){const c=await l.json();return iP(c)}else throw await sP("Generate Auth Token",l)}function bF(e,{fid:t}){return`${rP(e)}/${t}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ew(e,t=!1){let n;const r=await Hf(e.appConfig,s=>{if(!pP(s))throw Ys.create("not-registered");const o=s.authToken;if(!t&&TF(o))return s;if(o.requestStatus===1)return n=CF(e,t),s;{if(!navigator.onLine)throw Ys.create("app-offline");const a=IF(s);return n=SF(e,a),a}});return n?await n:r.authToken}async function CF(e,t){let n=await SE(e.appConfig);for(;n.authToken.requestStatus===1;)await lP(100),n=await SE(e.appConfig);const r=n.authToken;return r.requestStatus===0?ew(e,t):r}function SE(e){return Hf(e,t=>{if(!pP(t))throw Ys.create("not-registered");const n=t.authToken;return PF(n)?Object.assign(Object.assign({},t),{authToken:{requestStatus:0}}):t})}async function SF(e,t){try{const n=await EF(e,t),r=Object.assign(Object.assign({},t),{authToken:n});return await Fh(e.appConfig,r),n}catch(n){if(nP(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await hP(e.appConfig);else{const r=Object.assign(Object.assign({},t),{authToken:{requestStatus:0}});await Fh(e.appConfig,r)}throw n}}function pP(e){return e!==void 0&&e.registrationStatus===2}function TF(e){return e.requestStatus===2&&!kF(e)}function kF(e){const t=Date.now();return t<e.creationTime||e.creationTime+e.expiresIn<t+eF}function IF(e){const t={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},e),{authToken:t})}function PF(e){return e.requestStatus===1&&e.requestTime+ZI<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function AF(e){const t=e,{installationEntry:n,registrationPromise:r}=await Zv(t);return r?r.catch(console.error):ew(t).catch(console.error),n.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function RF(e,t=!1){const n=e;return await NF(n),(await ew(n,t)).token}async function NF(e){const{registrationPromise:t}=await Zv(e);t&&await t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DF(e){if(!e||!e.options)throw zm("App Configuration");if(!e.name)throw zm("App Name");const t=["projectId","apiKey","appId"];for(const n of t)if(!e.options[n])throw zm(n);return{appName:e.name,projectId:e.options.projectId,apiKey:e.options.apiKey,appId:e.options.appId}}function zm(e){return Ys.create("missing-app-config-values",{valueName:e})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mP="installations",OF="installations-internal",MF=e=>{const t=e.getProvider("app").getImmediate(),n=DF(t),r=us(t,"heartbeat");return{app:t,appConfig:n,heartbeatServiceProvider:r,_delete:()=>Promise.resolve()}},LF=e=>{const t=e.getProvider("app").getImmediate(),n=us(t,mP).getImmediate();return{getId:()=>AF(n),getToken:i=>RF(n,i)}};function jF(){wn(new ln(mP,MF,"PUBLIC")),wn(new ln(OF,LF,"PRIVATE"))}jF();mt(QI,Jv);mt(QI,Jv,"esm2017");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FF="/firebase-messaging-sw.js",$F="/firebase-cloud-messaging-push-scope",gP="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",VF="https://fcmregistrations.googleapis.com/v1",yP="google.c.a.c_id",UF="google.c.a.c_l",BF="google.c.a.ts",zF="google.c.a.e",TE=1e4;var kE;(function(e){e[e.DATA_MESSAGE=1]="DATA_MESSAGE",e[e.DISPLAY_NOTIFICATION=3]="DISPLAY_NOTIFICATION"})(kE||(kE={}));/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License"); you may not use this file except
 * in compliance with the License. You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software distributed under the License
 * is distributed on an "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express
 * or implied. See the License for the specific language governing permissions and limitations under
 * the License.
 */var Dc;(function(e){e.PUSH_RECEIVED="push-received",e.NOTIFICATION_CLICKED="notification-clicked"})(Dc||(Dc={}));/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vr(e){const t=new Uint8Array(e);return btoa(String.fromCharCode(...t)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function WF(e){const t="=".repeat((4-e.length%4)%4),n=(e+t).replace(/\-/g,"+").replace(/_/g,"/"),r=atob(n),i=new Uint8Array(r.length);for(let s=0;s<r.length;++s)i[s]=r.charCodeAt(s);return i}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wm="fcm_token_details_db",HF=5,IE="fcm_token_object_Store";async function qF(e){if("databases"in indexedDB&&!(await indexedDB.databases()).map(s=>s.name).includes(Wm))return null;let t=null;return(await zf(Wm,HF,{upgrade:async(r,i,s,o)=>{var a;if(i<2||!r.objectStoreNames.contains(IE))return;const l=o.objectStore(IE),c=await l.index("fcmSenderId").get(e);if(await l.clear(),!!c){if(i===2){const d=c;if(!d.auth||!d.p256dh||!d.endpoint)return;t={token:d.fcmToken,createTime:(a=d.createTime)!==null&&a!==void 0?a:Date.now(),subscriptionOptions:{auth:d.auth,p256dh:d.p256dh,endpoint:d.endpoint,swScope:d.swScope,vapidKey:typeof d.vapidKey=="string"?d.vapidKey:Vr(d.vapidKey)}}}else if(i===3){const d=c;t={token:d.fcmToken,createTime:d.createTime,subscriptionOptions:{auth:Vr(d.auth),p256dh:Vr(d.p256dh),endpoint:d.endpoint,swScope:d.swScope,vapidKey:Vr(d.vapidKey)}}}else if(i===4){const d=c;t={token:d.fcmToken,createTime:d.createTime,subscriptionOptions:{auth:Vr(d.auth),p256dh:Vr(d.p256dh),endpoint:d.endpoint,swScope:d.swScope,vapidKey:Vr(d.vapidKey)}}}}}})).close(),await $m(Wm),await $m("fcm_vapid_details_db"),await $m("undefined"),GF(t)?t:null}function GF(e){if(!e||!e.subscriptionOptions)return!1;const{subscriptionOptions:t}=e;return typeof e.createTime=="number"&&e.createTime>0&&typeof e.token=="string"&&e.token.length>0&&typeof t.auth=="string"&&t.auth.length>0&&typeof t.p256dh=="string"&&t.p256dh.length>0&&typeof t.endpoint=="string"&&t.endpoint.length>0&&typeof t.swScope=="string"&&t.swScope.length>0&&typeof t.vapidKey=="string"&&t.vapidKey.length>0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KF="firebase-messaging-database",YF=1,Oc="firebase-messaging-store";let Hm=null;function vP(){return Hm||(Hm=zf(KF,YF,{upgrade:(e,t)=>{switch(t){case 0:e.createObjectStore(Oc)}}})),Hm}async function XF(e){const t=wP(e),r=await(await vP()).transaction(Oc).objectStore(Oc).get(t);if(r)return r;{const i=await qF(e.appConfig.senderId);if(i)return await tw(e,i),i}}async function tw(e,t){const n=wP(e),i=(await vP()).transaction(Oc,"readwrite");return await i.objectStore(Oc).put(t,n),await i.done,t}function wP({appConfig:e}){return e.appId}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JF={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."},Mt=new co("messaging","Messaging",JF);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function QF(e,t){const n=await rw(e),r=_P(t),i={method:"POST",headers:n,body:JSON.stringify(r)};let s;try{s=await(await fetch(nw(e.appConfig),i)).json()}catch(o){throw Mt.create("token-subscribe-failed",{errorInfo:o==null?void 0:o.toString()})}if(s.error){const o=s.error.message;throw Mt.create("token-subscribe-failed",{errorInfo:o})}if(!s.token)throw Mt.create("token-subscribe-no-token");return s.token}async function ZF(e,t){const n=await rw(e),r=_P(t.subscriptionOptions),i={method:"PATCH",headers:n,body:JSON.stringify(r)};let s;try{s=await(await fetch(`${nw(e.appConfig)}/${t.token}`,i)).json()}catch(o){throw Mt.create("token-update-failed",{errorInfo:o==null?void 0:o.toString()})}if(s.error){const o=s.error.message;throw Mt.create("token-update-failed",{errorInfo:o})}if(!s.token)throw Mt.create("token-update-no-token");return s.token}async function e3(e,t){const r={method:"DELETE",headers:await rw(e)};try{const s=await(await fetch(`${nw(e.appConfig)}/${t}`,r)).json();if(s.error){const o=s.error.message;throw Mt.create("token-unsubscribe-failed",{errorInfo:o})}}catch(i){throw Mt.create("token-unsubscribe-failed",{errorInfo:i==null?void 0:i.toString()})}}function nw({projectId:e}){return`${VF}/projects/${e}/registrations`}async function rw({appConfig:e,installations:t}){const n=await t.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":e.apiKey,"x-goog-firebase-installations-auth":`FIS ${n}`})}function _P({p256dh:e,auth:t,endpoint:n,vapidKey:r}){const i={web:{endpoint:n,auth:t,p256dh:e}};return r!==gP&&(i.web.applicationPubKey=r),i}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t3=7*24*60*60*1e3;async function n3(e){const t=await i3(e.swRegistration,e.vapidKey),n={vapidKey:e.vapidKey,swScope:e.swRegistration.scope,endpoint:t.endpoint,auth:Vr(t.getKey("auth")),p256dh:Vr(t.getKey("p256dh"))},r=await XF(e.firebaseDependencies);if(r){if(s3(r.subscriptionOptions,n))return Date.now()>=r.createTime+t3?r3(e,{token:r.token,createTime:Date.now(),subscriptionOptions:n}):r.token;try{await e3(e.firebaseDependencies,r.token)}catch(i){console.warn(i)}return PE(e.firebaseDependencies,n)}else return PE(e.firebaseDependencies,n)}async function r3(e,t){try{const n=await ZF(e.firebaseDependencies,t),r=Object.assign(Object.assign({},t),{token:n,createTime:Date.now()});return await tw(e.firebaseDependencies,r),n}catch(n){throw n}}async function PE(e,t){const r={token:await QF(e,t),createTime:Date.now(),subscriptionOptions:t};return await tw(e,r),r.token}async function i3(e,t){const n=await e.pushManager.getSubscription();return n||e.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:WF(t)})}function s3(e,t){const n=t.vapidKey===e.vapidKey,r=t.endpoint===e.endpoint,i=t.auth===e.auth,s=t.p256dh===e.p256dh;return n&&r&&i&&s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AE(e){const t={from:e.from,collapseKey:e.collapse_key,messageId:e.fcmMessageId};return o3(t,e),a3(t,e),l3(t,e),t}function o3(e,t){if(!t.notification)return;e.notification={};const n=t.notification.title;n&&(e.notification.title=n);const r=t.notification.body;r&&(e.notification.body=r);const i=t.notification.image;i&&(e.notification.image=i);const s=t.notification.icon;s&&(e.notification.icon=s)}function a3(e,t){t.data&&(e.data=t.data)}function l3(e,t){var n,r,i,s,o;if(!t.fcmOptions&&!(!((n=t.notification)===null||n===void 0)&&n.click_action))return;e.fcmOptions={};const a=(i=(r=t.fcmOptions)===null||r===void 0?void 0:r.link)!==null&&i!==void 0?i:(s=t.notification)===null||s===void 0?void 0:s.click_action;a&&(e.fcmOptions.link=a);const l=(o=t.fcmOptions)===null||o===void 0?void 0:o.analytics_label;l&&(e.fcmOptions.analyticsLabel=l)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function c3(e){return typeof e=="object"&&!!e&&yP in e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */u3("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");function u3(e,t){const n=[];for(let r=0;r<e.length;r++)n.push(e.charAt(r)),r<t.length&&n.push(t.charAt(r));return n.join("")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function d3(e){if(!e||!e.options)throw qm("App Configuration Object");if(!e.name)throw qm("App Name");const t=["projectId","apiKey","appId","messagingSenderId"],{options:n}=e;for(const r of t)if(!n[r])throw qm(r);return{appName:e.name,projectId:n.projectId,apiKey:n.apiKey,appId:n.appId,senderId:n.messagingSenderId}}function qm(e){return Mt.create("missing-app-config-values",{valueName:e})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h3{constructor(t,n,r){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const i=d3(t);this.firebaseDependencies={app:t,appConfig:i,installations:n,analyticsProvider:r}}_delete(){return Promise.resolve()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function f3(e){try{e.swRegistration=await navigator.serviceWorker.register(FF,{scope:$F}),e.swRegistration.update().catch(()=>{}),await p3(e.swRegistration)}catch(t){throw Mt.create("failed-service-worker-registration",{browserErrorMessage:t==null?void 0:t.message})}}async function p3(e){return new Promise((t,n)=>{const r=setTimeout(()=>n(new Error(`Service worker not registered after ${TE} ms`)),TE),i=e.installing||e.waiting;e.active?(clearTimeout(r),t()):i?i.onstatechange=s=>{var o;((o=s.target)===null||o===void 0?void 0:o.state)==="activated"&&(i.onstatechange=null,clearTimeout(r),t())}:(clearTimeout(r),n(new Error("No incoming service worker found.")))})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function m3(e,t){if(!t&&!e.swRegistration&&await f3(e),!(!t&&e.swRegistration)){if(!(t instanceof ServiceWorkerRegistration))throw Mt.create("invalid-sw-registration");e.swRegistration=t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function g3(e,t){t?e.vapidKey=t:e.vapidKey||(e.vapidKey=gP)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xP(e,t){if(!navigator)throw Mt.create("only-available-in-window");if(Notification.permission==="default"&&await Notification.requestPermission(),Notification.permission!=="granted")throw Mt.create("permission-blocked");return await g3(e,t==null?void 0:t.vapidKey),await m3(e,t==null?void 0:t.serviceWorkerRegistration),n3(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function y3(e,t,n){const r=v3(t);(await e.firebaseDependencies.analyticsProvider.get()).logEvent(r,{message_id:n[yP],message_name:n[UF],message_time:n[BF],message_device_time:Math.floor(Date.now()/1e3)})}function v3(e){switch(e){case Dc.NOTIFICATION_CLICKED:return"notification_open";case Dc.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function w3(e,t){const n=t.data;if(!n.isFirebaseMessaging)return;e.onMessageHandler&&n.messageType===Dc.PUSH_RECEIVED&&(typeof e.onMessageHandler=="function"?e.onMessageHandler(AE(n)):e.onMessageHandler.next(AE(n)));const r=n.data;c3(r)&&r[zF]==="1"&&await y3(e,n.messageType,r)}const RE="@firebase/messaging",NE="0.12.20";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _3=e=>{const t=new h3(e.getProvider("app").getImmediate(),e.getProvider("installations-internal").getImmediate(),e.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",n=>w3(t,n)),t},x3=e=>{const t=e.getProvider("messaging").getImmediate();return{getToken:r=>xP(t,r)}};function E3(){wn(new ln("messaging",_3,"PUBLIC")),wn(new ln("messaging-internal",x3,"PRIVATE")),mt(RE,NE),mt(RE,NE,"esm2017")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function b3(){try{await HI()}catch{return!1}return typeof window<"u"&&WI()&&Mj()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function C3(e,t){if(!navigator)throw Mt.create("only-available-in-window");return e.onMessageHandler=t,()=>{e.onMessageHandler=null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Py(e=du()){return b3().then(t=>{if(!t)throw Mt.create("unsupported-browser")},t=>{throw Mt.create("indexed-db-unsupported")}),us(et(e),"messaging").getImmediate()}async function S3(e,t){return e=et(e),xP(e,t)}function T3(e,t){return e=et(e),C3(e,t)}E3();var k3="firebase",I3="11.7.3";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */mt(k3,I3,"app");var Ay=function(e,t){return Ay=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(n[i]=r[i])},Ay(e,t)};function P3(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");Ay(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}var ct=function(){return ct=Object.assign||function(t){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(t[s]=n[s])}return t},ct.apply(this,arguments)};function iw(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n}function EP(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const A3=EP,bP=new co("auth","Firebase",EP());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $h=new Bf("@firebase/auth");function R3(e,...t){$h.logLevel<=_e.WARN&&$h.warn(`Auth (${ds}): ${e}`,...t)}function qd(e,...t){$h.logLevel<=_e.ERROR&&$h.error(`Auth (${ds}): ${e}`,...t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ln(e,...t){throw ow(e,...t)}function rr(e,...t){return ow(e,...t)}function sw(e,t,n){const r=Object.assign(Object.assign({},A3()),{[t]:n});return new co("auth","Firebase",r).create(t,{appName:e.name})}function Jr(e){return sw(e,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function N3(e,t,n){const r=n;if(!(t instanceof r))throw r.name!==t.constructor.name&&Ln(e,"argument-error"),sw(e,"argument-error",`Type of ${t.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function ow(e,...t){if(typeof e!="string"){const n=t[0],r=[...t.slice(1)];return r[0]&&(r[0].appName=e.name),e._errorFactory.create(n,...r)}return bP.create(e,...t)}function Q(e,t,...n){if(!e)throw ow(t,...n)}function Hr(e){const t="INTERNAL ASSERTION FAILED: "+e;throw qd(t),new Error(t)}function ai(e,t){e||Hr(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ry(){var e;return typeof self<"u"&&((e=self.location)===null||e===void 0?void 0:e.href)||""}function D3(){return DE()==="http:"||DE()==="https:"}function DE(){var e;return typeof self<"u"&&((e=self.location)===null||e===void 0?void 0:e.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function O3(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(D3()||Dj()||"connection"in navigator)?navigator.onLine:!0}function M3(){if(typeof navigator>"u")return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hu{constructor(t,n){this.shortDelay=t,this.longDelay=n,ai(n>t,"Short delay should be less than long delay!"),this.isMobile=Yv()||BI()}get(){return O3()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aw(e,t){ai(e.emulator,"Emulator should always be set here");const{url:n}=e.emulator;return t?`${n}${t.startsWith("/")?t.slice(1):t}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CP{static initialize(t,n,r){this.fetchImpl=t,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Hr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Hr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Hr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L3={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j3=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],F3=new hu(3e4,6e4);function pi(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}async function mi(e,t,n,r,i={}){return SP(e,i,async()=>{let s={},o={};r&&(t==="GET"?o=r:s={body:JSON.stringify(r)});const a=Ua(Object.assign({key:e.config.apiKey},o)).slice(1),l=await e._getAdditionalHeaders();l["Content-Type"]="application/json",e.languageCode&&(l["X-Firebase-Locale"]=e.languageCode);const c=Object.assign({method:t,headers:l},s);return Nj()||(c.referrerPolicy="no-referrer"),e.emulatorConfig&&lo(e.emulatorConfig.host)&&(c.credentials="include"),CP.fetch()(await TP(e,e.config.apiHost,n,a),c)})}async function SP(e,t,n){e._canInitEmulator=!1;const r=Object.assign(Object.assign({},L3),t);try{const i=new V3(e),s=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=await s.json();if("needConfirmation"in o)throw pd(e,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[l,c]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw pd(e,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw pd(e,"email-already-in-use",o);if(l==="USER_DISABLED")throw pd(e,"user-disabled",o);const d=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw sw(e,d,c);Ln(e,d)}}catch(i){if(i instanceof cr)throw i;Ln(e,"network-request-failed",{message:String(i)})}}async function fu(e,t,n,r,i={}){const s=await mi(e,t,n,r,i);return"mfaPendingCredential"in s&&Ln(e,"multi-factor-auth-required",{_serverResponse:s}),s}async function TP(e,t,n,r){const i=`${t}${n}?${r}`,s=e,o=s.config.emulator?aw(e.config,i):`${e.config.apiScheme}://${i}`;return j3.includes(n)&&(await s._persistenceManagerAvailable,s._getPersistenceType()==="COOKIE")?s._getPersistence()._getFinalTarget(o).toString():o}function $3(e){switch(e){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class V3{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(rr(this.auth,"network-request-failed")),F3.get())})}}function pd(e,t,n){const r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=rr(e,t,r);return i.customData._tokenResponse=n,i}function OE(e){return e!==void 0&&e.enterprise!==void 0}class U3{constructor(t){if(this.siteKey="",this.recaptchaEnforcementState=[],t.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=t.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=t.recaptchaEnforcementState}getProviderEnforcementState(t){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===t)return $3(n.enforcementState);return null}isProviderEnabled(t){return this.getProviderEnforcementState(t)==="ENFORCE"||this.getProviderEnforcementState(t)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function B3(e,t){return mi(e,"GET","/v2/recaptchaConfig",pi(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function z3(e,t){return mi(e,"POST","/v1/accounts:delete",t)}async function Vh(e,t){return mi(e,"POST","/v1/accounts:lookup",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jl(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function W3(e,t=!1){const n=et(e),r=await n.getIdToken(t),i=lw(r);Q(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,o=s==null?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:Jl(Gm(i.auth_time)),issuedAtTime:Jl(Gm(i.iat)),expirationTime:Jl(Gm(i.exp)),signInProvider:o||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function Gm(e){return Number(e)*1e3}function lw(e){const[t,n,r]=e.split(".");if(t===void 0||n===void 0||r===void 0)return qd("JWT malformed, contained fewer than 3 sections"),null;try{const i=Mh(n);return i?JSON.parse(i):(qd("Failed to decode base64 JWT payload"),null)}catch(i){return qd("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function ME(e){const t=lw(e);return Q(t,"internal-error"),Q(typeof t.exp<"u","internal-error"),Q(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Mc(e,t,n=!1){if(n)return t;try{return await t}catch(r){throw r instanceof cr&&H3(r)&&e.auth.currentUser===e&&await e.auth.signOut(),r}}function H3({code:e}){return e==="auth/user-disabled"||e==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q3{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){var n;if(t){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(t=!1){if(!this.isRunning)return;const n=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){(t==null?void 0:t.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ny{constructor(t,n){this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Jl(this.lastLoginAt),this.creationTime=Jl(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Uh(e){var t;const n=e.auth,r=await e.getIdToken(),i=await Mc(e,Vh(n,{idToken:r}));Q(i==null?void 0:i.users.length,n,"internal-error");const s=i.users[0];e._notifyReloadListener(s);const o=!((t=s.providerUserInfo)===null||t===void 0)&&t.length?kP(s.providerUserInfo):[],a=K3(e.providerData,o),l=e.isAnonymous,c=!(e.email&&s.passwordHash)&&!(a!=null&&a.length),d=l?c:!1,h={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new Ny(s.createdAt,s.lastLoginAt),isAnonymous:d};Object.assign(e,h)}async function G3(e){const t=et(e);await Uh(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function K3(e,t){return[...e.filter(r=>!t.some(i=>i.providerId===r.providerId)),...t]}function kP(e){return e.map(t=>{var{providerId:n}=t,r=iw(t,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Y3(e,t){const n=await SP(e,{},async()=>{const r=Ua({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:i,apiKey:s}=e.config,o=await TP(e,i,"/v1/token",`key=${s}`),a=await e._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",CP.fetch()(o,{method:"POST",headers:a,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function X3(e,t){return mi(e,"POST","/v2/accounts:revokeToken",pi(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class na{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){Q(t.idToken,"internal-error"),Q(typeof t.idToken<"u","internal-error"),Q(typeof t.refreshToken<"u","internal-error");const n="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):ME(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,n)}updateFromIdToken(t){Q(t.length!==0,"internal-error");const n=ME(t);this.updateTokensAndExpiration(t,null,n)}async getToken(t,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Q(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,n){const{accessToken:r,refreshToken:i,expiresIn:s}=await Y3(t,n);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(t,n,r){this.refreshToken=n||null,this.accessToken=t||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(t,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new na;return r&&(Q(typeof r=="string","internal-error",{appName:t}),o.refreshToken=r),i&&(Q(typeof i=="string","internal-error",{appName:t}),o.accessToken=i),s&&(Q(typeof s=="number","internal-error",{appName:t}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new na,this.toJSON())}_performRefresh(){return Hr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bi(e,t){Q(typeof e=="string"||typeof e>"u","internal-error",{appName:t})}class Xn{constructor(t){var{uid:n,auth:r,stsTokenManager:i}=t,s=iw(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new q3(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new Ny(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(t){const n=await Mc(this,this.stsTokenManager.getToken(this.auth,t));return Q(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(t){return W3(this,t)}reload(){return G3(this)}_assign(t){this!==t&&(Q(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(n=>Object.assign({},n)),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const n=new Xn(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(t){Q(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,n=!1){let r=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),r=!0),n&&await Uh(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Dt(this.auth.app))return Promise.reject(Jr(this.auth));const t=await this.getIdToken();return await Mc(this,z3(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>Object.assign({},t)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,n){var r,i,s,o,a,l,c,d;const h=(r=n.displayName)!==null&&r!==void 0?r:void 0,f=(i=n.email)!==null&&i!==void 0?i:void 0,g=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,y=(o=n.photoURL)!==null&&o!==void 0?o:void 0,S=(a=n.tenantId)!==null&&a!==void 0?a:void 0,k=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,x=(c=n.createdAt)!==null&&c!==void 0?c:void 0,C=(d=n.lastLoginAt)!==null&&d!==void 0?d:void 0,{uid:E,emailVerified:I,isAnonymous:D,providerData:M,stsTokenManager:T}=n;Q(E&&T,t,"internal-error");const b=na.fromJSON(this.name,T);Q(typeof E=="string",t,"internal-error"),bi(h,t.name),bi(f,t.name),Q(typeof I=="boolean",t,"internal-error"),Q(typeof D=="boolean",t,"internal-error"),bi(g,t.name),bi(y,t.name),bi(S,t.name),bi(k,t.name),bi(x,t.name),bi(C,t.name);const P=new Xn({uid:E,auth:t,email:f,emailVerified:I,displayName:h,isAnonymous:D,photoURL:y,phoneNumber:g,tenantId:S,stsTokenManager:b,createdAt:x,lastLoginAt:C});return M&&Array.isArray(M)&&(P.providerData=M.map(v=>Object.assign({},v))),k&&(P._redirectEventId=k),P}static async _fromIdTokenResponse(t,n,r=!1){const i=new na;i.updateFromServerResponse(n);const s=new Xn({uid:n.localId,auth:t,stsTokenManager:i,isAnonymous:r});return await Uh(s),s}static async _fromGetAccountInfoResponse(t,n,r){const i=n.users[0];Q(i.localId!==void 0,"internal-error");const s=i.providerUserInfo!==void 0?kP(i.providerUserInfo):[],o=!(i.email&&i.passwordHash)&&!(s!=null&&s.length),a=new na;a.updateFromIdToken(r);const l=new Xn({uid:i.localId,auth:t,stsTokenManager:a,isAnonymous:o}),c={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new Ny(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(s!=null&&s.length)};return Object.assign(l,c),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LE=new Map;function qr(e){ai(e instanceof Function,"Expected a class definition");let t=LE.get(e);return t?(ai(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,LE.set(e,t),t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IP{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,n){this.storage[t]=n}async _get(t){const n=this.storage[t];return n===void 0?null:n}async _remove(t){delete this.storage[t]}_addListener(t,n){}_removeListener(t,n){}}IP.type="NONE";const jE=IP;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gd(e,t,n){return`firebase:${e}:${t}:${n}`}class ra{constructor(t,n,r){this.persistence=t,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=Gd(this.userKey,i.apiKey,s),this.fullPersistenceKey=Gd("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const n=await Vh(this.auth,{idToken:t}).catch(()=>{});return n?Xn._fromGetAccountInfoResponse(this.auth,n,t):null}return Xn._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,n,r="authUser"){if(!n.length)return new ra(qr(jE),t,r);const i=(await Promise.all(n.map(async c=>{if(await c._isAvailable())return c}))).filter(c=>c);let s=i[0]||qr(jE);const o=Gd(r,t.config.apiKey,t.name);let a=null;for(const c of n)try{const d=await c._get(o);if(d){let h;if(typeof d=="string"){const f=await Vh(t,{idToken:d}).catch(()=>{});if(!f)break;h=await Xn._fromGetAccountInfoResponse(t,f,d)}else h=Xn._fromJSON(t,d);c!==s&&(a=h),s=c;break}}catch{}const l=i.filter(c=>c._shouldAllowMigration);return!s._shouldAllowMigration||!l.length?new ra(s,t,r):(s=l[0],a&&await s._set(o,a.toJSON()),await Promise.all(n.map(async c=>{if(c!==s)try{await c._remove(o)}catch{}})),new ra(s,t,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FE(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(NP(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(PP(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(OP(t))return"Blackberry";if(MP(t))return"Webos";if(AP(t))return"Safari";if((t.includes("chrome/")||RP(t))&&!t.includes("edge/"))return"Chrome";if(DP(t))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=e.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function PP(e=qt()){return/firefox\//i.test(e)}function AP(e=qt()){const t=e.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function RP(e=qt()){return/crios\//i.test(e)}function NP(e=qt()){return/iemobile/i.test(e)}function DP(e=qt()){return/android/i.test(e)}function OP(e=qt()){return/blackberry/i.test(e)}function MP(e=qt()){return/webos/i.test(e)}function cw(e=qt()){return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function J3(e=qt()){var t;return cw(e)&&!!(!((t=window.navigator)===null||t===void 0)&&t.standalone)}function Q3(){return Oj()&&document.documentMode===10}function LP(e=qt()){return cw(e)||DP(e)||MP(e)||OP(e)||/windows phone/i.test(e)||NP(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jP(e,t=[]){let n;switch(e){case"Browser":n=FE(qt());break;case"Worker":n=`${FE(qt())}-${e}`;break;default:n=e}const r=t.length?t.join(","):"FirebaseCore-web";return`${n}/JsCore/${ds}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z3{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,n){const r=s=>new Promise((o,a)=>{try{const l=t(s);o(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const n=[];try{for(const r of this.queue)await r(t),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function e6(e,t={}){return mi(e,"GET","/v2/passwordPolicy",pi(e,t))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t6=6;class n6{constructor(t){var n,r,i,s;const o=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:t6,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=t.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=t.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=t.schemaVersion}validatePassword(t){var n,r,i,s,o,a;const l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,l),this.validatePasswordCharacterOptions(t,l),l.isValid&&(l.isValid=(n=l.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),l.isValid&&(l.isValid=(r=l.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(i=l.containsLowercaseLetter)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(s=l.containsUppercaseLetter)!==null&&s!==void 0?s:!0),l.isValid&&(l.isValid=(o=l.containsNumericCharacter)!==null&&o!==void 0?o:!0),l.isValid&&(l.isValid=(a=l.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),l}validatePasswordLengthOptions(t,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=t.length>=r),i&&(n.meetsMaxPasswordLength=t.length<=i)}validatePasswordCharacterOptions(t,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<t.length;i++)r=t.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(t,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r6{constructor(t,n,r,i){this.app=t,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new $E(this),this.idTokenSubscription=new $E(this),this.beforeStateQueue=new Z3(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=bP,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(s=>this._resolvePersistenceManagerAvailable=s)}_initializeWithPersistence(t,n){return n&&(this._popupRedirectResolver=qr(n)),this._initializationPromise=this.queue(async()=>{var r,i,s;if(!this._deleted&&(this.persistenceManager=await ra.create(this,t),(r=this._resolvePersistenceManagerAvailable)===null||r===void 0||r.call(this),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((s=this.currentUser)===null||s===void 0?void 0:s.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const n=await Vh(this,{idToken:t}),r=await Xn._fromGetAccountInfoResponse(this,n,t);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){var n;if(Dt(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let i=r,s=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i==null?void 0:i._redirectEventId,l=await this.tryRedirectSignIn(t);(!o||o===a)&&(l!=null&&l.user)&&(i=l.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return Q(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(t){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(t){try{await Uh(t)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=M3()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(Dt(this.app))return Promise.reject(Jr(this));const n=t?et(t):null;return n&&Q(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(t,n=!1){if(!this._deleted)return t&&Q(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return Dt(this.app)?Promise.reject(Jr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return Dt(this.app)?Promise.reject(Jr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(qr(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await e6(this),n=new n6(t);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new co("auth","Firebase",t())}onAuthStateChanged(t,n,r){return this.registerStateListener(this.authStateSubscription,t,n,r)}beforeAuthStateChanged(t,n){return this.beforeStateQueue.pushCallback(t,n)}onIdTokenChanged(t,n,r){return this.registerStateListener(this.idTokenSubscription,t,n,r)}authStateReady(){return new Promise((t,n)=>{if(this.currentUser)t();else{const r=this.onAuthStateChanged(()=>{r(),t()},n)}})}async revokeAccessToken(t){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await X3(this,r)}}toJSON(){var t;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(t=this._currentUser)===null||t===void 0?void 0:t.toJSON()}}async _setRedirectUser(t,n){const r=await this.getOrInitRedirectPersistenceManager(n);return t===null?r.removeCurrentUser():r.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const n=t&&qr(t)||this._popupRedirectResolver;Q(n,this,"argument-error"),this.redirectPersistenceManager=await ra.create(this,[qr(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===t?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var t,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(t=this.currentUser)===null||t===void 0?void 0:t.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,n,r,i){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(Q(a,this,"internal-error"),a.then(()=>{o||s(this.currentUser)}),typeof n=="function"){const l=t.addObserver(n,r,i);return()=>{o=!0,l()}}else{const l=t.addObserver(n);return()=>{o=!0,l()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return Q(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=jP(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var t;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((t=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var t;if(Dt(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const n=await((t=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getToken());return n!=null&&n.error&&R3(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function hs(e){return et(e)}class $E{constructor(t){this.auth=t,this.observer=null,this.addObserver=Bj(n=>this.observer=n)}get next(){return Q(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let qf={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function i6(e){qf=e}function FP(e){return qf.loadJS(e)}function s6(){return qf.recaptchaEnterpriseScript}function o6(){return qf.gapiScript}function a6(e){return`__${e}${Math.floor(Math.random()*1e6)}`}class l6{constructor(){this.enterprise=new c6}ready(t){t()}execute(t,n){return Promise.resolve("token")}render(t,n){return""}}class c6{ready(t){t()}execute(t,n){return Promise.resolve("token")}render(t,n){return""}}const u6="recaptcha-enterprise",$P="NO_RECAPTCHA";class d6{constructor(t){this.type=u6,this.auth=hs(t)}async verify(t="verify",n=!1){async function r(s){if(!n){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise(async(o,a)=>{B3(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const c=new U3(l);return s.tenantId==null?s._agentRecaptchaConfig=c:s._tenantRecaptchaConfigs[s.tenantId]=c,o(c.siteKey)}}).catch(l=>{a(l)})})}function i(s,o,a){const l=window.grecaptcha;OE(l)?l.enterprise.ready(()=>{l.enterprise.execute(s,{action:t}).then(c=>{o(c)}).catch(()=>{o($P)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new l6().execute("siteKey",{action:"verify"}):new Promise((s,o)=>{r(this.auth).then(a=>{if(!n&&OE(window.grecaptcha))i(a,s,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let l=s6();l.length!==0&&(l+=a),FP(l).then(()=>{i(a,s,o)}).catch(c=>{o(c)})}}).catch(a=>{o(a)})})}}async function wl(e,t,n,r=!1,i=!1){const s=new d6(e);let o;if(i)o=$P;else try{o=await s.verify(n)}catch{o=await s.verify(n,!0)}const a=Object.assign({},t);if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in a){const l=a.phoneEnrollmentInfo.phoneNumber,c=a.phoneEnrollmentInfo.recaptchaToken;Object.assign(a,{phoneEnrollmentInfo:{phoneNumber:l,recaptchaToken:c,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in a){const l=a.phoneSignInInfo.recaptchaToken;Object.assign(a,{phoneSignInInfo:{recaptchaToken:l,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return a}return r?Object.assign(a,{captchaResp:o}):Object.assign(a,{captchaResponse:o}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a}async function Dy(e,t,n,r,i){var s,o;if(i==="EMAIL_PASSWORD_PROVIDER")if(!((s=e._getRecaptchaConfig())===null||s===void 0)&&s.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const a=await wl(e,t,n,n==="getOobCode");return r(e,a)}else return r(e,t).catch(async a=>{if(a.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const l=await wl(e,t,n,n==="getOobCode");return r(e,l)}else return Promise.reject(a)});else if(i==="PHONE_PROVIDER")if(!((o=e._getRecaptchaConfig())===null||o===void 0)&&o.isProviderEnabled("PHONE_PROVIDER")){const a=await wl(e,t,n);return r(e,a).catch(async l=>{var c;if(((c=e._getRecaptchaConfig())===null||c===void 0?void 0:c.getProviderEnforcementState("PHONE_PROVIDER"))==="AUDIT"&&(l.code==="auth/missing-recaptcha-token"||l.code==="auth/invalid-app-credential")){console.log(`Failed to verify with reCAPTCHA Enterprise. Automatically triggering the reCAPTCHA v2 flow to complete the ${n} flow.`);const d=await wl(e,t,n,!1,!0);return r(e,d)}return Promise.reject(l)})}else{const a=await wl(e,t,n,!1,!0);return r(e,a)}else return Promise.reject(i+" provider is not supported.")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function h6(e,t){const n=us(e,"auth");if(n.isInitialized()){const i=n.getImmediate(),s=n.getOptions();if(Zi(s,t??{}))return i;Ln(i,"already-initialized")}return n.initialize({options:t})}function f6(e,t){const n=(t==null?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(qr);t!=null&&t.errorMap&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,t==null?void 0:t.popupRedirectResolver)}function VP(e,t,n){const r=hs(e);Q(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");const i=!!(n!=null&&n.disableWarnings),s=UP(t),{host:o,port:a}=p6(t),l=a===null?"":`:${a}`,c={url:`${s}//${o}${l}/`},d=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){Q(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),Q(Zi(c,r.config.emulator)&&Zi(d,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=c,r.emulatorConfig=d,r.settings.appVerificationDisabledForTesting=!0,lo(o)?(cs("Auth",!0),$f(`${s}//${o}${l}`)):i||m6()}function UP(e){const t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function p6(e){const t=UP(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:VE(r.substr(s.length+1))}}else{const[s,o]=r.split(":");return{host:s,port:VE(o)}}}function VE(e){if(!e)return null;const t=Number(e);return isNaN(t)?null:t}function m6(){function e(){const t=document.createElement("p"),n=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",e):e())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uw{constructor(t,n){this.providerId=t,this.signInMethod=n}toJSON(){return Hr("not implemented")}_getIdTokenResponse(t){return Hr("not implemented")}_linkToIdToken(t,n){return Hr("not implemented")}_getReauthenticationResolver(t){return Hr("not implemented")}}async function g6(e,t){return mi(e,"POST","/v1/accounts:signUp",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function y6(e,t){return fu(e,"POST","/v1/accounts:signInWithPassword",pi(e,t))}async function v6(e,t){return mi(e,"POST","/v1/accounts:sendOobCode",pi(e,t))}async function w6(e,t){return v6(e,t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _6(e,t){return fu(e,"POST","/v1/accounts:signInWithEmailLink",pi(e,t))}async function x6(e,t){return fu(e,"POST","/v1/accounts:signInWithEmailLink",pi(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lc extends uw{constructor(t,n,r,i=null){super("password",r),this._email=t,this._password=n,this._tenantId=i}static _fromEmailAndPassword(t,n){return new Lc(t,n,"password")}static _fromEmailAndCode(t,n,r=null){return new Lc(t,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(t){const n=typeof t=="string"?JSON.parse(t):t;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(t){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Dy(t,n,"signInWithPassword",y6,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return _6(t,{email:this._email,oobCode:this._password});default:Ln(t,"internal-error")}}async _linkToIdToken(t,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Dy(t,r,"signUpPassword",g6,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return x6(t,{idToken:n,email:this._email,oobCode:this._password});default:Ln(t,"internal-error")}}_getReauthenticationResolver(t){return this._getIdTokenResponse(t)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ia(e,t){return fu(e,"POST","/v1/accounts:signInWithIdp",pi(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E6="http://localhost";class Js extends uw{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const n=new Js(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(n.idToken=t.idToken),t.accessToken&&(n.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(n.nonce=t.nonce),t.pendingToken&&(n.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(n.accessToken=t.oauthToken,n.secret=t.oauthTokenSecret):Ln("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const n=typeof t=="string"?JSON.parse(t):t,{providerId:r,signInMethod:i}=n,s=iw(n,["providerId","signInMethod"]);if(!r||!i)return null;const o=new Js(r,i);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(t){const n=this.buildRequest();return ia(t,n)}_linkToIdToken(t,n){const r=this.buildRequest();return r.idToken=n,ia(t,r)}_getReauthenticationResolver(t){const n=this.buildRequest();return n.autoCreate=!1,ia(t,n)}buildRequest(){const t={requestUri:E6,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),t.postBody=Ua(n)}return t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function b6(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function C6(e){const t=Nl(Dl(e)).link,n=t?Nl(Dl(t)).deep_link_id:null,r=Nl(Dl(e)).deep_link_id;return(r?Nl(Dl(r)).link:null)||r||n||t||e}class dw{constructor(t){var n,r,i,s,o,a;const l=Nl(Dl(t)),c=(n=l.apiKey)!==null&&n!==void 0?n:null,d=(r=l.oobCode)!==null&&r!==void 0?r:null,h=b6((i=l.mode)!==null&&i!==void 0?i:null);Q(c&&d&&h,"argument-error"),this.apiKey=c,this.operation=h,this.code=d,this.continueUrl=(s=l.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(o=l.lang)!==null&&o!==void 0?o:null,this.tenantId=(a=l.tenantId)!==null&&a!==void 0?a:null}static parseLink(t){const n=C6(t);try{return new dw(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ba{constructor(){this.providerId=Ba.PROVIDER_ID}static credential(t,n){return Lc._fromEmailAndPassword(t,n)}static credentialWithLink(t,n){const r=dw.parseLink(n);return Q(r,"argument-error"),Lc._fromEmailAndCode(t,r.code,r.tenantId)}}Ba.PROVIDER_ID="password";Ba.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Ba.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hw{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pu extends hw{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pi extends pu{constructor(){super("facebook.com")}static credential(t){return Js._fromParams({providerId:Pi.PROVIDER_ID,signInMethod:Pi.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Pi.credentialFromTaggedObject(t)}static credentialFromError(t){return Pi.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Pi.credential(t.oauthAccessToken)}catch{return null}}}Pi.FACEBOOK_SIGN_IN_METHOD="facebook.com";Pi.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yr extends pu{constructor(){super("google.com"),this.addScope("profile")}static credential(t,n){return Js._fromParams({providerId:yr.PROVIDER_ID,signInMethod:yr.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:n})}static credentialFromResult(t){return yr.credentialFromTaggedObject(t)}static credentialFromError(t){return yr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:n,oauthAccessToken:r}=t;if(!n&&!r)return null;try{return yr.credential(n,r)}catch{return null}}}yr.GOOGLE_SIGN_IN_METHOD="google.com";yr.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ai extends pu{constructor(){super("github.com")}static credential(t){return Js._fromParams({providerId:Ai.PROVIDER_ID,signInMethod:Ai.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Ai.credentialFromTaggedObject(t)}static credentialFromError(t){return Ai.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Ai.credential(t.oauthAccessToken)}catch{return null}}}Ai.GITHUB_SIGN_IN_METHOD="github.com";Ai.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ri extends pu{constructor(){super("twitter.com")}static credential(t,n){return Js._fromParams({providerId:Ri.PROVIDER_ID,signInMethod:Ri.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:n})}static credentialFromResult(t){return Ri.credentialFromTaggedObject(t)}static credentialFromError(t){return Ri.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=t;if(!n||!r)return null;try{return Ri.credential(n,r)}catch{return null}}}Ri.TWITTER_SIGN_IN_METHOD="twitter.com";Ri.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function S6(e,t){return fu(e,"POST","/v1/accounts:signUp",pi(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qs{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,n,r,i=!1){const s=await Xn._fromIdTokenResponse(t,r,i),o=UE(r);return new Qs({user:s,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(t,n,r){await t._updateTokensIfNecessary(r,!0);const i=UE(r);return new Qs({user:t,providerId:i,_tokenResponse:r,operationType:n})}}function UE(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bh extends cr{constructor(t,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,Bh.prototype),this.customData={appName:t.name,tenantId:(s=t.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(t,n,r,i){return new Bh(t,n,r,i)}}function BP(e,t,n,r){return(t==="reauthenticate"?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?Bh._fromErrorAndOperation(e,s,t,r):s})}async function T6(e,t,n=!1){const r=await Mc(e,t._linkToIdToken(e.auth,await e.getIdToken()),n);return Qs._forOperation(e,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function k6(e,t,n=!1){const{auth:r}=e;if(Dt(r.app))return Promise.reject(Jr(r));const i="reauthenticate";try{const s=await Mc(e,BP(r,i,t,e),n);Q(s.idToken,r,"internal-error");const o=lw(s.idToken);Q(o,r,"internal-error");const{sub:a}=o;return Q(e.uid===a,r,"user-mismatch"),Qs._forOperation(e,i,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&Ln(r,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zP(e,t,n=!1){if(Dt(e.app))return Promise.reject(Jr(e));const r="signIn",i=await BP(e,r,t),s=await Qs._fromIdTokenResponse(e,r,i);return n||await e._updateCurrentUser(s.user),s}async function I6(e,t){return zP(hs(e),t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function P6(e,t,n){var r;Q(((r=n.url)===null||r===void 0?void 0:r.length)>0,e,"invalid-continue-uri"),Q(typeof n.dynamicLinkDomain>"u"||n.dynamicLinkDomain.length>0,e,"invalid-dynamic-link-domain"),Q(typeof n.linkDomain>"u"||n.linkDomain.length>0,e,"invalid-hosting-link-domain"),t.continueUrl=n.url,t.dynamicLinkDomain=n.dynamicLinkDomain,t.linkDomain=n.linkDomain,t.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(Q(n.iOS.bundleId.length>0,e,"missing-ios-bundle-id"),t.iOSBundleId=n.iOS.bundleId),n.android&&(Q(n.android.packageName.length>0,e,"missing-android-pkg-name"),t.androidInstallApp=n.android.installApp,t.androidMinimumVersionCode=n.android.minimumVersion,t.androidPackageName=n.android.packageName)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function WP(e){const t=hs(e);t._getPasswordPolicyInternal()&&await t._updatePasswordPolicy()}async function HP(e,t,n){if(Dt(e.app))return Promise.reject(Jr(e));const r=hs(e),o=await Dy(r,{returnSecureToken:!0,email:t,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",S6,"EMAIL_PASSWORD_PROVIDER").catch(l=>{throw l.code==="auth/password-does-not-meet-requirements"&&WP(e),l}),a=await Qs._fromIdTokenResponse(r,"signIn",o);return await r._updateCurrentUser(a.user),a}function A6(e,t,n){return Dt(e.app)?Promise.reject(Jr(e)):I6(et(e),Ba.credential(t,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&WP(e),r})}async function R6(e,t){const n=et(e),i={requestType:"VERIFY_EMAIL",idToken:await e.getIdToken()};t&&P6(n.auth,i,t);const{email:s}=await w6(n.auth,i);s!==e.email&&await e.reload()}function N6(e,t,n,r){return et(e).onIdTokenChanged(t,n,r)}function D6(e,t,n){return et(e).beforeAuthStateChanged(t,n)}function O6(e,t,n,r){return et(e).onAuthStateChanged(t,n,r)}function qP(e){return et(e).signOut()}const zh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GP{constructor(t,n){this.storageRetriever=t,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(zh,"1"),this.storage.removeItem(zh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,n){return this.storage.setItem(t,JSON.stringify(n)),Promise.resolve()}_get(t){const n=this.storage.getItem(t);return Promise.resolve(n?JSON.parse(n):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M6=1e3,L6=10;class KP extends GP{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,n)=>this.onStorageEvent(t,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=LP(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&t(n,i,r)}}onStorageEvent(t,n=!1){if(!t.key){this.forAllChangedKeys((o,a,l)=>{this.notifyListeners(o,l)});return}const r=t.key;n?this.detachListener():this.stopPolling();const i=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},s=this.storage.getItem(r);Q3()&&s!==t.newValue&&t.newValue!==t.oldValue?setTimeout(i,L6):i()}notifyListeners(t,n){this.localCache[t]=n;const r=this.listeners[t];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:r}),!0)})},M6)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,n){await super._set(t,n),this.localCache[t]=JSON.stringify(n)}async _get(t){const n=await super._get(t);return this.localCache[t]=JSON.stringify(n),n}async _remove(t){await super._remove(t),delete this.localCache[t]}}KP.type="LOCAL";const j6=KP;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YP extends GP{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,n){}_removeListener(t,n){}}YP.type="SESSION";const XP=YP;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function F6(e){return Promise.all(e.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gf{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const n=this.receivers.find(i=>i.isListeningto(t));if(n)return n;const r=new Gf(t);return this.receivers.push(r),r}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const n=t,{eventId:r,eventType:i,data:s}=n.data,o=this.handlersMap[i];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const a=Array.from(o).map(async c=>c(n.origin,s)),l=await F6(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:l})}_subscribe(t,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(n)}_unsubscribe(t,n){this.handlersMap[t]&&n&&this.handlersMap[t].delete(n),(!n||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Gf.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fw(e="",t=10){let n="";for(let r=0;r<t;r++)n+=Math.floor(Math.random()*10);return e+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $6{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((a,l)=>{const c=fw("",20);i.port1.start();const d=setTimeout(()=>{l(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(h){const f=h;if(f.data.eventId===c)switch(f.data.status){case"ack":clearTimeout(d),s=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(f.data.response);break;default:clearTimeout(d),clearTimeout(s),l(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:t,eventId:c,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xr(){return window}function V6(e){xr().location.href=e}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JP(){return typeof xr().WorkerGlobalScope<"u"&&typeof xr().importScripts=="function"}async function U6(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function B6(){var e;return((e=navigator==null?void 0:navigator.serviceWorker)===null||e===void 0?void 0:e.controller)||null}function z6(){return JP()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QP="firebaseLocalStorageDb",W6=1,Wh="firebaseLocalStorage",ZP="fbase_key";class mu{constructor(t){this.request=t}toPromise(){return new Promise((t,n)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Kf(e,t){return e.transaction([Wh],t?"readwrite":"readonly").objectStore(Wh)}function H6(){const e=indexedDB.deleteDatabase(QP);return new mu(e).toPromise()}function Oy(){const e=indexedDB.open(QP,W6);return new Promise((t,n)=>{e.addEventListener("error",()=>{n(e.error)}),e.addEventListener("upgradeneeded",()=>{const r=e.result;try{r.createObjectStore(Wh,{keyPath:ZP})}catch(i){n(i)}}),e.addEventListener("success",async()=>{const r=e.result;r.objectStoreNames.contains(Wh)?t(r):(r.close(),await H6(),t(await Oy()))})})}async function BE(e,t,n){const r=Kf(e,!0).put({[ZP]:t,value:n});return new mu(r).toPromise()}async function q6(e,t){const n=Kf(e,!1).get(t),r=await new mu(n).toPromise();return r===void 0?null:r.value}function zE(e,t){const n=Kf(e,!0).delete(t);return new mu(n).toPromise()}const G6=800,K6=3;class e2{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Oy(),this.db)}async _withRetries(t){let n=0;for(;;)try{const r=await this._openDb();return await t(r)}catch(r){if(n++>K6)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return JP()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Gf._getInstance(z6()),this.receiver._subscribe("keyChanged",async(t,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(t,n)=>["keyChanged"])}async initializeSender(){var t,n;if(this.activeServiceWorker=await U6(),!this.activeServiceWorker)return;this.sender=new $6(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((t=r[0])===null||t===void 0)&&t.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||B6()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await Oy();return await BE(t,zh,"1"),await zE(t,zh),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>BE(r,t,n)),this.localCache[t]=n,this.notifyServiceWorker(t)))}async _get(t){const n=await this._withRetries(r=>q6(r,t));return this.localCache[t]=n,n}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(n=>zE(n,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(i=>{const s=Kf(i,!1).getAll();return new mu(s).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(t.length!==0)for(const{fbase_key:i,value:s}of t)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(t,n){this.localCache[t]=n;const r=this.listeners[t];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),G6)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}e2.type="LOCAL";const Y6=e2;new hu(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function t2(e,t){return t?qr(t):(Q(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pw extends uw{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return ia(t,this._buildIdpRequest())}_linkToIdToken(t,n){return ia(t,this._buildIdpRequest(n))}_getReauthenticationResolver(t){return ia(t,this._buildIdpRequest())}_buildIdpRequest(t){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(n.idToken=t),n}}function X6(e){return zP(e.auth,new pw(e),e.bypassAuthState)}function J6(e){const{auth:t,user:n}=e;return Q(n,t,"internal-error"),k6(n,new pw(e),e.bypassAuthState)}async function Q6(e){const{auth:t,user:n}=e;return Q(n,t,"internal-error"),T6(n,new pw(e),e.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n2{constructor(t,n,r,i,s=!1){this.auth=t,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(t,n)=>{this.pendingPromise={resolve:t,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(t){const{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:o,type:a}=t;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(c){this.reject(c)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return X6;case"linkViaPopup":case"linkViaRedirect":return Q6;case"reauthViaPopup":case"reauthViaRedirect":return J6;default:Ln(this.auth,"internal-error")}}resolve(t){ai(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){ai(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z6=new hu(2e3,1e4);async function e$(e,t,n){if(Dt(e.app))return Promise.reject(rr(e,"operation-not-supported-in-this-environment"));const r=hs(e);N3(e,t,hw);const i=t2(r,n);return new Ds(r,"signInViaPopup",t,i).executeNotNull()}class Ds extends n2{constructor(t,n,r,i,s){super(t,n,i,s),this.provider=r,this.authWindow=null,this.pollId=null,Ds.currentPopupAction&&Ds.currentPopupAction.cancel(),Ds.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return Q(t,this.auth,"internal-error"),t}async onExecution(){ai(this.filter.length===1,"Popup operations only handle one event");const t=fw();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(rr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var t;return((t=this.authWindow)===null||t===void 0?void 0:t.associatedEvent)||null}cancel(){this.reject(rr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ds.currentPopupAction=null}pollUserCancellation(){const t=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(rr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,Z6.get())};t()}}Ds.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t$="pendingRedirect",Kd=new Map;class n$ extends n2{constructor(t,n,r=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let t=Kd.get(this.auth._key());if(!t){try{const r=await r$(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(r)}catch(n){t=()=>Promise.reject(n)}Kd.set(this.auth._key(),t)}return this.bypassAuthState||Kd.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const n=await this.auth._redirectUserForId(t.eventId);if(n)return this.user=n,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function r$(e,t){const n=o$(t),r=s$(e);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function i$(e,t){Kd.set(e._key(),t)}function s$(e){return qr(e._redirectPersistence)}function o$(e){return Gd(t$,e.config.apiKey,e.name)}async function a$(e,t,n=!1){if(Dt(e.app))return Promise.reject(Jr(e));const r=hs(e),i=t2(r,t),o=await new n$(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,t)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l$=10*60*1e3;class c${constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(t,r)&&(n=!0,this.sendToConsumer(t,r),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!u$(t)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=t,n=!0)),n}sendToConsumer(t,n){var r;if(t.error&&!r2(t)){const i=((r=t.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(rr(this.auth,i))}else n.onAuthEvent(t)}isEventForConsumer(t,n){const r=n.eventId===null||!!t.eventId&&t.eventId===n.eventId;return n.filter.includes(t.type)&&r}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=l$&&this.cachedEventUids.clear(),this.cachedEventUids.has(WE(t))}saveEventToCache(t){this.cachedEventUids.add(WE(t)),this.lastProcessedEventTime=Date.now()}}function WE(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter(t=>t).join("-")}function r2({type:e,error:t}){return e==="unknown"&&(t==null?void 0:t.code)==="auth/no-auth-event"}function u$(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return r2(e);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function d$(e,t={}){return mi(e,"GET","/v1/projects",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h$=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,f$=/^https?/;async function p$(e){if(e.config.emulator)return;const{authorizedDomains:t}=await d$(e);for(const n of t)try{if(m$(n))return}catch{}Ln(e,"unauthorized-domain")}function m$(e){const t=Ry(),{protocol:n,hostname:r}=new URL(t);if(e.startsWith("chrome-extension://")){const o=new URL(e);return o.hostname===""&&r===""?n==="chrome-extension:"&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!f$.test(n))return!1;if(h$.test(e))return r===e;const i=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g$=new hu(3e4,6e4);function HE(){const e=xr().___jsl;if(e!=null&&e.H){for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let n=0;n<e.CP.length;n++)e.CP[n]=null}}function y$(e){return new Promise((t,n)=>{var r,i,s;function o(){HE(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{HE(),n(rr(e,"network-request-failed"))},timeout:g$.get()})}if(!((i=(r=xr().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)t(gapi.iframes.getContext());else if(!((s=xr().gapi)===null||s===void 0)&&s.load)o();else{const a=a6("iframefcb");return xr()[a]=()=>{gapi.load?o():n(rr(e,"network-request-failed"))},FP(`${o6()}?onload=${a}`).catch(l=>n(l))}}).catch(t=>{throw Yd=null,t})}let Yd=null;function v$(e){return Yd=Yd||y$(e),Yd}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w$=new hu(5e3,15e3),_$="__/auth/iframe",x$="emulator/auth/iframe",E$={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},b$=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function C$(e){const t=e.config;Q(t.authDomain,e,"auth-domain-config-required");const n=t.emulator?aw(t,x$):`https://${e.config.authDomain}/${_$}`,r={apiKey:t.apiKey,appName:e.name,v:ds},i=b$.get(e.config.apiHost);i&&(r.eid=i);const s=e._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${Ua(r).slice(1)}`}async function S$(e){const t=await v$(e),n=xr().gapi;return Q(n,e,"internal-error"),t.open({where:document.body,url:C$(e),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:E$,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const o=rr(e,"network-request-failed"),a=xr().setTimeout(()=>{s(o)},w$.get());function l(){xr().clearTimeout(a),i(r)}r.ping(l).then(l,()=>{s(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T$={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},k$=500,I$=600,P$="_blank",A$="http://localhost";class qE{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function R$(e,t,n,r=k$,i=I$){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=Object.assign(Object.assign({},T$),{width:r.toString(),height:i.toString(),top:s,left:o}),c=qt().toLowerCase();n&&(a=RP(c)?P$:n),PP(c)&&(t=t||A$,l.scrollbars="yes");const d=Object.entries(l).reduce((f,[g,y])=>`${f}${g}=${y},`,"");if(J3(c)&&a!=="_self")return N$(t||"",a),new qE(null);const h=window.open(t||"",a,d);Q(h,e,"popup-blocked");try{h.focus()}catch{}return new qE(h)}function N$(e,t){const n=document.createElement("a");n.href=e,n.target=t;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D$="__/auth/handler",O$="emulator/auth/handler",M$=encodeURIComponent("fac");async function GE(e,t,n,r,i,s){Q(e.config.authDomain,e,"auth-domain-config-required"),Q(e.config.apiKey,e,"invalid-api-key");const o={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:ds,eventId:i};if(t instanceof hw){t.setDefaultLanguage(e.languageCode),o.providerId=t.providerId||"",Ey(t.getCustomParameters())||(o.customParameters=JSON.stringify(t.getCustomParameters()));for(const[d,h]of Object.entries(s||{}))o[d]=h}if(t instanceof pu){const d=t.getScopes().filter(h=>h!=="");d.length>0&&(o.scopes=d.join(","))}e.tenantId&&(o.tid=e.tenantId);const a=o;for(const d of Object.keys(a))a[d]===void 0&&delete a[d];const l=await e._getAppCheckToken(),c=l?`#${M$}=${encodeURIComponent(l)}`:"";return`${L$(e)}?${Ua(a).slice(1)}${c}`}function L$({config:e}){return e.emulator?aw(e,O$):`https://${e.authDomain}/${D$}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Km="webStorageSupport";class j${constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=XP,this._completeRedirectFn=a$,this._overrideRedirectResult=i$}async _openPopup(t,n,r,i){var s;ai((s=this.eventManagers[t._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const o=await GE(t,n,r,Ry(),i);return R$(t,o,fw())}async _openRedirect(t,n,r,i){await this._originValidation(t);const s=await GE(t,n,r,Ry(),i);return V6(s),new Promise(()=>{})}_initialize(t){const n=t._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(ai(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(t);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(t){const n=await S$(t),r=new c$(t);return n.register("authEvent",i=>(Q(i==null?void 0:i.authEvent,t,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:r},this.iframes[t._key()]=n,r}_isIframeWebStorageSupported(t,n){this.iframes[t._key()].send(Km,{type:Km},i=>{var s;const o=(s=i==null?void 0:i[0])===null||s===void 0?void 0:s[Km];o!==void 0&&n(!!o),Ln(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const n=t._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=p$(t)),this.originValidationPromises[n]}get _shouldInitProactively(){return LP()||AP()||cw()}}const F$=j$;var KE="@firebase/auth",YE="1.10.4";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $${constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){var t;return this.assertAuthConfigured(),((t=this.auth.currentUser)===null||t===void 0?void 0:t.uid)||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const n=this.auth.onIdTokenChanged(r=>{t((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(t,n),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const n=this.internalListeners.get(t);n&&(this.internalListeners.delete(t),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Q(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function V$(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function U$(e){wn(new ln("auth",(t,{options:n})=>{const r=t.getProvider("app").getImmediate(),i=t.getProvider("heartbeat"),s=t.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;Q(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:o,authDomain:a,clientPlatform:e,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:jP(e)},c=new r6(r,i,s,l);return f6(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,n,r)=>{t.getProvider("auth-internal").initialize()})),wn(new ln("auth-internal",t=>{const n=hs(t.getProvider("auth").getImmediate());return(r=>new $$(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),mt(KE,YE,V$(e)),mt(KE,YE,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B$=5*60,z$=UI("authIdTokenMaxAge")||B$;let XE=null;const W$=e=>async t=>{const n=t&&await t.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>z$)return;const i=n==null?void 0:n.token;XE!==i&&(XE=i,await fetch(e,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function H$(e=du()){const t=us(e,"auth");if(t.isInitialized())return t.getImmediate();const n=h6(e,{popupRedirectResolver:F$,persistence:[Y6,j6,XP]}),r=UI("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const s=new URL(r,location.origin);if(location.origin===s.origin){const o=W$(s.toString());D6(n,o,()=>o(n.currentUser)),N6(n,a=>o(a))}}const i=$I("auth");return i?VP(n,`http://${i}`):cs("Auth",!1),n}function q$(){var e,t;return(t=(e=document.getElementsByTagName("head"))===null||e===void 0?void 0:e[0])!==null&&t!==void 0?t:document}i6({loadJS(e){return new Promise((t,n)=>{const r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=i=>{const s=rr("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",q$().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});U$("Browser");const JE="@firebase/database",QE="1.0.17";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let i2="";function G$(e){i2=e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K${constructor(t){this.domStorage_=t,this.prefix_="firebase:"}set(t,n){n==null?this.domStorage_.removeItem(this.prefixedName_(t)):this.domStorage_.setItem(this.prefixedName_(t),ot(n))}get(t){const n=this.domStorage_.getItem(this.prefixedName_(t));return n==null?null:Rc(n)}remove(t){this.domStorage_.removeItem(this.prefixedName_(t))}prefixedName_(t){return this.prefix_+t}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y${constructor(){this.cache_={},this.isInMemoryStorage=!0}set(t,n){n==null?delete this.cache_[t]:this.cache_[t]=n}get(t){return Rr(this.cache_,t)?this.cache_[t]:null}remove(t){delete this.cache_[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s2=function(e){try{if(typeof window<"u"&&typeof window[e]<"u"){const t=window[e];return t.setItem("firebase:sentinel","cache"),t.removeItem("firebase:sentinel"),new K$(t)}}catch{}return new Y$},Os=s2("localStorage"),My=s2("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sa=new Bf("@firebase/database"),X$=function(){let e=1;return function(){return e++}}(),o2=function(e){const t=Hj(e),n=new Uj;n.update(t);const r=n.digest();return Hv.encodeByteArray(r)},gu=function(...e){let t="";for(let n=0;n<e.length;n++){const r=e[n];Array.isArray(r)||r&&typeof r=="object"&&typeof r.length=="number"?t+=gu.apply(null,r):typeof r=="object"?t+=ot(r):t+=r,t+=" "}return t};let Vs=null,ZE=!0;const J$=function(e,t){B(!t||e===!0||e===!1,"Can't turn on custom loggers persistently."),e===!0?(sa.logLevel=_e.VERBOSE,Vs=sa.log.bind(sa),t&&My.set("logging_enabled",!0)):typeof e=="function"?Vs=e:(Vs=null,My.remove("logging_enabled"))},xt=function(...e){if(ZE===!0&&(ZE=!1,Vs===null&&My.get("logging_enabled")===!0&&J$(!0)),Vs){const t=gu.apply(null,e);Vs(t)}},yu=function(e){return function(...t){xt(e,...t)}},Ly=function(...e){const t="FIREBASE INTERNAL ERROR: "+gu(...e);sa.error(t)},li=function(...e){const t=`FIREBASE FATAL ERROR: ${gu(...e)}`;throw sa.error(t),new Error(t)},Ht=function(...e){const t="FIREBASE WARNING: "+gu(...e);sa.warn(t)},Q$=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&Ht("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},mw=function(e){return typeof e=="number"&&(e!==e||e===Number.POSITIVE_INFINITY||e===Number.NEGATIVE_INFINITY)},Z$=function(e){if(document.readyState==="complete")e();else{let t=!1;const n=function(){if(!document.body){setTimeout(n,Math.floor(10));return}t||(t=!0,e())};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&n()}),window.attachEvent("onload",n))}},wa="[MIN_NAME]",Zs="[MAX_NAME]",uo=function(e,t){if(e===t)return 0;if(e===wa||t===Zs)return-1;if(t===wa||e===Zs)return 1;{const n=eb(e),r=eb(t);return n!==null?r!==null?n-r===0?e.length-t.length:n-r:-1:r!==null?1:e<t?-1:1}},e9=function(e,t){return e===t?0:e<t?-1:1},_l=function(e,t){if(t&&e in t)return t[e];throw new Error("Missing required key ("+e+") in object: "+ot(t))},gw=function(e){if(typeof e!="object"||e===null)return ot(e);const t=[];for(const r in e)t.push(r);t.sort();let n="{";for(let r=0;r<t.length;r++)r!==0&&(n+=","),n+=ot(t[r]),n+=":",n+=gw(e[t[r]]);return n+="}",n},a2=function(e,t){const n=e.length;if(n<=t)return[e];const r=[];for(let i=0;i<n;i+=t)i+t>n?r.push(e.substring(i,n)):r.push(e.substring(i,i+t));return r};function Ct(e,t){for(const n in e)e.hasOwnProperty(n)&&t(n,e[n])}const l2=function(e){B(!mw(e),"Invalid JSON number");const t=11,n=52,r=(1<<t-1)-1;let i,s,o,a,l;e===0?(s=0,o=0,i=1/e===-1/0?1:0):(i=e<0,e=Math.abs(e),e>=Math.pow(2,1-r)?(a=Math.min(Math.floor(Math.log(e)/Math.LN2),r),s=a+r,o=Math.round(e*Math.pow(2,n-a)-Math.pow(2,n))):(s=0,o=Math.round(e/Math.pow(2,1-r-n))));const c=[];for(l=n;l;l-=1)c.push(o%2?1:0),o=Math.floor(o/2);for(l=t;l;l-=1)c.push(s%2?1:0),s=Math.floor(s/2);c.push(i?1:0),c.reverse();const d=c.join("");let h="";for(l=0;l<64;l+=8){let f=parseInt(d.substr(l,8),2).toString(16);f.length===1&&(f="0"+f),h=h+f}return h.toLowerCase()},t9=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},n9=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function r9(e,t){let n="Unknown Error";e==="too_big"?n="The data requested exceeds the maximum size that can be accessed with a single request.":e==="permission_denied"?n="Client doesn't have permission to access the desired data.":e==="unavailable"&&(n="The service is unavailable");const r=new Error(e+" at "+t._path.toString()+": "+n);return r.code=e.toUpperCase(),r}const i9=new RegExp("^-?(0*)\\d{1,10}$"),s9=-2147483648,o9=2147483647,eb=function(e){if(i9.test(e)){const t=Number(e);if(t>=s9&&t<=o9)return t}return null},za=function(e){try{e()}catch(t){setTimeout(()=>{const n=t.stack||"";throw Ht("Exception was thrown by user callback.",n),t},Math.floor(0))}},a9=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},Ql=function(e,t){const n=setTimeout(e,t);return typeof n=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(n):typeof n=="object"&&n.unref&&n.unref(),n};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l9{constructor(t,n){this.appCheckProvider=n,this.appName=t.name,Dt(t)&&t.settings.appCheckToken&&(this.serverAppAppCheckToken=t.settings.appCheckToken),this.appCheck=n==null?void 0:n.getImmediate({optional:!0}),this.appCheck||n==null||n.get().then(r=>this.appCheck=r)}getToken(t){if(this.serverAppAppCheckToken){if(t)throw new Error("Attempted reuse of `FirebaseServerApp.appCheckToken` after previous usage failed.");return Promise.resolve({token:this.serverAppAppCheckToken})}return this.appCheck?this.appCheck.getToken(t):new Promise((n,r)=>{setTimeout(()=>{this.appCheck?this.getToken(t).then(n,r):n(null)},0)})}addTokenChangeListener(t){var n;(n=this.appCheckProvider)===null||n===void 0||n.get().then(r=>r.addTokenListener(t))}notifyForInvalidToken(){Ht(`Provided AppCheck credentials for the app named "${this.appName}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c9{constructor(t,n,r){this.appName_=t,this.firebaseOptions_=n,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit(i=>this.auth_=i)}getToken(t){return this.auth_?this.auth_.getToken(t).catch(n=>n&&n.code==="auth/token-not-initialized"?(xt("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(n)):new Promise((n,r)=>{setTimeout(()=>{this.auth_?this.getToken(t).then(n,r):n(null)},0)})}addTokenChangeListener(t){this.auth_?this.auth_.addAuthTokenListener(t):this.authProvider_.get().then(n=>n.addAuthTokenListener(t))}removeTokenChangeListener(t){this.authProvider_.get().then(n=>n.removeAuthTokenListener(t))}notifyForInvalidToken(){let t='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?t+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?t+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':t+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',Ht(t)}}class oa{constructor(t){this.accessToken=t}getToken(t){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(t){t(this.accessToken)}removeTokenChangeListener(t){}notifyForInvalidToken(){}}oa.OWNER="owner";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yw="5",c2="v",u2="s",d2="r",h2="f",f2=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,p2="ls",m2="p",jy="ac",g2="websocket",y2="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v2{constructor(t,n,r,i,s=!1,o="",a=!1,l=!1,c=null){this.secure=n,this.namespace=r,this.webSocketOnly=i,this.nodeAdmin=s,this.persistenceKey=o,this.includeNamespaceInQueryParams=a,this.isUsingEmulator=l,this.emulatorOptions=c,this._host=t.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Os.get("host:"+t)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(t){t!==this.internalHost&&(this.internalHost=t,this.isCacheableHost()&&Os.set("host:"+this._host,this.internalHost))}toString(){let t=this.toURLString();return this.persistenceKey&&(t+="<"+this.persistenceKey+">"),t}toURLString(){const t=this.secure?"https://":"http://",n=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${t}${this.host}/${n}`}}function u9(e){return e.host!==e.internalHost||e.isCustomHost()||e.includeNamespaceInQueryParams}function w2(e,t,n){B(typeof t=="string","typeof type must == string"),B(typeof n=="object","typeof params must == object");let r;if(t===g2)r=(e.secure?"wss://":"ws://")+e.internalHost+"/.ws?";else if(t===y2)r=(e.secure?"https://":"http://")+e.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+t);u9(e)&&(n.ns=e.namespace);const i=[];return Ct(n,(s,o)=>{i.push(s+"="+o)}),r+i.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d9{constructor(){this.counters_={}}incrementCounter(t,n=1){Rr(this.counters_,t)||(this.counters_[t]=0),this.counters_[t]+=n}get(){return Cj(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ym={},Xm={};function vw(e){const t=e.toString();return Ym[t]||(Ym[t]=new d9),Ym[t]}function h9(e,t){const n=e.toString();return Xm[n]||(Xm[n]=t()),Xm[n]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f9{constructor(t){this.onMessage_=t,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(t,n){this.closeAfterResponse=t,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(t,n){for(this.pendingResponses[t]=n;this.pendingResponses[this.currentResponseNum];){const r=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let i=0;i<r.length;++i)r[i]&&za(()=>{this.onMessage_(r[i])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tb="start",p9="close",m9="pLPCommand",g9="pRTLPCB",_2="id",x2="pw",E2="ser",y9="cb",v9="seg",w9="ts",_9="d",x9="dframe",b2=1870,C2=30,E9=b2-C2,b9=25e3,C9=3e4;class Wo{constructor(t,n,r,i,s,o,a){this.connId=t,this.repoInfo=n,this.applicationId=r,this.appCheckToken=i,this.authToken=s,this.transportSessionId=o,this.lastSessionId=a,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=yu(t),this.stats_=vw(n),this.urlFn=l=>(this.appCheckToken&&(l[jy]=this.appCheckToken),w2(n,y2,l))}open(t,n){this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new f9(t),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(C9)),Z$(()=>{if(this.isClosed_)return;this.scriptTagHolder=new ww((...s)=>{const[o,a,l,c,d]=s;if(this.incrementIncomingBytes_(s),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,o===tb)this.id=a,this.password=l;else if(o===p9)a?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(a,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+o)},(...s)=>{const[o,a]=s;this.incrementIncomingBytes_(s),this.myPacketOrderer.handleResponse(o,a)},()=>{this.onClosed_()},this.urlFn);const r={};r[tb]="t",r[E2]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(r[y9]=this.scriptTagHolder.uniqueCallbackIdentifier),r[c2]=yw,this.transportSessionId&&(r[u2]=this.transportSessionId),this.lastSessionId&&(r[p2]=this.lastSessionId),this.applicationId&&(r[m2]=this.applicationId),this.appCheckToken&&(r[jy]=this.appCheckToken),typeof location<"u"&&location.hostname&&f2.test(location.hostname)&&(r[d2]=h2);const i=this.urlFn(r);this.log_("Connecting via long-poll to "+i),this.scriptTagHolder.addTag(i,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){Wo.forceAllow_=!0}static forceDisallow(){Wo.forceDisallow_=!0}static isAvailable(){return Wo.forceAllow_?!0:!Wo.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!t9()&&!n9()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(t){const n=ot(t);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=jI(n),i=a2(r,E9);for(let s=0;s<i.length;s++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,i.length,i[s]),this.curSegmentNum++}addDisconnectPingFrame(t,n){this.myDisconnFrame=document.createElement("iframe");const r={};r[x9]="t",r[_2]=t,r[x2]=n,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(t){const n=ot(t).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)}}class ww{constructor(t,n,r,i){this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=X$(),window[m9+this.uniqueCallbackIdentifier]=t,window[g9+this.uniqueCallbackIdentifier]=n,this.myIFrame=ww.createIFrame_();let s="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(s='<script>document.domain="'+document.domain+'";<\/script>');const o="<html><body>"+s+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(o),this.myIFrame.doc.close()}catch(a){xt("frame writing exception"),a.stack&&xt(a.stack),xt(a)}}}static createIFrame_(){const t=document.createElement("iframe");if(t.style.display="none",document.body){document.body.appendChild(t);try{t.contentWindow.document||xt("No IE domain setting required")}catch{const r=document.domain;t.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return t.contentDocument?t.doc=t.contentDocument:t.contentWindow?t.doc=t.contentWindow.document:t.document&&(t.doc=t.document),t}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const t=this.onDisconnect;t&&(this.onDisconnect=null,t())}startLongPoll(t,n){for(this.myID=t,this.myPW=n,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const t={};t[_2]=this.myID,t[x2]=this.myPW,t[E2]=this.currentSerial;let n=this.urlFn(t),r="",i=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+C2+r.length<=b2;){const o=this.pendingSegs.shift();r=r+"&"+v9+i+"="+o.seg+"&"+w9+i+"="+o.ts+"&"+_9+i+"="+o.d,i++}return n=n+r,this.addLongPollTag_(n,this.currentSerial),!0}else return!1}enqueueSegment(t,n,r){this.pendingSegs.push({seg:t,ts:n,d:r}),this.alive&&this.newRequest_()}addLongPollTag_(t,n){this.outstandingRequests.add(n);const r=()=>{this.outstandingRequests.delete(n),this.newRequest_()},i=setTimeout(r,Math.floor(b9)),s=()=>{clearTimeout(i),r()};this.addTag(t,s)}addTag(t,n){setTimeout(()=>{try{if(!this.sendNewPolls)return;const r=this.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=t,r.onload=r.onreadystatechange=function(){const i=r.readyState;(!i||i==="loaded"||i==="complete")&&(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),n())},r.onerror=()=>{xt("Long-poll script failed to load: "+t),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(r)}catch{}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S9=16384,T9=45e3;let Hh=null;typeof MozWebSocket<"u"?Hh=MozWebSocket:typeof WebSocket<"u"&&(Hh=WebSocket);class Yn{constructor(t,n,r,i,s,o,a){this.connId=t,this.applicationId=r,this.appCheckToken=i,this.authToken=s,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=yu(this.connId),this.stats_=vw(n),this.connURL=Yn.connectionURL_(n,o,a,i,r),this.nodeAdmin=n.nodeAdmin}static connectionURL_(t,n,r,i,s){const o={};return o[c2]=yw,typeof location<"u"&&location.hostname&&f2.test(location.hostname)&&(o[d2]=h2),n&&(o[u2]=n),r&&(o[p2]=r),i&&(o[jy]=i),s&&(o[m2]=s),w2(t,g2,o)}open(t,n){this.onDisconnect=n,this.onMessage=t,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Os.set("previous_websocket_failure",!0);try{let r;zI(),this.mySock=new Hh(this.connURL,[],r)}catch(r){this.log_("Error instantiating WebSocket.");const i=r.message||r.data;i&&this.log_(i),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=r=>{this.handleIncomingFrame(r)},this.mySock.onerror=r=>{this.log_("WebSocket error.  Closing connection.");const i=r.message||r.data;i&&this.log_(i),this.onClosed_()}}start(){}static forceDisallow(){Yn.forceDisallow_=!0}static isAvailable(){let t=!1;if(typeof navigator<"u"&&navigator.userAgent){const n=/Android ([0-9]{0,}\.[0-9]{0,})/,r=navigator.userAgent.match(n);r&&r.length>1&&parseFloat(r[1])<4.4&&(t=!0)}return!t&&Hh!==null&&!Yn.forceDisallow_}static previouslyFailed(){return Os.isInMemoryStorage||Os.get("previous_websocket_failure")===!0}markConnectionHealthy(){Os.remove("previous_websocket_failure")}appendFrame_(t){if(this.frames.push(t),this.frames.length===this.totalFrames){const n=this.frames.join("");this.frames=null;const r=Rc(n);this.onMessage(r)}}handleNewFrameCount_(t){this.totalFrames=t,this.frames=[]}extractFrameCount_(t){if(B(this.frames===null,"We already have a frame buffer"),t.length<=6){const n=Number(t);if(!isNaN(n))return this.handleNewFrameCount_(n),null}return this.handleNewFrameCount_(1),t}handleIncomingFrame(t){if(this.mySock===null)return;const n=t.data;if(this.bytesReceived+=n.length,this.stats_.incrementCounter("bytes_received",n.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(n);else{const r=this.extractFrameCount_(n);r!==null&&this.appendFrame_(r)}}send(t){this.resetKeepAlive();const n=ot(t);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=a2(n,S9);r.length>1&&this.sendString_(String(r.length));for(let i=0;i<r.length;i++)this.sendString_(r[i])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(T9))}sendString_(t){try{this.mySock.send(t)}catch(n){this.log_("Exception thrown from WebSocket.send():",n.message||n.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}Yn.responsesRequiredToBeHealthy=2;Yn.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jc{static get ALL_TRANSPORTS(){return[Wo,Yn]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}constructor(t){this.initTransports_(t)}initTransports_(t){const n=Yn&&Yn.isAvailable();let r=n&&!Yn.previouslyFailed();if(t.webSocketOnly&&(n||Ht("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[Yn];else{const i=this.transports_=[];for(const s of jc.ALL_TRANSPORTS)s&&s.isAvailable()&&i.push(s);jc.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}jc.globalTransportInitialized_=!1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k9=6e4,I9=5e3,P9=10*1024,A9=100*1024,Jm="t",nb="d",R9="s",rb="r",N9="e",ib="o",sb="a",ob="n",ab="p",D9="h";class O9{constructor(t,n,r,i,s,o,a,l,c,d){this.id=t,this.repoInfo_=n,this.applicationId_=r,this.appCheckToken_=i,this.authToken_=s,this.onMessage_=o,this.onReady_=a,this.onDisconnect_=l,this.onKill_=c,this.lastSessionId=d,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=yu("c:"+this.id+":"),this.transportManager_=new jc(n),this.log_("Connection created"),this.start_()}start_(){const t=this.transportManager_.initialTransport();this.conn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(n,r)},Math.floor(0));const i=t.healthyTimeout||0;i>0&&(this.healthyTimeout_=Ql(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>A9?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>P9?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(i)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(t){return n=>{t===this.conn_?this.onConnectionLost_(n):t===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(t){return n=>{this.state_!==2&&(t===this.rx_?this.onPrimaryMessageReceived_(n):t===this.secondaryConn_?this.onSecondaryMessageReceived_(n):this.log_("message on old connection"))}}sendRequest(t){const n={t:"d",d:t};this.sendData_(n)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(t){if(Jm in t){const n=t[Jm];n===sb?this.upgradeIfSecondaryHealthy_():n===rb?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):n===ib&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(t){const n=_l("t",t),r=_l("d",t);if(n==="c")this.onSecondaryControl_(r);else if(n==="d")this.pendingDataMessages.push(r);else throw new Error("Unknown protocol layer: "+n)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:ab,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:sb,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:ob,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(t){const n=_l("t",t),r=_l("d",t);n==="c"?this.onControl_(r):n==="d"&&this.onDataMessage_(r)}onDataMessage_(t){this.onPrimaryResponse_(),this.onMessage_(t)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(t){const n=_l(Jm,t);if(nb in t){const r=t[nb];if(n===D9){const i=Object.assign({},r);this.repoInfo_.isUsingEmulator&&(i.h=this.repoInfo_.host),this.onHandshake_(i)}else if(n===ob){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let i=0;i<this.pendingDataMessages.length;++i)this.onDataMessage_(this.pendingDataMessages[i]);this.pendingDataMessages=[],this.tryCleanupConnection()}else n===R9?this.onConnectionShutdown_(r):n===rb?this.onReset_(r):n===N9?Ly("Server Error: "+r):n===ib?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):Ly("Unknown control packet command: "+n)}}onHandshake_(t){const n=t.ts,r=t.v,i=t.h;this.sessionId=t.s,this.repoInfo_.host=i,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),yw!==r&&Ht("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const t=this.transportManager_.upgradeTransport();t&&this.startUpgrade_(t)}startUpgrade_(t){this.secondaryConn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),Ql(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(k9))}onReset_(t){this.log_("Reset packet received.  New host: "+t),this.repoInfo_.host=t,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(t,n){this.log_("Realtime connection established."),this.conn_=t,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Ql(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(I9))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:ab,d:{}}}))}onSecondaryConnectionLost_(){const t=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===t||this.rx_===t)&&this.close()}onConnectionLost_(t){this.conn_=null,!t&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Os.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(t){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(t),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(t){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(t)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S2{put(t,n,r,i){}merge(t,n,r,i){}refreshAuthToken(t){}refreshAppCheckToken(t){}onDisconnectPut(t,n,r){}onDisconnectMerge(t,n,r){}onDisconnectCancel(t,n){}reportStats(t){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T2{constructor(t){this.allowedEvents_=t,this.listeners_={},B(Array.isArray(t)&&t.length>0,"Requires a non-empty array")}trigger(t,...n){if(Array.isArray(this.listeners_[t])){const r=[...this.listeners_[t]];for(let i=0;i<r.length;i++)r[i].callback.apply(r[i].context,n)}}on(t,n,r){this.validateEventType_(t),this.listeners_[t]=this.listeners_[t]||[],this.listeners_[t].push({callback:n,context:r});const i=this.getInitialEvent(t);i&&n.apply(r,i)}off(t,n,r){this.validateEventType_(t);const i=this.listeners_[t]||[];for(let s=0;s<i.length;s++)if(i[s].callback===n&&(!r||r===i[s].context)){i.splice(s,1);return}}validateEventType_(t){B(this.allowedEvents_.find(n=>n===t),"Unknown event: "+t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qh extends T2{static getInstance(){return new qh}constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!Yv()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}getInitialEvent(t){return B(t==="online","Unknown event type: "+t),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lb=32,cb=768;class Ee{constructor(t,n){if(n===void 0){this.pieces_=t.split("/");let r=0;for(let i=0;i<this.pieces_.length;i++)this.pieces_[i].length>0&&(this.pieces_[r]=this.pieces_[i],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=t,this.pieceNum_=n}toString(){let t="";for(let n=this.pieceNum_;n<this.pieces_.length;n++)this.pieces_[n]!==""&&(t+="/"+this.pieces_[n]);return t||"/"}}function ye(){return new Ee("")}function ce(e){return e.pieceNum_>=e.pieces_.length?null:e.pieces_[e.pieceNum_]}function es(e){return e.pieces_.length-e.pieceNum_}function Pe(e){let t=e.pieceNum_;return t<e.pieces_.length&&t++,new Ee(e.pieces_,t)}function _w(e){return e.pieceNum_<e.pieces_.length?e.pieces_[e.pieces_.length-1]:null}function M9(e){let t="";for(let n=e.pieceNum_;n<e.pieces_.length;n++)e.pieces_[n]!==""&&(t+="/"+encodeURIComponent(String(e.pieces_[n])));return t||"/"}function Fc(e,t=0){return e.pieces_.slice(e.pieceNum_+t)}function k2(e){if(e.pieceNum_>=e.pieces_.length)return null;const t=[];for(let n=e.pieceNum_;n<e.pieces_.length-1;n++)t.push(e.pieces_[n]);return new Ee(t,0)}function Ye(e,t){const n=[];for(let r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);if(t instanceof Ee)for(let r=t.pieceNum_;r<t.pieces_.length;r++)n.push(t.pieces_[r]);else{const r=t.split("/");for(let i=0;i<r.length;i++)r[i].length>0&&n.push(r[i])}return new Ee(n,0)}function de(e){return e.pieceNum_>=e.pieces_.length}function Bt(e,t){const n=ce(e),r=ce(t);if(n===null)return t;if(n===r)return Bt(Pe(e),Pe(t));throw new Error("INTERNAL ERROR: innerPath ("+t+") is not within outerPath ("+e+")")}function L9(e,t){const n=Fc(e,0),r=Fc(t,0);for(let i=0;i<n.length&&i<r.length;i++){const s=uo(n[i],r[i]);if(s!==0)return s}return n.length===r.length?0:n.length<r.length?-1:1}function xw(e,t){if(es(e)!==es(t))return!1;for(let n=e.pieceNum_,r=t.pieceNum_;n<=e.pieces_.length;n++,r++)if(e.pieces_[n]!==t.pieces_[r])return!1;return!0}function An(e,t){let n=e.pieceNum_,r=t.pieceNum_;if(es(e)>es(t))return!1;for(;n<e.pieces_.length;){if(e.pieces_[n]!==t.pieces_[r])return!1;++n,++r}return!0}class j9{constructor(t,n){this.errorPrefix_=n,this.parts_=Fc(t,0),this.byteLength_=Math.max(1,this.parts_.length);for(let r=0;r<this.parts_.length;r++)this.byteLength_+=Uf(this.parts_[r]);I2(this)}}function F9(e,t){e.parts_.length>0&&(e.byteLength_+=1),e.parts_.push(t),e.byteLength_+=Uf(t),I2(e)}function $9(e){const t=e.parts_.pop();e.byteLength_-=Uf(t),e.parts_.length>0&&(e.byteLength_-=1)}function I2(e){if(e.byteLength_>cb)throw new Error(e.errorPrefix_+"has a key path longer than "+cb+" bytes ("+e.byteLength_+").");if(e.parts_.length>lb)throw new Error(e.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+lb+") or object contains a cycle "+Es(e))}function Es(e){return e.parts_.length===0?"":"in property '"+e.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ew extends T2{static getInstance(){return new Ew}constructor(){super(["visible"]);let t,n;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(n="visibilitychange",t="hidden"):typeof document.mozHidden<"u"?(n="mozvisibilitychange",t="mozHidden"):typeof document.msHidden<"u"?(n="msvisibilitychange",t="msHidden"):typeof document.webkitHidden<"u"&&(n="webkitvisibilitychange",t="webkitHidden")),this.visible_=!0,n&&document.addEventListener(n,()=>{const r=!document[t];r!==this.visible_&&(this.visible_=r,this.trigger("visible",r))},!1)}getInitialEvent(t){return B(t==="visible","Unknown event type: "+t),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xl=1e3,V9=60*5*1e3,ub=30*1e3,U9=1.3,B9=3e4,z9="server_kill",db=3;class Qr extends S2{constructor(t,n,r,i,s,o,a,l){if(super(),this.repoInfo_=t,this.applicationId_=n,this.onDataUpdate_=r,this.onConnectStatus_=i,this.onServerInfoUpdate_=s,this.authTokenProvider_=o,this.appCheckTokenProvider_=a,this.authOverride_=l,this.id=Qr.nextPersistentConnectionId_++,this.log_=yu("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=xl,this.maxReconnectDelay_=V9,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,l&&!zI())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");Ew.getInstance().on("visible",this.onVisible_,this),t.host.indexOf("fblocal")===-1&&qh.getInstance().on("online",this.onOnline_,this)}sendRequest(t,n,r){const i=++this.requestNumber_,s={r:i,a:t,b:n};this.log_(ot(s)),B(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(s),r&&(this.requestCBHash_[i]=r)}get(t){this.initConnection_();const n=new uu,i={action:"g",request:{p:t._path.toString(),q:t._queryObject},onComplete:o=>{const a=o.d;o.s==="ok"?n.resolve(a):n.reject(a)}};this.outstandingGets_.push(i),this.outstandingGetCount_++;const s=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(s),n.promise}listen(t,n,r,i){this.initConnection_();const s=t._queryIdentifier,o=t._path.toString();this.log_("Listen called for "+o+" "+s),this.listens.has(o)||this.listens.set(o,new Map),B(t._queryParams.isDefault()||!t._queryParams.loadsAllData(),"listen() called for non-default but complete query"),B(!this.listens.get(o).has(s),"listen() called twice for same path/queryId.");const a={onComplete:i,hashFn:n,query:t,tag:r};this.listens.get(o).set(s,a),this.connected_&&this.sendListen_(a)}sendGet_(t){const n=this.outstandingGets_[t];this.sendRequest("g",n.request,r=>{delete this.outstandingGets_[t],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),n.onComplete&&n.onComplete(r)})}sendListen_(t){const n=t.query,r=n._path.toString(),i=n._queryIdentifier;this.log_("Listen on "+r+" for "+i);const s={p:r},o="q";t.tag&&(s.q=n._queryObject,s.t=t.tag),s.h=t.hashFn(),this.sendRequest(o,s,a=>{const l=a.d,c=a.s;Qr.warnOnListenWarnings_(l,n),(this.listens.get(r)&&this.listens.get(r).get(i))===t&&(this.log_("listen response",a),c!=="ok"&&this.removeListen_(r,i),t.onComplete&&t.onComplete(c,l))})}static warnOnListenWarnings_(t,n){if(t&&typeof t=="object"&&Rr(t,"w")){const r=va(t,"w");if(Array.isArray(r)&&~r.indexOf("no_index")){const i='".indexOn": "'+n._queryParams.getIndex().toString()+'"',s=n._path.toString();Ht(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${i} at ${s} to your security rules for better performance.`)}}}refreshAuthToken(t){this.authToken_=t,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(t)}reduceReconnectDelayIfAdminCredential_(t){(t&&t.length===40||Vj(t))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=ub)}refreshAppCheckToken(t){this.appCheckToken_=t,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const t=this.authToken_,n=$j(t)?"auth":"gauth",r={cred:t};this.authOverride_===null?r.noauth=!0:typeof this.authOverride_=="object"&&(r.authvar=this.authOverride_),this.sendRequest(n,r,i=>{const s=i.s,o=i.d||"error";this.authToken_===t&&(s==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(s,o))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},t=>{const n=t.s,r=t.d||"error";n==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(n,r)})}unlisten(t,n){const r=t._path.toString(),i=t._queryIdentifier;this.log_("Unlisten called for "+r+" "+i),B(t._queryParams.isDefault()||!t._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(r,i)&&this.connected_&&this.sendUnlisten_(r,i,t._queryObject,n)}sendUnlisten_(t,n,r,i){this.log_("Unlisten on "+t+" for "+n);const s={p:t},o="n";i&&(s.q=r,s.t=i),this.sendRequest(o,s)}onDisconnectPut(t,n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",t,n,r):this.onDisconnectRequestQueue_.push({pathString:t,action:"o",data:n,onComplete:r})}onDisconnectMerge(t,n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",t,n,r):this.onDisconnectRequestQueue_.push({pathString:t,action:"om",data:n,onComplete:r})}onDisconnectCancel(t,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",t,null,n):this.onDisconnectRequestQueue_.push({pathString:t,action:"oc",data:null,onComplete:n})}sendOnDisconnect_(t,n,r,i){const s={p:n,d:r};this.log_("onDisconnect "+t,s),this.sendRequest(t,s,o=>{i&&setTimeout(()=>{i(o.s,o.d)},Math.floor(0))})}put(t,n,r,i){this.putInternal("p",t,n,r,i)}merge(t,n,r,i){this.putInternal("m",t,n,r,i)}putInternal(t,n,r,i,s){this.initConnection_();const o={p:n,d:r};s!==void 0&&(o.h=s),this.outstandingPuts_.push({action:t,request:o,onComplete:i}),this.outstandingPutCount_++;const a=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(a):this.log_("Buffering put: "+n)}sendPut_(t){const n=this.outstandingPuts_[t].action,r=this.outstandingPuts_[t].request,i=this.outstandingPuts_[t].onComplete;this.outstandingPuts_[t].queued=this.connected_,this.sendRequest(n,r,s=>{this.log_(n+" response",s),delete this.outstandingPuts_[t],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),i&&i(s.s,s.d)})}reportStats(t){if(this.connected_){const n={c:t};this.log_("reportStats",n),this.sendRequest("s",n,r=>{if(r.s!=="ok"){const s=r.d;this.log_("reportStats","Error sending stats: "+s)}})}}onDataMessage_(t){if("r"in t){this.log_("from server: "+ot(t));const n=t.r,r=this.requestCBHash_[n];r&&(delete this.requestCBHash_[n],r(t.b))}else{if("error"in t)throw"A server-side error has occurred: "+t.error;"a"in t&&this.onDataPush_(t.a,t.b)}}onDataPush_(t,n){this.log_("handleServerMessage",t,n),t==="d"?this.onDataUpdate_(n.p,n.d,!1,n.t):t==="m"?this.onDataUpdate_(n.p,n.d,!0,n.t):t==="c"?this.onListenRevoked_(n.p,n.q):t==="ac"?this.onAuthRevoked_(n.s,n.d):t==="apc"?this.onAppCheckRevoked_(n.s,n.d):t==="sd"?this.onSecurityDebugPacket_(n):Ly("Unrecognized action received from server: "+ot(t)+`
Are you using the latest client?`)}onReady_(t,n){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(t),this.lastSessionId=n,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(t){B(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(t))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(t){t&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=xl,this.realtime_||this.scheduleConnect_(0)),this.visible_=t}onOnline_(t){t?(this.log_("Browser went online."),this.reconnectDelay_=xl,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>B9&&(this.reconnectDelay_=xl),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const t=Math.max(0,new Date().getTime()-this.lastConnectionAttemptTime_);let n=Math.max(0,this.reconnectDelay_-t);n=Math.random()*n,this.log_("Trying to reconnect in "+n+"ms"),this.scheduleConnect_(n),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*U9)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const t=this.onDataMessage_.bind(this),n=this.onReady_.bind(this),r=this.onRealtimeDisconnect_.bind(this),i=this.id+":"+Qr.nextConnectionId_++,s=this.lastSessionId;let o=!1,a=null;const l=function(){a?a.close():(o=!0,r())},c=function(h){B(a,"sendRequest call when we're not connected not allowed."),a.sendRequest(h)};this.realtime_={close:l,sendRequest:c};const d=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[h,f]=await Promise.all([this.authTokenProvider_.getToken(d),this.appCheckTokenProvider_.getToken(d)]);o?xt("getToken() completed but was canceled"):(xt("getToken() completed. Creating connection."),this.authToken_=h&&h.accessToken,this.appCheckToken_=f&&f.token,a=new O9(i,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,t,n,r,g=>{Ht(g+" ("+this.repoInfo_.toString()+")"),this.interrupt(z9)},s))}catch(h){this.log_("Failed to get token: "+h),o||(this.repoInfo_.nodeAdmin&&Ht(h),l())}}}interrupt(t){xt("Interrupting connection for reason: "+t),this.interruptReasons_[t]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(t){xt("Resuming connection for reason: "+t),delete this.interruptReasons_[t],Ey(this.interruptReasons_)&&(this.reconnectDelay_=xl,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(t){const n=t-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:n})}cancelSentTransactions_(){for(let t=0;t<this.outstandingPuts_.length;t++){const n=this.outstandingPuts_[t];n&&"h"in n.request&&n.queued&&(n.onComplete&&n.onComplete("disconnect"),delete this.outstandingPuts_[t],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(t,n){let r;n?r=n.map(s=>gw(s)).join("$"):r="default";const i=this.removeListen_(t,r);i&&i.onComplete&&i.onComplete("permission_denied")}removeListen_(t,n){const r=new Ee(t).toString();let i;if(this.listens.has(r)){const s=this.listens.get(r);i=s.get(n),s.delete(n),s.size===0&&this.listens.delete(r)}else i=void 0;return i}onAuthRevoked_(t,n){xt("Auth token revoked: "+t+"/"+n),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(t==="invalid_token"||t==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=db&&(this.reconnectDelay_=ub,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(t,n){xt("App check token revoked: "+t+"/"+n),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(t==="invalid_token"||t==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=db&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(t){this.securityDebugCallback_?this.securityDebugCallback_(t):"msg"in t&&console.log("FIREBASE: "+t.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const t of this.listens.values())for(const n of t.values())this.sendListen_(n);for(let t=0;t<this.outstandingPuts_.length;t++)this.outstandingPuts_[t]&&this.sendPut_(t);for(;this.onDisconnectRequestQueue_.length;){const t=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(t.action,t.pathString,t.data,t.onComplete)}for(let t=0;t<this.outstandingGets_.length;t++)this.outstandingGets_[t]&&this.sendGet_(t)}sendConnectStats_(){const t={};let n="js";t["sdk."+n+"."+i2.replace(/\./g,"-")]=1,Yv()?t["framework.cordova"]=1:BI()&&(t["framework.reactnative"]=1),this.reportStats(t)}shouldReconnect_(){const t=qh.getInstance().currentlyOnline();return Ey(this.interruptReasons_)&&t}}Qr.nextPersistentConnectionId_=0;Qr.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ue{constructor(t,n){this.name=t,this.node=n}static Wrap(t,n){return new ue(t,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yf{getCompare(){return this.compare.bind(this)}indexedValueChanged(t,n){const r=new ue(wa,t),i=new ue(wa,n);return this.compare(r,i)!==0}minPost(){return ue.MIN}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let md;class P2 extends Yf{static get __EMPTY_NODE(){return md}static set __EMPTY_NODE(t){md=t}compare(t,n){return uo(t.name,n.name)}isDefinedOn(t){throw Va("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(t,n){return!1}minPost(){return ue.MIN}maxPost(){return new ue(Zs,md)}makePost(t,n){return B(typeof t=="string","KeyIndex indexValue must always be a string."),new ue(t,md)}toString(){return".key"}}const aa=new P2;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gd{constructor(t,n,r,i,s=null){this.isReverse_=i,this.resultGenerator_=s,this.nodeStack_=[];let o=1;for(;!t.isEmpty();)if(t=t,o=n?r(t.key,n):1,i&&(o*=-1),o<0)this.isReverse_?t=t.left:t=t.right;else if(o===0){this.nodeStack_.push(t);break}else this.nodeStack_.push(t),this.isReverse_?t=t.right:t=t.left}getNext(){if(this.nodeStack_.length===0)return null;let t=this.nodeStack_.pop(),n;if(this.resultGenerator_?n=this.resultGenerator_(t.key,t.value):n={key:t.key,value:t.value},this.isReverse_)for(t=t.left;!t.isEmpty();)this.nodeStack_.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack_.push(t),t=t.left;return n}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const t=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value}}}class ht{constructor(t,n,r,i,s){this.key=t,this.value=n,this.color=r??ht.RED,this.left=i??nn.EMPTY_NODE,this.right=s??nn.EMPTY_NODE}copy(t,n,r,i,s){return new ht(t??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||!!t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,n,r){let i=this;const s=r(t,i.key);return s<0?i=i.copy(null,null,null,i.left.insert(t,n,r),null):s===0?i=i.copy(null,n,null,null,null):i=i.copy(null,null,null,null,i.right.insert(t,n,r)),i.fixUp_()}removeMin_(){if(this.left.isEmpty())return nn.EMPTY_NODE;let t=this;return!t.left.isRed_()&&!t.left.left.isRed_()&&(t=t.moveRedLeft_()),t=t.copy(null,null,null,t.left.removeMin_(),null),t.fixUp_()}remove(t,n){let r,i;if(r=this,n(t,r.key)<0)!r.left.isEmpty()&&!r.left.isRed_()&&!r.left.left.isRed_()&&(r=r.moveRedLeft_()),r=r.copy(null,null,null,r.left.remove(t,n),null);else{if(r.left.isRed_()&&(r=r.rotateRight_()),!r.right.isEmpty()&&!r.right.isRed_()&&!r.right.left.isRed_()&&(r=r.moveRedRight_()),n(t,r.key)===0){if(r.right.isEmpty())return nn.EMPTY_NODE;i=r.right.min_(),r=r.copy(i.key,i.value,null,null,r.right.removeMin_())}r=r.copy(null,null,null,null,r.right.remove(t,n))}return r.fixUp_()}isRed_(){return this.color}fixUp_(){let t=this;return t.right.isRed_()&&!t.left.isRed_()&&(t=t.rotateLeft_()),t.left.isRed_()&&t.left.left.isRed_()&&(t=t.rotateRight_()),t.left.isRed_()&&t.right.isRed_()&&(t=t.colorFlip_()),t}moveRedLeft_(){let t=this.colorFlip_();return t.right.left.isRed_()&&(t=t.copy(null,null,null,null,t.right.rotateRight_()),t=t.rotateLeft_(),t=t.colorFlip_()),t}moveRedRight_(){let t=this.colorFlip_();return t.left.left.isRed_()&&(t=t.rotateRight_(),t=t.colorFlip_()),t}rotateLeft_(){const t=this.copy(null,null,ht.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight_(){const t=this.copy(null,null,ht.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip_(){const t=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,n)}checkMaxDepth_(){const t=this.check_();return Math.pow(2,t)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const t=this.left.check_();if(t!==this.right.check_())throw new Error("Black depths differ");return t+(this.isRed_()?0:1)}}ht.RED=!0;ht.BLACK=!1;class W9{copy(t,n,r,i,s){return this}insert(t,n,r){return new ht(t,n,null)}remove(t,n){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class nn{constructor(t,n=nn.EMPTY_NODE){this.comparator_=t,this.root_=n}insert(t,n){return new nn(this.comparator_,this.root_.insert(t,n,this.comparator_).copy(null,null,ht.BLACK,null,null))}remove(t){return new nn(this.comparator_,this.root_.remove(t,this.comparator_).copy(null,null,ht.BLACK,null,null))}get(t){let n,r=this.root_;for(;!r.isEmpty();){if(n=this.comparator_(t,r.key),n===0)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}getPredecessorKey(t){let n,r=this.root_,i=null;for(;!r.isEmpty();)if(n=this.comparator_(t,r.key),n===0){if(r.left.isEmpty())return i?i.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}else n<0?r=r.left:n>0&&(i=r,r=r.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(t){return this.root_.inorderTraversal(t)}reverseTraversal(t){return this.root_.reverseTraversal(t)}getIterator(t){return new gd(this.root_,null,this.comparator_,!1,t)}getIteratorFrom(t,n){return new gd(this.root_,t,this.comparator_,!1,n)}getReverseIteratorFrom(t,n){return new gd(this.root_,t,this.comparator_,!0,n)}getReverseIterator(t){return new gd(this.root_,null,this.comparator_,!0,t)}}nn.EMPTY_NODE=new W9;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function H9(e,t){return uo(e.name,t.name)}function bw(e,t){return uo(e,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Fy;function q9(e){Fy=e}const A2=function(e){return typeof e=="number"?"number:"+l2(e):"string:"+e},R2=function(e){if(e.isLeafNode()){const t=e.val();B(typeof t=="string"||typeof t=="number"||typeof t=="object"&&Rr(t,".sv"),"Priority must be a string or number.")}else B(e===Fy||e.isEmpty(),"priority of unexpected type.");B(e===Fy||e.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let hb;class ut{static set __childrenNodeConstructor(t){hb=t}static get __childrenNodeConstructor(){return hb}constructor(t,n=ut.__childrenNodeConstructor.EMPTY_NODE){this.value_=t,this.priorityNode_=n,this.lazyHash_=null,B(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),R2(this.priorityNode_)}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(t){return new ut(this.value_,t)}getImmediateChild(t){return t===".priority"?this.priorityNode_:ut.__childrenNodeConstructor.EMPTY_NODE}getChild(t){return de(t)?this:ce(t)===".priority"?this.priorityNode_:ut.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(t,n){return null}updateImmediateChild(t,n){return t===".priority"?this.updatePriority(n):n.isEmpty()&&t!==".priority"?this:ut.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(t,n).updatePriority(this.priorityNode_)}updateChild(t,n){const r=ce(t);return r===null?n:n.isEmpty()&&r!==".priority"?this:(B(r!==".priority"||es(t)===1,".priority must be the last token in a path"),this.updateImmediateChild(r,ut.__childrenNodeConstructor.EMPTY_NODE.updateChild(Pe(t),n)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(t,n){return!1}val(t){return t&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let t="";this.priorityNode_.isEmpty()||(t+="priority:"+A2(this.priorityNode_.val())+":");const n=typeof this.value_;t+=n+":",n==="number"?t+=l2(this.value_):t+=this.value_,this.lazyHash_=o2(t)}return this.lazyHash_}getValue(){return this.value_}compareTo(t){return t===ut.__childrenNodeConstructor.EMPTY_NODE?1:t instanceof ut.__childrenNodeConstructor?-1:(B(t.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(t))}compareToLeafNode_(t){const n=typeof t.value_,r=typeof this.value_,i=ut.VALUE_TYPE_ORDER.indexOf(n),s=ut.VALUE_TYPE_ORDER.indexOf(r);return B(i>=0,"Unknown leaf type: "+n),B(s>=0,"Unknown leaf type: "+r),i===s?r==="object"?0:this.value_<t.value_?-1:this.value_===t.value_?0:1:s-i}withIndex(){return this}isIndexed(){return!0}equals(t){if(t===this)return!0;if(t.isLeafNode()){const n=t;return this.value_===n.value_&&this.priorityNode_.equals(n.priorityNode_)}else return!1}}ut.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let N2,D2;function G9(e){N2=e}function K9(e){D2=e}class Y9 extends Yf{compare(t,n){const r=t.node.getPriority(),i=n.node.getPriority(),s=r.compareTo(i);return s===0?uo(t.name,n.name):s}isDefinedOn(t){return!t.getPriority().isEmpty()}indexedValueChanged(t,n){return!t.getPriority().equals(n.getPriority())}minPost(){return ue.MIN}maxPost(){return new ue(Zs,new ut("[PRIORITY-POST]",D2))}makePost(t,n){const r=N2(t);return new ue(n,new ut("[PRIORITY-POST]",r))}toString(){return".priority"}}const Xe=new Y9;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X9=Math.log(2);class J9{constructor(t){const n=s=>parseInt(Math.log(s)/X9,10),r=s=>parseInt(Array(s+1).join("1"),2);this.count=n(t+1),this.current_=this.count-1;const i=r(this.count);this.bits_=t+1&i}nextBitIsOne(){const t=!(this.bits_&1<<this.current_);return this.current_--,t}}const Gh=function(e,t,n,r){e.sort(t);const i=function(l,c){const d=c-l;let h,f;if(d===0)return null;if(d===1)return h=e[l],f=n?n(h):h,new ht(f,h.node,ht.BLACK,null,null);{const g=parseInt(d/2,10)+l,y=i(l,g),S=i(g+1,c);return h=e[g],f=n?n(h):h,new ht(f,h.node,ht.BLACK,y,S)}},s=function(l){let c=null,d=null,h=e.length;const f=function(y,S){const k=h-y,x=h;h-=y;const C=i(k+1,x),E=e[k],I=n?n(E):E;g(new ht(I,E.node,S,null,C))},g=function(y){c?(c.left=y,c=y):(d=y,c=y)};for(let y=0;y<l.count;++y){const S=l.nextBitIsOne(),k=Math.pow(2,l.count-(y+1));S?f(k,ht.BLACK):(f(k,ht.BLACK),f(k,ht.RED))}return d},o=new J9(e.length),a=s(o);return new nn(r||t,a)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Qm;const bo={};class Gr{static get Default(){return B(bo&&Xe,"ChildrenNode.ts has not been loaded"),Qm=Qm||new Gr({".priority":bo},{".priority":Xe}),Qm}constructor(t,n){this.indexes_=t,this.indexSet_=n}get(t){const n=va(this.indexes_,t);if(!n)throw new Error("No index defined for "+t);return n instanceof nn?n:null}hasIndex(t){return Rr(this.indexSet_,t.toString())}addIndex(t,n){B(t!==aa,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const r=[];let i=!1;const s=n.getIterator(ue.Wrap);let o=s.getNext();for(;o;)i=i||t.isDefinedOn(o.node),r.push(o),o=s.getNext();let a;i?a=Gh(r,t.getCompare()):a=bo;const l=t.toString(),c=Object.assign({},this.indexSet_);c[l]=t;const d=Object.assign({},this.indexes_);return d[l]=a,new Gr(d,c)}addToIndexes(t,n){const r=Lh(this.indexes_,(i,s)=>{const o=va(this.indexSet_,s);if(B(o,"Missing index implementation for "+s),i===bo)if(o.isDefinedOn(t.node)){const a=[],l=n.getIterator(ue.Wrap);let c=l.getNext();for(;c;)c.name!==t.name&&a.push(c),c=l.getNext();return a.push(t),Gh(a,o.getCompare())}else return bo;else{const a=n.get(t.name);let l=i;return a&&(l=l.remove(new ue(t.name,a))),l.insert(t,t.node)}});return new Gr(r,this.indexSet_)}removeFromIndexes(t,n){const r=Lh(this.indexes_,i=>{if(i===bo)return i;{const s=n.get(t.name);return s?i.remove(new ue(t.name,s)):i}});return new Gr(r,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let El;class ee{static get EMPTY_NODE(){return El||(El=new ee(new nn(bw),null,Gr.Default))}constructor(t,n,r){this.children_=t,this.priorityNode_=n,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&R2(this.priorityNode_),this.children_.isEmpty()&&B(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}isLeafNode(){return!1}getPriority(){return this.priorityNode_||El}updatePriority(t){return this.children_.isEmpty()?this:new ee(this.children_,t,this.indexMap_)}getImmediateChild(t){if(t===".priority")return this.getPriority();{const n=this.children_.get(t);return n===null?El:n}}getChild(t){const n=ce(t);return n===null?this:this.getImmediateChild(n).getChild(Pe(t))}hasChild(t){return this.children_.get(t)!==null}updateImmediateChild(t,n){if(B(n,"We should always be passing snapshot nodes"),t===".priority")return this.updatePriority(n);{const r=new ue(t,n);let i,s;n.isEmpty()?(i=this.children_.remove(t),s=this.indexMap_.removeFromIndexes(r,this.children_)):(i=this.children_.insert(t,n),s=this.indexMap_.addToIndexes(r,this.children_));const o=i.isEmpty()?El:this.priorityNode_;return new ee(i,o,s)}}updateChild(t,n){const r=ce(t);if(r===null)return n;{B(ce(t)!==".priority"||es(t)===1,".priority must be the last token in a path");const i=this.getImmediateChild(r).updateChild(Pe(t),n);return this.updateImmediateChild(r,i)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(t){if(this.isEmpty())return null;const n={};let r=0,i=0,s=!0;if(this.forEachChild(Xe,(o,a)=>{n[o]=a.val(t),r++,s&&ee.INTEGER_REGEXP_.test(o)?i=Math.max(i,Number(o)):s=!1}),!t&&s&&i<2*r){const o=[];for(const a in n)o[a]=n[a];return o}else return t&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n}hash(){if(this.lazyHash_===null){let t="";this.getPriority().isEmpty()||(t+="priority:"+A2(this.getPriority().val())+":"),this.forEachChild(Xe,(n,r)=>{const i=r.hash();i!==""&&(t+=":"+n+":"+i)}),this.lazyHash_=t===""?"":o2(t)}return this.lazyHash_}getPredecessorChildName(t,n,r){const i=this.resolveIndex_(r);if(i){const s=i.getPredecessorKey(new ue(t,n));return s?s.name:null}else return this.children_.getPredecessorKey(t)}getFirstChildName(t){const n=this.resolveIndex_(t);if(n){const r=n.minKey();return r&&r.name}else return this.children_.minKey()}getFirstChild(t){const n=this.getFirstChildName(t);return n?new ue(n,this.children_.get(n)):null}getLastChildName(t){const n=this.resolveIndex_(t);if(n){const r=n.maxKey();return r&&r.name}else return this.children_.maxKey()}getLastChild(t){const n=this.getLastChildName(t);return n?new ue(n,this.children_.get(n)):null}forEachChild(t,n){const r=this.resolveIndex_(t);return r?r.inorderTraversal(i=>n(i.name,i.node)):this.children_.inorderTraversal(n)}getIterator(t){return this.getIteratorFrom(t.minPost(),t)}getIteratorFrom(t,n){const r=this.resolveIndex_(n);if(r)return r.getIteratorFrom(t,i=>i);{const i=this.children_.getIteratorFrom(t.name,ue.Wrap);let s=i.peek();for(;s!=null&&n.compare(s,t)<0;)i.getNext(),s=i.peek();return i}}getReverseIterator(t){return this.getReverseIteratorFrom(t.maxPost(),t)}getReverseIteratorFrom(t,n){const r=this.resolveIndex_(n);if(r)return r.getReverseIteratorFrom(t,i=>i);{const i=this.children_.getReverseIteratorFrom(t.name,ue.Wrap);let s=i.peek();for(;s!=null&&n.compare(s,t)>0;)i.getNext(),s=i.peek();return i}}compareTo(t){return this.isEmpty()?t.isEmpty()?0:-1:t.isLeafNode()||t.isEmpty()?1:t===vu?-1:0}withIndex(t){if(t===aa||this.indexMap_.hasIndex(t))return this;{const n=this.indexMap_.addIndex(t,this.children_);return new ee(this.children_,this.priorityNode_,n)}}isIndexed(t){return t===aa||this.indexMap_.hasIndex(t)}equals(t){if(t===this)return!0;if(t.isLeafNode())return!1;{const n=t;if(this.getPriority().equals(n.getPriority()))if(this.children_.count()===n.children_.count()){const r=this.getIterator(Xe),i=n.getIterator(Xe);let s=r.getNext(),o=i.getNext();for(;s&&o;){if(s.name!==o.name||!s.node.equals(o.node))return!1;s=r.getNext(),o=i.getNext()}return s===null&&o===null}else return!1;else return!1}}resolveIndex_(t){return t===aa?null:this.indexMap_.get(t.toString())}}ee.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class Q9 extends ee{constructor(){super(new nn(bw),ee.EMPTY_NODE,Gr.Default)}compareTo(t){return t===this?0:1}equals(t){return t===this}getPriority(){return this}getImmediateChild(t){return ee.EMPTY_NODE}isEmpty(){return!1}}const vu=new Q9;Object.defineProperties(ue,{MIN:{value:new ue(wa,ee.EMPTY_NODE)},MAX:{value:new ue(Zs,vu)}});P2.__EMPTY_NODE=ee.EMPTY_NODE;ut.__childrenNodeConstructor=ee;q9(vu);K9(vu);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z9=!0;function st(e,t=null){if(e===null)return ee.EMPTY_NODE;if(typeof e=="object"&&".priority"in e&&(t=e[".priority"]),B(t===null||typeof t=="string"||typeof t=="number"||typeof t=="object"&&".sv"in t,"Invalid priority type found: "+typeof t),typeof e=="object"&&".value"in e&&e[".value"]!==null&&(e=e[".value"]),typeof e!="object"||".sv"in e){const n=e;return new ut(n,st(t))}if(!(e instanceof Array)&&Z9){const n=[];let r=!1;if(Ct(e,(o,a)=>{if(o.substring(0,1)!=="."){const l=st(a);l.isEmpty()||(r=r||!l.getPriority().isEmpty(),n.push(new ue(o,l)))}}),n.length===0)return ee.EMPTY_NODE;const s=Gh(n,H9,o=>o.name,bw);if(r){const o=Gh(n,Xe.getCompare());return new ee(s,st(t),new Gr({".priority":o},{".priority":Xe}))}else return new ee(s,st(t),Gr.Default)}else{let n=ee.EMPTY_NODE;return Ct(e,(r,i)=>{if(Rr(e,r)&&r.substring(0,1)!=="."){const s=st(i);(s.isLeafNode()||!s.isEmpty())&&(n=n.updateImmediateChild(r,s))}}),n.updatePriority(st(t))}}G9(st);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eV extends Yf{constructor(t){super(),this.indexPath_=t,B(!de(t)&&ce(t)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(t){return t.getChild(this.indexPath_)}isDefinedOn(t){return!t.getChild(this.indexPath_).isEmpty()}compare(t,n){const r=this.extractChild(t.node),i=this.extractChild(n.node),s=r.compareTo(i);return s===0?uo(t.name,n.name):s}makePost(t,n){const r=st(t),i=ee.EMPTY_NODE.updateChild(this.indexPath_,r);return new ue(n,i)}maxPost(){const t=ee.EMPTY_NODE.updateChild(this.indexPath_,vu);return new ue(Zs,t)}toString(){return Fc(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tV extends Yf{compare(t,n){const r=t.node.compareTo(n.node);return r===0?uo(t.name,n.name):r}isDefinedOn(t){return!0}indexedValueChanged(t,n){return!t.equals(n)}minPost(){return ue.MIN}maxPost(){return ue.MAX}makePost(t,n){const r=st(t);return new ue(n,r)}toString(){return".value"}}const nV=new tV;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function O2(e){return{type:"value",snapshotNode:e}}function _a(e,t){return{type:"child_added",snapshotNode:t,childName:e}}function $c(e,t){return{type:"child_removed",snapshotNode:t,childName:e}}function Vc(e,t,n){return{type:"child_changed",snapshotNode:t,childName:e,oldSnap:n}}function rV(e,t){return{type:"child_moved",snapshotNode:t,childName:e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cw{constructor(t){this.index_=t}updateChild(t,n,r,i,s,o){B(t.isIndexed(this.index_),"A node must be indexed if only a child is updated");const a=t.getImmediateChild(n);return a.getChild(i).equals(r.getChild(i))&&a.isEmpty()===r.isEmpty()||(o!=null&&(r.isEmpty()?t.hasChild(n)?o.trackChildChange($c(n,a)):B(t.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):a.isEmpty()?o.trackChildChange(_a(n,r)):o.trackChildChange(Vc(n,r,a))),t.isLeafNode()&&r.isEmpty())?t:t.updateImmediateChild(n,r).withIndex(this.index_)}updateFullNode(t,n,r){return r!=null&&(t.isLeafNode()||t.forEachChild(Xe,(i,s)=>{n.hasChild(i)||r.trackChildChange($c(i,s))}),n.isLeafNode()||n.forEachChild(Xe,(i,s)=>{if(t.hasChild(i)){const o=t.getImmediateChild(i);o.equals(s)||r.trackChildChange(Vc(i,s,o))}else r.trackChildChange(_a(i,s))})),n.withIndex(this.index_)}updatePriority(t,n){return t.isEmpty()?ee.EMPTY_NODE:t.updatePriority(n)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uc{constructor(t){this.indexedFilter_=new Cw(t.getIndex()),this.index_=t.getIndex(),this.startPost_=Uc.getStartPost_(t),this.endPost_=Uc.getEndPost_(t),this.startIsInclusive_=!t.startAfterSet_,this.endIsInclusive_=!t.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(t){const n=this.startIsInclusive_?this.index_.compare(this.getStartPost(),t)<=0:this.index_.compare(this.getStartPost(),t)<0,r=this.endIsInclusive_?this.index_.compare(t,this.getEndPost())<=0:this.index_.compare(t,this.getEndPost())<0;return n&&r}updateChild(t,n,r,i,s,o){return this.matches(new ue(n,r))||(r=ee.EMPTY_NODE),this.indexedFilter_.updateChild(t,n,r,i,s,o)}updateFullNode(t,n,r){n.isLeafNode()&&(n=ee.EMPTY_NODE);let i=n.withIndex(this.index_);i=i.updatePriority(ee.EMPTY_NODE);const s=this;return n.forEachChild(Xe,(o,a)=>{s.matches(new ue(o,a))||(i=i.updateImmediateChild(o,ee.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(t,i,r)}updatePriority(t,n){return t}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(t){if(t.hasStart()){const n=t.getIndexStartName();return t.getIndex().makePost(t.getIndexStartValue(),n)}else return t.getIndex().minPost()}static getEndPost_(t){if(t.hasEnd()){const n=t.getIndexEndName();return t.getIndex().makePost(t.getIndexEndValue(),n)}else return t.getIndex().maxPost()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iV{constructor(t){this.withinDirectionalStart=n=>this.reverse_?this.withinEndPost(n):this.withinStartPost(n),this.withinDirectionalEnd=n=>this.reverse_?this.withinStartPost(n):this.withinEndPost(n),this.withinStartPost=n=>{const r=this.index_.compare(this.rangedFilter_.getStartPost(),n);return this.startIsInclusive_?r<=0:r<0},this.withinEndPost=n=>{const r=this.index_.compare(n,this.rangedFilter_.getEndPost());return this.endIsInclusive_?r<=0:r<0},this.rangedFilter_=new Uc(t),this.index_=t.getIndex(),this.limit_=t.getLimit(),this.reverse_=!t.isViewFromLeft(),this.startIsInclusive_=!t.startAfterSet_,this.endIsInclusive_=!t.endBeforeSet_}updateChild(t,n,r,i,s,o){return this.rangedFilter_.matches(new ue(n,r))||(r=ee.EMPTY_NODE),t.getImmediateChild(n).equals(r)?t:t.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(t,n,r,i,s,o):this.fullLimitUpdateChild_(t,n,r,s,o)}updateFullNode(t,n,r){let i;if(n.isLeafNode()||n.isEmpty())i=ee.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<n.numChildren()&&n.isIndexed(this.index_)){i=ee.EMPTY_NODE.withIndex(this.index_);let s;this.reverse_?s=n.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):s=n.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let o=0;for(;s.hasNext()&&o<this.limit_;){const a=s.getNext();if(this.withinDirectionalStart(a))if(this.withinDirectionalEnd(a))i=i.updateImmediateChild(a.name,a.node),o++;else break;else continue}}else{i=n.withIndex(this.index_),i=i.updatePriority(ee.EMPTY_NODE);let s;this.reverse_?s=i.getReverseIterator(this.index_):s=i.getIterator(this.index_);let o=0;for(;s.hasNext();){const a=s.getNext();o<this.limit_&&this.withinDirectionalStart(a)&&this.withinDirectionalEnd(a)?o++:i=i.updateImmediateChild(a.name,ee.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(t,i,r)}updatePriority(t,n){return t}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(t,n,r,i,s){let o;if(this.reverse_){const h=this.index_.getCompare();o=(f,g)=>h(g,f)}else o=this.index_.getCompare();const a=t;B(a.numChildren()===this.limit_,"");const l=new ue(n,r),c=this.reverse_?a.getFirstChild(this.index_):a.getLastChild(this.index_),d=this.rangedFilter_.matches(l);if(a.hasChild(n)){const h=a.getImmediateChild(n);let f=i.getChildAfterChild(this.index_,c,this.reverse_);for(;f!=null&&(f.name===n||a.hasChild(f.name));)f=i.getChildAfterChild(this.index_,f,this.reverse_);const g=f==null?1:o(f,l);if(d&&!r.isEmpty()&&g>=0)return s!=null&&s.trackChildChange(Vc(n,r,h)),a.updateImmediateChild(n,r);{s!=null&&s.trackChildChange($c(n,h));const S=a.updateImmediateChild(n,ee.EMPTY_NODE);return f!=null&&this.rangedFilter_.matches(f)?(s!=null&&s.trackChildChange(_a(f.name,f.node)),S.updateImmediateChild(f.name,f.node)):S}}else return r.isEmpty()?t:d&&o(c,l)>=0?(s!=null&&(s.trackChildChange($c(c.name,c.node)),s.trackChildChange(_a(n,r))),a.updateImmediateChild(n,r).updateImmediateChild(c.name,ee.EMPTY_NODE)):t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sw{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Xe}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return B(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return B(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:wa}hasEnd(){return this.endSet_}getIndexEndValue(){return B(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return B(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:Zs}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return B(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===Xe}copy(){const t=new Sw;return t.limitSet_=this.limitSet_,t.limit_=this.limit_,t.startSet_=this.startSet_,t.startAfterSet_=this.startAfterSet_,t.indexStartValue_=this.indexStartValue_,t.startNameSet_=this.startNameSet_,t.indexStartName_=this.indexStartName_,t.endSet_=this.endSet_,t.endBeforeSet_=this.endBeforeSet_,t.indexEndValue_=this.indexEndValue_,t.endNameSet_=this.endNameSet_,t.indexEndName_=this.indexEndName_,t.index_=this.index_,t.viewFrom_=this.viewFrom_,t}}function sV(e){return e.loadsAllData()?new Cw(e.getIndex()):e.hasLimit()?new iV(e):new Uc(e)}function fb(e){const t={};if(e.isDefault())return t;let n;if(e.index_===Xe?n="$priority":e.index_===nV?n="$value":e.index_===aa?n="$key":(B(e.index_ instanceof eV,"Unrecognized index type!"),n=e.index_.toString()),t.orderBy=ot(n),e.startSet_){const r=e.startAfterSet_?"startAfter":"startAt";t[r]=ot(e.indexStartValue_),e.startNameSet_&&(t[r]+=","+ot(e.indexStartName_))}if(e.endSet_){const r=e.endBeforeSet_?"endBefore":"endAt";t[r]=ot(e.indexEndValue_),e.endNameSet_&&(t[r]+=","+ot(e.indexEndName_))}return e.limitSet_&&(e.isViewFromLeft()?t.limitToFirst=e.limit_:t.limitToLast=e.limit_),t}function pb(e){const t={};if(e.startSet_&&(t.sp=e.indexStartValue_,e.startNameSet_&&(t.sn=e.indexStartName_),t.sin=!e.startAfterSet_),e.endSet_&&(t.ep=e.indexEndValue_,e.endNameSet_&&(t.en=e.indexEndName_),t.ein=!e.endBeforeSet_),e.limitSet_){t.l=e.limit_;let n=e.viewFrom_;n===""&&(e.isViewFromLeft()?n="l":n="r"),t.vf=n}return e.index_!==Xe&&(t.i=e.index_.toString()),t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kh extends S2{reportStats(t){throw new Error("Method not implemented.")}static getListenId_(t,n){return n!==void 0?"tag$"+n:(B(t._queryParams.isDefault(),"should have a tag if it's not a default query."),t._path.toString())}constructor(t,n,r,i){super(),this.repoInfo_=t,this.onDataUpdate_=n,this.authTokenProvider_=r,this.appCheckTokenProvider_=i,this.log_=yu("p:rest:"),this.listens_={}}listen(t,n,r,i){const s=t._path.toString();this.log_("Listen called for "+s+" "+t._queryIdentifier);const o=Kh.getListenId_(t,r),a={};this.listens_[o]=a;const l=fb(t._queryParams);this.restRequest_(s+".json",l,(c,d)=>{let h=d;if(c===404&&(h=null,c=null),c===null&&this.onDataUpdate_(s,h,!1,r),va(this.listens_,o)===a){let f;c?c===401?f="permission_denied":f="rest_error:"+c:f="ok",i(f,null)}})}unlisten(t,n){const r=Kh.getListenId_(t,n);delete this.listens_[r]}get(t){const n=fb(t._queryParams),r=t._path.toString(),i=new uu;return this.restRequest_(r+".json",n,(s,o)=>{let a=o;s===404&&(a=null,s=null),s===null?(this.onDataUpdate_(r,a,!1,null),i.resolve(a)):i.reject(new Error(a))}),i.promise}refreshAuthToken(t){}restRequest_(t,n={},r){return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([i,s])=>{i&&i.accessToken&&(n.auth=i.accessToken),s&&s.token&&(n.ac=s.token);const o=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+t+"?ns="+this.repoInfo_.namespace+Ua(n);this.log_("Sending REST request for "+o);const a=new XMLHttpRequest;a.onreadystatechange=()=>{if(r&&a.readyState===4){this.log_("REST Response for "+o+" received. status:",a.status,"response:",a.responseText);let l=null;if(a.status>=200&&a.status<300){try{l=Rc(a.responseText)}catch{Ht("Failed to parse JSON response for "+o+": "+a.responseText)}r(null,l)}else a.status!==401&&a.status!==404&&Ht("Got unsuccessful REST response for "+o+" Status: "+a.status),r(a.status);r=null}},a.open("GET",o,!0),a.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oV{constructor(){this.rootNode_=ee.EMPTY_NODE}getNode(t){return this.rootNode_.getChild(t)}updateSnapshot(t,n){this.rootNode_=this.rootNode_.updateChild(t,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yh(){return{value:null,children:new Map}}function M2(e,t,n){if(de(t))e.value=n,e.children.clear();else if(e.value!==null)e.value=e.value.updateChild(t,n);else{const r=ce(t);e.children.has(r)||e.children.set(r,Yh());const i=e.children.get(r);t=Pe(t),M2(i,t,n)}}function $y(e,t,n){e.value!==null?n(t,e.value):aV(e,(r,i)=>{const s=new Ee(t.toString()+"/"+r);$y(i,s,n)})}function aV(e,t){e.children.forEach((n,r)=>{t(r,n)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lV{constructor(t){this.collection_=t,this.last_=null}get(){const t=this.collection_.get(),n=Object.assign({},t);return this.last_&&Ct(this.last_,(r,i)=>{n[r]=n[r]-i}),this.last_=t,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mb=10*1e3,cV=30*1e3,uV=5*60*1e3;class dV{constructor(t,n){this.server_=n,this.statsToReport_={},this.statsListener_=new lV(t);const r=mb+(cV-mb)*Math.random();Ql(this.reportStats_.bind(this),Math.floor(r))}reportStats_(){const t=this.statsListener_.get(),n={};let r=!1;Ct(t,(i,s)=>{s>0&&Rr(this.statsToReport_,i)&&(n[i]=s,r=!0)}),r&&this.server_.reportStats(n),Ql(this.reportStats_.bind(this),Math.floor(Math.random()*2*uV))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Jn;(function(e){e[e.OVERWRITE=0]="OVERWRITE",e[e.MERGE=1]="MERGE",e[e.ACK_USER_WRITE=2]="ACK_USER_WRITE",e[e.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(Jn||(Jn={}));function Tw(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function kw(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function Iw(e){return{fromUser:!1,fromServer:!0,queryId:e,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xh{constructor(t,n,r){this.path=t,this.affectedTree=n,this.revert=r,this.type=Jn.ACK_USER_WRITE,this.source=Tw()}operationForChild(t){if(de(this.path)){if(this.affectedTree.value!=null)return B(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const n=this.affectedTree.subtree(new Ee(t));return new Xh(ye(),n,this.revert)}}else return B(ce(this.path)===t,"operationForChild called for unrelated child."),new Xh(Pe(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bc{constructor(t,n){this.source=t,this.path=n,this.type=Jn.LISTEN_COMPLETE}operationForChild(t){return de(this.path)?new Bc(this.source,ye()):new Bc(this.source,Pe(this.path))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eo{constructor(t,n,r){this.source=t,this.path=n,this.snap=r,this.type=Jn.OVERWRITE}operationForChild(t){return de(this.path)?new eo(this.source,ye(),this.snap.getImmediateChild(t)):new eo(this.source,Pe(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xa{constructor(t,n,r){this.source=t,this.path=n,this.children=r,this.type=Jn.MERGE}operationForChild(t){if(de(this.path)){const n=this.children.subtree(new Ee(t));return n.isEmpty()?null:n.value?new eo(this.source,ye(),n.value):new xa(this.source,ye(),n)}else return B(ce(this.path)===t,"Can't get a merge for a child not on the path of the operation"),new xa(this.source,Pe(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ts{constructor(t,n,r){this.node_=t,this.fullyInitialized_=n,this.filtered_=r}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(t){if(de(t))return this.isFullyInitialized()&&!this.filtered_;const n=ce(t);return this.isCompleteForChild(n)}isCompleteForChild(t){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(t)}getNode(){return this.node_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hV{constructor(t){this.query_=t,this.index_=this.query_._queryParams.getIndex()}}function fV(e,t,n,r){const i=[],s=[];return t.forEach(o=>{o.type==="child_changed"&&e.index_.indexedValueChanged(o.oldSnap,o.snapshotNode)&&s.push(rV(o.childName,o.snapshotNode))}),bl(e,i,"child_removed",t,r,n),bl(e,i,"child_added",t,r,n),bl(e,i,"child_moved",s,r,n),bl(e,i,"child_changed",t,r,n),bl(e,i,"value",t,r,n),i}function bl(e,t,n,r,i,s){const o=r.filter(a=>a.type===n);o.sort((a,l)=>mV(e,a,l)),o.forEach(a=>{const l=pV(e,a,s);i.forEach(c=>{c.respondsTo(a.type)&&t.push(c.createEvent(l,e.query_))})})}function pV(e,t,n){return t.type==="value"||t.type==="child_removed"||(t.prevName=n.getPredecessorChildName(t.childName,t.snapshotNode,e.index_)),t}function mV(e,t,n){if(t.childName==null||n.childName==null)throw Va("Should only compare child_ events.");const r=new ue(t.childName,t.snapshotNode),i=new ue(n.childName,n.snapshotNode);return e.index_.compare(r,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xf(e,t){return{eventCache:e,serverCache:t}}function Zl(e,t,n,r){return Xf(new ts(t,n,r),e.serverCache)}function L2(e,t,n,r){return Xf(e.eventCache,new ts(t,n,r))}function Jh(e){return e.eventCache.isFullyInitialized()?e.eventCache.getNode():null}function to(e){return e.serverCache.isFullyInitialized()?e.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Zm;const gV=()=>(Zm||(Zm=new nn(e9)),Zm);class Ie{static fromObject(t){let n=new Ie(null);return Ct(t,(r,i)=>{n=n.set(new Ee(r),i)}),n}constructor(t,n=gV()){this.value=t,this.children=n}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(t,n){if(this.value!=null&&n(this.value))return{path:ye(),value:this.value};if(de(t))return null;{const r=ce(t),i=this.children.get(r);if(i!==null){const s=i.findRootMostMatchingPathAndValue(Pe(t),n);return s!=null?{path:Ye(new Ee(r),s.path),value:s.value}:null}else return null}}findRootMostValueAndPath(t){return this.findRootMostMatchingPathAndValue(t,()=>!0)}subtree(t){if(de(t))return this;{const n=ce(t),r=this.children.get(n);return r!==null?r.subtree(Pe(t)):new Ie(null)}}set(t,n){if(de(t))return new Ie(n,this.children);{const r=ce(t),s=(this.children.get(r)||new Ie(null)).set(Pe(t),n),o=this.children.insert(r,s);return new Ie(this.value,o)}}remove(t){if(de(t))return this.children.isEmpty()?new Ie(null):new Ie(null,this.children);{const n=ce(t),r=this.children.get(n);if(r){const i=r.remove(Pe(t));let s;return i.isEmpty()?s=this.children.remove(n):s=this.children.insert(n,i),this.value===null&&s.isEmpty()?new Ie(null):new Ie(this.value,s)}else return this}}get(t){if(de(t))return this.value;{const n=ce(t),r=this.children.get(n);return r?r.get(Pe(t)):null}}setTree(t,n){if(de(t))return n;{const r=ce(t),s=(this.children.get(r)||new Ie(null)).setTree(Pe(t),n);let o;return s.isEmpty()?o=this.children.remove(r):o=this.children.insert(r,s),new Ie(this.value,o)}}fold(t){return this.fold_(ye(),t)}fold_(t,n){const r={};return this.children.inorderTraversal((i,s)=>{r[i]=s.fold_(Ye(t,i),n)}),n(t,this.value,r)}findOnPath(t,n){return this.findOnPath_(t,ye(),n)}findOnPath_(t,n,r){const i=this.value?r(n,this.value):!1;if(i)return i;if(de(t))return null;{const s=ce(t),o=this.children.get(s);return o?o.findOnPath_(Pe(t),Ye(n,s),r):null}}foreachOnPath(t,n){return this.foreachOnPath_(t,ye(),n)}foreachOnPath_(t,n,r){if(de(t))return this;{this.value&&r(n,this.value);const i=ce(t),s=this.children.get(i);return s?s.foreachOnPath_(Pe(t),Ye(n,i),r):new Ie(null)}}foreach(t){this.foreach_(ye(),t)}foreach_(t,n){this.children.inorderTraversal((r,i)=>{i.foreach_(Ye(t,r),n)}),this.value&&n(t,this.value)}foreachChild(t){this.children.inorderTraversal((n,r)=>{r.value&&t(n,r.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ir{constructor(t){this.writeTree_=t}static empty(){return new ir(new Ie(null))}}function ec(e,t,n){if(de(t))return new ir(new Ie(n));{const r=e.writeTree_.findRootMostValueAndPath(t);if(r!=null){const i=r.path;let s=r.value;const o=Bt(i,t);return s=s.updateChild(o,n),new ir(e.writeTree_.set(i,s))}else{const i=new Ie(n),s=e.writeTree_.setTree(t,i);return new ir(s)}}}function Vy(e,t,n){let r=e;return Ct(n,(i,s)=>{r=ec(r,Ye(t,i),s)}),r}function gb(e,t){if(de(t))return ir.empty();{const n=e.writeTree_.setTree(t,new Ie(null));return new ir(n)}}function Uy(e,t){return ho(e,t)!=null}function ho(e,t){const n=e.writeTree_.findRootMostValueAndPath(t);return n!=null?e.writeTree_.get(n.path).getChild(Bt(n.path,t)):null}function yb(e){const t=[],n=e.writeTree_.value;return n!=null?n.isLeafNode()||n.forEachChild(Xe,(r,i)=>{t.push(new ue(r,i))}):e.writeTree_.children.inorderTraversal((r,i)=>{i.value!=null&&t.push(new ue(r,i.value))}),t}function Ki(e,t){if(de(t))return e;{const n=ho(e,t);return n!=null?new ir(new Ie(n)):new ir(e.writeTree_.subtree(t))}}function By(e){return e.writeTree_.isEmpty()}function Ea(e,t){return j2(ye(),e.writeTree_,t)}function j2(e,t,n){if(t.value!=null)return n.updateChild(e,t.value);{let r=null;return t.children.inorderTraversal((i,s)=>{i===".priority"?(B(s.value!==null,"Priority writes must always be leaf nodes"),r=s.value):n=j2(Ye(e,i),s,n)}),!n.getChild(e).isEmpty()&&r!==null&&(n=n.updateChild(Ye(e,".priority"),r)),n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jf(e,t){return U2(t,e)}function yV(e,t,n,r,i){B(r>e.lastWriteId,"Stacking an older write on top of newer ones"),i===void 0&&(i=!0),e.allWrites.push({path:t,snap:n,writeId:r,visible:i}),i&&(e.visibleWrites=ec(e.visibleWrites,t,n)),e.lastWriteId=r}function vV(e,t,n,r){B(r>e.lastWriteId,"Stacking an older merge on top of newer ones"),e.allWrites.push({path:t,children:n,writeId:r,visible:!0}),e.visibleWrites=Vy(e.visibleWrites,t,n),e.lastWriteId=r}function wV(e,t){for(let n=0;n<e.allWrites.length;n++){const r=e.allWrites[n];if(r.writeId===t)return r}return null}function _V(e,t){const n=e.allWrites.findIndex(a=>a.writeId===t);B(n>=0,"removeWrite called with nonexistent writeId.");const r=e.allWrites[n];e.allWrites.splice(n,1);let i=r.visible,s=!1,o=e.allWrites.length-1;for(;i&&o>=0;){const a=e.allWrites[o];a.visible&&(o>=n&&xV(a,r.path)?i=!1:An(r.path,a.path)&&(s=!0)),o--}if(i){if(s)return EV(e),!0;if(r.snap)e.visibleWrites=gb(e.visibleWrites,r.path);else{const a=r.children;Ct(a,l=>{e.visibleWrites=gb(e.visibleWrites,Ye(r.path,l))})}return!0}else return!1}function xV(e,t){if(e.snap)return An(e.path,t);for(const n in e.children)if(e.children.hasOwnProperty(n)&&An(Ye(e.path,n),t))return!0;return!1}function EV(e){e.visibleWrites=F2(e.allWrites,bV,ye()),e.allWrites.length>0?e.lastWriteId=e.allWrites[e.allWrites.length-1].writeId:e.lastWriteId=-1}function bV(e){return e.visible}function F2(e,t,n){let r=ir.empty();for(let i=0;i<e.length;++i){const s=e[i];if(t(s)){const o=s.path;let a;if(s.snap)An(n,o)?(a=Bt(n,o),r=ec(r,a,s.snap)):An(o,n)&&(a=Bt(o,n),r=ec(r,ye(),s.snap.getChild(a)));else if(s.children){if(An(n,o))a=Bt(n,o),r=Vy(r,a,s.children);else if(An(o,n))if(a=Bt(o,n),de(a))r=Vy(r,ye(),s.children);else{const l=va(s.children,ce(a));if(l){const c=l.getChild(Pe(a));r=ec(r,ye(),c)}}}else throw Va("WriteRecord should have .snap or .children")}}return r}function $2(e,t,n,r,i){if(!r&&!i){const s=ho(e.visibleWrites,t);if(s!=null)return s;{const o=Ki(e.visibleWrites,t);if(By(o))return n;if(n==null&&!Uy(o,ye()))return null;{const a=n||ee.EMPTY_NODE;return Ea(o,a)}}}else{const s=Ki(e.visibleWrites,t);if(!i&&By(s))return n;if(!i&&n==null&&!Uy(s,ye()))return null;{const o=function(c){return(c.visible||i)&&(!r||!~r.indexOf(c.writeId))&&(An(c.path,t)||An(t,c.path))},a=F2(e.allWrites,o,t),l=n||ee.EMPTY_NODE;return Ea(a,l)}}}function CV(e,t,n){let r=ee.EMPTY_NODE;const i=ho(e.visibleWrites,t);if(i)return i.isLeafNode()||i.forEachChild(Xe,(s,o)=>{r=r.updateImmediateChild(s,o)}),r;if(n){const s=Ki(e.visibleWrites,t);return n.forEachChild(Xe,(o,a)=>{const l=Ea(Ki(s,new Ee(o)),a);r=r.updateImmediateChild(o,l)}),yb(s).forEach(o=>{r=r.updateImmediateChild(o.name,o.node)}),r}else{const s=Ki(e.visibleWrites,t);return yb(s).forEach(o=>{r=r.updateImmediateChild(o.name,o.node)}),r}}function SV(e,t,n,r,i){B(r||i,"Either existingEventSnap or existingServerSnap must exist");const s=Ye(t,n);if(Uy(e.visibleWrites,s))return null;{const o=Ki(e.visibleWrites,s);return By(o)?i.getChild(n):Ea(o,i.getChild(n))}}function TV(e,t,n,r){const i=Ye(t,n),s=ho(e.visibleWrites,i);if(s!=null)return s;if(r.isCompleteForChild(n)){const o=Ki(e.visibleWrites,i);return Ea(o,r.getNode().getImmediateChild(n))}else return null}function kV(e,t){return ho(e.visibleWrites,t)}function IV(e,t,n,r,i,s,o){let a;const l=Ki(e.visibleWrites,t),c=ho(l,ye());if(c!=null)a=c;else if(n!=null)a=Ea(l,n);else return[];if(a=a.withIndex(o),!a.isEmpty()&&!a.isLeafNode()){const d=[],h=o.getCompare(),f=s?a.getReverseIteratorFrom(r,o):a.getIteratorFrom(r,o);let g=f.getNext();for(;g&&d.length<i;)h(g,r)!==0&&d.push(g),g=f.getNext();return d}else return[]}function PV(){return{visibleWrites:ir.empty(),allWrites:[],lastWriteId:-1}}function Qh(e,t,n,r){return $2(e.writeTree,e.treePath,t,n,r)}function Pw(e,t){return CV(e.writeTree,e.treePath,t)}function vb(e,t,n,r){return SV(e.writeTree,e.treePath,t,n,r)}function Zh(e,t){return kV(e.writeTree,Ye(e.treePath,t))}function AV(e,t,n,r,i,s){return IV(e.writeTree,e.treePath,t,n,r,i,s)}function Aw(e,t,n){return TV(e.writeTree,e.treePath,t,n)}function V2(e,t){return U2(Ye(e.treePath,t),e.writeTree)}function U2(e,t){return{treePath:e,writeTree:t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RV{constructor(){this.changeMap=new Map}trackChildChange(t){const n=t.type,r=t.childName;B(n==="child_added"||n==="child_changed"||n==="child_removed","Only child changes supported for tracking"),B(r!==".priority","Only non-priority child changes can be tracked.");const i=this.changeMap.get(r);if(i){const s=i.type;if(n==="child_added"&&s==="child_removed")this.changeMap.set(r,Vc(r,t.snapshotNode,i.snapshotNode));else if(n==="child_removed"&&s==="child_added")this.changeMap.delete(r);else if(n==="child_removed"&&s==="child_changed")this.changeMap.set(r,$c(r,i.oldSnap));else if(n==="child_changed"&&s==="child_added")this.changeMap.set(r,_a(r,t.snapshotNode));else if(n==="child_changed"&&s==="child_changed")this.changeMap.set(r,Vc(r,t.snapshotNode,i.oldSnap));else throw Va("Illegal combination of changes: "+t+" occurred after "+i)}else this.changeMap.set(r,t)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NV{getCompleteChild(t){return null}getChildAfterChild(t,n,r){return null}}const B2=new NV;class Rw{constructor(t,n,r=null){this.writes_=t,this.viewCache_=n,this.optCompleteServerCache_=r}getCompleteChild(t){const n=this.viewCache_.eventCache;if(n.isCompleteForChild(t))return n.getNode().getImmediateChild(t);{const r=this.optCompleteServerCache_!=null?new ts(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return Aw(this.writes_,t,r)}}getChildAfterChild(t,n,r){const i=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:to(this.viewCache_),s=AV(this.writes_,i,n,1,r,t);return s.length===0?null:s[0]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DV(e){return{filter:e}}function OV(e,t){B(t.eventCache.getNode().isIndexed(e.filter.getIndex()),"Event snap not indexed"),B(t.serverCache.getNode().isIndexed(e.filter.getIndex()),"Server snap not indexed")}function MV(e,t,n,r,i){const s=new RV;let o,a;if(n.type===Jn.OVERWRITE){const c=n;c.source.fromUser?o=zy(e,t,c.path,c.snap,r,i,s):(B(c.source.fromServer,"Unknown source."),a=c.source.tagged||t.serverCache.isFiltered()&&!de(c.path),o=ef(e,t,c.path,c.snap,r,i,a,s))}else if(n.type===Jn.MERGE){const c=n;c.source.fromUser?o=jV(e,t,c.path,c.children,r,i,s):(B(c.source.fromServer,"Unknown source."),a=c.source.tagged||t.serverCache.isFiltered(),o=Wy(e,t,c.path,c.children,r,i,a,s))}else if(n.type===Jn.ACK_USER_WRITE){const c=n;c.revert?o=VV(e,t,c.path,r,i,s):o=FV(e,t,c.path,c.affectedTree,r,i,s)}else if(n.type===Jn.LISTEN_COMPLETE)o=$V(e,t,n.path,r,s);else throw Va("Unknown operation type: "+n.type);const l=s.getChanges();return LV(t,o,l),{viewCache:o,changes:l}}function LV(e,t,n){const r=t.eventCache;if(r.isFullyInitialized()){const i=r.getNode().isLeafNode()||r.getNode().isEmpty(),s=Jh(e);(n.length>0||!e.eventCache.isFullyInitialized()||i&&!r.getNode().equals(s)||!r.getNode().getPriority().equals(s.getPriority()))&&n.push(O2(Jh(t)))}}function z2(e,t,n,r,i,s){const o=t.eventCache;if(Zh(r,n)!=null)return t;{let a,l;if(de(n))if(B(t.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),t.serverCache.isFiltered()){const c=to(t),d=c instanceof ee?c:ee.EMPTY_NODE,h=Pw(r,d);a=e.filter.updateFullNode(t.eventCache.getNode(),h,s)}else{const c=Qh(r,to(t));a=e.filter.updateFullNode(t.eventCache.getNode(),c,s)}else{const c=ce(n);if(c===".priority"){B(es(n)===1,"Can't have a priority with additional path components");const d=o.getNode();l=t.serverCache.getNode();const h=vb(r,n,d,l);h!=null?a=e.filter.updatePriority(d,h):a=o.getNode()}else{const d=Pe(n);let h;if(o.isCompleteForChild(c)){l=t.serverCache.getNode();const f=vb(r,n,o.getNode(),l);f!=null?h=o.getNode().getImmediateChild(c).updateChild(d,f):h=o.getNode().getImmediateChild(c)}else h=Aw(r,c,t.serverCache);h!=null?a=e.filter.updateChild(o.getNode(),c,h,d,i,s):a=o.getNode()}}return Zl(t,a,o.isFullyInitialized()||de(n),e.filter.filtersNodes())}}function ef(e,t,n,r,i,s,o,a){const l=t.serverCache;let c;const d=o?e.filter:e.filter.getIndexedFilter();if(de(n))c=d.updateFullNode(l.getNode(),r,null);else if(d.filtersNodes()&&!l.isFiltered()){const g=l.getNode().updateChild(n,r);c=d.updateFullNode(l.getNode(),g,null)}else{const g=ce(n);if(!l.isCompleteForPath(n)&&es(n)>1)return t;const y=Pe(n),k=l.getNode().getImmediateChild(g).updateChild(y,r);g===".priority"?c=d.updatePriority(l.getNode(),k):c=d.updateChild(l.getNode(),g,k,y,B2,null)}const h=L2(t,c,l.isFullyInitialized()||de(n),d.filtersNodes()),f=new Rw(i,h,s);return z2(e,h,n,i,f,a)}function zy(e,t,n,r,i,s,o){const a=t.eventCache;let l,c;const d=new Rw(i,t,s);if(de(n))c=e.filter.updateFullNode(t.eventCache.getNode(),r,o),l=Zl(t,c,!0,e.filter.filtersNodes());else{const h=ce(n);if(h===".priority")c=e.filter.updatePriority(t.eventCache.getNode(),r),l=Zl(t,c,a.isFullyInitialized(),a.isFiltered());else{const f=Pe(n),g=a.getNode().getImmediateChild(h);let y;if(de(f))y=r;else{const S=d.getCompleteChild(h);S!=null?_w(f)===".priority"&&S.getChild(k2(f)).isEmpty()?y=S:y=S.updateChild(f,r):y=ee.EMPTY_NODE}if(g.equals(y))l=t;else{const S=e.filter.updateChild(a.getNode(),h,y,f,d,o);l=Zl(t,S,a.isFullyInitialized(),e.filter.filtersNodes())}}}return l}function wb(e,t){return e.eventCache.isCompleteForChild(t)}function jV(e,t,n,r,i,s,o){let a=t;return r.foreach((l,c)=>{const d=Ye(n,l);wb(t,ce(d))&&(a=zy(e,a,d,c,i,s,o))}),r.foreach((l,c)=>{const d=Ye(n,l);wb(t,ce(d))||(a=zy(e,a,d,c,i,s,o))}),a}function _b(e,t,n){return n.foreach((r,i)=>{t=t.updateChild(r,i)}),t}function Wy(e,t,n,r,i,s,o,a){if(t.serverCache.getNode().isEmpty()&&!t.serverCache.isFullyInitialized())return t;let l=t,c;de(n)?c=r:c=new Ie(null).setTree(n,r);const d=t.serverCache.getNode();return c.children.inorderTraversal((h,f)=>{if(d.hasChild(h)){const g=t.serverCache.getNode().getImmediateChild(h),y=_b(e,g,f);l=ef(e,l,new Ee(h),y,i,s,o,a)}}),c.children.inorderTraversal((h,f)=>{const g=!t.serverCache.isCompleteForChild(h)&&f.value===null;if(!d.hasChild(h)&&!g){const y=t.serverCache.getNode().getImmediateChild(h),S=_b(e,y,f);l=ef(e,l,new Ee(h),S,i,s,o,a)}}),l}function FV(e,t,n,r,i,s,o){if(Zh(i,n)!=null)return t;const a=t.serverCache.isFiltered(),l=t.serverCache;if(r.value!=null){if(de(n)&&l.isFullyInitialized()||l.isCompleteForPath(n))return ef(e,t,n,l.getNode().getChild(n),i,s,a,o);if(de(n)){let c=new Ie(null);return l.getNode().forEachChild(aa,(d,h)=>{c=c.set(new Ee(d),h)}),Wy(e,t,n,c,i,s,a,o)}else return t}else{let c=new Ie(null);return r.foreach((d,h)=>{const f=Ye(n,d);l.isCompleteForPath(f)&&(c=c.set(d,l.getNode().getChild(f)))}),Wy(e,t,n,c,i,s,a,o)}}function $V(e,t,n,r,i){const s=t.serverCache,o=L2(t,s.getNode(),s.isFullyInitialized()||de(n),s.isFiltered());return z2(e,o,n,r,B2,i)}function VV(e,t,n,r,i,s){let o;if(Zh(r,n)!=null)return t;{const a=new Rw(r,t,i),l=t.eventCache.getNode();let c;if(de(n)||ce(n)===".priority"){let d;if(t.serverCache.isFullyInitialized())d=Qh(r,to(t));else{const h=t.serverCache.getNode();B(h instanceof ee,"serverChildren would be complete if leaf node"),d=Pw(r,h)}d=d,c=e.filter.updateFullNode(l,d,s)}else{const d=ce(n);let h=Aw(r,d,t.serverCache);h==null&&t.serverCache.isCompleteForChild(d)&&(h=l.getImmediateChild(d)),h!=null?c=e.filter.updateChild(l,d,h,Pe(n),a,s):t.eventCache.getNode().hasChild(d)?c=e.filter.updateChild(l,d,ee.EMPTY_NODE,Pe(n),a,s):c=l,c.isEmpty()&&t.serverCache.isFullyInitialized()&&(o=Qh(r,to(t)),o.isLeafNode()&&(c=e.filter.updateFullNode(c,o,s)))}return o=t.serverCache.isFullyInitialized()||Zh(r,ye())!=null,Zl(t,c,o,e.filter.filtersNodes())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UV{constructor(t,n){this.query_=t,this.eventRegistrations_=[];const r=this.query_._queryParams,i=new Cw(r.getIndex()),s=sV(r);this.processor_=DV(s);const o=n.serverCache,a=n.eventCache,l=i.updateFullNode(ee.EMPTY_NODE,o.getNode(),null),c=s.updateFullNode(ee.EMPTY_NODE,a.getNode(),null),d=new ts(l,o.isFullyInitialized(),i.filtersNodes()),h=new ts(c,a.isFullyInitialized(),s.filtersNodes());this.viewCache_=Xf(h,d),this.eventGenerator_=new hV(this.query_)}get query(){return this.query_}}function BV(e){return e.viewCache_.serverCache.getNode()}function zV(e){return Jh(e.viewCache_)}function WV(e,t){const n=to(e.viewCache_);return n&&(e.query._queryParams.loadsAllData()||!de(t)&&!n.getImmediateChild(ce(t)).isEmpty())?n.getChild(t):null}function xb(e){return e.eventRegistrations_.length===0}function HV(e,t){e.eventRegistrations_.push(t)}function Eb(e,t,n){const r=[];if(n){B(t==null,"A cancel should cancel all event registrations.");const i=e.query._path;e.eventRegistrations_.forEach(s=>{const o=s.createCancelEvent(n,i);o&&r.push(o)})}if(t){let i=[];for(let s=0;s<e.eventRegistrations_.length;++s){const o=e.eventRegistrations_[s];if(!o.matches(t))i.push(o);else if(t.hasAnyCallback()){i=i.concat(e.eventRegistrations_.slice(s+1));break}}e.eventRegistrations_=i}else e.eventRegistrations_=[];return r}function bb(e,t,n,r){t.type===Jn.MERGE&&t.source.queryId!==null&&(B(to(e.viewCache_),"We should always have a full cache before handling merges"),B(Jh(e.viewCache_),"Missing event cache, even though we have a server cache"));const i=e.viewCache_,s=MV(e.processor_,i,t,n,r);return OV(e.processor_,s.viewCache),B(s.viewCache.serverCache.isFullyInitialized()||!i.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),e.viewCache_=s.viewCache,W2(e,s.changes,s.viewCache.eventCache.getNode(),null)}function qV(e,t){const n=e.viewCache_.eventCache,r=[];return n.getNode().isLeafNode()||n.getNode().forEachChild(Xe,(s,o)=>{r.push(_a(s,o))}),n.isFullyInitialized()&&r.push(O2(n.getNode())),W2(e,r,n.getNode(),t)}function W2(e,t,n,r){const i=r?[r]:e.eventRegistrations_;return fV(e.eventGenerator_,t,n,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let tf;class H2{constructor(){this.views=new Map}}function GV(e){B(!tf,"__referenceConstructor has already been defined"),tf=e}function KV(){return B(tf,"Reference.ts has not been loaded"),tf}function YV(e){return e.views.size===0}function Nw(e,t,n,r){const i=t.source.queryId;if(i!==null){const s=e.views.get(i);return B(s!=null,"SyncTree gave us an op for an invalid query."),bb(s,t,n,r)}else{let s=[];for(const o of e.views.values())s=s.concat(bb(o,t,n,r));return s}}function q2(e,t,n,r,i){const s=t._queryIdentifier,o=e.views.get(s);if(!o){let a=Qh(n,i?r:null),l=!1;a?l=!0:r instanceof ee?(a=Pw(n,r),l=!1):(a=ee.EMPTY_NODE,l=!1);const c=Xf(new ts(a,l,!1),new ts(r,i,!1));return new UV(t,c)}return o}function XV(e,t,n,r,i,s){const o=q2(e,t,r,i,s);return e.views.has(t._queryIdentifier)||e.views.set(t._queryIdentifier,o),HV(o,n),qV(o,n)}function JV(e,t,n,r){const i=t._queryIdentifier,s=[];let o=[];const a=ns(e);if(i==="default")for(const[l,c]of e.views.entries())o=o.concat(Eb(c,n,r)),xb(c)&&(e.views.delete(l),c.query._queryParams.loadsAllData()||s.push(c.query));else{const l=e.views.get(i);l&&(o=o.concat(Eb(l,n,r)),xb(l)&&(e.views.delete(i),l.query._queryParams.loadsAllData()||s.push(l.query)))}return a&&!ns(e)&&s.push(new(KV())(t._repo,t._path)),{removed:s,events:o}}function G2(e){const t=[];for(const n of e.views.values())n.query._queryParams.loadsAllData()||t.push(n);return t}function Yi(e,t){let n=null;for(const r of e.views.values())n=n||WV(r,t);return n}function K2(e,t){if(t._queryParams.loadsAllData())return Qf(e);{const r=t._queryIdentifier;return e.views.get(r)}}function Y2(e,t){return K2(e,t)!=null}function ns(e){return Qf(e)!=null}function Qf(e){for(const t of e.views.values())if(t.query._queryParams.loadsAllData())return t;return null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let nf;function QV(e){B(!nf,"__referenceConstructor has already been defined"),nf=e}function ZV(){return B(nf,"Reference.ts has not been loaded"),nf}let eU=1;class Cb{constructor(t){this.listenProvider_=t,this.syncPointTree_=new Ie(null),this.pendingWriteTree_=PV(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function X2(e,t,n,r,i){return yV(e.pendingWriteTree_,t,n,r,i),i?Wa(e,new eo(Tw(),t,n)):[]}function tU(e,t,n,r){vV(e.pendingWriteTree_,t,n,r);const i=Ie.fromObject(n);return Wa(e,new xa(Tw(),t,i))}function Li(e,t,n=!1){const r=wV(e.pendingWriteTree_,t);if(_V(e.pendingWriteTree_,t)){let s=new Ie(null);return r.snap!=null?s=s.set(ye(),!0):Ct(r.children,o=>{s=s.set(new Ee(o),!0)}),Wa(e,new Xh(r.path,s,n))}else return[]}function wu(e,t,n){return Wa(e,new eo(kw(),t,n))}function nU(e,t,n){const r=Ie.fromObject(n);return Wa(e,new xa(kw(),t,r))}function rU(e,t){return Wa(e,new Bc(kw(),t))}function iU(e,t,n){const r=Ow(e,n);if(r){const i=Mw(r),s=i.path,o=i.queryId,a=Bt(s,t),l=new Bc(Iw(o),a);return Lw(e,s,l)}else return[]}function rf(e,t,n,r,i=!1){const s=t._path,o=e.syncPointTree_.get(s);let a=[];if(o&&(t._queryIdentifier==="default"||Y2(o,t))){const l=JV(o,t,n,r);YV(o)&&(e.syncPointTree_=e.syncPointTree_.remove(s));const c=l.removed;if(a=l.events,!i){const d=c.findIndex(f=>f._queryParams.loadsAllData())!==-1,h=e.syncPointTree_.findOnPath(s,(f,g)=>ns(g));if(d&&!h){const f=e.syncPointTree_.subtree(s);if(!f.isEmpty()){const g=aU(f);for(let y=0;y<g.length;++y){const S=g[y],k=S.query,x=eA(e,S);e.listenProvider_.startListening(tc(k),zc(e,k),x.hashFn,x.onComplete)}}}!h&&c.length>0&&!r&&(d?e.listenProvider_.stopListening(tc(t),null):c.forEach(f=>{const g=e.queryToTagMap.get(Zf(f));e.listenProvider_.stopListening(tc(f),g)}))}lU(e,c)}return a}function J2(e,t,n,r){const i=Ow(e,r);if(i!=null){const s=Mw(i),o=s.path,a=s.queryId,l=Bt(o,t),c=new eo(Iw(a),l,n);return Lw(e,o,c)}else return[]}function sU(e,t,n,r){const i=Ow(e,r);if(i){const s=Mw(i),o=s.path,a=s.queryId,l=Bt(o,t),c=Ie.fromObject(n),d=new xa(Iw(a),l,c);return Lw(e,o,d)}else return[]}function Hy(e,t,n,r=!1){const i=t._path;let s=null,o=!1;e.syncPointTree_.foreachOnPath(i,(f,g)=>{const y=Bt(f,i);s=s||Yi(g,y),o=o||ns(g)});let a=e.syncPointTree_.get(i);a?(o=o||ns(a),s=s||Yi(a,ye())):(a=new H2,e.syncPointTree_=e.syncPointTree_.set(i,a));let l;s!=null?l=!0:(l=!1,s=ee.EMPTY_NODE,e.syncPointTree_.subtree(i).foreachChild((g,y)=>{const S=Yi(y,ye());S&&(s=s.updateImmediateChild(g,S))}));const c=Y2(a,t);if(!c&&!t._queryParams.loadsAllData()){const f=Zf(t);B(!e.queryToTagMap.has(f),"View does not exist, but we have a tag");const g=cU();e.queryToTagMap.set(f,g),e.tagToQueryMap.set(g,f)}const d=Jf(e.pendingWriteTree_,i);let h=XV(a,t,n,d,s,l);if(!c&&!o&&!r){const f=K2(a,t);h=h.concat(uU(e,t,f))}return h}function Dw(e,t,n){const i=e.pendingWriteTree_,s=e.syncPointTree_.findOnPath(t,(o,a)=>{const l=Bt(o,t),c=Yi(a,l);if(c)return c});return $2(i,t,s,n,!0)}function oU(e,t){const n=t._path;let r=null;e.syncPointTree_.foreachOnPath(n,(c,d)=>{const h=Bt(c,n);r=r||Yi(d,h)});let i=e.syncPointTree_.get(n);i?r=r||Yi(i,ye()):(i=new H2,e.syncPointTree_=e.syncPointTree_.set(n,i));const s=r!=null,o=s?new ts(r,!0,!1):null,a=Jf(e.pendingWriteTree_,t._path),l=q2(i,t,a,s?o.getNode():ee.EMPTY_NODE,s);return zV(l)}function Wa(e,t){return Q2(t,e.syncPointTree_,null,Jf(e.pendingWriteTree_,ye()))}function Q2(e,t,n,r){if(de(e.path))return Z2(e,t,n,r);{const i=t.get(ye());n==null&&i!=null&&(n=Yi(i,ye()));let s=[];const o=ce(e.path),a=e.operationForChild(o),l=t.children.get(o);if(l&&a){const c=n?n.getImmediateChild(o):null,d=V2(r,o);s=s.concat(Q2(a,l,c,d))}return i&&(s=s.concat(Nw(i,e,r,n))),s}}function Z2(e,t,n,r){const i=t.get(ye());n==null&&i!=null&&(n=Yi(i,ye()));let s=[];return t.children.inorderTraversal((o,a)=>{const l=n?n.getImmediateChild(o):null,c=V2(r,o),d=e.operationForChild(o);d&&(s=s.concat(Z2(d,a,l,c)))}),i&&(s=s.concat(Nw(i,e,r,n))),s}function eA(e,t){const n=t.query,r=zc(e,n);return{hashFn:()=>(BV(t)||ee.EMPTY_NODE).hash(),onComplete:i=>{if(i==="ok")return r?iU(e,n._path,r):rU(e,n._path);{const s=r9(i,n);return rf(e,n,null,s)}}}}function zc(e,t){const n=Zf(t);return e.queryToTagMap.get(n)}function Zf(e){return e._path.toString()+"$"+e._queryIdentifier}function Ow(e,t){return e.tagToQueryMap.get(t)}function Mw(e){const t=e.indexOf("$");return B(t!==-1&&t<e.length-1,"Bad queryKey."),{queryId:e.substr(t+1),path:new Ee(e.substr(0,t))}}function Lw(e,t,n){const r=e.syncPointTree_.get(t);B(r,"Missing sync point for query tag that we're tracking");const i=Jf(e.pendingWriteTree_,t);return Nw(r,n,i,null)}function aU(e){return e.fold((t,n,r)=>{if(n&&ns(n))return[Qf(n)];{let i=[];return n&&(i=G2(n)),Ct(r,(s,o)=>{i=i.concat(o)}),i}})}function tc(e){return e._queryParams.loadsAllData()&&!e._queryParams.isDefault()?new(ZV())(e._repo,e._path):e}function lU(e,t){for(let n=0;n<t.length;++n){const r=t[n];if(!r._queryParams.loadsAllData()){const i=Zf(r),s=e.queryToTagMap.get(i);e.queryToTagMap.delete(i),e.tagToQueryMap.delete(s)}}}function cU(){return eU++}function uU(e,t,n){const r=t._path,i=zc(e,t),s=eA(e,n),o=e.listenProvider_.startListening(tc(t),i,s.hashFn,s.onComplete),a=e.syncPointTree_.subtree(r);if(i)B(!ns(a.value),"If we're adding a query, it shouldn't be shadowed");else{const l=a.fold((c,d,h)=>{if(!de(c)&&d&&ns(d))return[Qf(d).query];{let f=[];return d&&(f=f.concat(G2(d).map(g=>g.query))),Ct(h,(g,y)=>{f=f.concat(y)}),f}});for(let c=0;c<l.length;++c){const d=l[c];e.listenProvider_.stopListening(tc(d),zc(e,d))}}return o}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jw{constructor(t){this.node_=t}getImmediateChild(t){const n=this.node_.getImmediateChild(t);return new jw(n)}node(){return this.node_}}class Fw{constructor(t,n){this.syncTree_=t,this.path_=n}getImmediateChild(t){const n=Ye(this.path_,t);return new Fw(this.syncTree_,n)}node(){return Dw(this.syncTree_,this.path_)}}const dU=function(e){return e=e||{},e.timestamp=e.timestamp||new Date().getTime(),e},Sb=function(e,t,n){if(!e||typeof e!="object")return e;if(B(".sv"in e,"Unexpected leaf node or priority contents"),typeof e[".sv"]=="string")return hU(e[".sv"],t,n);if(typeof e[".sv"]=="object")return fU(e[".sv"],t);B(!1,"Unexpected server value: "+JSON.stringify(e,null,2))},hU=function(e,t,n){switch(e){case"timestamp":return n.timestamp;default:B(!1,"Unexpected server value: "+e)}},fU=function(e,t,n){e.hasOwnProperty("increment")||B(!1,"Unexpected server value: "+JSON.stringify(e,null,2));const r=e.increment;typeof r!="number"&&B(!1,"Unexpected increment value: "+r);const i=t.node();if(B(i!==null&&typeof i<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;const o=i.getValue();return typeof o!="number"?r:o+r},tA=function(e,t,n,r){return $w(t,new Fw(n,e),r)},nA=function(e,t,n){return $w(e,new jw(t),n)};function $w(e,t,n){const r=e.getPriority().val(),i=Sb(r,t.getImmediateChild(".priority"),n);let s;if(e.isLeafNode()){const o=e,a=Sb(o.getValue(),t,n);return a!==o.getValue()||i!==o.getPriority().val()?new ut(a,st(i)):e}else{const o=e;return s=o,i!==o.getPriority().val()&&(s=s.updatePriority(new ut(i))),o.forEachChild(Xe,(a,l)=>{const c=$w(l,t.getImmediateChild(a),n);c!==l&&(s=s.updateImmediateChild(a,c))}),s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vw{constructor(t="",n=null,r={children:{},childCount:0}){this.name=t,this.parent=n,this.node=r}}function Uw(e,t){let n=t instanceof Ee?t:new Ee(t),r=e,i=ce(n);for(;i!==null;){const s=va(r.node.children,i)||{children:{},childCount:0};r=new Vw(i,r,s),n=Pe(n),i=ce(n)}return r}function Ha(e){return e.node.value}function rA(e,t){e.node.value=t,qy(e)}function iA(e){return e.node.childCount>0}function pU(e){return Ha(e)===void 0&&!iA(e)}function ep(e,t){Ct(e.node.children,(n,r)=>{t(new Vw(n,e,r))})}function sA(e,t,n,r){n&&!r&&t(e),ep(e,i=>{sA(i,t,!0,r)}),n&&r&&t(e)}function mU(e,t,n){let r=n?e:e.parent;for(;r!==null;){if(t(r))return!0;r=r.parent}return!1}function _u(e){return new Ee(e.parent===null?e.name:_u(e.parent)+"/"+e.name)}function qy(e){e.parent!==null&&gU(e.parent,e.name,e)}function gU(e,t,n){const r=pU(n),i=Rr(e.node.children,t);r&&i?(delete e.node.children[t],e.node.childCount--,qy(e)):!r&&!i&&(e.node.children[t]=n.node,e.node.childCount++,qy(e))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yU=/[\[\].#$\/\u0000-\u001F\u007F]/,vU=/[\[\].#$\u0000-\u001F\u007F]/,eg=10*1024*1024,Bw=function(e){return typeof e=="string"&&e.length!==0&&!yU.test(e)},oA=function(e){return typeof e=="string"&&e.length!==0&&!vU.test(e)},wU=function(e){return e&&(e=e.replace(/^\/*\.info(\/|$)/,"/")),oA(e)},_U=function(e){return e===null||typeof e=="string"||typeof e=="number"&&!mw(e)||e&&typeof e=="object"&&Rr(e,".sv")},aA=function(e,t,n,r){r&&t===void 0||tp(Vf(e,"value"),t,n)},tp=function(e,t,n){const r=n instanceof Ee?new j9(n,e):n;if(t===void 0)throw new Error(e+"contains undefined "+Es(r));if(typeof t=="function")throw new Error(e+"contains a function "+Es(r)+" with contents = "+t.toString());if(mw(t))throw new Error(e+"contains "+t.toString()+" "+Es(r));if(typeof t=="string"&&t.length>eg/3&&Uf(t)>eg)throw new Error(e+"contains a string greater than "+eg+" utf8 bytes "+Es(r)+" ('"+t.substring(0,50)+"...')");if(t&&typeof t=="object"){let i=!1,s=!1;if(Ct(t,(o,a)=>{if(o===".value")i=!0;else if(o!==".priority"&&o!==".sv"&&(s=!0,!Bw(o)))throw new Error(e+" contains an invalid key ("+o+") "+Es(r)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);F9(r,o),tp(e,a,r),$9(r)}),i&&s)throw new Error(e+' contains ".value" child '+Es(r)+" in addition to actual children.")}},xU=function(e,t){let n,r;for(n=0;n<t.length;n++){r=t[n];const s=Fc(r);for(let o=0;o<s.length;o++)if(!(s[o]===".priority"&&o===s.length-1)){if(!Bw(s[o]))throw new Error(e+"contains an invalid key ("+s[o]+") in path "+r.toString()+`. Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`)}}t.sort(L9);let i=null;for(n=0;n<t.length;n++){if(r=t[n],i!==null&&An(i,r))throw new Error(e+"contains a path "+i.toString()+" that is ancestor of another path "+r.toString());i=r}},EU=function(e,t,n,r){if(r&&t===void 0)return;const i=Vf(e,"values");if(!(t&&typeof t=="object")||Array.isArray(t))throw new Error(i+" must be an object containing the children to replace.");const s=[];Ct(t,(o,a)=>{const l=new Ee(o);if(tp(i,a,Ye(n,l)),_w(l)===".priority"&&!_U(a))throw new Error(i+"contains an invalid value for '"+l.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");s.push(l)}),xU(i,s)},lA=function(e,t,n,r){if(!(r&&n===void 0)&&!oA(n))throw new Error(Vf(e,t)+'was an invalid path = "'+n+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},bU=function(e,t,n,r){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),lA(e,t,n,r)},cA=function(e,t){if(ce(t)===".info")throw new Error(e+" failed = Can't modify data under /.info/")},CU=function(e,t){const n=t.path.toString();if(typeof t.repoInfo.host!="string"||t.repoInfo.host.length===0||!Bw(t.repoInfo.namespace)&&t.repoInfo.host.split(":")[0]!=="localhost"||n.length!==0&&!wU(n))throw new Error(Vf(e,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SU{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function np(e,t){let n=null;for(let r=0;r<t.length;r++){const i=t[r],s=i.getPath();n!==null&&!xw(s,n.path)&&(e.eventLists_.push(n),n=null),n===null&&(n={events:[],path:s}),n.events.push(i)}n&&e.eventLists_.push(n)}function uA(e,t,n){np(e,n),dA(e,r=>xw(r,t))}function jn(e,t,n){np(e,n),dA(e,r=>An(r,t)||An(t,r))}function dA(e,t){e.recursionDepth_++;let n=!0;for(let r=0;r<e.eventLists_.length;r++){const i=e.eventLists_[r];if(i){const s=i.path;t(s)?(TU(e.eventLists_[r]),e.eventLists_[r]=null):n=!1}}n&&(e.eventLists_=[]),e.recursionDepth_--}function TU(e){for(let t=0;t<e.events.length;t++){const n=e.events[t];if(n!==null){e.events[t]=null;const r=n.getEventRunner();Vs&&xt("event: "+n.toString()),za(r)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kU="repo_interrupt",IU=25;class PU{constructor(t,n,r,i){this.repoInfo_=t,this.forceRestClient_=n,this.authTokenProvider_=r,this.appCheckProvider_=i,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new SU,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Yh(),this.transactionQueueTree_=new Vw,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function AU(e,t,n){if(e.stats_=vw(e.repoInfo_),e.forceRestClient_||a9())e.server_=new Kh(e.repoInfo_,(r,i,s,o)=>{Tb(e,r,i,s,o)},e.authTokenProvider_,e.appCheckProvider_),setTimeout(()=>kb(e,!0),0);else{if(typeof n<"u"&&n!==null){if(typeof n!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{ot(n)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}e.persistentConnection_=new Qr(e.repoInfo_,t,(r,i,s,o)=>{Tb(e,r,i,s,o)},r=>{kb(e,r)},r=>{RU(e,r)},e.authTokenProvider_,e.appCheckProvider_,n),e.server_=e.persistentConnection_}e.authTokenProvider_.addTokenChangeListener(r=>{e.server_.refreshAuthToken(r)}),e.appCheckProvider_.addTokenChangeListener(r=>{e.server_.refreshAppCheckToken(r.token)}),e.statsReporter_=h9(e.repoInfo_,()=>new dV(e.stats_,e.server_)),e.infoData_=new oV,e.infoSyncTree_=new Cb({startListening:(r,i,s,o)=>{let a=[];const l=e.infoData_.getNode(r._path);return l.isEmpty()||(a=wu(e.infoSyncTree_,r._path,l),setTimeout(()=>{o("ok")},0)),a},stopListening:()=>{}}),zw(e,"connected",!1),e.serverSyncTree_=new Cb({startListening:(r,i,s,o)=>(e.server_.listen(r,s,i,(a,l)=>{const c=o(a,l);jn(e.eventQueue_,r._path,c)}),[]),stopListening:(r,i)=>{e.server_.unlisten(r,i)}})}function hA(e){const n=e.infoData_.getNode(new Ee(".info/serverTimeOffset")).val()||0;return new Date().getTime()+n}function rp(e){return dU({timestamp:hA(e)})}function Tb(e,t,n,r,i){e.dataUpdateCount++;const s=new Ee(t);n=e.interceptServerDataCallback_?e.interceptServerDataCallback_(t,n):n;let o=[];if(i)if(r){const l=Lh(n,c=>st(c));o=sU(e.serverSyncTree_,s,l,i)}else{const l=st(n);o=J2(e.serverSyncTree_,s,l,i)}else if(r){const l=Lh(n,c=>st(c));o=nU(e.serverSyncTree_,s,l)}else{const l=st(n);o=wu(e.serverSyncTree_,s,l)}let a=s;o.length>0&&(a=ba(e,s)),jn(e.eventQueue_,a,o)}function kb(e,t){zw(e,"connected",t),t===!1&&MU(e)}function RU(e,t){Ct(t,(n,r)=>{zw(e,n,r)})}function zw(e,t,n){const r=new Ee("/.info/"+t),i=st(n);e.infoData_.updateSnapshot(r,i);const s=wu(e.infoSyncTree_,r,i);jn(e.eventQueue_,r,s)}function Ww(e){return e.nextWriteId_++}function NU(e,t,n){const r=oU(e.serverSyncTree_,t);return r!=null?Promise.resolve(r):e.server_.get(t).then(i=>{const s=st(i).withIndex(t._queryParams.getIndex());Hy(e.serverSyncTree_,t,n,!0);let o;if(t._queryParams.loadsAllData())o=wu(e.serverSyncTree_,t._path,s);else{const a=zc(e.serverSyncTree_,t);o=J2(e.serverSyncTree_,t._path,s,a)}return jn(e.eventQueue_,t._path,o),rf(e.serverSyncTree_,t,n,null,!0),s},i=>(xu(e,"get for query "+ot(t)+" failed: "+i),Promise.reject(new Error(i))))}function DU(e,t,n,r,i){xu(e,"set",{path:t.toString(),value:n,priority:r});const s=rp(e),o=st(n,r),a=Dw(e.serverSyncTree_,t),l=nA(o,a,s),c=Ww(e),d=X2(e.serverSyncTree_,t,l,c,!0);np(e.eventQueue_,d),e.server_.put(t.toString(),o.val(!0),(f,g)=>{const y=f==="ok";y||Ht("set at "+t+" failed: "+f);const S=Li(e.serverSyncTree_,c,!y);jn(e.eventQueue_,t,S),Ky(e,i,f,g)});const h=qw(e,t);ba(e,h),jn(e.eventQueue_,h,[])}function OU(e,t,n,r){xu(e,"update",{path:t.toString(),value:n});let i=!0;const s=rp(e),o={};if(Ct(n,(a,l)=>{i=!1,o[a]=tA(Ye(t,a),st(l),e.serverSyncTree_,s)}),i)xt("update() called with empty data.  Don't do anything."),Ky(e,r,"ok",void 0);else{const a=Ww(e),l=tU(e.serverSyncTree_,t,o,a);np(e.eventQueue_,l),e.server_.merge(t.toString(),n,(c,d)=>{const h=c==="ok";h||Ht("update at "+t+" failed: "+c);const f=Li(e.serverSyncTree_,a,!h),g=f.length>0?ba(e,t):t;jn(e.eventQueue_,g,f),Ky(e,r,c,d)}),Ct(n,c=>{const d=qw(e,Ye(t,c));ba(e,d)}),jn(e.eventQueue_,t,[])}}function MU(e){xu(e,"onDisconnectEvents");const t=rp(e),n=Yh();$y(e.onDisconnect_,ye(),(i,s)=>{const o=tA(i,s,e.serverSyncTree_,t);M2(n,i,o)});let r=[];$y(n,ye(),(i,s)=>{r=r.concat(wu(e.serverSyncTree_,i,s));const o=qw(e,i);ba(e,o)}),e.onDisconnect_=Yh(),jn(e.eventQueue_,ye(),r)}function LU(e,t,n){let r;ce(t._path)===".info"?r=Hy(e.infoSyncTree_,t,n):r=Hy(e.serverSyncTree_,t,n),uA(e.eventQueue_,t._path,r)}function Gy(e,t,n){let r;ce(t._path)===".info"?r=rf(e.infoSyncTree_,t,n):r=rf(e.serverSyncTree_,t,n),uA(e.eventQueue_,t._path,r)}function jU(e){e.persistentConnection_&&e.persistentConnection_.interrupt(kU)}function xu(e,...t){let n="";e.persistentConnection_&&(n=e.persistentConnection_.id+":"),xt(n,...t)}function Ky(e,t,n,r){t&&za(()=>{if(n==="ok")t(null);else{const i=(n||"error").toUpperCase();let s=i;r&&(s+=": "+r);const o=new Error(s);o.code=i,t(o)}})}function fA(e,t,n){return Dw(e.serverSyncTree_,t,n)||ee.EMPTY_NODE}function Hw(e,t=e.transactionQueueTree_){if(t||ip(e,t),Ha(t)){const n=mA(e,t);B(n.length>0,"Sending zero length transaction queue"),n.every(i=>i.status===0)&&FU(e,_u(t),n)}else iA(t)&&ep(t,n=>{Hw(e,n)})}function FU(e,t,n){const r=n.map(c=>c.currentWriteId),i=fA(e,t,r);let s=i;const o=i.hash();for(let c=0;c<n.length;c++){const d=n[c];B(d.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),d.status=1,d.retryCount++;const h=Bt(t,d.path);s=s.updateChild(h,d.currentOutputSnapshotRaw)}const a=s.val(!0),l=t;e.server_.put(l.toString(),a,c=>{xu(e,"transaction put response",{path:l.toString(),status:c});let d=[];if(c==="ok"){const h=[];for(let f=0;f<n.length;f++)n[f].status=2,d=d.concat(Li(e.serverSyncTree_,n[f].currentWriteId)),n[f].onComplete&&h.push(()=>n[f].onComplete(null,!0,n[f].currentOutputSnapshotResolved)),n[f].unwatcher();ip(e,Uw(e.transactionQueueTree_,t)),Hw(e,e.transactionQueueTree_),jn(e.eventQueue_,t,d);for(let f=0;f<h.length;f++)za(h[f])}else{if(c==="datastale")for(let h=0;h<n.length;h++)n[h].status===3?n[h].status=4:n[h].status=0;else{Ht("transaction at "+l.toString()+" failed: "+c);for(let h=0;h<n.length;h++)n[h].status=4,n[h].abortReason=c}ba(e,t)}},o)}function ba(e,t){const n=pA(e,t),r=_u(n),i=mA(e,n);return $U(e,i,r),r}function $U(e,t,n){if(t.length===0)return;const r=[];let i=[];const o=t.filter(a=>a.status===0).map(a=>a.currentWriteId);for(let a=0;a<t.length;a++){const l=t[a],c=Bt(n,l.path);let d=!1,h;if(B(c!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),l.status===4)d=!0,h=l.abortReason,i=i.concat(Li(e.serverSyncTree_,l.currentWriteId,!0));else if(l.status===0)if(l.retryCount>=IU)d=!0,h="maxretry",i=i.concat(Li(e.serverSyncTree_,l.currentWriteId,!0));else{const f=fA(e,l.path,o);l.currentInputSnapshot=f;const g=t[a].update(f.val());if(g!==void 0){tp("transaction failed: Data returned ",g,l.path);let y=st(g);typeof g=="object"&&g!=null&&Rr(g,".priority")||(y=y.updatePriority(f.getPriority()));const k=l.currentWriteId,x=rp(e),C=nA(y,f,x);l.currentOutputSnapshotRaw=y,l.currentOutputSnapshotResolved=C,l.currentWriteId=Ww(e),o.splice(o.indexOf(k),1),i=i.concat(X2(e.serverSyncTree_,l.path,C,l.currentWriteId,l.applyLocally)),i=i.concat(Li(e.serverSyncTree_,k,!0))}else d=!0,h="nodata",i=i.concat(Li(e.serverSyncTree_,l.currentWriteId,!0))}jn(e.eventQueue_,n,i),i=[],d&&(t[a].status=2,function(f){setTimeout(f,Math.floor(0))}(t[a].unwatcher),t[a].onComplete&&(h==="nodata"?r.push(()=>t[a].onComplete(null,!1,t[a].currentInputSnapshot)):r.push(()=>t[a].onComplete(new Error(h),!1,null))))}ip(e,e.transactionQueueTree_);for(let a=0;a<r.length;a++)za(r[a]);Hw(e,e.transactionQueueTree_)}function pA(e,t){let n,r=e.transactionQueueTree_;for(n=ce(t);n!==null&&Ha(r)===void 0;)r=Uw(r,n),t=Pe(t),n=ce(t);return r}function mA(e,t){const n=[];return gA(e,t,n),n.sort((r,i)=>r.order-i.order),n}function gA(e,t,n){const r=Ha(t);if(r)for(let i=0;i<r.length;i++)n.push(r[i]);ep(t,i=>{gA(e,i,n)})}function ip(e,t){const n=Ha(t);if(n){let r=0;for(let i=0;i<n.length;i++)n[i].status!==2&&(n[r]=n[i],r++);n.length=r,rA(t,n.length>0?n:void 0)}ep(t,r=>{ip(e,r)})}function qw(e,t){const n=_u(pA(e,t)),r=Uw(e.transactionQueueTree_,t);return mU(r,i=>{tg(e,i)}),tg(e,r),sA(r,i=>{tg(e,i)}),n}function tg(e,t){const n=Ha(t);if(n){const r=[];let i=[],s=-1;for(let o=0;o<n.length;o++)n[o].status===3||(n[o].status===1?(B(s===o-1,"All SENT items should be at beginning of queue."),s=o,n[o].status=3,n[o].abortReason="set"):(B(n[o].status===0,"Unexpected transaction status in abort"),n[o].unwatcher(),i=i.concat(Li(e.serverSyncTree_,n[o].currentWriteId,!0)),n[o].onComplete&&r.push(n[o].onComplete.bind(null,new Error("set"),!1,null))));s===-1?rA(t,void 0):n.length=s+1,jn(e.eventQueue_,_u(t),i);for(let o=0;o<r.length;o++)za(r[o])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VU(e){let t="";const n=e.split("/");for(let r=0;r<n.length;r++)if(n[r].length>0){let i=n[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch{}t+="/"+i}return t}function UU(e){const t={};e.charAt(0)==="?"&&(e=e.substring(1));for(const n of e.split("&")){if(n.length===0)continue;const r=n.split("=");r.length===2?t[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):Ht(`Invalid query segment '${n}' in query '${e}'`)}return t}const Ib=function(e,t){const n=BU(e),r=n.namespace;n.domain==="firebase.com"&&li(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||r==="undefined")&&n.domain!=="localhost"&&li("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||Q$();const i=n.scheme==="ws"||n.scheme==="wss";return{repoInfo:new v2(n.host,n.secure,r,i,t,"",r!==n.subdomain),path:new Ee(n.pathString)}},BU=function(e){let t="",n="",r="",i="",s="",o=!0,a="https",l=443;if(typeof e=="string"){let c=e.indexOf("//");c>=0&&(a=e.substring(0,c-1),e=e.substring(c+2));let d=e.indexOf("/");d===-1&&(d=e.length);let h=e.indexOf("?");h===-1&&(h=e.length),t=e.substring(0,Math.min(d,h)),d<h&&(i=VU(e.substring(d,h)));const f=UU(e.substring(Math.min(e.length,h)));c=t.indexOf(":"),c>=0?(o=a==="https"||a==="wss",l=parseInt(t.substring(c+1),10)):c=t.length;const g=t.slice(0,c);if(g.toLowerCase()==="localhost")n="localhost";else if(g.split(".").length<=2)n=g;else{const y=t.indexOf(".");r=t.substring(0,y).toLowerCase(),n=t.substring(y+1),s=r}"ns"in f&&(s=f.ns)}return{host:t,port:l,domain:n,subdomain:r,secure:o,scheme:a,pathString:i,namespace:s}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pb="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",zU=function(){let e=0;const t=[];return function(n){const r=n===e;e=n;let i;const s=new Array(8);for(i=7;i>=0;i--)s[i]=Pb.charAt(n%64),n=Math.floor(n/64);B(n===0,"Cannot push at time == 0");let o=s.join("");if(r){for(i=11;i>=0&&t[i]===63;i--)t[i]=0;t[i]++}else for(i=0;i<12;i++)t[i]=Math.floor(Math.random()*64);for(i=0;i<12;i++)o+=Pb.charAt(t[i]);return B(o.length===20,"nextPushId: Length should be 20."),o}}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yA{constructor(t,n,r,i){this.eventType=t,this.eventRegistration=n,this.snapshot=r,this.prevName=i}getPath(){const t=this.snapshot.ref;return this.eventType==="value"?t._path:t.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+ot(this.snapshot.exportVal())}}class vA{constructor(t,n,r){this.eventRegistration=t,this.error=n,this.path=r}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gw{constructor(t,n){this.snapshotCallback=t,this.cancelCallback=n}onValue(t,n){this.snapshotCallback.call(null,t,n)}onCancel(t){return B(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,t)}get hasCancelCallback(){return!!this.cancelCallback}matches(t){return this.snapshotCallback===t.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===t.snapshotCallback.userCallback&&this.snapshotCallback.context===t.snapshotCallback.context}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kw{constructor(t,n,r,i){this._repo=t,this._path=n,this._queryParams=r,this._orderByCalled=i}get key(){return de(this._path)?null:_w(this._path)}get ref(){return new Nr(this._repo,this._path)}get _queryIdentifier(){const t=pb(this._queryParams),n=gw(t);return n==="{}"?"default":n}get _queryObject(){return pb(this._queryParams)}isEqual(t){if(t=et(t),!(t instanceof Kw))return!1;const n=this._repo===t._repo,r=xw(this._path,t._path),i=this._queryIdentifier===t._queryIdentifier;return n&&r&&i}toJSON(){return this.toString()}toString(){return this._repo.toString()+M9(this._path)}}class Nr extends Kw{constructor(t,n){super(t,n,new Sw,!1)}get parent(){const t=k2(this._path);return t===null?null:new Nr(this._repo,t)}get root(){let t=this;for(;t.parent!==null;)t=t.parent;return t}}class Ca{constructor(t,n,r){this._node=t,this.ref=n,this._index=r}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(t){const n=new Ee(t),r=Sa(this.ref,t);return new Ca(this._node.getChild(n),r,Xe)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(t){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(r,i)=>t(new Ca(i,Sa(this.ref,r),Xe)))}hasChild(t){const n=new Ee(t);return!this._node.getChild(n).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function ie(e,t){return e=et(e),e._checkNotDeleted("ref"),t!==void 0?Sa(e._root,t):e._root}function Sa(e,t){return e=et(e),ce(e._path)===null?bU("child","path",t,!1):lA("child","path",t,!1),new Nr(e._repo,Ye(e._path,t))}function Xd(e,t){e=et(e),cA("push",e._path),aA("push",t,e._path,!0);const n=hA(e._repo),r=zU(n),i=Sa(e,r),s=Sa(e,r);let o;return t!=null?o=ft(s,t).then(()=>s):o=Promise.resolve(s),i.then=o.then.bind(o),i.catch=o.then.bind(o,void 0),i}function ft(e,t){e=et(e),cA("set",e._path),aA("set",t,e._path,!1);const n=new uu;return DU(e._repo,e._path,t,null,n.wrapCallback(()=>{})),n.promise}function Ta(e,t){EU("update",t,e._path,!1);const n=new uu;return OU(e._repo,e._path,t,n.wrapCallback(()=>{})),n.promise}function Nn(e){e=et(e);const t=new Gw(()=>{}),n=new Eu(t);return NU(e._repo,e,n).then(r=>new Ca(r,new Nr(e._repo,e._path),e._queryParams.getIndex()))}class Eu{constructor(t){this.callbackContext=t}respondsTo(t){return t==="value"}createEvent(t,n){const r=n._queryParams.getIndex();return new yA("value",this,new Ca(t.snapshotNode,new Nr(n._repo,n._path),r))}getEventRunner(t){return t.getEventType()==="cancel"?()=>this.callbackContext.onCancel(t.error):()=>this.callbackContext.onValue(t.snapshot,null)}createCancelEvent(t,n){return this.callbackContext.hasCancelCallback?new vA(this,t,n):null}matches(t){return t instanceof Eu?!t.callbackContext||!this.callbackContext?!0:t.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}}class sp{constructor(t,n){this.eventType=t,this.callbackContext=n}respondsTo(t){let n=t==="children_added"?"child_added":t;return n=n==="children_removed"?"child_removed":n,this.eventType===n}createCancelEvent(t,n){return this.callbackContext.hasCancelCallback?new vA(this,t,n):null}createEvent(t,n){B(t.childName!=null,"Child events should have a childName.");const r=Sa(new Nr(n._repo,n._path),t.childName),i=n._queryParams.getIndex();return new yA(t.type,this,new Ca(t.snapshotNode,r,i),t.prevName)}getEventRunner(t){return t.getEventType()==="cancel"?()=>this.callbackContext.onCancel(t.error):()=>this.callbackContext.onValue(t.snapshot,t.prevName)}matches(t){return t instanceof sp?this.eventType===t.eventType&&(!this.callbackContext||!t.callbackContext||this.callbackContext.matches(t.callbackContext)):!1}hasAnyCallback(){return!!this.callbackContext}}function WU(e,t,n,r,i){let s;if(typeof r=="object"&&(s=void 0,i=r),typeof r=="function"&&(s=r),i&&i.onlyOnce){const l=n,c=(d,h)=>{Gy(e._repo,e,a),l(d,h)};c.userCallback=n.userCallback,c.context=n.context,n=c}const o=new Gw(n,s||void 0),a=t==="value"?new Eu(o):new sp(t,o);return LU(e._repo,e,a),()=>Gy(e._repo,e,a)}function Zr(e,t,n,r){return WU(e,"value",t,n,r)}function Wc(e,t,n){let r=null;const i=n?new Gw(n):null;t==="value"?r=new Eu(i):t&&(r=new sp(t,i)),Gy(e._repo,e,r)}GV(Nr);QV(Nr);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HU="FIREBASE_DATABASE_EMULATOR_HOST",Yy={};let qU=!1;function GU(e,t,n,r){const i=t.lastIndexOf(":"),s=t.substring(0,i),o=lo(s);e.repoInfo_=new v2(t,o,e.repoInfo_.namespace,e.repoInfo_.webSocketOnly,e.repoInfo_.nodeAdmin,e.repoInfo_.persistenceKey,e.repoInfo_.includeNamespaceInQueryParams,!0,n),r&&(e.authTokenProvider_=r)}function KU(e,t,n,r,i){let s=r||e.options.databaseURL;s===void 0&&(e.options.projectId||li("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),xt("Using default host for project ",e.options.projectId),s=`${e.options.projectId}-default-rtdb.firebaseio.com`);let o=Ib(s,i),a=o.repoInfo,l,c;typeof process<"u"&&process.env&&(c=process.env[HU]),c?(l=!0,s=`http://${c}?ns=${a.namespace}`,o=Ib(s,i),a=o.repoInfo):l=!o.repoInfo.secure;const d=i&&l?new oa(oa.OWNER):new c9(e.name,e.options,t);CU("Invalid Firebase Database URL",o),de(o.path)||li("Database URL must point to the root of a Firebase Database (not including a child path).");const h=XU(a,e,d,new l9(e,n));return new JU(h,e)}function YU(e,t){const n=Yy[t];(!n||n[e.key]!==e)&&li(`Database ${t}(${e.repoInfo_}) has already been deleted.`),jU(e),delete n[e.key]}function XU(e,t,n,r){let i=Yy[t.name];i||(i={},Yy[t.name]=i);let s=i[e.toURLString()];return s&&li("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),s=new PU(e,qU,n,r),i[e.toURLString()]=s,s}class JU{constructor(t,n){this._repoInternal=t,this.app=n,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(AU(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0,cs("Database",this._repo.repoInfo_.emulatorOptions!==null)),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new Nr(this._repo,ye())),this._rootInternal}_delete(){return this._rootInternal!==null&&(YU(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(t){this._rootInternal===null&&li("Cannot call "+t+" on a deleted database.")}}function wA(e=du(),t){const n=us(e,"database").getImmediate({identifier:t});if(!n._instanceStarted){const r=Gv("database");r&&_A(n,...r)}return n}function _A(e,t,n,r={}){e=et(e),e._checkNotDeleted("useEmulator");const i=`${t}:${n}`,s=e._repoInternal;if(e._instanceStarted){if(i===e._repoInternal.repoInfo_.host&&Zi(r,s.repoInfo_.emulatorOptions))return;li("connectDatabaseEmulator() cannot initialize or alter the emulator configuration after the database instance has started.")}let o;if(s.repoInfo_.nodeAdmin)r.mockUserToken&&li('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),o=new oa(oa.OWNER);else if(r.mockUserToken){const a=typeof r.mockUserToken=="string"?r.mockUserToken:Kv(r.mockUserToken,e.app.options.projectId);o=new oa(a)}lo(t)&&($f(t),cs("Database",!0)),GU(s,i,r,o)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QU(e){G$(ds),wn(new ln("database",(t,{instanceIdentifier:n})=>{const r=t.getProvider("app").getImmediate(),i=t.getProvider("auth-internal"),s=t.getProvider("app-check-internal");return KU(r,i,s,n)},"PUBLIC").setMultipleInstances(!0)),mt(JE,QE,e),mt(JE,QE,"esm2017")}Qr.prototype.simpleListen=function(e,t){this.sendRequest("q",{p:e},t)};Qr.prototype.echo=function(e,t){this.sendRequest("echo",{d:e},t)};QU();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xA="firebasestorage.googleapis.com",ZU="storageBucket",eB=2*60*1e3,tB=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dr extends cr{constructor(t,n,r=0){super(ng(t),`Firebase Storage: ${n} (${ng(t)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Dr.prototype)}get status(){return this.status_}set status(t){this.status_=t}_codeEquals(t){return ng(t)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(t){this.customData.serverResponse=t,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Tr;(function(e){e.UNKNOWN="unknown",e.OBJECT_NOT_FOUND="object-not-found",e.BUCKET_NOT_FOUND="bucket-not-found",e.PROJECT_NOT_FOUND="project-not-found",e.QUOTA_EXCEEDED="quota-exceeded",e.UNAUTHENTICATED="unauthenticated",e.UNAUTHORIZED="unauthorized",e.UNAUTHORIZED_APP="unauthorized-app",e.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",e.INVALID_CHECKSUM="invalid-checksum",e.CANCELED="canceled",e.INVALID_EVENT_NAME="invalid-event-name",e.INVALID_URL="invalid-url",e.INVALID_DEFAULT_BUCKET="invalid-default-bucket",e.NO_DEFAULT_BUCKET="no-default-bucket",e.CANNOT_SLICE_BLOB="cannot-slice-blob",e.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",e.NO_DOWNLOAD_URL="no-download-url",e.INVALID_ARGUMENT="invalid-argument",e.INVALID_ARGUMENT_COUNT="invalid-argument-count",e.APP_DELETED="app-deleted",e.INVALID_ROOT_OPERATION="invalid-root-operation",e.INVALID_FORMAT="invalid-format",e.INTERNAL_ERROR="internal-error",e.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Tr||(Tr={}));function ng(e){return"storage/"+e}function nB(){const e="An unknown error occurred, please check the error payload for server response.";return new Dr(Tr.UNKNOWN,e)}function rB(){return new Dr(Tr.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function iB(){return new Dr(Tr.CANCELED,"User canceled the upload/download.")}function sB(e){return new Dr(Tr.INVALID_URL,"Invalid URL '"+e+"'.")}function oB(e){return new Dr(Tr.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+e+"'.")}function Ab(e){return new Dr(Tr.INVALID_ARGUMENT,e)}function EA(){return new Dr(Tr.APP_DELETED,"The Firebase app was deleted.")}function aB(e){return new Dr(Tr.INVALID_ROOT_OPERATION,"The operation '"+e+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qn{constructor(t,n){this.bucket=t,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const t=encodeURIComponent;return"/b/"+t(this.bucket)+"/o/"+t(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(t,n){let r;try{r=Qn.makeFromUrl(t,n)}catch{return new Qn(t,"")}if(r.path==="")return r;throw oB(t)}static makeFromUrl(t,n){let r=null;const i="([A-Za-z0-9.\\-_]+)";function s(I){I.path.charAt(I.path.length-1)==="/"&&(I.path_=I.path_.slice(0,-1))}const o="(/(.*))?$",a=new RegExp("^gs://"+i+o,"i"),l={bucket:1,path:3};function c(I){I.path_=decodeURIComponent(I.path)}const d="v[A-Za-z0-9_]+",h=n.replace(/[.]/g,"\\."),f="(/([^?#]*).*)?$",g=new RegExp(`^https?://${h}/${d}/b/${i}/o${f}`,"i"),y={bucket:1,path:3},S=n===xA?"(?:storage.googleapis.com|storage.cloud.google.com)":n,k="([^?#]*)",x=new RegExp(`^https?://${S}/${i}/${k}`,"i"),E=[{regex:a,indices:l,postModify:s},{regex:g,indices:y,postModify:c},{regex:x,indices:{bucket:1,path:2},postModify:c}];for(let I=0;I<E.length;I++){const D=E[I],M=D.regex.exec(t);if(M){const T=M[D.indices.bucket];let b=M[D.indices.path];b||(b=""),r=new Qn(T,b),D.postModify(r);break}}if(r==null)throw sB(t);return r}}class lB{constructor(t){this.promise_=Promise.reject(t)}getPromise(){return this.promise_}cancel(t=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cB(e,t,n){let r=1,i=null,s=null,o=!1,a=0;function l(){return a===2}let c=!1;function d(...k){c||(c=!0,t.apply(null,k))}function h(k){i=setTimeout(()=>{i=null,e(g,l())},k)}function f(){s&&clearTimeout(s)}function g(k,...x){if(c){f();return}if(k){f(),d.call(null,k,...x);return}if(l()||o){f(),d.call(null,k,...x);return}r<64&&(r*=2);let E;a===1?(a=2,E=0):E=(r+Math.random())*1e3,h(E)}let y=!1;function S(k){y||(y=!0,f(),!c&&(i!==null?(k||(a=2),clearTimeout(i),h(0)):k||(a=1)))}return h(0),s=setTimeout(()=>{o=!0,S(!0)},n),S}function uB(e){e(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dB(e){return e!==void 0}function Rb(e,t,n,r){if(r<t)throw Ab(`Invalid value for '${e}'. Expected ${t} or greater.`);if(r>n)throw Ab(`Invalid value for '${e}'. Expected ${n} or less.`)}function hB(e){const t=encodeURIComponent;let n="?";for(const r in e)if(e.hasOwnProperty(r)){const i=t(r)+"="+t(e[r]);n=n+i+"&"}return n=n.slice(0,-1),n}var sf;(function(e){e[e.NO_ERROR=0]="NO_ERROR",e[e.NETWORK_ERROR=1]="NETWORK_ERROR",e[e.ABORT=2]="ABORT"})(sf||(sf={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fB(e,t){const n=e>=500&&e<600,i=[408,429].indexOf(e)!==-1,s=t.indexOf(e)!==-1;return n||i||s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pB{constructor(t,n,r,i,s,o,a,l,c,d,h,f=!0,g=!1){this.url_=t,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=s,this.additionalRetryCodes_=o,this.callback_=a,this.errorCallback_=l,this.timeout_=c,this.progressCallback_=d,this.connectionFactory_=h,this.retry=f,this.isUsingEmulator=g,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((y,S)=>{this.resolve_=y,this.reject_=S,this.start_()})}start_(){const t=(r,i)=>{if(i){r(!1,new yd(!1,null,!0));return}const s=this.connectionFactory_();this.pendingConnection_=s;const o=a=>{const l=a.loaded,c=a.lengthComputable?a.total:-1;this.progressCallback_!==null&&this.progressCallback_(l,c)};this.progressCallback_!==null&&s.addUploadProgressListener(o),s.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&s.removeUploadProgressListener(o),this.pendingConnection_=null;const a=s.getErrorCode()===sf.NO_ERROR,l=s.getStatus();if(!a||fB(l,this.additionalRetryCodes_)&&this.retry){const d=s.getErrorCode()===sf.ABORT;r(!1,new yd(!1,null,d));return}const c=this.successCodes_.indexOf(l)!==-1;r(!0,new yd(c,s))})},n=(r,i)=>{const s=this.resolve_,o=this.reject_,a=i.connection;if(i.wasSuccessCode)try{const l=this.callback_(a,a.getResponse());dB(l)?s(l):s()}catch(l){o(l)}else if(a!==null){const l=nB();l.serverResponse=a.getErrorText(),this.errorCallback_?o(this.errorCallback_(a,l)):o(l)}else if(i.canceled){const l=this.appDelete_?EA():iB();o(l)}else{const l=rB();o(l)}};this.canceled_?n(!1,new yd(!1,null,!0)):this.backoffId_=cB(t,n,this.timeout_)}getPromise(){return this.promise_}cancel(t){this.canceled_=!0,this.appDelete_=t||!1,this.backoffId_!==null&&uB(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class yd{constructor(t,n,r){this.wasSuccessCode=t,this.connection=n,this.canceled=!!r}}function mB(e,t){t!==null&&t.length>0&&(e.Authorization="Firebase "+t)}function gB(e,t){e["X-Firebase-Storage-Version"]="webjs/"+(t??"AppManager")}function yB(e,t){t&&(e["X-Firebase-GMPID"]=t)}function vB(e,t){t!==null&&(e["X-Firebase-AppCheck"]=t)}function wB(e,t,n,r,i,s,o=!0,a=!1){const l=hB(e.urlParams),c=e.url+l,d=Object.assign({},e.headers);return yB(d,t),mB(d,n),gB(d,s),vB(d,r),new pB(c,e.method,d,e.body,e.successCodes,e.additionalRetryCodes,e.handler,e.errorHandler,e.timeout,e.progressCallback,i,o,a)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _B(e){if(e.length===0)return null;const t=e.lastIndexOf("/");return t===-1?"":e.slice(0,t)}function xB(e){const t=e.lastIndexOf("/",e.length-2);return t===-1?e:e.slice(t+1)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class of{constructor(t,n){this._service=t,n instanceof Qn?this._location=n:this._location=Qn.makeFromUrl(n,t.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(t,n){return new of(t,n)}get root(){const t=new Qn(this._location.bucket,"");return this._newRef(this._service,t)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return xB(this._location.path)}get storage(){return this._service}get parent(){const t=_B(this._location.path);if(t===null)return null;const n=new Qn(this._location.bucket,t);return new of(this._service,n)}_throwIfRoot(t){if(this._location.path==="")throw aB(t)}}function Nb(e,t){const n=t==null?void 0:t[ZU];return n==null?null:Qn.makeFromBucketSpec(n,e)}function EB(e,t,n,r={}){e.host=`${t}:${n}`;const i=lo(t);i&&($f(`https://${e.host}`),cs("Storage",!0)),e._isUsingEmulator=!0,e._protocol=i?"https":"http";const{mockUserToken:s}=r;s&&(e._overrideAuthToken=typeof s=="string"?s:Kv(s,e.app.options.projectId))}class bB{constructor(t,n,r,i,s,o=!1){this.app=t,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=s,this._isUsingEmulator=o,this._bucket=null,this._host=xA,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=eB,this._maxUploadRetryTime=tB,this._requests=new Set,i!=null?this._bucket=Qn.makeFromBucketSpec(i,this._host):this._bucket=Nb(this._host,this.app.options)}get host(){return this._host}set host(t){this._host=t,this._url!=null?this._bucket=Qn.makeFromBucketSpec(this._url,t):this._bucket=Nb(t,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(t){Rb("time",0,Number.POSITIVE_INFINITY,t),this._maxUploadRetryTime=t}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(t){Rb("time",0,Number.POSITIVE_INFINITY,t),this._maxOperationRetryTime=t}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const t=this._authProvider.getImmediate({optional:!0});if(t){const n=await t.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(Dt(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=this._appCheckProvider.getImmediate({optional:!0});return t?(await t.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(t=>t.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(t){return new of(this,t)}_makeRequest(t,n,r,i,s=!0){if(this._deleted)return new lB(EA());{const o=wB(t,this._appId,r,i,n,this._firebaseVersion,s,this._isUsingEmulator);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}async makeRequestWithTokens(t,n){const[r,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(t,n,r,i).getPromise()}}const Db="@firebase/storage",Ob="0.13.10";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bA="storage";function CB(e=du(),t){e=et(e),cs("Storage",!1);const r=us(e,bA).getImmediate({identifier:t}),i=Gv("storage");return i&&CA(r,...i),r}function CA(e,t,n,r={}){EB(e,t,n,r)}function SB(e,{instanceIdentifier:t}){const n=e.getProvider("app").getImmediate(),r=e.getProvider("auth-internal"),i=e.getProvider("app-check-internal");return new bB(n,r,i,t,ds)}function TB(){wn(new ln(bA,SB,"PUBLIC").setMultipleInstances(!0)),mt(Db,Ob,""),mt(Db,Ob,"esm2017")}TB();var Mb=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var SA;(function(){var e;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function t(T,b){function P(){}P.prototype=b.prototype,T.D=b.prototype,T.prototype=new P,T.prototype.constructor=T,T.C=function(v,R,O){for(var N=Array(arguments.length-2),V=2;V<arguments.length;V++)N[V-2]=arguments[V];return b.prototype[R].apply(v,N)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}t(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(T,b,P){P||(P=0);var v=Array(16);if(typeof b=="string")for(var R=0;16>R;++R)v[R]=b.charCodeAt(P++)|b.charCodeAt(P++)<<8|b.charCodeAt(P++)<<16|b.charCodeAt(P++)<<24;else for(R=0;16>R;++R)v[R]=b[P++]|b[P++]<<8|b[P++]<<16|b[P++]<<24;b=T.g[0],P=T.g[1],R=T.g[2];var O=T.g[3],N=b+(O^P&(R^O))+v[0]+3614090360&4294967295;b=P+(N<<7&4294967295|N>>>25),N=O+(R^b&(P^R))+v[1]+3905402710&4294967295,O=b+(N<<12&4294967295|N>>>20),N=R+(P^O&(b^P))+v[2]+606105819&4294967295,R=O+(N<<17&4294967295|N>>>15),N=P+(b^R&(O^b))+v[3]+3250441966&4294967295,P=R+(N<<22&4294967295|N>>>10),N=b+(O^P&(R^O))+v[4]+4118548399&4294967295,b=P+(N<<7&4294967295|N>>>25),N=O+(R^b&(P^R))+v[5]+1200080426&4294967295,O=b+(N<<12&4294967295|N>>>20),N=R+(P^O&(b^P))+v[6]+2821735955&4294967295,R=O+(N<<17&4294967295|N>>>15),N=P+(b^R&(O^b))+v[7]+4249261313&4294967295,P=R+(N<<22&4294967295|N>>>10),N=b+(O^P&(R^O))+v[8]+1770035416&4294967295,b=P+(N<<7&4294967295|N>>>25),N=O+(R^b&(P^R))+v[9]+2336552879&4294967295,O=b+(N<<12&4294967295|N>>>20),N=R+(P^O&(b^P))+v[10]+4294925233&4294967295,R=O+(N<<17&4294967295|N>>>15),N=P+(b^R&(O^b))+v[11]+2304563134&4294967295,P=R+(N<<22&4294967295|N>>>10),N=b+(O^P&(R^O))+v[12]+1804603682&4294967295,b=P+(N<<7&4294967295|N>>>25),N=O+(R^b&(P^R))+v[13]+4254626195&4294967295,O=b+(N<<12&4294967295|N>>>20),N=R+(P^O&(b^P))+v[14]+2792965006&4294967295,R=O+(N<<17&4294967295|N>>>15),N=P+(b^R&(O^b))+v[15]+1236535329&4294967295,P=R+(N<<22&4294967295|N>>>10),N=b+(R^O&(P^R))+v[1]+4129170786&4294967295,b=P+(N<<5&4294967295|N>>>27),N=O+(P^R&(b^P))+v[6]+3225465664&4294967295,O=b+(N<<9&4294967295|N>>>23),N=R+(b^P&(O^b))+v[11]+643717713&4294967295,R=O+(N<<14&4294967295|N>>>18),N=P+(O^b&(R^O))+v[0]+3921069994&4294967295,P=R+(N<<20&4294967295|N>>>12),N=b+(R^O&(P^R))+v[5]+3593408605&4294967295,b=P+(N<<5&4294967295|N>>>27),N=O+(P^R&(b^P))+v[10]+38016083&4294967295,O=b+(N<<9&4294967295|N>>>23),N=R+(b^P&(O^b))+v[15]+3634488961&4294967295,R=O+(N<<14&4294967295|N>>>18),N=P+(O^b&(R^O))+v[4]+3889429448&4294967295,P=R+(N<<20&4294967295|N>>>12),N=b+(R^O&(P^R))+v[9]+568446438&4294967295,b=P+(N<<5&4294967295|N>>>27),N=O+(P^R&(b^P))+v[14]+3275163606&4294967295,O=b+(N<<9&4294967295|N>>>23),N=R+(b^P&(O^b))+v[3]+4107603335&4294967295,R=O+(N<<14&4294967295|N>>>18),N=P+(O^b&(R^O))+v[8]+1163531501&4294967295,P=R+(N<<20&4294967295|N>>>12),N=b+(R^O&(P^R))+v[13]+2850285829&4294967295,b=P+(N<<5&4294967295|N>>>27),N=O+(P^R&(b^P))+v[2]+4243563512&4294967295,O=b+(N<<9&4294967295|N>>>23),N=R+(b^P&(O^b))+v[7]+1735328473&4294967295,R=O+(N<<14&4294967295|N>>>18),N=P+(O^b&(R^O))+v[12]+2368359562&4294967295,P=R+(N<<20&4294967295|N>>>12),N=b+(P^R^O)+v[5]+4294588738&4294967295,b=P+(N<<4&4294967295|N>>>28),N=O+(b^P^R)+v[8]+2272392833&4294967295,O=b+(N<<11&4294967295|N>>>21),N=R+(O^b^P)+v[11]+1839030562&4294967295,R=O+(N<<16&4294967295|N>>>16),N=P+(R^O^b)+v[14]+4259657740&4294967295,P=R+(N<<23&4294967295|N>>>9),N=b+(P^R^O)+v[1]+2763975236&4294967295,b=P+(N<<4&4294967295|N>>>28),N=O+(b^P^R)+v[4]+1272893353&4294967295,O=b+(N<<11&4294967295|N>>>21),N=R+(O^b^P)+v[7]+4139469664&4294967295,R=O+(N<<16&4294967295|N>>>16),N=P+(R^O^b)+v[10]+3200236656&4294967295,P=R+(N<<23&4294967295|N>>>9),N=b+(P^R^O)+v[13]+681279174&4294967295,b=P+(N<<4&4294967295|N>>>28),N=O+(b^P^R)+v[0]+3936430074&4294967295,O=b+(N<<11&4294967295|N>>>21),N=R+(O^b^P)+v[3]+3572445317&4294967295,R=O+(N<<16&4294967295|N>>>16),N=P+(R^O^b)+v[6]+76029189&4294967295,P=R+(N<<23&4294967295|N>>>9),N=b+(P^R^O)+v[9]+3654602809&4294967295,b=P+(N<<4&4294967295|N>>>28),N=O+(b^P^R)+v[12]+3873151461&4294967295,O=b+(N<<11&4294967295|N>>>21),N=R+(O^b^P)+v[15]+530742520&4294967295,R=O+(N<<16&4294967295|N>>>16),N=P+(R^O^b)+v[2]+3299628645&4294967295,P=R+(N<<23&4294967295|N>>>9),N=b+(R^(P|~O))+v[0]+4096336452&4294967295,b=P+(N<<6&4294967295|N>>>26),N=O+(P^(b|~R))+v[7]+1126891415&4294967295,O=b+(N<<10&4294967295|N>>>22),N=R+(b^(O|~P))+v[14]+2878612391&4294967295,R=O+(N<<15&4294967295|N>>>17),N=P+(O^(R|~b))+v[5]+4237533241&4294967295,P=R+(N<<21&4294967295|N>>>11),N=b+(R^(P|~O))+v[12]+1700485571&4294967295,b=P+(N<<6&4294967295|N>>>26),N=O+(P^(b|~R))+v[3]+2399980690&4294967295,O=b+(N<<10&4294967295|N>>>22),N=R+(b^(O|~P))+v[10]+4293915773&4294967295,R=O+(N<<15&4294967295|N>>>17),N=P+(O^(R|~b))+v[1]+2240044497&4294967295,P=R+(N<<21&4294967295|N>>>11),N=b+(R^(P|~O))+v[8]+1873313359&4294967295,b=P+(N<<6&4294967295|N>>>26),N=O+(P^(b|~R))+v[15]+4264355552&4294967295,O=b+(N<<10&4294967295|N>>>22),N=R+(b^(O|~P))+v[6]+2734768916&4294967295,R=O+(N<<15&4294967295|N>>>17),N=P+(O^(R|~b))+v[13]+1309151649&4294967295,P=R+(N<<21&4294967295|N>>>11),N=b+(R^(P|~O))+v[4]+4149444226&4294967295,b=P+(N<<6&4294967295|N>>>26),N=O+(P^(b|~R))+v[11]+3174756917&4294967295,O=b+(N<<10&4294967295|N>>>22),N=R+(b^(O|~P))+v[2]+718787259&4294967295,R=O+(N<<15&4294967295|N>>>17),N=P+(O^(R|~b))+v[9]+3951481745&4294967295,T.g[0]=T.g[0]+b&4294967295,T.g[1]=T.g[1]+(R+(N<<21&4294967295|N>>>11))&4294967295,T.g[2]=T.g[2]+R&4294967295,T.g[3]=T.g[3]+O&4294967295}r.prototype.u=function(T,b){b===void 0&&(b=T.length);for(var P=b-this.blockSize,v=this.B,R=this.h,O=0;O<b;){if(R==0)for(;O<=P;)i(this,T,O),O+=this.blockSize;if(typeof T=="string"){for(;O<b;)if(v[R++]=T.charCodeAt(O++),R==this.blockSize){i(this,v),R=0;break}}else for(;O<b;)if(v[R++]=T[O++],R==this.blockSize){i(this,v),R=0;break}}this.h=R,this.o+=b},r.prototype.v=function(){var T=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);T[0]=128;for(var b=1;b<T.length-8;++b)T[b]=0;var P=8*this.o;for(b=T.length-8;b<T.length;++b)T[b]=P&255,P/=256;for(this.u(T),T=Array(16),b=P=0;4>b;++b)for(var v=0;32>v;v+=8)T[P++]=this.g[b]>>>v&255;return T};function s(T,b){var P=a;return Object.prototype.hasOwnProperty.call(P,T)?P[T]:P[T]=b(T)}function o(T,b){this.h=b;for(var P=[],v=!0,R=T.length-1;0<=R;R--){var O=T[R]|0;v&&O==b||(P[R]=O,v=!1)}this.g=P}var a={};function l(T){return-128<=T&&128>T?s(T,function(b){return new o([b|0],0>b?-1:0)}):new o([T|0],0>T?-1:0)}function c(T){if(isNaN(T)||!isFinite(T))return h;if(0>T)return k(c(-T));for(var b=[],P=1,v=0;T>=P;v++)b[v]=T/P|0,P*=4294967296;return new o(b,0)}function d(T,b){if(T.length==0)throw Error("number format error: empty string");if(b=b||10,2>b||36<b)throw Error("radix out of range: "+b);if(T.charAt(0)=="-")return k(d(T.substring(1),b));if(0<=T.indexOf("-"))throw Error('number format error: interior "-" character');for(var P=c(Math.pow(b,8)),v=h,R=0;R<T.length;R+=8){var O=Math.min(8,T.length-R),N=parseInt(T.substring(R,R+O),b);8>O?(O=c(Math.pow(b,O)),v=v.j(O).add(c(N))):(v=v.j(P),v=v.add(c(N)))}return v}var h=l(0),f=l(1),g=l(16777216);e=o.prototype,e.m=function(){if(S(this))return-k(this).m();for(var T=0,b=1,P=0;P<this.g.length;P++){var v=this.i(P);T+=(0<=v?v:4294967296+v)*b,b*=4294967296}return T},e.toString=function(T){if(T=T||10,2>T||36<T)throw Error("radix out of range: "+T);if(y(this))return"0";if(S(this))return"-"+k(this).toString(T);for(var b=c(Math.pow(T,6)),P=this,v="";;){var R=I(P,b).g;P=x(P,R.j(b));var O=((0<P.g.length?P.g[0]:P.h)>>>0).toString(T);if(P=R,y(P))return O+v;for(;6>O.length;)O="0"+O;v=O+v}},e.i=function(T){return 0>T?0:T<this.g.length?this.g[T]:this.h};function y(T){if(T.h!=0)return!1;for(var b=0;b<T.g.length;b++)if(T.g[b]!=0)return!1;return!0}function S(T){return T.h==-1}e.l=function(T){return T=x(this,T),S(T)?-1:y(T)?0:1};function k(T){for(var b=T.g.length,P=[],v=0;v<b;v++)P[v]=~T.g[v];return new o(P,~T.h).add(f)}e.abs=function(){return S(this)?k(this):this},e.add=function(T){for(var b=Math.max(this.g.length,T.g.length),P=[],v=0,R=0;R<=b;R++){var O=v+(this.i(R)&65535)+(T.i(R)&65535),N=(O>>>16)+(this.i(R)>>>16)+(T.i(R)>>>16);v=N>>>16,O&=65535,N&=65535,P[R]=N<<16|O}return new o(P,P[P.length-1]&-2147483648?-1:0)};function x(T,b){return T.add(k(b))}e.j=function(T){if(y(this)||y(T))return h;if(S(this))return S(T)?k(this).j(k(T)):k(k(this).j(T));if(S(T))return k(this.j(k(T)));if(0>this.l(g)&&0>T.l(g))return c(this.m()*T.m());for(var b=this.g.length+T.g.length,P=[],v=0;v<2*b;v++)P[v]=0;for(v=0;v<this.g.length;v++)for(var R=0;R<T.g.length;R++){var O=this.i(v)>>>16,N=this.i(v)&65535,V=T.i(R)>>>16,z=T.i(R)&65535;P[2*v+2*R]+=N*z,C(P,2*v+2*R),P[2*v+2*R+1]+=O*z,C(P,2*v+2*R+1),P[2*v+2*R+1]+=N*V,C(P,2*v+2*R+1),P[2*v+2*R+2]+=O*V,C(P,2*v+2*R+2)}for(v=0;v<b;v++)P[v]=P[2*v+1]<<16|P[2*v];for(v=b;v<2*b;v++)P[v]=0;return new o(P,0)};function C(T,b){for(;(T[b]&65535)!=T[b];)T[b+1]+=T[b]>>>16,T[b]&=65535,b++}function E(T,b){this.g=T,this.h=b}function I(T,b){if(y(b))throw Error("division by zero");if(y(T))return new E(h,h);if(S(T))return b=I(k(T),b),new E(k(b.g),k(b.h));if(S(b))return b=I(T,k(b)),new E(k(b.g),b.h);if(30<T.g.length){if(S(T)||S(b))throw Error("slowDivide_ only works with positive integers.");for(var P=f,v=b;0>=v.l(T);)P=D(P),v=D(v);var R=M(P,1),O=M(v,1);for(v=M(v,2),P=M(P,2);!y(v);){var N=O.add(v);0>=N.l(T)&&(R=R.add(P),O=N),v=M(v,1),P=M(P,1)}return b=x(T,R.j(b)),new E(R,b)}for(R=h;0<=T.l(b);){for(P=Math.max(1,Math.floor(T.m()/b.m())),v=Math.ceil(Math.log(P)/Math.LN2),v=48>=v?1:Math.pow(2,v-48),O=c(P),N=O.j(b);S(N)||0<N.l(T);)P-=v,O=c(P),N=O.j(b);y(O)&&(O=f),R=R.add(O),T=x(T,N)}return new E(R,T)}e.A=function(T){return I(this,T).h},e.and=function(T){for(var b=Math.max(this.g.length,T.g.length),P=[],v=0;v<b;v++)P[v]=this.i(v)&T.i(v);return new o(P,this.h&T.h)},e.or=function(T){for(var b=Math.max(this.g.length,T.g.length),P=[],v=0;v<b;v++)P[v]=this.i(v)|T.i(v);return new o(P,this.h|T.h)},e.xor=function(T){for(var b=Math.max(this.g.length,T.g.length),P=[],v=0;v<b;v++)P[v]=this.i(v)^T.i(v);return new o(P,this.h^T.h)};function D(T){for(var b=T.g.length+1,P=[],v=0;v<b;v++)P[v]=T.i(v)<<1|T.i(v-1)>>>31;return new o(P,T.h)}function M(T,b){var P=b>>5;b%=32;for(var v=T.g.length-P,R=[],O=0;O<v;O++)R[O]=0<b?T.i(O+P)>>>b|T.i(O+P+1)<<32-b:T.i(O+P);return new o(R,T.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=c,o.fromString=d,SA=o}).apply(typeof Mb<"u"?Mb:typeof self<"u"?self:typeof window<"u"?window:{});var vd=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};(function(){var e,t=typeof Object.defineProperties=="function"?Object.defineProperty:function(u,p,_){return u==Array.prototype||u==Object.prototype||(u[p]=_.value),u};function n(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof vd=="object"&&vd];for(var p=0;p<u.length;++p){var _=u[p];if(_&&_.Math==Math)return _}throw Error("Cannot find global object")}var r=n(this);function i(u,p){if(p)e:{var _=r;u=u.split(".");for(var A=0;A<u.length-1;A++){var L=u[A];if(!(L in _))break e;_=_[L]}u=u[u.length-1],A=_[u],p=p(A),p!=A&&p!=null&&t(_,u,{configurable:!0,writable:!0,value:p})}}function s(u,p){u instanceof String&&(u+="");var _=0,A=!1,L={next:function(){if(!A&&_<u.length){var j=_++;return{value:p(j,u[j]),done:!1}}return A=!0,{done:!0,value:void 0}}};return L[Symbol.iterator]=function(){return L},L}i("Array.prototype.values",function(u){return u||function(){return s(this,function(p,_){return _})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},a=this||self;function l(u){var p=typeof u;return p=p!="object"?p:u?Array.isArray(u)?"array":p:"null",p=="array"||p=="object"&&typeof u.length=="number"}function c(u){var p=typeof u;return p=="object"&&u!=null||p=="function"}function d(u,p,_){return u.call.apply(u.bind,arguments)}function h(u,p,_){if(!u)throw Error();if(2<arguments.length){var A=Array.prototype.slice.call(arguments,2);return function(){var L=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(L,A),u.apply(p,L)}}return function(){return u.apply(p,arguments)}}function f(u,p,_){return f=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?d:h,f.apply(null,arguments)}function g(u,p){var _=Array.prototype.slice.call(arguments,1);return function(){var A=_.slice();return A.push.apply(A,arguments),u.apply(this,A)}}function y(u,p){function _(){}_.prototype=p.prototype,u.aa=p.prototype,u.prototype=new _,u.prototype.constructor=u,u.Qb=function(A,L,j){for(var W=Array(arguments.length-2),be=2;be<arguments.length;be++)W[be-2]=arguments[be];return p.prototype[L].apply(A,W)}}function S(u){const p=u.length;if(0<p){const _=Array(p);for(let A=0;A<p;A++)_[A]=u[A];return _}return[]}function k(u,p){for(let _=1;_<arguments.length;_++){const A=arguments[_];if(l(A)){const L=u.length||0,j=A.length||0;u.length=L+j;for(let W=0;W<j;W++)u[L+W]=A[W]}else u.push(A)}}class x{constructor(p,_){this.i=p,this.j=_,this.h=0,this.g=null}get(){let p;return 0<this.h?(this.h--,p=this.g,this.g=p.next,p.next=null):p=this.i(),p}}function C(u){return/^[\s\xa0]*$/.test(u)}function E(){var u=a.navigator;return u&&(u=u.userAgent)?u:""}function I(u){return I[" "](u),u}I[" "]=function(){};var D=E().indexOf("Gecko")!=-1&&!(E().toLowerCase().indexOf("webkit")!=-1&&E().indexOf("Edge")==-1)&&!(E().indexOf("Trident")!=-1||E().indexOf("MSIE")!=-1)&&E().indexOf("Edge")==-1;function M(u,p,_){for(const A in u)p.call(_,u[A],A,u)}function T(u,p){for(const _ in u)p.call(void 0,u[_],_,u)}function b(u){const p={};for(const _ in u)p[_]=u[_];return p}const P="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function v(u,p){let _,A;for(let L=1;L<arguments.length;L++){A=arguments[L];for(_ in A)u[_]=A[_];for(let j=0;j<P.length;j++)_=P[j],Object.prototype.hasOwnProperty.call(A,_)&&(u[_]=A[_])}}function R(u){var p=1;u=u.split(":");const _=[];for(;0<p&&u.length;)_.push(u.shift()),p--;return u.length&&_.push(u.join(":")),_}function O(u){a.setTimeout(()=>{throw u},0)}function N(){var u=K;let p=null;return u.g&&(p=u.g,u.g=u.g.next,u.g||(u.h=null),p.next=null),p}class V{constructor(){this.h=this.g=null}add(p,_){const A=z.get();A.set(p,_),this.h?this.h.next=A:this.g=A,this.h=A}}var z=new x(()=>new Y,u=>u.reset());class Y{constructor(){this.next=this.g=this.h=null}set(p,_){this.h=p,this.g=_,this.next=null}reset(){this.next=this.g=this.h=null}}let G,$=!1,K=new V,X=()=>{const u=a.Promise.resolve(void 0);G=()=>{u.then(le)}};var le=()=>{for(var u;u=N();){try{u.h.call(u.g)}catch(_){O(_)}var p=z;p.j(u),100>p.h&&(p.h++,u.next=p.g,p.g=u)}$=!1};function ne(){this.s=this.s,this.C=this.C}ne.prototype.s=!1,ne.prototype.ma=function(){this.s||(this.s=!0,this.N())},ne.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function H(u,p){this.type=u,this.g=this.target=p,this.defaultPrevented=!1}H.prototype.h=function(){this.defaultPrevented=!0};var J=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var u=!1,p=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const _=()=>{};a.addEventListener("test",_,p),a.removeEventListener("test",_,p)}catch{}return u}();function oe(u,p){if(H.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u){var _=this.type=u.type,A=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;if(this.target=u.target||u.srcElement,this.g=p,p=u.relatedTarget){if(D){e:{try{I(p.nodeName);var L=!0;break e}catch{}L=!1}L||(p=null)}}else _=="mouseover"?p=u.fromElement:_=="mouseout"&&(p=u.toElement);this.relatedTarget=p,A?(this.clientX=A.clientX!==void 0?A.clientX:A.pageX,this.clientY=A.clientY!==void 0?A.clientY:A.pageY,this.screenX=A.screenX||0,this.screenY=A.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=typeof u.pointerType=="string"?u.pointerType:fe[u.pointerType]||"",this.state=u.state,this.i=u,u.defaultPrevented&&oe.aa.h.call(this)}}y(oe,H);var fe={2:"touch",3:"pen",4:"mouse"};oe.prototype.h=function(){oe.aa.h.call(this);var u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var re="closure_listenable_"+(1e6*Math.random()|0),je=0;function Fe(u,p,_,A,L){this.listener=u,this.proxy=null,this.src=p,this.type=_,this.capture=!!A,this.ha=L,this.key=++je,this.da=this.fa=!1}function We(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function gt(u){this.src=u,this.g={},this.h=0}gt.prototype.add=function(u,p,_,A,L){var j=u.toString();u=this.g[j],u||(u=this.g[j]=[],this.h++);var W=Mr(u,p,A,L);return-1<W?(p=u[W],_||(p.fa=!1)):(p=new Fe(p,this.src,j,!!A,L),p.fa=_,u.push(p)),p};function ae(u,p){var _=p.type;if(_ in u.g){var A=u.g[_],L=Array.prototype.indexOf.call(A,p,void 0),j;(j=0<=L)&&Array.prototype.splice.call(A,L,1),j&&(We(p),u.g[_].length==0&&(delete u.g[_],u.h--))}}function Mr(u,p,_,A){for(var L=0;L<u.length;++L){var j=u[L];if(!j.da&&j.listener==p&&j.capture==!!_&&j.ha==A)return L}return-1}var mo="closure_lm_"+(1e6*Math.random()|0),Un={};function go(u,p,_,A,L){if(A&&A.once)return Xa(u,p,_,A,L);if(Array.isArray(p)){for(var j=0;j<p.length;j++)go(u,p[j],_,A,L);return null}return _=zp(_),u&&u[re]?u.K(p,_,c(A)?!!A.capture:!!A,L):lt(u,p,_,!1,A,L)}function lt(u,p,_,A,L,j){if(!p)throw Error("Invalid event type");var W=c(L)?!!L.capture:!!L,be=Up(u);if(be||(u[mo]=be=new gt(u)),_=be.add(p,_,A,W,j),_.proxy)return _;if(A=vi(),_.proxy=A,A.src=u,A.listener=_,u.addEventListener)J||(L=W),L===void 0&&(L=!1),u.addEventListener(p.toString(),A,L);else if(u.attachEvent)u.attachEvent(r1(p.toString()),A);else if(u.addListener&&u.removeListener)u.addListener(A);else throw Error("addEventListener and attachEvent are unavailable.");return _}function vi(){function u(_){return p.call(u.src,u.listener,_)}const p=jD;return u}function Xa(u,p,_,A,L){if(Array.isArray(p)){for(var j=0;j<p.length;j++)Xa(u,p[j],_,A,L);return null}return _=zp(_),u&&u[re]?u.L(p,_,c(A)?!!A.capture:!!A,L):lt(u,p,_,!0,A,L)}function Yt(u,p,_,A,L){if(Array.isArray(p))for(var j=0;j<p.length;j++)Yt(u,p[j],_,A,L);else A=c(A)?!!A.capture:!!A,_=zp(_),u&&u[re]?(u=u.i,p=String(p).toString(),p in u.g&&(j=u.g[p],_=Mr(j,_,A,L),-1<_&&(We(j[_]),Array.prototype.splice.call(j,_,1),j.length==0&&(delete u.g[p],u.h--)))):u&&(u=Up(u))&&(p=u.g[p.toString()],u=-1,p&&(u=Mr(p,_,A,L)),(_=-1<u?p[u]:null)&&dn(_))}function dn(u){if(typeof u!="number"&&u&&!u.da){var p=u.src;if(p&&p[re])ae(p.i,u);else{var _=u.type,A=u.proxy;p.removeEventListener?p.removeEventListener(_,A,u.capture):p.detachEvent?p.detachEvent(r1(_),A):p.addListener&&p.removeListener&&p.removeListener(A),(_=Up(p))?(ae(_,u),_.h==0&&(_.src=null,p[mo]=null)):We(u)}}}function r1(u){return u in Un?Un[u]:Un[u]="on"+u}function jD(u,p){if(u.da)u=!0;else{p=new oe(p,this);var _=u.listener,A=u.ha||u.src;u.fa&&dn(u),u=_.call(A,p)}return u}function Up(u){return u=u[mo],u instanceof gt?u:null}var Bp="__closure_events_fn_"+(1e9*Math.random()>>>0);function zp(u){return typeof u=="function"?u:(u[Bp]||(u[Bp]=function(p){return u.handleEvent(p)}),u[Bp])}function St(){ne.call(this),this.i=new gt(this),this.M=this,this.F=null}y(St,ne),St.prototype[re]=!0,St.prototype.removeEventListener=function(u,p,_,A){Yt(this,u,p,_,A)};function Ft(u,p){var _,A=u.F;if(A)for(_=[];A;A=A.F)_.push(A);if(u=u.M,A=p.type||p,typeof p=="string")p=new H(p,u);else if(p instanceof H)p.target=p.target||u;else{var L=p;p=new H(A,u),v(p,L)}if(L=!0,_)for(var j=_.length-1;0<=j;j--){var W=p.g=_[j];L=Lu(W,A,!0,p)&&L}if(W=p.g=u,L=Lu(W,A,!0,p)&&L,L=Lu(W,A,!1,p)&&L,_)for(j=0;j<_.length;j++)W=p.g=_[j],L=Lu(W,A,!1,p)&&L}St.prototype.N=function(){if(St.aa.N.call(this),this.i){var u=this.i,p;for(p in u.g){for(var _=u.g[p],A=0;A<_.length;A++)We(_[A]);delete u.g[p],u.h--}}this.F=null},St.prototype.K=function(u,p,_,A){return this.i.add(String(u),p,!1,_,A)},St.prototype.L=function(u,p,_,A){return this.i.add(String(u),p,!0,_,A)};function Lu(u,p,_,A){if(p=u.i.g[String(p)],!p)return!0;p=p.concat();for(var L=!0,j=0;j<p.length;++j){var W=p[j];if(W&&!W.da&&W.capture==_){var be=W.listener,yt=W.ha||W.src;W.fa&&ae(u.i,W),L=be.call(yt,A)!==!1&&L}}return L&&!A.defaultPrevented}function i1(u,p,_){if(typeof u=="function")_&&(u=f(u,_));else if(u&&typeof u.handleEvent=="function")u=f(u.handleEvent,u);else throw Error("Invalid listener argument");return 2147483647<Number(p)?-1:a.setTimeout(u,p||0)}function s1(u){u.g=i1(()=>{u.g=null,u.i&&(u.i=!1,s1(u))},u.l);const p=u.h;u.h=null,u.m.apply(null,p)}class FD extends ne{constructor(p,_){super(),this.m=p,this.l=_,this.h=null,this.i=!1,this.g=null}j(p){this.h=arguments,this.g?this.i=!0:s1(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ja(u){ne.call(this),this.h=u,this.g={}}y(Ja,ne);var o1=[];function a1(u){M(u.g,function(p,_){this.g.hasOwnProperty(_)&&dn(p)},u),u.g={}}Ja.prototype.N=function(){Ja.aa.N.call(this),a1(this)},Ja.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Wp=a.JSON.stringify,$D=a.JSON.parse,VD=class{stringify(u){return a.JSON.stringify(u,void 0)}parse(u){return a.JSON.parse(u,void 0)}};function Hp(){}Hp.prototype.h=null;function l1(u){return u.h||(u.h=u.i())}function UD(){}var Qa={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function qp(){H.call(this,"d")}y(qp,H);function Gp(){H.call(this,"c")}y(Gp,H);var yo={},c1=null;function Kp(){return c1=c1||new St}yo.La="serverreachability";function u1(u){H.call(this,yo.La,u)}y(u1,H);function Za(u){const p=Kp();Ft(p,new u1(p))}yo.STAT_EVENT="statevent";function d1(u,p){H.call(this,yo.STAT_EVENT,u),this.stat=p}y(d1,H);function $t(u){const p=Kp();Ft(p,new d1(p,u))}yo.Ma="timingevent";function h1(u,p){H.call(this,yo.Ma,u),this.size=p}y(h1,H);function el(u,p){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){u()},p)}function tl(){this.g=!0}tl.prototype.xa=function(){this.g=!1};function BD(u,p,_,A,L,j){u.info(function(){if(u.g)if(j)for(var W="",be=j.split("&"),yt=0;yt<be.length;yt++){var ge=be[yt].split("=");if(1<ge.length){var Tt=ge[0];ge=ge[1];var kt=Tt.split("_");W=2<=kt.length&&kt[1]=="type"?W+(Tt+"="+ge+"&"):W+(Tt+"=redacted&")}}else W=null;else W=j;return"XMLHTTP REQ ("+A+") [attempt "+L+"]: "+p+`
`+_+`
`+W})}function zD(u,p,_,A,L,j,W){u.info(function(){return"XMLHTTP RESP ("+A+") [ attempt "+L+"]: "+p+`
`+_+`
`+j+" "+W})}function vo(u,p,_,A){u.info(function(){return"XMLHTTP TEXT ("+p+"): "+HD(u,_)+(A?" "+A:"")})}function WD(u,p){u.info(function(){return"TIMEOUT: "+p})}tl.prototype.info=function(){};function HD(u,p){if(!u.g)return p;if(!p)return null;try{var _=JSON.parse(p);if(_){for(u=0;u<_.length;u++)if(Array.isArray(_[u])){var A=_[u];if(!(2>A.length)){var L=A[1];if(Array.isArray(L)&&!(1>L.length)){var j=L[0];if(j!="noop"&&j!="stop"&&j!="close")for(var W=1;W<L.length;W++)L[W]=""}}}}return Wp(_)}catch{return p}}var Yp={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},qD={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Xp;function ju(){}y(ju,Hp),ju.prototype.g=function(){return new XMLHttpRequest},ju.prototype.i=function(){return{}},Xp=new ju;function wi(u,p,_,A){this.j=u,this.i=p,this.l=_,this.R=A||1,this.U=new Ja(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new f1}function f1(){this.i=null,this.g="",this.h=!1}var p1={},Jp={};function Qp(u,p,_){u.L=1,u.v=Uu(Lr(p)),u.m=_,u.P=!0,m1(u,null)}function m1(u,p){u.F=Date.now(),Fu(u),u.A=Lr(u.v);var _=u.A,A=u.R;Array.isArray(A)||(A=[String(A)]),P1(_.i,"t",A),u.C=0,_=u.j.J,u.h=new f1,u.g=G1(u.j,_?p:null,!u.m),0<u.O&&(u.M=new FD(f(u.Y,u,u.g),u.O)),p=u.U,_=u.g,A=u.ca;var L="readystatechange";Array.isArray(L)||(L&&(o1[0]=L.toString()),L=o1);for(var j=0;j<L.length;j++){var W=go(_,L[j],A||p.handleEvent,!1,p.h||p);if(!W)break;p.g[W.key]=W}p=u.H?b(u.H):{},u.m?(u.u||(u.u="POST"),p["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.A,u.u,u.m,p)):(u.u="GET",u.g.ea(u.A,u.u,null,p)),Za(),BD(u.i,u.u,u.A,u.l,u.R,u.m)}wi.prototype.ca=function(u){u=u.target;const p=this.M;p&&jr(u)==3?p.j():this.Y(u)},wi.prototype.Y=function(u){try{if(u==this.g)e:{const kt=jr(this.g);var p=this.g.Ba();const xo=this.g.Z();if(!(3>kt)&&(kt!=3||this.g&&(this.h.h||this.g.oa()||L1(this.g)))){this.J||kt!=4||p==7||(p==8||0>=xo?Za(3):Za(2)),Zp(this);var _=this.g.Z();this.X=_;t:if(g1(this)){var A=L1(this.g);u="";var L=A.length,j=jr(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){ps(this),nl(this);var W="";break t}this.h.i=new a.TextDecoder}for(p=0;p<L;p++)this.h.h=!0,u+=this.h.i.decode(A[p],{stream:!(j&&p==L-1)});A.length=0,this.h.g+=u,this.C=0,W=this.h.g}else W=this.g.oa();if(this.o=_==200,zD(this.i,this.u,this.A,this.l,this.R,kt,_),this.o){if(this.T&&!this.K){t:{if(this.g){var be,yt=this.g;if((be=yt.g?yt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!C(be)){var ge=be;break t}}ge=null}if(_=ge)vo(this.i,this.l,_,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,em(this,_);else{this.o=!1,this.s=3,$t(12),ps(this),nl(this);break e}}if(this.P){_=!0;let Bn;for(;!this.J&&this.C<W.length;)if(Bn=GD(this,W),Bn==Jp){kt==4&&(this.s=4,$t(14),_=!1),vo(this.i,this.l,null,"[Incomplete Response]");break}else if(Bn==p1){this.s=4,$t(15),vo(this.i,this.l,W,"[Invalid Chunk]"),_=!1;break}else vo(this.i,this.l,Bn,null),em(this,Bn);if(g1(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),kt!=4||W.length!=0||this.h.h||(this.s=1,$t(16),_=!1),this.o=this.o&&_,!_)vo(this.i,this.l,W,"[Invalid Chunked Response]"),ps(this),nl(this);else if(0<W.length&&!this.W){this.W=!0;var Tt=this.j;Tt.g==this&&Tt.ba&&!Tt.M&&(Tt.j.info("Great, no buffering proxy detected. Bytes received: "+W.length),om(Tt),Tt.M=!0,$t(11))}}else vo(this.i,this.l,W,null),em(this,W);kt==4&&ps(this),this.o&&!this.J&&(kt==4?z1(this.j,this):(this.o=!1,Fu(this)))}else uO(this.g),_==400&&0<W.indexOf("Unknown SID")?(this.s=3,$t(12)):(this.s=0,$t(13)),ps(this),nl(this)}}}catch{}finally{}};function g1(u){return u.g?u.u=="GET"&&u.L!=2&&u.j.Ca:!1}function GD(u,p){var _=u.C,A=p.indexOf(`
`,_);return A==-1?Jp:(_=Number(p.substring(_,A)),isNaN(_)?p1:(A+=1,A+_>p.length?Jp:(p=p.slice(A,A+_),u.C=A+_,p)))}wi.prototype.cancel=function(){this.J=!0,ps(this)};function Fu(u){u.S=Date.now()+u.I,y1(u,u.I)}function y1(u,p){if(u.B!=null)throw Error("WatchDog timer not null");u.B=el(f(u.ba,u),p)}function Zp(u){u.B&&(a.clearTimeout(u.B),u.B=null)}wi.prototype.ba=function(){this.B=null;const u=Date.now();0<=u-this.S?(WD(this.i,this.A),this.L!=2&&(Za(),$t(17)),ps(this),this.s=2,nl(this)):y1(this,this.S-u)};function nl(u){u.j.G==0||u.J||z1(u.j,u)}function ps(u){Zp(u);var p=u.M;p&&typeof p.ma=="function"&&p.ma(),u.M=null,a1(u.U),u.g&&(p=u.g,u.g=null,p.abort(),p.ma())}function em(u,p){try{var _=u.j;if(_.G!=0&&(_.g==u||tm(_.h,u))){if(!u.K&&tm(_.h,u)&&_.G==3){try{var A=_.Da.g.parse(p)}catch{A=null}if(Array.isArray(A)&&A.length==3){var L=A;if(L[0]==0){e:if(!_.u){if(_.g)if(_.g.F+3e3<u.F)Gu(_),Hu(_);else break e;sm(_),$t(18)}}else _.za=L[1],0<_.za-_.T&&37500>L[2]&&_.F&&_.v==0&&!_.C&&(_.C=el(f(_.Za,_),6e3));if(1>=_1(_.h)&&_.ca){try{_.ca()}catch{}_.ca=void 0}}else gs(_,11)}else if((u.K||_.g==u)&&Gu(_),!C(p))for(L=_.Da.g.parse(p),p=0;p<L.length;p++){let ge=L[p];if(_.T=ge[0],ge=ge[1],_.G==2)if(ge[0]=="c"){_.K=ge[1],_.ia=ge[2];const Tt=ge[3];Tt!=null&&(_.la=Tt,_.j.info("VER="+_.la));const kt=ge[4];kt!=null&&(_.Aa=kt,_.j.info("SVER="+_.Aa));const xo=ge[5];xo!=null&&typeof xo=="number"&&0<xo&&(A=1.5*xo,_.L=A,_.j.info("backChannelRequestTimeoutMs_="+A)),A=_;const Bn=u.g;if(Bn){const Ku=Bn.g?Bn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ku){var j=A.h;j.g||Ku.indexOf("spdy")==-1&&Ku.indexOf("quic")==-1&&Ku.indexOf("h2")==-1||(j.j=j.l,j.g=new Set,j.h&&(nm(j,j.h),j.h=null))}if(A.D){const am=Bn.g?Bn.g.getResponseHeader("X-HTTP-Session-Id"):null;am&&(A.ya=am,Re(A.I,A.D,am))}}_.G=3,_.l&&_.l.ua(),_.ba&&(_.R=Date.now()-u.F,_.j.info("Handshake RTT: "+_.R+"ms")),A=_;var W=u;if(A.qa=q1(A,A.J?A.ia:null,A.W),W.K){x1(A.h,W);var be=W,yt=A.L;yt&&(be.I=yt),be.B&&(Zp(be),Fu(be)),A.g=W}else U1(A);0<_.i.length&&qu(_)}else ge[0]!="stop"&&ge[0]!="close"||gs(_,7);else _.G==3&&(ge[0]=="stop"||ge[0]=="close"?ge[0]=="stop"?gs(_,7):im(_):ge[0]!="noop"&&_.l&&_.l.ta(ge),_.v=0)}}Za(4)}catch{}}var KD=class{constructor(u,p){this.g=u,this.map=p}};function v1(u){this.l=u||10,a.PerformanceNavigationTiming?(u=a.performance.getEntriesByType("navigation"),u=0<u.length&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function w1(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function _1(u){return u.h?1:u.g?u.g.size:0}function tm(u,p){return u.h?u.h==p:u.g?u.g.has(p):!1}function nm(u,p){u.g?u.g.add(p):u.h=p}function x1(u,p){u.h&&u.h==p?u.h=null:u.g&&u.g.has(p)&&u.g.delete(p)}v1.prototype.cancel=function(){if(this.i=E1(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function E1(u){if(u.h!=null)return u.i.concat(u.h.D);if(u.g!=null&&u.g.size!==0){let p=u.i;for(const _ of u.g.values())p=p.concat(_.D);return p}return S(u.i)}function YD(u){if(u.V&&typeof u.V=="function")return u.V();if(typeof Map<"u"&&u instanceof Map||typeof Set<"u"&&u instanceof Set)return Array.from(u.values());if(typeof u=="string")return u.split("");if(l(u)){for(var p=[],_=u.length,A=0;A<_;A++)p.push(u[A]);return p}p=[],_=0;for(A in u)p[_++]=u[A];return p}function XD(u){if(u.na&&typeof u.na=="function")return u.na();if(!u.V||typeof u.V!="function"){if(typeof Map<"u"&&u instanceof Map)return Array.from(u.keys());if(!(typeof Set<"u"&&u instanceof Set)){if(l(u)||typeof u=="string"){var p=[];u=u.length;for(var _=0;_<u;_++)p.push(_);return p}p=[],_=0;for(const A in u)p[_++]=A;return p}}}function b1(u,p){if(u.forEach&&typeof u.forEach=="function")u.forEach(p,void 0);else if(l(u)||typeof u=="string")Array.prototype.forEach.call(u,p,void 0);else for(var _=XD(u),A=YD(u),L=A.length,j=0;j<L;j++)p.call(void 0,A[j],_&&_[j],u)}var C1=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function JD(u,p){if(u){u=u.split("&");for(var _=0;_<u.length;_++){var A=u[_].indexOf("="),L=null;if(0<=A){var j=u[_].substring(0,A);L=u[_].substring(A+1)}else j=u[_];p(j,L?decodeURIComponent(L.replace(/\+/g," ")):"")}}}function ms(u){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,u instanceof ms){this.h=u.h,$u(this,u.j),this.o=u.o,this.g=u.g,Vu(this,u.s),this.l=u.l;var p=u.i,_=new sl;_.i=p.i,p.g&&(_.g=new Map(p.g),_.h=p.h),S1(this,_),this.m=u.m}else u&&(p=String(u).match(C1))?(this.h=!1,$u(this,p[1]||"",!0),this.o=rl(p[2]||""),this.g=rl(p[3]||"",!0),Vu(this,p[4]),this.l=rl(p[5]||"",!0),S1(this,p[6]||"",!0),this.m=rl(p[7]||"")):(this.h=!1,this.i=new sl(null,this.h))}ms.prototype.toString=function(){var u=[],p=this.j;p&&u.push(il(p,T1,!0),":");var _=this.g;return(_||p=="file")&&(u.push("//"),(p=this.o)&&u.push(il(p,T1,!0),"@"),u.push(encodeURIComponent(String(_)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_=this.s,_!=null&&u.push(":",String(_))),(_=this.l)&&(this.g&&_.charAt(0)!="/"&&u.push("/"),u.push(il(_,_.charAt(0)=="/"?eO:ZD,!0))),(_=this.i.toString())&&u.push("?",_),(_=this.m)&&u.push("#",il(_,nO)),u.join("")};function Lr(u){return new ms(u)}function $u(u,p,_){u.j=_?rl(p,!0):p,u.j&&(u.j=u.j.replace(/:$/,""))}function Vu(u,p){if(p){if(p=Number(p),isNaN(p)||0>p)throw Error("Bad port number "+p);u.s=p}else u.s=null}function S1(u,p,_){p instanceof sl?(u.i=p,rO(u.i,u.h)):(_||(p=il(p,tO)),u.i=new sl(p,u.h))}function Re(u,p,_){u.i.set(p,_)}function Uu(u){return Re(u,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),u}function rl(u,p){return u?p?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function il(u,p,_){return typeof u=="string"?(u=encodeURI(u).replace(p,QD),_&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function QD(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var T1=/[#\/\?@]/g,ZD=/[#\?:]/g,eO=/[#\?]/g,tO=/[#\?@]/g,nO=/#/g;function sl(u,p){this.h=this.g=null,this.i=u||null,this.j=!!p}function _i(u){u.g||(u.g=new Map,u.h=0,u.i&&JD(u.i,function(p,_){u.add(decodeURIComponent(p.replace(/\+/g," ")),_)}))}e=sl.prototype,e.add=function(u,p){_i(this),this.i=null,u=wo(this,u);var _=this.g.get(u);return _||this.g.set(u,_=[]),_.push(p),this.h+=1,this};function k1(u,p){_i(u),p=wo(u,p),u.g.has(p)&&(u.i=null,u.h-=u.g.get(p).length,u.g.delete(p))}function I1(u,p){return _i(u),p=wo(u,p),u.g.has(p)}e.forEach=function(u,p){_i(this),this.g.forEach(function(_,A){_.forEach(function(L){u.call(p,L,A,this)},this)},this)},e.na=function(){_i(this);const u=Array.from(this.g.values()),p=Array.from(this.g.keys()),_=[];for(let A=0;A<p.length;A++){const L=u[A];for(let j=0;j<L.length;j++)_.push(p[A])}return _},e.V=function(u){_i(this);let p=[];if(typeof u=="string")I1(this,u)&&(p=p.concat(this.g.get(wo(this,u))));else{u=Array.from(this.g.values());for(let _=0;_<u.length;_++)p=p.concat(u[_])}return p},e.set=function(u,p){return _i(this),this.i=null,u=wo(this,u),I1(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[p]),this.h+=1,this},e.get=function(u,p){return u?(u=this.V(u),0<u.length?String(u[0]):p):p};function P1(u,p,_){k1(u,p),0<_.length&&(u.i=null,u.g.set(wo(u,p),S(_)),u.h+=_.length)}e.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],p=Array.from(this.g.keys());for(var _=0;_<p.length;_++){var A=p[_];const j=encodeURIComponent(String(A)),W=this.V(A);for(A=0;A<W.length;A++){var L=j;W[A]!==""&&(L+="="+encodeURIComponent(String(W[A]))),u.push(L)}}return this.i=u.join("&")};function wo(u,p){return p=String(p),u.j&&(p=p.toLowerCase()),p}function rO(u,p){p&&!u.j&&(_i(u),u.i=null,u.g.forEach(function(_,A){var L=A.toLowerCase();A!=L&&(k1(this,A),P1(this,L,_))},u)),u.j=p}function iO(u,p){const _=new tl;if(a.Image){const A=new Image;A.onload=g(xi,_,"TestLoadImage: loaded",!0,p,A),A.onerror=g(xi,_,"TestLoadImage: error",!1,p,A),A.onabort=g(xi,_,"TestLoadImage: abort",!1,p,A),A.ontimeout=g(xi,_,"TestLoadImage: timeout",!1,p,A),a.setTimeout(function(){A.ontimeout&&A.ontimeout()},1e4),A.src=u}else p(!1)}function sO(u,p){const _=new tl,A=new AbortController,L=setTimeout(()=>{A.abort(),xi(_,"TestPingServer: timeout",!1,p)},1e4);fetch(u,{signal:A.signal}).then(j=>{clearTimeout(L),j.ok?xi(_,"TestPingServer: ok",!0,p):xi(_,"TestPingServer: server error",!1,p)}).catch(()=>{clearTimeout(L),xi(_,"TestPingServer: error",!1,p)})}function xi(u,p,_,A,L){try{L&&(L.onload=null,L.onerror=null,L.onabort=null,L.ontimeout=null),A(_)}catch{}}function oO(){this.g=new VD}function aO(u,p,_){const A=_||"";try{b1(u,function(L,j){let W=L;c(L)&&(W=Wp(L)),p.push(A+j+"="+encodeURIComponent(W))})}catch(L){throw p.push(A+"type="+encodeURIComponent("_badmap")),L}}function Bu(u){this.l=u.Ub||null,this.j=u.eb||!1}y(Bu,Hp),Bu.prototype.g=function(){return new zu(this.l,this.j)},Bu.prototype.i=function(u){return function(){return u}}({});function zu(u,p){St.call(this),this.D=u,this.o=p,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}y(zu,St),e=zu.prototype,e.open=function(u,p){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=u,this.A=p,this.readyState=1,al(this)},e.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const p={headers:this.u,method:this.B,credentials:this.m,cache:void 0};u&&(p.body=u),(this.D||a).fetch(new Request(this.A,p)).then(this.Sa.bind(this),this.ga.bind(this))},e.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,ol(this)),this.readyState=0},e.Sa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,al(this)),this.g&&(this.readyState=3,al(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;A1(this)}else u.text().then(this.Ra.bind(this),this.ga.bind(this))};function A1(u){u.j.read().then(u.Pa.bind(u)).catch(u.ga.bind(u))}e.Pa=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var p=u.value?u.value:new Uint8Array(0);(p=this.v.decode(p,{stream:!u.done}))&&(this.response=this.responseText+=p)}u.done?ol(this):al(this),this.readyState==3&&A1(this)}},e.Ra=function(u){this.g&&(this.response=this.responseText=u,ol(this))},e.Qa=function(u){this.g&&(this.response=u,ol(this))},e.ga=function(){this.g&&ol(this)};function ol(u){u.readyState=4,u.l=null,u.j=null,u.v=null,al(u)}e.setRequestHeader=function(u,p){this.u.append(u,p)},e.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},e.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],p=this.h.entries();for(var _=p.next();!_.done;)_=_.value,u.push(_[0]+": "+_[1]),_=p.next();return u.join(`\r
`)};function al(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(zu.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function R1(u){let p="";return M(u,function(_,A){p+=A,p+=":",p+=_,p+=`\r
`}),p}function rm(u,p,_){e:{for(A in _){var A=!1;break e}A=!0}A||(_=R1(_),typeof u=="string"?_!=null&&encodeURIComponent(String(_)):Re(u,p,_))}function Je(u){St.call(this),this.headers=new Map,this.o=u||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}y(Je,St);var lO=/^https?$/i,cO=["POST","PUT"];e=Je.prototype,e.Ha=function(u){this.J=u},e.ea=function(u,p,_,A){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);p=p?p.toUpperCase():"GET",this.D=u,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Xp.g(),this.v=this.o?l1(this.o):l1(Xp),this.g.onreadystatechange=f(this.Ea,this);try{this.B=!0,this.g.open(p,String(u),!0),this.B=!1}catch(j){N1(this,j);return}if(u=_||"",_=new Map(this.headers),A)if(Object.getPrototypeOf(A)===Object.prototype)for(var L in A)_.set(L,A[L]);else if(typeof A.keys=="function"&&typeof A.get=="function")for(const j of A.keys())_.set(j,A.get(j));else throw Error("Unknown input type for opt_headers: "+String(A));A=Array.from(_.keys()).find(j=>j.toLowerCase()=="content-type"),L=a.FormData&&u instanceof a.FormData,!(0<=Array.prototype.indexOf.call(cO,p,void 0))||A||L||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[j,W]of _)this.g.setRequestHeader(j,W);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{M1(this),this.u=!0,this.g.send(u),this.u=!1}catch(j){N1(this,j)}};function N1(u,p){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=p,u.m=5,D1(u),Wu(u)}function D1(u){u.A||(u.A=!0,Ft(u,"complete"),Ft(u,"error"))}e.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=u||7,Ft(this,"complete"),Ft(this,"abort"),Wu(this))},e.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Wu(this,!0)),Je.aa.N.call(this)},e.Ea=function(){this.s||(this.B||this.u||this.j?O1(this):this.bb())},e.bb=function(){O1(this)};function O1(u){if(u.h&&typeof o<"u"&&(!u.v[1]||jr(u)!=4||u.Z()!=2)){if(u.u&&jr(u)==4)i1(u.Ea,0,u);else if(Ft(u,"readystatechange"),jr(u)==4){u.h=!1;try{const W=u.Z();e:switch(W){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var p=!0;break e;default:p=!1}var _;if(!(_=p)){var A;if(A=W===0){var L=String(u.D).match(C1)[1]||null;!L&&a.self&&a.self.location&&(L=a.self.location.protocol.slice(0,-1)),A=!lO.test(L?L.toLowerCase():"")}_=A}if(_)Ft(u,"complete"),Ft(u,"success");else{u.m=6;try{var j=2<jr(u)?u.g.statusText:""}catch{j=""}u.l=j+" ["+u.Z()+"]",D1(u)}}finally{Wu(u)}}}}function Wu(u,p){if(u.g){M1(u);const _=u.g,A=u.v[0]?()=>{}:null;u.g=null,u.v=null,p||Ft(u,"ready");try{_.onreadystatechange=A}catch{}}}function M1(u){u.I&&(a.clearTimeout(u.I),u.I=null)}e.isActive=function(){return!!this.g};function jr(u){return u.g?u.g.readyState:0}e.Z=function(){try{return 2<jr(this)?this.g.status:-1}catch{return-1}},e.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},e.Oa=function(u){if(this.g){var p=this.g.responseText;return u&&p.indexOf(u)==0&&(p=p.substring(u.length)),$D(p)}};function L1(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.H){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function uO(u){const p={};u=(u.g&&2<=jr(u)&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let A=0;A<u.length;A++){if(C(u[A]))continue;var _=R(u[A]);const L=_[0];if(_=_[1],typeof _!="string")continue;_=_.trim();const j=p[L]||[];p[L]=j,j.push(_)}T(p,function(A){return A.join(", ")})}e.Ba=function(){return this.m},e.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function ll(u,p,_){return _&&_.internalChannelParams&&_.internalChannelParams[u]||p}function j1(u){this.Aa=0,this.i=[],this.j=new tl,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=ll("failFast",!1,u),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=ll("baseRetryDelayMs",5e3,u),this.cb=ll("retryDelaySeedMs",1e4,u),this.Wa=ll("forwardChannelMaxRetries",2,u),this.wa=ll("forwardChannelRequestTimeoutMs",2e4,u),this.pa=u&&u.xmlHttpFactory||void 0,this.Xa=u&&u.Tb||void 0,this.Ca=u&&u.useFetchStreams||!1,this.L=void 0,this.J=u&&u.supportsCrossDomainXhr||!1,this.K="",this.h=new v1(u&&u.concurrentRequestLimit),this.Da=new oO,this.P=u&&u.fastHandshake||!1,this.O=u&&u.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=u&&u.Rb||!1,u&&u.xa&&this.j.xa(),u&&u.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&u&&u.detectBufferingProxy||!1,this.ja=void 0,u&&u.longPollingTimeout&&0<u.longPollingTimeout&&(this.ja=u.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}e=j1.prototype,e.la=8,e.G=1,e.connect=function(u,p,_,A){$t(0),this.W=u,this.H=p||{},_&&A!==void 0&&(this.H.OSID=_,this.H.OAID=A),this.F=this.X,this.I=q1(this,null,this.W),qu(this)};function im(u){if(F1(u),u.G==3){var p=u.U++,_=Lr(u.I);if(Re(_,"SID",u.K),Re(_,"RID",p),Re(_,"TYPE","terminate"),cl(u,_),p=new wi(u,u.j,p),p.L=2,p.v=Uu(Lr(_)),_=!1,a.navigator&&a.navigator.sendBeacon)try{_=a.navigator.sendBeacon(p.v.toString(),"")}catch{}!_&&a.Image&&(new Image().src=p.v,_=!0),_||(p.g=G1(p.j,null),p.g.ea(p.v)),p.F=Date.now(),Fu(p)}H1(u)}function Hu(u){u.g&&(om(u),u.g.cancel(),u.g=null)}function F1(u){Hu(u),u.u&&(a.clearTimeout(u.u),u.u=null),Gu(u),u.h.cancel(),u.s&&(typeof u.s=="number"&&a.clearTimeout(u.s),u.s=null)}function qu(u){if(!w1(u.h)&&!u.s){u.s=!0;var p=u.Ga;G||X(),$||(G(),$=!0),K.add(p,u),u.B=0}}function dO(u,p){return _1(u.h)>=u.h.j-(u.s?1:0)?!1:u.s?(u.i=p.D.concat(u.i),!0):u.G==1||u.G==2||u.B>=(u.Va?0:u.Wa)?!1:(u.s=el(f(u.Ga,u,p),W1(u,u.B)),u.B++,!0)}e.Ga=function(u){if(this.s)if(this.s=null,this.G==1){if(!u){this.U=Math.floor(1e5*Math.random()),u=this.U++;const L=new wi(this,this.j,u);let j=this.o;if(this.S&&(j?(j=b(j),v(j,this.S)):j=this.S),this.m!==null||this.O||(L.H=j,j=null),this.P)e:{for(var p=0,_=0;_<this.i.length;_++){t:{var A=this.i[_];if("__data__"in A.map&&(A=A.map.__data__,typeof A=="string")){A=A.length;break t}A=void 0}if(A===void 0)break;if(p+=A,4096<p){p=_;break e}if(p===4096||_===this.i.length-1){p=_+1;break e}}p=1e3}else p=1e3;p=V1(this,L,p),_=Lr(this.I),Re(_,"RID",u),Re(_,"CVER",22),this.D&&Re(_,"X-HTTP-Session-Id",this.D),cl(this,_),j&&(this.O?p="headers="+encodeURIComponent(String(R1(j)))+"&"+p:this.m&&rm(_,this.m,j)),nm(this.h,L),this.Ua&&Re(_,"TYPE","init"),this.P?(Re(_,"$req",p),Re(_,"SID","null"),L.T=!0,Qp(L,_,null)):Qp(L,_,p),this.G=2}}else this.G==3&&(u?$1(this,u):this.i.length==0||w1(this.h)||$1(this))};function $1(u,p){var _;p?_=p.l:_=u.U++;const A=Lr(u.I);Re(A,"SID",u.K),Re(A,"RID",_),Re(A,"AID",u.T),cl(u,A),u.m&&u.o&&rm(A,u.m,u.o),_=new wi(u,u.j,_,u.B+1),u.m===null&&(_.H=u.o),p&&(u.i=p.D.concat(u.i)),p=V1(u,_,1e3),_.I=Math.round(.5*u.wa)+Math.round(.5*u.wa*Math.random()),nm(u.h,_),Qp(_,A,p)}function cl(u,p){u.H&&M(u.H,function(_,A){Re(p,A,_)}),u.l&&b1({},function(_,A){Re(p,A,_)})}function V1(u,p,_){_=Math.min(u.i.length,_);var A=u.l?f(u.l.Na,u.l,u):null;e:{var L=u.i;let j=-1;for(;;){const W=["count="+_];j==-1?0<_?(j=L[0].g,W.push("ofs="+j)):j=0:W.push("ofs="+j);let be=!0;for(let yt=0;yt<_;yt++){let ge=L[yt].g;const Tt=L[yt].map;if(ge-=j,0>ge)j=Math.max(0,L[yt].g-100),be=!1;else try{aO(Tt,W,"req"+ge+"_")}catch{A&&A(Tt)}}if(be){A=W.join("&");break e}}}return u=u.i.splice(0,_),p.D=u,A}function U1(u){if(!u.g&&!u.u){u.Y=1;var p=u.Fa;G||X(),$||(G(),$=!0),K.add(p,u),u.v=0}}function sm(u){return u.g||u.u||3<=u.v?!1:(u.Y++,u.u=el(f(u.Fa,u),W1(u,u.v)),u.v++,!0)}e.Fa=function(){if(this.u=null,B1(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var u=2*this.R;this.j.info("BP detection timer enabled: "+u),this.A=el(f(this.ab,this),u)}},e.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,$t(10),Hu(this),B1(this))};function om(u){u.A!=null&&(a.clearTimeout(u.A),u.A=null)}function B1(u){u.g=new wi(u,u.j,"rpc",u.Y),u.m===null&&(u.g.H=u.o),u.g.O=0;var p=Lr(u.qa);Re(p,"RID","rpc"),Re(p,"SID",u.K),Re(p,"AID",u.T),Re(p,"CI",u.F?"0":"1"),!u.F&&u.ja&&Re(p,"TO",u.ja),Re(p,"TYPE","xmlhttp"),cl(u,p),u.m&&u.o&&rm(p,u.m,u.o),u.L&&(u.g.I=u.L);var _=u.g;u=u.ia,_.L=1,_.v=Uu(Lr(p)),_.m=null,_.P=!0,m1(_,u)}e.Za=function(){this.C!=null&&(this.C=null,Hu(this),sm(this),$t(19))};function Gu(u){u.C!=null&&(a.clearTimeout(u.C),u.C=null)}function z1(u,p){var _=null;if(u.g==p){Gu(u),om(u),u.g=null;var A=2}else if(tm(u.h,p))_=p.D,x1(u.h,p),A=1;else return;if(u.G!=0){if(p.o)if(A==1){_=p.m?p.m.length:0,p=Date.now()-p.F;var L=u.B;A=Kp(),Ft(A,new h1(A,_)),qu(u)}else U1(u);else if(L=p.s,L==3||L==0&&0<p.X||!(A==1&&dO(u,p)||A==2&&sm(u)))switch(_&&0<_.length&&(p=u.h,p.i=p.i.concat(_)),L){case 1:gs(u,5);break;case 4:gs(u,10);break;case 3:gs(u,6);break;default:gs(u,2)}}}function W1(u,p){let _=u.Ta+Math.floor(Math.random()*u.cb);return u.isActive()||(_*=2),_*p}function gs(u,p){if(u.j.info("Error code "+p),p==2){var _=f(u.fb,u),A=u.Xa;const L=!A;A=new ms(A||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||$u(A,"https"),Uu(A),L?iO(A.toString(),_):sO(A.toString(),_)}else $t(2);u.G=0,u.l&&u.l.sa(p),H1(u),F1(u)}e.fb=function(u){u?(this.j.info("Successfully pinged google.com"),$t(2)):(this.j.info("Failed to ping google.com"),$t(1))};function H1(u){if(u.G=0,u.ka=[],u.l){const p=E1(u.h);(p.length!=0||u.i.length!=0)&&(k(u.ka,p),k(u.ka,u.i),u.h.i.length=0,S(u.i),u.i.length=0),u.l.ra()}}function q1(u,p,_){var A=_ instanceof ms?Lr(_):new ms(_);if(A.g!="")p&&(A.g=p+"."+A.g),Vu(A,A.s);else{var L=a.location;A=L.protocol,p=p?p+"."+L.hostname:L.hostname,L=+L.port;var j=new ms(null);A&&$u(j,A),p&&(j.g=p),L&&Vu(j,L),_&&(j.l=_),A=j}return _=u.D,p=u.ya,_&&p&&Re(A,_,p),Re(A,"VER",u.la),cl(u,A),A}function G1(u,p,_){if(p&&!u.J)throw Error("Can't create secondary domain capable XhrIo object.");return p=u.Ca&&!u.pa?new Je(new Bu({eb:_})):new Je(u.pa),p.Ha(u.J),p}e.isActive=function(){return!!this.l&&this.l.isActive(this)};function K1(){}e=K1.prototype,e.ua=function(){},e.ta=function(){},e.sa=function(){},e.ra=function(){},e.isActive=function(){return!0},e.Na=function(){};function En(u,p){St.call(this),this.g=new j1(p),this.l=u,this.h=p&&p.messageUrlParams||null,u=p&&p.messageHeaders||null,p&&p.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=p&&p.initMessageHeaders||null,p&&p.messageContentType&&(u?u["X-WebChannel-Content-Type"]=p.messageContentType:u={"X-WebChannel-Content-Type":p.messageContentType}),p&&p.va&&(u?u["X-WebChannel-Client-Profile"]=p.va:u={"X-WebChannel-Client-Profile":p.va}),this.g.S=u,(u=p&&p.Sb)&&!C(u)&&(this.g.m=u),this.v=p&&p.supportsCrossDomainXhr||!1,this.u=p&&p.sendRawJson||!1,(p=p&&p.httpSessionIdParam)&&!C(p)&&(this.g.D=p,u=this.h,u!==null&&p in u&&(u=this.h,p in u&&delete u[p])),this.j=new _o(this)}y(En,St),En.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},En.prototype.close=function(){im(this.g)},En.prototype.o=function(u){var p=this.g;if(typeof u=="string"){var _={};_.__data__=u,u=_}else this.u&&(_={},_.__data__=Wp(u),u=_);p.i.push(new KD(p.Ya++,u)),p.G==3&&qu(p)},En.prototype.N=function(){this.g.l=null,delete this.j,im(this.g),delete this.g,En.aa.N.call(this)};function Y1(u){qp.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var p=u.__sm__;if(p){e:{for(const _ in p){u=_;break e}u=void 0}(this.i=u)&&(u=this.i,p=p!==null&&u in p?p[u]:void 0),this.data=p}else this.data=u}y(Y1,qp);function X1(){Gp.call(this),this.status=1}y(X1,Gp);function _o(u){this.g=u}y(_o,K1),_o.prototype.ua=function(){Ft(this.g,"a")},_o.prototype.ta=function(u){Ft(this.g,new Y1(u))},_o.prototype.sa=function(u){Ft(this.g,new X1)},_o.prototype.ra=function(){Ft(this.g,"b")},En.prototype.send=En.prototype.o,En.prototype.open=En.prototype.m,En.prototype.close=En.prototype.close,Yp.NO_ERROR=0,Yp.TIMEOUT=8,Yp.HTTP_ERROR=6,qD.COMPLETE="complete",UD.EventType=Qa,Qa.OPEN="a",Qa.CLOSE="b",Qa.ERROR="c",Qa.MESSAGE="d",St.prototype.listen=St.prototype.K,Je.prototype.listenOnce=Je.prototype.L,Je.prototype.getLastError=Je.prototype.Ka,Je.prototype.getLastErrorCode=Je.prototype.Ba,Je.prototype.getStatus=Je.prototype.Z,Je.prototype.getResponseJson=Je.prototype.Oa,Je.prototype.getResponseText=Je.prototype.oa,Je.prototype.send=Je.prototype.ea,Je.prototype.setWithCredentials=Je.prototype.Ha}).apply(typeof vd<"u"?vd:typeof self<"u"?self:typeof window<"u"?window:{});const Lb="@firebase/firestore",jb="4.7.14";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ut{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}Ut.UNAUTHENTICATED=new Ut(null),Ut.GOOGLE_CREDENTIALS=new Ut("google-credentials-uid"),Ut.FIRST_PARTY=new Ut("first-party-uid"),Ut.MOCK_USER=new Ut("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let bu="11.7.3";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ka=new Bf("@firebase/firestore");function Zn(e,...t){if(ka.logLevel<=_e.DEBUG){const n=t.map(Yw);ka.debug(`Firestore (${bu}): ${e}`,...n)}}function TA(e,...t){if(ka.logLevel<=_e.ERROR){const n=t.map(Yw);ka.error(`Firestore (${bu}): ${e}`,...n)}}function kB(e,...t){if(ka.logLevel<=_e.WARN){const n=t.map(Yw);ka.warn(`Firestore (${bu}): ${e}`,...n)}}function Yw(e){if(typeof e=="string")return e;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(e)}catch{return e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kA(e,t,n){let r="Unexpected state";typeof t=="string"?r=t:n=t,IA(e,r,n)}function IA(e,t,n){let r=`FIRESTORE (${bu}) INTERNAL ASSERTION FAILED: ${t} (ID: ${e.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw TA(r),new Error(r)}function nc(e,t,n,r){let i="Unexpected state";typeof n=="string"?i=n:r=n,e||IA(t,i,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zt={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class en extends cr{constructor(t,n){super(t,n),this.code=t,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rc{constructor(){this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PA{constructor(t,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class IB{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,n){t.enqueueRetryable(()=>n(Ut.UNAUTHENTICATED))}shutdown(){}}class PB{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,n){this.changeListener=n,t.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class AB{constructor(t){this.t=t,this.currentUser=Ut.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,n){nc(this.o===void 0,42304);let r=this.i;const i=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let s=new rc;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new rc,t.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const l=s;t.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},a=l=>{Zn("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(Zn("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new rc)}},0),o()}getToken(){const t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==t?(Zn("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(nc(typeof r.accessToken=="string",31837,{l:r}),new PA(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return nc(t===null||typeof t=="string",2055,{h:t}),new Ut(t)}}class RB{constructor(t,n,r){this.P=t,this.T=n,this.I=r,this.type="FirstParty",this.user=Ut.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class NB{constructor(t,n,r){this.P=t,this.T=n,this.I=r}getToken(){return Promise.resolve(new RB(this.P,this.T,this.I))}start(t,n){t.enqueueRetryable(()=>n(Ut.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Fb{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class DB{constructor(t,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Dt(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,n){nc(this.o===void 0,3512);const r=s=>{s.error!=null&&Zn("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.m;return this.m=s.token,Zn("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{t.enqueueRetryable(()=>r(s))};const i=s=>{Zn("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.V.getImmediate({optional:!0});s?i(s):Zn("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new Fb(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(n=>n?(nc(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new Fb(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function OB(e){return e.name==="IndexedDbTransactionError"}const Xy="(default)";class af{constructor(t,n){this.projectId=t,this.database=n||Xy}static empty(){return new af("","")}get isDefaultDatabase(){return this.database===Xy}isEqual(t){return t instanceof af&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var $b,pe;(pe=$b||($b={}))[pe.OK=0]="OK",pe[pe.CANCELLED=1]="CANCELLED",pe[pe.UNKNOWN=2]="UNKNOWN",pe[pe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",pe[pe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",pe[pe.NOT_FOUND=5]="NOT_FOUND",pe[pe.ALREADY_EXISTS=6]="ALREADY_EXISTS",pe[pe.PERMISSION_DENIED=7]="PERMISSION_DENIED",pe[pe.UNAUTHENTICATED=16]="UNAUTHENTICATED",pe[pe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",pe[pe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",pe[pe.ABORTED=10]="ABORTED",pe[pe.OUT_OF_RANGE=11]="OUT_OF_RANGE",pe[pe.UNIMPLEMENTED=12]="UNIMPLEMENTED",pe[pe.INTERNAL=13]="INTERNAL",pe[pe.UNAVAILABLE=14]="UNAVAILABLE",pe[pe.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */new SA([4294967295,4294967295],0);/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MB=41943040;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LB=1048576;function rg(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jB{constructor(t,n,r=1e3,i=1.5,s=6e4){this.bi=t,this.timerId=n,this.u_=r,this.c_=i,this.l_=s,this.h_=0,this.P_=null,this.T_=Date.now(),this.reset()}reset(){this.h_=0}I_(){this.h_=this.l_}E_(t){this.cancel();const n=Math.floor(this.h_+this.d_()),r=Math.max(0,Date.now()-this.T_),i=Math.max(0,n-r);i>0&&Zn("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.h_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.P_=this.bi.enqueueAfterDelay(this.timerId,i,()=>(this.T_=Date.now(),t())),this.h_*=this.c_,this.h_<this.u_&&(this.h_=this.u_),this.h_>this.l_&&(this.h_=this.l_)}A_(){this.P_!==null&&(this.P_.skipDelay(),this.P_=null)}cancel(){this.P_!==null&&(this.P_.cancel(),this.P_=null)}d_(){return(Math.random()-.5)*this.h_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xw{constructor(t,n,r,i,s){this.asyncQueue=t,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new rc,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(t,n,r,i,s){const o=Date.now()+r,a=new Xw(t,n,o,i,s);return a.start(r),a}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new en(Zt.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}var Vb,Ub;(Ub=Vb||(Vb={})).ya="default",Ub.Cache="cache";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FB(e){const t={};return e.timeoutSeconds!==void 0&&(t.timeoutSeconds=e.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bb=new Map;function $B(e,t,n,r){if(t===!0&&r===!0)throw new en(Zt.INVALID_ARGUMENT,`${e} and ${n} cannot be used together.`)}function VB(e){if(e===void 0)return"undefined";if(e===null)return"null";if(typeof e=="string")return e.length>20&&(e=`${e.substring(0,20)}...`),JSON.stringify(e);if(typeof e=="number"||typeof e=="boolean")return""+e;if(typeof e=="object"){if(e instanceof Array)return"an array";{const t=function(r){return r.constructor?r.constructor.name:null}(e);return t?`a custom ${t} object`:"an object"}}return typeof e=="function"?"a function":kA(12329,{type:typeof e})}function UB(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new en(Zt.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=VB(e);throw new en(Zt.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AA="firestore.googleapis.com",zb=!0;class Wb{constructor(t){var n,r;if(t.host===void 0){if(t.ssl!==void 0)throw new en(Zt.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=AA,this.ssl=zb}else this.host=t.host,this.ssl=(n=t.ssl)!==null&&n!==void 0?n:zb;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=MB;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<LB)throw new en(Zt.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}$B("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=FB((r=t.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new en(Zt.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new en(Zt.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new en(Zt.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class RA{constructor(t,n,r,i){this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Wb({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new en(Zt.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new en(Zt.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Wb(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new IB;switch(r.type){case"firstParty":return new NB(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new en(Zt.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,cs("Firestore",this._settings.isUsingEmulator),this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=Bb.get(n);r&&(Zn("ComponentProvider","Removing Datastore"),Bb.delete(n),r.terminate())}(this),Promise.resolve()}}function NA(e,t,n,r={}){var i;e=UB(e,RA);const s=lo(t),o=e._getSettings(),a=Object.assign(Object.assign({},o),{emulatorOptions:e._getEmulatorOptions()}),l=`${t}:${n}`;o.host!==AA&&o.host!==l&&kB("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const c=Object.assign(Object.assign({},o),{host:l,ssl:s,emulatorOptions:r});if(!Zi(c,a)&&(e._setSettings(c),s&&($f(`https://${l}`),cs("Firestore",!0)),r.mockUserToken)){let d,h;if(typeof r.mockUserToken=="string")d=r.mockUserToken,h=Ut.MOCK_USER;else{d=Kv(r.mockUserToken,(i=e._app)===null||i===void 0?void 0:i.options.projectId);const f=r.mockUserToken.sub||r.mockUserToken.user_id;if(!f)throw new en(Zt.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");h=new Ut(f)}e._authCredentials=new PB(new PA(d,h))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hb="AsyncQueue";class qb{constructor(t=Promise.resolve()){this.Qu=[],this.$u=!1,this.Uu=[],this.Ku=null,this.Wu=!1,this.Gu=!1,this.zu=[],this.y_=new jB(this,"async_queue_retry"),this.ju=()=>{const r=rg();r&&Zn(Hb,"Visibility state changed to "+r.visibilityState),this.y_.A_()},this.Hu=t;const n=rg();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.ju)}get isShuttingDown(){return this.$u}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.Ju(),this.Yu(t)}enterRestrictedMode(t){if(!this.$u){this.$u=!0,this.Gu=t||!1;const n=rg();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.ju)}}enqueue(t){if(this.Ju(),this.$u)return new Promise(()=>{});const n=new rc;return this.Yu(()=>this.$u&&this.Gu?Promise.resolve():(t().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.Qu.push(t),this.Zu()))}async Zu(){if(this.Qu.length!==0){try{await this.Qu[0](),this.Qu.shift(),this.y_.reset()}catch(t){if(!OB(t))throw t;Zn(Hb,"Operation failed with retryable error: "+t)}this.Qu.length>0&&this.y_.E_(()=>this.Zu())}}Yu(t){const n=this.Hu.then(()=>(this.Wu=!0,t().catch(r=>{throw this.Ku=r,this.Wu=!1,TA("INTERNAL UNHANDLED ERROR: ",Gb(r)),r}).then(r=>(this.Wu=!1,r))));return this.Hu=n,n}enqueueAfterDelay(t,n,r){this.Ju(),this.zu.indexOf(t)>-1&&(n=0);const i=Xw.createAndSchedule(this,t,n,r,s=>this.Xu(s));return this.Uu.push(i),i}Ju(){this.Ku&&kA(47125,{ec:Gb(this.Ku)})}verifyOperationInProgress(){}async tc(){let t;do t=this.Hu,await t;while(t!==this.Hu)}nc(t){for(const n of this.Uu)if(n.timerId===t)return!0;return!1}rc(t){return this.tc().then(()=>{this.Uu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.Uu)if(n.skipDelay(),t!=="all"&&n.timerId===t)break;return this.tc()})}sc(t){this.zu.push(t)}Xu(t){const n=this.Uu.indexOf(t);this.Uu.splice(n,1)}}function Gb(e){let t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+`
`+e.stack),t}class BB extends RA{constructor(t,n,r,i){super(t,n,r,i),this.type="firestore",this._queue=new qb,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new qb(t),this._firestoreClient=void 0,await t}}}function zB(e,t){const n=typeof e=="object"?e:du(),r=typeof e=="string"?e:t||Xy,i=us(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const s=Gv("firestore");s&&NA(i,...s)}return i}(function(t,n=!0){(function(i){bu=i})(ds),wn(new ln("firestore",(r,{instanceIdentifier:i,options:s})=>{const o=r.getProvider("app").getImmediate(),a=new BB(new AB(r.getProvider("auth-internal")),new DB(o,r.getProvider("app-check-internal")),function(c,d){if(!Object.prototype.hasOwnProperty.apply(c.options,["projectId"]))throw new en(Zt.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new af(c.options.projectId,d)}(o,i),o);return s=Object.assign({useFetchStreams:n},s),a._setSettings(s),a},"PUBLIC").setMultipleInstances(!0)),mt(Lb,jb,t),mt(Lb,jb,"esm2017")})();const WB={apiKey:"AIzaSyD9cpSfGG212h80iXofJetw-B-arEEcOvI",authDomain:"emprochampions2025.firebaseapp.com",databaseURL:"https://emprochampions2025-default-rtdb.firebaseio.com",projectId:"emprochampions2025",storageBucket:"emprochampions2025.appspot.com",messagingSenderId:"683206087538",appId:"1:683206087538:web:8a1473aec968bd6ab543eb",measurementId:"G-3TX5J3NDT5"},no=YI(WB),Ni=H$(no),se=wA(no),HB=CB(no),qB=zB(no);Py(no);new yr;window.location.hostname==="localhost"&&(VP(Ni,"http://localhost:9099"),_A(se,"localhost",9e3),CA(HB,"localhost",9199),NA(qB,"localhost",8080),console.log("Conectado a emuladores de Firebase"));const DA=w.createContext(),fo=()=>{const e=w.useContext(DA);if(!e)throw new Error("useAuth must be used within an AuthProvider");return e};function GB({children:e}){const[t,n]=w.useState(null),[r,i]=w.useState(null),[s,o]=w.useState(!0),a=(h,f)=>HP(Ni,h,f),l=(h,f)=>A6(Ni,h,f),c=()=>qP(Ni),d=()=>{const h=new yr;return h.setCustomParameters({prompt:"select_account"}),e$(Ni,h)};return w.useEffect(()=>{const h=O6(Ni,async f=>{var g,y;if(f){const k=["yayirobe2305@gmail.com","gersonespino@gmail.com","andiescobar8@gmail.com","rodriguezmerary42@gmail.com"].includes(f.email)?"admin":"usuario";i(k),n(f);const x=ie(se,`usuarios/${f.uid}`),C=await Nn(x);if(C.exists())C.val().rol!==k&&await Ta(x,{rol:k});else{const E={correo:f.email,rol:k,nombre:((g=f.displayName)==null?void 0:g.split(" ")[0])||"",apellido:((y=f.displayName)==null?void 0:y.split(" ")[1])||""};await ft(x,E)}}else n(null),i(null);o(!1)});return()=>h()},[]),m.jsx(DA.Provider,{value:{user:t,rol:r,loading:s,signup:a,login:l,logout:c,loginWithGoogle:d},children:e})}const Hc={calendario:{femenino:{asignaciones:{A:"Equipo A",B:"Equipo B",C:"Equipo C",D:"Equipo D",E:"Equipo E"},partidos:{jornada1:[{cancha:"1",equipo1:"A",equipo2:"B",fecha:"Sábado 28 Jun - 08:00 AM"},{cancha:"2",equipo1:"C",equipo2:"D",fecha:"Sábado 28 Jun - 08:00 AM"}],jornada2:[{cancha:"1",equipo1:"A",equipo2:"C",fecha:"Sábado 28 Jun - 09:00 AM"},{cancha:"2",equipo1:"B",equipo2:"E",fecha:"Sábado 28 Jun - 09:00 AM"}],jornada3:[{cancha:"1",equipo1:"A",equipo2:"D",fecha:"Sábado 28 Jun - 10:00 AM"},{cancha:"2",equipo1:"C",equipo2:"E",fecha:"Sábado 28 Jun - 10:00 AM"}],jornada4:[{cancha:"1",equipo1:"A",equipo2:"E",fecha:"Sábado 28 Jun - 11:00 AM"},{cancha:"2",equipo1:"B",equipo2:"D",fecha:"Sábado 28 Jun - 11:00 AM"}],jornada5:[{cancha:"1",equipo1:"B",equipo2:"C",fecha:"Sábado 28 Jun - 12:00 PM"},{cancha:"2",equipo1:"D",equipo2:"E",fecha:"Sábado 28 Jun - 12:00 PM"}],semifinales:[{cancha:"1",equipo1:"1er Lugar",equipo2:"4to Lugar",fecha:"Domingo 29 Jun - 09:00 AM"},{cancha:"2",equipo1:"2do Lugar",equipo2:"3er Lugar",fecha:"Domingo 29 Jun - 09:00 AM"}],finales:[{cancha:"2",equipo1:"Perdedor Semi 1",equipo2:"Perdedor Semi 2",fecha:"Domingo 29 Jun - 11:00 AM",nombre:"Tercer Lugar"},{cancha:"1",equipo1:"Ganador Semi 1",equipo2:"Ganador Semi 2",fecha:"Domingo 29 Jun - 12:00 PM",nombre:"Gran Final"}]}},masculino:{asignaciones:{A:"Equipo A",B:"Equipo B",C:"Equipo C",D:"Equipo D",E:"Equipo E",F:"Equipo F"},partidos:{jornada1:[{cancha:"1",equipo1:"A",equipo2:"F",fecha:"Sábado 28 Jun - 02:00 PM"},{cancha:"2",equipo1:"B",equipo2:"E",fecha:"Sábado 28 Jun - 02:00 PM"},{cancha:"1",equipo1:"C",equipo2:"D",fecha:"Sábado 28 Jun - 03:00 PM"}],jornada2:[{cancha:"2",equipo1:"A",equipo2:"E",fecha:"Sábado 28 Jun - 03:00 PM"},{cancha:"1",equipo1:"B",equipo2:"D",fecha:"Sábado 28 Jun - 04:00 PM"},{cancha:"2",equipo1:"C",equipo2:"F",fecha:"Sábado 28 Jun - 04:00 PM"}],jornada3:[{cancha:"1",equipo1:"A",equipo2:"D",fecha:"Domingo 29 Jun - 08:00 AM"},{cancha:"2",equipo1:"B",equipo2:"C",fecha:"Domingo 29 Jun - 08:00 AM"},{cancha:"1",equipo1:"E",equipo2:"F",fecha:"Domingo 29 Jun - 10:00 AM"}],jornada4:[{cancha:"2",equipo1:"A",equipo2:"C",fecha:"Domingo 29 Jun - 10:00 AM"},{cancha:"1",equipo1:"B",equipo2:"F",fecha:"Domingo 29 Jun - 11:00 AM"},{cancha:"2",equipo1:"D",equipo2:"E",fecha:"Domingo 29 Jun - 11:00 AM"}],jornada5:[{cancha:"1",equipo1:"A",equipo2:"B",fecha:"Domingo 29 Jun - 01:00 PM"},{cancha:"2",equipo1:"C",equipo2:"E",fecha:"Domingo 29 Jun - 01:00 PM"},{cancha:"1",equipo1:"D",equipo2:"F",fecha:"Domingo 29 Jun - 02:00 PM"}],semifinales:[{cancha:"1",equipo1:"1er Lugar",equipo2:"4to Lugar",fecha:"Domingo 29 Jun - 03:00 PM"},{cancha:"2",equipo1:"2do Lugar",equipo2:"3er Lugar",fecha:"Domingo 29 Jun - 03:00 PM"}],finales:[{cancha:"2",equipo1:"Perdedor Semi 1",equipo2:"Perdedor Semi 2",fecha:"Domingo 29 Jun - 04:00 PM",nombre:"Tercer Lugar"},{cancha:"1",equipo1:"Ganador Semi 1",equipo2:"Ganador Semi 2",fecha:"Domingo 29 Jun - 05:00 PM",nombre:"Gran Final"}]}}},plantillas:{femenino:{"Don Bosco":{logo:"bosco.png",jugadores:[]},"Atrapados en su Red":{logo:"atrapados.png",jugadores:[]},"Luz en mi Camino":{logo:"luz.png",jugadores:[]},"Mensajeros de Paz":{logo:"mensajeros.png",jugadores:[]},"Huellas de Jesus":{logo:"huellas.png",jugadores:[]}},masculino:{"Don Bosco":{logo:"bosco.png",jugadores:[]},"Atrapados en su Red":{logo:"atrapados.png",jugadores:[]},"Luz en mi Camino":{logo:"luz.png",jugadores:[]},"Mensajeros de Paz":{logo:"mensajeros.png",jugadores:[]},"Huellas de Jesus":{logo:"huellas.png",jugadores:[]},Emprosaurios:{logo:"emprosaurios.png",jugadores:[]}}}},KB=()=>{const e=wA(),t=ie(e,"calendario");ft(t,Hc.calendario).then(()=>{console.log("✅ Calendario subido correctamente a Firebase.")}).catch(n=>{console.error("❌ Error al subir el calendario:",n)})};function YB(){const[e,t]=w.useState(""),[n,r]=w.useState(""),[i,s]=w.useState(""),o=Ar(),{login:a,loginWithGoogle:l}=fo(),c=async h=>{h.preventDefault(),s("");try{await a(e,n),o("/")}catch(f){s("Credenciales incorrectas. Verifica tu correo y contraseña."),console.error("Error en login:",f.message)}},d=async()=>{s("");try{await l(),o("/")}catch(h){s("Error al iniciar sesión con Google."),console.error("Error en login con Google:",h.message)}};return m.jsx("div",{className:"min-h-screen bg-cover bg-center flex items-center justify-center",style:{backgroundImage:"url('/EmproChampions-2025/img/fondoempro-horizontal.png')"},children:m.jsxs("div",{className:"bg-white/90 rounded-2xl shadow-lg p-8 w-full max-w-md text-center",children:[m.jsx("img",{src:"/EmproChampions-2025/img/logo-empro.png",alt:"Logo Empro",className:"w-32 md:w-40 mx-auto mb-4"}),m.jsx("h1",{className:"text-3xl font-bold text-[#7a0026] mb-6",children:"Empro Champions 2025"}),i&&m.jsx("p",{className:"bg-red-500 text-white p-2 rounded-md mb-4",children:i}),m.jsxs("form",{onSubmit:c,className:"space-y-4",children:[m.jsx("h2",{className:"text-lg text-[#7a0026] font-bold",children:"¡HOLA, INICIA SESIÓN!"}),m.jsx("input",{type:"email",placeholder:"CORREO",value:e,onChange:h=>t(h.target.value),required:!0,className:"w-full px-4 py-2 border border-[#7a0026] rounded-md focus:outline-none focus:ring-2 focus:ring-[#FFD700]",autoComplete:"email"}),m.jsx("input",{type:"password",placeholder:"CONTRASEÑA",value:n,onChange:h=>r(h.target.value),required:!0,className:"w-full px-4 py-2 border border-[#7a0026] rounded-md focus:outline-none focus:ring-2 focus:ring-[#FFD700]",autoComplete:"current-password"}),m.jsx("button",{type:"submit",className:"w-full bg-[#FFD700] text-[#7a0026] font-bold py-2 rounded-md hover:bg-yellow-400 transition",children:"INICIAR SESIÓN"})]}),m.jsx("div",{className:"my-4 text-[#7a0026] font-semibold",children:"o"}),m.jsx("button",{onClick:d,className:"w-full bg-blue-600 text-white font-bold py-2 rounded-md hover:bg-blue-700 transition",children:"INGRESA CON GOOGLE"}),m.jsxs("p",{className:"mt-4 text-sm text-[#7a0026]",children:["¿No tienes cuenta?"," ",m.jsx(Gn,{to:"/registro",className:"font-bold underline",children:"Crea una"})]})]})})}function XB(){const[e,t]=w.useState(""),[n,r]=w.useState(""),[i,s]=w.useState(""),[o,a]=w.useState(""),l=Ar(),c=(h,f)=>{const g=(h==null?void 0:h.charAt(0).toUpperCase())||"",y=(f==null?void 0:f.charAt(0).toUpperCase())||"";return`${g}${y}`},d=async h=>{h.preventDefault();try{const f=await HP(Ni,i,o),g=f.user.uid,y={nombre:e,apellido:n,correo:i,rol:"usuario",iniciales:c(e,n),foto:null};await ft(ie(se,`usuarios/${g}`),y),await R6(f.user),alert("¡Cuenta creada exitosamente! Se ha enviado un correo de verificación a tu dirección de email. Por favor, verifica tu correo para activar tu cuenta."),l("/login")}catch(f){console.error("Error al crear la cuenta:",f),f.code==="auth/email-already-in-use"?alert("Este correo electrónico ya está registrado. Por favor, intenta con otro o inicia sesión."):f.code==="auth/weak-password"?alert("La contraseña es demasiado débil. Debe tener al menos 6 caracteres."):alert("Error al crear la cuenta. Por favor, inténtalo de nuevo. Detalles: "+f.message)}};return m.jsx("div",{className:"min-h-screen bg-cover bg-center flex items-center justify-center",style:{backgroundImage:"url('/EmproChampions-2025/img/fondoempro-horizontal.png')"},children:m.jsxs("div",{className:"bg-white/90 rounded-2xl shadow-lg p-8 w-full max-w-md text-center",children:[m.jsx("img",{src:"/EmproChampions-2025/img/logo-empro.png",alt:"Logo Empro",className:"w-24 mx-auto mb-4"}),m.jsx("h1",{className:"text-3xl font-bold text-[#7a0026] mb-6",children:"Crear Cuenta"}),m.jsxs("form",{onSubmit:d,className:"space-y-4",children:[m.jsx("input",{type:"text",placeholder:"Nombre",value:e,onChange:h=>t(h.target.value),required:!0,className:"w-full px-4 py-2 border border-[#7a0026] rounded-md focus:outline-none focus:ring-2 focus:ring-[#FFD700]"}),m.jsx("input",{type:"text",placeholder:"Apellido",value:n,onChange:h=>r(h.target.value),required:!0,className:"w-full px-4 py-2 border border-[#7a0026] rounded-md focus:outline-none focus:ring-2 focus:ring-[#FFD700]"}),m.jsx("input",{type:"email",placeholder:"Correo",value:i,onChange:h=>s(h.target.value),required:!0,className:"w-full px-4 py-2 border border-[#7a0026] rounded-md focus:outline-none focus:ring-2 focus:ring-[#FFD700]"}),m.jsx("input",{type:"password",placeholder:"Contraseña (mín. 6 caracteres)",value:o,onChange:h=>a(h.target.value),required:!0,className:"w-full px-4 py-2 border border-[#7a0026] rounded-md focus:outline-none focus:ring-2 focus:ring-[#FFD700]"}),m.jsx("button",{type:"submit",className:"w-full bg-[#FFD700] text-[#7a0026] font-bold py-2 rounded-md hover:bg-yellow-400 transition",children:"Registrarme"})]}),m.jsxs("p",{className:"mt-4 text-sm text-[#7a0026]",children:["¿Ya tienes cuenta?"," ",m.jsx(Gn,{to:"/login",className:"font-bold underline",children:"Inicia sesión"})]})]})})}function kr(){const[e,t]=w.useState(!1),{user:n,rol:r,loading:i}=fo(),s=Pr();if(i||s.pathname==="/login"||s.pathname==="/registro")return null;const o=r==="admin"||r==="superadmin";return m.jsx("nav",{className:"bg-[#7a0026] text-white px-4 py-3 shadow-md sticky top-0 z-50",children:m.jsxs("div",{className:"max-w-6xl mx-auto flex justify-between items-center",children:[m.jsx(Gn,{to:"/",className:"text-2xl font-bold font-qatar",children:"🏆 Empro"}),m.jsx("button",{className:"md:hidden transition-transform",onClick:()=>t(!e),children:m.jsx("svg",{className:`w-7 h-7 transition-transform duration-300 ${e?"rotate-90":""}`,fill:"none",stroke:"currentColor",strokeWidth:2,viewBox:"0 0 24 24",children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:e?"M6 18L18 6M6 6l12 12":"M4 6h16M4 12h16M4 18h16"})})}),m.jsxs("ul",{className:`md:flex gap-6 text-lg font-bold absolute md:static top-16 left-0 w-full md:w-auto bg-[#7a0026] md:bg-transparent transition-all duration-300 ease-in-out ${e?"block":"hidden"}`,children:[m.jsx("li",{className:"p-3 md:p-0 text-center",children:m.jsx(Gn,{to:"/",className:"hover:text-yellow-400",onClick:()=>t(!1),children:"Tabla"})}),m.jsx("li",{className:"p-3 md:p-0 text-center",children:m.jsx(Gn,{to:"/goleadores",className:"hover:text-yellow-400",onClick:()=>t(!1),children:"Goleadores"})}),m.jsx("li",{className:"p-3 md:p-0 text-center",children:m.jsx(Gn,{to:"/historial",className:"hover:text-yellow-400",onClick:()=>t(!1),children:"Historial"})}),m.jsx("li",{className:"p-3 md:p-0 text-center",children:m.jsx(Gn,{to:"/calendario",className:"hover:text-yellow-400",onClick:()=>t(!1),children:"Calendario"})}),m.jsx("li",{className:"p-3 md:p-0 text-center",children:m.jsx(Gn,{to:"/configuracion",className:"hover:text-yellow-400",onClick:()=>t(!1),children:"Cuenta"})}),o&&m.jsx("li",{className:"p-3 md:p-0 text-center",children:m.jsx(Gn,{to:"/partido/configurar",className:"hover:text-yellow-400",onClick:()=>t(!1),children:"➕ Nuevo Partido"})})]})]})})}const Kb=["pillarh.png","municipalidad.png","mercaditoladespensa.png","Multibox.png","celtec.png","asopilar.png","mrecords.png","Pepsi_2023.svg","pipos.png"],JB=[...Kb,...Kb];function QB(){return m.jsx("div",{className:"w-full bg-gray-100 py-4 mt-8 overflow-hidden backdrop-blur-sm border-y border-yellow-400/20",children:m.jsx("div",{className:"animate-scroll flex items-center",children:JB.map((e,t)=>m.jsx("div",{className:"flex-shrink-0 mx-10",children:m.jsx("img",{src:`/EmproChampions-2025/img/sponsors/${e}`,alt:`Patrocinador ${t+1}`,className:"h-10 md:h-12 max-w-none"})},t))})})}function Ir(){const e=new Date().getFullYear(),t="https://www.facebook.com/elmer.hernandez.516479",n="https://www.instagram.com/hernandezsuarez_27/";return m.jsx("footer",{className:"bg-black/50 text-white font-qatar backdrop-blur-sm mt-auto border-t border-yellow-400/20",children:m.jsxs("div",{className:"mx-auto max-w-5xl px-4 pt-16 pb-8 sm:px-6 lg:px-8",children:[m.jsxs("div",{className:"mx-auto max-w-3xl text-center",children:[m.jsx("p",{className:"leading-relaxed text-gray-300",children:"Evento deportivo de las Comunidades del Centro Guia Santa Rosa de Lima con el objetivo de unir los lazos de amistad y fomentar los buenos valores inculcados en el movimiento."}),m.jsx("p",{className:"mt-6 text-lg italic text-yellow-400",children:'"Porque un verdadero Emproista es aquel que ve el trabajo no como una carga, sino como un privilegio"'})]}),m.jsxs("ul",{className:"mt-12 flex justify-center gap-6 md:gap-8",children:[m.jsx("li",{children:m.jsxs("a",{href:t,rel:"noreferrer",target:"_blank",className:"text-gray-400 transition hover:text-yellow-400","aria-label":"Facebook de Elmer Hernandez",children:[m.jsx("span",{className:"sr-only",children:"Facebook"}),m.jsx("svg",{className:"h-7 w-7",fill:"currentColor",viewBox:"0 0 24 24","aria-hidden":"true",children:m.jsx("path",{fillRule:"evenodd",d:"M22 12c0-5.523-4.477-10-10-10S2 6.477 2 12c0 4.991 3.657 9.128 8.438 9.878v-6.987h-2.54V12h2.54V9.797c0-2.506 1.492-3.89 3.777-3.89 1.094 0 2.238.195 2.238.195v2.46h-1.26c-1.243 0-1.63.771-1.63 1.562V12h2.773l-.443 2.89h-2.33v6.988C18.343 21.128 22 16.991 22 12z",clipRule:"evenodd"})})]})}),m.jsx("li",{children:m.jsxs("a",{href:n,rel:"noreferrer",target:"_blank",className:"text-gray-400 transition hover:text-yellow-400","aria-label":"Instagram de Elmer Hernandez",children:[m.jsx("span",{className:"sr-only",children:"Instagram"}),m.jsx("svg",{className:"h-7 w-7",fill:"currentColor",viewBox:"0 0 24 24","aria-hidden":"true",children:m.jsx("path",{fillRule:"evenodd",d:"M12.315 2c2.43 0 2.784.013 3.808.06 1.064.049 1.791.218 2.427.465a4.902 4.902 0 011.772 1.153 4.902 4.902 0 011.153 1.772c.247.636.416 1.363.465 2.427.048 1.067.06 1.407.06 4.123v.08c0 2.643-.012 2.987-.06 4.043-.049 1.064-.218 1.791-.465 2.427a4.902 4.902 0 01-1.153 1.772 4.902 4.902 0 01-1.772 1.153c-.636.247-1.363.416-2.427.465-1.067.048-1.407.06-4.123.06h-.08c-2.643 0-2.987-.012-4.043-.06-1.064-.049-1.791-.218-2.427-.465a4.902 4.902 0 01-1.772-1.153 4.902 4.902 0 01-1.153-1.772c-.247-.636-.416-1.363-.465-2.427-.047-1.024-.06-1.379-.06-3.808v-.63c0-2.43.013-2.784.06-3.808.049-1.064.218-1.791.465-2.427a4.902 4.902 0 011.153-1.772A4.902 4.902 0 015.45 2.525c.636-.247 1.363-.416 2.427-.465C8.901 2.013 9.256 2 11.685 2h.63zm-.081 1.802h-.468c-2.456 0-2.784.011-3.807.058-.975.045-1.504.207-1.857.344-.467.182-.8.398-1.15.748-.35.35-.566.683-.748 1.15-.137.353-.3.882-.344 1.857-.047 1.023-.058 1.351-.058 3.807v.468c0 2.456.011 2.784.058 3.807.045.975.207 1.504.344 1.857.182.466.399.8.748 1.15.35.35.683.566 1.15.748.353.137.882.3 1.857.344 1.054.048 1.37.058 4.041.058h.08c2.597 0 2.917-.01 3.96-.058.976-.045 1.505-.207 1.858-.344.466-.182.8-.398 1.15-.748.35-.35.566-.683.748-1.15.137-.353.3-.882.344-1.857.048-1.055.058-1.37.058-4.041v-.08c0-2.597-.01-2.917-.058-3.96-.045-.976-.207-1.505-.344-1.858a3.097 3.097 0 00-.748-1.15 3.098 3.098 0 00-1.15-.748c-.353-.137-.882-.3-1.857-.344-1.023-.047-1.351-.058-3.807-.058zM12 6.865a5.135 5.135 0 110 10.27 5.135 5.135 0 010-10.27zm0 1.802a3.333 3.333 0 100 6.666 3.333 3.333 0 000-6.666zm5.338-3.205a1.2 1.2 0 110 2.4 1.2 1.2 0 010-2.4z",clipRule:"evenodd"})})]})})]}),m.jsxs("div",{className:"mt-12 border-t border-yellow-400/20 pt-8 text-center",children:[m.jsxs("p",{className:"text-sm text-gray-400",children:["Copyright © ",e,". EmproChampions. Todos los derechos reservados."]}),m.jsxs("p",{className:"text-sm text-gray-400 mt-2",children:["Diseñado por ",m.jsx("a",{href:n,target:"_blank",rel:"noopener noreferrer",className:"text-yellow-400 hover:underline",children:"Elmer Hernandez"})]})]})]})})}function ZB(){const[e,t]=w.useState([]),[n,r]=w.useState([]),[i,s]=w.useState("masculino");w.useEffect(()=>{const a=(l,c)=>{const d=ie(se,`tablas/${l}`);Zr(d,h=>{const f=h.val();if(f){const g=Object.keys(f).map(y=>({nombre:y,...f[y]})).sort((y,S)=>S.puntos-y.puntos||S.gf-S.gc-(y.gf-y.gc));c(g)}})};a("masculino",t),a("femenino",r)},[]);const o=i==="masculino"?e:n;return m.jsxs("div",{className:"w-full min-h-screen bg-cover bg-center text-white font-qatar bg-main-background",children:[m.jsx(kr,{}),m.jsxs("div",{className:"container mx-auto px-4 py-8",children:[m.jsx("h1",{className:"text-5xl font-bold text-center text-yellow-400 drop-shadow-lg mb-6",children:"Tabla de Posiciones"}),m.jsxs("div",{className:"flex justify-center mb-8 bg-black/30 rounded-full p-1 max-w-sm mx-auto",children:[m.jsx("button",{onClick:()=>s("masculino"),className:`w-1/2 py-2 rounded-full font-bold transition-colors ${i==="masculino"?"bg-yellow-400 text-black":"hover:bg-white/10"}`,children:"Masculino"}),m.jsx("button",{onClick:()=>s("femenino"),className:`w-1/2 py-2 rounded-full font-bold transition-colors ${i==="femenino"?"bg-yellow-400 text-black":"hover:bg-white/10"}`,children:"Femenino"})]}),m.jsxs("div",{className:"bg-black/50 backdrop-blur-sm rounded-xl overflow-hidden shadow-2xl",children:[m.jsxs("div",{className:"grid grid-cols-10 md:grid-cols-12 text-center font-bold text-yellow-400 p-4 border-b border-yellow-400/20",children:[m.jsx("div",{className:"col-span-4 md:col-span-5 text-left pl-3",children:"Club"}),m.jsx("div",{className:"hidden md:block",children:"PJ"}),m.jsx("div",{className:"hidden md:block",children:"PG"}),m.jsx("div",{className:"hidden md:block",children:"PE"}),m.jsx("div",{className:"hidden md:block",children:"PP"}),m.jsx("div",{className:"col-span-2 md:col-span-1",children:"GF"}),m.jsx("div",{className:"col-span-2 md:col-span-1",children:"GC"}),m.jsx("div",{className:"col-span-2 md:col-span-1",children:"Pts"})]}),m.jsx("div",{children:o.map((a,l)=>m.jsxs("div",{className:"grid grid-cols-10 md:grid-cols-12 items-center text-center p-3 border-b border-gray-700/50 hover:bg-white/5 transition-colors",children:[m.jsxs("div",{className:"col-span-4 md:col-span-5 flex items-center gap-3 text-left",children:[m.jsx("span",{className:"font-bold text-lg w-6 text-center text-gray-400",children:l+1}),m.jsx("img",{src:`/EmproChampions-2025/img/escudos/${a.logo}`,alt:a.nombre,className:"w-8 h-8 md:w-10 md:h-10 object-contain"}),m.jsx("span",{className:"font-bold text-base md:text-lg",children:a.nombre})]}),m.jsx("div",{className:"hidden md:block",children:a.pj}),m.jsx("div",{className:"hidden md:block",children:a.pg}),m.jsx("div",{className:"hidden md:block",children:a.pe}),m.jsx("div",{className:"hidden md:block",children:a.pp}),m.jsx("div",{className:"col-span-2 md:col-span-1",children:a.gf}),m.jsx("div",{className:"col-span-2 md:col-span-1",children:a.gc}),m.jsx("div",{className:"col-span-2 md:col-span-1 font-extrabold text-lg",children:a.puntos})]},a.nombre))})]})]}),m.jsx(QB,{}),m.jsx(Ir,{})]})}function e8({equipo:e,jugadores:t,minuto:n,onSeleccion:r,onClose:i}){const[s,o]=w.useState(""),a=()=>{s&&r({nombre:s,minuto:n})};return m.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-70 flex justify-center items-center z-50",children:m.jsxs("div",{className:"bg-white text-black p-6 rounded-lg w-full max-w-md space-y-4",children:[m.jsx("h2",{className:"text-2xl font-bold text-center",children:"Registrar Gol"}),m.jsxs("div",{children:[m.jsx("label",{className:"block font-semibold mb-1",children:"¿Quién anotó?"}),m.jsxs("select",{value:s,onChange:l=>o(l.target.value),className:"w-full border border-gray-300 rounded px-4 py-2",children:[m.jsx("option",{value:"",children:"Seleccionar jugador"}),t.map((l,c)=>m.jsx("option",{value:l.nombre,children:l.nombre},c))]})]}),m.jsxs("div",{className:"flex justify-end gap-4",children:[m.jsx("button",{onClick:i,className:"bg-gray-300 px-4 py-2 rounded font-bold",children:"Cancelar"}),m.jsx("button",{onClick:a,className:"bg-green-500 text-white px-4 py-2 rounded font-bold",children:"Confirmar"})]})]})})}function t8({equipo:e,jugadores:t,minuto:n,onConfirm:r,onClose:i}){const[s,o]=w.useState(""),[a,l]=w.useState(""),c=()=>{!s||!a||r({jugador:s,tipo:a,minuto:n})};return m.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-70 flex justify-center items-center z-50",children:m.jsxs("div",{className:"bg-white text-black p-6 rounded-lg w-full max-w-md space-y-4",children:[m.jsx("h2",{className:"text-2xl font-bold text-center",children:"Registrar Tarjeta"}),m.jsxs("div",{children:[m.jsx("label",{className:"block font-semibold mb-1",children:"Jugador"}),m.jsxs("select",{value:s,onChange:d=>o(d.target.value),className:"w-full border border-gray-300 rounded px-4 py-2",children:[m.jsx("option",{value:"",children:"Seleccionar jugador"}),t.map((d,h)=>m.jsx("option",{value:d.nombre,children:d.nombre},h))]})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block font-semibold mb-1",children:"Tipo de tarjeta"}),m.jsxs("div",{className:"flex gap-4",children:[m.jsxs("label",{className:"flex items-center",children:[m.jsx("input",{type:"radio",value:"amarilla",checked:a==="amarilla",onChange:()=>l("amarilla")}),m.jsx("span",{className:"ml-2",children:"🟨 Amarilla"})]}),m.jsxs("label",{className:"flex items-center",children:[m.jsx("input",{type:"radio",value:"roja",checked:a==="roja",onChange:()=>l("roja")}),m.jsx("span",{className:"ml-2",children:"🟥 Roja"})]})]})]}),m.jsxs("div",{className:"flex justify-end gap-4",children:[m.jsx("button",{onClick:i,className:"bg-gray-300 px-4 py-2 rounded font-bold",children:"Cancelar"}),m.jsx("button",{onClick:c,className:"bg-yellow-500 px-4 py-2 rounded font-bold",children:"Confirmar"})]})]})})}function n8({equipo:e,jugadores:t,minuto:n,onConfirm:r,onClose:i}){const[s,o]=w.useState(""),[a,l]=w.useState(""),c=()=>{!s||!a.trim()||r(s,a.trim(),n)};return m.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-70 flex justify-center items-center z-50",children:m.jsxs("div",{className:"bg-white text-black p-6 rounded-lg w-full max-w-md space-y-4",children:[m.jsx("h2",{className:"text-2xl font-bold text-center",children:"Realizar Cambio"}),m.jsxs("div",{children:[m.jsx("label",{className:"block font-semibold mb-1",children:"Titular que sale"}),m.jsxs("select",{value:s,onChange:d=>o(d.target.value),className:"w-full border border-gray-300 rounded px-4 py-2",children:[m.jsx("option",{value:"",children:"Seleccionar"}),t.map((d,h)=>m.jsx("option",{value:d.nombre,children:d.nombre},h))]})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block font-semibold mb-1",children:"Suplente que entra"}),m.jsx("input",{type:"text",placeholder:"Escribí el nombre",value:a,onChange:d=>l(d.target.value),className:"w-full border border-gray-300 rounded px-4 py-2"})]}),m.jsxs("div",{className:"flex justify-end gap-4",children:[m.jsx("button",{onClick:i,className:"bg-gray-300 px-4 py-2 rounded font-bold",children:"Cancelar"}),m.jsx("button",{onClick:c,className:"bg-blue-500 text-white px-4 py-2 rounded font-bold",children:"Confirmar Cambio"})]})]})})}function r8({equipoGanador:e,equipo1:t,equipo2:n,onClose:r}){const[i,s]=w.useState(null),o=((t==null?void 0:t.jugadores)||[]).filter(h=>h.haJugado),a=((n==null?void 0:n.jugadores)||[]).filter(h=>h.haJugado),l=h=>{s(h)},c=()=>{r(i||null)},d=({jugador:h})=>m.jsxs("div",{onClick:()=>l(h),className:`p-3 rounded-lg cursor-pointer transition-all duration-200 text-center ${(i==null?void 0:i.nombre)===h.nombre?"bg-yellow-400 text-black scale-105 ring-2 ring-white":"bg-gray-700 text-white hover:bg-gray-600"}`,children:[m.jsx("span",{className:"font-bold text-base",children:h.nombre}),m.jsxs("span",{className:"block text-sm opacity-80 mt-1",children:["#",h.dorsal]})]},h.nombre);return m.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-70 flex justify-center items-center z-50 p-4 font-qatar",children:m.jsxs("div",{className:"bg-gray-800 rounded-2xl shadow-xl w-full max-w-2xl p-6 border border-yellow-400/30",children:[m.jsxs("div",{className:"text-center",children:[e.nombre!=="Empate"?m.jsx("img",{src:`/EmproChampions-2025/img/escudos/${e.logo}`,alt:e.nombre,className:"w-28 h-28 mx-auto mb-4 object-contain"}):m.jsx("div",{className:"w-28 h-28 mx-auto mb-4 flex items-center justify-center bg-gray-700 rounded-full",children:m.jsx("span",{className:"text-5xl",role:"img","aria-label":"empate",children:"🤝"})}),m.jsx("h2",{className:"text-4xl font-extrabold text-yellow-400",children:"¡Partido Finalizado!"}),m.jsx("p",{className:"text-white mt-2 text-xl",children:e.nombre!=="Empate"?`Ganador: ${e.nombre}`:"El partido terminó en empate"}),m.jsx("p",{className:"text-white mt-5 font-bold text-2xl",children:"Selecciona al MVP del partido"})]}),m.jsxs("div",{className:"my-6 flex flex-row gap-4 md:gap-6",children:[m.jsxs("div",{className:"w-1/2",children:[m.jsx("h3",{className:"text-center font-bold text-white mb-4 text-xl",children:t.nombre}),m.jsx("div",{className:"max-h-[35vh] overflow-y-auto grid grid-cols-1 md:grid-cols-2 gap-3 pr-2",children:o.map(h=>m.jsx(d,{jugador:h},h.nombre))})]}),m.jsx("div",{className:"w-px bg-gray-600/50"}),m.jsxs("div",{className:"w-1/2",children:[m.jsx("h3",{className:"text-center font-bold text-white mb-4 text-xl",children:n.nombre}),m.jsx("div",{className:"max-h-[35vh] overflow-y-auto grid grid-cols-1 md:grid-cols-2 gap-3 pr-2",children:a.map(h=>m.jsx(d,{jugador:h},h.nombre))})]})]}),m.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 pt-4 border-t border-gray-600/50",children:[m.jsx("button",{onClick:()=>r(null),className:"w-full bg-gray-600 hover:bg-gray-500 text-white font-bold py-3 px-4 rounded-lg transition-colors text-lg",children:"Cancelar"}),m.jsx("button",{onClick:c,disabled:!i,className:"w-full bg-green-600 hover:bg-green-500 text-white font-bold py-3 px-4 rounded-lg transition-colors disabled:bg-gray-500 disabled:cursor-not-allowed text-lg",children:"Confirmar MVP y Guardar"})]})]})})}function OA({mensaje:e,tipo:t="info"}){const n={info:"bg-blue-600 text-white",gol:"bg-green-500 text-white",tarjeta:"bg-yellow-400 text-black",roja:"bg-red-600 text-white",success:"bg-emerald-500 text-white"};return m.jsx("div",{className:"fixed bottom-6 left-1/2 -translate-x-1/2 z-[9999]",children:m.jsx("div",{className:`px-6 py-3 rounded-full shadow-lg animate-fade-in-out transition duration-500 ${n[t]||n.info}`,children:m.jsx("p",{className:"text-sm font-bold",children:e})})})}function i8(){const[e,t]=w.useState(0),[n,r]=w.useState(!1),i=w.useRef(null),s=()=>{n||(r(!0),i.current=setInterval(()=>{t(l=>l+1)},1e3))},o=()=>{r(!1),clearInterval(i.current)},a=()=>{t(0),o()};return w.useEffect(()=>()=>clearInterval(i.current),[]),{tiempo:e,enMarcha:n,iniciar:s,pausar:o,reiniciar:a}}const s8=({equipo1:e,equipo2:t,goles:n,minuto:r})=>m.jsx("div",{className:"bg-gray-900 bg-opacity-60 backdrop-blur-sm rounded-xl p-4 shadow-lg text-white font-qatar",children:m.jsxs("div",{className:"flex justify-between items-center",children:[m.jsxs("div",{className:"flex flex-col items-center w-1/3 text-center",children:[m.jsx("img",{src:`/EmproChampions-2025/img/escudos/${e.logo}`,alt:e.nombre,className:"h-16 w-16 md:h-24 md:w-24 object-contain"}),m.jsx("span",{className:"mt-2 text-sm md:text-lg font-bold",children:e.nombre})]}),m.jsxs("div",{className:"flex flex-col items-center w-1/3 text-center",children:[m.jsxs("div",{className:"text-4xl md:text-6xl font-black tracking-wider",children:[m.jsx("span",{children:n.equipo1}),m.jsx("span",{className:"mx-2 text-yellow-400",children:"-"}),m.jsx("span",{children:n.equipo2})]}),m.jsx("div",{className:"text-lg md:text-2xl mt-2 font-semibold bg-black/50 px-3 py-1 rounded-md",children:r})]}),m.jsxs("div",{className:"flex flex-col items-center w-1/3 text-center",children:[m.jsx("img",{src:`/EmproChampions-2025/img/escudos/${t.logo}`,alt:t.nombre,className:"h-16 w-16 md:h-24 md:w-24 object-contain"}),m.jsx("span",{className:"mt-2 text-sm md:text-lg font-bold",children:t.nombre})]})]})}),o8=e=>{const t="/EmproChampions-2025/";let n="";return e.tipo.includes("gol")?n="pelota.svg":e.tipo.includes("amarilla")?n="amarilla.svg":e.tipo.includes("roja")?n="roja.svg":e.tipo.includes("cambio")&&(n="cambio.svg"),n?`${t}img/${n}`:null},a8=({eventos:e})=>!e||e.length===0?m.jsx("div",{className:"text-center text-white text-opacity-70 mt-8 py-10",children:"El partido está por comenzar."}):m.jsxs("div",{className:"relative mt-8 py-5 font-barcelona",children:[m.jsx("div",{className:"absolute top-0 left-1/2 w-0.5 h-full bg-gray-500/30"}),e.map((t,n)=>{const r=t.equipo==="equipo1",i=o8(t),s=()=>m.jsxs("div",{className:`flex items-center gap-3 w-full ${r?"flex-row-reverse":"flex-row"}`,children:[m.jsx("span",{className:"font-bold text-sm text-white truncate max-w-[150px] md:max-w-xs",children:t.jugador||`${t.titular} ➜ ${t.suplente}`}),i&&m.jsx("img",{src:i,alt:t.tipo,className:"w-5 h-5"})]});return m.jsxs("div",{className:"relative flex items-center justify-center my-6 h-6",children:[m.jsx("div",{className:"w-1/2 pr-8 flex justify-end",children:r&&m.jsx(s,{})}),m.jsx("div",{className:"absolute z-10 bg-[#1a1d23] px-1.5 py-0.5 rounded-full border border-gray-600/50",children:m.jsxs("span",{className:"text-yellow-400 font-bold text-xs",children:[t.minuto,"'"]})}),m.jsx("div",{className:"w-1/2 pl-8 flex justify-start",children:!r&&m.jsx(s,{})})]},t.id||n)})]});function l8(){const{partidoId:e}=kI(),t=Ar(),[n,r]=w.useState(null),[i,s]=w.useState(null),[o,a]=w.useState({equipo1:0,equipo2:0}),[l,c]=w.useState([]),[d,h]=w.useState([]),[f,g]=w.useState([]),[y,S]=w.useState([]),[k,x]=w.useState(null),[C,E]=w.useState(null),[I,D]=w.useState(null),[M,T]=w.useState(!1),[b,P]=w.useState(null),[v,R]=w.useState(!1),O=i8();w.useEffect(()=>{if(!e)return;const J={alineacion:ie(se,`partidos/${e}/alineacion`),marcador:ie(se,`partidos/${e}/marcador`),eventos:ie(se,`partidos/${e}/eventos`)},oe=[Zr(J.alineacion,fe=>{fe.exists()&&(r(fe.val().equipo1),s(fe.val().equipo2))}),Zr(J.marcador,fe=>{fe.exists()&&a(fe.val())}),Zr(J.eventos,fe=>{if(!fe.exists()){S([]);return}const re=fe.val(),je=[],Fe=[],We=[],gt=[];for(const ae in re.goles)Fe.push({...re.goles[ae],id:ae}),je.push({...re.goles[ae],id:ae});for(const ae in re.tarjetas)We.push({...re.tarjetas[ae],id:ae}),je.push({...re.tarjetas[ae],id:ae});for(const ae in re.cambios)gt.push({...re.cambios[ae],id:ae}),je.push({...re.cambios[ae],id:ae});c(Fe),h(We),g(gt),je.sort((ae,Mr)=>{if(!ae.minuto||!Mr.minuto)return 0;const[mo,Un]=ae.minuto.split(":").map(Number),[go,lt]=Mr.minuto.split(":").map(Number);return mo*60+Un-(go*60+lt)}),S(je)})];return()=>{Object.keys(J).forEach((fe,re)=>{oe[re]&&Wc(J[fe],"value",oe[re])})}},[e]);const N=(J,oe="info")=>{P({mensaje:J,tipo:oe}),setTimeout(()=>P(null),4e3)},V=()=>{const J=String(Math.floor(O.tiempo/60)).padStart(2,"0"),oe=String(O.tiempo%60).padStart(2,"0");return`${J}:${oe}`},z=J=>{if(!O.enMarcha){N("El cronómetro debe estar en marcha","error");return}O.pausar(),x(J)},Y=J=>E(J),G=J=>D(J),$=async J=>{const oe=k,fe=ie(se,`partidos/${e}/marcador`),re={...o,[oe]:(o[oe]||0)+1};await ft(fe,re);const je=ie(se,`partidos/${e}/eventos/goles`);await Xd(je,{tipo:"gol",equipo:oe,jugador:J.nombre,minuto:V()}),x(null),O.iniciar(),N("¡Gol registrado!","success")},K=async({jugador:J,tipo:oe,minuto:fe})=>{const re=C,je=ie(se,`partidos/${e}/eventos/tarjetas`);await Xd(je,{tipo:oe,equipo:re,jugador:J,minuto:fe}),E(null),N(`Tarjeta ${oe} a ${J} (${fe})`,oe==="roja"?"roja":"tarjeta")},X=async(J,oe,fe)=>{const re=I;let je=re==="equipo1"?n:i,Fe=je.jugadores.map(ae=>ae.nombre===J?{...ae,enJuego:!1,haJugado:!0}:ae),We=je.todosJugadores.find(ae=>ae.nombre===oe)||{nombre:oe,dorsal:"?",enJuego:!0,haJugado:!0};We={...We,enJuego:!0,haJugado:!0},Fe.some(ae=>ae.nombre===We.nombre)?Fe=Fe.map(ae=>ae.nombre===We.nombre?{...ae,enJuego:!0,haJugado:!0}:ae):Fe.push(We),await ft(ie(se,`partidos/${e}/alineacion/${re}/jugadores`),Fe),re==="equipo1"?r({...n,jugadores:Fe}):s({...i,jugadores:Fe});const gt=ie(se,`partidos/${e}/eventos/cambios`);await Xd(gt,{tipo:"cambio",equipo:re,titular:J,suplente:oe,minuto:fe}),D(null),N(`Cambio: sale ${J}, entra ${oe} (${fe})`,"info")},le=()=>{O.pausar(),T(!0),N("Partido finalizado. Selecciona el MVP","success")},ne=async J=>{var oe;if(v){console.log("Guardado ya en progreso. Evitando doble ejecución.");return}if(R(!0),!J){console.log("Guardado cancelado porque no se seleccionó MVP."),T(!1),R(!1);return}console.log("Iniciando guardado final del partido...");try{const re=((oe=(await Nn(ie(se,`partidos/${e}/alineacion`))).val())==null?void 0:oe.genero)||"masculino",je={marcador:o,mvp:J,terminado:!0,timestamp:Date.now()};await ft(ie(se,`partidos/${e}/resultado`),je),console.log("Paso 1/4: Resultado del partido guardado.");const Fe=ie(se,`tablas/${re}`),gt=(await Nn(Fe)).val()||{},ae=(lt,vi,Xa,Yt)=>{if(!lt||!lt.nombre)return;const dn=gt[lt.nombre]||{pj:0,pg:0,pe:0,pp:0,gf:0,gc:0,puntos:0,logo:lt.logo};dn.pj++,dn.gf+=vi,dn.gc+=Xa,Yt==="victoria"?(dn.pg++,dn.puntos+=3):Yt==="empate"?(dn.pe++,dn.puntos+=1):dn.pp++,gt[lt.nombre]=dn};o.equipo1>o.equipo2?(ae(n,o.equipo1,o.equipo2,"victoria"),ae(i,o.equipo2,o.equipo1,"derrota")):o.equipo2>o.equipo1?(ae(n,o.equipo1,o.equipo2,"derrota"),ae(i,o.equipo2,o.equipo1,"victoria")):(ae(n,o.equipo1,o.equipo2,"empate"),ae(i,o.equipo2,o.equipo1,"empate")),await ft(Fe,gt),console.log("Paso 2/4: Tabla de posiciones actualizada.");const Mr=ie(se,`goleadoresDetalles/${re}`),Un=(await Nn(Mr)).val()||{};for(const lt of l){if(!lt.jugador)continue;const vi=lt.jugador.replace(/[.#$[\]]/g,"_");if(Un[vi]||(Un[vi]=[]),!Un[vi].some(Yt=>Yt.idDelGol===lt.id)){const Yt=lt.equipo==="equipo1"?n:i;Un[vi].push({idDelGol:lt.id,minuto:lt.minuto,partidoId:e,partidoNombre:`${(n==null?void 0:n.nombre)||"Equipo 1"} vs ${(i==null?void 0:i.nombre)||"Equipo 2"}`,fecha:new Date().toLocaleDateString("es-HN"),equipo:(Yt==null?void 0:Yt.nombre)||"",logo:(Yt==null?void 0:Yt.logo)||"",jugador:lt.jugador})}}await ft(Mr,Un),console.log("Paso 3/4: Detalles de goleadores actualizados.");const go=ie(se,`historial/${re}/${e}`);await ft(go,{fecha:new Date().toLocaleDateString("es-HN"),equipo1:(n==null?void 0:n.nombre)||"Equipo 1",equipo2:(i==null?void 0:i.nombre)||"Equipo 2",logo1:(n==null?void 0:n.logo)||"",logo2:(i==null?void 0:i.logo)||"",goles1:o.equipo1,goles2:o.equipo2,mvp:(J==null?void 0:J.nombre)||"No definido"}),console.log("Paso 4/4: Historial de partidos actualizado."),T(!1),N("Partido guardado correctamente","success"),console.log("¡Éxito! Redirigiendo..."),setTimeout(()=>t("/"),1500)}catch(fe){console.error("ERROR AL GUARDAR EL PARTIDO:",fe),N("Error al guardar. Revisa la consola.","error"),R(!1)}},H=()=>o.equipo1>o.equipo2?n:o.equipo2>o.equipo1?i:{nombre:"Empate",logo:"logo-empro.png"};return!n||!i?m.jsxs("div",{className:"w-full min-h-screen bg-cover bg-center text-white flex flex-col bg-main-background",children:[m.jsx(kr,{}),m.jsx("div",{className:"flex-grow flex items-center justify-center text-center p-4",children:m.jsx("div",{children:m.jsx("h2",{className:"text-3xl font-bold",children:"Cargando datos del partido..."})})}),m.jsx(Ir,{})]}):m.jsxs("div",{className:"w-full min-h-screen bg-cover bg-center text-white font-qatar px-2 md:px-8 py-4 bg-main-background flex flex-col",children:[m.jsx(kr,{}),m.jsxs("div",{className:"container mx-auto flex-grow",children:[m.jsx(s8,{equipo1:n,equipo2:i,goles:o,minuto:V()}),m.jsxs("div",{className:"flex justify-center gap-4 my-6",children:[m.jsx("button",{onClick:O.iniciar,disabled:O.enMarcha,className:"bg-green-500 hover:bg-green-600 text-white font-bold py-2 px-4 rounded disabled:bg-gray-500",children:"▶️ Iniciar"}),m.jsx("button",{onClick:O.pausar,disabled:!O.enMarcha,className:"bg-yellow-500 hover:bg-yellow-600 text-white font-bold py-2 px-4 rounded disabled:bg-gray-500",children:"⏸️ Pausar"}),m.jsx("button",{onClick:O.reiniciar,className:"bg-red-500 hover:bg-red-600 text-white font-bold py-2 px-4 rounded",children:"🔁 Reiniciar"})]}),m.jsxs("div",{className:"bg-black/40 backdrop-blur-sm p-4 rounded-lg flex flex-wrap justify-center gap-x-6 gap-y-3 shadow-lg",children:[m.jsxs("button",{onClick:()=>z("equipo1"),className:"text-white font-semibold hover:text-green-400 transition-colors",children:["Gol ",n.nombre]}),m.jsxs("button",{onClick:()=>Y("equipo1"),className:"text-white font-semibold hover:text-yellow-400 transition-colors",children:["Tarjeta ",n.nombre]}),m.jsxs("button",{onClick:()=>G("equipo1"),className:"text-white font-semibold hover:text-blue-400 transition-colors",children:["Cambio ",n.nombre]}),m.jsx("div",{className:"w-full md:w-auto h-px md:h-auto md:w-px bg-white/20"}),m.jsxs("button",{onClick:()=>z("equipo2"),className:"text-white font-semibold hover:text-green-400 transition-colors",children:["Gol ",i.nombre]}),m.jsxs("button",{onClick:()=>Y("equipo2"),className:"text-white font-semibold hover:text-yellow-400 transition-colors",children:["Tarjeta ",i.nombre]}),m.jsxs("button",{onClick:()=>G("equipo2"),className:"text-white font-semibold hover:text-blue-400 transition-colors",children:["Cambio ",i.nombre]})]}),m.jsx(a8,{eventos:y}),m.jsx("div",{className:"text-center mt-12",children:m.jsx("button",{onClick:le,className:"bg-yellow-500 hover:bg-yellow-600 text-black font-extrabold text-2xl px-12 py-4 rounded-full shadow-xl",children:"Finalizar Partido"})})]}),k&&m.jsx(e8,{equipo:k,jugadores:(k==="equipo1"?n.jugadores:i.jugadores).filter(J=>J.enJuego!==!1),minuto:V(),onSeleccion:$,onClose:()=>{x(null),O.iniciar()}}),C&&m.jsx(t8,{equipo:C,jugadores:(C==="equipo1"?n.jugadores:i.jugadores).filter(J=>J.enJuego!==!1),minuto:V(),onConfirm:K,onClose:()=>E(null)}),I&&m.jsx(n8,{equipo:I,jugadores:I==="equipo1"?n.todosJugadores:i.todosJugadores,minuto:V(),onConfirm:X,onClose:()=>D(null)}),M&&m.jsx(r8,{equipoGanador:H(),equipo1:n,equipo2:i,onClose:ne}),b&&m.jsx(OA,{mensaje:b.mensaje,tipo:b.tipo}),m.jsx(Ir,{})]})}function c8(){const[e,t]=w.useState([]),[n,r]=w.useState("masculino"),[i,s]=w.useState(null);w.useEffect(()=>{const a=ie(se,`goleadores/${n}`);Zr(a,l=>{const c=l.val();if(c){const d=Object.values(c).sort((h,f)=>f.goles-h.goles);t(d)}else t([])})},[n]);const o=a=>{s(i===a?null:a)};return m.jsxs("div",{className:"w-full min-h-screen bg-cover bg-center text-white font-qatar bg-main-background flex flex-col",children:[m.jsx(kr,{}),m.jsxs("div",{className:"container mx-auto px-4 py-8 flex-grow",children:[m.jsx("h1",{className:"text-5xl font-bold text-center text-yellow-400 drop-shadow-lg mb-6",children:"Tabla de Goleadores"}),m.jsxs("div",{className:"flex justify-center mb-8 bg-black/30 rounded-full p-1 max-w-sm mx-auto",children:[m.jsx("button",{onClick:()=>r("masculino"),className:`w-1/2 py-2 rounded-full font-bold transition-colors ${n==="masculino"?"bg-yellow-400 text-black":"hover:bg-white/10"}`,children:"Masculino"}),m.jsx("button",{onClick:()=>r("femenino"),className:`w-1/2 py-2 rounded-full font-bold transition-colors ${n==="femenino"?"bg-yellow-400 text-black":"hover:bg-white/10"}`,children:"Femenino"})]}),m.jsx("div",{className:"space-y-4 max-w-4xl mx-auto",children:e.map((a,l)=>m.jsxs("div",{className:"bg-black/50 backdrop-blur-sm rounded-xl shadow-lg p-4 transition-all duration-300",children:[m.jsxs("div",{className:"flex items-center gap-4",children:[m.jsx("span",{className:"text-3xl font-bold text-yellow-400 w-8 text-center",children:l+1}),m.jsx("img",{src:`/EmproChampions-2025/img/escudos/${a.logo}`,alt:a.equipo,className:"w-12 h-12 object-contain"}),m.jsxs("div",{className:"flex-grow",children:[m.jsx("h2",{className:"text-2xl font-bold",children:a.nombre}),m.jsx("p",{className:"text-sm opacity-80",children:a.equipo})]}),m.jsxs("div",{className:"text-right flex items-center gap-4",children:[m.jsxs("div",{children:[m.jsx("p",{className:"text-4xl font-extrabold",children:a.goles}),m.jsx("p",{className:"text-sm opacity-80 -mt-1",children:"Goles"})]}),m.jsx("button",{onClick:()=>o(a.nombre),className:"bg-yellow-400 text-black font-bold h-10 px-4 rounded-lg text-sm transition hover:bg-yellow-300",children:"Detalles"})]})]}),i===a.nombre&&m.jsxs("div",{className:"pl-14 mt-4 border-t border-white/10 pt-3",children:[m.jsx("h4",{className:"font-bold text-yellow-300 mb-2 text-sm",children:"DETALLE DE GOLES:"}),a.detalles&&a.detalles.length>0?a.detalles.map((c,d)=>{var h;return m.jsxs("div",{className:"flex items-center gap-2 text-sm opacity-90 mt-1",children:[m.jsx("span",{children:"⚽"}),m.jsxs("span",{children:["vs ",(h=c.partidoNombre)==null?void 0:h.replace(a.equipo,"").replace("vs","").trim()]}),m.jsxs("span",{className:"ml-auto font-mono bg-white/10 px-2 rounded",children:[c.minuto,"'"]})]},d)}):m.jsx("p",{className:"text-sm opacity-70",children:"No hay detalles de goles disponibles."})]})]},a.nombre))})]}),m.jsx(Ir,{})]})}const u8=({partidoId:e,onClose:t})=>{var s,o,a,l,c,d,h,f,g;const[n,r]=w.useState(null);if(w.useEffect(()=>{const y=ie(se,`partidos/${e}`);Nn(y).then(S=>{var k,x,C,E;if(S.exists()){const I=S.val(),D={marcador:(k=I.resultado)==null?void 0:k.marcador,mvp:(x=I.resultado)==null?void 0:x.mvp,equipo1:(C=I.alineacion)==null?void 0:C.equipo1,equipo2:(E=I.alineacion)==null?void 0:E.equipo2,eventos:I.eventos||{}};r(D)}})},[e]),!n)return m.jsx("div",{className:"fixed inset-0 bg-black/70 flex items-center justify-center z-50",children:m.jsx("p",{className:"text-white text-xl",children:"Cargando detalles..."})});const i=[];return n.eventos.goles&&Object.values(n.eventos.goles).forEach(y=>i.push({...y,tipoVisual:"⚽ Gol"})),i.sort((y,S)=>(y.minuto||"00:00").localeCompare(S.minuto||"00:00")),m.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-80 flex justify-center items-center z-50 p-4 font-qatar",onClick:t,children:m.jsxs("div",{className:"bg-gray-800 rounded-xl w-full max-w-md p-6",onClick:y=>y.stopPropagation(),children:[m.jsx("h2",{className:"text-2xl font-bold text-yellow-400 text-center mb-4",children:"Detalles del Partido"}),m.jsxs("div",{className:"flex justify-between items-center mb-4",children:[m.jsxs("div",{className:"flex items-center gap-2 text-lg font-bold w-2/5",children:[m.jsx("img",{src:`/EmproChampions-2025/img/escudos/${(s=n.equipo1)==null?void 0:s.logo}`,className:"w-8 h-8 object-contain",alt:(o=n.equipo1)==null?void 0:o.nombre}),m.jsx("span",{children:(a=n.equipo1)==null?void 0:a.nombre})]}),m.jsxs("span",{className:"font-bold text-2xl",children:[(l=n.marcador)==null?void 0:l.equipo1," - ",(c=n.marcador)==null?void 0:c.equipo2]}),m.jsxs("div",{className:"flex items-center justify-end gap-2 text-lg font-bold w-2/5",children:[m.jsx("span",{className:"text-right",children:(d=n.equipo2)==null?void 0:d.nombre}),m.jsx("img",{src:`/EmproChampions-2025/img/escudos/${(h=n.equipo2)==null?void 0:h.logo}`,className:"w-8 h-8 object-contain",alt:(f=n.equipo2)==null?void 0:f.nombre})]})]}),((g=n.mvp)==null?void 0:g.nombre)&&m.jsxs("p",{className:"text-center mb-4 text-sm",children:["MVP: ",m.jsx("span",{className:"font-bold text-yellow-300",children:n.mvp.nombre})]}),m.jsx("div",{className:"max-h-64 overflow-y-auto space-y-2 border-t border-white/10 pt-3",children:i.map((y,S)=>m.jsxs("div",{className:"flex items-center text-sm p-2 bg-white/5 rounded",children:[m.jsxs("span",{className:"font-mono w-12",children:[y.minuto,"'"]}),m.jsx("span",{className:"w-24",children:y.tipoVisual}),m.jsx("span",{className:"font-bold flex-grow",children:y.jugador})]},S))}),m.jsx("button",{onClick:t,className:"w-full mt-6 bg-yellow-400 text-black font-bold py-2 rounded-lg",children:"Cerrar"})]})})};function d8(){const{user:e}=fo(),t=Ar(),[n,r]=w.useState([]),[i,s]=w.useState("masculino"),[o,a]=w.useState(null);return w.useEffect(()=>{const l=ie(se,`historial/${i}`),c=Zr(l,d=>{if(d.exists()){const h=Object.entries(d.val()).map(([f,g])=>({id:f,...g})).reverse();r(h)}else r([])});return()=>{Wc(l,"value",c)}},[i]),m.jsxs("div",{className:"w-full min-h-screen bg-cover bg-center text-white font-qatar bg-main-background",children:[m.jsx(kr,{}),m.jsxs("div",{className:"container mx-auto px-4 py-8",children:[m.jsx("h1",{className:"text-5xl font-bold text-center text-yellow-400 drop-shadow-lg mb-6",children:"Historial de Partidos"}),m.jsxs("div",{className:"flex justify-center mb-8 bg-black/30 rounded-full p-1 max-w-sm mx-auto",children:[m.jsx("button",{onClick:()=>s("masculino"),className:`w-1/2 py-2 rounded-full font-bold transition-colors ${i==="masculino"?"bg-yellow-400 text-black":"hover:bg-white/10"}`,children:"Masculino"}),m.jsx("button",{onClick:()=>s("femenino"),className:`w-1/2 py-2 rounded-full font-bold transition-colors ${i==="femenino"?"bg-yellow-400 text-black":"hover:bg-white/10"}`,children:"Femenino"})]}),m.jsx("div",{className:"space-y-4 max-w-4xl mx-auto",children:n.map(l=>m.jsx("div",{className:"bg-black/50 backdrop-blur-sm rounded-xl shadow-lg p-4",children:m.jsxs("div",{className:"flex items-center w-full",children:[m.jsxs("div",{className:"flex-grow space-y-2",children:[m.jsxs("div",{className:"flex items-center gap-3",children:[m.jsx("img",{src:`/EmproChampions-2025/img/escudos/${l.logo1}`,className:"w-8 h-8 object-contain",alt:l.equipo1}),m.jsx("span",{children:l.equipo1})]}),m.jsxs("div",{className:"flex items-center gap-3",children:[m.jsx("img",{src:`/EmproChampions-2025/img/escudos/${l.logo2}`,className:"w-8 h-8 object-contain",alt:l.equipo2}),m.jsx("span",{children:l.equipo2})]})]}),m.jsxs("div",{className:"px-6 text-center",children:[m.jsxs("p",{className:"text-4xl font-extrabold",children:[l.goles1," - ",l.goles2]}),m.jsx("p",{className:"text-xs opacity-70",children:l.fecha})]}),m.jsxs("div",{className:"flex items-center gap-2 ml-auto",children:[e&&m.jsx("button",{onClick:()=>t(`/partido/editar/${l.id}`),className:"bg-blue-500 hover:bg-blue-400 text-white font-bold h-10 px-4 rounded-lg text-sm transition",children:"Editar"}),m.jsx("button",{onClick:()=>a(l.id),className:"bg-yellow-400 text-black font-bold h-10 px-4 rounded-lg text-sm transition hover:bg-yellow-300",children:"Detalles"})]})]})},l.id))})]}),o&&m.jsx(u8,{partidoId:o,onClose:()=>a(null)}),m.jsx(Ir,{})]})}const h8=[{nombre:"Atrapados",escudo:"/EmproChampions-2025/img/escudos/atrapados.png"},{nombre:"Bosco",escudo:"/EmproChampions-2025/img/escudos/bosco.png"},{nombre:"Emprosaurios",escudo:"/EmproChampions-2025/img/escudos/emprosaurios.png"},{nombre:"Huellas",escudo:"/EmproChampions-2025/img/escudos/huellas.png"},{nombre:"Luz",escudo:"/EmproChampions-2025/img/escudos/luz.png"},{nombre:"Mensajeros",escudo:"/EmproChampions-2025/img/escudos/mensajeros.png"}],f8=[{nombre:"Atrapados",escudo:"/EmproChampions-2025/img/escudos/atrapados.png"},{nombre:"Bosco",escudo:"/EmproChampions-2025/img/escudos/bosco.png"},{nombre:"Huellas",escudo:"/EmproChampions-2025/img/escudos/huellas.png"},{nombre:"Luz",escudo:"/EmproChampions-2025/img/escudos/luz.png"},{nombre:"Mensajeros",escudo:"/EmproChampions-2025/img/escudos/mensajeros.png"}];function Yb(){const[e,t]=w.useState("masculino"),n=Ar(),r=e==="masculino"?h8:f8,[i,s]=w.useState(0),[o,a]=w.useState(1),[l,c]=w.useState(!0),[d,h]=w.useState(!0),f=(y,S)=>{const k=r.length;y==="local"?(c(!1),setTimeout(()=>{s(x=>(x+S+k)%k),c(!0)},150)):(h(!1),setTimeout(()=>{a(x=>(x+S+k)%k),h(!0)},150))},g=async()=>{const y=r[i],S=r[o];if(y.nombre===S.nombre){alert("El equipo local y visitante no pueden ser el mismo.");return}await ft(ie(se,"selecciones/equipoLocal"),y),await ft(ie(se,"selecciones/equipoVisita"),S),await ft(ie(se,"selecciones/generoPartido"),e),n("/partido/alineacion",{state:{equipoLocal:y,equipoVisita:S,genero:e,fecha:Date.now()}})};return m.jsxs("div",{className:"min-h-screen bg-cover bg-center font-qatar text-white flex flex-col",style:{backgroundImage:"url('/EmproChampions-2025/img/fondoempro-horizontal.png')"},children:[m.jsx(kr,{}),m.jsxs("div",{className:"flex justify-center gap-4 mt-6",children:[m.jsx("button",{onClick:()=>{t("masculino"),s(0),a(1)},className:`px-4 py-2 font-bold rounded-full border-2 ${e==="masculino"?"bg-[#FFD700] text-[#7a0026] border-yellow-400":"bg-transparent border-white text-white"} transition`,children:"Masculino"}),m.jsx("button",{onClick:()=>{t("femenino"),s(0),a(1)},className:`px-4 py-2 font-bold rounded-full border-2 ${e==="femenino"?"bg-[#FFD700] text-[#7a0026] border-yellow-400":"bg-transparent border-white text-white"} transition`,children:"Femenino"})]}),m.jsx("h1",{className:"text-3xl sm:text-4xl font-bold text-center mt-6 text-yellow-400 drop-shadow",children:"Selección de Equipos"}),m.jsx("div",{className:"flex flex-col items-center justify-center px-6",children:m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-10 mt-6 mx-auto px-4 max-w-6xl",children:[m.jsxs("div",{className:"flex flex-col bg-white/90 rounded-2xl p-8 w-full max-w-[460px] text-[#7a0026] shadow-xl transition-all duration-300 min-h-[460px] justify-center items-center",children:[m.jsx("h2",{className:"font-bold text-2xl mb-4",children:"Equipo Local"}),m.jsxs("div",{className:`flex flex-col items-center transition-opacity duration-300 ease-in-out ${l?"opacity-100":"opacity-0"}`,children:[m.jsx("img",{src:r[i].escudo,alt:r[i].nombre,className:"w-32 h-32 object-contain mb-4 drop-shadow-md"}),m.jsx("p",{className:"text-3xl font-black",children:r[i].nombre})]}),m.jsxs("div",{className:"flex gap-10 mt-6",children:[m.jsx("button",{onClick:()=>f("local",-1),className:"text-4xl text-[#FFD700] hover:scale-110 transition",children:"◀"}),m.jsx("button",{onClick:()=>f("local",1),className:"text-4xl text-[#FFD700] hover:scale-110 transition",children:"▶"})]})]}),m.jsxs("div",{className:"flex flex-col bg-white/90 rounded-2xl p-8 w-full max-w-[460px] text-[#7a0026] shadow-xl transition-all duration-300 min-h-[460px] justify-center items-center",children:[m.jsx("h2",{className:"font-bold text-2xl mb-4",children:"Equipo Visitante"}),m.jsxs("div",{className:`flex flex-col items-center transition-opacity duration-300 ease-in-out ${d?"opacity-100":"opacity-0"}`,children:[m.jsx("img",{src:r[o].escudo,alt:r[o].nombre,className:"w-32 h-32 object-contain mb-4 drop-shadow-md"}),m.jsx("p",{className:"text-3xl font-black",children:r[o].nombre})]}),m.jsxs("div",{className:"flex gap-10 mt-6",children:[m.jsx("button",{onClick:()=>f("visita",-1),className:"text-4xl text-[#FFD700] hover:scale-110 transition",children:"◀"}),m.jsx("button",{onClick:()=>f("visita",1),className:"text-4xl text-[#FFD700] hover:scale-110 transition",children:"▶"})]})]})]})}),m.jsx("div",{className:"flex justify-center mt-12 mb-20",children:m.jsx("button",{onClick:g,className:"bg-[#FFD700] text-[#7a0026] font-bold px-10 py-4 rounded-full hover:bg-yellow-300 transition text-xl shadow-lg",children:"Siguiente"})}),m.jsx(Ir,{})]})}const p8=[{nombre:"Juan Pérez",dorsal:7,genero:"masculino"},{nombre:"Carlos Torres",dorsal:10,genero:"masculino"},{nombre:"Luis López",dorsal:5,genero:"masculino"},{nombre:"Mario Paz",dorsal:11,genero:"masculino"},{nombre:"Erick Rodríguez",dorsal:2,genero:"masculino"},{nombre:"Erick 2",dorsal:0,genero:"masculino"},{nombre:"Antonio Díaz",dorsal:4,genero:"masculino"},{nombre:"Sofia García",dorsal:1,genero:"femenino"},{nombre:"Valeria Castro",dorsal:9,genero:"femenino"}],m8=[{nombre:"Andrés Gutiérrez",dorsal:3,genero:"masculino"},{nombre:"David Martínez",dorsal:1,genero:"masculino"},{nombre:"Pedro Ramírez",dorsal:8,genero:"masculino"},{nombre:"Fernando Vargas",dorsal:9,genero:"masculino"},{nombre:"Raúl Cruz",dorsal:6,genero:"masculino"},{nombre:"Erick Rodríguez",dorsal:2,genero:"masculino"},{nombre:"Mauricio Salinas",dorsal:14,genero:"masculino"},{nombre:"Ana López",dorsal:2,genero:"femenino"},{nombre:"María Pérez",dorsal:10,genero:"femenino"}],g8=[{nombre:"Saurio Uno",dorsal:21,genero:"masculino"},{nombre:"Saurio Dos",dorsal:22,genero:"masculino"},{nombre:"Saurio Tres",dorsal:23,genero:"masculino"},{nombre:"Saurio Cuatro",dorsal:24,genero:"masculino"},{nombre:"Saurio Cinco",dorsal:25,genero:"masculino"},{nombre:"Saurio Seis",dorsal:26,genero:"masculino"}],y8=[{nombre:"Diego Muñoz",dorsal:2,genero:"masculino"},{nombre:"Bryan Mejía",dorsal:5,genero:"masculino"},{nombre:"Samuel Rivera",dorsal:8,genero:"masculino"},{nombre:"Kevin Palacios",dorsal:7,genero:"masculino"},{nombre:"José Martínez",dorsal:13,genero:"masculino"},{nombre:"Ricardo Castillo",dorsal:17,genero:"masculino"},{nombre:"Laura Ruiz",dorsal:3,genero:"femenino"},{nombre:"Andrea Soto",dorsal:6,genero:"femenino"}],v8=[{nombre:"Oscar Varela",dorsal:4,genero:"masculino"},{nombre:"David Salgado",dorsal:12,genero:"masculino"},{nombre:"Enrique Orellana",dorsal:9,genero:"masculino"},{nombre:"Manuel Molina",dorsal:3,genero:"masculino"},{nombre:"Javier Castro",dorsal:16,genero:"masculino"},{nombre:"Julio Soto",dorsal:18,genero:"masculino"},{nombre:"Daniela Paz",dorsal:4,genero:"femenino"},{nombre:"Camila Vargas",dorsal:11,genero:"femenino"}],w8=[{nombre:"Cristian Ayala",dorsal:19,genero:"masculino"},{nombre:"Luis Méndez",dorsal:6,genero:"masculino"},{nombre:"Álvaro Salinas",dorsal:11,genero:"masculino"},{nombre:"Sergio Paz",dorsal:8,genero:"masculino"},{nombre:"Oscar Aguilar",dorsal:20,genero:"masculino"},{nombre:"Juan Martínez",dorsal:15,genero:"masculino"},{nombre:"Natalia Díaz",dorsal:5,genero:"femenino"},{nombre:"Paula Mejía",dorsal:8,genero:"femenino"}],Jy={atrapados:p8,bosco:m8,emprosaurios:g8,huellas:y8,luz:v8,mensajeros:w8};function _8({tipo:e,index:t,jugador:n,onSave:r,onClose:i,camiseta:s,dorsalColor:o,jugadoresActuales:a,nombreEquipo:l}){const c=l==null?void 0:l.toLowerCase(),d=Jy[c]||[],h=a.filter((x,C)=>C!==t&&x.nombre).map(x=>x.nombre),f=d.filter(x=>!h.includes(x.nombre)),g=n&&n.nombre&&n.dorsal?`${n.nombre}|${n.dorsal}`:"",[y,S]=w.useState(g),k=()=>{if(!y)return;const[x,C]=y.split("|");r(t,e,{nombre:x,dorsal:C})};return m.jsx("div",{className:"fixed inset-0 flex items-center justify-center z-50 bg-black/50",children:m.jsxs("div",{className:"bg-white rounded-xl shadow-xl p-6 text-black relative w-80 md:w-96 mx-auto",children:[m.jsx("button",{onClick:i,className:"absolute top-3 right-3 text-[#7a0026] font-bold text-xl",title:"Cerrar",children:"×"}),m.jsx("div",{className:"flex flex-col items-center mb-4",children:m.jsx("img",{src:s,alt:"camiseta",className:"w-16 h-16 mb-2"})}),m.jsx("label",{className:"block font-bold mb-1 text-[#7a0026]",children:"Jugador"}),m.jsxs("select",{className:"w-full px-4 py-2 border rounded",value:y,onChange:x=>S(x.target.value),children:[m.jsx("option",{value:"",children:"Selecciona un jugador"}),f.map(x=>m.jsxs("option",{value:`${x.nombre}|${x.dorsal}`,children:[x.nombre," (#",x.dorsal,")"]},x.dorsal+x.nombre))]}),m.jsx("button",{disabled:!y,onClick:k,className:"w-full bg-[#FFD700] text-[#7a0026] font-bold py-2 rounded mt-4 hover:bg-yellow-400 transition disabled:bg-gray-400",children:"Guardar"}),m.jsx("button",{onClick:i,className:"w-full bg-gray-300 text-[#7a0026] font-bold py-2 rounded mt-2 hover:bg-gray-400 transition",children:"Cancelar"})]})})}const Jw=w.createContext({});function Qw(e){const t=w.useRef(null);return t.current===null&&(t.current=e()),t.current}const Zw=typeof window<"u",MA=Zw?w.useLayoutEffect:w.useEffect,op=w.createContext(null);function e_(e,t){e.indexOf(t)===-1&&e.push(t)}function t_(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}const ci=(e,t,n)=>n>t?t:n<e?e:n;let n_=()=>{};const ui={},LA=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e);function jA(e){return typeof e=="object"&&e!==null}const FA=e=>/^0[^.\s]+$/u.test(e);function r_(e){let t;return()=>(t===void 0&&(t=e()),t)}const Dn=e=>e,x8=(e,t)=>n=>t(e(n)),Cu=(...e)=>e.reduce(x8),qc=(e,t,n)=>{const r=t-e;return r===0?1:(n-e)/r};class i_{constructor(){this.subscriptions=[]}add(t){return e_(this.subscriptions,t),()=>t_(this.subscriptions,t)}notify(t,n,r){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](t,n,r);else for(let s=0;s<i;s++){const o=this.subscriptions[s];o&&o(t,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Er=e=>e*1e3,br=e=>e/1e3;function $A(e,t){return t?e*(1e3/t):0}const VA=(e,t,n)=>(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e,E8=1e-7,b8=12;function C8(e,t,n,r,i){let s,o,a=0;do o=t+(n-t)/2,s=VA(o,r,i)-e,s>0?n=o:t=o;while(Math.abs(s)>E8&&++a<b8);return o}function Su(e,t,n,r){if(e===t&&n===r)return Dn;const i=s=>C8(s,0,1,e,n);return s=>s===0||s===1?s:VA(i(s),t,r)}const UA=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,BA=e=>t=>1-e(1-t),zA=Su(.33,1.53,.69,.99),s_=BA(zA),WA=UA(s_),HA=e=>(e*=2)<1?.5*s_(e):.5*(2-Math.pow(2,-10*(e-1))),o_=e=>1-Math.sin(Math.acos(e)),qA=BA(o_),GA=UA(o_),S8=Su(.42,0,1,1),T8=Su(0,0,.58,1),KA=Su(.42,0,.58,1),k8=e=>Array.isArray(e)&&typeof e[0]!="number",YA=e=>Array.isArray(e)&&typeof e[0]=="number",I8={linear:Dn,easeIn:S8,easeInOut:KA,easeOut:T8,circIn:o_,circInOut:GA,circOut:qA,backIn:s_,backInOut:WA,backOut:zA,anticipate:HA},P8=e=>typeof e=="string",Xb=e=>{if(YA(e)){n_(e.length===4);const[t,n,r,i]=e;return Su(t,n,r,i)}else if(P8(e))return I8[e];return e},wd=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"],Jb={value:null,addProjectionMetrics:null};function A8(e,t){let n=new Set,r=new Set,i=!1,s=!1;const o=new WeakSet;let a={delta:0,timestamp:0,isProcessing:!1},l=0;function c(h){o.has(h)&&(d.schedule(h),e()),l++,h(a)}const d={schedule:(h,f=!1,g=!1)=>{const S=g&&i?n:r;return f&&o.add(h),S.has(h)||S.add(h),h},cancel:h=>{r.delete(h),o.delete(h)},process:h=>{if(a=h,i){s=!0;return}i=!0,[n,r]=[r,n],n.forEach(c),t&&Jb.value&&Jb.value.frameloop[t].push(l),l=0,n.clear(),i=!1,s&&(s=!1,d.process(h))}};return d}const R8=40;function XA(e,t){let n=!1,r=!0;const i={delta:0,timestamp:0,isProcessing:!1},s=()=>n=!0,o=wd.reduce((E,I)=>(E[I]=A8(s,t?I:void 0),E),{}),{setup:a,read:l,resolveKeyframes:c,preUpdate:d,update:h,preRender:f,render:g,postRender:y}=o,S=()=>{const E=ui.useManualTiming?i.timestamp:performance.now();n=!1,ui.useManualTiming||(i.delta=r?1e3/60:Math.max(Math.min(E-i.timestamp,R8),1)),i.timestamp=E,i.isProcessing=!0,a.process(i),l.process(i),c.process(i),d.process(i),h.process(i),f.process(i),g.process(i),y.process(i),i.isProcessing=!1,n&&t&&(r=!1,e(S))},k=()=>{n=!0,r=!0,i.isProcessing||e(S)};return{schedule:wd.reduce((E,I)=>{const D=o[I];return E[I]=(M,T=!1,b=!1)=>(n||k(),D.schedule(M,T,b)),E},{}),cancel:E=>{for(let I=0;I<wd.length;I++)o[wd[I]].cancel(E)},state:i,steps:o}}const{schedule:Be,cancel:rs,state:wt,steps:ig}=XA(typeof requestAnimationFrame<"u"?requestAnimationFrame:Dn,!0);let Jd;function N8(){Jd=void 0}const rn={now:()=>(Jd===void 0&&rn.set(wt.isProcessing||ui.useManualTiming?wt.timestamp:performance.now()),Jd),set:e=>{Jd=e,queueMicrotask(N8)}},JA=e=>t=>typeof t=="string"&&t.startsWith(e),a_=JA("--"),D8=JA("var(--"),l_=e=>D8(e)?O8.test(e.split("/*")[0].trim()):!1,O8=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,qa={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},Gc={...qa,transform:e=>ci(0,1,e)},_d={...qa,default:1},ic=e=>Math.round(e*1e5)/1e5,c_=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function M8(e){return e==null}const L8=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,u_=(e,t)=>n=>!!(typeof n=="string"&&L8.test(n)&&n.startsWith(e)||t&&!M8(n)&&Object.prototype.hasOwnProperty.call(n,t)),QA=(e,t,n)=>r=>{if(typeof r!="string")return r;const[i,s,o,a]=r.match(c_);return{[e]:parseFloat(i),[t]:parseFloat(s),[n]:parseFloat(o),alpha:a!==void 0?parseFloat(a):1}},j8=e=>ci(0,255,e),sg={...qa,transform:e=>Math.round(j8(e))},Ms={test:u_("rgb","red"),parse:QA("red","green","blue"),transform:({red:e,green:t,blue:n,alpha:r=1})=>"rgba("+sg.transform(e)+", "+sg.transform(t)+", "+sg.transform(n)+", "+ic(Gc.transform(r))+")"};function F8(e){let t="",n="",r="",i="";return e.length>5?(t=e.substring(1,3),n=e.substring(3,5),r=e.substring(5,7),i=e.substring(7,9)):(t=e.substring(1,2),n=e.substring(2,3),r=e.substring(3,4),i=e.substring(4,5),t+=t,n+=n,r+=r,i+=i),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}}const Qy={test:u_("#"),parse:F8,transform:Ms.transform},Tu=e=>({test:t=>typeof t=="string"&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),Ci=Tu("deg"),Cr=Tu("%"),te=Tu("px"),$8=Tu("vh"),V8=Tu("vw"),Qb=(()=>({...Cr,parse:e=>Cr.parse(e)/100,transform:e=>Cr.transform(e*100)}))(),Ho={test:u_("hsl","hue"),parse:QA("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:n,alpha:r=1})=>"hsla("+Math.round(e)+", "+Cr.transform(ic(t))+", "+Cr.transform(ic(n))+", "+ic(Gc.transform(r))+")"},Rt={test:e=>Ms.test(e)||Qy.test(e)||Ho.test(e),parse:e=>Ms.test(e)?Ms.parse(e):Ho.test(e)?Ho.parse(e):Qy.parse(e),transform:e=>typeof e=="string"?e:e.hasOwnProperty("red")?Ms.transform(e):Ho.transform(e)},U8=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function B8(e){var t,n;return isNaN(e)&&typeof e=="string"&&(((t=e.match(c_))==null?void 0:t.length)||0)+(((n=e.match(U8))==null?void 0:n.length)||0)>0}const ZA="number",eR="color",z8="var",W8="var(",Zb="${}",H8=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Kc(e){const t=e.toString(),n=[],r={color:[],number:[],var:[]},i=[];let s=0;const a=t.replace(H8,l=>(Rt.test(l)?(r.color.push(s),i.push(eR),n.push(Rt.parse(l))):l.startsWith(W8)?(r.var.push(s),i.push(z8),n.push(l)):(r.number.push(s),i.push(ZA),n.push(parseFloat(l))),++s,Zb)).split(Zb);return{values:n,split:a,indexes:r,types:i}}function tR(e){return Kc(e).values}function nR(e){const{split:t,types:n}=Kc(e),r=t.length;return i=>{let s="";for(let o=0;o<r;o++)if(s+=t[o],i[o]!==void 0){const a=n[o];a===ZA?s+=ic(i[o]):a===eR?s+=Rt.transform(i[o]):s+=i[o]}return s}}const q8=e=>typeof e=="number"?0:e;function G8(e){const t=tR(e);return nR(e)(t.map(q8))}const is={test:B8,parse:tR,createTransformer:nR,getAnimatableNone:G8};function og(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+(t-e)*6*n:n<1/2?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function K8({hue:e,saturation:t,lightness:n,alpha:r}){e/=360,t/=100,n/=100;let i=0,s=0,o=0;if(!t)i=s=o=n;else{const a=n<.5?n*(1+t):n+t-n*t,l=2*n-a;i=og(l,a,e+1/3),s=og(l,a,e),o=og(l,a,e-1/3)}return{red:Math.round(i*255),green:Math.round(s*255),blue:Math.round(o*255),alpha:r}}function lf(e,t){return n=>n>0?t:e}const Ve=(e,t,n)=>e+(t-e)*n,ag=(e,t,n)=>{const r=e*e,i=n*(t*t-r)+r;return i<0?0:Math.sqrt(i)},Y8=[Qy,Ms,Ho],X8=e=>Y8.find(t=>t.test(e));function eC(e){const t=X8(e);if(!t)return!1;let n=t.parse(e);return t===Ho&&(n=K8(n)),n}const tC=(e,t)=>{const n=eC(e),r=eC(t);if(!n||!r)return lf(e,t);const i={...n};return s=>(i.red=ag(n.red,r.red,s),i.green=ag(n.green,r.green,s),i.blue=ag(n.blue,r.blue,s),i.alpha=Ve(n.alpha,r.alpha,s),Ms.transform(i))},Zy=new Set(["none","hidden"]);function J8(e,t){return Zy.has(e)?n=>n<=0?e:t:n=>n>=1?t:e}function Q8(e,t){return n=>Ve(e,t,n)}function d_(e){return typeof e=="number"?Q8:typeof e=="string"?l_(e)?lf:Rt.test(e)?tC:t7:Array.isArray(e)?rR:typeof e=="object"?Rt.test(e)?tC:Z8:lf}function rR(e,t){const n=[...e],r=n.length,i=e.map((s,o)=>d_(s)(s,t[o]));return s=>{for(let o=0;o<r;o++)n[o]=i[o](s);return n}}function Z8(e,t){const n={...e,...t},r={};for(const i in n)e[i]!==void 0&&t[i]!==void 0&&(r[i]=d_(e[i])(e[i],t[i]));return i=>{for(const s in r)n[s]=r[s](i);return n}}function e7(e,t){const n=[],r={color:0,var:0,number:0};for(let i=0;i<t.values.length;i++){const s=t.types[i],o=e.indexes[s][r[s]],a=e.values[o]??0;n[i]=a,r[s]++}return n}const t7=(e,t)=>{const n=is.createTransformer(t),r=Kc(e),i=Kc(t);return r.indexes.var.length===i.indexes.var.length&&r.indexes.color.length===i.indexes.color.length&&r.indexes.number.length>=i.indexes.number.length?Zy.has(e)&&!i.values.length||Zy.has(t)&&!r.values.length?J8(e,t):Cu(rR(e7(r,i),i.values),n):lf(e,t)};function iR(e,t,n){return typeof e=="number"&&typeof t=="number"&&typeof n=="number"?Ve(e,t,n):d_(e)(e,t)}const n7=e=>{const t=({timestamp:n})=>e(n);return{start:(n=!0)=>Be.update(t,n),stop:()=>rs(t),now:()=>wt.isProcessing?wt.timestamp:rn.now()}},sR=(e,t,n=10)=>{let r="";const i=Math.max(Math.round(t/n),2);for(let s=0;s<i;s++)r+=e(s/(i-1))+", ";return`linear(${r.substring(0,r.length-2)})`},cf=2e4;function h_(e){let t=0;const n=50;let r=e.next(t);for(;!r.done&&t<cf;)t+=n,r=e.next(t);return t>=cf?1/0:t}function r7(e,t=100,n){const r=n({...e,keyframes:[0,t]}),i=Math.min(h_(r),cf);return{type:"keyframes",ease:s=>r.next(i*s).value/t,duration:br(i)}}const i7=5;function oR(e,t,n){const r=Math.max(t-i7,0);return $A(n-e(r),t-r)}const Ge={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},lg=.001;function s7({duration:e=Ge.duration,bounce:t=Ge.bounce,velocity:n=Ge.velocity,mass:r=Ge.mass}){let i,s,o=1-t;o=ci(Ge.minDamping,Ge.maxDamping,o),e=ci(Ge.minDuration,Ge.maxDuration,br(e)),o<1?(i=c=>{const d=c*o,h=d*e,f=d-n,g=e0(c,o),y=Math.exp(-h);return lg-f/g*y},s=c=>{const h=c*o*e,f=h*n+n,g=Math.pow(o,2)*Math.pow(c,2)*e,y=Math.exp(-h),S=e0(Math.pow(c,2),o);return(-i(c)+lg>0?-1:1)*((f-g)*y)/S}):(i=c=>{const d=Math.exp(-c*e),h=(c-n)*e+1;return-lg+d*h},s=c=>{const d=Math.exp(-c*e),h=(n-c)*(e*e);return d*h});const a=5/e,l=a7(i,s,a);if(e=Er(e),isNaN(l))return{stiffness:Ge.stiffness,damping:Ge.damping,duration:e};{const c=Math.pow(l,2)*r;return{stiffness:c,damping:o*2*Math.sqrt(r*c),duration:e}}}const o7=12;function a7(e,t,n){let r=n;for(let i=1;i<o7;i++)r=r-e(r)/t(r);return r}function e0(e,t){return e*Math.sqrt(1-t*t)}const l7=["duration","bounce"],c7=["stiffness","damping","mass"];function nC(e,t){return t.some(n=>e[n]!==void 0)}function u7(e){let t={velocity:Ge.velocity,stiffness:Ge.stiffness,damping:Ge.damping,mass:Ge.mass,isResolvedFromDuration:!1,...e};if(!nC(e,c7)&&nC(e,l7))if(e.visualDuration){const n=e.visualDuration,r=2*Math.PI/(n*1.2),i=r*r,s=2*ci(.05,1,1-(e.bounce||0))*Math.sqrt(i);t={...t,mass:Ge.mass,stiffness:i,damping:s}}else{const n=s7(e);t={...t,...n,mass:Ge.mass},t.isResolvedFromDuration=!0}return t}function uf(e=Ge.visualDuration,t=Ge.bounce){const n=typeof e!="object"?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:r,restDelta:i}=n;const s=n.keyframes[0],o=n.keyframes[n.keyframes.length-1],a={done:!1,value:s},{stiffness:l,damping:c,mass:d,duration:h,velocity:f,isResolvedFromDuration:g}=u7({...n,velocity:-br(n.velocity||0)}),y=f||0,S=c/(2*Math.sqrt(l*d)),k=o-s,x=br(Math.sqrt(l/d)),C=Math.abs(k)<5;r||(r=C?Ge.restSpeed.granular:Ge.restSpeed.default),i||(i=C?Ge.restDelta.granular:Ge.restDelta.default);let E;if(S<1){const D=e0(x,S);E=M=>{const T=Math.exp(-S*x*M);return o-T*((y+S*x*k)/D*Math.sin(D*M)+k*Math.cos(D*M))}}else if(S===1)E=D=>o-Math.exp(-x*D)*(k+(y+x*k)*D);else{const D=x*Math.sqrt(S*S-1);E=M=>{const T=Math.exp(-S*x*M),b=Math.min(D*M,300);return o-T*((y+S*x*k)*Math.sinh(b)+D*k*Math.cosh(b))/D}}const I={calculatedDuration:g&&h||null,next:D=>{const M=E(D);if(g)a.done=D>=h;else{let T=D===0?y:0;S<1&&(T=D===0?Er(y):oR(E,D,M));const b=Math.abs(T)<=r,P=Math.abs(o-M)<=i;a.done=b&&P}return a.value=a.done?o:M,a},toString:()=>{const D=Math.min(h_(I),cf),M=sR(T=>I.next(D*T).value,D,30);return D+"ms "+M},toTransition:()=>{}};return I}uf.applyToOptions=e=>{const t=r7(e,100,uf);return e.ease=t.ease,e.duration=Er(t.duration),e.type="keyframes",e};function t0({keyframes:e,velocity:t=0,power:n=.8,timeConstant:r=325,bounceDamping:i=10,bounceStiffness:s=500,modifyTarget:o,min:a,max:l,restDelta:c=.5,restSpeed:d}){const h=e[0],f={done:!1,value:h},g=b=>a!==void 0&&b<a||l!==void 0&&b>l,y=b=>a===void 0?l:l===void 0||Math.abs(a-b)<Math.abs(l-b)?a:l;let S=n*t;const k=h+S,x=o===void 0?k:o(k);x!==k&&(S=x-h);const C=b=>-S*Math.exp(-b/r),E=b=>x+C(b),I=b=>{const P=C(b),v=E(b);f.done=Math.abs(P)<=c,f.value=f.done?x:v};let D,M;const T=b=>{g(f.value)&&(D=b,M=uf({keyframes:[f.value,y(f.value)],velocity:oR(E,b,f.value),damping:i,stiffness:s,restDelta:c,restSpeed:d}))};return T(0),{calculatedDuration:null,next:b=>{let P=!1;return!M&&D===void 0&&(P=!0,I(b),T(b)),D!==void 0&&b>=D?M.next(b-D):(!P&&I(b),f)}}}function d7(e,t,n){const r=[],i=n||ui.mix||iR,s=e.length-1;for(let o=0;o<s;o++){let a=i(e[o],e[o+1]);if(t){const l=Array.isArray(t)?t[o]||Dn:t;a=Cu(l,a)}r.push(a)}return r}function h7(e,t,{clamp:n=!0,ease:r,mixer:i}={}){const s=e.length;if(n_(s===t.length),s===1)return()=>t[0];if(s===2&&t[0]===t[1])return()=>t[1];const o=e[0]===e[1];e[0]>e[s-1]&&(e=[...e].reverse(),t=[...t].reverse());const a=d7(t,r,i),l=a.length,c=d=>{if(o&&d<e[0])return t[0];let h=0;if(l>1)for(;h<e.length-2&&!(d<e[h+1]);h++);const f=qc(e[h],e[h+1],d);return a[h](f)};return n?d=>c(ci(e[0],e[s-1],d)):c}function f7(e,t){const n=e[e.length-1];for(let r=1;r<=t;r++){const i=qc(0,t,r);e.push(Ve(n,1,i))}}function p7(e){const t=[0];return f7(t,e.length-1),t}function m7(e,t){return e.map(n=>n*t)}function g7(e,t){return e.map(()=>t||KA).splice(0,e.length-1)}function sc({duration:e=300,keyframes:t,times:n,ease:r="easeInOut"}){const i=k8(r)?r.map(Xb):Xb(r),s={done:!1,value:t[0]},o=m7(n&&n.length===t.length?n:p7(t),e),a=h7(o,t,{ease:Array.isArray(i)?i:g7(t,i)});return{calculatedDuration:e,next:l=>(s.value=a(l),s.done=l>=e,s)}}const y7=e=>e!==null;function f_(e,{repeat:t,repeatType:n="loop"},r,i=1){const s=e.filter(y7),a=i<0||t&&n!=="loop"&&t%2===1?0:s.length-1;return!a||r===void 0?s[a]:r}const v7={decay:t0,inertia:t0,tween:sc,keyframes:sc,spring:uf};function aR(e){typeof e.type=="string"&&(e.type=v7[e.type])}class p_{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(t=>{this.resolve=t})}notifyFinished(){this.resolve()}then(t,n){return this.finished.then(t,n)}}const w7=e=>e/100;class m_ extends p_{constructor(t){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=(n=!0)=>{var r,i;if(n){const{motionValue:s}=this.options;s&&s.updatedAt!==rn.now()&&this.tick(rn.now())}this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(i=(r=this.options).onStop)==null||i.call(r))},this.options=t,this.initAnimation(),this.play(),t.autoplay===!1&&this.pause()}initAnimation(){const{options:t}=this;aR(t);const{type:n=sc,repeat:r=0,repeatDelay:i=0,repeatType:s,velocity:o=0}=t;let{keyframes:a}=t;const l=n||sc;l!==sc&&typeof a[0]!="number"&&(this.mixKeyframes=Cu(w7,iR(a[0],a[1])),a=[0,100]);const c=l({...t,keyframes:a});s==="mirror"&&(this.mirroredGenerator=l({...t,keyframes:[...a].reverse(),velocity:-o})),c.calculatedDuration===null&&(c.calculatedDuration=h_(c));const{calculatedDuration:d}=c;this.calculatedDuration=d,this.resolvedDuration=d+i,this.totalDuration=this.resolvedDuration*(r+1)-i,this.generator=c}updateTime(t){const n=Math.round(t-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(t,n=!1){const{generator:r,totalDuration:i,mixKeyframes:s,mirroredGenerator:o,resolvedDuration:a,calculatedDuration:l}=this;if(this.startTime===null)return r.next(0);const{delay:c=0,keyframes:d,repeat:h,repeatType:f,repeatDelay:g,type:y,onUpdate:S,finalKeyframe:k}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-i/this.speed,this.startTime)),n?this.currentTime=t:this.updateTime(t);const x=this.currentTime-c*(this.playbackSpeed>=0?1:-1),C=this.playbackSpeed>=0?x<0:x>i;this.currentTime=Math.max(x,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=i);let E=this.currentTime,I=r;if(h){const b=Math.min(this.currentTime,i)/a;let P=Math.floor(b),v=b%1;!v&&b>=1&&(v=1),v===1&&P--,P=Math.min(P,h+1),!!(P%2)&&(f==="reverse"?(v=1-v,g&&(v-=g/a)):f==="mirror"&&(I=o)),E=ci(0,1,v)*a}const D=C?{done:!1,value:d[0]}:I.next(E);s&&(D.value=s(D.value));let{done:M}=D;!C&&l!==null&&(M=this.playbackSpeed>=0?this.currentTime>=i:this.currentTime<=0);const T=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&M);return T&&y!==t0&&(D.value=f_(d,this.options,k,this.speed)),S&&S(D.value),T&&this.finish(),D}then(t,n){return this.finished.then(t,n)}get duration(){return br(this.calculatedDuration)}get time(){return br(this.currentTime)}set time(t){var n;t=Er(t),this.currentTime=t,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.playbackSpeed),(n=this.driver)==null||n.start(!1)}get speed(){return this.playbackSpeed}set speed(t){this.updateTime(rn.now());const n=this.playbackSpeed!==t;this.playbackSpeed=t,n&&(this.time=br(this.currentTime))}play(){var i,s;if(this.isStopped)return;const{driver:t=n7,startTime:n}=this.options;this.driver||(this.driver=t(o=>this.tick(o))),(s=(i=this.options).onPlay)==null||s.call(i);const r=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=r):this.holdTime!==null?this.startTime=r-this.holdTime:this.startTime||(this.startTime=n??r),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(rn.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var t,n;this.notifyFinished(),this.teardown(),this.state="finished",(n=(t=this.options).onComplete)==null||n.call(t)}cancel(){var t,n;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(n=(t=this.options).onCancel)==null||n.call(t)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}attachTimeline(t){var n;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(n=this.driver)==null||n.stop(),t.observe(this)}}function _7(e){for(let t=1;t<e.length;t++)e[t]??(e[t]=e[t-1])}const Ls=e=>e*180/Math.PI,n0=e=>{const t=Ls(Math.atan2(e[1],e[0]));return r0(t)},x7={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:e=>(Math.abs(e[0])+Math.abs(e[3]))/2,rotate:n0,rotateZ:n0,skewX:e=>Ls(Math.atan(e[1])),skewY:e=>Ls(Math.atan(e[2])),skew:e=>(Math.abs(e[1])+Math.abs(e[2]))/2},r0=e=>(e=e%360,e<0&&(e+=360),e),rC=n0,iC=e=>Math.sqrt(e[0]*e[0]+e[1]*e[1]),sC=e=>Math.sqrt(e[4]*e[4]+e[5]*e[5]),E7={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:iC,scaleY:sC,scale:e=>(iC(e)+sC(e))/2,rotateX:e=>r0(Ls(Math.atan2(e[6],e[5]))),rotateY:e=>r0(Ls(Math.atan2(-e[2],e[0]))),rotateZ:rC,rotate:rC,skewX:e=>Ls(Math.atan(e[4])),skewY:e=>Ls(Math.atan(e[1])),skew:e=>(Math.abs(e[1])+Math.abs(e[4]))/2};function i0(e){return e.includes("scale")?1:0}function s0(e,t){if(!e||e==="none")return i0(t);const n=e.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let r,i;if(n)r=E7,i=n;else{const a=e.match(/^matrix\(([-\d.e\s,]+)\)$/u);r=x7,i=a}if(!i)return i0(t);const s=r[t],o=i[1].split(",").map(C7);return typeof s=="function"?s(o):o[s]}const b7=(e,t)=>{const{transform:n="none"}=getComputedStyle(e);return s0(n,t)};function C7(e){return parseFloat(e.trim())}const Ga=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Ka=(()=>new Set(Ga))(),oC=e=>e===qa||e===te,S7=new Set(["x","y","z"]),T7=Ga.filter(e=>!S7.has(e));function k7(e){const t=[];return T7.forEach(n=>{const r=e.getValue(n);r!==void 0&&(t.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),t}const Us={width:({x:e},{paddingLeft:t="0",paddingRight:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),height:({y:e},{paddingTop:t="0",paddingBottom:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:(e,{transform:t})=>s0(t,"x"),y:(e,{transform:t})=>s0(t,"y")};Us.translateX=Us.x;Us.translateY=Us.y;const Bs=new Set;let o0=!1,a0=!1,l0=!1;function lR(){if(a0){const e=Array.from(Bs).filter(r=>r.needsMeasurement),t=new Set(e.map(r=>r.element)),n=new Map;t.forEach(r=>{const i=k7(r);i.length&&(n.set(r,i),r.render())}),e.forEach(r=>r.measureInitialState()),t.forEach(r=>{r.render();const i=n.get(r);i&&i.forEach(([s,o])=>{var a;(a=r.getValue(s))==null||a.set(o)})}),e.forEach(r=>r.measureEndState()),e.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}a0=!1,o0=!1,Bs.forEach(e=>e.complete(l0)),Bs.clear()}function cR(){Bs.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(a0=!0)})}function I7(){l0=!0,cR(),lR(),l0=!1}class g_{constructor(t,n,r,i,s,o=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...t],this.onComplete=n,this.name=r,this.motionValue=i,this.element=s,this.isAsync=o}scheduleResolve(){this.state="scheduled",this.isAsync?(Bs.add(this),o0||(o0=!0,Be.read(cR),Be.resolveKeyframes(lR))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:n,element:r,motionValue:i}=this;if(t[0]===null){const s=i==null?void 0:i.get(),o=t[t.length-1];if(s!==void 0)t[0]=s;else if(r&&n){const a=r.readValue(n,o);a!=null&&(t[0]=a)}t[0]===void 0&&(t[0]=o),i&&s===void 0&&i.set(t[0])}_7(t)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(t=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,t),Bs.delete(this)}cancel(){this.state==="scheduled"&&(Bs.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const P7=e=>e.startsWith("--");function A7(e,t,n){P7(t)?e.style.setProperty(t,n):e.style[t]=n}const R7=r_(()=>window.ScrollTimeline!==void 0),N7={};function D7(e,t){const n=r_(e);return()=>N7[t]??n()}const uR=D7(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Ol=([e,t,n,r])=>`cubic-bezier(${e}, ${t}, ${n}, ${r})`,aC={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Ol([0,.65,.55,1]),circOut:Ol([.55,0,1,.45]),backIn:Ol([.31,.01,.66,-.59]),backOut:Ol([.33,1.53,.69,.99])};function dR(e,t){if(e)return typeof e=="function"?uR()?sR(e,t):"ease-out":YA(e)?Ol(e):Array.isArray(e)?e.map(n=>dR(n,t)||aC.easeOut):aC[e]}function O7(e,t,n,{delay:r=0,duration:i=300,repeat:s=0,repeatType:o="loop",ease:a="easeOut",times:l}={},c=void 0){const d={[t]:n};l&&(d.offset=l);const h=dR(a,i);Array.isArray(h)&&(d.easing=h);const f={delay:r,duration:i,easing:Array.isArray(h)?"linear":h,fill:"both",iterations:s+1,direction:o==="reverse"?"alternate":"normal"};return c&&(f.pseudoElement=c),e.animate(d,f)}function hR(e){return typeof e=="function"&&"applyToOptions"in e}function M7({type:e,...t}){return hR(e)&&uR()?e.applyToOptions(t):(t.duration??(t.duration=300),t.ease??(t.ease="easeOut"),t)}class L7 extends p_{constructor(t){if(super(),this.finishedTime=null,this.isStopped=!1,!t)return;const{element:n,name:r,keyframes:i,pseudoElement:s,allowFlatten:o=!1,finalKeyframe:a,onComplete:l}=t;this.isPseudoElement=!!s,this.allowFlatten=o,this.options=t,n_(typeof t.type!="string");const c=M7(t);this.animation=O7(n,r,i,c,s),c.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!s){const d=f_(i,this.options,a,this.speed);this.updateMotionValue?this.updateMotionValue(d):A7(n,r,d),this.animation.cancel()}l==null||l(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var t,n;(n=(t=this.animation).finish)==null||n.call(t)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:t}=this;t==="idle"||t==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var t,n;this.isPseudoElement||(n=(t=this.animation).commitStyles)==null||n.call(t)}get duration(){var n,r;const t=((r=(n=this.animation.effect)==null?void 0:n.getComputedTiming)==null?void 0:r.call(n).duration)||0;return br(Number(t))}get time(){return br(Number(this.animation.currentTime)||0)}set time(t){this.finishedTime=null,this.animation.currentTime=Er(t)}get speed(){return this.animation.playbackRate}set speed(t){t<0&&(this.finishedTime=null),this.animation.playbackRate=t}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(t){this.animation.startTime=t}attachTimeline({timeline:t,observe:n}){var r;return this.allowFlatten&&((r=this.animation.effect)==null||r.updateTiming({easing:"linear"})),this.animation.onfinish=null,t&&R7()?(this.animation.timeline=t,Dn):n(this)}}const fR={anticipate:HA,backInOut:WA,circInOut:GA};function j7(e){return e in fR}function F7(e){typeof e.ease=="string"&&j7(e.ease)&&(e.ease=fR[e.ease])}const lC=10;class $7 extends L7{constructor(t){F7(t),aR(t),super(t),t.startTime&&(this.startTime=t.startTime),this.options=t}updateMotionValue(t){const{motionValue:n,onUpdate:r,onComplete:i,element:s,...o}=this.options;if(!n)return;if(t!==void 0){n.set(t);return}const a=new m_({...o,autoplay:!1}),l=Er(this.finishedTime??this.time);n.setWithVelocity(a.sample(l-lC).value,a.sample(l).value,lC),a.stop()}}const cC=(e,t)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(is.test(e)||e==="0")&&!e.startsWith("url("));function V7(e){const t=e[0];if(e.length===1)return!0;for(let n=0;n<e.length;n++)if(e[n]!==t)return!0}function U7(e,t,n,r){const i=e[0];if(i===null)return!1;if(t==="display"||t==="visibility")return!0;const s=e[e.length-1],o=cC(i,t),a=cC(s,t);return!o||!a?!1:V7(e)||(n==="spring"||hR(n))&&r}function y_(e){return jA(e)&&"offsetHeight"in e}const B7=new Set(["opacity","clipPath","filter","transform"]),z7=r_(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function W7(e){var c;const{motionValue:t,name:n,repeatDelay:r,repeatType:i,damping:s,type:o}=e;if(!y_((c=t==null?void 0:t.owner)==null?void 0:c.current))return!1;const{onUpdate:a,transformTemplate:l}=t.owner.getProps();return z7()&&n&&B7.has(n)&&(n!=="transform"||!l)&&!a&&!r&&i!=="mirror"&&s!==0&&o!=="inertia"}const H7=40;class q7 extends p_{constructor({autoplay:t=!0,delay:n=0,type:r="keyframes",repeat:i=0,repeatDelay:s=0,repeatType:o="loop",keyframes:a,name:l,motionValue:c,element:d,...h}){var y;super(),this.stop=()=>{var S,k;this._animation&&(this._animation.stop(),(S=this.stopTimeline)==null||S.call(this)),(k=this.keyframeResolver)==null||k.cancel()},this.createdAt=rn.now();const f={autoplay:t,delay:n,type:r,repeat:i,repeatDelay:s,repeatType:o,name:l,motionValue:c,element:d,...h},g=(d==null?void 0:d.KeyframeResolver)||g_;this.keyframeResolver=new g(a,(S,k,x)=>this.onKeyframesResolved(S,k,f,!x),l,c,d),(y=this.keyframeResolver)==null||y.scheduleResolve()}onKeyframesResolved(t,n,r,i){this.keyframeResolver=void 0;const{name:s,type:o,velocity:a,delay:l,isHandoff:c,onUpdate:d}=r;this.resolvedAt=rn.now(),U7(t,s,o,a)||((ui.instantAnimations||!l)&&(d==null||d(f_(t,r,n))),t[0]=t[t.length-1],r.duration=0,r.repeat=0);const f={startTime:i?this.resolvedAt?this.resolvedAt-this.createdAt>H7?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...r,keyframes:t},g=!c&&W7(f)?new $7({...f,element:f.motionValue.owner.current}):new m_(f);g.finished.then(()=>this.notifyFinished()).catch(Dn),this.pendingTimeline&&(this.stopTimeline=g.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=g}get finished(){return this._animation?this.animation.finished:this._finished}then(t,n){return this.finished.finally(t).then(()=>{})}get animation(){var t;return this._animation||((t=this.keyframeResolver)==null||t.resume(),I7()),this._animation}get duration(){return this.animation.duration}get time(){return this.animation.time}set time(t){this.animation.time=t}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(t){this.animation.speed=t}get startTime(){return this.animation.startTime}attachTimeline(t){return this._animation?this.stopTimeline=this.animation.attachTimeline(t):this.pendingTimeline=t,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var t;this._animation&&this.animation.cancel(),(t=this.keyframeResolver)==null||t.cancel()}}const G7=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function K7(e){const t=G7.exec(e);if(!t)return[,];const[,n,r,i]=t;return[`--${n??r}`,i]}function pR(e,t,n=1){const[r,i]=K7(e);if(!r)return;const s=window.getComputedStyle(t).getPropertyValue(r);if(s){const o=s.trim();return LA(o)?parseFloat(o):o}return l_(i)?pR(i,t,n+1):i}function v_(e,t){return(e==null?void 0:e[t])??(e==null?void 0:e.default)??e}const mR=new Set(["width","height","top","left","right","bottom",...Ga]),Y7={test:e=>e==="auto",parse:e=>e},gR=e=>t=>t.test(e),yR=[qa,te,Cr,Ci,V8,$8,Y7],uC=e=>yR.find(gR(e));function X7(e){return typeof e=="number"?e===0:e!==null?e==="none"||e==="0"||FA(e):!0}const J7=new Set(["brightness","contrast","saturate","opacity"]);function Q7(e){const[t,n]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[r]=n.match(c_)||[];if(!r)return e;const i=n.replace(r,"");let s=J7.has(t)?1:0;return r!==n&&(s*=100),t+"("+s+i+")"}const Z7=/\b([a-z-]*)\(.*?\)/gu,c0={...is,getAnimatableNone:e=>{const t=e.match(Z7);return t?t.map(Q7).join(" "):e}},dC={...qa,transform:Math.round},ez={rotate:Ci,rotateX:Ci,rotateY:Ci,rotateZ:Ci,scale:_d,scaleX:_d,scaleY:_d,scaleZ:_d,skew:Ci,skewX:Ci,skewY:Ci,distance:te,translateX:te,translateY:te,translateZ:te,x:te,y:te,z:te,perspective:te,transformPerspective:te,opacity:Gc,originX:Qb,originY:Qb,originZ:te},w_={borderWidth:te,borderTopWidth:te,borderRightWidth:te,borderBottomWidth:te,borderLeftWidth:te,borderRadius:te,radius:te,borderTopLeftRadius:te,borderTopRightRadius:te,borderBottomRightRadius:te,borderBottomLeftRadius:te,width:te,maxWidth:te,height:te,maxHeight:te,top:te,right:te,bottom:te,left:te,padding:te,paddingTop:te,paddingRight:te,paddingBottom:te,paddingLeft:te,margin:te,marginTop:te,marginRight:te,marginBottom:te,marginLeft:te,backgroundPositionX:te,backgroundPositionY:te,...ez,zIndex:dC,fillOpacity:Gc,strokeOpacity:Gc,numOctaves:dC},tz={...w_,color:Rt,backgroundColor:Rt,outlineColor:Rt,fill:Rt,stroke:Rt,borderColor:Rt,borderTopColor:Rt,borderRightColor:Rt,borderBottomColor:Rt,borderLeftColor:Rt,filter:c0,WebkitFilter:c0},vR=e=>tz[e];function wR(e,t){let n=vR(e);return n!==c0&&(n=is),n.getAnimatableNone?n.getAnimatableNone(t):void 0}const nz=new Set(["auto","none","0"]);function rz(e,t,n){let r=0,i;for(;r<e.length&&!i;){const s=e[r];typeof s=="string"&&!nz.has(s)&&Kc(s).values.length&&(i=e[r]),r++}if(i&&n)for(const s of t)e[s]=wR(n,i)}class iz extends g_{constructor(t,n,r,i,s){super(t,n,r,i,s,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let l=0;l<t.length;l++){let c=t[l];if(typeof c=="string"&&(c=c.trim(),l_(c))){const d=pR(c,n.current);d!==void 0&&(t[l]=d),l===t.length-1&&(this.finalKeyframe=c)}}if(this.resolveNoneKeyframes(),!mR.has(r)||t.length!==2)return;const[i,s]=t,o=uC(i),a=uC(s);if(o!==a)if(oC(o)&&oC(a))for(let l=0;l<t.length;l++){const c=t[l];typeof c=="string"&&(t[l]=parseFloat(c))}else Us[r]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:n}=this,r=[];for(let i=0;i<t.length;i++)(t[i]===null||X7(t[i]))&&r.push(i);r.length&&rz(t,r,n)}measureInitialState(){const{element:t,unresolvedKeyframes:n,name:r}=this;if(!t||!t.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Us[r](t.measureViewportBox(),window.getComputedStyle(t.current)),n[0]=this.measuredOrigin;const i=n[n.length-1];i!==void 0&&t.getValue(r,i).jump(i,!1)}measureEndState(){var a;const{element:t,name:n,unresolvedKeyframes:r}=this;if(!t||!t.current)return;const i=t.getValue(n);i&&i.jump(this.measuredOrigin,!1);const s=r.length-1,o=r[s];r[s]=Us[n](t.measureViewportBox(),window.getComputedStyle(t.current)),o!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=o),(a=this.removedTransforms)!=null&&a.length&&this.removedTransforms.forEach(([l,c])=>{t.getValue(l).set(c)}),this.resolveNoneKeyframes()}}function sz(e,t,n){if(e instanceof EventTarget)return[e];if(typeof e=="string"){let r=document;t&&(r=t.current);const i=(n==null?void 0:n[e])??r.querySelectorAll(e);return i?Array.from(i):[]}return Array.from(e)}const hC=30,oz=e=>!isNaN(parseFloat(e));class az{constructor(t,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=(r,i=!0)=>{var o,a;const s=rn.now();if(this.updatedAt!==s&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&((o=this.events.change)==null||o.notify(this.current),this.dependents))for(const l of this.dependents)l.dirty();i&&((a=this.events.renderRequest)==null||a.notify(this.current))},this.hasAnimated=!1,this.setCurrent(t),this.owner=n.owner}setCurrent(t){this.current=t,this.updatedAt=rn.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=oz(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,n){this.events[t]||(this.events[t]=new i_);const r=this.events[t].add(n);return t==="change"?()=>{r(),Be.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,n){this.passiveEffect=t,this.stopPassiveEffect=n}set(t,n=!0){!n||!this.passiveEffect?this.updateAndNotify(t,n):this.passiveEffect(t,this.updateAndNotify)}setWithVelocity(t,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-r}jump(t,n=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var t;(t=this.events.change)==null||t.notify(this.current)}addDependent(t){this.dependents||(this.dependents=new Set),this.dependents.add(t)}removeDependent(t){this.dependents&&this.dependents.delete(t)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const t=rn.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>hC)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,hC);return $A(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(t){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=t(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var t,n;(t=this.dependents)==null||t.clear(),(n=this.events.destroy)==null||n.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Ia(e,t){return new az(e,t)}const _R=(e,t)=>t&&typeof e=="number"?t.transform(e):e,{schedule:__,cancel:AZ}=XA(queueMicrotask,!1),Wn={x:!1,y:!1};function xR(){return Wn.x||Wn.y}function lz(e){return e==="x"||e==="y"?Wn[e]?null:(Wn[e]=!0,()=>{Wn[e]=!1}):Wn.x||Wn.y?null:(Wn.x=Wn.y=!0,()=>{Wn.x=Wn.y=!1})}function ER(e,t){const n=sz(e),r=new AbortController,i={passive:!0,...t,signal:r.signal};return[n,i,()=>r.abort()]}function fC(e){return!(e.pointerType==="touch"||xR())}function cz(e,t,n={}){const[r,i,s]=ER(e,n),o=a=>{if(!fC(a))return;const{target:l}=a,c=t(l,a);if(typeof c!="function"||!l)return;const d=h=>{fC(h)&&(c(h),l.removeEventListener("pointerleave",d))};l.addEventListener("pointerleave",d,i)};return r.forEach(a=>{a.addEventListener("pointerenter",o,i)}),s}const bR=(e,t)=>t?e===t?!0:bR(e,t.parentElement):!1,x_=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1,uz=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function dz(e){return uz.has(e.tagName)||e.tabIndex!==-1}const Qd=new WeakSet;function pC(e){return t=>{t.key==="Enter"&&e(t)}}function cg(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const hz=(e,t)=>{const n=e.currentTarget;if(!n)return;const r=pC(()=>{if(Qd.has(n))return;cg(n,"down");const i=pC(()=>{cg(n,"up")}),s=()=>cg(n,"cancel");n.addEventListener("keyup",i,t),n.addEventListener("blur",s,t)});n.addEventListener("keydown",r,t),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),t)};function mC(e){return x_(e)&&!xR()}function fz(e,t,n={}){const[r,i,s]=ER(e,n),o=a=>{const l=a.currentTarget;if(!mC(a))return;Qd.add(l);const c=t(l,a),d=(g,y)=>{window.removeEventListener("pointerup",h),window.removeEventListener("pointercancel",f),Qd.has(l)&&Qd.delete(l),mC(g)&&typeof c=="function"&&c(g,{success:y})},h=g=>{d(g,l===window||l===document||n.useGlobalTarget||bR(l,g.target))},f=g=>{d(g,!1)};window.addEventListener("pointerup",h,i),window.addEventListener("pointercancel",f,i)};return r.forEach(a=>{(n.useGlobalTarget?window:a).addEventListener("pointerdown",o,i),y_(a)&&(a.addEventListener("focus",c=>hz(c,i)),!dz(a)&&!a.hasAttribute("tabindex")&&(a.tabIndex=0))}),s}function CR(e){return jA(e)&&"ownerSVGElement"in e}function pz(e){return CR(e)&&e.tagName==="svg"}const Ot=e=>!!(e&&e.getVelocity),mz=[...yR,Rt,is],gz=e=>mz.find(gR(e)),E_=w.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"});class yz extends w.Component{getSnapshotBeforeUpdate(t){const n=this.props.childRef.current;if(n&&t.isPresent&&!this.props.isPresent){const r=n.offsetParent,i=y_(r)&&r.offsetWidth||0,s=this.props.sizeRef.current;s.height=n.offsetHeight||0,s.width=n.offsetWidth||0,s.top=n.offsetTop,s.left=n.offsetLeft,s.right=i-s.width-s.left}return null}componentDidUpdate(){}render(){return this.props.children}}function vz({children:e,isPresent:t,anchorX:n}){const r=w.useId(),i=w.useRef(null),s=w.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:o}=w.useContext(E_);return w.useInsertionEffect(()=>{const{width:a,height:l,top:c,left:d,right:h}=s.current;if(t||!i.current||!a||!l)return;const f=n==="left"?`left: ${d}`:`right: ${h}`;i.current.dataset.motionPopId=r;const g=document.createElement("style");return o&&(g.nonce=o),document.head.appendChild(g),g.sheet&&g.sheet.insertRule(`
          [data-motion-pop-id="${r}"] {
            position: absolute !important;
            width: ${a}px !important;
            height: ${l}px !important;
            ${f}px !important;
            top: ${c}px !important;
          }
        `),()=>{document.head.contains(g)&&document.head.removeChild(g)}},[t]),m.jsx(yz,{isPresent:t,childRef:i,sizeRef:s,children:w.cloneElement(e,{ref:i})})}const wz=({children:e,initial:t,isPresent:n,onExitComplete:r,custom:i,presenceAffectsLayout:s,mode:o,anchorX:a})=>{const l=Qw(_z),c=w.useId();let d=!0,h=w.useMemo(()=>(d=!1,{id:c,initial:t,isPresent:n,custom:i,onExitComplete:f=>{l.set(f,!0);for(const g of l.values())if(!g)return;r&&r()},register:f=>(l.set(f,!1),()=>l.delete(f))}),[n,l,r]);return s&&d&&(h={...h}),w.useMemo(()=>{l.forEach((f,g)=>l.set(g,!1))},[n]),w.useEffect(()=>{!n&&!l.size&&r&&r()},[n]),o==="popLayout"&&(e=m.jsx(vz,{isPresent:n,anchorX:a,children:e})),m.jsx(op.Provider,{value:h,children:e})};function _z(){return new Map}function SR(e=!0){const t=w.useContext(op);if(t===null)return[!0,null];const{isPresent:n,onExitComplete:r,register:i}=t,s=w.useId();w.useEffect(()=>{if(e)return i(s)},[e]);const o=w.useCallback(()=>e&&r&&r(s),[s,r,e]);return!n&&r?[!1,o]:[!0]}const xd=e=>e.key||"";function gC(e){const t=[];return w.Children.forEach(e,n=>{w.isValidElement(n)&&t.push(n)}),t}const xz=({children:e,custom:t,initial:n=!0,onExitComplete:r,presenceAffectsLayout:i=!0,mode:s="sync",propagate:o=!1,anchorX:a="left"})=>{const[l,c]=SR(o),d=w.useMemo(()=>gC(e),[e]),h=o&&!l?[]:d.map(xd),f=w.useRef(!0),g=w.useRef(d),y=Qw(()=>new Map),[S,k]=w.useState(d),[x,C]=w.useState(d);MA(()=>{f.current=!1,g.current=d;for(let D=0;D<x.length;D++){const M=xd(x[D]);h.includes(M)?y.delete(M):y.get(M)!==!0&&y.set(M,!1)}},[x,h.length,h.join("-")]);const E=[];if(d!==S){let D=[...d];for(let M=0;M<x.length;M++){const T=x[M],b=xd(T);h.includes(b)||(D.splice(M,0,T),E.push(T))}return s==="wait"&&E.length&&(D=E),C(gC(D)),k(d),null}const{forceRender:I}=w.useContext(Jw);return m.jsx(m.Fragment,{children:x.map(D=>{const M=xd(D),T=o&&!l?!1:d===x||h.includes(M),b=()=>{if(y.has(M))y.set(M,!0);else return;let P=!0;y.forEach(v=>{v||(P=!1)}),P&&(I==null||I(),C(g.current),o&&(c==null||c()),r&&r())};return m.jsx(wz,{isPresent:T,initial:!f.current||n?void 0:!1,custom:t,presenceAffectsLayout:i,mode:s,onExitComplete:T?void 0:b,anchorX:a,children:D},M)})})},TR=w.createContext({strict:!1}),yC={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Pa={};for(const e in yC)Pa[e]={isEnabled:t=>yC[e].some(n=>!!t[n])};function Ez(e){for(const t in e)Pa[t]={...Pa[t],...e[t]}}const bz=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function df(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||bz.has(e)}let kR=e=>!df(e);function Cz(e){e&&(kR=t=>t.startsWith("on")?!df(t):e(t))}try{Cz(require("@emotion/is-prop-valid").default)}catch{}function Sz(e,t,n){const r={};for(const i in e)i==="values"&&typeof e.values=="object"||(kR(i)||n===!0&&df(i)||!t&&!df(i)||e.draggable&&i.startsWith("onDrag"))&&(r[i]=e[i]);return r}function Tz(e){if(typeof Proxy>"u")return e;const t=new Map,n=(...r)=>e(...r);return new Proxy(n,{get:(r,i)=>i==="create"?e:(t.has(i)||t.set(i,e(i)),t.get(i))})}const ap=w.createContext({});function lp(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}function Yc(e){return typeof e=="string"||Array.isArray(e)}const b_=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],C_=["initial",...b_];function cp(e){return lp(e.animate)||C_.some(t=>Yc(e[t]))}function IR(e){return!!(cp(e)||e.variants)}function kz(e,t){if(cp(e)){const{initial:n,animate:r}=e;return{initial:n===!1||Yc(n)?n:void 0,animate:Yc(r)?r:void 0}}return e.inherit!==!1?t:{}}function Iz(e){const{initial:t,animate:n}=kz(e,w.useContext(ap));return w.useMemo(()=>({initial:t,animate:n}),[vC(t),vC(n)])}function vC(e){return Array.isArray(e)?e.join(" "):e}const Pz=Symbol.for("motionComponentSymbol");function qo(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function Az(e,t,n){return w.useCallback(r=>{r&&e.onMount&&e.onMount(r),t&&(r?t.mount(r):t.unmount()),n&&(typeof n=="function"?n(r):qo(n)&&(n.current=r))},[t])}const S_=e=>e.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),Rz="framerAppearId",PR="data-"+S_(Rz),AR=w.createContext({});function Nz(e,t,n,r,i){var S,k;const{visualElement:s}=w.useContext(ap),o=w.useContext(TR),a=w.useContext(op),l=w.useContext(E_).reducedMotion,c=w.useRef(null);r=r||o.renderer,!c.current&&r&&(c.current=r(e,{visualState:t,parent:s,props:n,presenceContext:a,blockInitialAnimation:a?a.initial===!1:!1,reducedMotionConfig:l}));const d=c.current,h=w.useContext(AR);d&&!d.projection&&i&&(d.type==="html"||d.type==="svg")&&Dz(c.current,n,i,h);const f=w.useRef(!1);w.useInsertionEffect(()=>{d&&f.current&&d.update(n,a)});const g=n[PR],y=w.useRef(!!g&&!((S=window.MotionHandoffIsComplete)!=null&&S.call(window,g))&&((k=window.MotionHasOptimisedAnimation)==null?void 0:k.call(window,g)));return MA(()=>{d&&(f.current=!0,window.MotionIsMounted=!0,d.updateFeatures(),__.render(d.render),y.current&&d.animationState&&d.animationState.animateChanges())}),w.useEffect(()=>{d&&(!y.current&&d.animationState&&d.animationState.animateChanges(),y.current&&(queueMicrotask(()=>{var x;(x=window.MotionHandoffMarkAsComplete)==null||x.call(window,g)}),y.current=!1))}),d}function Dz(e,t,n,r){const{layoutId:i,layout:s,drag:o,dragConstraints:a,layoutScroll:l,layoutRoot:c,layoutCrossfade:d}=t;e.projection=new n(e.latestValues,t["data-framer-portal-id"]?void 0:RR(e.parent)),e.projection.setOptions({layoutId:i,layout:s,alwaysMeasureLayout:!!o||a&&qo(a),visualElement:e,animationType:typeof s=="string"?s:"both",initialPromotionConfig:r,crossfade:d,layoutScroll:l,layoutRoot:c})}function RR(e){if(e)return e.options.allowProjection!==!1?e.projection:RR(e.parent)}function Oz({preloadedFeatures:e,createVisualElement:t,useRender:n,useVisualState:r,Component:i}){e&&Ez(e);function s(a,l){let c;const d={...w.useContext(E_),...a,layoutId:Mz(a)},{isStatic:h}=d,f=Iz(a),g=r(a,h);if(!h&&Zw){Lz();const y=jz(d);c=y.MeasureLayout,f.visualElement=Nz(i,g,d,t,y.ProjectionNode)}return m.jsxs(ap.Provider,{value:f,children:[c&&f.visualElement?m.jsx(c,{visualElement:f.visualElement,...d}):null,n(i,a,Az(g,f.visualElement,l),g,h,f.visualElement)]})}s.displayName=`motion.${typeof i=="string"?i:`create(${i.displayName??i.name??""})`}`;const o=w.forwardRef(s);return o[Pz]=i,o}function Mz({layoutId:e}){const t=w.useContext(Jw).id;return t&&e!==void 0?t+"-"+e:e}function Lz(e,t){w.useContext(TR).strict}function jz(e){const{drag:t,layout:n}=Pa;if(!t&&!n)return{};const r={...t,...n};return{MeasureLayout:t!=null&&t.isEnabled(e)||n!=null&&n.isEnabled(e)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}const Xc={};function Fz(e){for(const t in e)Xc[t]=e[t],a_(t)&&(Xc[t].isCSSVariable=!0)}function NR(e,{layout:t,layoutId:n}){return Ka.has(e)||e.startsWith("origin")||(t||n!==void 0)&&(!!Xc[e]||e==="opacity")}const $z={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},Vz=Ga.length;function Uz(e,t,n){let r="",i=!0;for(let s=0;s<Vz;s++){const o=Ga[s],a=e[o];if(a===void 0)continue;let l=!0;if(typeof a=="number"?l=a===(o.startsWith("scale")?1:0):l=parseFloat(a)===0,!l||n){const c=_R(a,w_[o]);if(!l){i=!1;const d=$z[o]||o;r+=`${d}(${c}) `}n&&(t[o]=c)}}return r=r.trim(),n?r=n(t,i?"":r):i&&(r="none"),r}function T_(e,t,n){const{style:r,vars:i,transformOrigin:s}=e;let o=!1,a=!1;for(const l in t){const c=t[l];if(Ka.has(l)){o=!0;continue}else if(a_(l)){i[l]=c;continue}else{const d=_R(c,w_[l]);l.startsWith("origin")?(a=!0,s[l]=d):r[l]=d}}if(t.transform||(o||n?r.transform=Uz(t,e.transform,n):r.transform&&(r.transform="none")),a){const{originX:l="50%",originY:c="50%",originZ:d=0}=s;r.transformOrigin=`${l} ${c} ${d}`}}const k_=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function DR(e,t,n){for(const r in t)!Ot(t[r])&&!NR(r,n)&&(e[r]=t[r])}function Bz({transformTemplate:e},t){return w.useMemo(()=>{const n=k_();return T_(n,t,e),Object.assign({},n.vars,n.style)},[t])}function zz(e,t){const n=e.style||{},r={};return DR(r,n,e),Object.assign(r,Bz(e,t)),r}function Wz(e,t){const n={},r=zz(e,t);return e.drag&&e.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(n.tabIndex=0),n.style=r,n}const Hz={offset:"stroke-dashoffset",array:"stroke-dasharray"},qz={offset:"strokeDashoffset",array:"strokeDasharray"};function Gz(e,t,n=1,r=0,i=!0){e.pathLength=1;const s=i?Hz:qz;e[s.offset]=te.transform(-r);const o=te.transform(t),a=te.transform(n);e[s.array]=`${o} ${a}`}function OR(e,{attrX:t,attrY:n,attrScale:r,pathLength:i,pathSpacing:s=1,pathOffset:o=0,...a},l,c,d){if(T_(e,a,c),l){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:h,style:f}=e;h.transform&&(f.transform=h.transform,delete h.transform),(f.transform||h.transformOrigin)&&(f.transformOrigin=h.transformOrigin??"50% 50%",delete h.transformOrigin),f.transform&&(f.transformBox=(d==null?void 0:d.transformBox)??"fill-box",delete h.transformBox),t!==void 0&&(h.x=t),n!==void 0&&(h.y=n),r!==void 0&&(h.scale=r),i!==void 0&&Gz(h,i,s,o,!1)}const MR=()=>({...k_(),attrs:{}}),LR=e=>typeof e=="string"&&e.toLowerCase()==="svg";function Kz(e,t,n,r){const i=w.useMemo(()=>{const s=MR();return OR(s,t,LR(r),e.transformTemplate,e.style),{...s.attrs,style:{...s.style}}},[t]);if(e.style){const s={};DR(s,e.style,e),i.style={...s,...i.style}}return i}const Yz=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function I_(e){return typeof e!="string"||e.includes("-")?!1:!!(Yz.indexOf(e)>-1||/[A-Z]/u.test(e))}function Xz(e=!1){return(n,r,i,{latestValues:s},o)=>{const l=(I_(n)?Kz:Wz)(r,s,o,n),c=Sz(r,typeof n=="string",e),d=n!==w.Fragment?{...c,...l,ref:i}:{},{children:h}=r,f=w.useMemo(()=>Ot(h)?h.get():h,[h]);return w.createElement(n,{...d,children:f})}}function wC(e){const t=[{},{}];return e==null||e.values.forEach((n,r)=>{t[0][r]=n.get(),t[1][r]=n.getVelocity()}),t}function P_(e,t,n,r){if(typeof t=="function"){const[i,s]=wC(r);t=t(n!==void 0?n:e.custom,i,s)}if(typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"){const[i,s]=wC(r);t=t(n!==void 0?n:e.custom,i,s)}return t}function Zd(e){return Ot(e)?e.get():e}function Jz({scrapeMotionValuesFromProps:e,createRenderState:t},n,r,i){return{latestValues:Qz(n,r,i,e),renderState:t()}}const jR=e=>(t,n)=>{const r=w.useContext(ap),i=w.useContext(op),s=()=>Jz(e,t,r,i);return n?s():Qw(s)};function Qz(e,t,n,r){const i={},s=r(e,{});for(const f in s)i[f]=Zd(s[f]);let{initial:o,animate:a}=e;const l=cp(e),c=IR(e);t&&c&&!l&&e.inherit!==!1&&(o===void 0&&(o=t.initial),a===void 0&&(a=t.animate));let d=n?n.initial===!1:!1;d=d||o===!1;const h=d?a:o;if(h&&typeof h!="boolean"&&!lp(h)){const f=Array.isArray(h)?h:[h];for(let g=0;g<f.length;g++){const y=P_(e,f[g]);if(y){const{transitionEnd:S,transition:k,...x}=y;for(const C in x){let E=x[C];if(Array.isArray(E)){const I=d?E.length-1:0;E=E[I]}E!==null&&(i[C]=E)}for(const C in S)i[C]=S[C]}}}return i}function A_(e,t,n){var s;const{style:r}=e,i={};for(const o in r)(Ot(r[o])||t.style&&Ot(t.style[o])||NR(o,e)||((s=n==null?void 0:n.getValue(o))==null?void 0:s.liveStyle)!==void 0)&&(i[o]=r[o]);return i}const Zz={useVisualState:jR({scrapeMotionValuesFromProps:A_,createRenderState:k_})};function FR(e,t,n){const r=A_(e,t,n);for(const i in e)if(Ot(e[i])||Ot(t[i])){const s=Ga.indexOf(i)!==-1?"attr"+i.charAt(0).toUpperCase()+i.substring(1):i;r[s]=e[i]}return r}const eW={useVisualState:jR({scrapeMotionValuesFromProps:FR,createRenderState:MR})};function tW(e,t){return function(r,{forwardMotionProps:i}={forwardMotionProps:!1}){const o={...I_(r)?eW:Zz,preloadedFeatures:e,useRender:Xz(i),createVisualElement:t,Component:r};return Oz(o)}}function Jc(e,t,n){const r=e.getProps();return P_(r,t,n!==void 0?n:r.custom,e)}const u0=e=>Array.isArray(e);function nW(e,t,n){e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,Ia(n))}function rW(e){return u0(e)?e[e.length-1]||0:e}function iW(e,t){const n=Jc(e,t);let{transitionEnd:r={},transition:i={},...s}=n||{};s={...s,...r};for(const o in s){const a=rW(s[o]);nW(e,o,a)}}function sW(e){return!!(Ot(e)&&e.add)}function d0(e,t){const n=e.getValue("willChange");if(sW(n))return n.add(t);if(!n&&ui.WillChange){const r=new ui.WillChange("auto");e.addValue("willChange",r),r.add(t)}}function $R(e){return e.props[PR]}const oW=e=>e!==null;function aW(e,{repeat:t,repeatType:n="loop"},r){const i=e.filter(oW),s=t&&n!=="loop"&&t%2===1?0:i.length-1;return!s||r===void 0?i[s]:r}const lW={type:"spring",stiffness:500,damping:25,restSpeed:10},cW=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),uW={type:"keyframes",duration:.8},dW={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},hW=(e,{keyframes:t})=>t.length>2?uW:Ka.has(e)?e.startsWith("scale")?cW(t[1]):lW:dW;function fW({when:e,delay:t,delayChildren:n,staggerChildren:r,staggerDirection:i,repeat:s,repeatType:o,repeatDelay:a,from:l,elapsed:c,...d}){return!!Object.keys(d).length}const R_=(e,t,n,r={},i,s)=>o=>{const a=v_(r,e)||{},l=a.delay||r.delay||0;let{elapsed:c=0}=r;c=c-Er(l);const d={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:t.getVelocity(),...a,delay:-c,onUpdate:f=>{t.set(f),a.onUpdate&&a.onUpdate(f)},onComplete:()=>{o(),a.onComplete&&a.onComplete()},name:e,motionValue:t,element:s?void 0:i};fW(a)||Object.assign(d,hW(e,d)),d.duration&&(d.duration=Er(d.duration)),d.repeatDelay&&(d.repeatDelay=Er(d.repeatDelay)),d.from!==void 0&&(d.keyframes[0]=d.from);let h=!1;if((d.type===!1||d.duration===0&&!d.repeatDelay)&&(d.duration=0,d.delay===0&&(h=!0)),(ui.instantAnimations||ui.skipAnimations)&&(h=!0,d.duration=0,d.delay=0),d.allowFlatten=!a.type&&!a.ease,h&&!s&&t.get()!==void 0){const f=aW(d.keyframes,a);if(f!==void 0){Be.update(()=>{d.onUpdate(f),d.onComplete()});return}}return a.isSync?new m_(d):new q7(d)};function pW({protectedKeys:e,needsAnimating:t},n){const r=e.hasOwnProperty(n)&&t[n]!==!0;return t[n]=!1,r}function VR(e,t,{delay:n=0,transitionOverride:r,type:i}={}){let{transition:s=e.getDefaultTransition(),transitionEnd:o,...a}=t;r&&(s=r);const l=[],c=i&&e.animationState&&e.animationState.getState()[i];for(const d in a){const h=e.getValue(d,e.latestValues[d]??null),f=a[d];if(f===void 0||c&&pW(c,d))continue;const g={delay:n,...v_(s||{},d)},y=h.get();if(y!==void 0&&!h.isAnimating&&!Array.isArray(f)&&f===y&&!g.velocity)continue;let S=!1;if(window.MotionHandoffAnimation){const x=$R(e);if(x){const C=window.MotionHandoffAnimation(x,d,Be);C!==null&&(g.startTime=C,S=!0)}}d0(e,d),h.start(R_(d,h,f,e.shouldReduceMotion&&mR.has(d)?{type:!1}:g,e,S));const k=h.animation;k&&l.push(k)}return o&&Promise.all(l).then(()=>{Be.update(()=>{o&&iW(e,o)})}),l}function h0(e,t,n={}){var l;const r=Jc(e,t,n.type==="exit"?(l=e.presenceContext)==null?void 0:l.custom:void 0);let{transition:i=e.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(i=n.transitionOverride);const s=r?()=>Promise.all(VR(e,r,n)):()=>Promise.resolve(),o=e.variantChildren&&e.variantChildren.size?(c=0)=>{const{delayChildren:d=0,staggerChildren:h,staggerDirection:f}=i;return mW(e,t,d+c,h,f,n)}:()=>Promise.resolve(),{when:a}=i;if(a){const[c,d]=a==="beforeChildren"?[s,o]:[o,s];return c().then(()=>d())}else return Promise.all([s(),o(n.delay)])}function mW(e,t,n=0,r=0,i=1,s){const o=[],a=(e.variantChildren.size-1)*r,l=i===1?(c=0)=>c*r:(c=0)=>a-c*r;return Array.from(e.variantChildren).sort(gW).forEach((c,d)=>{c.notify("AnimationStart",t),o.push(h0(c,t,{...s,delay:n+l(d)}).then(()=>c.notify("AnimationComplete",t)))}),Promise.all(o)}function gW(e,t){return e.sortNodePosition(t)}function yW(e,t,n={}){e.notify("AnimationStart",t);let r;if(Array.isArray(t)){const i=t.map(s=>h0(e,s,n));r=Promise.all(i)}else if(typeof t=="string")r=h0(e,t,n);else{const i=typeof t=="function"?Jc(e,t,n.custom):t;r=Promise.all(VR(e,i,n))}return r.then(()=>{e.notify("AnimationComplete",t)})}function UR(e,t){if(!Array.isArray(t))return!1;const n=t.length;if(n!==e.length)return!1;for(let r=0;r<n;r++)if(t[r]!==e[r])return!1;return!0}const vW=C_.length;function BR(e){if(!e)return;if(!e.isControllingVariants){const n=e.parent?BR(e.parent)||{}:{};return e.props.initial!==void 0&&(n.initial=e.props.initial),n}const t={};for(let n=0;n<vW;n++){const r=C_[n],i=e.props[r];(Yc(i)||i===!1)&&(t[r]=i)}return t}const wW=[...b_].reverse(),_W=b_.length;function xW(e){return t=>Promise.all(t.map(({animation:n,options:r})=>yW(e,n,r)))}function EW(e){let t=xW(e),n=_C(),r=!0;const i=l=>(c,d)=>{var f;const h=Jc(e,d,l==="exit"?(f=e.presenceContext)==null?void 0:f.custom:void 0);if(h){const{transition:g,transitionEnd:y,...S}=h;c={...c,...S,...y}}return c};function s(l){t=l(e)}function o(l){const{props:c}=e,d=BR(e.parent)||{},h=[],f=new Set;let g={},y=1/0;for(let k=0;k<_W;k++){const x=wW[k],C=n[x],E=c[x]!==void 0?c[x]:d[x],I=Yc(E),D=x===l?C.isActive:null;D===!1&&(y=k);let M=E===d[x]&&E!==c[x]&&I;if(M&&r&&e.manuallyAnimateOnMount&&(M=!1),C.protectedKeys={...g},!C.isActive&&D===null||!E&&!C.prevProp||lp(E)||typeof E=="boolean")continue;const T=bW(C.prevProp,E);let b=T||x===l&&C.isActive&&!M&&I||k>y&&I,P=!1;const v=Array.isArray(E)?E:[E];let R=v.reduce(i(x),{});D===!1&&(R={});const{prevResolvedValues:O={}}=C,N={...O,...R},V=G=>{b=!0,f.has(G)&&(P=!0,f.delete(G)),C.needsAnimating[G]=!0;const $=e.getValue(G);$&&($.liveStyle=!1)};for(const G in N){const $=R[G],K=O[G];if(g.hasOwnProperty(G))continue;let X=!1;u0($)&&u0(K)?X=!UR($,K):X=$!==K,X?$!=null?V(G):f.add(G):$!==void 0&&f.has(G)?V(G):C.protectedKeys[G]=!0}C.prevProp=E,C.prevResolvedValues=R,C.isActive&&(g={...g,...R}),r&&e.blockInitialAnimation&&(b=!1),b&&(!(M&&T)||P)&&h.push(...v.map(G=>({animation:G,options:{type:x}})))}if(f.size){const k={};if(typeof c.initial!="boolean"){const x=Jc(e,Array.isArray(c.initial)?c.initial[0]:c.initial);x&&x.transition&&(k.transition=x.transition)}f.forEach(x=>{const C=e.getBaseTarget(x),E=e.getValue(x);E&&(E.liveStyle=!0),k[x]=C??null}),h.push({animation:k})}let S=!!h.length;return r&&(c.initial===!1||c.initial===c.animate)&&!e.manuallyAnimateOnMount&&(S=!1),r=!1,S?t(h):Promise.resolve()}function a(l,c){var h;if(n[l].isActive===c)return Promise.resolve();(h=e.variantChildren)==null||h.forEach(f=>{var g;return(g=f.animationState)==null?void 0:g.setActive(l,c)}),n[l].isActive=c;const d=o(l);for(const f in n)n[f].protectedKeys={};return d}return{animateChanges:o,setActive:a,setAnimateFunction:s,getState:()=>n,reset:()=>{n=_C(),r=!0}}}function bW(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!UR(t,e):!1}function ys(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function _C(){return{animate:ys(!0),whileInView:ys(),whileHover:ys(),whileTap:ys(),whileDrag:ys(),whileFocus:ys(),exit:ys()}}class fs{constructor(t){this.isMounted=!1,this.node=t}update(){}}class CW extends fs{constructor(t){super(t),t.animationState||(t.animationState=EW(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();lp(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:n}=this.node.prevProps||{};t!==n&&this.updateAnimationControlsSubscription()}unmount(){var t;this.node.animationState.reset(),(t=this.unmountControls)==null||t.call(this)}}let SW=0;class TW extends fs{constructor(){super(...arguments),this.id=SW++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===r)return;const i=this.node.animationState.setActive("exit",!t);n&&!t&&i.then(()=>{n(this.id)})}mount(){const{register:t,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),t&&(this.unmount=t(this.id))}unmount(){}}const kW={animation:{Feature:CW},exit:{Feature:TW}};function Qc(e,t,n,r={passive:!0}){return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n)}function ku(e){return{point:{x:e.pageX,y:e.pageY}}}const IW=e=>t=>x_(t)&&e(t,ku(t));function oc(e,t,n,r){return Qc(e,t,IW(n),r)}function zR({top:e,left:t,right:n,bottom:r}){return{x:{min:t,max:n},y:{min:e,max:r}}}function PW({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function AW(e,t){if(!t)return e;const n=t({x:e.left,y:e.top}),r=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}const WR=1e-4,RW=1-WR,NW=1+WR,HR=.01,DW=0-HR,OW=0+HR;function zt(e){return e.max-e.min}function MW(e,t,n){return Math.abs(e-t)<=n}function xC(e,t,n,r=.5){e.origin=r,e.originPoint=Ve(t.min,t.max,e.origin),e.scale=zt(n)/zt(t),e.translate=Ve(n.min,n.max,e.origin)-e.originPoint,(e.scale>=RW&&e.scale<=NW||isNaN(e.scale))&&(e.scale=1),(e.translate>=DW&&e.translate<=OW||isNaN(e.translate))&&(e.translate=0)}function ac(e,t,n,r){xC(e.x,t.x,n.x,r?r.originX:void 0),xC(e.y,t.y,n.y,r?r.originY:void 0)}function EC(e,t,n){e.min=n.min+t.min,e.max=e.min+zt(t)}function LW(e,t,n){EC(e.x,t.x,n.x),EC(e.y,t.y,n.y)}function bC(e,t,n){e.min=t.min-n.min,e.max=e.min+zt(t)}function lc(e,t,n){bC(e.x,t.x,n.x),bC(e.y,t.y,n.y)}const CC=()=>({translate:0,scale:1,origin:0,originPoint:0}),Go=()=>({x:CC(),y:CC()}),SC=()=>({min:0,max:0}),Qe=()=>({x:SC(),y:SC()});function Sn(e){return[e("x"),e("y")]}function ug(e){return e===void 0||e===1}function f0({scale:e,scaleX:t,scaleY:n}){return!ug(e)||!ug(t)||!ug(n)}function bs(e){return f0(e)||qR(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function qR(e){return TC(e.x)||TC(e.y)}function TC(e){return e&&e!=="0%"}function hf(e,t,n){const r=e-n,i=t*r;return n+i}function kC(e,t,n,r,i){return i!==void 0&&(e=hf(e,i,r)),hf(e,n,r)+t}function p0(e,t=0,n=1,r,i){e.min=kC(e.min,t,n,r,i),e.max=kC(e.max,t,n,r,i)}function GR(e,{x:t,y:n}){p0(e.x,t.translate,t.scale,t.originPoint),p0(e.y,n.translate,n.scale,n.originPoint)}const IC=.999999999999,PC=1.0000000000001;function jW(e,t,n,r=!1){const i=n.length;if(!i)return;t.x=t.y=1;let s,o;for(let a=0;a<i;a++){s=n[a],o=s.projectionDelta;const{visualElement:l}=s.options;l&&l.props.style&&l.props.style.display==="contents"||(r&&s.options.layoutScroll&&s.scroll&&s!==s.root&&Yo(e,{x:-s.scroll.offset.x,y:-s.scroll.offset.y}),o&&(t.x*=o.x.scale,t.y*=o.y.scale,GR(e,o)),r&&bs(s.latestValues)&&Yo(e,s.latestValues))}t.x<PC&&t.x>IC&&(t.x=1),t.y<PC&&t.y>IC&&(t.y=1)}function Ko(e,t){e.min=e.min+t,e.max=e.max+t}function AC(e,t,n,r,i=.5){const s=Ve(e.min,e.max,i);p0(e,t,n,s,r)}function Yo(e,t){AC(e.x,t.x,t.scaleX,t.scale,t.originX),AC(e.y,t.y,t.scaleY,t.scale,t.originY)}function KR(e,t){return zR(AW(e.getBoundingClientRect(),t))}function FW(e,t,n){const r=KR(e,n),{scroll:i}=t;return i&&(Ko(r.x,i.offset.x),Ko(r.y,i.offset.y)),r}const YR=({current:e})=>e?e.ownerDocument.defaultView:null,RC=(e,t)=>Math.abs(e-t);function $W(e,t){const n=RC(e.x,t.x),r=RC(e.y,t.y);return Math.sqrt(n**2+r**2)}class XR{constructor(t,n,{transformPagePoint:r,contextWindow:i,dragSnapToOrigin:s=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const h=hg(this.lastMoveEventInfo,this.history),f=this.startEvent!==null,g=$W(h.offset,{x:0,y:0})>=3;if(!f&&!g)return;const{point:y}=h,{timestamp:S}=wt;this.history.push({...y,timestamp:S});const{onStart:k,onMove:x}=this.handlers;f||(k&&k(this.lastMoveEvent,h),this.startEvent=this.lastMoveEvent),x&&x(this.lastMoveEvent,h)},this.handlePointerMove=(h,f)=>{this.lastMoveEvent=h,this.lastMoveEventInfo=dg(f,this.transformPagePoint),Be.update(this.updatePoint,!0)},this.handlePointerUp=(h,f)=>{this.end();const{onEnd:g,onSessionEnd:y,resumeAnimation:S}=this.handlers;if(this.dragSnapToOrigin&&S&&S(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const k=hg(h.type==="pointercancel"?this.lastMoveEventInfo:dg(f,this.transformPagePoint),this.history);this.startEvent&&g&&g(h,k),y&&y(h,k)},!x_(t))return;this.dragSnapToOrigin=s,this.handlers=n,this.transformPagePoint=r,this.contextWindow=i||window;const o=ku(t),a=dg(o,this.transformPagePoint),{point:l}=a,{timestamp:c}=wt;this.history=[{...l,timestamp:c}];const{onSessionStart:d}=n;d&&d(t,hg(a,this.history)),this.removeListeners=Cu(oc(this.contextWindow,"pointermove",this.handlePointerMove),oc(this.contextWindow,"pointerup",this.handlePointerUp),oc(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),rs(this.updatePoint)}}function dg(e,t){return t?{point:t(e.point)}:e}function NC(e,t){return{x:e.x-t.x,y:e.y-t.y}}function hg({point:e},t){return{point:e,delta:NC(e,JR(t)),offset:NC(e,VW(t)),velocity:UW(t,.1)}}function VW(e){return e[0]}function JR(e){return e[e.length-1]}function UW(e,t){if(e.length<2)return{x:0,y:0};let n=e.length-1,r=null;const i=JR(e);for(;n>=0&&(r=e[n],!(i.timestamp-r.timestamp>Er(t)));)n--;if(!r)return{x:0,y:0};const s=br(i.timestamp-r.timestamp);if(s===0)return{x:0,y:0};const o={x:(i.x-r.x)/s,y:(i.y-r.y)/s};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function BW(e,{min:t,max:n},r){return t!==void 0&&e<t?e=r?Ve(t,e,r.min):Math.max(e,t):n!==void 0&&e>n&&(e=r?Ve(n,e,r.max):Math.min(e,n)),e}function DC(e,t,n){return{min:t!==void 0?e.min+t:void 0,max:n!==void 0?e.max+n-(e.max-e.min):void 0}}function zW(e,{top:t,left:n,bottom:r,right:i}){return{x:DC(e.x,n,i),y:DC(e.y,t,r)}}function OC(e,t){let n=t.min-e.min,r=t.max-e.max;return t.max-t.min<e.max-e.min&&([n,r]=[r,n]),{min:n,max:r}}function WW(e,t){return{x:OC(e.x,t.x),y:OC(e.y,t.y)}}function HW(e,t){let n=.5;const r=zt(e),i=zt(t);return i>r?n=qc(t.min,t.max-r,e.min):r>i&&(n=qc(e.min,e.max-i,t.min)),ci(0,1,n)}function qW(e,t){const n={};return t.min!==void 0&&(n.min=t.min-e.min),t.max!==void 0&&(n.max=t.max-e.min),n}const m0=.35;function GW(e=m0){return e===!1?e=0:e===!0&&(e=m0),{x:MC(e,"left","right"),y:MC(e,"top","bottom")}}function MC(e,t,n){return{min:LC(e,t),max:LC(e,n)}}function LC(e,t){return typeof e=="number"?e:e[t]||0}const KW=new WeakMap;class YW{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Qe(),this.visualElement=t}start(t,{snapToCursor:n=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const i=d=>{const{dragSnapToOrigin:h}=this.getProps();h?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(ku(d).point)},s=(d,h)=>{const{drag:f,dragPropagation:g,onDragStart:y}=this.getProps();if(f&&!g&&(this.openDragLock&&this.openDragLock(),this.openDragLock=lz(f),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Sn(k=>{let x=this.getAxisMotionValue(k).get()||0;if(Cr.test(x)){const{projection:C}=this.visualElement;if(C&&C.layout){const E=C.layout.layoutBox[k];E&&(x=zt(E)*(parseFloat(x)/100))}}this.originPoint[k]=x}),y&&Be.postRender(()=>y(d,h)),d0(this.visualElement,"transform");const{animationState:S}=this.visualElement;S&&S.setActive("whileDrag",!0)},o=(d,h)=>{const{dragPropagation:f,dragDirectionLock:g,onDirectionLock:y,onDrag:S}=this.getProps();if(!f&&!this.openDragLock)return;const{offset:k}=h;if(g&&this.currentDirection===null){this.currentDirection=XW(k),this.currentDirection!==null&&y&&y(this.currentDirection);return}this.updateAxis("x",h.point,k),this.updateAxis("y",h.point,k),this.visualElement.render(),S&&S(d,h)},a=(d,h)=>this.stop(d,h),l=()=>Sn(d=>{var h;return this.getAnimationState(d)==="paused"&&((h=this.getAxisMotionValue(d).animation)==null?void 0:h.play())}),{dragSnapToOrigin:c}=this.getProps();this.panSession=new XR(t,{onSessionStart:i,onStart:s,onMove:o,onSessionEnd:a,resumeAnimation:l},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:c,contextWindow:YR(this.visualElement)})}stop(t,n){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:i}=n;this.startAnimation(i);const{onDragEnd:s}=this.getProps();s&&Be.postRender(()=>s(t,n))}cancel(){this.isDragging=!1;const{projection:t,animationState:n}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(t,n,r){const{drag:i}=this.getProps();if(!r||!Ed(t,i,this.currentDirection))return;const s=this.getAxisMotionValue(t);let o=this.originPoint[t]+r[t];this.constraints&&this.constraints[t]&&(o=BW(o,this.constraints[t],this.elastic[t])),s.set(o)}resolveConstraints(){var s;const{dragConstraints:t,dragElastic:n}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(s=this.visualElement.projection)==null?void 0:s.layout,i=this.constraints;t&&qo(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&r?this.constraints=zW(r.layoutBox,t):this.constraints=!1,this.elastic=GW(n),i!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&Sn(o=>{this.constraints!==!1&&this.getAxisMotionValue(o)&&(this.constraints[o]=qW(r.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:n}=this.getProps();if(!t||!qo(t))return!1;const r=t.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const s=FW(r,i.root,this.visualElement.getTransformPagePoint());let o=WW(i.layout.layoutBox,s);if(n){const a=n(PW(o));this.hasMutatedConstraints=!!a,a&&(o=zR(a))}return o}startAnimation(t){const{drag:n,dragMomentum:r,dragElastic:i,dragTransition:s,dragSnapToOrigin:o,onDragTransitionEnd:a}=this.getProps(),l=this.constraints||{},c=Sn(d=>{if(!Ed(d,n,this.currentDirection))return;let h=l&&l[d]||{};o&&(h={min:0,max:0});const f=i?200:1e6,g=i?40:1e7,y={type:"inertia",velocity:r?t[d]:0,bounceStiffness:f,bounceDamping:g,timeConstant:750,restDelta:1,restSpeed:10,...s,...h};return this.startAxisValueAnimation(d,y)});return Promise.all(c).then(a)}startAxisValueAnimation(t,n){const r=this.getAxisMotionValue(t);return d0(this.visualElement,t),r.start(R_(t,r,0,n,this.visualElement,!1))}stopAnimation(){Sn(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){Sn(t=>{var n;return(n=this.getAxisMotionValue(t).animation)==null?void 0:n.pause()})}getAnimationState(t){var n;return(n=this.getAxisMotionValue(t).animation)==null?void 0:n.state}getAxisMotionValue(t){const n=`_drag${t.toUpperCase()}`,r=this.visualElement.getProps(),i=r[n];return i||this.visualElement.getValue(t,(r.initial?r.initial[t]:void 0)||0)}snapToCursor(t){Sn(n=>{const{drag:r}=this.getProps();if(!Ed(n,r,this.currentDirection))return;const{projection:i}=this.visualElement,s=this.getAxisMotionValue(n);if(i&&i.layout){const{min:o,max:a}=i.layout.layoutBox[n];s.set(t[n]-Ve(o,a,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!qo(n)||!r||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};Sn(o=>{const a=this.getAxisMotionValue(o);if(a&&this.constraints!==!1){const l=a.get();i[o]=HW({min:l,max:l},this.constraints[o])}});const{transformTemplate:s}=this.visualElement.getProps();this.visualElement.current.style.transform=s?s({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),Sn(o=>{if(!Ed(o,t,null))return;const a=this.getAxisMotionValue(o),{min:l,max:c}=this.constraints[o];a.set(Ve(l,c,i[o]))})}addListeners(){if(!this.visualElement.current)return;KW.set(this.visualElement,this);const t=this.visualElement.current,n=oc(t,"pointerdown",l=>{const{drag:c,dragListener:d=!0}=this.getProps();c&&d&&this.start(l)}),r=()=>{const{dragConstraints:l}=this.getProps();qo(l)&&l.current&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,s=i.addEventListener("measure",r);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),Be.read(r);const o=Qc(window,"resize",()=>this.scalePositionWithinConstraints()),a=i.addEventListener("didUpdate",({delta:l,hasLayoutChanged:c})=>{this.isDragging&&c&&(Sn(d=>{const h=this.getAxisMotionValue(d);h&&(this.originPoint[d]+=l[d].translate,h.set(h.get()+l[d].translate))}),this.visualElement.render())});return()=>{o(),n(),s(),a&&a()}}getProps(){const t=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:i=!1,dragConstraints:s=!1,dragElastic:o=m0,dragMomentum:a=!0}=t;return{...t,drag:n,dragDirectionLock:r,dragPropagation:i,dragConstraints:s,dragElastic:o,dragMomentum:a}}}function Ed(e,t,n){return(t===!0||t===e)&&(n===null||n===e)}function XW(e,t=10){let n=null;return Math.abs(e.y)>t?n="y":Math.abs(e.x)>t&&(n="x"),n}class JW extends fs{constructor(t){super(t),this.removeGroupControls=Dn,this.removeListeners=Dn,this.controls=new YW(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Dn}unmount(){this.removeGroupControls(),this.removeListeners()}}const jC=e=>(t,n)=>{e&&Be.postRender(()=>e(t,n))};class QW extends fs{constructor(){super(...arguments),this.removePointerDownListener=Dn}onPointerDown(t){this.session=new XR(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:YR(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:n,onPan:r,onPanEnd:i}=this.node.getProps();return{onSessionStart:jC(t),onStart:jC(n),onMove:r,onEnd:(s,o)=>{delete this.session,i&&Be.postRender(()=>i(s,o))}}}mount(){this.removePointerDownListener=oc(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const eh={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function FC(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const Cl={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(te.test(e))e=parseFloat(e);else return e;const n=FC(e,t.target.x),r=FC(e,t.target.y);return`${n}% ${r}%`}},ZW={correct:(e,{treeScale:t,projectionDelta:n})=>{const r=e,i=is.parse(e);if(i.length>5)return r;const s=is.createTransformer(e),o=typeof i[0]!="number"?1:0,a=n.x.scale*t.x,l=n.y.scale*t.y;i[0+o]/=a,i[1+o]/=l;const c=Ve(a,l,.5);return typeof i[2+o]=="number"&&(i[2+o]/=c),typeof i[3+o]=="number"&&(i[3+o]/=c),s(i)}};class eH extends w.Component{componentDidMount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:r,layoutId:i}=this.props,{projection:s}=t;Fz(tH),s&&(n.group&&n.group.add(s),r&&r.register&&i&&r.register(s),s.root.didUpdate(),s.addEventListener("animationComplete",()=>{this.safeToRemove()}),s.setOptions({...s.options,onExitComplete:()=>this.safeToRemove()})),eh.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:n,visualElement:r,drag:i,isPresent:s}=this.props,{projection:o}=r;return o&&(o.isPresent=s,i||t.layoutDependency!==n||n===void 0||t.isPresent!==s?o.willUpdate():this.safeToRemove(),t.isPresent!==s&&(s?o.promote():o.relegate()||Be.postRender(()=>{const a=o.getStack();(!a||!a.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),__.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:i}=t;i&&(i.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(i),r&&r.deregister&&r.deregister(i))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function QR(e){const[t,n]=SR(),r=w.useContext(Jw);return m.jsx(eH,{...e,layoutGroup:r,switchLayoutGroup:w.useContext(AR),isPresent:t,safeToRemove:n})}const tH={borderRadius:{...Cl,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Cl,borderTopRightRadius:Cl,borderBottomLeftRadius:Cl,borderBottomRightRadius:Cl,boxShadow:ZW};function nH(e,t,n){const r=Ot(e)?e:Ia(e);return r.start(R_("",r,t,n)),r.animation}const rH=(e,t)=>e.depth-t.depth;class iH{constructor(){this.children=[],this.isDirty=!1}add(t){e_(this.children,t),this.isDirty=!0}remove(t){t_(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(rH),this.isDirty=!1,this.children.forEach(t)}}function sH(e,t){const n=rn.now(),r=({timestamp:i})=>{const s=i-n;s>=t&&(rs(r),e(s-t))};return Be.setup(r,!0),()=>rs(r)}const ZR=["TopLeft","TopRight","BottomLeft","BottomRight"],oH=ZR.length,$C=e=>typeof e=="string"?parseFloat(e):e,VC=e=>typeof e=="number"||te.test(e);function aH(e,t,n,r,i,s){i?(e.opacity=Ve(0,n.opacity??1,lH(r)),e.opacityExit=Ve(t.opacity??1,0,cH(r))):s&&(e.opacity=Ve(t.opacity??1,n.opacity??1,r));for(let o=0;o<oH;o++){const a=`border${ZR[o]}Radius`;let l=UC(t,a),c=UC(n,a);if(l===void 0&&c===void 0)continue;l||(l=0),c||(c=0),l===0||c===0||VC(l)===VC(c)?(e[a]=Math.max(Ve($C(l),$C(c),r),0),(Cr.test(c)||Cr.test(l))&&(e[a]+="%")):e[a]=c}(t.rotate||n.rotate)&&(e.rotate=Ve(t.rotate||0,n.rotate||0,r))}function UC(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const lH=eN(0,.5,qA),cH=eN(.5,.95,Dn);function eN(e,t,n){return r=>r<e?0:r>t?1:n(qc(e,t,r))}function BC(e,t){e.min=t.min,e.max=t.max}function bn(e,t){BC(e.x,t.x),BC(e.y,t.y)}function zC(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function WC(e,t,n,r,i){return e-=t,e=hf(e,1/n,r),i!==void 0&&(e=hf(e,1/i,r)),e}function uH(e,t=0,n=1,r=.5,i,s=e,o=e){if(Cr.test(t)&&(t=parseFloat(t),t=Ve(o.min,o.max,t/100)-o.min),typeof t!="number")return;let a=Ve(s.min,s.max,r);e===s&&(a-=t),e.min=WC(e.min,t,n,a,i),e.max=WC(e.max,t,n,a,i)}function HC(e,t,[n,r,i],s,o){uH(e,t[n],t[r],t[i],t.scale,s,o)}const dH=["x","scaleX","originX"],hH=["y","scaleY","originY"];function qC(e,t,n,r){HC(e.x,t,dH,n?n.x:void 0,r?r.x:void 0),HC(e.y,t,hH,n?n.y:void 0,r?r.y:void 0)}function GC(e){return e.translate===0&&e.scale===1}function tN(e){return GC(e.x)&&GC(e.y)}function KC(e,t){return e.min===t.min&&e.max===t.max}function fH(e,t){return KC(e.x,t.x)&&KC(e.y,t.y)}function YC(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function nN(e,t){return YC(e.x,t.x)&&YC(e.y,t.y)}function XC(e){return zt(e.x)/zt(e.y)}function JC(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}class pH{constructor(){this.members=[]}add(t){e_(this.members,t),t.scheduleRender()}remove(t){if(t_(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(t){const n=this.members.findIndex(i=>t===i);if(n===0)return!1;let r;for(let i=n;i>=0;i--){const s=this.members[i];if(s.isPresent!==!1){r=s;break}}return r?(this.promote(r),!0):!1}promote(t,n){const r=this.lead;if(t!==r&&(this.prevLead=r,this.lead=t,t.show(),r)){r.instance&&r.scheduleRender(),t.scheduleRender(),t.resumeFrom=r,n&&(t.resumeFrom.preserveOpacity=!0),r.snapshot&&(t.snapshot=r.snapshot,t.snapshot.latestValues=r.animationValues||r.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:i}=t.options;i===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:n,resumingFrom:r}=t;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function mH(e,t,n){let r="";const i=e.x.translate/t.x,s=e.y.translate/t.y,o=(n==null?void 0:n.z)||0;if((i||s||o)&&(r=`translate3d(${i}px, ${s}px, ${o}px) `),(t.x!==1||t.y!==1)&&(r+=`scale(${1/t.x}, ${1/t.y}) `),n){const{transformPerspective:c,rotate:d,rotateX:h,rotateY:f,skewX:g,skewY:y}=n;c&&(r=`perspective(${c}px) ${r}`),d&&(r+=`rotate(${d}deg) `),h&&(r+=`rotateX(${h}deg) `),f&&(r+=`rotateY(${f}deg) `),g&&(r+=`skewX(${g}deg) `),y&&(r+=`skewY(${y}deg) `)}const a=e.x.scale*t.x,l=e.y.scale*t.y;return(a!==1||l!==1)&&(r+=`scale(${a}, ${l})`),r||"none"}const fg=["","X","Y","Z"],gH={visibility:"hidden"},yH=1e3;let vH=0;function pg(e,t,n,r){const{latestValues:i}=t;i[e]&&(n[e]=i[e],t.setStaticValue(e,0),r&&(r[e]=0))}function rN(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const n=$R(t);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:i,layoutId:s}=e.options;window.MotionCancelOptimisedAnimation(n,"transform",Be,!(i||s))}const{parent:r}=e;r&&!r.hasCheckedOptimisedAppear&&rN(r)}function iN({attachResizeListener:e,defaultParent:t,measureScroll:n,checkIsScrollRoot:r,resetTransform:i}){return class{constructor(o={},a=t==null?void 0:t()){this.id=vH++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(xH),this.nodes.forEach(TH),this.nodes.forEach(kH),this.nodes.forEach(EH)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=a?a.root||a:this,this.path=a?[...a.path,a]:[],this.parent=a,this.depth=a?a.depth+1:0;for(let l=0;l<this.path.length;l++)this.path[l].shouldResetTransform=!0;this.root===this&&(this.nodes=new iH)}addEventListener(o,a){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new i_),this.eventHandlers.get(o).add(a)}notifyListeners(o,...a){const l=this.eventHandlers.get(o);l&&l.notify(...a)}hasListeners(o){return this.eventHandlers.has(o)}mount(o){if(this.instance)return;this.isSVG=CR(o)&&!pz(o),this.instance=o;const{layoutId:a,layout:l,visualElement:c}=this.options;if(c&&!c.current&&c.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(l||a)&&(this.isLayoutDirty=!0),e){let d;const h=()=>this.root.updateBlockedByResize=!1;e(o,()=>{this.root.updateBlockedByResize=!0,d&&d(),d=sH(h,250),eh.hasAnimatedSinceResize&&(eh.hasAnimatedSinceResize=!1,this.nodes.forEach(ZC))})}a&&this.root.registerSharedNode(a,this),this.options.animate!==!1&&c&&(a||l)&&this.addEventListener("didUpdate",({delta:d,hasLayoutChanged:h,hasRelativeLayoutChanged:f,layout:g})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const y=this.options.transition||c.getDefaultTransition()||NH,{onLayoutAnimationStart:S,onLayoutAnimationComplete:k}=c.getProps(),x=!this.targetLayout||!nN(this.targetLayout,g),C=!h&&f;if(this.options.layoutRoot||this.resumeFrom||C||h&&(x||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(d,C);const E={...v_(y,"layout"),onPlay:S,onComplete:k};(c.shouldReduceMotion||this.options.layoutRoot)&&(E.delay=0,E.type=!1),this.startAnimation(E)}else h||ZC(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=g})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),rs(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(IH),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&rN(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let d=0;d<this.path.length;d++){const h=this.path[d];h.shouldResetTransform=!0,h.updateScroll("snapshot"),h.options.layoutRoot&&h.willUpdate(!1)}const{layoutId:a,layout:l}=this.options;if(a===void 0&&!l)return;const c=this.getTransformTemplate();this.prevTransformTemplateValue=c?c(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(QC);return}this.isUpdating||this.nodes.forEach(CH),this.isUpdating=!1,this.nodes.forEach(SH),this.nodes.forEach(wH),this.nodes.forEach(_H),this.clearAllSnapshots();const a=rn.now();wt.delta=ci(0,1e3/60,a-wt.timestamp),wt.timestamp=a,wt.isProcessing=!0,ig.update.process(wt),ig.preRender.process(wt),ig.render.process(wt),wt.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,__.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(bH),this.sharedNodes.forEach(PH)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Be.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Be.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!zt(this.snapshot.measuredBox.x)&&!zt(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let l=0;l<this.path.length;l++)this.path[l].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Qe(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:a}=this.options;a&&a.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let a=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(a=!1),a&&this.instance){const l=r(this.instance);this.scroll={animationId:this.root.animationId,phase:o,isRoot:l,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:l}}}resetTransform(){if(!i)return;const o=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,a=this.projectionDelta&&!tN(this.projectionDelta),l=this.getTransformTemplate(),c=l?l(this.latestValues,""):void 0,d=c!==this.prevTransformTemplateValue;o&&this.instance&&(a||bs(this.latestValues)||d)&&(i(this.instance,c),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const a=this.measurePageBox();let l=this.removeElementScroll(a);return o&&(l=this.removeTransform(l)),DH(l),{animationId:this.root.animationId,measuredBox:a,layoutBox:l,latestValues:{},source:this.id}}measurePageBox(){var c;const{visualElement:o}=this.options;if(!o)return Qe();const a=o.measureViewportBox();if(!(((c=this.scroll)==null?void 0:c.wasRoot)||this.path.some(OH))){const{scroll:d}=this.root;d&&(Ko(a.x,d.offset.x),Ko(a.y,d.offset.y))}return a}removeElementScroll(o){var l;const a=Qe();if(bn(a,o),(l=this.scroll)!=null&&l.wasRoot)return a;for(let c=0;c<this.path.length;c++){const d=this.path[c],{scroll:h,options:f}=d;d!==this.root&&h&&f.layoutScroll&&(h.wasRoot&&bn(a,o),Ko(a.x,h.offset.x),Ko(a.y,h.offset.y))}return a}applyTransform(o,a=!1){const l=Qe();bn(l,o);for(let c=0;c<this.path.length;c++){const d=this.path[c];!a&&d.options.layoutScroll&&d.scroll&&d!==d.root&&Yo(l,{x:-d.scroll.offset.x,y:-d.scroll.offset.y}),bs(d.latestValues)&&Yo(l,d.latestValues)}return bs(this.latestValues)&&Yo(l,this.latestValues),l}removeTransform(o){const a=Qe();bn(a,o);for(let l=0;l<this.path.length;l++){const c=this.path[l];if(!c.instance||!bs(c.latestValues))continue;f0(c.latestValues)&&c.updateSnapshot();const d=Qe(),h=c.measurePageBox();bn(d,h),qC(a,c.latestValues,c.snapshot?c.snapshot.layoutBox:void 0,d)}return bs(this.latestValues)&&qC(a,this.latestValues),a}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==wt.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var f;const a=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=a.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=a.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=a.isSharedProjectionDirty);const l=!!this.resumingFrom||this!==a;if(!(o||l&&this.isSharedProjectionDirty||this.isProjectionDirty||(f=this.parent)!=null&&f.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:d,layoutId:h}=this.options;if(!(!this.layout||!(d||h))){if(this.resolvedRelativeTargetAt=wt.timestamp,!this.targetDelta&&!this.relativeTarget){const g=this.getClosestProjectingParent();g&&g.layout&&this.animationProgress!==1?(this.relativeParent=g,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Qe(),this.relativeTargetOrigin=Qe(),lc(this.relativeTargetOrigin,this.layout.layoutBox,g.layout.layoutBox),bn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=Qe(),this.targetWithTransforms=Qe()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),LW(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):bn(this.target,this.layout.layoutBox),GR(this.target,this.targetDelta)):bn(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const g=this.getClosestProjectingParent();g&&!!g.resumingFrom==!!this.resumingFrom&&!g.options.layoutScroll&&g.target&&this.animationProgress!==1?(this.relativeParent=g,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Qe(),this.relativeTargetOrigin=Qe(),lc(this.relativeTargetOrigin,this.target,g.target),bn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||f0(this.parent.latestValues)||qR(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var y;const o=this.getLead(),a=!!this.resumingFrom||this!==o;let l=!0;if((this.isProjectionDirty||(y=this.parent)!=null&&y.isProjectionDirty)&&(l=!1),a&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(l=!1),this.resolvedRelativeTargetAt===wt.timestamp&&(l=!1),l)return;const{layout:c,layoutId:d}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(c||d))return;bn(this.layoutCorrected,this.layout.layoutBox);const h=this.treeScale.x,f=this.treeScale.y;jW(this.layoutCorrected,this.treeScale,this.path,a),o.layout&&!o.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(o.target=o.layout.layoutBox,o.targetWithTransforms=Qe());const{target:g}=o;if(!g){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(zC(this.prevProjectionDelta.x,this.projectionDelta.x),zC(this.prevProjectionDelta.y,this.projectionDelta.y)),ac(this.projectionDelta,this.layoutCorrected,g,this.latestValues),(this.treeScale.x!==h||this.treeScale.y!==f||!JC(this.projectionDelta.x,this.prevProjectionDelta.x)||!JC(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",g))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){var a;if((a=this.options.visualElement)==null||a.scheduleRender(),o){const l=this.getStack();l&&l.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Go(),this.projectionDelta=Go(),this.projectionDeltaWithTransform=Go()}setAnimationOrigin(o,a=!1){const l=this.snapshot,c=l?l.latestValues:{},d={...this.latestValues},h=Go();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!a;const f=Qe(),g=l?l.source:void 0,y=this.layout?this.layout.source:void 0,S=g!==y,k=this.getStack(),x=!k||k.members.length<=1,C=!!(S&&!x&&this.options.crossfade===!0&&!this.path.some(RH));this.animationProgress=0;let E;this.mixTargetDelta=I=>{const D=I/1e3;eS(h.x,o.x,D),eS(h.y,o.y,D),this.setTargetDelta(h),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(lc(f,this.layout.layoutBox,this.relativeParent.layout.layoutBox),AH(this.relativeTarget,this.relativeTargetOrigin,f,D),E&&fH(this.relativeTarget,E)&&(this.isProjectionDirty=!1),E||(E=Qe()),bn(E,this.relativeTarget)),S&&(this.animationValues=d,aH(d,c,this.latestValues,D,C,x)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=D},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){var a,l,c;this.notifyListeners("animationStart"),(a=this.currentAnimation)==null||a.stop(!1),(c=(l=this.resumingFrom)==null?void 0:l.currentAnimation)==null||c.stop(!1),this.pendingAnimation&&(rs(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Be.update(()=>{eh.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=Ia(0)),this.currentAnimation=nH(this.motionValue,[0,1e3],{...o,isSync:!0,onUpdate:d=>{this.mixTargetDelta(d),o.onUpdate&&o.onUpdate(d)},onStop:()=>{},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(yH),this.currentAnimation.stop(!1)),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:a,target:l,layout:c,latestValues:d}=o;if(!(!a||!l||!c)){if(this!==o&&this.layout&&c&&sN(this.options.animationType,this.layout.layoutBox,c.layoutBox)){l=this.target||Qe();const h=zt(this.layout.layoutBox.x);l.x.min=o.target.x.min,l.x.max=l.x.min+h;const f=zt(this.layout.layoutBox.y);l.y.min=o.target.y.min,l.y.max=l.y.min+f}bn(a,l),Yo(a,d),ac(this.projectionDeltaWithTransform,this.layoutCorrected,a,d)}}registerSharedNode(o,a){this.sharedNodes.has(o)||this.sharedNodes.set(o,new pH),this.sharedNodes.get(o).add(a);const c=a.options.initialPromotionConfig;a.promote({transition:c?c.transition:void 0,preserveFollowOpacity:c&&c.shouldPreserveFollowOpacity?c.shouldPreserveFollowOpacity(a):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var a;const{layoutId:o}=this.options;return o?((a=this.getStack())==null?void 0:a.lead)||this:this}getPrevLead(){var a;const{layoutId:o}=this.options;return o?(a=this.getStack())==null?void 0:a.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:a,preserveFollowOpacity:l}={}){const c=this.getStack();c&&c.promote(this,l),o&&(this.projectionDelta=void 0,this.needsReset=!0),a&&this.setOptions({transition:a})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetSkewAndRotation(){const{visualElement:o}=this.options;if(!o)return;let a=!1;const{latestValues:l}=o;if((l.z||l.rotate||l.rotateX||l.rotateY||l.rotateZ||l.skewX||l.skewY)&&(a=!0),!a)return;const c={};l.z&&pg("z",o,c,this.animationValues);for(let d=0;d<fg.length;d++)pg(`rotate${fg[d]}`,o,c,this.animationValues),pg(`skew${fg[d]}`,o,c,this.animationValues);o.render();for(const d in c)o.setStaticValue(d,c[d]),this.animationValues&&(this.animationValues[d]=c[d]);o.scheduleRender()}getProjectionStyles(o){if(!this.instance||this.isSVG)return;if(!this.isVisible)return gH;const a={visibility:""},l=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,a.opacity="",a.pointerEvents=Zd(o==null?void 0:o.pointerEvents)||"",a.transform=l?l(this.latestValues,""):"none",a;const c=this.getLead();if(!this.projectionDelta||!this.layout||!c.target){const g={};return this.options.layoutId&&(g.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,g.pointerEvents=Zd(o==null?void 0:o.pointerEvents)||""),this.hasProjected&&!bs(this.latestValues)&&(g.transform=l?l({},""):"none",this.hasProjected=!1),g}const d=c.animationValues||c.latestValues;this.applyTransformsToTarget(),a.transform=mH(this.projectionDeltaWithTransform,this.treeScale,d),l&&(a.transform=l(d,a.transform));const{x:h,y:f}=this.projectionDelta;a.transformOrigin=`${h.origin*100}% ${f.origin*100}% 0`,c.animationValues?a.opacity=c===this?d.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:d.opacityExit:a.opacity=c===this?d.opacity!==void 0?d.opacity:"":d.opacityExit!==void 0?d.opacityExit:0;for(const g in Xc){if(d[g]===void 0)continue;const{correct:y,applyTo:S,isCSSVariable:k}=Xc[g],x=a.transform==="none"?d[g]:y(d[g],c);if(S){const C=S.length;for(let E=0;E<C;E++)a[S[E]]=x}else k?this.options.visualElement.renderState.vars[g]=x:a[g]=x}return this.options.layoutId&&(a.pointerEvents=c===this?Zd(o==null?void 0:o.pointerEvents)||"":"none"),a}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var a;return(a=o.currentAnimation)==null?void 0:a.stop(!1)}),this.root.nodes.forEach(QC),this.root.sharedNodes.clear()}}}function wH(e){e.updateLayout()}function _H(e){var n;const t=((n=e.resumeFrom)==null?void 0:n.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&t&&e.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:i}=e.layout,{animationType:s}=e.options,o=t.source!==e.layout.source;s==="size"?Sn(h=>{const f=o?t.measuredBox[h]:t.layoutBox[h],g=zt(f);f.min=r[h].min,f.max=f.min+g}):sN(s,t.layoutBox,r)&&Sn(h=>{const f=o?t.measuredBox[h]:t.layoutBox[h],g=zt(r[h]);f.max=f.min+g,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[h].max=e.relativeTarget[h].min+g)});const a=Go();ac(a,r,t.layoutBox);const l=Go();o?ac(l,e.applyTransform(i,!0),t.measuredBox):ac(l,r,t.layoutBox);const c=!tN(a);let d=!1;if(!e.resumeFrom){const h=e.getClosestProjectingParent();if(h&&!h.resumeFrom){const{snapshot:f,layout:g}=h;if(f&&g){const y=Qe();lc(y,t.layoutBox,f.layoutBox);const S=Qe();lc(S,r,g.layoutBox),nN(y,S)||(d=!0),h.options.layoutRoot&&(e.relativeTarget=S,e.relativeTargetOrigin=y,e.relativeParent=h)}}}e.notifyListeners("didUpdate",{layout:r,snapshot:t,delta:l,layoutDelta:a,hasLayoutChanged:c,hasRelativeLayoutChanged:d})}else if(e.isLead()){const{onExitComplete:r}=e.options;r&&r()}e.options.transition=void 0}function xH(e){e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function EH(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function bH(e){e.clearSnapshot()}function QC(e){e.clearMeasurements()}function CH(e){e.isLayoutDirty=!1}function SH(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function ZC(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function TH(e){e.resolveTargetDelta()}function kH(e){e.calcProjection()}function IH(e){e.resetSkewAndRotation()}function PH(e){e.removeLeadSnapshot()}function eS(e,t,n){e.translate=Ve(t.translate,0,n),e.scale=Ve(t.scale,1,n),e.origin=t.origin,e.originPoint=t.originPoint}function tS(e,t,n,r){e.min=Ve(t.min,n.min,r),e.max=Ve(t.max,n.max,r)}function AH(e,t,n,r){tS(e.x,t.x,n.x,r),tS(e.y,t.y,n.y,r)}function RH(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const NH={duration:.45,ease:[.4,0,.1,1]},nS=e=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),rS=nS("applewebkit/")&&!nS("chrome/")?Math.round:Dn;function iS(e){e.min=rS(e.min),e.max=rS(e.max)}function DH(e){iS(e.x),iS(e.y)}function sN(e,t,n){return e==="position"||e==="preserve-aspect"&&!MW(XC(t),XC(n),.2)}function OH(e){var t;return e!==e.root&&((t=e.scroll)==null?void 0:t.wasRoot)}const MH=iN({attachResizeListener:(e,t)=>Qc(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),mg={current:void 0},oN=iN({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!mg.current){const e=new MH({});e.mount(window),e.setOptions({layoutScroll:!0}),mg.current=e}return mg.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),LH={pan:{Feature:QW},drag:{Feature:JW,ProjectionNode:oN,MeasureLayout:QR}};function sS(e,t,n){const{props:r}=e;e.animationState&&r.whileHover&&e.animationState.setActive("whileHover",n==="Start");const i="onHover"+n,s=r[i];s&&Be.postRender(()=>s(t,ku(t)))}class jH extends fs{mount(){const{current:t}=this.node;t&&(this.unmount=cz(t,(n,r)=>(sS(this.node,r,"Start"),i=>sS(this.node,i,"End"))))}unmount(){}}class FH extends fs{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Cu(Qc(this.node.current,"focus",()=>this.onFocus()),Qc(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function oS(e,t,n){const{props:r}=e;if(e.current instanceof HTMLButtonElement&&e.current.disabled)return;e.animationState&&r.whileTap&&e.animationState.setActive("whileTap",n==="Start");const i="onTap"+(n==="End"?"":n),s=r[i];s&&Be.postRender(()=>s(t,ku(t)))}class $H extends fs{mount(){const{current:t}=this.node;t&&(this.unmount=fz(t,(n,r)=>(oS(this.node,r,"Start"),(i,{success:s})=>oS(this.node,i,s?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const g0=new WeakMap,gg=new WeakMap,VH=e=>{const t=g0.get(e.target);t&&t(e)},UH=e=>{e.forEach(VH)};function BH({root:e,...t}){const n=e||document;gg.has(n)||gg.set(n,{});const r=gg.get(n),i=JSON.stringify(t);return r[i]||(r[i]=new IntersectionObserver(UH,{root:e,...t})),r[i]}function zH(e,t,n){const r=BH(t);return g0.set(e,n),r.observe(e),()=>{g0.delete(e),r.unobserve(e)}}const WH={some:0,all:1};class HH extends fs{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:n,margin:r,amount:i="some",once:s}=t,o={root:n?n.current:void 0,rootMargin:r,threshold:typeof i=="number"?i:WH[i]},a=l=>{const{isIntersecting:c}=l;if(this.isInView===c||(this.isInView=c,s&&!c&&this.hasEnteredView))return;c&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",c);const{onViewportEnter:d,onViewportLeave:h}=this.node.getProps(),f=c?d:h;f&&f(l)};return zH(this.node.current,o,a)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:n}=this.node;["amount","margin","root"].some(qH(t,n))&&this.startObserver()}unmount(){}}function qH({viewport:e={}},{viewport:t={}}={}){return n=>e[n]!==t[n]}const GH={inView:{Feature:HH},tap:{Feature:$H},focus:{Feature:FH},hover:{Feature:jH}},KH={layout:{ProjectionNode:oN,MeasureLayout:QR}},y0={current:null},aN={current:!1};function YH(){if(aN.current=!0,!!Zw)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>y0.current=e.matches;e.addListener(t),t()}else y0.current=!1}const XH=new WeakMap;function JH(e,t,n){for(const r in t){const i=t[r],s=n[r];if(Ot(i))e.addValue(r,i);else if(Ot(s))e.addValue(r,Ia(i,{owner:e}));else if(s!==i)if(e.hasValue(r)){const o=e.getValue(r);o.liveStyle===!0?o.jump(i):o.hasAnimated||o.set(i)}else{const o=e.getStaticValue(r);e.addValue(r,Ia(o!==void 0?o:i,{owner:e}))}}for(const r in n)t[r]===void 0&&e.removeValue(r);return t}const aS=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class QH{scrapeMotionValuesFromProps(t,n,r){return{}}constructor({parent:t,props:n,presenceContext:r,reducedMotionConfig:i,blockInitialAnimation:s,visualState:o},a={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=g_,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const f=rn.now();this.renderScheduledAt<f&&(this.renderScheduledAt=f,Be.render(this.render,!1,!0))};const{latestValues:l,renderState:c}=o;this.latestValues=l,this.baseTarget={...l},this.initialValues=n.initial?{...l}:{},this.renderState=c,this.parent=t,this.props=n,this.presenceContext=r,this.depth=t?t.depth+1:0,this.reducedMotionConfig=i,this.options=a,this.blockInitialAnimation=!!s,this.isControllingVariants=cp(n),this.isVariantNode=IR(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:d,...h}=this.scrapeMotionValuesFromProps(n,{},this);for(const f in h){const g=h[f];l[f]!==void 0&&Ot(g)&&g.set(l[f],!1)}}mount(t){this.current=t,XH.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),aN.current||YH(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:y0.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),rs(this.notifyUpdate),rs(this.render),this.valueSubscriptions.forEach(t=>t()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const t in this.events)this.events[t].clear();for(const t in this.features){const n=this.features[t];n&&(n.unmount(),n.isMounted=!1)}this.current=null}bindToMotionValue(t,n){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const r=Ka.has(t);r&&this.onBindTransform&&this.onBindTransform();const i=n.on("change",a=>{this.latestValues[t]=a,this.props.onUpdate&&Be.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0)}),s=n.on("renderRequest",this.scheduleRender);let o;window.MotionCheckAppearSync&&(o=window.MotionCheckAppearSync(this,t,n)),this.valueSubscriptions.set(t,()=>{i(),s(),o&&o(),n.owner&&n.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in Pa){const n=Pa[t];if(!n)continue;const{isEnabled:r,Feature:i}=n;if(!this.features[t]&&i&&r(this.props)&&(this.features[t]=new i(this)),this.features[t]){const s=this.features[t];s.isMounted?s.update():(s.mount(),s.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Qe()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,n){this.latestValues[t]=n}update(t,n){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<aS.length;r++){const i=aS[r];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const s="on"+i,o=t[s];o&&(this.propEventSubscriptions[i]=this.on(i,o))}this.prevMotionValues=JH(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(t),()=>n.variantChildren.delete(t)}addValue(t,n){const r=this.values.get(t);n!==r&&(r&&this.removeValue(t),this.bindToMotionValue(t,n),this.values.set(t,n),this.latestValues[t]=n.get())}removeValue(t){this.values.delete(t);const n=this.valueSubscriptions.get(t);n&&(n(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,n){if(this.props.values&&this.props.values[t])return this.props.values[t];let r=this.values.get(t);return r===void 0&&n!==void 0&&(r=Ia(n===null?void 0:n,{owner:this}),this.addValue(t,r)),r}readValue(t,n){let r=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:this.getBaseTargetFromProps(this.props,t)??this.readValueFromInstance(this.current,t,this.options);return r!=null&&(typeof r=="string"&&(LA(r)||FA(r))?r=parseFloat(r):!gz(r)&&is.test(n)&&(r=wR(t,n)),this.setBaseTarget(t,Ot(r)?r.get():r)),Ot(r)?r.get():r}setBaseTarget(t,n){this.baseTarget[t]=n}getBaseTarget(t){var s;const{initial:n}=this.props;let r;if(typeof n=="string"||typeof n=="object"){const o=P_(this.props,n,(s=this.presenceContext)==null?void 0:s.custom);o&&(r=o[t])}if(n&&r!==void 0)return r;const i=this.getBaseTargetFromProps(this.props,t);return i!==void 0&&!Ot(i)?i:this.initialValues[t]!==void 0&&r===void 0?void 0:this.baseTarget[t]}on(t,n){return this.events[t]||(this.events[t]=new i_),this.events[t].add(n)}notify(t,...n){this.events[t]&&this.events[t].notify(...n)}}class lN extends QH{constructor(){super(...arguments),this.KeyframeResolver=iz}sortInstanceNodePosition(t,n){return t.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(t,n){return t.style?t.style[n]:void 0}removeValueFromRenderState(t,{vars:n,style:r}){delete n[t],delete r[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;Ot(t)&&(this.childSubscription=t.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function cN(e,{style:t,vars:n},r,i){Object.assign(e.style,t,i&&i.getProjectionStyles(r));for(const s in n)e.style.setProperty(s,n[s])}function ZH(e){return window.getComputedStyle(e)}class eq extends lN{constructor(){super(...arguments),this.type="html",this.renderInstance=cN}readValueFromInstance(t,n){var r;if(Ka.has(n))return(r=this.projection)!=null&&r.isProjecting?i0(n):b7(t,n);{const i=ZH(t),s=(a_(n)?i.getPropertyValue(n):i[n])||0;return typeof s=="string"?s.trim():s}}measureInstanceViewportBox(t,{transformPagePoint:n}){return KR(t,n)}build(t,n,r){T_(t,n,r.transformTemplate)}scrapeMotionValuesFromProps(t,n,r){return A_(t,n,r)}}const uN=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function tq(e,t,n,r){cN(e,t,void 0,r);for(const i in t.attrs)e.setAttribute(uN.has(i)?i:S_(i),t.attrs[i])}class nq extends lN{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Qe}getBaseTargetFromProps(t,n){return t[n]}readValueFromInstance(t,n){if(Ka.has(n)){const r=vR(n);return r&&r.default||0}return n=uN.has(n)?n:S_(n),t.getAttribute(n)}scrapeMotionValuesFromProps(t,n,r){return FR(t,n,r)}build(t,n,r){OR(t,n,this.isSVGTag,r.transformTemplate,r.style)}renderInstance(t,n,r,i){tq(t,n,r,i)}mount(t){this.isSVGTag=LR(t.tagName),super.mount(t)}}const rq=(e,t)=>I_(e)?new nq(t):new eq(t,{allowProjection:e!==w.Fragment}),iq=tW({...kW,...GH,...LH,...KH},rq),sq=Tz(iq);function oq(){const e=Ar(),t=Pr(),[n,r]=w.useState(null),[i,s]=w.useState(null),[o,a]=w.useState(null),[l,c]=w.useState(null),[d,h]=w.useState(Array(6).fill({nombre:"",dorsal:""})),[f,g]=w.useState(Array(6).fill({nombre:"",dorsal:""})),[y,S]=w.useState(null);w.useState(!1),w.useEffect(()=>{var T,b;(T=t.state)!=null&&T.equipoLocal&&((b=t.state)!=null&&b.equipoVisita)?(r(t.state),s(t.state.equipoLocal),a(t.state.equipoVisita),c(t.state.genero)):(console.warn("[Alineacion.jsx] No se recibieron datos de configuración del partido. Redirigiendo."),e("/partido/configurar"))},[t.state,e]);const k=(T,b)=>{const P=b==="local"?d[T]:f[T],v=b==="local"?d:f,R=b==="local"?i==null?void 0:i.nombre:o==null?void 0:o.nombre;S({tipo:b,index:T,jugador:P,jugadoresActuales:v,nombreEquipo:R,generoPartido:l})},x=(T,b,P)=>{const v=b==="local"?h:g,O=[...b==="local"?d:f];O[T]=P,v(O),S(null)},C=async()=>{let T=null;try{const b=G=>G.every($=>$.nombre.trim()!==""&&$.dorsal.trim()!=="");if(!b(d)||!b(f)){alert("Todos los jugadores deben tener nombre y dorsal antes de continuar.");return}const P=ie(se,"partidos");T=Xd(P).key;const[R,O]=await Promise.all([Nn(ie(se,`plantillas/${l.toLowerCase()}/${i.nombre.toLowerCase()}`)),Nn(ie(se,`plantillas/${l.toLowerCase()}/${o.nombre.toLowerCase()}`))]),N=R.exists()?R.val():Jy[i.nombre.toLowerCase()]||[],V=O.exists()?O.val():Jy[o.nombre.toLowerCase()]||[],z={nombre:i.nombre,logo:i.escudo.split("/").pop(),jugadores:d.map(G=>({...G,enJuego:!0,haJugado:!0})),todosJugadores:N},Y={nombre:o.nombre,logo:o.escudo.split("/").pop(),jugadores:f.map(G=>({...G,enJuego:!0,haJugado:!0})),todosJugadores:V};await ft(ie(se,`partidos/${T}/alineacion`),{equipo1:z,equipo2:Y,genero:l}),await ft(ie(se,`partidos/${T}/marcador`),{equipo1:0,equipo2:0}),e(`/control-partido/${T}`)}catch(b){alert("❌ ERROR al confirmar alineación: "+b.message),console.error("Error al confirmar alineación:",b)}},E=T=>`/EmproChampions-2025/camisas/camisa-${T.toLowerCase().replace(/\s+/g,"-")}.png`,I=T=>["don bosco","luz","emprosaurios"].includes(T.toLowerCase())?"#000":"#fff",D=[{top:"15%",left:"18%"},{top:"15%",left:"62%"},{top:"38%",left:"40%"},{top:"55%",left:"17%"},{top:"55%",left:"63%"},{top:"74%",left:"40%"}],M=(T,b,P,v)=>m.jsx(sq.div,{className:"absolute cursor-pointer",style:{top:D[b].top,left:D[b].left,transform:"translate(-50%, -50%)"},animate:{scale:(y==null?void 0:y.index)===b&&(y==null?void 0:y.tipo)===P?1.5:1},transition:{duration:.3},onClick:()=>k(b,P),children:m.jsxs("div",{className:"relative w-fit flex flex-col items-center",children:[m.jsx("div",{className:"absolute top-[12%] font-barcelona text-[24px] md:text-[30px] z-20 pointer-events-none",style:{color:I((P==="local"?i==null?void 0:i.nombre:o==null?void 0:o.nombre)||""),textShadow:"1px 1px 1px rgba(0,0,0,0.6)"},children:T.dorsal}),m.jsx("img",{src:v,className:"w-16 md:w-20 relative z-10",alt:`jugador-${P}`}),T.nombre&&m.jsx("div",{className:"absolute bottom-[-18px] font-barcelona text-[11px] text-white bg-black/80 px-2 py-[2px] rounded text-center z-20",children:T.nombre})]})},b);return!i||!o?null:m.jsxs("div",{className:"min-h-screen bg-cover bg-center font-qatar text-white",style:{backgroundImage:"url('/EmproChampions-2025/img/fondoempro-horizontal.png')"},children:[m.jsx(kr,{}),m.jsx("h1",{className:"text-3xl sm:text-5xl font-bold text-center mt-6 text-yellow-400 drop-shadow",children:"Alineación Inicial"}),m.jsxs("div",{className:"flex flex-col lg:flex-row items-center justify-center gap-4 lg:gap-8 p-2 lg:p-6",children:[m.jsxs("div",{className:"relative w-[300px] h-[510px] sm:w-[320px] sm:h-[540px] md:w-[400px] md:h-[640px]",children:[m.jsx("img",{src:"/EmproChampions-2025/img/cancha-vertical.svg",alt:"cancha local",className:"w-full h-full"}),d.map((T,b)=>M(T,b,"local",E(i.nombre)))]}),m.jsxs("div",{className:"flex flex-col items-center gap-4 my-4 lg:my-0",children:[m.jsx("img",{src:"/img/logo-empro.png",alt:"logo empro",className:"w-20 md:w-32"}),m.jsxs("div",{className:"flex items-center gap-4 md:gap-10",children:[m.jsx("img",{src:i.escudo,className:"w-20 h-20 md:w-24 md:h-24 object-contain",alt:"local logo"}),m.jsx("span",{className:"text-white text-3xl md:text-4xl font-black",children:"VS"}),m.jsx("img",{src:o.escudo,className:"w-20 h-20 md:w-24 md:h-24 object-contain",alt:"visita logo"})]}),m.jsx("button",{onClick:()=>e("/partido/configurar"),className:"bg-white/80 text-[#7a0026] font-bold px-6 py-2 rounded-full hover:bg-white transition",children:"⬅ Volver"})]}),m.jsxs("div",{className:"relative w-[300px] h-[510px] sm:w-[320px] sm:h-[540px] md:w-[400px] md:h-[640px]",children:[m.jsx("img",{src:"/EmproChampions-2025/img/cancha-vertical.svg",alt:"cancha visita",className:"w-full h-full"}),f.map((T,b)=>M(T,b,"visita",E(o.nombre)))]})]}),m.jsx("div",{className:"flex justify-center mt-6 pb-10",children:m.jsx("button",{onClick:C,className:"bg-[#FFD700] text-[#7a0026] font-bold px-10 py-3 rounded-full hover:bg-yellow-300 transition text-xl shadow-lg",children:"Confirmar Alineación"})}),m.jsx(xz,{children:y&&m.jsx(_8,{...y,onSave:x,onClose:()=>S(null),camiseta:E(y.tipo==="local"?i.nombre:o.nombre),dorsalColor:I(y.tipo==="local"?i.nombre:o.nombre)})}),m.jsx(Ir,{})]})}function ro(e){return e&&e.ownerDocument||document}function ff(e){return ro(e).defaultView||window}function aq(e=window){const t=e.document.documentElement.clientWidth;return e.innerWidth-t}function lq(e){const t=ro(e);return t.body===e?ff(e).innerWidth>t.documentElement.clientWidth:e.scrollHeight>e.clientHeight}function cc(e,t){t?e.setAttribute("aria-hidden","true"):e.removeAttribute("aria-hidden")}function lS(e){return parseInt(ff(e).getComputedStyle(e).paddingRight,10)||0}function cq(e){const n=["TEMPLATE","SCRIPT","STYLE","LINK","MAP","META","NOSCRIPT","PICTURE","COL","COLGROUP","PARAM","SLOT","SOURCE","TRACK"].includes(e.tagName),r=e.tagName==="INPUT"&&e.getAttribute("type")==="hidden";return n||r}function cS(e,t,n,r,i){const s=[t,n,...r];[].forEach.call(e.children,o=>{const a=!s.includes(o),l=!cq(o);a&&l&&cc(o,i)})}function yg(e,t){let n=-1;return e.some((r,i)=>t(r)?(n=i,!0):!1),n}function uq(e,t){const n=[],r=e.container;if(!t.disableScrollLock){if(lq(r)){const o=aq(ff(r));n.push({value:r.style.paddingRight,property:"padding-right",el:r}),r.style.paddingRight=`${lS(r)+o}px`;const a=ro(r).querySelectorAll(".mui-fixed");[].forEach.call(a,l=>{n.push({value:l.style.paddingRight,property:"padding-right",el:l}),l.style.paddingRight=`${lS(l)+o}px`})}let s;if(r.parentNode instanceof DocumentFragment)s=ro(r).body;else{const o=r.parentElement,a=ff(r);s=(o==null?void 0:o.nodeName)==="HTML"&&a.getComputedStyle(o).overflowY==="scroll"?o:r}n.push({value:s.style.overflow,property:"overflow",el:s},{value:s.style.overflowX,property:"overflow-x",el:s},{value:s.style.overflowY,property:"overflow-y",el:s}),s.style.overflow="hidden"}return()=>{n.forEach(({value:s,el:o,property:a})=>{s?o.style.setProperty(a,s):o.style.removeProperty(a)})}}function dq(e){const t=[];return[].forEach.call(e.children,n=>{n.getAttribute("aria-hidden")==="true"&&t.push(n)}),t}class hq{constructor(){this.modals=[],this.containers=[]}add(t,n){let r=this.modals.indexOf(t);if(r!==-1)return r;r=this.modals.length,this.modals.push(t),t.modalRef&&cc(t.modalRef,!1);const i=dq(n);cS(n,t.mount,t.modalRef,i,!0);const s=yg(this.containers,o=>o.container===n);return s!==-1?(this.containers[s].modals.push(t),r):(this.containers.push({modals:[t],container:n,restore:null,hiddenSiblings:i}),r)}mount(t,n){const r=yg(this.containers,s=>s.modals.includes(t)),i=this.containers[r];i.restore||(i.restore=uq(i,n))}remove(t,n=!0){const r=this.modals.indexOf(t);if(r===-1)return r;const i=yg(this.containers,o=>o.modals.includes(t)),s=this.containers[i];if(s.modals.splice(s.modals.indexOf(t),1),this.modals.splice(r,1),s.modals.length===0)s.restore&&s.restore(),t.modalRef&&cc(t.modalRef,n),cS(s.container,t.mount,t.modalRef,s.hiddenSiblings,!1),this.containers.splice(i,1);else{const o=s.modals[s.modals.length-1];o.modalRef&&cc(o.modalRef,!1)}return r}isTopModal(t){return this.modals.length>0&&this.modals[this.modals.length-1]===t}}function dN(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(n=dN(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function Aa(){for(var e,t,n=0,r="",i=arguments.length;n<i;n++)(e=arguments[n])&&(t=dN(e))&&(r&&(r+=" "),r+=t);return r}function hN(e,t,n=void 0){const r={};for(const i in e){const s=e[i];let o="",a=!0;for(let l=0;l<s.length;l+=1){const c=s[l];c&&(o+=(a===!0?"":" ")+t(c),a=!1,n&&n[c]&&(o+=" "+n[c]))}r[i]=o}return r}function Iu(...e){const t=w.useRef(void 0),n=w.useCallback(r=>{const i=e.map(s=>{if(s==null)return null;if(typeof s=="function"){const o=s,a=o(r);return typeof a=="function"?a:()=>{o(null)}}return s.current=r,()=>{s.current=null}});return()=>{i.forEach(s=>s==null?void 0:s())}},e);return w.useMemo(()=>e.every(r=>r==null)?null:r=>{t.current&&(t.current(),t.current=void 0),r!=null&&(t.current=n(r))},e)}function N_(e){var t;return parseInt(w.version,10)>=19?((t=e==null?void 0:e.props)==null?void 0:t.ref)||null:(e==null?void 0:e.ref)||null}const fq=["input","select","textarea","a[href]","button","[tabindex]","audio[controls]","video[controls]",'[contenteditable]:not([contenteditable="false"])'].join(",");function pq(e){const t=parseInt(e.getAttribute("tabindex")||"",10);return Number.isNaN(t)?e.contentEditable==="true"||(e.nodeName==="AUDIO"||e.nodeName==="VIDEO"||e.nodeName==="DETAILS")&&e.getAttribute("tabindex")===null?0:e.tabIndex:t}function mq(e){if(e.tagName!=="INPUT"||e.type!=="radio"||!e.name)return!1;const t=r=>e.ownerDocument.querySelector(`input[type="radio"]${r}`);let n=t(`[name="${e.name}"]:checked`);return n||(n=t(`[name="${e.name}"]`)),n!==e}function gq(e){return!(e.disabled||e.tagName==="INPUT"&&e.type==="hidden"||mq(e))}function yq(e){const t=[],n=[];return Array.from(e.querySelectorAll(fq)).forEach((r,i)=>{const s=pq(r);s===-1||!gq(r)||(s===0?t.push(r):n.push({documentOrder:i,tabIndex:s,node:r}))}),n.sort((r,i)=>r.tabIndex===i.tabIndex?r.documentOrder-i.documentOrder:r.tabIndex-i.tabIndex).map(r=>r.node).concat(t)}function vq(){return!0}function wq(e){const{children:t,disableAutoFocus:n=!1,disableEnforceFocus:r=!1,disableRestoreFocus:i=!1,getTabbable:s=yq,isEnabled:o=vq,open:a}=e,l=w.useRef(!1),c=w.useRef(null),d=w.useRef(null),h=w.useRef(null),f=w.useRef(null),g=w.useRef(!1),y=w.useRef(null),S=Iu(N_(t),y),k=w.useRef(null);w.useEffect(()=>{!a||!y.current||(g.current=!n)},[n,a]),w.useEffect(()=>{if(!a||!y.current)return;const E=ro(y.current);return y.current.contains(E.activeElement)||(y.current.hasAttribute("tabIndex")||y.current.setAttribute("tabIndex","-1"),g.current&&y.current.focus()),()=>{i||(h.current&&h.current.focus&&(l.current=!0,h.current.focus()),h.current=null)}},[a]),w.useEffect(()=>{if(!a||!y.current)return;const E=ro(y.current),I=T=>{k.current=T,!(r||!o()||T.key!=="Tab")&&E.activeElement===y.current&&T.shiftKey&&(l.current=!0,d.current&&d.current.focus())},D=()=>{var P,v;const T=y.current;if(T===null)return;if(!E.hasFocus()||!o()||l.current){l.current=!1;return}if(T.contains(E.activeElement)||r&&E.activeElement!==c.current&&E.activeElement!==d.current)return;if(E.activeElement!==f.current)f.current=null;else if(f.current!==null)return;if(!g.current)return;let b=[];if((E.activeElement===c.current||E.activeElement===d.current)&&(b=s(y.current)),b.length>0){const R=!!((P=k.current)!=null&&P.shiftKey&&((v=k.current)==null?void 0:v.key)==="Tab"),O=b[0],N=b[b.length-1];typeof O!="string"&&typeof N!="string"&&(R?N.focus():O.focus())}else T.focus()};E.addEventListener("focusin",D),E.addEventListener("keydown",I,!0);const M=setInterval(()=>{E.activeElement&&E.activeElement.tagName==="BODY"&&D()},50);return()=>{clearInterval(M),E.removeEventListener("focusin",D),E.removeEventListener("keydown",I,!0)}},[n,r,i,o,a,s]);const x=E=>{h.current===null&&(h.current=E.relatedTarget),g.current=!0,f.current=E.target;const I=t.props.onFocus;I&&I(E)},C=E=>{h.current===null&&(h.current=E.relatedTarget),g.current=!0};return m.jsxs(w.Fragment,{children:[m.jsx("div",{tabIndex:a?0:-1,onFocus:C,ref:c,"data-testid":"sentinelStart"}),w.cloneElement(t,{ref:S,onFocus:x}),m.jsx("div",{tabIndex:a?0:-1,onFocus:C,ref:d,"data-testid":"sentinelEnd"})]})}const _q=typeof window<"u"?w.useLayoutEffect:w.useEffect,v0=_q;function uS(e,t){typeof e=="function"?e(t):e&&(e.current=t)}function xq(e){return typeof e=="function"?e():e}const Eq=w.forwardRef(function(t,n){const{children:r,container:i,disablePortal:s=!1}=t,[o,a]=w.useState(null),l=Iu(w.isValidElement(r)?N_(r):null,n);if(v0(()=>{s||a(xq(i)||document.body)},[i,s]),v0(()=>{if(o&&!s)return uS(n,o),()=>{uS(n,null)}},[n,o,s]),s){if(w.isValidElement(r)){const c={ref:l};return w.cloneElement(r,c)}return r}return o&&Lf.createPortal(r,o)}),bq=Eq;function io(e,...t){const n=new URL(`https://mui.com/production-error/?code=${e}`);return t.forEach(r=>n.searchParams.append("args[]",r)),`Minified MUI error #${e}; visit ${n} for the full message.`}function fN(e){if(typeof e!="string")throw new Error(io(7));return e.charAt(0).toUpperCase()+e.slice(1)}var pN={exports:{}},ke={};/**
 * @license React
 * react-is.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var D_=Symbol.for("react.transitional.element"),O_=Symbol.for("react.portal"),up=Symbol.for("react.fragment"),dp=Symbol.for("react.strict_mode"),hp=Symbol.for("react.profiler"),fp=Symbol.for("react.consumer"),pp=Symbol.for("react.context"),mp=Symbol.for("react.forward_ref"),gp=Symbol.for("react.suspense"),yp=Symbol.for("react.suspense_list"),vp=Symbol.for("react.memo"),wp=Symbol.for("react.lazy"),Cq=Symbol.for("react.view_transition"),Sq=Symbol.for("react.client.reference");function Fn(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case D_:switch(e=e.type,e){case up:case hp:case dp:case gp:case yp:case Cq:return e;default:switch(e=e&&e.$$typeof,e){case pp:case mp:case wp:case vp:return e;case fp:return e;default:return t}}case O_:return t}}}ke.ContextConsumer=fp;ke.ContextProvider=pp;ke.Element=D_;ke.ForwardRef=mp;ke.Fragment=up;ke.Lazy=wp;ke.Memo=vp;ke.Portal=O_;ke.Profiler=hp;ke.StrictMode=dp;ke.Suspense=gp;ke.SuspenseList=yp;ke.isContextConsumer=function(e){return Fn(e)===fp};ke.isContextProvider=function(e){return Fn(e)===pp};ke.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===D_};ke.isForwardRef=function(e){return Fn(e)===mp};ke.isFragment=function(e){return Fn(e)===up};ke.isLazy=function(e){return Fn(e)===wp};ke.isMemo=function(e){return Fn(e)===vp};ke.isPortal=function(e){return Fn(e)===O_};ke.isProfiler=function(e){return Fn(e)===hp};ke.isStrictMode=function(e){return Fn(e)===dp};ke.isSuspense=function(e){return Fn(e)===gp};ke.isSuspenseList=function(e){return Fn(e)===yp};ke.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===up||e===hp||e===dp||e===gp||e===yp||typeof e=="object"&&e!==null&&(e.$$typeof===wp||e.$$typeof===vp||e.$$typeof===pp||e.$$typeof===fp||e.$$typeof===mp||e.$$typeof===Sq||e.getModuleId!==void 0)};ke.typeOf=Fn;pN.exports=ke;var mN=pN.exports;function vr(e){if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)}function gN(e){if(w.isValidElement(e)||mN.isValidElementType(e)||!vr(e))return e;const t={};return Object.keys(e).forEach(n=>{t[n]=gN(e[n])}),t}function gn(e,t,n={clone:!0}){const r=n.clone?{...e}:e;return vr(e)&&vr(t)&&Object.keys(t).forEach(i=>{w.isValidElement(t[i])||mN.isValidElementType(t[i])?r[i]=t[i]:vr(t[i])&&Object.prototype.hasOwnProperty.call(e,i)&&vr(e[i])?r[i]=gn(e[i],t[i],n):n.clone?r[i]=vr(t[i])?gN(t[i]):t[i]:r[i]=t[i]}),r}function uc(e,t){return t?gn(e,t,{clone:!1}):e}function Tq(e,t){if(!e.containerQueries)return t;const n=Object.keys(t).filter(r=>r.startsWith("@container")).sort((r,i)=>{var o,a;const s=/min-width:\s*([0-9.]+)/;return+(((o=r.match(s))==null?void 0:o[1])||0)-+(((a=i.match(s))==null?void 0:a[1])||0)});return n.length?n.reduce((r,i)=>{const s=t[i];return delete r[i],r[i]=s,r},{...t}):t}function kq(e,t){return t==="@"||t.startsWith("@")&&(e.some(n=>t.startsWith(`@${n}`))||!!t.match(/^@\d/))}function Iq(e,t){const n=t.match(/^@([^/]+)?\/?(.+)?$/);if(!n)return null;const[,r,i]=n,s=Number.isNaN(+r)?r||0:+r;return e.containerQueries(i).up(s)}function Pq(e){const t=(s,o)=>s.replace("@media",o?`@container ${o}`:"@container");function n(s,o){s.up=(...a)=>t(e.breakpoints.up(...a),o),s.down=(...a)=>t(e.breakpoints.down(...a),o),s.between=(...a)=>t(e.breakpoints.between(...a),o),s.only=(...a)=>t(e.breakpoints.only(...a),o),s.not=(...a)=>{const l=t(e.breakpoints.not(...a),o);return l.includes("not all and")?l.replace("not all and ","").replace("min-width:","width<").replace("max-width:","width>").replace("and","or"):l}}const r={},i=s=>(n(r,s),r);return n(i),{...e,containerQueries:i}}const _p={xs:0,sm:600,md:900,lg:1200,xl:1536},dS={keys:["xs","sm","md","lg","xl"],up:e=>`@media (min-width:${_p[e]}px)`},Aq={containerQueries:e=>({up:t=>{let n=typeof t=="number"?t:_p[t]||t;return typeof n=="number"&&(n=`${n}px`),e?`@container ${e} (min-width:${n})`:`@container (min-width:${n})`}})};function di(e,t,n){const r=e.theme||{};if(Array.isArray(t)){const s=r.breakpoints||dS;return t.reduce((o,a,l)=>(o[s.up(s.keys[l])]=n(t[l]),o),{})}if(typeof t=="object"){const s=r.breakpoints||dS;return Object.keys(t).reduce((o,a)=>{if(kq(s.keys,a)){const l=Iq(r.containerQueries?r:Aq,a);l&&(o[l]=n(t[a],a))}else if(Object.keys(s.values||_p).includes(a)){const l=s.up(a);o[l]=n(t[a],a)}else{const l=a;o[l]=t[l]}return o},{})}return n(t)}function Rq(e={}){var n;return((n=e.keys)==null?void 0:n.reduce((r,i)=>{const s=e.up(i);return r[s]={},r},{}))||{}}function Nq(e,t){return e.reduce((n,r)=>{const i=n[r];return(!i||Object.keys(i).length===0)&&delete n[r],n},t)}function xp(e,t,n=!0){if(!t||typeof t!="string")return null;if(e&&e.vars&&n){const r=`vars.${t}`.split(".").reduce((i,s)=>i&&i[s]?i[s]:null,e);if(r!=null)return r}return t.split(".").reduce((r,i)=>r&&r[i]!=null?r[i]:null,e)}function pf(e,t,n,r=n){let i;return typeof e=="function"?i=e(n):Array.isArray(e)?i=e[n]||r:i=xp(e,n)||r,t&&(i=t(i,r,e)),i}function tt(e){const{prop:t,cssProperty:n=e.prop,themeKey:r,transform:i}=e,s=o=>{if(o[t]==null)return null;const a=o[t],l=o.theme,c=xp(l,r)||{};return di(o,a,h=>{let f=pf(c,i,h);return h===f&&typeof h=="string"&&(f=pf(c,i,`${t}${h==="default"?"":fN(h)}`,h)),n===!1?f:{[n]:f}})};return s.propTypes={},s.filterProps=[t],s}function Dq(e){const t={};return n=>(t[n]===void 0&&(t[n]=e(n)),t[n])}const Oq={m:"margin",p:"padding"},Mq={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},hS={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},Lq=Dq(e=>{if(e.length>2)if(hS[e])e=hS[e];else return[e];const[t,n]=e.split(""),r=Oq[t],i=Mq[n]||"";return Array.isArray(i)?i.map(s=>r+s):[r+i]}),M_=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],L_=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"];[...M_,...L_];function Pu(e,t,n,r){const i=xp(e,t,!0)??n;return typeof i=="number"||typeof i=="string"?s=>typeof s=="string"?s:typeof i=="string"?i.startsWith("var(")&&s===0?0:i.startsWith("var(")&&s===1?i:`calc(${s} * ${i})`:i*s:Array.isArray(i)?s=>{if(typeof s=="string")return s;const o=Math.abs(s),a=i[o];return s>=0?a:typeof a=="number"?-a:typeof a=="string"&&a.startsWith("var(")?`calc(-1 * ${a})`:`-${a}`}:typeof i=="function"?i:()=>{}}function j_(e){return Pu(e,"spacing",8)}function Au(e,t){return typeof t=="string"||t==null?t:e(t)}function jq(e,t){return n=>e.reduce((r,i)=>(r[i]=Au(t,n),r),{})}function Fq(e,t,n,r){if(!t.includes(n))return null;const i=Lq(n),s=jq(i,r),o=e[n];return di(e,o,s)}function yN(e,t){const n=j_(e.theme);return Object.keys(e).map(r=>Fq(e,t,r,n)).reduce(uc,{})}function He(e){return yN(e,M_)}He.propTypes={};He.filterProps=M_;function qe(e){return yN(e,L_)}qe.propTypes={};qe.filterProps=L_;function Ep(...e){const t=e.reduce((r,i)=>(i.filterProps.forEach(s=>{r[s]=i}),r),{}),n=r=>Object.keys(r).reduce((i,s)=>t[s]?uc(i,t[s](r)):i,{});return n.propTypes={},n.filterProps=e.reduce((r,i)=>r.concat(i.filterProps),[]),n}function In(e){return typeof e!="number"?e:`${e}px solid`}function $n(e,t){return tt({prop:e,themeKey:"borders",transform:t})}const $q=$n("border",In),Vq=$n("borderTop",In),Uq=$n("borderRight",In),Bq=$n("borderBottom",In),zq=$n("borderLeft",In),Wq=$n("borderColor"),Hq=$n("borderTopColor"),qq=$n("borderRightColor"),Gq=$n("borderBottomColor"),Kq=$n("borderLeftColor"),Yq=$n("outline",In),Xq=$n("outlineColor"),bp=e=>{if(e.borderRadius!==void 0&&e.borderRadius!==null){const t=Pu(e.theme,"shape.borderRadius",4),n=r=>({borderRadius:Au(t,r)});return di(e,e.borderRadius,n)}return null};bp.propTypes={};bp.filterProps=["borderRadius"];Ep($q,Vq,Uq,Bq,zq,Wq,Hq,qq,Gq,Kq,bp,Yq,Xq);const Cp=e=>{if(e.gap!==void 0&&e.gap!==null){const t=Pu(e.theme,"spacing",8),n=r=>({gap:Au(t,r)});return di(e,e.gap,n)}return null};Cp.propTypes={};Cp.filterProps=["gap"];const Sp=e=>{if(e.columnGap!==void 0&&e.columnGap!==null){const t=Pu(e.theme,"spacing",8),n=r=>({columnGap:Au(t,r)});return di(e,e.columnGap,n)}return null};Sp.propTypes={};Sp.filterProps=["columnGap"];const Tp=e=>{if(e.rowGap!==void 0&&e.rowGap!==null){const t=Pu(e.theme,"spacing",8),n=r=>({rowGap:Au(t,r)});return di(e,e.rowGap,n)}return null};Tp.propTypes={};Tp.filterProps=["rowGap"];const Jq=tt({prop:"gridColumn"}),Qq=tt({prop:"gridRow"}),Zq=tt({prop:"gridAutoFlow"}),eG=tt({prop:"gridAutoColumns"}),tG=tt({prop:"gridAutoRows"}),nG=tt({prop:"gridTemplateColumns"}),rG=tt({prop:"gridTemplateRows"}),iG=tt({prop:"gridTemplateAreas"}),sG=tt({prop:"gridArea"});Ep(Cp,Sp,Tp,Jq,Qq,Zq,eG,tG,nG,rG,iG,sG);function la(e,t){return t==="grey"?t:e}const oG=tt({prop:"color",themeKey:"palette",transform:la}),aG=tt({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette",transform:la}),lG=tt({prop:"backgroundColor",themeKey:"palette",transform:la});Ep(oG,aG,lG);function fn(e){return e<=1&&e!==0?`${e*100}%`:e}const cG=tt({prop:"width",transform:fn}),F_=e=>{if(e.maxWidth!==void 0&&e.maxWidth!==null){const t=n=>{var i,s,o,a,l;const r=((o=(s=(i=e.theme)==null?void 0:i.breakpoints)==null?void 0:s.values)==null?void 0:o[n])||_p[n];return r?((l=(a=e.theme)==null?void 0:a.breakpoints)==null?void 0:l.unit)!=="px"?{maxWidth:`${r}${e.theme.breakpoints.unit}`}:{maxWidth:r}:{maxWidth:fn(n)}};return di(e,e.maxWidth,t)}return null};F_.filterProps=["maxWidth"];const uG=tt({prop:"minWidth",transform:fn}),dG=tt({prop:"height",transform:fn}),hG=tt({prop:"maxHeight",transform:fn}),fG=tt({prop:"minHeight",transform:fn});tt({prop:"size",cssProperty:"width",transform:fn});tt({prop:"size",cssProperty:"height",transform:fn});const pG=tt({prop:"boxSizing"});Ep(cG,F_,uG,dG,hG,fG,pG);const mG={border:{themeKey:"borders",transform:In},borderTop:{themeKey:"borders",transform:In},borderRight:{themeKey:"borders",transform:In},borderBottom:{themeKey:"borders",transform:In},borderLeft:{themeKey:"borders",transform:In},borderColor:{themeKey:"palette"},borderTopColor:{themeKey:"palette"},borderRightColor:{themeKey:"palette"},borderBottomColor:{themeKey:"palette"},borderLeftColor:{themeKey:"palette"},outline:{themeKey:"borders",transform:In},outlineColor:{themeKey:"palette"},borderRadius:{themeKey:"shape.borderRadius",style:bp},color:{themeKey:"palette",transform:la},bgcolor:{themeKey:"palette",cssProperty:"backgroundColor",transform:la},backgroundColor:{themeKey:"palette",transform:la},p:{style:qe},pt:{style:qe},pr:{style:qe},pb:{style:qe},pl:{style:qe},px:{style:qe},py:{style:qe},padding:{style:qe},paddingTop:{style:qe},paddingRight:{style:qe},paddingBottom:{style:qe},paddingLeft:{style:qe},paddingX:{style:qe},paddingY:{style:qe},paddingInline:{style:qe},paddingInlineStart:{style:qe},paddingInlineEnd:{style:qe},paddingBlock:{style:qe},paddingBlockStart:{style:qe},paddingBlockEnd:{style:qe},m:{style:He},mt:{style:He},mr:{style:He},mb:{style:He},ml:{style:He},mx:{style:He},my:{style:He},margin:{style:He},marginTop:{style:He},marginRight:{style:He},marginBottom:{style:He},marginLeft:{style:He},marginX:{style:He},marginY:{style:He},marginInline:{style:He},marginInlineStart:{style:He},marginInlineEnd:{style:He},marginBlock:{style:He},marginBlockStart:{style:He},marginBlockEnd:{style:He},displayPrint:{cssProperty:!1,transform:e=>({"@media print":{display:e}})},display:{},overflow:{},textOverflow:{},visibility:{},whiteSpace:{},flexBasis:{},flexDirection:{},flexWrap:{},justifyContent:{},alignItems:{},alignContent:{},order:{},flex:{},flexGrow:{},flexShrink:{},alignSelf:{},justifyItems:{},justifySelf:{},gap:{style:Cp},rowGap:{style:Tp},columnGap:{style:Sp},gridColumn:{},gridRow:{},gridAutoFlow:{},gridAutoColumns:{},gridAutoRows:{},gridTemplateColumns:{},gridTemplateRows:{},gridTemplateAreas:{},gridArea:{},position:{},zIndex:{themeKey:"zIndex"},top:{},right:{},bottom:{},left:{},boxShadow:{themeKey:"shadows"},width:{transform:fn},maxWidth:{style:F_},minWidth:{transform:fn},height:{transform:fn},maxHeight:{transform:fn},minHeight:{transform:fn},boxSizing:{},font:{themeKey:"font"},fontFamily:{themeKey:"typography"},fontSize:{themeKey:"typography"},fontStyle:{themeKey:"typography"},fontWeight:{themeKey:"typography"},letterSpacing:{},textTransform:{},lineHeight:{},textAlign:{},typography:{cssProperty:!1,themeKey:"typography"}},Ru=mG;function gG(...e){const t=e.reduce((r,i)=>r.concat(Object.keys(i)),[]),n=new Set(t);return e.every(r=>n.size===Object.keys(r).length)}function yG(e,t){return typeof e=="function"?e(t):e}function vG(){function e(n,r,i,s){const o={[n]:r,theme:i},a=s[n];if(!a)return{[n]:r};const{cssProperty:l=n,themeKey:c,transform:d,style:h}=a;if(r==null)return null;if(c==="typography"&&r==="inherit")return{[n]:r};const f=xp(i,c)||{};return h?h(o):di(o,r,y=>{let S=pf(f,d,y);return y===S&&typeof y=="string"&&(S=pf(f,d,`${n}${y==="default"?"":fN(y)}`,y)),l===!1?S:{[l]:S}})}function t(n){const{sx:r,theme:i={}}=n||{};if(!r)return null;const s=i.unstable_sxConfig??Ru;function o(a){let l=a;if(typeof a=="function")l=a(i);else if(typeof a!="object")return a;if(!l)return null;const c=Rq(i.breakpoints),d=Object.keys(c);let h=c;return Object.keys(l).forEach(f=>{const g=yG(l[f],i);if(g!=null)if(typeof g=="object")if(s[f])h=uc(h,e(f,g,i,s));else{const y=di({theme:i},g,S=>({[f]:S}));gG(y,g)?h[f]=t({sx:g,theme:i}):h=uc(h,y)}else h=uc(h,e(f,g,i,s))}),Tq(i,Nq(d,h))}return Array.isArray(r)?r.map(o):o(r)}return t}const vN=vG();vN.filterProps=["sx"];const Ra=vN,wG=e=>{var r;const t={systemProps:{},otherProps:{}},n=((r=e==null?void 0:e.theme)==null?void 0:r.unstable_sxConfig)??Ru;return Object.keys(e).forEach(i=>{n[i]?t.systemProps[i]=e[i]:t.otherProps[i]=e[i]}),t};function _G(e){const{sx:t,...n}=e,{systemProps:r,otherProps:i}=wG(n);let s;return Array.isArray(t)?s=[r,...t]:typeof t=="function"?s=(...o)=>{const a=t(...o);return vr(a)?{...r,...a}:r}:s={...r,...t},{...i,sx:s}}function w0(){return w0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},w0.apply(null,arguments)}var xG=!1;function EG(e){if(e.sheet)return e.sheet;for(var t=0;t<document.styleSheets.length;t++)if(document.styleSheets[t].ownerNode===e)return document.styleSheets[t]}function bG(e){var t=document.createElement("style");return t.setAttribute("data-emotion",e.key),e.nonce!==void 0&&t.setAttribute("nonce",e.nonce),t.appendChild(document.createTextNode("")),t.setAttribute("data-s",""),t}var CG=function(){function e(n){var r=this;this._insertTag=function(i){var s;r.tags.length===0?r.insertionPoint?s=r.insertionPoint.nextSibling:r.prepend?s=r.container.firstChild:s=r.before:s=r.tags[r.tags.length-1].nextSibling,r.container.insertBefore(i,s),r.tags.push(i)},this.isSpeedy=n.speedy===void 0?!xG:n.speedy,this.tags=[],this.ctr=0,this.nonce=n.nonce,this.key=n.key,this.container=n.container,this.prepend=n.prepend,this.insertionPoint=n.insertionPoint,this.before=null}var t=e.prototype;return t.hydrate=function(r){r.forEach(this._insertTag)},t.insert=function(r){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(bG(this));var i=this.tags[this.tags.length-1];if(this.isSpeedy){var s=EG(i);try{s.insertRule(r,s.cssRules.length)}catch{}}else i.appendChild(document.createTextNode(r));this.ctr++},t.flush=function(){this.tags.forEach(function(r){var i;return(i=r.parentNode)==null?void 0:i.removeChild(r)}),this.tags=[],this.ctr=0},e}(),At="-ms-",mf="-moz-",ve="-webkit-",wN="comm",$_="rule",V_="decl",SG="@import",_N="@keyframes",TG="@layer",kG=Math.abs,kp=String.fromCharCode,IG=Object.assign;function PG(e,t){return _t(e,0)^45?(((t<<2^_t(e,0))<<2^_t(e,1))<<2^_t(e,2))<<2^_t(e,3):0}function xN(e){return e.trim()}function AG(e,t){return(e=t.exec(e))?e[0]:e}function we(e,t,n){return e.replace(t,n)}function _0(e,t){return e.indexOf(t)}function _t(e,t){return e.charCodeAt(t)|0}function Zc(e,t,n){return e.slice(t,n)}function pr(e){return e.length}function U_(e){return e.length}function bd(e,t){return t.push(e),e}function RG(e,t){return e.map(t).join("")}var Ip=1,Na=1,EN=0,cn=0,nt=0,Ya="";function Pp(e,t,n,r,i,s,o){return{value:e,root:t,parent:n,type:r,props:i,children:s,line:Ip,column:Na,length:o,return:""}}function Sl(e,t){return IG(Pp("",null,null,"",null,null,0),e,{length:-e.length},t)}function NG(){return nt}function DG(){return nt=cn>0?_t(Ya,--cn):0,Na--,nt===10&&(Na=1,Ip--),nt}function yn(){return nt=cn<EN?_t(Ya,cn++):0,Na++,nt===10&&(Na=1,Ip++),nt}function Sr(){return _t(Ya,cn)}function th(){return cn}function Nu(e,t){return Zc(Ya,e,t)}function eu(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function bN(e){return Ip=Na=1,EN=pr(Ya=e),cn=0,[]}function CN(e){return Ya="",e}function nh(e){return xN(Nu(cn-1,x0(e===91?e+2:e===40?e+1:e)))}function OG(e){for(;(nt=Sr())&&nt<33;)yn();return eu(e)>2||eu(nt)>3?"":" "}function MG(e,t){for(;--t&&yn()&&!(nt<48||nt>102||nt>57&&nt<65||nt>70&&nt<97););return Nu(e,th()+(t<6&&Sr()==32&&yn()==32))}function x0(e){for(;yn();)switch(nt){case e:return cn;case 34:case 39:e!==34&&e!==39&&x0(nt);break;case 40:e===41&&x0(e);break;case 92:yn();break}return cn}function LG(e,t){for(;yn()&&e+nt!==47+10;)if(e+nt===42+42&&Sr()===47)break;return"/*"+Nu(t,cn-1)+"*"+kp(e===47?e:yn())}function jG(e){for(;!eu(Sr());)yn();return Nu(e,cn)}function FG(e){return CN(rh("",null,null,null,[""],e=bN(e),0,[0],e))}function rh(e,t,n,r,i,s,o,a,l){for(var c=0,d=0,h=o,f=0,g=0,y=0,S=1,k=1,x=1,C=0,E="",I=i,D=s,M=r,T=E;k;)switch(y=C,C=yn()){case 40:if(y!=108&&_t(T,h-1)==58){_0(T+=we(nh(C),"&","&\f"),"&\f")!=-1&&(x=-1);break}case 34:case 39:case 91:T+=nh(C);break;case 9:case 10:case 13:case 32:T+=OG(y);break;case 92:T+=MG(th()-1,7);continue;case 47:switch(Sr()){case 42:case 47:bd($G(LG(yn(),th()),t,n),l);break;default:T+="/"}break;case 123*S:a[c++]=pr(T)*x;case 125*S:case 59:case 0:switch(C){case 0:case 125:k=0;case 59+d:x==-1&&(T=we(T,/\f/g,"")),g>0&&pr(T)-h&&bd(g>32?pS(T+";",r,n,h-1):pS(we(T," ","")+";",r,n,h-2),l);break;case 59:T+=";";default:if(bd(M=fS(T,t,n,c,d,i,a,E,I=[],D=[],h),s),C===123)if(d===0)rh(T,t,M,M,I,s,h,a,D);else switch(f===99&&_t(T,3)===110?100:f){case 100:case 108:case 109:case 115:rh(e,M,M,r&&bd(fS(e,M,M,0,0,i,a,E,i,I=[],h),D),i,D,h,a,r?I:D);break;default:rh(T,M,M,M,[""],D,0,a,D)}}c=d=g=0,S=x=1,E=T="",h=o;break;case 58:h=1+pr(T),g=y;default:if(S<1){if(C==123)--S;else if(C==125&&S++==0&&DG()==125)continue}switch(T+=kp(C),C*S){case 38:x=d>0?1:(T+="\f",-1);break;case 44:a[c++]=(pr(T)-1)*x,x=1;break;case 64:Sr()===45&&(T+=nh(yn())),f=Sr(),d=h=pr(E=T+=jG(th())),C++;break;case 45:y===45&&pr(T)==2&&(S=0)}}return s}function fS(e,t,n,r,i,s,o,a,l,c,d){for(var h=i-1,f=i===0?s:[""],g=U_(f),y=0,S=0,k=0;y<r;++y)for(var x=0,C=Zc(e,h+1,h=kG(S=o[y])),E=e;x<g;++x)(E=xN(S>0?f[x]+" "+C:we(C,/&\f/g,f[x])))&&(l[k++]=E);return Pp(e,t,n,i===0?$_:a,l,c,d)}function $G(e,t,n){return Pp(e,t,n,wN,kp(NG()),Zc(e,2,-2),0)}function pS(e,t,n,r){return Pp(e,t,n,V_,Zc(e,0,r),Zc(e,r+1,-1),r)}function ca(e,t){for(var n="",r=U_(e),i=0;i<r;i++)n+=t(e[i],i,e,t)||"";return n}function VG(e,t,n,r){switch(e.type){case TG:if(e.children.length)break;case SG:case V_:return e.return=e.return||e.value;case wN:return"";case _N:return e.return=e.value+"{"+ca(e.children,r)+"}";case $_:e.value=e.props.join(",")}return pr(n=ca(e.children,r))?e.return=e.value+"{"+n+"}":""}function UG(e){var t=U_(e);return function(n,r,i,s){for(var o="",a=0;a<t;a++)o+=e[a](n,r,i,s)||"";return o}}function BG(e){return function(t){t.root||(t=t.return)&&e(t)}}function SN(e){var t=Object.create(null);return function(n){return t[n]===void 0&&(t[n]=e(n)),t[n]}}var zG=function(t,n,r){for(var i=0,s=0;i=s,s=Sr(),i===38&&s===12&&(n[r]=1),!eu(s);)yn();return Nu(t,cn)},WG=function(t,n){var r=-1,i=44;do switch(eu(i)){case 0:i===38&&Sr()===12&&(n[r]=1),t[r]+=zG(cn-1,n,r);break;case 2:t[r]+=nh(i);break;case 4:if(i===44){t[++r]=Sr()===58?"&\f":"",n[r]=t[r].length;break}default:t[r]+=kp(i)}while(i=yn());return t},HG=function(t,n){return CN(WG(bN(t),n))},mS=new WeakMap,qG=function(t){if(!(t.type!=="rule"||!t.parent||t.length<1)){for(var n=t.value,r=t.parent,i=t.column===r.column&&t.line===r.line;r.type!=="rule";)if(r=r.parent,!r)return;if(!(t.props.length===1&&n.charCodeAt(0)!==58&&!mS.get(r))&&!i){mS.set(t,!0);for(var s=[],o=HG(n,s),a=r.props,l=0,c=0;l<o.length;l++)for(var d=0;d<a.length;d++,c++)t.props[c]=s[l]?o[l].replace(/&\f/g,a[d]):a[d]+" "+o[l]}}},GG=function(t){if(t.type==="decl"){var n=t.value;n.charCodeAt(0)===108&&n.charCodeAt(2)===98&&(t.return="",t.value="")}};function TN(e,t){switch(PG(e,t)){case 5103:return ve+"print-"+e+e;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return ve+e+e;case 5349:case 4246:case 4810:case 6968:case 2756:return ve+e+mf+e+At+e+e;case 6828:case 4268:return ve+e+At+e+e;case 6165:return ve+e+At+"flex-"+e+e;case 5187:return ve+e+we(e,/(\w+).+(:[^]+)/,ve+"box-$1$2"+At+"flex-$1$2")+e;case 5443:return ve+e+At+"flex-item-"+we(e,/flex-|-self/,"")+e;case 4675:return ve+e+At+"flex-line-pack"+we(e,/align-content|flex-|-self/,"")+e;case 5548:return ve+e+At+we(e,"shrink","negative")+e;case 5292:return ve+e+At+we(e,"basis","preferred-size")+e;case 6060:return ve+"box-"+we(e,"-grow","")+ve+e+At+we(e,"grow","positive")+e;case 4554:return ve+we(e,/([^-])(transform)/g,"$1"+ve+"$2")+e;case 6187:return we(we(we(e,/(zoom-|grab)/,ve+"$1"),/(image-set)/,ve+"$1"),e,"")+e;case 5495:case 3959:return we(e,/(image-set\([^]*)/,ve+"$1$`$1");case 4968:return we(we(e,/(.+:)(flex-)?(.*)/,ve+"box-pack:$3"+At+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+ve+e+e;case 4095:case 3583:case 4068:case 2532:return we(e,/(.+)-inline(.+)/,ve+"$1$2")+e;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(pr(e)-1-t>6)switch(_t(e,t+1)){case 109:if(_t(e,t+4)!==45)break;case 102:return we(e,/(.+:)(.+)-([^]+)/,"$1"+ve+"$2-$3$1"+mf+(_t(e,t+3)==108?"$3":"$2-$3"))+e;case 115:return~_0(e,"stretch")?TN(we(e,"stretch","fill-available"),t)+e:e}break;case 4949:if(_t(e,t+1)!==115)break;case 6444:switch(_t(e,pr(e)-3-(~_0(e,"!important")&&10))){case 107:return we(e,":",":"+ve)+e;case 101:return we(e,/(.+:)([^;!]+)(;|!.+)?/,"$1"+ve+(_t(e,14)===45?"inline-":"")+"box$3$1"+ve+"$2$3$1"+At+"$2box$3")+e}break;case 5936:switch(_t(e,t+11)){case 114:return ve+e+At+we(e,/[svh]\w+-[tblr]{2}/,"tb")+e;case 108:return ve+e+At+we(e,/[svh]\w+-[tblr]{2}/,"tb-rl")+e;case 45:return ve+e+At+we(e,/[svh]\w+-[tblr]{2}/,"lr")+e}return ve+e+At+e+e}return e}var KG=function(t,n,r,i){if(t.length>-1&&!t.return)switch(t.type){case V_:t.return=TN(t.value,t.length);break;case _N:return ca([Sl(t,{value:we(t.value,"@","@"+ve)})],i);case $_:if(t.length)return RG(t.props,function(s){switch(AG(s,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return ca([Sl(t,{props:[we(s,/:(read-\w+)/,":"+mf+"$1")]})],i);case"::placeholder":return ca([Sl(t,{props:[we(s,/:(plac\w+)/,":"+ve+"input-$1")]}),Sl(t,{props:[we(s,/:(plac\w+)/,":"+mf+"$1")]}),Sl(t,{props:[we(s,/:(plac\w+)/,At+"input-$1")]})],i)}return""})}},YG=[KG],XG=function(t){var n=t.key;if(n==="css"){var r=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(r,function(S){var k=S.getAttribute("data-emotion");k.indexOf(" ")!==-1&&(document.head.appendChild(S),S.setAttribute("data-s",""))})}var i=t.stylisPlugins||YG,s={},o,a=[];o=t.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+n+' "]'),function(S){for(var k=S.getAttribute("data-emotion").split(" "),x=1;x<k.length;x++)s[k[x]]=!0;a.push(S)});var l,c=[qG,GG];{var d,h=[VG,BG(function(S){d.insert(S)})],f=UG(c.concat(i,h)),g=function(k){return ca(FG(k),f)};l=function(k,x,C,E){d=C,g(k?k+"{"+x.styles+"}":x.styles),E&&(y.inserted[x.name]=!0)}}var y={key:n,sheet:new CG({key:n,container:o,nonce:t.nonce,speedy:t.speedy,prepend:t.prepend,insertionPoint:t.insertionPoint}),nonce:t.nonce,inserted:s,registered:{},insert:l};return y.sheet.hydrate(a),y},JG=!0;function QG(e,t,n){var r="";return n.split(" ").forEach(function(i){e[i]!==void 0?t.push(e[i]+";"):i&&(r+=i+" ")}),r}var kN=function(t,n,r){var i=t.key+"-"+n.name;(r===!1||JG===!1)&&t.registered[i]===void 0&&(t.registered[i]=n.styles)},ZG=function(t,n,r){kN(t,n,r);var i=t.key+"-"+n.name;if(t.inserted[n.name]===void 0){var s=n;do t.insert(n===s?"."+i:"",s,t.sheet,!0),s=s.next;while(s!==void 0)}};function eK(e){for(var t=0,n,r=0,i=e.length;i>=4;++r,i-=4)n=e.charCodeAt(r)&255|(e.charCodeAt(++r)&255)<<8|(e.charCodeAt(++r)&255)<<16|(e.charCodeAt(++r)&255)<<24,n=(n&65535)*1540483477+((n>>>16)*59797<<16),n^=n>>>24,t=(n&65535)*1540483477+((n>>>16)*59797<<16)^(t&65535)*1540483477+((t>>>16)*59797<<16);switch(i){case 3:t^=(e.charCodeAt(r+2)&255)<<16;case 2:t^=(e.charCodeAt(r+1)&255)<<8;case 1:t^=e.charCodeAt(r)&255,t=(t&65535)*1540483477+((t>>>16)*59797<<16)}return t^=t>>>13,t=(t&65535)*1540483477+((t>>>16)*59797<<16),((t^t>>>15)>>>0).toString(36)}var tK={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,scale:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},nK=!1,rK=/[A-Z]|^ms/g,iK=/_EMO_([^_]+?)_([^]*?)_EMO_/g,IN=function(t){return t.charCodeAt(1)===45},gS=function(t){return t!=null&&typeof t!="boolean"},vg=SN(function(e){return IN(e)?e:e.replace(rK,"-$&").toLowerCase()}),yS=function(t,n){switch(t){case"animation":case"animationName":if(typeof n=="string")return n.replace(iK,function(r,i,s){return mr={name:i,styles:s,next:mr},i})}return tK[t]!==1&&!IN(t)&&typeof n=="number"&&n!==0?n+"px":n},sK="Component selectors can only be used in conjunction with @emotion/babel-plugin, the swc Emotion plugin, or another Emotion-aware compiler transform.";function tu(e,t,n){if(n==null)return"";var r=n;if(r.__emotion_styles!==void 0)return r;switch(typeof n){case"boolean":return"";case"object":{var i=n;if(i.anim===1)return mr={name:i.name,styles:i.styles,next:mr},i.name;var s=n;if(s.styles!==void 0){var o=s.next;if(o!==void 0)for(;o!==void 0;)mr={name:o.name,styles:o.styles,next:mr},o=o.next;var a=s.styles+";";return a}return oK(e,t,n)}case"function":{if(e!==void 0){var l=mr,c=n(e);return mr=l,tu(e,t,c)}break}}var d=n;if(t==null)return d;var h=t[d];return h!==void 0?h:d}function oK(e,t,n){var r="";if(Array.isArray(n))for(var i=0;i<n.length;i++)r+=tu(e,t,n[i])+";";else for(var s in n){var o=n[s];if(typeof o!="object"){var a=o;t!=null&&t[a]!==void 0?r+=s+"{"+t[a]+"}":gS(a)&&(r+=vg(s)+":"+yS(s,a)+";")}else{if(s==="NO_COMPONENT_SELECTOR"&&nK)throw new Error(sK);if(Array.isArray(o)&&typeof o[0]=="string"&&(t==null||t[o[0]]===void 0))for(var l=0;l<o.length;l++)gS(o[l])&&(r+=vg(s)+":"+yS(s,o[l])+";");else{var c=tu(e,t,o);switch(s){case"animation":case"animationName":{r+=vg(s)+":"+c+";";break}default:r+=s+"{"+c+"}"}}}}return r}var vS=/label:\s*([^\s;{]+)\s*(;|$)/g,mr;function PN(e,t,n){if(e.length===1&&typeof e[0]=="object"&&e[0]!==null&&e[0].styles!==void 0)return e[0];var r=!0,i="";mr=void 0;var s=e[0];if(s==null||s.raw===void 0)r=!1,i+=tu(n,t,s);else{var o=s;i+=o[0]}for(var a=1;a<e.length;a++)if(i+=tu(n,t,e[a]),r){var l=s;i+=l[a]}vS.lastIndex=0;for(var c="",d;(d=vS.exec(i))!==null;)c+="-"+d[1];var h=eK(i)+c;return{name:h,styles:i,next:mr}}var aK=function(t){return t()},lK=lh["useInsertionEffect"]?lh["useInsertionEffect"]:!1,cK=lK||aK,AN=w.createContext(typeof HTMLElement<"u"?XG({key:"css"}):null);AN.Provider;var uK=function(t){return w.forwardRef(function(n,r){var i=w.useContext(AN);return t(n,i,r)})},RN=w.createContext({}),dK=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|disableRemotePlayback|download|draggable|encType|enterKeyHint|fetchpriority|fetchPriority|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,hK=SN(function(e){return dK.test(e)||e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&e.charCodeAt(2)<91}),fK=!1,pK=hK,mK=function(t){return t!=="theme"},wS=function(t){return typeof t=="string"&&t.charCodeAt(0)>96?pK:mK},_S=function(t,n,r){var i;if(n){var s=n.shouldForwardProp;i=t.__emotion_forwardProp&&s?function(o){return t.__emotion_forwardProp(o)&&s(o)}:s}return typeof i!="function"&&r&&(i=t.__emotion_forwardProp),i},gK=function(t){var n=t.cache,r=t.serialized,i=t.isStringTag;return kN(n,r,i),cK(function(){return ZG(n,r,i)}),null},yK=function e(t,n){var r=t.__emotion_real===t,i=r&&t.__emotion_base||t,s,o;n!==void 0&&(s=n.label,o=n.target);var a=_S(t,n,r),l=a||wS(i),c=!l("as");return function(){var d=arguments,h=r&&t.__emotion_styles!==void 0?t.__emotion_styles.slice(0):[];if(s!==void 0&&h.push("label:"+s+";"),d[0]==null||d[0].raw===void 0)h.push.apply(h,d);else{var f=d[0];h.push(f[0]);for(var g=d.length,y=1;y<g;y++)h.push(d[y],f[y])}var S=uK(function(k,x,C){var E=c&&k.as||i,I="",D=[],M=k;if(k.theme==null){M={};for(var T in k)M[T]=k[T];M.theme=w.useContext(RN)}typeof k.className=="string"?I=QG(x.registered,D,k.className):k.className!=null&&(I=k.className+" ");var b=PN(h.concat(D),x.registered,M);I+=x.key+"-"+b.name,o!==void 0&&(I+=" "+o);var P=c&&a===void 0?wS(E):l,v={};for(var R in k)c&&R==="as"||P(R)&&(v[R]=k[R]);return v.className=I,C&&(v.ref=C),w.createElement(w.Fragment,null,w.createElement(gK,{cache:x,serialized:b,isStringTag:typeof E=="string"}),w.createElement(E,v))});return S.displayName=s!==void 0?s:"Styled("+(typeof i=="string"?i:i.displayName||i.name||"Component")+")",S.defaultProps=t.defaultProps,S.__emotion_real=S,S.__emotion_base=i,S.__emotion_styles=h,S.__emotion_forwardProp=a,Object.defineProperty(S,"toString",{value:function(){return o===void 0&&fK?"NO_COMPONENT_SELECTOR":"."+o}}),S.withComponent=function(k,x){var C=e(k,w0({},n,x,{shouldForwardProp:_S(S,x,!0)}));return C.apply(void 0,h)},S}},vK=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"],E0=yK.bind(null);vK.forEach(function(e){E0[e]=E0(e)});/**
 * @mui/styled-engine v7.1.0
 *
 * @license MIT
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */function NN(e,t){return E0(e,t)}function wK(e,t){Array.isArray(e.__emotion_styles)&&(e.__emotion_styles=t(e.__emotion_styles))}const xS=[];function ES(e){return xS[0]=e,PN(xS)}const _K=e=>{const t=Object.keys(e).map(n=>({key:n,val:e[n]}))||[];return t.sort((n,r)=>n.val-r.val),t.reduce((n,r)=>({...n,[r.key]:r.val}),{})};function xK(e){const{values:t={xs:0,sm:600,md:900,lg:1200,xl:1536},unit:n="px",step:r=5,...i}=e,s=_K(t),o=Object.keys(s);function a(f){return`@media (min-width:${typeof t[f]=="number"?t[f]:f}${n})`}function l(f){return`@media (max-width:${(typeof t[f]=="number"?t[f]:f)-r/100}${n})`}function c(f,g){const y=o.indexOf(g);return`@media (min-width:${typeof t[f]=="number"?t[f]:f}${n}) and (max-width:${(y!==-1&&typeof t[o[y]]=="number"?t[o[y]]:g)-r/100}${n})`}function d(f){return o.indexOf(f)+1<o.length?c(f,o[o.indexOf(f)+1]):a(f)}function h(f){const g=o.indexOf(f);return g===0?a(o[1]):g===o.length-1?l(o[g]):c(f,o[o.indexOf(f)+1]).replace("@media","@media not all and")}return{keys:o,values:s,up:a,down:l,between:c,only:d,not:h,unit:n,...i}}const EK={borderRadius:4},bK=EK;function DN(e=8,t=j_({spacing:e})){if(e.mui)return e;const n=(...r)=>(r.length===0?[1]:r).map(s=>{const o=t(s);return typeof o=="number"?`${o}px`:o}).join(" ");return n.mui=!0,n}function CK(e,t){var r;const n=this;if(n.vars){if(!((r=n.colorSchemes)!=null&&r[e])||typeof n.getColorSchemeSelector!="function")return{};let i=n.getColorSchemeSelector(e);return i==="&"?t:((i.includes("data-")||i.includes("."))&&(i=`*:where(${i.replace(/\s*&$/,"")}) &`),{[i]:t})}return n.palette.mode===e?t:{}}function B_(e={},...t){const{breakpoints:n={},palette:r={},spacing:i,shape:s={},...o}=e,a=xK(n),l=DN(i);let c=gn({breakpoints:a,direction:"ltr",components:{},palette:{mode:"light",...r},spacing:l,shape:{...bK,...s}},o);return c=Pq(c),c.applyStyles=CK,c=t.reduce((d,h)=>gn(d,h),c),c.unstable_sxConfig={...Ru,...o==null?void 0:o.unstable_sxConfig},c.unstable_sx=function(h){return Ra({sx:h,theme:this})},c}function SK(e){return Object.keys(e).length===0}function TK(e=null){const t=w.useContext(RN);return!t||SK(t)?e:t}const kK=B_();function ON(e=kK){return TK(e)}const bS=e=>e,IK=()=>{let e=bS;return{configure(t){e=t},generate(t){return e(t)},reset(){e=bS}}},PK=IK(),MN=PK;function AK(e={}){const{themeId:t,defaultTheme:n,defaultClassName:r="MuiBox-root",generateClassName:i}=e,s=NN("div",{shouldForwardProp:a=>a!=="theme"&&a!=="sx"&&a!=="as"})(Ra);return w.forwardRef(function(l,c){const d=ON(n),{className:h,component:f="div",...g}=_G(l);return m.jsx(s,{as:f,ref:c,className:Aa(h,i?i(r):r),theme:t&&d[t]||d,...g})})}const RK={active:"active",checked:"checked",completed:"completed",disabled:"disabled",error:"error",expanded:"expanded",focused:"focused",focusVisible:"focusVisible",open:"open",readOnly:"readOnly",required:"required",selected:"selected"};function z_(e,t,n="Mui"){const r=RK[t];return r?`${n}-${r}`:`${MN.generate(e)}-${t}`}function W_(e,t,n="Mui"){const r={};return t.forEach(i=>{r[i]=z_(e,i,n)}),r}function LN(e){const{variants:t,...n}=e,r={variants:t,style:ES(n),isProcessed:!0};return r.style===n||t&&t.forEach(i=>{typeof i.style!="function"&&(i.style=ES(i.style))}),r}const NK=B_();function wg(e){return e!=="ownerState"&&e!=="theme"&&e!=="sx"&&e!=="as"}function DK(e){return e?(t,n)=>n[e]:null}function OK(e,t,n){e.theme=jK(e.theme)?n:e.theme[t]||e.theme}function ih(e,t){const n=typeof t=="function"?t(e):t;if(Array.isArray(n))return n.flatMap(r=>ih(e,r));if(Array.isArray(n==null?void 0:n.variants)){let r;if(n.isProcessed)r=n.style;else{const{variants:i,...s}=n;r=s}return jN(e,n.variants,[r])}return n!=null&&n.isProcessed?n.style:n}function jN(e,t,n=[]){var i;let r;e:for(let s=0;s<t.length;s+=1){const o=t[s];if(typeof o.props=="function"){if(r??(r={...e,...e.ownerState,ownerState:e.ownerState}),!o.props(r))continue}else for(const a in o.props)if(e[a]!==o.props[a]&&((i=e.ownerState)==null?void 0:i[a])!==o.props[a])continue e;typeof o.style=="function"?(r??(r={...e,...e.ownerState,ownerState:e.ownerState}),n.push(o.style(r))):n.push(o.style)}return n}function MK(e={}){const{themeId:t,defaultTheme:n=NK,rootShouldForwardProp:r=wg,slotShouldForwardProp:i=wg}=e;function s(a){OK(a,t,n)}return(a,l={})=>{wK(a,D=>D.filter(M=>M!==Ra));const{name:c,slot:d,skipVariantsResolver:h,skipSx:f,overridesResolver:g=DK($K(d)),...y}=l,S=h!==void 0?h:d&&d!=="Root"&&d!=="root"||!1,k=f||!1;let x=wg;d==="Root"||d==="root"?x=r:d?x=i:FK(a)&&(x=void 0);const C=NN(a,{shouldForwardProp:x,label:LK(),...y}),E=D=>{if(typeof D=="function"&&D.__emotion_real!==D)return function(T){return ih(T,D)};if(vr(D)){const M=LN(D);return M.variants?function(b){return ih(b,M)}:M.style}return D},I=(...D)=>{const M=[],T=D.map(E),b=[];if(M.push(s),c&&g&&b.push(function(O){var Y,G;const V=(G=(Y=O.theme.components)==null?void 0:Y[c])==null?void 0:G.styleOverrides;if(!V)return null;const z={};for(const $ in V)z[$]=ih(O,V[$]);return g(O,z)}),c&&!S&&b.push(function(O){var z,Y;const N=O.theme,V=(Y=(z=N==null?void 0:N.components)==null?void 0:z[c])==null?void 0:Y.variants;return V?jN(O,V):null}),k||b.push(Ra),Array.isArray(T[0])){const R=T.shift(),O=new Array(M.length).fill(""),N=new Array(b.length).fill("");let V;V=[...O,...R,...N],V.raw=[...O,...R.raw,...N],M.unshift(V)}const P=[...M,...T,...b],v=C(...P);return a.muiName&&(v.muiName=a.muiName),v};return C.withConfig&&(I.withConfig=C.withConfig),I}}function LK(e,t){let n;return n}function jK(e){for(const t in e)return!1;return!0}function FK(e){return typeof e=="string"&&e.charCodeAt(0)>96}function $K(e){return e&&e.charAt(0).toLowerCase()+e.slice(1)}function b0(e,t){const n={...t};for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)){const i=r;if(i==="components"||i==="slots")n[i]={...e[i],...n[i]};else if(i==="componentsProps"||i==="slotProps"){const s=e[i],o=t[i];if(!o)n[i]=s||{};else if(!s)n[i]=o;else{n[i]={...o};for(const a in s)if(Object.prototype.hasOwnProperty.call(s,a)){const l=a;n[i][l]=b0(s[l],o[l])}}}else n[i]===void 0&&(n[i]=e[i])}return n}function VK(e,t=Number.MIN_SAFE_INTEGER,n=Number.MAX_SAFE_INTEGER){return Math.max(t,Math.min(e,n))}function H_(e,t=0,n=1){return VK(e,t,n)}function UK(e){e=e.slice(1);const t=new RegExp(`.{1,${e.length>=6?2:1}}`,"g");let n=e.match(t);return n&&n[0].length===1&&(n=n.map(r=>r+r)),n?`rgb${n.length===4?"a":""}(${n.map((r,i)=>i<3?parseInt(r,16):Math.round(parseInt(r,16)/255*1e3)/1e3).join(", ")})`:""}function ss(e){if(e.type)return e;if(e.charAt(0)==="#")return ss(UK(e));const t=e.indexOf("("),n=e.substring(0,t);if(!["rgb","rgba","hsl","hsla","color"].includes(n))throw new Error(io(9,e));let r=e.substring(t+1,e.length-1),i;if(n==="color"){if(r=r.split(" "),i=r.shift(),r.length===4&&r[3].charAt(0)==="/"&&(r[3]=r[3].slice(1)),!["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].includes(i))throw new Error(io(10,i))}else r=r.split(",");return r=r.map(s=>parseFloat(s)),{type:n,values:r,colorSpace:i}}const BK=e=>{const t=ss(e);return t.values.slice(0,3).map((n,r)=>t.type.includes("hsl")&&r!==0?`${n}%`:n).join(" ")},Ml=(e,t)=>{try{return BK(e)}catch{return e}};function Ap(e){const{type:t,colorSpace:n}=e;let{values:r}=e;return t.includes("rgb")?r=r.map((i,s)=>s<3?parseInt(i,10):i):t.includes("hsl")&&(r[1]=`${r[1]}%`,r[2]=`${r[2]}%`),t.includes("color")?r=`${n} ${r.join(" ")}`:r=`${r.join(", ")}`,`${t}(${r})`}function FN(e){e=ss(e);const{values:t}=e,n=t[0],r=t[1]/100,i=t[2]/100,s=r*Math.min(i,1-i),o=(c,d=(c+n/30)%12)=>i-s*Math.max(Math.min(d-3,9-d,1),-1);let a="rgb";const l=[Math.round(o(0)*255),Math.round(o(8)*255),Math.round(o(4)*255)];return e.type==="hsla"&&(a+="a",l.push(t[3])),Ap({type:a,values:l})}function C0(e){e=ss(e);let t=e.type==="hsl"||e.type==="hsla"?ss(FN(e)).values:e.values;return t=t.map(n=>(e.type!=="color"&&(n/=255),n<=.03928?n/12.92:((n+.055)/1.055)**2.4)),Number((.2126*t[0]+.7152*t[1]+.0722*t[2]).toFixed(3))}function zK(e,t){const n=C0(e),r=C0(t);return(Math.max(n,r)+.05)/(Math.min(n,r)+.05)}function WK(e,t){return e=ss(e),t=H_(t),(e.type==="rgb"||e.type==="hsl")&&(e.type+="a"),e.type==="color"?e.values[3]=`/${t}`:e.values[3]=t,Ap(e)}function Cd(e,t,n){try{return WK(e,t)}catch{return e}}function q_(e,t){if(e=ss(e),t=H_(t),e.type.includes("hsl"))e.values[2]*=1-t;else if(e.type.includes("rgb")||e.type.includes("color"))for(let n=0;n<3;n+=1)e.values[n]*=1-t;return Ap(e)}function Ce(e,t,n){try{return q_(e,t)}catch{return e}}function G_(e,t){if(e=ss(e),t=H_(t),e.type.includes("hsl"))e.values[2]+=(100-e.values[2])*t;else if(e.type.includes("rgb"))for(let n=0;n<3;n+=1)e.values[n]+=(255-e.values[n])*t;else if(e.type.includes("color"))for(let n=0;n<3;n+=1)e.values[n]+=(1-e.values[n])*t;return Ap(e)}function Se(e,t,n){try{return G_(e,t)}catch{return e}}function HK(e,t=.15){return C0(e)>.5?q_(e,t):G_(e,t)}function Sd(e,t,n){try{return HK(e,t)}catch{return e}}const qK=w.createContext(void 0);function GK(e){const{theme:t,name:n,props:r}=e;if(!t||!t.components||!t.components[n])return r;const i=t.components[n];return i.defaultProps?b0(i.defaultProps,r):!i.styleOverrides&&!i.variants?b0(i,r):r}function KK({props:e,name:t}){const n=w.useContext(qK);return GK({props:e,name:t,theme:{components:n}})}const CS={theme:void 0};function YK(e){let t,n;return function(i){let s=t;return(s===void 0||i.theme!==n)&&(CS.theme=i.theme,s=LN(e(CS)),t=s,n=i.theme),s}}function XK(e=""){function t(...r){if(!r.length)return"";const i=r[0];return typeof i=="string"&&!i.match(/(#|\(|\)|(-?(\d*\.)?\d+)(px|em|%|ex|ch|rem|vw|vh|vmin|vmax|cm|mm|in|pt|pc))|^(-?(\d*\.)?\d+)$|(\d+ \d+ \d+)/)?`, var(--${e?`${e}-`:""}${i}${t(...r.slice(1))})`:`, ${i}`}return(r,...i)=>`var(--${e?`${e}-`:""}${r}${t(...i)})`}const SS=(e,t,n,r=[])=>{let i=e;t.forEach((s,o)=>{o===t.length-1?Array.isArray(i)?i[Number(s)]=n:i&&typeof i=="object"&&(i[s]=n):i&&typeof i=="object"&&(i[s]||(i[s]=r.includes(s)?[]:{}),i=i[s])})},JK=(e,t,n)=>{function r(i,s=[],o=[]){Object.entries(i).forEach(([a,l])=>{(!n||n&&!n([...s,a]))&&l!=null&&(typeof l=="object"&&Object.keys(l).length>0?r(l,[...s,a],Array.isArray(l)?[...o,a]:o):t([...s,a],l,o))})}r(e)},QK=(e,t)=>typeof t=="number"?["lineHeight","fontWeight","opacity","zIndex"].some(r=>e.includes(r))||e[e.length-1].toLowerCase().includes("opacity")?t:`${t}px`:t;function _g(e,t){const{prefix:n,shouldSkipGeneratingVar:r}=t||{},i={},s={},o={};return JK(e,(a,l,c)=>{if((typeof l=="string"||typeof l=="number")&&(!r||!r(a,l))){const d=`--${n?`${n}-`:""}${a.join("-")}`,h=QK(a,l);Object.assign(i,{[d]:h}),SS(s,a,`var(${d})`,c),SS(o,a,`var(${d}, ${h})`,c)}},a=>a[0]==="vars"),{css:i,vars:s,varsWithDefaults:o}}function ZK(e,t={}){const{getSelector:n=k,disableCssColorScheme:r,colorSchemeSelector:i}=t,{colorSchemes:s={},components:o,defaultColorScheme:a="light",...l}=e,{vars:c,css:d,varsWithDefaults:h}=_g(l,t);let f=h;const g={},{[a]:y,...S}=s;if(Object.entries(S||{}).forEach(([E,I])=>{const{vars:D,css:M,varsWithDefaults:T}=_g(I,t);f=gn(f,T),g[E]={css:M,vars:D}}),y){const{css:E,vars:I,varsWithDefaults:D}=_g(y,t);f=gn(f,D),g[a]={css:E,vars:I}}function k(E,I){var M,T;let D=i;if(i==="class"&&(D=".%s"),i==="data"&&(D="[data-%s]"),i!=null&&i.startsWith("data-")&&!i.includes("%s")&&(D=`[${i}="%s"]`),E){if(D==="media")return e.defaultColorScheme===E?":root":{[`@media (prefers-color-scheme: ${((T=(M=s[E])==null?void 0:M.palette)==null?void 0:T.mode)||E})`]:{":root":I}};if(D)return e.defaultColorScheme===E?`:root, ${D.replace("%s",String(E))}`:D.replace("%s",String(E))}return":root"}return{vars:f,generateThemeVars:()=>{let E={...c};return Object.entries(g).forEach(([,{vars:I}])=>{E=gn(E,I)}),E},generateStyleSheets:()=>{var b,P;const E=[],I=e.defaultColorScheme||"light";function D(v,R){Object.keys(R).length&&E.push(typeof v=="string"?{[v]:{...R}}:v)}D(n(void 0,{...d}),d);const{[I]:M,...T}=g;if(M){const{css:v}=M,R=(P=(b=s[I])==null?void 0:b.palette)==null?void 0:P.mode,O=!r&&R?{colorScheme:R,...v}:{...v};D(n(I,{...O}),O)}return Object.entries(T).forEach(([v,{css:R}])=>{var V,z;const O=(z=(V=s[v])==null?void 0:V.palette)==null?void 0:z.mode,N=!r&&O?{colorScheme:O,...R}:{...R};D(n(v,{...N}),N)}),E}}}function eY(e){return function(n){return e==="media"?`@media (prefers-color-scheme: ${n})`:e?e.startsWith("data-")&&!e.includes("%s")?`[${e}="${n}"] &`:e==="class"?`.${n} &`:e==="data"?`[data-${n}] &`:`${e.replace("%s",n)} &`:"&"}}const tY={black:"#000",white:"#fff"},nu=tY,nY={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"},rY=nY,iY={50:"#f3e5f5",100:"#e1bee7",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",600:"#8e24aa",700:"#7b1fa2",800:"#6a1b9a",900:"#4a148c",A100:"#ea80fc",A200:"#e040fb",A400:"#d500f9",A700:"#aa00ff"},Co=iY,sY={50:"#ffebee",100:"#ffcdd2",200:"#ef9a9a",300:"#e57373",400:"#ef5350",500:"#f44336",600:"#e53935",700:"#d32f2f",800:"#c62828",900:"#b71c1c",A100:"#ff8a80",A200:"#ff5252",A400:"#ff1744",A700:"#d50000"},So=sY,oY={50:"#fff3e0",100:"#ffe0b2",200:"#ffcc80",300:"#ffb74d",400:"#ffa726",500:"#ff9800",600:"#fb8c00",700:"#f57c00",800:"#ef6c00",900:"#e65100",A100:"#ffd180",A200:"#ffab40",A400:"#ff9100",A700:"#ff6d00"},Tl=oY,aY={50:"#e3f2fd",100:"#bbdefb",200:"#90caf9",300:"#64b5f6",400:"#42a5f5",500:"#2196f3",600:"#1e88e5",700:"#1976d2",800:"#1565c0",900:"#0d47a1",A100:"#82b1ff",A200:"#448aff",A400:"#2979ff",A700:"#2962ff"},To=aY,lY={50:"#e1f5fe",100:"#b3e5fc",200:"#81d4fa",300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",600:"#039be5",700:"#0288d1",800:"#0277bd",900:"#01579b",A100:"#80d8ff",A200:"#40c4ff",A400:"#00b0ff",A700:"#0091ea"},ko=lY,cY={50:"#e8f5e9",100:"#c8e6c9",200:"#a5d6a7",300:"#81c784",400:"#66bb6a",500:"#4caf50",600:"#43a047",700:"#388e3c",800:"#2e7d32",900:"#1b5e20",A100:"#b9f6ca",A200:"#69f0ae",A400:"#00e676",A700:"#00c853"},Io=cY;function $N(){return{text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:nu.white,default:nu.white},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}}}const uY=$N();function VN(){return{text:{primary:nu.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:"#121212",default:"#121212"},action:{active:nu.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}}}const TS=VN();function kS(e,t,n,r){const i=r.light||r,s=r.dark||r*1.5;e[t]||(e.hasOwnProperty(n)?e[t]=e[n]:t==="light"?e.light=G_(e.main,i):t==="dark"&&(e.dark=q_(e.main,s)))}function dY(e="light"){return e==="dark"?{main:To[200],light:To[50],dark:To[400]}:{main:To[700],light:To[400],dark:To[800]}}function hY(e="light"){return e==="dark"?{main:Co[200],light:Co[50],dark:Co[400]}:{main:Co[500],light:Co[300],dark:Co[700]}}function fY(e="light"){return e==="dark"?{main:So[500],light:So[300],dark:So[700]}:{main:So[700],light:So[400],dark:So[800]}}function pY(e="light"){return e==="dark"?{main:ko[400],light:ko[300],dark:ko[700]}:{main:ko[700],light:ko[500],dark:ko[900]}}function mY(e="light"){return e==="dark"?{main:Io[400],light:Io[300],dark:Io[700]}:{main:Io[800],light:Io[500],dark:Io[900]}}function gY(e="light"){return e==="dark"?{main:Tl[400],light:Tl[300],dark:Tl[700]}:{main:"#ed6c02",light:Tl[500],dark:Tl[900]}}function K_(e){const{mode:t="light",contrastThreshold:n=3,tonalOffset:r=.2,...i}=e,s=e.primary||dY(t),o=e.secondary||hY(t),a=e.error||fY(t),l=e.info||pY(t),c=e.success||mY(t),d=e.warning||gY(t);function h(S){return zK(S,TS.text.primary)>=n?TS.text.primary:uY.text.primary}const f=({color:S,name:k,mainShade:x=500,lightShade:C=300,darkShade:E=700})=>{if(S={...S},!S.main&&S[x]&&(S.main=S[x]),!S.hasOwnProperty("main"))throw new Error(io(11,k?` (${k})`:"",x));if(typeof S.main!="string")throw new Error(io(12,k?` (${k})`:"",JSON.stringify(S.main)));return kS(S,"light",C,r),kS(S,"dark",E,r),S.contrastText||(S.contrastText=h(S.main)),S};let g;return t==="light"?g=$N():t==="dark"&&(g=VN()),gn({common:{...nu},mode:t,primary:f({color:s,name:"primary"}),secondary:f({color:o,name:"secondary",mainShade:"A400",lightShade:"A200",darkShade:"A700"}),error:f({color:a,name:"error"}),warning:f({color:d,name:"warning"}),info:f({color:l,name:"info"}),success:f({color:c,name:"success"}),grey:rY,contrastThreshold:n,getContrastText:h,augmentColor:f,tonalOffset:r,...g},i)}function yY(e){const t={};return Object.entries(e).forEach(r=>{const[i,s]=r;typeof s=="object"&&(t[i]=`${s.fontStyle?`${s.fontStyle} `:""}${s.fontVariant?`${s.fontVariant} `:""}${s.fontWeight?`${s.fontWeight} `:""}${s.fontStretch?`${s.fontStretch} `:""}${s.fontSize||""}${s.lineHeight?`/${s.lineHeight} `:""}${s.fontFamily||""}`)}),t}function vY(e,t){return{toolbar:{minHeight:56,[e.up("xs")]:{"@media (orientation: landscape)":{minHeight:48}},[e.up("sm")]:{minHeight:64}},...t}}function wY(e){return Math.round(e*1e5)/1e5}const IS={textTransform:"uppercase"},PS='"Roboto", "Helvetica", "Arial", sans-serif';function _Y(e,t){const{fontFamily:n=PS,fontSize:r=14,fontWeightLight:i=300,fontWeightRegular:s=400,fontWeightMedium:o=500,fontWeightBold:a=700,htmlFontSize:l=16,allVariants:c,pxToRem:d,...h}=typeof t=="function"?t(e):t,f=r/14,g=d||(k=>`${k/l*f}rem`),y=(k,x,C,E,I)=>({fontFamily:n,fontWeight:k,fontSize:g(x),lineHeight:C,...n===PS?{letterSpacing:`${wY(E/x)}em`}:{},...I,...c}),S={h1:y(i,96,1.167,-1.5),h2:y(i,60,1.2,-.5),h3:y(s,48,1.167,0),h4:y(s,34,1.235,.25),h5:y(s,24,1.334,0),h6:y(o,20,1.6,.15),subtitle1:y(s,16,1.75,.15),subtitle2:y(o,14,1.57,.1),body1:y(s,16,1.5,.15),body2:y(s,14,1.43,.15),button:y(o,14,1.75,.4,IS),caption:y(s,12,1.66,.4),overline:y(s,12,2.66,1,IS),inherit:{fontFamily:"inherit",fontWeight:"inherit",fontSize:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}};return gn({htmlFontSize:l,pxToRem:g,fontFamily:n,fontSize:r,fontWeightLight:i,fontWeightRegular:s,fontWeightMedium:o,fontWeightBold:a,...S},h,{clone:!1})}const xY=.2,EY=.14,bY=.12;function Oe(...e){return[`${e[0]}px ${e[1]}px ${e[2]}px ${e[3]}px rgba(0,0,0,${xY})`,`${e[4]}px ${e[5]}px ${e[6]}px ${e[7]}px rgba(0,0,0,${EY})`,`${e[8]}px ${e[9]}px ${e[10]}px ${e[11]}px rgba(0,0,0,${bY})`].join(",")}const CY=["none",Oe(0,2,1,-1,0,1,1,0,0,1,3,0),Oe(0,3,1,-2,0,2,2,0,0,1,5,0),Oe(0,3,3,-2,0,3,4,0,0,1,8,0),Oe(0,2,4,-1,0,4,5,0,0,1,10,0),Oe(0,3,5,-1,0,5,8,0,0,1,14,0),Oe(0,3,5,-1,0,6,10,0,0,1,18,0),Oe(0,4,5,-2,0,7,10,1,0,2,16,1),Oe(0,5,5,-3,0,8,10,1,0,3,14,2),Oe(0,5,6,-3,0,9,12,1,0,3,16,2),Oe(0,6,6,-3,0,10,14,1,0,4,18,3),Oe(0,6,7,-4,0,11,15,1,0,4,20,3),Oe(0,7,8,-4,0,12,17,2,0,5,22,4),Oe(0,7,8,-4,0,13,19,2,0,5,24,4),Oe(0,7,9,-4,0,14,21,2,0,5,26,4),Oe(0,8,9,-5,0,15,22,2,0,6,28,5),Oe(0,8,10,-5,0,16,24,2,0,6,30,5),Oe(0,8,11,-5,0,17,26,2,0,6,32,5),Oe(0,9,11,-5,0,18,28,2,0,7,34,6),Oe(0,9,12,-6,0,19,29,2,0,7,36,6),Oe(0,10,13,-6,0,20,31,3,0,8,38,7),Oe(0,10,13,-6,0,21,33,3,0,8,40,7),Oe(0,10,14,-6,0,22,35,3,0,8,42,7),Oe(0,11,14,-7,0,23,36,3,0,9,44,8),Oe(0,11,15,-7,0,24,38,3,0,9,46,8)],SY=CY,TY={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},kY={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function AS(e){return`${Math.round(e)}ms`}function IY(e){if(!e)return 0;const t=e/36;return Math.min(Math.round((4+15*t**.25+t/5)*10),3e3)}function PY(e){const t={...TY,...e.easing},n={...kY,...e.duration};return{getAutoHeightDuration:IY,create:(i=["all"],s={})=>{const{duration:o=n.standard,easing:a=t.easeInOut,delay:l=0,...c}=s;return(Array.isArray(i)?i:[i]).map(d=>`${d} ${typeof o=="string"?o:AS(o)} ${a} ${typeof l=="string"?l:AS(l)}`).join(",")},...e,easing:t,duration:n}}const AY={mobileStepper:1e3,fab:1050,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500},RY=AY;function NY(e){return vr(e)||typeof e>"u"||typeof e=="string"||typeof e=="boolean"||typeof e=="number"||Array.isArray(e)}function UN(e={}){const t={...e};function n(r){const i=Object.entries(r);for(let s=0;s<i.length;s++){const[o,a]=i[s];!NY(a)||o.startsWith("unstable_")?delete r[o]:vr(a)&&(r[o]={...a},n(r[o]))}}return n(t),`import { unstable_createBreakpoints as createBreakpoints, createTransitions } from '@mui/material/styles';

const theme = ${JSON.stringify(t,null,2)};

theme.breakpoints = createBreakpoints(theme.breakpoints || {});
theme.transitions = createTransitions(theme.transitions || {});

export default theme;`}function S0(e={},...t){const{breakpoints:n,mixins:r={},spacing:i,palette:s={},transitions:o={},typography:a={},shape:l,...c}=e;if(e.vars&&e.generateThemeVars===void 0)throw new Error(io(20));const d=K_(s),h=B_(e);let f=gn(h,{mixins:vY(h.breakpoints,r),palette:d,shadows:SY.slice(),typography:_Y(d,a),transitions:PY(o),zIndex:{...RY}});return f=gn(f,c),f=t.reduce((g,y)=>gn(g,y),f),f.unstable_sxConfig={...Ru,...c==null?void 0:c.unstable_sxConfig},f.unstable_sx=function(y){return Ra({sx:y,theme:this})},f.toRuntimeSource=UN,f}function DY(e){let t;return e<1?t=5.11916*e**2:t=4.5*Math.log(e+1)+2,Math.round(t*10)/1e3}const OY=[...Array(25)].map((e,t)=>{if(t===0)return"none";const n=DY(t);return`linear-gradient(rgba(255 255 255 / ${n}), rgba(255 255 255 / ${n}))`});function BN(e){return{inputPlaceholder:e==="dark"?.5:.42,inputUnderline:e==="dark"?.7:.42,switchTrackDisabled:e==="dark"?.2:.12,switchTrack:e==="dark"?.3:.38}}function zN(e){return e==="dark"?OY:[]}function MY(e){const{palette:t={mode:"light"},opacity:n,overlays:r,...i}=e,s=K_(t);return{palette:s,opacity:{...BN(s.mode),...n},overlays:r||zN(s.mode),...i}}function LY(e){var t;return!!e[0].match(/(cssVarPrefix|colorSchemeSelector|rootSelector|typography|mixins|breakpoints|direction|transitions)/)||!!e[0].match(/sxConfig$/)||e[0]==="palette"&&!!((t=e[1])!=null&&t.match(/(mode|contrastThreshold|tonalOffset)/))}const jY=e=>[...[...Array(25)].map((t,n)=>`--${e?`${e}-`:""}overlays-${n}`),`--${e?`${e}-`:""}palette-AppBar-darkBg`,`--${e?`${e}-`:""}palette-AppBar-darkColor`],FY=jY,$Y=e=>(t,n)=>{const r=e.rootSelector||":root",i=e.colorSchemeSelector;let s=i;if(i==="class"&&(s=".%s"),i==="data"&&(s="[data-%s]"),i!=null&&i.startsWith("data-")&&!i.includes("%s")&&(s=`[${i}="%s"]`),e.defaultColorScheme===t){if(t==="dark"){const o={};return FY(e.cssVarPrefix).forEach(a=>{o[a]=n[a],delete n[a]}),s==="media"?{[r]:n,"@media (prefers-color-scheme: dark)":{[r]:o}}:s?{[s.replace("%s",t)]:o,[`${r}, ${s.replace("%s",t)}`]:n}:{[r]:{...n,...o}}}if(s&&s!=="media")return`${r}, ${s.replace("%s",String(t))}`}else if(t){if(s==="media")return{[`@media (prefers-color-scheme: ${String(t)})`]:{[r]:n}};if(s)return s.replace("%s",String(t))}return r};function VY(e,t){t.forEach(n=>{e[n]||(e[n]={})})}function F(e,t,n){!e[t]&&n&&(e[t]=n)}function Ll(e){return typeof e!="string"||!e.startsWith("hsl")?e:FN(e)}function Fr(e,t){`${t}Channel`in e||(e[`${t}Channel`]=Ml(Ll(e[t]),`MUI: Can't create \`palette.${t}Channel\` because \`palette.${t}\` is not one of these formats: #nnn, #nnnnnn, rgb(), rgba(), hsl(), hsla(), color().
To suppress this warning, you need to explicitly provide the \`palette.${t}Channel\` as a string (in rgb format, for example "12 12 12") or undefined if you want to remove the channel token.`))}function UY(e){return typeof e=="number"?`${e}px`:typeof e=="string"||typeof e=="function"||Array.isArray(e)?e:"8px"}const dr=e=>{try{return e()}catch{}},BY=(e="mui")=>XK(e);function xg(e,t,n,r){if(!t)return;t=t===!0?{}:t;const i=r==="dark"?"dark":"light";if(!n){e[r]=MY({...t,palette:{mode:i,...t==null?void 0:t.palette}});return}const{palette:s,...o}=S0({...n,palette:{mode:i,...t==null?void 0:t.palette}});return e[r]={...t,palette:s,opacity:{...BN(i),...t==null?void 0:t.opacity},overlays:(t==null?void 0:t.overlays)||zN(i)},o}function zY(e={},...t){const{colorSchemes:n={light:!0},defaultColorScheme:r,disableCssColorScheme:i=!1,cssVarPrefix:s="mui",shouldSkipGeneratingVar:o=LY,colorSchemeSelector:a=n.light&&n.dark?"media":void 0,rootSelector:l=":root",...c}=e,d=Object.keys(n)[0],h=r||(n.light&&d!=="light"?"light":d),f=BY(s),{[h]:g,light:y,dark:S,...k}=n,x={...k};let C=g;if((h==="dark"&&!("dark"in n)||h==="light"&&!("light"in n))&&(C=!0),!C)throw new Error(io(21,h));const E=xg(x,C,c,h);y&&!x.light&&xg(x,y,void 0,"light"),S&&!x.dark&&xg(x,S,void 0,"dark");let I={defaultColorScheme:h,...E,cssVarPrefix:s,colorSchemeSelector:a,rootSelector:l,getCssVar:f,colorSchemes:x,font:{...yY(E.typography),...E.font},spacing:UY(c.spacing)};Object.keys(I.colorSchemes).forEach(P=>{const v=I.colorSchemes[P].palette,R=O=>{const N=O.split("-"),V=N[1],z=N[2];return f(O,v[V][z])};if(v.mode==="light"&&(F(v.common,"background","#fff"),F(v.common,"onBackground","#000")),v.mode==="dark"&&(F(v.common,"background","#000"),F(v.common,"onBackground","#fff")),VY(v,["Alert","AppBar","Avatar","Button","Chip","FilledInput","LinearProgress","Skeleton","Slider","SnackbarContent","SpeedDialAction","StepConnector","StepContent","Switch","TableCell","Tooltip"]),v.mode==="light"){F(v.Alert,"errorColor",Ce(v.error.light,.6)),F(v.Alert,"infoColor",Ce(v.info.light,.6)),F(v.Alert,"successColor",Ce(v.success.light,.6)),F(v.Alert,"warningColor",Ce(v.warning.light,.6)),F(v.Alert,"errorFilledBg",R("palette-error-main")),F(v.Alert,"infoFilledBg",R("palette-info-main")),F(v.Alert,"successFilledBg",R("palette-success-main")),F(v.Alert,"warningFilledBg",R("palette-warning-main")),F(v.Alert,"errorFilledColor",dr(()=>v.getContrastText(v.error.main))),F(v.Alert,"infoFilledColor",dr(()=>v.getContrastText(v.info.main))),F(v.Alert,"successFilledColor",dr(()=>v.getContrastText(v.success.main))),F(v.Alert,"warningFilledColor",dr(()=>v.getContrastText(v.warning.main))),F(v.Alert,"errorStandardBg",Se(v.error.light,.9)),F(v.Alert,"infoStandardBg",Se(v.info.light,.9)),F(v.Alert,"successStandardBg",Se(v.success.light,.9)),F(v.Alert,"warningStandardBg",Se(v.warning.light,.9)),F(v.Alert,"errorIconColor",R("palette-error-main")),F(v.Alert,"infoIconColor",R("palette-info-main")),F(v.Alert,"successIconColor",R("palette-success-main")),F(v.Alert,"warningIconColor",R("palette-warning-main")),F(v.AppBar,"defaultBg",R("palette-grey-100")),F(v.Avatar,"defaultBg",R("palette-grey-400")),F(v.Button,"inheritContainedBg",R("palette-grey-300")),F(v.Button,"inheritContainedHoverBg",R("palette-grey-A100")),F(v.Chip,"defaultBorder",R("palette-grey-400")),F(v.Chip,"defaultAvatarColor",R("palette-grey-700")),F(v.Chip,"defaultIconColor",R("palette-grey-700")),F(v.FilledInput,"bg","rgba(0, 0, 0, 0.06)"),F(v.FilledInput,"hoverBg","rgba(0, 0, 0, 0.09)"),F(v.FilledInput,"disabledBg","rgba(0, 0, 0, 0.12)"),F(v.LinearProgress,"primaryBg",Se(v.primary.main,.62)),F(v.LinearProgress,"secondaryBg",Se(v.secondary.main,.62)),F(v.LinearProgress,"errorBg",Se(v.error.main,.62)),F(v.LinearProgress,"infoBg",Se(v.info.main,.62)),F(v.LinearProgress,"successBg",Se(v.success.main,.62)),F(v.LinearProgress,"warningBg",Se(v.warning.main,.62)),F(v.Skeleton,"bg",`rgba(${R("palette-text-primaryChannel")} / 0.11)`),F(v.Slider,"primaryTrack",Se(v.primary.main,.62)),F(v.Slider,"secondaryTrack",Se(v.secondary.main,.62)),F(v.Slider,"errorTrack",Se(v.error.main,.62)),F(v.Slider,"infoTrack",Se(v.info.main,.62)),F(v.Slider,"successTrack",Se(v.success.main,.62)),F(v.Slider,"warningTrack",Se(v.warning.main,.62));const O=Sd(v.background.default,.8);F(v.SnackbarContent,"bg",O),F(v.SnackbarContent,"color",dr(()=>v.getContrastText(O))),F(v.SpeedDialAction,"fabHoverBg",Sd(v.background.paper,.15)),F(v.StepConnector,"border",R("palette-grey-400")),F(v.StepContent,"border",R("palette-grey-400")),F(v.Switch,"defaultColor",R("palette-common-white")),F(v.Switch,"defaultDisabledColor",R("palette-grey-100")),F(v.Switch,"primaryDisabledColor",Se(v.primary.main,.62)),F(v.Switch,"secondaryDisabledColor",Se(v.secondary.main,.62)),F(v.Switch,"errorDisabledColor",Se(v.error.main,.62)),F(v.Switch,"infoDisabledColor",Se(v.info.main,.62)),F(v.Switch,"successDisabledColor",Se(v.success.main,.62)),F(v.Switch,"warningDisabledColor",Se(v.warning.main,.62)),F(v.TableCell,"border",Se(Cd(v.divider,1),.88)),F(v.Tooltip,"bg",Cd(v.grey[700],.92))}if(v.mode==="dark"){F(v.Alert,"errorColor",Se(v.error.light,.6)),F(v.Alert,"infoColor",Se(v.info.light,.6)),F(v.Alert,"successColor",Se(v.success.light,.6)),F(v.Alert,"warningColor",Se(v.warning.light,.6)),F(v.Alert,"errorFilledBg",R("palette-error-dark")),F(v.Alert,"infoFilledBg",R("palette-info-dark")),F(v.Alert,"successFilledBg",R("palette-success-dark")),F(v.Alert,"warningFilledBg",R("palette-warning-dark")),F(v.Alert,"errorFilledColor",dr(()=>v.getContrastText(v.error.dark))),F(v.Alert,"infoFilledColor",dr(()=>v.getContrastText(v.info.dark))),F(v.Alert,"successFilledColor",dr(()=>v.getContrastText(v.success.dark))),F(v.Alert,"warningFilledColor",dr(()=>v.getContrastText(v.warning.dark))),F(v.Alert,"errorStandardBg",Ce(v.error.light,.9)),F(v.Alert,"infoStandardBg",Ce(v.info.light,.9)),F(v.Alert,"successStandardBg",Ce(v.success.light,.9)),F(v.Alert,"warningStandardBg",Ce(v.warning.light,.9)),F(v.Alert,"errorIconColor",R("palette-error-main")),F(v.Alert,"infoIconColor",R("palette-info-main")),F(v.Alert,"successIconColor",R("palette-success-main")),F(v.Alert,"warningIconColor",R("palette-warning-main")),F(v.AppBar,"defaultBg",R("palette-grey-900")),F(v.AppBar,"darkBg",R("palette-background-paper")),F(v.AppBar,"darkColor",R("palette-text-primary")),F(v.Avatar,"defaultBg",R("palette-grey-600")),F(v.Button,"inheritContainedBg",R("palette-grey-800")),F(v.Button,"inheritContainedHoverBg",R("palette-grey-700")),F(v.Chip,"defaultBorder",R("palette-grey-700")),F(v.Chip,"defaultAvatarColor",R("palette-grey-300")),F(v.Chip,"defaultIconColor",R("palette-grey-300")),F(v.FilledInput,"bg","rgba(255, 255, 255, 0.09)"),F(v.FilledInput,"hoverBg","rgba(255, 255, 255, 0.13)"),F(v.FilledInput,"disabledBg","rgba(255, 255, 255, 0.12)"),F(v.LinearProgress,"primaryBg",Ce(v.primary.main,.5)),F(v.LinearProgress,"secondaryBg",Ce(v.secondary.main,.5)),F(v.LinearProgress,"errorBg",Ce(v.error.main,.5)),F(v.LinearProgress,"infoBg",Ce(v.info.main,.5)),F(v.LinearProgress,"successBg",Ce(v.success.main,.5)),F(v.LinearProgress,"warningBg",Ce(v.warning.main,.5)),F(v.Skeleton,"bg",`rgba(${R("palette-text-primaryChannel")} / 0.13)`),F(v.Slider,"primaryTrack",Ce(v.primary.main,.5)),F(v.Slider,"secondaryTrack",Ce(v.secondary.main,.5)),F(v.Slider,"errorTrack",Ce(v.error.main,.5)),F(v.Slider,"infoTrack",Ce(v.info.main,.5)),F(v.Slider,"successTrack",Ce(v.success.main,.5)),F(v.Slider,"warningTrack",Ce(v.warning.main,.5));const O=Sd(v.background.default,.98);F(v.SnackbarContent,"bg",O),F(v.SnackbarContent,"color",dr(()=>v.getContrastText(O))),F(v.SpeedDialAction,"fabHoverBg",Sd(v.background.paper,.15)),F(v.StepConnector,"border",R("palette-grey-600")),F(v.StepContent,"border",R("palette-grey-600")),F(v.Switch,"defaultColor",R("palette-grey-300")),F(v.Switch,"defaultDisabledColor",R("palette-grey-600")),F(v.Switch,"primaryDisabledColor",Ce(v.primary.main,.55)),F(v.Switch,"secondaryDisabledColor",Ce(v.secondary.main,.55)),F(v.Switch,"errorDisabledColor",Ce(v.error.main,.55)),F(v.Switch,"infoDisabledColor",Ce(v.info.main,.55)),F(v.Switch,"successDisabledColor",Ce(v.success.main,.55)),F(v.Switch,"warningDisabledColor",Ce(v.warning.main,.55)),F(v.TableCell,"border",Ce(Cd(v.divider,1),.68)),F(v.Tooltip,"bg",Cd(v.grey[700],.92))}Fr(v.background,"default"),Fr(v.background,"paper"),Fr(v.common,"background"),Fr(v.common,"onBackground"),Fr(v,"divider"),Object.keys(v).forEach(O=>{const N=v[O];O!=="tonalOffset"&&N&&typeof N=="object"&&(N.main&&F(v[O],"mainChannel",Ml(Ll(N.main))),N.light&&F(v[O],"lightChannel",Ml(Ll(N.light))),N.dark&&F(v[O],"darkChannel",Ml(Ll(N.dark))),N.contrastText&&F(v[O],"contrastTextChannel",Ml(Ll(N.contrastText))),O==="text"&&(Fr(v[O],"primary"),Fr(v[O],"secondary")),O==="action"&&(N.active&&Fr(v[O],"active"),N.selected&&Fr(v[O],"selected")))})}),I=t.reduce((P,v)=>gn(P,v),I);const D={prefix:s,disableCssColorScheme:i,shouldSkipGeneratingVar:o,getSelector:$Y(I)},{vars:M,generateThemeVars:T,generateStyleSheets:b}=ZK(I,D);return I.vars=M,Object.entries(I.colorSchemes[I.defaultColorScheme]).forEach(([P,v])=>{I[P]=v}),I.generateThemeVars=T,I.generateStyleSheets=b,I.generateSpacing=function(){return DN(c.spacing,j_(this))},I.getColorSchemeSelector=eY(a),I.spacing=I.generateSpacing(),I.shouldSkipGeneratingVar=o,I.unstable_sxConfig={...Ru,...c==null?void 0:c.unstable_sxConfig},I.unstable_sx=function(v){return Ra({sx:v,theme:this})},I.toRuntimeSource=UN,I}function RS(e,t,n){e.colorSchemes&&n&&(e.colorSchemes[t]={...n!==!0&&n,palette:K_({...n===!0?{}:n.palette,mode:t})})}function WN(e={},...t){const{palette:n,cssVariables:r=!1,colorSchemes:i=n?void 0:{light:!0},defaultColorScheme:s=n==null?void 0:n.mode,...o}=e,a=s||"light",l=i==null?void 0:i[a],c={...i,...n?{[a]:{...typeof l!="boolean"&&l,palette:n}}:void 0};if(r===!1){if(!("colorSchemes"in e))return S0(e,...t);let d=n;"palette"in e||c[a]&&(c[a]!==!0?d=c[a].palette:a==="dark"&&(d={mode:"dark"}));const h=S0({...e,palette:d},...t);return h.defaultColorScheme=a,h.colorSchemes=c,h.palette.mode==="light"&&(h.colorSchemes.light={...c.light!==!0&&c.light,palette:h.palette},RS(h,"dark",c.dark)),h.palette.mode==="dark"&&(h.colorSchemes.dark={...c.dark!==!0&&c.dark,palette:h.palette},RS(h,"light",c.light)),h}return!n&&!("light"in c)&&a==="light"&&(c.light=!0),zY({...o,colorSchemes:c,defaultColorScheme:a,...typeof r!="boolean"&&r},...t)}const WY=WN(),HN=WY,Y_="$$material";function HY(){const e=ON(HN);return e[Y_]||e}function qY(e){return e!=="ownerState"&&e!=="theme"&&e!=="sx"&&e!=="as"}const GY=e=>qY(e)&&e!=="classes",KY=GY,YY=MK({themeId:Y_,defaultTheme:HN,rootShouldForwardProp:KY}),X_=YY,XY=YK,JY=XY;function qN(e){return KK(e)}function QY(e){return typeof e=="string"}function ZY(e,t,n){return e===void 0||QY(e)?t:{...t,ownerState:{...t.ownerState,...n}}}function eX(e,t,n){return typeof e=="function"?e(t,n):e}function GN(e,t=[]){if(e===void 0)return{};const n={};return Object.keys(e).filter(r=>r.match(/^on[A-Z]/)&&typeof e[r]=="function"&&!t.includes(r)).forEach(r=>{n[r]=e[r]}),n}function NS(e){if(e===void 0)return{};const t={};return Object.keys(e).filter(n=>!(n.match(/^on[A-Z]/)&&typeof e[n]=="function")).forEach(n=>{t[n]=e[n]}),t}function tX(e){const{getSlotProps:t,additionalProps:n,externalSlotProps:r,externalForwardedProps:i,className:s}=e;if(!t){const g=Aa(n==null?void 0:n.className,s,i==null?void 0:i.className,r==null?void 0:r.className),y={...n==null?void 0:n.style,...i==null?void 0:i.style,...r==null?void 0:r.style},S={...n,...i,...r};return g.length>0&&(S.className=g),Object.keys(y).length>0&&(S.style=y),{props:S,internalRef:void 0}}const o=GN({...i,...r}),a=NS(r),l=NS(i),c=t(o),d=Aa(c==null?void 0:c.className,n==null?void 0:n.className,s,i==null?void 0:i.className,r==null?void 0:r.className),h={...c==null?void 0:c.style,...n==null?void 0:n.style,...i==null?void 0:i.style,...r==null?void 0:r.style},f={...c,...n,...l,...a};return d.length>0&&(f.className=d),Object.keys(h).length>0&&(f.style=h),{props:f,internalRef:c.ref}}function gf(e,t){const{className:n,elementType:r,ownerState:i,externalForwardedProps:s,internalForwardedProps:o,shouldForwardComponentProp:a=!1,...l}=t,{component:c,slots:d={[e]:void 0},slotProps:h={[e]:void 0},...f}=s,g=d[e]||r,y=eX(h[e],i),{props:{component:S,...k},internalRef:x}=tX({className:n,...l,externalForwardedProps:e==="root"?f:void 0,externalSlotProps:y}),C=Iu(x,y==null?void 0:y.ref,t.ref),E=e==="root"?S||c:S,I=ZY(g,{...e==="root"&&!c&&!d[e]&&o,...e!=="root"&&!d[e]&&o,...k,...E&&!a&&{as:E},...E&&a&&{component:E},ref:C},i);return[g,I]}function nX(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function T0(e,t){return T0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,r){return n.__proto__=r,n},T0(e,t)}function rX(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,T0(e,t)}const DS={disabled:!1},KN=Z.createContext(null);var iX=function(t){return t.scrollTop},jl="unmounted",Cs="exited",Ss="entering",Ro="entered",k0="exiting",gi=function(e){rX(t,e);function t(r,i){var s;s=e.call(this,r,i)||this;var o=i,a=o&&!o.isMounting?r.enter:r.appear,l;return s.appearStatus=null,r.in?a?(l=Cs,s.appearStatus=Ss):l=Ro:r.unmountOnExit||r.mountOnEnter?l=jl:l=Cs,s.state={status:l},s.nextCallback=null,s}t.getDerivedStateFromProps=function(i,s){var o=i.in;return o&&s.status===jl?{status:Cs}:null};var n=t.prototype;return n.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},n.componentDidUpdate=function(i){var s=null;if(i!==this.props){var o=this.state.status;this.props.in?o!==Ss&&o!==Ro&&(s=Ss):(o===Ss||o===Ro)&&(s=k0)}this.updateStatus(!1,s)},n.componentWillUnmount=function(){this.cancelNextCallback()},n.getTimeouts=function(){var i=this.props.timeout,s,o,a;return s=o=a=i,i!=null&&typeof i!="number"&&(s=i.exit,o=i.enter,a=i.appear!==void 0?i.appear:o),{exit:s,enter:o,appear:a}},n.updateStatus=function(i,s){if(i===void 0&&(i=!1),s!==null)if(this.cancelNextCallback(),s===Ss){if(this.props.unmountOnExit||this.props.mountOnEnter){var o=this.props.nodeRef?this.props.nodeRef.current:hd.findDOMNode(this);o&&iX(o)}this.performEnter(i)}else this.performExit();else this.props.unmountOnExit&&this.state.status===Cs&&this.setState({status:jl})},n.performEnter=function(i){var s=this,o=this.props.enter,a=this.context?this.context.isMounting:i,l=this.props.nodeRef?[a]:[hd.findDOMNode(this),a],c=l[0],d=l[1],h=this.getTimeouts(),f=a?h.appear:h.enter;if(!i&&!o||DS.disabled){this.safeSetState({status:Ro},function(){s.props.onEntered(c)});return}this.props.onEnter(c,d),this.safeSetState({status:Ss},function(){s.props.onEntering(c,d),s.onTransitionEnd(f,function(){s.safeSetState({status:Ro},function(){s.props.onEntered(c,d)})})})},n.performExit=function(){var i=this,s=this.props.exit,o=this.getTimeouts(),a=this.props.nodeRef?void 0:hd.findDOMNode(this);if(!s||DS.disabled){this.safeSetState({status:Cs},function(){i.props.onExited(a)});return}this.props.onExit(a),this.safeSetState({status:k0},function(){i.props.onExiting(a),i.onTransitionEnd(o.exit,function(){i.safeSetState({status:Cs},function(){i.props.onExited(a)})})})},n.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},n.safeSetState=function(i,s){s=this.setNextCallback(s),this.setState(i,s)},n.setNextCallback=function(i){var s=this,o=!0;return this.nextCallback=function(a){o&&(o=!1,s.nextCallback=null,i(a))},this.nextCallback.cancel=function(){o=!1},this.nextCallback},n.onTransitionEnd=function(i,s){this.setNextCallback(s);var o=this.props.nodeRef?this.props.nodeRef.current:hd.findDOMNode(this),a=i==null&&!this.props.addEndListener;if(!o||a){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var l=this.props.nodeRef?[this.nextCallback]:[o,this.nextCallback],c=l[0],d=l[1];this.props.addEndListener(c,d)}i!=null&&setTimeout(this.nextCallback,i)},n.render=function(){var i=this.state.status;if(i===jl)return null;var s=this.props,o=s.children;s.in,s.mountOnEnter,s.unmountOnExit,s.appear,s.enter,s.exit,s.timeout,s.addEndListener,s.onEnter,s.onEntering,s.onEntered,s.onExit,s.onExiting,s.onExited,s.nodeRef;var a=nX(s,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return Z.createElement(KN.Provider,{value:null},typeof o=="function"?o(i,a):Z.cloneElement(Z.Children.only(o),a))},t}(Z.Component);gi.contextType=KN;gi.propTypes={};function Po(){}gi.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:Po,onEntering:Po,onEntered:Po,onExit:Po,onExiting:Po,onExited:Po};gi.UNMOUNTED=jl;gi.EXITED=Cs;gi.ENTERING=Ss;gi.ENTERED=Ro;gi.EXITING=k0;const sX=gi,oX=e=>e.scrollTop;function OS(e,t){const{timeout:n,easing:r,style:i={}}=e;return{duration:i.transitionDuration??(typeof n=="number"?n:n[t.mode]||0),easing:i.transitionTimingFunction??(typeof r=="object"?r[t.mode]:r),delay:i.transitionDelay}}const aX={entering:{opacity:1},entered:{opacity:1}},lX=w.forwardRef(function(t,n){const r=HY(),i={enter:r.transitions.duration.enteringScreen,exit:r.transitions.duration.leavingScreen},{addEndListener:s,appear:o=!0,children:a,easing:l,in:c,onEnter:d,onEntered:h,onEntering:f,onExit:g,onExited:y,onExiting:S,style:k,timeout:x=i,TransitionComponent:C=sX,...E}=t,I=w.useRef(null),D=Iu(I,N_(a),n),M=V=>z=>{if(V){const Y=I.current;z===void 0?V(Y):V(Y,z)}},T=M(f),b=M((V,z)=>{oX(V);const Y=OS({style:k,timeout:x,easing:l},{mode:"enter"});V.style.webkitTransition=r.transitions.create("opacity",Y),V.style.transition=r.transitions.create("opacity",Y),d&&d(V,z)}),P=M(h),v=M(S),R=M(V=>{const z=OS({style:k,timeout:x,easing:l},{mode:"exit"});V.style.webkitTransition=r.transitions.create("opacity",z),V.style.transition=r.transitions.create("opacity",z),g&&g(V)}),O=M(y),N=V=>{s&&s(I.current,V)};return m.jsx(C,{appear:o,in:c,nodeRef:I,onEnter:b,onEntered:P,onEntering:T,onExit:R,onExited:O,onExiting:v,addEndListener:N,timeout:x,...E,children:(V,{ownerState:z,...Y})=>w.cloneElement(a,{style:{opacity:0,visibility:V==="exited"&&!c?"hidden":void 0,...aX[V],...k,...a.props.style},ref:D,...Y})})}),cX=lX;function uX(e){return z_("MuiBackdrop",e)}W_("MuiBackdrop",["root","invisible"]);const dX=e=>{const{classes:t,invisible:n}=e;return hN({root:["root",n&&"invisible"]},uX,t)},hX=X_("div",{name:"MuiBackdrop",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.invisible&&t.invisible]}})({position:"fixed",display:"flex",alignItems:"center",justifyContent:"center",right:0,bottom:0,top:0,left:0,backgroundColor:"rgba(0, 0, 0, 0.5)",WebkitTapHighlightColor:"transparent",variants:[{props:{invisible:!0},style:{backgroundColor:"transparent"}}]}),fX=w.forwardRef(function(t,n){const r=qN({props:t,name:"MuiBackdrop"}),{children:i,className:s,component:o="div",invisible:a=!1,open:l,components:c={},componentsProps:d={},slotProps:h={},slots:f={},TransitionComponent:g,transitionDuration:y,...S}=r,k={...r,component:o,invisible:a},x=dX(k),C={transition:g,root:c.Root,...f},E={...d,...h},I={slots:C,slotProps:E},[D,M]=gf("root",{elementType:hX,externalForwardedProps:I,className:Aa(x.root,s),ownerState:k}),[T,b]=gf("transition",{elementType:cX,externalForwardedProps:I,ownerState:k});return m.jsx(T,{in:l,timeout:y,...S,...b,children:m.jsx(D,{"aria-hidden":!0,...M,classes:x,ref:n,children:i})})}),pX=fX;function MS(e){const t=w.useRef(e);return v0(()=>{t.current=e}),w.useRef((...n)=>(0,t.current)(...n)).current}function LS(...e){return e.reduce((t,n)=>n==null?t:function(...i){t.apply(this,i),n.apply(this,i)},()=>{})}function mX(e){return typeof e=="function"?e():e}function gX(e){return e?e.props.hasOwnProperty("in"):!1}const jS=()=>{},Td=new hq;function yX(e){const{container:t,disableEscapeKeyDown:n=!1,disableScrollLock:r=!1,closeAfterTransition:i=!1,onTransitionEnter:s,onTransitionExited:o,children:a,onClose:l,open:c,rootRef:d}=e,h=w.useRef({}),f=w.useRef(null),g=w.useRef(null),y=Iu(g,d),[S,k]=w.useState(!c),x=gX(a);let C=!0;(e["aria-hidden"]==="false"||e["aria-hidden"]===!1)&&(C=!1);const E=()=>ro(f.current),I=()=>(h.current.modalRef=g.current,h.current.mount=f.current,h.current),D=()=>{Td.mount(I(),{disableScrollLock:r}),g.current&&(g.current.scrollTop=0)},M=MS(()=>{const z=mX(t)||E().body;Td.add(I(),z),g.current&&D()}),T=()=>Td.isTopModal(I()),b=MS(z=>{f.current=z,z&&(c&&T()?D():g.current&&cc(g.current,C))}),P=w.useCallback(()=>{Td.remove(I(),C)},[C]);w.useEffect(()=>()=>{P()},[P]),w.useEffect(()=>{c?M():(!x||!i)&&P()},[c,P,x,i,M]);const v=z=>Y=>{var G;(G=z.onKeyDown)==null||G.call(z,Y),!(Y.key!=="Escape"||Y.which===229||!T())&&(n||(Y.stopPropagation(),l&&l(Y,"escapeKeyDown")))},R=z=>Y=>{var G;(G=z.onClick)==null||G.call(z,Y),Y.target===Y.currentTarget&&l&&l(Y,"backdropClick")};return{getRootProps:(z={})=>{const Y=GN(e);delete Y.onTransitionEnter,delete Y.onTransitionExited;const G={...Y,...z};return{role:"presentation",...G,onKeyDown:v(G),ref:y}},getBackdropProps:(z={})=>{const Y=z;return{"aria-hidden":!0,...Y,onClick:R(Y),open:c}},getTransitionProps:()=>{const z=()=>{k(!1),s&&s()},Y=()=>{k(!0),o&&o(),i&&P()};return{onEnter:LS(z,(a==null?void 0:a.props.onEnter)??jS),onExited:LS(Y,(a==null?void 0:a.props.onExited)??jS)}},rootRef:y,portalRef:b,isTopModal:T,exited:S,hasTransition:x}}function vX(e){return z_("MuiModal",e)}W_("MuiModal",["root","hidden","backdrop"]);const wX=e=>{const{open:t,exited:n,classes:r}=e;return hN({root:["root",!t&&n&&"hidden"],backdrop:["backdrop"]},vX,r)},_X=X_("div",{name:"MuiModal",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,!n.open&&n.exited&&t.hidden]}})(JY(({theme:e})=>({position:"fixed",zIndex:(e.vars||e).zIndex.modal,right:0,bottom:0,top:0,left:0,variants:[{props:({ownerState:t})=>!t.open&&t.exited,style:{visibility:"hidden"}}]}))),xX=X_(pX,{name:"MuiModal",slot:"Backdrop"})({zIndex:-1}),EX=w.forwardRef(function(t,n){const r=qN({name:"MuiModal",props:t}),{BackdropComponent:i=xX,BackdropProps:s,classes:o,className:a,closeAfterTransition:l=!1,children:c,container:d,component:h,components:f={},componentsProps:g={},disableAutoFocus:y=!1,disableEnforceFocus:S=!1,disableEscapeKeyDown:k=!1,disablePortal:x=!1,disableRestoreFocus:C=!1,disableScrollLock:E=!1,hideBackdrop:I=!1,keepMounted:D=!1,onClose:M,onTransitionEnter:T,onTransitionExited:b,open:P,slotProps:v={},slots:R={},theme:O,...N}=r,V={...r,closeAfterTransition:l,disableAutoFocus:y,disableEnforceFocus:S,disableEscapeKeyDown:k,disablePortal:x,disableRestoreFocus:C,disableScrollLock:E,hideBackdrop:I,keepMounted:D},{getRootProps:z,getBackdropProps:Y,getTransitionProps:G,portalRef:$,isTopModal:K,exited:X,hasTransition:le}=yX({...V,rootRef:n}),ne={...V,exited:X},H=wX(ne),J={};if(c.props.tabIndex===void 0&&(J.tabIndex="-1"),le){const{onEnter:We,onExited:gt}=G();J.onEnter=We,J.onExited=gt}const oe={slots:{root:f.Root,backdrop:f.Backdrop,...R},slotProps:{...g,...v}},[fe,re]=gf("root",{ref:n,elementType:_X,externalForwardedProps:{...oe,...N,component:h},getSlotProps:z,ownerState:ne,className:Aa(a,H==null?void 0:H.root,!ne.open&&ne.exited&&(H==null?void 0:H.hidden))}),[je,Fe]=gf("backdrop",{ref:s==null?void 0:s.ref,elementType:i,externalForwardedProps:oe,shouldForwardComponentProp:!0,additionalProps:s,getSlotProps:We=>Y({...We,onClick:gt=>{We!=null&&We.onClick&&We.onClick(gt)}}),className:Aa(s==null?void 0:s.className,H==null?void 0:H.backdrop),ownerState:ne});return!D&&!P&&(!le||X)?null:m.jsx(bq,{ref:$,container:d,disablePortal:x,children:m.jsxs(fe,{...re,children:[!I&&i?m.jsx(je,{...Fe}):null,m.jsx(wq,{disableEnforceFocus:S,disableAutoFocus:y,disableRestoreFocus:C,isEnabled:K,open:P,children:w.cloneElement(c,J)})]})})}),YN=EX,bX=W_("MuiBox",["root"]),CX=bX,SX=WN(),TX=AK({themeId:Y_,defaultTheme:SX,defaultClassName:CX.root,generateClassName:MN.generate}),XN=TX;var FS=!1,ks,I0,P0,sh,oh,JN,ah,A0,R0,N0,QN,D0,O0,ZN,eD;function Xt(){if(!FS){FS=!0;var e=navigator.userAgent,t=/(?:MSIE.(\d+\.\d+))|(?:(?:Firefox|GranParadiso|Iceweasel).(\d+\.\d+))|(?:Opera(?:.+Version.|.)(\d+\.\d+))|(?:AppleWebKit.(\d+(?:\.\d+)?))|(?:Trident\/\d+\.\d+.*rv:(\d+\.\d+))/.exec(e),n=/(Mac OS X)|(Windows)|(Linux)/.exec(e);if(D0=/\b(iPhone|iP[ao]d)/.exec(e),O0=/\b(iP[ao]d)/.exec(e),N0=/Android/i.exec(e),ZN=/FBAN\/\w+;/i.exec(e),eD=/Mobile/i.exec(e),QN=!!/Win64/.exec(e),t){ks=t[1]?parseFloat(t[1]):t[5]?parseFloat(t[5]):NaN,ks&&document&&document.documentMode&&(ks=document.documentMode);var r=/(?:Trident\/(\d+.\d+))/.exec(e);JN=r?parseFloat(r[1])+4:ks,I0=t[2]?parseFloat(t[2]):NaN,P0=t[3]?parseFloat(t[3]):NaN,sh=t[4]?parseFloat(t[4]):NaN,sh?(t=/(?:Chrome\/(\d+\.\d+))/.exec(e),oh=t&&t[1]?parseFloat(t[1]):NaN):oh=NaN}else ks=I0=P0=oh=sh=NaN;if(n){if(n[1]){var i=/(?:Mac OS X (\d+(?:[._]\d+)?))/.exec(e);ah=i?parseFloat(i[1].replace("_",".")):!0}else ah=!1;A0=!!n[2],R0=!!n[3]}else ah=A0=R0=!1}}var M0={ie:function(){return Xt()||ks},ieCompatibilityMode:function(){return Xt()||JN>ks},ie64:function(){return M0.ie()&&QN},firefox:function(){return Xt()||I0},opera:function(){return Xt()||P0},webkit:function(){return Xt()||sh},safari:function(){return M0.webkit()},chrome:function(){return Xt()||oh},windows:function(){return Xt()||A0},osx:function(){return Xt()||ah},linux:function(){return Xt()||R0},iphone:function(){return Xt()||D0},mobile:function(){return Xt()||D0||O0||N0||eD},nativeApp:function(){return Xt()||ZN},android:function(){return Xt()||N0},ipad:function(){return Xt()||O0}},kX=M0,kd=!!(typeof window<"u"&&window.document&&window.document.createElement),IX={canUseDOM:kd,canUseWorkers:typeof Worker<"u",canUseEventListeners:kd&&!!(window.addEventListener||window.attachEvent),canUseViewport:kd&&!!window.screen,isInWorker:!kd},PX=IX,tD=PX,nD;tD.canUseDOM&&(nD=document.implementation&&document.implementation.hasFeature&&document.implementation.hasFeature("","")!==!0);/**
 * Checks if an event is supported in the current execution environment.
 *
 * NOTE: This will not work correctly for non-generic events such as `change`,
 * `reset`, `load`, `error`, and `select`.
 *
 * Borrows from Modernizr.
 *
 * @param {string} eventNameSuffix Event name, e.g. "click".
 * @param {?boolean} capture Check if the capture phase is supported.
 * @return {boolean} True if the event is supported.
 * @internal
 * @license Modernizr 3.0.0pre (Custom Build) | MIT
 */function AX(e,t){if(!tD.canUseDOM||t&&!("addEventListener"in document))return!1;var n="on"+e,r=n in document;if(!r){var i=document.createElement("div");i.setAttribute(n,"return;"),r=typeof i[n]=="function"}return!r&&nD&&e==="wheel"&&(r=document.implementation.hasFeature("Events.wheel","3.0")),r}var RX=AX,NX=kX,DX=RX,$S=10,VS=40,US=800;function rD(e){var t=0,n=0,r=0,i=0;return"detail"in e&&(n=e.detail),"wheelDelta"in e&&(n=-e.wheelDelta/120),"wheelDeltaY"in e&&(n=-e.wheelDeltaY/120),"wheelDeltaX"in e&&(t=-e.wheelDeltaX/120),"axis"in e&&e.axis===e.HORIZONTAL_AXIS&&(t=n,n=0),r=t*$S,i=n*$S,"deltaY"in e&&(i=e.deltaY),"deltaX"in e&&(r=e.deltaX),(r||i)&&e.deltaMode&&(e.deltaMode==1?(r*=VS,i*=VS):(r*=US,i*=US)),r&&!t&&(t=r<1?-1:1),i&&!n&&(n=i<1?-1:1),{spinX:t,spinY:n,pixelX:r,pixelY:i}}rD.getEventType=function(){return NX.firefox()?"DOMMouseScroll":DX("wheel")?"wheel":"mousewheel"};var OX=rD,MX=OX;const LX=B0(MX);function jX(e,t,n,r,i,s){s===void 0&&(s=0);var o=Da(e,t,s),a=o.width,l=o.height,c=Math.min(a,n),d=Math.min(l,r);return c>d*i?{width:d*i,height:d}:{width:c,height:c/i}}function FX(e){return e.width>e.height?e.width/e.naturalWidth:e.height/e.naturalHeight}function kl(e,t,n,r,i){i===void 0&&(i=0);var s=Da(t.width,t.height,i),o=s.width,a=s.height;return{x:BS(e.x,o,n.width,r),y:BS(e.y,a,n.height,r)}}function BS(e,t,n,r){var i=t*r/2-n/2;return Rp(e,-i,i)}function zS(e,t){return Math.sqrt(Math.pow(e.y-t.y,2)+Math.pow(e.x-t.x,2))}function WS(e,t){return Math.atan2(t.y-e.y,t.x-e.x)*180/Math.PI}function $X(e,t,n,r,i,s,o){s===void 0&&(s=0),o===void 0&&(o=!0);var a=o?VX:UX,l=Da(t.width,t.height,s),c=Da(t.naturalWidth,t.naturalHeight,s),d={x:a(100,((l.width-n.width/i)/2-e.x/i)/l.width*100),y:a(100,((l.height-n.height/i)/2-e.y/i)/l.height*100),width:a(100,n.width/l.width*100/i),height:a(100,n.height/l.height*100/i)},h=Math.round(a(c.width,d.width*c.width/100)),f=Math.round(a(c.height,d.height*c.height/100)),g=c.width>=c.height*r,y=g?{width:Math.round(f*r),height:f}:{width:h,height:Math.round(h/r)},S=ct(ct({},y),{x:Math.round(a(c.width-y.width,d.x*c.width/100)),y:Math.round(a(c.height-y.height,d.y*c.height/100))});return{croppedAreaPercentages:d,croppedAreaPixels:S}}function VX(e,t){return Math.min(e,Math.max(0,t))}function UX(e,t){return t}function BX(e,t,n,r,i,s){var o=Da(t.width,t.height,n),a=Rp(r.width/o.width*(100/e.width),i,s),l={x:a*o.width/2-r.width/2-o.width*a*(e.x/100),y:a*o.height/2-r.height/2-o.height*a*(e.y/100)};return{crop:l,zoom:a}}function zX(e,t,n){var r=FX(t);return n.height>n.width?n.height/(e.height*r):n.width/(e.width*r)}function WX(e,t,n,r,i,s){n===void 0&&(n=0);var o=Da(t.naturalWidth,t.naturalHeight,n),a=Rp(zX(e,t,r),i,s),l=r.height>r.width?r.height/e.height:r.width/e.width,c={x:((o.width-e.width)/2-e.x)*l,y:((o.height-e.height)/2-e.y)*l};return{crop:c,zoom:a}}function HS(e,t){return{x:(t.x+e.x)/2,y:(t.y+e.y)/2}}function HX(e){return e*Math.PI/180}function Da(e,t,n){var r=HX(n);return{width:Math.abs(Math.cos(r)*e)+Math.abs(Math.sin(r)*t),height:Math.abs(Math.sin(r)*e)+Math.abs(Math.cos(r)*t)}}function Rp(e,t,n){return Math.min(Math.max(e,t),n)}function Id(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return e.filter(function(n){return typeof n=="string"&&n.length>0}).join(" ").trim()}var qX=`.reactEasyCrop_Container {
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  overflow: hidden;
  user-select: none;
  touch-action: none;
  cursor: move;
  display: flex;
  justify-content: center;
  align-items: center;
}

.reactEasyCrop_Image,
.reactEasyCrop_Video {
  will-change: transform; /* this improves performances and prevent painting issues on iOS Chrome */
}

.reactEasyCrop_Contain {
  max-width: 100%;
  max-height: 100%;
  margin: auto;
  position: absolute;
  top: 0;
  bottom: 0;
  left: 0;
  right: 0;
}
.reactEasyCrop_Cover_Horizontal {
  width: 100%;
  height: auto;
}
.reactEasyCrop_Cover_Vertical {
  width: auto;
  height: 100%;
}

.reactEasyCrop_CropArea {
  position: absolute;
  left: 50%;
  top: 50%;
  transform: translate(-50%, -50%);
  border: 1px solid rgba(255, 255, 255, 0.5);
  box-sizing: border-box;
  box-shadow: 0 0 0 9999em;
  color: rgba(0, 0, 0, 0.5);
  overflow: hidden;
}

.reactEasyCrop_CropAreaRound {
  border-radius: 50%;
}

.reactEasyCrop_CropAreaGrid::before {
  content: ' ';
  box-sizing: border-box;
  position: absolute;
  border: 1px solid rgba(255, 255, 255, 0.5);
  top: 0;
  bottom: 0;
  left: 33.33%;
  right: 33.33%;
  border-top: 0;
  border-bottom: 0;
}

.reactEasyCrop_CropAreaGrid::after {
  content: ' ';
  box-sizing: border-box;
  position: absolute;
  border: 1px solid rgba(255, 255, 255, 0.5);
  top: 33.33%;
  bottom: 33.33%;
  left: 0;
  right: 0;
  border-left: 0;
  border-right: 0;
}
`,GX=1,KX=3,YX=1,XX=function(e){P3(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.cropperRef=w.createRef(),n.imageRef=w.createRef(),n.videoRef=w.createRef(),n.containerPosition={x:0,y:0},n.containerRef=null,n.styleRef=null,n.containerRect=null,n.mediaSize={width:0,height:0,naturalWidth:0,naturalHeight:0},n.dragStartPosition={x:0,y:0},n.dragStartCrop={x:0,y:0},n.gestureZoomStart=0,n.gestureRotationStart=0,n.isTouching=!1,n.lastPinchDistance=0,n.lastPinchRotation=0,n.rafDragTimeout=null,n.rafPinchTimeout=null,n.wheelTimer=null,n.currentDoc=typeof document<"u"?document:null,n.currentWindow=typeof window<"u"?window:null,n.resizeObserver=null,n.state={cropSize:null,hasWheelJustStarted:!1,mediaObjectFit:void 0},n.initResizeObserver=function(){if(!(typeof window.ResizeObserver>"u"||!n.containerRef)){var r=!0;n.resizeObserver=new window.ResizeObserver(function(i){if(r){r=!1;return}n.computeSizes()}),n.resizeObserver.observe(n.containerRef)}},n.preventZoomSafari=function(r){return r.preventDefault()},n.cleanEvents=function(){n.currentDoc&&(n.currentDoc.removeEventListener("mousemove",n.onMouseMove),n.currentDoc.removeEventListener("mouseup",n.onDragStopped),n.currentDoc.removeEventListener("touchmove",n.onTouchMove),n.currentDoc.removeEventListener("touchend",n.onDragStopped),n.currentDoc.removeEventListener("gesturemove",n.onGestureMove),n.currentDoc.removeEventListener("gestureend",n.onGestureEnd),n.currentDoc.removeEventListener("scroll",n.onScroll))},n.clearScrollEvent=function(){n.containerRef&&n.containerRef.removeEventListener("wheel",n.onWheel),n.wheelTimer&&clearTimeout(n.wheelTimer)},n.onMediaLoad=function(){var r=n.computeSizes();r&&(n.emitCropData(),n.setInitialCrop(r)),n.props.onMediaLoaded&&n.props.onMediaLoaded(n.mediaSize)},n.setInitialCrop=function(r){if(n.props.initialCroppedAreaPercentages){var i=BX(n.props.initialCroppedAreaPercentages,n.mediaSize,n.props.rotation,r,n.props.minZoom,n.props.maxZoom),s=i.crop,o=i.zoom;n.props.onCropChange(s),n.props.onZoomChange&&n.props.onZoomChange(o)}else if(n.props.initialCroppedAreaPixels){var a=WX(n.props.initialCroppedAreaPixels,n.mediaSize,n.props.rotation,r,n.props.minZoom,n.props.maxZoom),s=a.crop,o=a.zoom;n.props.onCropChange(s),n.props.onZoomChange&&n.props.onZoomChange(o)}},n.computeSizes=function(){var r,i,s,o,a,l,c=n.imageRef.current||n.videoRef.current;if(c&&n.containerRef){n.containerRect=n.containerRef.getBoundingClientRect(),n.saveContainerPosition();var d=n.containerRect.width/n.containerRect.height,h=((r=n.imageRef.current)===null||r===void 0?void 0:r.naturalWidth)||((i=n.videoRef.current)===null||i===void 0?void 0:i.videoWidth)||0,f=((s=n.imageRef.current)===null||s===void 0?void 0:s.naturalHeight)||((o=n.videoRef.current)===null||o===void 0?void 0:o.videoHeight)||0,g=c.offsetWidth<h||c.offsetHeight<f,y=h/f,S=void 0;if(g)switch(n.state.mediaObjectFit){default:case"contain":S=d>y?{width:n.containerRect.height*y,height:n.containerRect.height}:{width:n.containerRect.width,height:n.containerRect.width/y};break;case"horizontal-cover":S={width:n.containerRect.width,height:n.containerRect.width/y};break;case"vertical-cover":S={width:n.containerRect.height*y,height:n.containerRect.height};break}else S={width:c.offsetWidth,height:c.offsetHeight};n.mediaSize=ct(ct({},S),{naturalWidth:h,naturalHeight:f}),n.props.setMediaSize&&n.props.setMediaSize(n.mediaSize);var k=n.props.cropSize?n.props.cropSize:jX(n.mediaSize.width,n.mediaSize.height,n.containerRect.width,n.containerRect.height,n.props.aspect,n.props.rotation);return(((a=n.state.cropSize)===null||a===void 0?void 0:a.height)!==k.height||((l=n.state.cropSize)===null||l===void 0?void 0:l.width)!==k.width)&&n.props.onCropSizeChange&&n.props.onCropSizeChange(k),n.setState({cropSize:k},n.recomputeCropPosition),n.props.setCropSize&&n.props.setCropSize(k),k}},n.saveContainerPosition=function(){if(n.containerRef){var r=n.containerRef.getBoundingClientRect();n.containerPosition={x:r.left,y:r.top}}},n.onMouseDown=function(r){n.currentDoc&&(r.preventDefault(),n.currentDoc.addEventListener("mousemove",n.onMouseMove),n.currentDoc.addEventListener("mouseup",n.onDragStopped),n.saveContainerPosition(),n.onDragStart(t.getMousePoint(r)))},n.onMouseMove=function(r){return n.onDrag(t.getMousePoint(r))},n.onScroll=function(r){n.currentDoc&&(r.preventDefault(),n.saveContainerPosition())},n.onTouchStart=function(r){n.currentDoc&&(n.isTouching=!0,!(n.props.onTouchRequest&&!n.props.onTouchRequest(r))&&(n.currentDoc.addEventListener("touchmove",n.onTouchMove,{passive:!1}),n.currentDoc.addEventListener("touchend",n.onDragStopped),n.saveContainerPosition(),r.touches.length===2?n.onPinchStart(r):r.touches.length===1&&n.onDragStart(t.getTouchPoint(r.touches[0]))))},n.onTouchMove=function(r){r.preventDefault(),r.touches.length===2?n.onPinchMove(r):r.touches.length===1&&n.onDrag(t.getTouchPoint(r.touches[0]))},n.onGestureStart=function(r){n.currentDoc&&(r.preventDefault(),n.currentDoc.addEventListener("gesturechange",n.onGestureMove),n.currentDoc.addEventListener("gestureend",n.onGestureEnd),n.gestureZoomStart=n.props.zoom,n.gestureRotationStart=n.props.rotation)},n.onGestureMove=function(r){if(r.preventDefault(),!n.isTouching){var i=t.getMousePoint(r),s=n.gestureZoomStart-1+r.scale;if(n.setNewZoom(s,i,{shouldUpdatePosition:!0}),n.props.onRotationChange){var o=n.gestureRotationStart+r.rotation;n.props.onRotationChange(o)}}},n.onGestureEnd=function(r){n.cleanEvents()},n.onDragStart=function(r){var i,s,o=r.x,a=r.y;n.dragStartPosition={x:o,y:a},n.dragStartCrop=ct({},n.props.crop),(s=(i=n.props).onInteractionStart)===null||s===void 0||s.call(i)},n.onDrag=function(r){var i=r.x,s=r.y;n.currentWindow&&(n.rafDragTimeout&&n.currentWindow.cancelAnimationFrame(n.rafDragTimeout),n.rafDragTimeout=n.currentWindow.requestAnimationFrame(function(){if(n.state.cropSize&&!(i===void 0||s===void 0)){var o=i-n.dragStartPosition.x,a=s-n.dragStartPosition.y,l={x:n.dragStartCrop.x+o,y:n.dragStartCrop.y+a},c=n.props.restrictPosition?kl(l,n.mediaSize,n.state.cropSize,n.props.zoom,n.props.rotation):l;n.props.onCropChange(c)}}))},n.onDragStopped=function(){var r,i;n.isTouching=!1,n.cleanEvents(),n.emitCropData(),(i=(r=n.props).onInteractionEnd)===null||i===void 0||i.call(r)},n.onWheel=function(r){if(n.currentWindow&&!(n.props.onWheelRequest&&!n.props.onWheelRequest(r))){r.preventDefault();var i=t.getMousePoint(r),s=LX(r).pixelY,o=n.props.zoom-s*n.props.zoomSpeed/200;n.setNewZoom(o,i,{shouldUpdatePosition:!0}),n.state.hasWheelJustStarted||n.setState({hasWheelJustStarted:!0},function(){var a,l;return(l=(a=n.props).onInteractionStart)===null||l===void 0?void 0:l.call(a)}),n.wheelTimer&&clearTimeout(n.wheelTimer),n.wheelTimer=n.currentWindow.setTimeout(function(){return n.setState({hasWheelJustStarted:!1},function(){var a,l;return(l=(a=n.props).onInteractionEnd)===null||l===void 0?void 0:l.call(a)})},250)}},n.getPointOnContainer=function(r,i){var s=r.x,o=r.y;if(!n.containerRect)throw new Error("The Cropper is not mounted");return{x:n.containerRect.width/2-(s-i.x),y:n.containerRect.height/2-(o-i.y)}},n.getPointOnMedia=function(r){var i=r.x,s=r.y,o=n.props,a=o.crop,l=o.zoom;return{x:(i+a.x)/l,y:(s+a.y)/l}},n.setNewZoom=function(r,i,s){var o=s===void 0?{}:s,a=o.shouldUpdatePosition,l=a===void 0?!0:a;if(!(!n.state.cropSize||!n.props.onZoomChange)){var c=Rp(r,n.props.minZoom,n.props.maxZoom);if(l){var d=n.getPointOnContainer(i,n.containerPosition),h=n.getPointOnMedia(d),f={x:h.x*c-d.x,y:h.y*c-d.y},g=n.props.restrictPosition?kl(f,n.mediaSize,n.state.cropSize,c,n.props.rotation):f;n.props.onCropChange(g)}n.props.onZoomChange(c)}},n.getCropData=function(){if(!n.state.cropSize)return null;var r=n.props.restrictPosition?kl(n.props.crop,n.mediaSize,n.state.cropSize,n.props.zoom,n.props.rotation):n.props.crop;return $X(r,n.mediaSize,n.state.cropSize,n.getAspect(),n.props.zoom,n.props.rotation,n.props.restrictPosition)},n.emitCropData=function(){var r=n.getCropData();if(r){var i=r.croppedAreaPercentages,s=r.croppedAreaPixels;n.props.onCropComplete&&n.props.onCropComplete(i,s),n.props.onCropAreaChange&&n.props.onCropAreaChange(i,s)}},n.emitCropAreaChange=function(){var r=n.getCropData();if(r){var i=r.croppedAreaPercentages,s=r.croppedAreaPixels;n.props.onCropAreaChange&&n.props.onCropAreaChange(i,s)}},n.recomputeCropPosition=function(){if(n.state.cropSize){var r=n.props.restrictPosition?kl(n.props.crop,n.mediaSize,n.state.cropSize,n.props.zoom,n.props.rotation):n.props.crop;n.props.onCropChange(r),n.emitCropData()}},n.onKeyDown=function(r){var i,s,o=n.props,a=o.crop,l=o.onCropChange,c=o.keyboardStep,d=o.zoom,h=o.rotation,f=c;if(n.state.cropSize){r.shiftKey&&(f*=.2);var g=ct({},a);switch(r.key){case"ArrowUp":g.y-=f,r.preventDefault();break;case"ArrowDown":g.y+=f,r.preventDefault();break;case"ArrowLeft":g.x-=f,r.preventDefault();break;case"ArrowRight":g.x+=f,r.preventDefault();break;default:return}n.props.restrictPosition&&(g=kl(g,n.mediaSize,n.state.cropSize,d,h)),r.repeat||(s=(i=n.props).onInteractionStart)===null||s===void 0||s.call(i),l(g)}},n.onKeyUp=function(r){var i,s;switch(r.key){case"ArrowUp":case"ArrowDown":case"ArrowLeft":case"ArrowRight":r.preventDefault();break;default:return}n.emitCropData(),(s=(i=n.props).onInteractionEnd)===null||s===void 0||s.call(i)},n}return t.prototype.componentDidMount=function(){!this.currentDoc||!this.currentWindow||(this.containerRef&&(this.containerRef.ownerDocument&&(this.currentDoc=this.containerRef.ownerDocument),this.currentDoc.defaultView&&(this.currentWindow=this.currentDoc.defaultView),this.initResizeObserver(),typeof window.ResizeObserver>"u"&&this.currentWindow.addEventListener("resize",this.computeSizes),this.props.zoomWithScroll&&this.containerRef.addEventListener("wheel",this.onWheel,{passive:!1}),this.containerRef.addEventListener("gesturestart",this.onGestureStart)),this.currentDoc.addEventListener("scroll",this.onScroll),this.props.disableAutomaticStylesInjection||(this.styleRef=this.currentDoc.createElement("style"),this.styleRef.setAttribute("type","text/css"),this.props.nonce&&this.styleRef.setAttribute("nonce",this.props.nonce),this.styleRef.innerHTML=qX,this.currentDoc.head.appendChild(this.styleRef)),this.imageRef.current&&this.imageRef.current.complete&&this.onMediaLoad(),this.props.setImageRef&&this.props.setImageRef(this.imageRef),this.props.setVideoRef&&this.props.setVideoRef(this.videoRef),this.props.setCropperRef&&this.props.setCropperRef(this.cropperRef))},t.prototype.componentWillUnmount=function(){var n,r;!this.currentDoc||!this.currentWindow||(typeof window.ResizeObserver>"u"&&this.currentWindow.removeEventListener("resize",this.computeSizes),(n=this.resizeObserver)===null||n===void 0||n.disconnect(),this.containerRef&&this.containerRef.removeEventListener("gesturestart",this.preventZoomSafari),this.styleRef&&((r=this.styleRef.parentNode)===null||r===void 0||r.removeChild(this.styleRef)),this.cleanEvents(),this.props.zoomWithScroll&&this.clearScrollEvent())},t.prototype.componentDidUpdate=function(n){var r,i,s,o,a,l,c,d,h;n.rotation!==this.props.rotation?(this.computeSizes(),this.recomputeCropPosition()):n.aspect!==this.props.aspect?this.computeSizes():n.objectFit!==this.props.objectFit?this.computeSizes():n.zoom!==this.props.zoom?this.recomputeCropPosition():((r=n.cropSize)===null||r===void 0?void 0:r.height)!==((i=this.props.cropSize)===null||i===void 0?void 0:i.height)||((s=n.cropSize)===null||s===void 0?void 0:s.width)!==((o=this.props.cropSize)===null||o===void 0?void 0:o.width)?this.computeSizes():(((a=n.crop)===null||a===void 0?void 0:a.x)!==((l=this.props.crop)===null||l===void 0?void 0:l.x)||((c=n.crop)===null||c===void 0?void 0:c.y)!==((d=this.props.crop)===null||d===void 0?void 0:d.y))&&this.emitCropAreaChange(),n.zoomWithScroll!==this.props.zoomWithScroll&&this.containerRef&&(this.props.zoomWithScroll?this.containerRef.addEventListener("wheel",this.onWheel,{passive:!1}):this.clearScrollEvent()),n.video!==this.props.video&&((h=this.videoRef.current)===null||h===void 0||h.load());var f=this.getObjectFit();f!==this.state.mediaObjectFit&&this.setState({mediaObjectFit:f},this.computeSizes)},t.prototype.getAspect=function(){var n=this.props,r=n.cropSize,i=n.aspect;return r?r.width/r.height:i},t.prototype.getObjectFit=function(){var n,r,i,s;if(this.props.objectFit==="cover"){var o=this.imageRef.current||this.videoRef.current;if(o&&this.containerRef){this.containerRect=this.containerRef.getBoundingClientRect();var a=this.containerRect.width/this.containerRect.height,l=((n=this.imageRef.current)===null||n===void 0?void 0:n.naturalWidth)||((r=this.videoRef.current)===null||r===void 0?void 0:r.videoWidth)||0,c=((i=this.imageRef.current)===null||i===void 0?void 0:i.naturalHeight)||((s=this.videoRef.current)===null||s===void 0?void 0:s.videoHeight)||0,d=l/c;return d<a?"horizontal-cover":"vertical-cover"}return"horizontal-cover"}return this.props.objectFit},t.prototype.onPinchStart=function(n){var r=t.getTouchPoint(n.touches[0]),i=t.getTouchPoint(n.touches[1]);this.lastPinchDistance=zS(r,i),this.lastPinchRotation=WS(r,i),this.onDragStart(HS(r,i))},t.prototype.onPinchMove=function(n){var r=this;if(!(!this.currentDoc||!this.currentWindow)){var i=t.getTouchPoint(n.touches[0]),s=t.getTouchPoint(n.touches[1]),o=HS(i,s);this.onDrag(o),this.rafPinchTimeout&&this.currentWindow.cancelAnimationFrame(this.rafPinchTimeout),this.rafPinchTimeout=this.currentWindow.requestAnimationFrame(function(){var a=zS(i,s),l=r.props.zoom*(a/r.lastPinchDistance);r.setNewZoom(l,o,{shouldUpdatePosition:!1}),r.lastPinchDistance=a;var c=WS(i,s),d=r.props.rotation+(c-r.lastPinchRotation);r.props.onRotationChange&&r.props.onRotationChange(d),r.lastPinchRotation=c})}},t.prototype.render=function(){var n=this,r,i=this.props,s=i.image,o=i.video,a=i.mediaProps,l=i.cropperProps,c=i.transform,d=i.crop,h=d.x,f=d.y,g=i.rotation,y=i.zoom,S=i.cropShape,k=i.showGrid,x=i.style,C=x.containerStyle,E=x.cropAreaStyle,I=x.mediaStyle,D=i.classes,M=D.containerClassName,T=D.cropAreaClassName,b=D.mediaClassName,P=(r=this.state.mediaObjectFit)!==null&&r!==void 0?r:this.getObjectFit();return w.createElement("div",{onMouseDown:this.onMouseDown,onTouchStart:this.onTouchStart,ref:function(R){return n.containerRef=R},"data-testid":"container",style:C,className:Id("reactEasyCrop_Container",M)},s?w.createElement("img",ct({alt:"",className:Id("reactEasyCrop_Image",P==="contain"&&"reactEasyCrop_Contain",P==="horizontal-cover"&&"reactEasyCrop_Cover_Horizontal",P==="vertical-cover"&&"reactEasyCrop_Cover_Vertical",b)},a,{src:s,ref:this.imageRef,style:ct(ct({},I),{transform:c||"translate(".concat(h,"px, ").concat(f,"px) rotate(").concat(g,"deg) scale(").concat(y,")")}),onLoad:this.onMediaLoad})):o&&w.createElement("video",ct({autoPlay:!0,playsInline:!0,loop:!0,muted:!0,className:Id("reactEasyCrop_Video",P==="contain"&&"reactEasyCrop_Contain",P==="horizontal-cover"&&"reactEasyCrop_Cover_Horizontal",P==="vertical-cover"&&"reactEasyCrop_Cover_Vertical",b)},a,{ref:this.videoRef,onLoadedMetadata:this.onMediaLoad,style:ct(ct({},I),{transform:c||"translate(".concat(h,"px, ").concat(f,"px) rotate(").concat(g,"deg) scale(").concat(y,")")}),controls:!1}),(Array.isArray(o)?o:[{src:o}]).map(function(v){return w.createElement("source",ct({key:v.src},v))})),this.state.cropSize&&w.createElement("div",ct({ref:this.cropperRef,style:ct(ct({},E),{width:this.state.cropSize.width,height:this.state.cropSize.height}),tabIndex:0,onKeyDown:this.onKeyDown,onKeyUp:this.onKeyUp,"data-testid":"cropper",className:Id("reactEasyCrop_CropArea",S==="round"&&"reactEasyCrop_CropAreaRound",k&&"reactEasyCrop_CropAreaGrid",T)},l)))},t.defaultProps={zoom:1,rotation:0,aspect:4/3,maxZoom:KX,minZoom:GX,cropShape:"rect",objectFit:"contain",showGrid:!0,style:{},classes:{},mediaProps:{},cropperProps:{},zoomSpeed:1,restrictPosition:!0,zoomWithScroll:!0,keyboardStep:YX},t.getMousePoint=function(n){return{x:Number(n.clientX),y:Number(n.clientY)}},t.getTouchPoint=function(n){return{x:Number(n.clientX),y:Number(n.clientY)}},t}(w.Component);const JX=e=>new Promise((t,n)=>{const r=new Image;r.addEventListener("load",()=>t(r)),r.addEventListener("error",i=>n(i)),r.setAttribute("crossOrigin","anonymous"),r.src=e});async function QX(e,t){const n=await JX(e),r=document.createElement("canvas"),i=r.getContext("2d");return r.width=t.width,r.height=t.height,i.drawImage(n,t.x,t.y,t.width,t.height,0,0,t.width,t.height),r}function ZX({open:e,onClose:t,usuario:n,onUploadSuccess:r}){const[i,s]=w.useState(null),[o,a]=w.useState({x:0,y:0}),[l,c]=w.useState(1),[d,h]=w.useState(null),[f,g]=w.useState(!1),y=w.useCallback((x,C)=>{h(C)},[]),S=x=>{if(x.target.files&&x.target.files.length>0){const C=x.target.files[0],E=new FileReader;E.onload=()=>{s(E.result)},E.readAsDataURL(C)}},k=async()=>{g(!0);const C=(await QX(i,d)).toDataURL("image/jpeg");localStorage.setItem(`fotoPerfil_${n.uid}`,C),r(C),g(!1),t()};return m.jsx(YN,{open:e,onClose:t,children:m.jsxs(XN,{className:"bg-white rounded-lg p-4 shadow-lg w-full max-w-md mx-auto mt-32 max-h-[90vh] overflow-hidden",children:[m.jsx("h2",{className:"text-lg font-bold mb-4 text-center",children:"Editar Foto de Perfil"}),i?m.jsx("div",{className:"relative w-full h-[300px] bg-black",children:m.jsx(XX,{image:i,crop:o,zoom:l,aspect:1,onCropChange:a,onZoomChange:c,onCropComplete:y})}):m.jsx("input",{type:"file",accept:"image/*",onChange:S}),m.jsxs("div",{className:"flex justify-end mt-4 gap-2",children:[m.jsx("button",{onClick:t,className:"px-4 py-2 bg-gray-300 rounded hover:bg-gray-400",children:"Cancelar"}),i&&m.jsx("button",{onClick:k,disabled:f,className:"px-4 py-2 bg-green-600 text-white rounded hover:bg-green-700",children:f?"Subiendo...":"Guardar"})]})]})})}function eJ(){const{user:e}=fo(),[t,n]=w.useState(null),[r,i]=w.useState(!1),[s,o]=w.useState(""),[a,l]=w.useState(""),[c,d]=w.useState(!1),[h,f]=w.useState(!1),[g,y]=w.useState(!1),S=Ar(),k=(I,D)=>((I==null?void 0:I.charAt(0).toUpperCase())||"")+((D==null?void 0:D.charAt(0).toUpperCase())||"");w.useEffect(()=>{if(e){const I=ie(se,`usuarios/${e.uid}`);Nn(I).then(async D=>{const M=e.displayName||"",T=M.split(" ")[0]||"",b=M.split(" ")[1]||"",P=e.photoURL||null,R=localStorage.getItem(`fotoPerfil_${e.uid}`)||P||D.exists()&&D.val().foto||null,O={nombre:T,apellido:b,correo:e.email,rol:"usuario",iniciales:k(T,b),foto:R},N=!T||!b;if(d(N),i(N),o(T),l(b),!D.exists())await ft(I,O),n(O);else{const V=D.val(),z={};V.nombre||(z.nombre=T),V.apellido||(z.apellido=b),!V.foto&&R&&(z.foto=R),Object.keys(z).length>0?(await Ta(I,z),n({...V,...z,foto:R})):n({...V,foto:R}),o(V.nombre||T),l(V.apellido||b)}})}},[e]);const x=async()=>{if(!e)return;const I=ie(se,`usuarios/${e.uid}`),D={nombre:s,apellido:a,iniciales:k(s,a)};await Ta(I,D),i(!1),d(!1),alert("Datos actualizados correctamente")},C=async()=>{await qP(Ni),S("/login")},E=I=>{n(D=>({...D,foto:I}))};return t?m.jsxs("div",{className:"min-h-screen bg-cover bg-center text-white font-qatar",style:{backgroundImage:"url('/EmproChampions-2025/img/fondoempro-horizontal.png')"},children:[m.jsx(kr,{}),m.jsx("div",{className:"flex items-center justify-center px-4 py-10",children:m.jsxs("div",{className:"bg-white/90 rounded-2xl shadow-lg p-8 w-full max-w-md text-center text-black",children:[m.jsx("h1",{className:"text-3xl font-bold text-[#7a0026] mb-6",children:"Configuración de Cuenta"}),c&&m.jsx("div",{className:"mb-4 text-red-700 font-semibold",children:"Tu cuenta no tiene nombre ni foto. Por favor completa tu perfil 👇"}),m.jsxs("div",{className:"mb-4 relative w-24 h-24 mx-auto",children:[t.foto?m.jsx("img",{src:t.foto,alt:"Foto de perfil",className:"w-24 h-24 rounded-full object-cover"}):m.jsx("div",{className:"w-24 h-24 rounded-full bg-[#7a0026] text-white text-3xl flex items-center justify-center",children:k(s,a)||"U"}),m.jsx("button",{type:"button",onClick:()=>y(!0),className:"absolute bottom-0 right-0 bg-yellow-400 text-black rounded-full p-1 shadow-md hover:bg-yellow-500","aria-label":"Editar foto de perfil",children:"✏️"})]}),m.jsxs("div",{className:"space-y-4 text-left",children:[m.jsx("input",{type:"text",placeholder:"Nombre",value:s,onChange:I=>o(I.target.value),className:"w-full px-4 py-2 border border-[#7a0026] rounded-md",disabled:!r}),m.jsx("input",{type:"text",placeholder:"Apellido",value:a,onChange:I=>l(I.target.value),className:"w-full px-4 py-2 border border-[#7a0026] rounded-md",disabled:!r}),m.jsxs("p",{className:"text-gray-700 font-sans text-sm break-all",children:["Correo: ",t.correo]})]}),m.jsxs("div",{className:"mt-6",children:[r?m.jsx("button",{onClick:x,className:"w-full bg-[#FFD700] text-[#7a0026] font-bold py-2 rounded-md hover:bg-yellow-400 transition",children:"Guardar Cambios"}):m.jsx("button",{onClick:()=>i(!0),className:"w-full bg-blue-600 text-white font-bold py-2 rounded-md hover:bg-blue-700 transition",children:"Editar"}),m.jsx("button",{onClick:()=>f(!0),className:"mt-4 w-full bg-red-600 text-white font-bold py-2 rounded-md hover:bg-red-700 transition",children:"Cerrar sesión"})]})]})}),m.jsx(YN,{open:h,onClose:()=>f(!1),children:m.jsxs(XN,{sx:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:400,bgcolor:"background.paper",border:"2px solid #000",boxShadow:24,p:4,textAlign:"center"},children:[m.jsx("h2",{className:"text-xl font-bold mb-4 text-black",children:"¿Cerrar sesión?"}),m.jsxs("div",{className:"flex justify-center gap-4",children:[m.jsx("button",{className:"bg-gray-300 px-4 py-2 rounded hover:bg-gray-400",onClick:()=>f(!1),children:"Cancelar"}),m.jsx("button",{className:"bg-red-600 text-white px-4 py-2 rounded hover:bg-red-700",onClick:C,children:"Confirmar"})]})]})}),m.jsx(ZX,{open:g,onClose:()=>y(!1),usuario:e,onUploadSuccess:E}),m.jsx(Ir,{})]}):m.jsx("div",{className:"text-white text-center mt-10",children:"Cargando..."})}function tJ(){var f,g,y,S;const{partidoId:e}=kI(),t=Ar(),[n,r]=w.useState(null),[i,s]=w.useState([]),[o,a]=w.useState(!0),[l,c]=w.useState(!1);w.useEffect(()=>{if(!e){t("/");return}const k=ie(se,`partidos/${e}`),x=Zr(k,C=>{var E;if(C.exists()){const I=C.val();r(I);const D=(E=I.eventos)!=null&&E.goles?Object.entries(I.eventos.goles).map(([M,T])=>({id:M,...T})):[];s(D)}else t("/historial");a(!1)});return()=>Wc(k,"value",x)},[e,t]);const d=k=>{window.confirm("¿Estás seguro de que quieres eliminar este gol?")&&(s(x=>x.filter(C=>C.id!==k)),alert("Gol eliminado de la lista de edición. Recuerda guardar los cambios para que sea permanente."))},h=w.useCallback(async()=>{var k,x;if(!((k=n==null?void 0:n.alineacion)!=null&&k.equipo1)||!((x=n==null?void 0:n.alineacion)!=null&&x.equipo2)){alert("Error: Faltan datos de alineación en este partido. No se pueden recalcular las estadísticas."),c(!1);return}if(!l){c(!0),alert("Procesando... Esto puede tardar unos segundos. Por favor, espera.");try{const C=n.alineacion.genero,E=n.alineacion.equipo1,I=n.alineacion.equipo2,D=(await Nn(ie(se,`historial/${C}/${e}`))).val();let T=(await Nn(ie(se,`tablas/${C}`))).val()||{};if(D){const{equipo1:V,equipo2:z,goles1:Y,goles2:G}=D,$=(K,X,le,ne)=>{if(!T[K])return;let H={...T[K]};H.pj-=1,H.gf-=X,H.gc-=le,ne==="victoria"?(H.pg-=1,H.puntos-=3):ne==="empate"?(H.pe-=1,H.puntos-=1):H.pp-=1,T[K]=H};Y>G?($(V,Y,G,"victoria"),$(z,G,Y,"derrota")):G>Y?($(V,Y,G,"derrota"),$(z,G,Y,"victoria")):($(V,Y,G,"empate"),$(z,G,Y,"empate"))}const b={equipo1:0,equipo2:0};i.forEach(V=>{V.equipo==="equipo1"&&b.equipo1++,V.equipo==="equipo2"&&b.equipo2++});const P=(V,z,Y,G)=>{if(!(V!=null&&V.nombre))return;let $=T[V.nombre]||{pj:0,pg:0,pe:0,pp:0,gf:0,gc:0,puntos:0,logo:V.logo};$.pj=($.pj||0)+1,$.gf=($.gf||0)+z,$.gc=($.gc||0)+Y,G==="victoria"?($.pg=($.pg||0)+1,$.puntos=($.puntos||0)+3):G==="empate"?($.pe=($.pe||0)+1,$.puntos=($.puntos||0)+1):$.pp=($.pp||0)+1,T[V.nombre]=$};b.equipo1>b.equipo2?(P(E,b.equipo1,b.equipo2,"victoria"),P(I,b.equipo2,b.equipo1,"derrota")):b.equipo2>b.equipo1?(P(E,b.equipo1,b.equipo2,"derrota"),P(I,b.equipo2,b.equipo1,"victoria")):(P(E,b.equipo1,b.equipo2,"empate"),P(I,b.equipo2,b.equipo1,"empate"));const v={},R=i.reduce((V,z)=>({...V,[z.id]:{equipo:z.equipo,jugador:z.jugador,minuto:z.minuto,tipo:z.tipo}}),{});v[`/partidos/${e}/eventos/goles`]=R,v[`/partidos/${e}/resultado/marcador`]=b,v[`/historial/${C}/${e}/goles1`]=b.equipo1,v[`/historial/${C}/${e}/goles2`]=b.equipo2,v[`/tablas/${C}`]=T;let N=(await Nn(ie(se,`goleadoresDetalles/${C}`))).val()||{};Object.keys(N).forEach(V=>{N[V]=N[V].filter(z=>z.partidoId!==e),N[V].length===0&&delete N[V]}),i.forEach(V=>{const z=V.jugador.replace(/[.#$[\]]/g,"_");N[z]||(N[z]=[]),N[z].push({idDelGol:V.id,minuto:V.minuto,partidoId:e,partidoNombre:`${E.nombre} vs ${I.nombre}`,fecha:(D==null?void 0:D.fecha)||new Date().toLocaleDateString("es-HN"),equipo:V.equipo==="equipo1"?E.nombre:I.nombre,logo:V.equipo==="equipo1"?E.logo:I.logo,jugador:V.jugador})}),v[`/goleadoresDetalles/${C}`]=N,await Ta(ie(se),v),alert("¡Éxito! Todas las tablas han sido recalculadas y actualizadas."),t("/historial")}catch(C){console.error("Error al guardar los cambios:",C),alert(`Hubo un error al guardar: ${C.message}`)}finally{c(!1)}}},[n,i,e,t,l]);return o?m.jsx("div",{className:"w-full min-h-screen bg-main-background text-white flex justify-center items-center",children:"Cargando datos..."}):m.jsxs("div",{className:"w-full min-h-screen bg-main-background text-white font-qatar flex flex-col",children:[m.jsx(kr,{}),m.jsxs("div",{className:"container mx-auto px-4 py-8 flex-grow",children:[m.jsx("h1",{className:"text-4xl md:text-5xl font-bold text-center text-yellow-400 drop-shadow-lg mb-2",children:"Editar Partido"}),m.jsxs("p",{className:"text-center text-gray-300 mb-8",children:[((g=(f=n.alineacion)==null?void 0:f.equipo1)==null?void 0:g.nombre)||"Equipo 1"," vs ",((S=(y=n.alineacion)==null?void 0:y.equipo2)==null?void 0:S.nombre)||"Equipo 2"]}),m.jsxs("div",{className:"max-w-2xl mx-auto bg-black/50 p-6 rounded-xl",children:[m.jsx("h2",{className:"text-2xl font-bold mb-4 text-yellow-300",children:"Eventos del Partido"}),m.jsx("div",{className:"space-y-3",children:i.length>0?i.map(k=>m.jsxs("div",{className:"flex items-center justify-between bg-gray-800/50 p-3 rounded-lg",children:[m.jsxs("div",{children:[m.jsxs("p",{className:"font-bold",children:[k.jugador," (Gol)"]}),m.jsxs("p",{className:"text-sm opacity-70",children:["Minuto: ",k.minuto]})]}),m.jsx("button",{onClick:()=>d(k.id),className:"bg-red-600 hover:bg-red-500 text-white font-bold py-1 px-3 rounded text-sm",children:"Eliminar"})]},k.id)):m.jsx("p",{children:"No hay goles para editar."})}),m.jsxs("div",{className:"mt-8 pt-6 border-t border-yellow-400/20 flex justify-between items-center",children:[m.jsx("button",{onClick:()=>t("/historial"),className:"bg-gray-500 hover:bg-gray-400 text-white font-bold py-2 px-6 rounded",children:"Cancelar"}),m.jsx("button",{onClick:h,disabled:l,className:"bg-green-600 hover:bg-green-500 text-white font-bold py-2 px-6 rounded disabled:bg-gray-400",children:l?"Guardando...":"Guardar Cambios y Recalcular"})]})]})]}),m.jsx(Ir,{})]})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nJ="functions";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rJ{constructor(t,n,r,i){this.app=t,this.auth=null,this.messaging=null,this.appCheck=null,this.serverAppAppCheckToken=null,Dt(t)&&t.settings.appCheckToken&&(this.serverAppAppCheckToken=t.settings.appCheckToken),this.auth=n.getImmediate({optional:!0}),this.messaging=r.getImmediate({optional:!0}),this.auth||n.get().then(s=>this.auth=s,()=>{}),this.messaging||r.get().then(s=>this.messaging=s,()=>{}),this.appCheck||i==null||i.get().then(s=>this.appCheck=s,()=>{})}async getAuthToken(){if(this.auth)try{const t=await this.auth.getToken();return t==null?void 0:t.accessToken}catch{return}}async getMessagingToken(){if(!(!this.messaging||!("Notification"in self)||Notification.permission!=="granted"))try{return await this.messaging.getToken()}catch{return}}async getAppCheckToken(t){if(this.serverAppAppCheckToken)return this.serverAppAppCheckToken;if(this.appCheck){const n=t?await this.appCheck.getLimitedUseToken():await this.appCheck.getToken();return n.error?null:n.token}return null}async getContext(t){const n=await this.getAuthToken(),r=await this.getMessagingToken(),i=await this.getAppCheckToken(t);return{authToken:n,messagingToken:r,appCheckToken:i}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qS="us-central1";class iJ{constructor(t,n,r,i,s=qS,o=(...a)=>fetch(...a)){this.app=t,this.fetchImpl=o,this.emulatorOrigin=null,this.contextProvider=new rJ(t,n,r,i),this.cancelAllRequests=new Promise(a=>{this.deleteService=()=>Promise.resolve(a())});try{const a=new URL(s);this.customDomain=a.origin+(a.pathname==="/"?"":a.pathname),this.region=qS}catch{this.customDomain=null,this.region=s}}_delete(){return this.deleteService()}_url(t){const n=this.app.options.projectId;return this.emulatorOrigin!==null?`${this.emulatorOrigin}/${n}/${this.region}/${t}`:this.customDomain!==null?`${this.customDomain}/${t}`:`https://${this.region}-${n}.cloudfunctions.net/${t}`}}const GS="@firebase/functions",KS="0.12.6";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sJ="auth-internal",oJ="app-check-internal",aJ="messaging-internal";function lJ(e){const t=(n,{instanceIdentifier:r})=>{const i=n.getProvider("app").getImmediate(),s=n.getProvider(sJ),o=n.getProvider(aJ),a=n.getProvider(oJ);return new iJ(i,s,o,a,r)};wn(new ln(nJ,t,"PUBLIC").setMultipleInstances(!0)),mt(GS,KS,e),mt(GS,KS,"esm2017")}lJ();var cJ=Object.defineProperty,uJ=(e,t,n)=>t in e?cJ(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Eg=(e,t,n)=>(uJ(e,typeof t!="symbol"?t+"":t,n),n);let dJ=class{constructor(){Eg(this,"current",this.detect()),Eg(this,"handoffState","pending"),Eg(this,"currentId",0)}set(t){this.current!==t&&(this.handoffState="pending",this.currentId=0,this.current=t)}reset(){this.set(this.detect())}nextId(){return++this.currentId}get isServer(){return this.current==="server"}get isClient(){return this.current==="client"}detect(){return typeof window>"u"||typeof document>"u"?"server":"client"}handoff(){this.handoffState==="pending"&&(this.handoffState="complete")}get isHandoffComplete(){return this.handoffState==="complete"}},zs=new dJ;function Np(e){var t,n;return zs.isServer?null:e?"ownerDocument"in e?e.ownerDocument:"current"in e?(n=(t=e.current)==null?void 0:t.ownerDocument)!=null?n:document:null:document}function Dp(e){typeof queueMicrotask=="function"?queueMicrotask(e):Promise.resolve().then(e).catch(t=>setTimeout(()=>{throw t}))}function yi(){let e=[],t={addEventListener(n,r,i,s){return n.addEventListener(r,i,s),t.add(()=>n.removeEventListener(r,i,s))},requestAnimationFrame(...n){let r=requestAnimationFrame(...n);return t.add(()=>cancelAnimationFrame(r))},nextFrame(...n){return t.requestAnimationFrame(()=>t.requestAnimationFrame(...n))},setTimeout(...n){let r=setTimeout(...n);return t.add(()=>clearTimeout(r))},microTask(...n){let r={current:!0};return Dp(()=>{r.current&&n[0]()}),t.add(()=>{r.current=!1})},style(n,r,i){let s=n.style.getPropertyValue(r);return Object.assign(n.style,{[r]:i}),this.add(()=>{Object.assign(n.style,{[r]:s})})},group(n){let r=yi();return n(r),this.add(()=>r.dispose())},add(n){return e.includes(n)||e.push(n),()=>{let r=e.indexOf(n);if(r>=0)for(let i of e.splice(r,1))i()}},dispose(){for(let n of e.splice(0))n()}};return t}function J_(){let[e]=w.useState(yi);return w.useEffect(()=>()=>e.dispose(),[e]),e}let Lt=(e,t)=>{zs.isServer?w.useEffect(e,t):w.useLayoutEffect(e,t)};function po(e){let t=w.useRef(e);return Lt(()=>{t.current=e},[e]),t}let Te=function(e){let t=po(e);return Z.useCallback((...n)=>t.current(...n),[t])},hJ=w.createContext(void 0);function fJ(){return w.useContext(hJ)}function L0(...e){return Array.from(new Set(e.flatMap(t=>typeof t=="string"?t.split(" "):[]))).filter(Boolean).join(" ")}function hi(e,t,...n){if(e in t){let i=t[e];return typeof i=="function"?i(...n):i}let r=new Error(`Tried to handle "${e}" but there is no handler defined. Only defined handlers are: ${Object.keys(t).map(i=>`"${i}"`).join(", ")}.`);throw Error.captureStackTrace&&Error.captureStackTrace(r,hi),r}var yf=(e=>(e[e.None=0]="None",e[e.RenderStrategy=1]="RenderStrategy",e[e.Static=2]="Static",e))(yf||{}),ji=(e=>(e[e.Unmount=0]="Unmount",e[e.Hidden=1]="Hidden",e))(ji||{});function Vn(){let e=mJ();return w.useCallback(t=>pJ({mergeRefs:e,...t}),[e])}function pJ({ourProps:e,theirProps:t,slot:n,defaultTag:r,features:i,visible:s=!0,name:o,mergeRefs:a}){a=a??gJ;let l=iD(t,e);if(s)return Pd(l,n,r,o,a);let c=i??0;if(c&2){let{static:d=!1,...h}=l;if(d)return Pd(h,n,r,o,a)}if(c&1){let{unmount:d=!0,...h}=l;return hi(d?0:1,{0(){return null},1(){return Pd({...h,hidden:!0,style:{display:"none"}},n,r,o,a)}})}return Pd(l,n,r,o,a)}function Pd(e,t={},n,r,i){let{as:s=n,children:o,refName:a="ref",...l}=bg(e,["unmount","static"]),c=e.ref!==void 0?{[a]:e.ref}:{},d=typeof o=="function"?o(t):o;"className"in l&&l.className&&typeof l.className=="function"&&(l.className=l.className(t)),l["aria-labelledby"]&&l["aria-labelledby"]===l.id&&(l["aria-labelledby"]=void 0);let h={};if(t){let f=!1,g=[];for(let[y,S]of Object.entries(t))typeof S=="boolean"&&(f=!0),S===!0&&g.push(y.replace(/([A-Z])/g,k=>`-${k.toLowerCase()}`));if(f){h["data-headlessui-state"]=g.join(" ");for(let y of g)h[`data-${y}`]=""}}if(s===w.Fragment&&(Object.keys(Ts(l)).length>0||Object.keys(Ts(h)).length>0))if(!w.isValidElement(d)||Array.isArray(d)&&d.length>1){if(Object.keys(Ts(l)).length>0)throw new Error(['Passing props on "Fragment"!',"",`The current component <${r} /> is rendering a "Fragment".`,"However we need to passthrough the following props:",Object.keys(Ts(l)).concat(Object.keys(Ts(h))).map(f=>`  - ${f}`).join(`
`),"","You can apply a few solutions:",['Add an `as="..."` prop, to ensure that we render an actual element instead of a "Fragment".',"Render a single element as the child so that we can forward the props onto that element."].map(f=>`  - ${f}`).join(`
`)].join(`
`))}else{let f=d.props,g=f==null?void 0:f.className,y=typeof g=="function"?(...x)=>L0(g(...x),l.className):L0(g,l.className),S=y?{className:y}:{},k=iD(d.props,Ts(bg(l,["ref"])));for(let x in h)x in k&&delete h[x];return w.cloneElement(d,Object.assign({},k,h,c,{ref:i(yJ(d),c.ref)},S))}return w.createElement(s,Object.assign({},bg(l,["ref"]),s!==w.Fragment&&c,s!==w.Fragment&&h),d)}function mJ(){let e=w.useRef([]),t=w.useCallback(n=>{for(let r of e.current)r!=null&&(typeof r=="function"?r(n):r.current=n)},[]);return(...n)=>{if(!n.every(r=>r==null))return e.current=n,t}}function gJ(...e){return e.every(t=>t==null)?void 0:t=>{for(let n of e)n!=null&&(typeof n=="function"?n(t):n.current=t)}}function iD(...e){if(e.length===0)return{};if(e.length===1)return e[0];let t={},n={};for(let r of e)for(let i in r)i.startsWith("on")&&typeof r[i]=="function"?(n[i]!=null||(n[i]=[]),n[i].push(r[i])):t[i]=r[i];if(t.disabled||t["aria-disabled"])for(let r in n)/^(on(?:Click|Pointer|Mouse|Key)(?:Down|Up|Press)?)$/.test(r)&&(n[r]=[i=>{var s;return(s=i==null?void 0:i.preventDefault)==null?void 0:s.call(i)}]);for(let r in n)Object.assign(t,{[r](i,...s){let o=n[r];for(let a of o){if((i instanceof Event||(i==null?void 0:i.nativeEvent)instanceof Event)&&i.defaultPrevented)return;a(i,...s)}}});return t}function un(e){var t;return Object.assign(w.forwardRef(e),{displayName:(t=e.displayName)!=null?t:e.name})}function Ts(e){let t=Object.assign({},e);for(let n in t)t[n]===void 0&&delete t[n];return t}function bg(e,t=[]){let n=Object.assign({},e);for(let r of t)r in n&&delete n[r];return n}function yJ(e){return Z.version.split(".")[0]>="19"?e.props.ref:e.ref}let vJ="span";var vf=(e=>(e[e.None=1]="None",e[e.Focusable=2]="Focusable",e[e.Hidden=4]="Hidden",e))(vf||{});function wJ(e,t){var n;let{features:r=1,...i}=e,s={ref:t,"aria-hidden":(r&2)===2?!0:(n=i["aria-hidden"])!=null?n:void 0,hidden:(r&4)===4?!0:void 0,style:{position:"fixed",top:1,left:1,width:1,height:0,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0",...(r&4)===4&&(r&2)!==2&&{display:"none"}}};return Vn()({ourProps:s,theirProps:i,slot:{},defaultTag:vJ,name:"Hidden"})}let j0=un(wJ);function sD(e){return typeof e!="object"||e===null?!1:"nodeType"in e}function Xi(e){return sD(e)&&"tagName"in e}function so(e){return Xi(e)&&"accessKey"in e}function Fi(e){return Xi(e)&&"tabIndex"in e}function _J(e){return Xi(e)&&"style"in e}function xJ(e){return so(e)&&e.nodeName==="IFRAME"}function EJ(e){return so(e)&&e.nodeName==="INPUT"}let oD=Symbol();function bJ(e,t=!0){return Object.assign(e,{[oD]:t})}function Or(...e){let t=w.useRef(e);w.useEffect(()=>{t.current=e},[e]);let n=Te(r=>{for(let i of t.current)i!=null&&(typeof i=="function"?i(r):i.current=r)});return e.every(r=>r==null||(r==null?void 0:r[oD]))?void 0:n}let Q_=w.createContext(null);Q_.displayName="DescriptionContext";function aD(){let e=w.useContext(Q_);if(e===null){let t=new Error("You used a <Description /> component, but it is not inside a relevant parent.");throw Error.captureStackTrace&&Error.captureStackTrace(t,aD),t}return e}function CJ(){let[e,t]=w.useState([]);return[e.length>0?e.join(" "):void 0,w.useMemo(()=>function(n){let r=Te(s=>(t(o=>[...o,s]),()=>t(o=>{let a=o.slice(),l=a.indexOf(s);return l!==-1&&a.splice(l,1),a}))),i=w.useMemo(()=>({register:r,slot:n.slot,name:n.name,props:n.props,value:n.value}),[r,n.slot,n.name,n.props,n.value]);return Z.createElement(Q_.Provider,{value:i},n.children)},[t])]}let SJ="p";function TJ(e,t){let n=w.useId(),r=fJ(),{id:i=`headlessui-description-${n}`,...s}=e,o=aD(),a=Or(t);Lt(()=>o.register(i),[i,o.register]);let l=r||!1,c=w.useMemo(()=>({...o.slot,disabled:l}),[o.slot,l]),d={ref:a,...o.props,id:i};return Vn()({ourProps:d,theirProps:s,slot:c,defaultTag:SJ,name:o.name||"Description"})}let kJ=un(TJ),IJ=Object.assign(kJ,{});var lD=(e=>(e.Space=" ",e.Enter="Enter",e.Escape="Escape",e.Backspace="Backspace",e.Delete="Delete",e.ArrowLeft="ArrowLeft",e.ArrowUp="ArrowUp",e.ArrowRight="ArrowRight",e.ArrowDown="ArrowDown",e.Home="Home",e.End="End",e.PageUp="PageUp",e.PageDown="PageDown",e.Tab="Tab",e))(lD||{});let PJ=w.createContext(()=>{});function AJ({value:e,children:t}){return Z.createElement(PJ.Provider,{value:e},t)}let cD=class extends Map{constructor(t){super(),this.factory=t}get(t){let n=super.get(t);return n===void 0&&(n=this.factory(t),this.set(t,n)),n}};var RJ=Object.defineProperty,NJ=(e,t,n)=>t in e?RJ(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,DJ=(e,t,n)=>(NJ(e,typeof t!="symbol"?t+"":t,n),n),uD=(e,t,n)=>{if(!t.has(e))throw TypeError("Cannot "+n)},Cn=(e,t,n)=>(uD(e,t,"read from private field"),n?n.call(e):t.get(e)),Cg=(e,t,n)=>{if(t.has(e))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(e):t.set(e,n)},YS=(e,t,n,r)=>(uD(e,t,"write to private field"),r?r.call(e,n):t.set(e,n),n),hr,Fl,$l;let OJ=class{constructor(t){Cg(this,hr,{}),Cg(this,Fl,new cD(()=>new Set)),Cg(this,$l,new Set),DJ(this,"disposables",yi()),YS(this,hr,t)}dispose(){this.disposables.dispose()}get state(){return Cn(this,hr)}subscribe(t,n){let r={selector:t,callback:n,current:t(Cn(this,hr))};return Cn(this,$l).add(r),this.disposables.add(()=>{Cn(this,$l).delete(r)})}on(t,n){return Cn(this,Fl).get(t).add(n),this.disposables.add(()=>{Cn(this,Fl).get(t).delete(n)})}send(t){let n=this.reduce(Cn(this,hr),t);if(n!==Cn(this,hr)){YS(this,hr,n);for(let r of Cn(this,$l)){let i=r.selector(Cn(this,hr));dD(r.current,i)||(r.current=i,r.callback(i))}for(let r of Cn(this,Fl).get(t.type))r(Cn(this,hr),t)}}};hr=new WeakMap,Fl=new WeakMap,$l=new WeakMap;function dD(e,t){return Object.is(e,t)?!0:typeof e!="object"||e===null||typeof t!="object"||t===null?!1:Array.isArray(e)&&Array.isArray(t)?e.length!==t.length?!1:Sg(e[Symbol.iterator](),t[Symbol.iterator]()):e instanceof Map&&t instanceof Map||e instanceof Set&&t instanceof Set?e.size!==t.size?!1:Sg(e.entries(),t.entries()):XS(e)&&XS(t)?Sg(Object.entries(e)[Symbol.iterator](),Object.entries(t)[Symbol.iterator]()):!1}function Sg(e,t){do{let n=e.next(),r=t.next();if(n.done&&r.done)return!0;if(n.done||r.done||!Object.is(n.value,r.value))return!1}while(!0)}function XS(e){if(Object.prototype.toString.call(e)!=="[object Object]")return!1;let t=Object.getPrototypeOf(e);return t===null||Object.getPrototypeOf(t)===null}var MJ=Object.defineProperty,LJ=(e,t,n)=>t in e?MJ(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,JS=(e,t,n)=>(LJ(e,typeof t!="symbol"?t+"":t,n),n),jJ=(e=>(e[e.Push=0]="Push",e[e.Pop=1]="Pop",e))(jJ||{});let FJ={0(e,t){let n=t.id,r=e.stack,i=e.stack.indexOf(n);if(i!==-1){let s=e.stack.slice();return s.splice(i,1),s.push(n),r=s,{...e,stack:r}}return{...e,stack:[...e.stack,n]}},1(e,t){let n=t.id,r=e.stack.indexOf(n);if(r===-1)return e;let i=e.stack.slice();return i.splice(r,1),{...e,stack:i}}},$J=class hD extends OJ{constructor(){super(...arguments),JS(this,"actions",{push:t=>this.send({type:0,id:t}),pop:t=>this.send({type:1,id:t})}),JS(this,"selectors",{isTop:(t,n)=>t.stack[t.stack.length-1]===n,inStack:(t,n)=>t.stack.includes(n)})}static new(){return new hD({stack:[]})}reduce(t,n){return hi(n.type,FJ,t,n)}};const fD=new cD(()=>$J.new());var pD={exports:{}},mD={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Du=w;function VJ(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var UJ=typeof Object.is=="function"?Object.is:VJ,BJ=Du.useSyncExternalStore,zJ=Du.useRef,WJ=Du.useEffect,HJ=Du.useMemo,qJ=Du.useDebugValue;mD.useSyncExternalStoreWithSelector=function(e,t,n,r,i){var s=zJ(null);if(s.current===null){var o={hasValue:!1,value:null};s.current=o}else o=s.current;s=HJ(function(){function l(g){if(!c){if(c=!0,d=g,g=r(g),i!==void 0&&o.hasValue){var y=o.value;if(i(y,g))return h=y}return h=g}if(y=h,UJ(d,g))return y;var S=r(g);return i!==void 0&&i(y,S)?(d=g,y):(d=g,h=S)}var c=!1,d,h,f=n===void 0?null:n;return[function(){return l(t())},f===null?void 0:function(){return l(f())}]},[t,n,r,i]);var a=BJ(e,s[0],s[1]);return WJ(function(){o.hasValue=!0,o.value=a},[a]),qJ(a),a};pD.exports=mD;var GJ=pD.exports;function gD(e,t,n=dD){return GJ.useSyncExternalStoreWithSelector(Te(r=>e.subscribe(KJ,r)),Te(()=>e.state),Te(()=>e.state),Te(t),n)}function KJ(e){return e}function Ou(e,t){let n=w.useId(),r=fD.get(t),[i,s]=gD(r,w.useCallback(o=>[r.selectors.isTop(o,n),r.selectors.inStack(o,n)],[r,n]));return Lt(()=>{if(e)return r.actions.push(n),()=>r.actions.pop(n)},[r,e,n]),e?s?i:!0:!1}let F0=new Map,dc=new Map;function QS(e){var t;let n=(t=dc.get(e))!=null?t:0;return dc.set(e,n+1),n!==0?()=>ZS(e):(F0.set(e,{"aria-hidden":e.getAttribute("aria-hidden"),inert:e.inert}),e.setAttribute("aria-hidden","true"),e.inert=!0,()=>ZS(e))}function ZS(e){var t;let n=(t=dc.get(e))!=null?t:1;if(n===1?dc.delete(e):dc.set(e,n-1),n!==1)return;let r=F0.get(e);r&&(r["aria-hidden"]===null?e.removeAttribute("aria-hidden"):e.setAttribute("aria-hidden",r["aria-hidden"]),e.inert=r.inert,F0.delete(e))}function YJ(e,{allowed:t,disallowed:n}={}){let r=Ou(e,"inert-others");Lt(()=>{var i,s;if(!r)return;let o=yi();for(let l of(i=n==null?void 0:n())!=null?i:[])l&&o.add(QS(l));let a=(s=t==null?void 0:t())!=null?s:[];for(let l of a){if(!l)continue;let c=Np(l);if(!c)continue;let d=l.parentElement;for(;d&&d!==c.body;){for(let h of d.children)a.some(f=>h.contains(f))||o.add(QS(h));d=d.parentElement}}return o.dispose},[r,t,n])}function XJ(e,t,n){let r=po(i=>{let s=i.getBoundingClientRect();s.x===0&&s.y===0&&s.width===0&&s.height===0&&n()});w.useEffect(()=>{if(!e)return;let i=t===null?null:so(t)?t:t.current;if(!i)return;let s=yi();if(typeof ResizeObserver<"u"){let o=new ResizeObserver(()=>r.current(i));o.observe(i),s.add(()=>o.disconnect())}if(typeof IntersectionObserver<"u"){let o=new IntersectionObserver(()=>r.current(i));o.observe(i),s.add(()=>o.disconnect())}return()=>s.dispose()},[t,r,e])}let wf=["[contentEditable=true]","[tabindex]","a[href]","area[href]","button:not([disabled])","iframe","input:not([disabled])","select:not([disabled])","textarea:not([disabled])"].map(e=>`${e}:not([tabindex='-1'])`).join(","),JJ=["[data-autofocus]"].map(e=>`${e}:not([tabindex='-1'])`).join(",");var Br=(e=>(e[e.First=1]="First",e[e.Previous=2]="Previous",e[e.Next=4]="Next",e[e.Last=8]="Last",e[e.WrapAround=16]="WrapAround",e[e.NoScroll=32]="NoScroll",e[e.AutoFocus=64]="AutoFocus",e))(Br||{}),$0=(e=>(e[e.Error=0]="Error",e[e.Overflow=1]="Overflow",e[e.Success=2]="Success",e[e.Underflow=3]="Underflow",e))($0||{}),QJ=(e=>(e[e.Previous=-1]="Previous",e[e.Next=1]="Next",e))(QJ||{});function ZJ(e=document.body){return e==null?[]:Array.from(e.querySelectorAll(wf)).sort((t,n)=>Math.sign((t.tabIndex||Number.MAX_SAFE_INTEGER)-(n.tabIndex||Number.MAX_SAFE_INTEGER)))}function eQ(e=document.body){return e==null?[]:Array.from(e.querySelectorAll(JJ)).sort((t,n)=>Math.sign((t.tabIndex||Number.MAX_SAFE_INTEGER)-(n.tabIndex||Number.MAX_SAFE_INTEGER)))}var yD=(e=>(e[e.Strict=0]="Strict",e[e.Loose=1]="Loose",e))(yD||{});function tQ(e,t=0){var n;return e===((n=Np(e))==null?void 0:n.body)?!1:hi(t,{0(){return e.matches(wf)},1(){let r=e;for(;r!==null;){if(r.matches(wf))return!0;r=r.parentElement}return!1}})}var nQ=(e=>(e[e.Keyboard=0]="Keyboard",e[e.Mouse=1]="Mouse",e))(nQ||{});typeof window<"u"&&typeof document<"u"&&(document.addEventListener("keydown",e=>{e.metaKey||e.altKey||e.ctrlKey||(document.documentElement.dataset.headlessuiFocusVisible="")},!0),document.addEventListener("click",e=>{e.detail===1?delete document.documentElement.dataset.headlessuiFocusVisible:e.detail===0&&(document.documentElement.dataset.headlessuiFocusVisible="")},!0));function ei(e){e==null||e.focus({preventScroll:!0})}let rQ=["textarea","input"].join(",");function iQ(e){var t,n;return(n=(t=e==null?void 0:e.matches)==null?void 0:t.call(e,rQ))!=null?n:!1}function sQ(e,t=n=>n){return e.slice().sort((n,r)=>{let i=t(n),s=t(r);if(i===null||s===null)return 0;let o=i.compareDocumentPosition(s);return o&Node.DOCUMENT_POSITION_FOLLOWING?-1:o&Node.DOCUMENT_POSITION_PRECEDING?1:0})}function hc(e,t,{sorted:n=!0,relativeTo:r=null,skipElements:i=[]}={}){let s=Array.isArray(e)?e.length>0?e[0].ownerDocument:document:e.ownerDocument,o=Array.isArray(e)?n?sQ(e):e:t&64?eQ(e):ZJ(e);i.length>0&&o.length>1&&(o=o.filter(g=>!i.some(y=>y!=null&&"current"in y?(y==null?void 0:y.current)===g:y===g))),r=r??s.activeElement;let a=(()=>{if(t&5)return 1;if(t&10)return-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),l=(()=>{if(t&1)return 0;if(t&2)return Math.max(0,o.indexOf(r))-1;if(t&4)return Math.max(0,o.indexOf(r))+1;if(t&8)return o.length-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),c=t&32?{preventScroll:!0}:{},d=0,h=o.length,f;do{if(d>=h||d+h<=0)return 0;let g=l+d;if(t&16)g=(g+h)%h;else{if(g<0)return 3;if(g>=h)return 1}f=o[g],f==null||f.focus(c),d+=a}while(f!==s.activeElement);return t&6&&iQ(f)&&f.select(),2}function vD(){return/iPhone/gi.test(window.navigator.platform)||/Mac/gi.test(window.navigator.platform)&&window.navigator.maxTouchPoints>0}function oQ(){return/Android/gi.test(window.navigator.userAgent)}function eT(){return vD()||oQ()}function Ad(e,t,n,r){let i=po(n);w.useEffect(()=>{if(!e)return;function s(o){i.current(o)}return document.addEventListener(t,s,r),()=>document.removeEventListener(t,s,r)},[e,t,r])}function wD(e,t,n,r){let i=po(n);w.useEffect(()=>{if(!e)return;function s(o){i.current(o)}return window.addEventListener(t,s,r),()=>window.removeEventListener(t,s,r)},[e,t,r])}const tT=30;function aQ(e,t,n){let r=po(n),i=w.useCallback(function(a,l){if(a.defaultPrevented)return;let c=l(a);if(c===null||!c.getRootNode().contains(c)||!c.isConnected)return;let d=function h(f){return typeof f=="function"?h(f()):Array.isArray(f)||f instanceof Set?f:[f]}(t);for(let h of d)if(h!==null&&(h.contains(c)||a.composed&&a.composedPath().includes(h)))return;return!tQ(c,yD.Loose)&&c.tabIndex!==-1&&a.preventDefault(),r.current(a,c)},[r,t]),s=w.useRef(null);Ad(e,"pointerdown",a=>{var l,c;eT()||(s.current=((c=(l=a.composedPath)==null?void 0:l.call(a))==null?void 0:c[0])||a.target)},!0),Ad(e,"pointerup",a=>{if(eT()||!s.current)return;let l=s.current;return s.current=null,i(a,()=>l)},!0);let o=w.useRef({x:0,y:0});Ad(e,"touchstart",a=>{o.current.x=a.touches[0].clientX,o.current.y=a.touches[0].clientY},!0),Ad(e,"touchend",a=>{let l={x:a.changedTouches[0].clientX,y:a.changedTouches[0].clientY};if(!(Math.abs(l.x-o.current.x)>=tT||Math.abs(l.y-o.current.y)>=tT))return i(a,()=>Fi(a.target)?a.target:null)},!0),wD(e,"blur",a=>i(a,()=>xJ(window.document.activeElement)?window.document.activeElement:null),!0)}function Op(...e){return w.useMemo(()=>Np(...e),[...e])}function _D(e,t,n,r){let i=po(n);w.useEffect(()=>{e=e??window;function s(o){i.current(o)}return e.addEventListener(t,s,r),()=>e.removeEventListener(t,s,r)},[e,t,r])}function lQ(e){return w.useSyncExternalStore(e.subscribe,e.getSnapshot,e.getSnapshot)}function cQ(e,t){let n=e(),r=new Set;return{getSnapshot(){return n},subscribe(i){return r.add(i),()=>r.delete(i)},dispatch(i,...s){let o=t[i].call(n,...s);o&&(n=o,r.forEach(a=>a()))}}}function uQ(){let e;return{before({doc:t}){var n;let r=t.documentElement,i=(n=t.defaultView)!=null?n:window;e=Math.max(0,i.innerWidth-r.clientWidth)},after({doc:t,d:n}){let r=t.documentElement,i=Math.max(0,r.clientWidth-r.offsetWidth),s=Math.max(0,e-i);n.style(r,"paddingRight",`${s}px`)}}}function dQ(){return vD()?{before({doc:e,d:t,meta:n}){function r(i){return n.containers.flatMap(s=>s()).some(s=>s.contains(i))}t.microTask(()=>{var i;if(window.getComputedStyle(e.documentElement).scrollBehavior!=="auto"){let a=yi();a.style(e.documentElement,"scrollBehavior","auto"),t.add(()=>t.microTask(()=>a.dispose()))}let s=(i=window.scrollY)!=null?i:window.pageYOffset,o=null;t.addEventListener(e,"click",a=>{if(Fi(a.target))try{let l=a.target.closest("a");if(!l)return;let{hash:c}=new URL(l.href),d=e.querySelector(c);Fi(d)&&!r(d)&&(o=d)}catch{}},!0),t.addEventListener(e,"touchstart",a=>{if(Fi(a.target)&&_J(a.target))if(r(a.target)){let l=a.target;for(;l.parentElement&&r(l.parentElement);)l=l.parentElement;t.style(l,"overscrollBehavior","contain")}else t.style(a.target,"touchAction","none")}),t.addEventListener(e,"touchmove",a=>{if(Fi(a.target)){if(EJ(a.target))return;if(r(a.target)){let l=a.target;for(;l.parentElement&&l.dataset.headlessuiPortal!==""&&!(l.scrollHeight>l.clientHeight||l.scrollWidth>l.clientWidth);)l=l.parentElement;l.dataset.headlessuiPortal===""&&a.preventDefault()}else a.preventDefault()}},{passive:!1}),t.add(()=>{var a;let l=(a=window.scrollY)!=null?a:window.pageYOffset;s!==l&&window.scrollTo(0,s),o&&o.isConnected&&(o.scrollIntoView({block:"nearest"}),o=null)})})}}:{}}function hQ(){return{before({doc:e,d:t}){t.style(e.documentElement,"overflow","hidden")}}}function fQ(e){let t={};for(let n of e)Object.assign(t,n(t));return t}let js=cQ(()=>new Map,{PUSH(e,t){var n;let r=(n=this.get(e))!=null?n:{doc:e,count:0,d:yi(),meta:new Set};return r.count++,r.meta.add(t),this.set(e,r),this},POP(e,t){let n=this.get(e);return n&&(n.count--,n.meta.delete(t)),this},SCROLL_PREVENT({doc:e,d:t,meta:n}){let r={doc:e,d:t,meta:fQ(n)},i=[dQ(),uQ(),hQ()];i.forEach(({before:s})=>s==null?void 0:s(r)),i.forEach(({after:s})=>s==null?void 0:s(r))},SCROLL_ALLOW({d:e}){e.dispose()},TEARDOWN({doc:e}){this.delete(e)}});js.subscribe(()=>{let e=js.getSnapshot(),t=new Map;for(let[n]of e)t.set(n,n.documentElement.style.overflow);for(let n of e.values()){let r=t.get(n.doc)==="hidden",i=n.count!==0;(i&&!r||!i&&r)&&js.dispatch(n.count>0?"SCROLL_PREVENT":"SCROLL_ALLOW",n),n.count===0&&js.dispatch("TEARDOWN",n)}});function pQ(e,t,n=()=>({containers:[]})){let r=lQ(js),i=t?r.get(t):void 0,s=i?i.count>0:!1;return Lt(()=>{if(!(!t||!e))return js.dispatch("PUSH",t,n),()=>js.dispatch("POP",t,n)},[e,t]),s}function mQ(e,t,n=()=>[document.body]){let r=Ou(e,"scroll-lock");pQ(r,t,i=>{var s;return{containers:[...(s=i.containers)!=null?s:[],n]}})}function gQ(e=0){let[t,n]=w.useState(e),r=w.useCallback(l=>n(l),[t]),i=w.useCallback(l=>n(c=>c|l),[t]),s=w.useCallback(l=>(t&l)===l,[t]),o=w.useCallback(l=>n(c=>c&~l),[n]),a=w.useCallback(l=>n(c=>c^l),[n]);return{flags:t,setFlag:r,addFlag:i,hasFlag:s,removeFlag:o,toggleFlag:a}}var nT,rT;typeof process<"u"&&typeof globalThis<"u"&&typeof Element<"u"&&((nT=process==null?void 0:process.env)==null?void 0:nT.NODE_ENV)==="test"&&typeof((rT=Element==null?void 0:Element.prototype)==null?void 0:rT.getAnimations)>"u"&&(Element.prototype.getAnimations=function(){return console.warn(["Headless UI has polyfilled `Element.prototype.getAnimations` for your tests.","Please install a proper polyfill e.g. `jsdom-testing-mocks`, to silence these warnings.","","Example usage:","```js","import { mockAnimationsApi } from 'jsdom-testing-mocks'","mockAnimationsApi()","```"].join(`
`)),[]});var yQ=(e=>(e[e.None=0]="None",e[e.Closed=1]="Closed",e[e.Enter=2]="Enter",e[e.Leave=4]="Leave",e))(yQ||{});function vQ(e){let t={};for(let n in e)e[n]===!0&&(t[`data-${n}`]="");return t}function wQ(e,t,n,r){let[i,s]=w.useState(n),{hasFlag:o,addFlag:a,removeFlag:l}=gQ(e&&i?3:0),c=w.useRef(!1),d=w.useRef(!1),h=J_();return Lt(()=>{var f;if(e){if(n&&s(!0),!t){n&&a(3);return}return(f=r==null?void 0:r.start)==null||f.call(r,n),_Q(t,{inFlight:c,prepare(){d.current?d.current=!1:d.current=c.current,c.current=!0,!d.current&&(n?(a(3),l(4)):(a(4),l(2)))},run(){d.current?n?(l(3),a(4)):(l(4),a(3)):n?l(1):a(1)},done(){var g;d.current&&typeof t.getAnimations=="function"&&t.getAnimations().length>0||(c.current=!1,l(7),n||s(!1),(g=r==null?void 0:r.end)==null||g.call(r,n))}})}},[e,n,t,h]),e?[i,{closed:o(1),enter:o(2),leave:o(4),transition:o(2)||o(4)}]:[n,{closed:void 0,enter:void 0,leave:void 0,transition:void 0}]}function _Q(e,{prepare:t,run:n,done:r,inFlight:i}){let s=yi();return EQ(e,{prepare:t,inFlight:i}),s.nextFrame(()=>{n(),s.requestAnimationFrame(()=>{s.add(xQ(e,r))})}),s.dispose}function xQ(e,t){var n,r;let i=yi();if(!e)return i.dispose;let s=!1;i.add(()=>{s=!0});let o=(r=(n=e.getAnimations)==null?void 0:n.call(e).filter(a=>a instanceof CSSTransition))!=null?r:[];return o.length===0?(t(),i.dispose):(Promise.allSettled(o.map(a=>a.finished)).then(()=>{s||t()}),i.dispose)}function EQ(e,{inFlight:t,prepare:n}){if(t!=null&&t.current){n();return}let r=e.style.transition;e.style.transition="none",n(),e.offsetHeight,e.style.transition=r}function Z_(e,t){let n=w.useRef([]),r=Te(e);w.useEffect(()=>{let i=[...n.current];for(let[s,o]of t.entries())if(n.current[s]!==o){let a=r(t,i);return n.current=t,a}},[r,...t])}let Mp=w.createContext(null);Mp.displayName="OpenClosedContext";var er=(e=>(e[e.Open=1]="Open",e[e.Closed=2]="Closed",e[e.Closing=4]="Closing",e[e.Opening=8]="Opening",e))(er||{});function Lp(){return w.useContext(Mp)}function bQ({value:e,children:t}){return Z.createElement(Mp.Provider,{value:e},t)}function CQ({children:e}){return Z.createElement(Mp.Provider,{value:null},e)}function SQ(e){function t(){document.readyState!=="loading"&&(e(),document.removeEventListener("DOMContentLoaded",t))}typeof window<"u"&&typeof document<"u"&&(document.addEventListener("DOMContentLoaded",t),t())}let Di=[];SQ(()=>{function e(t){if(!Fi(t.target)||t.target===document.body||Di[0]===t.target)return;let n=t.target;n=n.closest(wf),Di.unshift(n??t.target),Di=Di.filter(r=>r!=null&&r.isConnected),Di.splice(10)}window.addEventListener("click",e,{capture:!0}),window.addEventListener("mousedown",e,{capture:!0}),window.addEventListener("focus",e,{capture:!0}),document.body.addEventListener("click",e,{capture:!0}),document.body.addEventListener("mousedown",e,{capture:!0}),document.body.addEventListener("focus",e,{capture:!0})});function xD(e){let t=Te(e),n=w.useRef(!1);w.useEffect(()=>(n.current=!1,()=>{n.current=!0,Dp(()=>{n.current&&t()})}),[t])}function TQ(){let e=typeof document>"u";return"useSyncExternalStore"in lh?(t=>t.useSyncExternalStore)(lh)(()=>()=>{},()=>!1,()=>!e):!1}function Mu(){let e=TQ(),[t,n]=w.useState(zs.isHandoffComplete);return t&&zs.isHandoffComplete===!1&&n(!1),w.useEffect(()=>{t!==!0&&n(!0)},[t]),w.useEffect(()=>zs.handoff(),[]),e?!1:t}let ED=w.createContext(!1);function kQ(){return w.useContext(ED)}function iT(e){return Z.createElement(ED.Provider,{value:e.force},e.children)}function IQ(e){let t=kQ(),n=w.useContext(CD),[r,i]=w.useState(()=>{var s;if(!t&&n!==null)return(s=n.current)!=null?s:null;if(zs.isServer)return null;let o=e==null?void 0:e.getElementById("headlessui-portal-root");if(o)return o;if(e===null)return null;let a=e.createElement("div");return a.setAttribute("id","headlessui-portal-root"),e.body.appendChild(a)});return w.useEffect(()=>{r!==null&&(e!=null&&e.body.contains(r)||e==null||e.body.appendChild(r))},[r,e]),w.useEffect(()=>{t||n!==null&&i(n.current)},[n,i,t]),r}let bD=w.Fragment,PQ=un(function(e,t){let{ownerDocument:n=null,...r}=e,i=w.useRef(null),s=Or(bJ(g=>{i.current=g}),t),o=Op(i),a=n??o,l=IQ(a),[c]=w.useState(()=>{var g;return zs.isServer?null:(g=a==null?void 0:a.createElement("div"))!=null?g:null}),d=w.useContext(V0),h=Mu();Lt(()=>{!l||!c||l.contains(c)||(c.setAttribute("data-headlessui-portal",""),l.appendChild(c))},[l,c]),Lt(()=>{if(c&&d)return d.register(c)},[d,c]),xD(()=>{var g;!l||!c||(sD(c)&&l.contains(c)&&l.removeChild(c),l.childNodes.length<=0&&((g=l.parentElement)==null||g.removeChild(l)))});let f=Vn();return h?!l||!c?null:Lf.createPortal(f({ourProps:{ref:s},theirProps:r,slot:{},defaultTag:bD,name:"Portal"}),c):null});function AQ(e,t){let n=Or(t),{enabled:r=!0,ownerDocument:i,...s}=e,o=Vn();return r?Z.createElement(PQ,{...s,ownerDocument:i,ref:n}):o({ourProps:{ref:n},theirProps:s,slot:{},defaultTag:bD,name:"Portal"})}let RQ=w.Fragment,CD=w.createContext(null);function NQ(e,t){let{target:n,...r}=e,i={ref:Or(t)},s=Vn();return Z.createElement(CD.Provider,{value:n},s({ourProps:i,theirProps:r,defaultTag:RQ,name:"Popover.Group"}))}let V0=w.createContext(null);function DQ(){let e=w.useContext(V0),t=w.useRef([]),n=Te(s=>(t.current.push(s),e&&e.register(s),()=>r(s))),r=Te(s=>{let o=t.current.indexOf(s);o!==-1&&t.current.splice(o,1),e&&e.unregister(s)}),i=w.useMemo(()=>({register:n,unregister:r,portals:t}),[n,r,t]);return[t,w.useMemo(()=>function({children:s}){return Z.createElement(V0.Provider,{value:i},s)},[i])]}let OQ=un(AQ),SD=un(NQ),MQ=Object.assign(OQ,{Group:SD});function LQ(e,t=typeof document<"u"?document.defaultView:null,n){let r=Ou(e,"escape");_D(t,"keydown",i=>{r&&(i.defaultPrevented||i.key===lD.Escape&&n(i))})}function jQ(){var e;let[t]=w.useState(()=>typeof window<"u"&&typeof window.matchMedia=="function"?window.matchMedia("(pointer: coarse)"):null),[n,r]=w.useState((e=t==null?void 0:t.matches)!=null?e:!1);return Lt(()=>{if(!t)return;function i(s){r(s.matches)}return t.addEventListener("change",i),()=>t.removeEventListener("change",i)},[t]),n}function FQ({defaultContainers:e=[],portals:t,mainTreeNode:n}={}){let r=Op(n),i=Te(()=>{var s,o;let a=[];for(let l of e)l!==null&&(Xi(l)?a.push(l):"current"in l&&Xi(l.current)&&a.push(l.current));if(t!=null&&t.current)for(let l of t.current)a.push(l);for(let l of(s=r==null?void 0:r.querySelectorAll("html > *, body > *"))!=null?s:[])l!==document.body&&l!==document.head&&Xi(l)&&l.id!=="headlessui-portal-root"&&(n&&(l.contains(n)||l.contains((o=n==null?void 0:n.getRootNode())==null?void 0:o.host))||a.some(c=>l.contains(c))||a.push(l));return a});return{resolveContainers:i,contains:Te(s=>i().some(o=>o.contains(s)))}}let TD=w.createContext(null);function sT({children:e,node:t}){let[n,r]=w.useState(null),i=kD(t??n);return Z.createElement(TD.Provider,{value:i},e,i===null&&Z.createElement(j0,{features:vf.Hidden,ref:s=>{var o,a;if(s){for(let l of(a=(o=Np(s))==null?void 0:o.querySelectorAll("html > *, body > *"))!=null?a:[])if(l!==document.body&&l!==document.head&&Xi(l)&&l!=null&&l.contains(s)){r(l);break}}}}))}function kD(e=null){var t;return(t=w.useContext(TD))!=null?t:e}function e1(){let e=w.useRef(!1);return Lt(()=>(e.current=!0,()=>{e.current=!1}),[]),e}var Vl=(e=>(e[e.Forwards=0]="Forwards",e[e.Backwards=1]="Backwards",e))(Vl||{});function $Q(){let e=w.useRef(0);return wD(!0,"keydown",t=>{t.key==="Tab"&&(e.current=t.shiftKey?1:0)},!0),e}function ID(e){if(!e)return new Set;if(typeof e=="function")return new Set(e());let t=new Set;for(let n of e.current)Xi(n.current)&&t.add(n.current);return t}let VQ="div";var Is=(e=>(e[e.None=0]="None",e[e.InitialFocus=1]="InitialFocus",e[e.TabLock=2]="TabLock",e[e.FocusLock=4]="FocusLock",e[e.RestoreFocus=8]="RestoreFocus",e[e.AutoFocus=16]="AutoFocus",e))(Is||{});function UQ(e,t){let n=w.useRef(null),r=Or(n,t),{initialFocus:i,initialFocusFallback:s,containers:o,features:a=15,...l}=e;Mu()||(a=0);let c=Op(n);HQ(a,{ownerDocument:c});let d=qQ(a,{ownerDocument:c,container:n,initialFocus:i,initialFocusFallback:s});GQ(a,{ownerDocument:c,container:n,containers:o,previousActiveElement:d});let h=$Q(),f=Te(C=>{if(!so(n.current))return;let E=n.current;(I=>I())(()=>{hi(h.current,{[Vl.Forwards]:()=>{hc(E,Br.First,{skipElements:[C.relatedTarget,s]})},[Vl.Backwards]:()=>{hc(E,Br.Last,{skipElements:[C.relatedTarget,s]})}})})}),g=Ou(!!(a&2),"focus-trap#tab-lock"),y=J_(),S=w.useRef(!1),k={ref:r,onKeyDown(C){C.key=="Tab"&&(S.current=!0,y.requestAnimationFrame(()=>{S.current=!1}))},onBlur(C){if(!(a&4))return;let E=ID(o);so(n.current)&&E.add(n.current);let I=C.relatedTarget;Fi(I)&&I.dataset.headlessuiFocusGuard!=="true"&&(PD(E,I)||(S.current?hc(n.current,hi(h.current,{[Vl.Forwards]:()=>Br.Next,[Vl.Backwards]:()=>Br.Previous})|Br.WrapAround,{relativeTo:C.target}):Fi(C.target)&&ei(C.target)))}},x=Vn();return Z.createElement(Z.Fragment,null,g&&Z.createElement(j0,{as:"button",type:"button","data-headlessui-focus-guard":!0,onFocus:f,features:vf.Focusable}),x({ourProps:k,theirProps:l,defaultTag:VQ,name:"FocusTrap"}),g&&Z.createElement(j0,{as:"button",type:"button","data-headlessui-focus-guard":!0,onFocus:f,features:vf.Focusable}))}let BQ=un(UQ),zQ=Object.assign(BQ,{features:Is});function WQ(e=!0){let t=w.useRef(Di.slice());return Z_(([n],[r])=>{r===!0&&n===!1&&Dp(()=>{t.current.splice(0)}),r===!1&&n===!0&&(t.current=Di.slice())},[e,Di,t]),Te(()=>{var n;return(n=t.current.find(r=>r!=null&&r.isConnected))!=null?n:null})}function HQ(e,{ownerDocument:t}){let n=!!(e&8),r=WQ(n);Z_(()=>{n||(t==null?void 0:t.activeElement)===(t==null?void 0:t.body)&&ei(r())},[n]),xD(()=>{n&&ei(r())})}function qQ(e,{ownerDocument:t,container:n,initialFocus:r,initialFocusFallback:i}){let s=w.useRef(null),o=Ou(!!(e&1),"focus-trap#initial-focus"),a=e1();return Z_(()=>{if(e===0)return;if(!o){i!=null&&i.current&&ei(i.current);return}let l=n.current;l&&Dp(()=>{if(!a.current)return;let c=t==null?void 0:t.activeElement;if(r!=null&&r.current){if((r==null?void 0:r.current)===c){s.current=c;return}}else if(l.contains(c)){s.current=c;return}if(r!=null&&r.current)ei(r.current);else{if(e&16){if(hc(l,Br.First|Br.AutoFocus)!==$0.Error)return}else if(hc(l,Br.First)!==$0.Error)return;if(i!=null&&i.current&&(ei(i.current),(t==null?void 0:t.activeElement)===i.current))return;console.warn("There are no focusable elements inside the <FocusTrap />")}s.current=t==null?void 0:t.activeElement})},[i,o,e]),s}function GQ(e,{ownerDocument:t,container:n,containers:r,previousActiveElement:i}){let s=e1(),o=!!(e&4);_D(t==null?void 0:t.defaultView,"focus",a=>{if(!o||!s.current)return;let l=ID(r);so(n.current)&&l.add(n.current);let c=i.current;if(!c)return;let d=a.target;so(d)?PD(l,d)?(i.current=d,ei(d)):(a.preventDefault(),a.stopPropagation(),ei(c)):ei(i.current)},!0)}function PD(e,t){for(let n of e)if(n.contains(t))return!0;return!1}function AD(e){var t;return!!(e.enter||e.enterFrom||e.enterTo||e.leave||e.leaveFrom||e.leaveTo)||((t=e.as)!=null?t:ND)!==w.Fragment||Z.Children.count(e.children)===1}let jp=w.createContext(null);jp.displayName="TransitionContext";var KQ=(e=>(e.Visible="visible",e.Hidden="hidden",e))(KQ||{});function YQ(){let e=w.useContext(jp);if(e===null)throw new Error("A <Transition.Child /> is used but it is missing a parent <Transition /> or <Transition.Root />.");return e}function XQ(){let e=w.useContext(Fp);if(e===null)throw new Error("A <Transition.Child /> is used but it is missing a parent <Transition /> or <Transition.Root />.");return e}let Fp=w.createContext(null);Fp.displayName="NestingContext";function $p(e){return"children"in e?$p(e.children):e.current.filter(({el:t})=>t.current!==null).filter(({state:t})=>t==="visible").length>0}function RD(e,t){let n=po(e),r=w.useRef([]),i=e1(),s=J_(),o=Te((g,y=ji.Hidden)=>{let S=r.current.findIndex(({el:k})=>k===g);S!==-1&&(hi(y,{[ji.Unmount](){r.current.splice(S,1)},[ji.Hidden](){r.current[S].state="hidden"}}),s.microTask(()=>{var k;!$p(r)&&i.current&&((k=n.current)==null||k.call(n))}))}),a=Te(g=>{let y=r.current.find(({el:S})=>S===g);return y?y.state!=="visible"&&(y.state="visible"):r.current.push({el:g,state:"visible"}),()=>o(g,ji.Unmount)}),l=w.useRef([]),c=w.useRef(Promise.resolve()),d=w.useRef({enter:[],leave:[]}),h=Te((g,y,S)=>{l.current.splice(0),t&&(t.chains.current[y]=t.chains.current[y].filter(([k])=>k!==g)),t==null||t.chains.current[y].push([g,new Promise(k=>{l.current.push(k)})]),t==null||t.chains.current[y].push([g,new Promise(k=>{Promise.all(d.current[y].map(([x,C])=>C)).then(()=>k())})]),y==="enter"?c.current=c.current.then(()=>t==null?void 0:t.wait.current).then(()=>S(y)):S(y)}),f=Te((g,y,S)=>{Promise.all(d.current[y].splice(0).map(([k,x])=>x)).then(()=>{var k;(k=l.current.shift())==null||k()}).then(()=>S(y))});return w.useMemo(()=>({children:r,register:a,unregister:o,onStart:h,onStop:f,wait:c,chains:d}),[a,o,r,h,f,d,c])}let ND=w.Fragment,DD=yf.RenderStrategy;function JQ(e,t){var n,r;let{transition:i=!0,beforeEnter:s,afterEnter:o,beforeLeave:a,afterLeave:l,enter:c,enterFrom:d,enterTo:h,entered:f,leave:g,leaveFrom:y,leaveTo:S,...k}=e,[x,C]=w.useState(null),E=w.useRef(null),I=AD(e),D=Or(...I?[E,t,C]:t===null?[]:[t]),M=(n=k.unmount)==null||n?ji.Unmount:ji.Hidden,{show:T,appear:b,initial:P}=YQ(),[v,R]=w.useState(T?"visible":"hidden"),O=XQ(),{register:N,unregister:V}=O;Lt(()=>N(E),[N,E]),Lt(()=>{if(M===ji.Hidden&&E.current){if(T&&v!=="visible"){R("visible");return}return hi(v,{hidden:()=>V(E),visible:()=>N(E)})}},[v,E,N,V,T,M]);let z=Mu();Lt(()=>{if(I&&z&&v==="visible"&&E.current===null)throw new Error("Did you forget to passthrough the `ref` to the actual DOM node?")},[E,v,z,I]);let Y=P&&!b,G=b&&T&&P,$=w.useRef(!1),K=RD(()=>{$.current||(R("hidden"),V(E))},O),X=Te(re=>{$.current=!0;let je=re?"enter":"leave";K.onStart(E,je,Fe=>{Fe==="enter"?s==null||s():Fe==="leave"&&(a==null||a())})}),le=Te(re=>{let je=re?"enter":"leave";$.current=!1,K.onStop(E,je,Fe=>{Fe==="enter"?o==null||o():Fe==="leave"&&(l==null||l())}),je==="leave"&&!$p(K)&&(R("hidden"),V(E))});w.useEffect(()=>{I&&i||(X(T),le(T))},[T,I,i]);let ne=(()=>!(!i||!I||!z||Y))(),[,H]=wQ(ne,x,T,{start:X,end:le}),J=Ts({ref:D,className:((r=L0(k.className,G&&c,G&&d,H.enter&&c,H.enter&&H.closed&&d,H.enter&&!H.closed&&h,H.leave&&g,H.leave&&!H.closed&&y,H.leave&&H.closed&&S,!H.transition&&T&&f))==null?void 0:r.trim())||void 0,...vQ(H)}),oe=0;v==="visible"&&(oe|=er.Open),v==="hidden"&&(oe|=er.Closed),T&&v==="hidden"&&(oe|=er.Opening),!T&&v==="visible"&&(oe|=er.Closing);let fe=Vn();return Z.createElement(Fp.Provider,{value:K},Z.createElement(bQ,{value:oe},fe({ourProps:J,theirProps:k,defaultTag:ND,features:DD,visible:v==="visible",name:"Transition.Child"})))}function QQ(e,t){let{show:n,appear:r=!1,unmount:i=!0,...s}=e,o=w.useRef(null),a=AD(e),l=Or(...a?[o,t]:t===null?[]:[t]);Mu();let c=Lp();if(n===void 0&&c!==null&&(n=(c&er.Open)===er.Open),n===void 0)throw new Error("A <Transition /> is used but it is missing a `show={true | false}` prop.");let[d,h]=w.useState(n?"visible":"hidden"),f=RD(()=>{n||h("hidden")}),[g,y]=w.useState(!0),S=w.useRef([n]);Lt(()=>{g!==!1&&S.current[S.current.length-1]!==n&&(S.current.push(n),y(!1))},[S,n]);let k=w.useMemo(()=>({show:n,appear:r,initial:g}),[n,r,g]);Lt(()=>{n?h("visible"):!$p(f)&&o.current!==null&&h("hidden")},[n,f]);let x={unmount:i},C=Te(()=>{var D;g&&y(!1),(D=e.beforeEnter)==null||D.call(e)}),E=Te(()=>{var D;g&&y(!1),(D=e.beforeLeave)==null||D.call(e)}),I=Vn();return Z.createElement(Fp.Provider,{value:f},Z.createElement(jp.Provider,{value:k},I({ourProps:{...x,as:w.Fragment,children:Z.createElement(OD,{ref:l,...x,...s,beforeEnter:C,beforeLeave:E})},theirProps:{},defaultTag:w.Fragment,features:DD,visible:d==="visible",name:"Transition"})))}function ZQ(e,t){let n=w.useContext(jp)!==null,r=Lp()!==null;return Z.createElement(Z.Fragment,null,!n&&r?Z.createElement(U0,{ref:t,...e}):Z.createElement(OD,{ref:t,...e}))}let U0=un(QQ),OD=un(JQ),t1=un(ZQ),eZ=Object.assign(U0,{Child:t1,Root:U0});var tZ=(e=>(e[e.Open=0]="Open",e[e.Closed=1]="Closed",e))(tZ||{}),nZ=(e=>(e[e.SetTitleId=0]="SetTitleId",e))(nZ||{});let rZ={0(e,t){return e.titleId===t.id?e:{...e,titleId:t.id}}},n1=w.createContext(null);n1.displayName="DialogContext";function Vp(e){let t=w.useContext(n1);if(t===null){let n=new Error(`<${e} /> is missing a parent <Dialog /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,Vp),n}return t}function iZ(e,t){return hi(t.type,rZ,e,t)}let oT=un(function(e,t){let n=w.useId(),{id:r=`headlessui-dialog-${n}`,open:i,onClose:s,initialFocus:o,role:a="dialog",autoFocus:l=!0,__demoMode:c=!1,unmount:d=!1,...h}=e,f=w.useRef(!1);a=function(){return a==="dialog"||a==="alertdialog"?a:(f.current||(f.current=!0,console.warn(`Invalid role [${a}] passed to <Dialog />. Only \`dialog\` and and \`alertdialog\` are supported. Using \`dialog\` instead.`)),"dialog")}();let g=Lp();i===void 0&&g!==null&&(i=(g&er.Open)===er.Open);let y=w.useRef(null),S=Or(y,t),k=Op(y),x=i?0:1,[C,E]=w.useReducer(iZ,{titleId:null,descriptionId:null,panelRef:w.createRef()}),I=Te(()=>s(!1)),D=Te(H=>E({type:0,id:H})),M=Mu()?x===0:!1,[T,b]=DQ(),P={get current(){var H;return(H=C.panelRef.current)!=null?H:y.current}},v=kD(),{resolveContainers:R}=FQ({mainTreeNode:v,portals:T,defaultContainers:[P]}),O=g!==null?(g&er.Closing)===er.Closing:!1;YJ(c||O?!1:M,{allowed:Te(()=>{var H,J;return[(J=(H=y.current)==null?void 0:H.closest("[data-headlessui-portal]"))!=null?J:null]}),disallowed:Te(()=>{var H;return[(H=v==null?void 0:v.closest("body > *:not(#headlessui-portal-root)"))!=null?H:null]})});let N=fD.get(null);Lt(()=>{if(M)return N.actions.push(r),()=>N.actions.pop(r)},[N,r,M]);let V=gD(N,w.useCallback(H=>N.selectors.isTop(H,r),[N,r]));aQ(V,R,H=>{H.preventDefault(),I()}),LQ(V,k==null?void 0:k.defaultView,H=>{H.preventDefault(),H.stopPropagation(),document.activeElement&&"blur"in document.activeElement&&typeof document.activeElement.blur=="function"&&document.activeElement.blur(),I()}),mQ(c||O?!1:M,k,R),XJ(M,y,I);let[z,Y]=CJ(),G=w.useMemo(()=>[{dialogState:x,close:I,setTitleId:D,unmount:d},C],[x,C,I,D,d]),$=w.useMemo(()=>({open:x===0}),[x]),K={ref:S,id:r,role:a,tabIndex:-1,"aria-modal":c?void 0:x===0?!0:void 0,"aria-labelledby":C.titleId,"aria-describedby":z,unmount:d},X=!jQ(),le=Is.None;M&&!c&&(le|=Is.RestoreFocus,le|=Is.TabLock,l&&(le|=Is.AutoFocus),X&&(le|=Is.InitialFocus));let ne=Vn();return Z.createElement(CQ,null,Z.createElement(iT,{force:!0},Z.createElement(MQ,null,Z.createElement(n1.Provider,{value:G},Z.createElement(SD,{target:y},Z.createElement(iT,{force:!1},Z.createElement(Y,{slot:$},Z.createElement(b,null,Z.createElement(zQ,{initialFocus:o,initialFocusFallback:y,containers:R,features:le},Z.createElement(AJ,{value:I},ne({ourProps:K,theirProps:h,slot:$,defaultTag:sZ,features:oZ,visible:x===0,name:"Dialog"})))))))))))}),sZ="div",oZ=yf.RenderStrategy|yf.Static;function aZ(e,t){let{transition:n=!1,open:r,...i}=e,s=Lp(),o=e.hasOwnProperty("open")||s!==null,a=e.hasOwnProperty("onClose");if(!o&&!a)throw new Error("You have to provide an `open` and an `onClose` prop to the `Dialog` component.");if(!o)throw new Error("You provided an `onClose` prop to the `Dialog`, but forgot an `open` prop.");if(!a)throw new Error("You provided an `open` prop to the `Dialog`, but forgot an `onClose` prop.");if(!s&&typeof e.open!="boolean")throw new Error(`You provided an \`open\` prop to the \`Dialog\`, but the value is not a boolean. Received: ${e.open}`);if(typeof e.onClose!="function")throw new Error(`You provided an \`onClose\` prop to the \`Dialog\`, but the value is not a function. Received: ${e.onClose}`);return(r!==void 0||n)&&!i.static?Z.createElement(sT,null,Z.createElement(eZ,{show:r,transition:n,unmount:i.unmount},Z.createElement(oT,{ref:t,...i}))):Z.createElement(sT,null,Z.createElement(oT,{ref:t,open:r,...i}))}let lZ="div";function cZ(e,t){let n=w.useId(),{id:r=`headlessui-dialog-panel-${n}`,transition:i=!1,...s}=e,[{dialogState:o,unmount:a},l]=Vp("Dialog.Panel"),c=Or(t,l.panelRef),d=w.useMemo(()=>({open:o===0}),[o]),h=Te(k=>{k.stopPropagation()}),f={ref:c,id:r,onClick:h},g=i?t1:w.Fragment,y=i?{unmount:a}:{},S=Vn();return Z.createElement(g,{...y},S({ourProps:f,theirProps:s,slot:d,defaultTag:lZ,name:"Dialog.Panel"}))}let uZ="div";function dZ(e,t){let{transition:n=!1,...r}=e,[{dialogState:i,unmount:s}]=Vp("Dialog.Backdrop"),o=w.useMemo(()=>({open:i===0}),[i]),a={ref:t,"aria-hidden":!0},l=n?t1:w.Fragment,c=n?{unmount:s}:{},d=Vn();return Z.createElement(l,{...c},d({ourProps:a,theirProps:r,slot:o,defaultTag:uZ,name:"Dialog.Backdrop"}))}let hZ="h2";function fZ(e,t){let n=w.useId(),{id:r=`headlessui-dialog-title-${n}`,...i}=e,[{dialogState:s,setTitleId:o}]=Vp("Dialog.Title"),a=Or(t);w.useEffect(()=>(o(r),()=>o(null)),[r,o]);let l=w.useMemo(()=>({open:s===0}),[s]),c={ref:a,id:r};return Vn()({ourProps:c,theirProps:i,slot:l,defaultTag:hZ,name:"Dialog.Title"})}let pZ=un(aZ),mZ=un(cZ);un(dZ);let gZ=un(fZ),ua=Object.assign(pZ,{Panel:mZ,Title:gZ,Description:IJ});/**
 * @license lucide-react v0.523.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yZ=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),vZ=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,n,r)=>r?r.toUpperCase():n.toLowerCase()),aT=e=>{const t=vZ(e);return t.charAt(0).toUpperCase()+t.slice(1)},MD=(...e)=>e.filter((t,n,r)=>!!t&&t.trim()!==""&&r.indexOf(t)===n).join(" ").trim(),wZ=e=>{for(const t in e)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};/**
 * @license lucide-react v0.523.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var _Z={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.523.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xZ=w.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:i="",children:s,iconNode:o,...a},l)=>w.createElement("svg",{ref:l,..._Z,width:t,height:t,stroke:e,strokeWidth:r?Number(n)*24/Number(t):n,className:MD("lucide",i),...!s&&!wZ(a)&&{"aria-hidden":"true"},...a},[...o.map(([c,d])=>w.createElement(c,d)),...Array.isArray(s)?s:[s]]));/**
 * @license lucide-react v0.523.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EZ=(e,t)=>{const n=w.forwardRef(({className:r,...i},s)=>w.createElement(xZ,{ref:s,iconNode:t,className:MD(`lucide-${yZ(aT(e))}`,`lucide-${e}`,r),...i}));return n.displayName=aT(e),n};/**
 * @license lucide-react v0.523.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bZ=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],LD=EZ("x",bZ);function CZ({open:e,onClose:t,letra:n,genero:r,asignacionActual:i,todasLasAsignaciones:s,equiposYaAsignados:o={}}){const[a,l]=w.useState("");Object.values(Hc.plantillas[r]||{});const c=Object.keys(Hc.plantillas[r]||{});w.useEffect(()=>{l(i||"")},[i]);const d=async()=>{if(!a){alert("Seleccioná un equipo");return}try{const f=ie(se,`calendario/${r}/partidos/asignaciones`);await Ta(f,{[n]:a}),t()}catch(f){console.error("Error al guardar asignación:",f),alert("Hubo un problema al guardar. Intentalo de nuevo.")}},h=c.filter(f=>f===i||!Object.values(o).includes(f));return m.jsx(ua,{open:e,onClose:t,className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50",children:m.jsxs(ua.Panel,{className:"bg-white text-black rounded-2xl p-6 w-full max-w-md shadow-xl relative",children:[m.jsx("button",{onClick:t,className:"absolute top-2 right-2 text-gray-600 hover:text-gray-800",children:m.jsx(LD,{size:20})}),m.jsxs(ua.Title,{className:"text-xl font-semibold text-center mb-4",children:["Asignar equipo a la letra ",n]}),m.jsxs("div",{className:"mb-6",children:[m.jsx("label",{className:"block font-medium mb-2",children:"Equipo:"}),m.jsxs("select",{value:a,onChange:f=>l(f.target.value),className:"w-full border border-gray-300 rounded px-3 py-2",children:[m.jsx("option",{value:"",children:"Seleccionar equipo"}),h.map(f=>m.jsx("option",{value:f,children:f},f))]})]}),m.jsx("button",{onClick:d,className:"w-full bg-yellow-400 text-black font-bold py-2 rounded hover:bg-yellow-300",children:"Guardar"})]})})}function SZ({partido:e,asignaciones:t,plantillas:n,equiposInfo:r}){const i=d=>{if(t&&t[d])return t[d];const h=d.match(/^(\d)(er|do|to) Lugar$/);if(h&&r){const f=parseInt(h[1]),g=Object.entries(r).sort((y,S)=>S[1].puntos-y[1].puntos);if(g[f-1])return g[f-1][0]}return d},s=d=>{var f,g;if((f=n[d])!=null&&f.logo)return n[d].logo;const h=Object.entries(n).find(([y])=>y.toLowerCase().includes(d.toLowerCase()));return/ganador|perdedor|finalista/i.test(d)?"logo-empro.png":((g=h==null?void 0:h[1])==null?void 0:g.logo)||"logo-empro.png"},o=i(e.equipo1),a=i(e.equipo2),l=`/EmproChampions-2025/img/escudos/${s(o)}`,c=`/EmproChampions-2025/img/escudos/${s(a)}`;return m.jsxs("div",{className:"bg-black/50 rounded-xl p-4 flex flex-col items-center shadow-lg border border-white/10 h-full",children:[m.jsxs("div",{className:"text-center text-xs text-yellow-300 mb-3 font-semibold tracking-wider",children:[m.jsx("span",{children:e.fecha}),e.cancha&&m.jsx("span",{className:"mx-2 text-gray-500",children:"|"}),e.cancha&&m.jsxs("span",{children:["CANCHA ",e.cancha]}),e.nombre&&m.jsx("span",{className:"mx-2 text-gray-500",children:"|"}),e.nombre&&m.jsx("span",{className:"text-red-400 font-bold",children:e.nombre.toUpperCase()})]}),m.jsxs("div",{className:"flex justify-between items-center w-full px-2",children:[m.jsxs("div",{className:"flex flex-col items-center text-center w-2/5",children:[m.jsx("img",{src:l,alt:`Logo ${o}`,className:"h-14 w-14 md:h-16 md:w-16 object-contain mb-2"}),m.jsx("span",{className:"font-bold text-sm text-white",children:o})]}),m.jsx("span",{className:"text-2xl font-bold text-gray-400",children:"VS"}),m.jsxs("div",{className:"flex flex-col items-center text-center w-2/5",children:[m.jsx("img",{src:c,alt:`Logo ${a}`,className:"h-14 w-14 md:h-16 md:w-16 object-contain mb-2"}),m.jsx("span",{className:"font-bold text-sm text-white",children:a})]})]})]})}function TZ({open:e,onClose:t,genero:n}){const[r,i]=w.useState([]),[s,o]=w.useState(""),[a,l]=w.useState(""),[c,d]=w.useState(""),[h,f]=w.useState("");w.useEffect(()=>{if(!n)return;(async()=>{try{const S=ie(se,`calendario/${n}/partidos/semifinales`),k=await Nn(S);if(k.exists()){const x=k.val(),C=Object.values(x).flatMap(E=>[E.equipo1,E.equipo2]).filter(Boolean);i(C)}else i([])}catch(S){console.error("Error cargando semifinalistas:",S),i([])}})()},[n]);const g=async()=>{if(!s||!a||!c||!h){alert("Seleccioná los 4 equipos.");return}try{const y=ie(se,`calendario/${n}/finales`);await Ta(y,{final1:{equipo1:s,equipo2:a},tercerLugar:{equipo1:c,equipo2:h}}),alert("Finales guardadas con éxito."),t()}catch(y){console.error("Error al guardar finales:",y),alert("Error al guardar.")}};return m.jsx(ua,{open:e,onClose:t,className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50",children:m.jsxs(ua.Panel,{className:"bg-white text-black rounded-2xl p-6 w-full max-w-md shadow-xl relative",children:[m.jsx("button",{onClick:t,className:"absolute top-2 right-2 text-gray-600 hover:text-gray-800",children:m.jsx(LD,{size:20})}),m.jsx(ua.Title,{className:"text-xl font-semibold text-center mb-4",children:"Seleccionar Finalistas"}),m.jsxs("div",{className:"mb-4",children:[m.jsx("label",{className:"block font-bold mb-1",children:"Gran Final:"}),m.jsxs("select",{value:s,onChange:y=>o(y.target.value),className:"w-full border px-3 py-2 rounded mb-2",children:[m.jsx("option",{value:"",children:"Seleccionar equipo"}),r.map(y=>m.jsx("option",{value:y,children:y},y))]}),m.jsxs("select",{value:a,onChange:y=>l(y.target.value),className:"w-full border px-3 py-2 rounded",children:[m.jsx("option",{value:"",children:"Seleccionar equipo"}),r.map(y=>m.jsx("option",{value:y,children:y},y))]})]}),m.jsxs("div",{className:"mb-4",children:[m.jsx("label",{className:"block font-bold mb-1",children:"Tercer Lugar:"}),m.jsxs("select",{value:c,onChange:y=>d(y.target.value),className:"w-full border px-3 py-2 rounded mb-2",children:[m.jsx("option",{value:"",children:"Seleccionar equipo"}),r.map(y=>m.jsx("option",{value:y,children:y},y))]}),m.jsxs("select",{value:h,onChange:y=>f(y.target.value),className:"w-full border px-3 py-2 rounded",children:[m.jsx("option",{value:"",children:"Seleccionar equipo"}),r.map(y=>m.jsx("option",{value:y,children:y},y))]})]}),m.jsx("button",{onClick:g,className:"w-full bg-red-600 text-white font-bold py-2 rounded hover:bg-red-500",children:"Guardar Final"})]})})}const kZ=e=>e.startsWith("jornada")?`JORNADA ${e.replace("jornada","")}`:e.startsWith("semifinales")?"SEMIFINALES":e.startsWith("finales")?"FINALES":e.toUpperCase();function IZ(){const{user:e,rol:t}=fo(),[n,r]=w.useState("masculino"),[i,s]=w.useState({calendario:null,equiposInfo:{}}),[o,a]=w.useState(!1),[l,c]=w.useState({letra:"",asignacionActual:""}),[d,h]=w.useState(!1),[f,g]=w.useState(!1);w.useEffect(()=>{const I=ie(se,`calendario/${n}`),D=ie(se,`tablas/${n}`),M=Zr(I,async b=>{if(!b.exists()&&!f){const P=Hc.calendario[n];P&&(await ft(ie(se,`calendario/${n}`),{asignaciones:{},partidos:P}),g(!0))}s(P=>({...P,calendario:b.exists()?b.val():null}))}),T=Zr(D,b=>{s(P=>({...P,equiposInfo:b.exists()?b.val():{}}))});return()=>{Wc(I,"value",M),Wc(D,"value",T)}},[n]);const y=(I,D)=>{c({letra:I,asignacionActual:D}),a(!0)},S=i.calendario||{},k=S.asignaciones||{},x=S.partidos||{},C=Hc.plantillas[n]||{},E=i.equiposInfo||{};return[...new Set(((x==null?void 0:x.semifinales)||[]).flatMap(I=>[I.equipo1,I.equipo2]).map(I=>k[I]||I).filter(I=>I&&!I.toLowerCase().includes("lugar")&&I!=="undefined"))],m.jsxs("div",{className:"w-full min-h-screen bg-main-background text-white font-qatar flex flex-col",children:[m.jsx(kr,{}),m.jsxs("div",{className:"container mx-auto px-4 py-8 flex-grow",children:[m.jsx("h1",{className:"text-4xl md:text-5xl font-bold text-center text-yellow-400 drop-shadow-lg mb-6",children:"Calendario de Partidos"}),m.jsxs("div",{className:"flex justify-center mb-8 bg-black/30 rounded-full p-1 max-w-sm mx-auto",children:[m.jsx("button",{onClick:()=>r("masculino"),className:`w-1/2 py-2 rounded-full font-bold transition-colors ${n==="masculino"?"bg-yellow-400 text-black":"hover:bg-white/10"}`,children:"Masculino"}),m.jsx("button",{onClick:()=>r("femenino"),className:`w-1/2 py-2 rounded-full font-bold transition-colors ${n==="femenino"?"bg-yellow-400 text-black":"hover:bg-white/10"}`,children:"Femenino"})]}),m.jsx("div",{className:"flex flex-wrap justify-center gap-4 mb-8",children:Object.entries(k).map(([I,D])=>m.jsxs("div",{className:"bg-white text-black px-4 py-2 rounded-xl shadow-md font-bold flex items-center gap-2",children:[m.jsxs("span",{className:"text-red-600",children:[I,":"]}),m.jsx("span",{children:D||`Equipo ${I}`}),(t==="admin"||t==="superadmin")&&m.jsx("button",{onClick:()=>y(I,D),className:"text-blue-600 hover:underline text-sm",children:"Editar"})]},I))}),!x||Object.keys(x).length===0?m.jsx("p",{className:"text-center",children:"Cargando..."}):m.jsx("div",{className:"max-w-4xl mx-auto",children:m.jsx("div",{className:"space-y-8",children:Object.entries(x).map(([I,D])=>m.jsxs("div",{children:[m.jsxs("div",{className:"flex justify-between items-center mb-4 border-b-2 border-yellow-400/20 pb-2",children:[m.jsx("h2",{className:"text-2xl font-bold text-yellow-300",children:kZ(I)}),t==="admin"&&I==="finales"&&m.jsx("button",{onClick:()=>h(!0),className:"bg-red-600 text-white font-bold px-3 py-1 rounded-lg text-sm hover:bg-red-500",children:"Seleccionar Finalistas"}),t==="admin"&&I==="semifinales"&&m.jsx("button",{onClick:async()=>{const M=Object.entries(E).sort(([,O],[,N])=>N.puntos-O.puntos).slice(0,4);if(M.length<4){alert("Se necesitan al menos 4 equipos para generar las semifinales.");return}const[T,b,P,v]=M.map(([O])=>O),R=ie(se,`calendario/${n}/partidos/semifinales`);await ft(R,[{cancha:"1",equipo1:T,equipo2:v,fecha:"Domingo 29 Jun - 03:00 PM"},{cancha:"2",equipo1:b,equipo2:P,fecha:"Domingo 29 Jun - 03:00 PM"}]),alert("Semifinales generadas correctamente.")},className:"bg-green-600 text-white font-bold px-3 py-1 rounded-lg text-sm hover:bg-green-500",children:"Generar Semifinales"})]}),m.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:Array.isArray(D)&&D.length>0?D.map((M,T)=>m.jsx(SZ,{partido:M,asignaciones:k,plantillas:C,equiposInfo:E},T)):m.jsx("p",{className:"col-span-full text-center text-sm text-gray-400",children:"No hay partidos disponibles."})})]},I))})})]}),m.jsx(Ir,{}),m.jsx(CZ,{open:o,onClose:()=>a(!1),letra:l.letra,genero:n,asignacionActual:l.asignacionActual,todasLasAsignaciones:k,equiposYaAsignados:k}),m.jsx(TZ,{open:d,onClose:()=>h(!1),genero:n})]})}function Ao({children:e}){const{user:t,loading:n}=fo();return n?m.jsx("div",{children:"Cargando aplicación..."}):t?e:m.jsx(_y,{to:"/login",replace:!0})}function Rd({children:e}){const{user:t,rol:n,loading:r}=fo();return r?m.jsx("div",{children:"Cargando aplicación..."}):t?n!=="admin"&&n!=="superadmin"?m.jsx(_y,{to:"/",replace:!0}):e:m.jsx(_y,{to:"/login",replace:!0})}function PZ(){const[e,t]=w.useState(!1),[n,r]=w.useState({title:"",body:""});return w.useEffect(()=>{KB()},[]),w.useEffect(()=>{(async()=>{try{if(await Notification.requestPermission()==="granted"){const l=Py(no),c=await S3(l,{vapidKey:"BGq64U5eNzfqCtAtHTqnz9mh2oaeLpOZiJHMMama_1L9h_K1I9qScieLNbW8uHvEnRFlNVR2ZSBqAc61dtaW0Mc"});c?console.log("FCM Token:",c):console.log("No registration token available.")}}catch(a){console.error("Error al pedir permiso de notificación:",a)}})();const s=Py(no),o=T3(s,a=>{r({title:a.notification.title,body:a.notification.body}),t(!0)});return()=>o()},[]),m.jsx(GB,{children:m.jsxs(dj,{basename:"/EmproChampions-2025",children:[e&&m.jsx(OA,{title:n.title,body:n.body,onClose:()=>t(!1)}),m.jsxs(VL,{children:[m.jsx(Jt,{path:"/login",element:m.jsx(YB,{})}),m.jsx(Jt,{path:"/registro",element:m.jsx(XB,{})}),m.jsx(Jt,{path:"/",element:m.jsx(Ao,{children:m.jsx(ZB,{})})}),m.jsx(Jt,{path:"/partido/configurar",element:m.jsx(Rd,{children:m.jsx(Yb,{})})}),m.jsx(Jt,{path:"/partido/alineacion",element:m.jsx(Rd,{children:m.jsx(oq,{})})}),m.jsx(Jt,{path:"/control-partido/:partidoId",element:m.jsx(Rd,{children:m.jsx(l8,{})})}),m.jsx(Jt,{path:"/match/:partidoId",element:m.jsx(Ao,{children:m.jsx(Yb,{modo:"ver"})})}),m.jsx(Jt,{path:"/goleadores",element:m.jsx(Ao,{children:m.jsx(c8,{})})}),m.jsx(Jt,{path:"/historial",element:m.jsx(Ao,{children:m.jsx(d8,{})})}),m.jsx(Jt,{path:"/configuracion",element:m.jsx(Ao,{children:m.jsx(eJ,{})})}),m.jsx(Jt,{path:"/partido/editar/:partidoId",element:m.jsx(Rd,{children:m.jsx(tJ,{})})}),m.jsx(Jt,{path:"/calendario",element:m.jsx(Ao,{children:m.jsx(IZ,{})})}),m.jsx(Jt,{path:"*",element:m.jsx("div",{children:"Página no encontrada"})})]})]})})}const vs=sessionStorage.getItem("redirect");sessionStorage.removeItem("redirect");if(vs&&vs!==window.location.pathname.replace("/EmproChampions-2025","")){let e=vs;const t="/EmproChampions-2025";vs.startsWith(t)?(e=vs.substring(t.length),e.startsWith("/")||(e="/"+e)):vs.startsWith("/")||(e="/"+vs),e!==window.location.pathname.replace(t,"")&&(window.history.replaceState(null,null,t+(e==="/"?"":e)),console.log("Redirecting to:",t+(e==="/"?"":e)))}Tg.createRoot(document.getElementById("root")).render(m.jsx(Z.StrictMode,{children:m.jsx(PZ,{})}));if("serviceWorker"in navigator){const e="/EmproChampions-2025/firebase-messaging-sw.js";navigator.serviceWorker.register(e,{scope:"/EmproChampions-2025/"}).then(t=>{console.log("Service Worker registrado:",t,"con ruta:",e,"y scope:",t.scope)}).catch(t=>{console.error("Fallo el registro del Service Worker:",t,"con ruta:",e)})}
