function n2(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();function My(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var LS={exports:{}},Rh={},jS={exports:{}},oe={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xc=Symbol.for("react.element"),r2=Symbol.for("react.portal"),i2=Symbol.for("react.fragment"),s2=Symbol.for("react.strict_mode"),o2=Symbol.for("react.profiler"),a2=Symbol.for("react.provider"),l2=Symbol.for("react.context"),c2=Symbol.for("react.forward_ref"),u2=Symbol.for("react.suspense"),d2=Symbol.for("react.memo"),h2=Symbol.for("react.lazy"),Uw=Symbol.iterator;function f2(t){return t===null||typeof t!="object"?null:(t=Uw&&t[Uw]||t["@@iterator"],typeof t=="function"?t:null)}var FS={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},$S=Object.assign,US={};function ia(t,e,n){this.props=t,this.context=e,this.refs=US,this.updater=n||FS}ia.prototype.isReactComponent={};ia.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};ia.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function VS(){}VS.prototype=ia.prototype;function Ly(t,e,n){this.props=t,this.context=e,this.refs=US,this.updater=n||FS}var jy=Ly.prototype=new VS;jy.constructor=Ly;$S(jy,ia.prototype);jy.isPureReactComponent=!0;var Vw=Array.isArray,BS=Object.prototype.hasOwnProperty,Fy={current:null},zS={key:!0,ref:!0,__self:!0,__source:!0};function WS(t,e,n){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)BS.call(e,r)&&!zS.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];i.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:xc,type:t,key:s,ref:o,props:i,_owner:Fy.current}}function p2(t,e){return{$$typeof:xc,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function $y(t){return typeof t=="object"&&t!==null&&t.$$typeof===xc}function m2(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var Bw=/\/+/g;function up(t,e){return typeof t=="object"&&t!==null&&t.key!=null?m2(""+t.key):e.toString(36)}function Ku(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case xc:case r2:o=!0}}if(o)return o=t,i=i(o),t=r===""?"."+up(o,0):r,Vw(i)?(n="",t!=null&&(n=t.replace(Bw,"$&/")+"/"),Ku(i,e,n,"",function(c){return c})):i!=null&&($y(i)&&(i=p2(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(Bw,"$&/")+"/")+t)),e.push(i)),1;if(o=0,r=r===""?".":r+":",Vw(t))for(var a=0;a<t.length;a++){s=t[a];var l=r+up(s,a);o+=Ku(s,e,n,l,i)}else if(l=f2(t),typeof l=="function")for(t=l.call(t),a=0;!(s=t.next()).done;)s=s.value,l=r+up(s,a++),o+=Ku(s,e,n,l,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function fu(t,e,n){if(t==null)return t;var r=[],i=0;return Ku(t,r,"","",function(s){return e.call(n,s,i++)}),r}function g2(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Vt={current:null},qu={transition:null},y2={ReactCurrentDispatcher:Vt,ReactCurrentBatchConfig:qu,ReactCurrentOwner:Fy};function HS(){throw Error("act(...) is not supported in production builds of React.")}oe.Children={map:fu,forEach:function(t,e,n){fu(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return fu(t,function(){e++}),e},toArray:function(t){return fu(t,function(e){return e})||[]},only:function(t){if(!$y(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};oe.Component=ia;oe.Fragment=i2;oe.Profiler=o2;oe.PureComponent=Ly;oe.StrictMode=s2;oe.Suspense=u2;oe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=y2;oe.act=HS;oe.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=$S({},t.props),i=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=Fy.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)BS.call(e,l)&&!zS.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];r.children=a}return{$$typeof:xc,type:t.type,key:i,ref:s,props:r,_owner:o}};oe.createContext=function(t){return t={$$typeof:l2,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:a2,_context:t},t.Consumer=t};oe.createElement=WS;oe.createFactory=function(t){var e=WS.bind(null,t);return e.type=t,e};oe.createRef=function(){return{current:null}};oe.forwardRef=function(t){return{$$typeof:c2,render:t}};oe.isValidElement=$y;oe.lazy=function(t){return{$$typeof:h2,_payload:{_status:-1,_result:t},_init:g2}};oe.memo=function(t,e){return{$$typeof:d2,type:t,compare:e===void 0?null:e}};oe.startTransition=function(t){var e=qu.transition;qu.transition={};try{t()}finally{qu.transition=e}};oe.unstable_act=HS;oe.useCallback=function(t,e){return Vt.current.useCallback(t,e)};oe.useContext=function(t){return Vt.current.useContext(t)};oe.useDebugValue=function(){};oe.useDeferredValue=function(t){return Vt.current.useDeferredValue(t)};oe.useEffect=function(t,e){return Vt.current.useEffect(t,e)};oe.useId=function(){return Vt.current.useId()};oe.useImperativeHandle=function(t,e,n){return Vt.current.useImperativeHandle(t,e,n)};oe.useInsertionEffect=function(t,e){return Vt.current.useInsertionEffect(t,e)};oe.useLayoutEffect=function(t,e){return Vt.current.useLayoutEffect(t,e)};oe.useMemo=function(t,e){return Vt.current.useMemo(t,e)};oe.useReducer=function(t,e,n){return Vt.current.useReducer(t,e,n)};oe.useRef=function(t){return Vt.current.useRef(t)};oe.useState=function(t){return Vt.current.useState(t)};oe.useSyncExternalStore=function(t,e,n){return Vt.current.useSyncExternalStore(t,e,n)};oe.useTransition=function(){return Vt.current.useTransition()};oe.version="18.3.1";jS.exports=oe;var k=jS.exports;const ss=My(k),zw=n2({__proto__:null,default:ss},[k]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var v2=k,_2=Symbol.for("react.element"),w2=Symbol.for("react.fragment"),x2=Object.prototype.hasOwnProperty,E2=v2.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,C2={key:!0,ref:!0,__self:!0,__source:!0};function GS(t,e,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)x2.call(e,r)&&!C2.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:_2,type:t,key:s,ref:o,props:i,_owner:E2.current}}Rh.Fragment=w2;Rh.jsx=GS;Rh.jsxs=GS;LS.exports=Rh;var _=LS.exports,bm={},KS={exports:{}},un={},qS={exports:{}},YS={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(V,Y){var Q=V.length;V.push(Y);e:for(;0<Q;){var ve=Q-1>>>1,H=V[ve];if(0<i(H,Y))V[ve]=Y,V[Q]=H,Q=ve;else break e}}function n(V){return V.length===0?null:V[0]}function r(V){if(V.length===0)return null;var Y=V[0],Q=V.pop();if(Q!==Y){V[0]=Q;e:for(var ve=0,H=V.length,K=H>>>1;ve<K;){var ie=2*(ve+1)-1,ae=V[ie],Se=ie+1,be=V[Se];if(0>i(ae,Q))Se<H&&0>i(be,ae)?(V[ve]=be,V[Se]=Q,ve=Se):(V[ve]=ae,V[ie]=Q,ve=ie);else if(Se<H&&0>i(be,Q))V[ve]=be,V[Se]=Q,ve=Se;else break e}}return Y}function i(V,Y){var Q=V.sortIndex-Y.sortIndex;return Q!==0?Q:V.id-Y.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],c=[],d=1,h=null,f=3,y=!1,v=!1,b=!1,P=typeof setTimeout=="function"?setTimeout:null,w=typeof clearTimeout=="function"?clearTimeout:null,C=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function x(V){for(var Y=n(c);Y!==null;){if(Y.callback===null)r(c);else if(Y.startTime<=V)r(c),Y.sortIndex=Y.expirationTime,e(l,Y);else break;Y=n(c)}}function A(V){if(b=!1,x(V),!v)if(n(l)!==null)v=!0,X(D);else{var Y=n(c);Y!==null&&te(A,Y.startTime-V)}}function D(V,Y){v=!1,b&&(b=!1,w(E),E=-1),y=!0;var Q=f;try{for(x(Y),h=n(l);h!==null&&(!(h.expirationTime>Y)||V&&!R());){var ve=h.callback;if(typeof ve=="function"){h.callback=null,f=h.priorityLevel;var H=ve(h.expirationTime<=Y);Y=t.unstable_now(),typeof H=="function"?h.callback=H:h===n(l)&&r(l),x(Y)}else r(l);h=n(l)}if(h!==null)var K=!0;else{var ie=n(c);ie!==null&&te(A,ie.startTime-Y),K=!1}return K}finally{h=null,f=Q,y=!1}}var M=!1,S=null,E=-1,I=5,m=-1;function R(){return!(t.unstable_now()-m<I)}function O(){if(S!==null){var V=t.unstable_now();m=V;var Y=!0;try{Y=S(!0,V)}finally{Y?N():(M=!1,S=null)}}else M=!1}var N;if(typeof C=="function")N=function(){C(O)};else if(typeof MessageChannel<"u"){var W=new MessageChannel,z=W.port2;W.port1.onmessage=O,N=function(){z.postMessage(null)}}else N=function(){P(O,0)};function X(V){S=V,M||(M=!0,N())}function te(V,Y){E=P(function(){V(t.unstable_now())},Y)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(V){V.callback=null},t.unstable_continueExecution=function(){v||y||(v=!0,X(D))},t.unstable_forceFrameRate=function(V){0>V||125<V?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<V?Math.floor(1e3/V):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(V){switch(f){case 1:case 2:case 3:var Y=3;break;default:Y=f}var Q=f;f=Y;try{return V()}finally{f=Q}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(V,Y){switch(V){case 1:case 2:case 3:case 4:case 5:break;default:V=3}var Q=f;f=V;try{return Y()}finally{f=Q}},t.unstable_scheduleCallback=function(V,Y,Q){var ve=t.unstable_now();switch(typeof Q=="object"&&Q!==null?(Q=Q.delay,Q=typeof Q=="number"&&0<Q?ve+Q:ve):Q=ve,V){case 1:var H=-1;break;case 2:H=250;break;case 5:H=1073741823;break;case 4:H=1e4;break;default:H=5e3}return H=Q+H,V={id:d++,callback:Y,priorityLevel:V,startTime:Q,expirationTime:H,sortIndex:-1},Q>ve?(V.sortIndex=Q,e(c,V),n(l)===null&&V===n(c)&&(b?(w(E),E=-1):b=!0,te(A,Q-ve))):(V.sortIndex=H,e(l,V),v||y||(v=!0,X(D))),V},t.unstable_shouldYield=R,t.unstable_wrapCallback=function(V){var Y=f;return function(){var Q=f;f=Y;try{return V.apply(this,arguments)}finally{f=Q}}}})(YS);qS.exports=YS;var S2=qS.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var b2=k,ln=S2;function $(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var XS=new Set,Dl={};function Ms(t,e){Mo(t,e),Mo(t+"Capture",e)}function Mo(t,e){for(Dl[t]=e,t=0;t<e.length;t++)XS.add(e[t])}var jr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Tm=Object.prototype.hasOwnProperty,T2=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Ww={},Hw={};function k2(t){return Tm.call(Hw,t)?!0:Tm.call(Ww,t)?!1:T2.test(t)?Hw[t]=!0:(Ww[t]=!0,!1)}function I2(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function P2(t,e,n,r){if(e===null||typeof e>"u"||I2(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Bt(t,e,n,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var gt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){gt[t]=new Bt(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];gt[e]=new Bt(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){gt[t]=new Bt(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){gt[t]=new Bt(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){gt[t]=new Bt(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){gt[t]=new Bt(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){gt[t]=new Bt(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){gt[t]=new Bt(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){gt[t]=new Bt(t,5,!1,t.toLowerCase(),null,!1,!1)});var Uy=/[\-:]([a-z])/g;function Vy(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Uy,Vy);gt[e]=new Bt(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Uy,Vy);gt[e]=new Bt(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Uy,Vy);gt[e]=new Bt(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){gt[t]=new Bt(t,1,!1,t.toLowerCase(),null,!1,!1)});gt.xlinkHref=new Bt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){gt[t]=new Bt(t,1,!1,t.toLowerCase(),null,!0,!0)});function By(t,e,n,r){var i=gt.hasOwnProperty(e)?gt[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(P2(e,n,i,r)&&(n=null),r||i===null?k2(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var qr=b2.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,pu=Symbol.for("react.element"),no=Symbol.for("react.portal"),ro=Symbol.for("react.fragment"),zy=Symbol.for("react.strict_mode"),km=Symbol.for("react.profiler"),QS=Symbol.for("react.provider"),JS=Symbol.for("react.context"),Wy=Symbol.for("react.forward_ref"),Im=Symbol.for("react.suspense"),Pm=Symbol.for("react.suspense_list"),Hy=Symbol.for("react.memo"),ii=Symbol.for("react.lazy"),ZS=Symbol.for("react.offscreen"),Gw=Symbol.iterator;function Da(t){return t===null||typeof t!="object"?null:(t=Gw&&t[Gw]||t["@@iterator"],typeof t=="function"?t:null)}var Ue=Object.assign,dp;function Ja(t){if(dp===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);dp=e&&e[1]||""}return`
`+dp+t}var hp=!1;function fp(t,e){if(!t||hp)return"";hp=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var r=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){r=c}t.call(e.prototype)}else{try{throw Error()}catch(c){r=c}t()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var i=c.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var l=`
`+i[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{hp=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Ja(t):""}function R2(t){switch(t.tag){case 5:return Ja(t.type);case 16:return Ja("Lazy");case 13:return Ja("Suspense");case 19:return Ja("SuspenseList");case 0:case 2:case 15:return t=fp(t.type,!1),t;case 11:return t=fp(t.type.render,!1),t;case 1:return t=fp(t.type,!0),t;default:return""}}function Rm(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case ro:return"Fragment";case no:return"Portal";case km:return"Profiler";case zy:return"StrictMode";case Im:return"Suspense";case Pm:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case JS:return(t.displayName||"Context")+".Consumer";case QS:return(t._context.displayName||"Context")+".Provider";case Wy:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Hy:return e=t.displayName||null,e!==null?e:Rm(t.type)||"Memo";case ii:e=t._payload,t=t._init;try{return Rm(t(e))}catch{}}return null}function A2(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Rm(e);case 8:return e===zy?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function bi(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function eb(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function N2(t){var e=eb(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function mu(t){t._valueTracker||(t._valueTracker=N2(t))}function tb(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=eb(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Cd(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Am(t,e){var n=e.checked;return Ue({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function Kw(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=bi(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function nb(t,e){e=e.checked,e!=null&&By(t,"checked",e,!1)}function Nm(t,e){nb(t,e);var n=bi(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Dm(t,e.type,n):e.hasOwnProperty("defaultValue")&&Dm(t,e.type,bi(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function qw(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Dm(t,e,n){(e!=="number"||Cd(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Za=Array.isArray;function xo(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+bi(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function Om(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error($(91));return Ue({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Yw(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error($(92));if(Za(n)){if(1<n.length)throw Error($(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:bi(n)}}function rb(t,e){var n=bi(e.value),r=bi(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function Xw(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function ib(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Mm(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?ib(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var gu,sb=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(gu=gu||document.createElement("div"),gu.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=gu.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Ol(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var cl={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},D2=["Webkit","ms","Moz","O"];Object.keys(cl).forEach(function(t){D2.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),cl[e]=cl[t]})});function ob(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||cl.hasOwnProperty(t)&&cl[t]?(""+e).trim():e+"px"}function ab(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=ob(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var O2=Ue({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Lm(t,e){if(e){if(O2[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error($(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error($(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error($(61))}if(e.style!=null&&typeof e.style!="object")throw Error($(62))}}function jm(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Fm=null;function Gy(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var $m=null,Eo=null,Co=null;function Qw(t){if(t=Sc(t)){if(typeof $m!="function")throw Error($(280));var e=t.stateNode;e&&(e=Mh(e),$m(t.stateNode,t.type,e))}}function lb(t){Eo?Co?Co.push(t):Co=[t]:Eo=t}function cb(){if(Eo){var t=Eo,e=Co;if(Co=Eo=null,Qw(t),e)for(t=0;t<e.length;t++)Qw(e[t])}}function ub(t,e){return t(e)}function db(){}var pp=!1;function hb(t,e,n){if(pp)return t(e,n);pp=!0;try{return ub(t,e,n)}finally{pp=!1,(Eo!==null||Co!==null)&&(db(),cb())}}function Ml(t,e){var n=t.stateNode;if(n===null)return null;var r=Mh(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error($(231,e,typeof n));return n}var Um=!1;if(jr)try{var Oa={};Object.defineProperty(Oa,"passive",{get:function(){Um=!0}}),window.addEventListener("test",Oa,Oa),window.removeEventListener("test",Oa,Oa)}catch{Um=!1}function M2(t,e,n,r,i,s,o,a,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(d){this.onError(d)}}var ul=!1,Sd=null,bd=!1,Vm=null,L2={onError:function(t){ul=!0,Sd=t}};function j2(t,e,n,r,i,s,o,a,l){ul=!1,Sd=null,M2.apply(L2,arguments)}function F2(t,e,n,r,i,s,o,a,l){if(j2.apply(this,arguments),ul){if(ul){var c=Sd;ul=!1,Sd=null}else throw Error($(198));bd||(bd=!0,Vm=c)}}function Ls(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function fb(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Jw(t){if(Ls(t)!==t)throw Error($(188))}function $2(t){var e=t.alternate;if(!e){if(e=Ls(t),e===null)throw Error($(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return Jw(i),t;if(s===r)return Jw(i),e;s=s.sibling}throw Error($(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o)throw Error($(189))}}if(n.alternate!==r)throw Error($(190))}if(n.tag!==3)throw Error($(188));return n.stateNode.current===n?t:e}function pb(t){return t=$2(t),t!==null?mb(t):null}function mb(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=mb(t);if(e!==null)return e;t=t.sibling}return null}var gb=ln.unstable_scheduleCallback,Zw=ln.unstable_cancelCallback,U2=ln.unstable_shouldYield,V2=ln.unstable_requestPaint,Ye=ln.unstable_now,B2=ln.unstable_getCurrentPriorityLevel,Ky=ln.unstable_ImmediatePriority,yb=ln.unstable_UserBlockingPriority,Td=ln.unstable_NormalPriority,z2=ln.unstable_LowPriority,vb=ln.unstable_IdlePriority,Ah=null,ar=null;function W2(t){if(ar&&typeof ar.onCommitFiberRoot=="function")try{ar.onCommitFiberRoot(Ah,t,void 0,(t.current.flags&128)===128)}catch{}}var zn=Math.clz32?Math.clz32:K2,H2=Math.log,G2=Math.LN2;function K2(t){return t>>>=0,t===0?32:31-(H2(t)/G2|0)|0}var yu=64,vu=4194304;function el(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function kd(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~i;a!==0?r=el(a):(s&=o,s!==0&&(r=el(s)))}else o=n&~i,o!==0?r=el(o):s!==0&&(r=el(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-zn(e),i=1<<n,r|=t[n],e&=~i;return r}function q2(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Y2(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-zn(s),a=1<<o,l=i[o];l===-1?(!(a&n)||a&r)&&(i[o]=q2(a,e)):l<=e&&(t.expiredLanes|=a),s&=~a}}function Bm(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function _b(){var t=yu;return yu<<=1,!(yu&4194240)&&(yu=64),t}function mp(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Ec(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-zn(e),t[e]=n}function X2(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-zn(n),s=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~s}}function qy(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-zn(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var ye=0;function wb(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var xb,Yy,Eb,Cb,Sb,zm=!1,_u=[],pi=null,mi=null,gi=null,Ll=new Map,jl=new Map,oi=[],Q2="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function ex(t,e){switch(t){case"focusin":case"focusout":pi=null;break;case"dragenter":case"dragleave":mi=null;break;case"mouseover":case"mouseout":gi=null;break;case"pointerover":case"pointerout":Ll.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":jl.delete(e.pointerId)}}function Ma(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=Sc(e),e!==null&&Yy(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function J2(t,e,n,r,i){switch(e){case"focusin":return pi=Ma(pi,t,e,n,r,i),!0;case"dragenter":return mi=Ma(mi,t,e,n,r,i),!0;case"mouseover":return gi=Ma(gi,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return Ll.set(s,Ma(Ll.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,jl.set(s,Ma(jl.get(s)||null,t,e,n,r,i)),!0}return!1}function bb(t){var e=os(t.target);if(e!==null){var n=Ls(e);if(n!==null){if(e=n.tag,e===13){if(e=fb(n),e!==null){t.blockedOn=e,Sb(t.priority,function(){Eb(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Yu(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Wm(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Fm=r,n.target.dispatchEvent(r),Fm=null}else return e=Sc(n),e!==null&&Yy(e),t.blockedOn=n,!1;e.shift()}return!0}function tx(t,e,n){Yu(t)&&n.delete(e)}function Z2(){zm=!1,pi!==null&&Yu(pi)&&(pi=null),mi!==null&&Yu(mi)&&(mi=null),gi!==null&&Yu(gi)&&(gi=null),Ll.forEach(tx),jl.forEach(tx)}function La(t,e){t.blockedOn===e&&(t.blockedOn=null,zm||(zm=!0,ln.unstable_scheduleCallback(ln.unstable_NormalPriority,Z2)))}function Fl(t){function e(i){return La(i,t)}if(0<_u.length){La(_u[0],t);for(var n=1;n<_u.length;n++){var r=_u[n];r.blockedOn===t&&(r.blockedOn=null)}}for(pi!==null&&La(pi,t),mi!==null&&La(mi,t),gi!==null&&La(gi,t),Ll.forEach(e),jl.forEach(e),n=0;n<oi.length;n++)r=oi[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<oi.length&&(n=oi[0],n.blockedOn===null);)bb(n),n.blockedOn===null&&oi.shift()}var So=qr.ReactCurrentBatchConfig,Id=!0;function eD(t,e,n,r){var i=ye,s=So.transition;So.transition=null;try{ye=1,Xy(t,e,n,r)}finally{ye=i,So.transition=s}}function tD(t,e,n,r){var i=ye,s=So.transition;So.transition=null;try{ye=4,Xy(t,e,n,r)}finally{ye=i,So.transition=s}}function Xy(t,e,n,r){if(Id){var i=Wm(t,e,n,r);if(i===null)bp(t,e,r,Pd,n),ex(t,r);else if(J2(i,t,e,n,r))r.stopPropagation();else if(ex(t,r),e&4&&-1<Q2.indexOf(t)){for(;i!==null;){var s=Sc(i);if(s!==null&&xb(s),s=Wm(t,e,n,r),s===null&&bp(t,e,r,Pd,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else bp(t,e,r,null,n)}}var Pd=null;function Wm(t,e,n,r){if(Pd=null,t=Gy(r),t=os(t),t!==null)if(e=Ls(t),e===null)t=null;else if(n=e.tag,n===13){if(t=fb(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Pd=t,null}function Tb(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(B2()){case Ky:return 1;case yb:return 4;case Td:case z2:return 16;case vb:return 536870912;default:return 16}default:return 16}}var di=null,Qy=null,Xu=null;function kb(){if(Xu)return Xu;var t,e=Qy,n=e.length,r,i="value"in di?di.value:di.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===i[s-r];r++);return Xu=i.slice(t,1<r?1-r:void 0)}function Qu(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function wu(){return!0}function nx(){return!1}function dn(t){function e(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?wu:nx,this.isPropagationStopped=nx,this}return Ue(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=wu)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=wu)},persist:function(){},isPersistent:wu}),e}var sa={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Jy=dn(sa),Cc=Ue({},sa,{view:0,detail:0}),nD=dn(Cc),gp,yp,ja,Nh=Ue({},Cc,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Zy,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==ja&&(ja&&t.type==="mousemove"?(gp=t.screenX-ja.screenX,yp=t.screenY-ja.screenY):yp=gp=0,ja=t),gp)},movementY:function(t){return"movementY"in t?t.movementY:yp}}),rx=dn(Nh),rD=Ue({},Nh,{dataTransfer:0}),iD=dn(rD),sD=Ue({},Cc,{relatedTarget:0}),vp=dn(sD),oD=Ue({},sa,{animationName:0,elapsedTime:0,pseudoElement:0}),aD=dn(oD),lD=Ue({},sa,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),cD=dn(lD),uD=Ue({},sa,{data:0}),ix=dn(uD),dD={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},hD={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},fD={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function pD(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=fD[t])?!!e[t]:!1}function Zy(){return pD}var mD=Ue({},Cc,{key:function(t){if(t.key){var e=dD[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Qu(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?hD[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Zy,charCode:function(t){return t.type==="keypress"?Qu(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Qu(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),gD=dn(mD),yD=Ue({},Nh,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),sx=dn(yD),vD=Ue({},Cc,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Zy}),_D=dn(vD),wD=Ue({},sa,{propertyName:0,elapsedTime:0,pseudoElement:0}),xD=dn(wD),ED=Ue({},Nh,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),CD=dn(ED),SD=[9,13,27,32],ev=jr&&"CompositionEvent"in window,dl=null;jr&&"documentMode"in document&&(dl=document.documentMode);var bD=jr&&"TextEvent"in window&&!dl,Ib=jr&&(!ev||dl&&8<dl&&11>=dl),ox=String.fromCharCode(32),ax=!1;function Pb(t,e){switch(t){case"keyup":return SD.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Rb(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var io=!1;function TD(t,e){switch(t){case"compositionend":return Rb(e);case"keypress":return e.which!==32?null:(ax=!0,ox);case"textInput":return t=e.data,t===ox&&ax?null:t;default:return null}}function kD(t,e){if(io)return t==="compositionend"||!ev&&Pb(t,e)?(t=kb(),Xu=Qy=di=null,io=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return Ib&&e.locale!=="ko"?null:e.data;default:return null}}var ID={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function lx(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!ID[t.type]:e==="textarea"}function Ab(t,e,n,r){lb(r),e=Rd(e,"onChange"),0<e.length&&(n=new Jy("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var hl=null,$l=null;function PD(t){Bb(t,0)}function Dh(t){var e=ao(t);if(tb(e))return t}function RD(t,e){if(t==="change")return e}var Nb=!1;if(jr){var _p;if(jr){var wp="oninput"in document;if(!wp){var cx=document.createElement("div");cx.setAttribute("oninput","return;"),wp=typeof cx.oninput=="function"}_p=wp}else _p=!1;Nb=_p&&(!document.documentMode||9<document.documentMode)}function ux(){hl&&(hl.detachEvent("onpropertychange",Db),$l=hl=null)}function Db(t){if(t.propertyName==="value"&&Dh($l)){var e=[];Ab(e,$l,t,Gy(t)),hb(PD,e)}}function AD(t,e,n){t==="focusin"?(ux(),hl=e,$l=n,hl.attachEvent("onpropertychange",Db)):t==="focusout"&&ux()}function ND(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Dh($l)}function DD(t,e){if(t==="click")return Dh(e)}function OD(t,e){if(t==="input"||t==="change")return Dh(e)}function MD(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Kn=typeof Object.is=="function"?Object.is:MD;function Ul(t,e){if(Kn(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!Tm.call(e,i)||!Kn(t[i],e[i]))return!1}return!0}function dx(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function hx(t,e){var n=dx(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=dx(n)}}function Ob(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?Ob(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function Mb(){for(var t=window,e=Cd();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Cd(t.document)}return e}function tv(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function LD(t){var e=Mb(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&Ob(n.ownerDocument.documentElement,n)){if(r!==null&&tv(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!t.extend&&s>r&&(i=r,r=s,s=i),i=hx(n,s);var o=hx(n,r);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var jD=jr&&"documentMode"in document&&11>=document.documentMode,so=null,Hm=null,fl=null,Gm=!1;function fx(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Gm||so==null||so!==Cd(r)||(r=so,"selectionStart"in r&&tv(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),fl&&Ul(fl,r)||(fl=r,r=Rd(Hm,"onSelect"),0<r.length&&(e=new Jy("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=so)))}function xu(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var oo={animationend:xu("Animation","AnimationEnd"),animationiteration:xu("Animation","AnimationIteration"),animationstart:xu("Animation","AnimationStart"),transitionend:xu("Transition","TransitionEnd")},xp={},Lb={};jr&&(Lb=document.createElement("div").style,"AnimationEvent"in window||(delete oo.animationend.animation,delete oo.animationiteration.animation,delete oo.animationstart.animation),"TransitionEvent"in window||delete oo.transitionend.transition);function Oh(t){if(xp[t])return xp[t];if(!oo[t])return t;var e=oo[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in Lb)return xp[t]=e[n];return t}var jb=Oh("animationend"),Fb=Oh("animationiteration"),$b=Oh("animationstart"),Ub=Oh("transitionend"),Vb=new Map,px="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Mi(t,e){Vb.set(t,e),Ms(e,[t])}for(var Ep=0;Ep<px.length;Ep++){var Cp=px[Ep],FD=Cp.toLowerCase(),$D=Cp[0].toUpperCase()+Cp.slice(1);Mi(FD,"on"+$D)}Mi(jb,"onAnimationEnd");Mi(Fb,"onAnimationIteration");Mi($b,"onAnimationStart");Mi("dblclick","onDoubleClick");Mi("focusin","onFocus");Mi("focusout","onBlur");Mi(Ub,"onTransitionEnd");Mo("onMouseEnter",["mouseout","mouseover"]);Mo("onMouseLeave",["mouseout","mouseover"]);Mo("onPointerEnter",["pointerout","pointerover"]);Mo("onPointerLeave",["pointerout","pointerover"]);Ms("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Ms("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Ms("onBeforeInput",["compositionend","keypress","textInput","paste"]);Ms("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Ms("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Ms("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var tl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),UD=new Set("cancel close invalid load scroll toggle".split(" ").concat(tl));function mx(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,F2(r,e,void 0,t),t.currentTarget=null}function Bb(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==s&&i.isPropagationStopped())break e;mx(i,a,c),s=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,c=a.currentTarget,a=a.listener,l!==s&&i.isPropagationStopped())break e;mx(i,a,c),s=l}}}if(bd)throw t=Vm,bd=!1,Vm=null,t}function Re(t,e){var n=e[Qm];n===void 0&&(n=e[Qm]=new Set);var r=t+"__bubble";n.has(r)||(zb(e,t,2,!1),n.add(r))}function Sp(t,e,n){var r=0;e&&(r|=4),zb(n,t,r,e)}var Eu="_reactListening"+Math.random().toString(36).slice(2);function Vl(t){if(!t[Eu]){t[Eu]=!0,XS.forEach(function(n){n!=="selectionchange"&&(UD.has(n)||Sp(n,!1,t),Sp(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Eu]||(e[Eu]=!0,Sp("selectionchange",!1,e))}}function zb(t,e,n,r){switch(Tb(e)){case 1:var i=eD;break;case 4:i=tD;break;default:i=Xy}n=i.bind(null,e,n,t),i=void 0,!Um||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function bp(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;o=o.return}for(;a!==null;){if(o=os(a),o===null)return;if(l=o.tag,l===5||l===6){r=s=o;continue e}a=a.parentNode}}r=r.return}hb(function(){var c=s,d=Gy(n),h=[];e:{var f=Vb.get(t);if(f!==void 0){var y=Jy,v=t;switch(t){case"keypress":if(Qu(n)===0)break e;case"keydown":case"keyup":y=gD;break;case"focusin":v="focus",y=vp;break;case"focusout":v="blur",y=vp;break;case"beforeblur":case"afterblur":y=vp;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":y=rx;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":y=iD;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":y=_D;break;case jb:case Fb:case $b:y=aD;break;case Ub:y=xD;break;case"scroll":y=nD;break;case"wheel":y=CD;break;case"copy":case"cut":case"paste":y=cD;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":y=sx}var b=(e&4)!==0,P=!b&&t==="scroll",w=b?f!==null?f+"Capture":null:f;b=[];for(var C=c,x;C!==null;){x=C;var A=x.stateNode;if(x.tag===5&&A!==null&&(x=A,w!==null&&(A=Ml(C,w),A!=null&&b.push(Bl(C,A,x)))),P)break;C=C.return}0<b.length&&(f=new y(f,v,null,n,d),h.push({event:f,listeners:b}))}}if(!(e&7)){e:{if(f=t==="mouseover"||t==="pointerover",y=t==="mouseout"||t==="pointerout",f&&n!==Fm&&(v=n.relatedTarget||n.fromElement)&&(os(v)||v[Fr]))break e;if((y||f)&&(f=d.window===d?d:(f=d.ownerDocument)?f.defaultView||f.parentWindow:window,y?(v=n.relatedTarget||n.toElement,y=c,v=v?os(v):null,v!==null&&(P=Ls(v),v!==P||v.tag!==5&&v.tag!==6)&&(v=null)):(y=null,v=c),y!==v)){if(b=rx,A="onMouseLeave",w="onMouseEnter",C="mouse",(t==="pointerout"||t==="pointerover")&&(b=sx,A="onPointerLeave",w="onPointerEnter",C="pointer"),P=y==null?f:ao(y),x=v==null?f:ao(v),f=new b(A,C+"leave",y,n,d),f.target=P,f.relatedTarget=x,A=null,os(d)===c&&(b=new b(w,C+"enter",v,n,d),b.target=x,b.relatedTarget=P,A=b),P=A,y&&v)t:{for(b=y,w=v,C=0,x=b;x;x=Ks(x))C++;for(x=0,A=w;A;A=Ks(A))x++;for(;0<C-x;)b=Ks(b),C--;for(;0<x-C;)w=Ks(w),x--;for(;C--;){if(b===w||w!==null&&b===w.alternate)break t;b=Ks(b),w=Ks(w)}b=null}else b=null;y!==null&&gx(h,f,y,b,!1),v!==null&&P!==null&&gx(h,P,v,b,!0)}}e:{if(f=c?ao(c):window,y=f.nodeName&&f.nodeName.toLowerCase(),y==="select"||y==="input"&&f.type==="file")var D=RD;else if(lx(f))if(Nb)D=OD;else{D=ND;var M=AD}else(y=f.nodeName)&&y.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(D=DD);if(D&&(D=D(t,c))){Ab(h,D,n,d);break e}M&&M(t,f,c),t==="focusout"&&(M=f._wrapperState)&&M.controlled&&f.type==="number"&&Dm(f,"number",f.value)}switch(M=c?ao(c):window,t){case"focusin":(lx(M)||M.contentEditable==="true")&&(so=M,Hm=c,fl=null);break;case"focusout":fl=Hm=so=null;break;case"mousedown":Gm=!0;break;case"contextmenu":case"mouseup":case"dragend":Gm=!1,fx(h,n,d);break;case"selectionchange":if(jD)break;case"keydown":case"keyup":fx(h,n,d)}var S;if(ev)e:{switch(t){case"compositionstart":var E="onCompositionStart";break e;case"compositionend":E="onCompositionEnd";break e;case"compositionupdate":E="onCompositionUpdate";break e}E=void 0}else io?Pb(t,n)&&(E="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(E="onCompositionStart");E&&(Ib&&n.locale!=="ko"&&(io||E!=="onCompositionStart"?E==="onCompositionEnd"&&io&&(S=kb()):(di=d,Qy="value"in di?di.value:di.textContent,io=!0)),M=Rd(c,E),0<M.length&&(E=new ix(E,t,null,n,d),h.push({event:E,listeners:M}),S?E.data=S:(S=Rb(n),S!==null&&(E.data=S)))),(S=bD?TD(t,n):kD(t,n))&&(c=Rd(c,"onBeforeInput"),0<c.length&&(d=new ix("onBeforeInput","beforeinput",null,n,d),h.push({event:d,listeners:c}),d.data=S))}Bb(h,e)})}function Bl(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Rd(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=Ml(t,n),s!=null&&r.unshift(Bl(t,s,i)),s=Ml(t,e),s!=null&&r.push(Bl(t,s,i))),t=t.return}return r}function Ks(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function gx(t,e,n,r,i){for(var s=e._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,c=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&c!==null&&(a=c,i?(l=Ml(n,s),l!=null&&o.unshift(Bl(n,l,a))):i||(l=Ml(n,s),l!=null&&o.push(Bl(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var VD=/\r\n?/g,BD=/\u0000|\uFFFD/g;function yx(t){return(typeof t=="string"?t:""+t).replace(VD,`
`).replace(BD,"")}function Cu(t,e,n){if(e=yx(e),yx(t)!==e&&n)throw Error($(425))}function Ad(){}var Km=null,qm=null;function Ym(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Xm=typeof setTimeout=="function"?setTimeout:void 0,zD=typeof clearTimeout=="function"?clearTimeout:void 0,vx=typeof Promise=="function"?Promise:void 0,WD=typeof queueMicrotask=="function"?queueMicrotask:typeof vx<"u"?function(t){return vx.resolve(null).then(t).catch(HD)}:Xm;function HD(t){setTimeout(function(){throw t})}function Tp(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),Fl(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Fl(e)}function yi(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function _x(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var oa=Math.random().toString(36).slice(2),sr="__reactFiber$"+oa,zl="__reactProps$"+oa,Fr="__reactContainer$"+oa,Qm="__reactEvents$"+oa,GD="__reactListeners$"+oa,KD="__reactHandles$"+oa;function os(t){var e=t[sr];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Fr]||n[sr]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=_x(t);t!==null;){if(n=t[sr])return n;t=_x(t)}return e}t=n,n=t.parentNode}return null}function Sc(t){return t=t[sr]||t[Fr],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function ao(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error($(33))}function Mh(t){return t[zl]||null}var Jm=[],lo=-1;function Li(t){return{current:t}}function Ae(t){0>lo||(t.current=Jm[lo],Jm[lo]=null,lo--)}function Ie(t,e){lo++,Jm[lo]=t.current,t.current=e}var Ti={},Pt=Li(Ti),Xt=Li(!1),ws=Ti;function Lo(t,e){var n=t.type.contextTypes;if(!n)return Ti;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function Qt(t){return t=t.childContextTypes,t!=null}function Nd(){Ae(Xt),Ae(Pt)}function wx(t,e,n){if(Pt.current!==Ti)throw Error($(168));Ie(Pt,e),Ie(Xt,n)}function Wb(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error($(108,A2(t)||"Unknown",i));return Ue({},n,r)}function Dd(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Ti,ws=Pt.current,Ie(Pt,t),Ie(Xt,Xt.current),!0}function xx(t,e,n){var r=t.stateNode;if(!r)throw Error($(169));n?(t=Wb(t,e,ws),r.__reactInternalMemoizedMergedChildContext=t,Ae(Xt),Ae(Pt),Ie(Pt,t)):Ae(Xt),Ie(Xt,n)}var Sr=null,Lh=!1,kp=!1;function Hb(t){Sr===null?Sr=[t]:Sr.push(t)}function qD(t){Lh=!0,Hb(t)}function ji(){if(!kp&&Sr!==null){kp=!0;var t=0,e=ye;try{var n=Sr;for(ye=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Sr=null,Lh=!1}catch(i){throw Sr!==null&&(Sr=Sr.slice(t+1)),gb(Ky,ji),i}finally{ye=e,kp=!1}}return null}var co=[],uo=0,Od=null,Md=0,vn=[],_n=0,xs=null,Tr=1,kr="";function Qi(t,e){co[uo++]=Md,co[uo++]=Od,Od=t,Md=e}function Gb(t,e,n){vn[_n++]=Tr,vn[_n++]=kr,vn[_n++]=xs,xs=t;var r=Tr;t=kr;var i=32-zn(r)-1;r&=~(1<<i),n+=1;var s=32-zn(e)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Tr=1<<32-zn(e)+i|n<<i|r,kr=s+t}else Tr=1<<s|n<<i|r,kr=t}function nv(t){t.return!==null&&(Qi(t,1),Gb(t,1,0))}function rv(t){for(;t===Od;)Od=co[--uo],co[uo]=null,Md=co[--uo],co[uo]=null;for(;t===xs;)xs=vn[--_n],vn[_n]=null,kr=vn[--_n],vn[_n]=null,Tr=vn[--_n],vn[_n]=null}var sn=null,rn=null,De=!1,jn=null;function Kb(t,e){var n=xn(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function Ex(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,sn=t,rn=yi(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,sn=t,rn=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=xs!==null?{id:Tr,overflow:kr}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=xn(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,sn=t,rn=null,!0):!1;default:return!1}}function Zm(t){return(t.mode&1)!==0&&(t.flags&128)===0}function eg(t){if(De){var e=rn;if(e){var n=e;if(!Ex(t,e)){if(Zm(t))throw Error($(418));e=yi(n.nextSibling);var r=sn;e&&Ex(t,e)?Kb(r,n):(t.flags=t.flags&-4097|2,De=!1,sn=t)}}else{if(Zm(t))throw Error($(418));t.flags=t.flags&-4097|2,De=!1,sn=t}}}function Cx(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;sn=t}function Su(t){if(t!==sn)return!1;if(!De)return Cx(t),De=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Ym(t.type,t.memoizedProps)),e&&(e=rn)){if(Zm(t))throw qb(),Error($(418));for(;e;)Kb(t,e),e=yi(e.nextSibling)}if(Cx(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error($(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){rn=yi(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}rn=null}}else rn=sn?yi(t.stateNode.nextSibling):null;return!0}function qb(){for(var t=rn;t;)t=yi(t.nextSibling)}function jo(){rn=sn=null,De=!1}function iv(t){jn===null?jn=[t]:jn.push(t)}var YD=qr.ReactCurrentBatchConfig;function Fa(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error($(309));var r=n.stateNode}if(!r)throw Error($(147,t));var i=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var a=i.refs;o===null?delete a[s]:a[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error($(284));if(!n._owner)throw Error($(290,t))}return t}function bu(t,e){throw t=Object.prototype.toString.call(e),Error($(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function Sx(t){var e=t._init;return e(t._payload)}function Yb(t){function e(w,C){if(t){var x=w.deletions;x===null?(w.deletions=[C],w.flags|=16):x.push(C)}}function n(w,C){if(!t)return null;for(;C!==null;)e(w,C),C=C.sibling;return null}function r(w,C){for(w=new Map;C!==null;)C.key!==null?w.set(C.key,C):w.set(C.index,C),C=C.sibling;return w}function i(w,C){return w=xi(w,C),w.index=0,w.sibling=null,w}function s(w,C,x){return w.index=x,t?(x=w.alternate,x!==null?(x=x.index,x<C?(w.flags|=2,C):x):(w.flags|=2,C)):(w.flags|=1048576,C)}function o(w){return t&&w.alternate===null&&(w.flags|=2),w}function a(w,C,x,A){return C===null||C.tag!==6?(C=Op(x,w.mode,A),C.return=w,C):(C=i(C,x),C.return=w,C)}function l(w,C,x,A){var D=x.type;return D===ro?d(w,C,x.props.children,A,x.key):C!==null&&(C.elementType===D||typeof D=="object"&&D!==null&&D.$$typeof===ii&&Sx(D)===C.type)?(A=i(C,x.props),A.ref=Fa(w,C,x),A.return=w,A):(A=id(x.type,x.key,x.props,null,w.mode,A),A.ref=Fa(w,C,x),A.return=w,A)}function c(w,C,x,A){return C===null||C.tag!==4||C.stateNode.containerInfo!==x.containerInfo||C.stateNode.implementation!==x.implementation?(C=Mp(x,w.mode,A),C.return=w,C):(C=i(C,x.children||[]),C.return=w,C)}function d(w,C,x,A,D){return C===null||C.tag!==7?(C=ms(x,w.mode,A,D),C.return=w,C):(C=i(C,x),C.return=w,C)}function h(w,C,x){if(typeof C=="string"&&C!==""||typeof C=="number")return C=Op(""+C,w.mode,x),C.return=w,C;if(typeof C=="object"&&C!==null){switch(C.$$typeof){case pu:return x=id(C.type,C.key,C.props,null,w.mode,x),x.ref=Fa(w,null,C),x.return=w,x;case no:return C=Mp(C,w.mode,x),C.return=w,C;case ii:var A=C._init;return h(w,A(C._payload),x)}if(Za(C)||Da(C))return C=ms(C,w.mode,x,null),C.return=w,C;bu(w,C)}return null}function f(w,C,x,A){var D=C!==null?C.key:null;if(typeof x=="string"&&x!==""||typeof x=="number")return D!==null?null:a(w,C,""+x,A);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case pu:return x.key===D?l(w,C,x,A):null;case no:return x.key===D?c(w,C,x,A):null;case ii:return D=x._init,f(w,C,D(x._payload),A)}if(Za(x)||Da(x))return D!==null?null:d(w,C,x,A,null);bu(w,x)}return null}function y(w,C,x,A,D){if(typeof A=="string"&&A!==""||typeof A=="number")return w=w.get(x)||null,a(C,w,""+A,D);if(typeof A=="object"&&A!==null){switch(A.$$typeof){case pu:return w=w.get(A.key===null?x:A.key)||null,l(C,w,A,D);case no:return w=w.get(A.key===null?x:A.key)||null,c(C,w,A,D);case ii:var M=A._init;return y(w,C,x,M(A._payload),D)}if(Za(A)||Da(A))return w=w.get(x)||null,d(C,w,A,D,null);bu(C,A)}return null}function v(w,C,x,A){for(var D=null,M=null,S=C,E=C=0,I=null;S!==null&&E<x.length;E++){S.index>E?(I=S,S=null):I=S.sibling;var m=f(w,S,x[E],A);if(m===null){S===null&&(S=I);break}t&&S&&m.alternate===null&&e(w,S),C=s(m,C,E),M===null?D=m:M.sibling=m,M=m,S=I}if(E===x.length)return n(w,S),De&&Qi(w,E),D;if(S===null){for(;E<x.length;E++)S=h(w,x[E],A),S!==null&&(C=s(S,C,E),M===null?D=S:M.sibling=S,M=S);return De&&Qi(w,E),D}for(S=r(w,S);E<x.length;E++)I=y(S,w,E,x[E],A),I!==null&&(t&&I.alternate!==null&&S.delete(I.key===null?E:I.key),C=s(I,C,E),M===null?D=I:M.sibling=I,M=I);return t&&S.forEach(function(R){return e(w,R)}),De&&Qi(w,E),D}function b(w,C,x,A){var D=Da(x);if(typeof D!="function")throw Error($(150));if(x=D.call(x),x==null)throw Error($(151));for(var M=D=null,S=C,E=C=0,I=null,m=x.next();S!==null&&!m.done;E++,m=x.next()){S.index>E?(I=S,S=null):I=S.sibling;var R=f(w,S,m.value,A);if(R===null){S===null&&(S=I);break}t&&S&&R.alternate===null&&e(w,S),C=s(R,C,E),M===null?D=R:M.sibling=R,M=R,S=I}if(m.done)return n(w,S),De&&Qi(w,E),D;if(S===null){for(;!m.done;E++,m=x.next())m=h(w,m.value,A),m!==null&&(C=s(m,C,E),M===null?D=m:M.sibling=m,M=m);return De&&Qi(w,E),D}for(S=r(w,S);!m.done;E++,m=x.next())m=y(S,w,E,m.value,A),m!==null&&(t&&m.alternate!==null&&S.delete(m.key===null?E:m.key),C=s(m,C,E),M===null?D=m:M.sibling=m,M=m);return t&&S.forEach(function(O){return e(w,O)}),De&&Qi(w,E),D}function P(w,C,x,A){if(typeof x=="object"&&x!==null&&x.type===ro&&x.key===null&&(x=x.props.children),typeof x=="object"&&x!==null){switch(x.$$typeof){case pu:e:{for(var D=x.key,M=C;M!==null;){if(M.key===D){if(D=x.type,D===ro){if(M.tag===7){n(w,M.sibling),C=i(M,x.props.children),C.return=w,w=C;break e}}else if(M.elementType===D||typeof D=="object"&&D!==null&&D.$$typeof===ii&&Sx(D)===M.type){n(w,M.sibling),C=i(M,x.props),C.ref=Fa(w,M,x),C.return=w,w=C;break e}n(w,M);break}else e(w,M);M=M.sibling}x.type===ro?(C=ms(x.props.children,w.mode,A,x.key),C.return=w,w=C):(A=id(x.type,x.key,x.props,null,w.mode,A),A.ref=Fa(w,C,x),A.return=w,w=A)}return o(w);case no:e:{for(M=x.key;C!==null;){if(C.key===M)if(C.tag===4&&C.stateNode.containerInfo===x.containerInfo&&C.stateNode.implementation===x.implementation){n(w,C.sibling),C=i(C,x.children||[]),C.return=w,w=C;break e}else{n(w,C);break}else e(w,C);C=C.sibling}C=Mp(x,w.mode,A),C.return=w,w=C}return o(w);case ii:return M=x._init,P(w,C,M(x._payload),A)}if(Za(x))return v(w,C,x,A);if(Da(x))return b(w,C,x,A);bu(w,x)}return typeof x=="string"&&x!==""||typeof x=="number"?(x=""+x,C!==null&&C.tag===6?(n(w,C.sibling),C=i(C,x),C.return=w,w=C):(n(w,C),C=Op(x,w.mode,A),C.return=w,w=C),o(w)):n(w,C)}return P}var Fo=Yb(!0),Xb=Yb(!1),Ld=Li(null),jd=null,ho=null,sv=null;function ov(){sv=ho=jd=null}function av(t){var e=Ld.current;Ae(Ld),t._currentValue=e}function tg(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function bo(t,e){jd=t,sv=ho=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Kt=!0),t.firstContext=null)}function bn(t){var e=t._currentValue;if(sv!==t)if(t={context:t,memoizedValue:e,next:null},ho===null){if(jd===null)throw Error($(308));ho=t,jd.dependencies={lanes:0,firstContext:t}}else ho=ho.next=t;return e}var as=null;function lv(t){as===null?as=[t]:as.push(t)}function Qb(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,lv(e)):(n.next=i.next,i.next=n),e.interleaved=n,$r(t,r)}function $r(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var si=!1;function cv(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Jb(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Ar(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function vi(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,de&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,$r(t,n)}return i=r.interleaved,i===null?(e.next=e,lv(r)):(e.next=i.next,i.next=e),r.interleaved=e,$r(t,n)}function Ju(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,qy(t,n)}}function bx(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Fd(t,e,n,r){var i=t.updateQueue;si=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,c=l.next;l.next=null,o===null?s=c:o.next=c,o=l;var d=t.alternate;d!==null&&(d=d.updateQueue,a=d.lastBaseUpdate,a!==o&&(a===null?d.firstBaseUpdate=c:a.next=c,d.lastBaseUpdate=l))}if(s!==null){var h=i.baseState;o=0,d=c=l=null,a=s;do{var f=a.lane,y=a.eventTime;if((r&f)===f){d!==null&&(d=d.next={eventTime:y,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var v=t,b=a;switch(f=e,y=n,b.tag){case 1:if(v=b.payload,typeof v=="function"){h=v.call(y,h,f);break e}h=v;break e;case 3:v.flags=v.flags&-65537|128;case 0:if(v=b.payload,f=typeof v=="function"?v.call(y,h,f):v,f==null)break e;h=Ue({},h,f);break e;case 2:si=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,f=i.effects,f===null?i.effects=[a]:f.push(a))}else y={eventTime:y,lane:f,tag:a.tag,payload:a.payload,callback:a.callback,next:null},d===null?(c=d=y,l=h):d=d.next=y,o|=f;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;f=a,a=f.next,f.next=null,i.lastBaseUpdate=f,i.shared.pending=null}}while(1);if(d===null&&(l=h),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=d,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);Cs|=o,t.lanes=o,t.memoizedState=h}}function Tx(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error($(191,i));i.call(r)}}}var bc={},lr=Li(bc),Wl=Li(bc),Hl=Li(bc);function ls(t){if(t===bc)throw Error($(174));return t}function uv(t,e){switch(Ie(Hl,e),Ie(Wl,t),Ie(lr,bc),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Mm(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Mm(e,t)}Ae(lr),Ie(lr,e)}function $o(){Ae(lr),Ae(Wl),Ae(Hl)}function Zb(t){ls(Hl.current);var e=ls(lr.current),n=Mm(e,t.type);e!==n&&(Ie(Wl,t),Ie(lr,n))}function dv(t){Wl.current===t&&(Ae(lr),Ae(Wl))}var Le=Li(0);function $d(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Ip=[];function hv(){for(var t=0;t<Ip.length;t++)Ip[t]._workInProgressVersionPrimary=null;Ip.length=0}var Zu=qr.ReactCurrentDispatcher,Pp=qr.ReactCurrentBatchConfig,Es=0,Fe=null,et=null,ot=null,Ud=!1,pl=!1,Gl=0,XD=0;function xt(){throw Error($(321))}function fv(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Kn(t[n],e[n]))return!1;return!0}function pv(t,e,n,r,i,s){if(Es=s,Fe=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Zu.current=t===null||t.memoizedState===null?eO:tO,t=n(r,i),pl){s=0;do{if(pl=!1,Gl=0,25<=s)throw Error($(301));s+=1,ot=et=null,e.updateQueue=null,Zu.current=nO,t=n(r,i)}while(pl)}if(Zu.current=Vd,e=et!==null&&et.next!==null,Es=0,ot=et=Fe=null,Ud=!1,e)throw Error($(300));return t}function mv(){var t=Gl!==0;return Gl=0,t}function tr(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ot===null?Fe.memoizedState=ot=t:ot=ot.next=t,ot}function Tn(){if(et===null){var t=Fe.alternate;t=t!==null?t.memoizedState:null}else t=et.next;var e=ot===null?Fe.memoizedState:ot.next;if(e!==null)ot=e,et=t;else{if(t===null)throw Error($(310));et=t,t={memoizedState:et.memoizedState,baseState:et.baseState,baseQueue:et.baseQueue,queue:et.queue,next:null},ot===null?Fe.memoizedState=ot=t:ot=ot.next=t}return ot}function Kl(t,e){return typeof e=="function"?e(t):e}function Rp(t){var e=Tn(),n=e.queue;if(n===null)throw Error($(311));n.lastRenderedReducer=t;var r=et,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var a=o=null,l=null,c=s;do{var d=c.lane;if((Es&d)===d)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:t(r,c.action);else{var h={lane:d,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(a=l=h,o=r):l=l.next=h,Fe.lanes|=d,Cs|=d}c=c.next}while(c!==null&&c!==s);l===null?o=r:l.next=a,Kn(r,e.memoizedState)||(Kt=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do s=i.lane,Fe.lanes|=s,Cs|=s,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Ap(t){var e=Tn(),n=e.queue;if(n===null)throw Error($(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=t(s,o.action),o=o.next;while(o!==i);Kn(s,e.memoizedState)||(Kt=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function eT(){}function tT(t,e){var n=Fe,r=Tn(),i=e(),s=!Kn(r.memoizedState,i);if(s&&(r.memoizedState=i,Kt=!0),r=r.queue,gv(iT.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||ot!==null&&ot.memoizedState.tag&1){if(n.flags|=2048,ql(9,rT.bind(null,n,r,i,e),void 0,null),lt===null)throw Error($(349));Es&30||nT(n,e,i)}return i}function nT(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Fe.updateQueue,e===null?(e={lastEffect:null,stores:null},Fe.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function rT(t,e,n,r){e.value=n,e.getSnapshot=r,sT(e)&&oT(t)}function iT(t,e,n){return n(function(){sT(e)&&oT(t)})}function sT(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Kn(t,n)}catch{return!0}}function oT(t){var e=$r(t,1);e!==null&&Wn(e,t,1,-1)}function kx(t){var e=tr();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Kl,lastRenderedState:t},e.queue=t,t=t.dispatch=ZD.bind(null,Fe,t),[e.memoizedState,t]}function ql(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Fe.updateQueue,e===null?(e={lastEffect:null,stores:null},Fe.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function aT(){return Tn().memoizedState}function ed(t,e,n,r){var i=tr();Fe.flags|=t,i.memoizedState=ql(1|e,n,void 0,r===void 0?null:r)}function jh(t,e,n,r){var i=Tn();r=r===void 0?null:r;var s=void 0;if(et!==null){var o=et.memoizedState;if(s=o.destroy,r!==null&&fv(r,o.deps)){i.memoizedState=ql(e,n,s,r);return}}Fe.flags|=t,i.memoizedState=ql(1|e,n,s,r)}function Ix(t,e){return ed(8390656,8,t,e)}function gv(t,e){return jh(2048,8,t,e)}function lT(t,e){return jh(4,2,t,e)}function cT(t,e){return jh(4,4,t,e)}function uT(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function dT(t,e,n){return n=n!=null?n.concat([t]):null,jh(4,4,uT.bind(null,e,t),n)}function yv(){}function hT(t,e){var n=Tn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&fv(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function fT(t,e){var n=Tn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&fv(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function pT(t,e,n){return Es&21?(Kn(n,e)||(n=_b(),Fe.lanes|=n,Cs|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Kt=!0),t.memoizedState=n)}function QD(t,e){var n=ye;ye=n!==0&&4>n?n:4,t(!0);var r=Pp.transition;Pp.transition={};try{t(!1),e()}finally{ye=n,Pp.transition=r}}function mT(){return Tn().memoizedState}function JD(t,e,n){var r=wi(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},gT(t))yT(e,n);else if(n=Qb(t,e,n,r),n!==null){var i=Ft();Wn(n,t,r,i),vT(n,e,r)}}function ZD(t,e,n){var r=wi(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(gT(t))yT(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,n);if(i.hasEagerState=!0,i.eagerState=a,Kn(a,o)){var l=e.interleaved;l===null?(i.next=i,lv(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=Qb(t,e,i,r),n!==null&&(i=Ft(),Wn(n,t,r,i),vT(n,e,r))}}function gT(t){var e=t.alternate;return t===Fe||e!==null&&e===Fe}function yT(t,e){pl=Ud=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function vT(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,qy(t,n)}}var Vd={readContext:bn,useCallback:xt,useContext:xt,useEffect:xt,useImperativeHandle:xt,useInsertionEffect:xt,useLayoutEffect:xt,useMemo:xt,useReducer:xt,useRef:xt,useState:xt,useDebugValue:xt,useDeferredValue:xt,useTransition:xt,useMutableSource:xt,useSyncExternalStore:xt,useId:xt,unstable_isNewReconciler:!1},eO={readContext:bn,useCallback:function(t,e){return tr().memoizedState=[t,e===void 0?null:e],t},useContext:bn,useEffect:Ix,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,ed(4194308,4,uT.bind(null,e,t),n)},useLayoutEffect:function(t,e){return ed(4194308,4,t,e)},useInsertionEffect:function(t,e){return ed(4,2,t,e)},useMemo:function(t,e){var n=tr();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=tr();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=JD.bind(null,Fe,t),[r.memoizedState,t]},useRef:function(t){var e=tr();return t={current:t},e.memoizedState=t},useState:kx,useDebugValue:yv,useDeferredValue:function(t){return tr().memoizedState=t},useTransition:function(){var t=kx(!1),e=t[0];return t=QD.bind(null,t[1]),tr().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=Fe,i=tr();if(De){if(n===void 0)throw Error($(407));n=n()}else{if(n=e(),lt===null)throw Error($(349));Es&30||nT(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,Ix(iT.bind(null,r,s,t),[t]),r.flags|=2048,ql(9,rT.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=tr(),e=lt.identifierPrefix;if(De){var n=kr,r=Tr;n=(r&~(1<<32-zn(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Gl++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=XD++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},tO={readContext:bn,useCallback:hT,useContext:bn,useEffect:gv,useImperativeHandle:dT,useInsertionEffect:lT,useLayoutEffect:cT,useMemo:fT,useReducer:Rp,useRef:aT,useState:function(){return Rp(Kl)},useDebugValue:yv,useDeferredValue:function(t){var e=Tn();return pT(e,et.memoizedState,t)},useTransition:function(){var t=Rp(Kl)[0],e=Tn().memoizedState;return[t,e]},useMutableSource:eT,useSyncExternalStore:tT,useId:mT,unstable_isNewReconciler:!1},nO={readContext:bn,useCallback:hT,useContext:bn,useEffect:gv,useImperativeHandle:dT,useInsertionEffect:lT,useLayoutEffect:cT,useMemo:fT,useReducer:Ap,useRef:aT,useState:function(){return Ap(Kl)},useDebugValue:yv,useDeferredValue:function(t){var e=Tn();return et===null?e.memoizedState=t:pT(e,et.memoizedState,t)},useTransition:function(){var t=Ap(Kl)[0],e=Tn().memoizedState;return[t,e]},useMutableSource:eT,useSyncExternalStore:tT,useId:mT,unstable_isNewReconciler:!1};function Mn(t,e){if(t&&t.defaultProps){e=Ue({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function ng(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Ue({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Fh={isMounted:function(t){return(t=t._reactInternals)?Ls(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Ft(),i=wi(t),s=Ar(r,i);s.payload=e,n!=null&&(s.callback=n),e=vi(t,s,i),e!==null&&(Wn(e,t,i,r),Ju(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Ft(),i=wi(t),s=Ar(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=vi(t,s,i),e!==null&&(Wn(e,t,i,r),Ju(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Ft(),r=wi(t),i=Ar(n,r);i.tag=2,e!=null&&(i.callback=e),e=vi(t,i,r),e!==null&&(Wn(e,t,r,n),Ju(e,t,r))}};function Px(t,e,n,r,i,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!Ul(n,r)||!Ul(i,s):!0}function _T(t,e,n){var r=!1,i=Ti,s=e.contextType;return typeof s=="object"&&s!==null?s=bn(s):(i=Qt(e)?ws:Pt.current,r=e.contextTypes,s=(r=r!=null)?Lo(t,i):Ti),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Fh,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function Rx(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Fh.enqueueReplaceState(e,e.state,null)}function rg(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},cv(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=bn(s):(s=Qt(e)?ws:Pt.current,i.context=Lo(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(ng(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&Fh.enqueueReplaceState(i,i.state,null),Fd(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function Uo(t,e){try{var n="",r=e;do n+=R2(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function Np(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function ig(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var rO=typeof WeakMap=="function"?WeakMap:Map;function wT(t,e,n){n=Ar(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){zd||(zd=!0,pg=r),ig(t,e)},n}function xT(t,e,n){n=Ar(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){ig(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){ig(t,e),typeof r!="function"&&(_i===null?_i=new Set([this]):_i.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function Ax(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new rO;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=yO.bind(null,t,e,n),e.then(t,t))}function Nx(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function Dx(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Ar(-1,1),e.tag=2,vi(n,e,1))),n.lanes|=1),t)}var iO=qr.ReactCurrentOwner,Kt=!1;function Dt(t,e,n,r){e.child=t===null?Xb(e,null,n,r):Fo(e,t.child,n,r)}function Ox(t,e,n,r,i){n=n.render;var s=e.ref;return bo(e,i),r=pv(t,e,n,r,s,i),n=mv(),t!==null&&!Kt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Ur(t,e,i)):(De&&n&&nv(e),e.flags|=1,Dt(t,e,r,i),e.child)}function Mx(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!bv(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,ET(t,e,s,r,i)):(t=id(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:Ul,n(o,r)&&t.ref===e.ref)return Ur(t,e,i)}return e.flags|=1,t=xi(s,r),t.ref=e.ref,t.return=e,e.child=t}function ET(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if(Ul(s,r)&&t.ref===e.ref)if(Kt=!1,e.pendingProps=r=s,(t.lanes&i)!==0)t.flags&131072&&(Kt=!0);else return e.lanes=t.lanes,Ur(t,e,i)}return sg(t,e,n,r,i)}function CT(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ie(po,tn),tn|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Ie(po,tn),tn|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,Ie(po,tn),tn|=r}else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,Ie(po,tn),tn|=r;return Dt(t,e,i,n),e.child}function ST(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function sg(t,e,n,r,i){var s=Qt(n)?ws:Pt.current;return s=Lo(e,s),bo(e,i),n=pv(t,e,n,r,s,i),r=mv(),t!==null&&!Kt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Ur(t,e,i)):(De&&r&&nv(e),e.flags|=1,Dt(t,e,n,i),e.child)}function Lx(t,e,n,r,i){if(Qt(n)){var s=!0;Dd(e)}else s=!1;if(bo(e,i),e.stateNode===null)td(t,e),_T(e,n,r),rg(e,n,r,i),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,c=n.contextType;typeof c=="object"&&c!==null?c=bn(c):(c=Qt(n)?ws:Pt.current,c=Lo(e,c));var d=n.getDerivedStateFromProps,h=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==c)&&Rx(e,o,r,c),si=!1;var f=e.memoizedState;o.state=f,Fd(e,r,o,i),l=e.memoizedState,a!==r||f!==l||Xt.current||si?(typeof d=="function"&&(ng(e,n,d,r),l=e.memoizedState),(a=si||Px(e,n,a,r,f,l,c))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=c,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,Jb(t,e),a=e.memoizedProps,c=e.type===e.elementType?a:Mn(e.type,a),o.props=c,h=e.pendingProps,f=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=bn(l):(l=Qt(n)?ws:Pt.current,l=Lo(e,l));var y=n.getDerivedStateFromProps;(d=typeof y=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==h||f!==l)&&Rx(e,o,r,l),si=!1,f=e.memoizedState,o.state=f,Fd(e,r,o,i);var v=e.memoizedState;a!==h||f!==v||Xt.current||si?(typeof y=="function"&&(ng(e,n,y,r),v=e.memoizedState),(c=si||Px(e,n,c,r,f,v,l)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,v,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,v,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=v),o.props=r,o.state=v,o.context=l,r=c):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),r=!1)}return og(t,e,n,r,s,i)}function og(t,e,n,r,i,s){ST(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&xx(e,n,!1),Ur(t,e,s);r=e.stateNode,iO.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=Fo(e,t.child,null,s),e.child=Fo(e,null,a,s)):Dt(t,e,a,s),e.memoizedState=r.state,i&&xx(e,n,!0),e.child}function bT(t){var e=t.stateNode;e.pendingContext?wx(t,e.pendingContext,e.pendingContext!==e.context):e.context&&wx(t,e.context,!1),uv(t,e.containerInfo)}function jx(t,e,n,r,i){return jo(),iv(i),e.flags|=256,Dt(t,e,n,r),e.child}var ag={dehydrated:null,treeContext:null,retryLane:0};function lg(t){return{baseLanes:t,cachePool:null,transitions:null}}function TT(t,e,n){var r=e.pendingProps,i=Le.current,s=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),Ie(Le,i&1),t===null)return eg(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,s?(r=e.mode,s=e.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=Vh(o,r,0,null),t=ms(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=lg(n),e.memoizedState=ag,t):vv(e,o));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return sO(t,e,o,r,a,i,n);if(s){s=r.fallback,o=e.mode,i=t.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=xi(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=xi(a,s):(s=ms(s,o,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,o=t.child.memoizedState,o=o===null?lg(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~n,e.memoizedState=ag,r}return s=t.child,t=s.sibling,r=xi(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function vv(t,e){return e=Vh({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Tu(t,e,n,r){return r!==null&&iv(r),Fo(e,t.child,null,n),t=vv(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function sO(t,e,n,r,i,s,o){if(n)return e.flags&256?(e.flags&=-257,r=Np(Error($(422))),Tu(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=Vh({mode:"visible",children:r.children},i,0,null),s=ms(s,i,o,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&Fo(e,t.child,null,o),e.child.memoizedState=lg(o),e.memoizedState=ag,s);if(!(e.mode&1))return Tu(t,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,s=Error($(419)),r=Np(s,r,void 0),Tu(t,e,o,r)}if(a=(o&t.childLanes)!==0,Kt||a){if(r=lt,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,$r(t,i),Wn(r,t,i,-1))}return Sv(),r=Np(Error($(421))),Tu(t,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=vO.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,rn=yi(i.nextSibling),sn=e,De=!0,jn=null,t!==null&&(vn[_n++]=Tr,vn[_n++]=kr,vn[_n++]=xs,Tr=t.id,kr=t.overflow,xs=e),e=vv(e,r.children),e.flags|=4096,e)}function Fx(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),tg(t.return,e,n)}function Dp(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function kT(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(Dt(t,e,r.children,n),r=Le.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Fx(t,n,e);else if(t.tag===19)Fx(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Ie(Le,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&$d(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),Dp(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&$d(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}Dp(e,!0,n,null,s);break;case"together":Dp(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function td(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Ur(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Cs|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error($(153));if(e.child!==null){for(t=e.child,n=xi(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=xi(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function oO(t,e,n){switch(e.tag){case 3:bT(e),jo();break;case 5:Zb(e);break;case 1:Qt(e.type)&&Dd(e);break;case 4:uv(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;Ie(Ld,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Ie(Le,Le.current&1),e.flags|=128,null):n&e.child.childLanes?TT(t,e,n):(Ie(Le,Le.current&1),t=Ur(t,e,n),t!==null?t.sibling:null);Ie(Le,Le.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return kT(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ie(Le,Le.current),r)break;return null;case 22:case 23:return e.lanes=0,CT(t,e,n)}return Ur(t,e,n)}var IT,cg,PT,RT;IT=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};cg=function(){};PT=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,ls(lr.current);var s=null;switch(n){case"input":i=Am(t,i),r=Am(t,r),s=[];break;case"select":i=Ue({},i,{value:void 0}),r=Ue({},r,{value:void 0}),s=[];break;case"textarea":i=Om(t,i),r=Om(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Ad)}Lm(n,r);var o;n=null;for(c in i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&i[c]!=null)if(c==="style"){var a=i[c];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(Dl.hasOwnProperty(c)?s||(s=[]):(s=s||[]).push(c,null));for(c in r){var l=r[c];if(a=i!=null?i[c]:void 0,r.hasOwnProperty(c)&&l!==a&&(l!=null||a!=null))if(c==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(s||(s=[]),s.push(c,n)),n=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(Dl.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&Re("scroll",t),s||a===l||(s=[])):(s=s||[]).push(c,l))}n&&(s=s||[]).push("style",n);var c=s;(e.updateQueue=c)&&(e.flags|=4)}};RT=function(t,e,n,r){n!==r&&(e.flags|=4)};function $a(t,e){if(!De)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Et(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function aO(t,e,n){var r=e.pendingProps;switch(rv(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Et(e),null;case 1:return Qt(e.type)&&Nd(),Et(e),null;case 3:return r=e.stateNode,$o(),Ae(Xt),Ae(Pt),hv(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Su(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,jn!==null&&(yg(jn),jn=null))),cg(t,e),Et(e),null;case 5:dv(e);var i=ls(Hl.current);if(n=e.type,t!==null&&e.stateNode!=null)PT(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error($(166));return Et(e),null}if(t=ls(lr.current),Su(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[sr]=e,r[zl]=s,t=(e.mode&1)!==0,n){case"dialog":Re("cancel",r),Re("close",r);break;case"iframe":case"object":case"embed":Re("load",r);break;case"video":case"audio":for(i=0;i<tl.length;i++)Re(tl[i],r);break;case"source":Re("error",r);break;case"img":case"image":case"link":Re("error",r),Re("load",r);break;case"details":Re("toggle",r);break;case"input":Kw(r,s),Re("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},Re("invalid",r);break;case"textarea":Yw(r,s),Re("invalid",r)}Lm(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?r.textContent!==a&&(s.suppressHydrationWarning!==!0&&Cu(r.textContent,a,t),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&Cu(r.textContent,a,t),i=["children",""+a]):Dl.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&Re("scroll",r)}switch(n){case"input":mu(r),qw(r,s,!0);break;case"textarea":mu(r),Xw(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=Ad)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=ib(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[sr]=e,t[zl]=r,IT(t,e,!1,!1),e.stateNode=t;e:{switch(o=jm(n,r),n){case"dialog":Re("cancel",t),Re("close",t),i=r;break;case"iframe":case"object":case"embed":Re("load",t),i=r;break;case"video":case"audio":for(i=0;i<tl.length;i++)Re(tl[i],t);i=r;break;case"source":Re("error",t),i=r;break;case"img":case"image":case"link":Re("error",t),Re("load",t),i=r;break;case"details":Re("toggle",t),i=r;break;case"input":Kw(t,r),i=Am(t,r),Re("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=Ue({},r,{value:void 0}),Re("invalid",t);break;case"textarea":Yw(t,r),i=Om(t,r),Re("invalid",t);break;default:i=r}Lm(n,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?ab(t,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&sb(t,l)):s==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&Ol(t,l):typeof l=="number"&&Ol(t,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(Dl.hasOwnProperty(s)?l!=null&&s==="onScroll"&&Re("scroll",t):l!=null&&By(t,s,l,o))}switch(n){case"input":mu(t),qw(t,r,!1);break;case"textarea":mu(t),Xw(t);break;case"option":r.value!=null&&t.setAttribute("value",""+bi(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?xo(t,!!r.multiple,s,!1):r.defaultValue!=null&&xo(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=Ad)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Et(e),null;case 6:if(t&&e.stateNode!=null)RT(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error($(166));if(n=ls(Hl.current),ls(lr.current),Su(e)){if(r=e.stateNode,n=e.memoizedProps,r[sr]=e,(s=r.nodeValue!==n)&&(t=sn,t!==null))switch(t.tag){case 3:Cu(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Cu(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[sr]=e,e.stateNode=r}return Et(e),null;case 13:if(Ae(Le),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(De&&rn!==null&&e.mode&1&&!(e.flags&128))qb(),jo(),e.flags|=98560,s=!1;else if(s=Su(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error($(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error($(317));s[sr]=e}else jo(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Et(e),s=!1}else jn!==null&&(yg(jn),jn=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||Le.current&1?rt===0&&(rt=3):Sv())),e.updateQueue!==null&&(e.flags|=4),Et(e),null);case 4:return $o(),cg(t,e),t===null&&Vl(e.stateNode.containerInfo),Et(e),null;case 10:return av(e.type._context),Et(e),null;case 17:return Qt(e.type)&&Nd(),Et(e),null;case 19:if(Ae(Le),s=e.memoizedState,s===null)return Et(e),null;if(r=(e.flags&128)!==0,o=s.rendering,o===null)if(r)$a(s,!1);else{if(rt!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=$d(t),o!==null){for(e.flags|=128,$a(s,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Ie(Le,Le.current&1|2),e.child}t=t.sibling}s.tail!==null&&Ye()>Vo&&(e.flags|=128,r=!0,$a(s,!1),e.lanes=4194304)}else{if(!r)if(t=$d(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),$a(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!De)return Et(e),null}else 2*Ye()-s.renderingStartTime>Vo&&n!==1073741824&&(e.flags|=128,r=!0,$a(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(n=s.last,n!==null?n.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=Ye(),e.sibling=null,n=Le.current,Ie(Le,r?n&1|2:n&1),e):(Et(e),null);case 22:case 23:return Cv(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?tn&1073741824&&(Et(e),e.subtreeFlags&6&&(e.flags|=8192)):Et(e),null;case 24:return null;case 25:return null}throw Error($(156,e.tag))}function lO(t,e){switch(rv(e),e.tag){case 1:return Qt(e.type)&&Nd(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return $o(),Ae(Xt),Ae(Pt),hv(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return dv(e),null;case 13:if(Ae(Le),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error($(340));jo()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Ae(Le),null;case 4:return $o(),null;case 10:return av(e.type._context),null;case 22:case 23:return Cv(),null;case 24:return null;default:return null}}var ku=!1,bt=!1,cO=typeof WeakSet=="function"?WeakSet:Set,G=null;function fo(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){We(t,e,r)}else n.current=null}function ug(t,e,n){try{n()}catch(r){We(t,e,r)}}var $x=!1;function uO(t,e){if(Km=Id,t=Mb(),tv(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,c=0,d=0,h=t,f=null;t:for(;;){for(var y;h!==n||i!==0&&h.nodeType!==3||(a=o+i),h!==s||r!==0&&h.nodeType!==3||(l=o+r),h.nodeType===3&&(o+=h.nodeValue.length),(y=h.firstChild)!==null;)f=h,h=y;for(;;){if(h===t)break t;if(f===n&&++c===i&&(a=o),f===s&&++d===r&&(l=o),(y=h.nextSibling)!==null)break;h=f,f=h.parentNode}h=y}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(qm={focusedElem:t,selectionRange:n},Id=!1,G=e;G!==null;)if(e=G,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,G=t;else for(;G!==null;){e=G;try{var v=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(v!==null){var b=v.memoizedProps,P=v.memoizedState,w=e.stateNode,C=w.getSnapshotBeforeUpdate(e.elementType===e.type?b:Mn(e.type,b),P);w.__reactInternalSnapshotBeforeUpdate=C}break;case 3:var x=e.stateNode.containerInfo;x.nodeType===1?x.textContent="":x.nodeType===9&&x.documentElement&&x.removeChild(x.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error($(163))}}catch(A){We(e,e.return,A)}if(t=e.sibling,t!==null){t.return=e.return,G=t;break}G=e.return}return v=$x,$x=!1,v}function ml(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&ug(e,n,s)}i=i.next}while(i!==r)}}function $h(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function dg(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function AT(t){var e=t.alternate;e!==null&&(t.alternate=null,AT(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[sr],delete e[zl],delete e[Qm],delete e[GD],delete e[KD])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function NT(t){return t.tag===5||t.tag===3||t.tag===4}function Ux(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||NT(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function hg(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Ad));else if(r!==4&&(t=t.child,t!==null))for(hg(t,e,n),t=t.sibling;t!==null;)hg(t,e,n),t=t.sibling}function fg(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(fg(t,e,n),t=t.sibling;t!==null;)fg(t,e,n),t=t.sibling}var ut=null,Ln=!1;function ti(t,e,n){for(n=n.child;n!==null;)DT(t,e,n),n=n.sibling}function DT(t,e,n){if(ar&&typeof ar.onCommitFiberUnmount=="function")try{ar.onCommitFiberUnmount(Ah,n)}catch{}switch(n.tag){case 5:bt||fo(n,e);case 6:var r=ut,i=Ln;ut=null,ti(t,e,n),ut=r,Ln=i,ut!==null&&(Ln?(t=ut,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):ut.removeChild(n.stateNode));break;case 18:ut!==null&&(Ln?(t=ut,n=n.stateNode,t.nodeType===8?Tp(t.parentNode,n):t.nodeType===1&&Tp(t,n),Fl(t)):Tp(ut,n.stateNode));break;case 4:r=ut,i=Ln,ut=n.stateNode.containerInfo,Ln=!0,ti(t,e,n),ut=r,Ln=i;break;case 0:case 11:case 14:case 15:if(!bt&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&ug(n,e,o),i=i.next}while(i!==r)}ti(t,e,n);break;case 1:if(!bt&&(fo(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){We(n,e,a)}ti(t,e,n);break;case 21:ti(t,e,n);break;case 22:n.mode&1?(bt=(r=bt)||n.memoizedState!==null,ti(t,e,n),bt=r):ti(t,e,n);break;default:ti(t,e,n)}}function Vx(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new cO),e.forEach(function(r){var i=_O.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function Dn(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:ut=a.stateNode,Ln=!1;break e;case 3:ut=a.stateNode.containerInfo,Ln=!0;break e;case 4:ut=a.stateNode.containerInfo,Ln=!0;break e}a=a.return}if(ut===null)throw Error($(160));DT(s,o,i),ut=null,Ln=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(c){We(i,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)OT(e,t),e=e.sibling}function OT(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Dn(e,t),Zn(t),r&4){try{ml(3,t,t.return),$h(3,t)}catch(b){We(t,t.return,b)}try{ml(5,t,t.return)}catch(b){We(t,t.return,b)}}break;case 1:Dn(e,t),Zn(t),r&512&&n!==null&&fo(n,n.return);break;case 5:if(Dn(e,t),Zn(t),r&512&&n!==null&&fo(n,n.return),t.flags&32){var i=t.stateNode;try{Ol(i,"")}catch(b){We(t,t.return,b)}}if(r&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,o=n!==null?n.memoizedProps:s,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&nb(i,s),jm(a,o);var c=jm(a,s);for(o=0;o<l.length;o+=2){var d=l[o],h=l[o+1];d==="style"?ab(i,h):d==="dangerouslySetInnerHTML"?sb(i,h):d==="children"?Ol(i,h):By(i,d,h,c)}switch(a){case"input":Nm(i,s);break;case"textarea":rb(i,s);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var y=s.value;y!=null?xo(i,!!s.multiple,y,!1):f!==!!s.multiple&&(s.defaultValue!=null?xo(i,!!s.multiple,s.defaultValue,!0):xo(i,!!s.multiple,s.multiple?[]:"",!1))}i[zl]=s}catch(b){We(t,t.return,b)}}break;case 6:if(Dn(e,t),Zn(t),r&4){if(t.stateNode===null)throw Error($(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(b){We(t,t.return,b)}}break;case 3:if(Dn(e,t),Zn(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Fl(e.containerInfo)}catch(b){We(t,t.return,b)}break;case 4:Dn(e,t),Zn(t);break;case 13:Dn(e,t),Zn(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(xv=Ye())),r&4&&Vx(t);break;case 22:if(d=n!==null&&n.memoizedState!==null,t.mode&1?(bt=(c=bt)||d,Dn(e,t),bt=c):Dn(e,t),Zn(t),r&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!d&&t.mode&1)for(G=t,d=t.child;d!==null;){for(h=G=d;G!==null;){switch(f=G,y=f.child,f.tag){case 0:case 11:case 14:case 15:ml(4,f,f.return);break;case 1:fo(f,f.return);var v=f.stateNode;if(typeof v.componentWillUnmount=="function"){r=f,n=f.return;try{e=r,v.props=e.memoizedProps,v.state=e.memoizedState,v.componentWillUnmount()}catch(b){We(r,n,b)}}break;case 5:fo(f,f.return);break;case 22:if(f.memoizedState!==null){zx(h);continue}}y!==null?(y.return=f,G=y):zx(h)}d=d.sibling}e:for(d=null,h=t;;){if(h.tag===5){if(d===null){d=h;try{i=h.stateNode,c?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=h.stateNode,l=h.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=ob("display",o))}catch(b){We(t,t.return,b)}}}else if(h.tag===6){if(d===null)try{h.stateNode.nodeValue=c?"":h.memoizedProps}catch(b){We(t,t.return,b)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===t)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===t)break e;for(;h.sibling===null;){if(h.return===null||h.return===t)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:Dn(e,t),Zn(t),r&4&&Vx(t);break;case 21:break;default:Dn(e,t),Zn(t)}}function Zn(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(NT(n)){var r=n;break e}n=n.return}throw Error($(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Ol(i,""),r.flags&=-33);var s=Ux(t);fg(t,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,a=Ux(t);hg(t,a,o);break;default:throw Error($(161))}}catch(l){We(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function dO(t,e,n){G=t,MT(t)}function MT(t,e,n){for(var r=(t.mode&1)!==0;G!==null;){var i=G,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||ku;if(!o){var a=i.alternate,l=a!==null&&a.memoizedState!==null||bt;a=ku;var c=bt;if(ku=o,(bt=l)&&!c)for(G=i;G!==null;)o=G,l=o.child,o.tag===22&&o.memoizedState!==null?Wx(i):l!==null?(l.return=o,G=l):Wx(i);for(;s!==null;)G=s,MT(s),s=s.sibling;G=i,ku=a,bt=c}Bx(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,G=s):Bx(t)}}function Bx(t){for(;G!==null;){var e=G;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:bt||$h(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!bt)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:Mn(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&Tx(e,s,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}Tx(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var d=c.memoizedState;if(d!==null){var h=d.dehydrated;h!==null&&Fl(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error($(163))}bt||e.flags&512&&dg(e)}catch(f){We(e,e.return,f)}}if(e===t){G=null;break}if(n=e.sibling,n!==null){n.return=e.return,G=n;break}G=e.return}}function zx(t){for(;G!==null;){var e=G;if(e===t){G=null;break}var n=e.sibling;if(n!==null){n.return=e.return,G=n;break}G=e.return}}function Wx(t){for(;G!==null;){var e=G;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{$h(4,e)}catch(l){We(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){We(e,i,l)}}var s=e.return;try{dg(e)}catch(l){We(e,s,l)}break;case 5:var o=e.return;try{dg(e)}catch(l){We(e,o,l)}}}catch(l){We(e,e.return,l)}if(e===t){G=null;break}var a=e.sibling;if(a!==null){a.return=e.return,G=a;break}G=e.return}}var hO=Math.ceil,Bd=qr.ReactCurrentDispatcher,_v=qr.ReactCurrentOwner,Cn=qr.ReactCurrentBatchConfig,de=0,lt=null,Ze=null,mt=0,tn=0,po=Li(0),rt=0,Yl=null,Cs=0,Uh=0,wv=0,gl=null,Wt=null,xv=0,Vo=1/0,Er=null,zd=!1,pg=null,_i=null,Iu=!1,hi=null,Wd=0,yl=0,mg=null,nd=-1,rd=0;function Ft(){return de&6?Ye():nd!==-1?nd:nd=Ye()}function wi(t){return t.mode&1?de&2&&mt!==0?mt&-mt:YD.transition!==null?(rd===0&&(rd=_b()),rd):(t=ye,t!==0||(t=window.event,t=t===void 0?16:Tb(t.type)),t):1}function Wn(t,e,n,r){if(50<yl)throw yl=0,mg=null,Error($(185));Ec(t,n,r),(!(de&2)||t!==lt)&&(t===lt&&(!(de&2)&&(Uh|=n),rt===4&&ai(t,mt)),Jt(t,r),n===1&&de===0&&!(e.mode&1)&&(Vo=Ye()+500,Lh&&ji()))}function Jt(t,e){var n=t.callbackNode;Y2(t,e);var r=kd(t,t===lt?mt:0);if(r===0)n!==null&&Zw(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&Zw(n),e===1)t.tag===0?qD(Hx.bind(null,t)):Hb(Hx.bind(null,t)),WD(function(){!(de&6)&&ji()}),n=null;else{switch(wb(r)){case 1:n=Ky;break;case 4:n=yb;break;case 16:n=Td;break;case 536870912:n=vb;break;default:n=Td}n=zT(n,LT.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function LT(t,e){if(nd=-1,rd=0,de&6)throw Error($(327));var n=t.callbackNode;if(To()&&t.callbackNode!==n)return null;var r=kd(t,t===lt?mt:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Hd(t,r);else{e=r;var i=de;de|=2;var s=FT();(lt!==t||mt!==e)&&(Er=null,Vo=Ye()+500,ps(t,e));do try{mO();break}catch(a){jT(t,a)}while(1);ov(),Bd.current=s,de=i,Ze!==null?e=0:(lt=null,mt=0,e=rt)}if(e!==0){if(e===2&&(i=Bm(t),i!==0&&(r=i,e=gg(t,i))),e===1)throw n=Yl,ps(t,0),ai(t,r),Jt(t,Ye()),n;if(e===6)ai(t,r);else{if(i=t.current.alternate,!(r&30)&&!fO(i)&&(e=Hd(t,r),e===2&&(s=Bm(t),s!==0&&(r=s,e=gg(t,s))),e===1))throw n=Yl,ps(t,0),ai(t,r),Jt(t,Ye()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error($(345));case 2:Ji(t,Wt,Er);break;case 3:if(ai(t,r),(r&130023424)===r&&(e=xv+500-Ye(),10<e)){if(kd(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){Ft(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=Xm(Ji.bind(null,t,Wt,Er),e);break}Ji(t,Wt,Er);break;case 4:if(ai(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var o=31-zn(r);s=1<<o,o=e[o],o>i&&(i=o),r&=~s}if(r=i,r=Ye()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*hO(r/1960))-r,10<r){t.timeoutHandle=Xm(Ji.bind(null,t,Wt,Er),r);break}Ji(t,Wt,Er);break;case 5:Ji(t,Wt,Er);break;default:throw Error($(329))}}}return Jt(t,Ye()),t.callbackNode===n?LT.bind(null,t):null}function gg(t,e){var n=gl;return t.current.memoizedState.isDehydrated&&(ps(t,e).flags|=256),t=Hd(t,e),t!==2&&(e=Wt,Wt=n,e!==null&&yg(e)),t}function yg(t){Wt===null?Wt=t:Wt.push.apply(Wt,t)}function fO(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!Kn(s(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function ai(t,e){for(e&=~wv,e&=~Uh,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-zn(e),r=1<<n;t[n]=-1,e&=~r}}function Hx(t){if(de&6)throw Error($(327));To();var e=kd(t,0);if(!(e&1))return Jt(t,Ye()),null;var n=Hd(t,e);if(t.tag!==0&&n===2){var r=Bm(t);r!==0&&(e=r,n=gg(t,r))}if(n===1)throw n=Yl,ps(t,0),ai(t,e),Jt(t,Ye()),n;if(n===6)throw Error($(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Ji(t,Wt,Er),Jt(t,Ye()),null}function Ev(t,e){var n=de;de|=1;try{return t(e)}finally{de=n,de===0&&(Vo=Ye()+500,Lh&&ji())}}function Ss(t){hi!==null&&hi.tag===0&&!(de&6)&&To();var e=de;de|=1;var n=Cn.transition,r=ye;try{if(Cn.transition=null,ye=1,t)return t()}finally{ye=r,Cn.transition=n,de=e,!(de&6)&&ji()}}function Cv(){tn=po.current,Ae(po)}function ps(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,zD(n)),Ze!==null)for(n=Ze.return;n!==null;){var r=n;switch(rv(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Nd();break;case 3:$o(),Ae(Xt),Ae(Pt),hv();break;case 5:dv(r);break;case 4:$o();break;case 13:Ae(Le);break;case 19:Ae(Le);break;case 10:av(r.type._context);break;case 22:case 23:Cv()}n=n.return}if(lt=t,Ze=t=xi(t.current,null),mt=tn=e,rt=0,Yl=null,wv=Uh=Cs=0,Wt=gl=null,as!==null){for(e=0;e<as.length;e++)if(n=as[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}as=null}return t}function jT(t,e){do{var n=Ze;try{if(ov(),Zu.current=Vd,Ud){for(var r=Fe.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Ud=!1}if(Es=0,ot=et=Fe=null,pl=!1,Gl=0,_v.current=null,n===null||n.return===null){rt=1,Yl=e,Ze=null;break}e:{var s=t,o=n.return,a=n,l=e;if(e=mt,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,d=a,h=d.tag;if(!(d.mode&1)&&(h===0||h===11||h===15)){var f=d.alternate;f?(d.updateQueue=f.updateQueue,d.memoizedState=f.memoizedState,d.lanes=f.lanes):(d.updateQueue=null,d.memoizedState=null)}var y=Nx(o);if(y!==null){y.flags&=-257,Dx(y,o,a,s,e),y.mode&1&&Ax(s,c,e),e=y,l=c;var v=e.updateQueue;if(v===null){var b=new Set;b.add(l),e.updateQueue=b}else v.add(l);break e}else{if(!(e&1)){Ax(s,c,e),Sv();break e}l=Error($(426))}}else if(De&&a.mode&1){var P=Nx(o);if(P!==null){!(P.flags&65536)&&(P.flags|=256),Dx(P,o,a,s,e),iv(Uo(l,a));break e}}s=l=Uo(l,a),rt!==4&&(rt=2),gl===null?gl=[s]:gl.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var w=wT(s,l,e);bx(s,w);break e;case 1:a=l;var C=s.type,x=s.stateNode;if(!(s.flags&128)&&(typeof C.getDerivedStateFromError=="function"||x!==null&&typeof x.componentDidCatch=="function"&&(_i===null||!_i.has(x)))){s.flags|=65536,e&=-e,s.lanes|=e;var A=xT(s,a,e);bx(s,A);break e}}s=s.return}while(s!==null)}UT(n)}catch(D){e=D,Ze===n&&n!==null&&(Ze=n=n.return);continue}break}while(1)}function FT(){var t=Bd.current;return Bd.current=Vd,t===null?Vd:t}function Sv(){(rt===0||rt===3||rt===2)&&(rt=4),lt===null||!(Cs&268435455)&&!(Uh&268435455)||ai(lt,mt)}function Hd(t,e){var n=de;de|=2;var r=FT();(lt!==t||mt!==e)&&(Er=null,ps(t,e));do try{pO();break}catch(i){jT(t,i)}while(1);if(ov(),de=n,Bd.current=r,Ze!==null)throw Error($(261));return lt=null,mt=0,rt}function pO(){for(;Ze!==null;)$T(Ze)}function mO(){for(;Ze!==null&&!U2();)$T(Ze)}function $T(t){var e=BT(t.alternate,t,tn);t.memoizedProps=t.pendingProps,e===null?UT(t):Ze=e,_v.current=null}function UT(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=lO(n,e),n!==null){n.flags&=32767,Ze=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{rt=6,Ze=null;return}}else if(n=aO(n,e,tn),n!==null){Ze=n;return}if(e=e.sibling,e!==null){Ze=e;return}Ze=e=t}while(e!==null);rt===0&&(rt=5)}function Ji(t,e,n){var r=ye,i=Cn.transition;try{Cn.transition=null,ye=1,gO(t,e,n,r)}finally{Cn.transition=i,ye=r}return null}function gO(t,e,n,r){do To();while(hi!==null);if(de&6)throw Error($(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error($(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(X2(t,s),t===lt&&(Ze=lt=null,mt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Iu||(Iu=!0,zT(Td,function(){return To(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=Cn.transition,Cn.transition=null;var o=ye;ye=1;var a=de;de|=4,_v.current=null,uO(t,n),OT(n,t),LD(qm),Id=!!Km,qm=Km=null,t.current=n,dO(n),V2(),de=a,ye=o,Cn.transition=s}else t.current=n;if(Iu&&(Iu=!1,hi=t,Wd=i),s=t.pendingLanes,s===0&&(_i=null),W2(n.stateNode),Jt(t,Ye()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(zd)throw zd=!1,t=pg,pg=null,t;return Wd&1&&t.tag!==0&&To(),s=t.pendingLanes,s&1?t===mg?yl++:(yl=0,mg=t):yl=0,ji(),null}function To(){if(hi!==null){var t=wb(Wd),e=Cn.transition,n=ye;try{if(Cn.transition=null,ye=16>t?16:t,hi===null)var r=!1;else{if(t=hi,hi=null,Wd=0,de&6)throw Error($(331));var i=de;for(de|=4,G=t.current;G!==null;){var s=G,o=s.child;if(G.flags&16){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var c=a[l];for(G=c;G!==null;){var d=G;switch(d.tag){case 0:case 11:case 15:ml(8,d,s)}var h=d.child;if(h!==null)h.return=d,G=h;else for(;G!==null;){d=G;var f=d.sibling,y=d.return;if(AT(d),d===c){G=null;break}if(f!==null){f.return=y,G=f;break}G=y}}}var v=s.alternate;if(v!==null){var b=v.child;if(b!==null){v.child=null;do{var P=b.sibling;b.sibling=null,b=P}while(b!==null)}}G=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,G=o;else e:for(;G!==null;){if(s=G,s.flags&2048)switch(s.tag){case 0:case 11:case 15:ml(9,s,s.return)}var w=s.sibling;if(w!==null){w.return=s.return,G=w;break e}G=s.return}}var C=t.current;for(G=C;G!==null;){o=G;var x=o.child;if(o.subtreeFlags&2064&&x!==null)x.return=o,G=x;else e:for(o=C;G!==null;){if(a=G,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:$h(9,a)}}catch(D){We(a,a.return,D)}if(a===o){G=null;break e}var A=a.sibling;if(A!==null){A.return=a.return,G=A;break e}G=a.return}}if(de=i,ji(),ar&&typeof ar.onPostCommitFiberRoot=="function")try{ar.onPostCommitFiberRoot(Ah,t)}catch{}r=!0}return r}finally{ye=n,Cn.transition=e}}return!1}function Gx(t,e,n){e=Uo(n,e),e=wT(t,e,1),t=vi(t,e,1),e=Ft(),t!==null&&(Ec(t,1,e),Jt(t,e))}function We(t,e,n){if(t.tag===3)Gx(t,t,n);else for(;e!==null;){if(e.tag===3){Gx(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(_i===null||!_i.has(r))){t=Uo(n,t),t=xT(e,t,1),e=vi(e,t,1),t=Ft(),e!==null&&(Ec(e,1,t),Jt(e,t));break}}e=e.return}}function yO(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Ft(),t.pingedLanes|=t.suspendedLanes&n,lt===t&&(mt&n)===n&&(rt===4||rt===3&&(mt&130023424)===mt&&500>Ye()-xv?ps(t,0):wv|=n),Jt(t,e)}function VT(t,e){e===0&&(t.mode&1?(e=vu,vu<<=1,!(vu&130023424)&&(vu=4194304)):e=1);var n=Ft();t=$r(t,e),t!==null&&(Ec(t,e,n),Jt(t,n))}function vO(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),VT(t,n)}function _O(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error($(314))}r!==null&&r.delete(e),VT(t,n)}var BT;BT=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Xt.current)Kt=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Kt=!1,oO(t,e,n);Kt=!!(t.flags&131072)}else Kt=!1,De&&e.flags&1048576&&Gb(e,Md,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;td(t,e),t=e.pendingProps;var i=Lo(e,Pt.current);bo(e,n),i=pv(null,e,r,t,i,n);var s=mv();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Qt(r)?(s=!0,Dd(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,cv(e),i.updater=Fh,e.stateNode=i,i._reactInternals=e,rg(e,r,t,n),e=og(null,e,r,!0,s,n)):(e.tag=0,De&&s&&nv(e),Dt(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(td(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=xO(r),t=Mn(r,t),i){case 0:e=sg(null,e,r,t,n);break e;case 1:e=Lx(null,e,r,t,n);break e;case 11:e=Ox(null,e,r,t,n);break e;case 14:e=Mx(null,e,r,Mn(r.type,t),n);break e}throw Error($(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Mn(r,i),sg(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Mn(r,i),Lx(t,e,r,i,n);case 3:e:{if(bT(e),t===null)throw Error($(387));r=e.pendingProps,s=e.memoizedState,i=s.element,Jb(t,e),Fd(e,r,null,n);var o=e.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=Uo(Error($(423)),e),e=jx(t,e,r,n,i);break e}else if(r!==i){i=Uo(Error($(424)),e),e=jx(t,e,r,n,i);break e}else for(rn=yi(e.stateNode.containerInfo.firstChild),sn=e,De=!0,jn=null,n=Xb(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(jo(),r===i){e=Ur(t,e,n);break e}Dt(t,e,r,n)}e=e.child}return e;case 5:return Zb(e),t===null&&eg(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,o=i.children,Ym(r,i)?o=null:s!==null&&Ym(r,s)&&(e.flags|=32),ST(t,e),Dt(t,e,o,n),e.child;case 6:return t===null&&eg(e),null;case 13:return TT(t,e,n);case 4:return uv(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Fo(e,null,r,n):Dt(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Mn(r,i),Ox(t,e,r,i,n);case 7:return Dt(t,e,e.pendingProps,n),e.child;case 8:return Dt(t,e,e.pendingProps.children,n),e.child;case 12:return Dt(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,Ie(Ld,r._currentValue),r._currentValue=o,s!==null)if(Kn(s.value,o)){if(s.children===i.children&&!Xt.current){e=Ur(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(s.tag===1){l=Ar(-1,n&-n),l.tag=2;var c=s.updateQueue;if(c!==null){c=c.shared;var d=c.pending;d===null?l.next=l:(l.next=d.next,d.next=l),c.pending=l}}s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),tg(s.return,n,e),a.lanes|=n;break}l=l.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error($(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),tg(o,n,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}Dt(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,bo(e,n),i=bn(i),r=r(i),e.flags|=1,Dt(t,e,r,n),e.child;case 14:return r=e.type,i=Mn(r,e.pendingProps),i=Mn(r.type,i),Mx(t,e,r,i,n);case 15:return ET(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Mn(r,i),td(t,e),e.tag=1,Qt(r)?(t=!0,Dd(e)):t=!1,bo(e,n),_T(e,r,i),rg(e,r,i,n),og(null,e,r,!0,t,n);case 19:return kT(t,e,n);case 22:return CT(t,e,n)}throw Error($(156,e.tag))};function zT(t,e){return gb(t,e)}function wO(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function xn(t,e,n,r){return new wO(t,e,n,r)}function bv(t){return t=t.prototype,!(!t||!t.isReactComponent)}function xO(t){if(typeof t=="function")return bv(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Wy)return 11;if(t===Hy)return 14}return 2}function xi(t,e){var n=t.alternate;return n===null?(n=xn(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function id(t,e,n,r,i,s){var o=2;if(r=t,typeof t=="function")bv(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case ro:return ms(n.children,i,s,e);case zy:o=8,i|=8;break;case km:return t=xn(12,n,e,i|2),t.elementType=km,t.lanes=s,t;case Im:return t=xn(13,n,e,i),t.elementType=Im,t.lanes=s,t;case Pm:return t=xn(19,n,e,i),t.elementType=Pm,t.lanes=s,t;case ZS:return Vh(n,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case QS:o=10;break e;case JS:o=9;break e;case Wy:o=11;break e;case Hy:o=14;break e;case ii:o=16,r=null;break e}throw Error($(130,t==null?t:typeof t,""))}return e=xn(o,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function ms(t,e,n,r){return t=xn(7,t,r,e),t.lanes=n,t}function Vh(t,e,n,r){return t=xn(22,t,r,e),t.elementType=ZS,t.lanes=n,t.stateNode={isHidden:!1},t}function Op(t,e,n){return t=xn(6,t,null,e),t.lanes=n,t}function Mp(t,e,n){return e=xn(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function EO(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=mp(0),this.expirationTimes=mp(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=mp(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Tv(t,e,n,r,i,s,o,a,l){return t=new EO(t,e,n,a,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=xn(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},cv(s),t}function CO(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:no,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function WT(t){if(!t)return Ti;t=t._reactInternals;e:{if(Ls(t)!==t||t.tag!==1)throw Error($(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Qt(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error($(171))}if(t.tag===1){var n=t.type;if(Qt(n))return Wb(t,n,e)}return e}function HT(t,e,n,r,i,s,o,a,l){return t=Tv(n,r,!0,t,i,s,o,a,l),t.context=WT(null),n=t.current,r=Ft(),i=wi(n),s=Ar(r,i),s.callback=e??null,vi(n,s,i),t.current.lanes=i,Ec(t,i,r),Jt(t,r),t}function Bh(t,e,n,r){var i=e.current,s=Ft(),o=wi(i);return n=WT(n),e.context===null?e.context=n:e.pendingContext=n,e=Ar(s,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=vi(i,e,o),t!==null&&(Wn(t,i,o,s),Ju(t,i,o)),o}function Gd(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Kx(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function kv(t,e){Kx(t,e),(t=t.alternate)&&Kx(t,e)}function SO(){return null}var GT=typeof reportError=="function"?reportError:function(t){console.error(t)};function Iv(t){this._internalRoot=t}zh.prototype.render=Iv.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error($(409));Bh(t,e,null,null)};zh.prototype.unmount=Iv.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Ss(function(){Bh(null,t,null,null)}),e[Fr]=null}};function zh(t){this._internalRoot=t}zh.prototype.unstable_scheduleHydration=function(t){if(t){var e=Cb();t={blockedOn:null,target:t,priority:e};for(var n=0;n<oi.length&&e!==0&&e<oi[n].priority;n++);oi.splice(n,0,t),n===0&&bb(t)}};function Pv(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Wh(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function qx(){}function bO(t,e,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var c=Gd(o);s.call(c)}}var o=HT(e,r,t,0,null,!1,!1,"",qx);return t._reactRootContainer=o,t[Fr]=o.current,Vl(t.nodeType===8?t.parentNode:t),Ss(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var c=Gd(l);a.call(c)}}var l=Tv(t,0,!1,null,null,!1,!1,"",qx);return t._reactRootContainer=l,t[Fr]=l.current,Vl(t.nodeType===8?t.parentNode:t),Ss(function(){Bh(e,l,n,r)}),l}function Hh(t,e,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var l=Gd(o);a.call(l)}}Bh(e,o,t,i)}else o=bO(n,e,t,i,r);return Gd(o)}xb=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=el(e.pendingLanes);n!==0&&(qy(e,n|1),Jt(e,Ye()),!(de&6)&&(Vo=Ye()+500,ji()))}break;case 13:Ss(function(){var r=$r(t,1);if(r!==null){var i=Ft();Wn(r,t,1,i)}}),kv(t,1)}};Yy=function(t){if(t.tag===13){var e=$r(t,134217728);if(e!==null){var n=Ft();Wn(e,t,134217728,n)}kv(t,134217728)}};Eb=function(t){if(t.tag===13){var e=wi(t),n=$r(t,e);if(n!==null){var r=Ft();Wn(n,t,e,r)}kv(t,e)}};Cb=function(){return ye};Sb=function(t,e){var n=ye;try{return ye=t,e()}finally{ye=n}};$m=function(t,e,n){switch(e){case"input":if(Nm(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=Mh(r);if(!i)throw Error($(90));tb(r),Nm(r,i)}}}break;case"textarea":rb(t,n);break;case"select":e=n.value,e!=null&&xo(t,!!n.multiple,e,!1)}};ub=Ev;db=Ss;var TO={usingClientEntryPoint:!1,Events:[Sc,ao,Mh,lb,cb,Ev]},Ua={findFiberByHostInstance:os,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},kO={bundleType:Ua.bundleType,version:Ua.version,rendererPackageName:Ua.rendererPackageName,rendererConfig:Ua.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:qr.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=pb(t),t===null?null:t.stateNode},findFiberByHostInstance:Ua.findFiberByHostInstance||SO,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Pu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Pu.isDisabled&&Pu.supportsFiber)try{Ah=Pu.inject(kO),ar=Pu}catch{}}un.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=TO;un.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Pv(e))throw Error($(200));return CO(t,e,null,n)};un.createRoot=function(t,e){if(!Pv(t))throw Error($(299));var n=!1,r="",i=GT;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=Tv(t,1,!1,null,null,n,!1,r,i),t[Fr]=e.current,Vl(t.nodeType===8?t.parentNode:t),new Iv(e)};un.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error($(188)):(t=Object.keys(t).join(","),Error($(268,t)));return t=pb(e),t=t===null?null:t.stateNode,t};un.flushSync=function(t){return Ss(t)};un.hydrate=function(t,e,n){if(!Wh(e))throw Error($(200));return Hh(null,t,e,!0,n)};un.hydrateRoot=function(t,e,n){if(!Pv(t))throw Error($(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=GT;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=HT(e,null,t,1,n??null,i,!1,s,o),t[Fr]=e.current,Vl(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new zh(e)};un.render=function(t,e,n){if(!Wh(e))throw Error($(200));return Hh(null,t,e,!1,n)};un.unmountComponentAtNode=function(t){if(!Wh(t))throw Error($(40));return t._reactRootContainer?(Ss(function(){Hh(null,null,t,!1,function(){t._reactRootContainer=null,t[Fr]=null})}),!0):!1};un.unstable_batchedUpdates=Ev;un.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Wh(n))throw Error($(200));if(t==null||t._reactInternals===void 0)throw Error($(38));return Hh(t,e,n,!1,r)};un.version="18.3.1-next-f1338f8080-20240426";function KT(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(KT)}catch(t){console.error(t)}}KT(),KS.exports=un;var Rv=KS.exports;const Ru=My(Rv);var Yx=Rv;bm.createRoot=Yx.createRoot,bm.hydrateRoot=Yx.hydrateRoot;const IO="modulepreload",PO=function(t){return"/EmproChampions-2025/"+t},Xx={},RO=function(e,n,r){if(!n||n.length===0)return e();const i=document.getElementsByTagName("link");return Promise.all(n.map(s=>{if(s=PO(s),s in Xx)return;Xx[s]=!0;const o=s.endsWith(".css"),a=o?'[rel="stylesheet"]':"";if(!!r)for(let d=i.length-1;d>=0;d--){const h=i[d];if(h.href===s&&(!o||h.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${s}"]${a}`))return;const c=document.createElement("link");if(c.rel=o?"stylesheet":IO,o||(c.as="script",c.crossOrigin=""),c.href=s,document.head.appendChild(c),o)return new Promise((d,h)=>{c.addEventListener("load",d),c.addEventListener("error",()=>h(new Error(`Unable to preload CSS for ${s}`)))})})).then(()=>e()).catch(s=>{const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=s,window.dispatchEvent(o),!o.defaultPrevented)throw s})};var Av={};Object.defineProperty(Av,"__esModule",{value:!0});Av.parse=jO;Av.serialize=FO;const AO=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,NO=/^[\u0021-\u003A\u003C-\u007E]*$/,DO=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,OO=/^[\u0020-\u003A\u003D-\u007E]*$/,MO=Object.prototype.toString,LO=(()=>{const t=function(){};return t.prototype=Object.create(null),t})();function jO(t,e){const n=new LO,r=t.length;if(r<2)return n;const i=(e==null?void 0:e.decode)||$O;let s=0;do{const o=t.indexOf("=",s);if(o===-1)break;const a=t.indexOf(";",s),l=a===-1?r:a;if(o>l){s=t.lastIndexOf(";",o-1)+1;continue}const c=Qx(t,s,o),d=Jx(t,o,c),h=t.slice(c,d);if(n[h]===void 0){let f=Qx(t,o+1,l),y=Jx(t,l,f);const v=i(t.slice(f,y));n[h]=v}s=l+1}while(s<r);return n}function Qx(t,e,n){do{const r=t.charCodeAt(e);if(r!==32&&r!==9)return e}while(++e<n);return n}function Jx(t,e,n){for(;e>n;){const r=t.charCodeAt(--e);if(r!==32&&r!==9)return e+1}return n}function FO(t,e,n){const r=(n==null?void 0:n.encode)||encodeURIComponent;if(!AO.test(t))throw new TypeError(`argument name is invalid: ${t}`);const i=r(e);if(!NO.test(i))throw new TypeError(`argument val is invalid: ${e}`);let s=t+"="+i;if(!n)return s;if(n.maxAge!==void 0){if(!Number.isInteger(n.maxAge))throw new TypeError(`option maxAge is invalid: ${n.maxAge}`);s+="; Max-Age="+n.maxAge}if(n.domain){if(!DO.test(n.domain))throw new TypeError(`option domain is invalid: ${n.domain}`);s+="; Domain="+n.domain}if(n.path){if(!OO.test(n.path))throw new TypeError(`option path is invalid: ${n.path}`);s+="; Path="+n.path}if(n.expires){if(!UO(n.expires)||!Number.isFinite(n.expires.valueOf()))throw new TypeError(`option expires is invalid: ${n.expires}`);s+="; Expires="+n.expires.toUTCString()}if(n.httpOnly&&(s+="; HttpOnly"),n.secure&&(s+="; Secure"),n.partitioned&&(s+="; Partitioned"),n.priority)switch(typeof n.priority=="string"?n.priority.toLowerCase():void 0){case"low":s+="; Priority=Low";break;case"medium":s+="; Priority=Medium";break;case"high":s+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${n.priority}`)}if(n.sameSite)switch(typeof n.sameSite=="string"?n.sameSite.toLowerCase():n.sameSite){case!0:case"strict":s+="; SameSite=Strict";break;case"lax":s+="; SameSite=Lax";break;case"none":s+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${n.sameSite}`)}return s}function $O(t){if(t.indexOf("%")===-1)return t;try{return decodeURIComponent(t)}catch{return t}}function UO(t){return MO.call(t)==="[object Date]"}var Zx="popstate";function VO(t={}){function e(r,i){let{pathname:s,search:o,hash:a}=r.location;return vg("",{pathname:s,search:o,hash:a},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:Xl(i)}return zO(e,n,null,t)}function Oe(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function qn(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function BO(){return Math.random().toString(36).substring(2,10)}function e1(t,e){return{usr:t.state,key:t.key,idx:e}}function vg(t,e,n=null,r){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?aa(e):e,state:n,key:e&&e.key||r||BO()}}function Xl({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function aa(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substring(r),t=t.substring(0,r)),t&&(e.pathname=t)}return e}function zO(t,e,n,r={}){let{window:i=document.defaultView,v5Compat:s=!1}=r,o=i.history,a="POP",l=null,c=d();c==null&&(c=0,o.replaceState({...o.state,idx:c},""));function d(){return(o.state||{idx:null}).idx}function h(){a="POP";let P=d(),w=P==null?null:P-c;c=P,l&&l({action:a,location:b.location,delta:w})}function f(P,w){a="PUSH";let C=vg(b.location,P,w);n&&n(C,P),c=d()+1;let x=e1(C,c),A=b.createHref(C);try{o.pushState(x,"",A)}catch(D){if(D instanceof DOMException&&D.name==="DataCloneError")throw D;i.location.assign(A)}s&&l&&l({action:a,location:b.location,delta:1})}function y(P,w){a="REPLACE";let C=vg(b.location,P,w);n&&n(C,P),c=d();let x=e1(C,c),A=b.createHref(C);o.replaceState(x,"",A),s&&l&&l({action:a,location:b.location,delta:0})}function v(P){return WO(P)}let b={get action(){return a},get location(){return t(i,o)},listen(P){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(Zx,h),l=P,()=>{i.removeEventListener(Zx,h),l=null}},createHref(P){return e(i,P)},createURL:v,encodeLocation(P){let w=v(P);return{pathname:w.pathname,search:w.search,hash:w.hash}},push:f,replace:y,go(P){return o.go(P)}};return b}function WO(t,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),Oe(n,"No window.location.(origin|href) available to create URL");let r=typeof t=="string"?t:Xl(t);return r=r.replace(/ $/,"%20"),!e&&r.startsWith("//")&&(r=n+r),new URL(r,n)}function qT(t,e,n="/"){return HO(t,e,n,!1)}function HO(t,e,n,r){let i=typeof e=="string"?aa(e):e,s=Vr(i.pathname||"/",n);if(s==null)return null;let o=YT(t);GO(o);let a=null;for(let l=0;a==null&&l<o.length;++l){let c=rM(s);a=tM(o[l],c,r)}return a}function YT(t,e=[],n=[],r=""){let i=(s,o,a)=>{let l={relativePath:a===void 0?s.path||"":a,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};l.relativePath.startsWith("/")&&(Oe(l.relativePath.startsWith(r),`Absolute route path "${l.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),l.relativePath=l.relativePath.slice(r.length));let c=Nr([r,l.relativePath]),d=n.concat(l);s.children&&s.children.length>0&&(Oe(s.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${c}".`),YT(s.children,e,d,c)),!(s.path==null&&!s.index)&&e.push({path:c,score:ZO(c,s.index),routesMeta:d})};return t.forEach((s,o)=>{var a;if(s.path===""||!((a=s.path)!=null&&a.includes("?")))i(s,o);else for(let l of XT(s.path))i(s,o,l)}),e}function XT(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let o=XT(r.join("/")),a=[];return a.push(...o.map(l=>l===""?s:[s,l].join("/"))),i&&a.push(...o),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function GO(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:eM(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var KO=/^:[\w-]+$/,qO=3,YO=2,XO=1,QO=10,JO=-2,t1=t=>t==="*";function ZO(t,e){let n=t.split("/"),r=n.length;return n.some(t1)&&(r+=JO),e&&(r+=YO),n.filter(i=>!t1(i)).reduce((i,s)=>i+(KO.test(s)?qO:s===""?XO:QO),r)}function eM(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function tM(t,e,n=!1){let{routesMeta:r}=t,i={},s="/",o=[];for(let a=0;a<r.length;++a){let l=r[a],c=a===r.length-1,d=s==="/"?e:e.slice(s.length)||"/",h=Kd({path:l.relativePath,caseSensitive:l.caseSensitive,end:c},d),f=l.route;if(!h&&c&&n&&!r[r.length-1].route.index&&(h=Kd({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},d)),!h)return null;Object.assign(i,h.params),o.push({params:i,pathname:Nr([s,h.pathname]),pathnameBase:aM(Nr([s,h.pathnameBase])),route:f}),h.pathnameBase!=="/"&&(s=Nr([s,h.pathnameBase]))}return o}function Kd(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=nM(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((c,{paramName:d,isOptional:h},f)=>{if(d==="*"){let v=a[f]||"";o=s.slice(0,s.length-v.length).replace(/(.)\/+$/,"$1")}const y=a[f];return h&&!y?c[d]=void 0:c[d]=(y||"").replace(/%2F/g,"/"),c},{}),pathname:s,pathnameBase:o,pattern:t}}function nM(t,e=!1,n=!0){qn(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,l)=>(r.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function rM(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return qn(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function Vr(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function iM(t,e="/"){let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?aa(t):t;return{pathname:n?n.startsWith("/")?n:sM(n,e):e,search:lM(r),hash:cM(i)}}function sM(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function Lp(t,e,n,r){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function oM(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Nv(t){let e=oM(t);return e.map((n,r)=>r===e.length-1?n.pathname:n.pathnameBase)}function Dv(t,e,n,r=!1){let i;typeof t=="string"?i=aa(t):(i={...t},Oe(!i.pathname||!i.pathname.includes("?"),Lp("?","pathname","search",i)),Oe(!i.pathname||!i.pathname.includes("#"),Lp("#","pathname","hash",i)),Oe(!i.search||!i.search.includes("#"),Lp("#","search","hash",i)));let s=t===""||i.pathname==="",o=s?"/":i.pathname,a;if(o==null)a=n;else{let h=e.length-1;if(!r&&o.startsWith("..")){let f=o.split("/");for(;f[0]==="..";)f.shift(),h-=1;i.pathname=f.join("/")}a=h>=0?e[h]:"/"}let l=iM(i,a),c=o&&o!=="/"&&o.endsWith("/"),d=(s||o===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(c||d)&&(l.pathname+="/"),l}var Nr=t=>t.join("/").replace(/\/\/+/g,"/"),aM=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),lM=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,cM=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function uM(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}var QT=["POST","PUT","PATCH","DELETE"];new Set(QT);var dM=["GET",...QT];new Set(dM);var la=k.createContext(null);la.displayName="DataRouter";var Gh=k.createContext(null);Gh.displayName="DataRouterState";var JT=k.createContext({isTransitioning:!1});JT.displayName="ViewTransition";var hM=k.createContext(new Map);hM.displayName="Fetchers";var fM=k.createContext(null);fM.displayName="Await";var Yn=k.createContext(null);Yn.displayName="Navigation";var Tc=k.createContext(null);Tc.displayName="Location";var Xn=k.createContext({outlet:null,matches:[],isDataRoute:!1});Xn.displayName="Route";var Ov=k.createContext(null);Ov.displayName="RouteError";function pM(t,{relative:e}={}){Oe(ca(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=k.useContext(Yn),{hash:i,pathname:s,search:o}=kc(t,{relative:e}),a=s;return n!=="/"&&(a=s==="/"?n:Nr([n,s])),r.createHref({pathname:a,search:o,hash:i})}function ca(){return k.useContext(Tc)!=null}function mr(){return Oe(ca(),"useLocation() may be used only in the context of a <Router> component."),k.useContext(Tc).location}var ZT="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function ek(t){k.useContext(Yn).static||k.useLayoutEffect(t)}function Fi(){let{isDataRoute:t}=k.useContext(Xn);return t?IM():mM()}function mM(){Oe(ca(),"useNavigate() may be used only in the context of a <Router> component.");let t=k.useContext(la),{basename:e,navigator:n}=k.useContext(Yn),{matches:r}=k.useContext(Xn),{pathname:i}=mr(),s=JSON.stringify(Nv(r)),o=k.useRef(!1);return ek(()=>{o.current=!0}),k.useCallback((l,c={})=>{if(qn(o.current,ZT),!o.current)return;if(typeof l=="number"){n.go(l);return}let d=Dv(l,JSON.parse(s),i,c.relative==="path");t==null&&e!=="/"&&(d.pathname=d.pathname==="/"?e:Nr([e,d.pathname])),(c.replace?n.replace:n.push)(d,c.state,c)},[e,n,s,i,t])}k.createContext(null);function gM(){let{matches:t}=k.useContext(Xn),e=t[t.length-1];return e?e.params:{}}function kc(t,{relative:e}={}){let{matches:n}=k.useContext(Xn),{pathname:r}=mr(),i=JSON.stringify(Nv(n));return k.useMemo(()=>Dv(t,JSON.parse(i),r,e==="path"),[t,i,r,e])}function yM(t,e){return tk(t,e)}function tk(t,e,n,r){var C;Oe(ca(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:i,static:s}=k.useContext(Yn),{matches:o}=k.useContext(Xn),a=o[o.length-1],l=a?a.params:{},c=a?a.pathname:"/",d=a?a.pathnameBase:"/",h=a&&a.route;{let x=h&&h.path||"";nk(c,!h||x.endsWith("*")||x.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${c}" (under <Route path="${x}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${x}"> to <Route path="${x==="/"?"*":`${x}/*`}">.`)}let f=mr(),y;if(e){let x=typeof e=="string"?aa(e):e;Oe(d==="/"||((C=x.pathname)==null?void 0:C.startsWith(d)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${d}" but pathname "${x.pathname}" was given in the \`location\` prop.`),y=x}else y=f;let v=y.pathname||"/",b=v;if(d!=="/"){let x=d.replace(/^\//,"").split("/");b="/"+v.replace(/^\//,"").split("/").slice(x.length).join("/")}let P=!s&&n&&n.matches&&n.matches.length>0?n.matches:qT(t,{pathname:b});qn(h||P!=null,`No routes matched location "${y.pathname}${y.search}${y.hash}" `),qn(P==null||P[P.length-1].route.element!==void 0||P[P.length-1].route.Component!==void 0||P[P.length-1].route.lazy!==void 0,`Matched leaf route at location "${y.pathname}${y.search}${y.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let w=EM(P&&P.map(x=>Object.assign({},x,{params:Object.assign({},l,x.params),pathname:Nr([d,i.encodeLocation?i.encodeLocation(x.pathname).pathname:x.pathname]),pathnameBase:x.pathnameBase==="/"?d:Nr([d,i.encodeLocation?i.encodeLocation(x.pathnameBase).pathname:x.pathnameBase])})),o,n,r);return e&&w?k.createElement(Tc.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...y},navigationType:"POP"}},w):w}function vM(){let t=kM(),e=uM(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,r="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:r},s={padding:"2px 4px",backgroundColor:r},o=null;return console.error("Error handled by React Router default ErrorBoundary:",t),o=k.createElement(k.Fragment,null,k.createElement("p",null,"💿 Hey developer 👋"),k.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",k.createElement("code",{style:s},"ErrorBoundary")," or"," ",k.createElement("code",{style:s},"errorElement")," prop on your route.")),k.createElement(k.Fragment,null,k.createElement("h2",null,"Unexpected Application Error!"),k.createElement("h3",{style:{fontStyle:"italic"}},e),n?k.createElement("pre",{style:i},n):null,o)}var _M=k.createElement(vM,null),wM=class extends k.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){console.error("React Router caught the following error during render",t,e)}render(){return this.state.error!==void 0?k.createElement(Xn.Provider,{value:this.props.routeContext},k.createElement(Ov.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function xM({routeContext:t,match:e,children:n}){let r=k.useContext(la);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),k.createElement(Xn.Provider,{value:t},n)}function EM(t,e=[],n=null,r=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let i=t,s=n==null?void 0:n.errors;if(s!=null){let l=i.findIndex(c=>c.route.id&&(s==null?void 0:s[c.route.id])!==void 0);Oe(l>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(s).join(",")}`),i=i.slice(0,Math.min(i.length,l+1))}let o=!1,a=-1;if(n)for(let l=0;l<i.length;l++){let c=i[l];if((c.route.HydrateFallback||c.route.hydrateFallbackElement)&&(a=l),c.route.id){let{loaderData:d,errors:h}=n,f=c.route.loader&&!d.hasOwnProperty(c.route.id)&&(!h||h[c.route.id]===void 0);if(c.route.lazy||f){o=!0,a>=0?i=i.slice(0,a+1):i=[i[0]];break}}}return i.reduceRight((l,c,d)=>{let h,f=!1,y=null,v=null;n&&(h=s&&c.route.id?s[c.route.id]:void 0,y=c.route.errorElement||_M,o&&(a<0&&d===0?(nk("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),f=!0,v=null):a===d&&(f=!0,v=c.route.hydrateFallbackElement||null)));let b=e.concat(i.slice(0,d+1)),P=()=>{let w;return h?w=y:f?w=v:c.route.Component?w=k.createElement(c.route.Component,null):c.route.element?w=c.route.element:w=l,k.createElement(xM,{match:c,routeContext:{outlet:l,matches:b,isDataRoute:n!=null},children:w})};return n&&(c.route.ErrorBoundary||c.route.errorElement||d===0)?k.createElement(wM,{location:n.location,revalidation:n.revalidation,component:y,error:h,children:P(),routeContext:{outlet:null,matches:b,isDataRoute:!0}}):P()},null)}function Mv(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function CM(t){let e=k.useContext(la);return Oe(e,Mv(t)),e}function SM(t){let e=k.useContext(Gh);return Oe(e,Mv(t)),e}function bM(t){let e=k.useContext(Xn);return Oe(e,Mv(t)),e}function Lv(t){let e=bM(t),n=e.matches[e.matches.length-1];return Oe(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function TM(){return Lv("useRouteId")}function kM(){var r;let t=k.useContext(Ov),e=SM("useRouteError"),n=Lv("useRouteError");return t!==void 0?t:(r=e.errors)==null?void 0:r[n]}function IM(){let{router:t}=CM("useNavigate"),e=Lv("useNavigate"),n=k.useRef(!1);return ek(()=>{n.current=!0}),k.useCallback(async(i,s={})=>{qn(n.current,ZT),n.current&&(typeof i=="number"?t.navigate(i):await t.navigate(i,{fromRouteId:e,...s}))},[t,e])}var n1={};function nk(t,e,n){!e&&!n1[t]&&(n1[t]=!0,qn(!1,n))}k.memo(PM);function PM({routes:t,future:e,state:n}){return tk(t,void 0,n,e)}function _g({to:t,replace:e,state:n,relative:r}){Oe(ca(),"<Navigate> may be used only in the context of a <Router> component.");let{static:i}=k.useContext(Yn);qn(!i,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:s}=k.useContext(Xn),{pathname:o}=mr(),a=Fi(),l=Dv(t,Nv(s),o,r==="path"),c=JSON.stringify(l);return k.useEffect(()=>{a(JSON.parse(c),{replace:e,state:n,relative:r})},[a,c,r,e,n]),null}function gn(t){Oe(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function RM({basename:t="/",children:e=null,location:n,navigationType:r="POP",navigator:i,static:s=!1}){Oe(!ca(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let o=t.replace(/^\/*/,"/"),a=k.useMemo(()=>({basename:o,navigator:i,static:s,future:{}}),[o,i,s]);typeof n=="string"&&(n=aa(n));let{pathname:l="/",search:c="",hash:d="",state:h=null,key:f="default"}=n,y=k.useMemo(()=>{let v=Vr(l,o);return v==null?null:{location:{pathname:v,search:c,hash:d,state:h,key:f},navigationType:r}},[o,l,c,d,h,f,r]);return qn(y!=null,`<Router basename="${o}"> is not able to match the URL "${l}${c}${d}" because it does not start with the basename, so the <Router> won't render anything.`),y==null?null:k.createElement(Yn.Provider,{value:a},k.createElement(Tc.Provider,{children:e,value:y}))}function AM({children:t,location:e}){return yM(wg(t),e)}function wg(t,e=[]){let n=[];return k.Children.forEach(t,(r,i)=>{if(!k.isValidElement(r))return;let s=[...e,i];if(r.type===k.Fragment){n.push.apply(n,wg(r.props.children,s));return}Oe(r.type===gn,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Oe(!r.props.index||!r.props.children,"An index route cannot have child routes.");let o={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=wg(r.props.children,s)),n.push(o)}),n}var sd="get",od="application/x-www-form-urlencoded";function Kh(t){return t!=null&&typeof t.tagName=="string"}function NM(t){return Kh(t)&&t.tagName.toLowerCase()==="button"}function DM(t){return Kh(t)&&t.tagName.toLowerCase()==="form"}function OM(t){return Kh(t)&&t.tagName.toLowerCase()==="input"}function MM(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function LM(t,e){return t.button===0&&(!e||e==="_self")&&!MM(t)}var Au=null;function jM(){if(Au===null)try{new FormData(document.createElement("form"),0),Au=!1}catch{Au=!0}return Au}var FM=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function jp(t){return t!=null&&!FM.has(t)?(qn(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${od}"`),null):t}function $M(t,e){let n,r,i,s,o;if(DM(t)){let a=t.getAttribute("action");r=a?Vr(a,e):null,n=t.getAttribute("method")||sd,i=jp(t.getAttribute("enctype"))||od,s=new FormData(t)}else if(NM(t)||OM(t)&&(t.type==="submit"||t.type==="image")){let a=t.form;if(a==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let l=t.getAttribute("formaction")||a.getAttribute("action");if(r=l?Vr(l,e):null,n=t.getAttribute("formmethod")||a.getAttribute("method")||sd,i=jp(t.getAttribute("formenctype"))||jp(a.getAttribute("enctype"))||od,s=new FormData(a,t),!jM()){let{name:c,type:d,value:h}=t;if(d==="image"){let f=c?`${c}.`:"";s.append(`${f}x`,"0"),s.append(`${f}y`,"0")}else c&&s.append(c,h)}}else{if(Kh(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=sd,r=null,i=od,o=t}return s&&i==="text/plain"&&(o=s,s=void 0),{action:r,method:n.toLowerCase(),encType:i,formData:s,body:o}}function jv(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}async function UM(t,e){if(t.id in e)return e[t.id];try{let n=await RO(()=>import(t.module),[]);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function VM(t){return t!=null&&typeof t.page=="string"}function BM(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function zM(t,e,n){let r=await Promise.all(t.map(async i=>{let s=e.routes[i.route.id];if(s){let o=await UM(s,n);return o.links?o.links():[]}return[]}));return KM(r.flat(1).filter(BM).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function r1(t,e,n,r,i,s){let o=(l,c)=>n[c]?l.route.id!==n[c].route.id:!0,a=(l,c)=>{var d;return n[c].pathname!==l.pathname||((d=n[c].route.path)==null?void 0:d.endsWith("*"))&&n[c].params["*"]!==l.params["*"]};return s==="assets"?e.filter((l,c)=>o(l,c)||a(l,c)):s==="data"?e.filter((l,c)=>{var h;let d=r.routes[l.route.id];if(!d||!d.hasLoader)return!1;if(o(l,c)||a(l,c))return!0;if(l.route.shouldRevalidate){let f=l.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:((h=n[0])==null?void 0:h.params)||{},nextUrl:new URL(t,window.origin),nextParams:l.params,defaultShouldRevalidate:!0});if(typeof f=="boolean")return f}return!0}):[]}function WM(t,e,{includeHydrateFallback:n}={}){return HM(t.map(r=>{let i=e.routes[r.route.id];if(!i)return[];let s=[i.module];return i.clientActionModule&&(s=s.concat(i.clientActionModule)),i.clientLoaderModule&&(s=s.concat(i.clientLoaderModule)),n&&i.hydrateFallbackModule&&(s=s.concat(i.hydrateFallbackModule)),i.imports&&(s=s.concat(i.imports)),s}).flat(1))}function HM(t){return[...new Set(t)]}function GM(t){let e={},n=Object.keys(t).sort();for(let r of n)e[r]=t[r];return e}function KM(t,e){let n=new Set,r=new Set(e);return t.reduce((i,s)=>{if(e&&!VM(s)&&s.as==="script"&&s.href&&r.has(s.href))return i;let a=JSON.stringify(GM(s));return n.has(a)||(n.add(a),i.push({key:a,link:s})),i},[])}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var qM=new Set([100,101,204,205]);function YM(t,e){let n=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return n.pathname==="/"?n.pathname="_root.data":e&&Vr(n.pathname,e)==="/"?n.pathname=`${e.replace(/\/$/,"")}/_root.data`:n.pathname=`${n.pathname.replace(/\/$/,"")}.data`,n}function rk(){let t=k.useContext(la);return jv(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function XM(){let t=k.useContext(Gh);return jv(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var Fv=k.createContext(void 0);Fv.displayName="FrameworkContext";function ik(){let t=k.useContext(Fv);return jv(t,"You must render this element inside a <HydratedRouter> element"),t}function QM(t,e){let n=k.useContext(Fv),[r,i]=k.useState(!1),[s,o]=k.useState(!1),{onFocus:a,onBlur:l,onMouseEnter:c,onMouseLeave:d,onTouchStart:h}=e,f=k.useRef(null);k.useEffect(()=>{if(t==="render"&&o(!0),t==="viewport"){let b=w=>{w.forEach(C=>{o(C.isIntersecting)})},P=new IntersectionObserver(b,{threshold:.5});return f.current&&P.observe(f.current),()=>{P.disconnect()}}},[t]),k.useEffect(()=>{if(r){let b=setTimeout(()=>{o(!0)},100);return()=>{clearTimeout(b)}}},[r]);let y=()=>{i(!0)},v=()=>{i(!1),o(!1)};return n?t!=="intent"?[s,f,{}]:[s,f,{onFocus:Va(a,y),onBlur:Va(l,v),onMouseEnter:Va(c,y),onMouseLeave:Va(d,v),onTouchStart:Va(h,y)}]:[!1,f,{}]}function Va(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function JM({page:t,...e}){let{router:n}=rk(),r=k.useMemo(()=>qT(n.routes,t,n.basename),[n.routes,t,n.basename]);return r?k.createElement(eL,{page:t,matches:r,...e}):null}function ZM(t){let{manifest:e,routeModules:n}=ik(),[r,i]=k.useState([]);return k.useEffect(()=>{let s=!1;return zM(t,e,n).then(o=>{s||i(o)}),()=>{s=!0}},[t,e,n]),r}function eL({page:t,matches:e,...n}){let r=mr(),{manifest:i,routeModules:s}=ik(),{basename:o}=rk(),{loaderData:a,matches:l}=XM(),c=k.useMemo(()=>r1(t,e,l,i,r,"data"),[t,e,l,i,r]),d=k.useMemo(()=>r1(t,e,l,i,r,"assets"),[t,e,l,i,r]),h=k.useMemo(()=>{if(t===r.pathname+r.search+r.hash)return[];let v=new Set,b=!1;if(e.forEach(w=>{var x;let C=i.routes[w.route.id];!C||!C.hasLoader||(!c.some(A=>A.route.id===w.route.id)&&w.route.id in a&&((x=s[w.route.id])!=null&&x.shouldRevalidate)||C.hasClientLoader?b=!0:v.add(w.route.id))}),v.size===0)return[];let P=YM(t,o);return b&&v.size>0&&P.searchParams.set("_routes",e.filter(w=>v.has(w.route.id)).map(w=>w.route.id).join(",")),[P.pathname+P.search]},[o,a,r,i,c,e,t,s]),f=k.useMemo(()=>WM(d,i),[d,i]),y=ZM(d);return k.createElement(k.Fragment,null,h.map(v=>k.createElement("link",{key:v,rel:"prefetch",as:"fetch",href:v,...n})),f.map(v=>k.createElement("link",{key:v,rel:"modulepreload",href:v,...n})),y.map(({key:v,link:b})=>k.createElement("link",{key:v,...b})))}function tL(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var sk=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{sk&&(window.__reactRouterVersion="7.6.0")}catch{}function nL({basename:t,children:e,window:n}){let r=k.useRef();r.current==null&&(r.current=VO({window:n,v5Compat:!0}));let i=r.current,[s,o]=k.useState({action:i.action,location:i.location}),a=k.useCallback(l=>{k.startTransition(()=>o(l))},[o]);return k.useLayoutEffect(()=>i.listen(a),[i,a]),k.createElement(RM,{basename:t,children:e,location:s.location,navigationType:s.action,navigator:i})}var ok=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,nr=k.forwardRef(function({onClick:e,discover:n="render",prefetch:r="none",relative:i,reloadDocument:s,replace:o,state:a,target:l,to:c,preventScrollReset:d,viewTransition:h,...f},y){let{basename:v}=k.useContext(Yn),b=typeof c=="string"&&ok.test(c),P,w=!1;if(typeof c=="string"&&b&&(P=c,sk))try{let I=new URL(window.location.href),m=c.startsWith("//")?new URL(I.protocol+c):new URL(c),R=Vr(m.pathname,v);m.origin===I.origin&&R!=null?c=R+m.search+m.hash:w=!0}catch{qn(!1,`<Link to="${c}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let C=pM(c,{relative:i}),[x,A,D]=QM(r,f),M=oL(c,{replace:o,state:a,target:l,preventScrollReset:d,relative:i,viewTransition:h});function S(I){e&&e(I),I.defaultPrevented||M(I)}let E=k.createElement("a",{...f,...D,href:P||C,onClick:w||s?e:S,ref:tL(y,A),target:l,"data-discover":!b&&n==="render"?"true":void 0});return x&&!b?k.createElement(k.Fragment,null,E,k.createElement(JM,{page:C})):E});nr.displayName="Link";var rL=k.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:r="",end:i=!1,style:s,to:o,viewTransition:a,children:l,...c},d){let h=kc(o,{relative:c.relative}),f=mr(),y=k.useContext(Gh),{navigator:v,basename:b}=k.useContext(Yn),P=y!=null&&dL(h)&&a===!0,w=v.encodeLocation?v.encodeLocation(h).pathname:h.pathname,C=f.pathname,x=y&&y.navigation&&y.navigation.location?y.navigation.location.pathname:null;n||(C=C.toLowerCase(),x=x?x.toLowerCase():null,w=w.toLowerCase()),x&&b&&(x=Vr(x,b)||x);const A=w!=="/"&&w.endsWith("/")?w.length-1:w.length;let D=C===w||!i&&C.startsWith(w)&&C.charAt(A)==="/",M=x!=null&&(x===w||!i&&x.startsWith(w)&&x.charAt(w.length)==="/"),S={isActive:D,isPending:M,isTransitioning:P},E=D?e:void 0,I;typeof r=="function"?I=r(S):I=[r,D?"active":null,M?"pending":null,P?"transitioning":null].filter(Boolean).join(" ");let m=typeof s=="function"?s(S):s;return k.createElement(nr,{...c,"aria-current":E,className:I,ref:d,style:m,to:o,viewTransition:a},typeof l=="function"?l(S):l)});rL.displayName="NavLink";var iL=k.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:r,replace:i,state:s,method:o=sd,action:a,onSubmit:l,relative:c,preventScrollReset:d,viewTransition:h,...f},y)=>{let v=cL(),b=uL(a,{relative:c}),P=o.toLowerCase()==="get"?"get":"post",w=typeof a=="string"&&ok.test(a),C=x=>{if(l&&l(x),x.defaultPrevented)return;x.preventDefault();let A=x.nativeEvent.submitter,D=(A==null?void 0:A.getAttribute("formmethod"))||o;v(A||x.currentTarget,{fetcherKey:e,method:D,navigate:n,replace:i,state:s,relative:c,preventScrollReset:d,viewTransition:h})};return k.createElement("form",{ref:y,method:P,action:b,onSubmit:r?l:C,...f,"data-discover":!w&&t==="render"?"true":void 0})});iL.displayName="Form";function sL(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function ak(t){let e=k.useContext(la);return Oe(e,sL(t)),e}function oL(t,{target:e,replace:n,state:r,preventScrollReset:i,relative:s,viewTransition:o}={}){let a=Fi(),l=mr(),c=kc(t,{relative:s});return k.useCallback(d=>{if(LM(d,e)){d.preventDefault();let h=n!==void 0?n:Xl(l)===Xl(c);a(t,{replace:h,state:r,preventScrollReset:i,relative:s,viewTransition:o})}},[l,a,c,n,r,e,t,i,s,o])}var aL=0,lL=()=>`__${String(++aL)}__`;function cL(){let{router:t}=ak("useSubmit"),{basename:e}=k.useContext(Yn),n=TM();return k.useCallback(async(r,i={})=>{let{action:s,method:o,encType:a,formData:l,body:c}=$M(r,e);if(i.navigate===!1){let d=i.fetcherKey||lL();await t.fetch(d,n,i.action||s,{preventScrollReset:i.preventScrollReset,formData:l,body:c,formMethod:i.method||o,formEncType:i.encType||a,flushSync:i.flushSync})}else await t.navigate(i.action||s,{preventScrollReset:i.preventScrollReset,formData:l,body:c,formMethod:i.method||o,formEncType:i.encType||a,replace:i.replace,state:i.state,fromRouteId:n,flushSync:i.flushSync,viewTransition:i.viewTransition})},[t,e,n])}function uL(t,{relative:e}={}){let{basename:n}=k.useContext(Yn),r=k.useContext(Xn);Oe(r,"useFormAction must be used inside a RouteContext");let[i]=r.matches.slice(-1),s={...kc(t||".",{relative:e})},o=mr();if(t==null){s.search=o.search;let a=new URLSearchParams(s.search),l=a.getAll("index");if(l.some(d=>d==="")){a.delete("index"),l.filter(h=>h).forEach(h=>a.append("index",h));let d=a.toString();s.search=d?`?${d}`:""}}return(!t||t===".")&&i.route.index&&(s.search=s.search?s.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(s.pathname=s.pathname==="/"?n:Nr([n,s.pathname])),Xl(s)}function dL(t,e={}){let n=k.useContext(JT);Oe(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=ak("useViewTransitionState"),i=kc(t,{relative:e.relative});if(!n.isTransitioning)return!1;let s=Vr(n.currentLocation.pathname,r)||n.currentLocation.pathname,o=Vr(n.nextLocation.pathname,r)||n.nextLocation.pathname;return Kd(i.pathname,o)!=null||Kd(i.pathname,s)!=null}[...qM];const hL=()=>{};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lk={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U=function(t,e){if(!t)throw ua(e)},ua=function(t){return new Error("Firebase Database ("+lk.SDK_VERSION+") INTERNAL ASSERT FAILED: "+t)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ck=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},fL=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],o=t[n++],a=t[n++],l=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},$v={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,a=o?t[i+1]:0,l=i+2<t.length,c=l?t[i+2]:0,d=s>>2,h=(s&3)<<4|a>>4;let f=(a&15)<<2|c>>6,y=c&63;l||(y=64,o||(f=64)),r.push(n[d],n[h],n[f],n[y])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(ck(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):fL(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const c=i<t.length?n[t.charAt(i)]:64;++i;const h=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||a==null||c==null||h==null)throw new pL;const f=s<<2|a>>4;if(r.push(f),c!==64){const y=a<<4&240|c>>2;if(r.push(y),h!==64){const v=c<<6&192|h;r.push(v)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class pL extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const uk=function(t){const e=ck(t);return $v.encodeByteArray(e,!0)},qd=function(t){return uk(t).replace(/\./g,"")},Yd=function(t){try{return $v.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mL(t){return dk(void 0,t)}function dk(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const n=e;return new Date(n.getTime());case Object:t===void 0&&(t={});break;case Array:t=[];break;default:return e}for(const n in e)!e.hasOwnProperty(n)||!gL(n)||(t[n]=dk(t[n],e[n]));return t}function gL(t){return t!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yL(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vL=()=>yL().__FIREBASE_DEFAULTS__,_L=()=>{if(typeof process>"u"||typeof process.env>"u")return;const t={}.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},wL=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&Yd(t[1]);return e&&JSON.parse(e)},Uv=()=>{try{return hL()||vL()||_L()||wL()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},hk=t=>{var e,n;return(n=(e=Uv())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},Vv=t=>{const e=hk(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},fk=()=>{var t;return(t=Uv())===null||t===void 0?void 0:t.config},pk=t=>{var e;return(e=Uv())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ic{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function js(t){return t.endsWith(".cloudworkstations.dev")}async function qh(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bv(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t),a="";return[qd(JSON.stringify(n)),qd(JSON.stringify(o)),a].join(".")}const vl={};function xL(){const t={prod:[],emulator:[]};for(const e of Object.keys(vl))vl[e]?t.emulator.push(e):t.prod.push(e);return t}function EL(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let i1=!1;function $i(t,e){if(typeof window>"u"||typeof document>"u"||!js(window.location.host)||vl[t]===e||vl[t]||i1)return;vl[t]=e;function n(f){return`__firebase__banner__${f}`}const r="__firebase__banner",s=xL().prod.length>0;function o(){const f=document.getElementById(r);f&&f.remove()}function a(f){f.style.display="flex",f.style.background="#7faaf0",f.style.position="fixed",f.style.bottom="5px",f.style.left="5px",f.style.padding=".5em",f.style.borderRadius="5px",f.style.alignItems="center"}function l(f,y){f.setAttribute("width","24"),f.setAttribute("id",y),f.setAttribute("height","24"),f.setAttribute("viewBox","0 0 24 24"),f.setAttribute("fill","none"),f.style.marginLeft="-6px"}function c(){const f=document.createElement("span");return f.style.cursor="pointer",f.style.marginLeft="16px",f.style.fontSize="24px",f.innerHTML=" &times;",f.onclick=()=>{i1=!0,o()},f}function d(f,y){f.setAttribute("id",y),f.innerText="Learn more",f.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",f.setAttribute("target","__blank"),f.style.paddingLeft="5px",f.style.textDecoration="underline"}function h(){const f=EL(r),y=n("text"),v=document.getElementById(y)||document.createElement("span"),b=n("learnmore"),P=document.getElementById(b)||document.createElement("a"),w=n("preprendIcon"),C=document.getElementById(w)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(f.created){const x=f.element;a(x),d(P,b);const A=c();l(C,w),x.append(C,v,P,A),document.body.appendChild(x)}s?(v.innerText="Preview backend disconnected.",C.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(C.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,v.innerText="Preview backend running in this workspace."),v.setAttribute("id",y)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",h):h()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ut(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function zv(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ut())}function CL(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function SL(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function mk(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function bL(){const t=Ut();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function gk(){return lk.NODE_ADMIN===!0}function yk(){try{return typeof indexedDB=="object"}catch{return!1}}function vk(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}function TL(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kL="FirebaseError";class Qn extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=kL,Object.setPrototypeOf(this,Qn.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Fs.prototype.create)}}class Fs{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?IL(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new Qn(i,a,r)}}function IL(t,e){return t.replace(PL,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const PL=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ql(t){return JSON.parse(t)}function nt(t){return JSON.stringify(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _k=function(t){let e={},n={},r={},i="";try{const s=t.split(".");e=Ql(Yd(s[0])||""),n=Ql(Yd(s[1])||""),i=s[2],r=n.d||{},delete n.d}catch{}return{header:e,claims:n,data:r,signature:i}},RL=function(t){const e=_k(t),n=e.claims;return!!n&&typeof n=="object"&&n.hasOwnProperty("iat")},AL=function(t){const e=_k(t).claims;return typeof e=="object"&&e.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gr(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function Bo(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]}function xg(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Xd(t,e,n){const r={};for(const i in t)Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=e.call(n,t[i],i,t));return r}function ki(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(s1(s)&&s1(o)){if(!ki(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function s1(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function da(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function nl(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function rl(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NL{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,n){n||(n=0);const r=this.W_;if(typeof e=="string")for(let h=0;h<16;h++)r[h]=e.charCodeAt(n)<<24|e.charCodeAt(n+1)<<16|e.charCodeAt(n+2)<<8|e.charCodeAt(n+3),n+=4;else for(let h=0;h<16;h++)r[h]=e[n]<<24|e[n+1]<<16|e[n+2]<<8|e[n+3],n+=4;for(let h=16;h<80;h++){const f=r[h-3]^r[h-8]^r[h-14]^r[h-16];r[h]=(f<<1|f>>>31)&4294967295}let i=this.chain_[0],s=this.chain_[1],o=this.chain_[2],a=this.chain_[3],l=this.chain_[4],c,d;for(let h=0;h<80;h++){h<40?h<20?(c=a^s&(o^a),d=1518500249):(c=s^o^a,d=1859775393):h<60?(c=s&o|a&(s|o),d=2400959708):(c=s^o^a,d=3395469782);const f=(i<<5|i>>>27)+c+l+d+r[h]&4294967295;l=a,a=o,o=(s<<30|s>>>2)&4294967295,s=i,i=f}this.chain_[0]=this.chain_[0]+i&4294967295,this.chain_[1]=this.chain_[1]+s&4294967295,this.chain_[2]=this.chain_[2]+o&4294967295,this.chain_[3]=this.chain_[3]+a&4294967295,this.chain_[4]=this.chain_[4]+l&4294967295}update(e,n){if(e==null)return;n===void 0&&(n=e.length);const r=n-this.blockSize;let i=0;const s=this.buf_;let o=this.inbuf_;for(;i<n;){if(o===0)for(;i<=r;)this.compress_(e,i),i+=this.blockSize;if(typeof e=="string"){for(;i<n;)if(s[o]=e.charCodeAt(i),++o,++i,o===this.blockSize){this.compress_(s),o=0;break}}else for(;i<n;)if(s[o]=e[i],++o,++i,o===this.blockSize){this.compress_(s),o=0;break}}this.inbuf_=o,this.total_+=n}digest(){const e=[];let n=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let i=this.blockSize-1;i>=56;i--)this.buf_[i]=n&255,n/=256;this.compress_(this.buf_);let r=0;for(let i=0;i<5;i++)for(let s=24;s>=0;s-=8)e[r]=this.chain_[i]>>s&255,++r;return e}}function DL(t,e){const n=new OL(t,e);return n.subscribe.bind(n)}class OL{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");ML(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=Fp),i.error===void 0&&(i.error=Fp),i.complete===void 0&&(i.complete=Fp);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function ML(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Fp(){}function Yh(t,e){return`${t} failed: ${e} argument `}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LL=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);if(i>=55296&&i<=56319){const s=i-55296;r++,U(r<t.length,"Surrogate pair missing trail surrogate.");const o=t.charCodeAt(r)-56320;i=65536+(s<<10)+o}i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):i<65536?(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},Xh=function(t){let e=0;for(let n=0;n<t.length;n++){const r=t.charCodeAt(n);r<128?e++:r<2048?e+=2:r>=55296&&r<=56319?(e+=4,n++):e+=3}return e};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xe(t){return t&&t._delegate?t._delegate:t}class cn{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zi="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jL{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new Ic;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if($L(e))try{this.getOrInitializeService({instanceIdentifier:Zi})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=Zi){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Zi){return this.instances.has(e)}getOptions(e=Zi){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:FL(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Zi){return this.component?this.component.multipleInstances?e:Zi:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function FL(t){return t===Zi?void 0:t}function $L(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UL{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new jL(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ge;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(ge||(ge={}));const VL={debug:ge.DEBUG,verbose:ge.VERBOSE,info:ge.INFO,warn:ge.WARN,error:ge.ERROR,silent:ge.SILENT},BL=ge.INFO,zL={[ge.DEBUG]:"log",[ge.VERBOSE]:"log",[ge.INFO]:"info",[ge.WARN]:"warn",[ge.ERROR]:"error"},WL=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=zL[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Qh{constructor(e){this.name=e,this._logLevel=BL,this._logHandler=WL,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ge))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?VL[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ge.DEBUG,...e),this._logHandler(this,ge.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ge.VERBOSE,...e),this._logHandler(this,ge.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ge.INFO,...e),this._logHandler(this,ge.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ge.WARN,...e),this._logHandler(this,ge.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ge.ERROR,...e),this._logHandler(this,ge.ERROR,...e)}}const HL=(t,e)=>e.some(n=>t instanceof n);let o1,a1;function GL(){return o1||(o1=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function KL(){return a1||(a1=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const wk=new WeakMap,Eg=new WeakMap,xk=new WeakMap,$p=new WeakMap,Wv=new WeakMap;function qL(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(Dr(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&wk.set(n,t)}).catch(()=>{}),Wv.set(e,t),e}function YL(t){if(Eg.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});Eg.set(t,e)}let Cg={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Eg.get(t);if(e==="objectStoreNames")return t.objectStoreNames||xk.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Dr(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function XL(t){Cg=t(Cg)}function QL(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Up(this),e,...n);return xk.set(r,e.sort?e.sort():[e]),Dr(r)}:KL().includes(t)?function(...e){return t.apply(Up(this),e),Dr(wk.get(this))}:function(...e){return Dr(t.apply(Up(this),e))}}function JL(t){return typeof t=="function"?QL(t):(t instanceof IDBTransaction&&YL(t),HL(t,GL())?new Proxy(t,Cg):t)}function Dr(t){if(t instanceof IDBRequest)return qL(t);if($p.has(t))return $p.get(t);const e=JL(t);return e!==t&&($p.set(t,e),Wv.set(e,t)),e}const Up=t=>Wv.get(t);function Jh(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=Dr(o);return r&&o.addEventListener("upgradeneeded",l=>{r(Dr(o.result),l.oldVersion,l.newVersion,Dr(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{s&&l.addEventListener("close",()=>s()),i&&l.addEventListener("versionchange",c=>i(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}function Vp(t,{blocked:e}={}){const n=indexedDB.deleteDatabase(t);return e&&n.addEventListener("blocked",r=>e(r.oldVersion,r)),Dr(n).then(()=>{})}const ZL=["get","getKey","getAll","getAllKeys","count"],e4=["put","add","delete","clear"],Bp=new Map;function l1(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Bp.get(e))return Bp.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=e4.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||ZL.includes(n)))return;const s=async function(o,...a){const l=this.transaction(o,i?"readwrite":"readonly");let c=l.store;return r&&(c=c.index(a.shift())),(await Promise.all([c[n](...a),i&&l.done]))[0]};return Bp.set(e,s),s}XL(t=>({...t,get:(e,n,r)=>l1(e,n)||t.get(e,n,r),has:(e,n)=>!!l1(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t4{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(n4(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function n4(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Sg="@firebase/app",c1="0.12.3";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Br=new Qh("@firebase/app"),r4="@firebase/app-compat",i4="@firebase/analytics-compat",s4="@firebase/analytics",o4="@firebase/app-check-compat",a4="@firebase/app-check",l4="@firebase/auth",c4="@firebase/auth-compat",u4="@firebase/database",d4="@firebase/data-connect",h4="@firebase/database-compat",f4="@firebase/functions",p4="@firebase/functions-compat",m4="@firebase/installations",g4="@firebase/installations-compat",y4="@firebase/messaging",v4="@firebase/messaging-compat",_4="@firebase/performance",w4="@firebase/performance-compat",x4="@firebase/remote-config",E4="@firebase/remote-config-compat",C4="@firebase/storage",S4="@firebase/storage-compat",b4="@firebase/firestore",T4="@firebase/vertexai",k4="@firebase/firestore-compat",I4="firebase",P4="11.7.3";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bg="[DEFAULT]",R4={[Sg]:"fire-core",[r4]:"fire-core-compat",[s4]:"fire-analytics",[i4]:"fire-analytics-compat",[a4]:"fire-app-check",[o4]:"fire-app-check-compat",[l4]:"fire-auth",[c4]:"fire-auth-compat",[u4]:"fire-rtdb",[d4]:"fire-data-connect",[h4]:"fire-rtdb-compat",[f4]:"fire-fn",[p4]:"fire-fn-compat",[m4]:"fire-iid",[g4]:"fire-iid-compat",[y4]:"fire-fcm",[v4]:"fire-fcm-compat",[_4]:"fire-perf",[w4]:"fire-perf-compat",[x4]:"fire-rc",[E4]:"fire-rc-compat",[C4]:"fire-gcs",[S4]:"fire-gcs-compat",[b4]:"fire-fst",[k4]:"fire-fst-compat",[T4]:"fire-vertex","fire-js":"fire-js",[I4]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qd=new Map,A4=new Map,Tg=new Map;function u1(t,e){try{t.container.addComponent(e)}catch(n){Br.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function kn(t){const e=t.name;if(Tg.has(e))return Br.debug(`There were multiple attempts to register component ${e}.`),!1;Tg.set(e,t);for(const n of Qd.values())u1(n,t);for(const n of A4.values())u1(n,t);return!0}function Ui(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Mt(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N4={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ei=new Fs("app","Firebase",N4);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D4{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new cn("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ei.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vi=P4;function Ek(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:bg,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw Ei.create("bad-app-name",{appName:String(i)});if(n||(n=fk()),!n)throw Ei.create("no-options");const s=Qd.get(i);if(s){if(ki(n,s.options)&&ki(r,s.config))return s;throw Ei.create("duplicate-app",{appName:i})}const o=new UL(i);for(const l of Tg.values())o.addComponent(l);const a=new D4(n,r,o);return Qd.set(i,a),a}function Pc(t=bg){const e=Qd.get(t);if(!e&&t===bg&&fk())return Ek();if(!e)throw Ei.create("no-app",{appName:t});return e}function kt(t,e,n){var r;let i=(r=R4[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${e}":`];s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Br.warn(a.join(" "));return}kn(new cn(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O4="firebase-heartbeat-database",M4=1,Jl="firebase-heartbeat-store";let zp=null;function Ck(){return zp||(zp=Jh(O4,M4,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Jl)}catch(n){console.warn(n)}}}}).catch(t=>{throw Ei.create("idb-open",{originalErrorMessage:t.message})})),zp}async function L4(t){try{const n=(await Ck()).transaction(Jl),r=await n.objectStore(Jl).get(Sk(t));return await n.done,r}catch(e){if(e instanceof Qn)Br.warn(e.message);else{const n=Ei.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Br.warn(n.message)}}}async function d1(t,e){try{const r=(await Ck()).transaction(Jl,"readwrite");await r.objectStore(Jl).put(e,Sk(t)),await r.done}catch(n){if(n instanceof Qn)Br.warn(n.message);else{const r=Ei.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Br.warn(r.message)}}}function Sk(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j4=1024,F4=30;class $4{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new V4(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=h1();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats.length>F4){const o=B4(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){Br.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=h1(),{heartbeatsToSend:r,unsentEntries:i}=U4(this._heartbeatsCache.heartbeats),s=qd(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(n){return Br.warn(n),""}}}function h1(){return new Date().toISOString().substring(0,10)}function U4(t,e=j4){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),f1(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),f1(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class V4{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return yk()?vk().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await L4(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return d1(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return d1(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function f1(t){return qd(JSON.stringify({version:2,heartbeats:t})).length}function B4(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function z4(t){kn(new cn("platform-logger",e=>new t4(e),"PRIVATE")),kn(new cn("heartbeat",e=>new $4(e),"PRIVATE")),kt(Sg,c1,t),kt(Sg,c1,"esm2017"),kt("fire-js","")}z4("");const bk="@firebase/installations",Hv="0.6.16";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tk=1e4,kk=`w:${Hv}`,Ik="FIS_v2",W4="https://firebaseinstallations.googleapis.com/v1",H4=60*60*1e3,G4="installations",K4="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q4={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},bs=new Fs(G4,K4,q4);function Pk(t){return t instanceof Qn&&t.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rk({projectId:t}){return`${W4}/projects/${t}/installations`}function Ak(t){return{token:t.token,requestStatus:2,expiresIn:X4(t.expiresIn),creationTime:Date.now()}}async function Nk(t,e){const r=(await e.json()).error;return bs.create("request-failed",{requestName:t,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})}function Dk({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function Y4(t,{refreshToken:e}){const n=Dk(t);return n.append("Authorization",Q4(e)),n}async function Ok(t){const e=await t();return e.status>=500&&e.status<600?t():e}function X4(t){return Number(t.replace("s","000"))}function Q4(t){return`${Ik} ${t}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function J4({appConfig:t,heartbeatServiceProvider:e},{fid:n}){const r=Rk(t),i=Dk(t),s=e.getImmediate({optional:!0});if(s){const c=await s.getHeartbeatsHeader();c&&i.append("x-firebase-client",c)}const o={fid:n,authVersion:Ik,appId:t.appId,sdkVersion:kk},a={method:"POST",headers:i,body:JSON.stringify(o)},l=await Ok(()=>fetch(r,a));if(l.ok){const c=await l.json();return{fid:c.fid||n,registrationStatus:2,refreshToken:c.refreshToken,authToken:Ak(c.authToken)}}else throw await Nk("Create Installation",l)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mk(t){return new Promise(e=>{setTimeout(e,t)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Z4(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ej=/^[cdef][\w-]{21}$/,kg="";function tj(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const n=nj(t);return ej.test(n)?n:kg}catch{return kg}}function nj(t){return Z4(t).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zh(t){return`${t.appName}!${t.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lk=new Map;function jk(t,e){const n=Zh(t);Fk(n,e),rj(n,e)}function Fk(t,e){const n=Lk.get(t);if(n)for(const r of n)r(e)}function rj(t,e){const n=ij();n&&n.postMessage({key:t,fid:e}),sj()}let cs=null;function ij(){return!cs&&"BroadcastChannel"in self&&(cs=new BroadcastChannel("[Firebase] FID Change"),cs.onmessage=t=>{Fk(t.data.key,t.data.fid)}),cs}function sj(){Lk.size===0&&cs&&(cs.close(),cs=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oj="firebase-installations-database",aj=1,Ts="firebase-installations-store";let Wp=null;function Gv(){return Wp||(Wp=Jh(oj,aj,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(Ts)}}})),Wp}async function Jd(t,e){const n=Zh(t),i=(await Gv()).transaction(Ts,"readwrite"),s=i.objectStore(Ts),o=await s.get(n);return await s.put(e,n),await i.done,(!o||o.fid!==e.fid)&&jk(t,e.fid),e}async function $k(t){const e=Zh(t),r=(await Gv()).transaction(Ts,"readwrite");await r.objectStore(Ts).delete(e),await r.done}async function ef(t,e){const n=Zh(t),i=(await Gv()).transaction(Ts,"readwrite"),s=i.objectStore(Ts),o=await s.get(n),a=e(o);return a===void 0?await s.delete(n):await s.put(a,n),await i.done,a&&(!o||o.fid!==a.fid)&&jk(t,a.fid),a}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Kv(t){let e;const n=await ef(t.appConfig,r=>{const i=lj(r),s=cj(t,i);return e=s.registrationPromise,s.installationEntry});return n.fid===kg?{installationEntry:await e}:{installationEntry:n,registrationPromise:e}}function lj(t){const e=t||{fid:tj(),registrationStatus:0};return Uk(e)}function cj(t,e){if(e.registrationStatus===0){if(!navigator.onLine){const i=Promise.reject(bs.create("app-offline"));return{installationEntry:e,registrationPromise:i}}const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=uj(t,n);return{installationEntry:n,registrationPromise:r}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:dj(t)}:{installationEntry:e}}async function uj(t,e){try{const n=await J4(t,e);return Jd(t.appConfig,n)}catch(n){throw Pk(n)&&n.customData.serverCode===409?await $k(t.appConfig):await Jd(t.appConfig,{fid:e.fid,registrationStatus:0}),n}}async function dj(t){let e=await p1(t.appConfig);for(;e.registrationStatus===1;)await Mk(100),e=await p1(t.appConfig);if(e.registrationStatus===0){const{installationEntry:n,registrationPromise:r}=await Kv(t);return r||n}return e}function p1(t){return ef(t,e=>{if(!e)throw bs.create("installation-not-found");return Uk(e)})}function Uk(t){return hj(t)?{fid:t.fid,registrationStatus:0}:t}function hj(t){return t.registrationStatus===1&&t.registrationTime+Tk<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fj({appConfig:t,heartbeatServiceProvider:e},n){const r=pj(t,n),i=Y4(t,n),s=e.getImmediate({optional:!0});if(s){const c=await s.getHeartbeatsHeader();c&&i.append("x-firebase-client",c)}const o={installation:{sdkVersion:kk,appId:t.appId}},a={method:"POST",headers:i,body:JSON.stringify(o)},l=await Ok(()=>fetch(r,a));if(l.ok){const c=await l.json();return Ak(c)}else throw await Nk("Generate Auth Token",l)}function pj(t,{fid:e}){return`${Rk(t)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qv(t,e=!1){let n;const r=await ef(t.appConfig,s=>{if(!Vk(s))throw bs.create("not-registered");const o=s.authToken;if(!e&&yj(o))return s;if(o.requestStatus===1)return n=mj(t,e),s;{if(!navigator.onLine)throw bs.create("app-offline");const a=_j(s);return n=gj(t,a),a}});return n?await n:r.authToken}async function mj(t,e){let n=await m1(t.appConfig);for(;n.authToken.requestStatus===1;)await Mk(100),n=await m1(t.appConfig);const r=n.authToken;return r.requestStatus===0?qv(t,e):r}function m1(t){return ef(t,e=>{if(!Vk(e))throw bs.create("not-registered");const n=e.authToken;return wj(n)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}async function gj(t,e){try{const n=await fj(t,e),r=Object.assign(Object.assign({},e),{authToken:n});return await Jd(t.appConfig,r),n}catch(n){if(Pk(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await $k(t.appConfig);else{const r=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});await Jd(t.appConfig,r)}throw n}}function Vk(t){return t!==void 0&&t.registrationStatus===2}function yj(t){return t.requestStatus===2&&!vj(t)}function vj(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+H4}function _j(t){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},t),{authToken:e})}function wj(t){return t.requestStatus===1&&t.requestTime+Tk<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xj(t){const e=t,{installationEntry:n,registrationPromise:r}=await Kv(e);return r?r.catch(console.error):qv(e).catch(console.error),n.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ej(t,e=!1){const n=t;return await Cj(n),(await qv(n,e)).token}async function Cj(t){const{registrationPromise:e}=await Kv(t);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sj(t){if(!t||!t.options)throw Hp("App Configuration");if(!t.name)throw Hp("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!t.options[n])throw Hp(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}function Hp(t){return bs.create("missing-app-config-values",{valueName:t})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bk="installations",bj="installations-internal",Tj=t=>{const e=t.getProvider("app").getImmediate(),n=Sj(e),r=Ui(e,"heartbeat");return{app:e,appConfig:n,heartbeatServiceProvider:r,_delete:()=>Promise.resolve()}},kj=t=>{const e=t.getProvider("app").getImmediate(),n=Ui(e,Bk).getImmediate();return{getId:()=>xj(n),getToken:i=>Ej(n,i)}};function Ij(){kn(new cn(Bk,Tj,"PUBLIC")),kn(new cn(bj,kj,"PRIVATE"))}Ij();kt(bk,Hv);kt(bk,Hv,"esm2017");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pj="/firebase-messaging-sw.js",Rj="/firebase-cloud-messaging-push-scope",zk="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",Aj="https://fcmregistrations.googleapis.com/v1",Wk="google.c.a.c_id",Nj="google.c.a.c_l",Dj="google.c.a.ts",Oj="google.c.a.e",g1=1e4;var y1;(function(t){t[t.DATA_MESSAGE=1]="DATA_MESSAGE",t[t.DISPLAY_NOTIFICATION=3]="DISPLAY_NOTIFICATION"})(y1||(y1={}));/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License"); you may not use this file except
 * in compliance with the License. You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software distributed under the License
 * is distributed on an "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express
 * or implied. See the License for the specific language governing permissions and limitations under
 * the License.
 */var Zl;(function(t){t.PUSH_RECEIVED="push-received",t.NOTIFICATION_CLICKED="notification-clicked"})(Zl||(Zl={}));/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cr(t){const e=new Uint8Array(t);return btoa(String.fromCharCode(...e)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function Mj(t){const e="=".repeat((4-t.length%4)%4),n=(t+e).replace(/\-/g,"+").replace(/_/g,"/"),r=atob(n),i=new Uint8Array(r.length);for(let s=0;s<r.length;++s)i[s]=r.charCodeAt(s);return i}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gp="fcm_token_details_db",Lj=5,v1="fcm_token_object_Store";async function jj(t){if("databases"in indexedDB&&!(await indexedDB.databases()).map(s=>s.name).includes(Gp))return null;let e=null;return(await Jh(Gp,Lj,{upgrade:async(r,i,s,o)=>{var a;if(i<2||!r.objectStoreNames.contains(v1))return;const l=o.objectStore(v1),c=await l.index("fcmSenderId").get(t);if(await l.clear(),!!c){if(i===2){const d=c;if(!d.auth||!d.p256dh||!d.endpoint)return;e={token:d.fcmToken,createTime:(a=d.createTime)!==null&&a!==void 0?a:Date.now(),subscriptionOptions:{auth:d.auth,p256dh:d.p256dh,endpoint:d.endpoint,swScope:d.swScope,vapidKey:typeof d.vapidKey=="string"?d.vapidKey:Cr(d.vapidKey)}}}else if(i===3){const d=c;e={token:d.fcmToken,createTime:d.createTime,subscriptionOptions:{auth:Cr(d.auth),p256dh:Cr(d.p256dh),endpoint:d.endpoint,swScope:d.swScope,vapidKey:Cr(d.vapidKey)}}}else if(i===4){const d=c;e={token:d.fcmToken,createTime:d.createTime,subscriptionOptions:{auth:Cr(d.auth),p256dh:Cr(d.p256dh),endpoint:d.endpoint,swScope:d.swScope,vapidKey:Cr(d.vapidKey)}}}}}})).close(),await Vp(Gp),await Vp("fcm_vapid_details_db"),await Vp("undefined"),Fj(e)?e:null}function Fj(t){if(!t||!t.subscriptionOptions)return!1;const{subscriptionOptions:e}=t;return typeof t.createTime=="number"&&t.createTime>0&&typeof t.token=="string"&&t.token.length>0&&typeof e.auth=="string"&&e.auth.length>0&&typeof e.p256dh=="string"&&e.p256dh.length>0&&typeof e.endpoint=="string"&&e.endpoint.length>0&&typeof e.swScope=="string"&&e.swScope.length>0&&typeof e.vapidKey=="string"&&e.vapidKey.length>0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $j="firebase-messaging-database",Uj=1,ec="firebase-messaging-store";let Kp=null;function Hk(){return Kp||(Kp=Jh($j,Uj,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(ec)}}})),Kp}async function Vj(t){const e=Gk(t),r=await(await Hk()).transaction(ec).objectStore(ec).get(e);if(r)return r;{const i=await jj(t.appConfig.senderId);if(i)return await Yv(t,i),i}}async function Yv(t,e){const n=Gk(t),i=(await Hk()).transaction(ec,"readwrite");return await i.objectStore(ec).put(e,n),await i.done,e}function Gk({appConfig:t}){return t.appId}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bj={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."},It=new Fs("messaging","Messaging",Bj);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zj(t,e){const n=await Qv(t),r=Kk(e),i={method:"POST",headers:n,body:JSON.stringify(r)};let s;try{s=await(await fetch(Xv(t.appConfig),i)).json()}catch(o){throw It.create("token-subscribe-failed",{errorInfo:o==null?void 0:o.toString()})}if(s.error){const o=s.error.message;throw It.create("token-subscribe-failed",{errorInfo:o})}if(!s.token)throw It.create("token-subscribe-no-token");return s.token}async function Wj(t,e){const n=await Qv(t),r=Kk(e.subscriptionOptions),i={method:"PATCH",headers:n,body:JSON.stringify(r)};let s;try{s=await(await fetch(`${Xv(t.appConfig)}/${e.token}`,i)).json()}catch(o){throw It.create("token-update-failed",{errorInfo:o==null?void 0:o.toString()})}if(s.error){const o=s.error.message;throw It.create("token-update-failed",{errorInfo:o})}if(!s.token)throw It.create("token-update-no-token");return s.token}async function Hj(t,e){const r={method:"DELETE",headers:await Qv(t)};try{const s=await(await fetch(`${Xv(t.appConfig)}/${e}`,r)).json();if(s.error){const o=s.error.message;throw It.create("token-unsubscribe-failed",{errorInfo:o})}}catch(i){throw It.create("token-unsubscribe-failed",{errorInfo:i==null?void 0:i.toString()})}}function Xv({projectId:t}){return`${Aj}/projects/${t}/registrations`}async function Qv({appConfig:t,installations:e}){const n=await e.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t.apiKey,"x-goog-firebase-installations-auth":`FIS ${n}`})}function Kk({p256dh:t,auth:e,endpoint:n,vapidKey:r}){const i={web:{endpoint:n,auth:e,p256dh:t}};return r!==zk&&(i.web.applicationPubKey=r),i}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gj=7*24*60*60*1e3;async function Kj(t){const e=await Yj(t.swRegistration,t.vapidKey),n={vapidKey:t.vapidKey,swScope:t.swRegistration.scope,endpoint:e.endpoint,auth:Cr(e.getKey("auth")),p256dh:Cr(e.getKey("p256dh"))},r=await Vj(t.firebaseDependencies);if(r){if(Xj(r.subscriptionOptions,n))return Date.now()>=r.createTime+Gj?qj(t,{token:r.token,createTime:Date.now(),subscriptionOptions:n}):r.token;try{await Hj(t.firebaseDependencies,r.token)}catch(i){console.warn(i)}return _1(t.firebaseDependencies,n)}else return _1(t.firebaseDependencies,n)}async function qj(t,e){try{const n=await Wj(t.firebaseDependencies,e),r=Object.assign(Object.assign({},e),{token:n,createTime:Date.now()});return await Yv(t.firebaseDependencies,r),n}catch(n){throw n}}async function _1(t,e){const r={token:await zj(t,e),createTime:Date.now(),subscriptionOptions:e};return await Yv(t,r),r.token}async function Yj(t,e){const n=await t.pushManager.getSubscription();return n||t.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:Mj(e)})}function Xj(t,e){const n=e.vapidKey===t.vapidKey,r=e.endpoint===t.endpoint,i=e.auth===t.auth,s=e.p256dh===t.p256dh;return n&&r&&i&&s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function w1(t){const e={from:t.from,collapseKey:t.collapse_key,messageId:t.fcmMessageId};return Qj(e,t),Jj(e,t),Zj(e,t),e}function Qj(t,e){if(!e.notification)return;t.notification={};const n=e.notification.title;n&&(t.notification.title=n);const r=e.notification.body;r&&(t.notification.body=r);const i=e.notification.image;i&&(t.notification.image=i);const s=e.notification.icon;s&&(t.notification.icon=s)}function Jj(t,e){e.data&&(t.data=e.data)}function Zj(t,e){var n,r,i,s,o;if(!e.fcmOptions&&!(!((n=e.notification)===null||n===void 0)&&n.click_action))return;t.fcmOptions={};const a=(i=(r=e.fcmOptions)===null||r===void 0?void 0:r.link)!==null&&i!==void 0?i:(s=e.notification)===null||s===void 0?void 0:s.click_action;a&&(t.fcmOptions.link=a);const l=(o=e.fcmOptions)===null||o===void 0?void 0:o.analytics_label;l&&(t.fcmOptions.analyticsLabel=l)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eF(t){return typeof t=="object"&&!!t&&Wk in t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */tF("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");function tF(t,e){const n=[];for(let r=0;r<t.length;r++)n.push(t.charAt(r)),r<e.length&&n.push(e.charAt(r));return n.join("")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nF(t){if(!t||!t.options)throw qp("App Configuration Object");if(!t.name)throw qp("App Name");const e=["projectId","apiKey","appId","messagingSenderId"],{options:n}=t;for(const r of e)if(!n[r])throw qp(r);return{appName:t.name,projectId:n.projectId,apiKey:n.apiKey,appId:n.appId,senderId:n.messagingSenderId}}function qp(t){return It.create("missing-app-config-values",{valueName:t})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rF{constructor(e,n,r){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const i=nF(e);this.firebaseDependencies={app:e,appConfig:i,installations:n,analyticsProvider:r}}_delete(){return Promise.resolve()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function iF(t){try{t.swRegistration=await navigator.serviceWorker.register(Pj,{scope:Rj}),t.swRegistration.update().catch(()=>{}),await sF(t.swRegistration)}catch(e){throw It.create("failed-service-worker-registration",{browserErrorMessage:e==null?void 0:e.message})}}async function sF(t){return new Promise((e,n)=>{const r=setTimeout(()=>n(new Error(`Service worker not registered after ${g1} ms`)),g1),i=t.installing||t.waiting;t.active?(clearTimeout(r),e()):i?i.onstatechange=s=>{var o;((o=s.target)===null||o===void 0?void 0:o.state)==="activated"&&(i.onstatechange=null,clearTimeout(r),e())}:(clearTimeout(r),n(new Error("No incoming service worker found.")))})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oF(t,e){if(!e&&!t.swRegistration&&await iF(t),!(!e&&t.swRegistration)){if(!(e instanceof ServiceWorkerRegistration))throw It.create("invalid-sw-registration");t.swRegistration=e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function aF(t,e){e?t.vapidKey=e:t.vapidKey||(t.vapidKey=zk)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qk(t,e){if(!navigator)throw It.create("only-available-in-window");if(Notification.permission==="default"&&await Notification.requestPermission(),Notification.permission!=="granted")throw It.create("permission-blocked");return await aF(t,e==null?void 0:e.vapidKey),await oF(t,e==null?void 0:e.serviceWorkerRegistration),Kj(t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lF(t,e,n){const r=cF(e);(await t.firebaseDependencies.analyticsProvider.get()).logEvent(r,{message_id:n[Wk],message_name:n[Nj],message_time:n[Dj],message_device_time:Math.floor(Date.now()/1e3)})}function cF(t){switch(t){case Zl.NOTIFICATION_CLICKED:return"notification_open";case Zl.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uF(t,e){const n=e.data;if(!n.isFirebaseMessaging)return;t.onMessageHandler&&n.messageType===Zl.PUSH_RECEIVED&&(typeof t.onMessageHandler=="function"?t.onMessageHandler(w1(n)):t.onMessageHandler.next(w1(n)));const r=n.data;eF(r)&&r[Oj]==="1"&&await lF(t,n.messageType,r)}const x1="@firebase/messaging",E1="0.12.20";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dF=t=>{const e=new rF(t.getProvider("app").getImmediate(),t.getProvider("installations-internal").getImmediate(),t.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",n=>uF(e,n)),e},hF=t=>{const e=t.getProvider("messaging").getImmediate();return{getToken:r=>qk(e,r)}};function fF(){kn(new cn("messaging",dF,"PUBLIC")),kn(new cn("messaging-internal",hF,"PRIVATE")),kt(x1,E1),kt(x1,E1,"esm2017")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pF(){try{await vk()}catch{return!1}return typeof window<"u"&&yk()&&TL()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mF(t,e){if(!navigator)throw It.create("only-available-in-window");return t.onMessageHandler=e,()=>{t.onMessageHandler=null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ig(t=Pc()){return pF().then(e=>{if(!e)throw It.create("unsupported-browser")},e=>{throw It.create("indexed-db-unsupported")}),Ui(Xe(t),"messaging").getImmediate()}async function gF(t,e){return t=Xe(t),qk(t,e)}function yF(t,e){return t=Xe(t),mF(t,e)}fF();var vF="firebase",_F="11.7.3";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */kt(vF,_F,"app");var Pg=function(t,e){return Pg=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(n[i]=r[i])},Pg(t,e)};function wF(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");Pg(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}var it=function(){return it=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},it.apply(this,arguments)};function Jv(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function Yk(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const xF=Yk,Xk=new Fs("auth","Firebase",Yk());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zd=new Qh("@firebase/auth");function EF(t,...e){Zd.logLevel<=ge.WARN&&Zd.warn(`Auth (${Vi}): ${t}`,...e)}function ad(t,...e){Zd.logLevel<=ge.ERROR&&Zd.error(`Auth (${Vi}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function In(t,...e){throw e0(t,...e)}function Hn(t,...e){return e0(t,...e)}function Zv(t,e,n){const r=Object.assign(Object.assign({},xF()),{[e]:n});return new Fs("auth","Firebase",r).create(e,{appName:t.name})}function Or(t){return Zv(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function CF(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&In(t,"argument-error"),Zv(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function e0(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return Xk.create(t,...e)}function q(t,e,...n){if(!t)throw e0(e,...n)}function Ir(t){const e="INTERNAL ASSERTION FAILED: "+t;throw ad(e),new Error(e)}function zr(t,e){t||Ir(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rg(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function SF(){return C1()==="http:"||C1()==="https:"}function C1(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bF(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(SF()||SL()||"connection"in navigator)?navigator.onLine:!0}function TF(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rc{constructor(e,n){this.shortDelay=e,this.longDelay=n,zr(n>e,"Short delay should be less than long delay!"),this.isMobile=zv()||mk()}get(){return bF()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function t0(t,e){zr(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qk{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Ir("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Ir("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Ir("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kF={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IF=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],PF=new Rc(3e4,6e4);function Yr(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function Xr(t,e,n,r,i={}){return Jk(t,i,async()=>{let s={},o={};r&&(e==="GET"?o=r:s={body:JSON.stringify(r)});const a=da(Object.assign({key:t.config.apiKey},o)).slice(1),l=await t._getAdditionalHeaders();l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode);const c=Object.assign({method:e,headers:l},s);return CL()||(c.referrerPolicy="no-referrer"),t.emulatorConfig&&js(t.emulatorConfig.host)&&(c.credentials="include"),Qk.fetch()(await Zk(t,t.config.apiHost,n,a),c)})}async function Jk(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},kF),e);try{const i=new AF(t),s=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=await s.json();if("needConfirmation"in o)throw Nu(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[l,c]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw Nu(t,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw Nu(t,"email-already-in-use",o);if(l==="USER_DISABLED")throw Nu(t,"user-disabled",o);const d=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw Zv(t,d,c);In(t,d)}}catch(i){if(i instanceof Qn)throw i;In(t,"network-request-failed",{message:String(i)})}}async function Ac(t,e,n,r,i={}){const s=await Xr(t,e,n,r,i);return"mfaPendingCredential"in s&&In(t,"multi-factor-auth-required",{_serverResponse:s}),s}async function Zk(t,e,n,r){const i=`${e}${n}?${r}`,s=t,o=s.config.emulator?t0(t.config,i):`${t.config.apiScheme}://${i}`;return IF.includes(n)&&(await s._persistenceManagerAvailable,s._getPersistenceType()==="COOKIE")?s._getPersistence()._getFinalTarget(o).toString():o}function RF(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class AF{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Hn(this.auth,"network-request-failed")),PF.get())})}}function Nu(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Hn(t,e,r);return i.customData._tokenResponse=n,i}function S1(t){return t!==void 0&&t.enterprise!==void 0}class NF{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return RF(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function DF(t,e){return Xr(t,"GET","/v2/recaptchaConfig",Yr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function OF(t,e){return Xr(t,"POST","/v1/accounts:delete",e)}async function eh(t,e){return Xr(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _l(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function MF(t,e=!1){const n=Xe(t),r=await n.getIdToken(e),i=n0(r);q(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,o=s==null?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:_l(Yp(i.auth_time)),issuedAtTime:_l(Yp(i.iat)),expirationTime:_l(Yp(i.exp)),signInProvider:o||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function Yp(t){return Number(t)*1e3}function n0(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return ad("JWT malformed, contained fewer than 3 sections"),null;try{const i=Yd(n);return i?JSON.parse(i):(ad("Failed to decode base64 JWT payload"),null)}catch(i){return ad("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function b1(t){const e=n0(t);return q(e,"internal-error"),q(typeof e.exp<"u","internal-error"),q(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tc(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Qn&&LF(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function LF({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jF{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ag{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=_l(this.lastLoginAt),this.creationTime=_l(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function th(t){var e;const n=t.auth,r=await t.getIdToken(),i=await tc(t,eh(n,{idToken:r}));q(i==null?void 0:i.users.length,n,"internal-error");const s=i.users[0];t._notifyReloadListener(s);const o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?eI(s.providerUserInfo):[],a=$F(t.providerData,o),l=t.isAnonymous,c=!(t.email&&s.passwordHash)&&!(a!=null&&a.length),d=l?c:!1,h={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new Ag(s.createdAt,s.lastLoginAt),isAnonymous:d};Object.assign(t,h)}async function FF(t){const e=Xe(t);await th(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function $F(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function eI(t){return t.map(e=>{var{providerId:n}=e,r=Jv(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function UF(t,e){const n=await Jk(t,{},async()=>{const r=da({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=await Zk(t,i,"/v1/token",`key=${s}`),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",Qk.fetch()(o,{method:"POST",headers:a,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function VF(t,e){return Xr(t,"POST","/v2/accounts:revokeToken",Yr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ko{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){q(e.idToken,"internal-error"),q(typeof e.idToken<"u","internal-error"),q(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):b1(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){q(e.length!==0,"internal-error");const n=b1(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(q(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:s}=await UF(e,n);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new ko;return r&&(q(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(q(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(q(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new ko,this.toJSON())}_performRefresh(){return Ir("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ni(t,e){q(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class $n{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=Jv(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new jF(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new Ag(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await tc(this,this.stsTokenManager.getToken(this.auth,e));return q(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return MF(this,e)}reload(){return FF(this)}_assign(e){this!==e&&(q(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new $n(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){q(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await th(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Mt(this.auth.app))return Promise.reject(Or(this.auth));const e=await this.getIdToken();return await tc(this,OF(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,a,l,c,d;const h=(r=n.displayName)!==null&&r!==void 0?r:void 0,f=(i=n.email)!==null&&i!==void 0?i:void 0,y=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,v=(o=n.photoURL)!==null&&o!==void 0?o:void 0,b=(a=n.tenantId)!==null&&a!==void 0?a:void 0,P=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,w=(c=n.createdAt)!==null&&c!==void 0?c:void 0,C=(d=n.lastLoginAt)!==null&&d!==void 0?d:void 0,{uid:x,emailVerified:A,isAnonymous:D,providerData:M,stsTokenManager:S}=n;q(x&&S,e,"internal-error");const E=ko.fromJSON(this.name,S);q(typeof x=="string",e,"internal-error"),ni(h,e.name),ni(f,e.name),q(typeof A=="boolean",e,"internal-error"),q(typeof D=="boolean",e,"internal-error"),ni(y,e.name),ni(v,e.name),ni(b,e.name),ni(P,e.name),ni(w,e.name),ni(C,e.name);const I=new $n({uid:x,auth:e,email:f,emailVerified:A,displayName:h,isAnonymous:D,photoURL:v,phoneNumber:y,tenantId:b,stsTokenManager:E,createdAt:w,lastLoginAt:C});return M&&Array.isArray(M)&&(I.providerData=M.map(m=>Object.assign({},m))),P&&(I._redirectEventId=P),I}static async _fromIdTokenResponse(e,n,r=!1){const i=new ko;i.updateFromServerResponse(n);const s=new $n({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await th(s),s}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];q(i.localId!==void 0,"internal-error");const s=i.providerUserInfo!==void 0?eI(i.providerUserInfo):[],o=!(i.email&&i.passwordHash)&&!(s!=null&&s.length),a=new ko;a.updateFromIdToken(r);const l=new $n({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:o}),c={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new Ag(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(s!=null&&s.length)};return Object.assign(l,c),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T1=new Map;function Pr(t){zr(t instanceof Function,"Expected a class definition");let e=T1.get(t);return e?(zr(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,T1.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tI{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}tI.type="NONE";const k1=tI;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ld(t,e,n){return`firebase:${t}:${e}:${n}`}class Io{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=ld(this.userKey,i.apiKey,s),this.fullPersistenceKey=ld("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await eh(this.auth,{idToken:e}).catch(()=>{});return n?$n._fromGetAccountInfoResponse(this.auth,n,e):null}return $n._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Io(Pr(k1),e,r);const i=(await Promise.all(n.map(async c=>{if(await c._isAvailable())return c}))).filter(c=>c);let s=i[0]||Pr(k1);const o=ld(r,e.config.apiKey,e.name);let a=null;for(const c of n)try{const d=await c._get(o);if(d){let h;if(typeof d=="string"){const f=await eh(e,{idToken:d}).catch(()=>{});if(!f)break;h=await $n._fromGetAccountInfoResponse(e,f,d)}else h=$n._fromJSON(e,d);c!==s&&(a=h),s=c;break}}catch{}const l=i.filter(c=>c._shouldAllowMigration);return!s._shouldAllowMigration||!l.length?new Io(s,e,r):(s=l[0],a&&await s._set(o,a.toJSON()),await Promise.all(n.map(async c=>{if(c!==s)try{await c._remove(o)}catch{}})),new Io(s,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function I1(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(sI(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(nI(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(aI(e))return"Blackberry";if(lI(e))return"Webos";if(rI(e))return"Safari";if((e.includes("chrome/")||iI(e))&&!e.includes("edge/"))return"Chrome";if(oI(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function nI(t=Ut()){return/firefox\//i.test(t)}function rI(t=Ut()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function iI(t=Ut()){return/crios\//i.test(t)}function sI(t=Ut()){return/iemobile/i.test(t)}function oI(t=Ut()){return/android/i.test(t)}function aI(t=Ut()){return/blackberry/i.test(t)}function lI(t=Ut()){return/webos/i.test(t)}function r0(t=Ut()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function BF(t=Ut()){var e;return r0(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function zF(){return bL()&&document.documentMode===10}function cI(t=Ut()){return r0(t)||oI(t)||lI(t)||aI(t)||/windows phone/i.test(t)||sI(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uI(t,e=[]){let n;switch(t){case"Browser":n=I1(Ut());break;case"Worker":n=`${I1(Ut())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Vi}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WF{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((o,a)=>{try{const l=e(s);o(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function HF(t,e={}){return Xr(t,"GET","/v2/passwordPolicy",Yr(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GF=6;class KF{constructor(e){var n,r,i,s;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:GF,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,s,o,a;const l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=(n=l.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),l.isValid&&(l.isValid=(r=l.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(i=l.containsLowercaseLetter)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(s=l.containsUppercaseLetter)!==null&&s!==void 0?s:!0),l.isValid&&(l.isValid=(o=l.containsNumericCharacter)!==null&&o!==void 0?o:!0),l.isValid&&(l.isValid=(a=l.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),l}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qF{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new P1(this),this.idTokenSubscription=new P1(this),this.beforeStateQueue=new WF(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Xk,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(s=>this._resolvePersistenceManagerAvailable=s)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Pr(n)),this._initializationPromise=this.queue(async()=>{var r,i,s;if(!this._deleted&&(this.persistenceManager=await Io.create(this,e),(r=this._resolvePersistenceManagerAvailable)===null||r===void 0||r.call(this),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((s=this.currentUser)===null||s===void 0?void 0:s.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await eh(this,{idToken:e}),r=await $n._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(Mt(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let i=r,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i==null?void 0:i._redirectEventId,l=await this.tryRedirectSignIn(e);(!o||o===a)&&(l!=null&&l.user)&&(i=l.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return q(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await th(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=TF()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Mt(this.app))return Promise.reject(Or(this));const n=e?Xe(e):null;return n&&q(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&q(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Mt(this.app)?Promise.reject(Or(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Mt(this.app)?Promise.reject(Or(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Pr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await HF(this),n=new KF(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Fs("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await VF(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Pr(e)||this._popupRedirectResolver;q(n,this,"argument-error"),this.redirectPersistenceManager=await Io.create(this,[Pr(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(q(a,this,"internal-error"),a.then(()=>{o||s(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,r,i);return()=>{o=!0,l()}}else{const l=e.addObserver(n);return()=>{o=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return q(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=uI(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;if(Mt(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&EF(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function Bi(t){return Xe(t)}class P1{constructor(e){this.auth=e,this.observer=null,this.addObserver=DL(n=>this.observer=n)}get next(){return q(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let tf={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function YF(t){tf=t}function dI(t){return tf.loadJS(t)}function XF(){return tf.recaptchaEnterpriseScript}function QF(){return tf.gapiScript}function JF(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class ZF{constructor(){this.enterprise=new e5}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class e5{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const t5="recaptcha-enterprise",hI="NO_RECAPTCHA";class n5{constructor(e){this.type=t5,this.auth=Bi(e)}async verify(e="verify",n=!1){async function r(s){if(!n){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise(async(o,a)=>{DF(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const c=new NF(l);return s.tenantId==null?s._agentRecaptchaConfig=c:s._tenantRecaptchaConfigs[s.tenantId]=c,o(c.siteKey)}}).catch(l=>{a(l)})})}function i(s,o,a){const l=window.grecaptcha;S1(l)?l.enterprise.ready(()=>{l.enterprise.execute(s,{action:e}).then(c=>{o(c)}).catch(()=>{o(hI)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new ZF().execute("siteKey",{action:"verify"}):new Promise((s,o)=>{r(this.auth).then(a=>{if(!n&&S1(window.grecaptcha))i(a,s,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let l=XF();l.length!==0&&(l+=a),dI(l).then(()=>{i(a,s,o)}).catch(c=>{o(c)})}}).catch(a=>{o(a)})})}}async function Ba(t,e,n,r=!1,i=!1){const s=new n5(t);let o;if(i)o=hI;else try{o=await s.verify(n)}catch{o=await s.verify(n,!0)}const a=Object.assign({},e);if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in a){const l=a.phoneEnrollmentInfo.phoneNumber,c=a.phoneEnrollmentInfo.recaptchaToken;Object.assign(a,{phoneEnrollmentInfo:{phoneNumber:l,recaptchaToken:c,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in a){const l=a.phoneSignInInfo.recaptchaToken;Object.assign(a,{phoneSignInInfo:{recaptchaToken:l,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return a}return r?Object.assign(a,{captchaResp:o}):Object.assign(a,{captchaResponse:o}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a}async function Ng(t,e,n,r,i){var s,o;if(i==="EMAIL_PASSWORD_PROVIDER")if(!((s=t._getRecaptchaConfig())===null||s===void 0)&&s.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const a=await Ba(t,e,n,n==="getOobCode");return r(t,a)}else return r(t,e).catch(async a=>{if(a.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const l=await Ba(t,e,n,n==="getOobCode");return r(t,l)}else return Promise.reject(a)});else if(i==="PHONE_PROVIDER")if(!((o=t._getRecaptchaConfig())===null||o===void 0)&&o.isProviderEnabled("PHONE_PROVIDER")){const a=await Ba(t,e,n);return r(t,a).catch(async l=>{var c;if(((c=t._getRecaptchaConfig())===null||c===void 0?void 0:c.getProviderEnforcementState("PHONE_PROVIDER"))==="AUDIT"&&(l.code==="auth/missing-recaptcha-token"||l.code==="auth/invalid-app-credential")){console.log(`Failed to verify with reCAPTCHA Enterprise. Automatically triggering the reCAPTCHA v2 flow to complete the ${n} flow.`);const d=await Ba(t,e,n,!1,!0);return r(t,d)}return Promise.reject(l)})}else{const a=await Ba(t,e,n,!1,!0);return r(t,a)}else return Promise.reject(i+" provider is not supported.")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function r5(t,e){const n=Ui(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),s=n.getOptions();if(ki(s,e??{}))return i;In(i,"already-initialized")}return n.initialize({options:e})}function i5(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Pr);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function fI(t,e,n){const r=Bi(t);q(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!!(n!=null&&n.disableWarnings),s=pI(e),{host:o,port:a}=s5(e),l=a===null?"":`:${a}`,c={url:`${s}//${o}${l}/`},d=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){q(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),q(ki(c,r.config.emulator)&&ki(d,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=c,r.emulatorConfig=d,r.settings.appVerificationDisabledForTesting=!0,js(o)?($i("Auth",!0),qh(`${s}//${o}${l}`)):i||o5()}function pI(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function s5(t){const e=pI(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:R1(r.substr(s.length+1))}}else{const[s,o]=r.split(":");return{host:s,port:R1(o)}}}function R1(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function o5(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i0{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Ir("not implemented")}_getIdTokenResponse(e){return Ir("not implemented")}_linkToIdToken(e,n){return Ir("not implemented")}_getReauthenticationResolver(e){return Ir("not implemented")}}async function a5(t,e){return Xr(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function l5(t,e){return Ac(t,"POST","/v1/accounts:signInWithPassword",Yr(t,e))}async function c5(t,e){return Xr(t,"POST","/v1/accounts:sendOobCode",Yr(t,e))}async function u5(t,e){return c5(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function d5(t,e){return Ac(t,"POST","/v1/accounts:signInWithEmailLink",Yr(t,e))}async function h5(t,e){return Ac(t,"POST","/v1/accounts:signInWithEmailLink",Yr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nc extends i0{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new nc(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new nc(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Ng(e,n,"signInWithPassword",l5,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return d5(e,{email:this._email,oobCode:this._password});default:In(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Ng(e,r,"signUpPassword",a5,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return h5(e,{idToken:n,email:this._email,oobCode:this._password});default:In(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Po(t,e){return Ac(t,"POST","/v1/accounts:signInWithIdp",Yr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f5="http://localhost";class ks extends i0{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new ks(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):In("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,s=Jv(n,["providerId","signInMethod"]);if(!r||!i)return null;const o=new ks(r,i);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return Po(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Po(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Po(e,n)}buildRequest(){const e={requestUri:f5,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=da(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function p5(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function m5(t){const e=nl(rl(t)).link,n=e?nl(rl(e)).deep_link_id:null,r=nl(rl(t)).deep_link_id;return(r?nl(rl(r)).link:null)||r||n||e||t}class s0{constructor(e){var n,r,i,s,o,a;const l=nl(rl(e)),c=(n=l.apiKey)!==null&&n!==void 0?n:null,d=(r=l.oobCode)!==null&&r!==void 0?r:null,h=p5((i=l.mode)!==null&&i!==void 0?i:null);q(c&&d&&h,"argument-error"),this.apiKey=c,this.operation=h,this.code=d,this.continueUrl=(s=l.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(o=l.lang)!==null&&o!==void 0?o:null,this.tenantId=(a=l.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){const n=m5(e);try{return new s0(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ha{constructor(){this.providerId=ha.PROVIDER_ID}static credential(e,n){return nc._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=s0.parseLink(n);return q(r,"argument-error"),nc._fromEmailAndCode(e,r.code,r.tenantId)}}ha.PROVIDER_ID="password";ha.EMAIL_PASSWORD_SIGN_IN_METHOD="password";ha.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o0{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nc extends o0{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class li extends Nc{constructor(){super("facebook.com")}static credential(e){return ks._fromParams({providerId:li.PROVIDER_ID,signInMethod:li.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return li.credentialFromTaggedObject(e)}static credentialFromError(e){return li.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return li.credential(e.oauthAccessToken)}catch{return null}}}li.FACEBOOK_SIGN_IN_METHOD="facebook.com";li.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class br extends Nc{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return ks._fromParams({providerId:br.PROVIDER_ID,signInMethod:br.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return br.credentialFromTaggedObject(e)}static credentialFromError(e){return br.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return br.credential(n,r)}catch{return null}}}br.GOOGLE_SIGN_IN_METHOD="google.com";br.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ci extends Nc{constructor(){super("github.com")}static credential(e){return ks._fromParams({providerId:ci.PROVIDER_ID,signInMethod:ci.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ci.credentialFromTaggedObject(e)}static credentialFromError(e){return ci.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ci.credential(e.oauthAccessToken)}catch{return null}}}ci.GITHUB_SIGN_IN_METHOD="github.com";ci.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ui extends Nc{constructor(){super("twitter.com")}static credential(e,n){return ks._fromParams({providerId:ui.PROVIDER_ID,signInMethod:ui.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return ui.credentialFromTaggedObject(e)}static credentialFromError(e){return ui.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return ui.credential(n,r)}catch{return null}}}ui.TWITTER_SIGN_IN_METHOD="twitter.com";ui.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function g5(t,e){return Ac(t,"POST","/v1/accounts:signUp",Yr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Is{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const s=await $n._fromIdTokenResponse(e,r,i),o=A1(r);return new Is({user:s,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=A1(r);return new Is({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function A1(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nh extends Qn{constructor(e,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,nh.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new nh(e,n,r,i)}}function mI(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?nh._fromErrorAndOperation(t,s,e,r):s})}async function y5(t,e,n=!1){const r=await tc(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Is._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function v5(t,e,n=!1){const{auth:r}=t;if(Mt(r.app))return Promise.reject(Or(r));const i="reauthenticate";try{const s=await tc(t,mI(r,i,e,t),n);q(s.idToken,r,"internal-error");const o=n0(s.idToken);q(o,r,"internal-error");const{sub:a}=o;return q(t.uid===a,r,"user-mismatch"),Is._forOperation(t,i,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&In(r,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gI(t,e,n=!1){if(Mt(t.app))return Promise.reject(Or(t));const r="signIn",i=await mI(t,r,e),s=await Is._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(s.user),s}async function _5(t,e){return gI(Bi(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function w5(t,e,n){var r;q(((r=n.url)===null||r===void 0?void 0:r.length)>0,t,"invalid-continue-uri"),q(typeof n.dynamicLinkDomain>"u"||n.dynamicLinkDomain.length>0,t,"invalid-dynamic-link-domain"),q(typeof n.linkDomain>"u"||n.linkDomain.length>0,t,"invalid-hosting-link-domain"),e.continueUrl=n.url,e.dynamicLinkDomain=n.dynamicLinkDomain,e.linkDomain=n.linkDomain,e.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(q(n.iOS.bundleId.length>0,t,"missing-ios-bundle-id"),e.iOSBundleId=n.iOS.bundleId),n.android&&(q(n.android.packageName.length>0,t,"missing-android-pkg-name"),e.androidInstallApp=n.android.installApp,e.androidMinimumVersionCode=n.android.minimumVersion,e.androidPackageName=n.android.packageName)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yI(t){const e=Bi(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function x5(t,e,n){if(Mt(t.app))return Promise.reject(Or(t));const r=Bi(t),o=await Ng(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",g5,"EMAIL_PASSWORD_PROVIDER").catch(l=>{throw l.code==="auth/password-does-not-meet-requirements"&&yI(t),l}),a=await Is._fromIdTokenResponse(r,"signIn",o);return await r._updateCurrentUser(a.user),a}function E5(t,e,n){return Mt(t.app)?Promise.reject(Or(t)):_5(Xe(t),ha.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&yI(t),r})}async function Dg(t,e){const n=Xe(t),i={requestType:"VERIFY_EMAIL",idToken:await t.getIdToken()};e&&w5(n.auth,i,e);const{email:s}=await u5(n.auth,i);s!==t.email&&await t.reload()}function C5(t,e,n,r){return Xe(t).onIdTokenChanged(e,n,r)}function S5(t,e,n){return Xe(t).beforeAuthStateChanged(e,n)}function b5(t,e,n,r){return Xe(t).onAuthStateChanged(e,n,r)}function T5(t){return Xe(t).signOut()}const rh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vI{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(rh,"1"),this.storage.removeItem(rh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k5=1e3,I5=10;class _I extends vI{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=cI(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,l)=>{this.notifyListeners(o,l)});return}const r=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},s=this.storage.getItem(r);zF()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,I5):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},k5)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}_I.type="LOCAL";const P5=_I;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wI extends vI{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}wI.type="SESSION";const xI=wI;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function R5(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nf{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new nf(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:s}=n.data,o=this.handlersMap[i];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const a=Array.from(o).map(async c=>c(n.origin,s)),l=await R5(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}nf.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function a0(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A5{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((a,l)=>{const c=a0("",20);i.port1.start();const d=setTimeout(()=>{l(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(h){const f=h;if(f.data.eventId===c)switch(f.data.status){case"ack":clearTimeout(d),s=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(f.data.response);break;default:clearTimeout(d),clearTimeout(s),l(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:c,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cr(){return window}function N5(t){cr().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EI(){return typeof cr().WorkerGlobalScope<"u"&&typeof cr().importScripts=="function"}async function D5(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function O5(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function M5(){return EI()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CI="firebaseLocalStorageDb",L5=1,ih="firebaseLocalStorage",SI="fbase_key";class Dc{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function rf(t,e){return t.transaction([ih],e?"readwrite":"readonly").objectStore(ih)}function j5(){const t=indexedDB.deleteDatabase(CI);return new Dc(t).toPromise()}function Og(){const t=indexedDB.open(CI,L5);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(ih,{keyPath:SI})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(ih)?e(r):(r.close(),await j5(),e(await Og()))})})}async function N1(t,e,n){const r=rf(t,!0).put({[SI]:e,value:n});return new Dc(r).toPromise()}async function F5(t,e){const n=rf(t,!1).get(e),r=await new Dc(n).toPromise();return r===void 0?null:r.value}function D1(t,e){const n=rf(t,!0).delete(e);return new Dc(n).toPromise()}const $5=800,U5=3;class bI{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Og(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>U5)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return EI()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=nf._getInstance(M5()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await D5(),!this.activeServiceWorker)return;this.sender=new A5(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||O5()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Og();return await N1(e,rh,"1"),await D1(e,rh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>N1(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>F5(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>D1(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=rf(i,!1).getAll();return new Dc(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:s}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),$5)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}bI.type="LOCAL";const V5=bI;new Rc(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TI(t,e){return e?Pr(e):(q(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l0 extends i0{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Po(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Po(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Po(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function B5(t){return gI(t.auth,new l0(t),t.bypassAuthState)}function z5(t){const{auth:e,user:n}=t;return q(n,e,"internal-error"),v5(n,new l0(t),t.bypassAuthState)}async function W5(t){const{auth:e,user:n}=t;return q(n,e,"internal-error"),y5(n,new l0(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kI{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:o,type:a}=e;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(c){this.reject(c)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return B5;case"linkViaPopup":case"linkViaRedirect":return W5;case"reauthViaPopup":case"reauthViaRedirect":return z5;default:In(this.auth,"internal-error")}}resolve(e){zr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){zr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H5=new Rc(2e3,1e4);async function G5(t,e,n){if(Mt(t.app))return Promise.reject(Hn(t,"operation-not-supported-in-this-environment"));const r=Bi(t);CF(t,e,o0);const i=TI(r,n);return new us(r,"signInViaPopup",e,i).executeNotNull()}class us extends kI{constructor(e,n,r,i,s){super(e,n,i,s),this.provider=r,this.authWindow=null,this.pollId=null,us.currentPopupAction&&us.currentPopupAction.cancel(),us.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return q(e,this.auth,"internal-error"),e}async onExecution(){zr(this.filter.length===1,"Popup operations only handle one event");const e=a0();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Hn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Hn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,us.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Hn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,H5.get())};e()}}us.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K5="pendingRedirect",cd=new Map;class q5 extends kI{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=cd.get(this.auth._key());if(!e){try{const r=await Y5(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}cd.set(this.auth._key(),e)}return this.bypassAuthState||cd.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function Y5(t,e){const n=J5(e),r=Q5(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function X5(t,e){cd.set(t._key(),e)}function Q5(t){return Pr(t._redirectPersistence)}function J5(t){return ld(K5,t.config.apiKey,t.name)}async function Z5(t,e,n=!1){if(Mt(t.app))return Promise.reject(Or(t));const r=Bi(t),i=TI(r,e),o=await new q5(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e3=10*60*1e3;class t3{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!n3(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!II(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(Hn(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=e3&&this.cachedEventUids.clear(),this.cachedEventUids.has(O1(e))}saveEventToCache(e){this.cachedEventUids.add(O1(e)),this.lastProcessedEventTime=Date.now()}}function O1(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function II({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function n3(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return II(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function r3(t,e={}){return Xr(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i3=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,s3=/^https?/;async function o3(t){if(t.config.emulator)return;const{authorizedDomains:e}=await r3(t);for(const n of e)try{if(a3(n))return}catch{}In(t,"unauthorized-domain")}function a3(t){const e=Rg(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!s3.test(n))return!1;if(i3.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l3=new Rc(3e4,6e4);function M1(){const t=cr().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function c3(t){return new Promise((e,n)=>{var r,i,s;function o(){M1(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{M1(),n(Hn(t,"network-request-failed"))},timeout:l3.get()})}if(!((i=(r=cr().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=cr().gapi)===null||s===void 0)&&s.load)o();else{const a=JF("iframefcb");return cr()[a]=()=>{gapi.load?o():n(Hn(t,"network-request-failed"))},dI(`${QF()}?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw ud=null,e})}let ud=null;function u3(t){return ud=ud||c3(t),ud}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d3=new Rc(5e3,15e3),h3="__/auth/iframe",f3="emulator/auth/iframe",p3={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},m3=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function g3(t){const e=t.config;q(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?t0(e,f3):`https://${t.config.authDomain}/${h3}`,r={apiKey:e.apiKey,appName:t.name,v:Vi},i=m3.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${da(r).slice(1)}`}async function y3(t){const e=await u3(t),n=cr().gapi;return q(n,t,"internal-error"),e.open({where:document.body,url:g3(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:p3,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const o=Hn(t,"network-request-failed"),a=cr().setTimeout(()=>{s(o)},d3.get());function l(){cr().clearTimeout(a),i(r)}r.ping(l).then(l,()=>{s(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v3={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},_3=500,w3=600,x3="_blank",E3="http://localhost";class L1{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function C3(t,e,n,r=_3,i=w3){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=Object.assign(Object.assign({},v3),{width:r.toString(),height:i.toString(),top:s,left:o}),c=Ut().toLowerCase();n&&(a=iI(c)?x3:n),nI(c)&&(e=e||E3,l.scrollbars="yes");const d=Object.entries(l).reduce((f,[y,v])=>`${f}${y}=${v},`,"");if(BF(c)&&a!=="_self")return S3(e||"",a),new L1(null);const h=window.open(e||"",a,d);q(h,t,"popup-blocked");try{h.focus()}catch{}return new L1(h)}function S3(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b3="__/auth/handler",T3="emulator/auth/handler",k3=encodeURIComponent("fac");async function j1(t,e,n,r,i,s){q(t.config.authDomain,t,"auth-domain-config-required"),q(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Vi,eventId:i};if(e instanceof o0){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",xg(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[d,h]of Object.entries(s||{}))o[d]=h}if(e instanceof Nc){const d=e.getScopes().filter(h=>h!=="");d.length>0&&(o.scopes=d.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const d of Object.keys(a))a[d]===void 0&&delete a[d];const l=await t._getAppCheckToken(),c=l?`#${k3}=${encodeURIComponent(l)}`:"";return`${I3(t)}?${da(a).slice(1)}${c}`}function I3({config:t}){return t.emulator?t0(t,T3):`https://${t.authDomain}/${b3}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xp="webStorageSupport";class P3{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=xI,this._completeRedirectFn=Z5,this._overrideRedirectResult=X5}async _openPopup(e,n,r,i){var s;zr((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const o=await j1(e,n,r,Rg(),i);return C3(e,o,a0())}async _openRedirect(e,n,r,i){await this._originValidation(e);const s=await j1(e,n,r,Rg(),i);return N5(s),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(zr(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await y3(e),r=new t3(e);return n.register("authEvent",i=>(q(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Xp,{type:Xp},i=>{var s;const o=(s=i==null?void 0:i[0])===null||s===void 0?void 0:s[Xp];o!==void 0&&n(!!o),In(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=o3(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return cI()||rI()||r0()}}const R3=P3;var F1="@firebase/auth",$1="1.10.4";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A3{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){q(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function N3(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function D3(t){kn(new cn("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;q(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:uI(t)},c=new qF(r,i,s,l);return i5(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),kn(new cn("auth-internal",e=>{const n=Bi(e.getProvider("auth").getImmediate());return(r=>new A3(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),kt(F1,$1,N3(t)),kt(F1,$1,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O3=5*60,M3=pk("authIdTokenMaxAge")||O3;let U1=null;const L3=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>M3)return;const i=n==null?void 0:n.token;U1!==i&&(U1=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function j3(t=Pc()){const e=Ui(t,"auth");if(e.isInitialized())return e.getImmediate();const n=r5(t,{popupRedirectResolver:R3,persistence:[V5,P5,xI]}),r=pk("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const s=new URL(r,location.origin);if(location.origin===s.origin){const o=L3(s.toString());S5(n,o,()=>o(n.currentUser)),C5(n,a=>o(a))}}const i=hk("auth");return i?fI(n,`http://${i}`):$i("Auth",!1),n}function F3(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}YF({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=Hn("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",F3().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});D3("Browser");const V1="@firebase/database",B1="1.0.17";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let PI="";function $3(t){PI=t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U3{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,n){n==null?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),nt(n))}get(e){const n=this.domStorage_.getItem(this.prefixedName_(e));return n==null?null:Ql(n)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V3{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,n){n==null?delete this.cache_[e]:this.cache_[e]=n}get(e){return gr(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RI=function(t){try{if(typeof window<"u"&&typeof window[t]<"u"){const e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new U3(e)}}catch{}return new V3},ds=RI("localStorage"),Mg=RI("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ro=new Qh("@firebase/database"),B3=function(){let t=1;return function(){return t++}}(),AI=function(t){const e=LL(t),n=new NL;n.update(e);const r=n.digest();return $v.encodeByteArray(r)},Oc=function(...t){let e="";for(let n=0;n<t.length;n++){const r=t[n];Array.isArray(r)||r&&typeof r=="object"&&typeof r.length=="number"?e+=Oc.apply(null,r):typeof r=="object"?e+=nt(r):e+=r,e+=" "}return e};let gs=null,z1=!0;const z3=function(t,e){U(!e||t===!0||t===!1,"Can't turn on custom loggers persistently."),t===!0?(Ro.logLevel=ge.VERBOSE,gs=Ro.log.bind(Ro),e&&Mg.set("logging_enabled",!0)):typeof t=="function"?gs=t:(gs=null,Mg.remove("logging_enabled"))},ft=function(...t){if(z1===!0&&(z1=!1,gs===null&&Mg.get("logging_enabled")===!0&&z3(!0)),gs){const e=Oc.apply(null,t);gs(e)}},Mc=function(t){return function(...e){ft(t,...e)}},Lg=function(...t){const e="FIREBASE INTERNAL ERROR: "+Oc(...t);Ro.error(e)},Wr=function(...t){const e=`FIREBASE FATAL ERROR: ${Oc(...t)}`;throw Ro.error(e),new Error(e)},$t=function(...t){const e="FIREBASE WARNING: "+Oc(...t);Ro.warn(e)},W3=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&$t("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},c0=function(t){return typeof t=="number"&&(t!==t||t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY)},H3=function(t){if(document.readyState==="complete")t();else{let e=!1;const n=function(){if(!document.body){setTimeout(n,Math.floor(10));return}e||(e=!0,t())};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&n()}),window.attachEvent("onload",n))}},zo="[MIN_NAME]",Ps="[MAX_NAME]",$s=function(t,e){if(t===e)return 0;if(t===zo||e===Ps)return-1;if(e===zo||t===Ps)return 1;{const n=W1(t),r=W1(e);return n!==null?r!==null?n-r===0?t.length-e.length:n-r:-1:r!==null?1:t<e?-1:1}},G3=function(t,e){return t===e?0:t<e?-1:1},za=function(t,e){if(e&&t in e)return e[t];throw new Error("Missing required key ("+t+") in object: "+nt(e))},u0=function(t){if(typeof t!="object"||t===null)return nt(t);const e=[];for(const r in t)e.push(r);e.sort();let n="{";for(let r=0;r<e.length;r++)r!==0&&(n+=","),n+=nt(e[r]),n+=":",n+=u0(t[e[r]]);return n+="}",n},NI=function(t,e){const n=t.length;if(n<=e)return[t];const r=[];for(let i=0;i<n;i+=e)i+e>n?r.push(t.substring(i,n)):r.push(t.substring(i,i+e));return r};function yt(t,e){for(const n in t)t.hasOwnProperty(n)&&e(n,t[n])}const DI=function(t){U(!c0(t),"Invalid JSON number");const e=11,n=52,r=(1<<e-1)-1;let i,s,o,a,l;t===0?(s=0,o=0,i=1/t===-1/0?1:0):(i=t<0,t=Math.abs(t),t>=Math.pow(2,1-r)?(a=Math.min(Math.floor(Math.log(t)/Math.LN2),r),s=a+r,o=Math.round(t*Math.pow(2,n-a)-Math.pow(2,n))):(s=0,o=Math.round(t/Math.pow(2,1-r-n))));const c=[];for(l=n;l;l-=1)c.push(o%2?1:0),o=Math.floor(o/2);for(l=e;l;l-=1)c.push(s%2?1:0),s=Math.floor(s/2);c.push(i?1:0),c.reverse();const d=c.join("");let h="";for(l=0;l<64;l+=8){let f=parseInt(d.substr(l,8),2).toString(16);f.length===1&&(f="0"+f),h=h+f}return h.toLowerCase()},K3=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},q3=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function Y3(t,e){let n="Unknown Error";t==="too_big"?n="The data requested exceeds the maximum size that can be accessed with a single request.":t==="permission_denied"?n="Client doesn't have permission to access the desired data.":t==="unavailable"&&(n="The service is unavailable");const r=new Error(t+" at "+e._path.toString()+": "+n);return r.code=t.toUpperCase(),r}const X3=new RegExp("^-?(0*)\\d{1,10}$"),Q3=-2147483648,J3=2147483647,W1=function(t){if(X3.test(t)){const e=Number(t);if(e>=Q3&&e<=J3)return e}return null},fa=function(t){try{t()}catch(e){setTimeout(()=>{const n=e.stack||"";throw $t("Exception was thrown by user callback.",n),e},Math.floor(0))}},Z3=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},wl=function(t,e){const n=setTimeout(t,e);return typeof n=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(n):typeof n=="object"&&n.unref&&n.unref(),n};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e6{constructor(e,n){this.appCheckProvider=n,this.appName=e.name,Mt(e)&&e.settings.appCheckToken&&(this.serverAppAppCheckToken=e.settings.appCheckToken),this.appCheck=n==null?void 0:n.getImmediate({optional:!0}),this.appCheck||n==null||n.get().then(r=>this.appCheck=r)}getToken(e){if(this.serverAppAppCheckToken){if(e)throw new Error("Attempted reuse of `FirebaseServerApp.appCheckToken` after previous usage failed.");return Promise.resolve({token:this.serverAppAppCheckToken})}return this.appCheck?this.appCheck.getToken(e):new Promise((n,r)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){var n;(n=this.appCheckProvider)===null||n===void 0||n.get().then(r=>r.addTokenListener(e))}notifyForInvalidToken(){$t(`Provided AppCheck credentials for the app named "${this.appName}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t6{constructor(e,n,r){this.appName_=e,this.firebaseOptions_=n,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit(i=>this.auth_=i)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(n=>n&&n.code==="auth/token-not-initialized"?(ft("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(n)):new Promise((n,r)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(n=>n.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(n=>n.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',$t(e)}}class Ao{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}Ao.OWNER="owner";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d0="5",OI="v",MI="s",LI="r",jI="f",FI=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,$I="ls",UI="p",jg="ac",VI="websocket",BI="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zI{constructor(e,n,r,i,s=!1,o="",a=!1,l=!1,c=null){this.secure=n,this.namespace=r,this.webSocketOnly=i,this.nodeAdmin=s,this.persistenceKey=o,this.includeNamespaceInQueryParams=a,this.isUsingEmulator=l,this.emulatorOptions=c,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=ds.get("host:"+e)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&ds.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){const e=this.secure?"https://":"http://",n=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${e}${this.host}/${n}`}}function n6(t){return t.host!==t.internalHost||t.isCustomHost()||t.includeNamespaceInQueryParams}function WI(t,e,n){U(typeof e=="string","typeof type must == string"),U(typeof n=="object","typeof params must == object");let r;if(e===VI)r=(t.secure?"wss://":"ws://")+t.internalHost+"/.ws?";else if(e===BI)r=(t.secure?"https://":"http://")+t.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+e);n6(t)&&(n.ns=t.namespace);const i=[];return yt(n,(s,o)=>{i.push(s+"="+o)}),r+i.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r6{constructor(){this.counters_={}}incrementCounter(e,n=1){gr(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=n}get(){return mL(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qp={},Jp={};function h0(t){const e=t.toString();return Qp[e]||(Qp[e]=new r6),Qp[e]}function i6(t,e){const n=t.toString();return Jp[n]||(Jp[n]=e()),Jp[n]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s6{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,n){this.closeAfterResponse=e,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,n){for(this.pendingResponses[e]=n;this.pendingResponses[this.currentResponseNum];){const r=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let i=0;i<r.length;++i)r[i]&&fa(()=>{this.onMessage_(r[i])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H1="start",o6="close",a6="pLPCommand",l6="pRTLPCB",HI="id",GI="pw",KI="ser",c6="cb",u6="seg",d6="ts",h6="d",f6="dframe",qI=1870,YI=30,p6=qI-YI,m6=25e3,g6=3e4;class mo{constructor(e,n,r,i,s,o,a){this.connId=e,this.repoInfo=n,this.applicationId=r,this.appCheckToken=i,this.authToken=s,this.transportSessionId=o,this.lastSessionId=a,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Mc(e),this.stats_=h0(n),this.urlFn=l=>(this.appCheckToken&&(l[jg]=this.appCheckToken),WI(n,BI,l))}open(e,n){this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new s6(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(g6)),H3(()=>{if(this.isClosed_)return;this.scriptTagHolder=new f0((...s)=>{const[o,a,l,c,d]=s;if(this.incrementIncomingBytes_(s),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,o===H1)this.id=a,this.password=l;else if(o===o6)a?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(a,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+o)},(...s)=>{const[o,a]=s;this.incrementIncomingBytes_(s),this.myPacketOrderer.handleResponse(o,a)},()=>{this.onClosed_()},this.urlFn);const r={};r[H1]="t",r[KI]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(r[c6]=this.scriptTagHolder.uniqueCallbackIdentifier),r[OI]=d0,this.transportSessionId&&(r[MI]=this.transportSessionId),this.lastSessionId&&(r[$I]=this.lastSessionId),this.applicationId&&(r[UI]=this.applicationId),this.appCheckToken&&(r[jg]=this.appCheckToken),typeof location<"u"&&location.hostname&&FI.test(location.hostname)&&(r[LI]=jI);const i=this.urlFn(r);this.log_("Connecting via long-poll to "+i),this.scriptTagHolder.addTag(i,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){mo.forceAllow_=!0}static forceDisallow(){mo.forceDisallow_=!0}static isAvailable(){return mo.forceAllow_?!0:!mo.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!K3()&&!q3()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const n=nt(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=uk(n),i=NI(r,p6);for(let s=0;s<i.length;s++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,i.length,i[s]),this.curSegmentNum++}addDisconnectPingFrame(e,n){this.myDisconnFrame=document.createElement("iframe");const r={};r[f6]="t",r[HI]=e,r[GI]=n,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const n=nt(e).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)}}class f0{constructor(e,n,r,i){this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=B3(),window[a6+this.uniqueCallbackIdentifier]=e,window[l6+this.uniqueCallbackIdentifier]=n,this.myIFrame=f0.createIFrame_();let s="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(s='<script>document.domain="'+document.domain+'";<\/script>');const o="<html><body>"+s+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(o),this.myIFrame.doc.close()}catch(a){ft("frame writing exception"),a.stack&&ft(a.stack),ft(a)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",document.body){document.body.appendChild(e);try{e.contentWindow.document||ft("No IE domain setting required")}catch{const r=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,n){for(this.myID=e,this.myPW=n,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e[HI]=this.myID,e[GI]=this.myPW,e[KI]=this.currentSerial;let n=this.urlFn(e),r="",i=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+YI+r.length<=qI;){const o=this.pendingSegs.shift();r=r+"&"+u6+i+"="+o.seg+"&"+d6+i+"="+o.ts+"&"+h6+i+"="+o.d,i++}return n=n+r,this.addLongPollTag_(n,this.currentSerial),!0}else return!1}enqueueSegment(e,n,r){this.pendingSegs.push({seg:e,ts:n,d:r}),this.alive&&this.newRequest_()}addLongPollTag_(e,n){this.outstandingRequests.add(n);const r=()=>{this.outstandingRequests.delete(n),this.newRequest_()},i=setTimeout(r,Math.floor(m6)),s=()=>{clearTimeout(i),r()};this.addTag(e,s)}addTag(e,n){setTimeout(()=>{try{if(!this.sendNewPolls)return;const r=this.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=e,r.onload=r.onreadystatechange=function(){const i=r.readyState;(!i||i==="loaded"||i==="complete")&&(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),n())},r.onerror=()=>{ft("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(r)}catch{}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y6=16384,v6=45e3;let sh=null;typeof MozWebSocket<"u"?sh=MozWebSocket:typeof WebSocket<"u"&&(sh=WebSocket);class Fn{constructor(e,n,r,i,s,o,a){this.connId=e,this.applicationId=r,this.appCheckToken=i,this.authToken=s,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Mc(this.connId),this.stats_=h0(n),this.connURL=Fn.connectionURL_(n,o,a,i,r),this.nodeAdmin=n.nodeAdmin}static connectionURL_(e,n,r,i,s){const o={};return o[OI]=d0,typeof location<"u"&&location.hostname&&FI.test(location.hostname)&&(o[LI]=jI),n&&(o[MI]=n),r&&(o[$I]=r),i&&(o[jg]=i),s&&(o[UI]=s),WI(e,VI,o)}open(e,n){this.onDisconnect=n,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,ds.set("previous_websocket_failure",!0);try{let r;gk(),this.mySock=new sh(this.connURL,[],r)}catch(r){this.log_("Error instantiating WebSocket.");const i=r.message||r.data;i&&this.log_(i),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=r=>{this.handleIncomingFrame(r)},this.mySock.onerror=r=>{this.log_("WebSocket error.  Closing connection.");const i=r.message||r.data;i&&this.log_(i),this.onClosed_()}}start(){}static forceDisallow(){Fn.forceDisallow_=!0}static isAvailable(){let e=!1;if(typeof navigator<"u"&&navigator.userAgent){const n=/Android ([0-9]{0,}\.[0-9]{0,})/,r=navigator.userAgent.match(n);r&&r.length>1&&parseFloat(r[1])<4.4&&(e=!0)}return!e&&sh!==null&&!Fn.forceDisallow_}static previouslyFailed(){return ds.isInMemoryStorage||ds.get("previous_websocket_failure")===!0}markConnectionHealthy(){ds.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const n=this.frames.join("");this.frames=null;const r=Ql(n);this.onMessage(r)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if(U(this.frames===null,"We already have a frame buffer"),e.length<=6){const n=Number(e);if(!isNaN(n))return this.handleNewFrameCount_(n),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(this.mySock===null)return;const n=e.data;if(this.bytesReceived+=n.length,this.stats_.incrementCounter("bytes_received",n.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(n);else{const r=this.extractFrameCount_(n);r!==null&&this.appendFrame_(r)}}send(e){this.resetKeepAlive();const n=nt(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=NI(n,y6);r.length>1&&this.sendString_(String(r.length));for(let i=0;i<r.length;i++)this.sendString_(r[i])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(v6))}sendString_(e){try{this.mySock.send(e)}catch(n){this.log_("Exception thrown from WebSocket.send():",n.message||n.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}Fn.responsesRequiredToBeHealthy=2;Fn.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rc{static get ALL_TRANSPORTS(){return[mo,Fn]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}constructor(e){this.initTransports_(e)}initTransports_(e){const n=Fn&&Fn.isAvailable();let r=n&&!Fn.previouslyFailed();if(e.webSocketOnly&&(n||$t("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[Fn];else{const i=this.transports_=[];for(const s of rc.ALL_TRANSPORTS)s&&s.isAvailable()&&i.push(s);rc.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}rc.globalTransportInitialized_=!1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _6=6e4,w6=5e3,x6=10*1024,E6=100*1024,Zp="t",G1="d",C6="s",K1="r",S6="e",q1="o",Y1="a",X1="n",Q1="p",b6="h";class T6{constructor(e,n,r,i,s,o,a,l,c,d){this.id=e,this.repoInfo_=n,this.applicationId_=r,this.appCheckToken_=i,this.authToken_=s,this.onMessage_=o,this.onReady_=a,this.onDisconnect_=l,this.onKill_=c,this.lastSessionId=d,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Mc("c:"+this.id+":"),this.transportManager_=new rc(n),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(n,r)},Math.floor(0));const i=e.healthyTimeout||0;i>0&&(this.healthyTimeout_=wl(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>E6?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>x6?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(i)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return n=>{e===this.conn_?this.onConnectionLost_(n):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return n=>{this.state_!==2&&(e===this.rx_?this.onPrimaryMessageReceived_(n):e===this.secondaryConn_?this.onSecondaryMessageReceived_(n):this.log_("message on old connection"))}}sendRequest(e){const n={t:"d",d:e};this.sendData_(n)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if(Zp in e){const n=e[Zp];n===Y1?this.upgradeIfSecondaryHealthy_():n===K1?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):n===q1&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const n=za("t",e),r=za("d",e);if(n==="c")this.onSecondaryControl_(r);else if(n==="d")this.pendingDataMessages.push(r);else throw new Error("Unknown protocol layer: "+n)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:Q1,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:Y1,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:X1,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const n=za("t",e),r=za("d",e);n==="c"?this.onControl_(r):n==="d"&&this.onDataMessage_(r)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const n=za(Zp,e);if(G1 in e){const r=e[G1];if(n===b6){const i=Object.assign({},r);this.repoInfo_.isUsingEmulator&&(i.h=this.repoInfo_.host),this.onHandshake_(i)}else if(n===X1){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let i=0;i<this.pendingDataMessages.length;++i)this.onDataMessage_(this.pendingDataMessages[i]);this.pendingDataMessages=[],this.tryCleanupConnection()}else n===C6?this.onConnectionShutdown_(r):n===K1?this.onReset_(r):n===S6?Lg("Server Error: "+r):n===q1?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):Lg("Unknown control packet command: "+n)}}onHandshake_(e){const n=e.ts,r=e.v,i=e.h;this.sessionId=e.s,this.repoInfo_.host=i,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),d0!==r&&$t("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),wl(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(_6))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,n){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):wl(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(w6))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:Q1,d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,!e&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(ds.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(e)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XI{put(e,n,r,i){}merge(e,n,r,i){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,n,r){}onDisconnectMerge(e,n,r){}onDisconnectCancel(e,n){}reportStats(e){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QI{constructor(e){this.allowedEvents_=e,this.listeners_={},U(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...n){if(Array.isArray(this.listeners_[e])){const r=[...this.listeners_[e]];for(let i=0;i<r.length;i++)r[i].callback.apply(r[i].context,n)}}on(e,n,r){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:n,context:r});const i=this.getInitialEvent(e);i&&n.apply(r,i)}off(e,n,r){this.validateEventType_(e);const i=this.listeners_[e]||[];for(let s=0;s<i.length;s++)if(i[s].callback===n&&(!r||r===i[s].context)){i.splice(s,1);return}}validateEventType_(e){U(this.allowedEvents_.find(n=>n===e),"Unknown event: "+e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oh extends QI{static getInstance(){return new oh}constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!zv()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}getInitialEvent(e){return U(e==="online","Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J1=32,Z1=768;class _e{constructor(e,n){if(n===void 0){this.pieces_=e.split("/");let r=0;for(let i=0;i<this.pieces_.length;i++)this.pieces_[i].length>0&&(this.pieces_[r]=this.pieces_[i],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=n}toString(){let e="";for(let n=this.pieceNum_;n<this.pieces_.length;n++)this.pieces_[n]!==""&&(e+="/"+this.pieces_[n]);return e||"/"}}function fe(){return new _e("")}function ne(t){return t.pieceNum_>=t.pieces_.length?null:t.pieces_[t.pieceNum_]}function Ii(t){return t.pieces_.length-t.pieceNum_}function ke(t){let e=t.pieceNum_;return e<t.pieces_.length&&e++,new _e(t.pieces_,e)}function p0(t){return t.pieceNum_<t.pieces_.length?t.pieces_[t.pieces_.length-1]:null}function k6(t){let e="";for(let n=t.pieceNum_;n<t.pieces_.length;n++)t.pieces_[n]!==""&&(e+="/"+encodeURIComponent(String(t.pieces_[n])));return e||"/"}function ic(t,e=0){return t.pieces_.slice(t.pieceNum_+e)}function JI(t){if(t.pieceNum_>=t.pieces_.length)return null;const e=[];for(let n=t.pieceNum_;n<t.pieces_.length-1;n++)e.push(t.pieces_[n]);return new _e(e,0)}function He(t,e){const n=[];for(let r=t.pieceNum_;r<t.pieces_.length;r++)n.push(t.pieces_[r]);if(e instanceof _e)for(let r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);else{const r=e.split("/");for(let i=0;i<r.length;i++)r[i].length>0&&n.push(r[i])}return new _e(n,0)}function se(t){return t.pieceNum_>=t.pieces_.length}function Lt(t,e){const n=ne(t),r=ne(e);if(n===null)return e;if(n===r)return Lt(ke(t),ke(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+t+")")}function I6(t,e){const n=ic(t,0),r=ic(e,0);for(let i=0;i<n.length&&i<r.length;i++){const s=$s(n[i],r[i]);if(s!==0)return s}return n.length===r.length?0:n.length<r.length?-1:1}function m0(t,e){if(Ii(t)!==Ii(e))return!1;for(let n=t.pieceNum_,r=e.pieceNum_;n<=t.pieces_.length;n++,r++)if(t.pieces_[n]!==e.pieces_[r])return!1;return!0}function En(t,e){let n=t.pieceNum_,r=e.pieceNum_;if(Ii(t)>Ii(e))return!1;for(;n<t.pieces_.length;){if(t.pieces_[n]!==e.pieces_[r])return!1;++n,++r}return!0}class P6{constructor(e,n){this.errorPrefix_=n,this.parts_=ic(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let r=0;r<this.parts_.length;r++)this.byteLength_+=Xh(this.parts_[r]);ZI(this)}}function R6(t,e){t.parts_.length>0&&(t.byteLength_+=1),t.parts_.push(e),t.byteLength_+=Xh(e),ZI(t)}function A6(t){const e=t.parts_.pop();t.byteLength_-=Xh(e),t.parts_.length>0&&(t.byteLength_-=1)}function ZI(t){if(t.byteLength_>Z1)throw new Error(t.errorPrefix_+"has a key path longer than "+Z1+" bytes ("+t.byteLength_+").");if(t.parts_.length>J1)throw new Error(t.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+J1+") or object contains a cycle "+es(t))}function es(t){return t.parts_.length===0?"":"in property '"+t.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g0 extends QI{static getInstance(){return new g0}constructor(){super(["visible"]);let e,n;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(n="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(n="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(n="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(n="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,n&&document.addEventListener(n,()=>{const r=!document[e];r!==this.visible_&&(this.visible_=r,this.trigger("visible",r))},!1)}getInitialEvent(e){return U(e==="visible","Unknown event type: "+e),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wa=1e3,N6=60*5*1e3,eE=30*1e3,D6=1.3,O6=3e4,M6="server_kill",tE=3;class Mr extends XI{constructor(e,n,r,i,s,o,a,l){if(super(),this.repoInfo_=e,this.applicationId_=n,this.onDataUpdate_=r,this.onConnectStatus_=i,this.onServerInfoUpdate_=s,this.authTokenProvider_=o,this.appCheckTokenProvider_=a,this.authOverride_=l,this.id=Mr.nextPersistentConnectionId_++,this.log_=Mc("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=Wa,this.maxReconnectDelay_=N6,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,l&&!gk())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");g0.getInstance().on("visible",this.onVisible_,this),e.host.indexOf("fblocal")===-1&&oh.getInstance().on("online",this.onOnline_,this)}sendRequest(e,n,r){const i=++this.requestNumber_,s={r:i,a:e,b:n};this.log_(nt(s)),U(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(s),r&&(this.requestCBHash_[i]=r)}get(e){this.initConnection_();const n=new Ic,i={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:o=>{const a=o.d;o.s==="ok"?n.resolve(a):n.reject(a)}};this.outstandingGets_.push(i),this.outstandingGetCount_++;const s=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(s),n.promise}listen(e,n,r,i){this.initConnection_();const s=e._queryIdentifier,o=e._path.toString();this.log_("Listen called for "+o+" "+s),this.listens.has(o)||this.listens.set(o,new Map),U(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),U(!this.listens.get(o).has(s),"listen() called twice for same path/queryId.");const a={onComplete:i,hashFn:n,query:e,tag:r};this.listens.get(o).set(s,a),this.connected_&&this.sendListen_(a)}sendGet_(e){const n=this.outstandingGets_[e];this.sendRequest("g",n.request,r=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),n.onComplete&&n.onComplete(r)})}sendListen_(e){const n=e.query,r=n._path.toString(),i=n._queryIdentifier;this.log_("Listen on "+r+" for "+i);const s={p:r},o="q";e.tag&&(s.q=n._queryObject,s.t=e.tag),s.h=e.hashFn(),this.sendRequest(o,s,a=>{const l=a.d,c=a.s;Mr.warnOnListenWarnings_(l,n),(this.listens.get(r)&&this.listens.get(r).get(i))===e&&(this.log_("listen response",a),c!=="ok"&&this.removeListen_(r,i),e.onComplete&&e.onComplete(c,l))})}static warnOnListenWarnings_(e,n){if(e&&typeof e=="object"&&gr(e,"w")){const r=Bo(e,"w");if(Array.isArray(r)&&~r.indexOf("no_index")){const i='".indexOn": "'+n._queryParams.getIndex().toString()+'"',s=n._path.toString();$t(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${i} at ${s} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&e.length===40||AL(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=eE)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,n=RL(e)?"auth":"gauth",r={cred:e};this.authOverride_===null?r.noauth=!0:typeof this.authOverride_=="object"&&(r.authvar=this.authOverride_),this.sendRequest(n,r,i=>{const s=i.s,o=i.d||"error";this.authToken_===e&&(s==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(s,o))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const n=e.s,r=e.d||"error";n==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(n,r)})}unlisten(e,n){const r=e._path.toString(),i=e._queryIdentifier;this.log_("Unlisten called for "+r+" "+i),U(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(r,i)&&this.connected_&&this.sendUnlisten_(r,i,e._queryObject,n)}sendUnlisten_(e,n,r,i){this.log_("Unlisten on "+e+" for "+n);const s={p:e},o="n";i&&(s.q=r,s.t=i),this.sendRequest(o,s)}onDisconnectPut(e,n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,n,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:n,onComplete:r})}onDisconnectMerge(e,n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,n,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:n,onComplete:r})}onDisconnectCancel(e,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:n})}sendOnDisconnect_(e,n,r,i){const s={p:n,d:r};this.log_("onDisconnect "+e,s),this.sendRequest(e,s,o=>{i&&setTimeout(()=>{i(o.s,o.d)},Math.floor(0))})}put(e,n,r,i){this.putInternal("p",e,n,r,i)}merge(e,n,r,i){this.putInternal("m",e,n,r,i)}putInternal(e,n,r,i,s){this.initConnection_();const o={p:n,d:r};s!==void 0&&(o.h=s),this.outstandingPuts_.push({action:e,request:o,onComplete:i}),this.outstandingPutCount_++;const a=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(a):this.log_("Buffering put: "+n)}sendPut_(e){const n=this.outstandingPuts_[e].action,r=this.outstandingPuts_[e].request,i=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(n,r,s=>{this.log_(n+" response",s),delete this.outstandingPuts_[e],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),i&&i(s.s,s.d)})}reportStats(e){if(this.connected_){const n={c:e};this.log_("reportStats",n),this.sendRequest("s",n,r=>{if(r.s!=="ok"){const s=r.d;this.log_("reportStats","Error sending stats: "+s)}})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+nt(e));const n=e.r,r=this.requestCBHash_[n];r&&(delete this.requestCBHash_[n],r(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,n){this.log_("handleServerMessage",e,n),e==="d"?this.onDataUpdate_(n.p,n.d,!1,n.t):e==="m"?this.onDataUpdate_(n.p,n.d,!0,n.t):e==="c"?this.onListenRevoked_(n.p,n.q):e==="ac"?this.onAuthRevoked_(n.s,n.d):e==="apc"?this.onAppCheckRevoked_(n.s,n.d):e==="sd"?this.onSecurityDebugPacket_(n):Lg("Unrecognized action received from server: "+nt(e)+`
Are you using the latest client?`)}onReady_(e,n){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(e),this.lastSessionId=n,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){U(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Wa,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=Wa,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>O6&&(this.reconnectDelay_=Wa),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const e=Math.max(0,new Date().getTime()-this.lastConnectionAttemptTime_);let n=Math.max(0,this.reconnectDelay_-e);n=Math.random()*n,this.log_("Trying to reconnect in "+n+"ms"),this.scheduleConnect_(n),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*D6)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const e=this.onDataMessage_.bind(this),n=this.onReady_.bind(this),r=this.onRealtimeDisconnect_.bind(this),i=this.id+":"+Mr.nextConnectionId_++,s=this.lastSessionId;let o=!1,a=null;const l=function(){a?a.close():(o=!0,r())},c=function(h){U(a,"sendRequest call when we're not connected not allowed."),a.sendRequest(h)};this.realtime_={close:l,sendRequest:c};const d=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[h,f]=await Promise.all([this.authTokenProvider_.getToken(d),this.appCheckTokenProvider_.getToken(d)]);o?ft("getToken() completed but was canceled"):(ft("getToken() completed. Creating connection."),this.authToken_=h&&h.accessToken,this.appCheckToken_=f&&f.token,a=new T6(i,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,n,r,y=>{$t(y+" ("+this.repoInfo_.toString()+")"),this.interrupt(M6)},s))}catch(h){this.log_("Failed to get token: "+h),o||(this.repoInfo_.nodeAdmin&&$t(h),l())}}}interrupt(e){ft("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){ft("Resuming connection for reason: "+e),delete this.interruptReasons_[e],xg(this.interruptReasons_)&&(this.reconnectDelay_=Wa,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const n=e-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:n})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const n=this.outstandingPuts_[e];n&&"h"in n.request&&n.queued&&(n.onComplete&&n.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(e,n){let r;n?r=n.map(s=>u0(s)).join("$"):r="default";const i=this.removeListen_(e,r);i&&i.onComplete&&i.onComplete("permission_denied")}removeListen_(e,n){const r=new _e(e).toString();let i;if(this.listens.has(r)){const s=this.listens.get(r);i=s.get(n),s.delete(n),s.size===0&&this.listens.delete(r)}else i=void 0;return i}onAuthRevoked_(e,n){ft("Auth token revoked: "+e+"/"+n),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(e==="invalid_token"||e==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=tE&&(this.reconnectDelay_=eE,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,n){ft("App check token revoked: "+e+"/"+n),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(e==="invalid_token"||e==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=tE&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const n of e.values())this.sendListen_(n);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let n="js";e["sdk."+n+"."+PI.replace(/\./g,"-")]=1,zv()?e["framework.cordova"]=1:mk()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=oh.getInstance().currentlyOnline();return xg(this.interruptReasons_)&&e}}Mr.nextPersistentConnectionId_=0;Mr.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class re{constructor(e,n){this.name=e,this.node=n}static Wrap(e,n){return new re(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sf{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,n){const r=new re(zo,e),i=new re(zo,n);return this.compare(r,i)!==0}minPost(){return re.MIN}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Du;class eP extends sf{static get __EMPTY_NODE(){return Du}static set __EMPTY_NODE(e){Du=e}compare(e,n){return $s(e.name,n.name)}isDefinedOn(e){throw ua("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,n){return!1}minPost(){return re.MIN}maxPost(){return new re(Ps,Du)}makePost(e,n){return U(typeof e=="string","KeyIndex indexValue must always be a string."),new re(e,Du)}toString(){return".key"}}const No=new eP;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ou{constructor(e,n,r,i,s=null){this.isReverse_=i,this.resultGenerator_=s,this.nodeStack_=[];let o=1;for(;!e.isEmpty();)if(e=e,o=n?r(e.key,n):1,i&&(o*=-1),o<0)this.isReverse_?e=e.left:e=e.right;else if(o===0){this.nodeStack_.push(e);break}else this.nodeStack_.push(e),this.isReverse_?e=e.right:e=e.left}getNext(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_.pop(),n;if(this.resultGenerator_?n=this.resultGenerator_(e.key,e.value):n={key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return n}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}class at{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??at.RED,this.left=i??qt.EMPTY_NODE,this.right=s??qt.EMPTY_NODE}copy(e,n,r,i,s){return new at(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return s<0?i=i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i=i.copy(null,n,null,null,null):i=i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp_()}removeMin_(){if(this.left.isEmpty())return qt.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,n){let r,i;if(r=this,n(e,r.key)<0)!r.left.isEmpty()&&!r.left.isRed_()&&!r.left.left.isRed_()&&(r=r.moveRedLeft_()),r=r.copy(null,null,null,r.left.remove(e,n),null);else{if(r.left.isRed_()&&(r=r.rotateRight_()),!r.right.isEmpty()&&!r.right.isRed_()&&!r.right.left.isRed_()&&(r=r.moveRedRight_()),n(e,r.key)===0){if(r.right.isEmpty())return qt.EMPTY_NODE;i=r.right.min_(),r=r.copy(i.key,i.value,null,null,r.right.removeMin_())}r=r.copy(null,null,null,null,r.right.remove(e,n))}return r.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,at.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,at.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}at.RED=!0;at.BLACK=!1;class L6{copy(e,n,r,i,s){return this}insert(e,n,r){return new at(e,n,null)}remove(e,n){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class qt{constructor(e,n=qt.EMPTY_NODE){this.comparator_=e,this.root_=n}insert(e,n){return new qt(this.comparator_,this.root_.insert(e,n,this.comparator_).copy(null,null,at.BLACK,null,null))}remove(e){return new qt(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,at.BLACK,null,null))}get(e){let n,r=this.root_;for(;!r.isEmpty();){if(n=this.comparator_(e,r.key),n===0)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}getPredecessorKey(e){let n,r=this.root_,i=null;for(;!r.isEmpty();)if(n=this.comparator_(e,r.key),n===0){if(r.left.isEmpty())return i?i.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}else n<0?r=r.left:n>0&&(i=r,r=r.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new Ou(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,n){return new Ou(this.root_,e,this.comparator_,!1,n)}getReverseIteratorFrom(e,n){return new Ou(this.root_,e,this.comparator_,!0,n)}getReverseIterator(e){return new Ou(this.root_,null,this.comparator_,!0,e)}}qt.EMPTY_NODE=new L6;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function j6(t,e){return $s(t.name,e.name)}function y0(t,e){return $s(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Fg;function F6(t){Fg=t}const tP=function(t){return typeof t=="number"?"number:"+DI(t):"string:"+t},nP=function(t){if(t.isLeafNode()){const e=t.val();U(typeof e=="string"||typeof e=="number"||typeof e=="object"&&gr(e,".sv"),"Priority must be a string or number.")}else U(t===Fg||t.isEmpty(),"priority of unexpected type.");U(t===Fg||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let nE;class st{static set __childrenNodeConstructor(e){nE=e}static get __childrenNodeConstructor(){return nE}constructor(e,n=st.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=n,this.lazyHash_=null,U(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),nP(this.priorityNode_)}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new st(this.value_,e)}getImmediateChild(e){return e===".priority"?this.priorityNode_:st.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return se(e)?this:ne(e)===".priority"?this.priorityNode_:st.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,n){return null}updateImmediateChild(e,n){return e===".priority"?this.updatePriority(n):n.isEmpty()&&e!==".priority"?this:st.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,n).updatePriority(this.priorityNode_)}updateChild(e,n){const r=ne(e);return r===null?n:n.isEmpty()&&r!==".priority"?this:(U(r!==".priority"||Ii(e)===1,".priority must be the last token in a path"),this.updateImmediateChild(r,st.__childrenNodeConstructor.EMPTY_NODE.updateChild(ke(e),n)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,n){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+tP(this.priorityNode_.val())+":");const n=typeof this.value_;e+=n+":",n==="number"?e+=DI(this.value_):e+=this.value_,this.lazyHash_=AI(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===st.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof st.__childrenNodeConstructor?-1:(U(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const n=typeof e.value_,r=typeof this.value_,i=st.VALUE_TYPE_ORDER.indexOf(n),s=st.VALUE_TYPE_ORDER.indexOf(r);return U(i>=0,"Unknown leaf type: "+n),U(s>=0,"Unknown leaf type: "+r),i===s?r==="object"?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:s-i}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const n=e;return this.value_===n.value_&&this.priorityNode_.equals(n.priorityNode_)}else return!1}}st.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let rP,iP;function $6(t){rP=t}function U6(t){iP=t}class V6 extends sf{compare(e,n){const r=e.node.getPriority(),i=n.node.getPriority(),s=r.compareTo(i);return s===0?$s(e.name,n.name):s}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,n){return!e.getPriority().equals(n.getPriority())}minPost(){return re.MIN}maxPost(){return new re(Ps,new st("[PRIORITY-POST]",iP))}makePost(e,n){const r=rP(e);return new re(n,new st("[PRIORITY-POST]",r))}toString(){return".priority"}}const Ge=new V6;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B6=Math.log(2);class z6{constructor(e){const n=s=>parseInt(Math.log(s)/B6,10),r=s=>parseInt(Array(s+1).join("1"),2);this.count=n(e+1),this.current_=this.count-1;const i=r(this.count);this.bits_=e+1&i}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const ah=function(t,e,n,r){t.sort(e);const i=function(l,c){const d=c-l;let h,f;if(d===0)return null;if(d===1)return h=t[l],f=n?n(h):h,new at(f,h.node,at.BLACK,null,null);{const y=parseInt(d/2,10)+l,v=i(l,y),b=i(y+1,c);return h=t[y],f=n?n(h):h,new at(f,h.node,at.BLACK,v,b)}},s=function(l){let c=null,d=null,h=t.length;const f=function(v,b){const P=h-v,w=h;h-=v;const C=i(P+1,w),x=t[P],A=n?n(x):x;y(new at(A,x.node,b,null,C))},y=function(v){c?(c.left=v,c=v):(d=v,c=v)};for(let v=0;v<l.count;++v){const b=l.nextBitIsOne(),P=Math.pow(2,l.count-(v+1));b?f(P,at.BLACK):(f(P,at.BLACK),f(P,at.RED))}return d},o=new z6(t.length),a=s(o);return new qt(r||e,a)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let em;const qs={};class Rr{static get Default(){return U(qs&&Ge,"ChildrenNode.ts has not been loaded"),em=em||new Rr({".priority":qs},{".priority":Ge}),em}constructor(e,n){this.indexes_=e,this.indexSet_=n}get(e){const n=Bo(this.indexes_,e);if(!n)throw new Error("No index defined for "+e);return n instanceof qt?n:null}hasIndex(e){return gr(this.indexSet_,e.toString())}addIndex(e,n){U(e!==No,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const r=[];let i=!1;const s=n.getIterator(re.Wrap);let o=s.getNext();for(;o;)i=i||e.isDefinedOn(o.node),r.push(o),o=s.getNext();let a;i?a=ah(r,e.getCompare()):a=qs;const l=e.toString(),c=Object.assign({},this.indexSet_);c[l]=e;const d=Object.assign({},this.indexes_);return d[l]=a,new Rr(d,c)}addToIndexes(e,n){const r=Xd(this.indexes_,(i,s)=>{const o=Bo(this.indexSet_,s);if(U(o,"Missing index implementation for "+s),i===qs)if(o.isDefinedOn(e.node)){const a=[],l=n.getIterator(re.Wrap);let c=l.getNext();for(;c;)c.name!==e.name&&a.push(c),c=l.getNext();return a.push(e),ah(a,o.getCompare())}else return qs;else{const a=n.get(e.name);let l=i;return a&&(l=l.remove(new re(e.name,a))),l.insert(e,e.node)}});return new Rr(r,this.indexSet_)}removeFromIndexes(e,n){const r=Xd(this.indexes_,i=>{if(i===qs)return i;{const s=n.get(e.name);return s?i.remove(new re(e.name,s)):i}});return new Rr(r,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ha;class J{static get EMPTY_NODE(){return Ha||(Ha=new J(new qt(y0),null,Rr.Default))}constructor(e,n,r){this.children_=e,this.priorityNode_=n,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&nP(this.priorityNode_),this.children_.isEmpty()&&U(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}isLeafNode(){return!1}getPriority(){return this.priorityNode_||Ha}updatePriority(e){return this.children_.isEmpty()?this:new J(this.children_,e,this.indexMap_)}getImmediateChild(e){if(e===".priority")return this.getPriority();{const n=this.children_.get(e);return n===null?Ha:n}}getChild(e){const n=ne(e);return n===null?this:this.getImmediateChild(n).getChild(ke(e))}hasChild(e){return this.children_.get(e)!==null}updateImmediateChild(e,n){if(U(n,"We should always be passing snapshot nodes"),e===".priority")return this.updatePriority(n);{const r=new re(e,n);let i,s;n.isEmpty()?(i=this.children_.remove(e),s=this.indexMap_.removeFromIndexes(r,this.children_)):(i=this.children_.insert(e,n),s=this.indexMap_.addToIndexes(r,this.children_));const o=i.isEmpty()?Ha:this.priorityNode_;return new J(i,o,s)}}updateChild(e,n){const r=ne(e);if(r===null)return n;{U(ne(e)!==".priority"||Ii(e)===1,".priority must be the last token in a path");const i=this.getImmediateChild(r).updateChild(ke(e),n);return this.updateImmediateChild(r,i)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const n={};let r=0,i=0,s=!0;if(this.forEachChild(Ge,(o,a)=>{n[o]=a.val(e),r++,s&&J.INTEGER_REGEXP_.test(o)?i=Math.max(i,Number(o)):s=!1}),!e&&s&&i<2*r){const o=[];for(const a in n)o[a]=n[a];return o}else return e&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n}hash(){if(this.lazyHash_===null){let e="";this.getPriority().isEmpty()||(e+="priority:"+tP(this.getPriority().val())+":"),this.forEachChild(Ge,(n,r)=>{const i=r.hash();i!==""&&(e+=":"+n+":"+i)}),this.lazyHash_=e===""?"":AI(e)}return this.lazyHash_}getPredecessorChildName(e,n,r){const i=this.resolveIndex_(r);if(i){const s=i.getPredecessorKey(new re(e,n));return s?s.name:null}else return this.children_.getPredecessorKey(e)}getFirstChildName(e){const n=this.resolveIndex_(e);if(n){const r=n.minKey();return r&&r.name}else return this.children_.minKey()}getFirstChild(e){const n=this.getFirstChildName(e);return n?new re(n,this.children_.get(n)):null}getLastChildName(e){const n=this.resolveIndex_(e);if(n){const r=n.maxKey();return r&&r.name}else return this.children_.maxKey()}getLastChild(e){const n=this.getLastChildName(e);return n?new re(n,this.children_.get(n)):null}forEachChild(e,n){const r=this.resolveIndex_(e);return r?r.inorderTraversal(i=>n(i.name,i.node)):this.children_.inorderTraversal(n)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,n){const r=this.resolveIndex_(n);if(r)return r.getIteratorFrom(e,i=>i);{const i=this.children_.getIteratorFrom(e.name,re.Wrap);let s=i.peek();for(;s!=null&&n.compare(s,e)<0;)i.getNext(),s=i.peek();return i}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,n){const r=this.resolveIndex_(n);if(r)return r.getReverseIteratorFrom(e,i=>i);{const i=this.children_.getReverseIteratorFrom(e.name,re.Wrap);let s=i.peek();for(;s!=null&&n.compare(s,e)>0;)i.getNext(),s=i.peek();return i}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===Lc?-1:0}withIndex(e){if(e===No||this.indexMap_.hasIndex(e))return this;{const n=this.indexMap_.addIndex(e,this.children_);return new J(this.children_,this.priorityNode_,n)}}isIndexed(e){return e===No||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const n=e;if(this.getPriority().equals(n.getPriority()))if(this.children_.count()===n.children_.count()){const r=this.getIterator(Ge),i=n.getIterator(Ge);let s=r.getNext(),o=i.getNext();for(;s&&o;){if(s.name!==o.name||!s.node.equals(o.node))return!1;s=r.getNext(),o=i.getNext()}return s===null&&o===null}else return!1;else return!1}}resolveIndex_(e){return e===No?null:this.indexMap_.get(e.toString())}}J.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class W6 extends J{constructor(){super(new qt(y0),J.EMPTY_NODE,Rr.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return J.EMPTY_NODE}isEmpty(){return!1}}const Lc=new W6;Object.defineProperties(re,{MIN:{value:new re(zo,J.EMPTY_NODE)},MAX:{value:new re(Ps,Lc)}});eP.__EMPTY_NODE=J.EMPTY_NODE;st.__childrenNodeConstructor=J;F6(Lc);U6(Lc);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H6=!0;function tt(t,e=null){if(t===null)return J.EMPTY_NODE;if(typeof t=="object"&&".priority"in t&&(e=t[".priority"]),U(e===null||typeof e=="string"||typeof e=="number"||typeof e=="object"&&".sv"in e,"Invalid priority type found: "+typeof e),typeof t=="object"&&".value"in t&&t[".value"]!==null&&(t=t[".value"]),typeof t!="object"||".sv"in t){const n=t;return new st(n,tt(e))}if(!(t instanceof Array)&&H6){const n=[];let r=!1;if(yt(t,(o,a)=>{if(o.substring(0,1)!=="."){const l=tt(a);l.isEmpty()||(r=r||!l.getPriority().isEmpty(),n.push(new re(o,l)))}}),n.length===0)return J.EMPTY_NODE;const s=ah(n,j6,o=>o.name,y0);if(r){const o=ah(n,Ge.getCompare());return new J(s,tt(e),new Rr({".priority":o},{".priority":Ge}))}else return new J(s,tt(e),Rr.Default)}else{let n=J.EMPTY_NODE;return yt(t,(r,i)=>{if(gr(t,r)&&r.substring(0,1)!=="."){const s=tt(i);(s.isLeafNode()||!s.isEmpty())&&(n=n.updateImmediateChild(r,s))}}),n.updatePriority(tt(e))}}$6(tt);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G6 extends sf{constructor(e){super(),this.indexPath_=e,U(!se(e)&&ne(e)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,n){const r=this.extractChild(e.node),i=this.extractChild(n.node),s=r.compareTo(i);return s===0?$s(e.name,n.name):s}makePost(e,n){const r=tt(e),i=J.EMPTY_NODE.updateChild(this.indexPath_,r);return new re(n,i)}maxPost(){const e=J.EMPTY_NODE.updateChild(this.indexPath_,Lc);return new re(Ps,e)}toString(){return ic(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K6 extends sf{compare(e,n){const r=e.node.compareTo(n.node);return r===0?$s(e.name,n.name):r}isDefinedOn(e){return!0}indexedValueChanged(e,n){return!e.equals(n)}minPost(){return re.MIN}maxPost(){return re.MAX}makePost(e,n){const r=tt(e);return new re(n,r)}toString(){return".value"}}const q6=new K6;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sP(t){return{type:"value",snapshotNode:t}}function Wo(t,e){return{type:"child_added",snapshotNode:e,childName:t}}function sc(t,e){return{type:"child_removed",snapshotNode:e,childName:t}}function oc(t,e,n){return{type:"child_changed",snapshotNode:e,childName:t,oldSnap:n}}function Y6(t,e){return{type:"child_moved",snapshotNode:e,childName:t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v0{constructor(e){this.index_=e}updateChild(e,n,r,i,s,o){U(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");const a=e.getImmediateChild(n);return a.getChild(i).equals(r.getChild(i))&&a.isEmpty()===r.isEmpty()||(o!=null&&(r.isEmpty()?e.hasChild(n)?o.trackChildChange(sc(n,a)):U(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):a.isEmpty()?o.trackChildChange(Wo(n,r)):o.trackChildChange(oc(n,r,a))),e.isLeafNode()&&r.isEmpty())?e:e.updateImmediateChild(n,r).withIndex(this.index_)}updateFullNode(e,n,r){return r!=null&&(e.isLeafNode()||e.forEachChild(Ge,(i,s)=>{n.hasChild(i)||r.trackChildChange(sc(i,s))}),n.isLeafNode()||n.forEachChild(Ge,(i,s)=>{if(e.hasChild(i)){const o=e.getImmediateChild(i);o.equals(s)||r.trackChildChange(oc(i,s,o))}else r.trackChildChange(Wo(i,s))})),n.withIndex(this.index_)}updatePriority(e,n){return e.isEmpty()?J.EMPTY_NODE:e.updatePriority(n)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ac{constructor(e){this.indexedFilter_=new v0(e.getIndex()),this.index_=e.getIndex(),this.startPost_=ac.getStartPost_(e),this.endPost_=ac.getEndPost_(e),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(e){const n=this.startIsInclusive_?this.index_.compare(this.getStartPost(),e)<=0:this.index_.compare(this.getStartPost(),e)<0,r=this.endIsInclusive_?this.index_.compare(e,this.getEndPost())<=0:this.index_.compare(e,this.getEndPost())<0;return n&&r}updateChild(e,n,r,i,s,o){return this.matches(new re(n,r))||(r=J.EMPTY_NODE),this.indexedFilter_.updateChild(e,n,r,i,s,o)}updateFullNode(e,n,r){n.isLeafNode()&&(n=J.EMPTY_NODE);let i=n.withIndex(this.index_);i=i.updatePriority(J.EMPTY_NODE);const s=this;return n.forEachChild(Ge,(o,a)=>{s.matches(new re(o,a))||(i=i.updateImmediateChild(o,J.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(e,i,r)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(e){if(e.hasStart()){const n=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),n)}else return e.getIndex().minPost()}static getEndPost_(e){if(e.hasEnd()){const n=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),n)}else return e.getIndex().maxPost()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X6{constructor(e){this.withinDirectionalStart=n=>this.reverse_?this.withinEndPost(n):this.withinStartPost(n),this.withinDirectionalEnd=n=>this.reverse_?this.withinStartPost(n):this.withinEndPost(n),this.withinStartPost=n=>{const r=this.index_.compare(this.rangedFilter_.getStartPost(),n);return this.startIsInclusive_?r<=0:r<0},this.withinEndPost=n=>{const r=this.index_.compare(n,this.rangedFilter_.getEndPost());return this.endIsInclusive_?r<=0:r<0},this.rangedFilter_=new ac(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft(),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}updateChild(e,n,r,i,s,o){return this.rangedFilter_.matches(new re(n,r))||(r=J.EMPTY_NODE),e.getImmediateChild(n).equals(r)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,n,r,i,s,o):this.fullLimitUpdateChild_(e,n,r,s,o)}updateFullNode(e,n,r){let i;if(n.isLeafNode()||n.isEmpty())i=J.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<n.numChildren()&&n.isIndexed(this.index_)){i=J.EMPTY_NODE.withIndex(this.index_);let s;this.reverse_?s=n.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):s=n.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let o=0;for(;s.hasNext()&&o<this.limit_;){const a=s.getNext();if(this.withinDirectionalStart(a))if(this.withinDirectionalEnd(a))i=i.updateImmediateChild(a.name,a.node),o++;else break;else continue}}else{i=n.withIndex(this.index_),i=i.updatePriority(J.EMPTY_NODE);let s;this.reverse_?s=i.getReverseIterator(this.index_):s=i.getIterator(this.index_);let o=0;for(;s.hasNext();){const a=s.getNext();o<this.limit_&&this.withinDirectionalStart(a)&&this.withinDirectionalEnd(a)?o++:i=i.updateImmediateChild(a.name,J.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,i,r)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(e,n,r,i,s){let o;if(this.reverse_){const h=this.index_.getCompare();o=(f,y)=>h(y,f)}else o=this.index_.getCompare();const a=e;U(a.numChildren()===this.limit_,"");const l=new re(n,r),c=this.reverse_?a.getFirstChild(this.index_):a.getLastChild(this.index_),d=this.rangedFilter_.matches(l);if(a.hasChild(n)){const h=a.getImmediateChild(n);let f=i.getChildAfterChild(this.index_,c,this.reverse_);for(;f!=null&&(f.name===n||a.hasChild(f.name));)f=i.getChildAfterChild(this.index_,f,this.reverse_);const y=f==null?1:o(f,l);if(d&&!r.isEmpty()&&y>=0)return s!=null&&s.trackChildChange(oc(n,r,h)),a.updateImmediateChild(n,r);{s!=null&&s.trackChildChange(sc(n,h));const b=a.updateImmediateChild(n,J.EMPTY_NODE);return f!=null&&this.rangedFilter_.matches(f)?(s!=null&&s.trackChildChange(Wo(f.name,f.node)),b.updateImmediateChild(f.name,f.node)):b}}else return r.isEmpty()?e:d&&o(c,l)>=0?(s!=null&&(s.trackChildChange(sc(c.name,c.node)),s.trackChildChange(Wo(n,r))),a.updateImmediateChild(n,r).updateImmediateChild(c.name,J.EMPTY_NODE)):e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _0{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Ge}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return U(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return U(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:zo}hasEnd(){return this.endSet_}getIndexEndValue(){return U(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return U(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:Ps}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return U(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===Ge}copy(){const e=new _0;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function Q6(t){return t.loadsAllData()?new v0(t.getIndex()):t.hasLimit()?new X6(t):new ac(t)}function rE(t){const e={};if(t.isDefault())return e;let n;if(t.index_===Ge?n="$priority":t.index_===q6?n="$value":t.index_===No?n="$key":(U(t.index_ instanceof G6,"Unrecognized index type!"),n=t.index_.toString()),e.orderBy=nt(n),t.startSet_){const r=t.startAfterSet_?"startAfter":"startAt";e[r]=nt(t.indexStartValue_),t.startNameSet_&&(e[r]+=","+nt(t.indexStartName_))}if(t.endSet_){const r=t.endBeforeSet_?"endBefore":"endAt";e[r]=nt(t.indexEndValue_),t.endNameSet_&&(e[r]+=","+nt(t.indexEndName_))}return t.limitSet_&&(t.isViewFromLeft()?e.limitToFirst=t.limit_:e.limitToLast=t.limit_),e}function iE(t){const e={};if(t.startSet_&&(e.sp=t.indexStartValue_,t.startNameSet_&&(e.sn=t.indexStartName_),e.sin=!t.startAfterSet_),t.endSet_&&(e.ep=t.indexEndValue_,t.endNameSet_&&(e.en=t.indexEndName_),e.ein=!t.endBeforeSet_),t.limitSet_){e.l=t.limit_;let n=t.viewFrom_;n===""&&(t.isViewFromLeft()?n="l":n="r"),e.vf=n}return t.index_!==Ge&&(e.i=t.index_.toString()),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lh extends XI{reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,n){return n!==void 0?"tag$"+n:(U(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}constructor(e,n,r,i){super(),this.repoInfo_=e,this.onDataUpdate_=n,this.authTokenProvider_=r,this.appCheckTokenProvider_=i,this.log_=Mc("p:rest:"),this.listens_={}}listen(e,n,r,i){const s=e._path.toString();this.log_("Listen called for "+s+" "+e._queryIdentifier);const o=lh.getListenId_(e,r),a={};this.listens_[o]=a;const l=rE(e._queryParams);this.restRequest_(s+".json",l,(c,d)=>{let h=d;if(c===404&&(h=null,c=null),c===null&&this.onDataUpdate_(s,h,!1,r),Bo(this.listens_,o)===a){let f;c?c===401?f="permission_denied":f="rest_error:"+c:f="ok",i(f,null)}})}unlisten(e,n){const r=lh.getListenId_(e,n);delete this.listens_[r]}get(e){const n=rE(e._queryParams),r=e._path.toString(),i=new Ic;return this.restRequest_(r+".json",n,(s,o)=>{let a=o;s===404&&(a=null,s=null),s===null?(this.onDataUpdate_(r,a,!1,null),i.resolve(a)):i.reject(new Error(a))}),i.promise}refreshAuthToken(e){}restRequest_(e,n={},r){return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([i,s])=>{i&&i.accessToken&&(n.auth=i.accessToken),s&&s.token&&(n.ac=s.token);const o=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+da(n);this.log_("Sending REST request for "+o);const a=new XMLHttpRequest;a.onreadystatechange=()=>{if(r&&a.readyState===4){this.log_("REST Response for "+o+" received. status:",a.status,"response:",a.responseText);let l=null;if(a.status>=200&&a.status<300){try{l=Ql(a.responseText)}catch{$t("Failed to parse JSON response for "+o+": "+a.responseText)}r(null,l)}else a.status!==401&&a.status!==404&&$t("Got unsuccessful REST response for "+o+" Status: "+a.status),r(a.status);r=null}},a.open("GET",o,!0),a.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J6{constructor(){this.rootNode_=J.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,n){this.rootNode_=this.rootNode_.updateChild(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ch(){return{value:null,children:new Map}}function oP(t,e,n){if(se(e))t.value=n,t.children.clear();else if(t.value!==null)t.value=t.value.updateChild(e,n);else{const r=ne(e);t.children.has(r)||t.children.set(r,ch());const i=t.children.get(r);e=ke(e),oP(i,e,n)}}function $g(t,e,n){t.value!==null?n(e,t.value):Z6(t,(r,i)=>{const s=new _e(e.toString()+"/"+r);$g(i,s,n)})}function Z6(t,e){t.children.forEach((n,r)=>{e(r,n)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e${constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),n=Object.assign({},e);return this.last_&&yt(this.last_,(r,i)=>{n[r]=n[r]-i}),this.last_=e,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sE=10*1e3,t$=30*1e3,n$=5*60*1e3;class r${constructor(e,n){this.server_=n,this.statsToReport_={},this.statsListener_=new e$(e);const r=sE+(t$-sE)*Math.random();wl(this.reportStats_.bind(this),Math.floor(r))}reportStats_(){const e=this.statsListener_.get(),n={};let r=!1;yt(e,(i,s)=>{s>0&&gr(this.statsToReport_,i)&&(n[i]=s,r=!0)}),r&&this.server_.reportStats(n),wl(this.reportStats_.bind(this),Math.floor(Math.random()*2*n$))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Un;(function(t){t[t.OVERWRITE=0]="OVERWRITE",t[t.MERGE=1]="MERGE",t[t.ACK_USER_WRITE=2]="ACK_USER_WRITE",t[t.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(Un||(Un={}));function w0(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function x0(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function E0(t){return{fromUser:!1,fromServer:!0,queryId:t,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uh{constructor(e,n,r){this.path=e,this.affectedTree=n,this.revert=r,this.type=Un.ACK_USER_WRITE,this.source=w0()}operationForChild(e){if(se(this.path)){if(this.affectedTree.value!=null)return U(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const n=this.affectedTree.subtree(new _e(e));return new uh(fe(),n,this.revert)}}else return U(ne(this.path)===e,"operationForChild called for unrelated child."),new uh(ke(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lc{constructor(e,n){this.source=e,this.path=n,this.type=Un.LISTEN_COMPLETE}operationForChild(e){return se(this.path)?new lc(this.source,fe()):new lc(this.source,ke(this.path))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rs{constructor(e,n,r){this.source=e,this.path=n,this.snap=r,this.type=Un.OVERWRITE}operationForChild(e){return se(this.path)?new Rs(this.source,fe(),this.snap.getImmediateChild(e)):new Rs(this.source,ke(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ho{constructor(e,n,r){this.source=e,this.path=n,this.children=r,this.type=Un.MERGE}operationForChild(e){if(se(this.path)){const n=this.children.subtree(new _e(e));return n.isEmpty()?null:n.value?new Rs(this.source,fe(),n.value):new Ho(this.source,fe(),n)}else return U(ne(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new Ho(this.source,ke(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pi{constructor(e,n,r){this.node_=e,this.fullyInitialized_=n,this.filtered_=r}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(se(e))return this.isFullyInitialized()&&!this.filtered_;const n=ne(e);return this.isCompleteForChild(n)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i${constructor(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}}function s$(t,e,n,r){const i=[],s=[];return e.forEach(o=>{o.type==="child_changed"&&t.index_.indexedValueChanged(o.oldSnap,o.snapshotNode)&&s.push(Y6(o.childName,o.snapshotNode))}),Ga(t,i,"child_removed",e,r,n),Ga(t,i,"child_added",e,r,n),Ga(t,i,"child_moved",s,r,n),Ga(t,i,"child_changed",e,r,n),Ga(t,i,"value",e,r,n),i}function Ga(t,e,n,r,i,s){const o=r.filter(a=>a.type===n);o.sort((a,l)=>a$(t,a,l)),o.forEach(a=>{const l=o$(t,a,s);i.forEach(c=>{c.respondsTo(a.type)&&e.push(c.createEvent(l,t.query_))})})}function o$(t,e,n){return e.type==="value"||e.type==="child_removed"||(e.prevName=n.getPredecessorChildName(e.childName,e.snapshotNode,t.index_)),e}function a$(t,e,n){if(e.childName==null||n.childName==null)throw ua("Should only compare child_ events.");const r=new re(e.childName,e.snapshotNode),i=new re(n.childName,n.snapshotNode);return t.index_.compare(r,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function of(t,e){return{eventCache:t,serverCache:e}}function xl(t,e,n,r){return of(new Pi(e,n,r),t.serverCache)}function aP(t,e,n,r){return of(t.eventCache,new Pi(e,n,r))}function dh(t){return t.eventCache.isFullyInitialized()?t.eventCache.getNode():null}function As(t){return t.serverCache.isFullyInitialized()?t.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let tm;const l$=()=>(tm||(tm=new qt(G3)),tm);class Te{static fromObject(e){let n=new Te(null);return yt(e,(r,i)=>{n=n.set(new _e(r),i)}),n}constructor(e,n=l$()){this.value=e,this.children=n}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,n){if(this.value!=null&&n(this.value))return{path:fe(),value:this.value};if(se(e))return null;{const r=ne(e),i=this.children.get(r);if(i!==null){const s=i.findRootMostMatchingPathAndValue(ke(e),n);return s!=null?{path:He(new _e(r),s.path),value:s.value}:null}else return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(se(e))return this;{const n=ne(e),r=this.children.get(n);return r!==null?r.subtree(ke(e)):new Te(null)}}set(e,n){if(se(e))return new Te(n,this.children);{const r=ne(e),s=(this.children.get(r)||new Te(null)).set(ke(e),n),o=this.children.insert(r,s);return new Te(this.value,o)}}remove(e){if(se(e))return this.children.isEmpty()?new Te(null):new Te(null,this.children);{const n=ne(e),r=this.children.get(n);if(r){const i=r.remove(ke(e));let s;return i.isEmpty()?s=this.children.remove(n):s=this.children.insert(n,i),this.value===null&&s.isEmpty()?new Te(null):new Te(this.value,s)}else return this}}get(e){if(se(e))return this.value;{const n=ne(e),r=this.children.get(n);return r?r.get(ke(e)):null}}setTree(e,n){if(se(e))return n;{const r=ne(e),s=(this.children.get(r)||new Te(null)).setTree(ke(e),n);let o;return s.isEmpty()?o=this.children.remove(r):o=this.children.insert(r,s),new Te(this.value,o)}}fold(e){return this.fold_(fe(),e)}fold_(e,n){const r={};return this.children.inorderTraversal((i,s)=>{r[i]=s.fold_(He(e,i),n)}),n(e,this.value,r)}findOnPath(e,n){return this.findOnPath_(e,fe(),n)}findOnPath_(e,n,r){const i=this.value?r(n,this.value):!1;if(i)return i;if(se(e))return null;{const s=ne(e),o=this.children.get(s);return o?o.findOnPath_(ke(e),He(n,s),r):null}}foreachOnPath(e,n){return this.foreachOnPath_(e,fe(),n)}foreachOnPath_(e,n,r){if(se(e))return this;{this.value&&r(n,this.value);const i=ne(e),s=this.children.get(i);return s?s.foreachOnPath_(ke(e),He(n,i),r):new Te(null)}}foreach(e){this.foreach_(fe(),e)}foreach_(e,n){this.children.inorderTraversal((r,i)=>{i.foreach_(He(e,r),n)}),this.value&&n(e,this.value)}foreachChild(e){this.children.inorderTraversal((n,r)=>{r.value&&e(n,r.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gn{constructor(e){this.writeTree_=e}static empty(){return new Gn(new Te(null))}}function El(t,e,n){if(se(e))return new Gn(new Te(n));{const r=t.writeTree_.findRootMostValueAndPath(e);if(r!=null){const i=r.path;let s=r.value;const o=Lt(i,e);return s=s.updateChild(o,n),new Gn(t.writeTree_.set(i,s))}else{const i=new Te(n),s=t.writeTree_.setTree(e,i);return new Gn(s)}}}function Ug(t,e,n){let r=t;return yt(n,(i,s)=>{r=El(r,He(e,i),s)}),r}function oE(t,e){if(se(e))return Gn.empty();{const n=t.writeTree_.setTree(e,new Te(null));return new Gn(n)}}function Vg(t,e){return Us(t,e)!=null}function Us(t,e){const n=t.writeTree_.findRootMostValueAndPath(e);return n!=null?t.writeTree_.get(n.path).getChild(Lt(n.path,e)):null}function aE(t){const e=[],n=t.writeTree_.value;return n!=null?n.isLeafNode()||n.forEachChild(Ge,(r,i)=>{e.push(new re(r,i))}):t.writeTree_.children.inorderTraversal((r,i)=>{i.value!=null&&e.push(new re(r,i.value))}),e}function Ci(t,e){if(se(e))return t;{const n=Us(t,e);return n!=null?new Gn(new Te(n)):new Gn(t.writeTree_.subtree(e))}}function Bg(t){return t.writeTree_.isEmpty()}function Go(t,e){return lP(fe(),t.writeTree_,e)}function lP(t,e,n){if(e.value!=null)return n.updateChild(t,e.value);{let r=null;return e.children.inorderTraversal((i,s)=>{i===".priority"?(U(s.value!==null,"Priority writes must always be leaf nodes"),r=s.value):n=lP(He(t,i),s,n)}),!n.getChild(t).isEmpty()&&r!==null&&(n=n.updateChild(He(t,".priority"),r)),n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function af(t,e){return hP(e,t)}function c$(t,e,n,r,i){U(r>t.lastWriteId,"Stacking an older write on top of newer ones"),i===void 0&&(i=!0),t.allWrites.push({path:e,snap:n,writeId:r,visible:i}),i&&(t.visibleWrites=El(t.visibleWrites,e,n)),t.lastWriteId=r}function u$(t,e,n,r){U(r>t.lastWriteId,"Stacking an older merge on top of newer ones"),t.allWrites.push({path:e,children:n,writeId:r,visible:!0}),t.visibleWrites=Ug(t.visibleWrites,e,n),t.lastWriteId=r}function d$(t,e){for(let n=0;n<t.allWrites.length;n++){const r=t.allWrites[n];if(r.writeId===e)return r}return null}function h$(t,e){const n=t.allWrites.findIndex(a=>a.writeId===e);U(n>=0,"removeWrite called with nonexistent writeId.");const r=t.allWrites[n];t.allWrites.splice(n,1);let i=r.visible,s=!1,o=t.allWrites.length-1;for(;i&&o>=0;){const a=t.allWrites[o];a.visible&&(o>=n&&f$(a,r.path)?i=!1:En(r.path,a.path)&&(s=!0)),o--}if(i){if(s)return p$(t),!0;if(r.snap)t.visibleWrites=oE(t.visibleWrites,r.path);else{const a=r.children;yt(a,l=>{t.visibleWrites=oE(t.visibleWrites,He(r.path,l))})}return!0}else return!1}function f$(t,e){if(t.snap)return En(t.path,e);for(const n in t.children)if(t.children.hasOwnProperty(n)&&En(He(t.path,n),e))return!0;return!1}function p$(t){t.visibleWrites=cP(t.allWrites,m$,fe()),t.allWrites.length>0?t.lastWriteId=t.allWrites[t.allWrites.length-1].writeId:t.lastWriteId=-1}function m$(t){return t.visible}function cP(t,e,n){let r=Gn.empty();for(let i=0;i<t.length;++i){const s=t[i];if(e(s)){const o=s.path;let a;if(s.snap)En(n,o)?(a=Lt(n,o),r=El(r,a,s.snap)):En(o,n)&&(a=Lt(o,n),r=El(r,fe(),s.snap.getChild(a)));else if(s.children){if(En(n,o))a=Lt(n,o),r=Ug(r,a,s.children);else if(En(o,n))if(a=Lt(o,n),se(a))r=Ug(r,fe(),s.children);else{const l=Bo(s.children,ne(a));if(l){const c=l.getChild(ke(a));r=El(r,fe(),c)}}}else throw ua("WriteRecord should have .snap or .children")}}return r}function uP(t,e,n,r,i){if(!r&&!i){const s=Us(t.visibleWrites,e);if(s!=null)return s;{const o=Ci(t.visibleWrites,e);if(Bg(o))return n;if(n==null&&!Vg(o,fe()))return null;{const a=n||J.EMPTY_NODE;return Go(o,a)}}}else{const s=Ci(t.visibleWrites,e);if(!i&&Bg(s))return n;if(!i&&n==null&&!Vg(s,fe()))return null;{const o=function(c){return(c.visible||i)&&(!r||!~r.indexOf(c.writeId))&&(En(c.path,e)||En(e,c.path))},a=cP(t.allWrites,o,e),l=n||J.EMPTY_NODE;return Go(a,l)}}}function g$(t,e,n){let r=J.EMPTY_NODE;const i=Us(t.visibleWrites,e);if(i)return i.isLeafNode()||i.forEachChild(Ge,(s,o)=>{r=r.updateImmediateChild(s,o)}),r;if(n){const s=Ci(t.visibleWrites,e);return n.forEachChild(Ge,(o,a)=>{const l=Go(Ci(s,new _e(o)),a);r=r.updateImmediateChild(o,l)}),aE(s).forEach(o=>{r=r.updateImmediateChild(o.name,o.node)}),r}else{const s=Ci(t.visibleWrites,e);return aE(s).forEach(o=>{r=r.updateImmediateChild(o.name,o.node)}),r}}function y$(t,e,n,r,i){U(r||i,"Either existingEventSnap or existingServerSnap must exist");const s=He(e,n);if(Vg(t.visibleWrites,s))return null;{const o=Ci(t.visibleWrites,s);return Bg(o)?i.getChild(n):Go(o,i.getChild(n))}}function v$(t,e,n,r){const i=He(e,n),s=Us(t.visibleWrites,i);if(s!=null)return s;if(r.isCompleteForChild(n)){const o=Ci(t.visibleWrites,i);return Go(o,r.getNode().getImmediateChild(n))}else return null}function _$(t,e){return Us(t.visibleWrites,e)}function w$(t,e,n,r,i,s,o){let a;const l=Ci(t.visibleWrites,e),c=Us(l,fe());if(c!=null)a=c;else if(n!=null)a=Go(l,n);else return[];if(a=a.withIndex(o),!a.isEmpty()&&!a.isLeafNode()){const d=[],h=o.getCompare(),f=s?a.getReverseIteratorFrom(r,o):a.getIteratorFrom(r,o);let y=f.getNext();for(;y&&d.length<i;)h(y,r)!==0&&d.push(y),y=f.getNext();return d}else return[]}function x$(){return{visibleWrites:Gn.empty(),allWrites:[],lastWriteId:-1}}function hh(t,e,n,r){return uP(t.writeTree,t.treePath,e,n,r)}function C0(t,e){return g$(t.writeTree,t.treePath,e)}function lE(t,e,n,r){return y$(t.writeTree,t.treePath,e,n,r)}function fh(t,e){return _$(t.writeTree,He(t.treePath,e))}function E$(t,e,n,r,i,s){return w$(t.writeTree,t.treePath,e,n,r,i,s)}function S0(t,e,n){return v$(t.writeTree,t.treePath,e,n)}function dP(t,e){return hP(He(t.treePath,e),t.writeTree)}function hP(t,e){return{treePath:t,writeTree:e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C${constructor(){this.changeMap=new Map}trackChildChange(e){const n=e.type,r=e.childName;U(n==="child_added"||n==="child_changed"||n==="child_removed","Only child changes supported for tracking"),U(r!==".priority","Only non-priority child changes can be tracked.");const i=this.changeMap.get(r);if(i){const s=i.type;if(n==="child_added"&&s==="child_removed")this.changeMap.set(r,oc(r,e.snapshotNode,i.snapshotNode));else if(n==="child_removed"&&s==="child_added")this.changeMap.delete(r);else if(n==="child_removed"&&s==="child_changed")this.changeMap.set(r,sc(r,i.oldSnap));else if(n==="child_changed"&&s==="child_added")this.changeMap.set(r,Wo(r,e.snapshotNode));else if(n==="child_changed"&&s==="child_changed")this.changeMap.set(r,oc(r,e.snapshotNode,i.oldSnap));else throw ua("Illegal combination of changes: "+e+" occurred after "+i)}else this.changeMap.set(r,e)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S${getCompleteChild(e){return null}getChildAfterChild(e,n,r){return null}}const fP=new S$;class b0{constructor(e,n,r=null){this.writes_=e,this.viewCache_=n,this.optCompleteServerCache_=r}getCompleteChild(e){const n=this.viewCache_.eventCache;if(n.isCompleteForChild(e))return n.getNode().getImmediateChild(e);{const r=this.optCompleteServerCache_!=null?new Pi(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return S0(this.writes_,e,r)}}getChildAfterChild(e,n,r){const i=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:As(this.viewCache_),s=E$(this.writes_,i,n,1,r,e);return s.length===0?null:s[0]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function b$(t){return{filter:t}}function T$(t,e){U(e.eventCache.getNode().isIndexed(t.filter.getIndex()),"Event snap not indexed"),U(e.serverCache.getNode().isIndexed(t.filter.getIndex()),"Server snap not indexed")}function k$(t,e,n,r,i){const s=new C$;let o,a;if(n.type===Un.OVERWRITE){const c=n;c.source.fromUser?o=zg(t,e,c.path,c.snap,r,i,s):(U(c.source.fromServer,"Unknown source."),a=c.source.tagged||e.serverCache.isFiltered()&&!se(c.path),o=ph(t,e,c.path,c.snap,r,i,a,s))}else if(n.type===Un.MERGE){const c=n;c.source.fromUser?o=P$(t,e,c.path,c.children,r,i,s):(U(c.source.fromServer,"Unknown source."),a=c.source.tagged||e.serverCache.isFiltered(),o=Wg(t,e,c.path,c.children,r,i,a,s))}else if(n.type===Un.ACK_USER_WRITE){const c=n;c.revert?o=N$(t,e,c.path,r,i,s):o=R$(t,e,c.path,c.affectedTree,r,i,s)}else if(n.type===Un.LISTEN_COMPLETE)o=A$(t,e,n.path,r,s);else throw ua("Unknown operation type: "+n.type);const l=s.getChanges();return I$(e,o,l),{viewCache:o,changes:l}}function I$(t,e,n){const r=e.eventCache;if(r.isFullyInitialized()){const i=r.getNode().isLeafNode()||r.getNode().isEmpty(),s=dh(t);(n.length>0||!t.eventCache.isFullyInitialized()||i&&!r.getNode().equals(s)||!r.getNode().getPriority().equals(s.getPriority()))&&n.push(sP(dh(e)))}}function pP(t,e,n,r,i,s){const o=e.eventCache;if(fh(r,n)!=null)return e;{let a,l;if(se(n))if(U(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const c=As(e),d=c instanceof J?c:J.EMPTY_NODE,h=C0(r,d);a=t.filter.updateFullNode(e.eventCache.getNode(),h,s)}else{const c=hh(r,As(e));a=t.filter.updateFullNode(e.eventCache.getNode(),c,s)}else{const c=ne(n);if(c===".priority"){U(Ii(n)===1,"Can't have a priority with additional path components");const d=o.getNode();l=e.serverCache.getNode();const h=lE(r,n,d,l);h!=null?a=t.filter.updatePriority(d,h):a=o.getNode()}else{const d=ke(n);let h;if(o.isCompleteForChild(c)){l=e.serverCache.getNode();const f=lE(r,n,o.getNode(),l);f!=null?h=o.getNode().getImmediateChild(c).updateChild(d,f):h=o.getNode().getImmediateChild(c)}else h=S0(r,c,e.serverCache);h!=null?a=t.filter.updateChild(o.getNode(),c,h,d,i,s):a=o.getNode()}}return xl(e,a,o.isFullyInitialized()||se(n),t.filter.filtersNodes())}}function ph(t,e,n,r,i,s,o,a){const l=e.serverCache;let c;const d=o?t.filter:t.filter.getIndexedFilter();if(se(n))c=d.updateFullNode(l.getNode(),r,null);else if(d.filtersNodes()&&!l.isFiltered()){const y=l.getNode().updateChild(n,r);c=d.updateFullNode(l.getNode(),y,null)}else{const y=ne(n);if(!l.isCompleteForPath(n)&&Ii(n)>1)return e;const v=ke(n),P=l.getNode().getImmediateChild(y).updateChild(v,r);y===".priority"?c=d.updatePriority(l.getNode(),P):c=d.updateChild(l.getNode(),y,P,v,fP,null)}const h=aP(e,c,l.isFullyInitialized()||se(n),d.filtersNodes()),f=new b0(i,h,s);return pP(t,h,n,i,f,a)}function zg(t,e,n,r,i,s,o){const a=e.eventCache;let l,c;const d=new b0(i,e,s);if(se(n))c=t.filter.updateFullNode(e.eventCache.getNode(),r,o),l=xl(e,c,!0,t.filter.filtersNodes());else{const h=ne(n);if(h===".priority")c=t.filter.updatePriority(e.eventCache.getNode(),r),l=xl(e,c,a.isFullyInitialized(),a.isFiltered());else{const f=ke(n),y=a.getNode().getImmediateChild(h);let v;if(se(f))v=r;else{const b=d.getCompleteChild(h);b!=null?p0(f)===".priority"&&b.getChild(JI(f)).isEmpty()?v=b:v=b.updateChild(f,r):v=J.EMPTY_NODE}if(y.equals(v))l=e;else{const b=t.filter.updateChild(a.getNode(),h,v,f,d,o);l=xl(e,b,a.isFullyInitialized(),t.filter.filtersNodes())}}}return l}function cE(t,e){return t.eventCache.isCompleteForChild(e)}function P$(t,e,n,r,i,s,o){let a=e;return r.foreach((l,c)=>{const d=He(n,l);cE(e,ne(d))&&(a=zg(t,a,d,c,i,s,o))}),r.foreach((l,c)=>{const d=He(n,l);cE(e,ne(d))||(a=zg(t,a,d,c,i,s,o))}),a}function uE(t,e,n){return n.foreach((r,i)=>{e=e.updateChild(r,i)}),e}function Wg(t,e,n,r,i,s,o,a){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let l=e,c;se(n)?c=r:c=new Te(null).setTree(n,r);const d=e.serverCache.getNode();return c.children.inorderTraversal((h,f)=>{if(d.hasChild(h)){const y=e.serverCache.getNode().getImmediateChild(h),v=uE(t,y,f);l=ph(t,l,new _e(h),v,i,s,o,a)}}),c.children.inorderTraversal((h,f)=>{const y=!e.serverCache.isCompleteForChild(h)&&f.value===null;if(!d.hasChild(h)&&!y){const v=e.serverCache.getNode().getImmediateChild(h),b=uE(t,v,f);l=ph(t,l,new _e(h),b,i,s,o,a)}}),l}function R$(t,e,n,r,i,s,o){if(fh(i,n)!=null)return e;const a=e.serverCache.isFiltered(),l=e.serverCache;if(r.value!=null){if(se(n)&&l.isFullyInitialized()||l.isCompleteForPath(n))return ph(t,e,n,l.getNode().getChild(n),i,s,a,o);if(se(n)){let c=new Te(null);return l.getNode().forEachChild(No,(d,h)=>{c=c.set(new _e(d),h)}),Wg(t,e,n,c,i,s,a,o)}else return e}else{let c=new Te(null);return r.foreach((d,h)=>{const f=He(n,d);l.isCompleteForPath(f)&&(c=c.set(d,l.getNode().getChild(f)))}),Wg(t,e,n,c,i,s,a,o)}}function A$(t,e,n,r,i){const s=e.serverCache,o=aP(e,s.getNode(),s.isFullyInitialized()||se(n),s.isFiltered());return pP(t,o,n,r,fP,i)}function N$(t,e,n,r,i,s){let o;if(fh(r,n)!=null)return e;{const a=new b0(r,e,i),l=e.eventCache.getNode();let c;if(se(n)||ne(n)===".priority"){let d;if(e.serverCache.isFullyInitialized())d=hh(r,As(e));else{const h=e.serverCache.getNode();U(h instanceof J,"serverChildren would be complete if leaf node"),d=C0(r,h)}d=d,c=t.filter.updateFullNode(l,d,s)}else{const d=ne(n);let h=S0(r,d,e.serverCache);h==null&&e.serverCache.isCompleteForChild(d)&&(h=l.getImmediateChild(d)),h!=null?c=t.filter.updateChild(l,d,h,ke(n),a,s):e.eventCache.getNode().hasChild(d)?c=t.filter.updateChild(l,d,J.EMPTY_NODE,ke(n),a,s):c=l,c.isEmpty()&&e.serverCache.isFullyInitialized()&&(o=hh(r,As(e)),o.isLeafNode()&&(c=t.filter.updateFullNode(c,o,s)))}return o=e.serverCache.isFullyInitialized()||fh(r,fe())!=null,xl(e,c,o,t.filter.filtersNodes())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D${constructor(e,n){this.query_=e,this.eventRegistrations_=[];const r=this.query_._queryParams,i=new v0(r.getIndex()),s=Q6(r);this.processor_=b$(s);const o=n.serverCache,a=n.eventCache,l=i.updateFullNode(J.EMPTY_NODE,o.getNode(),null),c=s.updateFullNode(J.EMPTY_NODE,a.getNode(),null),d=new Pi(l,o.isFullyInitialized(),i.filtersNodes()),h=new Pi(c,a.isFullyInitialized(),s.filtersNodes());this.viewCache_=of(h,d),this.eventGenerator_=new i$(this.query_)}get query(){return this.query_}}function O$(t){return t.viewCache_.serverCache.getNode()}function M$(t){return dh(t.viewCache_)}function L$(t,e){const n=As(t.viewCache_);return n&&(t.query._queryParams.loadsAllData()||!se(e)&&!n.getImmediateChild(ne(e)).isEmpty())?n.getChild(e):null}function dE(t){return t.eventRegistrations_.length===0}function j$(t,e){t.eventRegistrations_.push(e)}function hE(t,e,n){const r=[];if(n){U(e==null,"A cancel should cancel all event registrations.");const i=t.query._path;t.eventRegistrations_.forEach(s=>{const o=s.createCancelEvent(n,i);o&&r.push(o)})}if(e){let i=[];for(let s=0;s<t.eventRegistrations_.length;++s){const o=t.eventRegistrations_[s];if(!o.matches(e))i.push(o);else if(e.hasAnyCallback()){i=i.concat(t.eventRegistrations_.slice(s+1));break}}t.eventRegistrations_=i}else t.eventRegistrations_=[];return r}function fE(t,e,n,r){e.type===Un.MERGE&&e.source.queryId!==null&&(U(As(t.viewCache_),"We should always have a full cache before handling merges"),U(dh(t.viewCache_),"Missing event cache, even though we have a server cache"));const i=t.viewCache_,s=k$(t.processor_,i,e,n,r);return T$(t.processor_,s.viewCache),U(s.viewCache.serverCache.isFullyInitialized()||!i.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),t.viewCache_=s.viewCache,mP(t,s.changes,s.viewCache.eventCache.getNode(),null)}function F$(t,e){const n=t.viewCache_.eventCache,r=[];return n.getNode().isLeafNode()||n.getNode().forEachChild(Ge,(s,o)=>{r.push(Wo(s,o))}),n.isFullyInitialized()&&r.push(sP(n.getNode())),mP(t,r,n.getNode(),e)}function mP(t,e,n,r){const i=r?[r]:t.eventRegistrations_;return s$(t.eventGenerator_,e,n,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let mh;class gP{constructor(){this.views=new Map}}function $$(t){U(!mh,"__referenceConstructor has already been defined"),mh=t}function U$(){return U(mh,"Reference.ts has not been loaded"),mh}function V$(t){return t.views.size===0}function T0(t,e,n,r){const i=e.source.queryId;if(i!==null){const s=t.views.get(i);return U(s!=null,"SyncTree gave us an op for an invalid query."),fE(s,e,n,r)}else{let s=[];for(const o of t.views.values())s=s.concat(fE(o,e,n,r));return s}}function yP(t,e,n,r,i){const s=e._queryIdentifier,o=t.views.get(s);if(!o){let a=hh(n,i?r:null),l=!1;a?l=!0:r instanceof J?(a=C0(n,r),l=!1):(a=J.EMPTY_NODE,l=!1);const c=of(new Pi(a,l,!1),new Pi(r,i,!1));return new D$(e,c)}return o}function B$(t,e,n,r,i,s){const o=yP(t,e,r,i,s);return t.views.has(e._queryIdentifier)||t.views.set(e._queryIdentifier,o),j$(o,n),F$(o,n)}function z$(t,e,n,r){const i=e._queryIdentifier,s=[];let o=[];const a=Ri(t);if(i==="default")for(const[l,c]of t.views.entries())o=o.concat(hE(c,n,r)),dE(c)&&(t.views.delete(l),c.query._queryParams.loadsAllData()||s.push(c.query));else{const l=t.views.get(i);l&&(o=o.concat(hE(l,n,r)),dE(l)&&(t.views.delete(i),l.query._queryParams.loadsAllData()||s.push(l.query)))}return a&&!Ri(t)&&s.push(new(U$())(e._repo,e._path)),{removed:s,events:o}}function vP(t){const e=[];for(const n of t.views.values())n.query._queryParams.loadsAllData()||e.push(n);return e}function Si(t,e){let n=null;for(const r of t.views.values())n=n||L$(r,e);return n}function _P(t,e){if(e._queryParams.loadsAllData())return lf(t);{const r=e._queryIdentifier;return t.views.get(r)}}function wP(t,e){return _P(t,e)!=null}function Ri(t){return lf(t)!=null}function lf(t){for(const e of t.views.values())if(e.query._queryParams.loadsAllData())return e;return null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let gh;function W$(t){U(!gh,"__referenceConstructor has already been defined"),gh=t}function H$(){return U(gh,"Reference.ts has not been loaded"),gh}let G$=1;class pE{constructor(e){this.listenProvider_=e,this.syncPointTree_=new Te(null),this.pendingWriteTree_=x$(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function xP(t,e,n,r,i){return c$(t.pendingWriteTree_,e,n,r,i),i?pa(t,new Rs(w0(),e,n)):[]}function K$(t,e,n,r){u$(t.pendingWriteTree_,e,n,r);const i=Te.fromObject(n);return pa(t,new Ho(w0(),e,i))}function fi(t,e,n=!1){const r=d$(t.pendingWriteTree_,e);if(h$(t.pendingWriteTree_,e)){let s=new Te(null);return r.snap!=null?s=s.set(fe(),!0):yt(r.children,o=>{s=s.set(new _e(o),!0)}),pa(t,new uh(r.path,s,n))}else return[]}function jc(t,e,n){return pa(t,new Rs(x0(),e,n))}function q$(t,e,n){const r=Te.fromObject(n);return pa(t,new Ho(x0(),e,r))}function Y$(t,e){return pa(t,new lc(x0(),e))}function X$(t,e,n){const r=I0(t,n);if(r){const i=P0(r),s=i.path,o=i.queryId,a=Lt(s,e),l=new lc(E0(o),a);return R0(t,s,l)}else return[]}function yh(t,e,n,r,i=!1){const s=e._path,o=t.syncPointTree_.get(s);let a=[];if(o&&(e._queryIdentifier==="default"||wP(o,e))){const l=z$(o,e,n,r);V$(o)&&(t.syncPointTree_=t.syncPointTree_.remove(s));const c=l.removed;if(a=l.events,!i){const d=c.findIndex(f=>f._queryParams.loadsAllData())!==-1,h=t.syncPointTree_.findOnPath(s,(f,y)=>Ri(y));if(d&&!h){const f=t.syncPointTree_.subtree(s);if(!f.isEmpty()){const y=Z$(f);for(let v=0;v<y.length;++v){const b=y[v],P=b.query,w=bP(t,b);t.listenProvider_.startListening(Cl(P),cc(t,P),w.hashFn,w.onComplete)}}}!h&&c.length>0&&!r&&(d?t.listenProvider_.stopListening(Cl(e),null):c.forEach(f=>{const y=t.queryToTagMap.get(cf(f));t.listenProvider_.stopListening(Cl(f),y)}))}eU(t,c)}return a}function EP(t,e,n,r){const i=I0(t,r);if(i!=null){const s=P0(i),o=s.path,a=s.queryId,l=Lt(o,e),c=new Rs(E0(a),l,n);return R0(t,o,c)}else return[]}function Q$(t,e,n,r){const i=I0(t,r);if(i){const s=P0(i),o=s.path,a=s.queryId,l=Lt(o,e),c=Te.fromObject(n),d=new Ho(E0(a),l,c);return R0(t,o,d)}else return[]}function Hg(t,e,n,r=!1){const i=e._path;let s=null,o=!1;t.syncPointTree_.foreachOnPath(i,(f,y)=>{const v=Lt(f,i);s=s||Si(y,v),o=o||Ri(y)});let a=t.syncPointTree_.get(i);a?(o=o||Ri(a),s=s||Si(a,fe())):(a=new gP,t.syncPointTree_=t.syncPointTree_.set(i,a));let l;s!=null?l=!0:(l=!1,s=J.EMPTY_NODE,t.syncPointTree_.subtree(i).foreachChild((y,v)=>{const b=Si(v,fe());b&&(s=s.updateImmediateChild(y,b))}));const c=wP(a,e);if(!c&&!e._queryParams.loadsAllData()){const f=cf(e);U(!t.queryToTagMap.has(f),"View does not exist, but we have a tag");const y=tU();t.queryToTagMap.set(f,y),t.tagToQueryMap.set(y,f)}const d=af(t.pendingWriteTree_,i);let h=B$(a,e,n,d,s,l);if(!c&&!o&&!r){const f=_P(a,e);h=h.concat(nU(t,e,f))}return h}function k0(t,e,n){const i=t.pendingWriteTree_,s=t.syncPointTree_.findOnPath(e,(o,a)=>{const l=Lt(o,e),c=Si(a,l);if(c)return c});return uP(i,e,s,n,!0)}function J$(t,e){const n=e._path;let r=null;t.syncPointTree_.foreachOnPath(n,(c,d)=>{const h=Lt(c,n);r=r||Si(d,h)});let i=t.syncPointTree_.get(n);i?r=r||Si(i,fe()):(i=new gP,t.syncPointTree_=t.syncPointTree_.set(n,i));const s=r!=null,o=s?new Pi(r,!0,!1):null,a=af(t.pendingWriteTree_,e._path),l=yP(i,e,a,s?o.getNode():J.EMPTY_NODE,s);return M$(l)}function pa(t,e){return CP(e,t.syncPointTree_,null,af(t.pendingWriteTree_,fe()))}function CP(t,e,n,r){if(se(t.path))return SP(t,e,n,r);{const i=e.get(fe());n==null&&i!=null&&(n=Si(i,fe()));let s=[];const o=ne(t.path),a=t.operationForChild(o),l=e.children.get(o);if(l&&a){const c=n?n.getImmediateChild(o):null,d=dP(r,o);s=s.concat(CP(a,l,c,d))}return i&&(s=s.concat(T0(i,t,r,n))),s}}function SP(t,e,n,r){const i=e.get(fe());n==null&&i!=null&&(n=Si(i,fe()));let s=[];return e.children.inorderTraversal((o,a)=>{const l=n?n.getImmediateChild(o):null,c=dP(r,o),d=t.operationForChild(o);d&&(s=s.concat(SP(d,a,l,c)))}),i&&(s=s.concat(T0(i,t,r,n))),s}function bP(t,e){const n=e.query,r=cc(t,n);return{hashFn:()=>(O$(e)||J.EMPTY_NODE).hash(),onComplete:i=>{if(i==="ok")return r?X$(t,n._path,r):Y$(t,n._path);{const s=Y3(i,n);return yh(t,n,null,s)}}}}function cc(t,e){const n=cf(e);return t.queryToTagMap.get(n)}function cf(t){return t._path.toString()+"$"+t._queryIdentifier}function I0(t,e){return t.tagToQueryMap.get(e)}function P0(t){const e=t.indexOf("$");return U(e!==-1&&e<t.length-1,"Bad queryKey."),{queryId:t.substr(e+1),path:new _e(t.substr(0,e))}}function R0(t,e,n){const r=t.syncPointTree_.get(e);U(r,"Missing sync point for query tag that we're tracking");const i=af(t.pendingWriteTree_,e);return T0(r,n,i,null)}function Z$(t){return t.fold((e,n,r)=>{if(n&&Ri(n))return[lf(n)];{let i=[];return n&&(i=vP(n)),yt(r,(s,o)=>{i=i.concat(o)}),i}})}function Cl(t){return t._queryParams.loadsAllData()&&!t._queryParams.isDefault()?new(H$())(t._repo,t._path):t}function eU(t,e){for(let n=0;n<e.length;++n){const r=e[n];if(!r._queryParams.loadsAllData()){const i=cf(r),s=t.queryToTagMap.get(i);t.queryToTagMap.delete(i),t.tagToQueryMap.delete(s)}}}function tU(){return G$++}function nU(t,e,n){const r=e._path,i=cc(t,e),s=bP(t,n),o=t.listenProvider_.startListening(Cl(e),i,s.hashFn,s.onComplete),a=t.syncPointTree_.subtree(r);if(i)U(!Ri(a.value),"If we're adding a query, it shouldn't be shadowed");else{const l=a.fold((c,d,h)=>{if(!se(c)&&d&&Ri(d))return[lf(d).query];{let f=[];return d&&(f=f.concat(vP(d).map(y=>y.query))),yt(h,(y,v)=>{f=f.concat(v)}),f}});for(let c=0;c<l.length;++c){const d=l[c];t.listenProvider_.stopListening(Cl(d),cc(t,d))}}return o}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A0{constructor(e){this.node_=e}getImmediateChild(e){const n=this.node_.getImmediateChild(e);return new A0(n)}node(){return this.node_}}class N0{constructor(e,n){this.syncTree_=e,this.path_=n}getImmediateChild(e){const n=He(this.path_,e);return new N0(this.syncTree_,n)}node(){return k0(this.syncTree_,this.path_)}}const rU=function(t){return t=t||{},t.timestamp=t.timestamp||new Date().getTime(),t},mE=function(t,e,n){if(!t||typeof t!="object")return t;if(U(".sv"in t,"Unexpected leaf node or priority contents"),typeof t[".sv"]=="string")return iU(t[".sv"],e,n);if(typeof t[".sv"]=="object")return sU(t[".sv"],e);U(!1,"Unexpected server value: "+JSON.stringify(t,null,2))},iU=function(t,e,n){switch(t){case"timestamp":return n.timestamp;default:U(!1,"Unexpected server value: "+t)}},sU=function(t,e,n){t.hasOwnProperty("increment")||U(!1,"Unexpected server value: "+JSON.stringify(t,null,2));const r=t.increment;typeof r!="number"&&U(!1,"Unexpected increment value: "+r);const i=e.node();if(U(i!==null&&typeof i<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;const o=i.getValue();return typeof o!="number"?r:o+r},TP=function(t,e,n,r){return D0(e,new N0(n,t),r)},kP=function(t,e,n){return D0(t,new A0(e),n)};function D0(t,e,n){const r=t.getPriority().val(),i=mE(r,e.getImmediateChild(".priority"),n);let s;if(t.isLeafNode()){const o=t,a=mE(o.getValue(),e,n);return a!==o.getValue()||i!==o.getPriority().val()?new st(a,tt(i)):t}else{const o=t;return s=o,i!==o.getPriority().val()&&(s=s.updatePriority(new st(i))),o.forEachChild(Ge,(a,l)=>{const c=D0(l,e.getImmediateChild(a),n);c!==l&&(s=s.updateImmediateChild(a,c))}),s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O0{constructor(e="",n=null,r={children:{},childCount:0}){this.name=e,this.parent=n,this.node=r}}function M0(t,e){let n=e instanceof _e?e:new _e(e),r=t,i=ne(n);for(;i!==null;){const s=Bo(r.node.children,i)||{children:{},childCount:0};r=new O0(i,r,s),n=ke(n),i=ne(n)}return r}function ma(t){return t.node.value}function IP(t,e){t.node.value=e,Gg(t)}function PP(t){return t.node.childCount>0}function oU(t){return ma(t)===void 0&&!PP(t)}function uf(t,e){yt(t.node.children,(n,r)=>{e(new O0(n,t,r))})}function RP(t,e,n,r){n&&!r&&e(t),uf(t,i=>{RP(i,e,!0,r)}),n&&r&&e(t)}function aU(t,e,n){let r=n?t:t.parent;for(;r!==null;){if(e(r))return!0;r=r.parent}return!1}function Fc(t){return new _e(t.parent===null?t.name:Fc(t.parent)+"/"+t.name)}function Gg(t){t.parent!==null&&lU(t.parent,t.name,t)}function lU(t,e,n){const r=oU(n),i=gr(t.node.children,e);r&&i?(delete t.node.children[e],t.node.childCount--,Gg(t)):!r&&!i&&(t.node.children[e]=n.node,t.node.childCount++,Gg(t))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cU=/[\[\].#$\/\u0000-\u001F\u007F]/,uU=/[\[\].#$\u0000-\u001F\u007F]/,nm=10*1024*1024,L0=function(t){return typeof t=="string"&&t.length!==0&&!cU.test(t)},AP=function(t){return typeof t=="string"&&t.length!==0&&!uU.test(t)},dU=function(t){return t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),AP(t)},hU=function(t){return t===null||typeof t=="string"||typeof t=="number"&&!c0(t)||t&&typeof t=="object"&&gr(t,".sv")},NP=function(t,e,n,r){r&&e===void 0||df(Yh(t,"value"),e,n)},df=function(t,e,n){const r=n instanceof _e?new P6(n,t):n;if(e===void 0)throw new Error(t+"contains undefined "+es(r));if(typeof e=="function")throw new Error(t+"contains a function "+es(r)+" with contents = "+e.toString());if(c0(e))throw new Error(t+"contains "+e.toString()+" "+es(r));if(typeof e=="string"&&e.length>nm/3&&Xh(e)>nm)throw new Error(t+"contains a string greater than "+nm+" utf8 bytes "+es(r)+" ('"+e.substring(0,50)+"...')");if(e&&typeof e=="object"){let i=!1,s=!1;if(yt(e,(o,a)=>{if(o===".value")i=!0;else if(o!==".priority"&&o!==".sv"&&(s=!0,!L0(o)))throw new Error(t+" contains an invalid key ("+o+") "+es(r)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);R6(r,o),df(t,a,r),A6(r)}),i&&s)throw new Error(t+' contains ".value" child '+es(r)+" in addition to actual children.")}},fU=function(t,e){let n,r;for(n=0;n<e.length;n++){r=e[n];const s=ic(r);for(let o=0;o<s.length;o++)if(!(s[o]===".priority"&&o===s.length-1)){if(!L0(s[o]))throw new Error(t+"contains an invalid key ("+s[o]+") in path "+r.toString()+`. Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`)}}e.sort(I6);let i=null;for(n=0;n<e.length;n++){if(r=e[n],i!==null&&En(i,r))throw new Error(t+"contains a path "+i.toString()+" that is ancestor of another path "+r.toString());i=r}},pU=function(t,e,n,r){if(r&&e===void 0)return;const i=Yh(t,"values");if(!(e&&typeof e=="object")||Array.isArray(e))throw new Error(i+" must be an object containing the children to replace.");const s=[];yt(e,(o,a)=>{const l=new _e(o);if(df(i,a,He(n,l)),p0(l)===".priority"&&!hU(a))throw new Error(i+"contains an invalid value for '"+l.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");s.push(l)}),fU(i,s)},DP=function(t,e,n,r){if(!(r&&n===void 0)&&!AP(n))throw new Error(Yh(t,e)+'was an invalid path = "'+n+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},mU=function(t,e,n,r){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),DP(t,e,n,r)},OP=function(t,e){if(ne(e)===".info")throw new Error(t+" failed = Can't modify data under /.info/")},gU=function(t,e){const n=e.path.toString();if(typeof e.repoInfo.host!="string"||e.repoInfo.host.length===0||!L0(e.repoInfo.namespace)&&e.repoInfo.host.split(":")[0]!=="localhost"||n.length!==0&&!dU(n))throw new Error(Yh(t,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yU{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function hf(t,e){let n=null;for(let r=0;r<e.length;r++){const i=e[r],s=i.getPath();n!==null&&!m0(s,n.path)&&(t.eventLists_.push(n),n=null),n===null&&(n={events:[],path:s}),n.events.push(i)}n&&t.eventLists_.push(n)}function MP(t,e,n){hf(t,n),LP(t,r=>m0(r,e))}function Pn(t,e,n){hf(t,n),LP(t,r=>En(r,e)||En(e,r))}function LP(t,e){t.recursionDepth_++;let n=!0;for(let r=0;r<t.eventLists_.length;r++){const i=t.eventLists_[r];if(i){const s=i.path;e(s)?(vU(t.eventLists_[r]),t.eventLists_[r]=null):n=!1}}n&&(t.eventLists_=[]),t.recursionDepth_--}function vU(t){for(let e=0;e<t.events.length;e++){const n=t.events[e];if(n!==null){t.events[e]=null;const r=n.getEventRunner();gs&&ft("event: "+n.toString()),fa(r)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _U="repo_interrupt",wU=25;class xU{constructor(e,n,r,i){this.repoInfo_=e,this.forceRestClient_=n,this.authTokenProvider_=r,this.appCheckProvider_=i,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new yU,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=ch(),this.transactionQueueTree_=new O0,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function EU(t,e,n){if(t.stats_=h0(t.repoInfo_),t.forceRestClient_||Z3())t.server_=new lh(t.repoInfo_,(r,i,s,o)=>{gE(t,r,i,s,o)},t.authTokenProvider_,t.appCheckProvider_),setTimeout(()=>yE(t,!0),0);else{if(typeof n<"u"&&n!==null){if(typeof n!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{nt(n)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}t.persistentConnection_=new Mr(t.repoInfo_,e,(r,i,s,o)=>{gE(t,r,i,s,o)},r=>{yE(t,r)},r=>{CU(t,r)},t.authTokenProvider_,t.appCheckProvider_,n),t.server_=t.persistentConnection_}t.authTokenProvider_.addTokenChangeListener(r=>{t.server_.refreshAuthToken(r)}),t.appCheckProvider_.addTokenChangeListener(r=>{t.server_.refreshAppCheckToken(r.token)}),t.statsReporter_=i6(t.repoInfo_,()=>new r$(t.stats_,t.server_)),t.infoData_=new J6,t.infoSyncTree_=new pE({startListening:(r,i,s,o)=>{let a=[];const l=t.infoData_.getNode(r._path);return l.isEmpty()||(a=jc(t.infoSyncTree_,r._path,l),setTimeout(()=>{o("ok")},0)),a},stopListening:()=>{}}),j0(t,"connected",!1),t.serverSyncTree_=new pE({startListening:(r,i,s,o)=>(t.server_.listen(r,s,i,(a,l)=>{const c=o(a,l);Pn(t.eventQueue_,r._path,c)}),[]),stopListening:(r,i)=>{t.server_.unlisten(r,i)}})}function jP(t){const n=t.infoData_.getNode(new _e(".info/serverTimeOffset")).val()||0;return new Date().getTime()+n}function ff(t){return rU({timestamp:jP(t)})}function gE(t,e,n,r,i){t.dataUpdateCount++;const s=new _e(e);n=t.interceptServerDataCallback_?t.interceptServerDataCallback_(e,n):n;let o=[];if(i)if(r){const l=Xd(n,c=>tt(c));o=Q$(t.serverSyncTree_,s,l,i)}else{const l=tt(n);o=EP(t.serverSyncTree_,s,l,i)}else if(r){const l=Xd(n,c=>tt(c));o=q$(t.serverSyncTree_,s,l)}else{const l=tt(n);o=jc(t.serverSyncTree_,s,l)}let a=s;o.length>0&&(a=Ko(t,s)),Pn(t.eventQueue_,a,o)}function yE(t,e){j0(t,"connected",e),e===!1&&kU(t)}function CU(t,e){yt(e,(n,r)=>{j0(t,n,r)})}function j0(t,e,n){const r=new _e("/.info/"+e),i=tt(n);t.infoData_.updateSnapshot(r,i);const s=jc(t.infoSyncTree_,r,i);Pn(t.eventQueue_,r,s)}function F0(t){return t.nextWriteId_++}function SU(t,e,n){const r=J$(t.serverSyncTree_,e);return r!=null?Promise.resolve(r):t.server_.get(e).then(i=>{const s=tt(i).withIndex(e._queryParams.getIndex());Hg(t.serverSyncTree_,e,n,!0);let o;if(e._queryParams.loadsAllData())o=jc(t.serverSyncTree_,e._path,s);else{const a=cc(t.serverSyncTree_,e);o=EP(t.serverSyncTree_,e._path,s,a)}return Pn(t.eventQueue_,e._path,o),yh(t.serverSyncTree_,e,n,null,!0),s},i=>($c(t,"get for query "+nt(e)+" failed: "+i),Promise.reject(new Error(i))))}function bU(t,e,n,r,i){$c(t,"set",{path:e.toString(),value:n,priority:r});const s=ff(t),o=tt(n,r),a=k0(t.serverSyncTree_,e),l=kP(o,a,s),c=F0(t),d=xP(t.serverSyncTree_,e,l,c,!0);hf(t.eventQueue_,d),t.server_.put(e.toString(),o.val(!0),(f,y)=>{const v=f==="ok";v||$t("set at "+e+" failed: "+f);const b=fi(t.serverSyncTree_,c,!v);Pn(t.eventQueue_,e,b),qg(t,i,f,y)});const h=U0(t,e);Ko(t,h),Pn(t.eventQueue_,h,[])}function TU(t,e,n,r){$c(t,"update",{path:e.toString(),value:n});let i=!0;const s=ff(t),o={};if(yt(n,(a,l)=>{i=!1,o[a]=TP(He(e,a),tt(l),t.serverSyncTree_,s)}),i)ft("update() called with empty data.  Don't do anything."),qg(t,r,"ok",void 0);else{const a=F0(t),l=K$(t.serverSyncTree_,e,o,a);hf(t.eventQueue_,l),t.server_.merge(e.toString(),n,(c,d)=>{const h=c==="ok";h||$t("update at "+e+" failed: "+c);const f=fi(t.serverSyncTree_,a,!h),y=f.length>0?Ko(t,e):e;Pn(t.eventQueue_,y,f),qg(t,r,c,d)}),yt(n,c=>{const d=U0(t,He(e,c));Ko(t,d)}),Pn(t.eventQueue_,e,[])}}function kU(t){$c(t,"onDisconnectEvents");const e=ff(t),n=ch();$g(t.onDisconnect_,fe(),(i,s)=>{const o=TP(i,s,t.serverSyncTree_,e);oP(n,i,o)});let r=[];$g(n,fe(),(i,s)=>{r=r.concat(jc(t.serverSyncTree_,i,s));const o=U0(t,i);Ko(t,o)}),t.onDisconnect_=ch(),Pn(t.eventQueue_,fe(),r)}function IU(t,e,n){let r;ne(e._path)===".info"?r=Hg(t.infoSyncTree_,e,n):r=Hg(t.serverSyncTree_,e,n),MP(t.eventQueue_,e._path,r)}function Kg(t,e,n){let r;ne(e._path)===".info"?r=yh(t.infoSyncTree_,e,n):r=yh(t.serverSyncTree_,e,n),MP(t.eventQueue_,e._path,r)}function PU(t){t.persistentConnection_&&t.persistentConnection_.interrupt(_U)}function $c(t,...e){let n="";t.persistentConnection_&&(n=t.persistentConnection_.id+":"),ft(n,...e)}function qg(t,e,n,r){e&&fa(()=>{if(n==="ok")e(null);else{const i=(n||"error").toUpperCase();let s=i;r&&(s+=": "+r);const o=new Error(s);o.code=i,e(o)}})}function FP(t,e,n){return k0(t.serverSyncTree_,e,n)||J.EMPTY_NODE}function $0(t,e=t.transactionQueueTree_){if(e||pf(t,e),ma(e)){const n=UP(t,e);U(n.length>0,"Sending zero length transaction queue"),n.every(i=>i.status===0)&&RU(t,Fc(e),n)}else PP(e)&&uf(e,n=>{$0(t,n)})}function RU(t,e,n){const r=n.map(c=>c.currentWriteId),i=FP(t,e,r);let s=i;const o=i.hash();for(let c=0;c<n.length;c++){const d=n[c];U(d.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),d.status=1,d.retryCount++;const h=Lt(e,d.path);s=s.updateChild(h,d.currentOutputSnapshotRaw)}const a=s.val(!0),l=e;t.server_.put(l.toString(),a,c=>{$c(t,"transaction put response",{path:l.toString(),status:c});let d=[];if(c==="ok"){const h=[];for(let f=0;f<n.length;f++)n[f].status=2,d=d.concat(fi(t.serverSyncTree_,n[f].currentWriteId)),n[f].onComplete&&h.push(()=>n[f].onComplete(null,!0,n[f].currentOutputSnapshotResolved)),n[f].unwatcher();pf(t,M0(t.transactionQueueTree_,e)),$0(t,t.transactionQueueTree_),Pn(t.eventQueue_,e,d);for(let f=0;f<h.length;f++)fa(h[f])}else{if(c==="datastale")for(let h=0;h<n.length;h++)n[h].status===3?n[h].status=4:n[h].status=0;else{$t("transaction at "+l.toString()+" failed: "+c);for(let h=0;h<n.length;h++)n[h].status=4,n[h].abortReason=c}Ko(t,e)}},o)}function Ko(t,e){const n=$P(t,e),r=Fc(n),i=UP(t,n);return AU(t,i,r),r}function AU(t,e,n){if(e.length===0)return;const r=[];let i=[];const o=e.filter(a=>a.status===0).map(a=>a.currentWriteId);for(let a=0;a<e.length;a++){const l=e[a],c=Lt(n,l.path);let d=!1,h;if(U(c!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),l.status===4)d=!0,h=l.abortReason,i=i.concat(fi(t.serverSyncTree_,l.currentWriteId,!0));else if(l.status===0)if(l.retryCount>=wU)d=!0,h="maxretry",i=i.concat(fi(t.serverSyncTree_,l.currentWriteId,!0));else{const f=FP(t,l.path,o);l.currentInputSnapshot=f;const y=e[a].update(f.val());if(y!==void 0){df("transaction failed: Data returned ",y,l.path);let v=tt(y);typeof y=="object"&&y!=null&&gr(y,".priority")||(v=v.updatePriority(f.getPriority()));const P=l.currentWriteId,w=ff(t),C=kP(v,f,w);l.currentOutputSnapshotRaw=v,l.currentOutputSnapshotResolved=C,l.currentWriteId=F0(t),o.splice(o.indexOf(P),1),i=i.concat(xP(t.serverSyncTree_,l.path,C,l.currentWriteId,l.applyLocally)),i=i.concat(fi(t.serverSyncTree_,P,!0))}else d=!0,h="nodata",i=i.concat(fi(t.serverSyncTree_,l.currentWriteId,!0))}Pn(t.eventQueue_,n,i),i=[],d&&(e[a].status=2,function(f){setTimeout(f,Math.floor(0))}(e[a].unwatcher),e[a].onComplete&&(h==="nodata"?r.push(()=>e[a].onComplete(null,!1,e[a].currentInputSnapshot)):r.push(()=>e[a].onComplete(new Error(h),!1,null))))}pf(t,t.transactionQueueTree_);for(let a=0;a<r.length;a++)fa(r[a]);$0(t,t.transactionQueueTree_)}function $P(t,e){let n,r=t.transactionQueueTree_;for(n=ne(e);n!==null&&ma(r)===void 0;)r=M0(r,n),e=ke(e),n=ne(e);return r}function UP(t,e){const n=[];return VP(t,e,n),n.sort((r,i)=>r.order-i.order),n}function VP(t,e,n){const r=ma(e);if(r)for(let i=0;i<r.length;i++)n.push(r[i]);uf(e,i=>{VP(t,i,n)})}function pf(t,e){const n=ma(e);if(n){let r=0;for(let i=0;i<n.length;i++)n[i].status!==2&&(n[r]=n[i],r++);n.length=r,IP(e,n.length>0?n:void 0)}uf(e,r=>{pf(t,r)})}function U0(t,e){const n=Fc($P(t,e)),r=M0(t.transactionQueueTree_,e);return aU(r,i=>{rm(t,i)}),rm(t,r),RP(r,i=>{rm(t,i)}),n}function rm(t,e){const n=ma(e);if(n){const r=[];let i=[],s=-1;for(let o=0;o<n.length;o++)n[o].status===3||(n[o].status===1?(U(s===o-1,"All SENT items should be at beginning of queue."),s=o,n[o].status=3,n[o].abortReason="set"):(U(n[o].status===0,"Unexpected transaction status in abort"),n[o].unwatcher(),i=i.concat(fi(t.serverSyncTree_,n[o].currentWriteId,!0)),n[o].onComplete&&r.push(n[o].onComplete.bind(null,new Error("set"),!1,null))));s===-1?IP(e,void 0):n.length=s+1,Pn(t.eventQueue_,Fc(e),i);for(let o=0;o<r.length;o++)fa(r[o])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NU(t){let e="";const n=t.split("/");for(let r=0;r<n.length;r++)if(n[r].length>0){let i=n[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch{}e+="/"+i}return e}function DU(t){const e={};t.charAt(0)==="?"&&(t=t.substring(1));for(const n of t.split("&")){if(n.length===0)continue;const r=n.split("=");r.length===2?e[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):$t(`Invalid query segment '${n}' in query '${t}'`)}return e}const vE=function(t,e){const n=OU(t),r=n.namespace;n.domain==="firebase.com"&&Wr(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||r==="undefined")&&n.domain!=="localhost"&&Wr("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||W3();const i=n.scheme==="ws"||n.scheme==="wss";return{repoInfo:new zI(n.host,n.secure,r,i,e,"",r!==n.subdomain),path:new _e(n.pathString)}},OU=function(t){let e="",n="",r="",i="",s="",o=!0,a="https",l=443;if(typeof t=="string"){let c=t.indexOf("//");c>=0&&(a=t.substring(0,c-1),t=t.substring(c+2));let d=t.indexOf("/");d===-1&&(d=t.length);let h=t.indexOf("?");h===-1&&(h=t.length),e=t.substring(0,Math.min(d,h)),d<h&&(i=NU(t.substring(d,h)));const f=DU(t.substring(Math.min(t.length,h)));c=e.indexOf(":"),c>=0?(o=a==="https"||a==="wss",l=parseInt(e.substring(c+1),10)):c=e.length;const y=e.slice(0,c);if(y.toLowerCase()==="localhost")n="localhost";else if(y.split(".").length<=2)n=y;else{const v=e.indexOf(".");r=e.substring(0,v).toLowerCase(),n=e.substring(v+1),s=r}"ns"in f&&(s=f.ns)}return{host:e,port:l,domain:n,subdomain:r,secure:o,scheme:a,pathString:i,namespace:s}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _E="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",MU=function(){let t=0;const e=[];return function(n){const r=n===t;t=n;let i;const s=new Array(8);for(i=7;i>=0;i--)s[i]=_E.charAt(n%64),n=Math.floor(n/64);U(n===0,"Cannot push at time == 0");let o=s.join("");if(r){for(i=11;i>=0&&e[i]===63;i--)e[i]=0;e[i]++}else for(i=0;i<12;i++)e[i]=Math.floor(Math.random()*64);for(i=0;i<12;i++)o+=_E.charAt(e[i]);return U(o.length===20,"nextPushId: Length should be 20."),o}}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BP{constructor(e,n,r,i){this.eventType=e,this.eventRegistration=n,this.snapshot=r,this.prevName=i}getPath(){const e=this.snapshot.ref;return this.eventType==="value"?e._path:e.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+nt(this.snapshot.exportVal())}}class zP{constructor(e,n,r){this.eventRegistration=e,this.error=n,this.path=r}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V0{constructor(e,n){this.snapshotCallback=e,this.cancelCallback=n}onValue(e,n){this.snapshotCallback.call(null,e,n)}onCancel(e){return U(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}get hasCancelCallback(){return!!this.cancelCallback}matches(e){return this.snapshotCallback===e.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B0{constructor(e,n,r,i){this._repo=e,this._path=n,this._queryParams=r,this._orderByCalled=i}get key(){return se(this._path)?null:p0(this._path)}get ref(){return new yr(this._repo,this._path)}get _queryIdentifier(){const e=iE(this._queryParams),n=u0(e);return n==="{}"?"default":n}get _queryObject(){return iE(this._queryParams)}isEqual(e){if(e=Xe(e),!(e instanceof B0))return!1;const n=this._repo===e._repo,r=m0(this._path,e._path),i=this._queryIdentifier===e._queryIdentifier;return n&&r&&i}toJSON(){return this.toString()}toString(){return this._repo.toString()+k6(this._path)}}class yr extends B0{constructor(e,n){super(e,n,new _0,!1)}get parent(){const e=JI(this._path);return e===null?null:new yr(this._repo,e)}get root(){let e=this;for(;e.parent!==null;)e=e.parent;return e}}class qo{constructor(e,n,r){this._node=e,this.ref=n,this._index=r}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(e){const n=new _e(e),r=Yo(this.ref,e);return new qo(this._node.getChild(n),r,Ge)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(e){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(r,i)=>e(new qo(i,Yo(this.ref,r),Ge)))}hasChild(e){const n=new _e(e);return!this._node.getChild(n).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function ue(t,e){return t=Xe(t),t._checkNotDeleted("ref"),e!==void 0?Yo(t._root,e):t._root}function Yo(t,e){return t=Xe(t),ne(t._path)===null?mU("child","path",e,!1):DP("child","path",e,!1),new yr(t._repo,He(t._path,e))}function dd(t,e){t=Xe(t),OP("push",t._path),NP("push",e,t._path,!0);const n=jP(t._repo),r=MU(n),i=Yo(t,r),s=Yo(t,r);let o;return e!=null?o=pt(s,e).then(()=>s):o=Promise.resolve(s),i.then=o.then.bind(o),i.catch=o.then.bind(o,void 0),i}function pt(t,e){t=Xe(t),OP("set",t._path),NP("set",e,t._path,!1);const n=new Ic;return bU(t._repo,t._path,e,null,n.wrapCallback(()=>{})),n.promise}function wE(t,e){pU("update",e,t._path,!1);const n=new Ic;return TU(t._repo,t._path,e,n.wrapCallback(()=>{})),n.promise}function Lr(t){t=Xe(t);const e=new V0(()=>{}),n=new Uc(e);return SU(t._repo,t,n).then(r=>new qo(r,new yr(t._repo,t._path),t._queryParams.getIndex()))}class Uc{constructor(e){this.callbackContext=e}respondsTo(e){return e==="value"}createEvent(e,n){const r=n._queryParams.getIndex();return new BP("value",this,new qo(e.snapshotNode,new yr(n._repo,n._path),r))}getEventRunner(e){return e.getEventType()==="cancel"?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,null)}createCancelEvent(e,n){return this.callbackContext.hasCancelCallback?new zP(this,e,n):null}matches(e){return e instanceof Uc?!e.callbackContext||!this.callbackContext?!0:e.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}}class mf{constructor(e,n){this.eventType=e,this.callbackContext=n}respondsTo(e){let n=e==="children_added"?"child_added":e;return n=n==="children_removed"?"child_removed":n,this.eventType===n}createCancelEvent(e,n){return this.callbackContext.hasCancelCallback?new zP(this,e,n):null}createEvent(e,n){U(e.childName!=null,"Child events should have a childName.");const r=Yo(new yr(n._repo,n._path),e.childName),i=n._queryParams.getIndex();return new BP(e.type,this,new qo(e.snapshotNode,r,i),e.prevName)}getEventRunner(e){return e.getEventType()==="cancel"?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,e.prevName)}matches(e){return e instanceof mf?this.eventType===e.eventType&&(!this.callbackContext||!e.callbackContext||this.callbackContext.matches(e.callbackContext)):!1}hasAnyCallback(){return!!this.callbackContext}}function LU(t,e,n,r,i){let s;if(typeof r=="object"&&(s=void 0,i=r),typeof r=="function"&&(s=r),i&&i.onlyOnce){const l=n,c=(d,h)=>{Kg(t._repo,t,a),l(d,h)};c.userCallback=n.userCallback,c.context=n.context,n=c}const o=new V0(n,s||void 0),a=e==="value"?new Uc(o):new mf(e,o);return IU(t._repo,t,a),()=>Kg(t._repo,t,a)}function ys(t,e,n,r){return LU(t,"value",e,n,r)}function jU(t,e,n){let r=null;const i=n?new V0(n):null;e==="value"?r=new Uc(i):e&&(r=new mf(e,i)),Kg(t._repo,t,r)}$$(yr);W$(yr);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FU="FIREBASE_DATABASE_EMULATOR_HOST",Yg={};let $U=!1;function UU(t,e,n,r){const i=e.lastIndexOf(":"),s=e.substring(0,i),o=js(s);t.repoInfo_=new zI(e,o,t.repoInfo_.namespace,t.repoInfo_.webSocketOnly,t.repoInfo_.nodeAdmin,t.repoInfo_.persistenceKey,t.repoInfo_.includeNamespaceInQueryParams,!0,n),r&&(t.authTokenProvider_=r)}function VU(t,e,n,r,i){let s=r||t.options.databaseURL;s===void 0&&(t.options.projectId||Wr("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),ft("Using default host for project ",t.options.projectId),s=`${t.options.projectId}-default-rtdb.firebaseio.com`);let o=vE(s,i),a=o.repoInfo,l,c;typeof process<"u"&&process.env&&(c=process.env[FU]),c?(l=!0,s=`http://${c}?ns=${a.namespace}`,o=vE(s,i),a=o.repoInfo):l=!o.repoInfo.secure;const d=i&&l?new Ao(Ao.OWNER):new t6(t.name,t.options,e);gU("Invalid Firebase Database URL",o),se(o.path)||Wr("Database URL must point to the root of a Firebase Database (not including a child path).");const h=zU(a,t,d,new e6(t,n));return new WU(h,t)}function BU(t,e){const n=Yg[e];(!n||n[t.key]!==t)&&Wr(`Database ${e}(${t.repoInfo_}) has already been deleted.`),PU(t),delete n[t.key]}function zU(t,e,n,r){let i=Yg[e.name];i||(i={},Yg[e.name]=i);let s=i[t.toURLString()];return s&&Wr("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),s=new xU(t,$U,n,r),i[t.toURLString()]=s,s}class WU{constructor(e,n){this._repoInternal=e,this.app=n,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(EU(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0,$i("Database",this._repo.repoInfo_.emulatorOptions!==null)),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new yr(this._repo,fe())),this._rootInternal}_delete(){return this._rootInternal!==null&&(BU(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){this._rootInternal===null&&Wr("Cannot call "+e+" on a deleted database.")}}function HU(t=Pc(),e){const n=Ui(t,"database").getImmediate({identifier:e});if(!n._instanceStarted){const r=Vv("database");r&&WP(n,...r)}return n}function WP(t,e,n,r={}){t=Xe(t),t._checkNotDeleted("useEmulator");const i=`${e}:${n}`,s=t._repoInternal;if(t._instanceStarted){if(i===t._repoInternal.repoInfo_.host&&ki(r,s.repoInfo_.emulatorOptions))return;Wr("connectDatabaseEmulator() cannot initialize or alter the emulator configuration after the database instance has started.")}let o;if(s.repoInfo_.nodeAdmin)r.mockUserToken&&Wr('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),o=new Ao(Ao.OWNER);else if(r.mockUserToken){const a=typeof r.mockUserToken=="string"?r.mockUserToken:Bv(r.mockUserToken,t.app.options.projectId);o=new Ao(a)}js(e)&&(qh(e),$i("Database",!0)),UU(s,i,r,o)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GU(t){$3(Vi),kn(new cn("database",(e,{instanceIdentifier:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal"),s=e.getProvider("app-check-internal");return VU(r,i,s,n)},"PUBLIC").setMultipleInstances(!0)),kt(V1,B1,t),kt(V1,B1,"esm2017")}Mr.prototype.simpleListen=function(t,e){this.sendRequest("q",{p:t},e)};Mr.prototype.echo=function(t,e){this.sendRequest("echo",{d:t},e)};GU();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HP="firebasestorage.googleapis.com",KU="storageBucket",qU=2*60*1e3,YU=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vr extends Qn{constructor(e,n,r=0){super(im(e),`Firebase Storage: ${n} (${im(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,vr.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return im(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var pr;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(pr||(pr={}));function im(t){return"storage/"+t}function XU(){const t="An unknown error occurred, please check the error payload for server response.";return new vr(pr.UNKNOWN,t)}function QU(){return new vr(pr.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function JU(){return new vr(pr.CANCELED,"User canceled the upload/download.")}function ZU(t){return new vr(pr.INVALID_URL,"Invalid URL '"+t+"'.")}function eV(t){return new vr(pr.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function xE(t){return new vr(pr.INVALID_ARGUMENT,t)}function GP(){return new vr(pr.APP_DELETED,"The Firebase app was deleted.")}function tV(t){return new vr(pr.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vn{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=Vn.makeFromUrl(e,n)}catch{return new Vn(e,"")}if(r.path==="")return r;throw eV(e)}static makeFromUrl(e,n){let r=null;const i="([A-Za-z0-9.\\-_]+)";function s(A){A.path.charAt(A.path.length-1)==="/"&&(A.path_=A.path_.slice(0,-1))}const o="(/(.*))?$",a=new RegExp("^gs://"+i+o,"i"),l={bucket:1,path:3};function c(A){A.path_=decodeURIComponent(A.path)}const d="v[A-Za-z0-9_]+",h=n.replace(/[.]/g,"\\."),f="(/([^?#]*).*)?$",y=new RegExp(`^https?://${h}/${d}/b/${i}/o${f}`,"i"),v={bucket:1,path:3},b=n===HP?"(?:storage.googleapis.com|storage.cloud.google.com)":n,P="([^?#]*)",w=new RegExp(`^https?://${b}/${i}/${P}`,"i"),x=[{regex:a,indices:l,postModify:s},{regex:y,indices:v,postModify:c},{regex:w,indices:{bucket:1,path:2},postModify:c}];for(let A=0;A<x.length;A++){const D=x[A],M=D.regex.exec(e);if(M){const S=M[D.indices.bucket];let E=M[D.indices.path];E||(E=""),r=new Vn(S,E),D.postModify(r);break}}if(r==null)throw ZU(e);return r}}class nV{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rV(t,e,n){let r=1,i=null,s=null,o=!1,a=0;function l(){return a===2}let c=!1;function d(...P){c||(c=!0,e.apply(null,P))}function h(P){i=setTimeout(()=>{i=null,t(y,l())},P)}function f(){s&&clearTimeout(s)}function y(P,...w){if(c){f();return}if(P){f(),d.call(null,P,...w);return}if(l()||o){f(),d.call(null,P,...w);return}r<64&&(r*=2);let x;a===1?(a=2,x=0):x=(r+Math.random())*1e3,h(x)}let v=!1;function b(P){v||(v=!0,f(),!c&&(i!==null?(P||(a=2),clearTimeout(i),h(0)):P||(a=1)))}return h(0),s=setTimeout(()=>{o=!0,b(!0)},n),b}function iV(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sV(t){return t!==void 0}function EE(t,e,n,r){if(r<e)throw xE(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw xE(`Invalid value for '${t}'. Expected ${n} or less.`)}function oV(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const i=e(r)+"="+e(t[r]);n=n+i+"&"}return n=n.slice(0,-1),n}var vh;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(vh||(vh={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aV(t,e){const n=t>=500&&t<600,i=[408,429].indexOf(t)!==-1,s=e.indexOf(t)!==-1;return n||i||s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lV{constructor(e,n,r,i,s,o,a,l,c,d,h,f=!0,y=!1){this.url_=e,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=s,this.additionalRetryCodes_=o,this.callback_=a,this.errorCallback_=l,this.timeout_=c,this.progressCallback_=d,this.connectionFactory_=h,this.retry=f,this.isUsingEmulator=y,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((v,b)=>{this.resolve_=v,this.reject_=b,this.start_()})}start_(){const e=(r,i)=>{if(i){r(!1,new Mu(!1,null,!0));return}const s=this.connectionFactory_();this.pendingConnection_=s;const o=a=>{const l=a.loaded,c=a.lengthComputable?a.total:-1;this.progressCallback_!==null&&this.progressCallback_(l,c)};this.progressCallback_!==null&&s.addUploadProgressListener(o),s.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&s.removeUploadProgressListener(o),this.pendingConnection_=null;const a=s.getErrorCode()===vh.NO_ERROR,l=s.getStatus();if(!a||aV(l,this.additionalRetryCodes_)&&this.retry){const d=s.getErrorCode()===vh.ABORT;r(!1,new Mu(!1,null,d));return}const c=this.successCodes_.indexOf(l)!==-1;r(!0,new Mu(c,s))})},n=(r,i)=>{const s=this.resolve_,o=this.reject_,a=i.connection;if(i.wasSuccessCode)try{const l=this.callback_(a,a.getResponse());sV(l)?s(l):s()}catch(l){o(l)}else if(a!==null){const l=XU();l.serverResponse=a.getErrorText(),this.errorCallback_?o(this.errorCallback_(a,l)):o(l)}else if(i.canceled){const l=this.appDelete_?GP():JU();o(l)}else{const l=QU();o(l)}};this.canceled_?n(!1,new Mu(!1,null,!0)):this.backoffId_=rV(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&iV(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Mu{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function cV(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function uV(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function dV(t,e){e&&(t["X-Firebase-GMPID"]=e)}function hV(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function fV(t,e,n,r,i,s,o=!0,a=!1){const l=oV(t.urlParams),c=t.url+l,d=Object.assign({},t.headers);return dV(d,e),cV(d,n),uV(d,s),hV(d,r),new lV(c,t.method,d,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i,o,a)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pV(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function mV(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _h{constructor(e,n){this._service=e,n instanceof Vn?this._location=n:this._location=Vn.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new _h(e,n)}get root(){const e=new Vn(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return mV(this._location.path)}get storage(){return this._service}get parent(){const e=pV(this._location.path);if(e===null)return null;const n=new Vn(this._location.bucket,e);return new _h(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw tV(e)}}function CE(t,e){const n=e==null?void 0:e[KU];return n==null?null:Vn.makeFromBucketSpec(n,t)}function gV(t,e,n,r={}){t.host=`${e}:${n}`;const i=js(e);i&&(qh(`https://${t.host}`),$i("Storage",!0)),t._isUsingEmulator=!0,t._protocol=i?"https":"http";const{mockUserToken:s}=r;s&&(t._overrideAuthToken=typeof s=="string"?s:Bv(s,t.app.options.projectId))}class yV{constructor(e,n,r,i,s,o=!1){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=s,this._isUsingEmulator=o,this._bucket=null,this._host=HP,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=qU,this._maxUploadRetryTime=YU,this._requests=new Set,i!=null?this._bucket=Vn.makeFromBucketSpec(i,this._host):this._bucket=CE(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Vn.makeFromBucketSpec(this._url,e):this._bucket=CE(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){EE("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){EE("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(Mt(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new _h(this,e)}_makeRequest(e,n,r,i,s=!0){if(this._deleted)return new nV(GP());{const o=fV(e,this._appId,r,i,n,this._firebaseVersion,s,this._isUsingEmulator);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}async makeRequestWithTokens(e,n){const[r,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,i).getPromise()}}const SE="@firebase/storage",bE="0.13.10";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KP="storage";function vV(t=Pc(),e){t=Xe(t),$i("Storage",!1);const r=Ui(t,KP).getImmediate({identifier:e}),i=Vv("storage");return i&&qP(r,...i),r}function qP(t,e,n,r={}){gV(t,e,n,r)}function _V(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),i=t.getProvider("app-check-internal");return new yV(n,r,i,e,Vi)}function wV(){kn(new cn(KP,_V,"PUBLIC").setMultipleInstances(!0)),kt(SE,bE,""),kt(SE,bE,"esm2017")}wV();var TE=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var YP;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(S,E){function I(){}I.prototype=E.prototype,S.D=E.prototype,S.prototype=new I,S.prototype.constructor=S,S.C=function(m,R,O){for(var N=Array(arguments.length-2),W=2;W<arguments.length;W++)N[W-2]=arguments[W];return E.prototype[R].apply(m,N)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(S,E,I){I||(I=0);var m=Array(16);if(typeof E=="string")for(var R=0;16>R;++R)m[R]=E.charCodeAt(I++)|E.charCodeAt(I++)<<8|E.charCodeAt(I++)<<16|E.charCodeAt(I++)<<24;else for(R=0;16>R;++R)m[R]=E[I++]|E[I++]<<8|E[I++]<<16|E[I++]<<24;E=S.g[0],I=S.g[1],R=S.g[2];var O=S.g[3],N=E+(O^I&(R^O))+m[0]+3614090360&4294967295;E=I+(N<<7&4294967295|N>>>25),N=O+(R^E&(I^R))+m[1]+3905402710&4294967295,O=E+(N<<12&4294967295|N>>>20),N=R+(I^O&(E^I))+m[2]+606105819&4294967295,R=O+(N<<17&4294967295|N>>>15),N=I+(E^R&(O^E))+m[3]+3250441966&4294967295,I=R+(N<<22&4294967295|N>>>10),N=E+(O^I&(R^O))+m[4]+4118548399&4294967295,E=I+(N<<7&4294967295|N>>>25),N=O+(R^E&(I^R))+m[5]+1200080426&4294967295,O=E+(N<<12&4294967295|N>>>20),N=R+(I^O&(E^I))+m[6]+2821735955&4294967295,R=O+(N<<17&4294967295|N>>>15),N=I+(E^R&(O^E))+m[7]+4249261313&4294967295,I=R+(N<<22&4294967295|N>>>10),N=E+(O^I&(R^O))+m[8]+1770035416&4294967295,E=I+(N<<7&4294967295|N>>>25),N=O+(R^E&(I^R))+m[9]+2336552879&4294967295,O=E+(N<<12&4294967295|N>>>20),N=R+(I^O&(E^I))+m[10]+4294925233&4294967295,R=O+(N<<17&4294967295|N>>>15),N=I+(E^R&(O^E))+m[11]+2304563134&4294967295,I=R+(N<<22&4294967295|N>>>10),N=E+(O^I&(R^O))+m[12]+1804603682&4294967295,E=I+(N<<7&4294967295|N>>>25),N=O+(R^E&(I^R))+m[13]+4254626195&4294967295,O=E+(N<<12&4294967295|N>>>20),N=R+(I^O&(E^I))+m[14]+2792965006&4294967295,R=O+(N<<17&4294967295|N>>>15),N=I+(E^R&(O^E))+m[15]+1236535329&4294967295,I=R+(N<<22&4294967295|N>>>10),N=E+(R^O&(I^R))+m[1]+4129170786&4294967295,E=I+(N<<5&4294967295|N>>>27),N=O+(I^R&(E^I))+m[6]+3225465664&4294967295,O=E+(N<<9&4294967295|N>>>23),N=R+(E^I&(O^E))+m[11]+643717713&4294967295,R=O+(N<<14&4294967295|N>>>18),N=I+(O^E&(R^O))+m[0]+3921069994&4294967295,I=R+(N<<20&4294967295|N>>>12),N=E+(R^O&(I^R))+m[5]+3593408605&4294967295,E=I+(N<<5&4294967295|N>>>27),N=O+(I^R&(E^I))+m[10]+38016083&4294967295,O=E+(N<<9&4294967295|N>>>23),N=R+(E^I&(O^E))+m[15]+3634488961&4294967295,R=O+(N<<14&4294967295|N>>>18),N=I+(O^E&(R^O))+m[4]+3889429448&4294967295,I=R+(N<<20&4294967295|N>>>12),N=E+(R^O&(I^R))+m[9]+568446438&4294967295,E=I+(N<<5&4294967295|N>>>27),N=O+(I^R&(E^I))+m[14]+3275163606&4294967295,O=E+(N<<9&4294967295|N>>>23),N=R+(E^I&(O^E))+m[3]+4107603335&4294967295,R=O+(N<<14&4294967295|N>>>18),N=I+(O^E&(R^O))+m[8]+1163531501&4294967295,I=R+(N<<20&4294967295|N>>>12),N=E+(R^O&(I^R))+m[13]+2850285829&4294967295,E=I+(N<<5&4294967295|N>>>27),N=O+(I^R&(E^I))+m[2]+4243563512&4294967295,O=E+(N<<9&4294967295|N>>>23),N=R+(E^I&(O^E))+m[7]+1735328473&4294967295,R=O+(N<<14&4294967295|N>>>18),N=I+(O^E&(R^O))+m[12]+2368359562&4294967295,I=R+(N<<20&4294967295|N>>>12),N=E+(I^R^O)+m[5]+4294588738&4294967295,E=I+(N<<4&4294967295|N>>>28),N=O+(E^I^R)+m[8]+2272392833&4294967295,O=E+(N<<11&4294967295|N>>>21),N=R+(O^E^I)+m[11]+1839030562&4294967295,R=O+(N<<16&4294967295|N>>>16),N=I+(R^O^E)+m[14]+4259657740&4294967295,I=R+(N<<23&4294967295|N>>>9),N=E+(I^R^O)+m[1]+2763975236&4294967295,E=I+(N<<4&4294967295|N>>>28),N=O+(E^I^R)+m[4]+1272893353&4294967295,O=E+(N<<11&4294967295|N>>>21),N=R+(O^E^I)+m[7]+4139469664&4294967295,R=O+(N<<16&4294967295|N>>>16),N=I+(R^O^E)+m[10]+3200236656&4294967295,I=R+(N<<23&4294967295|N>>>9),N=E+(I^R^O)+m[13]+681279174&4294967295,E=I+(N<<4&4294967295|N>>>28),N=O+(E^I^R)+m[0]+3936430074&4294967295,O=E+(N<<11&4294967295|N>>>21),N=R+(O^E^I)+m[3]+3572445317&4294967295,R=O+(N<<16&4294967295|N>>>16),N=I+(R^O^E)+m[6]+76029189&4294967295,I=R+(N<<23&4294967295|N>>>9),N=E+(I^R^O)+m[9]+3654602809&4294967295,E=I+(N<<4&4294967295|N>>>28),N=O+(E^I^R)+m[12]+3873151461&4294967295,O=E+(N<<11&4294967295|N>>>21),N=R+(O^E^I)+m[15]+530742520&4294967295,R=O+(N<<16&4294967295|N>>>16),N=I+(R^O^E)+m[2]+3299628645&4294967295,I=R+(N<<23&4294967295|N>>>9),N=E+(R^(I|~O))+m[0]+4096336452&4294967295,E=I+(N<<6&4294967295|N>>>26),N=O+(I^(E|~R))+m[7]+1126891415&4294967295,O=E+(N<<10&4294967295|N>>>22),N=R+(E^(O|~I))+m[14]+2878612391&4294967295,R=O+(N<<15&4294967295|N>>>17),N=I+(O^(R|~E))+m[5]+4237533241&4294967295,I=R+(N<<21&4294967295|N>>>11),N=E+(R^(I|~O))+m[12]+1700485571&4294967295,E=I+(N<<6&4294967295|N>>>26),N=O+(I^(E|~R))+m[3]+2399980690&4294967295,O=E+(N<<10&4294967295|N>>>22),N=R+(E^(O|~I))+m[10]+4293915773&4294967295,R=O+(N<<15&4294967295|N>>>17),N=I+(O^(R|~E))+m[1]+2240044497&4294967295,I=R+(N<<21&4294967295|N>>>11),N=E+(R^(I|~O))+m[8]+1873313359&4294967295,E=I+(N<<6&4294967295|N>>>26),N=O+(I^(E|~R))+m[15]+4264355552&4294967295,O=E+(N<<10&4294967295|N>>>22),N=R+(E^(O|~I))+m[6]+2734768916&4294967295,R=O+(N<<15&4294967295|N>>>17),N=I+(O^(R|~E))+m[13]+1309151649&4294967295,I=R+(N<<21&4294967295|N>>>11),N=E+(R^(I|~O))+m[4]+4149444226&4294967295,E=I+(N<<6&4294967295|N>>>26),N=O+(I^(E|~R))+m[11]+3174756917&4294967295,O=E+(N<<10&4294967295|N>>>22),N=R+(E^(O|~I))+m[2]+718787259&4294967295,R=O+(N<<15&4294967295|N>>>17),N=I+(O^(R|~E))+m[9]+3951481745&4294967295,S.g[0]=S.g[0]+E&4294967295,S.g[1]=S.g[1]+(R+(N<<21&4294967295|N>>>11))&4294967295,S.g[2]=S.g[2]+R&4294967295,S.g[3]=S.g[3]+O&4294967295}r.prototype.u=function(S,E){E===void 0&&(E=S.length);for(var I=E-this.blockSize,m=this.B,R=this.h,O=0;O<E;){if(R==0)for(;O<=I;)i(this,S,O),O+=this.blockSize;if(typeof S=="string"){for(;O<E;)if(m[R++]=S.charCodeAt(O++),R==this.blockSize){i(this,m),R=0;break}}else for(;O<E;)if(m[R++]=S[O++],R==this.blockSize){i(this,m),R=0;break}}this.h=R,this.o+=E},r.prototype.v=function(){var S=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);S[0]=128;for(var E=1;E<S.length-8;++E)S[E]=0;var I=8*this.o;for(E=S.length-8;E<S.length;++E)S[E]=I&255,I/=256;for(this.u(S),S=Array(16),E=I=0;4>E;++E)for(var m=0;32>m;m+=8)S[I++]=this.g[E]>>>m&255;return S};function s(S,E){var I=a;return Object.prototype.hasOwnProperty.call(I,S)?I[S]:I[S]=E(S)}function o(S,E){this.h=E;for(var I=[],m=!0,R=S.length-1;0<=R;R--){var O=S[R]|0;m&&O==E||(I[R]=O,m=!1)}this.g=I}var a={};function l(S){return-128<=S&&128>S?s(S,function(E){return new o([E|0],0>E?-1:0)}):new o([S|0],0>S?-1:0)}function c(S){if(isNaN(S)||!isFinite(S))return h;if(0>S)return P(c(-S));for(var E=[],I=1,m=0;S>=I;m++)E[m]=S/I|0,I*=4294967296;return new o(E,0)}function d(S,E){if(S.length==0)throw Error("number format error: empty string");if(E=E||10,2>E||36<E)throw Error("radix out of range: "+E);if(S.charAt(0)=="-")return P(d(S.substring(1),E));if(0<=S.indexOf("-"))throw Error('number format error: interior "-" character');for(var I=c(Math.pow(E,8)),m=h,R=0;R<S.length;R+=8){var O=Math.min(8,S.length-R),N=parseInt(S.substring(R,R+O),E);8>O?(O=c(Math.pow(E,O)),m=m.j(O).add(c(N))):(m=m.j(I),m=m.add(c(N)))}return m}var h=l(0),f=l(1),y=l(16777216);t=o.prototype,t.m=function(){if(b(this))return-P(this).m();for(var S=0,E=1,I=0;I<this.g.length;I++){var m=this.i(I);S+=(0<=m?m:4294967296+m)*E,E*=4294967296}return S},t.toString=function(S){if(S=S||10,2>S||36<S)throw Error("radix out of range: "+S);if(v(this))return"0";if(b(this))return"-"+P(this).toString(S);for(var E=c(Math.pow(S,6)),I=this,m="";;){var R=A(I,E).g;I=w(I,R.j(E));var O=((0<I.g.length?I.g[0]:I.h)>>>0).toString(S);if(I=R,v(I))return O+m;for(;6>O.length;)O="0"+O;m=O+m}},t.i=function(S){return 0>S?0:S<this.g.length?this.g[S]:this.h};function v(S){if(S.h!=0)return!1;for(var E=0;E<S.g.length;E++)if(S.g[E]!=0)return!1;return!0}function b(S){return S.h==-1}t.l=function(S){return S=w(this,S),b(S)?-1:v(S)?0:1};function P(S){for(var E=S.g.length,I=[],m=0;m<E;m++)I[m]=~S.g[m];return new o(I,~S.h).add(f)}t.abs=function(){return b(this)?P(this):this},t.add=function(S){for(var E=Math.max(this.g.length,S.g.length),I=[],m=0,R=0;R<=E;R++){var O=m+(this.i(R)&65535)+(S.i(R)&65535),N=(O>>>16)+(this.i(R)>>>16)+(S.i(R)>>>16);m=N>>>16,O&=65535,N&=65535,I[R]=N<<16|O}return new o(I,I[I.length-1]&-2147483648?-1:0)};function w(S,E){return S.add(P(E))}t.j=function(S){if(v(this)||v(S))return h;if(b(this))return b(S)?P(this).j(P(S)):P(P(this).j(S));if(b(S))return P(this.j(P(S)));if(0>this.l(y)&&0>S.l(y))return c(this.m()*S.m());for(var E=this.g.length+S.g.length,I=[],m=0;m<2*E;m++)I[m]=0;for(m=0;m<this.g.length;m++)for(var R=0;R<S.g.length;R++){var O=this.i(m)>>>16,N=this.i(m)&65535,W=S.i(R)>>>16,z=S.i(R)&65535;I[2*m+2*R]+=N*z,C(I,2*m+2*R),I[2*m+2*R+1]+=O*z,C(I,2*m+2*R+1),I[2*m+2*R+1]+=N*W,C(I,2*m+2*R+1),I[2*m+2*R+2]+=O*W,C(I,2*m+2*R+2)}for(m=0;m<E;m++)I[m]=I[2*m+1]<<16|I[2*m];for(m=E;m<2*E;m++)I[m]=0;return new o(I,0)};function C(S,E){for(;(S[E]&65535)!=S[E];)S[E+1]+=S[E]>>>16,S[E]&=65535,E++}function x(S,E){this.g=S,this.h=E}function A(S,E){if(v(E))throw Error("division by zero");if(v(S))return new x(h,h);if(b(S))return E=A(P(S),E),new x(P(E.g),P(E.h));if(b(E))return E=A(S,P(E)),new x(P(E.g),E.h);if(30<S.g.length){if(b(S)||b(E))throw Error("slowDivide_ only works with positive integers.");for(var I=f,m=E;0>=m.l(S);)I=D(I),m=D(m);var R=M(I,1),O=M(m,1);for(m=M(m,2),I=M(I,2);!v(m);){var N=O.add(m);0>=N.l(S)&&(R=R.add(I),O=N),m=M(m,1),I=M(I,1)}return E=w(S,R.j(E)),new x(R,E)}for(R=h;0<=S.l(E);){for(I=Math.max(1,Math.floor(S.m()/E.m())),m=Math.ceil(Math.log(I)/Math.LN2),m=48>=m?1:Math.pow(2,m-48),O=c(I),N=O.j(E);b(N)||0<N.l(S);)I-=m,O=c(I),N=O.j(E);v(O)&&(O=f),R=R.add(O),S=w(S,N)}return new x(R,S)}t.A=function(S){return A(this,S).h},t.and=function(S){for(var E=Math.max(this.g.length,S.g.length),I=[],m=0;m<E;m++)I[m]=this.i(m)&S.i(m);return new o(I,this.h&S.h)},t.or=function(S){for(var E=Math.max(this.g.length,S.g.length),I=[],m=0;m<E;m++)I[m]=this.i(m)|S.i(m);return new o(I,this.h|S.h)},t.xor=function(S){for(var E=Math.max(this.g.length,S.g.length),I=[],m=0;m<E;m++)I[m]=this.i(m)^S.i(m);return new o(I,this.h^S.h)};function D(S){for(var E=S.g.length+1,I=[],m=0;m<E;m++)I[m]=S.i(m)<<1|S.i(m-1)>>>31;return new o(I,S.h)}function M(S,E){var I=E>>5;E%=32;for(var m=S.g.length-I,R=[],O=0;O<m;O++)R[O]=0<E?S.i(O+I)>>>E|S.i(O+I+1)<<32-E:S.i(O+I);return new o(R,S.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=c,o.fromString=d,YP=o}).apply(typeof TE<"u"?TE:typeof self<"u"?self:typeof window<"u"?window:{});var Lu=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(u,p,g){return u==Array.prototype||u==Object.prototype||(u[p]=g.value),u};function n(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof Lu=="object"&&Lu];for(var p=0;p<u.length;++p){var g=u[p];if(g&&g.Math==Math)return g}throw Error("Cannot find global object")}var r=n(this);function i(u,p){if(p)e:{var g=r;u=u.split(".");for(var T=0;T<u.length-1;T++){var L=u[T];if(!(L in g))break e;g=g[L]}u=u[u.length-1],T=g[u],p=p(T),p!=T&&p!=null&&e(g,u,{configurable:!0,writable:!0,value:p})}}function s(u,p){u instanceof String&&(u+="");var g=0,T=!1,L={next:function(){if(!T&&g<u.length){var j=g++;return{value:p(j,u[j]),done:!1}}return T=!0,{done:!0,value:void 0}}};return L[Symbol.iterator]=function(){return L},L}i("Array.prototype.values",function(u){return u||function(){return s(this,function(p,g){return g})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},a=this||self;function l(u){var p=typeof u;return p=p!="object"?p:u?Array.isArray(u)?"array":p:"null",p=="array"||p=="object"&&typeof u.length=="number"}function c(u){var p=typeof u;return p=="object"&&u!=null||p=="function"}function d(u,p,g){return u.call.apply(u.bind,arguments)}function h(u,p,g){if(!u)throw Error();if(2<arguments.length){var T=Array.prototype.slice.call(arguments,2);return function(){var L=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(L,T),u.apply(p,L)}}return function(){return u.apply(p,arguments)}}function f(u,p,g){return f=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?d:h,f.apply(null,arguments)}function y(u,p){var g=Array.prototype.slice.call(arguments,1);return function(){var T=g.slice();return T.push.apply(T,arguments),u.apply(this,T)}}function v(u,p){function g(){}g.prototype=p.prototype,u.aa=p.prototype,u.prototype=new g,u.prototype.constructor=u,u.Qb=function(T,L,j){for(var B=Array(arguments.length-2),we=2;we<arguments.length;we++)B[we-2]=arguments[we];return p.prototype[L].apply(T,B)}}function b(u){const p=u.length;if(0<p){const g=Array(p);for(let T=0;T<p;T++)g[T]=u[T];return g}return[]}function P(u,p){for(let g=1;g<arguments.length;g++){const T=arguments[g];if(l(T)){const L=u.length||0,j=T.length||0;u.length=L+j;for(let B=0;B<j;B++)u[L+B]=T[B]}else u.push(T)}}class w{constructor(p,g){this.i=p,this.j=g,this.h=0,this.g=null}get(){let p;return 0<this.h?(this.h--,p=this.g,this.g=p.next,p.next=null):p=this.i(),p}}function C(u){return/^[\s\xa0]*$/.test(u)}function x(){var u=a.navigator;return u&&(u=u.userAgent)?u:""}function A(u){return A[" "](u),u}A[" "]=function(){};var D=x().indexOf("Gecko")!=-1&&!(x().toLowerCase().indexOf("webkit")!=-1&&x().indexOf("Edge")==-1)&&!(x().indexOf("Trident")!=-1||x().indexOf("MSIE")!=-1)&&x().indexOf("Edge")==-1;function M(u,p,g){for(const T in u)p.call(g,u[T],T,u)}function S(u,p){for(const g in u)p.call(void 0,u[g],g,u)}function E(u){const p={};for(const g in u)p[g]=u[g];return p}const I="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function m(u,p){let g,T;for(let L=1;L<arguments.length;L++){T=arguments[L];for(g in T)u[g]=T[g];for(let j=0;j<I.length;j++)g=I[j],Object.prototype.hasOwnProperty.call(T,g)&&(u[g]=T[g])}}function R(u){var p=1;u=u.split(":");const g=[];for(;0<p&&u.length;)g.push(u.shift()),p--;return u.length&&g.push(u.join(":")),g}function O(u){a.setTimeout(()=>{throw u},0)}function N(){var u=Y;let p=null;return u.g&&(p=u.g,u.g=u.g.next,u.g||(u.h=null),p.next=null),p}class W{constructor(){this.h=this.g=null}add(p,g){const T=z.get();T.set(p,g),this.h?this.h.next=T:this.g=T,this.h=T}}var z=new w(()=>new X,u=>u.reset());class X{constructor(){this.next=this.g=this.h=null}set(p,g){this.h=p,this.g=g,this.next=null}reset(){this.next=this.g=this.h=null}}let te,V=!1,Y=new W,Q=()=>{const u=a.Promise.resolve(void 0);te=()=>{u.then(ve)}};var ve=()=>{for(var u;u=N();){try{u.h.call(u.g)}catch(g){O(g)}var p=z;p.j(u),100>p.h&&(p.h++,u.next=p.g,p.g=u)}V=!1};function H(){this.s=this.s,this.C=this.C}H.prototype.s=!1,H.prototype.ma=function(){this.s||(this.s=!0,this.N())},H.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function K(u,p){this.type=u,this.g=this.target=p,this.defaultPrevented=!1}K.prototype.h=function(){this.defaultPrevented=!0};var ie=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var u=!1,p=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const g=()=>{};a.addEventListener("test",g,p),a.removeEventListener("test",g,p)}catch{}return u}();function ae(u,p){if(K.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u){var g=this.type=u.type,T=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;if(this.target=u.target||u.srcElement,this.g=p,p=u.relatedTarget){if(D){e:{try{A(p.nodeName);var L=!0;break e}catch{}L=!1}L||(p=null)}}else g=="mouseover"?p=u.fromElement:g=="mouseout"&&(p=u.toElement);this.relatedTarget=p,T?(this.clientX=T.clientX!==void 0?T.clientX:T.pageX,this.clientY=T.clientY!==void 0?T.clientY:T.pageY,this.screenX=T.screenX||0,this.screenY=T.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=typeof u.pointerType=="string"?u.pointerType:Se[u.pointerType]||"",this.state=u.state,this.i=u,u.defaultPrevented&&ae.aa.h.call(this)}}v(ae,K);var Se={2:"touch",3:"pen",4:"mouse"};ae.prototype.h=function(){ae.aa.h.call(this);var u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var be="closure_listenable_"+(1e6*Math.random()|0),en=0;function hn(u,p,g,T,L){this.listener=u,this.proxy=null,this.src=p,this.type=g,this.capture=!!T,this.ha=L,this.key=++en,this.da=this.fa=!1}function ee(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function Me(u){this.src=u,this.g={},this.h=0}Me.prototype.add=function(u,p,g,T,L){var j=u.toString();u=this.g[j],u||(u=this.g[j]=[],this.h++);var B=Jn(u,p,T,L);return-1<B?(p=u[B],g||(p.fa=!1)):(p=new hn(p,this.src,j,!!T,L),p.fa=g,u.push(p)),p};function Vs(u,p){var g=p.type;if(g in u.g){var T=u.g[g],L=Array.prototype.indexOf.call(T,p,void 0),j;(j=0<=L)&&Array.prototype.splice.call(T,L,1),j&&(ee(p),u.g[g].length==0&&(delete u.g[g],u.h--))}}function Jn(u,p,g,T){for(var L=0;L<u.length;++L){var j=u[L];if(!j.da&&j.listener==p&&j.capture==!!g&&j.ha==T)return L}return-1}var Wi="closure_lm_"+(1e6*Math.random()|0),Rt={};function Hi(u,p,g,T,L){if(T&&T.once)return fn(u,p,g,T,L);if(Array.isArray(p)){for(var j=0;j<p.length;j++)Hi(u,p[j],g,T,L);return null}return g=Hf(g),u&&u[be]?u.K(p,g,c(T)?!!T.capture:!!T,L):Jc(u,p,g,!1,T,L)}function Jc(u,p,g,T,L,j){if(!p)throw Error("Invalid event type");var B=c(L)?!!L.capture:!!L,we=zf(u);if(we||(u[Wi]=we=new Me(u)),g=we.add(p,g,T,B,j),g.proxy)return g;if(T=Zc(),g.proxy=T,T.src=u,T.listener=g,u.addEventListener)ie||(L=B),L===void 0&&(L=!1),u.addEventListener(p.toString(),T,L);else if(u.attachEvent)u.attachEvent(G_(p.toString()),T);else if(u.addListener&&u.removeListener)u.addListener(T);else throw Error("addEventListener and attachEvent are unavailable.");return g}function Zc(){function u(g){return p.call(u.src,u.listener,g)}const p=kN;return u}function fn(u,p,g,T,L){if(Array.isArray(p)){for(var j=0;j<p.length;j++)fn(u,p[j],g,T,L);return null}return g=Hf(g),u&&u[be]?u.L(p,g,c(T)?!!T.capture:!!T,L):Jc(u,p,g,!0,T,L)}function H_(u,p,g,T,L){if(Array.isArray(p))for(var j=0;j<p.length;j++)H_(u,p[j],g,T,L);else T=c(T)?!!T.capture:!!T,g=Hf(g),u&&u[be]?(u=u.i,p=String(p).toString(),p in u.g&&(j=u.g[p],g=Jn(j,g,T,L),-1<g&&(ee(j[g]),Array.prototype.splice.call(j,g,1),j.length==0&&(delete u.g[p],u.h--)))):u&&(u=zf(u))&&(p=u.g[p.toString()],u=-1,p&&(u=Jn(p,g,T,L)),(g=-1<u?p[u]:null)&&Bf(g))}function Bf(u){if(typeof u!="number"&&u&&!u.da){var p=u.src;if(p&&p[be])Vs(p.i,u);else{var g=u.type,T=u.proxy;p.removeEventListener?p.removeEventListener(g,T,u.capture):p.detachEvent?p.detachEvent(G_(g),T):p.addListener&&p.removeListener&&p.removeListener(T),(g=zf(p))?(Vs(g,u),g.h==0&&(g.src=null,p[Wi]=null)):ee(u)}}}function G_(u){return u in Rt?Rt[u]:Rt[u]="on"+u}function kN(u,p){if(u.da)u=!0;else{p=new ae(p,this);var g=u.listener,T=u.ha||u.src;u.fa&&Bf(u),u=g.call(T,p)}return u}function zf(u){return u=u[Wi],u instanceof Me?u:null}var Wf="__closure_events_fn_"+(1e9*Math.random()>>>0);function Hf(u){return typeof u=="function"?u:(u[Wf]||(u[Wf]=function(p){return u.handleEvent(p)}),u[Wf])}function vt(){H.call(this),this.i=new Me(this),this.M=this,this.F=null}v(vt,H),vt.prototype[be]=!0,vt.prototype.removeEventListener=function(u,p,g,T){H_(this,u,p,g,T)};function At(u,p){var g,T=u.F;if(T)for(g=[];T;T=T.F)g.push(T);if(u=u.M,T=p.type||p,typeof p=="string")p=new K(p,u);else if(p instanceof K)p.target=p.target||u;else{var L=p;p=new K(T,u),m(p,L)}if(L=!0,g)for(var j=g.length-1;0<=j;j--){var B=p.g=g[j];L=eu(B,T,!0,p)&&L}if(B=p.g=u,L=eu(B,T,!0,p)&&L,L=eu(B,T,!1,p)&&L,g)for(j=0;j<g.length;j++)B=p.g=g[j],L=eu(B,T,!1,p)&&L}vt.prototype.N=function(){if(vt.aa.N.call(this),this.i){var u=this.i,p;for(p in u.g){for(var g=u.g[p],T=0;T<g.length;T++)ee(g[T]);delete u.g[p],u.h--}}this.F=null},vt.prototype.K=function(u,p,g,T){return this.i.add(String(u),p,!1,g,T)},vt.prototype.L=function(u,p,g,T){return this.i.add(String(u),p,!0,g,T)};function eu(u,p,g,T){if(p=u.i.g[String(p)],!p)return!0;p=p.concat();for(var L=!0,j=0;j<p.length;++j){var B=p[j];if(B&&!B.da&&B.capture==g){var we=B.listener,ct=B.ha||B.src;B.fa&&Vs(u.i,B),L=we.call(ct,T)!==!1&&L}}return L&&!T.defaultPrevented}function K_(u,p,g){if(typeof u=="function")g&&(u=f(u,g));else if(u&&typeof u.handleEvent=="function")u=f(u.handleEvent,u);else throw Error("Invalid listener argument");return 2147483647<Number(p)?-1:a.setTimeout(u,p||0)}function q_(u){u.g=K_(()=>{u.g=null,u.i&&(u.i=!1,q_(u))},u.l);const p=u.h;u.h=null,u.m.apply(null,p)}class IN extends H{constructor(p,g){super(),this.m=p,this.l=g,this.h=null,this.i=!1,this.g=null}j(p){this.h=arguments,this.g?this.i=!0:q_(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function wa(u){H.call(this),this.h=u,this.g={}}v(wa,H);var Y_=[];function X_(u){M(u.g,function(p,g){this.g.hasOwnProperty(g)&&Bf(p)},u),u.g={}}wa.prototype.N=function(){wa.aa.N.call(this),X_(this)},wa.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Gf=a.JSON.stringify,PN=a.JSON.parse,RN=class{stringify(u){return a.JSON.stringify(u,void 0)}parse(u){return a.JSON.parse(u,void 0)}};function Kf(){}Kf.prototype.h=null;function Q_(u){return u.h||(u.h=u.i())}function AN(){}var xa={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function qf(){K.call(this,"d")}v(qf,K);function Yf(){K.call(this,"c")}v(Yf,K);var Bs={},J_=null;function Xf(){return J_=J_||new vt}Bs.La="serverreachability";function Z_(u){K.call(this,Bs.La,u)}v(Z_,K);function Ea(u){const p=Xf();At(p,new Z_(p))}Bs.STAT_EVENT="statevent";function ew(u,p){K.call(this,Bs.STAT_EVENT,u),this.stat=p}v(ew,K);function Nt(u){const p=Xf();At(p,new ew(p,u))}Bs.Ma="timingevent";function tw(u,p){K.call(this,Bs.Ma,u),this.size=p}v(tw,K);function Ca(u,p){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){u()},p)}function Sa(){this.g=!0}Sa.prototype.xa=function(){this.g=!1};function NN(u,p,g,T,L,j){u.info(function(){if(u.g)if(j)for(var B="",we=j.split("&"),ct=0;ct<we.length;ct++){var he=we[ct].split("=");if(1<he.length){var _t=he[0];he=he[1];var wt=_t.split("_");B=2<=wt.length&&wt[1]=="type"?B+(_t+"="+he+"&"):B+(_t+"=redacted&")}}else B=null;else B=j;return"XMLHTTP REQ ("+T+") [attempt "+L+"]: "+p+`
`+g+`
`+B})}function DN(u,p,g,T,L,j,B){u.info(function(){return"XMLHTTP RESP ("+T+") [ attempt "+L+"]: "+p+`
`+g+`
`+j+" "+B})}function zs(u,p,g,T){u.info(function(){return"XMLHTTP TEXT ("+p+"): "+MN(u,g)+(T?" "+T:"")})}function ON(u,p){u.info(function(){return"TIMEOUT: "+p})}Sa.prototype.info=function(){};function MN(u,p){if(!u.g)return p;if(!p)return null;try{var g=JSON.parse(p);if(g){for(u=0;u<g.length;u++)if(Array.isArray(g[u])){var T=g[u];if(!(2>T.length)){var L=T[1];if(Array.isArray(L)&&!(1>L.length)){var j=L[0];if(j!="noop"&&j!="stop"&&j!="close")for(var B=1;B<L.length;B++)L[B]=""}}}}return Gf(g)}catch{return p}}var Qf={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},LN={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Jf;function tu(){}v(tu,Kf),tu.prototype.g=function(){return new XMLHttpRequest},tu.prototype.i=function(){return{}},Jf=new tu;function Jr(u,p,g,T){this.j=u,this.i=p,this.l=g,this.R=T||1,this.U=new wa(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new nw}function nw(){this.i=null,this.g="",this.h=!1}var rw={},Zf={};function ep(u,p,g){u.L=1,u.v=su(_r(p)),u.m=g,u.P=!0,iw(u,null)}function iw(u,p){u.F=Date.now(),nu(u),u.A=_r(u.v);var g=u.A,T=u.R;Array.isArray(T)||(T=[String(T)]),vw(g.i,"t",T),u.C=0,g=u.j.J,u.h=new nw,u.g=Lw(u.j,g?p:null,!u.m),0<u.O&&(u.M=new IN(f(u.Y,u,u.g),u.O)),p=u.U,g=u.g,T=u.ca;var L="readystatechange";Array.isArray(L)||(L&&(Y_[0]=L.toString()),L=Y_);for(var j=0;j<L.length;j++){var B=Hi(g,L[j],T||p.handleEvent,!1,p.h||p);if(!B)break;p.g[B.key]=B}p=u.H?E(u.H):{},u.m?(u.u||(u.u="POST"),p["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.A,u.u,u.m,p)):(u.u="GET",u.g.ea(u.A,u.u,null,p)),Ea(),NN(u.i,u.u,u.A,u.l,u.R,u.m)}Jr.prototype.ca=function(u){u=u.target;const p=this.M;p&&wr(u)==3?p.j():this.Y(u)},Jr.prototype.Y=function(u){try{if(u==this.g)e:{const wt=wr(this.g);var p=this.g.Ba();const Gs=this.g.Z();if(!(3>wt)&&(wt!=3||this.g&&(this.h.h||this.g.oa()||bw(this.g)))){this.J||wt!=4||p==7||(p==8||0>=Gs?Ea(3):Ea(2)),tp(this);var g=this.g.Z();this.X=g;t:if(sw(this)){var T=bw(this.g);u="";var L=T.length,j=wr(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Gi(this),ba(this);var B="";break t}this.h.i=new a.TextDecoder}for(p=0;p<L;p++)this.h.h=!0,u+=this.h.i.decode(T[p],{stream:!(j&&p==L-1)});T.length=0,this.h.g+=u,this.C=0,B=this.h.g}else B=this.g.oa();if(this.o=g==200,DN(this.i,this.u,this.A,this.l,this.R,wt,g),this.o){if(this.T&&!this.K){t:{if(this.g){var we,ct=this.g;if((we=ct.g?ct.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!C(we)){var he=we;break t}}he=null}if(g=he)zs(this.i,this.l,g,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,np(this,g);else{this.o=!1,this.s=3,Nt(12),Gi(this),ba(this);break e}}if(this.P){g=!0;let Nn;for(;!this.J&&this.C<B.length;)if(Nn=jN(this,B),Nn==Zf){wt==4&&(this.s=4,Nt(14),g=!1),zs(this.i,this.l,null,"[Incomplete Response]");break}else if(Nn==rw){this.s=4,Nt(15),zs(this.i,this.l,B,"[Invalid Chunk]"),g=!1;break}else zs(this.i,this.l,Nn,null),np(this,Nn);if(sw(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),wt!=4||B.length!=0||this.h.h||(this.s=1,Nt(16),g=!1),this.o=this.o&&g,!g)zs(this.i,this.l,B,"[Invalid Chunked Response]"),Gi(this),ba(this);else if(0<B.length&&!this.W){this.W=!0;var _t=this.j;_t.g==this&&_t.ba&&!_t.M&&(_t.j.info("Great, no buffering proxy detected. Bytes received: "+B.length),lp(_t),_t.M=!0,Nt(11))}}else zs(this.i,this.l,B,null),np(this,B);wt==4&&Gi(this),this.o&&!this.J&&(wt==4?Nw(this.j,this):(this.o=!1,nu(this)))}else e2(this.g),g==400&&0<B.indexOf("Unknown SID")?(this.s=3,Nt(12)):(this.s=0,Nt(13)),Gi(this),ba(this)}}}catch{}finally{}};function sw(u){return u.g?u.u=="GET"&&u.L!=2&&u.j.Ca:!1}function jN(u,p){var g=u.C,T=p.indexOf(`
`,g);return T==-1?Zf:(g=Number(p.substring(g,T)),isNaN(g)?rw:(T+=1,T+g>p.length?Zf:(p=p.slice(T,T+g),u.C=T+g,p)))}Jr.prototype.cancel=function(){this.J=!0,Gi(this)};function nu(u){u.S=Date.now()+u.I,ow(u,u.I)}function ow(u,p){if(u.B!=null)throw Error("WatchDog timer not null");u.B=Ca(f(u.ba,u),p)}function tp(u){u.B&&(a.clearTimeout(u.B),u.B=null)}Jr.prototype.ba=function(){this.B=null;const u=Date.now();0<=u-this.S?(ON(this.i,this.A),this.L!=2&&(Ea(),Nt(17)),Gi(this),this.s=2,ba(this)):ow(this,this.S-u)};function ba(u){u.j.G==0||u.J||Nw(u.j,u)}function Gi(u){tp(u);var p=u.M;p&&typeof p.ma=="function"&&p.ma(),u.M=null,X_(u.U),u.g&&(p=u.g,u.g=null,p.abort(),p.ma())}function np(u,p){try{var g=u.j;if(g.G!=0&&(g.g==u||rp(g.h,u))){if(!u.K&&rp(g.h,u)&&g.G==3){try{var T=g.Da.g.parse(p)}catch{T=null}if(Array.isArray(T)&&T.length==3){var L=T;if(L[0]==0){e:if(!g.u){if(g.g)if(g.g.F+3e3<u.F)du(g),cu(g);else break e;ap(g),Nt(18)}}else g.za=L[1],0<g.za-g.T&&37500>L[2]&&g.F&&g.v==0&&!g.C&&(g.C=Ca(f(g.Za,g),6e3));if(1>=cw(g.h)&&g.ca){try{g.ca()}catch{}g.ca=void 0}}else qi(g,11)}else if((u.K||g.g==u)&&du(g),!C(p))for(L=g.Da.g.parse(p),p=0;p<L.length;p++){let he=L[p];if(g.T=he[0],he=he[1],g.G==2)if(he[0]=="c"){g.K=he[1],g.ia=he[2];const _t=he[3];_t!=null&&(g.la=_t,g.j.info("VER="+g.la));const wt=he[4];wt!=null&&(g.Aa=wt,g.j.info("SVER="+g.Aa));const Gs=he[5];Gs!=null&&typeof Gs=="number"&&0<Gs&&(T=1.5*Gs,g.L=T,g.j.info("backChannelRequestTimeoutMs_="+T)),T=g;const Nn=u.g;if(Nn){const hu=Nn.g?Nn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(hu){var j=T.h;j.g||hu.indexOf("spdy")==-1&&hu.indexOf("quic")==-1&&hu.indexOf("h2")==-1||(j.j=j.l,j.g=new Set,j.h&&(ip(j,j.h),j.h=null))}if(T.D){const cp=Nn.g?Nn.g.getResponseHeader("X-HTTP-Session-Id"):null;cp&&(T.ya=cp,Pe(T.I,T.D,cp))}}g.G=3,g.l&&g.l.ua(),g.ba&&(g.R=Date.now()-u.F,g.j.info("Handshake RTT: "+g.R+"ms")),T=g;var B=u;if(T.qa=Mw(T,T.J?T.ia:null,T.W),B.K){uw(T.h,B);var we=B,ct=T.L;ct&&(we.I=ct),we.B&&(tp(we),nu(we)),T.g=B}else Rw(T);0<g.i.length&&uu(g)}else he[0]!="stop"&&he[0]!="close"||qi(g,7);else g.G==3&&(he[0]=="stop"||he[0]=="close"?he[0]=="stop"?qi(g,7):op(g):he[0]!="noop"&&g.l&&g.l.ta(he),g.v=0)}}Ea(4)}catch{}}var FN=class{constructor(u,p){this.g=u,this.map=p}};function aw(u){this.l=u||10,a.PerformanceNavigationTiming?(u=a.performance.getEntriesByType("navigation"),u=0<u.length&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function lw(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function cw(u){return u.h?1:u.g?u.g.size:0}function rp(u,p){return u.h?u.h==p:u.g?u.g.has(p):!1}function ip(u,p){u.g?u.g.add(p):u.h=p}function uw(u,p){u.h&&u.h==p?u.h=null:u.g&&u.g.has(p)&&u.g.delete(p)}aw.prototype.cancel=function(){if(this.i=dw(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function dw(u){if(u.h!=null)return u.i.concat(u.h.D);if(u.g!=null&&u.g.size!==0){let p=u.i;for(const g of u.g.values())p=p.concat(g.D);return p}return b(u.i)}function $N(u){if(u.V&&typeof u.V=="function")return u.V();if(typeof Map<"u"&&u instanceof Map||typeof Set<"u"&&u instanceof Set)return Array.from(u.values());if(typeof u=="string")return u.split("");if(l(u)){for(var p=[],g=u.length,T=0;T<g;T++)p.push(u[T]);return p}p=[],g=0;for(T in u)p[g++]=u[T];return p}function UN(u){if(u.na&&typeof u.na=="function")return u.na();if(!u.V||typeof u.V!="function"){if(typeof Map<"u"&&u instanceof Map)return Array.from(u.keys());if(!(typeof Set<"u"&&u instanceof Set)){if(l(u)||typeof u=="string"){var p=[];u=u.length;for(var g=0;g<u;g++)p.push(g);return p}p=[],g=0;for(const T in u)p[g++]=T;return p}}}function hw(u,p){if(u.forEach&&typeof u.forEach=="function")u.forEach(p,void 0);else if(l(u)||typeof u=="string")Array.prototype.forEach.call(u,p,void 0);else for(var g=UN(u),T=$N(u),L=T.length,j=0;j<L;j++)p.call(void 0,T[j],g&&g[j],u)}var fw=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function VN(u,p){if(u){u=u.split("&");for(var g=0;g<u.length;g++){var T=u[g].indexOf("="),L=null;if(0<=T){var j=u[g].substring(0,T);L=u[g].substring(T+1)}else j=u[g];p(j,L?decodeURIComponent(L.replace(/\+/g," ")):"")}}}function Ki(u){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,u instanceof Ki){this.h=u.h,ru(this,u.j),this.o=u.o,this.g=u.g,iu(this,u.s),this.l=u.l;var p=u.i,g=new Ia;g.i=p.i,p.g&&(g.g=new Map(p.g),g.h=p.h),pw(this,g),this.m=u.m}else u&&(p=String(u).match(fw))?(this.h=!1,ru(this,p[1]||"",!0),this.o=Ta(p[2]||""),this.g=Ta(p[3]||"",!0),iu(this,p[4]),this.l=Ta(p[5]||"",!0),pw(this,p[6]||"",!0),this.m=Ta(p[7]||"")):(this.h=!1,this.i=new Ia(null,this.h))}Ki.prototype.toString=function(){var u=[],p=this.j;p&&u.push(ka(p,mw,!0),":");var g=this.g;return(g||p=="file")&&(u.push("//"),(p=this.o)&&u.push(ka(p,mw,!0),"@"),u.push(encodeURIComponent(String(g)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),g=this.s,g!=null&&u.push(":",String(g))),(g=this.l)&&(this.g&&g.charAt(0)!="/"&&u.push("/"),u.push(ka(g,g.charAt(0)=="/"?WN:zN,!0))),(g=this.i.toString())&&u.push("?",g),(g=this.m)&&u.push("#",ka(g,GN)),u.join("")};function _r(u){return new Ki(u)}function ru(u,p,g){u.j=g?Ta(p,!0):p,u.j&&(u.j=u.j.replace(/:$/,""))}function iu(u,p){if(p){if(p=Number(p),isNaN(p)||0>p)throw Error("Bad port number "+p);u.s=p}else u.s=null}function pw(u,p,g){p instanceof Ia?(u.i=p,KN(u.i,u.h)):(g||(p=ka(p,HN)),u.i=new Ia(p,u.h))}function Pe(u,p,g){u.i.set(p,g)}function su(u){return Pe(u,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),u}function Ta(u,p){return u?p?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function ka(u,p,g){return typeof u=="string"?(u=encodeURI(u).replace(p,BN),g&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function BN(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var mw=/[#\/\?@]/g,zN=/[#\?:]/g,WN=/[#\?]/g,HN=/[#\?@]/g,GN=/#/g;function Ia(u,p){this.h=this.g=null,this.i=u||null,this.j=!!p}function Zr(u){u.g||(u.g=new Map,u.h=0,u.i&&VN(u.i,function(p,g){u.add(decodeURIComponent(p.replace(/\+/g," ")),g)}))}t=Ia.prototype,t.add=function(u,p){Zr(this),this.i=null,u=Ws(this,u);var g=this.g.get(u);return g||this.g.set(u,g=[]),g.push(p),this.h+=1,this};function gw(u,p){Zr(u),p=Ws(u,p),u.g.has(p)&&(u.i=null,u.h-=u.g.get(p).length,u.g.delete(p))}function yw(u,p){return Zr(u),p=Ws(u,p),u.g.has(p)}t.forEach=function(u,p){Zr(this),this.g.forEach(function(g,T){g.forEach(function(L){u.call(p,L,T,this)},this)},this)},t.na=function(){Zr(this);const u=Array.from(this.g.values()),p=Array.from(this.g.keys()),g=[];for(let T=0;T<p.length;T++){const L=u[T];for(let j=0;j<L.length;j++)g.push(p[T])}return g},t.V=function(u){Zr(this);let p=[];if(typeof u=="string")yw(this,u)&&(p=p.concat(this.g.get(Ws(this,u))));else{u=Array.from(this.g.values());for(let g=0;g<u.length;g++)p=p.concat(u[g])}return p},t.set=function(u,p){return Zr(this),this.i=null,u=Ws(this,u),yw(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[p]),this.h+=1,this},t.get=function(u,p){return u?(u=this.V(u),0<u.length?String(u[0]):p):p};function vw(u,p,g){gw(u,p),0<g.length&&(u.i=null,u.g.set(Ws(u,p),b(g)),u.h+=g.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],p=Array.from(this.g.keys());for(var g=0;g<p.length;g++){var T=p[g];const j=encodeURIComponent(String(T)),B=this.V(T);for(T=0;T<B.length;T++){var L=j;B[T]!==""&&(L+="="+encodeURIComponent(String(B[T]))),u.push(L)}}return this.i=u.join("&")};function Ws(u,p){return p=String(p),u.j&&(p=p.toLowerCase()),p}function KN(u,p){p&&!u.j&&(Zr(u),u.i=null,u.g.forEach(function(g,T){var L=T.toLowerCase();T!=L&&(gw(this,T),vw(this,L,g))},u)),u.j=p}function qN(u,p){const g=new Sa;if(a.Image){const T=new Image;T.onload=y(ei,g,"TestLoadImage: loaded",!0,p,T),T.onerror=y(ei,g,"TestLoadImage: error",!1,p,T),T.onabort=y(ei,g,"TestLoadImage: abort",!1,p,T),T.ontimeout=y(ei,g,"TestLoadImage: timeout",!1,p,T),a.setTimeout(function(){T.ontimeout&&T.ontimeout()},1e4),T.src=u}else p(!1)}function YN(u,p){const g=new Sa,T=new AbortController,L=setTimeout(()=>{T.abort(),ei(g,"TestPingServer: timeout",!1,p)},1e4);fetch(u,{signal:T.signal}).then(j=>{clearTimeout(L),j.ok?ei(g,"TestPingServer: ok",!0,p):ei(g,"TestPingServer: server error",!1,p)}).catch(()=>{clearTimeout(L),ei(g,"TestPingServer: error",!1,p)})}function ei(u,p,g,T,L){try{L&&(L.onload=null,L.onerror=null,L.onabort=null,L.ontimeout=null),T(g)}catch{}}function XN(){this.g=new RN}function QN(u,p,g){const T=g||"";try{hw(u,function(L,j){let B=L;c(L)&&(B=Gf(L)),p.push(T+j+"="+encodeURIComponent(B))})}catch(L){throw p.push(T+"type="+encodeURIComponent("_badmap")),L}}function ou(u){this.l=u.Ub||null,this.j=u.eb||!1}v(ou,Kf),ou.prototype.g=function(){return new au(this.l,this.j)},ou.prototype.i=function(u){return function(){return u}}({});function au(u,p){vt.call(this),this.D=u,this.o=p,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}v(au,vt),t=au.prototype,t.open=function(u,p){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=u,this.A=p,this.readyState=1,Ra(this)},t.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const p={headers:this.u,method:this.B,credentials:this.m,cache:void 0};u&&(p.body=u),(this.D||a).fetch(new Request(this.A,p)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Pa(this)),this.readyState=0},t.Sa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,Ra(this)),this.g&&(this.readyState=3,Ra(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;_w(this)}else u.text().then(this.Ra.bind(this),this.ga.bind(this))};function _w(u){u.j.read().then(u.Pa.bind(u)).catch(u.ga.bind(u))}t.Pa=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var p=u.value?u.value:new Uint8Array(0);(p=this.v.decode(p,{stream:!u.done}))&&(this.response=this.responseText+=p)}u.done?Pa(this):Ra(this),this.readyState==3&&_w(this)}},t.Ra=function(u){this.g&&(this.response=this.responseText=u,Pa(this))},t.Qa=function(u){this.g&&(this.response=u,Pa(this))},t.ga=function(){this.g&&Pa(this)};function Pa(u){u.readyState=4,u.l=null,u.j=null,u.v=null,Ra(u)}t.setRequestHeader=function(u,p){this.u.append(u,p)},t.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],p=this.h.entries();for(var g=p.next();!g.done;)g=g.value,u.push(g[0]+": "+g[1]),g=p.next();return u.join(`\r
`)};function Ra(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(au.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function ww(u){let p="";return M(u,function(g,T){p+=T,p+=":",p+=g,p+=`\r
`}),p}function sp(u,p,g){e:{for(T in g){var T=!1;break e}T=!0}T||(g=ww(g),typeof u=="string"?g!=null&&encodeURIComponent(String(g)):Pe(u,p,g))}function Ke(u){vt.call(this),this.headers=new Map,this.o=u||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}v(Ke,vt);var JN=/^https?$/i,ZN=["POST","PUT"];t=Ke.prototype,t.Ha=function(u){this.J=u},t.ea=function(u,p,g,T){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);p=p?p.toUpperCase():"GET",this.D=u,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Jf.g(),this.v=this.o?Q_(this.o):Q_(Jf),this.g.onreadystatechange=f(this.Ea,this);try{this.B=!0,this.g.open(p,String(u),!0),this.B=!1}catch(j){xw(this,j);return}if(u=g||"",g=new Map(this.headers),T)if(Object.getPrototypeOf(T)===Object.prototype)for(var L in T)g.set(L,T[L]);else if(typeof T.keys=="function"&&typeof T.get=="function")for(const j of T.keys())g.set(j,T.get(j));else throw Error("Unknown input type for opt_headers: "+String(T));T=Array.from(g.keys()).find(j=>j.toLowerCase()=="content-type"),L=a.FormData&&u instanceof a.FormData,!(0<=Array.prototype.indexOf.call(ZN,p,void 0))||T||L||g.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[j,B]of g)this.g.setRequestHeader(j,B);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Sw(this),this.u=!0,this.g.send(u),this.u=!1}catch(j){xw(this,j)}};function xw(u,p){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=p,u.m=5,Ew(u),lu(u)}function Ew(u){u.A||(u.A=!0,At(u,"complete"),At(u,"error"))}t.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=u||7,At(this,"complete"),At(this,"abort"),lu(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),lu(this,!0)),Ke.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?Cw(this):this.bb())},t.bb=function(){Cw(this)};function Cw(u){if(u.h&&typeof o<"u"&&(!u.v[1]||wr(u)!=4||u.Z()!=2)){if(u.u&&wr(u)==4)K_(u.Ea,0,u);else if(At(u,"readystatechange"),wr(u)==4){u.h=!1;try{const B=u.Z();e:switch(B){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var p=!0;break e;default:p=!1}var g;if(!(g=p)){var T;if(T=B===0){var L=String(u.D).match(fw)[1]||null;!L&&a.self&&a.self.location&&(L=a.self.location.protocol.slice(0,-1)),T=!JN.test(L?L.toLowerCase():"")}g=T}if(g)At(u,"complete"),At(u,"success");else{u.m=6;try{var j=2<wr(u)?u.g.statusText:""}catch{j=""}u.l=j+" ["+u.Z()+"]",Ew(u)}}finally{lu(u)}}}}function lu(u,p){if(u.g){Sw(u);const g=u.g,T=u.v[0]?()=>{}:null;u.g=null,u.v=null,p||At(u,"ready");try{g.onreadystatechange=T}catch{}}}function Sw(u){u.I&&(a.clearTimeout(u.I),u.I=null)}t.isActive=function(){return!!this.g};function wr(u){return u.g?u.g.readyState:0}t.Z=function(){try{return 2<wr(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(u){if(this.g){var p=this.g.responseText;return u&&p.indexOf(u)==0&&(p=p.substring(u.length)),PN(p)}};function bw(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.H){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function e2(u){const p={};u=(u.g&&2<=wr(u)&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let T=0;T<u.length;T++){if(C(u[T]))continue;var g=R(u[T]);const L=g[0];if(g=g[1],typeof g!="string")continue;g=g.trim();const j=p[L]||[];p[L]=j,j.push(g)}S(p,function(T){return T.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Aa(u,p,g){return g&&g.internalChannelParams&&g.internalChannelParams[u]||p}function Tw(u){this.Aa=0,this.i=[],this.j=new Sa,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Aa("failFast",!1,u),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Aa("baseRetryDelayMs",5e3,u),this.cb=Aa("retryDelaySeedMs",1e4,u),this.Wa=Aa("forwardChannelMaxRetries",2,u),this.wa=Aa("forwardChannelRequestTimeoutMs",2e4,u),this.pa=u&&u.xmlHttpFactory||void 0,this.Xa=u&&u.Tb||void 0,this.Ca=u&&u.useFetchStreams||!1,this.L=void 0,this.J=u&&u.supportsCrossDomainXhr||!1,this.K="",this.h=new aw(u&&u.concurrentRequestLimit),this.Da=new XN,this.P=u&&u.fastHandshake||!1,this.O=u&&u.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=u&&u.Rb||!1,u&&u.xa&&this.j.xa(),u&&u.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&u&&u.detectBufferingProxy||!1,this.ja=void 0,u&&u.longPollingTimeout&&0<u.longPollingTimeout&&(this.ja=u.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=Tw.prototype,t.la=8,t.G=1,t.connect=function(u,p,g,T){Nt(0),this.W=u,this.H=p||{},g&&T!==void 0&&(this.H.OSID=g,this.H.OAID=T),this.F=this.X,this.I=Mw(this,null,this.W),uu(this)};function op(u){if(kw(u),u.G==3){var p=u.U++,g=_r(u.I);if(Pe(g,"SID",u.K),Pe(g,"RID",p),Pe(g,"TYPE","terminate"),Na(u,g),p=new Jr(u,u.j,p),p.L=2,p.v=su(_r(g)),g=!1,a.navigator&&a.navigator.sendBeacon)try{g=a.navigator.sendBeacon(p.v.toString(),"")}catch{}!g&&a.Image&&(new Image().src=p.v,g=!0),g||(p.g=Lw(p.j,null),p.g.ea(p.v)),p.F=Date.now(),nu(p)}Ow(u)}function cu(u){u.g&&(lp(u),u.g.cancel(),u.g=null)}function kw(u){cu(u),u.u&&(a.clearTimeout(u.u),u.u=null),du(u),u.h.cancel(),u.s&&(typeof u.s=="number"&&a.clearTimeout(u.s),u.s=null)}function uu(u){if(!lw(u.h)&&!u.s){u.s=!0;var p=u.Ga;te||Q(),V||(te(),V=!0),Y.add(p,u),u.B=0}}function t2(u,p){return cw(u.h)>=u.h.j-(u.s?1:0)?!1:u.s?(u.i=p.D.concat(u.i),!0):u.G==1||u.G==2||u.B>=(u.Va?0:u.Wa)?!1:(u.s=Ca(f(u.Ga,u,p),Dw(u,u.B)),u.B++,!0)}t.Ga=function(u){if(this.s)if(this.s=null,this.G==1){if(!u){this.U=Math.floor(1e5*Math.random()),u=this.U++;const L=new Jr(this,this.j,u);let j=this.o;if(this.S&&(j?(j=E(j),m(j,this.S)):j=this.S),this.m!==null||this.O||(L.H=j,j=null),this.P)e:{for(var p=0,g=0;g<this.i.length;g++){t:{var T=this.i[g];if("__data__"in T.map&&(T=T.map.__data__,typeof T=="string")){T=T.length;break t}T=void 0}if(T===void 0)break;if(p+=T,4096<p){p=g;break e}if(p===4096||g===this.i.length-1){p=g+1;break e}}p=1e3}else p=1e3;p=Pw(this,L,p),g=_r(this.I),Pe(g,"RID",u),Pe(g,"CVER",22),this.D&&Pe(g,"X-HTTP-Session-Id",this.D),Na(this,g),j&&(this.O?p="headers="+encodeURIComponent(String(ww(j)))+"&"+p:this.m&&sp(g,this.m,j)),ip(this.h,L),this.Ua&&Pe(g,"TYPE","init"),this.P?(Pe(g,"$req",p),Pe(g,"SID","null"),L.T=!0,ep(L,g,null)):ep(L,g,p),this.G=2}}else this.G==3&&(u?Iw(this,u):this.i.length==0||lw(this.h)||Iw(this))};function Iw(u,p){var g;p?g=p.l:g=u.U++;const T=_r(u.I);Pe(T,"SID",u.K),Pe(T,"RID",g),Pe(T,"AID",u.T),Na(u,T),u.m&&u.o&&sp(T,u.m,u.o),g=new Jr(u,u.j,g,u.B+1),u.m===null&&(g.H=u.o),p&&(u.i=p.D.concat(u.i)),p=Pw(u,g,1e3),g.I=Math.round(.5*u.wa)+Math.round(.5*u.wa*Math.random()),ip(u.h,g),ep(g,T,p)}function Na(u,p){u.H&&M(u.H,function(g,T){Pe(p,T,g)}),u.l&&hw({},function(g,T){Pe(p,T,g)})}function Pw(u,p,g){g=Math.min(u.i.length,g);var T=u.l?f(u.l.Na,u.l,u):null;e:{var L=u.i;let j=-1;for(;;){const B=["count="+g];j==-1?0<g?(j=L[0].g,B.push("ofs="+j)):j=0:B.push("ofs="+j);let we=!0;for(let ct=0;ct<g;ct++){let he=L[ct].g;const _t=L[ct].map;if(he-=j,0>he)j=Math.max(0,L[ct].g-100),we=!1;else try{QN(_t,B,"req"+he+"_")}catch{T&&T(_t)}}if(we){T=B.join("&");break e}}}return u=u.i.splice(0,g),p.D=u,T}function Rw(u){if(!u.g&&!u.u){u.Y=1;var p=u.Fa;te||Q(),V||(te(),V=!0),Y.add(p,u),u.v=0}}function ap(u){return u.g||u.u||3<=u.v?!1:(u.Y++,u.u=Ca(f(u.Fa,u),Dw(u,u.v)),u.v++,!0)}t.Fa=function(){if(this.u=null,Aw(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var u=2*this.R;this.j.info("BP detection timer enabled: "+u),this.A=Ca(f(this.ab,this),u)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Nt(10),cu(this),Aw(this))};function lp(u){u.A!=null&&(a.clearTimeout(u.A),u.A=null)}function Aw(u){u.g=new Jr(u,u.j,"rpc",u.Y),u.m===null&&(u.g.H=u.o),u.g.O=0;var p=_r(u.qa);Pe(p,"RID","rpc"),Pe(p,"SID",u.K),Pe(p,"AID",u.T),Pe(p,"CI",u.F?"0":"1"),!u.F&&u.ja&&Pe(p,"TO",u.ja),Pe(p,"TYPE","xmlhttp"),Na(u,p),u.m&&u.o&&sp(p,u.m,u.o),u.L&&(u.g.I=u.L);var g=u.g;u=u.ia,g.L=1,g.v=su(_r(p)),g.m=null,g.P=!0,iw(g,u)}t.Za=function(){this.C!=null&&(this.C=null,cu(this),ap(this),Nt(19))};function du(u){u.C!=null&&(a.clearTimeout(u.C),u.C=null)}function Nw(u,p){var g=null;if(u.g==p){du(u),lp(u),u.g=null;var T=2}else if(rp(u.h,p))g=p.D,uw(u.h,p),T=1;else return;if(u.G!=0){if(p.o)if(T==1){g=p.m?p.m.length:0,p=Date.now()-p.F;var L=u.B;T=Xf(),At(T,new tw(T,g)),uu(u)}else Rw(u);else if(L=p.s,L==3||L==0&&0<p.X||!(T==1&&t2(u,p)||T==2&&ap(u)))switch(g&&0<g.length&&(p=u.h,p.i=p.i.concat(g)),L){case 1:qi(u,5);break;case 4:qi(u,10);break;case 3:qi(u,6);break;default:qi(u,2)}}}function Dw(u,p){let g=u.Ta+Math.floor(Math.random()*u.cb);return u.isActive()||(g*=2),g*p}function qi(u,p){if(u.j.info("Error code "+p),p==2){var g=f(u.fb,u),T=u.Xa;const L=!T;T=new Ki(T||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||ru(T,"https"),su(T),L?qN(T.toString(),g):YN(T.toString(),g)}else Nt(2);u.G=0,u.l&&u.l.sa(p),Ow(u),kw(u)}t.fb=function(u){u?(this.j.info("Successfully pinged google.com"),Nt(2)):(this.j.info("Failed to ping google.com"),Nt(1))};function Ow(u){if(u.G=0,u.ka=[],u.l){const p=dw(u.h);(p.length!=0||u.i.length!=0)&&(P(u.ka,p),P(u.ka,u.i),u.h.i.length=0,b(u.i),u.i.length=0),u.l.ra()}}function Mw(u,p,g){var T=g instanceof Ki?_r(g):new Ki(g);if(T.g!="")p&&(T.g=p+"."+T.g),iu(T,T.s);else{var L=a.location;T=L.protocol,p=p?p+"."+L.hostname:L.hostname,L=+L.port;var j=new Ki(null);T&&ru(j,T),p&&(j.g=p),L&&iu(j,L),g&&(j.l=g),T=j}return g=u.D,p=u.ya,g&&p&&Pe(T,g,p),Pe(T,"VER",u.la),Na(u,T),T}function Lw(u,p,g){if(p&&!u.J)throw Error("Can't create secondary domain capable XhrIo object.");return p=u.Ca&&!u.pa?new Ke(new ou({eb:g})):new Ke(u.pa),p.Ha(u.J),p}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function jw(){}t=jw.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function pn(u,p){vt.call(this),this.g=new Tw(p),this.l=u,this.h=p&&p.messageUrlParams||null,u=p&&p.messageHeaders||null,p&&p.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=p&&p.initMessageHeaders||null,p&&p.messageContentType&&(u?u["X-WebChannel-Content-Type"]=p.messageContentType:u={"X-WebChannel-Content-Type":p.messageContentType}),p&&p.va&&(u?u["X-WebChannel-Client-Profile"]=p.va:u={"X-WebChannel-Client-Profile":p.va}),this.g.S=u,(u=p&&p.Sb)&&!C(u)&&(this.g.m=u),this.v=p&&p.supportsCrossDomainXhr||!1,this.u=p&&p.sendRawJson||!1,(p=p&&p.httpSessionIdParam)&&!C(p)&&(this.g.D=p,u=this.h,u!==null&&p in u&&(u=this.h,p in u&&delete u[p])),this.j=new Hs(this)}v(pn,vt),pn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},pn.prototype.close=function(){op(this.g)},pn.prototype.o=function(u){var p=this.g;if(typeof u=="string"){var g={};g.__data__=u,u=g}else this.u&&(g={},g.__data__=Gf(u),u=g);p.i.push(new FN(p.Ya++,u)),p.G==3&&uu(p)},pn.prototype.N=function(){this.g.l=null,delete this.j,op(this.g),delete this.g,pn.aa.N.call(this)};function Fw(u){qf.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var p=u.__sm__;if(p){e:{for(const g in p){u=g;break e}u=void 0}(this.i=u)&&(u=this.i,p=p!==null&&u in p?p[u]:void 0),this.data=p}else this.data=u}v(Fw,qf);function $w(){Yf.call(this),this.status=1}v($w,Yf);function Hs(u){this.g=u}v(Hs,jw),Hs.prototype.ua=function(){At(this.g,"a")},Hs.prototype.ta=function(u){At(this.g,new Fw(u))},Hs.prototype.sa=function(u){At(this.g,new $w)},Hs.prototype.ra=function(){At(this.g,"b")},pn.prototype.send=pn.prototype.o,pn.prototype.open=pn.prototype.m,pn.prototype.close=pn.prototype.close,Qf.NO_ERROR=0,Qf.TIMEOUT=8,Qf.HTTP_ERROR=6,LN.COMPLETE="complete",AN.EventType=xa,xa.OPEN="a",xa.CLOSE="b",xa.ERROR="c",xa.MESSAGE="d",vt.prototype.listen=vt.prototype.K,Ke.prototype.listenOnce=Ke.prototype.L,Ke.prototype.getLastError=Ke.prototype.Ka,Ke.prototype.getLastErrorCode=Ke.prototype.Ba,Ke.prototype.getStatus=Ke.prototype.Z,Ke.prototype.getResponseJson=Ke.prototype.Oa,Ke.prototype.getResponseText=Ke.prototype.oa,Ke.prototype.send=Ke.prototype.ea,Ke.prototype.setWithCredentials=Ke.prototype.Ha}).apply(typeof Lu<"u"?Lu:typeof self<"u"?self:typeof window<"u"?window:{});const kE="@firebase/firestore",IE="4.7.14";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ot{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Ot.UNAUTHENTICATED=new Ot(null),Ot.GOOGLE_CREDENTIALS=new Ot("google-credentials-uid"),Ot.FIRST_PARTY=new Ot("first-party-uid"),Ot.MOCK_USER=new Ot("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Vc="11.7.3";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xo=new Qh("@firebase/firestore");function Bn(t,...e){if(Xo.logLevel<=ge.DEBUG){const n=e.map(z0);Xo.debug(`Firestore (${Vc}): ${t}`,...n)}}function XP(t,...e){if(Xo.logLevel<=ge.ERROR){const n=e.map(z0);Xo.error(`Firestore (${Vc}): ${t}`,...n)}}function xV(t,...e){if(Xo.logLevel<=ge.WARN){const n=e.map(z0);Xo.warn(`Firestore (${Vc}): ${t}`,...n)}}function z0(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QP(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,JP(t,r,n)}function JP(t,e,n){let r=`FIRESTORE (${Vc}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw XP(r),new Error(r)}function Sl(t,e,n,r){let i="Unexpected state";typeof n=="string"?i=n:r=n,t||JP(e,i,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ht={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Gt extends Qn{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bl{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZP{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class EV{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Ot.UNAUTHENTICATED))}shutdown(){}}class CV{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class SV{constructor(e){this.t=e,this.currentUser=Ot.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Sl(this.o===void 0,42304);let r=this.i;const i=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let s=new bl;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new bl,e.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const l=s;e.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},a=l=>{Bn("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(Bn("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new bl)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(Bn("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Sl(typeof r.accessToken=="string",31837,{l:r}),new ZP(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Sl(e===null||typeof e=="string",2055,{h:e}),new Ot(e)}}class bV{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=Ot.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class TV{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new bV(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(Ot.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class PE{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class kV{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Mt(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Sl(this.o===void 0,3512);const r=s=>{s.error!=null&&Bn("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.m;return this.m=s.token,Bn("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{Bn("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.V.getImmediate({optional:!0});s?i(s):Bn("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new PE(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Sl(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new PE(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function IV(t){return t.name==="IndexedDbTransactionError"}const Xg="(default)";class wh{constructor(e,n){this.projectId=e,this.database=n||Xg}static empty(){return new wh("","")}get isDefaultDatabase(){return this.database===Xg}isEqual(e){return e instanceof wh&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var RE,le;(le=RE||(RE={}))[le.OK=0]="OK",le[le.CANCELLED=1]="CANCELLED",le[le.UNKNOWN=2]="UNKNOWN",le[le.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",le[le.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",le[le.NOT_FOUND=5]="NOT_FOUND",le[le.ALREADY_EXISTS=6]="ALREADY_EXISTS",le[le.PERMISSION_DENIED=7]="PERMISSION_DENIED",le[le.UNAUTHENTICATED=16]="UNAUTHENTICATED",le[le.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",le[le.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",le[le.ABORTED=10]="ABORTED",le[le.OUT_OF_RANGE=11]="OUT_OF_RANGE",le[le.UNIMPLEMENTED=12]="UNIMPLEMENTED",le[le.INTERNAL=13]="INTERNAL",le[le.UNAVAILABLE=14]="UNAVAILABLE",le[le.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */new YP([4294967295,4294967295],0);/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PV=41943040;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RV=1048576;function sm(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AV{constructor(e,n,r=1e3,i=1.5,s=6e4){this.bi=e,this.timerId=n,this.u_=r,this.c_=i,this.l_=s,this.h_=0,this.P_=null,this.T_=Date.now(),this.reset()}reset(){this.h_=0}I_(){this.h_=this.l_}E_(e){this.cancel();const n=Math.floor(this.h_+this.d_()),r=Math.max(0,Date.now()-this.T_),i=Math.max(0,n-r);i>0&&Bn("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.h_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.P_=this.bi.enqueueAfterDelay(this.timerId,i,()=>(this.T_=Date.now(),e())),this.h_*=this.c_,this.h_<this.u_&&(this.h_=this.u_),this.h_>this.l_&&(this.h_=this.l_)}A_(){this.P_!==null&&(this.P_.skipDelay(),this.P_=null)}cancel(){this.P_!==null&&(this.P_.cancel(),this.P_=null)}d_(){return(Math.random()-.5)*this.h_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W0{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new bl,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){const o=Date.now()+r,a=new W0(e,n,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Gt(Ht.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}var AE,NE;(NE=AE||(AE={})).ya="default",NE.Cache="cache";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NV(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DE=new Map;function DV(t,e,n,r){if(e===!0&&r===!0)throw new Gt(Ht.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function OV(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":QP(12329,{type:typeof t})}function MV(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Gt(Ht.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=OV(t);throw new Gt(Ht.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eR="firestore.googleapis.com",OE=!0;class ME{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new Gt(Ht.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=eR,this.ssl=OE}else this.host=e.host,this.ssl=(n=e.ssl)!==null&&n!==void 0?n:OE;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=PV;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<RV)throw new Gt(Ht.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}DV("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=NV((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new Gt(Ht.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new Gt(Ht.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new Gt(Ht.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class tR{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new ME({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Gt(Ht.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Gt(Ht.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new ME(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new EV;switch(r.type){case"firstParty":return new TV(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new Gt(Ht.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,$i("Firestore",this._settings.isUsingEmulator),this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=DE.get(n);r&&(Bn("ComponentProvider","Removing Datastore"),DE.delete(n),r.terminate())}(this),Promise.resolve()}}function nR(t,e,n,r={}){var i;t=MV(t,tR);const s=js(e),o=t._getSettings(),a=Object.assign(Object.assign({},o),{emulatorOptions:t._getEmulatorOptions()}),l=`${e}:${n}`;o.host!==eR&&o.host!==l&&xV("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const c=Object.assign(Object.assign({},o),{host:l,ssl:s,emulatorOptions:r});if(!ki(c,a)&&(t._setSettings(c),s&&(qh(`https://${l}`),$i("Firestore",!0)),r.mockUserToken)){let d,h;if(typeof r.mockUserToken=="string")d=r.mockUserToken,h=Ot.MOCK_USER;else{d=Bv(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const f=r.mockUserToken.sub||r.mockUserToken.user_id;if(!f)throw new Gt(Ht.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");h=new Ot(f)}t._authCredentials=new CV(new ZP(d,h))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LE="AsyncQueue";class jE{constructor(e=Promise.resolve()){this.Qu=[],this.$u=!1,this.Uu=[],this.Ku=null,this.Wu=!1,this.Gu=!1,this.zu=[],this.y_=new AV(this,"async_queue_retry"),this.ju=()=>{const r=sm();r&&Bn(LE,"Visibility state changed to "+r.visibilityState),this.y_.A_()},this.Hu=e;const n=sm();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.ju)}get isShuttingDown(){return this.$u}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Ju(),this.Yu(e)}enterRestrictedMode(e){if(!this.$u){this.$u=!0,this.Gu=e||!1;const n=sm();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.ju)}}enqueue(e){if(this.Ju(),this.$u)return new Promise(()=>{});const n=new bl;return this.Yu(()=>this.$u&&this.Gu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Qu.push(e),this.Zu()))}async Zu(){if(this.Qu.length!==0){try{await this.Qu[0](),this.Qu.shift(),this.y_.reset()}catch(e){if(!IV(e))throw e;Bn(LE,"Operation failed with retryable error: "+e)}this.Qu.length>0&&this.y_.E_(()=>this.Zu())}}Yu(e){const n=this.Hu.then(()=>(this.Wu=!0,e().catch(r=>{throw this.Ku=r,this.Wu=!1,XP("INTERNAL UNHANDLED ERROR: ",FE(r)),r}).then(r=>(this.Wu=!1,r))));return this.Hu=n,n}enqueueAfterDelay(e,n,r){this.Ju(),this.zu.indexOf(e)>-1&&(n=0);const i=W0.createAndSchedule(this,e,n,r,s=>this.Xu(s));return this.Uu.push(i),i}Ju(){this.Ku&&QP(47125,{ec:FE(this.Ku)})}verifyOperationInProgress(){}async tc(){let e;do e=this.Hu,await e;while(e!==this.Hu)}nc(e){for(const n of this.Uu)if(n.timerId===e)return!0;return!1}rc(e){return this.tc().then(()=>{this.Uu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.Uu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.tc()})}sc(e){this.zu.push(e)}Xu(e){const n=this.Uu.indexOf(e);this.Uu.splice(n,1)}}function FE(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class LV extends tR{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new jE,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new jE(e),this._firestoreClient=void 0,await e}}}function jV(t,e){const n=typeof t=="object"?t:Pc(),r=typeof t=="string"?t:e||Xg,i=Ui(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const s=Vv("firestore");s&&nR(i,...s)}return i}(function(e,n=!0){(function(i){Vc=i})(Vi),kn(new cn("firestore",(r,{instanceIdentifier:i,options:s})=>{const o=r.getProvider("app").getImmediate(),a=new LV(new SV(r.getProvider("auth-internal")),new kV(o,r.getProvider("app-check-internal")),function(c,d){if(!Object.prototype.hasOwnProperty.apply(c.options,["projectId"]))throw new Gt(Ht.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new wh(c.options.projectId,d)}(o,i),o);return s=Object.assign({useFetchStreams:n},s),a._setSettings(s),a},"PUBLIC").setMultipleInstances(!0)),kt(kE,IE,e),kt(kE,IE,"esm2017")})();const FV={apiKey:"AIzaSyD9cpSfGG212h80iXofJetw-B-arEEcOvI",authDomain:"emprochampions2025.firebaseapp.com",databaseURL:"https://emprochampions2025-default-rtdb.firebaseio.com",projectId:"emprochampions2025",storageBucket:"emprochampions2025.appspot.com",messagingSenderId:"683206087538",appId:"1:683206087538:web:8a1473aec968bd6ab543eb",measurementId:"G-3TX5J3NDT5"},Ns=Ek(FV),Qo=j3(Ns),ce=HU(Ns),$V=vV(Ns),UV=jV(Ns);Ig(Ns);const VV=new br;window.location.hostname==="localhost"&&(fI(Qo,"http://localhost:9099"),WP(ce,"localhost",9e3),qP($V,"localhost",9199),nR(UV,"localhost",8080),console.log("Conectado a emuladores de Firebase"));const Bc=k.createContext();function BV({children:t}){const[e,n]=k.useState(null),[r,i]=k.useState(null),[s,o]=k.useState(!0);return k.useEffect(()=>{let a,l;return a=b5(Qo,async c=>{if(console.log("🔥 [AuthContext] onAuthStateChanged - user:",c),c){n(c),l&&l();const d=ue(ce,`usuarios/${c.uid}/rol`);l=ys(d,h=>{if(h.exists()){const f=h.val();i(f||"usuario"),console.log("Rol del usuario cargado desde DB:",f||"usuario")}else i("usuario"),console.log("Nodo de usuario o rol no encontrado, rol por defecto: usuario");o(!1)},h=>{console.error("Error al leer el rol desde la base de datos:",h),i("usuario"),o(!1)})}else l&&l(),n(null),i(null),o(!1)}),()=>{a&&a(),l&&l()}},[]),_.jsx(Bc.Provider,{value:{usuario:e,rol:r,cargando:s},children:t})}function zV(){const[t,e]=k.useState(""),[n,r]=k.useState(""),i=Fi(),s=async l=>{console.log("[Login.jsx] LOG A: Iniciando asignarRolEnFirebase para:",l.email);const c=ue(ce,`usuarios/${l.uid}`),d=await Lr(c);console.log("[Login.jsx] LOG B: Snapshot de usuario existente en DB:",d.exists()?d.val():"No existe");const h=l.email.replace(/\./g,","),f=ue(ce,`admins/${h}`),y=await Lr(f);console.log("[Login.jsx] LOG C: Snapshot de admin en DB:",y.exists()?"Es admin":"No es admin por DB");let v="usuario";const b=["yayirobe2305@gmail.com","gersonespino@gmail.com","andiescobar8@gmail.com","rodriguezmerary42@gmail.com"];if(y.exists())v="admin",console.log("[Login.jsx] LOG C.1: Rol asignado como admin (desde DB /admins).");else if(b.includes(l.email)){const P=ue(ce,`admins/${h}`);await pt(P,!0),v="admin",console.log("[Login.jsx] LOG C.2: Rol asignado como admin (desde lista correosAdmin y añadido a DB).")}if(console.log("[Login.jsx] LOG D: Rol final determinado:",v),!d.exists())console.log("[Login.jsx] LOG E: Creando nuevo nodo de usuario en DB con rol:",v),await pt(c,{correo:l.email,rol:v});else{const P=d.val();P.rol!==v?(console.log("[Login.jsx] LOG F: Actualizando rol del usuario existente de",P.rol,"a:",v),await pt(ue(ce,`usuarios/${l.uid}/rol`),v)):console.log("[Login.jsx] LOG F.1: Rol del usuario existente ya es correcto:",v)}console.log("[Login.jsx] LOG G: Navegando a '/' después de asignar rol."),i("/")},o=async l=>{l.preventDefault(),console.log("[Login.jsx] LOG 1: Intentando iniciar sesión con email:",t);try{const d=(await E5(Qo,t,n)).user;if(console.log("[Login.jsx] LOG 2: Usuario autenticado por Firebase Auth:",d),!d.emailVerified){console.log("[Login.jsx] LOG 3: Correo no verificado para:",d.email);try{await Dg(d),alert("Tu correo no está verificado. Te hemos enviado un nuevo correo de verificación. Por favor, revisa tu bandeja de entrada y spam.")}catch(h){console.error("[Login.jsx] Error al enviar correo de verificación:",h),alert("Tu correo no está verificado. No se pudo reenviar el correo de verificación. Intenta más tarde o contacta soporte.")}console.log("[Login.jsx] LOG 3.1: Deteniendo login por correo no verificado.");return}console.log("[Login.jsx] LOG 4: Correo verificado, procediendo a llamar asignarRolEnFirebase..."),await s(d),console.log("[Login.jsx] LOG 5: asignarRolEnFirebase completado (navegación debería haber ocurrido).")}catch(c){console.error("[Login.jsx] Error en catch de handleLogin:",c),console.log("[Login.jsx] Código de error:",c.code),console.log("[Login.jsx] Mensaje de error:",c.message);let d="Ocurrió un error al intentar iniciar sesión.";c.code==="auth/user-not-found"||c.code==="auth/wrong-password"||c.code==="auth/invalid-credential"?d="Las credenciales ingresadas son incorrectas. Verifica tu correo y contraseña.":c.code==="auth/too-many-requests"&&(d="Demasiados intentos fallidos de inicio de sesión. Por favor, intenta más tarde."),alert(d)}},a=async()=>{console.log("[Login.jsx] Iniciando handleGoogleLogin...");try{const c=(await G5(Qo,VV)).user;if(console.log("[Login.jsx] Usuario autenticado con Google:",c),!c.emailVerified){console.log("[Login.jsx] Usuario de Google con email no verificado por Firebase (según flag), intentando enviar verificación...");try{await Dg(c),alert("Hemos detectado que tu correo de Google podría no estar verificado en nuestro sistema. Te hemos enviado un correo de verificación. Por favor, revisa tu bandeja de entrada para asegurar el acceso completo.")}catch(d){console.error("[Login.jsx] Error al enviar correo de verificación tras login con Google:",d),alert("No se pudo enviar un correo de verificación adicional. Podrás continuar, pero considera verificar tu correo si encuentras problemas.")}}console.log("[Login.jsx] Procediendo a llamar asignarRolEnFirebase para usuario de Google..."),await s(c),console.log("[Login.jsx] asignarRolEnFirebase completado para usuario de Google.")}catch(l){console.error("[Login.jsx] Error en catch de handleGoogleLogin:",l),console.log("[Login.jsx] Código de error de Google login:",l.code),console.log("[Login.jsx] Mensaje de error de Google login:",l.message);let c="Error al iniciar sesión con Google.";l.code==="auth/popup-closed-by-user"?c="Cancelaste el inicio de sesión con Google.":l.code==="auth/account-exists-with-different-credential"&&(c="Ya existe una cuenta con este correo electrónico pero con un método de inicio de sesión diferente. Intenta iniciar sesión con ese método."),alert(c)}};return _.jsx("div",{className:"min-h-screen bg-cover bg-center flex items-center justify-center",style:{backgroundImage:"url('/EmproChampions-2025/img/fondoempro-horizontal.png')"},children:_.jsxs("div",{className:"bg-white/90 rounded-2xl shadow-lg p-8 w-full max-w-md text-center",children:[_.jsx("img",{src:"/EmproChampions-2025/img/logo-empro.png",alt:"Logo Empro",className:"w-32 md:w-40 mx-auto mb-4"}),_.jsx("h1",{className:"text-3xl font-bold text-[#7a0026] mb-6",children:"Empro Champions 2025"}),_.jsxs("form",{onSubmit:o,className:"space-y-4",children:[_.jsx("h2",{className:"text-lg text-[#7a0026] font-bold",children:"¡HOLA, INICIA SESIÓN!"}),_.jsx("input",{type:"email",placeholder:"CORREO",value:t,onChange:l=>e(l.target.value),required:!0,className:"w-full px-4 py-2 border border-[#7a0026] rounded-md focus:outline-none focus:ring-2 focus:ring-[#FFD700]",autoComplete:"email"}),_.jsx("input",{type:"password",placeholder:"CONTRASEÑA",value:n,onChange:l=>r(l.target.value),required:!0,className:"w-full px-4 py-2 border border-[#7a0026] rounded-md focus:outline-none focus:ring-2 focus:ring-[#FFD700]",autoComplete:"current-password"}),_.jsx("button",{type:"submit",className:"w-full bg-[#FFD700] text-[#7a0026] font-bold py-2 rounded-md hover:bg-yellow-400 transition",children:"INICIAR SESIÓN"})]}),_.jsx("div",{className:"my-4 text-[#7a0026] font-semibold",children:"o"}),_.jsx("button",{onClick:a,className:"w-full bg-blue-600 text-white font-bold py-2 rounded-md hover:bg-blue-700 transition",children:"INGRESA CON GOOGLE"}),_.jsxs("p",{className:"mt-4 text-sm text-[#7a0026]",children:["¿No tienes cuenta?"," ",_.jsx(nr,{to:"/registro",className:"font-bold underline",children:"Crea una"})]})]})})}function WV(){const[t,e]=k.useState(""),[n,r]=k.useState(""),[i,s]=k.useState(""),[o,a]=k.useState(""),l=Fi(),c=(h,f)=>{const y=(h==null?void 0:h.charAt(0).toUpperCase())||"",v=(f==null?void 0:f.charAt(0).toUpperCase())||"";return`${y}${v}`},d=async h=>{h.preventDefault();try{const f=await x5(Qo,i,o),y=f.user.uid,v={nombre:t,apellido:n,correo:i,rol:"usuario",iniciales:c(t,n),foto:null};await pt(ue(ce,`usuarios/${y}`),v),await Dg(f.user),alert("¡Cuenta creada exitosamente! Se ha enviado un correo de verificación a tu dirección de email. Por favor, verifica tu correo para activar tu cuenta."),l("/login")}catch(f){console.error("Error al crear la cuenta:",f),f.code==="auth/email-already-in-use"?alert("Este correo electrónico ya está registrado. Por favor, intenta con otro o inicia sesión."):f.code==="auth/weak-password"?alert("La contraseña es demasiado débil. Debe tener al menos 6 caracteres."):alert("Error al crear la cuenta. Por favor, inténtalo de nuevo. Detalles: "+f.message)}};return _.jsx("div",{className:"min-h-screen bg-cover bg-center flex items-center justify-center",style:{backgroundImage:"url('/EmproChampions-2025/img/fondoempro-horizontal.png')"},children:_.jsxs("div",{className:"bg-white/90 rounded-2xl shadow-lg p-8 w-full max-w-md text-center",children:[_.jsx("img",{src:"/EmproChampions-2025/img/logo-empro.png",alt:"Logo Empro",className:"w-24 mx-auto mb-4"}),_.jsx("h1",{className:"text-3xl font-bold text-[#7a0026] mb-6",children:"Crear Cuenta"}),_.jsxs("form",{onSubmit:d,className:"space-y-4",children:[_.jsx("input",{type:"text",placeholder:"Nombre",value:t,onChange:h=>e(h.target.value),required:!0,className:"w-full px-4 py-2 border border-[#7a0026] rounded-md focus:outline-none focus:ring-2 focus:ring-[#FFD700]"}),_.jsx("input",{type:"text",placeholder:"Apellido",value:n,onChange:h=>r(h.target.value),required:!0,className:"w-full px-4 py-2 border border-[#7a0026] rounded-md focus:outline-none focus:ring-2 focus:ring-[#FFD700]"}),_.jsx("input",{type:"email",placeholder:"Correo",value:i,onChange:h=>s(h.target.value),required:!0,className:"w-full px-4 py-2 border border-[#7a0026] rounded-md focus:outline-none focus:ring-2 focus:ring-[#FFD700]"}),_.jsx("input",{type:"password",placeholder:"Contraseña (mín. 6 caracteres)",value:o,onChange:h=>a(h.target.value),required:!0,className:"w-full px-4 py-2 border border-[#7a0026] rounded-md focus:outline-none focus:ring-2 focus:ring-[#FFD700]"}),_.jsx("button",{type:"submit",className:"w-full bg-[#FFD700] text-[#7a0026] font-bold py-2 rounded-md hover:bg-yellow-400 transition",children:"Registrarme"})]}),_.jsxs("p",{className:"mt-4 text-sm text-[#7a0026]",children:["¿Ya tienes cuenta?"," ",_.jsx(nr,{to:"/login",className:"font-bold underline",children:"Inicia sesión"})]})]})})}function Ai(){const[t,e]=k.useState(!1),{usuario:n,rol:r,cargando:i}=k.useContext(Bc),s=mr();if(i||!n||s.pathname==="/login"||s.pathname==="/registro")return null;const o=r==="admin"||r==="superadmin";return _.jsx("nav",{className:"bg-[#7a0026] text-white px-4 py-3 shadow-md sticky top-0 z-50",children:_.jsxs("div",{className:"max-w-6xl mx-auto flex justify-between items-center",children:[_.jsx(nr,{to:"/",className:"text-2xl font-bold font-qatar",children:"🏆 Empro"}),_.jsx("button",{className:"md:hidden transition-transform",onClick:()=>e(!t),children:_.jsx("svg",{className:`w-7 h-7 transition-transform duration-300 ${t?"rotate-90":""}`,fill:"none",stroke:"currentColor",strokeWidth:2,viewBox:"0 0 24 24",children:_.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:t?"M6 18L18 6M6 6l12 12":"M4 6h16M4 12h16M4 18h16"})})}),_.jsxs("ul",{className:`md:flex gap-6 text-lg font-bold absolute md:static top-16 left-0 w-full md:w-auto bg-[#7a0026] md:bg-transparent transition-all duration-300 ease-in-out ${t?"block":"hidden"}`,children:[_.jsx("li",{className:"p-3 md:p-0 text-center",children:_.jsx(nr,{to:"/",className:"hover:text-yellow-400",onClick:()=>e(!1),children:"Tabla"})}),_.jsx("li",{className:"p-3 md:p-0 text-center",children:_.jsx(nr,{to:"/goleadores",className:"hover:text-yellow-400",onClick:()=>e(!1),children:"Goleadores"})}),_.jsx("li",{className:"p-3 md:p-0 text-center",children:_.jsx(nr,{to:"/historial",className:"hover:text-yellow-400",onClick:()=>e(!1),children:"Historial"})}),_.jsx("li",{className:"p-3 md:p-0 text-center",children:_.jsx(nr,{to:"/configuracion",className:"hover:text-yellow-400",onClick:()=>e(!1),children:"Cuenta"})}),o&&_.jsx("li",{className:"p-3 md:p-0 text-center",children:_.jsx(nr,{to:"/partido/configurar",className:"hover:text-yellow-400",onClick:()=>e(!1),children:"➕ Nuevo Partido"})})]})]})})}function HV(){const[t,e]=k.useState([]),[n,r]=k.useState([]),[i,s]=k.useState("masculino");k.useEffect(()=>{const a=(l,c)=>{const d=ue(ce,`tablas/${l}`);ys(d,h=>{const f=h.val();if(f){const y=Object.keys(f).map(v=>({nombre:v,...f[v]})).sort((v,b)=>b.puntos-v.puntos||b.gf-b.gc-(v.gf-v.gc));c(y)}})};a("masculino",e),a("femenino",r)},[]);const o=i==="masculino"?t:n;return _.jsxs("div",{className:"w-full min-h-screen bg-cover bg-center text-white font-qatar",style:{backgroundImage:"url('/img/fondoempro-horizontal.png')"},children:[_.jsx(Ai,{}),_.jsxs("div",{className:"container mx-auto px-4 py-8",children:[_.jsx("h1",{className:"text-5xl font-bold text-center text-yellow-400 drop-shadow-lg mb-6",children:"Tabla de Posiciones"}),_.jsxs("div",{className:"flex justify-center mb-8 bg-black/30 rounded-full p-1 max-w-sm mx-auto",children:[_.jsx("button",{onClick:()=>s("masculino"),className:`w-1/2 py-2 rounded-full font-bold transition-colors ${i==="masculino"?"bg-yellow-400 text-black":"hover:bg-white/10"}`,children:"Masculino"}),_.jsx("button",{onClick:()=>s("femenino"),className:`w-1/2 py-2 rounded-full font-bold transition-colors ${i==="femenino"?"bg-yellow-400 text-black":"hover:bg-white/10"}`,children:"Femenino"})]}),_.jsxs("div",{className:"bg-black/50 backdrop-blur-sm rounded-xl overflow-hidden shadow-2xl",children:[_.jsxs("div",{className:"grid grid-cols-10 md:grid-cols-12 text-center font-bold text-yellow-400 p-4 border-b border-yellow-400/20",children:[_.jsx("div",{className:"col-span-4 md:col-span-5 text-left pl-3",children:"Club"}),_.jsx("div",{className:"hidden md:block",children:"PJ"}),_.jsx("div",{className:"hidden md:block",children:"PG"}),_.jsx("div",{className:"hidden md:block",children:"PE"}),_.jsx("div",{className:"hidden md:block",children:"PP"}),_.jsx("div",{className:"col-span-2 md:col-span-1",children:"GF"}),_.jsx("div",{className:"col-span-2 md:col-span-1",children:"GC"}),_.jsx("div",{className:"col-span-2 md:col-span-1",children:"Pts"})]}),_.jsx("div",{children:o.map((a,l)=>_.jsxs("div",{className:"grid grid-cols-10 md:grid-cols-12 items-center text-center p-3 border-b border-gray-700/50 hover:bg-white/5 transition-colors",children:[_.jsxs("div",{className:"col-span-4 md:col-span-5 flex items-center gap-3 text-left",children:[_.jsx("span",{className:"font-bold text-lg w-6 text-center text-gray-400",children:l+1}),_.jsx("img",{src:`/EmproChampions-2025/img/escudos/${a.logo}`,alt:a.nombre,className:"w-8 h-8 md:w-10 md:h-10 object-contain"}),_.jsx("span",{className:"font-bold text-base md:text-lg",children:a.nombre})]}),_.jsx("div",{className:"hidden md:block",children:a.pj}),_.jsx("div",{className:"hidden md:block",children:a.pg}),_.jsx("div",{className:"hidden md:block",children:a.pe}),_.jsx("div",{className:"hidden md:block",children:a.pp}),_.jsx("div",{className:"col-span-2 md:col-span-1",children:a.gf}),_.jsx("div",{className:"col-span-2 md:col-span-1",children:a.gc}),_.jsx("div",{className:"col-span-2 md:col-span-1 font-extrabold text-lg",children:a.puntos})]},a.nombre))})]})]})]})}function GV({equipo:t,jugadores:e,minuto:n,onSeleccion:r,onClose:i}){const[s,o]=k.useState(""),a=()=>{s&&r({nombre:s,minuto:n})};return _.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-70 flex justify-center items-center z-50",children:_.jsxs("div",{className:"bg-white text-black p-6 rounded-lg w-full max-w-md space-y-4",children:[_.jsx("h2",{className:"text-2xl font-bold text-center",children:"Registrar Gol"}),_.jsxs("div",{children:[_.jsx("label",{className:"block font-semibold mb-1",children:"¿Quién anotó?"}),_.jsxs("select",{value:s,onChange:l=>o(l.target.value),className:"w-full border border-gray-300 rounded px-4 py-2",children:[_.jsx("option",{value:"",children:"Seleccionar jugador"}),e.map((l,c)=>_.jsx("option",{value:l.nombre,children:l.nombre},c))]})]}),_.jsxs("div",{className:"flex justify-end gap-4",children:[_.jsx("button",{onClick:i,className:"bg-gray-300 px-4 py-2 rounded font-bold",children:"Cancelar"}),_.jsx("button",{onClick:a,className:"bg-green-500 text-white px-4 py-2 rounded font-bold",children:"Confirmar"})]})]})})}function KV({equipo:t,jugadores:e,minuto:n,onConfirm:r,onClose:i}){const[s,o]=k.useState(""),[a,l]=k.useState(""),c=()=>{!s||!a||r({jugador:s,tipo:a,minuto:n})};return _.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-70 flex justify-center items-center z-50",children:_.jsxs("div",{className:"bg-white text-black p-6 rounded-lg w-full max-w-md space-y-4",children:[_.jsx("h2",{className:"text-2xl font-bold text-center",children:"Registrar Tarjeta"}),_.jsxs("div",{children:[_.jsx("label",{className:"block font-semibold mb-1",children:"Jugador"}),_.jsxs("select",{value:s,onChange:d=>o(d.target.value),className:"w-full border border-gray-300 rounded px-4 py-2",children:[_.jsx("option",{value:"",children:"Seleccionar jugador"}),e.map((d,h)=>_.jsx("option",{value:d.nombre,children:d.nombre},h))]})]}),_.jsxs("div",{children:[_.jsx("label",{className:"block font-semibold mb-1",children:"Tipo de tarjeta"}),_.jsxs("div",{className:"flex gap-4",children:[_.jsxs("label",{className:"flex items-center",children:[_.jsx("input",{type:"radio",value:"amarilla",checked:a==="amarilla",onChange:()=>l("amarilla")}),_.jsx("span",{className:"ml-2",children:"🟨 Amarilla"})]}),_.jsxs("label",{className:"flex items-center",children:[_.jsx("input",{type:"radio",value:"roja",checked:a==="roja",onChange:()=>l("roja")}),_.jsx("span",{className:"ml-2",children:"🟥 Roja"})]})]})]}),_.jsxs("div",{className:"flex justify-end gap-4",children:[_.jsx("button",{onClick:i,className:"bg-gray-300 px-4 py-2 rounded font-bold",children:"Cancelar"}),_.jsx("button",{onClick:c,className:"bg-yellow-500 px-4 py-2 rounded font-bold",children:"Confirmar"})]})]})})}function qV({equipo:t,jugadores:e,minuto:n,onConfirm:r,onClose:i}){const[s,o]=k.useState(""),[a,l]=k.useState(""),c=()=>{!s||!a.trim()||r(s,a.trim(),n)};return _.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-70 flex justify-center items-center z-50",children:_.jsxs("div",{className:"bg-white text-black p-6 rounded-lg w-full max-w-md space-y-4",children:[_.jsx("h2",{className:"text-2xl font-bold text-center",children:"Realizar Cambio"}),_.jsxs("div",{children:[_.jsx("label",{className:"block font-semibold mb-1",children:"Titular que sale"}),_.jsxs("select",{value:s,onChange:d=>o(d.target.value),className:"w-full border border-gray-300 rounded px-4 py-2",children:[_.jsx("option",{value:"",children:"Seleccionar"}),e.map((d,h)=>_.jsx("option",{value:d.nombre,children:d.nombre},h))]})]}),_.jsxs("div",{children:[_.jsx("label",{className:"block font-semibold mb-1",children:"Suplente que entra"}),_.jsx("input",{type:"text",placeholder:"Escribí el nombre",value:a,onChange:d=>l(d.target.value),className:"w-full border border-gray-300 rounded px-4 py-2"})]}),_.jsxs("div",{className:"flex justify-end gap-4",children:[_.jsx("button",{onClick:i,className:"bg-gray-300 px-4 py-2 rounded font-bold",children:"Cancelar"}),_.jsx("button",{onClick:c,className:"bg-blue-500 text-white px-4 py-2 rounded font-bold",children:"Confirmar Cambio"})]})]})})}function YV({equipoGanador:t,equipo1:e,equipo2:n,onClose:r}){const[i,s]=k.useState(null),o=((e==null?void 0:e.jugadores)||[]).filter(h=>h.haJugado),a=((n==null?void 0:n.jugadores)||[]).filter(h=>h.haJugado),l=h=>{s(h)},c=()=>{r(i||null)},d=({jugador:h})=>_.jsxs("div",{onClick:()=>l(h),className:`p-3 rounded-lg cursor-pointer transition-all duration-200 text-center ${(i==null?void 0:i.nombre)===h.nombre?"bg-yellow-400 text-black scale-105 ring-2 ring-white":"bg-gray-700 text-white hover:bg-gray-600"}`,children:[_.jsx("span",{className:"font-bold text-base",children:h.nombre}),_.jsxs("span",{className:"block text-sm opacity-80 mt-1",children:["#",h.dorsal]})]},h.nombre);return _.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-70 flex justify-center items-center z-50 p-4 font-qatar",children:_.jsxs("div",{className:"bg-gray-800 rounded-2xl shadow-xl w-full max-w-2xl p-6 border border-yellow-400/30",children:[_.jsxs("div",{className:"text-center",children:[t.nombre!=="Empate"?_.jsx("img",{src:`/EmproChampions-2025/img/escudos/${t.logo}`,alt:t.nombre,className:"w-28 h-28 mx-auto mb-4 object-contain"}):_.jsx("div",{className:"w-28 h-28 mx-auto mb-4 flex items-center justify-center bg-gray-700 rounded-full",children:_.jsx("span",{className:"text-5xl",role:"img","aria-label":"empate",children:"🤝"})}),_.jsx("h2",{className:"text-4xl font-extrabold text-yellow-400",children:"¡Partido Finalizado!"}),_.jsx("p",{className:"text-white mt-2 text-xl",children:t.nombre!=="Empate"?`Ganador: ${t.nombre}`:"El partido terminó en empate"}),_.jsx("p",{className:"text-white mt-5 font-bold text-2xl",children:"Selecciona al MVP del partido"})]}),_.jsxs("div",{className:"my-6 flex flex-row gap-4 md:gap-6",children:[_.jsxs("div",{className:"w-1/2",children:[_.jsx("h3",{className:"text-center font-bold text-white mb-4 text-xl",children:e.nombre}),_.jsx("div",{className:"max-h-[35vh] overflow-y-auto grid grid-cols-1 md:grid-cols-2 gap-3 pr-2",children:o.map(h=>_.jsx(d,{jugador:h},h.nombre))})]}),_.jsx("div",{className:"w-px bg-gray-600/50"}),_.jsxs("div",{className:"w-1/2",children:[_.jsx("h3",{className:"text-center font-bold text-white mb-4 text-xl",children:n.nombre}),_.jsx("div",{className:"max-h-[35vh] overflow-y-auto grid grid-cols-1 md:grid-cols-2 gap-3 pr-2",children:a.map(h=>_.jsx(d,{jugador:h},h.nombre))})]})]}),_.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 pt-4 border-t border-gray-600/50",children:[_.jsx("button",{onClick:()=>r(null),className:"w-full bg-gray-600 hover:bg-gray-500 text-white font-bold py-3 px-4 rounded-lg transition-colors text-lg",children:"Cancelar"}),_.jsx("button",{onClick:c,disabled:!i,className:"w-full bg-green-600 hover:bg-green-500 text-white font-bold py-3 px-4 rounded-lg transition-colors disabled:bg-gray-500 disabled:cursor-not-allowed text-lg",children:"Confirmar MVP y Guardar"})]})]})})}function rR({mensaje:t,tipo:e="info"}){const n={info:"bg-blue-600 text-white",gol:"bg-green-500 text-white",tarjeta:"bg-yellow-400 text-black",roja:"bg-red-600 text-white",success:"bg-emerald-500 text-white"};return _.jsx("div",{className:"fixed bottom-6 left-1/2 -translate-x-1/2 z-[9999]",children:_.jsx("div",{className:`px-6 py-3 rounded-full shadow-lg animate-fade-in-out transition duration-500 ${n[e]||n.info}`,children:_.jsx("p",{className:"text-sm font-bold",children:t})})})}function XV(){const[t,e]=k.useState(0),[n,r]=k.useState(!1),i=k.useRef(null),s=()=>{n||(r(!0),i.current=setInterval(()=>{e(l=>l+1)},1e3))},o=()=>{r(!1),clearInterval(i.current)},a=()=>{e(0),o()};return k.useEffect(()=>()=>clearInterval(i.current),[]),{tiempo:t,enMarcha:n,iniciar:s,pausar:o,reiniciar:a}}const QV=({equipo1:t,equipo2:e,goles:n,minuto:r})=>_.jsx("div",{className:"bg-gray-900 bg-opacity-60 backdrop-blur-sm rounded-xl p-4 shadow-lg text-white font-qatar",children:_.jsxs("div",{className:"flex justify-between items-center",children:[_.jsxs("div",{className:"flex flex-col items-center w-1/3 text-center",children:[_.jsx("img",{src:`/EmproChampions-2025/img/escudos/${t.logo}`,alt:t.nombre,className:"h-16 w-16 md:h-24 md:w-24 object-contain"}),_.jsx("span",{className:"mt-2 text-sm md:text-lg font-bold",children:t.nombre})]}),_.jsxs("div",{className:"flex flex-col items-center w-1/3 text-center",children:[_.jsxs("div",{className:"text-4xl md:text-6xl font-black tracking-wider",children:[_.jsx("span",{children:n.equipo1}),_.jsx("span",{className:"mx-2 text-yellow-400",children:"-"}),_.jsx("span",{children:n.equipo2})]}),_.jsx("div",{className:"text-lg md:text-2xl mt-2 font-semibold bg-black/50 px-3 py-1 rounded-md",children:r})]}),_.jsxs("div",{className:"flex flex-col items-center w-1/3 text-center",children:[_.jsx("img",{src:`/EmproChampions-2025/img/escudos/${e.logo}`,alt:e.nombre,className:"h-16 w-16 md:h-24 md:w-24 object-contain"}),_.jsx("span",{className:"mt-2 text-sm md:text-lg font-bold",children:e.nombre})]})]})}),JV=t=>{const e="/EmproChampions-2025/";let n="";return t.tipo.includes("gol")?n="pelota.svg":t.tipo.includes("amarilla")?n="amarilla.svg":t.tipo.includes("roja")?n="roja.svg":t.tipo.includes("cambio")&&(n="cambio.svg"),n?`${e}img/${n}`:null},ZV=({eventos:t})=>!t||t.length===0?_.jsx("div",{className:"text-center text-white text-opacity-70 mt-8 py-10",children:"El partido está por comenzar."}):_.jsxs("div",{className:"relative mt-8 py-5 font-barcelona",children:[_.jsx("div",{className:"absolute top-0 left-1/2 w-0.5 h-full bg-gray-500/30"}),t.map((e,n)=>{const r=e.equipo==="equipo1",i=JV(e),s=()=>_.jsxs("div",{className:`flex items-center gap-3 w-full ${r?"flex-row-reverse":"flex-row"}`,children:[_.jsx("span",{className:"font-bold text-sm text-white truncate max-w-[150px] md:max-w-xs",children:e.jugador||`${e.titular} ➜ ${e.suplente}`}),i&&_.jsx("img",{src:i,alt:e.tipo,className:"w-5 h-5"})]});return _.jsxs("div",{className:"relative flex items-center justify-center my-6 h-6",children:[_.jsx("div",{className:"w-1/2 pr-8 flex justify-end",children:r&&_.jsx(s,{})}),_.jsx("div",{className:"absolute z-10 bg-[#1a1d23] px-1.5 py-0.5 rounded-full border border-gray-600/50",children:_.jsxs("span",{className:"text-yellow-400 font-bold text-xs",children:[e.minuto,"'"]})}),_.jsx("div",{className:"w-1/2 pl-8 flex justify-start",children:!r&&_.jsx(s,{})})]},e.id||n)})]});function e9(){const{partidoId:t}=gM(),e=Fi(),[n,r]=k.useState(null),[i,s]=k.useState(null),[o,a]=k.useState({equipo1:0,equipo2:0}),[l,c]=k.useState([]),[d,h]=k.useState([]),[f,y]=k.useState([]),[v,b]=k.useState([]),[P,w]=k.useState(null),[C,x]=k.useState(null),[A,D]=k.useState(null),[M,S]=k.useState(!1),[E,I]=k.useState(null),m=XV();k.useEffect(()=>{if(!t)return;const H={alineacion:ue(ce,`partidos/${t}/alineacion`),marcador:ue(ce,`partidos/${t}/marcador`),eventos:ue(ce,`partidos/${t}/eventos`)},K=[ys(H.alineacion,ie=>{ie.exists()&&(r(ie.val().equipo1),s(ie.val().equipo2))}),ys(H.marcador,ie=>{ie.exists()&&a(ie.val())}),ys(H.eventos,ie=>{if(!ie.exists()){b([]);return}const ae=ie.val(),Se=[],be=[],en=[],hn=[];for(const ee in ae.goles){const Me={...ae.goles[ee],id:ee};be.push(Me),Se.push(Me)}for(const ee in ae.tarjetas){const Me={...ae.tarjetas[ee],id:ee};en.push(Me),Se.push(Me)}for(const ee in ae.cambios){const Me={...ae.cambios[ee],id:ee};hn.push(Me),Se.push(Me)}c(be),h(en),y(hn),Se.sort((ee,Me)=>{if(!ee.minuto||!Me.minuto)return 0;const[Vs,Jn]=ee.minuto.split(":").map(Number),[Wi,Rt]=Me.minuto.split(":").map(Number);return Vs*60+Jn-(Wi*60+Rt)}),b(Se)})];return()=>{Object.keys(H).forEach((ie,ae)=>{K[ae]&&jU(H[ie],"value",K[ae])})}},[t]);const R=(H,K="info")=>{I({mensaje:H,tipo:K}),setTimeout(()=>I(null),4e3)},O=()=>{const H=String(Math.floor(m.tiempo/60)).padStart(2,"0"),K=String(m.tiempo%60).padStart(2,"0");return`${H}:${K}`},N=H=>{if(!m.enMarcha){R("El cronómetro debe estar en marcha","error");return}m.pausar(),w(H)},W=H=>x(H),z=H=>D(H),X=async H=>{const K=P,ie=ue(ce,`partidos/${t}/marcador`),ae={...o,[K]:(o[K]||0)+1};await pt(ie,ae);const Se=ue(ce,`partidos/${t}/eventos/goles`);await dd(Se,{tipo:"gol",equipo:K,jugador:H.nombre,minuto:O()}),w(null),m.iniciar(),R("¡Gol registrado!","success")},te=async({jugador:H,tipo:K,minuto:ie})=>{const ae=C,Se=ue(ce,`partidos/${t}/eventos/tarjetas`);await dd(Se,{tipo:K,equipo:ae,jugador:H,minuto:ie}),x(null),R(`Tarjeta ${K} a ${H} (${ie})`,K==="roja"?"roja":"tarjeta")},V=async(H,K,ie)=>{const ae=A;let Se=ae==="equipo1"?n:i,be=Se.jugadores.map(ee=>ee.nombre===H?{...ee,enJuego:!1,haJugado:!0}:ee),en=Se.todosJugadores.find(ee=>ee.nombre===K)||{nombre:K,dorsal:"?",enJuego:!0,haJugado:!0};en={...en,enJuego:!0,haJugado:!0},be.some(ee=>ee.nombre===en.nombre)?be=be.map(ee=>ee.nombre===en.nombre?{...ee,enJuego:!0,haJugado:!0}:ee):be.push(en),await pt(ue(ce,`partidos/${t}/alineacion/${ae}/jugadores`),be),ae==="equipo1"?r({...n,jugadores:be}):s({...i,jugadores:be});const hn=ue(ce,`partidos/${t}/eventos/cambios`);await dd(hn,{tipo:"cambio",equipo:ae,titular:H,suplente:K,minuto:ie}),D(null),R(`Cambio: sale ${H}, entra ${K} (${ie})`,"info")},Y=()=>{m.pausar(),S(!0),R("Partido finalizado. Selecciona el MVP","success")},Q=async H=>{var K;if(!H){console.log("Guardado cancelado porque no se seleccionó MVP."),S(!1);return}console.log("Iniciando guardado final del partido...");try{const ae=((K=(await Lr(ue(ce,`partidos/${t}/alineacion`))).val())==null?void 0:K.genero)||"masculino",Se={marcador:o,mvp:H,terminado:!0,timestamp:Date.now()};await pt(ue(ce,`partidos/${t}/resultado`),Se),console.log("Paso 1/4: Resultado del partido guardado.");const be=ue(ce,`tablas/${ae}`),hn=(await Lr(be)).val()||{},ee=(Rt,Hi,Jc,Zc)=>{const fn=hn[Rt.nombre]||{pj:0,pg:0,pe:0,pp:0,gf:0,gc:0,puntos:0,logo:Rt.logo};fn.pj++,fn.gf+=Hi,fn.gc+=Jc,Zc==="victoria"?(fn.pg++,fn.puntos+=3):Zc==="empate"?(fn.pe++,fn.puntos+=1):fn.pp++,hn[Rt.nombre]=fn};o.equipo1>o.equipo2?(ee(n,o.equipo1,o.equipo2,"victoria"),ee(i,o.equipo2,o.equipo1,"derrota")):o.equipo2>o.equipo1?(ee(n,o.equipo1,o.equipo2,"derrota"),ee(i,o.equipo2,o.equipo1,"victoria")):(ee(n,o.equipo1,o.equipo2,"empate"),ee(i,o.equipo2,o.equipo1,"empate")),await pt(be,hn),console.log("Paso 2/4: Tabla de posiciones actualizada.");const Me=ue(ce,`goleadoresDetalles/${ae}`),Jn=(await Lr(Me)).val()||{};for(const Rt of l){Jn[Rt.jugador]||(Jn[Rt.jugador]=[]);const Hi=Rt.equipo==="equipo1"?n:i;Jn[Rt.jugador].push({minuto:Rt.minuto,partidoId:t,partidoNombre:`${n.nombre} vs ${i.nombre}`,fecha:new Date().toLocaleDateString("es-HN"),equipo:Hi.nombre,logo:Hi.logo})}await pt(Me,Jn),console.log("Paso 3/4: Detalles de goleadores actualizados.");const Wi=ue(ce,`historial/${ae}/${t}`);await pt(Wi,{fecha:new Date().toLocaleDateString("es-HN"),equipo1:n.nombre,equipo2:i.nombre,logo1:n.logo,logo2:i.logo,goles1:o.equipo1,goles2:o.equipo2,mvp:H.nombre}),console.log("Paso 4/4: Historial de partidos actualizado."),S(!1),R("Partido guardado correctamente","success"),console.log("¡Éxito! Redirigiendo a /main..."),setTimeout(()=>e("/"),1500)}catch(ie){console.error("ERROR AL GUARDAR EL PARTIDO:",ie),R("Error al guardar. Revisa la consola.","error")}},ve=()=>o.equipo1>o.equipo2?n:o.equipo2>o.equipo1?i:{nombre:"Empate",logo:"logo-empro.png"};return!n||!i?_.jsxs("div",{className:"w-full min-h-screen bg-cover bg-center text-white flex flex-col",style:{backgroundImage:"url('/img/fondoempro-horizontal.png')"},children:[_.jsx(Ai,{}),_.jsx("div",{className:"flex-grow flex items-center justify-center text-center p-4",children:_.jsx("div",{children:_.jsx("h2",{className:"text-3xl font-bold",children:"Cargando datos del partido..."})})})]}):_.jsxs("div",{className:"w-full min-h-screen bg-cover bg-center text-white font-qatar px-2 md:px-8 py-4",style:{backgroundImage:"url('/img/fondoempro-horizontal.png')"},children:[_.jsx(Ai,{}),_.jsxs("div",{className:"container mx-auto",children:[_.jsx(QV,{equipo1:n,equipo2:i,goles:o,minuto:O()}),_.jsxs("div",{className:"flex justify-center gap-4 my-6",children:[_.jsx("button",{onClick:m.iniciar,disabled:m.enMarcha,className:"bg-green-500 hover:bg-green-600 text-white font-bold py-2 px-4 rounded disabled:bg-gray-500",children:"▶️ Iniciar"}),_.jsx("button",{onClick:m.pausar,disabled:!m.enMarcha,className:"bg-yellow-500 hover:bg-yellow-600 text-white font-bold py-2 px-4 rounded disabled:bg-gray-500",children:"⏸️ Pausar"}),_.jsx("button",{onClick:m.reiniciar,className:"bg-red-500 hover:bg-red-600 text-white font-bold py-2 px-4 rounded",children:"🔁 Reiniciar"})]}),_.jsxs("div",{className:"bg-black/40 backdrop-blur-sm p-4 rounded-lg flex flex-wrap justify-center gap-x-6 gap-y-3 shadow-lg",children:[_.jsxs("button",{onClick:()=>N("equipo1"),className:"text-white font-semibold hover:text-green-400 transition-colors",children:["Gol ",n.nombre]}),_.jsxs("button",{onClick:()=>W("equipo1"),className:"text-white font-semibold hover:text-yellow-400 transition-colors",children:["Tarjeta ",n.nombre]}),_.jsxs("button",{onClick:()=>z("equipo1"),className:"text-white font-semibold hover:text-blue-400 transition-colors",children:["Cambio ",n.nombre]}),_.jsx("div",{className:"w-full md:w-auto h-px md:h-auto md:w-px bg-white/20"}),_.jsxs("button",{onClick:()=>N("equipo2"),className:"text-white font-semibold hover:text-green-400 transition-colors",children:["Gol ",i.nombre]}),_.jsxs("button",{onClick:()=>W("equipo2"),className:"text-white font-semibold hover:text-yellow-400 transition-colors",children:["Tarjeta ",i.nombre]}),_.jsxs("button",{onClick:()=>z("equipo2"),className:"text-white font-semibold hover:text-blue-400 transition-colors",children:["Cambio ",i.nombre]})]}),_.jsx(ZV,{eventos:v}),_.jsx("div",{className:"text-center mt-12",children:_.jsx("button",{onClick:Y,className:"bg-yellow-500 hover:bg-yellow-600 text-black font-extrabold text-2xl px-12 py-4 rounded-full shadow-xl",children:"Finalizar Partido"})})]}),P&&_.jsx(GV,{equipo:P,jugadores:(P==="equipo1"?n.jugadores:i.jugadores).filter(H=>H.enJuego!==!1),minuto:O(),onSeleccion:X,onClose:()=>{w(null),m.iniciar()}}),C&&_.jsx(KV,{equipo:C,jugadores:(C==="equipo1"?n.jugadores:i.jugadores).filter(H=>H.enJuego!==!1),minuto:O(),onConfirm:te,onClose:()=>x(null)}),A&&_.jsx(qV,{equipo:A,jugadores:A==="equipo1"?n.todosJugadores:i.todosJugadores,minuto:O(),onConfirm:V,onClose:()=>D(null)}),M&&_.jsx(YV,{equipoGanador:ve(),equipo1:n,equipo2:i,onClose:Q}),E&&_.jsx(rR,{mensaje:E.mensaje,tipo:E.tipo})]})}function t9(){const[t,e]=k.useState([]),[n,r]=k.useState("masculino");return k.useEffect(()=>{const i=ue(ce,`goleadores/${n}`);ys(i,s=>{const o=s.val();if(o){const a=Object.values(o).sort((l,c)=>c.goles-l.goles);e(a)}else e([])})},[n]),_.jsxs("div",{className:"w-full min-h-screen bg-cover bg-center text-white font-qatar",style:{backgroundImage:"url('/img/fondoempro-horizontal.png')"},children:[_.jsx(Ai,{}),_.jsxs("div",{className:"container mx-auto px-4 py-8",children:[_.jsx("h1",{className:"text-5xl font-bold text-center text-yellow-400 drop-shadow-lg mb-6",children:"Tabla de Goleadores"}),_.jsxs("div",{className:"flex justify-center mb-8 bg-black/30 rounded-full p-1 max-w-sm mx-auto",children:[_.jsx("button",{onClick:()=>r("masculino"),className:`w-1/2 py-2 rounded-full font-bold transition-colors ${n==="masculino"?"bg-yellow-400 text-black":"hover:bg-white/10"}`,children:"Masculino"}),_.jsx("button",{onClick:()=>r("femenino"),className:`w-1/2 py-2 rounded-full font-bold transition-colors ${n==="femenino"?"bg-yellow-400 text-black":"hover:bg-white/10"}`,children:"Femenino"})]}),_.jsx("div",{className:"space-y-4 max-w-4xl mx-auto",children:t.map((i,s)=>_.jsxs("div",{className:"bg-black/50 backdrop-blur-sm rounded-xl shadow-lg p-4",children:[_.jsxs("div",{className:"flex items-center gap-4",children:[_.jsx("span",{className:"text-3xl font-bold text-yellow-400 w-8 text-center",children:s+1}),_.jsx("img",{src:`/EmproChampions-2025/img/escudos/${i.logo}`,alt:i.equipo,className:"w-12 h-12 object-contain"}),_.jsxs("div",{className:"flex-grow",children:[_.jsx("h2",{className:"text-2xl font-bold",children:i.nombre}),_.jsx("p",{className:"text-sm opacity-80",children:i.equipo})]}),_.jsxs("div",{className:"text-right",children:[_.jsx("p",{className:"text-4xl font-extrabold",children:i.goles}),_.jsx("p",{className:"text-sm opacity-80 -mt-1",children:"Goles"})]})]}),_.jsx("div",{className:"pl-14 mt-3 border-t border-white/10 pt-3",children:i.detalles.map((o,a)=>_.jsxs("div",{className:"flex items-center gap-2 text-sm opacity-90 mt-1",children:[_.jsx("span",{children:"⚽"}),_.jsxs("span",{children:["vs ",o.partidoNombre.replace(i.equipo,"").replace("vs","").trim()]}),_.jsxs("span",{className:"ml-auto font-mono bg-white/10 px-2 rounded",children:[o.minuto,"'"]})]},a))})]},i.nombre))})]})]})}const n9=({partidoId:t,onClose:e})=>{const[n,r]=k.useState(null);if(k.useEffect(()=>{const s=ue(ce,`partidos/${t}/resultado`);Lr(s).then(o=>{o.exists()&&r(o.val())})},[t]),!n)return _.jsx("div",{className:"fixed inset-0 bg-black/70 flex items-center justify-center z-50",children:_.jsx("p",{className:"text-white text-xl",children:"Cargando detalles..."})});const i=[...(n.goles||[]).map(s=>({...s,tipoVisual:"⚽ Gol",jugador:s.jugador})),...(n.tarjetas||[]).map(s=>({...s,tipoVisual:s.tipo==="amarilla"?"🟨 Tarjeta":"🟥 Tarjeta",jugador:s.jugador})),...(n.cambios||[]).map(s=>({...s,tipoVisual:"🔄 Cambio",jugador:`${s.titular} ➜ ${s.suplente}`}))].sort((s,o)=>s.minuto.localeCompare(o.minuto));return _.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-80 flex justify-center items-center z-50 p-4 font-qatar",onClick:e,children:_.jsxs("div",{className:"bg-gray-800 rounded-xl w-full max-w-md p-6",onClick:s=>s.stopPropagation(),children:[_.jsx("h2",{className:"text-2xl font-bold text-yellow-400 text-center mb-4",children:"Detalles del Partido"}),_.jsxs("div",{className:"flex justify-between items-center mb-4",children:[_.jsxs("div",{className:"flex items-center gap-2 text-lg font-bold",children:[_.jsx("img",{src:`/EmproChampions-2025/img/escudos/${n.equipo1.logo}`,className:"w-8"}),_.jsx("span",{children:n.equipo1.nombre})]}),_.jsxs("span",{className:"font-bold text-2xl",children:[n.marcador.equipo1," - ",n.marcador.equipo2]}),_.jsxs("div",{className:"flex items-center gap-2 text-lg font-bold",children:[_.jsx("span",{className:"text-right",children:n.equipo2.nombre}),_.jsx("img",{src:`/EmproChampions-2025/img/escudos/${n.equipo2.logo}`,className:"w-8"})]})]}),_.jsx("div",{className:"text-center mb-4 text-sm",children:_.jsxs("p",{children:["MVP: ",_.jsx("span",{className:"font-bold text-yellow-300",children:n.mvp.nombre})]})}),_.jsx("div",{className:"max-h-64 overflow-y-auto space-y-2 border-t border-white/10 pt-3",children:i.map((s,o)=>_.jsxs("div",{className:"flex items-center text-sm p-2 bg-white/5 rounded",children:[_.jsxs("span",{className:"font-mono w-12",children:[s.minuto,"'"]}),_.jsx("span",{className:"w-24",children:s.tipoVisual}),_.jsx("span",{className:"font-bold flex-grow",children:s.jugador})]},o))}),_.jsx("button",{onClick:e,className:"w-full mt-6 bg-yellow-400 text-black font-bold py-2 rounded-lg",children:"Cerrar"})]})})};function r9(){const[t,e]=k.useState([]),[n,r]=k.useState("masculino"),[i,s]=k.useState(null);return k.useEffect(()=>{const o=ue(ce,`historial/${n}`);ys(o,a=>{const l=a.val();if(l){const c=Object.entries(l).map(([d,h])=>({id:d,...h})).reverse();e(c)}else e([])})},[n]),_.jsxs("div",{className:"w-full min-h-screen bg-cover bg-center text-white font-qatar",style:{backgroundImage:"url('/img/fondoempro-horizontal.png')"},children:[_.jsx(Ai,{}),_.jsxs("div",{className:"container mx-auto px-4 py-8",children:[_.jsx("h1",{className:"text-5xl font-bold text-center text-yellow-400 drop-shadow-lg mb-6",children:"Historial de Partidos"}),_.jsxs("div",{className:"flex justify-center mb-8 bg-black/30 rounded-full p-1 max-w-sm mx-auto",children:[_.jsx("button",{onClick:()=>r("masculino"),className:`w-1/2 py-2 rounded-full font-bold transition-colors ${n==="masculino"?"bg-yellow-400 text-black":"hover:bg-white/10"}`,children:"Masculino"}),_.jsx("button",{onClick:()=>r("femenino"),className:`w-1/2 py-2 rounded-full font-bold transition-colors ${n==="femenino"?"bg-yellow-400 text-black":"hover:bg-white/10"}`,children:"Femenino"})]}),_.jsx("div",{className:"space-y-4 max-w-4xl mx-auto",children:t.map(o=>_.jsx("div",{className:"bg-black/50 backdrop-blur-sm rounded-xl shadow-lg p-4",children:_.jsxs("div",{className:"flex items-center w-full",children:[_.jsxs("div",{className:"flex-grow space-y-2",children:[_.jsxs("div",{className:"flex items-center gap-3",children:[_.jsx("img",{src:`/EmproChampions-2025/img/escudos/${o.logo1}`,className:"w-8 h-8"}),_.jsx("span",{children:o.equipo1})]}),_.jsxs("div",{className:"flex items-center gap-3",children:[_.jsx("img",{src:`/EmproChampions-2025/img/escudos/${o.logo2}`,className:"w-8 h-8"}),_.jsx("span",{children:o.equipo2})]})]}),_.jsxs("div",{className:"px-6 text-center",children:[_.jsxs("p",{className:"text-4xl font-extrabold",children:[o.goles1," - ",o.goles2]}),_.jsx("p",{className:"text-xs opacity-70",children:o.fecha})]}),_.jsx("button",{onClick:()=>s(o.id),className:"bg-yellow-400 text-black font-bold h-10 px-4 rounded-lg ml-auto",children:"Detalles"})]})},o.id))})]}),i&&_.jsx(n9,{partidoId:i,onClose:()=>s(null)})]})}const i9=[{nombre:"Atrapados",escudo:"/EmproChampions-2025/img/escudos/atrapados.png"},{nombre:"Bosco",escudo:"/EmproChampions-2025/img/escudos/bosco.png"},{nombre:"Emprosaurios",escudo:"/EmproChampions-2025/img/escudos/emprosaurios.png"},{nombre:"Huellas",escudo:"/EmproChampions-2025/img/escudos/huellas.png"},{nombre:"Luz",escudo:"/EmproChampions-2025/img/escudos/luz.png"},{nombre:"Mensajeros",escudo:"/EmproChampions-2025/img/escudos/mensajeros.png"}],s9=[{nombre:"Atrapados",escudo:"/EmproChampions-2025/img/escudos/atrapados.png"},{nombre:"Bosco",escudo:"/EmproChampions-2025/img/escudos/bosco.png"},{nombre:"Huellas",escudo:"/EmproChampions-2025/img/escudos/huellas.png"},{nombre:"Luz",escudo:"/EmproChampions-2025/img/escudos/luz.png"},{nombre:"Mensajeros",escudo:"/EmproChampions-2025/img/escudos/mensajeros.png"}];function $E(){const[t,e]=k.useState("masculino"),n=Fi(),r=t==="masculino"?i9:s9,[i,s]=k.useState(0),[o,a]=k.useState(1),[l,c]=k.useState(!0),[d,h]=k.useState(!0),f=(v,b)=>{const P=r.length;v==="local"?(c(!1),setTimeout(()=>{s(w=>(w+b+P)%P),c(!0)},150)):(h(!1),setTimeout(()=>{a(w=>(w+b+P)%P),h(!0)},150))},y=async()=>{const v=r[i],b=r[o];if(v.nombre===b.nombre){alert("El equipo local y visitante no pueden ser el mismo.");return}await pt(ue(ce,"selecciones/equipoLocal"),v),await pt(ue(ce,"selecciones/equipoVisita"),b),await pt(ue(ce,"selecciones/generoPartido"),t),n("/partido/alineacion",{state:{equipoLocal:v,equipoVisita:b,genero:t,fecha:Date.now()}})};return _.jsxs("div",{className:"min-h-screen bg-cover bg-center font-qatar text-white flex flex-col",style:{backgroundImage:"url('/EmproChampions-2025/img/fondoempro-horizontal.png')"},children:[_.jsx(Ai,{}),_.jsxs("div",{className:"flex justify-center gap-4 mt-6",children:[_.jsx("button",{onClick:()=>{e("masculino"),s(0),a(1)},className:`px-4 py-2 font-bold rounded-full border-2 ${t==="masculino"?"bg-[#FFD700] text-[#7a0026] border-yellow-400":"bg-transparent border-white text-white"} transition`,children:"Masculino"}),_.jsx("button",{onClick:()=>{e("femenino"),s(0),a(1)},className:`px-4 py-2 font-bold rounded-full border-2 ${t==="femenino"?"bg-[#FFD700] text-[#7a0026] border-yellow-400":"bg-transparent border-white text-white"} transition`,children:"Femenino"})]}),_.jsx("h1",{className:"text-3xl sm:text-4xl font-bold text-center mt-6 text-yellow-400 drop-shadow",children:"Selección de Equipos"}),_.jsx("div",{className:"flex flex-col items-center justify-center px-6",children:_.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-10 mt-6 mx-auto px-4 max-w-6xl",children:[_.jsxs("div",{className:"flex flex-col bg-white/90 rounded-2xl p-8 w-full max-w-[460px] text-[#7a0026] shadow-xl transition-all duration-300 min-h-[460px] justify-center items-center",children:[_.jsx("h2",{className:"font-bold text-2xl mb-4",children:"Equipo Local"}),_.jsxs("div",{className:`flex flex-col items-center transition-opacity duration-300 ease-in-out ${l?"opacity-100":"opacity-0"}`,children:[_.jsx("img",{src:r[i].escudo,alt:r[i].nombre,className:"w-32 h-32 object-contain mb-4 drop-shadow-md"}),_.jsx("p",{className:"text-3xl font-black",children:r[i].nombre})]}),_.jsxs("div",{className:"flex gap-10 mt-6",children:[_.jsx("button",{onClick:()=>f("local",-1),className:"text-4xl text-[#FFD700] hover:scale-110 transition",children:"◀"}),_.jsx("button",{onClick:()=>f("local",1),className:"text-4xl text-[#FFD700] hover:scale-110 transition",children:"▶"})]})]}),_.jsxs("div",{className:"flex flex-col bg-white/90 rounded-2xl p-8 w-full max-w-[460px] text-[#7a0026] shadow-xl transition-all duration-300 min-h-[460px] justify-center items-center",children:[_.jsx("h2",{className:"font-bold text-2xl mb-4",children:"Equipo Visitante"}),_.jsxs("div",{className:`flex flex-col items-center transition-opacity duration-300 ease-in-out ${d?"opacity-100":"opacity-0"}`,children:[_.jsx("img",{src:r[o].escudo,alt:r[o].nombre,className:"w-32 h-32 object-contain mb-4 drop-shadow-md"}),_.jsx("p",{className:"text-3xl font-black",children:r[o].nombre})]}),_.jsxs("div",{className:"flex gap-10 mt-6",children:[_.jsx("button",{onClick:()=>f("visita",-1),className:"text-4xl text-[#FFD700] hover:scale-110 transition",children:"◀"}),_.jsx("button",{onClick:()=>f("visita",1),className:"text-4xl text-[#FFD700] hover:scale-110 transition",children:"▶"})]})]})]})}),_.jsx("div",{className:"flex justify-center mt-12 mb-20",children:_.jsx("button",{onClick:y,className:"bg-[#FFD700] text-[#7a0026] font-bold px-10 py-4 rounded-full hover:bg-yellow-300 transition text-xl shadow-lg",children:"Siguiente"})})]})}const o9=[{nombre:"Juan Pérez",dorsal:7,genero:"masculino"},{nombre:"Carlos Torres",dorsal:10,genero:"masculino"},{nombre:"Luis López",dorsal:5,genero:"masculino"},{nombre:"Mario Paz",dorsal:11,genero:"masculino"},{nombre:"Erick Rodríguez",dorsal:2,genero:"masculino"},{nombre:"Erick 2",dorsal:0,genero:"masculino"},{nombre:"Antonio Díaz",dorsal:4,genero:"masculino"},{nombre:"Sofia García",dorsal:1,genero:"femenino"},{nombre:"Valeria Castro",dorsal:9,genero:"femenino"}],a9=[{nombre:"Andrés Gutiérrez",dorsal:3,genero:"masculino"},{nombre:"David Martínez",dorsal:1,genero:"masculino"},{nombre:"Pedro Ramírez",dorsal:8,genero:"masculino"},{nombre:"Fernando Vargas",dorsal:9,genero:"masculino"},{nombre:"Raúl Cruz",dorsal:6,genero:"masculino"},{nombre:"Erick Rodríguez",dorsal:2,genero:"masculino"},{nombre:"Mauricio Salinas",dorsal:14,genero:"masculino"},{nombre:"Ana López",dorsal:2,genero:"femenino"},{nombre:"María Pérez",dorsal:10,genero:"femenino"}],l9=[{nombre:"Saurio Uno",dorsal:21,genero:"masculino"},{nombre:"Saurio Dos",dorsal:22,genero:"masculino"},{nombre:"Saurio Tres",dorsal:23,genero:"masculino"},{nombre:"Saurio Cuatro",dorsal:24,genero:"masculino"},{nombre:"Saurio Cinco",dorsal:25,genero:"masculino"},{nombre:"Saurio Seis",dorsal:26,genero:"masculino"}],c9=[{nombre:"Diego Muñoz",dorsal:2,genero:"masculino"},{nombre:"Bryan Mejía",dorsal:5,genero:"masculino"},{nombre:"Samuel Rivera",dorsal:8,genero:"masculino"},{nombre:"Kevin Palacios",dorsal:7,genero:"masculino"},{nombre:"José Martínez",dorsal:13,genero:"masculino"},{nombre:"Ricardo Castillo",dorsal:17,genero:"masculino"},{nombre:"Laura Ruiz",dorsal:3,genero:"femenino"},{nombre:"Andrea Soto",dorsal:6,genero:"femenino"}],u9=[{nombre:"Oscar Varela",dorsal:4,genero:"masculino"},{nombre:"David Salgado",dorsal:12,genero:"masculino"},{nombre:"Enrique Orellana",dorsal:9,genero:"masculino"},{nombre:"Manuel Molina",dorsal:3,genero:"masculino"},{nombre:"Javier Castro",dorsal:16,genero:"masculino"},{nombre:"Julio Soto",dorsal:18,genero:"masculino"},{nombre:"Daniela Paz",dorsal:4,genero:"femenino"},{nombre:"Camila Vargas",dorsal:11,genero:"femenino"}],d9=[{nombre:"Cristian Ayala",dorsal:19,genero:"masculino"},{nombre:"Luis Méndez",dorsal:6,genero:"masculino"},{nombre:"Álvaro Salinas",dorsal:11,genero:"masculino"},{nombre:"Sergio Paz",dorsal:8,genero:"masculino"},{nombre:"Oscar Aguilar",dorsal:20,genero:"masculino"},{nombre:"Juan Martínez",dorsal:15,genero:"masculino"},{nombre:"Natalia Díaz",dorsal:5,genero:"femenino"},{nombre:"Paula Mejía",dorsal:8,genero:"femenino"}],il={atrapados:o9,bosco:a9,emprosaurios:l9,huellas:c9,luz:u9,mensajeros:d9};function h9({tipo:t,index:e,jugador:n,onSave:r,onClose:i,camiseta:s,dorsalColor:o,jugadoresActuales:a,nombreEquipo:l}){const c=l==null?void 0:l.toLowerCase(),d=il[c]||[],h=a.filter((w,C)=>C!==e&&w.nombre).map(w=>w.nombre),f=d.filter(w=>!h.includes(w.nombre)),y=n&&n.nombre&&n.dorsal?`${n.nombre}|${n.dorsal}`:"",[v,b]=k.useState(y),P=()=>{if(!v)return;const[w,C]=v.split("|");r(e,t,{nombre:w,dorsal:C})};return _.jsx("div",{className:"fixed inset-0 flex items-center justify-center z-50 bg-black/50",children:_.jsxs("div",{className:"bg-white rounded-xl shadow-xl p-6 text-black relative w-80 md:w-96 mx-auto",children:[_.jsx("button",{onClick:i,className:"absolute top-3 right-3 text-[#7a0026] font-bold text-xl",title:"Cerrar",children:"×"}),_.jsx("div",{className:"flex flex-col items-center mb-4",children:_.jsx("img",{src:s,alt:"camiseta",className:"w-16 h-16 mb-2"})}),_.jsx("label",{className:"block font-bold mb-1 text-[#7a0026]",children:"Jugador"}),_.jsxs("select",{className:"w-full px-4 py-2 border rounded",value:v,onChange:w=>b(w.target.value),children:[_.jsx("option",{value:"",children:"Selecciona un jugador"}),f.map(w=>_.jsxs("option",{value:`${w.nombre}|${w.dorsal}`,children:[w.nombre," (#",w.dorsal,")"]},w.dorsal+w.nombre))]}),_.jsx("button",{disabled:!v,onClick:P,className:"w-full bg-[#FFD700] text-[#7a0026] font-bold py-2 rounded mt-4 hover:bg-yellow-400 transition disabled:bg-gray-400",children:"Guardar"}),_.jsx("button",{onClick:i,className:"w-full bg-gray-300 text-[#7a0026] font-bold py-2 rounded mt-2 hover:bg-gray-400 transition",children:"Cancelar"})]})})}const H0=k.createContext({});function G0(t){const e=k.useRef(null);return e.current===null&&(e.current=t()),e.current}const K0=typeof window<"u",iR=K0?k.useLayoutEffect:k.useEffect,gf=k.createContext(null);function q0(t,e){t.indexOf(e)===-1&&t.push(e)}function Y0(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const Hr=(t,e,n)=>n>e?e:n<t?t:n;let X0=()=>{};const Gr={},sR=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t);function oR(t){return typeof t=="object"&&t!==null}const aR=t=>/^0[^.\s]+$/u.test(t);function Q0(t){let e;return()=>(e===void 0&&(e=t()),e)}const Sn=t=>t,f9=(t,e)=>n=>e(t(n)),zc=(...t)=>t.reduce(f9),uc=(t,e,n)=>{const r=e-t;return r===0?1:(n-t)/r};class J0{constructor(){this.subscriptions=[]}add(e){return q0(this.subscriptions,e),()=>Y0(this.subscriptions,e)}notify(e,n,r){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](e,n,r);else for(let s=0;s<i;s++){const o=this.subscriptions[s];o&&o(e,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const ur=t=>t*1e3,dr=t=>t/1e3;function lR(t,e){return e?t*(1e3/e):0}const cR=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,p9=1e-7,m9=12;function g9(t,e,n,r,i){let s,o,a=0;do o=e+(n-e)/2,s=cR(o,r,i)-t,s>0?n=o:e=o;while(Math.abs(s)>p9&&++a<m9);return o}function Wc(t,e,n,r){if(t===e&&n===r)return Sn;const i=s=>g9(s,0,1,t,n);return s=>s===0||s===1?s:cR(i(s),e,r)}const uR=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,dR=t=>e=>1-t(1-e),hR=Wc(.33,1.53,.69,.99),Z0=dR(hR),fR=uR(Z0),pR=t=>(t*=2)<1?.5*Z0(t):.5*(2-Math.pow(2,-10*(t-1))),e_=t=>1-Math.sin(Math.acos(t)),mR=dR(e_),gR=uR(e_),y9=Wc(.42,0,1,1),v9=Wc(0,0,.58,1),yR=Wc(.42,0,.58,1),_9=t=>Array.isArray(t)&&typeof t[0]!="number",vR=t=>Array.isArray(t)&&typeof t[0]=="number",w9={linear:Sn,easeIn:y9,easeInOut:yR,easeOut:v9,circIn:e_,circInOut:gR,circOut:mR,backIn:Z0,backInOut:fR,backOut:hR,anticipate:pR},x9=t=>typeof t=="string",UE=t=>{if(vR(t)){X0(t.length===4);const[e,n,r,i]=t;return Wc(e,n,r,i)}else if(x9(t))return w9[t];return t},ju=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"],VE={value:null,addProjectionMetrics:null};function E9(t,e){let n=new Set,r=new Set,i=!1,s=!1;const o=new WeakSet;let a={delta:0,timestamp:0,isProcessing:!1},l=0;function c(h){o.has(h)&&(d.schedule(h),t()),l++,h(a)}const d={schedule:(h,f=!1,y=!1)=>{const b=y&&i?n:r;return f&&o.add(h),b.has(h)||b.add(h),h},cancel:h=>{r.delete(h),o.delete(h)},process:h=>{if(a=h,i){s=!0;return}i=!0,[n,r]=[r,n],n.forEach(c),e&&VE.value&&VE.value.frameloop[e].push(l),l=0,n.clear(),i=!1,s&&(s=!1,d.process(h))}};return d}const C9=40;function _R(t,e){let n=!1,r=!0;const i={delta:0,timestamp:0,isProcessing:!1},s=()=>n=!0,o=ju.reduce((x,A)=>(x[A]=E9(s,e?A:void 0),x),{}),{setup:a,read:l,resolveKeyframes:c,preUpdate:d,update:h,preRender:f,render:y,postRender:v}=o,b=()=>{const x=Gr.useManualTiming?i.timestamp:performance.now();n=!1,Gr.useManualTiming||(i.delta=r?1e3/60:Math.max(Math.min(x-i.timestamp,C9),1)),i.timestamp=x,i.isProcessing=!0,a.process(i),l.process(i),c.process(i),d.process(i),h.process(i),f.process(i),y.process(i),v.process(i),i.isProcessing=!1,n&&e&&(r=!1,t(b))},P=()=>{n=!0,r=!0,i.isProcessing||t(b)};return{schedule:ju.reduce((x,A)=>{const D=o[A];return x[A]=(M,S=!1,E=!1)=>(n||P(),D.schedule(M,S,E)),x},{}),cancel:x=>{for(let A=0;A<ju.length;A++)o[ju[A]].cancel(x)},state:i,steps:o}}const{schedule:$e,cancel:Ni,state:dt,steps:om}=_R(typeof requestAnimationFrame<"u"?requestAnimationFrame:Sn,!0);let hd;function S9(){hd=void 0}const Yt={now:()=>(hd===void 0&&Yt.set(dt.isProcessing||Gr.useManualTiming?dt.timestamp:performance.now()),hd),set:t=>{hd=t,queueMicrotask(S9)}},wR=t=>e=>typeof e=="string"&&e.startsWith(t),t_=wR("--"),b9=wR("var(--"),n_=t=>b9(t)?T9.test(t.split("/*")[0].trim()):!1,T9=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,ga={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},dc={...ga,transform:t=>Hr(0,1,t)},Fu={...ga,default:1},Tl=t=>Math.round(t*1e5)/1e5,r_=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function k9(t){return t==null}const I9=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,i_=(t,e)=>n=>!!(typeof n=="string"&&I9.test(n)&&n.startsWith(t)||e&&!k9(n)&&Object.prototype.hasOwnProperty.call(n,e)),xR=(t,e,n)=>r=>{if(typeof r!="string")return r;const[i,s,o,a]=r.match(r_);return{[t]:parseFloat(i),[e]:parseFloat(s),[n]:parseFloat(o),alpha:a!==void 0?parseFloat(a):1}},P9=t=>Hr(0,255,t),am={...ga,transform:t=>Math.round(P9(t))},hs={test:i_("rgb","red"),parse:xR("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:r=1})=>"rgba("+am.transform(t)+", "+am.transform(e)+", "+am.transform(n)+", "+Tl(dc.transform(r))+")"};function R9(t){let e="",n="",r="",i="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),r=t.substring(5,7),i=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),r=t.substring(3,4),i=t.substring(4,5),e+=e,n+=n,r+=r,i+=i),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}}const Qg={test:i_("#"),parse:R9,transform:hs.transform},Hc=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),ri=Hc("deg"),hr=Hc("%"),Z=Hc("px"),A9=Hc("vh"),N9=Hc("vw"),BE=(()=>({...hr,parse:t=>hr.parse(t)/100,transform:t=>hr.transform(t*100)}))(),go={test:i_("hsl","hue"),parse:xR("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:r=1})=>"hsla("+Math.round(t)+", "+hr.transform(Tl(e))+", "+hr.transform(Tl(n))+", "+Tl(dc.transform(r))+")"},St={test:t=>hs.test(t)||Qg.test(t)||go.test(t),parse:t=>hs.test(t)?hs.parse(t):go.test(t)?go.parse(t):Qg.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?hs.transform(t):go.transform(t)},D9=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function O9(t){var e,n;return isNaN(t)&&typeof t=="string"&&(((e=t.match(r_))==null?void 0:e.length)||0)+(((n=t.match(D9))==null?void 0:n.length)||0)>0}const ER="number",CR="color",M9="var",L9="var(",zE="${}",j9=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function hc(t){const e=t.toString(),n=[],r={color:[],number:[],var:[]},i=[];let s=0;const a=e.replace(j9,l=>(St.test(l)?(r.color.push(s),i.push(CR),n.push(St.parse(l))):l.startsWith(L9)?(r.var.push(s),i.push(M9),n.push(l)):(r.number.push(s),i.push(ER),n.push(parseFloat(l))),++s,zE)).split(zE);return{values:n,split:a,indexes:r,types:i}}function SR(t){return hc(t).values}function bR(t){const{split:e,types:n}=hc(t),r=e.length;return i=>{let s="";for(let o=0;o<r;o++)if(s+=e[o],i[o]!==void 0){const a=n[o];a===ER?s+=Tl(i[o]):a===CR?s+=St.transform(i[o]):s+=i[o]}return s}}const F9=t=>typeof t=="number"?0:t;function $9(t){const e=SR(t);return bR(t)(e.map(F9))}const Di={test:O9,parse:SR,createTransformer:bR,getAnimatableNone:$9};function lm(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function U9({hue:t,saturation:e,lightness:n,alpha:r}){t/=360,e/=100,n/=100;let i=0,s=0,o=0;if(!e)i=s=o=n;else{const a=n<.5?n*(1+e):n+e-n*e,l=2*n-a;i=lm(l,a,t+1/3),s=lm(l,a,t),o=lm(l,a,t-1/3)}return{red:Math.round(i*255),green:Math.round(s*255),blue:Math.round(o*255),alpha:r}}function xh(t,e){return n=>n>0?e:t}const je=(t,e,n)=>t+(e-t)*n,cm=(t,e,n)=>{const r=t*t,i=n*(e*e-r)+r;return i<0?0:Math.sqrt(i)},V9=[Qg,hs,go],B9=t=>V9.find(e=>e.test(t));function WE(t){const e=B9(t);if(!e)return!1;let n=e.parse(t);return e===go&&(n=U9(n)),n}const HE=(t,e)=>{const n=WE(t),r=WE(e);if(!n||!r)return xh(t,e);const i={...n};return s=>(i.red=cm(n.red,r.red,s),i.green=cm(n.green,r.green,s),i.blue=cm(n.blue,r.blue,s),i.alpha=je(n.alpha,r.alpha,s),hs.transform(i))},Jg=new Set(["none","hidden"]);function z9(t,e){return Jg.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function W9(t,e){return n=>je(t,e,n)}function s_(t){return typeof t=="number"?W9:typeof t=="string"?n_(t)?xh:St.test(t)?HE:K9:Array.isArray(t)?TR:typeof t=="object"?St.test(t)?HE:H9:xh}function TR(t,e){const n=[...t],r=n.length,i=t.map((s,o)=>s_(s)(s,e[o]));return s=>{for(let o=0;o<r;o++)n[o]=i[o](s);return n}}function H9(t,e){const n={...t,...e},r={};for(const i in n)t[i]!==void 0&&e[i]!==void 0&&(r[i]=s_(t[i])(t[i],e[i]));return i=>{for(const s in r)n[s]=r[s](i);return n}}function G9(t,e){const n=[],r={color:0,var:0,number:0};for(let i=0;i<e.values.length;i++){const s=e.types[i],o=t.indexes[s][r[s]],a=t.values[o]??0;n[i]=a,r[s]++}return n}const K9=(t,e)=>{const n=Di.createTransformer(e),r=hc(t),i=hc(e);return r.indexes.var.length===i.indexes.var.length&&r.indexes.color.length===i.indexes.color.length&&r.indexes.number.length>=i.indexes.number.length?Jg.has(t)&&!i.values.length||Jg.has(e)&&!r.values.length?z9(t,e):zc(TR(G9(r,i),i.values),n):xh(t,e)};function kR(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?je(t,e,n):s_(t)(t,e)}const q9=t=>{const e=({timestamp:n})=>t(n);return{start:(n=!0)=>$e.update(e,n),stop:()=>Ni(e),now:()=>dt.isProcessing?dt.timestamp:Yt.now()}},IR=(t,e,n=10)=>{let r="";const i=Math.max(Math.round(e/n),2);for(let s=0;s<i;s++)r+=t(s/(i-1))+", ";return`linear(${r.substring(0,r.length-2)})`},Eh=2e4;function o_(t){let e=0;const n=50;let r=t.next(e);for(;!r.done&&e<Eh;)e+=n,r=t.next(e);return e>=Eh?1/0:e}function Y9(t,e=100,n){const r=n({...t,keyframes:[0,e]}),i=Math.min(o_(r),Eh);return{type:"keyframes",ease:s=>r.next(i*s).value/e,duration:dr(i)}}const X9=5;function PR(t,e,n){const r=Math.max(e-X9,0);return lR(n-t(r),e-r)}const ze={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},um=.001;function Q9({duration:t=ze.duration,bounce:e=ze.bounce,velocity:n=ze.velocity,mass:r=ze.mass}){let i,s,o=1-e;o=Hr(ze.minDamping,ze.maxDamping,o),t=Hr(ze.minDuration,ze.maxDuration,dr(t)),o<1?(i=c=>{const d=c*o,h=d*t,f=d-n,y=Zg(c,o),v=Math.exp(-h);return um-f/y*v},s=c=>{const h=c*o*t,f=h*n+n,y=Math.pow(o,2)*Math.pow(c,2)*t,v=Math.exp(-h),b=Zg(Math.pow(c,2),o);return(-i(c)+um>0?-1:1)*((f-y)*v)/b}):(i=c=>{const d=Math.exp(-c*t),h=(c-n)*t+1;return-um+d*h},s=c=>{const d=Math.exp(-c*t),h=(n-c)*(t*t);return d*h});const a=5/t,l=Z9(i,s,a);if(t=ur(t),isNaN(l))return{stiffness:ze.stiffness,damping:ze.damping,duration:t};{const c=Math.pow(l,2)*r;return{stiffness:c,damping:o*2*Math.sqrt(r*c),duration:t}}}const J9=12;function Z9(t,e,n){let r=n;for(let i=1;i<J9;i++)r=r-t(r)/e(r);return r}function Zg(t,e){return t*Math.sqrt(1-e*e)}const eB=["duration","bounce"],tB=["stiffness","damping","mass"];function GE(t,e){return e.some(n=>t[n]!==void 0)}function nB(t){let e={velocity:ze.velocity,stiffness:ze.stiffness,damping:ze.damping,mass:ze.mass,isResolvedFromDuration:!1,...t};if(!GE(t,tB)&&GE(t,eB))if(t.visualDuration){const n=t.visualDuration,r=2*Math.PI/(n*1.2),i=r*r,s=2*Hr(.05,1,1-(t.bounce||0))*Math.sqrt(i);e={...e,mass:ze.mass,stiffness:i,damping:s}}else{const n=Q9(t);e={...e,...n,mass:ze.mass},e.isResolvedFromDuration=!0}return e}function Ch(t=ze.visualDuration,e=ze.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:r,restDelta:i}=n;const s=n.keyframes[0],o=n.keyframes[n.keyframes.length-1],a={done:!1,value:s},{stiffness:l,damping:c,mass:d,duration:h,velocity:f,isResolvedFromDuration:y}=nB({...n,velocity:-dr(n.velocity||0)}),v=f||0,b=c/(2*Math.sqrt(l*d)),P=o-s,w=dr(Math.sqrt(l/d)),C=Math.abs(P)<5;r||(r=C?ze.restSpeed.granular:ze.restSpeed.default),i||(i=C?ze.restDelta.granular:ze.restDelta.default);let x;if(b<1){const D=Zg(w,b);x=M=>{const S=Math.exp(-b*w*M);return o-S*((v+b*w*P)/D*Math.sin(D*M)+P*Math.cos(D*M))}}else if(b===1)x=D=>o-Math.exp(-w*D)*(P+(v+w*P)*D);else{const D=w*Math.sqrt(b*b-1);x=M=>{const S=Math.exp(-b*w*M),E=Math.min(D*M,300);return o-S*((v+b*w*P)*Math.sinh(E)+D*P*Math.cosh(E))/D}}const A={calculatedDuration:y&&h||null,next:D=>{const M=x(D);if(y)a.done=D>=h;else{let S=D===0?v:0;b<1&&(S=D===0?ur(v):PR(x,D,M));const E=Math.abs(S)<=r,I=Math.abs(o-M)<=i;a.done=E&&I}return a.value=a.done?o:M,a},toString:()=>{const D=Math.min(o_(A),Eh),M=IR(S=>A.next(D*S).value,D,30);return D+"ms "+M},toTransition:()=>{}};return A}Ch.applyToOptions=t=>{const e=Y9(t,100,Ch);return t.ease=e.ease,t.duration=ur(e.duration),t.type="keyframes",t};function ey({keyframes:t,velocity:e=0,power:n=.8,timeConstant:r=325,bounceDamping:i=10,bounceStiffness:s=500,modifyTarget:o,min:a,max:l,restDelta:c=.5,restSpeed:d}){const h=t[0],f={done:!1,value:h},y=E=>a!==void 0&&E<a||l!==void 0&&E>l,v=E=>a===void 0?l:l===void 0||Math.abs(a-E)<Math.abs(l-E)?a:l;let b=n*e;const P=h+b,w=o===void 0?P:o(P);w!==P&&(b=w-h);const C=E=>-b*Math.exp(-E/r),x=E=>w+C(E),A=E=>{const I=C(E),m=x(E);f.done=Math.abs(I)<=c,f.value=f.done?w:m};let D,M;const S=E=>{y(f.value)&&(D=E,M=Ch({keyframes:[f.value,v(f.value)],velocity:PR(x,E,f.value),damping:i,stiffness:s,restDelta:c,restSpeed:d}))};return S(0),{calculatedDuration:null,next:E=>{let I=!1;return!M&&D===void 0&&(I=!0,A(E),S(E)),D!==void 0&&E>=D?M.next(E-D):(!I&&A(E),f)}}}function rB(t,e,n){const r=[],i=n||Gr.mix||kR,s=t.length-1;for(let o=0;o<s;o++){let a=i(t[o],t[o+1]);if(e){const l=Array.isArray(e)?e[o]||Sn:e;a=zc(l,a)}r.push(a)}return r}function iB(t,e,{clamp:n=!0,ease:r,mixer:i}={}){const s=t.length;if(X0(s===e.length),s===1)return()=>e[0];if(s===2&&e[0]===e[1])return()=>e[1];const o=t[0]===t[1];t[0]>t[s-1]&&(t=[...t].reverse(),e=[...e].reverse());const a=rB(e,r,i),l=a.length,c=d=>{if(o&&d<t[0])return e[0];let h=0;if(l>1)for(;h<t.length-2&&!(d<t[h+1]);h++);const f=uc(t[h],t[h+1],d);return a[h](f)};return n?d=>c(Hr(t[0],t[s-1],d)):c}function sB(t,e){const n=t[t.length-1];for(let r=1;r<=e;r++){const i=uc(0,e,r);t.push(je(n,1,i))}}function oB(t){const e=[0];return sB(e,t.length-1),e}function aB(t,e){return t.map(n=>n*e)}function lB(t,e){return t.map(()=>e||yR).splice(0,t.length-1)}function kl({duration:t=300,keyframes:e,times:n,ease:r="easeInOut"}){const i=_9(r)?r.map(UE):UE(r),s={done:!1,value:e[0]},o=aB(n&&n.length===e.length?n:oB(e),t),a=iB(o,e,{ease:Array.isArray(i)?i:lB(e,i)});return{calculatedDuration:t,next:l=>(s.value=a(l),s.done=l>=t,s)}}const cB=t=>t!==null;function a_(t,{repeat:e,repeatType:n="loop"},r,i=1){const s=t.filter(cB),a=i<0||e&&n!=="loop"&&e%2===1?0:s.length-1;return!a||r===void 0?s[a]:r}const uB={decay:ey,inertia:ey,tween:kl,keyframes:kl,spring:Ch};function RR(t){typeof t.type=="string"&&(t.type=uB[t.type])}class l_{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,n){return this.finished.then(e,n)}}const dB=t=>t/100;class c_ extends l_{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=(n=!0)=>{var r,i;if(n){const{motionValue:s}=this.options;s&&s.updatedAt!==Yt.now()&&this.tick(Yt.now())}this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(i=(r=this.options).onStop)==null||i.call(r))},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;RR(e);const{type:n=kl,repeat:r=0,repeatDelay:i=0,repeatType:s,velocity:o=0}=e;let{keyframes:a}=e;const l=n||kl;l!==kl&&typeof a[0]!="number"&&(this.mixKeyframes=zc(dB,kR(a[0],a[1])),a=[0,100]);const c=l({...e,keyframes:a});s==="mirror"&&(this.mirroredGenerator=l({...e,keyframes:[...a].reverse(),velocity:-o})),c.calculatedDuration===null&&(c.calculatedDuration=o_(c));const{calculatedDuration:d}=c;this.calculatedDuration=d,this.resolvedDuration=d+i,this.totalDuration=this.resolvedDuration*(r+1)-i,this.generator=c}updateTime(e){const n=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(e,n=!1){const{generator:r,totalDuration:i,mixKeyframes:s,mirroredGenerator:o,resolvedDuration:a,calculatedDuration:l}=this;if(this.startTime===null)return r.next(0);const{delay:c=0,keyframes:d,repeat:h,repeatType:f,repeatDelay:y,type:v,onUpdate:b,finalKeyframe:P}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-i/this.speed,this.startTime)),n?this.currentTime=e:this.updateTime(e);const w=this.currentTime-c*(this.playbackSpeed>=0?1:-1),C=this.playbackSpeed>=0?w<0:w>i;this.currentTime=Math.max(w,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=i);let x=this.currentTime,A=r;if(h){const E=Math.min(this.currentTime,i)/a;let I=Math.floor(E),m=E%1;!m&&E>=1&&(m=1),m===1&&I--,I=Math.min(I,h+1),!!(I%2)&&(f==="reverse"?(m=1-m,y&&(m-=y/a)):f==="mirror"&&(A=o)),x=Hr(0,1,m)*a}const D=C?{done:!1,value:d[0]}:A.next(x);s&&(D.value=s(D.value));let{done:M}=D;!C&&l!==null&&(M=this.playbackSpeed>=0?this.currentTime>=i:this.currentTime<=0);const S=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&M);return S&&v!==ey&&(D.value=a_(d,this.options,P,this.speed)),b&&b(D.value),S&&this.finish(),D}then(e,n){return this.finished.then(e,n)}get duration(){return dr(this.calculatedDuration)}get time(){return dr(this.currentTime)}set time(e){var n;e=ur(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),(n=this.driver)==null||n.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(Yt.now());const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=dr(this.currentTime))}play(){var i,s;if(this.isStopped)return;const{driver:e=q9,startTime:n}=this.options;this.driver||(this.driver=e(o=>this.tick(o))),(s=(i=this.options).onPlay)==null||s.call(i);const r=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=r):this.holdTime!==null?this.startTime=r-this.holdTime:this.startTime||(this.startTime=n??r),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(Yt.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var e,n;this.notifyFinished(),this.teardown(),this.state="finished",(n=(e=this.options).onComplete)==null||n.call(e)}cancel(){var e,n;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(n=(e=this.options).onCancel)==null||n.call(e)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){var n;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(n=this.driver)==null||n.stop(),e.observe(this)}}function hB(t){for(let e=1;e<t.length;e++)t[e]??(t[e]=t[e-1])}const fs=t=>t*180/Math.PI,ty=t=>{const e=fs(Math.atan2(t[1],t[0]));return ny(e)},fB={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:ty,rotateZ:ty,skewX:t=>fs(Math.atan(t[1])),skewY:t=>fs(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},ny=t=>(t=t%360,t<0&&(t+=360),t),KE=ty,qE=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),YE=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),pB={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:qE,scaleY:YE,scale:t=>(qE(t)+YE(t))/2,rotateX:t=>ny(fs(Math.atan2(t[6],t[5]))),rotateY:t=>ny(fs(Math.atan2(-t[2],t[0]))),rotateZ:KE,rotate:KE,skewX:t=>fs(Math.atan(t[4])),skewY:t=>fs(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function ry(t){return t.includes("scale")?1:0}function iy(t,e){if(!t||t==="none")return ry(e);const n=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let r,i;if(n)r=pB,i=n;else{const a=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);r=fB,i=a}if(!i)return ry(e);const s=r[e],o=i[1].split(",").map(gB);return typeof s=="function"?s(o):o[s]}const mB=(t,e)=>{const{transform:n="none"}=getComputedStyle(t);return iy(n,e)};function gB(t){return parseFloat(t.trim())}const ya=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],va=(()=>new Set(ya))(),XE=t=>t===ga||t===Z,yB=new Set(["x","y","z"]),vB=ya.filter(t=>!yB.has(t));function _B(t){const e=[];return vB.forEach(n=>{const r=t.getValue(n);r!==void 0&&(e.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),e}const vs={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:(t,{transform:e})=>iy(e,"x"),y:(t,{transform:e})=>iy(e,"y")};vs.translateX=vs.x;vs.translateY=vs.y;const _s=new Set;let sy=!1,oy=!1,ay=!1;function AR(){if(oy){const t=Array.from(_s).filter(r=>r.needsMeasurement),e=new Set(t.map(r=>r.element)),n=new Map;e.forEach(r=>{const i=_B(r);i.length&&(n.set(r,i),r.render())}),t.forEach(r=>r.measureInitialState()),e.forEach(r=>{r.render();const i=n.get(r);i&&i.forEach(([s,o])=>{var a;(a=r.getValue(s))==null||a.set(o)})}),t.forEach(r=>r.measureEndState()),t.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}oy=!1,sy=!1,_s.forEach(t=>t.complete(ay)),_s.clear()}function NR(){_s.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(oy=!0)})}function wB(){ay=!0,NR(),AR(),ay=!1}class u_{constructor(e,n,r,i,s,o=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=r,this.motionValue=i,this.element=s,this.isAsync=o}scheduleResolve(){this.state="scheduled",this.isAsync?(_s.add(this),sy||(sy=!0,$e.read(NR),$e.resolveKeyframes(AR))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:r,motionValue:i}=this;if(e[0]===null){const s=i==null?void 0:i.get(),o=e[e.length-1];if(s!==void 0)e[0]=s;else if(r&&n){const a=r.readValue(n,o);a!=null&&(e[0]=a)}e[0]===void 0&&(e[0]=o),i&&s===void 0&&i.set(e[0])}hB(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),_s.delete(this)}cancel(){this.state==="scheduled"&&(_s.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const xB=t=>t.startsWith("--");function EB(t,e,n){xB(e)?t.style.setProperty(e,n):t.style[e]=n}const CB=Q0(()=>window.ScrollTimeline!==void 0),SB={};function bB(t,e){const n=Q0(t);return()=>SB[e]??n()}const DR=bB(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),sl=([t,e,n,r])=>`cubic-bezier(${t}, ${e}, ${n}, ${r})`,QE={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:sl([0,.65,.55,1]),circOut:sl([.55,0,1,.45]),backIn:sl([.31,.01,.66,-.59]),backOut:sl([.33,1.53,.69,.99])};function OR(t,e){if(t)return typeof t=="function"?DR()?IR(t,e):"ease-out":vR(t)?sl(t):Array.isArray(t)?t.map(n=>OR(n,e)||QE.easeOut):QE[t]}function TB(t,e,n,{delay:r=0,duration:i=300,repeat:s=0,repeatType:o="loop",ease:a="easeOut",times:l}={},c=void 0){const d={[e]:n};l&&(d.offset=l);const h=OR(a,i);Array.isArray(h)&&(d.easing=h);const f={delay:r,duration:i,easing:Array.isArray(h)?"linear":h,fill:"both",iterations:s+1,direction:o==="reverse"?"alternate":"normal"};return c&&(f.pseudoElement=c),t.animate(d,f)}function MR(t){return typeof t=="function"&&"applyToOptions"in t}function kB({type:t,...e}){return MR(t)&&DR()?t.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class IB extends l_{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,!e)return;const{element:n,name:r,keyframes:i,pseudoElement:s,allowFlatten:o=!1,finalKeyframe:a,onComplete:l}=e;this.isPseudoElement=!!s,this.allowFlatten=o,this.options=e,X0(typeof e.type!="string");const c=kB(e);this.animation=TB(n,r,i,c,s),c.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!s){const d=a_(i,this.options,a,this.speed);this.updateMotionValue?this.updateMotionValue(d):EB(n,r,d),this.animation.cancel()}l==null||l(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var e,n;(n=(e=this.animation).finish)==null||n.call(e)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var e,n;this.isPseudoElement||(n=(e=this.animation).commitStyles)==null||n.call(e)}get duration(){var n,r;const e=((r=(n=this.animation.effect)==null?void 0:n.getComputedTiming)==null?void 0:r.call(n).duration)||0;return dr(Number(e))}get time(){return dr(Number(this.animation.currentTime)||0)}set time(e){this.finishedTime=null,this.animation.currentTime=ur(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(e){this.animation.startTime=e}attachTimeline({timeline:e,observe:n}){var r;return this.allowFlatten&&((r=this.animation.effect)==null||r.updateTiming({easing:"linear"})),this.animation.onfinish=null,e&&CB()?(this.animation.timeline=e,Sn):n(this)}}const LR={anticipate:pR,backInOut:fR,circInOut:gR};function PB(t){return t in LR}function RB(t){typeof t.ease=="string"&&PB(t.ease)&&(t.ease=LR[t.ease])}const JE=10;class AB extends IB{constructor(e){RB(e),RR(e),super(e),e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:n,onUpdate:r,onComplete:i,element:s,...o}=this.options;if(!n)return;if(e!==void 0){n.set(e);return}const a=new c_({...o,autoplay:!1}),l=ur(this.finishedTime??this.time);n.setWithVelocity(a.sample(l-JE).value,a.sample(l).value,JE),a.stop()}}const ZE=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(Di.test(t)||t==="0")&&!t.startsWith("url("));function NB(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function DB(t,e,n,r){const i=t[0];if(i===null)return!1;if(e==="display"||e==="visibility")return!0;const s=t[t.length-1],o=ZE(i,e),a=ZE(s,e);return!o||!a?!1:NB(t)||(n==="spring"||MR(n))&&r}function d_(t){return oR(t)&&"offsetHeight"in t}const OB=new Set(["opacity","clipPath","filter","transform"]),MB=Q0(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function LB(t){var c;const{motionValue:e,name:n,repeatDelay:r,repeatType:i,damping:s,type:o}=t;if(!d_((c=e==null?void 0:e.owner)==null?void 0:c.current))return!1;const{onUpdate:a,transformTemplate:l}=e.owner.getProps();return MB()&&n&&OB.has(n)&&(n!=="transform"||!l)&&!a&&!r&&i!=="mirror"&&s!==0&&o!=="inertia"}const jB=40;class FB extends l_{constructor({autoplay:e=!0,delay:n=0,type:r="keyframes",repeat:i=0,repeatDelay:s=0,repeatType:o="loop",keyframes:a,name:l,motionValue:c,element:d,...h}){var v;super(),this.stop=()=>{var b,P;this._animation&&(this._animation.stop(),(b=this.stopTimeline)==null||b.call(this)),(P=this.keyframeResolver)==null||P.cancel()},this.createdAt=Yt.now();const f={autoplay:e,delay:n,type:r,repeat:i,repeatDelay:s,repeatType:o,name:l,motionValue:c,element:d,...h},y=(d==null?void 0:d.KeyframeResolver)||u_;this.keyframeResolver=new y(a,(b,P,w)=>this.onKeyframesResolved(b,P,f,!w),l,c,d),(v=this.keyframeResolver)==null||v.scheduleResolve()}onKeyframesResolved(e,n,r,i){this.keyframeResolver=void 0;const{name:s,type:o,velocity:a,delay:l,isHandoff:c,onUpdate:d}=r;this.resolvedAt=Yt.now(),DB(e,s,o,a)||((Gr.instantAnimations||!l)&&(d==null||d(a_(e,r,n))),e[0]=e[e.length-1],r.duration=0,r.repeat=0);const f={startTime:i?this.resolvedAt?this.resolvedAt-this.createdAt>jB?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...r,keyframes:e},y=!c&&LB(f)?new AB({...f,element:f.motionValue.owner.current}):new c_(f);y.finished.then(()=>this.notifyFinished()).catch(Sn),this.pendingTimeline&&(this.stopTimeline=y.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=y}get finished(){return this._animation?this.animation.finished:this._finished}then(e,n){return this.finished.finally(e).then(()=>{})}get animation(){var e;return this._animation||((e=this.keyframeResolver)==null||e.resume(),wB()),this._animation}get duration(){return this.animation.duration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var e;this._animation&&this.animation.cancel(),(e=this.keyframeResolver)==null||e.cancel()}}const $B=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function UB(t){const e=$B.exec(t);if(!e)return[,];const[,n,r,i]=e;return[`--${n??r}`,i]}function jR(t,e,n=1){const[r,i]=UB(t);if(!r)return;const s=window.getComputedStyle(e).getPropertyValue(r);if(s){const o=s.trim();return sR(o)?parseFloat(o):o}return n_(i)?jR(i,e,n+1):i}function h_(t,e){return(t==null?void 0:t[e])??(t==null?void 0:t.default)??t}const FR=new Set(["width","height","top","left","right","bottom",...ya]),VB={test:t=>t==="auto",parse:t=>t},$R=t=>e=>e.test(t),UR=[ga,Z,hr,ri,N9,A9,VB],eC=t=>UR.find($R(t));function BB(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||aR(t):!0}const zB=new Set(["brightness","contrast","saturate","opacity"]);function WB(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[r]=n.match(r_)||[];if(!r)return t;const i=n.replace(r,"");let s=zB.has(e)?1:0;return r!==n&&(s*=100),e+"("+s+i+")"}const HB=/\b([a-z-]*)\(.*?\)/gu,ly={...Di,getAnimatableNone:t=>{const e=t.match(HB);return e?e.map(WB).join(" "):t}},tC={...ga,transform:Math.round},GB={rotate:ri,rotateX:ri,rotateY:ri,rotateZ:ri,scale:Fu,scaleX:Fu,scaleY:Fu,scaleZ:Fu,skew:ri,skewX:ri,skewY:ri,distance:Z,translateX:Z,translateY:Z,translateZ:Z,x:Z,y:Z,z:Z,perspective:Z,transformPerspective:Z,opacity:dc,originX:BE,originY:BE,originZ:Z},f_={borderWidth:Z,borderTopWidth:Z,borderRightWidth:Z,borderBottomWidth:Z,borderLeftWidth:Z,borderRadius:Z,radius:Z,borderTopLeftRadius:Z,borderTopRightRadius:Z,borderBottomRightRadius:Z,borderBottomLeftRadius:Z,width:Z,maxWidth:Z,height:Z,maxHeight:Z,top:Z,right:Z,bottom:Z,left:Z,padding:Z,paddingTop:Z,paddingRight:Z,paddingBottom:Z,paddingLeft:Z,margin:Z,marginTop:Z,marginRight:Z,marginBottom:Z,marginLeft:Z,backgroundPositionX:Z,backgroundPositionY:Z,...GB,zIndex:tC,fillOpacity:dc,strokeOpacity:dc,numOctaves:tC},KB={...f_,color:St,backgroundColor:St,outlineColor:St,fill:St,stroke:St,borderColor:St,borderTopColor:St,borderRightColor:St,borderBottomColor:St,borderLeftColor:St,filter:ly,WebkitFilter:ly},VR=t=>KB[t];function BR(t,e){let n=VR(t);return n!==ly&&(n=Di),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const qB=new Set(["auto","none","0"]);function YB(t,e,n){let r=0,i;for(;r<t.length&&!i;){const s=t[r];typeof s=="string"&&!qB.has(s)&&hc(s).values.length&&(i=t[r]),r++}if(i&&n)for(const s of e)t[s]=BR(n,i)}class XB extends u_{constructor(e,n,r,i,s){super(e,n,r,i,s,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let l=0;l<e.length;l++){let c=e[l];if(typeof c=="string"&&(c=c.trim(),n_(c))){const d=jR(c,n.current);d!==void 0&&(e[l]=d),l===e.length-1&&(this.finalKeyframe=c)}}if(this.resolveNoneKeyframes(),!FR.has(r)||e.length!==2)return;const[i,s]=e,o=eC(i),a=eC(s);if(o!==a)if(XE(o)&&XE(a))for(let l=0;l<e.length;l++){const c=e[l];typeof c=="string"&&(e[l]=parseFloat(c))}else vs[r]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,r=[];for(let i=0;i<e.length;i++)(e[i]===null||BB(e[i]))&&r.push(i);r.length&&YB(e,r,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:r}=this;if(!e||!e.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=vs[r](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const i=n[n.length-1];i!==void 0&&e.getValue(r,i).jump(i,!1)}measureEndState(){var a;const{element:e,name:n,unresolvedKeyframes:r}=this;if(!e||!e.current)return;const i=e.getValue(n);i&&i.jump(this.measuredOrigin,!1);const s=r.length-1,o=r[s];r[s]=vs[n](e.measureViewportBox(),window.getComputedStyle(e.current)),o!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=o),(a=this.removedTransforms)!=null&&a.length&&this.removedTransforms.forEach(([l,c])=>{e.getValue(l).set(c)}),this.resolveNoneKeyframes()}}function QB(t,e,n){if(t instanceof EventTarget)return[t];if(typeof t=="string"){let r=document;e&&(r=e.current);const i=(n==null?void 0:n[t])??r.querySelectorAll(t);return i?Array.from(i):[]}return Array.from(t)}const nC=30,JB=t=>!isNaN(parseFloat(t));class ZB{constructor(e,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=(r,i=!0)=>{var o,a;const s=Yt.now();if(this.updatedAt!==s&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&((o=this.events.change)==null||o.notify(this.current),this.dependents))for(const l of this.dependents)l.dirty();i&&((a=this.events.renderRequest)==null||a.notify(this.current))},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=Yt.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=JB(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new J0);const r=this.events[e].add(n);return e==="change"?()=>{r(),$e.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e,n=!0){!n||!this.passiveEffect?this.updateAndNotify(e,n):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-r}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var e;(e=this.events.change)==null||e.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=Yt.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>nC)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,nC);return lR(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var e,n;(e=this.dependents)==null||e.clear(),(n=this.events.destroy)==null||n.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Jo(t,e){return new ZB(t,e)}const zR=(t,e)=>e&&typeof t=="number"?e.transform(t):t,{schedule:p_,cancel:qq}=_R(queueMicrotask,!1),On={x:!1,y:!1};function WR(){return On.x||On.y}function ez(t){return t==="x"||t==="y"?On[t]?null:(On[t]=!0,()=>{On[t]=!1}):On.x||On.y?null:(On.x=On.y=!0,()=>{On.x=On.y=!1})}function HR(t,e){const n=QB(t),r=new AbortController,i={passive:!0,...e,signal:r.signal};return[n,i,()=>r.abort()]}function rC(t){return!(t.pointerType==="touch"||WR())}function tz(t,e,n={}){const[r,i,s]=HR(t,n),o=a=>{if(!rC(a))return;const{target:l}=a,c=e(l,a);if(typeof c!="function"||!l)return;const d=h=>{rC(h)&&(c(h),l.removeEventListener("pointerleave",d))};l.addEventListener("pointerleave",d,i)};return r.forEach(a=>{a.addEventListener("pointerenter",o,i)}),s}const GR=(t,e)=>e?t===e?!0:GR(t,e.parentElement):!1,m_=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,nz=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function rz(t){return nz.has(t.tagName)||t.tabIndex!==-1}const fd=new WeakSet;function iC(t){return e=>{e.key==="Enter"&&t(e)}}function dm(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const iz=(t,e)=>{const n=t.currentTarget;if(!n)return;const r=iC(()=>{if(fd.has(n))return;dm(n,"down");const i=iC(()=>{dm(n,"up")}),s=()=>dm(n,"cancel");n.addEventListener("keyup",i,e),n.addEventListener("blur",s,e)});n.addEventListener("keydown",r,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),e)};function sC(t){return m_(t)&&!WR()}function sz(t,e,n={}){const[r,i,s]=HR(t,n),o=a=>{const l=a.currentTarget;if(!sC(a))return;fd.add(l);const c=e(l,a),d=(y,v)=>{window.removeEventListener("pointerup",h),window.removeEventListener("pointercancel",f),fd.has(l)&&fd.delete(l),sC(y)&&typeof c=="function"&&c(y,{success:v})},h=y=>{d(y,l===window||l===document||n.useGlobalTarget||GR(l,y.target))},f=y=>{d(y,!1)};window.addEventListener("pointerup",h,i),window.addEventListener("pointercancel",f,i)};return r.forEach(a=>{(n.useGlobalTarget?window:a).addEventListener("pointerdown",o,i),d_(a)&&(a.addEventListener("focus",c=>iz(c,i)),!rz(a)&&!a.hasAttribute("tabindex")&&(a.tabIndex=0))}),s}function KR(t){return oR(t)&&"ownerSVGElement"in t}function oz(t){return KR(t)&&t.tagName==="svg"}const Tt=t=>!!(t&&t.getVelocity),az=[...UR,St,Di],lz=t=>az.find($R(t)),g_=k.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});class cz extends k.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const r=n.offsetParent,i=d_(r)&&r.offsetWidth||0,s=this.props.sizeRef.current;s.height=n.offsetHeight||0,s.width=n.offsetWidth||0,s.top=n.offsetTop,s.left=n.offsetLeft,s.right=i-s.width-s.left}return null}componentDidUpdate(){}render(){return this.props.children}}function uz({children:t,isPresent:e,anchorX:n}){const r=k.useId(),i=k.useRef(null),s=k.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:o}=k.useContext(g_);return k.useInsertionEffect(()=>{const{width:a,height:l,top:c,left:d,right:h}=s.current;if(e||!i.current||!a||!l)return;const f=n==="left"?`left: ${d}`:`right: ${h}`;i.current.dataset.motionPopId=r;const y=document.createElement("style");return o&&(y.nonce=o),document.head.appendChild(y),y.sheet&&y.sheet.insertRule(`
          [data-motion-pop-id="${r}"] {
            position: absolute !important;
            width: ${a}px !important;
            height: ${l}px !important;
            ${f}px !important;
            top: ${c}px !important;
          }
        `),()=>{document.head.contains(y)&&document.head.removeChild(y)}},[e]),_.jsx(cz,{isPresent:e,childRef:i,sizeRef:s,children:k.cloneElement(t,{ref:i})})}const dz=({children:t,initial:e,isPresent:n,onExitComplete:r,custom:i,presenceAffectsLayout:s,mode:o,anchorX:a})=>{const l=G0(hz),c=k.useId();let d=!0,h=k.useMemo(()=>(d=!1,{id:c,initial:e,isPresent:n,custom:i,onExitComplete:f=>{l.set(f,!0);for(const y of l.values())if(!y)return;r&&r()},register:f=>(l.set(f,!1),()=>l.delete(f))}),[n,l,r]);return s&&d&&(h={...h}),k.useMemo(()=>{l.forEach((f,y)=>l.set(y,!1))},[n]),k.useEffect(()=>{!n&&!l.size&&r&&r()},[n]),o==="popLayout"&&(t=_.jsx(uz,{isPresent:n,anchorX:a,children:t})),_.jsx(gf.Provider,{value:h,children:t})};function hz(){return new Map}function qR(t=!0){const e=k.useContext(gf);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:r,register:i}=e,s=k.useId();k.useEffect(()=>{if(t)return i(s)},[t]);const o=k.useCallback(()=>t&&r&&r(s),[s,r,t]);return!n&&r?[!1,o]:[!0]}const $u=t=>t.key||"";function oC(t){const e=[];return k.Children.forEach(t,n=>{k.isValidElement(n)&&e.push(n)}),e}const fz=({children:t,custom:e,initial:n=!0,onExitComplete:r,presenceAffectsLayout:i=!0,mode:s="sync",propagate:o=!1,anchorX:a="left"})=>{const[l,c]=qR(o),d=k.useMemo(()=>oC(t),[t]),h=o&&!l?[]:d.map($u),f=k.useRef(!0),y=k.useRef(d),v=G0(()=>new Map),[b,P]=k.useState(d),[w,C]=k.useState(d);iR(()=>{f.current=!1,y.current=d;for(let D=0;D<w.length;D++){const M=$u(w[D]);h.includes(M)?v.delete(M):v.get(M)!==!0&&v.set(M,!1)}},[w,h.length,h.join("-")]);const x=[];if(d!==b){let D=[...d];for(let M=0;M<w.length;M++){const S=w[M],E=$u(S);h.includes(E)||(D.splice(M,0,S),x.push(S))}return s==="wait"&&x.length&&(D=x),C(oC(D)),P(d),null}const{forceRender:A}=k.useContext(H0);return _.jsx(_.Fragment,{children:w.map(D=>{const M=$u(D),S=o&&!l?!1:d===w||h.includes(M),E=()=>{if(v.has(M))v.set(M,!0);else return;let I=!0;v.forEach(m=>{m||(I=!1)}),I&&(A==null||A(),C(y.current),o&&(c==null||c()),r&&r())};return _.jsx(dz,{isPresent:S,initial:!f.current||n?void 0:!1,custom:e,presenceAffectsLayout:i,mode:s,onExitComplete:S?void 0:E,anchorX:a,children:D},M)})})},YR=k.createContext({strict:!1}),aC={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Zo={};for(const t in aC)Zo[t]={isEnabled:e=>aC[t].some(n=>!!e[n])};function pz(t){for(const e in t)Zo[e]={...Zo[e],...t[e]}}const mz=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Sh(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||mz.has(t)}let XR=t=>!Sh(t);function gz(t){t&&(XR=e=>e.startsWith("on")?!Sh(e):t(e))}try{gz(require("@emotion/is-prop-valid").default)}catch{}function yz(t,e,n){const r={};for(const i in t)i==="values"&&typeof t.values=="object"||(XR(i)||n===!0&&Sh(i)||!e&&!Sh(i)||t.draggable&&i.startsWith("onDrag"))&&(r[i]=t[i]);return r}function vz(t){if(typeof Proxy>"u")return t;const e=new Map,n=(...r)=>t(...r);return new Proxy(n,{get:(r,i)=>i==="create"?t:(e.has(i)||e.set(i,t(i)),e.get(i))})}const yf=k.createContext({});function vf(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function fc(t){return typeof t=="string"||Array.isArray(t)}const y_=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],v_=["initial",...y_];function _f(t){return vf(t.animate)||v_.some(e=>fc(t[e]))}function QR(t){return!!(_f(t)||t.variants)}function _z(t,e){if(_f(t)){const{initial:n,animate:r}=t;return{initial:n===!1||fc(n)?n:void 0,animate:fc(r)?r:void 0}}return t.inherit!==!1?e:{}}function wz(t){const{initial:e,animate:n}=_z(t,k.useContext(yf));return k.useMemo(()=>({initial:e,animate:n}),[lC(e),lC(n)])}function lC(t){return Array.isArray(t)?t.join(" "):t}const xz=Symbol.for("motionComponentSymbol");function yo(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function Ez(t,e,n){return k.useCallback(r=>{r&&t.onMount&&t.onMount(r),e&&(r?e.mount(r):e.unmount()),n&&(typeof n=="function"?n(r):yo(n)&&(n.current=r))},[e])}const __=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),Cz="framerAppearId",JR="data-"+__(Cz),ZR=k.createContext({});function Sz(t,e,n,r,i){var b,P;const{visualElement:s}=k.useContext(yf),o=k.useContext(YR),a=k.useContext(gf),l=k.useContext(g_).reducedMotion,c=k.useRef(null);r=r||o.renderer,!c.current&&r&&(c.current=r(t,{visualState:e,parent:s,props:n,presenceContext:a,blockInitialAnimation:a?a.initial===!1:!1,reducedMotionConfig:l}));const d=c.current,h=k.useContext(ZR);d&&!d.projection&&i&&(d.type==="html"||d.type==="svg")&&bz(c.current,n,i,h);const f=k.useRef(!1);k.useInsertionEffect(()=>{d&&f.current&&d.update(n,a)});const y=n[JR],v=k.useRef(!!y&&!((b=window.MotionHandoffIsComplete)!=null&&b.call(window,y))&&((P=window.MotionHasOptimisedAnimation)==null?void 0:P.call(window,y)));return iR(()=>{d&&(f.current=!0,window.MotionIsMounted=!0,d.updateFeatures(),p_.render(d.render),v.current&&d.animationState&&d.animationState.animateChanges())}),k.useEffect(()=>{d&&(!v.current&&d.animationState&&d.animationState.animateChanges(),v.current&&(queueMicrotask(()=>{var w;(w=window.MotionHandoffMarkAsComplete)==null||w.call(window,y)}),v.current=!1))}),d}function bz(t,e,n,r){const{layoutId:i,layout:s,drag:o,dragConstraints:a,layoutScroll:l,layoutRoot:c,layoutCrossfade:d}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:eA(t.parent)),t.projection.setOptions({layoutId:i,layout:s,alwaysMeasureLayout:!!o||a&&yo(a),visualElement:t,animationType:typeof s=="string"?s:"both",initialPromotionConfig:r,crossfade:d,layoutScroll:l,layoutRoot:c})}function eA(t){if(t)return t.options.allowProjection!==!1?t.projection:eA(t.parent)}function Tz({preloadedFeatures:t,createVisualElement:e,useRender:n,useVisualState:r,Component:i}){t&&pz(t);function s(a,l){let c;const d={...k.useContext(g_),...a,layoutId:kz(a)},{isStatic:h}=d,f=wz(a),y=r(a,h);if(!h&&K0){Iz();const v=Pz(d);c=v.MeasureLayout,f.visualElement=Sz(i,y,d,e,v.ProjectionNode)}return _.jsxs(yf.Provider,{value:f,children:[c&&f.visualElement?_.jsx(c,{visualElement:f.visualElement,...d}):null,n(i,a,Ez(y,f.visualElement,l),y,h,f.visualElement)]})}s.displayName=`motion.${typeof i=="string"?i:`create(${i.displayName??i.name??""})`}`;const o=k.forwardRef(s);return o[xz]=i,o}function kz({layoutId:t}){const e=k.useContext(H0).id;return e&&t!==void 0?e+"-"+t:t}function Iz(t,e){k.useContext(YR).strict}function Pz(t){const{drag:e,layout:n}=Zo;if(!e&&!n)return{};const r={...e,...n};return{MeasureLayout:e!=null&&e.isEnabled(t)||n!=null&&n.isEnabled(t)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}const pc={};function Rz(t){for(const e in t)pc[e]=t[e],t_(e)&&(pc[e].isCSSVariable=!0)}function tA(t,{layout:e,layoutId:n}){return va.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!pc[t]||t==="opacity")}const Az={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},Nz=ya.length;function Dz(t,e,n){let r="",i=!0;for(let s=0;s<Nz;s++){const o=ya[s],a=t[o];if(a===void 0)continue;let l=!0;if(typeof a=="number"?l=a===(o.startsWith("scale")?1:0):l=parseFloat(a)===0,!l||n){const c=zR(a,f_[o]);if(!l){i=!1;const d=Az[o]||o;r+=`${d}(${c}) `}n&&(e[o]=c)}}return r=r.trim(),n?r=n(e,i?"":r):i&&(r="none"),r}function w_(t,e,n){const{style:r,vars:i,transformOrigin:s}=t;let o=!1,a=!1;for(const l in e){const c=e[l];if(va.has(l)){o=!0;continue}else if(t_(l)){i[l]=c;continue}else{const d=zR(c,f_[l]);l.startsWith("origin")?(a=!0,s[l]=d):r[l]=d}}if(e.transform||(o||n?r.transform=Dz(e,t.transform,n):r.transform&&(r.transform="none")),a){const{originX:l="50%",originY:c="50%",originZ:d=0}=s;r.transformOrigin=`${l} ${c} ${d}`}}const x_=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function nA(t,e,n){for(const r in e)!Tt(e[r])&&!tA(r,n)&&(t[r]=e[r])}function Oz({transformTemplate:t},e){return k.useMemo(()=>{const n=x_();return w_(n,e,t),Object.assign({},n.vars,n.style)},[e])}function Mz(t,e){const n=t.style||{},r={};return nA(r,n,t),Object.assign(r,Oz(t,e)),r}function Lz(t,e){const n={},r=Mz(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=r,n}const jz={offset:"stroke-dashoffset",array:"stroke-dasharray"},Fz={offset:"strokeDashoffset",array:"strokeDasharray"};function $z(t,e,n=1,r=0,i=!0){t.pathLength=1;const s=i?jz:Fz;t[s.offset]=Z.transform(-r);const o=Z.transform(e),a=Z.transform(n);t[s.array]=`${o} ${a}`}function rA(t,{attrX:e,attrY:n,attrScale:r,pathLength:i,pathSpacing:s=1,pathOffset:o=0,...a},l,c,d){if(w_(t,a,c),l){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:h,style:f}=t;h.transform&&(f.transform=h.transform,delete h.transform),(f.transform||h.transformOrigin)&&(f.transformOrigin=h.transformOrigin??"50% 50%",delete h.transformOrigin),f.transform&&(f.transformBox=(d==null?void 0:d.transformBox)??"fill-box",delete h.transformBox),e!==void 0&&(h.x=e),n!==void 0&&(h.y=n),r!==void 0&&(h.scale=r),i!==void 0&&$z(h,i,s,o,!1)}const iA=()=>({...x_(),attrs:{}}),sA=t=>typeof t=="string"&&t.toLowerCase()==="svg";function Uz(t,e,n,r){const i=k.useMemo(()=>{const s=iA();return rA(s,e,sA(r),t.transformTemplate,t.style),{...s.attrs,style:{...s.style}}},[e]);if(t.style){const s={};nA(s,t.style,t),i.style={...s,...i.style}}return i}const Vz=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function E_(t){return typeof t!="string"||t.includes("-")?!1:!!(Vz.indexOf(t)>-1||/[A-Z]/u.test(t))}function Bz(t=!1){return(n,r,i,{latestValues:s},o)=>{const l=(E_(n)?Uz:Lz)(r,s,o,n),c=yz(r,typeof n=="string",t),d=n!==k.Fragment?{...c,...l,ref:i}:{},{children:h}=r,f=k.useMemo(()=>Tt(h)?h.get():h,[h]);return k.createElement(n,{...d,children:f})}}function cC(t){const e=[{},{}];return t==null||t.values.forEach((n,r)=>{e[0][r]=n.get(),e[1][r]=n.getVelocity()}),e}function C_(t,e,n,r){if(typeof e=="function"){const[i,s]=cC(r);e=e(n!==void 0?n:t.custom,i,s)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[i,s]=cC(r);e=e(n!==void 0?n:t.custom,i,s)}return e}function pd(t){return Tt(t)?t.get():t}function zz({scrapeMotionValuesFromProps:t,createRenderState:e},n,r,i){return{latestValues:Wz(n,r,i,t),renderState:e()}}const oA=t=>(e,n)=>{const r=k.useContext(yf),i=k.useContext(gf),s=()=>zz(t,e,r,i);return n?s():G0(s)};function Wz(t,e,n,r){const i={},s=r(t,{});for(const f in s)i[f]=pd(s[f]);let{initial:o,animate:a}=t;const l=_f(t),c=QR(t);e&&c&&!l&&t.inherit!==!1&&(o===void 0&&(o=e.initial),a===void 0&&(a=e.animate));let d=n?n.initial===!1:!1;d=d||o===!1;const h=d?a:o;if(h&&typeof h!="boolean"&&!vf(h)){const f=Array.isArray(h)?h:[h];for(let y=0;y<f.length;y++){const v=C_(t,f[y]);if(v){const{transitionEnd:b,transition:P,...w}=v;for(const C in w){let x=w[C];if(Array.isArray(x)){const A=d?x.length-1:0;x=x[A]}x!==null&&(i[C]=x)}for(const C in b)i[C]=b[C]}}}return i}function S_(t,e,n){var s;const{style:r}=t,i={};for(const o in r)(Tt(r[o])||e.style&&Tt(e.style[o])||tA(o,t)||((s=n==null?void 0:n.getValue(o))==null?void 0:s.liveStyle)!==void 0)&&(i[o]=r[o]);return i}const Hz={useVisualState:oA({scrapeMotionValuesFromProps:S_,createRenderState:x_})};function aA(t,e,n){const r=S_(t,e,n);for(const i in t)if(Tt(t[i])||Tt(e[i])){const s=ya.indexOf(i)!==-1?"attr"+i.charAt(0).toUpperCase()+i.substring(1):i;r[s]=t[i]}return r}const Gz={useVisualState:oA({scrapeMotionValuesFromProps:aA,createRenderState:iA})};function Kz(t,e){return function(r,{forwardMotionProps:i}={forwardMotionProps:!1}){const o={...E_(r)?Gz:Hz,preloadedFeatures:t,useRender:Bz(i),createVisualElement:e,Component:r};return Tz(o)}}function mc(t,e,n){const r=t.getProps();return C_(r,e,n!==void 0?n:r.custom,t)}const cy=t=>Array.isArray(t);function qz(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,Jo(n))}function Yz(t){return cy(t)?t[t.length-1]||0:t}function Xz(t,e){const n=mc(t,e);let{transitionEnd:r={},transition:i={},...s}=n||{};s={...s,...r};for(const o in s){const a=Yz(s[o]);qz(t,o,a)}}function Qz(t){return!!(Tt(t)&&t.add)}function uy(t,e){const n=t.getValue("willChange");if(Qz(n))return n.add(e);if(!n&&Gr.WillChange){const r=new Gr.WillChange("auto");t.addValue("willChange",r),r.add(e)}}function lA(t){return t.props[JR]}const Jz=t=>t!==null;function Zz(t,{repeat:e,repeatType:n="loop"},r){const i=t.filter(Jz),s=e&&n!=="loop"&&e%2===1?0:i.length-1;return!s||r===void 0?i[s]:r}const e8={type:"spring",stiffness:500,damping:25,restSpeed:10},t8=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),n8={type:"keyframes",duration:.8},r8={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},i8=(t,{keyframes:e})=>e.length>2?n8:va.has(t)?t.startsWith("scale")?t8(e[1]):e8:r8;function s8({when:t,delay:e,delayChildren:n,staggerChildren:r,staggerDirection:i,repeat:s,repeatType:o,repeatDelay:a,from:l,elapsed:c,...d}){return!!Object.keys(d).length}const b_=(t,e,n,r={},i,s)=>o=>{const a=h_(r,t)||{},l=a.delay||r.delay||0;let{elapsed:c=0}=r;c=c-ur(l);const d={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...a,delay:-c,onUpdate:f=>{e.set(f),a.onUpdate&&a.onUpdate(f)},onComplete:()=>{o(),a.onComplete&&a.onComplete()},name:t,motionValue:e,element:s?void 0:i};s8(a)||Object.assign(d,i8(t,d)),d.duration&&(d.duration=ur(d.duration)),d.repeatDelay&&(d.repeatDelay=ur(d.repeatDelay)),d.from!==void 0&&(d.keyframes[0]=d.from);let h=!1;if((d.type===!1||d.duration===0&&!d.repeatDelay)&&(d.duration=0,d.delay===0&&(h=!0)),(Gr.instantAnimations||Gr.skipAnimations)&&(h=!0,d.duration=0,d.delay=0),d.allowFlatten=!a.type&&!a.ease,h&&!s&&e.get()!==void 0){const f=Zz(d.keyframes,a);if(f!==void 0){$e.update(()=>{d.onUpdate(f),d.onComplete()});return}}return a.isSync?new c_(d):new FB(d)};function o8({protectedKeys:t,needsAnimating:e},n){const r=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,r}function cA(t,e,{delay:n=0,transitionOverride:r,type:i}={}){let{transition:s=t.getDefaultTransition(),transitionEnd:o,...a}=e;r&&(s=r);const l=[],c=i&&t.animationState&&t.animationState.getState()[i];for(const d in a){const h=t.getValue(d,t.latestValues[d]??null),f=a[d];if(f===void 0||c&&o8(c,d))continue;const y={delay:n,...h_(s||{},d)},v=h.get();if(v!==void 0&&!h.isAnimating&&!Array.isArray(f)&&f===v&&!y.velocity)continue;let b=!1;if(window.MotionHandoffAnimation){const w=lA(t);if(w){const C=window.MotionHandoffAnimation(w,d,$e);C!==null&&(y.startTime=C,b=!0)}}uy(t,d),h.start(b_(d,h,f,t.shouldReduceMotion&&FR.has(d)?{type:!1}:y,t,b));const P=h.animation;P&&l.push(P)}return o&&Promise.all(l).then(()=>{$e.update(()=>{o&&Xz(t,o)})}),l}function dy(t,e,n={}){var l;const r=mc(t,e,n.type==="exit"?(l=t.presenceContext)==null?void 0:l.custom:void 0);let{transition:i=t.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(i=n.transitionOverride);const s=r?()=>Promise.all(cA(t,r,n)):()=>Promise.resolve(),o=t.variantChildren&&t.variantChildren.size?(c=0)=>{const{delayChildren:d=0,staggerChildren:h,staggerDirection:f}=i;return a8(t,e,d+c,h,f,n)}:()=>Promise.resolve(),{when:a}=i;if(a){const[c,d]=a==="beforeChildren"?[s,o]:[o,s];return c().then(()=>d())}else return Promise.all([s(),o(n.delay)])}function a8(t,e,n=0,r=0,i=1,s){const o=[],a=(t.variantChildren.size-1)*r,l=i===1?(c=0)=>c*r:(c=0)=>a-c*r;return Array.from(t.variantChildren).sort(l8).forEach((c,d)=>{c.notify("AnimationStart",e),o.push(dy(c,e,{...s,delay:n+l(d)}).then(()=>c.notify("AnimationComplete",e)))}),Promise.all(o)}function l8(t,e){return t.sortNodePosition(e)}function c8(t,e,n={}){t.notify("AnimationStart",e);let r;if(Array.isArray(e)){const i=e.map(s=>dy(t,s,n));r=Promise.all(i)}else if(typeof e=="string")r=dy(t,e,n);else{const i=typeof e=="function"?mc(t,e,n.custom):e;r=Promise.all(cA(t,i,n))}return r.then(()=>{t.notify("AnimationComplete",e)})}function uA(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}const u8=v_.length;function dA(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?dA(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<u8;n++){const r=v_[n],i=t.props[r];(fc(i)||i===!1)&&(e[r]=i)}return e}const d8=[...y_].reverse(),h8=y_.length;function f8(t){return e=>Promise.all(e.map(({animation:n,options:r})=>c8(t,n,r)))}function p8(t){let e=f8(t),n=uC(),r=!0;const i=l=>(c,d)=>{var f;const h=mc(t,d,l==="exit"?(f=t.presenceContext)==null?void 0:f.custom:void 0);if(h){const{transition:y,transitionEnd:v,...b}=h;c={...c,...b,...v}}return c};function s(l){e=l(t)}function o(l){const{props:c}=t,d=dA(t.parent)||{},h=[],f=new Set;let y={},v=1/0;for(let P=0;P<h8;P++){const w=d8[P],C=n[w],x=c[w]!==void 0?c[w]:d[w],A=fc(x),D=w===l?C.isActive:null;D===!1&&(v=P);let M=x===d[w]&&x!==c[w]&&A;if(M&&r&&t.manuallyAnimateOnMount&&(M=!1),C.protectedKeys={...y},!C.isActive&&D===null||!x&&!C.prevProp||vf(x)||typeof x=="boolean")continue;const S=m8(C.prevProp,x);let E=S||w===l&&C.isActive&&!M&&A||P>v&&A,I=!1;const m=Array.isArray(x)?x:[x];let R=m.reduce(i(w),{});D===!1&&(R={});const{prevResolvedValues:O={}}=C,N={...O,...R},W=te=>{E=!0,f.has(te)&&(I=!0,f.delete(te)),C.needsAnimating[te]=!0;const V=t.getValue(te);V&&(V.liveStyle=!1)};for(const te in N){const V=R[te],Y=O[te];if(y.hasOwnProperty(te))continue;let Q=!1;cy(V)&&cy(Y)?Q=!uA(V,Y):Q=V!==Y,Q?V!=null?W(te):f.add(te):V!==void 0&&f.has(te)?W(te):C.protectedKeys[te]=!0}C.prevProp=x,C.prevResolvedValues=R,C.isActive&&(y={...y,...R}),r&&t.blockInitialAnimation&&(E=!1),E&&(!(M&&S)||I)&&h.push(...m.map(te=>({animation:te,options:{type:w}})))}if(f.size){const P={};if(typeof c.initial!="boolean"){const w=mc(t,Array.isArray(c.initial)?c.initial[0]:c.initial);w&&w.transition&&(P.transition=w.transition)}f.forEach(w=>{const C=t.getBaseTarget(w),x=t.getValue(w);x&&(x.liveStyle=!0),P[w]=C??null}),h.push({animation:P})}let b=!!h.length;return r&&(c.initial===!1||c.initial===c.animate)&&!t.manuallyAnimateOnMount&&(b=!1),r=!1,b?e(h):Promise.resolve()}function a(l,c){var h;if(n[l].isActive===c)return Promise.resolve();(h=t.variantChildren)==null||h.forEach(f=>{var y;return(y=f.animationState)==null?void 0:y.setActive(l,c)}),n[l].isActive=c;const d=o(l);for(const f in n)n[f].protectedKeys={};return d}return{animateChanges:o,setActive:a,setAnimateFunction:s,getState:()=>n,reset:()=>{n=uC(),r=!0}}}function m8(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!uA(e,t):!1}function Yi(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function uC(){return{animate:Yi(!0),whileInView:Yi(),whileHover:Yi(),whileTap:Yi(),whileDrag:Yi(),whileFocus:Yi(),exit:Yi()}}class zi{constructor(e){this.isMounted=!1,this.node=e}update(){}}class g8 extends zi{constructor(e){super(e),e.animationState||(e.animationState=p8(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();vf(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)==null||e.call(this)}}let y8=0;class v8 extends zi{constructor(){super(...arguments),this.id=y8++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const i=this.node.animationState.setActive("exit",!e);n&&!e&&i.then(()=>{n(this.id)})}mount(){const{register:e,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const _8={animation:{Feature:g8},exit:{Feature:v8}};function gc(t,e,n,r={passive:!0}){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n)}function Gc(t){return{point:{x:t.pageX,y:t.pageY}}}const w8=t=>e=>m_(e)&&t(e,Gc(e));function Il(t,e,n,r){return gc(t,e,w8(n),r)}function hA({top:t,left:e,right:n,bottom:r}){return{x:{min:e,max:n},y:{min:t,max:r}}}function x8({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function E8(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),r=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}const fA=1e-4,C8=1-fA,S8=1+fA,pA=.01,b8=0-pA,T8=0+pA;function jt(t){return t.max-t.min}function k8(t,e,n){return Math.abs(t-e)<=n}function dC(t,e,n,r=.5){t.origin=r,t.originPoint=je(e.min,e.max,t.origin),t.scale=jt(n)/jt(e),t.translate=je(n.min,n.max,t.origin)-t.originPoint,(t.scale>=C8&&t.scale<=S8||isNaN(t.scale))&&(t.scale=1),(t.translate>=b8&&t.translate<=T8||isNaN(t.translate))&&(t.translate=0)}function Pl(t,e,n,r){dC(t.x,e.x,n.x,r?r.originX:void 0),dC(t.y,e.y,n.y,r?r.originY:void 0)}function hC(t,e,n){t.min=n.min+e.min,t.max=t.min+jt(e)}function I8(t,e,n){hC(t.x,e.x,n.x),hC(t.y,e.y,n.y)}function fC(t,e,n){t.min=e.min-n.min,t.max=t.min+jt(e)}function Rl(t,e,n){fC(t.x,e.x,n.x),fC(t.y,e.y,n.y)}const pC=()=>({translate:0,scale:1,origin:0,originPoint:0}),vo=()=>({x:pC(),y:pC()}),mC=()=>({min:0,max:0}),qe=()=>({x:mC(),y:mC()});function yn(t){return[t("x"),t("y")]}function hm(t){return t===void 0||t===1}function hy({scale:t,scaleX:e,scaleY:n}){return!hm(t)||!hm(e)||!hm(n)}function ts(t){return hy(t)||mA(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function mA(t){return gC(t.x)||gC(t.y)}function gC(t){return t&&t!=="0%"}function bh(t,e,n){const r=t-n,i=e*r;return n+i}function yC(t,e,n,r,i){return i!==void 0&&(t=bh(t,i,r)),bh(t,n,r)+e}function fy(t,e=0,n=1,r,i){t.min=yC(t.min,e,n,r,i),t.max=yC(t.max,e,n,r,i)}function gA(t,{x:e,y:n}){fy(t.x,e.translate,e.scale,e.originPoint),fy(t.y,n.translate,n.scale,n.originPoint)}const vC=.999999999999,_C=1.0000000000001;function P8(t,e,n,r=!1){const i=n.length;if(!i)return;e.x=e.y=1;let s,o;for(let a=0;a<i;a++){s=n[a],o=s.projectionDelta;const{visualElement:l}=s.options;l&&l.props.style&&l.props.style.display==="contents"||(r&&s.options.layoutScroll&&s.scroll&&s!==s.root&&wo(t,{x:-s.scroll.offset.x,y:-s.scroll.offset.y}),o&&(e.x*=o.x.scale,e.y*=o.y.scale,gA(t,o)),r&&ts(s.latestValues)&&wo(t,s.latestValues))}e.x<_C&&e.x>vC&&(e.x=1),e.y<_C&&e.y>vC&&(e.y=1)}function _o(t,e){t.min=t.min+e,t.max=t.max+e}function wC(t,e,n,r,i=.5){const s=je(t.min,t.max,i);fy(t,e,n,s,r)}function wo(t,e){wC(t.x,e.x,e.scaleX,e.scale,e.originX),wC(t.y,e.y,e.scaleY,e.scale,e.originY)}function yA(t,e){return hA(E8(t.getBoundingClientRect(),e))}function R8(t,e,n){const r=yA(t,n),{scroll:i}=e;return i&&(_o(r.x,i.offset.x),_o(r.y,i.offset.y)),r}const vA=({current:t})=>t?t.ownerDocument.defaultView:null,xC=(t,e)=>Math.abs(t-e);function A8(t,e){const n=xC(t.x,e.x),r=xC(t.y,e.y);return Math.sqrt(n**2+r**2)}class _A{constructor(e,n,{transformPagePoint:r,contextWindow:i,dragSnapToOrigin:s=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const h=pm(this.lastMoveEventInfo,this.history),f=this.startEvent!==null,y=A8(h.offset,{x:0,y:0})>=3;if(!f&&!y)return;const{point:v}=h,{timestamp:b}=dt;this.history.push({...v,timestamp:b});const{onStart:P,onMove:w}=this.handlers;f||(P&&P(this.lastMoveEvent,h),this.startEvent=this.lastMoveEvent),w&&w(this.lastMoveEvent,h)},this.handlePointerMove=(h,f)=>{this.lastMoveEvent=h,this.lastMoveEventInfo=fm(f,this.transformPagePoint),$e.update(this.updatePoint,!0)},this.handlePointerUp=(h,f)=>{this.end();const{onEnd:y,onSessionEnd:v,resumeAnimation:b}=this.handlers;if(this.dragSnapToOrigin&&b&&b(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const P=pm(h.type==="pointercancel"?this.lastMoveEventInfo:fm(f,this.transformPagePoint),this.history);this.startEvent&&y&&y(h,P),v&&v(h,P)},!m_(e))return;this.dragSnapToOrigin=s,this.handlers=n,this.transformPagePoint=r,this.contextWindow=i||window;const o=Gc(e),a=fm(o,this.transformPagePoint),{point:l}=a,{timestamp:c}=dt;this.history=[{...l,timestamp:c}];const{onSessionStart:d}=n;d&&d(e,pm(a,this.history)),this.removeListeners=zc(Il(this.contextWindow,"pointermove",this.handlePointerMove),Il(this.contextWindow,"pointerup",this.handlePointerUp),Il(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),Ni(this.updatePoint)}}function fm(t,e){return e?{point:e(t.point)}:t}function EC(t,e){return{x:t.x-e.x,y:t.y-e.y}}function pm({point:t},e){return{point:t,delta:EC(t,wA(e)),offset:EC(t,N8(e)),velocity:D8(e,.1)}}function N8(t){return t[0]}function wA(t){return t[t.length-1]}function D8(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,r=null;const i=wA(t);for(;n>=0&&(r=t[n],!(i.timestamp-r.timestamp>ur(e)));)n--;if(!r)return{x:0,y:0};const s=dr(i.timestamp-r.timestamp);if(s===0)return{x:0,y:0};const o={x:(i.x-r.x)/s,y:(i.y-r.y)/s};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function O8(t,{min:e,max:n},r){return e!==void 0&&t<e?t=r?je(e,t,r.min):Math.max(t,e):n!==void 0&&t>n&&(t=r?je(n,t,r.max):Math.min(t,n)),t}function CC(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function M8(t,{top:e,left:n,bottom:r,right:i}){return{x:CC(t.x,n,i),y:CC(t.y,e,r)}}function SC(t,e){let n=e.min-t.min,r=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,r]=[r,n]),{min:n,max:r}}function L8(t,e){return{x:SC(t.x,e.x),y:SC(t.y,e.y)}}function j8(t,e){let n=.5;const r=jt(t),i=jt(e);return i>r?n=uc(e.min,e.max-r,t.min):r>i&&(n=uc(t.min,t.max-i,e.min)),Hr(0,1,n)}function F8(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const py=.35;function $8(t=py){return t===!1?t=0:t===!0&&(t=py),{x:bC(t,"left","right"),y:bC(t,"top","bottom")}}function bC(t,e,n){return{min:TC(t,e),max:TC(t,n)}}function TC(t,e){return typeof t=="number"?t:t[e]||0}const U8=new WeakMap;class V8{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=qe(),this.visualElement=e}start(e,{snapToCursor:n=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const i=d=>{const{dragSnapToOrigin:h}=this.getProps();h?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(Gc(d).point)},s=(d,h)=>{const{drag:f,dragPropagation:y,onDragStart:v}=this.getProps();if(f&&!y&&(this.openDragLock&&this.openDragLock(),this.openDragLock=ez(f),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),yn(P=>{let w=this.getAxisMotionValue(P).get()||0;if(hr.test(w)){const{projection:C}=this.visualElement;if(C&&C.layout){const x=C.layout.layoutBox[P];x&&(w=jt(x)*(parseFloat(w)/100))}}this.originPoint[P]=w}),v&&$e.postRender(()=>v(d,h)),uy(this.visualElement,"transform");const{animationState:b}=this.visualElement;b&&b.setActive("whileDrag",!0)},o=(d,h)=>{const{dragPropagation:f,dragDirectionLock:y,onDirectionLock:v,onDrag:b}=this.getProps();if(!f&&!this.openDragLock)return;const{offset:P}=h;if(y&&this.currentDirection===null){this.currentDirection=B8(P),this.currentDirection!==null&&v&&v(this.currentDirection);return}this.updateAxis("x",h.point,P),this.updateAxis("y",h.point,P),this.visualElement.render(),b&&b(d,h)},a=(d,h)=>this.stop(d,h),l=()=>yn(d=>{var h;return this.getAnimationState(d)==="paused"&&((h=this.getAxisMotionValue(d).animation)==null?void 0:h.play())}),{dragSnapToOrigin:c}=this.getProps();this.panSession=new _A(e,{onSessionStart:i,onStart:s,onMove:o,onSessionEnd:a,resumeAnimation:l},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:c,contextWindow:vA(this.visualElement)})}stop(e,n){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:i}=n;this.startAnimation(i);const{onDragEnd:s}=this.getProps();s&&$e.postRender(()=>s(e,n))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,r){const{drag:i}=this.getProps();if(!r||!Uu(e,i,this.currentDirection))return;const s=this.getAxisMotionValue(e);let o=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(o=O8(o,this.constraints[e],this.elastic[e])),s.set(o)}resolveConstraints(){var s;const{dragConstraints:e,dragElastic:n}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(s=this.visualElement.projection)==null?void 0:s.layout,i=this.constraints;e&&yo(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&r?this.constraints=M8(r.layoutBox,e):this.constraints=!1,this.elastic=$8(n),i!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&yn(o=>{this.constraints!==!1&&this.getAxisMotionValue(o)&&(this.constraints[o]=F8(r.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!yo(e))return!1;const r=e.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const s=R8(r,i.root,this.visualElement.getTransformPagePoint());let o=L8(i.layout.layoutBox,s);if(n){const a=n(x8(o));this.hasMutatedConstraints=!!a,a&&(o=hA(a))}return o}startAnimation(e){const{drag:n,dragMomentum:r,dragElastic:i,dragTransition:s,dragSnapToOrigin:o,onDragTransitionEnd:a}=this.getProps(),l=this.constraints||{},c=yn(d=>{if(!Uu(d,n,this.currentDirection))return;let h=l&&l[d]||{};o&&(h={min:0,max:0});const f=i?200:1e6,y=i?40:1e7,v={type:"inertia",velocity:r?e[d]:0,bounceStiffness:f,bounceDamping:y,timeConstant:750,restDelta:1,restSpeed:10,...s,...h};return this.startAxisValueAnimation(d,v)});return Promise.all(c).then(a)}startAxisValueAnimation(e,n){const r=this.getAxisMotionValue(e);return uy(this.visualElement,e),r.start(b_(e,r,0,n,this.visualElement,!1))}stopAnimation(){yn(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){yn(e=>{var n;return(n=this.getAxisMotionValue(e).animation)==null?void 0:n.pause()})}getAnimationState(e){var n;return(n=this.getAxisMotionValue(e).animation)==null?void 0:n.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,r=this.visualElement.getProps(),i=r[n];return i||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){yn(n=>{const{drag:r}=this.getProps();if(!Uu(n,r,this.currentDirection))return;const{projection:i}=this.visualElement,s=this.getAxisMotionValue(n);if(i&&i.layout){const{min:o,max:a}=i.layout.layoutBox[n];s.set(e[n]-je(o,a,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!yo(n)||!r||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};yn(o=>{const a=this.getAxisMotionValue(o);if(a&&this.constraints!==!1){const l=a.get();i[o]=j8({min:l,max:l},this.constraints[o])}});const{transformTemplate:s}=this.visualElement.getProps();this.visualElement.current.style.transform=s?s({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),yn(o=>{if(!Uu(o,e,null))return;const a=this.getAxisMotionValue(o),{min:l,max:c}=this.constraints[o];a.set(je(l,c,i[o]))})}addListeners(){if(!this.visualElement.current)return;U8.set(this.visualElement,this);const e=this.visualElement.current,n=Il(e,"pointerdown",l=>{const{drag:c,dragListener:d=!0}=this.getProps();c&&d&&this.start(l)}),r=()=>{const{dragConstraints:l}=this.getProps();yo(l)&&l.current&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,s=i.addEventListener("measure",r);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),$e.read(r);const o=gc(window,"resize",()=>this.scalePositionWithinConstraints()),a=i.addEventListener("didUpdate",({delta:l,hasLayoutChanged:c})=>{this.isDragging&&c&&(yn(d=>{const h=this.getAxisMotionValue(d);h&&(this.originPoint[d]+=l[d].translate,h.set(h.get()+l[d].translate))}),this.visualElement.render())});return()=>{o(),n(),s(),a&&a()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:i=!1,dragConstraints:s=!1,dragElastic:o=py,dragMomentum:a=!0}=e;return{...e,drag:n,dragDirectionLock:r,dragPropagation:i,dragConstraints:s,dragElastic:o,dragMomentum:a}}}function Uu(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function B8(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class z8 extends zi{constructor(e){super(e),this.removeGroupControls=Sn,this.removeListeners=Sn,this.controls=new V8(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Sn}unmount(){this.removeGroupControls(),this.removeListeners()}}const kC=t=>(e,n)=>{t&&$e.postRender(()=>t(e,n))};class W8 extends zi{constructor(){super(...arguments),this.removePointerDownListener=Sn}onPointerDown(e){this.session=new _A(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:vA(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:r,onPanEnd:i}=this.node.getProps();return{onSessionStart:kC(e),onStart:kC(n),onMove:r,onEnd:(s,o)=>{delete this.session,i&&$e.postRender(()=>i(s,o))}}}mount(){this.removePointerDownListener=Il(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const md={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function IC(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const Ka={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(Z.test(t))t=parseFloat(t);else return t;const n=IC(t,e.target.x),r=IC(t,e.target.y);return`${n}% ${r}%`}},H8={correct:(t,{treeScale:e,projectionDelta:n})=>{const r=t,i=Di.parse(t);if(i.length>5)return r;const s=Di.createTransformer(t),o=typeof i[0]!="number"?1:0,a=n.x.scale*e.x,l=n.y.scale*e.y;i[0+o]/=a,i[1+o]/=l;const c=je(a,l,.5);return typeof i[2+o]=="number"&&(i[2+o]/=c),typeof i[3+o]=="number"&&(i[3+o]/=c),s(i)}};class G8 extends k.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r,layoutId:i}=this.props,{projection:s}=e;Rz(K8),s&&(n.group&&n.group.add(s),r&&r.register&&i&&r.register(s),s.root.didUpdate(),s.addEventListener("animationComplete",()=>{this.safeToRemove()}),s.setOptions({...s.options,onExitComplete:()=>this.safeToRemove()})),md.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:r,drag:i,isPresent:s}=this.props,{projection:o}=r;return o&&(o.isPresent=s,i||e.layoutDependency!==n||n===void 0||e.isPresent!==s?o.willUpdate():this.safeToRemove(),e.isPresent!==s&&(s?o.promote():o.relegate()||$e.postRender(()=>{const a=o.getStack();(!a||!a.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),p_.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:i}=e;i&&(i.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(i),r&&r.deregister&&r.deregister(i))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function xA(t){const[e,n]=qR(),r=k.useContext(H0);return _.jsx(G8,{...t,layoutGroup:r,switchLayoutGroup:k.useContext(ZR),isPresent:e,safeToRemove:n})}const K8={borderRadius:{...Ka,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Ka,borderTopRightRadius:Ka,borderBottomLeftRadius:Ka,borderBottomRightRadius:Ka,boxShadow:H8};function q8(t,e,n){const r=Tt(t)?t:Jo(t);return r.start(b_("",r,e,n)),r.animation}const Y8=(t,e)=>t.depth-e.depth;class X8{constructor(){this.children=[],this.isDirty=!1}add(e){q0(this.children,e),this.isDirty=!0}remove(e){Y0(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(Y8),this.isDirty=!1,this.children.forEach(e)}}function Q8(t,e){const n=Yt.now(),r=({timestamp:i})=>{const s=i-n;s>=e&&(Ni(r),t(s-e))};return $e.setup(r,!0),()=>Ni(r)}const EA=["TopLeft","TopRight","BottomLeft","BottomRight"],J8=EA.length,PC=t=>typeof t=="string"?parseFloat(t):t,RC=t=>typeof t=="number"||Z.test(t);function Z8(t,e,n,r,i,s){i?(t.opacity=je(0,n.opacity??1,eW(r)),t.opacityExit=je(e.opacity??1,0,tW(r))):s&&(t.opacity=je(e.opacity??1,n.opacity??1,r));for(let o=0;o<J8;o++){const a=`border${EA[o]}Radius`;let l=AC(e,a),c=AC(n,a);if(l===void 0&&c===void 0)continue;l||(l=0),c||(c=0),l===0||c===0||RC(l)===RC(c)?(t[a]=Math.max(je(PC(l),PC(c),r),0),(hr.test(c)||hr.test(l))&&(t[a]+="%")):t[a]=c}(e.rotate||n.rotate)&&(t.rotate=je(e.rotate||0,n.rotate||0,r))}function AC(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const eW=CA(0,.5,mR),tW=CA(.5,.95,Sn);function CA(t,e,n){return r=>r<t?0:r>e?1:n(uc(t,e,r))}function NC(t,e){t.min=e.min,t.max=e.max}function mn(t,e){NC(t.x,e.x),NC(t.y,e.y)}function DC(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function OC(t,e,n,r,i){return t-=e,t=bh(t,1/n,r),i!==void 0&&(t=bh(t,1/i,r)),t}function nW(t,e=0,n=1,r=.5,i,s=t,o=t){if(hr.test(e)&&(e=parseFloat(e),e=je(o.min,o.max,e/100)-o.min),typeof e!="number")return;let a=je(s.min,s.max,r);t===s&&(a-=e),t.min=OC(t.min,e,n,a,i),t.max=OC(t.max,e,n,a,i)}function MC(t,e,[n,r,i],s,o){nW(t,e[n],e[r],e[i],e.scale,s,o)}const rW=["x","scaleX","originX"],iW=["y","scaleY","originY"];function LC(t,e,n,r){MC(t.x,e,rW,n?n.x:void 0,r?r.x:void 0),MC(t.y,e,iW,n?n.y:void 0,r?r.y:void 0)}function jC(t){return t.translate===0&&t.scale===1}function SA(t){return jC(t.x)&&jC(t.y)}function FC(t,e){return t.min===e.min&&t.max===e.max}function sW(t,e){return FC(t.x,e.x)&&FC(t.y,e.y)}function $C(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function bA(t,e){return $C(t.x,e.x)&&$C(t.y,e.y)}function UC(t){return jt(t.x)/jt(t.y)}function VC(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class oW{constructor(){this.members=[]}add(e){q0(this.members,e),e.scheduleRender()}remove(e){if(Y0(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(i=>e===i);if(n===0)return!1;let r;for(let i=n;i>=0;i--){const s=this.members[i];if(s.isPresent!==!1){r=s;break}}return r?(this.promote(r),!0):!1}promote(e,n){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,n&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:i}=e.options;i===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:r}=e;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function aW(t,e,n){let r="";const i=t.x.translate/e.x,s=t.y.translate/e.y,o=(n==null?void 0:n.z)||0;if((i||s||o)&&(r=`translate3d(${i}px, ${s}px, ${o}px) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:c,rotate:d,rotateX:h,rotateY:f,skewX:y,skewY:v}=n;c&&(r=`perspective(${c}px) ${r}`),d&&(r+=`rotate(${d}deg) `),h&&(r+=`rotateX(${h}deg) `),f&&(r+=`rotateY(${f}deg) `),y&&(r+=`skewX(${y}deg) `),v&&(r+=`skewY(${v}deg) `)}const a=t.x.scale*e.x,l=t.y.scale*e.y;return(a!==1||l!==1)&&(r+=`scale(${a}, ${l})`),r||"none"}const mm=["","X","Y","Z"],lW={visibility:"hidden"},cW=1e3;let uW=0;function gm(t,e,n,r){const{latestValues:i}=e;i[t]&&(n[t]=i[t],e.setStaticValue(t,0),r&&(r[t]=0))}function TA(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=lA(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:i,layoutId:s}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",$e,!(i||s))}const{parent:r}=t;r&&!r.hasCheckedOptimisedAppear&&TA(r)}function kA({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:r,resetTransform:i}){return class{constructor(o={},a=e==null?void 0:e()){this.id=uW++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(fW),this.nodes.forEach(vW),this.nodes.forEach(_W),this.nodes.forEach(pW)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=a?a.root||a:this,this.path=a?[...a.path,a]:[],this.parent=a,this.depth=a?a.depth+1:0;for(let l=0;l<this.path.length;l++)this.path[l].shouldResetTransform=!0;this.root===this&&(this.nodes=new X8)}addEventListener(o,a){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new J0),this.eventHandlers.get(o).add(a)}notifyListeners(o,...a){const l=this.eventHandlers.get(o);l&&l.notify(...a)}hasListeners(o){return this.eventHandlers.has(o)}mount(o){if(this.instance)return;this.isSVG=KR(o)&&!oz(o),this.instance=o;const{layoutId:a,layout:l,visualElement:c}=this.options;if(c&&!c.current&&c.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(l||a)&&(this.isLayoutDirty=!0),t){let d;const h=()=>this.root.updateBlockedByResize=!1;t(o,()=>{this.root.updateBlockedByResize=!0,d&&d(),d=Q8(h,250),md.hasAnimatedSinceResize&&(md.hasAnimatedSinceResize=!1,this.nodes.forEach(zC))})}a&&this.root.registerSharedNode(a,this),this.options.animate!==!1&&c&&(a||l)&&this.addEventListener("didUpdate",({delta:d,hasLayoutChanged:h,hasRelativeLayoutChanged:f,layout:y})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const v=this.options.transition||c.getDefaultTransition()||SW,{onLayoutAnimationStart:b,onLayoutAnimationComplete:P}=c.getProps(),w=!this.targetLayout||!bA(this.targetLayout,y),C=!h&&f;if(this.options.layoutRoot||this.resumeFrom||C||h&&(w||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(d,C);const x={...h_(v,"layout"),onPlay:b,onComplete:P};(c.shouldReduceMotion||this.options.layoutRoot)&&(x.delay=0,x.type=!1),this.startAnimation(x)}else h||zC(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=y})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),Ni(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(wW),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&TA(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let d=0;d<this.path.length;d++){const h=this.path[d];h.shouldResetTransform=!0,h.updateScroll("snapshot"),h.options.layoutRoot&&h.willUpdate(!1)}const{layoutId:a,layout:l}=this.options;if(a===void 0&&!l)return;const c=this.getTransformTemplate();this.prevTransformTemplateValue=c?c(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(BC);return}this.isUpdating||this.nodes.forEach(gW),this.isUpdating=!1,this.nodes.forEach(yW),this.nodes.forEach(dW),this.nodes.forEach(hW),this.clearAllSnapshots();const a=Yt.now();dt.delta=Hr(0,1e3/60,a-dt.timestamp),dt.timestamp=a,dt.isProcessing=!0,om.update.process(dt),om.preRender.process(dt),om.render.process(dt),dt.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,p_.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(mW),this.sharedNodes.forEach(xW)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,$e.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){$e.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!jt(this.snapshot.measuredBox.x)&&!jt(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let l=0;l<this.path.length;l++)this.path[l].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=qe(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:a}=this.options;a&&a.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let a=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(a=!1),a&&this.instance){const l=r(this.instance);this.scroll={animationId:this.root.animationId,phase:o,isRoot:l,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:l}}}resetTransform(){if(!i)return;const o=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,a=this.projectionDelta&&!SA(this.projectionDelta),l=this.getTransformTemplate(),c=l?l(this.latestValues,""):void 0,d=c!==this.prevTransformTemplateValue;o&&this.instance&&(a||ts(this.latestValues)||d)&&(i(this.instance,c),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const a=this.measurePageBox();let l=this.removeElementScroll(a);return o&&(l=this.removeTransform(l)),bW(l),{animationId:this.root.animationId,measuredBox:a,layoutBox:l,latestValues:{},source:this.id}}measurePageBox(){var c;const{visualElement:o}=this.options;if(!o)return qe();const a=o.measureViewportBox();if(!(((c=this.scroll)==null?void 0:c.wasRoot)||this.path.some(TW))){const{scroll:d}=this.root;d&&(_o(a.x,d.offset.x),_o(a.y,d.offset.y))}return a}removeElementScroll(o){var l;const a=qe();if(mn(a,o),(l=this.scroll)!=null&&l.wasRoot)return a;for(let c=0;c<this.path.length;c++){const d=this.path[c],{scroll:h,options:f}=d;d!==this.root&&h&&f.layoutScroll&&(h.wasRoot&&mn(a,o),_o(a.x,h.offset.x),_o(a.y,h.offset.y))}return a}applyTransform(o,a=!1){const l=qe();mn(l,o);for(let c=0;c<this.path.length;c++){const d=this.path[c];!a&&d.options.layoutScroll&&d.scroll&&d!==d.root&&wo(l,{x:-d.scroll.offset.x,y:-d.scroll.offset.y}),ts(d.latestValues)&&wo(l,d.latestValues)}return ts(this.latestValues)&&wo(l,this.latestValues),l}removeTransform(o){const a=qe();mn(a,o);for(let l=0;l<this.path.length;l++){const c=this.path[l];if(!c.instance||!ts(c.latestValues))continue;hy(c.latestValues)&&c.updateSnapshot();const d=qe(),h=c.measurePageBox();mn(d,h),LC(a,c.latestValues,c.snapshot?c.snapshot.layoutBox:void 0,d)}return ts(this.latestValues)&&LC(a,this.latestValues),a}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==dt.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var f;const a=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=a.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=a.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=a.isSharedProjectionDirty);const l=!!this.resumingFrom||this!==a;if(!(o||l&&this.isSharedProjectionDirty||this.isProjectionDirty||(f=this.parent)!=null&&f.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:d,layoutId:h}=this.options;if(!(!this.layout||!(d||h))){if(this.resolvedRelativeTargetAt=dt.timestamp,!this.targetDelta&&!this.relativeTarget){const y=this.getClosestProjectingParent();y&&y.layout&&this.animationProgress!==1?(this.relativeParent=y,this.forceRelativeParentToResolveTarget(),this.relativeTarget=qe(),this.relativeTargetOrigin=qe(),Rl(this.relativeTargetOrigin,this.layout.layoutBox,y.layout.layoutBox),mn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=qe(),this.targetWithTransforms=qe()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),I8(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):mn(this.target,this.layout.layoutBox),gA(this.target,this.targetDelta)):mn(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const y=this.getClosestProjectingParent();y&&!!y.resumingFrom==!!this.resumingFrom&&!y.options.layoutScroll&&y.target&&this.animationProgress!==1?(this.relativeParent=y,this.forceRelativeParentToResolveTarget(),this.relativeTarget=qe(),this.relativeTargetOrigin=qe(),Rl(this.relativeTargetOrigin,this.target,y.target),mn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||hy(this.parent.latestValues)||mA(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var v;const o=this.getLead(),a=!!this.resumingFrom||this!==o;let l=!0;if((this.isProjectionDirty||(v=this.parent)!=null&&v.isProjectionDirty)&&(l=!1),a&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(l=!1),this.resolvedRelativeTargetAt===dt.timestamp&&(l=!1),l)return;const{layout:c,layoutId:d}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(c||d))return;mn(this.layoutCorrected,this.layout.layoutBox);const h=this.treeScale.x,f=this.treeScale.y;P8(this.layoutCorrected,this.treeScale,this.path,a),o.layout&&!o.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(o.target=o.layout.layoutBox,o.targetWithTransforms=qe());const{target:y}=o;if(!y){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(DC(this.prevProjectionDelta.x,this.projectionDelta.x),DC(this.prevProjectionDelta.y,this.projectionDelta.y)),Pl(this.projectionDelta,this.layoutCorrected,y,this.latestValues),(this.treeScale.x!==h||this.treeScale.y!==f||!VC(this.projectionDelta.x,this.prevProjectionDelta.x)||!VC(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",y))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){var a;if((a=this.options.visualElement)==null||a.scheduleRender(),o){const l=this.getStack();l&&l.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=vo(),this.projectionDelta=vo(),this.projectionDeltaWithTransform=vo()}setAnimationOrigin(o,a=!1){const l=this.snapshot,c=l?l.latestValues:{},d={...this.latestValues},h=vo();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!a;const f=qe(),y=l?l.source:void 0,v=this.layout?this.layout.source:void 0,b=y!==v,P=this.getStack(),w=!P||P.members.length<=1,C=!!(b&&!w&&this.options.crossfade===!0&&!this.path.some(CW));this.animationProgress=0;let x;this.mixTargetDelta=A=>{const D=A/1e3;WC(h.x,o.x,D),WC(h.y,o.y,D),this.setTargetDelta(h),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Rl(f,this.layout.layoutBox,this.relativeParent.layout.layoutBox),EW(this.relativeTarget,this.relativeTargetOrigin,f,D),x&&sW(this.relativeTarget,x)&&(this.isProjectionDirty=!1),x||(x=qe()),mn(x,this.relativeTarget)),b&&(this.animationValues=d,Z8(d,c,this.latestValues,D,C,w)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=D},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){var a,l,c;this.notifyListeners("animationStart"),(a=this.currentAnimation)==null||a.stop(!1),(c=(l=this.resumingFrom)==null?void 0:l.currentAnimation)==null||c.stop(!1),this.pendingAnimation&&(Ni(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=$e.update(()=>{md.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=Jo(0)),this.currentAnimation=q8(this.motionValue,[0,1e3],{...o,isSync:!0,onUpdate:d=>{this.mixTargetDelta(d),o.onUpdate&&o.onUpdate(d)},onStop:()=>{},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(cW),this.currentAnimation.stop(!1)),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:a,target:l,layout:c,latestValues:d}=o;if(!(!a||!l||!c)){if(this!==o&&this.layout&&c&&IA(this.options.animationType,this.layout.layoutBox,c.layoutBox)){l=this.target||qe();const h=jt(this.layout.layoutBox.x);l.x.min=o.target.x.min,l.x.max=l.x.min+h;const f=jt(this.layout.layoutBox.y);l.y.min=o.target.y.min,l.y.max=l.y.min+f}mn(a,l),wo(a,d),Pl(this.projectionDeltaWithTransform,this.layoutCorrected,a,d)}}registerSharedNode(o,a){this.sharedNodes.has(o)||this.sharedNodes.set(o,new oW),this.sharedNodes.get(o).add(a);const c=a.options.initialPromotionConfig;a.promote({transition:c?c.transition:void 0,preserveFollowOpacity:c&&c.shouldPreserveFollowOpacity?c.shouldPreserveFollowOpacity(a):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var a;const{layoutId:o}=this.options;return o?((a=this.getStack())==null?void 0:a.lead)||this:this}getPrevLead(){var a;const{layoutId:o}=this.options;return o?(a=this.getStack())==null?void 0:a.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:a,preserveFollowOpacity:l}={}){const c=this.getStack();c&&c.promote(this,l),o&&(this.projectionDelta=void 0,this.needsReset=!0),a&&this.setOptions({transition:a})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetSkewAndRotation(){const{visualElement:o}=this.options;if(!o)return;let a=!1;const{latestValues:l}=o;if((l.z||l.rotate||l.rotateX||l.rotateY||l.rotateZ||l.skewX||l.skewY)&&(a=!0),!a)return;const c={};l.z&&gm("z",o,c,this.animationValues);for(let d=0;d<mm.length;d++)gm(`rotate${mm[d]}`,o,c,this.animationValues),gm(`skew${mm[d]}`,o,c,this.animationValues);o.render();for(const d in c)o.setStaticValue(d,c[d]),this.animationValues&&(this.animationValues[d]=c[d]);o.scheduleRender()}getProjectionStyles(o){if(!this.instance||this.isSVG)return;if(!this.isVisible)return lW;const a={visibility:""},l=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,a.opacity="",a.pointerEvents=pd(o==null?void 0:o.pointerEvents)||"",a.transform=l?l(this.latestValues,""):"none",a;const c=this.getLead();if(!this.projectionDelta||!this.layout||!c.target){const y={};return this.options.layoutId&&(y.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,y.pointerEvents=pd(o==null?void 0:o.pointerEvents)||""),this.hasProjected&&!ts(this.latestValues)&&(y.transform=l?l({},""):"none",this.hasProjected=!1),y}const d=c.animationValues||c.latestValues;this.applyTransformsToTarget(),a.transform=aW(this.projectionDeltaWithTransform,this.treeScale,d),l&&(a.transform=l(d,a.transform));const{x:h,y:f}=this.projectionDelta;a.transformOrigin=`${h.origin*100}% ${f.origin*100}% 0`,c.animationValues?a.opacity=c===this?d.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:d.opacityExit:a.opacity=c===this?d.opacity!==void 0?d.opacity:"":d.opacityExit!==void 0?d.opacityExit:0;for(const y in pc){if(d[y]===void 0)continue;const{correct:v,applyTo:b,isCSSVariable:P}=pc[y],w=a.transform==="none"?d[y]:v(d[y],c);if(b){const C=b.length;for(let x=0;x<C;x++)a[b[x]]=w}else P?this.options.visualElement.renderState.vars[y]=w:a[y]=w}return this.options.layoutId&&(a.pointerEvents=c===this?pd(o==null?void 0:o.pointerEvents)||"":"none"),a}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var a;return(a=o.currentAnimation)==null?void 0:a.stop(!1)}),this.root.nodes.forEach(BC),this.root.sharedNodes.clear()}}}function dW(t){t.updateLayout()}function hW(t){var n;const e=((n=t.resumeFrom)==null?void 0:n.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&e&&t.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:i}=t.layout,{animationType:s}=t.options,o=e.source!==t.layout.source;s==="size"?yn(h=>{const f=o?e.measuredBox[h]:e.layoutBox[h],y=jt(f);f.min=r[h].min,f.max=f.min+y}):IA(s,e.layoutBox,r)&&yn(h=>{const f=o?e.measuredBox[h]:e.layoutBox[h],y=jt(r[h]);f.max=f.min+y,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[h].max=t.relativeTarget[h].min+y)});const a=vo();Pl(a,r,e.layoutBox);const l=vo();o?Pl(l,t.applyTransform(i,!0),e.measuredBox):Pl(l,r,e.layoutBox);const c=!SA(a);let d=!1;if(!t.resumeFrom){const h=t.getClosestProjectingParent();if(h&&!h.resumeFrom){const{snapshot:f,layout:y}=h;if(f&&y){const v=qe();Rl(v,e.layoutBox,f.layoutBox);const b=qe();Rl(b,r,y.layoutBox),bA(v,b)||(d=!0),h.options.layoutRoot&&(t.relativeTarget=b,t.relativeTargetOrigin=v,t.relativeParent=h)}}}t.notifyListeners("didUpdate",{layout:r,snapshot:e,delta:l,layoutDelta:a,hasLayoutChanged:c,hasRelativeLayoutChanged:d})}else if(t.isLead()){const{onExitComplete:r}=t.options;r&&r()}t.options.transition=void 0}function fW(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function pW(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function mW(t){t.clearSnapshot()}function BC(t){t.clearMeasurements()}function gW(t){t.isLayoutDirty=!1}function yW(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function zC(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function vW(t){t.resolveTargetDelta()}function _W(t){t.calcProjection()}function wW(t){t.resetSkewAndRotation()}function xW(t){t.removeLeadSnapshot()}function WC(t,e,n){t.translate=je(e.translate,0,n),t.scale=je(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function HC(t,e,n,r){t.min=je(e.min,n.min,r),t.max=je(e.max,n.max,r)}function EW(t,e,n,r){HC(t.x,e.x,n.x,r),HC(t.y,e.y,n.y,r)}function CW(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const SW={duration:.45,ease:[.4,0,.1,1]},GC=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),KC=GC("applewebkit/")&&!GC("chrome/")?Math.round:Sn;function qC(t){t.min=KC(t.min),t.max=KC(t.max)}function bW(t){qC(t.x),qC(t.y)}function IA(t,e,n){return t==="position"||t==="preserve-aspect"&&!k8(UC(e),UC(n),.2)}function TW(t){var e;return t!==t.root&&((e=t.scroll)==null?void 0:e.wasRoot)}const kW=kA({attachResizeListener:(t,e)=>gc(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),ym={current:void 0},PA=kA({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!ym.current){const t=new kW({});t.mount(window),t.setOptions({layoutScroll:!0}),ym.current=t}return ym.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),IW={pan:{Feature:W8},drag:{Feature:z8,ProjectionNode:PA,MeasureLayout:xA}};function YC(t,e,n){const{props:r}=t;t.animationState&&r.whileHover&&t.animationState.setActive("whileHover",n==="Start");const i="onHover"+n,s=r[i];s&&$e.postRender(()=>s(e,Gc(e)))}class PW extends zi{mount(){const{current:e}=this.node;e&&(this.unmount=tz(e,(n,r)=>(YC(this.node,r,"Start"),i=>YC(this.node,i,"End"))))}unmount(){}}class RW extends zi{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=zc(gc(this.node.current,"focus",()=>this.onFocus()),gc(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function XC(t,e,n){const{props:r}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&r.whileTap&&t.animationState.setActive("whileTap",n==="Start");const i="onTap"+(n==="End"?"":n),s=r[i];s&&$e.postRender(()=>s(e,Gc(e)))}class AW extends zi{mount(){const{current:e}=this.node;e&&(this.unmount=sz(e,(n,r)=>(XC(this.node,r,"Start"),(i,{success:s})=>XC(this.node,i,s?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const my=new WeakMap,vm=new WeakMap,NW=t=>{const e=my.get(t.target);e&&e(t)},DW=t=>{t.forEach(NW)};function OW({root:t,...e}){const n=t||document;vm.has(n)||vm.set(n,{});const r=vm.get(n),i=JSON.stringify(e);return r[i]||(r[i]=new IntersectionObserver(DW,{root:t,...e})),r[i]}function MW(t,e,n){const r=OW(e);return my.set(t,n),r.observe(t),()=>{my.delete(t),r.unobserve(t)}}const LW={some:0,all:1};class jW extends zi{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:r,amount:i="some",once:s}=e,o={root:n?n.current:void 0,rootMargin:r,threshold:typeof i=="number"?i:LW[i]},a=l=>{const{isIntersecting:c}=l;if(this.isInView===c||(this.isInView=c,s&&!c&&this.hasEnteredView))return;c&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",c);const{onViewportEnter:d,onViewportLeave:h}=this.node.getProps(),f=c?d:h;f&&f(l)};return MW(this.node.current,o,a)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(FW(e,n))&&this.startObserver()}unmount(){}}function FW({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const $W={inView:{Feature:jW},tap:{Feature:AW},focus:{Feature:RW},hover:{Feature:PW}},UW={layout:{ProjectionNode:PA,MeasureLayout:xA}},gy={current:null},RA={current:!1};function VW(){if(RA.current=!0,!!K0)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>gy.current=t.matches;t.addListener(e),e()}else gy.current=!1}const BW=new WeakMap;function zW(t,e,n){for(const r in e){const i=e[r],s=n[r];if(Tt(i))t.addValue(r,i);else if(Tt(s))t.addValue(r,Jo(i,{owner:t}));else if(s!==i)if(t.hasValue(r)){const o=t.getValue(r);o.liveStyle===!0?o.jump(i):o.hasAnimated||o.set(i)}else{const o=t.getStaticValue(r);t.addValue(r,Jo(o!==void 0?o:i,{owner:t}))}}for(const r in n)e[r]===void 0&&t.removeValue(r);return e}const QC=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class WW{scrapeMotionValuesFromProps(e,n,r){return{}}constructor({parent:e,props:n,presenceContext:r,reducedMotionConfig:i,blockInitialAnimation:s,visualState:o},a={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=u_,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const f=Yt.now();this.renderScheduledAt<f&&(this.renderScheduledAt=f,$e.render(this.render,!1,!0))};const{latestValues:l,renderState:c}=o;this.latestValues=l,this.baseTarget={...l},this.initialValues=n.initial?{...l}:{},this.renderState=c,this.parent=e,this.props=n,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=i,this.options=a,this.blockInitialAnimation=!!s,this.isControllingVariants=_f(n),this.isVariantNode=QR(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:d,...h}=this.scrapeMotionValuesFromProps(n,{},this);for(const f in h){const y=h[f];l[f]!==void 0&&Tt(y)&&y.set(l[f],!1)}}mount(e){this.current=e,BW.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),RA.current||VW(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:gy.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),Ni(this.notifyUpdate),Ni(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const n=this.features[e];n&&(n.unmount(),n.isMounted=!1)}this.current=null}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const r=va.has(e);r&&this.onBindTransform&&this.onBindTransform();const i=n.on("change",a=>{this.latestValues[e]=a,this.props.onUpdate&&$e.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0)}),s=n.on("renderRequest",this.scheduleRender);let o;window.MotionCheckAppearSync&&(o=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{i(),s(),o&&o(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in Zo){const n=Zo[e];if(!n)continue;const{isEnabled:r,Feature:i}=n;if(!this.features[e]&&i&&r(this.props)&&(this.features[e]=new i(this)),this.features[e]){const s=this.features[e];s.isMounted?s.update():(s.mount(),s.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):qe()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<QC.length;r++){const i=QC[r];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const s="on"+i,o=e[s];o&&(this.propEventSubscriptions[i]=this.on(i,o))}this.prevMotionValues=zW(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const r=this.values.get(e);n!==r&&(r&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&n!==void 0&&(r=Jo(n===null?void 0:n,{owner:this}),this.addValue(e,r)),r}readValue(e,n){let r=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return r!=null&&(typeof r=="string"&&(sR(r)||aR(r))?r=parseFloat(r):!lz(r)&&Di.test(n)&&(r=BR(e,n)),this.setBaseTarget(e,Tt(r)?r.get():r)),Tt(r)?r.get():r}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var s;const{initial:n}=this.props;let r;if(typeof n=="string"||typeof n=="object"){const o=C_(this.props,n,(s=this.presenceContext)==null?void 0:s.custom);o&&(r=o[e])}if(n&&r!==void 0)return r;const i=this.getBaseTargetFromProps(this.props,e);return i!==void 0&&!Tt(i)?i:this.initialValues[e]!==void 0&&r===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new J0),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}}class AA extends WW{constructor(){super(...arguments),this.KeyframeResolver=XB}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:r}){delete n[e],delete r[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;Tt(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function NA(t,{style:e,vars:n},r,i){Object.assign(t.style,e,i&&i.getProjectionStyles(r));for(const s in n)t.style.setProperty(s,n[s])}function HW(t){return window.getComputedStyle(t)}class GW extends AA{constructor(){super(...arguments),this.type="html",this.renderInstance=NA}readValueFromInstance(e,n){var r;if(va.has(n))return(r=this.projection)!=null&&r.isProjecting?ry(n):mB(e,n);{const i=HW(e),s=(t_(n)?i.getPropertyValue(n):i[n])||0;return typeof s=="string"?s.trim():s}}measureInstanceViewportBox(e,{transformPagePoint:n}){return yA(e,n)}build(e,n,r){w_(e,n,r.transformTemplate)}scrapeMotionValuesFromProps(e,n,r){return S_(e,n,r)}}const DA=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function KW(t,e,n,r){NA(t,e,void 0,r);for(const i in e.attrs)t.setAttribute(DA.has(i)?i:__(i),e.attrs[i])}class qW extends AA{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=qe}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(va.has(n)){const r=VR(n);return r&&r.default||0}return n=DA.has(n)?n:__(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,r){return aA(e,n,r)}build(e,n,r){rA(e,n,this.isSVGTag,r.transformTemplate,r.style)}renderInstance(e,n,r,i){KW(e,n,r,i)}mount(e){this.isSVGTag=sA(e.tagName),super.mount(e)}}const YW=(t,e)=>E_(t)?new qW(e):new GW(e,{allowProjection:t!==k.Fragment}),XW=Kz({..._8,...$W,...IW,...UW},YW),QW=vz(XW);function JW(){const t=Fi(),e=mr(),[n,r]=k.useState(null),[i,s]=k.useState(null),[o,a]=k.useState(null),[l,c]=k.useState(null),[d,h]=k.useState(Array(6).fill({nombre:"",dorsal:""})),[f,y]=k.useState(Array(6).fill({nombre:"",dorsal:""})),[v,b]=k.useState(null);k.useState(!1),k.useEffect(()=>{e.state&&e.state.equipoLocal&&e.state.equipoVisita&&e.state.genero&&e.state.fecha?(console.log("[Alineacion.jsx] Datos recibidos de Match.jsx:",e.state),r(e.state),s(e.state.equipoLocal),a(e.state.equipoVisita),c(e.state.genero)):(console.warn("[Alineacion.jsx] No se recibieron datos de configuración del partido. Redirigiendo a configurar."),t("/partido/configurar"))},[e.state,t]);const P=(S,E)=>{const I=E==="local"?d[S]:f[S],m=E==="local"?d:f,R=E==="local"?i==null?void 0:i.nombre:o==null?void 0:o.nombre;b({tipo:E,index:S,jugador:I,jugadoresActuales:m,nombreEquipo:R,generoPartido:l})},w=(S,E,I)=>{if(E==="local"){const m=[...d];m[S]=I,h(m)}else{const m=[...f];m[S]=I,y(m)}b(null)},C=async()=>{let S=null;try{const E=z=>z.every(X=>X.nombre.trim()!==""&&X.dorsal.trim()!=="");if(!E(d)||!E(f)){alert("Todos los jugadores deben tener nombre y dorsal antes de continuar.");return}const I=ue(ce,"partidos");S=dd(I).key;let R=[],O=[];try{const z=await Lr(ue(ce,`plantillas/${l.toLowerCase()}/${i.nombre.toLowerCase()}`)),X=await Lr(ue(ce,`plantillas/${l.toLowerCase()}/${o.nombre.toLowerCase()}`));z.exists()?R=z.val():R=il[i.nombre.toLowerCase()]||[],X.exists()?O=X.val():O=il[o.nombre.toLowerCase()]||[]}catch(z){console.error("Error cargando plantillas de suplentes (Alineacion.jsx):",z),R=il[i.nombre.toLowerCase()]||[],O=il[o.nombre.toLowerCase()]||[]}const N={nombre:i.nombre,logo:i.escudo.split("/").pop(),camisa:`camisa-${i.nombre.toLowerCase().replace(/\s+/g,"-")}.png`,jugadores:d.map(z=>({...z,enJuego:!0,haJugado:!0})),todosJugadores:R,genero:l},W={nombre:o.nombre,logo:o.escudo.split("/").pop(),camisa:`camisa-${o.nombre.toLowerCase().replace(/\s+/g,"-")}.png`,jugadores:f.map(z=>({...z,enJuego:!0,haJugado:!0})),todosJugadores:O,genero:l};console.log("Guardando alineación",{equipo1:N,equipo2:W,genero:l,partidoId:S}),await pt(ue(ce,`partidos/${S}/alineacion`),{equipo1:N,equipo2:W,genero:l}),await pt(ue(ce,`partidos/${S}/marcador`),{equipo1:0,equipo2:0}),console.log("🚀 Navegando a control (OK)",S),t(`/control/${S}`)}catch(E){alert("❌ ERROR al confirmar alineación: "+E.message),console.error("Error al confirmar alineación:",E);const I=S||"debug-fallback";console.log("⚠️ Forzando navegación a control:",I),t(`/control/${I}`)}},x=S=>`/EmproChampions-2025/camisas/camisa-${S.toLowerCase().replace(/\s+/g,"-")}.png`,A=S=>["don bosco","luz","emprosaurios"].includes(S.toLowerCase())?"#000":"#fff",D=[{top:"15%",left:"18%"},{top:"15%",left:"62%"},{top:"38%",left:"40%"},{top:"55%",left:"17%"},{top:"55%",left:"63%"},{top:"74%",left:"40%"}],M=(S,E,I,m)=>{const R=(v==null?void 0:v.index)===E&&(v==null?void 0:v.tipo)===I;return _.jsx(QW.div,{className:"absolute cursor-pointer",style:{top:D[E].top,left:D[E].left,transform:"translate(-50%, -50%)"},animate:R?{scale:1.5,rotate:1.5}:{scale:1,rotate:0},transition:{duration:.3},onClick:()=>P(E,I),children:_.jsxs("div",{className:"relative w-fit flex flex-col items-center",children:[_.jsx("div",{className:"absolute top-[12%] font-barcelona text-[24px] md:text-[30px] z-20 pointer-events-none",style:{color:A((I==="local"?i==null?void 0:i.nombre:o==null?void 0:o.nombre)||""),textShadow:"1px 1px 1px rgba(0,0,0,0.6)"},children:S.dorsal}),_.jsx("img",{src:m,className:"w-16 md:w-20 relative z-10",alt:`jugador-${I}`}),S.nombre&&_.jsx("div",{className:"absolute bottom-[-18px] font-barcelona text-[11px] text-white bg-black/80 px-2 py-[2px] rounded text-center z-20",children:S.nombre})]})},E)};return!i||!o?null:_.jsxs("div",{className:"min-h-screen bg-cover bg-center font-qatar text-white",style:{backgroundImage:"url('/EmproChampions-2025/img/fondoempro-horizontal.png')"},children:[_.jsx(Ai,{}),_.jsx("h1",{className:"text-3xl sm:text-5xl font-bold text-center mt-6 text-yellow-400 drop-shadow",children:"Alineación Inicial"}),_.jsxs("div",{className:"flex flex-col lg:flex-row items-center justify-center gap-8 p-4 lg:p-6",children:[_.jsxs("div",{className:"relative w-[320px] h-[540px] md:w-[400px] md:h-[640px]",children:[_.jsx("img",{src:"/EmproChampions-2025/img/cancha-vertical.svg",alt:"cancha local",className:"w-full h-full"}),d.map((S,E)=>M(S,E,"local",x(i.nombre)))]}),_.jsxs("div",{className:"flex flex-col items-center gap-6",children:[_.jsx("img",{src:"/img/logo-empro.png",alt:"logo empro",className:"w-24 md:w-32"}),_.jsxs("div",{className:"flex items-center gap-10",children:[_.jsx("img",{src:i.escudo,className:"w-50 h-60 object-contain",alt:"local logo"}),_.jsx("span",{className:"text-white text-4xl font-black",children:"V"}),_.jsx("img",{src:o.escudo,className:"w-50 h-60 object-contain",alt:"visita logo"})]}),_.jsx("button",{onClick:()=>t("/match"),className:"bg-white/80 text-[#7a0026] font-bold px-6 py-2 rounded-full hover:bg-white transition",children:"⬅ Volver a Equipos"})]}),_.jsxs("div",{className:"relative w-[320px] h-[540px] md:w-[400px] md:h-[640px]",children:[_.jsx("img",{src:"/EmproChampions-2025/img/cancha-vertical.svg",alt:"cancha visita",className:"w-full h-full"}),f.map((S,E)=>M(S,E,"visita",x(o.nombre)))]})]}),_.jsx("div",{className:"flex justify-center mt-6 pb-10",children:_.jsx("button",{onClick:C,className:"bg-[#FFD700] text-[#7a0026] font-bold px-10 py-3 rounded-full hover:bg-yellow-300 transition text-xl shadow-lg",children:"Confirmar Alineación"})}),_.jsx(fz,{children:v&&_.jsx(h9,{tipo:v.tipo,index:v.index,jugador:v.jugador,onSave:w,onClose:()=>b(null),camiseta:x(v.tipo==="local"?i.nombre:o.nombre),dorsalColor:A(v.tipo==="local"?i.nombre:o.nombre),jugadoresActuales:v.jugadoresActuales,nombreEquipo:v.nombreEquipo,generoPartido:v.generoPartido})})]})}function Ds(t){return t&&t.ownerDocument||document}function Th(t){return Ds(t).defaultView||window}function ZW(t=window){const e=t.document.documentElement.clientWidth;return t.innerWidth-e}function e7(t){const e=Ds(t);return e.body===t?Th(t).innerWidth>e.documentElement.clientWidth:t.scrollHeight>t.clientHeight}function Al(t,e){e?t.setAttribute("aria-hidden","true"):t.removeAttribute("aria-hidden")}function JC(t){return parseInt(Th(t).getComputedStyle(t).paddingRight,10)||0}function t7(t){const n=["TEMPLATE","SCRIPT","STYLE","LINK","MAP","META","NOSCRIPT","PICTURE","COL","COLGROUP","PARAM","SLOT","SOURCE","TRACK"].includes(t.tagName),r=t.tagName==="INPUT"&&t.getAttribute("type")==="hidden";return n||r}function ZC(t,e,n,r,i){const s=[e,n,...r];[].forEach.call(t.children,o=>{const a=!s.includes(o),l=!t7(o);a&&l&&Al(o,i)})}function _m(t,e){let n=-1;return t.some((r,i)=>e(r)?(n=i,!0):!1),n}function n7(t,e){const n=[],r=t.container;if(!e.disableScrollLock){if(e7(r)){const o=ZW(Th(r));n.push({value:r.style.paddingRight,property:"padding-right",el:r}),r.style.paddingRight=`${JC(r)+o}px`;const a=Ds(r).querySelectorAll(".mui-fixed");[].forEach.call(a,l=>{n.push({value:l.style.paddingRight,property:"padding-right",el:l}),l.style.paddingRight=`${JC(l)+o}px`})}let s;if(r.parentNode instanceof DocumentFragment)s=Ds(r).body;else{const o=r.parentElement,a=Th(r);s=(o==null?void 0:o.nodeName)==="HTML"&&a.getComputedStyle(o).overflowY==="scroll"?o:r}n.push({value:s.style.overflow,property:"overflow",el:s},{value:s.style.overflowX,property:"overflow-x",el:s},{value:s.style.overflowY,property:"overflow-y",el:s}),s.style.overflow="hidden"}return()=>{n.forEach(({value:s,el:o,property:a})=>{s?o.style.setProperty(a,s):o.style.removeProperty(a)})}}function r7(t){const e=[];return[].forEach.call(t.children,n=>{n.getAttribute("aria-hidden")==="true"&&e.push(n)}),e}class i7{constructor(){this.modals=[],this.containers=[]}add(e,n){let r=this.modals.indexOf(e);if(r!==-1)return r;r=this.modals.length,this.modals.push(e),e.modalRef&&Al(e.modalRef,!1);const i=r7(n);ZC(n,e.mount,e.modalRef,i,!0);const s=_m(this.containers,o=>o.container===n);return s!==-1?(this.containers[s].modals.push(e),r):(this.containers.push({modals:[e],container:n,restore:null,hiddenSiblings:i}),r)}mount(e,n){const r=_m(this.containers,s=>s.modals.includes(e)),i=this.containers[r];i.restore||(i.restore=n7(i,n))}remove(e,n=!0){const r=this.modals.indexOf(e);if(r===-1)return r;const i=_m(this.containers,o=>o.modals.includes(e)),s=this.containers[i];if(s.modals.splice(s.modals.indexOf(e),1),this.modals.splice(r,1),s.modals.length===0)s.restore&&s.restore(),e.modalRef&&Al(e.modalRef,n),ZC(s.container,e.mount,e.modalRef,s.hiddenSiblings,!1),this.containers.splice(i,1);else{const o=s.modals[s.modals.length-1];o.modalRef&&Al(o.modalRef,!1)}return r}isTopModal(e){return this.modals.length>0&&this.modals[this.modals.length-1]===e}}function OA(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=OA(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function ea(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=OA(t))&&(r&&(r+=" "),r+=e);return r}function MA(t,e,n=void 0){const r={};for(const i in t){const s=t[i];let o="",a=!0;for(let l=0;l<s.length;l+=1){const c=s[l];c&&(o+=(a===!0?"":" ")+e(c),a=!1,n&&n[c]&&(o+=" "+n[c]))}r[i]=o}return r}function Kc(...t){const e=k.useRef(void 0),n=k.useCallback(r=>{const i=t.map(s=>{if(s==null)return null;if(typeof s=="function"){const o=s,a=o(r);return typeof a=="function"?a:()=>{o(null)}}return s.current=r,()=>{s.current=null}});return()=>{i.forEach(s=>s==null?void 0:s())}},t);return k.useMemo(()=>t.every(r=>r==null)?null:r=>{e.current&&(e.current(),e.current=void 0),r!=null&&(e.current=n(r))},t)}function T_(t){var e;return parseInt(k.version,10)>=19?((e=t==null?void 0:t.props)==null?void 0:e.ref)||null:(t==null?void 0:t.ref)||null}const s7=["input","select","textarea","a[href]","button","[tabindex]","audio[controls]","video[controls]",'[contenteditable]:not([contenteditable="false"])'].join(",");function o7(t){const e=parseInt(t.getAttribute("tabindex")||"",10);return Number.isNaN(e)?t.contentEditable==="true"||(t.nodeName==="AUDIO"||t.nodeName==="VIDEO"||t.nodeName==="DETAILS")&&t.getAttribute("tabindex")===null?0:t.tabIndex:e}function a7(t){if(t.tagName!=="INPUT"||t.type!=="radio"||!t.name)return!1;const e=r=>t.ownerDocument.querySelector(`input[type="radio"]${r}`);let n=e(`[name="${t.name}"]:checked`);return n||(n=e(`[name="${t.name}"]`)),n!==t}function l7(t){return!(t.disabled||t.tagName==="INPUT"&&t.type==="hidden"||a7(t))}function c7(t){const e=[],n=[];return Array.from(t.querySelectorAll(s7)).forEach((r,i)=>{const s=o7(r);s===-1||!l7(r)||(s===0?e.push(r):n.push({documentOrder:i,tabIndex:s,node:r}))}),n.sort((r,i)=>r.tabIndex===i.tabIndex?r.documentOrder-i.documentOrder:r.tabIndex-i.tabIndex).map(r=>r.node).concat(e)}function u7(){return!0}function d7(t){const{children:e,disableAutoFocus:n=!1,disableEnforceFocus:r=!1,disableRestoreFocus:i=!1,getTabbable:s=c7,isEnabled:o=u7,open:a}=t,l=k.useRef(!1),c=k.useRef(null),d=k.useRef(null),h=k.useRef(null),f=k.useRef(null),y=k.useRef(!1),v=k.useRef(null),b=Kc(T_(e),v),P=k.useRef(null);k.useEffect(()=>{!a||!v.current||(y.current=!n)},[n,a]),k.useEffect(()=>{if(!a||!v.current)return;const x=Ds(v.current);return v.current.contains(x.activeElement)||(v.current.hasAttribute("tabIndex")||v.current.setAttribute("tabIndex","-1"),y.current&&v.current.focus()),()=>{i||(h.current&&h.current.focus&&(l.current=!0,h.current.focus()),h.current=null)}},[a]),k.useEffect(()=>{if(!a||!v.current)return;const x=Ds(v.current),A=S=>{P.current=S,!(r||!o()||S.key!=="Tab")&&x.activeElement===v.current&&S.shiftKey&&(l.current=!0,d.current&&d.current.focus())},D=()=>{var I,m;const S=v.current;if(S===null)return;if(!x.hasFocus()||!o()||l.current){l.current=!1;return}if(S.contains(x.activeElement)||r&&x.activeElement!==c.current&&x.activeElement!==d.current)return;if(x.activeElement!==f.current)f.current=null;else if(f.current!==null)return;if(!y.current)return;let E=[];if((x.activeElement===c.current||x.activeElement===d.current)&&(E=s(v.current)),E.length>0){const R=!!((I=P.current)!=null&&I.shiftKey&&((m=P.current)==null?void 0:m.key)==="Tab"),O=E[0],N=E[E.length-1];typeof O!="string"&&typeof N!="string"&&(R?N.focus():O.focus())}else S.focus()};x.addEventListener("focusin",D),x.addEventListener("keydown",A,!0);const M=setInterval(()=>{x.activeElement&&x.activeElement.tagName==="BODY"&&D()},50);return()=>{clearInterval(M),x.removeEventListener("focusin",D),x.removeEventListener("keydown",A,!0)}},[n,r,i,o,a,s]);const w=x=>{h.current===null&&(h.current=x.relatedTarget),y.current=!0,f.current=x.target;const A=e.props.onFocus;A&&A(x)},C=x=>{h.current===null&&(h.current=x.relatedTarget),y.current=!0};return _.jsxs(k.Fragment,{children:[_.jsx("div",{tabIndex:a?0:-1,onFocus:C,ref:c,"data-testid":"sentinelStart"}),k.cloneElement(e,{ref:b,onFocus:w}),_.jsx("div",{tabIndex:a?0:-1,onFocus:C,ref:d,"data-testid":"sentinelEnd"})]})}const h7=typeof window<"u"?k.useLayoutEffect:k.useEffect,yy=h7;function eS(t,e){typeof t=="function"?t(e):t&&(t.current=e)}function f7(t){return typeof t=="function"?t():t}const p7=k.forwardRef(function(e,n){const{children:r,container:i,disablePortal:s=!1}=e,[o,a]=k.useState(null),l=Kc(k.isValidElement(r)?T_(r):null,n);if(yy(()=>{s||a(f7(i)||document.body)},[i,s]),yy(()=>{if(o&&!s)return eS(n,o),()=>{eS(n,null)}},[n,o,s]),s){if(k.isValidElement(r)){const c={ref:l};return k.cloneElement(r,c)}return r}return o&&Rv.createPortal(r,o)}),m7=p7;function Os(t,...e){const n=new URL(`https://mui.com/production-error/?code=${t}`);return e.forEach(r=>n.searchParams.append("args[]",r)),`Minified MUI error #${t}; visit ${n} for the full message.`}function LA(t){if(typeof t!="string")throw new Error(Os(7));return t.charAt(0).toUpperCase()+t.slice(1)}var jA={exports:{}},Ce={};/**
 * @license React
 * react-is.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var k_=Symbol.for("react.transitional.element"),I_=Symbol.for("react.portal"),wf=Symbol.for("react.fragment"),xf=Symbol.for("react.strict_mode"),Ef=Symbol.for("react.profiler"),Cf=Symbol.for("react.consumer"),Sf=Symbol.for("react.context"),bf=Symbol.for("react.forward_ref"),Tf=Symbol.for("react.suspense"),kf=Symbol.for("react.suspense_list"),If=Symbol.for("react.memo"),Pf=Symbol.for("react.lazy"),g7=Symbol.for("react.view_transition"),y7=Symbol.for("react.client.reference");function Rn(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case k_:switch(t=t.type,t){case wf:case Ef:case xf:case Tf:case kf:case g7:return t;default:switch(t=t&&t.$$typeof,t){case Sf:case bf:case Pf:case If:return t;case Cf:return t;default:return e}}case I_:return e}}}Ce.ContextConsumer=Cf;Ce.ContextProvider=Sf;Ce.Element=k_;Ce.ForwardRef=bf;Ce.Fragment=wf;Ce.Lazy=Pf;Ce.Memo=If;Ce.Portal=I_;Ce.Profiler=Ef;Ce.StrictMode=xf;Ce.Suspense=Tf;Ce.SuspenseList=kf;Ce.isContextConsumer=function(t){return Rn(t)===Cf};Ce.isContextProvider=function(t){return Rn(t)===Sf};Ce.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===k_};Ce.isForwardRef=function(t){return Rn(t)===bf};Ce.isFragment=function(t){return Rn(t)===wf};Ce.isLazy=function(t){return Rn(t)===Pf};Ce.isMemo=function(t){return Rn(t)===If};Ce.isPortal=function(t){return Rn(t)===I_};Ce.isProfiler=function(t){return Rn(t)===Ef};Ce.isStrictMode=function(t){return Rn(t)===xf};Ce.isSuspense=function(t){return Rn(t)===Tf};Ce.isSuspenseList=function(t){return Rn(t)===kf};Ce.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===wf||t===Ef||t===xf||t===Tf||t===kf||typeof t=="object"&&t!==null&&(t.$$typeof===Pf||t.$$typeof===If||t.$$typeof===Sf||t.$$typeof===Cf||t.$$typeof===bf||t.$$typeof===y7||t.getModuleId!==void 0)};Ce.typeOf=Rn;jA.exports=Ce;var FA=jA.exports;function or(t){if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)}function $A(t){if(k.isValidElement(t)||FA.isValidElementType(t)||!or(t))return t;const e={};return Object.keys(t).forEach(n=>{e[n]=$A(t[n])}),e}function on(t,e,n={clone:!0}){const r=n.clone?{...t}:t;return or(t)&&or(e)&&Object.keys(e).forEach(i=>{k.isValidElement(e[i])||FA.isValidElementType(e[i])?r[i]=e[i]:or(e[i])&&Object.prototype.hasOwnProperty.call(t,i)&&or(t[i])?r[i]=on(t[i],e[i],n):n.clone?r[i]=or(e[i])?$A(e[i]):e[i]:r[i]=e[i]}),r}function Nl(t,e){return e?on(t,e,{clone:!1}):t}function v7(t,e){if(!t.containerQueries)return e;const n=Object.keys(e).filter(r=>r.startsWith("@container")).sort((r,i)=>{var o,a;const s=/min-width:\s*([0-9.]+)/;return+(((o=r.match(s))==null?void 0:o[1])||0)-+(((a=i.match(s))==null?void 0:a[1])||0)});return n.length?n.reduce((r,i)=>{const s=e[i];return delete r[i],r[i]=s,r},{...e}):e}function _7(t,e){return e==="@"||e.startsWith("@")&&(t.some(n=>e.startsWith(`@${n}`))||!!e.match(/^@\d/))}function w7(t,e){const n=e.match(/^@([^/]+)?\/?(.+)?$/);if(!n)return null;const[,r,i]=n,s=Number.isNaN(+r)?r||0:+r;return t.containerQueries(i).up(s)}function x7(t){const e=(s,o)=>s.replace("@media",o?`@container ${o}`:"@container");function n(s,o){s.up=(...a)=>e(t.breakpoints.up(...a),o),s.down=(...a)=>e(t.breakpoints.down(...a),o),s.between=(...a)=>e(t.breakpoints.between(...a),o),s.only=(...a)=>e(t.breakpoints.only(...a),o),s.not=(...a)=>{const l=e(t.breakpoints.not(...a),o);return l.includes("not all and")?l.replace("not all and ","").replace("min-width:","width<").replace("max-width:","width>").replace("and","or"):l}}const r={},i=s=>(n(r,s),r);return n(i),{...t,containerQueries:i}}const Rf={xs:0,sm:600,md:900,lg:1200,xl:1536},tS={keys:["xs","sm","md","lg","xl"],up:t=>`@media (min-width:${Rf[t]}px)`},E7={containerQueries:t=>({up:e=>{let n=typeof e=="number"?e:Rf[e]||e;return typeof n=="number"&&(n=`${n}px`),t?`@container ${t} (min-width:${n})`:`@container (min-width:${n})`}})};function Kr(t,e,n){const r=t.theme||{};if(Array.isArray(e)){const s=r.breakpoints||tS;return e.reduce((o,a,l)=>(o[s.up(s.keys[l])]=n(e[l]),o),{})}if(typeof e=="object"){const s=r.breakpoints||tS;return Object.keys(e).reduce((o,a)=>{if(_7(s.keys,a)){const l=w7(r.containerQueries?r:E7,a);l&&(o[l]=n(e[a],a))}else if(Object.keys(s.values||Rf).includes(a)){const l=s.up(a);o[l]=n(e[a],a)}else{const l=a;o[l]=e[l]}return o},{})}return n(e)}function C7(t={}){var n;return((n=t.keys)==null?void 0:n.reduce((r,i)=>{const s=t.up(i);return r[s]={},r},{}))||{}}function S7(t,e){return t.reduce((n,r)=>{const i=n[r];return(!i||Object.keys(i).length===0)&&delete n[r],n},e)}function Af(t,e,n=!0){if(!e||typeof e!="string")return null;if(t&&t.vars&&n){const r=`vars.${e}`.split(".").reduce((i,s)=>i&&i[s]?i[s]:null,t);if(r!=null)return r}return e.split(".").reduce((r,i)=>r&&r[i]!=null?r[i]:null,t)}function kh(t,e,n,r=n){let i;return typeof t=="function"?i=t(n):Array.isArray(t)?i=t[n]||r:i=Af(t,n)||r,e&&(i=e(i,r,t)),i}function Qe(t){const{prop:e,cssProperty:n=t.prop,themeKey:r,transform:i}=t,s=o=>{if(o[e]==null)return null;const a=o[e],l=o.theme,c=Af(l,r)||{};return Kr(o,a,h=>{let f=kh(c,i,h);return h===f&&typeof h=="string"&&(f=kh(c,i,`${e}${h==="default"?"":LA(h)}`,h)),n===!1?f:{[n]:f}})};return s.propTypes={},s.filterProps=[e],s}function b7(t){const e={};return n=>(e[n]===void 0&&(e[n]=t(n)),e[n])}const T7={m:"margin",p:"padding"},k7={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},nS={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},I7=b7(t=>{if(t.length>2)if(nS[t])t=nS[t];else return[t];const[e,n]=t.split(""),r=T7[e],i=k7[n]||"";return Array.isArray(i)?i.map(s=>r+s):[r+i]}),P_=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],R_=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"];[...P_,...R_];function qc(t,e,n,r){const i=Af(t,e,!0)??n;return typeof i=="number"||typeof i=="string"?s=>typeof s=="string"?s:typeof i=="string"?i.startsWith("var(")&&s===0?0:i.startsWith("var(")&&s===1?i:`calc(${s} * ${i})`:i*s:Array.isArray(i)?s=>{if(typeof s=="string")return s;const o=Math.abs(s),a=i[o];return s>=0?a:typeof a=="number"?-a:typeof a=="string"&&a.startsWith("var(")?`calc(-1 * ${a})`:`-${a}`}:typeof i=="function"?i:()=>{}}function A_(t){return qc(t,"spacing",8)}function Yc(t,e){return typeof e=="string"||e==null?e:t(e)}function P7(t,e){return n=>t.reduce((r,i)=>(r[i]=Yc(e,n),r),{})}function R7(t,e,n,r){if(!e.includes(n))return null;const i=I7(n),s=P7(i,r),o=t[n];return Kr(t,o,s)}function UA(t,e){const n=A_(t.theme);return Object.keys(t).map(r=>R7(t,e,r,n)).reduce(Nl,{})}function Ve(t){return UA(t,P_)}Ve.propTypes={};Ve.filterProps=P_;function Be(t){return UA(t,R_)}Be.propTypes={};Be.filterProps=R_;function Nf(...t){const e=t.reduce((r,i)=>(i.filterProps.forEach(s=>{r[s]=i}),r),{}),n=r=>Object.keys(r).reduce((i,s)=>e[s]?Nl(i,e[s](r)):i,{});return n.propTypes={},n.filterProps=t.reduce((r,i)=>r.concat(i.filterProps),[]),n}function wn(t){return typeof t!="number"?t:`${t}px solid`}function An(t,e){return Qe({prop:t,themeKey:"borders",transform:e})}const A7=An("border",wn),N7=An("borderTop",wn),D7=An("borderRight",wn),O7=An("borderBottom",wn),M7=An("borderLeft",wn),L7=An("borderColor"),j7=An("borderTopColor"),F7=An("borderRightColor"),$7=An("borderBottomColor"),U7=An("borderLeftColor"),V7=An("outline",wn),B7=An("outlineColor"),Df=t=>{if(t.borderRadius!==void 0&&t.borderRadius!==null){const e=qc(t.theme,"shape.borderRadius",4),n=r=>({borderRadius:Yc(e,r)});return Kr(t,t.borderRadius,n)}return null};Df.propTypes={};Df.filterProps=["borderRadius"];Nf(A7,N7,D7,O7,M7,L7,j7,F7,$7,U7,Df,V7,B7);const Of=t=>{if(t.gap!==void 0&&t.gap!==null){const e=qc(t.theme,"spacing",8),n=r=>({gap:Yc(e,r)});return Kr(t,t.gap,n)}return null};Of.propTypes={};Of.filterProps=["gap"];const Mf=t=>{if(t.columnGap!==void 0&&t.columnGap!==null){const e=qc(t.theme,"spacing",8),n=r=>({columnGap:Yc(e,r)});return Kr(t,t.columnGap,n)}return null};Mf.propTypes={};Mf.filterProps=["columnGap"];const Lf=t=>{if(t.rowGap!==void 0&&t.rowGap!==null){const e=qc(t.theme,"spacing",8),n=r=>({rowGap:Yc(e,r)});return Kr(t,t.rowGap,n)}return null};Lf.propTypes={};Lf.filterProps=["rowGap"];const z7=Qe({prop:"gridColumn"}),W7=Qe({prop:"gridRow"}),H7=Qe({prop:"gridAutoFlow"}),G7=Qe({prop:"gridAutoColumns"}),K7=Qe({prop:"gridAutoRows"}),q7=Qe({prop:"gridTemplateColumns"}),Y7=Qe({prop:"gridTemplateRows"}),X7=Qe({prop:"gridTemplateAreas"}),Q7=Qe({prop:"gridArea"});Nf(Of,Mf,Lf,z7,W7,H7,G7,K7,q7,Y7,X7,Q7);function Do(t,e){return e==="grey"?e:t}const J7=Qe({prop:"color",themeKey:"palette",transform:Do}),Z7=Qe({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette",transform:Do}),eH=Qe({prop:"backgroundColor",themeKey:"palette",transform:Do});Nf(J7,Z7,eH);function nn(t){return t<=1&&t!==0?`${t*100}%`:t}const tH=Qe({prop:"width",transform:nn}),N_=t=>{if(t.maxWidth!==void 0&&t.maxWidth!==null){const e=n=>{var i,s,o,a,l;const r=((o=(s=(i=t.theme)==null?void 0:i.breakpoints)==null?void 0:s.values)==null?void 0:o[n])||Rf[n];return r?((l=(a=t.theme)==null?void 0:a.breakpoints)==null?void 0:l.unit)!=="px"?{maxWidth:`${r}${t.theme.breakpoints.unit}`}:{maxWidth:r}:{maxWidth:nn(n)}};return Kr(t,t.maxWidth,e)}return null};N_.filterProps=["maxWidth"];const nH=Qe({prop:"minWidth",transform:nn}),rH=Qe({prop:"height",transform:nn}),iH=Qe({prop:"maxHeight",transform:nn}),sH=Qe({prop:"minHeight",transform:nn});Qe({prop:"size",cssProperty:"width",transform:nn});Qe({prop:"size",cssProperty:"height",transform:nn});const oH=Qe({prop:"boxSizing"});Nf(tH,N_,nH,rH,iH,sH,oH);const aH={border:{themeKey:"borders",transform:wn},borderTop:{themeKey:"borders",transform:wn},borderRight:{themeKey:"borders",transform:wn},borderBottom:{themeKey:"borders",transform:wn},borderLeft:{themeKey:"borders",transform:wn},borderColor:{themeKey:"palette"},borderTopColor:{themeKey:"palette"},borderRightColor:{themeKey:"palette"},borderBottomColor:{themeKey:"palette"},borderLeftColor:{themeKey:"palette"},outline:{themeKey:"borders",transform:wn},outlineColor:{themeKey:"palette"},borderRadius:{themeKey:"shape.borderRadius",style:Df},color:{themeKey:"palette",transform:Do},bgcolor:{themeKey:"palette",cssProperty:"backgroundColor",transform:Do},backgroundColor:{themeKey:"palette",transform:Do},p:{style:Be},pt:{style:Be},pr:{style:Be},pb:{style:Be},pl:{style:Be},px:{style:Be},py:{style:Be},padding:{style:Be},paddingTop:{style:Be},paddingRight:{style:Be},paddingBottom:{style:Be},paddingLeft:{style:Be},paddingX:{style:Be},paddingY:{style:Be},paddingInline:{style:Be},paddingInlineStart:{style:Be},paddingInlineEnd:{style:Be},paddingBlock:{style:Be},paddingBlockStart:{style:Be},paddingBlockEnd:{style:Be},m:{style:Ve},mt:{style:Ve},mr:{style:Ve},mb:{style:Ve},ml:{style:Ve},mx:{style:Ve},my:{style:Ve},margin:{style:Ve},marginTop:{style:Ve},marginRight:{style:Ve},marginBottom:{style:Ve},marginLeft:{style:Ve},marginX:{style:Ve},marginY:{style:Ve},marginInline:{style:Ve},marginInlineStart:{style:Ve},marginInlineEnd:{style:Ve},marginBlock:{style:Ve},marginBlockStart:{style:Ve},marginBlockEnd:{style:Ve},displayPrint:{cssProperty:!1,transform:t=>({"@media print":{display:t}})},display:{},overflow:{},textOverflow:{},visibility:{},whiteSpace:{},flexBasis:{},flexDirection:{},flexWrap:{},justifyContent:{},alignItems:{},alignContent:{},order:{},flex:{},flexGrow:{},flexShrink:{},alignSelf:{},justifyItems:{},justifySelf:{},gap:{style:Of},rowGap:{style:Lf},columnGap:{style:Mf},gridColumn:{},gridRow:{},gridAutoFlow:{},gridAutoColumns:{},gridAutoRows:{},gridTemplateColumns:{},gridTemplateRows:{},gridTemplateAreas:{},gridArea:{},position:{},zIndex:{themeKey:"zIndex"},top:{},right:{},bottom:{},left:{},boxShadow:{themeKey:"shadows"},width:{transform:nn},maxWidth:{style:N_},minWidth:{transform:nn},height:{transform:nn},maxHeight:{transform:nn},minHeight:{transform:nn},boxSizing:{},font:{themeKey:"font"},fontFamily:{themeKey:"typography"},fontSize:{themeKey:"typography"},fontStyle:{themeKey:"typography"},fontWeight:{themeKey:"typography"},letterSpacing:{},textTransform:{},lineHeight:{},textAlign:{},typography:{cssProperty:!1,themeKey:"typography"}},Xc=aH;function lH(...t){const e=t.reduce((r,i)=>r.concat(Object.keys(i)),[]),n=new Set(e);return t.every(r=>n.size===Object.keys(r).length)}function cH(t,e){return typeof t=="function"?t(e):t}function uH(){function t(n,r,i,s){const o={[n]:r,theme:i},a=s[n];if(!a)return{[n]:r};const{cssProperty:l=n,themeKey:c,transform:d,style:h}=a;if(r==null)return null;if(c==="typography"&&r==="inherit")return{[n]:r};const f=Af(i,c)||{};return h?h(o):Kr(o,r,v=>{let b=kh(f,d,v);return v===b&&typeof v=="string"&&(b=kh(f,d,`${n}${v==="default"?"":LA(v)}`,v)),l===!1?b:{[l]:b}})}function e(n){const{sx:r,theme:i={}}=n||{};if(!r)return null;const s=i.unstable_sxConfig??Xc;function o(a){let l=a;if(typeof a=="function")l=a(i);else if(typeof a!="object")return a;if(!l)return null;const c=C7(i.breakpoints),d=Object.keys(c);let h=c;return Object.keys(l).forEach(f=>{const y=cH(l[f],i);if(y!=null)if(typeof y=="object")if(s[f])h=Nl(h,t(f,y,i,s));else{const v=Kr({theme:i},y,b=>({[f]:b}));lH(v,y)?h[f]=e({sx:y,theme:i}):h=Nl(h,v)}else h=Nl(h,t(f,y,i,s))}),v7(i,S7(d,h))}return Array.isArray(r)?r.map(o):o(r)}return e}const VA=uH();VA.filterProps=["sx"];const ta=VA,dH=t=>{var r;const e={systemProps:{},otherProps:{}},n=((r=t==null?void 0:t.theme)==null?void 0:r.unstable_sxConfig)??Xc;return Object.keys(t).forEach(i=>{n[i]?e.systemProps[i]=t[i]:e.otherProps[i]=t[i]}),e};function hH(t){const{sx:e,...n}=t,{systemProps:r,otherProps:i}=dH(n);let s;return Array.isArray(e)?s=[r,...e]:typeof e=="function"?s=(...o)=>{const a=e(...o);return or(a)?{...r,...a}:r}:s={...r,...e},{...i,sx:s}}function vy(){return vy=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},vy.apply(null,arguments)}var fH=!1;function pH(t){if(t.sheet)return t.sheet;for(var e=0;e<document.styleSheets.length;e++)if(document.styleSheets[e].ownerNode===t)return document.styleSheets[e]}function mH(t){var e=document.createElement("style");return e.setAttribute("data-emotion",t.key),t.nonce!==void 0&&e.setAttribute("nonce",t.nonce),e.appendChild(document.createTextNode("")),e.setAttribute("data-s",""),e}var gH=function(){function t(n){var r=this;this._insertTag=function(i){var s;r.tags.length===0?r.insertionPoint?s=r.insertionPoint.nextSibling:r.prepend?s=r.container.firstChild:s=r.before:s=r.tags[r.tags.length-1].nextSibling,r.container.insertBefore(i,s),r.tags.push(i)},this.isSpeedy=n.speedy===void 0?!fH:n.speedy,this.tags=[],this.ctr=0,this.nonce=n.nonce,this.key=n.key,this.container=n.container,this.prepend=n.prepend,this.insertionPoint=n.insertionPoint,this.before=null}var e=t.prototype;return e.hydrate=function(r){r.forEach(this._insertTag)},e.insert=function(r){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(mH(this));var i=this.tags[this.tags.length-1];if(this.isSpeedy){var s=pH(i);try{s.insertRule(r,s.cssRules.length)}catch{}}else i.appendChild(document.createTextNode(r));this.ctr++},e.flush=function(){this.tags.forEach(function(r){var i;return(i=r.parentNode)==null?void 0:i.removeChild(r)}),this.tags=[],this.ctr=0},t}(),Ct="-ms-",Ih="-moz-",pe="-webkit-",BA="comm",D_="rule",O_="decl",yH="@import",zA="@keyframes",vH="@layer",_H=Math.abs,jf=String.fromCharCode,wH=Object.assign;function xH(t,e){return ht(t,0)^45?(((e<<2^ht(t,0))<<2^ht(t,1))<<2^ht(t,2))<<2^ht(t,3):0}function WA(t){return t.trim()}function EH(t,e){return(t=e.exec(t))?t[0]:t}function me(t,e,n){return t.replace(e,n)}function _y(t,e){return t.indexOf(e)}function ht(t,e){return t.charCodeAt(e)|0}function yc(t,e,n){return t.slice(e,n)}function rr(t){return t.length}function M_(t){return t.length}function Vu(t,e){return e.push(t),t}function CH(t,e){return t.map(e).join("")}var Ff=1,na=1,HA=0,Zt=0,Je=0,_a="";function $f(t,e,n,r,i,s,o){return{value:t,root:e,parent:n,type:r,props:i,children:s,line:Ff,column:na,length:o,return:""}}function qa(t,e){return wH($f("",null,null,"",null,null,0),t,{length:-t.length},e)}function SH(){return Je}function bH(){return Je=Zt>0?ht(_a,--Zt):0,na--,Je===10&&(na=1,Ff--),Je}function an(){return Je=Zt<HA?ht(_a,Zt++):0,na++,Je===10&&(na=1,Ff++),Je}function fr(){return ht(_a,Zt)}function gd(){return Zt}function Qc(t,e){return yc(_a,t,e)}function vc(t){switch(t){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function GA(t){return Ff=na=1,HA=rr(_a=t),Zt=0,[]}function KA(t){return _a="",t}function yd(t){return WA(Qc(Zt-1,wy(t===91?t+2:t===40?t+1:t)))}function TH(t){for(;(Je=fr())&&Je<33;)an();return vc(t)>2||vc(Je)>3?"":" "}function kH(t,e){for(;--e&&an()&&!(Je<48||Je>102||Je>57&&Je<65||Je>70&&Je<97););return Qc(t,gd()+(e<6&&fr()==32&&an()==32))}function wy(t){for(;an();)switch(Je){case t:return Zt;case 34:case 39:t!==34&&t!==39&&wy(Je);break;case 40:t===41&&wy(t);break;case 92:an();break}return Zt}function IH(t,e){for(;an()&&t+Je!==47+10;)if(t+Je===42+42&&fr()===47)break;return"/*"+Qc(e,Zt-1)+"*"+jf(t===47?t:an())}function PH(t){for(;!vc(fr());)an();return Qc(t,Zt)}function RH(t){return KA(vd("",null,null,null,[""],t=GA(t),0,[0],t))}function vd(t,e,n,r,i,s,o,a,l){for(var c=0,d=0,h=o,f=0,y=0,v=0,b=1,P=1,w=1,C=0,x="",A=i,D=s,M=r,S=x;P;)switch(v=C,C=an()){case 40:if(v!=108&&ht(S,h-1)==58){_y(S+=me(yd(C),"&","&\f"),"&\f")!=-1&&(w=-1);break}case 34:case 39:case 91:S+=yd(C);break;case 9:case 10:case 13:case 32:S+=TH(v);break;case 92:S+=kH(gd()-1,7);continue;case 47:switch(fr()){case 42:case 47:Vu(AH(IH(an(),gd()),e,n),l);break;default:S+="/"}break;case 123*b:a[c++]=rr(S)*w;case 125*b:case 59:case 0:switch(C){case 0:case 125:P=0;case 59+d:w==-1&&(S=me(S,/\f/g,"")),y>0&&rr(S)-h&&Vu(y>32?iS(S+";",r,n,h-1):iS(me(S," ","")+";",r,n,h-2),l);break;case 59:S+=";";default:if(Vu(M=rS(S,e,n,c,d,i,a,x,A=[],D=[],h),s),C===123)if(d===0)vd(S,e,M,M,A,s,h,a,D);else switch(f===99&&ht(S,3)===110?100:f){case 100:case 108:case 109:case 115:vd(t,M,M,r&&Vu(rS(t,M,M,0,0,i,a,x,i,A=[],h),D),i,D,h,a,r?A:D);break;default:vd(S,M,M,M,[""],D,0,a,D)}}c=d=y=0,b=w=1,x=S="",h=o;break;case 58:h=1+rr(S),y=v;default:if(b<1){if(C==123)--b;else if(C==125&&b++==0&&bH()==125)continue}switch(S+=jf(C),C*b){case 38:w=d>0?1:(S+="\f",-1);break;case 44:a[c++]=(rr(S)-1)*w,w=1;break;case 64:fr()===45&&(S+=yd(an())),f=fr(),d=h=rr(x=S+=PH(gd())),C++;break;case 45:v===45&&rr(S)==2&&(b=0)}}return s}function rS(t,e,n,r,i,s,o,a,l,c,d){for(var h=i-1,f=i===0?s:[""],y=M_(f),v=0,b=0,P=0;v<r;++v)for(var w=0,C=yc(t,h+1,h=_H(b=o[v])),x=t;w<y;++w)(x=WA(b>0?f[w]+" "+C:me(C,/&\f/g,f[w])))&&(l[P++]=x);return $f(t,e,n,i===0?D_:a,l,c,d)}function AH(t,e,n){return $f(t,e,n,BA,jf(SH()),yc(t,2,-2),0)}function iS(t,e,n,r){return $f(t,e,n,O_,yc(t,0,r),yc(t,r+1,-1),r)}function Oo(t,e){for(var n="",r=M_(t),i=0;i<r;i++)n+=e(t[i],i,t,e)||"";return n}function NH(t,e,n,r){switch(t.type){case vH:if(t.children.length)break;case yH:case O_:return t.return=t.return||t.value;case BA:return"";case zA:return t.return=t.value+"{"+Oo(t.children,r)+"}";case D_:t.value=t.props.join(",")}return rr(n=Oo(t.children,r))?t.return=t.value+"{"+n+"}":""}function DH(t){var e=M_(t);return function(n,r,i,s){for(var o="",a=0;a<e;a++)o+=t[a](n,r,i,s)||"";return o}}function OH(t){return function(e){e.root||(e=e.return)&&t(e)}}function qA(t){var e=Object.create(null);return function(n){return e[n]===void 0&&(e[n]=t(n)),e[n]}}var MH=function(e,n,r){for(var i=0,s=0;i=s,s=fr(),i===38&&s===12&&(n[r]=1),!vc(s);)an();return Qc(e,Zt)},LH=function(e,n){var r=-1,i=44;do switch(vc(i)){case 0:i===38&&fr()===12&&(n[r]=1),e[r]+=MH(Zt-1,n,r);break;case 2:e[r]+=yd(i);break;case 4:if(i===44){e[++r]=fr()===58?"&\f":"",n[r]=e[r].length;break}default:e[r]+=jf(i)}while(i=an());return e},jH=function(e,n){return KA(LH(GA(e),n))},sS=new WeakMap,FH=function(e){if(!(e.type!=="rule"||!e.parent||e.length<1)){for(var n=e.value,r=e.parent,i=e.column===r.column&&e.line===r.line;r.type!=="rule";)if(r=r.parent,!r)return;if(!(e.props.length===1&&n.charCodeAt(0)!==58&&!sS.get(r))&&!i){sS.set(e,!0);for(var s=[],o=jH(n,s),a=r.props,l=0,c=0;l<o.length;l++)for(var d=0;d<a.length;d++,c++)e.props[c]=s[l]?o[l].replace(/&\f/g,a[d]):a[d]+" "+o[l]}}},$H=function(e){if(e.type==="decl"){var n=e.value;n.charCodeAt(0)===108&&n.charCodeAt(2)===98&&(e.return="",e.value="")}};function YA(t,e){switch(xH(t,e)){case 5103:return pe+"print-"+t+t;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return pe+t+t;case 5349:case 4246:case 4810:case 6968:case 2756:return pe+t+Ih+t+Ct+t+t;case 6828:case 4268:return pe+t+Ct+t+t;case 6165:return pe+t+Ct+"flex-"+t+t;case 5187:return pe+t+me(t,/(\w+).+(:[^]+)/,pe+"box-$1$2"+Ct+"flex-$1$2")+t;case 5443:return pe+t+Ct+"flex-item-"+me(t,/flex-|-self/,"")+t;case 4675:return pe+t+Ct+"flex-line-pack"+me(t,/align-content|flex-|-self/,"")+t;case 5548:return pe+t+Ct+me(t,"shrink","negative")+t;case 5292:return pe+t+Ct+me(t,"basis","preferred-size")+t;case 6060:return pe+"box-"+me(t,"-grow","")+pe+t+Ct+me(t,"grow","positive")+t;case 4554:return pe+me(t,/([^-])(transform)/g,"$1"+pe+"$2")+t;case 6187:return me(me(me(t,/(zoom-|grab)/,pe+"$1"),/(image-set)/,pe+"$1"),t,"")+t;case 5495:case 3959:return me(t,/(image-set\([^]*)/,pe+"$1$`$1");case 4968:return me(me(t,/(.+:)(flex-)?(.*)/,pe+"box-pack:$3"+Ct+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+pe+t+t;case 4095:case 3583:case 4068:case 2532:return me(t,/(.+)-inline(.+)/,pe+"$1$2")+t;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(rr(t)-1-e>6)switch(ht(t,e+1)){case 109:if(ht(t,e+4)!==45)break;case 102:return me(t,/(.+:)(.+)-([^]+)/,"$1"+pe+"$2-$3$1"+Ih+(ht(t,e+3)==108?"$3":"$2-$3"))+t;case 115:return~_y(t,"stretch")?YA(me(t,"stretch","fill-available"),e)+t:t}break;case 4949:if(ht(t,e+1)!==115)break;case 6444:switch(ht(t,rr(t)-3-(~_y(t,"!important")&&10))){case 107:return me(t,":",":"+pe)+t;case 101:return me(t,/(.+:)([^;!]+)(;|!.+)?/,"$1"+pe+(ht(t,14)===45?"inline-":"")+"box$3$1"+pe+"$2$3$1"+Ct+"$2box$3")+t}break;case 5936:switch(ht(t,e+11)){case 114:return pe+t+Ct+me(t,/[svh]\w+-[tblr]{2}/,"tb")+t;case 108:return pe+t+Ct+me(t,/[svh]\w+-[tblr]{2}/,"tb-rl")+t;case 45:return pe+t+Ct+me(t,/[svh]\w+-[tblr]{2}/,"lr")+t}return pe+t+Ct+t+t}return t}var UH=function(e,n,r,i){if(e.length>-1&&!e.return)switch(e.type){case O_:e.return=YA(e.value,e.length);break;case zA:return Oo([qa(e,{value:me(e.value,"@","@"+pe)})],i);case D_:if(e.length)return CH(e.props,function(s){switch(EH(s,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return Oo([qa(e,{props:[me(s,/:(read-\w+)/,":"+Ih+"$1")]})],i);case"::placeholder":return Oo([qa(e,{props:[me(s,/:(plac\w+)/,":"+pe+"input-$1")]}),qa(e,{props:[me(s,/:(plac\w+)/,":"+Ih+"$1")]}),qa(e,{props:[me(s,/:(plac\w+)/,Ct+"input-$1")]})],i)}return""})}},VH=[UH],BH=function(e){var n=e.key;if(n==="css"){var r=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(r,function(b){var P=b.getAttribute("data-emotion");P.indexOf(" ")!==-1&&(document.head.appendChild(b),b.setAttribute("data-s",""))})}var i=e.stylisPlugins||VH,s={},o,a=[];o=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+n+' "]'),function(b){for(var P=b.getAttribute("data-emotion").split(" "),w=1;w<P.length;w++)s[P[w]]=!0;a.push(b)});var l,c=[FH,$H];{var d,h=[NH,OH(function(b){d.insert(b)})],f=DH(c.concat(i,h)),y=function(P){return Oo(RH(P),f)};l=function(P,w,C,x){d=C,y(P?P+"{"+w.styles+"}":w.styles),x&&(v.inserted[w.name]=!0)}}var v={key:n,sheet:new gH({key:n,container:o,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:s,registered:{},insert:l};return v.sheet.hydrate(a),v},zH=!0;function WH(t,e,n){var r="";return n.split(" ").forEach(function(i){t[i]!==void 0?e.push(t[i]+";"):i&&(r+=i+" ")}),r}var XA=function(e,n,r){var i=e.key+"-"+n.name;(r===!1||zH===!1)&&e.registered[i]===void 0&&(e.registered[i]=n.styles)},HH=function(e,n,r){XA(e,n,r);var i=e.key+"-"+n.name;if(e.inserted[n.name]===void 0){var s=n;do e.insert(n===s?"."+i:"",s,e.sheet,!0),s=s.next;while(s!==void 0)}};function GH(t){for(var e=0,n,r=0,i=t.length;i>=4;++r,i-=4)n=t.charCodeAt(r)&255|(t.charCodeAt(++r)&255)<<8|(t.charCodeAt(++r)&255)<<16|(t.charCodeAt(++r)&255)<<24,n=(n&65535)*1540483477+((n>>>16)*59797<<16),n^=n>>>24,e=(n&65535)*1540483477+((n>>>16)*59797<<16)^(e&65535)*1540483477+((e>>>16)*59797<<16);switch(i){case 3:e^=(t.charCodeAt(r+2)&255)<<16;case 2:e^=(t.charCodeAt(r+1)&255)<<8;case 1:e^=t.charCodeAt(r)&255,e=(e&65535)*1540483477+((e>>>16)*59797<<16)}return e^=e>>>13,e=(e&65535)*1540483477+((e>>>16)*59797<<16),((e^e>>>15)>>>0).toString(36)}var KH={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,scale:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},qH=!1,YH=/[A-Z]|^ms/g,XH=/_EMO_([^_]+?)_([^]*?)_EMO_/g,QA=function(e){return e.charCodeAt(1)===45},oS=function(e){return e!=null&&typeof e!="boolean"},wm=qA(function(t){return QA(t)?t:t.replace(YH,"-$&").toLowerCase()}),aS=function(e,n){switch(e){case"animation":case"animationName":if(typeof n=="string")return n.replace(XH,function(r,i,s){return ir={name:i,styles:s,next:ir},i})}return KH[e]!==1&&!QA(e)&&typeof n=="number"&&n!==0?n+"px":n},QH="Component selectors can only be used in conjunction with @emotion/babel-plugin, the swc Emotion plugin, or another Emotion-aware compiler transform.";function _c(t,e,n){if(n==null)return"";var r=n;if(r.__emotion_styles!==void 0)return r;switch(typeof n){case"boolean":return"";case"object":{var i=n;if(i.anim===1)return ir={name:i.name,styles:i.styles,next:ir},i.name;var s=n;if(s.styles!==void 0){var o=s.next;if(o!==void 0)for(;o!==void 0;)ir={name:o.name,styles:o.styles,next:ir},o=o.next;var a=s.styles+";";return a}return JH(t,e,n)}case"function":{if(t!==void 0){var l=ir,c=n(t);return ir=l,_c(t,e,c)}break}}var d=n;if(e==null)return d;var h=e[d];return h!==void 0?h:d}function JH(t,e,n){var r="";if(Array.isArray(n))for(var i=0;i<n.length;i++)r+=_c(t,e,n[i])+";";else for(var s in n){var o=n[s];if(typeof o!="object"){var a=o;e!=null&&e[a]!==void 0?r+=s+"{"+e[a]+"}":oS(a)&&(r+=wm(s)+":"+aS(s,a)+";")}else{if(s==="NO_COMPONENT_SELECTOR"&&qH)throw new Error(QH);if(Array.isArray(o)&&typeof o[0]=="string"&&(e==null||e[o[0]]===void 0))for(var l=0;l<o.length;l++)oS(o[l])&&(r+=wm(s)+":"+aS(s,o[l])+";");else{var c=_c(t,e,o);switch(s){case"animation":case"animationName":{r+=wm(s)+":"+c+";";break}default:r+=s+"{"+c+"}"}}}}return r}var lS=/label:\s*([^\s;{]+)\s*(;|$)/g,ir;function JA(t,e,n){if(t.length===1&&typeof t[0]=="object"&&t[0]!==null&&t[0].styles!==void 0)return t[0];var r=!0,i="";ir=void 0;var s=t[0];if(s==null||s.raw===void 0)r=!1,i+=_c(n,e,s);else{var o=s;i+=o[0]}for(var a=1;a<t.length;a++)if(i+=_c(n,e,t[a]),r){var l=s;i+=l[a]}lS.lastIndex=0;for(var c="",d;(d=lS.exec(i))!==null;)c+="-"+d[1];var h=GH(i)+c;return{name:h,styles:i,next:ir}}var ZH=function(e){return e()},eG=zw["useInsertionEffect"]?zw["useInsertionEffect"]:!1,tG=eG||ZH,ZA=k.createContext(typeof HTMLElement<"u"?BH({key:"css"}):null);ZA.Provider;var nG=function(e){return k.forwardRef(function(n,r){var i=k.useContext(ZA);return e(n,i,r)})},eN=k.createContext({}),rG=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|disableRemotePlayback|download|draggable|encType|enterKeyHint|fetchpriority|fetchPriority|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,iG=qA(function(t){return rG.test(t)||t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)<91}),sG=!1,oG=iG,aG=function(e){return e!=="theme"},cS=function(e){return typeof e=="string"&&e.charCodeAt(0)>96?oG:aG},uS=function(e,n,r){var i;if(n){var s=n.shouldForwardProp;i=e.__emotion_forwardProp&&s?function(o){return e.__emotion_forwardProp(o)&&s(o)}:s}return typeof i!="function"&&r&&(i=e.__emotion_forwardProp),i},lG=function(e){var n=e.cache,r=e.serialized,i=e.isStringTag;return XA(n,r,i),tG(function(){return HH(n,r,i)}),null},cG=function t(e,n){var r=e.__emotion_real===e,i=r&&e.__emotion_base||e,s,o;n!==void 0&&(s=n.label,o=n.target);var a=uS(e,n,r),l=a||cS(i),c=!l("as");return function(){var d=arguments,h=r&&e.__emotion_styles!==void 0?e.__emotion_styles.slice(0):[];if(s!==void 0&&h.push("label:"+s+";"),d[0]==null||d[0].raw===void 0)h.push.apply(h,d);else{var f=d[0];h.push(f[0]);for(var y=d.length,v=1;v<y;v++)h.push(d[v],f[v])}var b=nG(function(P,w,C){var x=c&&P.as||i,A="",D=[],M=P;if(P.theme==null){M={};for(var S in P)M[S]=P[S];M.theme=k.useContext(eN)}typeof P.className=="string"?A=WH(w.registered,D,P.className):P.className!=null&&(A=P.className+" ");var E=JA(h.concat(D),w.registered,M);A+=w.key+"-"+E.name,o!==void 0&&(A+=" "+o);var I=c&&a===void 0?cS(x):l,m={};for(var R in P)c&&R==="as"||I(R)&&(m[R]=P[R]);return m.className=A,C&&(m.ref=C),k.createElement(k.Fragment,null,k.createElement(lG,{cache:w,serialized:E,isStringTag:typeof x=="string"}),k.createElement(x,m))});return b.displayName=s!==void 0?s:"Styled("+(typeof i=="string"?i:i.displayName||i.name||"Component")+")",b.defaultProps=e.defaultProps,b.__emotion_real=b,b.__emotion_base=i,b.__emotion_styles=h,b.__emotion_forwardProp=a,Object.defineProperty(b,"toString",{value:function(){return o===void 0&&sG?"NO_COMPONENT_SELECTOR":"."+o}}),b.withComponent=function(P,w){var C=t(P,vy({},n,w,{shouldForwardProp:uS(b,w,!0)}));return C.apply(void 0,h)},b}},uG=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"],xy=cG.bind(null);uG.forEach(function(t){xy[t]=xy(t)});/**
 * @mui/styled-engine v7.1.0
 *
 * @license MIT
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */function tN(t,e){return xy(t,e)}function dG(t,e){Array.isArray(t.__emotion_styles)&&(t.__emotion_styles=e(t.__emotion_styles))}const dS=[];function hS(t){return dS[0]=t,JA(dS)}const hG=t=>{const e=Object.keys(t).map(n=>({key:n,val:t[n]}))||[];return e.sort((n,r)=>n.val-r.val),e.reduce((n,r)=>({...n,[r.key]:r.val}),{})};function fG(t){const{values:e={xs:0,sm:600,md:900,lg:1200,xl:1536},unit:n="px",step:r=5,...i}=t,s=hG(e),o=Object.keys(s);function a(f){return`@media (min-width:${typeof e[f]=="number"?e[f]:f}${n})`}function l(f){return`@media (max-width:${(typeof e[f]=="number"?e[f]:f)-r/100}${n})`}function c(f,y){const v=o.indexOf(y);return`@media (min-width:${typeof e[f]=="number"?e[f]:f}${n}) and (max-width:${(v!==-1&&typeof e[o[v]]=="number"?e[o[v]]:y)-r/100}${n})`}function d(f){return o.indexOf(f)+1<o.length?c(f,o[o.indexOf(f)+1]):a(f)}function h(f){const y=o.indexOf(f);return y===0?a(o[1]):y===o.length-1?l(o[y]):c(f,o[o.indexOf(f)+1]).replace("@media","@media not all and")}return{keys:o,values:s,up:a,down:l,between:c,only:d,not:h,unit:n,...i}}const pG={borderRadius:4},mG=pG;function nN(t=8,e=A_({spacing:t})){if(t.mui)return t;const n=(...r)=>(r.length===0?[1]:r).map(s=>{const o=e(s);return typeof o=="number"?`${o}px`:o}).join(" ");return n.mui=!0,n}function gG(t,e){var r;const n=this;if(n.vars){if(!((r=n.colorSchemes)!=null&&r[t])||typeof n.getColorSchemeSelector!="function")return{};let i=n.getColorSchemeSelector(t);return i==="&"?e:((i.includes("data-")||i.includes("."))&&(i=`*:where(${i.replace(/\s*&$/,"")}) &`),{[i]:e})}return n.palette.mode===t?e:{}}function L_(t={},...e){const{breakpoints:n={},palette:r={},spacing:i,shape:s={},...o}=t,a=fG(n),l=nN(i);let c=on({breakpoints:a,direction:"ltr",components:{},palette:{mode:"light",...r},spacing:l,shape:{...mG,...s}},o);return c=x7(c),c.applyStyles=gG,c=e.reduce((d,h)=>on(d,h),c),c.unstable_sxConfig={...Xc,...o==null?void 0:o.unstable_sxConfig},c.unstable_sx=function(h){return ta({sx:h,theme:this})},c}function yG(t){return Object.keys(t).length===0}function vG(t=null){const e=k.useContext(eN);return!e||yG(e)?t:e}const _G=L_();function rN(t=_G){return vG(t)}const fS=t=>t,wG=()=>{let t=fS;return{configure(e){t=e},generate(e){return t(e)},reset(){t=fS}}},xG=wG(),iN=xG;function EG(t={}){const{themeId:e,defaultTheme:n,defaultClassName:r="MuiBox-root",generateClassName:i}=t,s=tN("div",{shouldForwardProp:a=>a!=="theme"&&a!=="sx"&&a!=="as"})(ta);return k.forwardRef(function(l,c){const d=rN(n),{className:h,component:f="div",...y}=hH(l);return _.jsx(s,{as:f,ref:c,className:ea(h,i?i(r):r),theme:e&&d[e]||d,...y})})}const CG={active:"active",checked:"checked",completed:"completed",disabled:"disabled",error:"error",expanded:"expanded",focused:"focused",focusVisible:"focusVisible",open:"open",readOnly:"readOnly",required:"required",selected:"selected"};function j_(t,e,n="Mui"){const r=CG[e];return r?`${n}-${r}`:`${iN.generate(t)}-${e}`}function F_(t,e,n="Mui"){const r={};return e.forEach(i=>{r[i]=j_(t,i,n)}),r}function sN(t){const{variants:e,...n}=t,r={variants:e,style:hS(n),isProcessed:!0};return r.style===n||e&&e.forEach(i=>{typeof i.style!="function"&&(i.style=hS(i.style))}),r}const SG=L_();function xm(t){return t!=="ownerState"&&t!=="theme"&&t!=="sx"&&t!=="as"}function bG(t){return t?(e,n)=>n[t]:null}function TG(t,e,n){t.theme=PG(t.theme)?n:t.theme[e]||t.theme}function _d(t,e){const n=typeof e=="function"?e(t):e;if(Array.isArray(n))return n.flatMap(r=>_d(t,r));if(Array.isArray(n==null?void 0:n.variants)){let r;if(n.isProcessed)r=n.style;else{const{variants:i,...s}=n;r=s}return oN(t,n.variants,[r])}return n!=null&&n.isProcessed?n.style:n}function oN(t,e,n=[]){var i;let r;e:for(let s=0;s<e.length;s+=1){const o=e[s];if(typeof o.props=="function"){if(r??(r={...t,...t.ownerState,ownerState:t.ownerState}),!o.props(r))continue}else for(const a in o.props)if(t[a]!==o.props[a]&&((i=t.ownerState)==null?void 0:i[a])!==o.props[a])continue e;typeof o.style=="function"?(r??(r={...t,...t.ownerState,ownerState:t.ownerState}),n.push(o.style(r))):n.push(o.style)}return n}function kG(t={}){const{themeId:e,defaultTheme:n=SG,rootShouldForwardProp:r=xm,slotShouldForwardProp:i=xm}=t;function s(a){TG(a,e,n)}return(a,l={})=>{dG(a,D=>D.filter(M=>M!==ta));const{name:c,slot:d,skipVariantsResolver:h,skipSx:f,overridesResolver:y=bG(AG(d)),...v}=l,b=h!==void 0?h:d&&d!=="Root"&&d!=="root"||!1,P=f||!1;let w=xm;d==="Root"||d==="root"?w=r:d?w=i:RG(a)&&(w=void 0);const C=tN(a,{shouldForwardProp:w,label:IG(),...v}),x=D=>{if(typeof D=="function"&&D.__emotion_real!==D)return function(S){return _d(S,D)};if(or(D)){const M=sN(D);return M.variants?function(E){return _d(E,M)}:M.style}return D},A=(...D)=>{const M=[],S=D.map(x),E=[];if(M.push(s),c&&y&&E.push(function(O){var X,te;const W=(te=(X=O.theme.components)==null?void 0:X[c])==null?void 0:te.styleOverrides;if(!W)return null;const z={};for(const V in W)z[V]=_d(O,W[V]);return y(O,z)}),c&&!b&&E.push(function(O){var z,X;const N=O.theme,W=(X=(z=N==null?void 0:N.components)==null?void 0:z[c])==null?void 0:X.variants;return W?oN(O,W):null}),P||E.push(ta),Array.isArray(S[0])){const R=S.shift(),O=new Array(M.length).fill(""),N=new Array(E.length).fill("");let W;W=[...O,...R,...N],W.raw=[...O,...R.raw,...N],M.unshift(W)}const I=[...M,...S,...E],m=C(...I);return a.muiName&&(m.muiName=a.muiName),m};return C.withConfig&&(A.withConfig=C.withConfig),A}}function IG(t,e){let n;return n}function PG(t){for(const e in t)return!1;return!0}function RG(t){return typeof t=="string"&&t.charCodeAt(0)>96}function AG(t){return t&&t.charAt(0).toLowerCase()+t.slice(1)}function Ey(t,e){const n={...e};for(const r in t)if(Object.prototype.hasOwnProperty.call(t,r)){const i=r;if(i==="components"||i==="slots")n[i]={...t[i],...n[i]};else if(i==="componentsProps"||i==="slotProps"){const s=t[i],o=e[i];if(!o)n[i]=s||{};else if(!s)n[i]=o;else{n[i]={...o};for(const a in s)if(Object.prototype.hasOwnProperty.call(s,a)){const l=a;n[i][l]=Ey(s[l],o[l])}}}else n[i]===void 0&&(n[i]=t[i])}return n}function NG(t,e=Number.MIN_SAFE_INTEGER,n=Number.MAX_SAFE_INTEGER){return Math.max(e,Math.min(t,n))}function $_(t,e=0,n=1){return NG(t,e,n)}function DG(t){t=t.slice(1);const e=new RegExp(`.{1,${t.length>=6?2:1}}`,"g");let n=t.match(e);return n&&n[0].length===1&&(n=n.map(r=>r+r)),n?`rgb${n.length===4?"a":""}(${n.map((r,i)=>i<3?parseInt(r,16):Math.round(parseInt(r,16)/255*1e3)/1e3).join(", ")})`:""}function Oi(t){if(t.type)return t;if(t.charAt(0)==="#")return Oi(DG(t));const e=t.indexOf("("),n=t.substring(0,e);if(!["rgb","rgba","hsl","hsla","color"].includes(n))throw new Error(Os(9,t));let r=t.substring(e+1,t.length-1),i;if(n==="color"){if(r=r.split(" "),i=r.shift(),r.length===4&&r[3].charAt(0)==="/"&&(r[3]=r[3].slice(1)),!["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].includes(i))throw new Error(Os(10,i))}else r=r.split(",");return r=r.map(s=>parseFloat(s)),{type:n,values:r,colorSpace:i}}const OG=t=>{const e=Oi(t);return e.values.slice(0,3).map((n,r)=>e.type.includes("hsl")&&r!==0?`${n}%`:n).join(" ")},ol=(t,e)=>{try{return OG(t)}catch{return t}};function Uf(t){const{type:e,colorSpace:n}=t;let{values:r}=t;return e.includes("rgb")?r=r.map((i,s)=>s<3?parseInt(i,10):i):e.includes("hsl")&&(r[1]=`${r[1]}%`,r[2]=`${r[2]}%`),e.includes("color")?r=`${n} ${r.join(" ")}`:r=`${r.join(", ")}`,`${e}(${r})`}function aN(t){t=Oi(t);const{values:e}=t,n=e[0],r=e[1]/100,i=e[2]/100,s=r*Math.min(i,1-i),o=(c,d=(c+n/30)%12)=>i-s*Math.max(Math.min(d-3,9-d,1),-1);let a="rgb";const l=[Math.round(o(0)*255),Math.round(o(8)*255),Math.round(o(4)*255)];return t.type==="hsla"&&(a+="a",l.push(e[3])),Uf({type:a,values:l})}function Cy(t){t=Oi(t);let e=t.type==="hsl"||t.type==="hsla"?Oi(aN(t)).values:t.values;return e=e.map(n=>(t.type!=="color"&&(n/=255),n<=.03928?n/12.92:((n+.055)/1.055)**2.4)),Number((.2126*e[0]+.7152*e[1]+.0722*e[2]).toFixed(3))}function MG(t,e){const n=Cy(t),r=Cy(e);return(Math.max(n,r)+.05)/(Math.min(n,r)+.05)}function LG(t,e){return t=Oi(t),e=$_(e),(t.type==="rgb"||t.type==="hsl")&&(t.type+="a"),t.type==="color"?t.values[3]=`/${e}`:t.values[3]=e,Uf(t)}function Bu(t,e,n){try{return LG(t,e)}catch{return t}}function U_(t,e){if(t=Oi(t),e=$_(e),t.type.includes("hsl"))t.values[2]*=1-e;else if(t.type.includes("rgb")||t.type.includes("color"))for(let n=0;n<3;n+=1)t.values[n]*=1-e;return Uf(t)}function xe(t,e,n){try{return U_(t,e)}catch{return t}}function V_(t,e){if(t=Oi(t),e=$_(e),t.type.includes("hsl"))t.values[2]+=(100-t.values[2])*e;else if(t.type.includes("rgb"))for(let n=0;n<3;n+=1)t.values[n]+=(255-t.values[n])*e;else if(t.type.includes("color"))for(let n=0;n<3;n+=1)t.values[n]+=(1-t.values[n])*e;return Uf(t)}function Ee(t,e,n){try{return V_(t,e)}catch{return t}}function jG(t,e=.15){return Cy(t)>.5?U_(t,e):V_(t,e)}function zu(t,e,n){try{return jG(t,e)}catch{return t}}const FG=k.createContext(void 0);function $G(t){const{theme:e,name:n,props:r}=t;if(!e||!e.components||!e.components[n])return r;const i=e.components[n];return i.defaultProps?Ey(i.defaultProps,r):!i.styleOverrides&&!i.variants?Ey(i,r):r}function UG({props:t,name:e}){const n=k.useContext(FG);return $G({props:t,name:e,theme:{components:n}})}const pS={theme:void 0};function VG(t){let e,n;return function(i){let s=e;return(s===void 0||i.theme!==n)&&(pS.theme=i.theme,s=sN(t(pS)),e=s,n=i.theme),s}}function BG(t=""){function e(...r){if(!r.length)return"";const i=r[0];return typeof i=="string"&&!i.match(/(#|\(|\)|(-?(\d*\.)?\d+)(px|em|%|ex|ch|rem|vw|vh|vmin|vmax|cm|mm|in|pt|pc))|^(-?(\d*\.)?\d+)$|(\d+ \d+ \d+)/)?`, var(--${t?`${t}-`:""}${i}${e(...r.slice(1))})`:`, ${i}`}return(r,...i)=>`var(--${t?`${t}-`:""}${r}${e(...i)})`}const mS=(t,e,n,r=[])=>{let i=t;e.forEach((s,o)=>{o===e.length-1?Array.isArray(i)?i[Number(s)]=n:i&&typeof i=="object"&&(i[s]=n):i&&typeof i=="object"&&(i[s]||(i[s]=r.includes(s)?[]:{}),i=i[s])})},zG=(t,e,n)=>{function r(i,s=[],o=[]){Object.entries(i).forEach(([a,l])=>{(!n||n&&!n([...s,a]))&&l!=null&&(typeof l=="object"&&Object.keys(l).length>0?r(l,[...s,a],Array.isArray(l)?[...o,a]:o):e([...s,a],l,o))})}r(t)},WG=(t,e)=>typeof e=="number"?["lineHeight","fontWeight","opacity","zIndex"].some(r=>t.includes(r))||t[t.length-1].toLowerCase().includes("opacity")?e:`${e}px`:e;function Em(t,e){const{prefix:n,shouldSkipGeneratingVar:r}=e||{},i={},s={},o={};return zG(t,(a,l,c)=>{if((typeof l=="string"||typeof l=="number")&&(!r||!r(a,l))){const d=`--${n?`${n}-`:""}${a.join("-")}`,h=WG(a,l);Object.assign(i,{[d]:h}),mS(s,a,`var(${d})`,c),mS(o,a,`var(${d}, ${h})`,c)}},a=>a[0]==="vars"),{css:i,vars:s,varsWithDefaults:o}}function HG(t,e={}){const{getSelector:n=P,disableCssColorScheme:r,colorSchemeSelector:i}=e,{colorSchemes:s={},components:o,defaultColorScheme:a="light",...l}=t,{vars:c,css:d,varsWithDefaults:h}=Em(l,e);let f=h;const y={},{[a]:v,...b}=s;if(Object.entries(b||{}).forEach(([x,A])=>{const{vars:D,css:M,varsWithDefaults:S}=Em(A,e);f=on(f,S),y[x]={css:M,vars:D}}),v){const{css:x,vars:A,varsWithDefaults:D}=Em(v,e);f=on(f,D),y[a]={css:x,vars:A}}function P(x,A){var M,S;let D=i;if(i==="class"&&(D=".%s"),i==="data"&&(D="[data-%s]"),i!=null&&i.startsWith("data-")&&!i.includes("%s")&&(D=`[${i}="%s"]`),x){if(D==="media")return t.defaultColorScheme===x?":root":{[`@media (prefers-color-scheme: ${((S=(M=s[x])==null?void 0:M.palette)==null?void 0:S.mode)||x})`]:{":root":A}};if(D)return t.defaultColorScheme===x?`:root, ${D.replace("%s",String(x))}`:D.replace("%s",String(x))}return":root"}return{vars:f,generateThemeVars:()=>{let x={...c};return Object.entries(y).forEach(([,{vars:A}])=>{x=on(x,A)}),x},generateStyleSheets:()=>{var E,I;const x=[],A=t.defaultColorScheme||"light";function D(m,R){Object.keys(R).length&&x.push(typeof m=="string"?{[m]:{...R}}:m)}D(n(void 0,{...d}),d);const{[A]:M,...S}=y;if(M){const{css:m}=M,R=(I=(E=s[A])==null?void 0:E.palette)==null?void 0:I.mode,O=!r&&R?{colorScheme:R,...m}:{...m};D(n(A,{...O}),O)}return Object.entries(S).forEach(([m,{css:R}])=>{var W,z;const O=(z=(W=s[m])==null?void 0:W.palette)==null?void 0:z.mode,N=!r&&O?{colorScheme:O,...R}:{...R};D(n(m,{...N}),N)}),x}}}function GG(t){return function(n){return t==="media"?`@media (prefers-color-scheme: ${n})`:t?t.startsWith("data-")&&!t.includes("%s")?`[${t}="${n}"] &`:t==="class"?`.${n} &`:t==="data"?`[data-${n}] &`:`${t.replace("%s",n)} &`:"&"}}const KG={black:"#000",white:"#fff"},wc=KG,qG={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"},YG=qG,XG={50:"#f3e5f5",100:"#e1bee7",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",600:"#8e24aa",700:"#7b1fa2",800:"#6a1b9a",900:"#4a148c",A100:"#ea80fc",A200:"#e040fb",A400:"#d500f9",A700:"#aa00ff"},Ys=XG,QG={50:"#ffebee",100:"#ffcdd2",200:"#ef9a9a",300:"#e57373",400:"#ef5350",500:"#f44336",600:"#e53935",700:"#d32f2f",800:"#c62828",900:"#b71c1c",A100:"#ff8a80",A200:"#ff5252",A400:"#ff1744",A700:"#d50000"},Xs=QG,JG={50:"#fff3e0",100:"#ffe0b2",200:"#ffcc80",300:"#ffb74d",400:"#ffa726",500:"#ff9800",600:"#fb8c00",700:"#f57c00",800:"#ef6c00",900:"#e65100",A100:"#ffd180",A200:"#ffab40",A400:"#ff9100",A700:"#ff6d00"},Ya=JG,ZG={50:"#e3f2fd",100:"#bbdefb",200:"#90caf9",300:"#64b5f6",400:"#42a5f5",500:"#2196f3",600:"#1e88e5",700:"#1976d2",800:"#1565c0",900:"#0d47a1",A100:"#82b1ff",A200:"#448aff",A400:"#2979ff",A700:"#2962ff"},Qs=ZG,eK={50:"#e1f5fe",100:"#b3e5fc",200:"#81d4fa",300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",600:"#039be5",700:"#0288d1",800:"#0277bd",900:"#01579b",A100:"#80d8ff",A200:"#40c4ff",A400:"#00b0ff",A700:"#0091ea"},Js=eK,tK={50:"#e8f5e9",100:"#c8e6c9",200:"#a5d6a7",300:"#81c784",400:"#66bb6a",500:"#4caf50",600:"#43a047",700:"#388e3c",800:"#2e7d32",900:"#1b5e20",A100:"#b9f6ca",A200:"#69f0ae",A400:"#00e676",A700:"#00c853"},Zs=tK;function lN(){return{text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:wc.white,default:wc.white},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}}}const nK=lN();function cN(){return{text:{primary:wc.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:"#121212",default:"#121212"},action:{active:wc.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}}}const gS=cN();function yS(t,e,n,r){const i=r.light||r,s=r.dark||r*1.5;t[e]||(t.hasOwnProperty(n)?t[e]=t[n]:e==="light"?t.light=V_(t.main,i):e==="dark"&&(t.dark=U_(t.main,s)))}function rK(t="light"){return t==="dark"?{main:Qs[200],light:Qs[50],dark:Qs[400]}:{main:Qs[700],light:Qs[400],dark:Qs[800]}}function iK(t="light"){return t==="dark"?{main:Ys[200],light:Ys[50],dark:Ys[400]}:{main:Ys[500],light:Ys[300],dark:Ys[700]}}function sK(t="light"){return t==="dark"?{main:Xs[500],light:Xs[300],dark:Xs[700]}:{main:Xs[700],light:Xs[400],dark:Xs[800]}}function oK(t="light"){return t==="dark"?{main:Js[400],light:Js[300],dark:Js[700]}:{main:Js[700],light:Js[500],dark:Js[900]}}function aK(t="light"){return t==="dark"?{main:Zs[400],light:Zs[300],dark:Zs[700]}:{main:Zs[800],light:Zs[500],dark:Zs[900]}}function lK(t="light"){return t==="dark"?{main:Ya[400],light:Ya[300],dark:Ya[700]}:{main:"#ed6c02",light:Ya[500],dark:Ya[900]}}function B_(t){const{mode:e="light",contrastThreshold:n=3,tonalOffset:r=.2,...i}=t,s=t.primary||rK(e),o=t.secondary||iK(e),a=t.error||sK(e),l=t.info||oK(e),c=t.success||aK(e),d=t.warning||lK(e);function h(b){return MG(b,gS.text.primary)>=n?gS.text.primary:nK.text.primary}const f=({color:b,name:P,mainShade:w=500,lightShade:C=300,darkShade:x=700})=>{if(b={...b},!b.main&&b[w]&&(b.main=b[w]),!b.hasOwnProperty("main"))throw new Error(Os(11,P?` (${P})`:"",w));if(typeof b.main!="string")throw new Error(Os(12,P?` (${P})`:"",JSON.stringify(b.main)));return yS(b,"light",C,r),yS(b,"dark",x,r),b.contrastText||(b.contrastText=h(b.main)),b};let y;return e==="light"?y=lN():e==="dark"&&(y=cN()),on({common:{...wc},mode:e,primary:f({color:s,name:"primary"}),secondary:f({color:o,name:"secondary",mainShade:"A400",lightShade:"A200",darkShade:"A700"}),error:f({color:a,name:"error"}),warning:f({color:d,name:"warning"}),info:f({color:l,name:"info"}),success:f({color:c,name:"success"}),grey:YG,contrastThreshold:n,getContrastText:h,augmentColor:f,tonalOffset:r,...y},i)}function cK(t){const e={};return Object.entries(t).forEach(r=>{const[i,s]=r;typeof s=="object"&&(e[i]=`${s.fontStyle?`${s.fontStyle} `:""}${s.fontVariant?`${s.fontVariant} `:""}${s.fontWeight?`${s.fontWeight} `:""}${s.fontStretch?`${s.fontStretch} `:""}${s.fontSize||""}${s.lineHeight?`/${s.lineHeight} `:""}${s.fontFamily||""}`)}),e}function uK(t,e){return{toolbar:{minHeight:56,[t.up("xs")]:{"@media (orientation: landscape)":{minHeight:48}},[t.up("sm")]:{minHeight:64}},...e}}function dK(t){return Math.round(t*1e5)/1e5}const vS={textTransform:"uppercase"},_S='"Roboto", "Helvetica", "Arial", sans-serif';function hK(t,e){const{fontFamily:n=_S,fontSize:r=14,fontWeightLight:i=300,fontWeightRegular:s=400,fontWeightMedium:o=500,fontWeightBold:a=700,htmlFontSize:l=16,allVariants:c,pxToRem:d,...h}=typeof e=="function"?e(t):e,f=r/14,y=d||(P=>`${P/l*f}rem`),v=(P,w,C,x,A)=>({fontFamily:n,fontWeight:P,fontSize:y(w),lineHeight:C,...n===_S?{letterSpacing:`${dK(x/w)}em`}:{},...A,...c}),b={h1:v(i,96,1.167,-1.5),h2:v(i,60,1.2,-.5),h3:v(s,48,1.167,0),h4:v(s,34,1.235,.25),h5:v(s,24,1.334,0),h6:v(o,20,1.6,.15),subtitle1:v(s,16,1.75,.15),subtitle2:v(o,14,1.57,.1),body1:v(s,16,1.5,.15),body2:v(s,14,1.43,.15),button:v(o,14,1.75,.4,vS),caption:v(s,12,1.66,.4),overline:v(s,12,2.66,1,vS),inherit:{fontFamily:"inherit",fontWeight:"inherit",fontSize:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}};return on({htmlFontSize:l,pxToRem:y,fontFamily:n,fontSize:r,fontWeightLight:i,fontWeightRegular:s,fontWeightMedium:o,fontWeightBold:a,...b},h,{clone:!1})}const fK=.2,pK=.14,mK=.12;function Ne(...t){return[`${t[0]}px ${t[1]}px ${t[2]}px ${t[3]}px rgba(0,0,0,${fK})`,`${t[4]}px ${t[5]}px ${t[6]}px ${t[7]}px rgba(0,0,0,${pK})`,`${t[8]}px ${t[9]}px ${t[10]}px ${t[11]}px rgba(0,0,0,${mK})`].join(",")}const gK=["none",Ne(0,2,1,-1,0,1,1,0,0,1,3,0),Ne(0,3,1,-2,0,2,2,0,0,1,5,0),Ne(0,3,3,-2,0,3,4,0,0,1,8,0),Ne(0,2,4,-1,0,4,5,0,0,1,10,0),Ne(0,3,5,-1,0,5,8,0,0,1,14,0),Ne(0,3,5,-1,0,6,10,0,0,1,18,0),Ne(0,4,5,-2,0,7,10,1,0,2,16,1),Ne(0,5,5,-3,0,8,10,1,0,3,14,2),Ne(0,5,6,-3,0,9,12,1,0,3,16,2),Ne(0,6,6,-3,0,10,14,1,0,4,18,3),Ne(0,6,7,-4,0,11,15,1,0,4,20,3),Ne(0,7,8,-4,0,12,17,2,0,5,22,4),Ne(0,7,8,-4,0,13,19,2,0,5,24,4),Ne(0,7,9,-4,0,14,21,2,0,5,26,4),Ne(0,8,9,-5,0,15,22,2,0,6,28,5),Ne(0,8,10,-5,0,16,24,2,0,6,30,5),Ne(0,8,11,-5,0,17,26,2,0,6,32,5),Ne(0,9,11,-5,0,18,28,2,0,7,34,6),Ne(0,9,12,-6,0,19,29,2,0,7,36,6),Ne(0,10,13,-6,0,20,31,3,0,8,38,7),Ne(0,10,13,-6,0,21,33,3,0,8,40,7),Ne(0,10,14,-6,0,22,35,3,0,8,42,7),Ne(0,11,14,-7,0,23,36,3,0,9,44,8),Ne(0,11,15,-7,0,24,38,3,0,9,46,8)],yK=gK,vK={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},_K={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function wS(t){return`${Math.round(t)}ms`}function wK(t){if(!t)return 0;const e=t/36;return Math.min(Math.round((4+15*e**.25+e/5)*10),3e3)}function xK(t){const e={...vK,...t.easing},n={..._K,...t.duration};return{getAutoHeightDuration:wK,create:(i=["all"],s={})=>{const{duration:o=n.standard,easing:a=e.easeInOut,delay:l=0,...c}=s;return(Array.isArray(i)?i:[i]).map(d=>`${d} ${typeof o=="string"?o:wS(o)} ${a} ${typeof l=="string"?l:wS(l)}`).join(",")},...t,easing:e,duration:n}}const EK={mobileStepper:1e3,fab:1050,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500},CK=EK;function SK(t){return or(t)||typeof t>"u"||typeof t=="string"||typeof t=="boolean"||typeof t=="number"||Array.isArray(t)}function uN(t={}){const e={...t};function n(r){const i=Object.entries(r);for(let s=0;s<i.length;s++){const[o,a]=i[s];!SK(a)||o.startsWith("unstable_")?delete r[o]:or(a)&&(r[o]={...a},n(r[o]))}}return n(e),`import { unstable_createBreakpoints as createBreakpoints, createTransitions } from '@mui/material/styles';

const theme = ${JSON.stringify(e,null,2)};

theme.breakpoints = createBreakpoints(theme.breakpoints || {});
theme.transitions = createTransitions(theme.transitions || {});

export default theme;`}function Sy(t={},...e){const{breakpoints:n,mixins:r={},spacing:i,palette:s={},transitions:o={},typography:a={},shape:l,...c}=t;if(t.vars&&t.generateThemeVars===void 0)throw new Error(Os(20));const d=B_(s),h=L_(t);let f=on(h,{mixins:uK(h.breakpoints,r),palette:d,shadows:yK.slice(),typography:hK(d,a),transitions:xK(o),zIndex:{...CK}});return f=on(f,c),f=e.reduce((y,v)=>on(y,v),f),f.unstable_sxConfig={...Xc,...c==null?void 0:c.unstable_sxConfig},f.unstable_sx=function(v){return ta({sx:v,theme:this})},f.toRuntimeSource=uN,f}function bK(t){let e;return t<1?e=5.11916*t**2:e=4.5*Math.log(t+1)+2,Math.round(e*10)/1e3}const TK=[...Array(25)].map((t,e)=>{if(e===0)return"none";const n=bK(e);return`linear-gradient(rgba(255 255 255 / ${n}), rgba(255 255 255 / ${n}))`});function dN(t){return{inputPlaceholder:t==="dark"?.5:.42,inputUnderline:t==="dark"?.7:.42,switchTrackDisabled:t==="dark"?.2:.12,switchTrack:t==="dark"?.3:.38}}function hN(t){return t==="dark"?TK:[]}function kK(t){const{palette:e={mode:"light"},opacity:n,overlays:r,...i}=t,s=B_(e);return{palette:s,opacity:{...dN(s.mode),...n},overlays:r||hN(s.mode),...i}}function IK(t){var e;return!!t[0].match(/(cssVarPrefix|colorSchemeSelector|rootSelector|typography|mixins|breakpoints|direction|transitions)/)||!!t[0].match(/sxConfig$/)||t[0]==="palette"&&!!((e=t[1])!=null&&e.match(/(mode|contrastThreshold|tonalOffset)/))}const PK=t=>[...[...Array(25)].map((e,n)=>`--${t?`${t}-`:""}overlays-${n}`),`--${t?`${t}-`:""}palette-AppBar-darkBg`,`--${t?`${t}-`:""}palette-AppBar-darkColor`],RK=PK,AK=t=>(e,n)=>{const r=t.rootSelector||":root",i=t.colorSchemeSelector;let s=i;if(i==="class"&&(s=".%s"),i==="data"&&(s="[data-%s]"),i!=null&&i.startsWith("data-")&&!i.includes("%s")&&(s=`[${i}="%s"]`),t.defaultColorScheme===e){if(e==="dark"){const o={};return RK(t.cssVarPrefix).forEach(a=>{o[a]=n[a],delete n[a]}),s==="media"?{[r]:n,"@media (prefers-color-scheme: dark)":{[r]:o}}:s?{[s.replace("%s",e)]:o,[`${r}, ${s.replace("%s",e)}`]:n}:{[r]:{...n,...o}}}if(s&&s!=="media")return`${r}, ${s.replace("%s",String(e))}`}else if(e){if(s==="media")return{[`@media (prefers-color-scheme: ${String(e)})`]:{[r]:n}};if(s)return s.replace("%s",String(e))}return r};function NK(t,e){e.forEach(n=>{t[n]||(t[n]={})})}function F(t,e,n){!t[e]&&n&&(t[e]=n)}function al(t){return typeof t!="string"||!t.startsWith("hsl")?t:aN(t)}function xr(t,e){`${e}Channel`in t||(t[`${e}Channel`]=ol(al(t[e]),`MUI: Can't create \`palette.${e}Channel\` because \`palette.${e}\` is not one of these formats: #nnn, #nnnnnn, rgb(), rgba(), hsl(), hsla(), color().
To suppress this warning, you need to explicitly provide the \`palette.${e}Channel\` as a string (in rgb format, for example "12 12 12") or undefined if you want to remove the channel token.`))}function DK(t){return typeof t=="number"?`${t}px`:typeof t=="string"||typeof t=="function"||Array.isArray(t)?t:"8px"}const er=t=>{try{return t()}catch{}},OK=(t="mui")=>BG(t);function Cm(t,e,n,r){if(!e)return;e=e===!0?{}:e;const i=r==="dark"?"dark":"light";if(!n){t[r]=kK({...e,palette:{mode:i,...e==null?void 0:e.palette}});return}const{palette:s,...o}=Sy({...n,palette:{mode:i,...e==null?void 0:e.palette}});return t[r]={...e,palette:s,opacity:{...dN(i),...e==null?void 0:e.opacity},overlays:(e==null?void 0:e.overlays)||hN(i)},o}function MK(t={},...e){const{colorSchemes:n={light:!0},defaultColorScheme:r,disableCssColorScheme:i=!1,cssVarPrefix:s="mui",shouldSkipGeneratingVar:o=IK,colorSchemeSelector:a=n.light&&n.dark?"media":void 0,rootSelector:l=":root",...c}=t,d=Object.keys(n)[0],h=r||(n.light&&d!=="light"?"light":d),f=OK(s),{[h]:y,light:v,dark:b,...P}=n,w={...P};let C=y;if((h==="dark"&&!("dark"in n)||h==="light"&&!("light"in n))&&(C=!0),!C)throw new Error(Os(21,h));const x=Cm(w,C,c,h);v&&!w.light&&Cm(w,v,void 0,"light"),b&&!w.dark&&Cm(w,b,void 0,"dark");let A={defaultColorScheme:h,...x,cssVarPrefix:s,colorSchemeSelector:a,rootSelector:l,getCssVar:f,colorSchemes:w,font:{...cK(x.typography),...x.font},spacing:DK(c.spacing)};Object.keys(A.colorSchemes).forEach(I=>{const m=A.colorSchemes[I].palette,R=O=>{const N=O.split("-"),W=N[1],z=N[2];return f(O,m[W][z])};if(m.mode==="light"&&(F(m.common,"background","#fff"),F(m.common,"onBackground","#000")),m.mode==="dark"&&(F(m.common,"background","#000"),F(m.common,"onBackground","#fff")),NK(m,["Alert","AppBar","Avatar","Button","Chip","FilledInput","LinearProgress","Skeleton","Slider","SnackbarContent","SpeedDialAction","StepConnector","StepContent","Switch","TableCell","Tooltip"]),m.mode==="light"){F(m.Alert,"errorColor",xe(m.error.light,.6)),F(m.Alert,"infoColor",xe(m.info.light,.6)),F(m.Alert,"successColor",xe(m.success.light,.6)),F(m.Alert,"warningColor",xe(m.warning.light,.6)),F(m.Alert,"errorFilledBg",R("palette-error-main")),F(m.Alert,"infoFilledBg",R("palette-info-main")),F(m.Alert,"successFilledBg",R("palette-success-main")),F(m.Alert,"warningFilledBg",R("palette-warning-main")),F(m.Alert,"errorFilledColor",er(()=>m.getContrastText(m.error.main))),F(m.Alert,"infoFilledColor",er(()=>m.getContrastText(m.info.main))),F(m.Alert,"successFilledColor",er(()=>m.getContrastText(m.success.main))),F(m.Alert,"warningFilledColor",er(()=>m.getContrastText(m.warning.main))),F(m.Alert,"errorStandardBg",Ee(m.error.light,.9)),F(m.Alert,"infoStandardBg",Ee(m.info.light,.9)),F(m.Alert,"successStandardBg",Ee(m.success.light,.9)),F(m.Alert,"warningStandardBg",Ee(m.warning.light,.9)),F(m.Alert,"errorIconColor",R("palette-error-main")),F(m.Alert,"infoIconColor",R("palette-info-main")),F(m.Alert,"successIconColor",R("palette-success-main")),F(m.Alert,"warningIconColor",R("palette-warning-main")),F(m.AppBar,"defaultBg",R("palette-grey-100")),F(m.Avatar,"defaultBg",R("palette-grey-400")),F(m.Button,"inheritContainedBg",R("palette-grey-300")),F(m.Button,"inheritContainedHoverBg",R("palette-grey-A100")),F(m.Chip,"defaultBorder",R("palette-grey-400")),F(m.Chip,"defaultAvatarColor",R("palette-grey-700")),F(m.Chip,"defaultIconColor",R("palette-grey-700")),F(m.FilledInput,"bg","rgba(0, 0, 0, 0.06)"),F(m.FilledInput,"hoverBg","rgba(0, 0, 0, 0.09)"),F(m.FilledInput,"disabledBg","rgba(0, 0, 0, 0.12)"),F(m.LinearProgress,"primaryBg",Ee(m.primary.main,.62)),F(m.LinearProgress,"secondaryBg",Ee(m.secondary.main,.62)),F(m.LinearProgress,"errorBg",Ee(m.error.main,.62)),F(m.LinearProgress,"infoBg",Ee(m.info.main,.62)),F(m.LinearProgress,"successBg",Ee(m.success.main,.62)),F(m.LinearProgress,"warningBg",Ee(m.warning.main,.62)),F(m.Skeleton,"bg",`rgba(${R("palette-text-primaryChannel")} / 0.11)`),F(m.Slider,"primaryTrack",Ee(m.primary.main,.62)),F(m.Slider,"secondaryTrack",Ee(m.secondary.main,.62)),F(m.Slider,"errorTrack",Ee(m.error.main,.62)),F(m.Slider,"infoTrack",Ee(m.info.main,.62)),F(m.Slider,"successTrack",Ee(m.success.main,.62)),F(m.Slider,"warningTrack",Ee(m.warning.main,.62));const O=zu(m.background.default,.8);F(m.SnackbarContent,"bg",O),F(m.SnackbarContent,"color",er(()=>m.getContrastText(O))),F(m.SpeedDialAction,"fabHoverBg",zu(m.background.paper,.15)),F(m.StepConnector,"border",R("palette-grey-400")),F(m.StepContent,"border",R("palette-grey-400")),F(m.Switch,"defaultColor",R("palette-common-white")),F(m.Switch,"defaultDisabledColor",R("palette-grey-100")),F(m.Switch,"primaryDisabledColor",Ee(m.primary.main,.62)),F(m.Switch,"secondaryDisabledColor",Ee(m.secondary.main,.62)),F(m.Switch,"errorDisabledColor",Ee(m.error.main,.62)),F(m.Switch,"infoDisabledColor",Ee(m.info.main,.62)),F(m.Switch,"successDisabledColor",Ee(m.success.main,.62)),F(m.Switch,"warningDisabledColor",Ee(m.warning.main,.62)),F(m.TableCell,"border",Ee(Bu(m.divider,1),.88)),F(m.Tooltip,"bg",Bu(m.grey[700],.92))}if(m.mode==="dark"){F(m.Alert,"errorColor",Ee(m.error.light,.6)),F(m.Alert,"infoColor",Ee(m.info.light,.6)),F(m.Alert,"successColor",Ee(m.success.light,.6)),F(m.Alert,"warningColor",Ee(m.warning.light,.6)),F(m.Alert,"errorFilledBg",R("palette-error-dark")),F(m.Alert,"infoFilledBg",R("palette-info-dark")),F(m.Alert,"successFilledBg",R("palette-success-dark")),F(m.Alert,"warningFilledBg",R("palette-warning-dark")),F(m.Alert,"errorFilledColor",er(()=>m.getContrastText(m.error.dark))),F(m.Alert,"infoFilledColor",er(()=>m.getContrastText(m.info.dark))),F(m.Alert,"successFilledColor",er(()=>m.getContrastText(m.success.dark))),F(m.Alert,"warningFilledColor",er(()=>m.getContrastText(m.warning.dark))),F(m.Alert,"errorStandardBg",xe(m.error.light,.9)),F(m.Alert,"infoStandardBg",xe(m.info.light,.9)),F(m.Alert,"successStandardBg",xe(m.success.light,.9)),F(m.Alert,"warningStandardBg",xe(m.warning.light,.9)),F(m.Alert,"errorIconColor",R("palette-error-main")),F(m.Alert,"infoIconColor",R("palette-info-main")),F(m.Alert,"successIconColor",R("palette-success-main")),F(m.Alert,"warningIconColor",R("palette-warning-main")),F(m.AppBar,"defaultBg",R("palette-grey-900")),F(m.AppBar,"darkBg",R("palette-background-paper")),F(m.AppBar,"darkColor",R("palette-text-primary")),F(m.Avatar,"defaultBg",R("palette-grey-600")),F(m.Button,"inheritContainedBg",R("palette-grey-800")),F(m.Button,"inheritContainedHoverBg",R("palette-grey-700")),F(m.Chip,"defaultBorder",R("palette-grey-700")),F(m.Chip,"defaultAvatarColor",R("palette-grey-300")),F(m.Chip,"defaultIconColor",R("palette-grey-300")),F(m.FilledInput,"bg","rgba(255, 255, 255, 0.09)"),F(m.FilledInput,"hoverBg","rgba(255, 255, 255, 0.13)"),F(m.FilledInput,"disabledBg","rgba(255, 255, 255, 0.12)"),F(m.LinearProgress,"primaryBg",xe(m.primary.main,.5)),F(m.LinearProgress,"secondaryBg",xe(m.secondary.main,.5)),F(m.LinearProgress,"errorBg",xe(m.error.main,.5)),F(m.LinearProgress,"infoBg",xe(m.info.main,.5)),F(m.LinearProgress,"successBg",xe(m.success.main,.5)),F(m.LinearProgress,"warningBg",xe(m.warning.main,.5)),F(m.Skeleton,"bg",`rgba(${R("palette-text-primaryChannel")} / 0.13)`),F(m.Slider,"primaryTrack",xe(m.primary.main,.5)),F(m.Slider,"secondaryTrack",xe(m.secondary.main,.5)),F(m.Slider,"errorTrack",xe(m.error.main,.5)),F(m.Slider,"infoTrack",xe(m.info.main,.5)),F(m.Slider,"successTrack",xe(m.success.main,.5)),F(m.Slider,"warningTrack",xe(m.warning.main,.5));const O=zu(m.background.default,.98);F(m.SnackbarContent,"bg",O),F(m.SnackbarContent,"color",er(()=>m.getContrastText(O))),F(m.SpeedDialAction,"fabHoverBg",zu(m.background.paper,.15)),F(m.StepConnector,"border",R("palette-grey-600")),F(m.StepContent,"border",R("palette-grey-600")),F(m.Switch,"defaultColor",R("palette-grey-300")),F(m.Switch,"defaultDisabledColor",R("palette-grey-600")),F(m.Switch,"primaryDisabledColor",xe(m.primary.main,.55)),F(m.Switch,"secondaryDisabledColor",xe(m.secondary.main,.55)),F(m.Switch,"errorDisabledColor",xe(m.error.main,.55)),F(m.Switch,"infoDisabledColor",xe(m.info.main,.55)),F(m.Switch,"successDisabledColor",xe(m.success.main,.55)),F(m.Switch,"warningDisabledColor",xe(m.warning.main,.55)),F(m.TableCell,"border",xe(Bu(m.divider,1),.68)),F(m.Tooltip,"bg",Bu(m.grey[700],.92))}xr(m.background,"default"),xr(m.background,"paper"),xr(m.common,"background"),xr(m.common,"onBackground"),xr(m,"divider"),Object.keys(m).forEach(O=>{const N=m[O];O!=="tonalOffset"&&N&&typeof N=="object"&&(N.main&&F(m[O],"mainChannel",ol(al(N.main))),N.light&&F(m[O],"lightChannel",ol(al(N.light))),N.dark&&F(m[O],"darkChannel",ol(al(N.dark))),N.contrastText&&F(m[O],"contrastTextChannel",ol(al(N.contrastText))),O==="text"&&(xr(m[O],"primary"),xr(m[O],"secondary")),O==="action"&&(N.active&&xr(m[O],"active"),N.selected&&xr(m[O],"selected")))})}),A=e.reduce((I,m)=>on(I,m),A);const D={prefix:s,disableCssColorScheme:i,shouldSkipGeneratingVar:o,getSelector:AK(A)},{vars:M,generateThemeVars:S,generateStyleSheets:E}=HG(A,D);return A.vars=M,Object.entries(A.colorSchemes[A.defaultColorScheme]).forEach(([I,m])=>{A[I]=m}),A.generateThemeVars=S,A.generateStyleSheets=E,A.generateSpacing=function(){return nN(c.spacing,A_(this))},A.getColorSchemeSelector=GG(a),A.spacing=A.generateSpacing(),A.shouldSkipGeneratingVar=o,A.unstable_sxConfig={...Xc,...c==null?void 0:c.unstable_sxConfig},A.unstable_sx=function(m){return ta({sx:m,theme:this})},A.toRuntimeSource=uN,A}function xS(t,e,n){t.colorSchemes&&n&&(t.colorSchemes[e]={...n!==!0&&n,palette:B_({...n===!0?{}:n.palette,mode:e})})}function fN(t={},...e){const{palette:n,cssVariables:r=!1,colorSchemes:i=n?void 0:{light:!0},defaultColorScheme:s=n==null?void 0:n.mode,...o}=t,a=s||"light",l=i==null?void 0:i[a],c={...i,...n?{[a]:{...typeof l!="boolean"&&l,palette:n}}:void 0};if(r===!1){if(!("colorSchemes"in t))return Sy(t,...e);let d=n;"palette"in t||c[a]&&(c[a]!==!0?d=c[a].palette:a==="dark"&&(d={mode:"dark"}));const h=Sy({...t,palette:d},...e);return h.defaultColorScheme=a,h.colorSchemes=c,h.palette.mode==="light"&&(h.colorSchemes.light={...c.light!==!0&&c.light,palette:h.palette},xS(h,"dark",c.dark)),h.palette.mode==="dark"&&(h.colorSchemes.dark={...c.dark!==!0&&c.dark,palette:h.palette},xS(h,"light",c.light)),h}return!n&&!("light"in c)&&a==="light"&&(c.light=!0),MK({...o,colorSchemes:c,defaultColorScheme:a,...typeof r!="boolean"&&r},...e)}const LK=fN(),pN=LK,z_="$$material";function jK(){const t=rN(pN);return t[z_]||t}function FK(t){return t!=="ownerState"&&t!=="theme"&&t!=="sx"&&t!=="as"}const $K=t=>FK(t)&&t!=="classes",UK=$K,VK=kG({themeId:z_,defaultTheme:pN,rootShouldForwardProp:UK}),W_=VK,BK=VG,zK=BK;function mN(t){return UG(t)}function WK(t){return typeof t=="string"}function HK(t,e,n){return t===void 0||WK(t)?e:{...e,ownerState:{...e.ownerState,...n}}}function GK(t,e,n){return typeof t=="function"?t(e,n):t}function gN(t,e=[]){if(t===void 0)return{};const n={};return Object.keys(t).filter(r=>r.match(/^on[A-Z]/)&&typeof t[r]=="function"&&!e.includes(r)).forEach(r=>{n[r]=t[r]}),n}function ES(t){if(t===void 0)return{};const e={};return Object.keys(t).filter(n=>!(n.match(/^on[A-Z]/)&&typeof t[n]=="function")).forEach(n=>{e[n]=t[n]}),e}function KK(t){const{getSlotProps:e,additionalProps:n,externalSlotProps:r,externalForwardedProps:i,className:s}=t;if(!e){const y=ea(n==null?void 0:n.className,s,i==null?void 0:i.className,r==null?void 0:r.className),v={...n==null?void 0:n.style,...i==null?void 0:i.style,...r==null?void 0:r.style},b={...n,...i,...r};return y.length>0&&(b.className=y),Object.keys(v).length>0&&(b.style=v),{props:b,internalRef:void 0}}const o=gN({...i,...r}),a=ES(r),l=ES(i),c=e(o),d=ea(c==null?void 0:c.className,n==null?void 0:n.className,s,i==null?void 0:i.className,r==null?void 0:r.className),h={...c==null?void 0:c.style,...n==null?void 0:n.style,...i==null?void 0:i.style,...r==null?void 0:r.style},f={...c,...n,...l,...a};return d.length>0&&(f.className=d),Object.keys(h).length>0&&(f.style=h),{props:f,internalRef:c.ref}}function Ph(t,e){const{className:n,elementType:r,ownerState:i,externalForwardedProps:s,internalForwardedProps:o,shouldForwardComponentProp:a=!1,...l}=e,{component:c,slots:d={[t]:void 0},slotProps:h={[t]:void 0},...f}=s,y=d[t]||r,v=GK(h[t],i),{props:{component:b,...P},internalRef:w}=KK({className:n,...l,externalForwardedProps:t==="root"?f:void 0,externalSlotProps:v}),C=Kc(w,v==null?void 0:v.ref,e.ref),x=t==="root"?b||c:b,A=HK(y,{...t==="root"&&!c&&!d[t]&&o,...t!=="root"&&!d[t]&&o,...P,...x&&!a&&{as:x},...x&&a&&{component:x},ref:C},i);return[y,A]}function qK(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function by(t,e){return by=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,r){return n.__proto__=r,n},by(t,e)}function YK(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,by(t,e)}const CS={disabled:!1},yN=ss.createContext(null);var XK=function(e){return e.scrollTop},ll="unmounted",ns="exited",rs="entering",to="entered",Ty="exiting",Qr=function(t){YK(e,t);function e(r,i){var s;s=t.call(this,r,i)||this;var o=i,a=o&&!o.isMounting?r.enter:r.appear,l;return s.appearStatus=null,r.in?a?(l=ns,s.appearStatus=rs):l=to:r.unmountOnExit||r.mountOnEnter?l=ll:l=ns,s.state={status:l},s.nextCallback=null,s}e.getDerivedStateFromProps=function(i,s){var o=i.in;return o&&s.status===ll?{status:ns}:null};var n=e.prototype;return n.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},n.componentDidUpdate=function(i){var s=null;if(i!==this.props){var o=this.state.status;this.props.in?o!==rs&&o!==to&&(s=rs):(o===rs||o===to)&&(s=Ty)}this.updateStatus(!1,s)},n.componentWillUnmount=function(){this.cancelNextCallback()},n.getTimeouts=function(){var i=this.props.timeout,s,o,a;return s=o=a=i,i!=null&&typeof i!="number"&&(s=i.exit,o=i.enter,a=i.appear!==void 0?i.appear:o),{exit:s,enter:o,appear:a}},n.updateStatus=function(i,s){if(i===void 0&&(i=!1),s!==null)if(this.cancelNextCallback(),s===rs){if(this.props.unmountOnExit||this.props.mountOnEnter){var o=this.props.nodeRef?this.props.nodeRef.current:Ru.findDOMNode(this);o&&XK(o)}this.performEnter(i)}else this.performExit();else this.props.unmountOnExit&&this.state.status===ns&&this.setState({status:ll})},n.performEnter=function(i){var s=this,o=this.props.enter,a=this.context?this.context.isMounting:i,l=this.props.nodeRef?[a]:[Ru.findDOMNode(this),a],c=l[0],d=l[1],h=this.getTimeouts(),f=a?h.appear:h.enter;if(!i&&!o||CS.disabled){this.safeSetState({status:to},function(){s.props.onEntered(c)});return}this.props.onEnter(c,d),this.safeSetState({status:rs},function(){s.props.onEntering(c,d),s.onTransitionEnd(f,function(){s.safeSetState({status:to},function(){s.props.onEntered(c,d)})})})},n.performExit=function(){var i=this,s=this.props.exit,o=this.getTimeouts(),a=this.props.nodeRef?void 0:Ru.findDOMNode(this);if(!s||CS.disabled){this.safeSetState({status:ns},function(){i.props.onExited(a)});return}this.props.onExit(a),this.safeSetState({status:Ty},function(){i.props.onExiting(a),i.onTransitionEnd(o.exit,function(){i.safeSetState({status:ns},function(){i.props.onExited(a)})})})},n.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},n.safeSetState=function(i,s){s=this.setNextCallback(s),this.setState(i,s)},n.setNextCallback=function(i){var s=this,o=!0;return this.nextCallback=function(a){o&&(o=!1,s.nextCallback=null,i(a))},this.nextCallback.cancel=function(){o=!1},this.nextCallback},n.onTransitionEnd=function(i,s){this.setNextCallback(s);var o=this.props.nodeRef?this.props.nodeRef.current:Ru.findDOMNode(this),a=i==null&&!this.props.addEndListener;if(!o||a){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var l=this.props.nodeRef?[this.nextCallback]:[o,this.nextCallback],c=l[0],d=l[1];this.props.addEndListener(c,d)}i!=null&&setTimeout(this.nextCallback,i)},n.render=function(){var i=this.state.status;if(i===ll)return null;var s=this.props,o=s.children;s.in,s.mountOnEnter,s.unmountOnExit,s.appear,s.enter,s.exit,s.timeout,s.addEndListener,s.onEnter,s.onEntering,s.onEntered,s.onExit,s.onExiting,s.onExited,s.nodeRef;var a=qK(s,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return ss.createElement(yN.Provider,{value:null},typeof o=="function"?o(i,a):ss.cloneElement(ss.Children.only(o),a))},e}(ss.Component);Qr.contextType=yN;Qr.propTypes={};function eo(){}Qr.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:eo,onEntering:eo,onEntered:eo,onExit:eo,onExiting:eo,onExited:eo};Qr.UNMOUNTED=ll;Qr.EXITED=ns;Qr.ENTERING=rs;Qr.ENTERED=to;Qr.EXITING=Ty;const QK=Qr,JK=t=>t.scrollTop;function SS(t,e){const{timeout:n,easing:r,style:i={}}=t;return{duration:i.transitionDuration??(typeof n=="number"?n:n[e.mode]||0),easing:i.transitionTimingFunction??(typeof r=="object"?r[e.mode]:r),delay:i.transitionDelay}}const ZK={entering:{opacity:1},entered:{opacity:1}},eq=k.forwardRef(function(e,n){const r=jK(),i={enter:r.transitions.duration.enteringScreen,exit:r.transitions.duration.leavingScreen},{addEndListener:s,appear:o=!0,children:a,easing:l,in:c,onEnter:d,onEntered:h,onEntering:f,onExit:y,onExited:v,onExiting:b,style:P,timeout:w=i,TransitionComponent:C=QK,...x}=e,A=k.useRef(null),D=Kc(A,T_(a),n),M=W=>z=>{if(W){const X=A.current;z===void 0?W(X):W(X,z)}},S=M(f),E=M((W,z)=>{JK(W);const X=SS({style:P,timeout:w,easing:l},{mode:"enter"});W.style.webkitTransition=r.transitions.create("opacity",X),W.style.transition=r.transitions.create("opacity",X),d&&d(W,z)}),I=M(h),m=M(b),R=M(W=>{const z=SS({style:P,timeout:w,easing:l},{mode:"exit"});W.style.webkitTransition=r.transitions.create("opacity",z),W.style.transition=r.transitions.create("opacity",z),y&&y(W)}),O=M(v),N=W=>{s&&s(A.current,W)};return _.jsx(C,{appear:o,in:c,nodeRef:A,onEnter:E,onEntered:I,onEntering:S,onExit:R,onExited:O,onExiting:m,addEndListener:N,timeout:w,...x,children:(W,{ownerState:z,...X})=>k.cloneElement(a,{style:{opacity:0,visibility:W==="exited"&&!c?"hidden":void 0,...ZK[W],...P,...a.props.style},ref:D,...X})})}),tq=eq;function nq(t){return j_("MuiBackdrop",t)}F_("MuiBackdrop",["root","invisible"]);const rq=t=>{const{classes:e,invisible:n}=t;return MA({root:["root",n&&"invisible"]},nq,e)},iq=W_("div",{name:"MuiBackdrop",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.invisible&&e.invisible]}})({position:"fixed",display:"flex",alignItems:"center",justifyContent:"center",right:0,bottom:0,top:0,left:0,backgroundColor:"rgba(0, 0, 0, 0.5)",WebkitTapHighlightColor:"transparent",variants:[{props:{invisible:!0},style:{backgroundColor:"transparent"}}]}),sq=k.forwardRef(function(e,n){const r=mN({props:e,name:"MuiBackdrop"}),{children:i,className:s,component:o="div",invisible:a=!1,open:l,components:c={},componentsProps:d={},slotProps:h={},slots:f={},TransitionComponent:y,transitionDuration:v,...b}=r,P={...r,component:o,invisible:a},w=rq(P),C={transition:y,root:c.Root,...f},x={...d,...h},A={slots:C,slotProps:x},[D,M]=Ph("root",{elementType:iq,externalForwardedProps:A,className:ea(w.root,s),ownerState:P}),[S,E]=Ph("transition",{elementType:tq,externalForwardedProps:A,ownerState:P});return _.jsx(S,{in:l,timeout:v,...b,...E,children:_.jsx(D,{"aria-hidden":!0,...M,classes:w,ref:n,children:i})})}),oq=sq;function bS(t){const e=k.useRef(t);return yy(()=>{e.current=t}),k.useRef((...n)=>(0,e.current)(...n)).current}function TS(...t){return t.reduce((e,n)=>n==null?e:function(...i){e.apply(this,i),n.apply(this,i)},()=>{})}function aq(t){return typeof t=="function"?t():t}function lq(t){return t?t.props.hasOwnProperty("in"):!1}const kS=()=>{},Wu=new i7;function cq(t){const{container:e,disableEscapeKeyDown:n=!1,disableScrollLock:r=!1,closeAfterTransition:i=!1,onTransitionEnter:s,onTransitionExited:o,children:a,onClose:l,open:c,rootRef:d}=t,h=k.useRef({}),f=k.useRef(null),y=k.useRef(null),v=Kc(y,d),[b,P]=k.useState(!c),w=lq(a);let C=!0;(t["aria-hidden"]==="false"||t["aria-hidden"]===!1)&&(C=!1);const x=()=>Ds(f.current),A=()=>(h.current.modalRef=y.current,h.current.mount=f.current,h.current),D=()=>{Wu.mount(A(),{disableScrollLock:r}),y.current&&(y.current.scrollTop=0)},M=bS(()=>{const z=aq(e)||x().body;Wu.add(A(),z),y.current&&D()}),S=()=>Wu.isTopModal(A()),E=bS(z=>{f.current=z,z&&(c&&S()?D():y.current&&Al(y.current,C))}),I=k.useCallback(()=>{Wu.remove(A(),C)},[C]);k.useEffect(()=>()=>{I()},[I]),k.useEffect(()=>{c?M():(!w||!i)&&I()},[c,I,w,i,M]);const m=z=>X=>{var te;(te=z.onKeyDown)==null||te.call(z,X),!(X.key!=="Escape"||X.which===229||!S())&&(n||(X.stopPropagation(),l&&l(X,"escapeKeyDown")))},R=z=>X=>{var te;(te=z.onClick)==null||te.call(z,X),X.target===X.currentTarget&&l&&l(X,"backdropClick")};return{getRootProps:(z={})=>{const X=gN(t);delete X.onTransitionEnter,delete X.onTransitionExited;const te={...X,...z};return{role:"presentation",...te,onKeyDown:m(te),ref:v}},getBackdropProps:(z={})=>{const X=z;return{"aria-hidden":!0,...X,onClick:R(X),open:c}},getTransitionProps:()=>{const z=()=>{P(!1),s&&s()},X=()=>{P(!0),o&&o(),i&&I()};return{onEnter:TS(z,(a==null?void 0:a.props.onEnter)??kS),onExited:TS(X,(a==null?void 0:a.props.onExited)??kS)}},rootRef:v,portalRef:E,isTopModal:S,exited:b,hasTransition:w}}function uq(t){return j_("MuiModal",t)}F_("MuiModal",["root","hidden","backdrop"]);const dq=t=>{const{open:e,exited:n,classes:r}=t;return MA({root:["root",!e&&n&&"hidden"],backdrop:["backdrop"]},uq,r)},hq=W_("div",{name:"MuiModal",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,!n.open&&n.exited&&e.hidden]}})(zK(({theme:t})=>({position:"fixed",zIndex:(t.vars||t).zIndex.modal,right:0,bottom:0,top:0,left:0,variants:[{props:({ownerState:e})=>!e.open&&e.exited,style:{visibility:"hidden"}}]}))),fq=W_(oq,{name:"MuiModal",slot:"Backdrop"})({zIndex:-1}),pq=k.forwardRef(function(e,n){const r=mN({name:"MuiModal",props:e}),{BackdropComponent:i=fq,BackdropProps:s,classes:o,className:a,closeAfterTransition:l=!1,children:c,container:d,component:h,components:f={},componentsProps:y={},disableAutoFocus:v=!1,disableEnforceFocus:b=!1,disableEscapeKeyDown:P=!1,disablePortal:w=!1,disableRestoreFocus:C=!1,disableScrollLock:x=!1,hideBackdrop:A=!1,keepMounted:D=!1,onClose:M,onTransitionEnter:S,onTransitionExited:E,open:I,slotProps:m={},slots:R={},theme:O,...N}=r,W={...r,closeAfterTransition:l,disableAutoFocus:v,disableEnforceFocus:b,disableEscapeKeyDown:P,disablePortal:w,disableRestoreFocus:C,disableScrollLock:x,hideBackdrop:A,keepMounted:D},{getRootProps:z,getBackdropProps:X,getTransitionProps:te,portalRef:V,isTopModal:Y,exited:Q,hasTransition:ve}=cq({...W,rootRef:n}),H={...W,exited:Q},K=dq(H),ie={};if(c.props.tabIndex===void 0&&(ie.tabIndex="-1"),ve){const{onEnter:ee,onExited:Me}=te();ie.onEnter=ee,ie.onExited=Me}const ae={slots:{root:f.Root,backdrop:f.Backdrop,...R},slotProps:{...y,...m}},[Se,be]=Ph("root",{ref:n,elementType:hq,externalForwardedProps:{...ae,...N,component:h},getSlotProps:z,ownerState:H,className:ea(a,K==null?void 0:K.root,!H.open&&H.exited&&(K==null?void 0:K.hidden))}),[en,hn]=Ph("backdrop",{ref:s==null?void 0:s.ref,elementType:i,externalForwardedProps:ae,shouldForwardComponentProp:!0,additionalProps:s,getSlotProps:ee=>X({...ee,onClick:Me=>{ee!=null&&ee.onClick&&ee.onClick(Me)}}),className:ea(s==null?void 0:s.className,K==null?void 0:K.backdrop),ownerState:H});return!D&&!I&&(!ve||Q)?null:_.jsx(m7,{ref:V,container:d,disablePortal:w,children:_.jsxs(Se,{...be,children:[!A&&i?_.jsx(en,{...hn}):null,_.jsx(d7,{disableEnforceFocus:b,disableAutoFocus:v,disableRestoreFocus:C,isEnabled:Y,open:I,children:k.cloneElement(c,ie)})]})})}),vN=pq,mq=F_("MuiBox",["root"]),gq=mq,yq=fN(),vq=EG({themeId:z_,defaultTheme:yq,defaultClassName:gq.root,generateClassName:iN.generate}),_N=vq;var IS=!1,is,ky,Iy,wd,xd,wN,Ed,Py,Ry,Ay,xN,Ny,Dy,EN,CN;function zt(){if(!IS){IS=!0;var t=navigator.userAgent,e=/(?:MSIE.(\d+\.\d+))|(?:(?:Firefox|GranParadiso|Iceweasel).(\d+\.\d+))|(?:Opera(?:.+Version.|.)(\d+\.\d+))|(?:AppleWebKit.(\d+(?:\.\d+)?))|(?:Trident\/\d+\.\d+.*rv:(\d+\.\d+))/.exec(t),n=/(Mac OS X)|(Windows)|(Linux)/.exec(t);if(Ny=/\b(iPhone|iP[ao]d)/.exec(t),Dy=/\b(iP[ao]d)/.exec(t),Ay=/Android/i.exec(t),EN=/FBAN\/\w+;/i.exec(t),CN=/Mobile/i.exec(t),xN=!!/Win64/.exec(t),e){is=e[1]?parseFloat(e[1]):e[5]?parseFloat(e[5]):NaN,is&&document&&document.documentMode&&(is=document.documentMode);var r=/(?:Trident\/(\d+.\d+))/.exec(t);wN=r?parseFloat(r[1])+4:is,ky=e[2]?parseFloat(e[2]):NaN,Iy=e[3]?parseFloat(e[3]):NaN,wd=e[4]?parseFloat(e[4]):NaN,wd?(e=/(?:Chrome\/(\d+\.\d+))/.exec(t),xd=e&&e[1]?parseFloat(e[1]):NaN):xd=NaN}else is=ky=Iy=xd=wd=NaN;if(n){if(n[1]){var i=/(?:Mac OS X (\d+(?:[._]\d+)?))/.exec(t);Ed=i?parseFloat(i[1].replace("_",".")):!0}else Ed=!1;Py=!!n[2],Ry=!!n[3]}else Ed=Py=Ry=!1}}var Oy={ie:function(){return zt()||is},ieCompatibilityMode:function(){return zt()||wN>is},ie64:function(){return Oy.ie()&&xN},firefox:function(){return zt()||ky},opera:function(){return zt()||Iy},webkit:function(){return zt()||wd},safari:function(){return Oy.webkit()},chrome:function(){return zt()||xd},windows:function(){return zt()||Py},osx:function(){return zt()||Ed},linux:function(){return zt()||Ry},iphone:function(){return zt()||Ny},mobile:function(){return zt()||Ny||Dy||Ay||CN},nativeApp:function(){return zt()||EN},android:function(){return zt()||Ay},ipad:function(){return zt()||Dy}},_q=Oy,Hu=!!(typeof window<"u"&&window.document&&window.document.createElement),wq={canUseDOM:Hu,canUseWorkers:typeof Worker<"u",canUseEventListeners:Hu&&!!(window.addEventListener||window.attachEvent),canUseViewport:Hu&&!!window.screen,isInWorker:!Hu},xq=wq,SN=xq,bN;SN.canUseDOM&&(bN=document.implementation&&document.implementation.hasFeature&&document.implementation.hasFeature("","")!==!0);/**
 * Checks if an event is supported in the current execution environment.
 *
 * NOTE: This will not work correctly for non-generic events such as `change`,
 * `reset`, `load`, `error`, and `select`.
 *
 * Borrows from Modernizr.
 *
 * @param {string} eventNameSuffix Event name, e.g. "click".
 * @param {?boolean} capture Check if the capture phase is supported.
 * @return {boolean} True if the event is supported.
 * @internal
 * @license Modernizr 3.0.0pre (Custom Build) | MIT
 */function Eq(t,e){if(!SN.canUseDOM||e&&!("addEventListener"in document))return!1;var n="on"+t,r=n in document;if(!r){var i=document.createElement("div");i.setAttribute(n,"return;"),r=typeof i[n]=="function"}return!r&&bN&&t==="wheel"&&(r=document.implementation.hasFeature("Events.wheel","3.0")),r}var Cq=Eq,Sq=_q,bq=Cq,PS=10,RS=40,AS=800;function TN(t){var e=0,n=0,r=0,i=0;return"detail"in t&&(n=t.detail),"wheelDelta"in t&&(n=-t.wheelDelta/120),"wheelDeltaY"in t&&(n=-t.wheelDeltaY/120),"wheelDeltaX"in t&&(e=-t.wheelDeltaX/120),"axis"in t&&t.axis===t.HORIZONTAL_AXIS&&(e=n,n=0),r=e*PS,i=n*PS,"deltaY"in t&&(i=t.deltaY),"deltaX"in t&&(r=t.deltaX),(r||i)&&t.deltaMode&&(t.deltaMode==1?(r*=RS,i*=RS):(r*=AS,i*=AS)),r&&!e&&(e=r<1?-1:1),i&&!n&&(n=i<1?-1:1),{spinX:e,spinY:n,pixelX:r,pixelY:i}}TN.getEventType=function(){return Sq.firefox()?"DOMMouseScroll":bq("wheel")?"wheel":"mousewheel"};var Tq=TN,kq=Tq;const Iq=My(kq);function Pq(t,e,n,r,i,s){s===void 0&&(s=0);var o=ra(t,e,s),a=o.width,l=o.height,c=Math.min(a,n),d=Math.min(l,r);return c>d*i?{width:d*i,height:d}:{width:c,height:c/i}}function Rq(t){return t.width>t.height?t.width/t.naturalWidth:t.height/t.naturalHeight}function Xa(t,e,n,r,i){i===void 0&&(i=0);var s=ra(e.width,e.height,i),o=s.width,a=s.height;return{x:NS(t.x,o,n.width,r),y:NS(t.y,a,n.height,r)}}function NS(t,e,n,r){var i=e*r/2-n/2;return Vf(t,-i,i)}function DS(t,e){return Math.sqrt(Math.pow(t.y-e.y,2)+Math.pow(t.x-e.x,2))}function OS(t,e){return Math.atan2(e.y-t.y,e.x-t.x)*180/Math.PI}function Aq(t,e,n,r,i,s,o){s===void 0&&(s=0),o===void 0&&(o=!0);var a=o?Nq:Dq,l=ra(e.width,e.height,s),c=ra(e.naturalWidth,e.naturalHeight,s),d={x:a(100,((l.width-n.width/i)/2-t.x/i)/l.width*100),y:a(100,((l.height-n.height/i)/2-t.y/i)/l.height*100),width:a(100,n.width/l.width*100/i),height:a(100,n.height/l.height*100/i)},h=Math.round(a(c.width,d.width*c.width/100)),f=Math.round(a(c.height,d.height*c.height/100)),y=c.width>=c.height*r,v=y?{width:Math.round(f*r),height:f}:{width:h,height:Math.round(h/r)},b=it(it({},v),{x:Math.round(a(c.width-v.width,d.x*c.width/100)),y:Math.round(a(c.height-v.height,d.y*c.height/100))});return{croppedAreaPercentages:d,croppedAreaPixels:b}}function Nq(t,e){return Math.min(t,Math.max(0,e))}function Dq(t,e){return e}function Oq(t,e,n,r,i,s){var o=ra(e.width,e.height,n),a=Vf(r.width/o.width*(100/t.width),i,s),l={x:a*o.width/2-r.width/2-o.width*a*(t.x/100),y:a*o.height/2-r.height/2-o.height*a*(t.y/100)};return{crop:l,zoom:a}}function Mq(t,e,n){var r=Rq(e);return n.height>n.width?n.height/(t.height*r):n.width/(t.width*r)}function Lq(t,e,n,r,i,s){n===void 0&&(n=0);var o=ra(e.naturalWidth,e.naturalHeight,n),a=Vf(Mq(t,e,r),i,s),l=r.height>r.width?r.height/t.height:r.width/t.width,c={x:((o.width-t.width)/2-t.x)*l,y:((o.height-t.height)/2-t.y)*l};return{crop:c,zoom:a}}function MS(t,e){return{x:(e.x+t.x)/2,y:(e.y+t.y)/2}}function jq(t){return t*Math.PI/180}function ra(t,e,n){var r=jq(n);return{width:Math.abs(Math.cos(r)*t)+Math.abs(Math.sin(r)*e),height:Math.abs(Math.sin(r)*t)+Math.abs(Math.cos(r)*e)}}function Vf(t,e,n){return Math.min(Math.max(t,e),n)}function Gu(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return t.filter(function(n){return typeof n=="string"&&n.length>0}).join(" ").trim()}var Fq=`.reactEasyCrop_Container {
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  overflow: hidden;
  user-select: none;
  touch-action: none;
  cursor: move;
  display: flex;
  justify-content: center;
  align-items: center;
}

.reactEasyCrop_Image,
.reactEasyCrop_Video {
  will-change: transform; /* this improves performances and prevent painting issues on iOS Chrome */
}

.reactEasyCrop_Contain {
  max-width: 100%;
  max-height: 100%;
  margin: auto;
  position: absolute;
  top: 0;
  bottom: 0;
  left: 0;
  right: 0;
}
.reactEasyCrop_Cover_Horizontal {
  width: 100%;
  height: auto;
}
.reactEasyCrop_Cover_Vertical {
  width: auto;
  height: 100%;
}

.reactEasyCrop_CropArea {
  position: absolute;
  left: 50%;
  top: 50%;
  transform: translate(-50%, -50%);
  border: 1px solid rgba(255, 255, 255, 0.5);
  box-sizing: border-box;
  box-shadow: 0 0 0 9999em;
  color: rgba(0, 0, 0, 0.5);
  overflow: hidden;
}

.reactEasyCrop_CropAreaRound {
  border-radius: 50%;
}

.reactEasyCrop_CropAreaGrid::before {
  content: ' ';
  box-sizing: border-box;
  position: absolute;
  border: 1px solid rgba(255, 255, 255, 0.5);
  top: 0;
  bottom: 0;
  left: 33.33%;
  right: 33.33%;
  border-top: 0;
  border-bottom: 0;
}

.reactEasyCrop_CropAreaGrid::after {
  content: ' ';
  box-sizing: border-box;
  position: absolute;
  border: 1px solid rgba(255, 255, 255, 0.5);
  top: 33.33%;
  bottom: 33.33%;
  left: 0;
  right: 0;
  border-left: 0;
  border-right: 0;
}
`,$q=1,Uq=3,Vq=1,Bq=function(t){wF(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.cropperRef=k.createRef(),n.imageRef=k.createRef(),n.videoRef=k.createRef(),n.containerPosition={x:0,y:0},n.containerRef=null,n.styleRef=null,n.containerRect=null,n.mediaSize={width:0,height:0,naturalWidth:0,naturalHeight:0},n.dragStartPosition={x:0,y:0},n.dragStartCrop={x:0,y:0},n.gestureZoomStart=0,n.gestureRotationStart=0,n.isTouching=!1,n.lastPinchDistance=0,n.lastPinchRotation=0,n.rafDragTimeout=null,n.rafPinchTimeout=null,n.wheelTimer=null,n.currentDoc=typeof document<"u"?document:null,n.currentWindow=typeof window<"u"?window:null,n.resizeObserver=null,n.state={cropSize:null,hasWheelJustStarted:!1,mediaObjectFit:void 0},n.initResizeObserver=function(){if(!(typeof window.ResizeObserver>"u"||!n.containerRef)){var r=!0;n.resizeObserver=new window.ResizeObserver(function(i){if(r){r=!1;return}n.computeSizes()}),n.resizeObserver.observe(n.containerRef)}},n.preventZoomSafari=function(r){return r.preventDefault()},n.cleanEvents=function(){n.currentDoc&&(n.currentDoc.removeEventListener("mousemove",n.onMouseMove),n.currentDoc.removeEventListener("mouseup",n.onDragStopped),n.currentDoc.removeEventListener("touchmove",n.onTouchMove),n.currentDoc.removeEventListener("touchend",n.onDragStopped),n.currentDoc.removeEventListener("gesturemove",n.onGestureMove),n.currentDoc.removeEventListener("gestureend",n.onGestureEnd),n.currentDoc.removeEventListener("scroll",n.onScroll))},n.clearScrollEvent=function(){n.containerRef&&n.containerRef.removeEventListener("wheel",n.onWheel),n.wheelTimer&&clearTimeout(n.wheelTimer)},n.onMediaLoad=function(){var r=n.computeSizes();r&&(n.emitCropData(),n.setInitialCrop(r)),n.props.onMediaLoaded&&n.props.onMediaLoaded(n.mediaSize)},n.setInitialCrop=function(r){if(n.props.initialCroppedAreaPercentages){var i=Oq(n.props.initialCroppedAreaPercentages,n.mediaSize,n.props.rotation,r,n.props.minZoom,n.props.maxZoom),s=i.crop,o=i.zoom;n.props.onCropChange(s),n.props.onZoomChange&&n.props.onZoomChange(o)}else if(n.props.initialCroppedAreaPixels){var a=Lq(n.props.initialCroppedAreaPixels,n.mediaSize,n.props.rotation,r,n.props.minZoom,n.props.maxZoom),s=a.crop,o=a.zoom;n.props.onCropChange(s),n.props.onZoomChange&&n.props.onZoomChange(o)}},n.computeSizes=function(){var r,i,s,o,a,l,c=n.imageRef.current||n.videoRef.current;if(c&&n.containerRef){n.containerRect=n.containerRef.getBoundingClientRect(),n.saveContainerPosition();var d=n.containerRect.width/n.containerRect.height,h=((r=n.imageRef.current)===null||r===void 0?void 0:r.naturalWidth)||((i=n.videoRef.current)===null||i===void 0?void 0:i.videoWidth)||0,f=((s=n.imageRef.current)===null||s===void 0?void 0:s.naturalHeight)||((o=n.videoRef.current)===null||o===void 0?void 0:o.videoHeight)||0,y=c.offsetWidth<h||c.offsetHeight<f,v=h/f,b=void 0;if(y)switch(n.state.mediaObjectFit){default:case"contain":b=d>v?{width:n.containerRect.height*v,height:n.containerRect.height}:{width:n.containerRect.width,height:n.containerRect.width/v};break;case"horizontal-cover":b={width:n.containerRect.width,height:n.containerRect.width/v};break;case"vertical-cover":b={width:n.containerRect.height*v,height:n.containerRect.height};break}else b={width:c.offsetWidth,height:c.offsetHeight};n.mediaSize=it(it({},b),{naturalWidth:h,naturalHeight:f}),n.props.setMediaSize&&n.props.setMediaSize(n.mediaSize);var P=n.props.cropSize?n.props.cropSize:Pq(n.mediaSize.width,n.mediaSize.height,n.containerRect.width,n.containerRect.height,n.props.aspect,n.props.rotation);return(((a=n.state.cropSize)===null||a===void 0?void 0:a.height)!==P.height||((l=n.state.cropSize)===null||l===void 0?void 0:l.width)!==P.width)&&n.props.onCropSizeChange&&n.props.onCropSizeChange(P),n.setState({cropSize:P},n.recomputeCropPosition),n.props.setCropSize&&n.props.setCropSize(P),P}},n.saveContainerPosition=function(){if(n.containerRef){var r=n.containerRef.getBoundingClientRect();n.containerPosition={x:r.left,y:r.top}}},n.onMouseDown=function(r){n.currentDoc&&(r.preventDefault(),n.currentDoc.addEventListener("mousemove",n.onMouseMove),n.currentDoc.addEventListener("mouseup",n.onDragStopped),n.saveContainerPosition(),n.onDragStart(e.getMousePoint(r)))},n.onMouseMove=function(r){return n.onDrag(e.getMousePoint(r))},n.onScroll=function(r){n.currentDoc&&(r.preventDefault(),n.saveContainerPosition())},n.onTouchStart=function(r){n.currentDoc&&(n.isTouching=!0,!(n.props.onTouchRequest&&!n.props.onTouchRequest(r))&&(n.currentDoc.addEventListener("touchmove",n.onTouchMove,{passive:!1}),n.currentDoc.addEventListener("touchend",n.onDragStopped),n.saveContainerPosition(),r.touches.length===2?n.onPinchStart(r):r.touches.length===1&&n.onDragStart(e.getTouchPoint(r.touches[0]))))},n.onTouchMove=function(r){r.preventDefault(),r.touches.length===2?n.onPinchMove(r):r.touches.length===1&&n.onDrag(e.getTouchPoint(r.touches[0]))},n.onGestureStart=function(r){n.currentDoc&&(r.preventDefault(),n.currentDoc.addEventListener("gesturechange",n.onGestureMove),n.currentDoc.addEventListener("gestureend",n.onGestureEnd),n.gestureZoomStart=n.props.zoom,n.gestureRotationStart=n.props.rotation)},n.onGestureMove=function(r){if(r.preventDefault(),!n.isTouching){var i=e.getMousePoint(r),s=n.gestureZoomStart-1+r.scale;if(n.setNewZoom(s,i,{shouldUpdatePosition:!0}),n.props.onRotationChange){var o=n.gestureRotationStart+r.rotation;n.props.onRotationChange(o)}}},n.onGestureEnd=function(r){n.cleanEvents()},n.onDragStart=function(r){var i,s,o=r.x,a=r.y;n.dragStartPosition={x:o,y:a},n.dragStartCrop=it({},n.props.crop),(s=(i=n.props).onInteractionStart)===null||s===void 0||s.call(i)},n.onDrag=function(r){var i=r.x,s=r.y;n.currentWindow&&(n.rafDragTimeout&&n.currentWindow.cancelAnimationFrame(n.rafDragTimeout),n.rafDragTimeout=n.currentWindow.requestAnimationFrame(function(){if(n.state.cropSize&&!(i===void 0||s===void 0)){var o=i-n.dragStartPosition.x,a=s-n.dragStartPosition.y,l={x:n.dragStartCrop.x+o,y:n.dragStartCrop.y+a},c=n.props.restrictPosition?Xa(l,n.mediaSize,n.state.cropSize,n.props.zoom,n.props.rotation):l;n.props.onCropChange(c)}}))},n.onDragStopped=function(){var r,i;n.isTouching=!1,n.cleanEvents(),n.emitCropData(),(i=(r=n.props).onInteractionEnd)===null||i===void 0||i.call(r)},n.onWheel=function(r){if(n.currentWindow&&!(n.props.onWheelRequest&&!n.props.onWheelRequest(r))){r.preventDefault();var i=e.getMousePoint(r),s=Iq(r).pixelY,o=n.props.zoom-s*n.props.zoomSpeed/200;n.setNewZoom(o,i,{shouldUpdatePosition:!0}),n.state.hasWheelJustStarted||n.setState({hasWheelJustStarted:!0},function(){var a,l;return(l=(a=n.props).onInteractionStart)===null||l===void 0?void 0:l.call(a)}),n.wheelTimer&&clearTimeout(n.wheelTimer),n.wheelTimer=n.currentWindow.setTimeout(function(){return n.setState({hasWheelJustStarted:!1},function(){var a,l;return(l=(a=n.props).onInteractionEnd)===null||l===void 0?void 0:l.call(a)})},250)}},n.getPointOnContainer=function(r,i){var s=r.x,o=r.y;if(!n.containerRect)throw new Error("The Cropper is not mounted");return{x:n.containerRect.width/2-(s-i.x),y:n.containerRect.height/2-(o-i.y)}},n.getPointOnMedia=function(r){var i=r.x,s=r.y,o=n.props,a=o.crop,l=o.zoom;return{x:(i+a.x)/l,y:(s+a.y)/l}},n.setNewZoom=function(r,i,s){var o=s===void 0?{}:s,a=o.shouldUpdatePosition,l=a===void 0?!0:a;if(!(!n.state.cropSize||!n.props.onZoomChange)){var c=Vf(r,n.props.minZoom,n.props.maxZoom);if(l){var d=n.getPointOnContainer(i,n.containerPosition),h=n.getPointOnMedia(d),f={x:h.x*c-d.x,y:h.y*c-d.y},y=n.props.restrictPosition?Xa(f,n.mediaSize,n.state.cropSize,c,n.props.rotation):f;n.props.onCropChange(y)}n.props.onZoomChange(c)}},n.getCropData=function(){if(!n.state.cropSize)return null;var r=n.props.restrictPosition?Xa(n.props.crop,n.mediaSize,n.state.cropSize,n.props.zoom,n.props.rotation):n.props.crop;return Aq(r,n.mediaSize,n.state.cropSize,n.getAspect(),n.props.zoom,n.props.rotation,n.props.restrictPosition)},n.emitCropData=function(){var r=n.getCropData();if(r){var i=r.croppedAreaPercentages,s=r.croppedAreaPixels;n.props.onCropComplete&&n.props.onCropComplete(i,s),n.props.onCropAreaChange&&n.props.onCropAreaChange(i,s)}},n.emitCropAreaChange=function(){var r=n.getCropData();if(r){var i=r.croppedAreaPercentages,s=r.croppedAreaPixels;n.props.onCropAreaChange&&n.props.onCropAreaChange(i,s)}},n.recomputeCropPosition=function(){if(n.state.cropSize){var r=n.props.restrictPosition?Xa(n.props.crop,n.mediaSize,n.state.cropSize,n.props.zoom,n.props.rotation):n.props.crop;n.props.onCropChange(r),n.emitCropData()}},n.onKeyDown=function(r){var i,s,o=n.props,a=o.crop,l=o.onCropChange,c=o.keyboardStep,d=o.zoom,h=o.rotation,f=c;if(n.state.cropSize){r.shiftKey&&(f*=.2);var y=it({},a);switch(r.key){case"ArrowUp":y.y-=f,r.preventDefault();break;case"ArrowDown":y.y+=f,r.preventDefault();break;case"ArrowLeft":y.x-=f,r.preventDefault();break;case"ArrowRight":y.x+=f,r.preventDefault();break;default:return}n.props.restrictPosition&&(y=Xa(y,n.mediaSize,n.state.cropSize,d,h)),r.repeat||(s=(i=n.props).onInteractionStart)===null||s===void 0||s.call(i),l(y)}},n.onKeyUp=function(r){var i,s;switch(r.key){case"ArrowUp":case"ArrowDown":case"ArrowLeft":case"ArrowRight":r.preventDefault();break;default:return}n.emitCropData(),(s=(i=n.props).onInteractionEnd)===null||s===void 0||s.call(i)},n}return e.prototype.componentDidMount=function(){!this.currentDoc||!this.currentWindow||(this.containerRef&&(this.containerRef.ownerDocument&&(this.currentDoc=this.containerRef.ownerDocument),this.currentDoc.defaultView&&(this.currentWindow=this.currentDoc.defaultView),this.initResizeObserver(),typeof window.ResizeObserver>"u"&&this.currentWindow.addEventListener("resize",this.computeSizes),this.props.zoomWithScroll&&this.containerRef.addEventListener("wheel",this.onWheel,{passive:!1}),this.containerRef.addEventListener("gesturestart",this.onGestureStart)),this.currentDoc.addEventListener("scroll",this.onScroll),this.props.disableAutomaticStylesInjection||(this.styleRef=this.currentDoc.createElement("style"),this.styleRef.setAttribute("type","text/css"),this.props.nonce&&this.styleRef.setAttribute("nonce",this.props.nonce),this.styleRef.innerHTML=Fq,this.currentDoc.head.appendChild(this.styleRef)),this.imageRef.current&&this.imageRef.current.complete&&this.onMediaLoad(),this.props.setImageRef&&this.props.setImageRef(this.imageRef),this.props.setVideoRef&&this.props.setVideoRef(this.videoRef),this.props.setCropperRef&&this.props.setCropperRef(this.cropperRef))},e.prototype.componentWillUnmount=function(){var n,r;!this.currentDoc||!this.currentWindow||(typeof window.ResizeObserver>"u"&&this.currentWindow.removeEventListener("resize",this.computeSizes),(n=this.resizeObserver)===null||n===void 0||n.disconnect(),this.containerRef&&this.containerRef.removeEventListener("gesturestart",this.preventZoomSafari),this.styleRef&&((r=this.styleRef.parentNode)===null||r===void 0||r.removeChild(this.styleRef)),this.cleanEvents(),this.props.zoomWithScroll&&this.clearScrollEvent())},e.prototype.componentDidUpdate=function(n){var r,i,s,o,a,l,c,d,h;n.rotation!==this.props.rotation?(this.computeSizes(),this.recomputeCropPosition()):n.aspect!==this.props.aspect?this.computeSizes():n.objectFit!==this.props.objectFit?this.computeSizes():n.zoom!==this.props.zoom?this.recomputeCropPosition():((r=n.cropSize)===null||r===void 0?void 0:r.height)!==((i=this.props.cropSize)===null||i===void 0?void 0:i.height)||((s=n.cropSize)===null||s===void 0?void 0:s.width)!==((o=this.props.cropSize)===null||o===void 0?void 0:o.width)?this.computeSizes():(((a=n.crop)===null||a===void 0?void 0:a.x)!==((l=this.props.crop)===null||l===void 0?void 0:l.x)||((c=n.crop)===null||c===void 0?void 0:c.y)!==((d=this.props.crop)===null||d===void 0?void 0:d.y))&&this.emitCropAreaChange(),n.zoomWithScroll!==this.props.zoomWithScroll&&this.containerRef&&(this.props.zoomWithScroll?this.containerRef.addEventListener("wheel",this.onWheel,{passive:!1}):this.clearScrollEvent()),n.video!==this.props.video&&((h=this.videoRef.current)===null||h===void 0||h.load());var f=this.getObjectFit();f!==this.state.mediaObjectFit&&this.setState({mediaObjectFit:f},this.computeSizes)},e.prototype.getAspect=function(){var n=this.props,r=n.cropSize,i=n.aspect;return r?r.width/r.height:i},e.prototype.getObjectFit=function(){var n,r,i,s;if(this.props.objectFit==="cover"){var o=this.imageRef.current||this.videoRef.current;if(o&&this.containerRef){this.containerRect=this.containerRef.getBoundingClientRect();var a=this.containerRect.width/this.containerRect.height,l=((n=this.imageRef.current)===null||n===void 0?void 0:n.naturalWidth)||((r=this.videoRef.current)===null||r===void 0?void 0:r.videoWidth)||0,c=((i=this.imageRef.current)===null||i===void 0?void 0:i.naturalHeight)||((s=this.videoRef.current)===null||s===void 0?void 0:s.videoHeight)||0,d=l/c;return d<a?"horizontal-cover":"vertical-cover"}return"horizontal-cover"}return this.props.objectFit},e.prototype.onPinchStart=function(n){var r=e.getTouchPoint(n.touches[0]),i=e.getTouchPoint(n.touches[1]);this.lastPinchDistance=DS(r,i),this.lastPinchRotation=OS(r,i),this.onDragStart(MS(r,i))},e.prototype.onPinchMove=function(n){var r=this;if(!(!this.currentDoc||!this.currentWindow)){var i=e.getTouchPoint(n.touches[0]),s=e.getTouchPoint(n.touches[1]),o=MS(i,s);this.onDrag(o),this.rafPinchTimeout&&this.currentWindow.cancelAnimationFrame(this.rafPinchTimeout),this.rafPinchTimeout=this.currentWindow.requestAnimationFrame(function(){var a=DS(i,s),l=r.props.zoom*(a/r.lastPinchDistance);r.setNewZoom(l,o,{shouldUpdatePosition:!1}),r.lastPinchDistance=a;var c=OS(i,s),d=r.props.rotation+(c-r.lastPinchRotation);r.props.onRotationChange&&r.props.onRotationChange(d),r.lastPinchRotation=c})}},e.prototype.render=function(){var n=this,r,i=this.props,s=i.image,o=i.video,a=i.mediaProps,l=i.cropperProps,c=i.transform,d=i.crop,h=d.x,f=d.y,y=i.rotation,v=i.zoom,b=i.cropShape,P=i.showGrid,w=i.style,C=w.containerStyle,x=w.cropAreaStyle,A=w.mediaStyle,D=i.classes,M=D.containerClassName,S=D.cropAreaClassName,E=D.mediaClassName,I=(r=this.state.mediaObjectFit)!==null&&r!==void 0?r:this.getObjectFit();return k.createElement("div",{onMouseDown:this.onMouseDown,onTouchStart:this.onTouchStart,ref:function(R){return n.containerRef=R},"data-testid":"container",style:C,className:Gu("reactEasyCrop_Container",M)},s?k.createElement("img",it({alt:"",className:Gu("reactEasyCrop_Image",I==="contain"&&"reactEasyCrop_Contain",I==="horizontal-cover"&&"reactEasyCrop_Cover_Horizontal",I==="vertical-cover"&&"reactEasyCrop_Cover_Vertical",E)},a,{src:s,ref:this.imageRef,style:it(it({},A),{transform:c||"translate(".concat(h,"px, ").concat(f,"px) rotate(").concat(y,"deg) scale(").concat(v,")")}),onLoad:this.onMediaLoad})):o&&k.createElement("video",it({autoPlay:!0,playsInline:!0,loop:!0,muted:!0,className:Gu("reactEasyCrop_Video",I==="contain"&&"reactEasyCrop_Contain",I==="horizontal-cover"&&"reactEasyCrop_Cover_Horizontal",I==="vertical-cover"&&"reactEasyCrop_Cover_Vertical",E)},a,{ref:this.videoRef,onLoadedMetadata:this.onMediaLoad,style:it(it({},A),{transform:c||"translate(".concat(h,"px, ").concat(f,"px) rotate(").concat(y,"deg) scale(").concat(v,")")}),controls:!1}),(Array.isArray(o)?o:[{src:o}]).map(function(m){return k.createElement("source",it({key:m.src},m))})),this.state.cropSize&&k.createElement("div",it({ref:this.cropperRef,style:it(it({},x),{width:this.state.cropSize.width,height:this.state.cropSize.height}),tabIndex:0,onKeyDown:this.onKeyDown,onKeyUp:this.onKeyUp,"data-testid":"cropper",className:Gu("reactEasyCrop_CropArea",b==="round"&&"reactEasyCrop_CropAreaRound",P&&"reactEasyCrop_CropAreaGrid",S)},l)))},e.defaultProps={zoom:1,rotation:0,aspect:4/3,maxZoom:Uq,minZoom:$q,cropShape:"rect",objectFit:"contain",showGrid:!0,style:{},classes:{},mediaProps:{},cropperProps:{},zoomSpeed:1,restrictPosition:!0,zoomWithScroll:!0,keyboardStep:Vq},e.getMousePoint=function(n){return{x:Number(n.clientX),y:Number(n.clientY)}},e.getTouchPoint=function(n){return{x:Number(n.clientX),y:Number(n.clientY)}},e}(k.Component);const zq=t=>new Promise((e,n)=>{const r=new Image;r.addEventListener("load",()=>e(r)),r.addEventListener("error",i=>n(i)),r.setAttribute("crossOrigin","anonymous"),r.src=t});async function Wq(t,e){const n=await zq(t),r=document.createElement("canvas"),i=r.getContext("2d");return r.width=e.width,r.height=e.height,i.drawImage(n,e.x,e.y,e.width,e.height,0,0,e.width,e.height),r}function Hq({open:t,onClose:e,usuario:n,onUploadSuccess:r}){const[i,s]=k.useState(null),[o,a]=k.useState({x:0,y:0}),[l,c]=k.useState(1),[d,h]=k.useState(null),[f,y]=k.useState(!1),v=k.useCallback((w,C)=>{h(C)},[]),b=w=>{if(w.target.files&&w.target.files.length>0){const C=w.target.files[0],x=new FileReader;x.onload=()=>{s(x.result)},x.readAsDataURL(C)}},P=async()=>{y(!0);const C=(await Wq(i,d)).toDataURL("image/jpeg");localStorage.setItem(`fotoPerfil_${n.uid}`,C),r(C),y(!1),e()};return _.jsx(vN,{open:t,onClose:e,children:_.jsxs(_N,{className:"bg-white rounded-lg p-4 shadow-lg w-full max-w-md mx-auto mt-32 max-h-[90vh] overflow-hidden",children:[_.jsx("h2",{className:"text-lg font-bold mb-4 text-center",children:"Editar Foto de Perfil"}),i?_.jsx("div",{className:"relative w-full h-[300px] bg-black",children:_.jsx(Bq,{image:i,crop:o,zoom:l,aspect:1,onCropChange:a,onZoomChange:c,onCropComplete:v})}):_.jsx("input",{type:"file",accept:"image/*",onChange:b}),_.jsxs("div",{className:"flex justify-end mt-4 gap-2",children:[_.jsx("button",{onClick:e,className:"px-4 py-2 bg-gray-300 rounded hover:bg-gray-400",children:"Cancelar"}),i&&_.jsx("button",{onClick:P,disabled:f,className:"px-4 py-2 bg-green-600 text-white rounded hover:bg-green-700",children:f?"Subiendo...":"Guardar"})]})]})})}function Gq(){const{usuario:t}=k.useContext(Bc),[e,n]=k.useState(null),[r,i]=k.useState(!1),[s,o]=k.useState(""),[a,l]=k.useState(""),[c,d]=k.useState(!1),[h,f]=k.useState(!1),[y,v]=k.useState(!1),b=Fi(),P=(A,D)=>((A==null?void 0:A.charAt(0).toUpperCase())||"")+((D==null?void 0:D.charAt(0).toUpperCase())||"");k.useEffect(()=>{if(t){const A=ue(ce,`usuarios/${t.uid}`);Lr(A).then(async D=>{const M=t.displayName||"",S=M.split(" ")[0]||"",E=M.split(" ")[1]||"",I=t.photoURL||null,R=localStorage.getItem(`fotoPerfil_${t.uid}`)||I||D.exists()&&D.val().foto||null,O={nombre:S,apellido:E,correo:t.email,rol:"usuario",iniciales:P(S,E),foto:R},N=!S||!E;if(d(N),i(N),o(S),l(E),!D.exists())await pt(A,O),n(O);else{const W=D.val(),z={};W.nombre||(z.nombre=S),W.apellido||(z.apellido=E),!W.foto&&R&&(z.foto=R),Object.keys(z).length>0?(await wE(A,z),n({...W,...z,foto:R})):n({...W,foto:R}),o(W.nombre||S),l(W.apellido||E)}})}},[t]);const w=async()=>{if(!t)return;const A=ue(ce,`usuarios/${t.uid}`),D={nombre:s,apellido:a,iniciales:P(s,a)};await wE(A,D),i(!1),d(!1),alert("Datos actualizados correctamente")},C=async()=>{await T5(Qo),b("/login")},x=A=>{n(D=>({...D,foto:A}))};return e?_.jsxs("div",{className:"min-h-screen bg-cover bg-center text-white font-qatar",style:{backgroundImage:"url('/EmproChampions-2025/img/fondoempro-horizontal.png')"},children:[_.jsx(Ai,{}),_.jsx("div",{className:"flex items-center justify-center px-4 py-10",children:_.jsxs("div",{className:"bg-white/90 rounded-2xl shadow-lg p-8 w-full max-w-md text-center text-black",children:[_.jsx("h1",{className:"text-3xl font-bold text-[#7a0026] mb-6",children:"Configuración de Cuenta"}),c&&_.jsx("div",{className:"mb-4 text-red-700 font-semibold",children:"Tu cuenta no tiene nombre ni foto. Por favor completa tu perfil 👇"}),_.jsxs("div",{className:"mb-4 relative w-24 h-24 mx-auto",children:[e.foto?_.jsx("img",{src:e.foto,className:"w-24 h-24 rounded-full object-cover"}):_.jsx("div",{className:"w-24 h-24 rounded-full bg-[#7a0026] text-white text-3xl flex items-center justify-center",children:P(s,a)||"U"}),_.jsx("button",{type:"button",onClick:()=>v(!0),className:"absolute bottom-0 right-0 bg-yellow-400 text-black rounded-full p-1 shadow-md hover:bg-yellow-500",children:"✏️"})]}),_.jsxs("div",{className:"space-y-4 text-left",children:[_.jsx("input",{type:"text",placeholder:"Nombre",value:s,onChange:A=>o(A.target.value),className:"w-full px-4 py-2 border border-[#7a0026] rounded-md",disabled:!r}),_.jsx("input",{type:"text",placeholder:"Apellido",value:a,onChange:A=>l(A.target.value),className:"w-full px-4 py-2 border border-[#7a0026] rounded-md",disabled:!r}),_.jsxs("p",{className:"text-gray-700 font-sans text-sm break-all",children:["Correo: ",e.correo]})]}),_.jsxs("div",{className:"mt-6",children:[r?_.jsx("button",{onClick:w,className:"w-full bg-[#FFD700] text-[#7a0026] font-bold py-2 rounded-md hover:bg-yellow-400 transition",children:"Guardar Cambios"}):_.jsx("button",{onClick:()=>i(!0),className:"w-full bg-blue-600 text-white font-bold py-2 rounded-md hover:bg-blue-700 transition",children:"Editar"}),_.jsx("button",{onClick:()=>f(!0),className:"mt-4 w-full bg-red-600 text-white font-bold py-2 rounded-md hover:bg-red-700 transition",children:"Cerrar sesión"})]})]})}),_.jsx(vN,{open:h,onClose:()=>f(!1),children:_.jsxs(_N,{className:"bg-white p-6 rounded-md shadow-md w-full max-w-sm mx-auto mt-40 text-center",children:[_.jsx("h2",{className:"text-xl font-bold mb-4 text-black",children:"¿Cerrar sesión?"}),_.jsxs("div",{className:"flex justify-center gap-4",children:[_.jsx("button",{className:"bg-gray-300 px-4 py-2 rounded hover:bg-gray-400",onClick:()=>f(!1),children:"Cancelar"}),_.jsx("button",{className:"bg-red-600 text-white px-4 py-2 rounded hover:bg-red-700",onClick:C,children:"Confirmar"})]})]})}),_.jsx(Hq,{open:y,onClose:()=>v(!1),usuario:t,onUploadSuccess:x})]}):_.jsx("div",{className:"text-white text-center mt-10",children:"Cargando..."})}function Qa({children:t}){const e=k.useContext(Bc),{usuario:n,cargando:r,rol:i}=e;return console.log("[ProtectedRoute] Evaluando...",{cargando:r,currentUserObtenido:n,rol:i}),r?(console.log("[ProtectedRoute] AuthContext todavía está cargando..."),_.jsx("div",{children:"Cargando aplicación..."})):n?(console.log("[ProtectedRoute] DECISIÓN: Hay usuario (después de cargar), renderizando children. Usuario:",n,"Rol:",i),t):(console.log("[ProtectedRoute] DECISIÓN: No hay usuario (después de cargar), redirigiendo a /login. Estado del contexto en este punto:",e),_.jsx(_g,{to:"/login",replace:!0}))}function Sm({children:t}){const e=k.useContext(Bc),{usuario:n,rol:r,cargando:i}=e;return console.log("[AdminRoute] Evaluando...",{cargando:i,currentUserObtenido:n,rolObtenido:r}),i?(console.log("[AdminRoute] AuthContext todavía está cargando..."),_.jsx("div",{children:"Cargando aplicación..."})):n?r!=="admin"&&r!=="superadmin"?(console.log("[AdminRoute] DECISIÓN: Usuario existe pero rol no es admin/superadmin (rol:",r,"), redirigiendo a /. Estado del contexto:",e),_.jsx(_g,{to:"/",replace:!0})):(console.log("[AdminRoute] DECISIÓN: Usuario es admin/superadmin (después de cargar), renderizando children. Usuario:",n,"Rol:",r),t):(console.log("[AdminRoute] DECISIÓN: No hay usuario (después de cargar), redirigiendo a /login. Estado del contexto:",e),_.jsx(_g,{to:"/login",replace:!0}))}function Kq(){const[t,e]=k.useState(!1),[n,r]=k.useState({title:"",body:""});return k.useEffect(()=>{(async()=>{try{if(await Notification.requestPermission()==="granted"){console.log("Notification permission granted.");const l=Ig(Ns),c=await gF(l,{vapidKey:"BGq64U5eNzfqCtAtHTqnz9mh2oaeLpOZiJHMMama_1L9h_K1I9qScieLNbW8uHvEnRFlNVR2ZSBqAc61dtaW0Mc"});c?console.log("FCM Token:",c):console.log("No registration token available. Request permission to generate one.")}else console.log("Unable to get permission to notify.")}catch(a){console.error("An error occurred while requesting permission or getting token. ",a)}})();const s=Ig(Ns),o=yF(s,a=>{console.log("Message received. ",a),r({title:a.notification.title,body:a.notification.body}),e(!0)});return()=>{o()}},[]),_.jsx(BV,{children:_.jsxs(nL,{basename:"/EmproChampions-2025",children:[t&&_.jsx(rR,{title:n.title,body:n.body,image:n.image,onClose:()=>e(!1)}),_.jsxs(AM,{children:[_.jsx(gn,{path:"/login",element:_.jsx(zV,{})}),_.jsx(gn,{path:"/registro",element:_.jsx(WV,{})}),_.jsx(gn,{path:"/",element:_.jsx(Qa,{children:_.jsx(HV,{})})}),_.jsx(gn,{path:"/partido/configurar",element:_.jsx(Sm,{children:_.jsx($E,{})})}),_.jsx(gn,{path:"/partido/alineacion",element:_.jsx(Sm,{children:_.jsx(JW,{})})}),_.jsx(gn,{path:"/control/:partidoId",element:_.jsx(Sm,{children:_.jsx(e9,{})})}),_.jsx(gn,{path:"/match/:partidoId",element:_.jsx(Qa,{children:_.jsx($E,{modo:"ver"})})}),_.jsx(gn,{path:"/goleadores",element:_.jsx(Qa,{children:_.jsx(t9,{})})}),_.jsx(gn,{path:"/historial",element:_.jsx(Qa,{children:_.jsx(r9,{})})}),_.jsx(gn,{path:"/configuracion",element:_.jsx(Qa,{children:_.jsx(Gq,{})})}),_.jsx(gn,{path:"*",element:_.jsx("div",{children:"Página no encontrada"})})," "]})]})})}const Xi=sessionStorage.getItem("redirect");sessionStorage.removeItem("redirect");if(Xi&&Xi!==window.location.pathname.replace("/EmproChampions-2025","")){let t=Xi;const e="/EmproChampions-2025";Xi.startsWith(e)?(t=Xi.substring(e.length),t.startsWith("/")||(t="/"+t)):Xi.startsWith("/")||(t="/"+Xi),t!==window.location.pathname.replace(e,"")&&(window.history.replaceState(null,null,e+(t==="/"?"":t)),console.log("Redirecting to:",e+(t==="/"?"":t)))}bm.createRoot(document.getElementById("root")).render(_.jsx(ss.StrictMode,{children:_.jsx(Kq,{})}));if("serviceWorker"in navigator){const t="/EmproChampions-2025/firebase-messaging-sw.js";navigator.serviceWorker.register(t,{scope:"/EmproChampions-2025/"}).then(e=>{console.log("Service Worker registrado:",e,"con ruta:",t,"y scope:",e.scope)}).catch(e=>{console.error("Fallo el registro del Service Worker:",e,"con ruta:",t)})}
