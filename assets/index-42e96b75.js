function DP(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();function Km(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var HC={exports:{}},yd={},GC={exports:{}},Z={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var El=Symbol.for("react.element"),OP=Symbol.for("react.portal"),MP=Symbol.for("react.fragment"),LP=Symbol.for("react.strict_mode"),jP=Symbol.for("react.profiler"),FP=Symbol.for("react.provider"),$P=Symbol.for("react.context"),VP=Symbol.for("react.forward_ref"),UP=Symbol.for("react.suspense"),BP=Symbol.for("react.memo"),zP=Symbol.for("react.lazy"),i0=Symbol.iterator;function WP(t){return t===null||typeof t!="object"?null:(t=i0&&t[i0]||t["@@iterator"],typeof t=="function"?t:null)}var KC={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},qC=Object.assign,YC={};function wo(t,e,n){this.props=t,this.context=e,this.refs=YC,this.updater=n||KC}wo.prototype.isReactComponent={};wo.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};wo.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function QC(){}QC.prototype=wo.prototype;function qm(t,e,n){this.props=t,this.context=e,this.refs=YC,this.updater=n||KC}var Ym=qm.prototype=new QC;Ym.constructor=qm;qC(Ym,wo.prototype);Ym.isPureReactComponent=!0;var s0=Array.isArray,XC=Object.prototype.hasOwnProperty,Qm={current:null},JC={key:!0,ref:!0,__self:!0,__source:!0};function ZC(t,e,n){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)XC.call(e,r)&&!JC.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];i.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:El,type:t,key:s,ref:o,props:i,_owner:Qm.current}}function HP(t,e){return{$$typeof:El,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Xm(t){return typeof t=="object"&&t!==null&&t.$$typeof===El}function GP(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var o0=/\/+/g;function If(t,e){return typeof t=="object"&&t!==null&&t.key!=null?GP(""+t.key):e.toString(36)}function Lc(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case El:case OP:o=!0}}if(o)return o=t,i=i(o),t=r===""?"."+If(o,0):r,s0(i)?(n="",t!=null&&(n=t.replace(o0,"$&/")+"/"),Lc(i,e,n,"",function(c){return c})):i!=null&&(Xm(i)&&(i=HP(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(o0,"$&/")+"/")+t)),e.push(i)),1;if(o=0,r=r===""?".":r+":",s0(t))for(var a=0;a<t.length;a++){s=t[a];var l=r+If(s,a);o+=Lc(s,e,n,l,i)}else if(l=WP(t),typeof l=="function")for(t=l.call(t),a=0;!(s=t.next()).done;)s=s.value,l=r+If(s,a++),o+=Lc(s,e,n,l,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function rc(t,e,n){if(t==null)return t;var r=[],i=0;return Lc(t,r,"","",function(s){return e.call(n,s,i++)}),r}function KP(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Ct={current:null},jc={transition:null},qP={ReactCurrentDispatcher:Ct,ReactCurrentBatchConfig:jc,ReactCurrentOwner:Qm};function eE(){throw Error("act(...) is not supported in production builds of React.")}Z.Children={map:rc,forEach:function(t,e,n){rc(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return rc(t,function(){e++}),e},toArray:function(t){return rc(t,function(e){return e})||[]},only:function(t){if(!Xm(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Z.Component=wo;Z.Fragment=MP;Z.Profiler=jP;Z.PureComponent=qm;Z.StrictMode=LP;Z.Suspense=UP;Z.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=qP;Z.act=eE;Z.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=qC({},t.props),i=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=Qm.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)XC.call(e,l)&&!JC.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];r.children=a}return{$$typeof:El,type:t.type,key:i,ref:s,props:r,_owner:o}};Z.createContext=function(t){return t={$$typeof:$P,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:FP,_context:t},t.Consumer=t};Z.createElement=ZC;Z.createFactory=function(t){var e=ZC.bind(null,t);return e.type=t,e};Z.createRef=function(){return{current:null}};Z.forwardRef=function(t){return{$$typeof:VP,render:t}};Z.isValidElement=Xm;Z.lazy=function(t){return{$$typeof:zP,_payload:{_status:-1,_result:t},_init:KP}};Z.memo=function(t,e){return{$$typeof:BP,type:t,compare:e===void 0?null:e}};Z.startTransition=function(t){var e=jc.transition;jc.transition={};try{t()}finally{jc.transition=e}};Z.unstable_act=eE;Z.useCallback=function(t,e){return Ct.current.useCallback(t,e)};Z.useContext=function(t){return Ct.current.useContext(t)};Z.useDebugValue=function(){};Z.useDeferredValue=function(t){return Ct.current.useDeferredValue(t)};Z.useEffect=function(t,e){return Ct.current.useEffect(t,e)};Z.useId=function(){return Ct.current.useId()};Z.useImperativeHandle=function(t,e,n){return Ct.current.useImperativeHandle(t,e,n)};Z.useInsertionEffect=function(t,e){return Ct.current.useInsertionEffect(t,e)};Z.useLayoutEffect=function(t,e){return Ct.current.useLayoutEffect(t,e)};Z.useMemo=function(t,e){return Ct.current.useMemo(t,e)};Z.useReducer=function(t,e,n){return Ct.current.useReducer(t,e,n)};Z.useRef=function(t){return Ct.current.useRef(t)};Z.useState=function(t){return Ct.current.useState(t)};Z.useSyncExternalStore=function(t,e,n){return Ct.current.useSyncExternalStore(t,e,n)};Z.useTransition=function(){return Ct.current.useTransition()};Z.version="18.3.1";GC.exports=Z;var x=GC.exports;const ki=Km(x),a0=DP({__proto__:null,default:ki},[x]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var YP=x,QP=Symbol.for("react.element"),XP=Symbol.for("react.fragment"),JP=Object.prototype.hasOwnProperty,ZP=YP.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,eR={key:!0,ref:!0,__self:!0,__source:!0};function tE(t,e,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)JP.call(e,r)&&!eR.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:QP,type:t,key:s,ref:o,props:i,_owner:ZP.current}}yd.Fragment=XP;yd.jsx=tE;yd.jsxs=tE;HC.exports=yd;var h=HC.exports,Uh={},nE={exports:{}},zt={},rE={exports:{}},iE={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(O,B){var H=O.length;O.push(B);e:for(;0<H;){var ue=H-1>>>1,de=O[ue];if(0<i(de,B))O[ue]=B,O[H]=de,H=ue;else break e}}function n(O){return O.length===0?null:O[0]}function r(O){if(O.length===0)return null;var B=O[0],H=O.pop();if(H!==B){O[0]=H;e:for(var ue=0,de=O.length,rt=de>>>1;ue<rt;){var pt=2*(ue+1)-1,Ht=O[pt],Gt=pt+1,Qn=O[Gt];if(0>i(Ht,H))Gt<de&&0>i(Qn,Ht)?(O[ue]=Qn,O[Gt]=H,ue=Gt):(O[ue]=Ht,O[pt]=H,ue=pt);else if(Gt<de&&0>i(Qn,H))O[ue]=Qn,O[Gt]=H,ue=Gt;else break e}}return B}function i(O,B){var H=O.sortIndex-B.sortIndex;return H!==0?H:O.id-B.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],c=[],u=1,d=null,f=3,p=!1,g=!1,_=!1,E=typeof setTimeout=="function"?setTimeout:null,m=typeof clearTimeout=="function"?clearTimeout:null,v=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function y(O){for(var B=n(c);B!==null;){if(B.callback===null)r(c);else if(B.startTime<=O)r(c),B.sortIndex=B.expirationTime,e(l,B);else break;B=n(c)}}function C(O){if(_=!1,y(O),!g)if(n(l)!==null)g=!0,G(S);else{var B=n(c);B!==null&&K(C,B.startTime-O)}}function S(O,B){g=!1,_&&(_=!1,m(k),k=-1),p=!0;var H=f;try{for(y(B),d=n(l);d!==null&&(!(d.expirationTime>B)||O&&!R());){var ue=d.callback;if(typeof ue=="function"){d.callback=null,f=d.priorityLevel;var de=ue(d.expirationTime<=B);B=t.unstable_now(),typeof de=="function"?d.callback=de:d===n(l)&&r(l),y(B)}else r(l);d=n(l)}if(d!==null)var rt=!0;else{var pt=n(c);pt!==null&&K(C,pt.startTime-B),rt=!1}return rt}finally{d=null,f=H,p=!1}}var b=!1,T=null,k=-1,N=5,w=-1;function R(){return!(t.unstable_now()-w<N)}function M(){if(T!==null){var O=t.unstable_now();w=O;var B=!0;try{B=T(!0,O)}finally{B?F():(b=!1,T=null)}}else b=!1}var F;if(typeof v=="function")F=function(){v(M)};else if(typeof MessageChannel<"u"){var U=new MessageChannel,$=U.port2;U.port1.onmessage=M,F=function(){$.postMessage(null)}}else F=function(){E(M,0)};function G(O){T=O,b||(b=!0,F())}function K(O,B){k=E(function(){O(t.unstable_now())},B)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(O){O.callback=null},t.unstable_continueExecution=function(){g||p||(g=!0,G(S))},t.unstable_forceFrameRate=function(O){0>O||125<O?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):N=0<O?Math.floor(1e3/O):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(O){switch(f){case 1:case 2:case 3:var B=3;break;default:B=f}var H=f;f=B;try{return O()}finally{f=H}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(O,B){switch(O){case 1:case 2:case 3:case 4:case 5:break;default:O=3}var H=f;f=O;try{return B()}finally{f=H}},t.unstable_scheduleCallback=function(O,B,H){var ue=t.unstable_now();switch(typeof H=="object"&&H!==null?(H=H.delay,H=typeof H=="number"&&0<H?ue+H:ue):H=ue,O){case 1:var de=-1;break;case 2:de=250;break;case 5:de=1073741823;break;case 4:de=1e4;break;default:de=5e3}return de=H+de,O={id:u++,callback:B,priorityLevel:O,startTime:H,expirationTime:de,sortIndex:-1},H>ue?(O.sortIndex=H,e(c,O),n(l)===null&&O===n(c)&&(_?(m(k),k=-1):_=!0,K(C,H-ue))):(O.sortIndex=de,e(l,O),g||p||(g=!0,G(S))),O},t.unstable_shouldYield=R,t.unstable_wrapCallback=function(O){var B=f;return function(){var H=f;f=B;try{return O.apply(this,arguments)}finally{f=H}}}})(iE);rE.exports=iE;var tR=rE.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var nR=x,Ut=tR;function A(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var sE=new Set,Ma={};function ns(t,e){Xs(t,e),Xs(t+"Capture",e)}function Xs(t,e){for(Ma[t]=e,t=0;t<e.length;t++)sE.add(e[t])}var gr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Bh=Object.prototype.hasOwnProperty,rR=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,l0={},c0={};function iR(t){return Bh.call(c0,t)?!0:Bh.call(l0,t)?!1:rR.test(t)?c0[t]=!0:(l0[t]=!0,!1)}function sR(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function oR(t,e,n,r){if(e===null||typeof e>"u"||sR(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Et(t,e,n,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var tt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){tt[t]=new Et(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];tt[e]=new Et(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){tt[t]=new Et(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){tt[t]=new Et(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){tt[t]=new Et(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){tt[t]=new Et(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){tt[t]=new Et(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){tt[t]=new Et(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){tt[t]=new Et(t,5,!1,t.toLowerCase(),null,!1,!1)});var Jm=/[\-:]([a-z])/g;function Zm(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Jm,Zm);tt[e]=new Et(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Jm,Zm);tt[e]=new Et(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Jm,Zm);tt[e]=new Et(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){tt[t]=new Et(t,1,!1,t.toLowerCase(),null,!1,!1)});tt.xlinkHref=new Et("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){tt[t]=new Et(t,1,!1,t.toLowerCase(),null,!0,!0)});function eg(t,e,n,r){var i=tt.hasOwnProperty(e)?tt[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(oR(e,n,i,r)&&(n=null),r||i===null?iR(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var kr=nR.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,ic=Symbol.for("react.element"),_s=Symbol.for("react.portal"),ws=Symbol.for("react.fragment"),tg=Symbol.for("react.strict_mode"),zh=Symbol.for("react.profiler"),oE=Symbol.for("react.provider"),aE=Symbol.for("react.context"),ng=Symbol.for("react.forward_ref"),Wh=Symbol.for("react.suspense"),Hh=Symbol.for("react.suspense_list"),rg=Symbol.for("react.memo"),Lr=Symbol.for("react.lazy"),lE=Symbol.for("react.offscreen"),u0=Symbol.iterator;function jo(t){return t===null||typeof t!="object"?null:(t=u0&&t[u0]||t["@@iterator"],typeof t=="function"?t:null)}var be=Object.assign,Pf;function ta(t){if(Pf===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Pf=e&&e[1]||""}return`
`+Pf+t}var Rf=!1;function Nf(t,e){if(!t||Rf)return"";Rf=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var r=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){r=c}t.call(e.prototype)}else{try{throw Error()}catch(c){r=c}t()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var i=c.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var l=`
`+i[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{Rf=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?ta(t):""}function aR(t){switch(t.tag){case 5:return ta(t.type);case 16:return ta("Lazy");case 13:return ta("Suspense");case 19:return ta("SuspenseList");case 0:case 2:case 15:return t=Nf(t.type,!1),t;case 11:return t=Nf(t.type.render,!1),t;case 1:return t=Nf(t.type,!0),t;default:return""}}function Gh(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case ws:return"Fragment";case _s:return"Portal";case zh:return"Profiler";case tg:return"StrictMode";case Wh:return"Suspense";case Hh:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case aE:return(t.displayName||"Context")+".Consumer";case oE:return(t._context.displayName||"Context")+".Provider";case ng:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case rg:return e=t.displayName||null,e!==null?e:Gh(t.type)||"Memo";case Lr:e=t._payload,t=t._init;try{return Gh(t(e))}catch{}}return null}function lR(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Gh(e);case 8:return e===tg?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function ri(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function cE(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function cR(t){var e=cE(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function sc(t){t._valueTracker||(t._valueTracker=cR(t))}function uE(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=cE(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function du(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Kh(t,e){var n=e.checked;return be({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function d0(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=ri(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function dE(t,e){e=e.checked,e!=null&&eg(t,"checked",e,!1)}function qh(t,e){dE(t,e);var n=ri(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Yh(t,e.type,n):e.hasOwnProperty("defaultValue")&&Yh(t,e.type,ri(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function f0(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Yh(t,e,n){(e!=="number"||du(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var na=Array.isArray;function js(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+ri(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function Qh(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(A(91));return be({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function h0(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(A(92));if(na(n)){if(1<n.length)throw Error(A(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:ri(n)}}function fE(t,e){var n=ri(e.value),r=ri(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function p0(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function hE(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Xh(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?hE(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var oc,pE=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(oc=oc||document.createElement("div"),oc.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=oc.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function La(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var ha={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},uR=["Webkit","ms","Moz","O"];Object.keys(ha).forEach(function(t){uR.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),ha[e]=ha[t]})});function mE(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||ha.hasOwnProperty(t)&&ha[t]?(""+e).trim():e+"px"}function gE(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=mE(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var dR=be({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Jh(t,e){if(e){if(dR[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(A(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(A(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(A(61))}if(e.style!=null&&typeof e.style!="object")throw Error(A(62))}}function Zh(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ep=null;function ig(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var tp=null,Fs=null,$s=null;function m0(t){if(t=Tl(t)){if(typeof tp!="function")throw Error(A(280));var e=t.stateNode;e&&(e=Cd(e),tp(t.stateNode,t.type,e))}}function yE(t){Fs?$s?$s.push(t):$s=[t]:Fs=t}function vE(){if(Fs){var t=Fs,e=$s;if($s=Fs=null,m0(t),e)for(t=0;t<e.length;t++)m0(e[t])}}function _E(t,e){return t(e)}function wE(){}var Af=!1;function xE(t,e,n){if(Af)return t(e,n);Af=!0;try{return _E(t,e,n)}finally{Af=!1,(Fs!==null||$s!==null)&&(wE(),vE())}}function ja(t,e){var n=t.stateNode;if(n===null)return null;var r=Cd(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(A(231,e,typeof n));return n}var np=!1;if(gr)try{var Fo={};Object.defineProperty(Fo,"passive",{get:function(){np=!0}}),window.addEventListener("test",Fo,Fo),window.removeEventListener("test",Fo,Fo)}catch{np=!1}function fR(t,e,n,r,i,s,o,a,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(u){this.onError(u)}}var pa=!1,fu=null,hu=!1,rp=null,hR={onError:function(t){pa=!0,fu=t}};function pR(t,e,n,r,i,s,o,a,l){pa=!1,fu=null,fR.apply(hR,arguments)}function mR(t,e,n,r,i,s,o,a,l){if(pR.apply(this,arguments),pa){if(pa){var c=fu;pa=!1,fu=null}else throw Error(A(198));hu||(hu=!0,rp=c)}}function rs(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function CE(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function g0(t){if(rs(t)!==t)throw Error(A(188))}function gR(t){var e=t.alternate;if(!e){if(e=rs(t),e===null)throw Error(A(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return g0(i),t;if(s===r)return g0(i),e;s=s.sibling}throw Error(A(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o)throw Error(A(189))}}if(n.alternate!==r)throw Error(A(190))}if(n.tag!==3)throw Error(A(188));return n.stateNode.current===n?t:e}function EE(t){return t=gR(t),t!==null?SE(t):null}function SE(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=SE(t);if(e!==null)return e;t=t.sibling}return null}var bE=Ut.unstable_scheduleCallback,y0=Ut.unstable_cancelCallback,yR=Ut.unstable_shouldYield,vR=Ut.unstable_requestPaint,Me=Ut.unstable_now,_R=Ut.unstable_getCurrentPriorityLevel,sg=Ut.unstable_ImmediatePriority,TE=Ut.unstable_UserBlockingPriority,pu=Ut.unstable_NormalPriority,wR=Ut.unstable_LowPriority,kE=Ut.unstable_IdlePriority,vd=null,Fn=null;function xR(t){if(Fn&&typeof Fn.onCommitFiberRoot=="function")try{Fn.onCommitFiberRoot(vd,t,void 0,(t.current.flags&128)===128)}catch{}}var Cn=Math.clz32?Math.clz32:SR,CR=Math.log,ER=Math.LN2;function SR(t){return t>>>=0,t===0?32:31-(CR(t)/ER|0)|0}var ac=64,lc=4194304;function ra(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function mu(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~i;a!==0?r=ra(a):(s&=o,s!==0&&(r=ra(s)))}else o=n&~i,o!==0?r=ra(o):s!==0&&(r=ra(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Cn(e),i=1<<n,r|=t[n],e&=~i;return r}function bR(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function TR(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-Cn(s),a=1<<o,l=i[o];l===-1?(!(a&n)||a&r)&&(i[o]=bR(a,e)):l<=e&&(t.expiredLanes|=a),s&=~a}}function ip(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function IE(){var t=ac;return ac<<=1,!(ac&4194240)&&(ac=64),t}function Df(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Sl(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Cn(e),t[e]=n}function kR(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-Cn(n),s=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~s}}function og(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Cn(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var ie=0;function PE(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var RE,ag,NE,AE,DE,sp=!1,cc=[],Gr=null,Kr=null,qr=null,Fa=new Map,$a=new Map,Fr=[],IR="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function v0(t,e){switch(t){case"focusin":case"focusout":Gr=null;break;case"dragenter":case"dragleave":Kr=null;break;case"mouseover":case"mouseout":qr=null;break;case"pointerover":case"pointerout":Fa.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":$a.delete(e.pointerId)}}function $o(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=Tl(e),e!==null&&ag(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function PR(t,e,n,r,i){switch(e){case"focusin":return Gr=$o(Gr,t,e,n,r,i),!0;case"dragenter":return Kr=$o(Kr,t,e,n,r,i),!0;case"mouseover":return qr=$o(qr,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return Fa.set(s,$o(Fa.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,$a.set(s,$o($a.get(s)||null,t,e,n,r,i)),!0}return!1}function OE(t){var e=Ii(t.target);if(e!==null){var n=rs(e);if(n!==null){if(e=n.tag,e===13){if(e=CE(n),e!==null){t.blockedOn=e,DE(t.priority,function(){NE(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Fc(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=op(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);ep=r,n.target.dispatchEvent(r),ep=null}else return e=Tl(n),e!==null&&ag(e),t.blockedOn=n,!1;e.shift()}return!0}function _0(t,e,n){Fc(t)&&n.delete(e)}function RR(){sp=!1,Gr!==null&&Fc(Gr)&&(Gr=null),Kr!==null&&Fc(Kr)&&(Kr=null),qr!==null&&Fc(qr)&&(qr=null),Fa.forEach(_0),$a.forEach(_0)}function Vo(t,e){t.blockedOn===e&&(t.blockedOn=null,sp||(sp=!0,Ut.unstable_scheduleCallback(Ut.unstable_NormalPriority,RR)))}function Va(t){function e(i){return Vo(i,t)}if(0<cc.length){Vo(cc[0],t);for(var n=1;n<cc.length;n++){var r=cc[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Gr!==null&&Vo(Gr,t),Kr!==null&&Vo(Kr,t),qr!==null&&Vo(qr,t),Fa.forEach(e),$a.forEach(e),n=0;n<Fr.length;n++)r=Fr[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Fr.length&&(n=Fr[0],n.blockedOn===null);)OE(n),n.blockedOn===null&&Fr.shift()}var Vs=kr.ReactCurrentBatchConfig,gu=!0;function NR(t,e,n,r){var i=ie,s=Vs.transition;Vs.transition=null;try{ie=1,lg(t,e,n,r)}finally{ie=i,Vs.transition=s}}function AR(t,e,n,r){var i=ie,s=Vs.transition;Vs.transition=null;try{ie=4,lg(t,e,n,r)}finally{ie=i,Vs.transition=s}}function lg(t,e,n,r){if(gu){var i=op(t,e,n,r);if(i===null)zf(t,e,r,yu,n),v0(t,r);else if(PR(i,t,e,n,r))r.stopPropagation();else if(v0(t,r),e&4&&-1<IR.indexOf(t)){for(;i!==null;){var s=Tl(i);if(s!==null&&RE(s),s=op(t,e,n,r),s===null&&zf(t,e,r,yu,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else zf(t,e,r,null,n)}}var yu=null;function op(t,e,n,r){if(yu=null,t=ig(r),t=Ii(t),t!==null)if(e=rs(t),e===null)t=null;else if(n=e.tag,n===13){if(t=CE(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return yu=t,null}function ME(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(_R()){case sg:return 1;case TE:return 4;case pu:case wR:return 16;case kE:return 536870912;default:return 16}default:return 16}}var zr=null,cg=null,$c=null;function LE(){if($c)return $c;var t,e=cg,n=e.length,r,i="value"in zr?zr.value:zr.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===i[s-r];r++);return $c=i.slice(t,1<r?1-r:void 0)}function Vc(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function uc(){return!0}function w0(){return!1}function Wt(t){function e(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?uc:w0,this.isPropagationStopped=w0,this}return be(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=uc)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=uc)},persist:function(){},isPersistent:uc}),e}var xo={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ug=Wt(xo),bl=be({},xo,{view:0,detail:0}),DR=Wt(bl),Of,Mf,Uo,_d=be({},bl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:dg,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Uo&&(Uo&&t.type==="mousemove"?(Of=t.screenX-Uo.screenX,Mf=t.screenY-Uo.screenY):Mf=Of=0,Uo=t),Of)},movementY:function(t){return"movementY"in t?t.movementY:Mf}}),x0=Wt(_d),OR=be({},_d,{dataTransfer:0}),MR=Wt(OR),LR=be({},bl,{relatedTarget:0}),Lf=Wt(LR),jR=be({},xo,{animationName:0,elapsedTime:0,pseudoElement:0}),FR=Wt(jR),$R=be({},xo,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),VR=Wt($R),UR=be({},xo,{data:0}),C0=Wt(UR),BR={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},zR={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},WR={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function HR(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=WR[t])?!!e[t]:!1}function dg(){return HR}var GR=be({},bl,{key:function(t){if(t.key){var e=BR[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Vc(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?zR[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:dg,charCode:function(t){return t.type==="keypress"?Vc(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Vc(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),KR=Wt(GR),qR=be({},_d,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),E0=Wt(qR),YR=be({},bl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:dg}),QR=Wt(YR),XR=be({},xo,{propertyName:0,elapsedTime:0,pseudoElement:0}),JR=Wt(XR),ZR=be({},_d,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),eN=Wt(ZR),tN=[9,13,27,32],fg=gr&&"CompositionEvent"in window,ma=null;gr&&"documentMode"in document&&(ma=document.documentMode);var nN=gr&&"TextEvent"in window&&!ma,jE=gr&&(!fg||ma&&8<ma&&11>=ma),S0=String.fromCharCode(32),b0=!1;function FE(t,e){switch(t){case"keyup":return tN.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function $E(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var xs=!1;function rN(t,e){switch(t){case"compositionend":return $E(e);case"keypress":return e.which!==32?null:(b0=!0,S0);case"textInput":return t=e.data,t===S0&&b0?null:t;default:return null}}function iN(t,e){if(xs)return t==="compositionend"||!fg&&FE(t,e)?(t=LE(),$c=cg=zr=null,xs=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return jE&&e.locale!=="ko"?null:e.data;default:return null}}var sN={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function T0(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!sN[t.type]:e==="textarea"}function VE(t,e,n,r){yE(r),e=vu(e,"onChange"),0<e.length&&(n=new ug("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var ga=null,Ua=null;function oN(t){XE(t,0)}function wd(t){var e=Ss(t);if(uE(e))return t}function aN(t,e){if(t==="change")return e}var UE=!1;if(gr){var jf;if(gr){var Ff="oninput"in document;if(!Ff){var k0=document.createElement("div");k0.setAttribute("oninput","return;"),Ff=typeof k0.oninput=="function"}jf=Ff}else jf=!1;UE=jf&&(!document.documentMode||9<document.documentMode)}function I0(){ga&&(ga.detachEvent("onpropertychange",BE),Ua=ga=null)}function BE(t){if(t.propertyName==="value"&&wd(Ua)){var e=[];VE(e,Ua,t,ig(t)),xE(oN,e)}}function lN(t,e,n){t==="focusin"?(I0(),ga=e,Ua=n,ga.attachEvent("onpropertychange",BE)):t==="focusout"&&I0()}function cN(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return wd(Ua)}function uN(t,e){if(t==="click")return wd(e)}function dN(t,e){if(t==="input"||t==="change")return wd(e)}function fN(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Tn=typeof Object.is=="function"?Object.is:fN;function Ba(t,e){if(Tn(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!Bh.call(e,i)||!Tn(t[i],e[i]))return!1}return!0}function P0(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function R0(t,e){var n=P0(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=P0(n)}}function zE(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?zE(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function WE(){for(var t=window,e=du();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=du(t.document)}return e}function hg(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function hN(t){var e=WE(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&zE(n.ownerDocument.documentElement,n)){if(r!==null&&hg(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!t.extend&&s>r&&(i=r,r=s,s=i),i=R0(n,s);var o=R0(n,r);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var pN=gr&&"documentMode"in document&&11>=document.documentMode,Cs=null,ap=null,ya=null,lp=!1;function N0(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;lp||Cs==null||Cs!==du(r)||(r=Cs,"selectionStart"in r&&hg(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),ya&&Ba(ya,r)||(ya=r,r=vu(ap,"onSelect"),0<r.length&&(e=new ug("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Cs)))}function dc(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Es={animationend:dc("Animation","AnimationEnd"),animationiteration:dc("Animation","AnimationIteration"),animationstart:dc("Animation","AnimationStart"),transitionend:dc("Transition","TransitionEnd")},$f={},HE={};gr&&(HE=document.createElement("div").style,"AnimationEvent"in window||(delete Es.animationend.animation,delete Es.animationiteration.animation,delete Es.animationstart.animation),"TransitionEvent"in window||delete Es.transitionend.transition);function xd(t){if($f[t])return $f[t];if(!Es[t])return t;var e=Es[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in HE)return $f[t]=e[n];return t}var GE=xd("animationend"),KE=xd("animationiteration"),qE=xd("animationstart"),YE=xd("transitionend"),QE=new Map,A0="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function di(t,e){QE.set(t,e),ns(e,[t])}for(var Vf=0;Vf<A0.length;Vf++){var Uf=A0[Vf],mN=Uf.toLowerCase(),gN=Uf[0].toUpperCase()+Uf.slice(1);di(mN,"on"+gN)}di(GE,"onAnimationEnd");di(KE,"onAnimationIteration");di(qE,"onAnimationStart");di("dblclick","onDoubleClick");di("focusin","onFocus");di("focusout","onBlur");di(YE,"onTransitionEnd");Xs("onMouseEnter",["mouseout","mouseover"]);Xs("onMouseLeave",["mouseout","mouseover"]);Xs("onPointerEnter",["pointerout","pointerover"]);Xs("onPointerLeave",["pointerout","pointerover"]);ns("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));ns("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));ns("onBeforeInput",["compositionend","keypress","textInput","paste"]);ns("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));ns("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));ns("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ia="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),yN=new Set("cancel close invalid load scroll toggle".split(" ").concat(ia));function D0(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,mR(r,e,void 0,t),t.currentTarget=null}function XE(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==s&&i.isPropagationStopped())break e;D0(i,a,c),s=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,c=a.currentTarget,a=a.listener,l!==s&&i.isPropagationStopped())break e;D0(i,a,c),s=l}}}if(hu)throw t=rp,hu=!1,rp=null,t}function me(t,e){var n=e[hp];n===void 0&&(n=e[hp]=new Set);var r=t+"__bubble";n.has(r)||(JE(e,t,2,!1),n.add(r))}function Bf(t,e,n){var r=0;e&&(r|=4),JE(n,t,r,e)}var fc="_reactListening"+Math.random().toString(36).slice(2);function za(t){if(!t[fc]){t[fc]=!0,sE.forEach(function(n){n!=="selectionchange"&&(yN.has(n)||Bf(n,!1,t),Bf(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[fc]||(e[fc]=!0,Bf("selectionchange",!1,e))}}function JE(t,e,n,r){switch(ME(e)){case 1:var i=NR;break;case 4:i=AR;break;default:i=lg}n=i.bind(null,e,n,t),i=void 0,!np||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function zf(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;o=o.return}for(;a!==null;){if(o=Ii(a),o===null)return;if(l=o.tag,l===5||l===6){r=s=o;continue e}a=a.parentNode}}r=r.return}xE(function(){var c=s,u=ig(n),d=[];e:{var f=QE.get(t);if(f!==void 0){var p=ug,g=t;switch(t){case"keypress":if(Vc(n)===0)break e;case"keydown":case"keyup":p=KR;break;case"focusin":g="focus",p=Lf;break;case"focusout":g="blur",p=Lf;break;case"beforeblur":case"afterblur":p=Lf;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=x0;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=MR;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=QR;break;case GE:case KE:case qE:p=FR;break;case YE:p=JR;break;case"scroll":p=DR;break;case"wheel":p=eN;break;case"copy":case"cut":case"paste":p=VR;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=E0}var _=(e&4)!==0,E=!_&&t==="scroll",m=_?f!==null?f+"Capture":null:f;_=[];for(var v=c,y;v!==null;){y=v;var C=y.stateNode;if(y.tag===5&&C!==null&&(y=C,m!==null&&(C=ja(v,m),C!=null&&_.push(Wa(v,C,y)))),E)break;v=v.return}0<_.length&&(f=new p(f,g,null,n,u),d.push({event:f,listeners:_}))}}if(!(e&7)){e:{if(f=t==="mouseover"||t==="pointerover",p=t==="mouseout"||t==="pointerout",f&&n!==ep&&(g=n.relatedTarget||n.fromElement)&&(Ii(g)||g[yr]))break e;if((p||f)&&(f=u.window===u?u:(f=u.ownerDocument)?f.defaultView||f.parentWindow:window,p?(g=n.relatedTarget||n.toElement,p=c,g=g?Ii(g):null,g!==null&&(E=rs(g),g!==E||g.tag!==5&&g.tag!==6)&&(g=null)):(p=null,g=c),p!==g)){if(_=x0,C="onMouseLeave",m="onMouseEnter",v="mouse",(t==="pointerout"||t==="pointerover")&&(_=E0,C="onPointerLeave",m="onPointerEnter",v="pointer"),E=p==null?f:Ss(p),y=g==null?f:Ss(g),f=new _(C,v+"leave",p,n,u),f.target=E,f.relatedTarget=y,C=null,Ii(u)===c&&(_=new _(m,v+"enter",g,n,u),_.target=y,_.relatedTarget=E,C=_),E=C,p&&g)t:{for(_=p,m=g,v=0,y=_;y;y=us(y))v++;for(y=0,C=m;C;C=us(C))y++;for(;0<v-y;)_=us(_),v--;for(;0<y-v;)m=us(m),y--;for(;v--;){if(_===m||m!==null&&_===m.alternate)break t;_=us(_),m=us(m)}_=null}else _=null;p!==null&&O0(d,f,p,_,!1),g!==null&&E!==null&&O0(d,E,g,_,!0)}}e:{if(f=c?Ss(c):window,p=f.nodeName&&f.nodeName.toLowerCase(),p==="select"||p==="input"&&f.type==="file")var S=aN;else if(T0(f))if(UE)S=dN;else{S=cN;var b=lN}else(p=f.nodeName)&&p.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(S=uN);if(S&&(S=S(t,c))){VE(d,S,n,u);break e}b&&b(t,f,c),t==="focusout"&&(b=f._wrapperState)&&b.controlled&&f.type==="number"&&Yh(f,"number",f.value)}switch(b=c?Ss(c):window,t){case"focusin":(T0(b)||b.contentEditable==="true")&&(Cs=b,ap=c,ya=null);break;case"focusout":ya=ap=Cs=null;break;case"mousedown":lp=!0;break;case"contextmenu":case"mouseup":case"dragend":lp=!1,N0(d,n,u);break;case"selectionchange":if(pN)break;case"keydown":case"keyup":N0(d,n,u)}var T;if(fg)e:{switch(t){case"compositionstart":var k="onCompositionStart";break e;case"compositionend":k="onCompositionEnd";break e;case"compositionupdate":k="onCompositionUpdate";break e}k=void 0}else xs?FE(t,n)&&(k="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(k="onCompositionStart");k&&(jE&&n.locale!=="ko"&&(xs||k!=="onCompositionStart"?k==="onCompositionEnd"&&xs&&(T=LE()):(zr=u,cg="value"in zr?zr.value:zr.textContent,xs=!0)),b=vu(c,k),0<b.length&&(k=new C0(k,t,null,n,u),d.push({event:k,listeners:b}),T?k.data=T:(T=$E(n),T!==null&&(k.data=T)))),(T=nN?rN(t,n):iN(t,n))&&(c=vu(c,"onBeforeInput"),0<c.length&&(u=new C0("onBeforeInput","beforeinput",null,n,u),d.push({event:u,listeners:c}),u.data=T))}XE(d,e)})}function Wa(t,e,n){return{instance:t,listener:e,currentTarget:n}}function vu(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=ja(t,n),s!=null&&r.unshift(Wa(t,s,i)),s=ja(t,e),s!=null&&r.push(Wa(t,s,i))),t=t.return}return r}function us(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function O0(t,e,n,r,i){for(var s=e._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,c=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&c!==null&&(a=c,i?(l=ja(n,s),l!=null&&o.unshift(Wa(n,l,a))):i||(l=ja(n,s),l!=null&&o.push(Wa(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var vN=/\r\n?/g,_N=/\u0000|\uFFFD/g;function M0(t){return(typeof t=="string"?t:""+t).replace(vN,`
`).replace(_N,"")}function hc(t,e,n){if(e=M0(e),M0(t)!==e&&n)throw Error(A(425))}function _u(){}var cp=null,up=null;function dp(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var fp=typeof setTimeout=="function"?setTimeout:void 0,wN=typeof clearTimeout=="function"?clearTimeout:void 0,L0=typeof Promise=="function"?Promise:void 0,xN=typeof queueMicrotask=="function"?queueMicrotask:typeof L0<"u"?function(t){return L0.resolve(null).then(t).catch(CN)}:fp;function CN(t){setTimeout(function(){throw t})}function Wf(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),Va(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Va(e)}function Yr(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function j0(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Co=Math.random().toString(36).slice(2),Ln="__reactFiber$"+Co,Ha="__reactProps$"+Co,yr="__reactContainer$"+Co,hp="__reactEvents$"+Co,EN="__reactListeners$"+Co,SN="__reactHandles$"+Co;function Ii(t){var e=t[Ln];if(e)return e;for(var n=t.parentNode;n;){if(e=n[yr]||n[Ln]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=j0(t);t!==null;){if(n=t[Ln])return n;t=j0(t)}return e}t=n,n=t.parentNode}return null}function Tl(t){return t=t[Ln]||t[yr],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Ss(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(A(33))}function Cd(t){return t[Ha]||null}var pp=[],bs=-1;function fi(t){return{current:t}}function ge(t){0>bs||(t.current=pp[bs],pp[bs]=null,bs--)}function pe(t,e){bs++,pp[bs]=t.current,t.current=e}var ii={},ht=fi(ii),Rt=fi(!1),Ui=ii;function Js(t,e){var n=t.type.contextTypes;if(!n)return ii;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function Nt(t){return t=t.childContextTypes,t!=null}function wu(){ge(Rt),ge(ht)}function F0(t,e,n){if(ht.current!==ii)throw Error(A(168));pe(ht,e),pe(Rt,n)}function ZE(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(A(108,lR(t)||"Unknown",i));return be({},n,r)}function xu(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||ii,Ui=ht.current,pe(ht,t),pe(Rt,Rt.current),!0}function $0(t,e,n){var r=t.stateNode;if(!r)throw Error(A(169));n?(t=ZE(t,e,Ui),r.__reactInternalMemoizedMergedChildContext=t,ge(Rt),ge(ht),pe(ht,t)):ge(Rt),pe(Rt,n)}var rr=null,Ed=!1,Hf=!1;function eS(t){rr===null?rr=[t]:rr.push(t)}function bN(t){Ed=!0,eS(t)}function hi(){if(!Hf&&rr!==null){Hf=!0;var t=0,e=ie;try{var n=rr;for(ie=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}rr=null,Ed=!1}catch(i){throw rr!==null&&(rr=rr.slice(t+1)),bE(sg,hi),i}finally{ie=e,Hf=!1}}return null}var Ts=[],ks=0,Cu=null,Eu=0,Xt=[],Jt=0,Bi=null,or=1,ar="";function _i(t,e){Ts[ks++]=Eu,Ts[ks++]=Cu,Cu=t,Eu=e}function tS(t,e,n){Xt[Jt++]=or,Xt[Jt++]=ar,Xt[Jt++]=Bi,Bi=t;var r=or;t=ar;var i=32-Cn(r)-1;r&=~(1<<i),n+=1;var s=32-Cn(e)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,or=1<<32-Cn(e)+i|n<<i|r,ar=s+t}else or=1<<s|n<<i|r,ar=t}function pg(t){t.return!==null&&(_i(t,1),tS(t,1,0))}function mg(t){for(;t===Cu;)Cu=Ts[--ks],Ts[ks]=null,Eu=Ts[--ks],Ts[ks]=null;for(;t===Bi;)Bi=Xt[--Jt],Xt[Jt]=null,ar=Xt[--Jt],Xt[Jt]=null,or=Xt[--Jt],Xt[Jt]=null}var Ft=null,jt=null,ve=!1,gn=null;function nS(t,e){var n=en(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function V0(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Ft=t,jt=Yr(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Ft=t,jt=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Bi!==null?{id:or,overflow:ar}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=en(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Ft=t,jt=null,!0):!1;default:return!1}}function mp(t){return(t.mode&1)!==0&&(t.flags&128)===0}function gp(t){if(ve){var e=jt;if(e){var n=e;if(!V0(t,e)){if(mp(t))throw Error(A(418));e=Yr(n.nextSibling);var r=Ft;e&&V0(t,e)?nS(r,n):(t.flags=t.flags&-4097|2,ve=!1,Ft=t)}}else{if(mp(t))throw Error(A(418));t.flags=t.flags&-4097|2,ve=!1,Ft=t}}}function U0(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Ft=t}function pc(t){if(t!==Ft)return!1;if(!ve)return U0(t),ve=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!dp(t.type,t.memoizedProps)),e&&(e=jt)){if(mp(t))throw rS(),Error(A(418));for(;e;)nS(t,e),e=Yr(e.nextSibling)}if(U0(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(A(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){jt=Yr(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}jt=null}}else jt=Ft?Yr(t.stateNode.nextSibling):null;return!0}function rS(){for(var t=jt;t;)t=Yr(t.nextSibling)}function Zs(){jt=Ft=null,ve=!1}function gg(t){gn===null?gn=[t]:gn.push(t)}var TN=kr.ReactCurrentBatchConfig;function Bo(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(A(309));var r=n.stateNode}if(!r)throw Error(A(147,t));var i=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var a=i.refs;o===null?delete a[s]:a[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error(A(284));if(!n._owner)throw Error(A(290,t))}return t}function mc(t,e){throw t=Object.prototype.toString.call(e),Error(A(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function B0(t){var e=t._init;return e(t._payload)}function iS(t){function e(m,v){if(t){var y=m.deletions;y===null?(m.deletions=[v],m.flags|=16):y.push(v)}}function n(m,v){if(!t)return null;for(;v!==null;)e(m,v),v=v.sibling;return null}function r(m,v){for(m=new Map;v!==null;)v.key!==null?m.set(v.key,v):m.set(v.index,v),v=v.sibling;return m}function i(m,v){return m=Zr(m,v),m.index=0,m.sibling=null,m}function s(m,v,y){return m.index=y,t?(y=m.alternate,y!==null?(y=y.index,y<v?(m.flags|=2,v):y):(m.flags|=2,v)):(m.flags|=1048576,v)}function o(m){return t&&m.alternate===null&&(m.flags|=2),m}function a(m,v,y,C){return v===null||v.tag!==6?(v=Jf(y,m.mode,C),v.return=m,v):(v=i(v,y),v.return=m,v)}function l(m,v,y,C){var S=y.type;return S===ws?u(m,v,y.props.children,C,y.key):v!==null&&(v.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===Lr&&B0(S)===v.type)?(C=i(v,y.props),C.ref=Bo(m,v,y),C.return=m,C):(C=Kc(y.type,y.key,y.props,null,m.mode,C),C.ref=Bo(m,v,y),C.return=m,C)}function c(m,v,y,C){return v===null||v.tag!==4||v.stateNode.containerInfo!==y.containerInfo||v.stateNode.implementation!==y.implementation?(v=Zf(y,m.mode,C),v.return=m,v):(v=i(v,y.children||[]),v.return=m,v)}function u(m,v,y,C,S){return v===null||v.tag!==7?(v=ji(y,m.mode,C,S),v.return=m,v):(v=i(v,y),v.return=m,v)}function d(m,v,y){if(typeof v=="string"&&v!==""||typeof v=="number")return v=Jf(""+v,m.mode,y),v.return=m,v;if(typeof v=="object"&&v!==null){switch(v.$$typeof){case ic:return y=Kc(v.type,v.key,v.props,null,m.mode,y),y.ref=Bo(m,null,v),y.return=m,y;case _s:return v=Zf(v,m.mode,y),v.return=m,v;case Lr:var C=v._init;return d(m,C(v._payload),y)}if(na(v)||jo(v))return v=ji(v,m.mode,y,null),v.return=m,v;mc(m,v)}return null}function f(m,v,y,C){var S=v!==null?v.key:null;if(typeof y=="string"&&y!==""||typeof y=="number")return S!==null?null:a(m,v,""+y,C);if(typeof y=="object"&&y!==null){switch(y.$$typeof){case ic:return y.key===S?l(m,v,y,C):null;case _s:return y.key===S?c(m,v,y,C):null;case Lr:return S=y._init,f(m,v,S(y._payload),C)}if(na(y)||jo(y))return S!==null?null:u(m,v,y,C,null);mc(m,y)}return null}function p(m,v,y,C,S){if(typeof C=="string"&&C!==""||typeof C=="number")return m=m.get(y)||null,a(v,m,""+C,S);if(typeof C=="object"&&C!==null){switch(C.$$typeof){case ic:return m=m.get(C.key===null?y:C.key)||null,l(v,m,C,S);case _s:return m=m.get(C.key===null?y:C.key)||null,c(v,m,C,S);case Lr:var b=C._init;return p(m,v,y,b(C._payload),S)}if(na(C)||jo(C))return m=m.get(y)||null,u(v,m,C,S,null);mc(v,C)}return null}function g(m,v,y,C){for(var S=null,b=null,T=v,k=v=0,N=null;T!==null&&k<y.length;k++){T.index>k?(N=T,T=null):N=T.sibling;var w=f(m,T,y[k],C);if(w===null){T===null&&(T=N);break}t&&T&&w.alternate===null&&e(m,T),v=s(w,v,k),b===null?S=w:b.sibling=w,b=w,T=N}if(k===y.length)return n(m,T),ve&&_i(m,k),S;if(T===null){for(;k<y.length;k++)T=d(m,y[k],C),T!==null&&(v=s(T,v,k),b===null?S=T:b.sibling=T,b=T);return ve&&_i(m,k),S}for(T=r(m,T);k<y.length;k++)N=p(T,m,k,y[k],C),N!==null&&(t&&N.alternate!==null&&T.delete(N.key===null?k:N.key),v=s(N,v,k),b===null?S=N:b.sibling=N,b=N);return t&&T.forEach(function(R){return e(m,R)}),ve&&_i(m,k),S}function _(m,v,y,C){var S=jo(y);if(typeof S!="function")throw Error(A(150));if(y=S.call(y),y==null)throw Error(A(151));for(var b=S=null,T=v,k=v=0,N=null,w=y.next();T!==null&&!w.done;k++,w=y.next()){T.index>k?(N=T,T=null):N=T.sibling;var R=f(m,T,w.value,C);if(R===null){T===null&&(T=N);break}t&&T&&R.alternate===null&&e(m,T),v=s(R,v,k),b===null?S=R:b.sibling=R,b=R,T=N}if(w.done)return n(m,T),ve&&_i(m,k),S;if(T===null){for(;!w.done;k++,w=y.next())w=d(m,w.value,C),w!==null&&(v=s(w,v,k),b===null?S=w:b.sibling=w,b=w);return ve&&_i(m,k),S}for(T=r(m,T);!w.done;k++,w=y.next())w=p(T,m,k,w.value,C),w!==null&&(t&&w.alternate!==null&&T.delete(w.key===null?k:w.key),v=s(w,v,k),b===null?S=w:b.sibling=w,b=w);return t&&T.forEach(function(M){return e(m,M)}),ve&&_i(m,k),S}function E(m,v,y,C){if(typeof y=="object"&&y!==null&&y.type===ws&&y.key===null&&(y=y.props.children),typeof y=="object"&&y!==null){switch(y.$$typeof){case ic:e:{for(var S=y.key,b=v;b!==null;){if(b.key===S){if(S=y.type,S===ws){if(b.tag===7){n(m,b.sibling),v=i(b,y.props.children),v.return=m,m=v;break e}}else if(b.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===Lr&&B0(S)===b.type){n(m,b.sibling),v=i(b,y.props),v.ref=Bo(m,b,y),v.return=m,m=v;break e}n(m,b);break}else e(m,b);b=b.sibling}y.type===ws?(v=ji(y.props.children,m.mode,C,y.key),v.return=m,m=v):(C=Kc(y.type,y.key,y.props,null,m.mode,C),C.ref=Bo(m,v,y),C.return=m,m=C)}return o(m);case _s:e:{for(b=y.key;v!==null;){if(v.key===b)if(v.tag===4&&v.stateNode.containerInfo===y.containerInfo&&v.stateNode.implementation===y.implementation){n(m,v.sibling),v=i(v,y.children||[]),v.return=m,m=v;break e}else{n(m,v);break}else e(m,v);v=v.sibling}v=Zf(y,m.mode,C),v.return=m,m=v}return o(m);case Lr:return b=y._init,E(m,v,b(y._payload),C)}if(na(y))return g(m,v,y,C);if(jo(y))return _(m,v,y,C);mc(m,y)}return typeof y=="string"&&y!==""||typeof y=="number"?(y=""+y,v!==null&&v.tag===6?(n(m,v.sibling),v=i(v,y),v.return=m,m=v):(n(m,v),v=Jf(y,m.mode,C),v.return=m,m=v),o(m)):n(m,v)}return E}var eo=iS(!0),sS=iS(!1),Su=fi(null),bu=null,Is=null,yg=null;function vg(){yg=Is=bu=null}function _g(t){var e=Su.current;ge(Su),t._currentValue=e}function yp(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Us(t,e){bu=t,yg=Is=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(kt=!0),t.firstContext=null)}function sn(t){var e=t._currentValue;if(yg!==t)if(t={context:t,memoizedValue:e,next:null},Is===null){if(bu===null)throw Error(A(308));Is=t,bu.dependencies={lanes:0,firstContext:t}}else Is=Is.next=t;return e}var Pi=null;function wg(t){Pi===null?Pi=[t]:Pi.push(t)}function oS(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,wg(e)):(n.next=i.next,i.next=n),e.interleaved=n,vr(t,r)}function vr(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var jr=!1;function xg(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function aS(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function dr(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Qr(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,ee&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,vr(t,n)}return i=r.interleaved,i===null?(e.next=e,wg(r)):(e.next=i.next,i.next=e),r.interleaved=e,vr(t,n)}function Uc(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,og(t,n)}}function z0(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Tu(t,e,n,r){var i=t.updateQueue;jr=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,c=l.next;l.next=null,o===null?s=c:o.next=c,o=l;var u=t.alternate;u!==null&&(u=u.updateQueue,a=u.lastBaseUpdate,a!==o&&(a===null?u.firstBaseUpdate=c:a.next=c,u.lastBaseUpdate=l))}if(s!==null){var d=i.baseState;o=0,u=c=l=null,a=s;do{var f=a.lane,p=a.eventTime;if((r&f)===f){u!==null&&(u=u.next={eventTime:p,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var g=t,_=a;switch(f=e,p=n,_.tag){case 1:if(g=_.payload,typeof g=="function"){d=g.call(p,d,f);break e}d=g;break e;case 3:g.flags=g.flags&-65537|128;case 0:if(g=_.payload,f=typeof g=="function"?g.call(p,d,f):g,f==null)break e;d=be({},d,f);break e;case 2:jr=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,f=i.effects,f===null?i.effects=[a]:f.push(a))}else p={eventTime:p,lane:f,tag:a.tag,payload:a.payload,callback:a.callback,next:null},u===null?(c=u=p,l=d):u=u.next=p,o|=f;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;f=a,a=f.next,f.next=null,i.lastBaseUpdate=f,i.shared.pending=null}}while(1);if(u===null&&(l=d),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=u,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);Wi|=o,t.lanes=o,t.memoizedState=d}}function W0(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(A(191,i));i.call(r)}}}var kl={},$n=fi(kl),Ga=fi(kl),Ka=fi(kl);function Ri(t){if(t===kl)throw Error(A(174));return t}function Cg(t,e){switch(pe(Ka,e),pe(Ga,t),pe($n,kl),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Xh(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Xh(e,t)}ge($n),pe($n,e)}function to(){ge($n),ge(Ga),ge(Ka)}function lS(t){Ri(Ka.current);var e=Ri($n.current),n=Xh(e,t.type);e!==n&&(pe(Ga,t),pe($n,n))}function Eg(t){Ga.current===t&&(ge($n),ge(Ga))}var xe=fi(0);function ku(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Gf=[];function Sg(){for(var t=0;t<Gf.length;t++)Gf[t]._workInProgressVersionPrimary=null;Gf.length=0}var Bc=kr.ReactCurrentDispatcher,Kf=kr.ReactCurrentBatchConfig,zi=0,Ee=null,Ue=null,Ke=null,Iu=!1,va=!1,qa=0,kN=0;function it(){throw Error(A(321))}function bg(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Tn(t[n],e[n]))return!1;return!0}function Tg(t,e,n,r,i,s){if(zi=s,Ee=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Bc.current=t===null||t.memoizedState===null?NN:AN,t=n(r,i),va){s=0;do{if(va=!1,qa=0,25<=s)throw Error(A(301));s+=1,Ke=Ue=null,e.updateQueue=null,Bc.current=DN,t=n(r,i)}while(va)}if(Bc.current=Pu,e=Ue!==null&&Ue.next!==null,zi=0,Ke=Ue=Ee=null,Iu=!1,e)throw Error(A(300));return t}function kg(){var t=qa!==0;return qa=0,t}function An(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ke===null?Ee.memoizedState=Ke=t:Ke=Ke.next=t,Ke}function on(){if(Ue===null){var t=Ee.alternate;t=t!==null?t.memoizedState:null}else t=Ue.next;var e=Ke===null?Ee.memoizedState:Ke.next;if(e!==null)Ke=e,Ue=t;else{if(t===null)throw Error(A(310));Ue=t,t={memoizedState:Ue.memoizedState,baseState:Ue.baseState,baseQueue:Ue.baseQueue,queue:Ue.queue,next:null},Ke===null?Ee.memoizedState=Ke=t:Ke=Ke.next=t}return Ke}function Ya(t,e){return typeof e=="function"?e(t):e}function qf(t){var e=on(),n=e.queue;if(n===null)throw Error(A(311));n.lastRenderedReducer=t;var r=Ue,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var a=o=null,l=null,c=s;do{var u=c.lane;if((zi&u)===u)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:t(r,c.action);else{var d={lane:u,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(a=l=d,o=r):l=l.next=d,Ee.lanes|=u,Wi|=u}c=c.next}while(c!==null&&c!==s);l===null?o=r:l.next=a,Tn(r,e.memoizedState)||(kt=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do s=i.lane,Ee.lanes|=s,Wi|=s,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Yf(t){var e=on(),n=e.queue;if(n===null)throw Error(A(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=t(s,o.action),o=o.next;while(o!==i);Tn(s,e.memoizedState)||(kt=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function cS(){}function uS(t,e){var n=Ee,r=on(),i=e(),s=!Tn(r.memoizedState,i);if(s&&(r.memoizedState=i,kt=!0),r=r.queue,Ig(hS.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||Ke!==null&&Ke.memoizedState.tag&1){if(n.flags|=2048,Qa(9,fS.bind(null,n,r,i,e),void 0,null),Ye===null)throw Error(A(349));zi&30||dS(n,e,i)}return i}function dS(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Ee.updateQueue,e===null?(e={lastEffect:null,stores:null},Ee.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function fS(t,e,n,r){e.value=n,e.getSnapshot=r,pS(e)&&mS(t)}function hS(t,e,n){return n(function(){pS(e)&&mS(t)})}function pS(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Tn(t,n)}catch{return!0}}function mS(t){var e=vr(t,1);e!==null&&En(e,t,1,-1)}function H0(t){var e=An();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ya,lastRenderedState:t},e.queue=t,t=t.dispatch=RN.bind(null,Ee,t),[e.memoizedState,t]}function Qa(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Ee.updateQueue,e===null?(e={lastEffect:null,stores:null},Ee.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function gS(){return on().memoizedState}function zc(t,e,n,r){var i=An();Ee.flags|=t,i.memoizedState=Qa(1|e,n,void 0,r===void 0?null:r)}function Sd(t,e,n,r){var i=on();r=r===void 0?null:r;var s=void 0;if(Ue!==null){var o=Ue.memoizedState;if(s=o.destroy,r!==null&&bg(r,o.deps)){i.memoizedState=Qa(e,n,s,r);return}}Ee.flags|=t,i.memoizedState=Qa(1|e,n,s,r)}function G0(t,e){return zc(8390656,8,t,e)}function Ig(t,e){return Sd(2048,8,t,e)}function yS(t,e){return Sd(4,2,t,e)}function vS(t,e){return Sd(4,4,t,e)}function _S(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function wS(t,e,n){return n=n!=null?n.concat([t]):null,Sd(4,4,_S.bind(null,e,t),n)}function Pg(){}function xS(t,e){var n=on();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&bg(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function CS(t,e){var n=on();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&bg(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function ES(t,e,n){return zi&21?(Tn(n,e)||(n=IE(),Ee.lanes|=n,Wi|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,kt=!0),t.memoizedState=n)}function IN(t,e){var n=ie;ie=n!==0&&4>n?n:4,t(!0);var r=Kf.transition;Kf.transition={};try{t(!1),e()}finally{ie=n,Kf.transition=r}}function SS(){return on().memoizedState}function PN(t,e,n){var r=Jr(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},bS(t))TS(e,n);else if(n=oS(t,e,n,r),n!==null){var i=_t();En(n,t,r,i),kS(n,e,r)}}function RN(t,e,n){var r=Jr(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(bS(t))TS(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,n);if(i.hasEagerState=!0,i.eagerState=a,Tn(a,o)){var l=e.interleaved;l===null?(i.next=i,wg(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=oS(t,e,i,r),n!==null&&(i=_t(),En(n,t,r,i),kS(n,e,r))}}function bS(t){var e=t.alternate;return t===Ee||e!==null&&e===Ee}function TS(t,e){va=Iu=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function kS(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,og(t,n)}}var Pu={readContext:sn,useCallback:it,useContext:it,useEffect:it,useImperativeHandle:it,useInsertionEffect:it,useLayoutEffect:it,useMemo:it,useReducer:it,useRef:it,useState:it,useDebugValue:it,useDeferredValue:it,useTransition:it,useMutableSource:it,useSyncExternalStore:it,useId:it,unstable_isNewReconciler:!1},NN={readContext:sn,useCallback:function(t,e){return An().memoizedState=[t,e===void 0?null:e],t},useContext:sn,useEffect:G0,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,zc(4194308,4,_S.bind(null,e,t),n)},useLayoutEffect:function(t,e){return zc(4194308,4,t,e)},useInsertionEffect:function(t,e){return zc(4,2,t,e)},useMemo:function(t,e){var n=An();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=An();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=PN.bind(null,Ee,t),[r.memoizedState,t]},useRef:function(t){var e=An();return t={current:t},e.memoizedState=t},useState:H0,useDebugValue:Pg,useDeferredValue:function(t){return An().memoizedState=t},useTransition:function(){var t=H0(!1),e=t[0];return t=IN.bind(null,t[1]),An().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=Ee,i=An();if(ve){if(n===void 0)throw Error(A(407));n=n()}else{if(n=e(),Ye===null)throw Error(A(349));zi&30||dS(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,G0(hS.bind(null,r,s,t),[t]),r.flags|=2048,Qa(9,fS.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=An(),e=Ye.identifierPrefix;if(ve){var n=ar,r=or;n=(r&~(1<<32-Cn(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=qa++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=kN++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},AN={readContext:sn,useCallback:xS,useContext:sn,useEffect:Ig,useImperativeHandle:wS,useInsertionEffect:yS,useLayoutEffect:vS,useMemo:CS,useReducer:qf,useRef:gS,useState:function(){return qf(Ya)},useDebugValue:Pg,useDeferredValue:function(t){var e=on();return ES(e,Ue.memoizedState,t)},useTransition:function(){var t=qf(Ya)[0],e=on().memoizedState;return[t,e]},useMutableSource:cS,useSyncExternalStore:uS,useId:SS,unstable_isNewReconciler:!1},DN={readContext:sn,useCallback:xS,useContext:sn,useEffect:Ig,useImperativeHandle:wS,useInsertionEffect:yS,useLayoutEffect:vS,useMemo:CS,useReducer:Yf,useRef:gS,useState:function(){return Yf(Ya)},useDebugValue:Pg,useDeferredValue:function(t){var e=on();return Ue===null?e.memoizedState=t:ES(e,Ue.memoizedState,t)},useTransition:function(){var t=Yf(Ya)[0],e=on().memoizedState;return[t,e]},useMutableSource:cS,useSyncExternalStore:uS,useId:SS,unstable_isNewReconciler:!1};function pn(t,e){if(t&&t.defaultProps){e=be({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function vp(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:be({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var bd={isMounted:function(t){return(t=t._reactInternals)?rs(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=_t(),i=Jr(t),s=dr(r,i);s.payload=e,n!=null&&(s.callback=n),e=Qr(t,s,i),e!==null&&(En(e,t,i,r),Uc(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=_t(),i=Jr(t),s=dr(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=Qr(t,s,i),e!==null&&(En(e,t,i,r),Uc(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=_t(),r=Jr(t),i=dr(n,r);i.tag=2,e!=null&&(i.callback=e),e=Qr(t,i,r),e!==null&&(En(e,t,r,n),Uc(e,t,r))}};function K0(t,e,n,r,i,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!Ba(n,r)||!Ba(i,s):!0}function IS(t,e,n){var r=!1,i=ii,s=e.contextType;return typeof s=="object"&&s!==null?s=sn(s):(i=Nt(e)?Ui:ht.current,r=e.contextTypes,s=(r=r!=null)?Js(t,i):ii),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=bd,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function q0(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&bd.enqueueReplaceState(e,e.state,null)}function _p(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},xg(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=sn(s):(s=Nt(e)?Ui:ht.current,i.context=Js(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(vp(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&bd.enqueueReplaceState(i,i.state,null),Tu(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function no(t,e){try{var n="",r=e;do n+=aR(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function Qf(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function wp(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var ON=typeof WeakMap=="function"?WeakMap:Map;function PS(t,e,n){n=dr(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Nu||(Nu=!0,Rp=r),wp(t,e)},n}function RS(t,e,n){n=dr(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){wp(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){wp(t,e),typeof r!="function"&&(Xr===null?Xr=new Set([this]):Xr.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function Y0(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new ON;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=qN.bind(null,t,e,n),e.then(t,t))}function Q0(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function X0(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=dr(-1,1),e.tag=2,Qr(n,e,1))),n.lanes|=1),t)}var MN=kr.ReactCurrentOwner,kt=!1;function mt(t,e,n,r){e.child=t===null?sS(e,null,n,r):eo(e,t.child,n,r)}function J0(t,e,n,r,i){n=n.render;var s=e.ref;return Us(e,i),r=Tg(t,e,n,r,s,i),n=kg(),t!==null&&!kt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,_r(t,e,i)):(ve&&n&&pg(e),e.flags|=1,mt(t,e,r,i),e.child)}function Z0(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!jg(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,NS(t,e,s,r,i)):(t=Kc(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:Ba,n(o,r)&&t.ref===e.ref)return _r(t,e,i)}return e.flags|=1,t=Zr(s,r),t.ref=e.ref,t.return=e,e.child=t}function NS(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if(Ba(s,r)&&t.ref===e.ref)if(kt=!1,e.pendingProps=r=s,(t.lanes&i)!==0)t.flags&131072&&(kt=!0);else return e.lanes=t.lanes,_r(t,e,i)}return xp(t,e,n,r,i)}function AS(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},pe(Rs,Mt),Mt|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,pe(Rs,Mt),Mt|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,pe(Rs,Mt),Mt|=r}else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,pe(Rs,Mt),Mt|=r;return mt(t,e,i,n),e.child}function DS(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function xp(t,e,n,r,i){var s=Nt(n)?Ui:ht.current;return s=Js(e,s),Us(e,i),n=Tg(t,e,n,r,s,i),r=kg(),t!==null&&!kt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,_r(t,e,i)):(ve&&r&&pg(e),e.flags|=1,mt(t,e,n,i),e.child)}function e_(t,e,n,r,i){if(Nt(n)){var s=!0;xu(e)}else s=!1;if(Us(e,i),e.stateNode===null)Wc(t,e),IS(e,n,r),_p(e,n,r,i),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,c=n.contextType;typeof c=="object"&&c!==null?c=sn(c):(c=Nt(n)?Ui:ht.current,c=Js(e,c));var u=n.getDerivedStateFromProps,d=typeof u=="function"||typeof o.getSnapshotBeforeUpdate=="function";d||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==c)&&q0(e,o,r,c),jr=!1;var f=e.memoizedState;o.state=f,Tu(e,r,o,i),l=e.memoizedState,a!==r||f!==l||Rt.current||jr?(typeof u=="function"&&(vp(e,n,u,r),l=e.memoizedState),(a=jr||K0(e,n,a,r,f,l,c))?(d||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=c,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,aS(t,e),a=e.memoizedProps,c=e.type===e.elementType?a:pn(e.type,a),o.props=c,d=e.pendingProps,f=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=sn(l):(l=Nt(n)?Ui:ht.current,l=Js(e,l));var p=n.getDerivedStateFromProps;(u=typeof p=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==d||f!==l)&&q0(e,o,r,l),jr=!1,f=e.memoizedState,o.state=f,Tu(e,r,o,i);var g=e.memoizedState;a!==d||f!==g||Rt.current||jr?(typeof p=="function"&&(vp(e,n,p,r),g=e.memoizedState),(c=jr||K0(e,n,c,r,f,g,l)||!1)?(u||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,g,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,g,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=g),o.props=r,o.state=g,o.context=l,r=c):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),r=!1)}return Cp(t,e,n,r,s,i)}function Cp(t,e,n,r,i,s){DS(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&$0(e,n,!1),_r(t,e,s);r=e.stateNode,MN.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=eo(e,t.child,null,s),e.child=eo(e,null,a,s)):mt(t,e,a,s),e.memoizedState=r.state,i&&$0(e,n,!0),e.child}function OS(t){var e=t.stateNode;e.pendingContext?F0(t,e.pendingContext,e.pendingContext!==e.context):e.context&&F0(t,e.context,!1),Cg(t,e.containerInfo)}function t_(t,e,n,r,i){return Zs(),gg(i),e.flags|=256,mt(t,e,n,r),e.child}var Ep={dehydrated:null,treeContext:null,retryLane:0};function Sp(t){return{baseLanes:t,cachePool:null,transitions:null}}function MS(t,e,n){var r=e.pendingProps,i=xe.current,s=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),pe(xe,i&1),t===null)return gp(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,s?(r=e.mode,s=e.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=Id(o,r,0,null),t=ji(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=Sp(n),e.memoizedState=Ep,t):Rg(e,o));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return LN(t,e,o,r,a,i,n);if(s){s=r.fallback,o=e.mode,i=t.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=Zr(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=Zr(a,s):(s=ji(s,o,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,o=t.child.memoizedState,o=o===null?Sp(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~n,e.memoizedState=Ep,r}return s=t.child,t=s.sibling,r=Zr(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function Rg(t,e){return e=Id({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function gc(t,e,n,r){return r!==null&&gg(r),eo(e,t.child,null,n),t=Rg(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function LN(t,e,n,r,i,s,o){if(n)return e.flags&256?(e.flags&=-257,r=Qf(Error(A(422))),gc(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=Id({mode:"visible",children:r.children},i,0,null),s=ji(s,i,o,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&eo(e,t.child,null,o),e.child.memoizedState=Sp(o),e.memoizedState=Ep,s);if(!(e.mode&1))return gc(t,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,s=Error(A(419)),r=Qf(s,r,void 0),gc(t,e,o,r)}if(a=(o&t.childLanes)!==0,kt||a){if(r=Ye,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,vr(t,i),En(r,t,i,-1))}return Lg(),r=Qf(Error(A(421))),gc(t,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=YN.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,jt=Yr(i.nextSibling),Ft=e,ve=!0,gn=null,t!==null&&(Xt[Jt++]=or,Xt[Jt++]=ar,Xt[Jt++]=Bi,or=t.id,ar=t.overflow,Bi=e),e=Rg(e,r.children),e.flags|=4096,e)}function n_(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),yp(t.return,e,n)}function Xf(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function LS(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(mt(t,e,r.children,n),r=xe.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&n_(t,n,e);else if(t.tag===19)n_(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(pe(xe,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&ku(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),Xf(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&ku(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}Xf(e,!0,n,null,s);break;case"together":Xf(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Wc(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function _r(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Wi|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(A(153));if(e.child!==null){for(t=e.child,n=Zr(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Zr(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function jN(t,e,n){switch(e.tag){case 3:OS(e),Zs();break;case 5:lS(e);break;case 1:Nt(e.type)&&xu(e);break;case 4:Cg(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;pe(Su,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(pe(xe,xe.current&1),e.flags|=128,null):n&e.child.childLanes?MS(t,e,n):(pe(xe,xe.current&1),t=_r(t,e,n),t!==null?t.sibling:null);pe(xe,xe.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return LS(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),pe(xe,xe.current),r)break;return null;case 22:case 23:return e.lanes=0,AS(t,e,n)}return _r(t,e,n)}var jS,bp,FS,$S;jS=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};bp=function(){};FS=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,Ri($n.current);var s=null;switch(n){case"input":i=Kh(t,i),r=Kh(t,r),s=[];break;case"select":i=be({},i,{value:void 0}),r=be({},r,{value:void 0}),s=[];break;case"textarea":i=Qh(t,i),r=Qh(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=_u)}Jh(n,r);var o;n=null;for(c in i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&i[c]!=null)if(c==="style"){var a=i[c];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(Ma.hasOwnProperty(c)?s||(s=[]):(s=s||[]).push(c,null));for(c in r){var l=r[c];if(a=i!=null?i[c]:void 0,r.hasOwnProperty(c)&&l!==a&&(l!=null||a!=null))if(c==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(s||(s=[]),s.push(c,n)),n=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(Ma.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&me("scroll",t),s||a===l||(s=[])):(s=s||[]).push(c,l))}n&&(s=s||[]).push("style",n);var c=s;(e.updateQueue=c)&&(e.flags|=4)}};$S=function(t,e,n,r){n!==r&&(e.flags|=4)};function zo(t,e){if(!ve)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function st(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function FN(t,e,n){var r=e.pendingProps;switch(mg(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return st(e),null;case 1:return Nt(e.type)&&wu(),st(e),null;case 3:return r=e.stateNode,to(),ge(Rt),ge(ht),Sg(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(pc(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,gn!==null&&(Dp(gn),gn=null))),bp(t,e),st(e),null;case 5:Eg(e);var i=Ri(Ka.current);if(n=e.type,t!==null&&e.stateNode!=null)FS(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(A(166));return st(e),null}if(t=Ri($n.current),pc(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[Ln]=e,r[Ha]=s,t=(e.mode&1)!==0,n){case"dialog":me("cancel",r),me("close",r);break;case"iframe":case"object":case"embed":me("load",r);break;case"video":case"audio":for(i=0;i<ia.length;i++)me(ia[i],r);break;case"source":me("error",r);break;case"img":case"image":case"link":me("error",r),me("load",r);break;case"details":me("toggle",r);break;case"input":d0(r,s),me("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},me("invalid",r);break;case"textarea":h0(r,s),me("invalid",r)}Jh(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?r.textContent!==a&&(s.suppressHydrationWarning!==!0&&hc(r.textContent,a,t),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&hc(r.textContent,a,t),i=["children",""+a]):Ma.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&me("scroll",r)}switch(n){case"input":sc(r),f0(r,s,!0);break;case"textarea":sc(r),p0(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=_u)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=hE(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[Ln]=e,t[Ha]=r,jS(t,e,!1,!1),e.stateNode=t;e:{switch(o=Zh(n,r),n){case"dialog":me("cancel",t),me("close",t),i=r;break;case"iframe":case"object":case"embed":me("load",t),i=r;break;case"video":case"audio":for(i=0;i<ia.length;i++)me(ia[i],t);i=r;break;case"source":me("error",t),i=r;break;case"img":case"image":case"link":me("error",t),me("load",t),i=r;break;case"details":me("toggle",t),i=r;break;case"input":d0(t,r),i=Kh(t,r),me("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=be({},r,{value:void 0}),me("invalid",t);break;case"textarea":h0(t,r),i=Qh(t,r),me("invalid",t);break;default:i=r}Jh(n,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?gE(t,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&pE(t,l)):s==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&La(t,l):typeof l=="number"&&La(t,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(Ma.hasOwnProperty(s)?l!=null&&s==="onScroll"&&me("scroll",t):l!=null&&eg(t,s,l,o))}switch(n){case"input":sc(t),f0(t,r,!1);break;case"textarea":sc(t),p0(t);break;case"option":r.value!=null&&t.setAttribute("value",""+ri(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?js(t,!!r.multiple,s,!1):r.defaultValue!=null&&js(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=_u)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return st(e),null;case 6:if(t&&e.stateNode!=null)$S(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(A(166));if(n=Ri(Ka.current),Ri($n.current),pc(e)){if(r=e.stateNode,n=e.memoizedProps,r[Ln]=e,(s=r.nodeValue!==n)&&(t=Ft,t!==null))switch(t.tag){case 3:hc(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&hc(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Ln]=e,e.stateNode=r}return st(e),null;case 13:if(ge(xe),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(ve&&jt!==null&&e.mode&1&&!(e.flags&128))rS(),Zs(),e.flags|=98560,s=!1;else if(s=pc(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error(A(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(A(317));s[Ln]=e}else Zs(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;st(e),s=!1}else gn!==null&&(Dp(gn),gn=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||xe.current&1?We===0&&(We=3):Lg())),e.updateQueue!==null&&(e.flags|=4),st(e),null);case 4:return to(),bp(t,e),t===null&&za(e.stateNode.containerInfo),st(e),null;case 10:return _g(e.type._context),st(e),null;case 17:return Nt(e.type)&&wu(),st(e),null;case 19:if(ge(xe),s=e.memoizedState,s===null)return st(e),null;if(r=(e.flags&128)!==0,o=s.rendering,o===null)if(r)zo(s,!1);else{if(We!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=ku(t),o!==null){for(e.flags|=128,zo(s,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return pe(xe,xe.current&1|2),e.child}t=t.sibling}s.tail!==null&&Me()>ro&&(e.flags|=128,r=!0,zo(s,!1),e.lanes=4194304)}else{if(!r)if(t=ku(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),zo(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!ve)return st(e),null}else 2*Me()-s.renderingStartTime>ro&&n!==1073741824&&(e.flags|=128,r=!0,zo(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(n=s.last,n!==null?n.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=Me(),e.sibling=null,n=xe.current,pe(xe,r?n&1|2:n&1),e):(st(e),null);case 22:case 23:return Mg(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Mt&1073741824&&(st(e),e.subtreeFlags&6&&(e.flags|=8192)):st(e),null;case 24:return null;case 25:return null}throw Error(A(156,e.tag))}function $N(t,e){switch(mg(e),e.tag){case 1:return Nt(e.type)&&wu(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return to(),ge(Rt),ge(ht),Sg(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Eg(e),null;case 13:if(ge(xe),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(A(340));Zs()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return ge(xe),null;case 4:return to(),null;case 10:return _g(e.type._context),null;case 22:case 23:return Mg(),null;case 24:return null;default:return null}}var yc=!1,lt=!1,VN=typeof WeakSet=="function"?WeakSet:Set,j=null;function Ps(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Re(t,e,r)}else n.current=null}function Tp(t,e,n){try{n()}catch(r){Re(t,e,r)}}var r_=!1;function UN(t,e){if(cp=gu,t=WE(),hg(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,c=0,u=0,d=t,f=null;t:for(;;){for(var p;d!==n||i!==0&&d.nodeType!==3||(a=o+i),d!==s||r!==0&&d.nodeType!==3||(l=o+r),d.nodeType===3&&(o+=d.nodeValue.length),(p=d.firstChild)!==null;)f=d,d=p;for(;;){if(d===t)break t;if(f===n&&++c===i&&(a=o),f===s&&++u===r&&(l=o),(p=d.nextSibling)!==null)break;d=f,f=d.parentNode}d=p}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(up={focusedElem:t,selectionRange:n},gu=!1,j=e;j!==null;)if(e=j,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,j=t;else for(;j!==null;){e=j;try{var g=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(g!==null){var _=g.memoizedProps,E=g.memoizedState,m=e.stateNode,v=m.getSnapshotBeforeUpdate(e.elementType===e.type?_:pn(e.type,_),E);m.__reactInternalSnapshotBeforeUpdate=v}break;case 3:var y=e.stateNode.containerInfo;y.nodeType===1?y.textContent="":y.nodeType===9&&y.documentElement&&y.removeChild(y.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(A(163))}}catch(C){Re(e,e.return,C)}if(t=e.sibling,t!==null){t.return=e.return,j=t;break}j=e.return}return g=r_,r_=!1,g}function _a(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&Tp(e,n,s)}i=i.next}while(i!==r)}}function Td(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function kp(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function VS(t){var e=t.alternate;e!==null&&(t.alternate=null,VS(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Ln],delete e[Ha],delete e[hp],delete e[EN],delete e[SN])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function US(t){return t.tag===5||t.tag===3||t.tag===4}function i_(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||US(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Ip(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=_u));else if(r!==4&&(t=t.child,t!==null))for(Ip(t,e,n),t=t.sibling;t!==null;)Ip(t,e,n),t=t.sibling}function Pp(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(Pp(t,e,n),t=t.sibling;t!==null;)Pp(t,e,n),t=t.sibling}var Qe=null,mn=!1;function Dr(t,e,n){for(n=n.child;n!==null;)BS(t,e,n),n=n.sibling}function BS(t,e,n){if(Fn&&typeof Fn.onCommitFiberUnmount=="function")try{Fn.onCommitFiberUnmount(vd,n)}catch{}switch(n.tag){case 5:lt||Ps(n,e);case 6:var r=Qe,i=mn;Qe=null,Dr(t,e,n),Qe=r,mn=i,Qe!==null&&(mn?(t=Qe,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Qe.removeChild(n.stateNode));break;case 18:Qe!==null&&(mn?(t=Qe,n=n.stateNode,t.nodeType===8?Wf(t.parentNode,n):t.nodeType===1&&Wf(t,n),Va(t)):Wf(Qe,n.stateNode));break;case 4:r=Qe,i=mn,Qe=n.stateNode.containerInfo,mn=!0,Dr(t,e,n),Qe=r,mn=i;break;case 0:case 11:case 14:case 15:if(!lt&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&Tp(n,e,o),i=i.next}while(i!==r)}Dr(t,e,n);break;case 1:if(!lt&&(Ps(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){Re(n,e,a)}Dr(t,e,n);break;case 21:Dr(t,e,n);break;case 22:n.mode&1?(lt=(r=lt)||n.memoizedState!==null,Dr(t,e,n),lt=r):Dr(t,e,n);break;default:Dr(t,e,n)}}function s_(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new VN),e.forEach(function(r){var i=QN.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function fn(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:Qe=a.stateNode,mn=!1;break e;case 3:Qe=a.stateNode.containerInfo,mn=!0;break e;case 4:Qe=a.stateNode.containerInfo,mn=!0;break e}a=a.return}if(Qe===null)throw Error(A(160));BS(s,o,i),Qe=null,mn=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(c){Re(i,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)zS(e,t),e=e.sibling}function zS(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(fn(e,t),Rn(t),r&4){try{_a(3,t,t.return),Td(3,t)}catch(_){Re(t,t.return,_)}try{_a(5,t,t.return)}catch(_){Re(t,t.return,_)}}break;case 1:fn(e,t),Rn(t),r&512&&n!==null&&Ps(n,n.return);break;case 5:if(fn(e,t),Rn(t),r&512&&n!==null&&Ps(n,n.return),t.flags&32){var i=t.stateNode;try{La(i,"")}catch(_){Re(t,t.return,_)}}if(r&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,o=n!==null?n.memoizedProps:s,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&dE(i,s),Zh(a,o);var c=Zh(a,s);for(o=0;o<l.length;o+=2){var u=l[o],d=l[o+1];u==="style"?gE(i,d):u==="dangerouslySetInnerHTML"?pE(i,d):u==="children"?La(i,d):eg(i,u,d,c)}switch(a){case"input":qh(i,s);break;case"textarea":fE(i,s);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var p=s.value;p!=null?js(i,!!s.multiple,p,!1):f!==!!s.multiple&&(s.defaultValue!=null?js(i,!!s.multiple,s.defaultValue,!0):js(i,!!s.multiple,s.multiple?[]:"",!1))}i[Ha]=s}catch(_){Re(t,t.return,_)}}break;case 6:if(fn(e,t),Rn(t),r&4){if(t.stateNode===null)throw Error(A(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(_){Re(t,t.return,_)}}break;case 3:if(fn(e,t),Rn(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Va(e.containerInfo)}catch(_){Re(t,t.return,_)}break;case 4:fn(e,t),Rn(t);break;case 13:fn(e,t),Rn(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(Dg=Me())),r&4&&s_(t);break;case 22:if(u=n!==null&&n.memoizedState!==null,t.mode&1?(lt=(c=lt)||u,fn(e,t),lt=c):fn(e,t),Rn(t),r&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!u&&t.mode&1)for(j=t,u=t.child;u!==null;){for(d=j=u;j!==null;){switch(f=j,p=f.child,f.tag){case 0:case 11:case 14:case 15:_a(4,f,f.return);break;case 1:Ps(f,f.return);var g=f.stateNode;if(typeof g.componentWillUnmount=="function"){r=f,n=f.return;try{e=r,g.props=e.memoizedProps,g.state=e.memoizedState,g.componentWillUnmount()}catch(_){Re(r,n,_)}}break;case 5:Ps(f,f.return);break;case 22:if(f.memoizedState!==null){a_(d);continue}}p!==null?(p.return=f,j=p):a_(d)}u=u.sibling}e:for(u=null,d=t;;){if(d.tag===5){if(u===null){u=d;try{i=d.stateNode,c?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=d.stateNode,l=d.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=mE("display",o))}catch(_){Re(t,t.return,_)}}}else if(d.tag===6){if(u===null)try{d.stateNode.nodeValue=c?"":d.memoizedProps}catch(_){Re(t,t.return,_)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===t)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===t)break e;for(;d.sibling===null;){if(d.return===null||d.return===t)break e;u===d&&(u=null),d=d.return}u===d&&(u=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:fn(e,t),Rn(t),r&4&&s_(t);break;case 21:break;default:fn(e,t),Rn(t)}}function Rn(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(US(n)){var r=n;break e}n=n.return}throw Error(A(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(La(i,""),r.flags&=-33);var s=i_(t);Pp(t,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,a=i_(t);Ip(t,a,o);break;default:throw Error(A(161))}}catch(l){Re(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function BN(t,e,n){j=t,WS(t)}function WS(t,e,n){for(var r=(t.mode&1)!==0;j!==null;){var i=j,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||yc;if(!o){var a=i.alternate,l=a!==null&&a.memoizedState!==null||lt;a=yc;var c=lt;if(yc=o,(lt=l)&&!c)for(j=i;j!==null;)o=j,l=o.child,o.tag===22&&o.memoizedState!==null?l_(i):l!==null?(l.return=o,j=l):l_(i);for(;s!==null;)j=s,WS(s),s=s.sibling;j=i,yc=a,lt=c}o_(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,j=s):o_(t)}}function o_(t){for(;j!==null;){var e=j;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:lt||Td(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!lt)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:pn(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&W0(e,s,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}W0(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var u=c.memoizedState;if(u!==null){var d=u.dehydrated;d!==null&&Va(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(A(163))}lt||e.flags&512&&kp(e)}catch(f){Re(e,e.return,f)}}if(e===t){j=null;break}if(n=e.sibling,n!==null){n.return=e.return,j=n;break}j=e.return}}function a_(t){for(;j!==null;){var e=j;if(e===t){j=null;break}var n=e.sibling;if(n!==null){n.return=e.return,j=n;break}j=e.return}}function l_(t){for(;j!==null;){var e=j;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Td(4,e)}catch(l){Re(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){Re(e,i,l)}}var s=e.return;try{kp(e)}catch(l){Re(e,s,l)}break;case 5:var o=e.return;try{kp(e)}catch(l){Re(e,o,l)}}}catch(l){Re(e,e.return,l)}if(e===t){j=null;break}var a=e.sibling;if(a!==null){a.return=e.return,j=a;break}j=e.return}}var zN=Math.ceil,Ru=kr.ReactCurrentDispatcher,Ng=kr.ReactCurrentOwner,nn=kr.ReactCurrentBatchConfig,ee=0,Ye=null,Ve=null,et=0,Mt=0,Rs=fi(0),We=0,Xa=null,Wi=0,kd=0,Ag=0,wa=null,Tt=null,Dg=0,ro=1/0,tr=null,Nu=!1,Rp=null,Xr=null,vc=!1,Wr=null,Au=0,xa=0,Np=null,Hc=-1,Gc=0;function _t(){return ee&6?Me():Hc!==-1?Hc:Hc=Me()}function Jr(t){return t.mode&1?ee&2&&et!==0?et&-et:TN.transition!==null?(Gc===0&&(Gc=IE()),Gc):(t=ie,t!==0||(t=window.event,t=t===void 0?16:ME(t.type)),t):1}function En(t,e,n,r){if(50<xa)throw xa=0,Np=null,Error(A(185));Sl(t,n,r),(!(ee&2)||t!==Ye)&&(t===Ye&&(!(ee&2)&&(kd|=n),We===4&&$r(t,et)),At(t,r),n===1&&ee===0&&!(e.mode&1)&&(ro=Me()+500,Ed&&hi()))}function At(t,e){var n=t.callbackNode;TR(t,e);var r=mu(t,t===Ye?et:0);if(r===0)n!==null&&y0(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&y0(n),e===1)t.tag===0?bN(c_.bind(null,t)):eS(c_.bind(null,t)),xN(function(){!(ee&6)&&hi()}),n=null;else{switch(PE(r)){case 1:n=sg;break;case 4:n=TE;break;case 16:n=pu;break;case 536870912:n=kE;break;default:n=pu}n=JS(n,HS.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function HS(t,e){if(Hc=-1,Gc=0,ee&6)throw Error(A(327));var n=t.callbackNode;if(Bs()&&t.callbackNode!==n)return null;var r=mu(t,t===Ye?et:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Du(t,r);else{e=r;var i=ee;ee|=2;var s=KS();(Ye!==t||et!==e)&&(tr=null,ro=Me()+500,Li(t,e));do try{GN();break}catch(a){GS(t,a)}while(1);vg(),Ru.current=s,ee=i,Ve!==null?e=0:(Ye=null,et=0,e=We)}if(e!==0){if(e===2&&(i=ip(t),i!==0&&(r=i,e=Ap(t,i))),e===1)throw n=Xa,Li(t,0),$r(t,r),At(t,Me()),n;if(e===6)$r(t,r);else{if(i=t.current.alternate,!(r&30)&&!WN(i)&&(e=Du(t,r),e===2&&(s=ip(t),s!==0&&(r=s,e=Ap(t,s))),e===1))throw n=Xa,Li(t,0),$r(t,r),At(t,Me()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(A(345));case 2:wi(t,Tt,tr);break;case 3:if($r(t,r),(r&130023424)===r&&(e=Dg+500-Me(),10<e)){if(mu(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){_t(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=fp(wi.bind(null,t,Tt,tr),e);break}wi(t,Tt,tr);break;case 4:if($r(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var o=31-Cn(r);s=1<<o,o=e[o],o>i&&(i=o),r&=~s}if(r=i,r=Me()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*zN(r/1960))-r,10<r){t.timeoutHandle=fp(wi.bind(null,t,Tt,tr),r);break}wi(t,Tt,tr);break;case 5:wi(t,Tt,tr);break;default:throw Error(A(329))}}}return At(t,Me()),t.callbackNode===n?HS.bind(null,t):null}function Ap(t,e){var n=wa;return t.current.memoizedState.isDehydrated&&(Li(t,e).flags|=256),t=Du(t,e),t!==2&&(e=Tt,Tt=n,e!==null&&Dp(e)),t}function Dp(t){Tt===null?Tt=t:Tt.push.apply(Tt,t)}function WN(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!Tn(s(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function $r(t,e){for(e&=~Ag,e&=~kd,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Cn(e),r=1<<n;t[n]=-1,e&=~r}}function c_(t){if(ee&6)throw Error(A(327));Bs();var e=mu(t,0);if(!(e&1))return At(t,Me()),null;var n=Du(t,e);if(t.tag!==0&&n===2){var r=ip(t);r!==0&&(e=r,n=Ap(t,r))}if(n===1)throw n=Xa,Li(t,0),$r(t,e),At(t,Me()),n;if(n===6)throw Error(A(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,wi(t,Tt,tr),At(t,Me()),null}function Og(t,e){var n=ee;ee|=1;try{return t(e)}finally{ee=n,ee===0&&(ro=Me()+500,Ed&&hi())}}function Hi(t){Wr!==null&&Wr.tag===0&&!(ee&6)&&Bs();var e=ee;ee|=1;var n=nn.transition,r=ie;try{if(nn.transition=null,ie=1,t)return t()}finally{ie=r,nn.transition=n,ee=e,!(ee&6)&&hi()}}function Mg(){Mt=Rs.current,ge(Rs)}function Li(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,wN(n)),Ve!==null)for(n=Ve.return;n!==null;){var r=n;switch(mg(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&wu();break;case 3:to(),ge(Rt),ge(ht),Sg();break;case 5:Eg(r);break;case 4:to();break;case 13:ge(xe);break;case 19:ge(xe);break;case 10:_g(r.type._context);break;case 22:case 23:Mg()}n=n.return}if(Ye=t,Ve=t=Zr(t.current,null),et=Mt=e,We=0,Xa=null,Ag=kd=Wi=0,Tt=wa=null,Pi!==null){for(e=0;e<Pi.length;e++)if(n=Pi[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}Pi=null}return t}function GS(t,e){do{var n=Ve;try{if(vg(),Bc.current=Pu,Iu){for(var r=Ee.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Iu=!1}if(zi=0,Ke=Ue=Ee=null,va=!1,qa=0,Ng.current=null,n===null||n.return===null){We=1,Xa=e,Ve=null;break}e:{var s=t,o=n.return,a=n,l=e;if(e=et,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,u=a,d=u.tag;if(!(u.mode&1)&&(d===0||d===11||d===15)){var f=u.alternate;f?(u.updateQueue=f.updateQueue,u.memoizedState=f.memoizedState,u.lanes=f.lanes):(u.updateQueue=null,u.memoizedState=null)}var p=Q0(o);if(p!==null){p.flags&=-257,X0(p,o,a,s,e),p.mode&1&&Y0(s,c,e),e=p,l=c;var g=e.updateQueue;if(g===null){var _=new Set;_.add(l),e.updateQueue=_}else g.add(l);break e}else{if(!(e&1)){Y0(s,c,e),Lg();break e}l=Error(A(426))}}else if(ve&&a.mode&1){var E=Q0(o);if(E!==null){!(E.flags&65536)&&(E.flags|=256),X0(E,o,a,s,e),gg(no(l,a));break e}}s=l=no(l,a),We!==4&&(We=2),wa===null?wa=[s]:wa.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var m=PS(s,l,e);z0(s,m);break e;case 1:a=l;var v=s.type,y=s.stateNode;if(!(s.flags&128)&&(typeof v.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(Xr===null||!Xr.has(y)))){s.flags|=65536,e&=-e,s.lanes|=e;var C=RS(s,a,e);z0(s,C);break e}}s=s.return}while(s!==null)}YS(n)}catch(S){e=S,Ve===n&&n!==null&&(Ve=n=n.return);continue}break}while(1)}function KS(){var t=Ru.current;return Ru.current=Pu,t===null?Pu:t}function Lg(){(We===0||We===3||We===2)&&(We=4),Ye===null||!(Wi&268435455)&&!(kd&268435455)||$r(Ye,et)}function Du(t,e){var n=ee;ee|=2;var r=KS();(Ye!==t||et!==e)&&(tr=null,Li(t,e));do try{HN();break}catch(i){GS(t,i)}while(1);if(vg(),ee=n,Ru.current=r,Ve!==null)throw Error(A(261));return Ye=null,et=0,We}function HN(){for(;Ve!==null;)qS(Ve)}function GN(){for(;Ve!==null&&!yR();)qS(Ve)}function qS(t){var e=XS(t.alternate,t,Mt);t.memoizedProps=t.pendingProps,e===null?YS(t):Ve=e,Ng.current=null}function YS(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=$N(n,e),n!==null){n.flags&=32767,Ve=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{We=6,Ve=null;return}}else if(n=FN(n,e,Mt),n!==null){Ve=n;return}if(e=e.sibling,e!==null){Ve=e;return}Ve=e=t}while(e!==null);We===0&&(We=5)}function wi(t,e,n){var r=ie,i=nn.transition;try{nn.transition=null,ie=1,KN(t,e,n,r)}finally{nn.transition=i,ie=r}return null}function KN(t,e,n,r){do Bs();while(Wr!==null);if(ee&6)throw Error(A(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(A(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(kR(t,s),t===Ye&&(Ve=Ye=null,et=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||vc||(vc=!0,JS(pu,function(){return Bs(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=nn.transition,nn.transition=null;var o=ie;ie=1;var a=ee;ee|=4,Ng.current=null,UN(t,n),zS(n,t),hN(up),gu=!!cp,up=cp=null,t.current=n,BN(n),vR(),ee=a,ie=o,nn.transition=s}else t.current=n;if(vc&&(vc=!1,Wr=t,Au=i),s=t.pendingLanes,s===0&&(Xr=null),xR(n.stateNode),At(t,Me()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Nu)throw Nu=!1,t=Rp,Rp=null,t;return Au&1&&t.tag!==0&&Bs(),s=t.pendingLanes,s&1?t===Np?xa++:(xa=0,Np=t):xa=0,hi(),null}function Bs(){if(Wr!==null){var t=PE(Au),e=nn.transition,n=ie;try{if(nn.transition=null,ie=16>t?16:t,Wr===null)var r=!1;else{if(t=Wr,Wr=null,Au=0,ee&6)throw Error(A(331));var i=ee;for(ee|=4,j=t.current;j!==null;){var s=j,o=s.child;if(j.flags&16){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var c=a[l];for(j=c;j!==null;){var u=j;switch(u.tag){case 0:case 11:case 15:_a(8,u,s)}var d=u.child;if(d!==null)d.return=u,j=d;else for(;j!==null;){u=j;var f=u.sibling,p=u.return;if(VS(u),u===c){j=null;break}if(f!==null){f.return=p,j=f;break}j=p}}}var g=s.alternate;if(g!==null){var _=g.child;if(_!==null){g.child=null;do{var E=_.sibling;_.sibling=null,_=E}while(_!==null)}}j=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,j=o;else e:for(;j!==null;){if(s=j,s.flags&2048)switch(s.tag){case 0:case 11:case 15:_a(9,s,s.return)}var m=s.sibling;if(m!==null){m.return=s.return,j=m;break e}j=s.return}}var v=t.current;for(j=v;j!==null;){o=j;var y=o.child;if(o.subtreeFlags&2064&&y!==null)y.return=o,j=y;else e:for(o=v;j!==null;){if(a=j,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Td(9,a)}}catch(S){Re(a,a.return,S)}if(a===o){j=null;break e}var C=a.sibling;if(C!==null){C.return=a.return,j=C;break e}j=a.return}}if(ee=i,hi(),Fn&&typeof Fn.onPostCommitFiberRoot=="function")try{Fn.onPostCommitFiberRoot(vd,t)}catch{}r=!0}return r}finally{ie=n,nn.transition=e}}return!1}function u_(t,e,n){e=no(n,e),e=PS(t,e,1),t=Qr(t,e,1),e=_t(),t!==null&&(Sl(t,1,e),At(t,e))}function Re(t,e,n){if(t.tag===3)u_(t,t,n);else for(;e!==null;){if(e.tag===3){u_(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Xr===null||!Xr.has(r))){t=no(n,t),t=RS(e,t,1),e=Qr(e,t,1),t=_t(),e!==null&&(Sl(e,1,t),At(e,t));break}}e=e.return}}function qN(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=_t(),t.pingedLanes|=t.suspendedLanes&n,Ye===t&&(et&n)===n&&(We===4||We===3&&(et&130023424)===et&&500>Me()-Dg?Li(t,0):Ag|=n),At(t,e)}function QS(t,e){e===0&&(t.mode&1?(e=lc,lc<<=1,!(lc&130023424)&&(lc=4194304)):e=1);var n=_t();t=vr(t,e),t!==null&&(Sl(t,e,n),At(t,n))}function YN(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),QS(t,n)}function QN(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(A(314))}r!==null&&r.delete(e),QS(t,n)}var XS;XS=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Rt.current)kt=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return kt=!1,jN(t,e,n);kt=!!(t.flags&131072)}else kt=!1,ve&&e.flags&1048576&&tS(e,Eu,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Wc(t,e),t=e.pendingProps;var i=Js(e,ht.current);Us(e,n),i=Tg(null,e,r,t,i,n);var s=kg();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Nt(r)?(s=!0,xu(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,xg(e),i.updater=bd,e.stateNode=i,i._reactInternals=e,_p(e,r,t,n),e=Cp(null,e,r,!0,s,n)):(e.tag=0,ve&&s&&pg(e),mt(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Wc(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=JN(r),t=pn(r,t),i){case 0:e=xp(null,e,r,t,n);break e;case 1:e=e_(null,e,r,t,n);break e;case 11:e=J0(null,e,r,t,n);break e;case 14:e=Z0(null,e,r,pn(r.type,t),n);break e}throw Error(A(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:pn(r,i),xp(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:pn(r,i),e_(t,e,r,i,n);case 3:e:{if(OS(e),t===null)throw Error(A(387));r=e.pendingProps,s=e.memoizedState,i=s.element,aS(t,e),Tu(e,r,null,n);var o=e.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=no(Error(A(423)),e),e=t_(t,e,r,n,i);break e}else if(r!==i){i=no(Error(A(424)),e),e=t_(t,e,r,n,i);break e}else for(jt=Yr(e.stateNode.containerInfo.firstChild),Ft=e,ve=!0,gn=null,n=sS(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Zs(),r===i){e=_r(t,e,n);break e}mt(t,e,r,n)}e=e.child}return e;case 5:return lS(e),t===null&&gp(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,o=i.children,dp(r,i)?o=null:s!==null&&dp(r,s)&&(e.flags|=32),DS(t,e),mt(t,e,o,n),e.child;case 6:return t===null&&gp(e),null;case 13:return MS(t,e,n);case 4:return Cg(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=eo(e,null,r,n):mt(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:pn(r,i),J0(t,e,r,i,n);case 7:return mt(t,e,e.pendingProps,n),e.child;case 8:return mt(t,e,e.pendingProps.children,n),e.child;case 12:return mt(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,pe(Su,r._currentValue),r._currentValue=o,s!==null)if(Tn(s.value,o)){if(s.children===i.children&&!Rt.current){e=_r(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(s.tag===1){l=dr(-1,n&-n),l.tag=2;var c=s.updateQueue;if(c!==null){c=c.shared;var u=c.pending;u===null?l.next=l:(l.next=u.next,u.next=l),c.pending=l}}s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),yp(s.return,n,e),a.lanes|=n;break}l=l.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(A(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),yp(o,n,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}mt(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,Us(e,n),i=sn(i),r=r(i),e.flags|=1,mt(t,e,r,n),e.child;case 14:return r=e.type,i=pn(r,e.pendingProps),i=pn(r.type,i),Z0(t,e,r,i,n);case 15:return NS(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:pn(r,i),Wc(t,e),e.tag=1,Nt(r)?(t=!0,xu(e)):t=!1,Us(e,n),IS(e,r,i),_p(e,r,i,n),Cp(null,e,r,!0,t,n);case 19:return LS(t,e,n);case 22:return AS(t,e,n)}throw Error(A(156,e.tag))};function JS(t,e){return bE(t,e)}function XN(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function en(t,e,n,r){return new XN(t,e,n,r)}function jg(t){return t=t.prototype,!(!t||!t.isReactComponent)}function JN(t){if(typeof t=="function")return jg(t)?1:0;if(t!=null){if(t=t.$$typeof,t===ng)return 11;if(t===rg)return 14}return 2}function Zr(t,e){var n=t.alternate;return n===null?(n=en(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Kc(t,e,n,r,i,s){var o=2;if(r=t,typeof t=="function")jg(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case ws:return ji(n.children,i,s,e);case tg:o=8,i|=8;break;case zh:return t=en(12,n,e,i|2),t.elementType=zh,t.lanes=s,t;case Wh:return t=en(13,n,e,i),t.elementType=Wh,t.lanes=s,t;case Hh:return t=en(19,n,e,i),t.elementType=Hh,t.lanes=s,t;case lE:return Id(n,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case oE:o=10;break e;case aE:o=9;break e;case ng:o=11;break e;case rg:o=14;break e;case Lr:o=16,r=null;break e}throw Error(A(130,t==null?t:typeof t,""))}return e=en(o,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function ji(t,e,n,r){return t=en(7,t,r,e),t.lanes=n,t}function Id(t,e,n,r){return t=en(22,t,r,e),t.elementType=lE,t.lanes=n,t.stateNode={isHidden:!1},t}function Jf(t,e,n){return t=en(6,t,null,e),t.lanes=n,t}function Zf(t,e,n){return e=en(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function ZN(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Df(0),this.expirationTimes=Df(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Df(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Fg(t,e,n,r,i,s,o,a,l){return t=new ZN(t,e,n,a,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=en(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},xg(s),t}function eA(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:_s,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function ZS(t){if(!t)return ii;t=t._reactInternals;e:{if(rs(t)!==t||t.tag!==1)throw Error(A(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Nt(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(A(171))}if(t.tag===1){var n=t.type;if(Nt(n))return ZE(t,n,e)}return e}function eb(t,e,n,r,i,s,o,a,l){return t=Fg(n,r,!0,t,i,s,o,a,l),t.context=ZS(null),n=t.current,r=_t(),i=Jr(n),s=dr(r,i),s.callback=e??null,Qr(n,s,i),t.current.lanes=i,Sl(t,i,r),At(t,r),t}function Pd(t,e,n,r){var i=e.current,s=_t(),o=Jr(i);return n=ZS(n),e.context===null?e.context=n:e.pendingContext=n,e=dr(s,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Qr(i,e,o),t!==null&&(En(t,i,o,s),Uc(t,i,o)),o}function Ou(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function d_(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function $g(t,e){d_(t,e),(t=t.alternate)&&d_(t,e)}function tA(){return null}var tb=typeof reportError=="function"?reportError:function(t){console.error(t)};function Vg(t){this._internalRoot=t}Rd.prototype.render=Vg.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(A(409));Pd(t,e,null,null)};Rd.prototype.unmount=Vg.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Hi(function(){Pd(null,t,null,null)}),e[yr]=null}};function Rd(t){this._internalRoot=t}Rd.prototype.unstable_scheduleHydration=function(t){if(t){var e=AE();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Fr.length&&e!==0&&e<Fr[n].priority;n++);Fr.splice(n,0,t),n===0&&OE(t)}};function Ug(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Nd(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function f_(){}function nA(t,e,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var c=Ou(o);s.call(c)}}var o=eb(e,r,t,0,null,!1,!1,"",f_);return t._reactRootContainer=o,t[yr]=o.current,za(t.nodeType===8?t.parentNode:t),Hi(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var c=Ou(l);a.call(c)}}var l=Fg(t,0,!1,null,null,!1,!1,"",f_);return t._reactRootContainer=l,t[yr]=l.current,za(t.nodeType===8?t.parentNode:t),Hi(function(){Pd(e,l,n,r)}),l}function Ad(t,e,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var l=Ou(o);a.call(l)}}Pd(e,o,t,i)}else o=nA(n,e,t,i,r);return Ou(o)}RE=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=ra(e.pendingLanes);n!==0&&(og(e,n|1),At(e,Me()),!(ee&6)&&(ro=Me()+500,hi()))}break;case 13:Hi(function(){var r=vr(t,1);if(r!==null){var i=_t();En(r,t,1,i)}}),$g(t,1)}};ag=function(t){if(t.tag===13){var e=vr(t,134217728);if(e!==null){var n=_t();En(e,t,134217728,n)}$g(t,134217728)}};NE=function(t){if(t.tag===13){var e=Jr(t),n=vr(t,e);if(n!==null){var r=_t();En(n,t,e,r)}$g(t,e)}};AE=function(){return ie};DE=function(t,e){var n=ie;try{return ie=t,e()}finally{ie=n}};tp=function(t,e,n){switch(e){case"input":if(qh(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=Cd(r);if(!i)throw Error(A(90));uE(r),qh(r,i)}}}break;case"textarea":fE(t,n);break;case"select":e=n.value,e!=null&&js(t,!!n.multiple,e,!1)}};_E=Og;wE=Hi;var rA={usingClientEntryPoint:!1,Events:[Tl,Ss,Cd,yE,vE,Og]},Wo={findFiberByHostInstance:Ii,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},iA={bundleType:Wo.bundleType,version:Wo.version,rendererPackageName:Wo.rendererPackageName,rendererConfig:Wo.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:kr.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=EE(t),t===null?null:t.stateNode},findFiberByHostInstance:Wo.findFiberByHostInstance||tA,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var _c=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!_c.isDisabled&&_c.supportsFiber)try{vd=_c.inject(iA),Fn=_c}catch{}}zt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=rA;zt.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Ug(e))throw Error(A(200));return eA(t,e,null,n)};zt.createRoot=function(t,e){if(!Ug(t))throw Error(A(299));var n=!1,r="",i=tb;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=Fg(t,1,!1,null,null,n,!1,r,i),t[yr]=e.current,za(t.nodeType===8?t.parentNode:t),new Vg(e)};zt.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(A(188)):(t=Object.keys(t).join(","),Error(A(268,t)));return t=EE(e),t=t===null?null:t.stateNode,t};zt.flushSync=function(t){return Hi(t)};zt.hydrate=function(t,e,n){if(!Nd(e))throw Error(A(200));return Ad(null,t,e,!0,n)};zt.hydrateRoot=function(t,e,n){if(!Ug(t))throw Error(A(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=tb;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=eb(e,null,t,1,n??null,i,!1,s,o),t[yr]=e.current,za(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new Rd(e)};zt.render=function(t,e,n){if(!Nd(e))throw Error(A(200));return Ad(null,t,e,!1,n)};zt.unmountComponentAtNode=function(t){if(!Nd(t))throw Error(A(40));return t._reactRootContainer?(Hi(function(){Ad(null,null,t,!1,function(){t._reactRootContainer=null,t[yr]=null})}),!0):!1};zt.unstable_batchedUpdates=Og;zt.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Nd(n))throw Error(A(200));if(t==null||t._reactInternals===void 0)throw Error(A(38));return Ad(t,e,n,!1,r)};zt.version="18.3.1-next-f1338f8080-20240426";function nb(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(nb)}catch(t){console.error(t)}}nb(),nE.exports=zt;var Bg=nE.exports;const wc=Km(Bg);var h_=Bg;Uh.createRoot=h_.createRoot,Uh.hydrateRoot=h_.hydrateRoot;const sA="modulepreload",oA=function(t){return"/EmproChampions-2025/"+t},p_={},aA=function(e,n,r){if(!n||n.length===0)return e();const i=document.getElementsByTagName("link");return Promise.all(n.map(s=>{if(s=oA(s),s in p_)return;p_[s]=!0;const o=s.endsWith(".css"),a=o?'[rel="stylesheet"]':"";if(!!r)for(let u=i.length-1;u>=0;u--){const d=i[u];if(d.href===s&&(!o||d.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${s}"]${a}`))return;const c=document.createElement("link");if(c.rel=o?"stylesheet":sA,o||(c.as="script",c.crossOrigin=""),c.href=s,document.head.appendChild(c),o)return new Promise((u,d)=>{c.addEventListener("load",u),c.addEventListener("error",()=>d(new Error(`Unable to preload CSS for ${s}`)))})})).then(()=>e()).catch(s=>{const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=s,window.dispatchEvent(o),!o.defaultPrevented)throw s})};var zg={};Object.defineProperty(zg,"__esModule",{value:!0});zg.parse=pA;zg.serialize=mA;const lA=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,cA=/^[\u0021-\u003A\u003C-\u007E]*$/,uA=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,dA=/^[\u0020-\u003A\u003D-\u007E]*$/,fA=Object.prototype.toString,hA=(()=>{const t=function(){};return t.prototype=Object.create(null),t})();function pA(t,e){const n=new hA,r=t.length;if(r<2)return n;const i=(e==null?void 0:e.decode)||gA;let s=0;do{const o=t.indexOf("=",s);if(o===-1)break;const a=t.indexOf(";",s),l=a===-1?r:a;if(o>l){s=t.lastIndexOf(";",o-1)+1;continue}const c=m_(t,s,o),u=g_(t,o,c),d=t.slice(c,u);if(n[d]===void 0){let f=m_(t,o+1,l),p=g_(t,l,f);const g=i(t.slice(f,p));n[d]=g}s=l+1}while(s<r);return n}function m_(t,e,n){do{const r=t.charCodeAt(e);if(r!==32&&r!==9)return e}while(++e<n);return n}function g_(t,e,n){for(;e>n;){const r=t.charCodeAt(--e);if(r!==32&&r!==9)return e+1}return n}function mA(t,e,n){const r=(n==null?void 0:n.encode)||encodeURIComponent;if(!lA.test(t))throw new TypeError(`argument name is invalid: ${t}`);const i=r(e);if(!cA.test(i))throw new TypeError(`argument val is invalid: ${e}`);let s=t+"="+i;if(!n)return s;if(n.maxAge!==void 0){if(!Number.isInteger(n.maxAge))throw new TypeError(`option maxAge is invalid: ${n.maxAge}`);s+="; Max-Age="+n.maxAge}if(n.domain){if(!uA.test(n.domain))throw new TypeError(`option domain is invalid: ${n.domain}`);s+="; Domain="+n.domain}if(n.path){if(!dA.test(n.path))throw new TypeError(`option path is invalid: ${n.path}`);s+="; Path="+n.path}if(n.expires){if(!yA(n.expires)||!Number.isFinite(n.expires.valueOf()))throw new TypeError(`option expires is invalid: ${n.expires}`);s+="; Expires="+n.expires.toUTCString()}if(n.httpOnly&&(s+="; HttpOnly"),n.secure&&(s+="; Secure"),n.partitioned&&(s+="; Partitioned"),n.priority)switch(typeof n.priority=="string"?n.priority.toLowerCase():void 0){case"low":s+="; Priority=Low";break;case"medium":s+="; Priority=Medium";break;case"high":s+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${n.priority}`)}if(n.sameSite)switch(typeof n.sameSite=="string"?n.sameSite.toLowerCase():n.sameSite){case!0:case"strict":s+="; SameSite=Strict";break;case"lax":s+="; SameSite=Lax";break;case"none":s+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${n.sameSite}`)}return s}function gA(t){if(t.indexOf("%")===-1)return t;try{return decodeURIComponent(t)}catch{return t}}function yA(t){return fA.call(t)==="[object Date]"}var y_="popstate";function vA(t={}){function e(r,i){let{pathname:s,search:o,hash:a}=r.location;return Op("",{pathname:s,search:o,hash:a},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:Ja(i)}return wA(e,n,null,t)}function _e(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function kn(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function _A(){return Math.random().toString(36).substring(2,10)}function v_(t,e){return{usr:t.state,key:t.key,idx:e}}function Op(t,e,n=null,r){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?Eo(e):e,state:n,key:e&&e.key||r||_A()}}function Ja({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function Eo(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substring(r),t=t.substring(0,r)),t&&(e.pathname=t)}return e}function wA(t,e,n,r={}){let{window:i=document.defaultView,v5Compat:s=!1}=r,o=i.history,a="POP",l=null,c=u();c==null&&(c=0,o.replaceState({...o.state,idx:c},""));function u(){return(o.state||{idx:null}).idx}function d(){a="POP";let E=u(),m=E==null?null:E-c;c=E,l&&l({action:a,location:_.location,delta:m})}function f(E,m){a="PUSH";let v=Op(_.location,E,m);n&&n(v,E),c=u()+1;let y=v_(v,c),C=_.createHref(v);try{o.pushState(y,"",C)}catch(S){if(S instanceof DOMException&&S.name==="DataCloneError")throw S;i.location.assign(C)}s&&l&&l({action:a,location:_.location,delta:1})}function p(E,m){a="REPLACE";let v=Op(_.location,E,m);n&&n(v,E),c=u();let y=v_(v,c),C=_.createHref(v);o.replaceState(y,"",C),s&&l&&l({action:a,location:_.location,delta:0})}function g(E){return xA(E)}let _={get action(){return a},get location(){return t(i,o)},listen(E){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(y_,d),l=E,()=>{i.removeEventListener(y_,d),l=null}},createHref(E){return e(i,E)},createURL:g,encodeLocation(E){let m=g(E);return{pathname:m.pathname,search:m.search,hash:m.hash}},push:f,replace:p,go(E){return o.go(E)}};return _}function xA(t,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),_e(n,"No window.location.(origin|href) available to create URL");let r=typeof t=="string"?t:Ja(t);return r=r.replace(/ $/,"%20"),!e&&r.startsWith("//")&&(r=n+r),new URL(r,n)}function rb(t,e,n="/"){return CA(t,e,n,!1)}function CA(t,e,n,r){let i=typeof e=="string"?Eo(e):e,s=wr(i.pathname||"/",n);if(s==null)return null;let o=ib(t);EA(o);let a=null;for(let l=0;a==null&&l<o.length;++l){let c=OA(s);a=AA(o[l],c,r)}return a}function ib(t,e=[],n=[],r=""){let i=(s,o,a)=>{let l={relativePath:a===void 0?s.path||"":a,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};l.relativePath.startsWith("/")&&(_e(l.relativePath.startsWith(r),`Absolute route path "${l.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),l.relativePath=l.relativePath.slice(r.length));let c=fr([r,l.relativePath]),u=n.concat(l);s.children&&s.children.length>0&&(_e(s.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${c}".`),ib(s.children,e,u,c)),!(s.path==null&&!s.index)&&e.push({path:c,score:RA(c,s.index),routesMeta:u})};return t.forEach((s,o)=>{var a;if(s.path===""||!((a=s.path)!=null&&a.includes("?")))i(s,o);else for(let l of sb(s.path))i(s,o,l)}),e}function sb(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let o=sb(r.join("/")),a=[];return a.push(...o.map(l=>l===""?s:[s,l].join("/"))),i&&a.push(...o),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function EA(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:NA(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var SA=/^:[\w-]+$/,bA=3,TA=2,kA=1,IA=10,PA=-2,__=t=>t==="*";function RA(t,e){let n=t.split("/"),r=n.length;return n.some(__)&&(r+=PA),e&&(r+=TA),n.filter(i=>!__(i)).reduce((i,s)=>i+(SA.test(s)?bA:s===""?kA:IA),r)}function NA(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function AA(t,e,n=!1){let{routesMeta:r}=t,i={},s="/",o=[];for(let a=0;a<r.length;++a){let l=r[a],c=a===r.length-1,u=s==="/"?e:e.slice(s.length)||"/",d=Mu({path:l.relativePath,caseSensitive:l.caseSensitive,end:c},u),f=l.route;if(!d&&c&&n&&!r[r.length-1].route.index&&(d=Mu({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},u)),!d)return null;Object.assign(i,d.params),o.push({params:i,pathname:fr([s,d.pathname]),pathnameBase:FA(fr([s,d.pathnameBase])),route:f}),d.pathnameBase!=="/"&&(s=fr([s,d.pathnameBase]))}return o}function Mu(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=DA(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((c,{paramName:u,isOptional:d},f)=>{if(u==="*"){let g=a[f]||"";o=s.slice(0,s.length-g.length).replace(/(.)\/+$/,"$1")}const p=a[f];return d&&!p?c[u]=void 0:c[u]=(p||"").replace(/%2F/g,"/"),c},{}),pathname:s,pathnameBase:o,pattern:t}}function DA(t,e=!1,n=!0){kn(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,l)=>(r.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function OA(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return kn(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function wr(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function MA(t,e="/"){let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?Eo(t):t;return{pathname:n?n.startsWith("/")?n:LA(n,e):e,search:$A(r),hash:VA(i)}}function LA(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function eh(t,e,n,r){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function jA(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Wg(t){let e=jA(t);return e.map((n,r)=>r===e.length-1?n.pathname:n.pathnameBase)}function Hg(t,e,n,r=!1){let i;typeof t=="string"?i=Eo(t):(i={...t},_e(!i.pathname||!i.pathname.includes("?"),eh("?","pathname","search",i)),_e(!i.pathname||!i.pathname.includes("#"),eh("#","pathname","hash",i)),_e(!i.search||!i.search.includes("#"),eh("#","search","hash",i)));let s=t===""||i.pathname==="",o=s?"/":i.pathname,a;if(o==null)a=n;else{let d=e.length-1;if(!r&&o.startsWith("..")){let f=o.split("/");for(;f[0]==="..";)f.shift(),d-=1;i.pathname=f.join("/")}a=d>=0?e[d]:"/"}let l=MA(i,a),c=o&&o!=="/"&&o.endsWith("/"),u=(s||o===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(c||u)&&(l.pathname+="/"),l}var fr=t=>t.join("/").replace(/\/\/+/g,"/"),FA=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),$A=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,VA=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function UA(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}var ob=["POST","PUT","PATCH","DELETE"];new Set(ob);var BA=["GET",...ob];new Set(BA);var So=x.createContext(null);So.displayName="DataRouter";var Dd=x.createContext(null);Dd.displayName="DataRouterState";var ab=x.createContext({isTransitioning:!1});ab.displayName="ViewTransition";var zA=x.createContext(new Map);zA.displayName="Fetchers";var WA=x.createContext(null);WA.displayName="Await";var In=x.createContext(null);In.displayName="Navigation";var Il=x.createContext(null);Il.displayName="Location";var Pn=x.createContext({outlet:null,matches:[],isDataRoute:!1});Pn.displayName="Route";var Gg=x.createContext(null);Gg.displayName="RouteError";function HA(t,{relative:e}={}){_e(bo(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=x.useContext(In),{hash:i,pathname:s,search:o}=Pl(t,{relative:e}),a=s;return n!=="/"&&(a=s==="/"?n:fr([n,s])),r.createHref({pathname:a,search:o,hash:i})}function bo(){return x.useContext(Il)!=null}function Ir(){return _e(bo(),"useLocation() may be used only in the context of a <Router> component."),x.useContext(Il).location}var lb="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function cb(t){x.useContext(In).static||x.useLayoutEffect(t)}function Pr(){let{isDataRoute:t}=x.useContext(Pn);return t?sD():GA()}function GA(){_e(bo(),"useNavigate() may be used only in the context of a <Router> component.");let t=x.useContext(So),{basename:e,navigator:n}=x.useContext(In),{matches:r}=x.useContext(Pn),{pathname:i}=Ir(),s=JSON.stringify(Wg(r)),o=x.useRef(!1);return cb(()=>{o.current=!0}),x.useCallback((l,c={})=>{if(kn(o.current,lb),!o.current)return;if(typeof l=="number"){n.go(l);return}let u=Hg(l,JSON.parse(s),i,c.relative==="path");t==null&&e!=="/"&&(u.pathname=u.pathname==="/"?e:fr([e,u.pathname])),(c.replace?n.replace:n.push)(u,c.state,c)},[e,n,s,i,t])}x.createContext(null);function KA(){let{matches:t}=x.useContext(Pn),e=t[t.length-1];return e?e.params:{}}function Pl(t,{relative:e}={}){let{matches:n}=x.useContext(Pn),{pathname:r}=Ir(),i=JSON.stringify(Wg(n));return x.useMemo(()=>Hg(t,JSON.parse(i),r,e==="path"),[t,i,r,e])}function qA(t,e){return ub(t,e)}function ub(t,e,n,r){var v;_e(bo(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:i,static:s}=x.useContext(In),{matches:o}=x.useContext(Pn),a=o[o.length-1],l=a?a.params:{},c=a?a.pathname:"/",u=a?a.pathnameBase:"/",d=a&&a.route;{let y=d&&d.path||"";db(c,!d||y.endsWith("*")||y.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${c}" (under <Route path="${y}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${y}"> to <Route path="${y==="/"?"*":`${y}/*`}">.`)}let f=Ir(),p;if(e){let y=typeof e=="string"?Eo(e):e;_e(u==="/"||((v=y.pathname)==null?void 0:v.startsWith(u)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${u}" but pathname "${y.pathname}" was given in the \`location\` prop.`),p=y}else p=f;let g=p.pathname||"/",_=g;if(u!=="/"){let y=u.replace(/^\//,"").split("/");_="/"+g.replace(/^\//,"").split("/").slice(y.length).join("/")}let E=!s&&n&&n.matches&&n.matches.length>0?n.matches:rb(t,{pathname:_});kn(d||E!=null,`No routes matched location "${p.pathname}${p.search}${p.hash}" `),kn(E==null||E[E.length-1].route.element!==void 0||E[E.length-1].route.Component!==void 0||E[E.length-1].route.lazy!==void 0,`Matched leaf route at location "${p.pathname}${p.search}${p.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let m=ZA(E&&E.map(y=>Object.assign({},y,{params:Object.assign({},l,y.params),pathname:fr([u,i.encodeLocation?i.encodeLocation(y.pathname).pathname:y.pathname]),pathnameBase:y.pathnameBase==="/"?u:fr([u,i.encodeLocation?i.encodeLocation(y.pathnameBase).pathname:y.pathnameBase])})),o,n,r);return e&&m?x.createElement(Il.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...p},navigationType:"POP"}},m):m}function YA(){let t=iD(),e=UA(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,r="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:r},s={padding:"2px 4px",backgroundColor:r},o=null;return console.error("Error handled by React Router default ErrorBoundary:",t),o=x.createElement(x.Fragment,null,x.createElement("p",null,"💿 Hey developer 👋"),x.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",x.createElement("code",{style:s},"ErrorBoundary")," or"," ",x.createElement("code",{style:s},"errorElement")," prop on your route.")),x.createElement(x.Fragment,null,x.createElement("h2",null,"Unexpected Application Error!"),x.createElement("h3",{style:{fontStyle:"italic"}},e),n?x.createElement("pre",{style:i},n):null,o)}var QA=x.createElement(YA,null),XA=class extends x.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){console.error("React Router caught the following error during render",t,e)}render(){return this.state.error!==void 0?x.createElement(Pn.Provider,{value:this.props.routeContext},x.createElement(Gg.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function JA({routeContext:t,match:e,children:n}){let r=x.useContext(So);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),x.createElement(Pn.Provider,{value:t},n)}function ZA(t,e=[],n=null,r=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let i=t,s=n==null?void 0:n.errors;if(s!=null){let l=i.findIndex(c=>c.route.id&&(s==null?void 0:s[c.route.id])!==void 0);_e(l>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(s).join(",")}`),i=i.slice(0,Math.min(i.length,l+1))}let o=!1,a=-1;if(n)for(let l=0;l<i.length;l++){let c=i[l];if((c.route.HydrateFallback||c.route.hydrateFallbackElement)&&(a=l),c.route.id){let{loaderData:u,errors:d}=n,f=c.route.loader&&!u.hasOwnProperty(c.route.id)&&(!d||d[c.route.id]===void 0);if(c.route.lazy||f){o=!0,a>=0?i=i.slice(0,a+1):i=[i[0]];break}}}return i.reduceRight((l,c,u)=>{let d,f=!1,p=null,g=null;n&&(d=s&&c.route.id?s[c.route.id]:void 0,p=c.route.errorElement||QA,o&&(a<0&&u===0?(db("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),f=!0,g=null):a===u&&(f=!0,g=c.route.hydrateFallbackElement||null)));let _=e.concat(i.slice(0,u+1)),E=()=>{let m;return d?m=p:f?m=g:c.route.Component?m=x.createElement(c.route.Component,null):c.route.element?m=c.route.element:m=l,x.createElement(JA,{match:c,routeContext:{outlet:l,matches:_,isDataRoute:n!=null},children:m})};return n&&(c.route.ErrorBoundary||c.route.errorElement||u===0)?x.createElement(XA,{location:n.location,revalidation:n.revalidation,component:p,error:d,children:E(),routeContext:{outlet:null,matches:_,isDataRoute:!0}}):E()},null)}function Kg(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function eD(t){let e=x.useContext(So);return _e(e,Kg(t)),e}function tD(t){let e=x.useContext(Dd);return _e(e,Kg(t)),e}function nD(t){let e=x.useContext(Pn);return _e(e,Kg(t)),e}function qg(t){let e=nD(t),n=e.matches[e.matches.length-1];return _e(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function rD(){return qg("useRouteId")}function iD(){var r;let t=x.useContext(Gg),e=tD("useRouteError"),n=qg("useRouteError");return t!==void 0?t:(r=e.errors)==null?void 0:r[n]}function sD(){let{router:t}=eD("useNavigate"),e=qg("useNavigate"),n=x.useRef(!1);return cb(()=>{n.current=!0}),x.useCallback(async(i,s={})=>{kn(n.current,lb),n.current&&(typeof i=="number"?t.navigate(i):await t.navigate(i,{fromRouteId:e,...s}))},[t,e])}var w_={};function db(t,e,n){!e&&!w_[t]&&(w_[t]=!0,kn(!1,n))}x.memo(oD);function oD({routes:t,future:e,state:n}){return ub(t,void 0,n,e)}function x_({to:t,replace:e,state:n,relative:r}){_e(bo(),"<Navigate> may be used only in the context of a <Router> component.");let{static:i}=x.useContext(In);kn(!i,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:s}=x.useContext(Pn),{pathname:o}=Ir(),a=Pr(),l=Hg(t,Wg(s),o,r==="path"),c=JSON.stringify(l);return x.useEffect(()=>{a(JSON.parse(c),{replace:e,state:n,relative:r})},[a,c,r,e,n]),null}function Yt(t){_e(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function aD({basename:t="/",children:e=null,location:n,navigationType:r="POP",navigator:i,static:s=!1}){_e(!bo(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let o=t.replace(/^\/*/,"/"),a=x.useMemo(()=>({basename:o,navigator:i,static:s,future:{}}),[o,i,s]);typeof n=="string"&&(n=Eo(n));let{pathname:l="/",search:c="",hash:u="",state:d=null,key:f="default"}=n,p=x.useMemo(()=>{let g=wr(l,o);return g==null?null:{location:{pathname:g,search:c,hash:u,state:d,key:f},navigationType:r}},[o,l,c,u,d,f,r]);return kn(p!=null,`<Router basename="${o}"> is not able to match the URL "${l}${c}${u}" because it does not start with the basename, so the <Router> won't render anything.`),p==null?null:x.createElement(In.Provider,{value:a},x.createElement(Il.Provider,{children:e,value:p}))}function lD({children:t,location:e}){return qA(Mp(t),e)}function Mp(t,e=[]){let n=[];return x.Children.forEach(t,(r,i)=>{if(!x.isValidElement(r))return;let s=[...e,i];if(r.type===x.Fragment){n.push.apply(n,Mp(r.props.children,s));return}_e(r.type===Yt,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),_e(!r.props.index||!r.props.children,"An index route cannot have child routes.");let o={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=Mp(r.props.children,s)),n.push(o)}),n}var qc="get",Yc="application/x-www-form-urlencoded";function Od(t){return t!=null&&typeof t.tagName=="string"}function cD(t){return Od(t)&&t.tagName.toLowerCase()==="button"}function uD(t){return Od(t)&&t.tagName.toLowerCase()==="form"}function dD(t){return Od(t)&&t.tagName.toLowerCase()==="input"}function fD(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function hD(t,e){return t.button===0&&(!e||e==="_self")&&!fD(t)}var xc=null;function pD(){if(xc===null)try{new FormData(document.createElement("form"),0),xc=!1}catch{xc=!0}return xc}var mD=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function th(t){return t!=null&&!mD.has(t)?(kn(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Yc}"`),null):t}function gD(t,e){let n,r,i,s,o;if(uD(t)){let a=t.getAttribute("action");r=a?wr(a,e):null,n=t.getAttribute("method")||qc,i=th(t.getAttribute("enctype"))||Yc,s=new FormData(t)}else if(cD(t)||dD(t)&&(t.type==="submit"||t.type==="image")){let a=t.form;if(a==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let l=t.getAttribute("formaction")||a.getAttribute("action");if(r=l?wr(l,e):null,n=t.getAttribute("formmethod")||a.getAttribute("method")||qc,i=th(t.getAttribute("formenctype"))||th(a.getAttribute("enctype"))||Yc,s=new FormData(a,t),!pD()){let{name:c,type:u,value:d}=t;if(u==="image"){let f=c?`${c}.`:"";s.append(`${f}x`,"0"),s.append(`${f}y`,"0")}else c&&s.append(c,d)}}else{if(Od(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=qc,r=null,i=Yc,o=t}return s&&i==="text/plain"&&(o=s,s=void 0),{action:r,method:n.toLowerCase(),encType:i,formData:s,body:o}}function Yg(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}async function yD(t,e){if(t.id in e)return e[t.id];try{let n=await aA(()=>import(t.module),[]);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function vD(t){return t!=null&&typeof t.page=="string"}function _D(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function wD(t,e,n){let r=await Promise.all(t.map(async i=>{let s=e.routes[i.route.id];if(s){let o=await yD(s,n);return o.links?o.links():[]}return[]}));return SD(r.flat(1).filter(_D).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function C_(t,e,n,r,i,s){let o=(l,c)=>n[c]?l.route.id!==n[c].route.id:!0,a=(l,c)=>{var u;return n[c].pathname!==l.pathname||((u=n[c].route.path)==null?void 0:u.endsWith("*"))&&n[c].params["*"]!==l.params["*"]};return s==="assets"?e.filter((l,c)=>o(l,c)||a(l,c)):s==="data"?e.filter((l,c)=>{var d;let u=r.routes[l.route.id];if(!u||!u.hasLoader)return!1;if(o(l,c)||a(l,c))return!0;if(l.route.shouldRevalidate){let f=l.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:((d=n[0])==null?void 0:d.params)||{},nextUrl:new URL(t,window.origin),nextParams:l.params,defaultShouldRevalidate:!0});if(typeof f=="boolean")return f}return!0}):[]}function xD(t,e,{includeHydrateFallback:n}={}){return CD(t.map(r=>{let i=e.routes[r.route.id];if(!i)return[];let s=[i.module];return i.clientActionModule&&(s=s.concat(i.clientActionModule)),i.clientLoaderModule&&(s=s.concat(i.clientLoaderModule)),n&&i.hydrateFallbackModule&&(s=s.concat(i.hydrateFallbackModule)),i.imports&&(s=s.concat(i.imports)),s}).flat(1))}function CD(t){return[...new Set(t)]}function ED(t){let e={},n=Object.keys(t).sort();for(let r of n)e[r]=t[r];return e}function SD(t,e){let n=new Set,r=new Set(e);return t.reduce((i,s)=>{if(e&&!vD(s)&&s.as==="script"&&s.href&&r.has(s.href))return i;let a=JSON.stringify(ED(s));return n.has(a)||(n.add(a),i.push({key:a,link:s})),i},[])}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var bD=new Set([100,101,204,205]);function TD(t,e){let n=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return n.pathname==="/"?n.pathname="_root.data":e&&wr(n.pathname,e)==="/"?n.pathname=`${e.replace(/\/$/,"")}/_root.data`:n.pathname=`${n.pathname.replace(/\/$/,"")}.data`,n}function fb(){let t=x.useContext(So);return Yg(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function kD(){let t=x.useContext(Dd);return Yg(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var Qg=x.createContext(void 0);Qg.displayName="FrameworkContext";function hb(){let t=x.useContext(Qg);return Yg(t,"You must render this element inside a <HydratedRouter> element"),t}function ID(t,e){let n=x.useContext(Qg),[r,i]=x.useState(!1),[s,o]=x.useState(!1),{onFocus:a,onBlur:l,onMouseEnter:c,onMouseLeave:u,onTouchStart:d}=e,f=x.useRef(null);x.useEffect(()=>{if(t==="render"&&o(!0),t==="viewport"){let _=m=>{m.forEach(v=>{o(v.isIntersecting)})},E=new IntersectionObserver(_,{threshold:.5});return f.current&&E.observe(f.current),()=>{E.disconnect()}}},[t]),x.useEffect(()=>{if(r){let _=setTimeout(()=>{o(!0)},100);return()=>{clearTimeout(_)}}},[r]);let p=()=>{i(!0)},g=()=>{i(!1),o(!1)};return n?t!=="intent"?[s,f,{}]:[s,f,{onFocus:Ho(a,p),onBlur:Ho(l,g),onMouseEnter:Ho(c,p),onMouseLeave:Ho(u,g),onTouchStart:Ho(d,p)}]:[!1,f,{}]}function Ho(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function PD({page:t,...e}){let{router:n}=fb(),r=x.useMemo(()=>rb(n.routes,t,n.basename),[n.routes,t,n.basename]);return r?x.createElement(ND,{page:t,matches:r,...e}):null}function RD(t){let{manifest:e,routeModules:n}=hb(),[r,i]=x.useState([]);return x.useEffect(()=>{let s=!1;return wD(t,e,n).then(o=>{s||i(o)}),()=>{s=!0}},[t,e,n]),r}function ND({page:t,matches:e,...n}){let r=Ir(),{manifest:i,routeModules:s}=hb(),{basename:o}=fb(),{loaderData:a,matches:l}=kD(),c=x.useMemo(()=>C_(t,e,l,i,r,"data"),[t,e,l,i,r]),u=x.useMemo(()=>C_(t,e,l,i,r,"assets"),[t,e,l,i,r]),d=x.useMemo(()=>{if(t===r.pathname+r.search+r.hash)return[];let g=new Set,_=!1;if(e.forEach(m=>{var y;let v=i.routes[m.route.id];!v||!v.hasLoader||(!c.some(C=>C.route.id===m.route.id)&&m.route.id in a&&((y=s[m.route.id])!=null&&y.shouldRevalidate)||v.hasClientLoader?_=!0:g.add(m.route.id))}),g.size===0)return[];let E=TD(t,o);return _&&g.size>0&&E.searchParams.set("_routes",e.filter(m=>g.has(m.route.id)).map(m=>m.route.id).join(",")),[E.pathname+E.search]},[o,a,r,i,c,e,t,s]),f=x.useMemo(()=>xD(u,i),[u,i]),p=RD(u);return x.createElement(x.Fragment,null,d.map(g=>x.createElement("link",{key:g,rel:"prefetch",as:"fetch",href:g,...n})),f.map(g=>x.createElement("link",{key:g,rel:"modulepreload",href:g,...n})),p.map(({key:g,link:_})=>x.createElement("link",{key:g,..._})))}function AD(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var pb=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{pb&&(window.__reactRouterVersion="7.6.0")}catch{}function DD({basename:t,children:e,window:n}){let r=x.useRef();r.current==null&&(r.current=vA({window:n,v5Compat:!0}));let i=r.current,[s,o]=x.useState({action:i.action,location:i.location}),a=x.useCallback(l=>{x.startTransition(()=>o(l))},[o]);return x.useLayoutEffect(()=>i.listen(a),[i,a]),x.createElement(aD,{basename:t,children:e,location:s.location,navigationType:s.action,navigator:i})}var mb=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Dn=x.forwardRef(function({onClick:e,discover:n="render",prefetch:r="none",relative:i,reloadDocument:s,replace:o,state:a,target:l,to:c,preventScrollReset:u,viewTransition:d,...f},p){let{basename:g}=x.useContext(In),_=typeof c=="string"&&mb.test(c),E,m=!1;if(typeof c=="string"&&_&&(E=c,pb))try{let N=new URL(window.location.href),w=c.startsWith("//")?new URL(N.protocol+c):new URL(c),R=wr(w.pathname,g);w.origin===N.origin&&R!=null?c=R+w.search+w.hash:m=!0}catch{kn(!1,`<Link to="${c}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let v=HA(c,{relative:i}),[y,C,S]=ID(r,f),b=jD(c,{replace:o,state:a,target:l,preventScrollReset:u,relative:i,viewTransition:d});function T(N){e&&e(N),N.defaultPrevented||b(N)}let k=x.createElement("a",{...f,...S,href:E||v,onClick:m||s?e:T,ref:AD(p,C),target:l,"data-discover":!_&&n==="render"?"true":void 0});return y&&!_?x.createElement(x.Fragment,null,k,x.createElement(PD,{page:v})):k});Dn.displayName="Link";var OD=x.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:r="",end:i=!1,style:s,to:o,viewTransition:a,children:l,...c},u){let d=Pl(o,{relative:c.relative}),f=Ir(),p=x.useContext(Dd),{navigator:g,basename:_}=x.useContext(In),E=p!=null&&BD(d)&&a===!0,m=g.encodeLocation?g.encodeLocation(d).pathname:d.pathname,v=f.pathname,y=p&&p.navigation&&p.navigation.location?p.navigation.location.pathname:null;n||(v=v.toLowerCase(),y=y?y.toLowerCase():null,m=m.toLowerCase()),y&&_&&(y=wr(y,_)||y);const C=m!=="/"&&m.endsWith("/")?m.length-1:m.length;let S=v===m||!i&&v.startsWith(m)&&v.charAt(C)==="/",b=y!=null&&(y===m||!i&&y.startsWith(m)&&y.charAt(m.length)==="/"),T={isActive:S,isPending:b,isTransitioning:E},k=S?e:void 0,N;typeof r=="function"?N=r(T):N=[r,S?"active":null,b?"pending":null,E?"transitioning":null].filter(Boolean).join(" ");let w=typeof s=="function"?s(T):s;return x.createElement(Dn,{...c,"aria-current":k,className:N,ref:u,style:w,to:o,viewTransition:a},typeof l=="function"?l(T):l)});OD.displayName="NavLink";var MD=x.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:r,replace:i,state:s,method:o=qc,action:a,onSubmit:l,relative:c,preventScrollReset:u,viewTransition:d,...f},p)=>{let g=VD(),_=UD(a,{relative:c}),E=o.toLowerCase()==="get"?"get":"post",m=typeof a=="string"&&mb.test(a),v=y=>{if(l&&l(y),y.defaultPrevented)return;y.preventDefault();let C=y.nativeEvent.submitter,S=(C==null?void 0:C.getAttribute("formmethod"))||o;g(C||y.currentTarget,{fetcherKey:e,method:S,navigate:n,replace:i,state:s,relative:c,preventScrollReset:u,viewTransition:d})};return x.createElement("form",{ref:p,method:E,action:_,onSubmit:r?l:v,...f,"data-discover":!m&&t==="render"?"true":void 0})});MD.displayName="Form";function LD(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function gb(t){let e=x.useContext(So);return _e(e,LD(t)),e}function jD(t,{target:e,replace:n,state:r,preventScrollReset:i,relative:s,viewTransition:o}={}){let a=Pr(),l=Ir(),c=Pl(t,{relative:s});return x.useCallback(u=>{if(hD(u,e)){u.preventDefault();let d=n!==void 0?n:Ja(l)===Ja(c);a(t,{replace:d,state:r,preventScrollReset:i,relative:s,viewTransition:o})}},[l,a,c,n,r,e,t,i,s,o])}var FD=0,$D=()=>`__${String(++FD)}__`;function VD(){let{router:t}=gb("useSubmit"),{basename:e}=x.useContext(In),n=rD();return x.useCallback(async(r,i={})=>{let{action:s,method:o,encType:a,formData:l,body:c}=gD(r,e);if(i.navigate===!1){let u=i.fetcherKey||$D();await t.fetch(u,n,i.action||s,{preventScrollReset:i.preventScrollReset,formData:l,body:c,formMethod:i.method||o,formEncType:i.encType||a,flushSync:i.flushSync})}else await t.navigate(i.action||s,{preventScrollReset:i.preventScrollReset,formData:l,body:c,formMethod:i.method||o,formEncType:i.encType||a,replace:i.replace,state:i.state,fromRouteId:n,flushSync:i.flushSync,viewTransition:i.viewTransition})},[t,e,n])}function UD(t,{relative:e}={}){let{basename:n}=x.useContext(In),r=x.useContext(Pn);_e(r,"useFormAction must be used inside a RouteContext");let[i]=r.matches.slice(-1),s={...Pl(t||".",{relative:e})},o=Ir();if(t==null){s.search=o.search;let a=new URLSearchParams(s.search),l=a.getAll("index");if(l.some(u=>u==="")){a.delete("index"),l.filter(d=>d).forEach(d=>a.append("index",d));let u=a.toString();s.search=u?`?${u}`:""}}return(!t||t===".")&&i.route.index&&(s.search=s.search?s.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(s.pathname=s.pathname==="/"?n:fr([n,s.pathname])),Ja(s)}function BD(t,e={}){let n=x.useContext(ab);_e(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=gb("useViewTransitionState"),i=Pl(t,{relative:e.relative});if(!n.isTransitioning)return!1;let s=wr(n.currentLocation.pathname,r)||n.currentLocation.pathname,o=wr(n.nextLocation.pathname,r)||n.nextLocation.pathname;return Mu(i.pathname,o)!=null||Mu(i.pathname,s)!=null}[...bD];const zD=()=>{};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yb={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D=function(t,e){if(!t)throw To(e)},To=function(t){return new Error("Firebase Database ("+yb.SDK_VERSION+") INTERNAL ASSERT FAILED: "+t)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vb=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},WD=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],o=t[n++],a=t[n++],l=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},Xg={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,a=o?t[i+1]:0,l=i+2<t.length,c=l?t[i+2]:0,u=s>>2,d=(s&3)<<4|a>>4;let f=(a&15)<<2|c>>6,p=c&63;l||(p=64,o||(f=64)),r.push(n[u],n[d],n[f],n[p])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(vb(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):WD(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const c=i<t.length?n[t.charAt(i)]:64;++i;const d=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||a==null||c==null||d==null)throw new HD;const f=s<<2|a>>4;if(r.push(f),c!==64){const p=a<<4&240|c>>2;if(r.push(p),d!==64){const g=c<<6&192|d;r.push(g)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class HD extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const _b=function(t){const e=vb(t);return Xg.encodeByteArray(e,!0)},Lu=function(t){return _b(t).replace(/\./g,"")},ju=function(t){try{return Xg.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GD(t){return wb(void 0,t)}function wb(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const n=e;return new Date(n.getTime());case Object:t===void 0&&(t={});break;case Array:t=[];break;default:return e}for(const n in e)!e.hasOwnProperty(n)||!KD(n)||(t[n]=wb(t[n],e[n]));return t}function KD(t){return t!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qD(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YD=()=>qD().__FIREBASE_DEFAULTS__,QD=()=>{if(typeof process>"u"||typeof process.env>"u")return;const t={}.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},XD=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&ju(t[1]);return e&&JSON.parse(e)},Jg=()=>{try{return zD()||YD()||QD()||XD()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},xb=t=>{var e,n;return(n=(e=Jg())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},Zg=t=>{const e=xb(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},Cb=()=>{var t;return(t=Jg())===null||t===void 0?void 0:t.config},Eb=t=>{var e;return(e=Jg())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rl{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function is(t){return t.endsWith(".cloudworkstations.dev")}async function Md(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sb(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t),a="";return[Lu(JSON.stringify(n)),Lu(JSON.stringify(o)),a].join(".")}const Ca={};function JD(){const t={prod:[],emulator:[]};for(const e of Object.keys(Ca))Ca[e]?t.emulator.push(e):t.prod.push(e);return t}function ZD(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let E_=!1;function pi(t,e){if(typeof window>"u"||typeof document>"u"||!is(window.location.host)||Ca[t]===e||Ca[t]||E_)return;Ca[t]=e;function n(f){return`__firebase__banner__${f}`}const r="__firebase__banner",s=JD().prod.length>0;function o(){const f=document.getElementById(r);f&&f.remove()}function a(f){f.style.display="flex",f.style.background="#7faaf0",f.style.position="fixed",f.style.bottom="5px",f.style.left="5px",f.style.padding=".5em",f.style.borderRadius="5px",f.style.alignItems="center"}function l(f,p){f.setAttribute("width","24"),f.setAttribute("id",p),f.setAttribute("height","24"),f.setAttribute("viewBox","0 0 24 24"),f.setAttribute("fill","none"),f.style.marginLeft="-6px"}function c(){const f=document.createElement("span");return f.style.cursor="pointer",f.style.marginLeft="16px",f.style.fontSize="24px",f.innerHTML=" &times;",f.onclick=()=>{E_=!0,o()},f}function u(f,p){f.setAttribute("id",p),f.innerText="Learn more",f.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",f.setAttribute("target","__blank"),f.style.paddingLeft="5px",f.style.textDecoration="underline"}function d(){const f=ZD(r),p=n("text"),g=document.getElementById(p)||document.createElement("span"),_=n("learnmore"),E=document.getElementById(_)||document.createElement("a"),m=n("preprendIcon"),v=document.getElementById(m)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(f.created){const y=f.element;a(y),u(E,_);const C=c();l(v,m),y.append(v,g,E,C),document.body.appendChild(y)}s?(g.innerText="Preview backend disconnected.",v.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(v.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,g.innerText="Preview backend running in this workspace."),g.setAttribute("id",p)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",d):d()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function ey(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(xt())}function eO(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function tO(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function bb(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function nO(){const t=xt();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function Tb(){return yb.NODE_ADMIN===!0}function kb(){try{return typeof indexedDB=="object"}catch{return!1}}function Ib(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}function rO(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iO="FirebaseError";class Gn extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=iO,Object.setPrototypeOf(this,Gn.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ss.prototype.create)}}class ss{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?sO(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new Gn(i,a,r)}}function sO(t,e){return t.replace(oO,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const oO=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Za(t){return JSON.parse(t)}function ze(t){return JSON.stringify(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pb=function(t){let e={},n={},r={},i="";try{const s=t.split(".");e=Za(ju(s[0])||""),n=Za(ju(s[1])||""),i=s[2],r=n.d||{},delete n.d}catch{}return{header:e,claims:n,data:r,signature:i}},aO=function(t){const e=Pb(t),n=e.claims;return!!n&&typeof n=="object"&&n.hasOwnProperty("iat")},lO=function(t){const e=Pb(t).claims;return typeof e=="object"&&e.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kn(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function io(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]}function Lp(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Fu(t,e,n){const r={};for(const i in t)Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=e.call(n,t[i],i,t));return r}function Gi(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(S_(s)&&S_(o)){if(!Gi(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function S_(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ko(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function sa(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function oa(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cO{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,n){n||(n=0);const r=this.W_;if(typeof e=="string")for(let d=0;d<16;d++)r[d]=e.charCodeAt(n)<<24|e.charCodeAt(n+1)<<16|e.charCodeAt(n+2)<<8|e.charCodeAt(n+3),n+=4;else for(let d=0;d<16;d++)r[d]=e[n]<<24|e[n+1]<<16|e[n+2]<<8|e[n+3],n+=4;for(let d=16;d<80;d++){const f=r[d-3]^r[d-8]^r[d-14]^r[d-16];r[d]=(f<<1|f>>>31)&4294967295}let i=this.chain_[0],s=this.chain_[1],o=this.chain_[2],a=this.chain_[3],l=this.chain_[4],c,u;for(let d=0;d<80;d++){d<40?d<20?(c=a^s&(o^a),u=1518500249):(c=s^o^a,u=1859775393):d<60?(c=s&o|a&(s|o),u=2400959708):(c=s^o^a,u=3395469782);const f=(i<<5|i>>>27)+c+l+u+r[d]&4294967295;l=a,a=o,o=(s<<30|s>>>2)&4294967295,s=i,i=f}this.chain_[0]=this.chain_[0]+i&4294967295,this.chain_[1]=this.chain_[1]+s&4294967295,this.chain_[2]=this.chain_[2]+o&4294967295,this.chain_[3]=this.chain_[3]+a&4294967295,this.chain_[4]=this.chain_[4]+l&4294967295}update(e,n){if(e==null)return;n===void 0&&(n=e.length);const r=n-this.blockSize;let i=0;const s=this.buf_;let o=this.inbuf_;for(;i<n;){if(o===0)for(;i<=r;)this.compress_(e,i),i+=this.blockSize;if(typeof e=="string"){for(;i<n;)if(s[o]=e.charCodeAt(i),++o,++i,o===this.blockSize){this.compress_(s),o=0;break}}else for(;i<n;)if(s[o]=e[i],++o,++i,o===this.blockSize){this.compress_(s),o=0;break}}this.inbuf_=o,this.total_+=n}digest(){const e=[];let n=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let i=this.blockSize-1;i>=56;i--)this.buf_[i]=n&255,n/=256;this.compress_(this.buf_);let r=0;for(let i=0;i<5;i++)for(let s=24;s>=0;s-=8)e[r]=this.chain_[i]>>s&255,++r;return e}}function uO(t,e){const n=new dO(t,e);return n.subscribe.bind(n)}class dO{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");fO(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=nh),i.error===void 0&&(i.error=nh),i.complete===void 0&&(i.complete=nh);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function fO(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function nh(){}function Ld(t,e){return`${t} failed: ${e} argument `}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hO=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);if(i>=55296&&i<=56319){const s=i-55296;r++,D(r<t.length,"Surrogate pair missing trail surrogate.");const o=t.charCodeAt(r)-56320;i=65536+(s<<10)+o}i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):i<65536?(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},jd=function(t){let e=0;for(let n=0;n<t.length;n++){const r=t.charCodeAt(n);r<128?e++:r<2048?e+=2:r>=55296&&r<=56319?(e+=4,n++):e+=3}return e};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Te(t){return t&&t._delegate?t._delegate:t}class Bt{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xi="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pO{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new Rl;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(gO(e))try{this.getOrInitializeService({instanceIdentifier:xi})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=xi){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=xi){return this.instances.has(e)}getOptions(e=xi){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:mO(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=xi){return this.component?this.component.multipleInstances?e:xi:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function mO(t){return t===xi?void 0:t}function gO(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yO{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new pO(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var se;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(se||(se={}));const vO={debug:se.DEBUG,verbose:se.VERBOSE,info:se.INFO,warn:se.WARN,error:se.ERROR,silent:se.SILENT},_O=se.INFO,wO={[se.DEBUG]:"log",[se.VERBOSE]:"log",[se.INFO]:"info",[se.WARN]:"warn",[se.ERROR]:"error"},xO=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=wO[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class ty{constructor(e){this.name=e,this._logLevel=_O,this._logHandler=xO,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in se))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?vO[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,se.DEBUG,...e),this._logHandler(this,se.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,se.VERBOSE,...e),this._logHandler(this,se.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,se.INFO,...e),this._logHandler(this,se.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,se.WARN,...e),this._logHandler(this,se.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,se.ERROR,...e),this._logHandler(this,se.ERROR,...e)}}const CO=(t,e)=>e.some(n=>t instanceof n);let b_,T_;function EO(){return b_||(b_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function SO(){return T_||(T_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Rb=new WeakMap,jp=new WeakMap,Nb=new WeakMap,rh=new WeakMap,ny=new WeakMap;function bO(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(hr(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&Rb.set(n,t)}).catch(()=>{}),ny.set(e,t),e}function TO(t){if(jp.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});jp.set(t,e)}let Fp={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return jp.get(t);if(e==="objectStoreNames")return t.objectStoreNames||Nb.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return hr(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function kO(t){Fp=t(Fp)}function IO(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(ih(this),e,...n);return Nb.set(r,e.sort?e.sort():[e]),hr(r)}:SO().includes(t)?function(...e){return t.apply(ih(this),e),hr(Rb.get(this))}:function(...e){return hr(t.apply(ih(this),e))}}function PO(t){return typeof t=="function"?IO(t):(t instanceof IDBTransaction&&TO(t),CO(t,EO())?new Proxy(t,Fp):t)}function hr(t){if(t instanceof IDBRequest)return bO(t);if(rh.has(t))return rh.get(t);const e=PO(t);return e!==t&&(rh.set(t,e),ny.set(e,t)),e}const ih=t=>ny.get(t);function Fd(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=hr(o);return r&&o.addEventListener("upgradeneeded",l=>{r(hr(o.result),l.oldVersion,l.newVersion,hr(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{s&&l.addEventListener("close",()=>s()),i&&l.addEventListener("versionchange",c=>i(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}function sh(t,{blocked:e}={}){const n=indexedDB.deleteDatabase(t);return e&&n.addEventListener("blocked",r=>e(r.oldVersion,r)),hr(n).then(()=>{})}const RO=["get","getKey","getAll","getAllKeys","count"],NO=["put","add","delete","clear"],oh=new Map;function k_(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(oh.get(e))return oh.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=NO.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||RO.includes(n)))return;const s=async function(o,...a){const l=this.transaction(o,i?"readwrite":"readonly");let c=l.store;return r&&(c=c.index(a.shift())),(await Promise.all([c[n](...a),i&&l.done]))[0]};return oh.set(e,s),s}kO(t=>({...t,get:(e,n,r)=>k_(e,n)||t.get(e,n,r),has:(e,n)=>!!k_(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AO{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(DO(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function DO(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const $p="@firebase/app",I_="0.12.3";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xr=new ty("@firebase/app"),OO="@firebase/app-compat",MO="@firebase/analytics-compat",LO="@firebase/analytics",jO="@firebase/app-check-compat",FO="@firebase/app-check",$O="@firebase/auth",VO="@firebase/auth-compat",UO="@firebase/database",BO="@firebase/data-connect",zO="@firebase/database-compat",WO="@firebase/functions",HO="@firebase/functions-compat",GO="@firebase/installations",KO="@firebase/installations-compat",qO="@firebase/messaging",YO="@firebase/messaging-compat",QO="@firebase/performance",XO="@firebase/performance-compat",JO="@firebase/remote-config",ZO="@firebase/remote-config-compat",e2="@firebase/storage",t2="@firebase/storage-compat",n2="@firebase/firestore",r2="@firebase/vertexai",i2="@firebase/firestore-compat",s2="firebase",o2="11.7.3";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vp="[DEFAULT]",a2={[$p]:"fire-core",[OO]:"fire-core-compat",[LO]:"fire-analytics",[MO]:"fire-analytics-compat",[FO]:"fire-app-check",[jO]:"fire-app-check-compat",[$O]:"fire-auth",[VO]:"fire-auth-compat",[UO]:"fire-rtdb",[BO]:"fire-data-connect",[zO]:"fire-rtdb-compat",[WO]:"fire-fn",[HO]:"fire-fn-compat",[GO]:"fire-iid",[KO]:"fire-iid-compat",[qO]:"fire-fcm",[YO]:"fire-fcm-compat",[QO]:"fire-perf",[XO]:"fire-perf-compat",[JO]:"fire-rc",[ZO]:"fire-rc-compat",[e2]:"fire-gcs",[t2]:"fire-gcs-compat",[n2]:"fire-fst",[i2]:"fire-fst-compat",[r2]:"fire-vertex","fire-js":"fire-js",[s2]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $u=new Map,l2=new Map,Up=new Map;function P_(t,e){try{t.container.addComponent(e)}catch(n){xr.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function an(t){const e=t.name;if(Up.has(e))return xr.debug(`There were multiple attempts to register component ${e}.`),!1;Up.set(e,t);for(const n of $u.values())P_(n,t);for(const n of l2.values())P_(n,t);return!0}function mi(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function gt(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c2={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ei=new ss("app","Firebase",c2);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u2{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Bt("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ei.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const os=o2;function Ab(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:Vp,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw ei.create("bad-app-name",{appName:String(i)});if(n||(n=Cb()),!n)throw ei.create("no-options");const s=$u.get(i);if(s){if(Gi(n,s.options)&&Gi(r,s.config))return s;throw ei.create("duplicate-app",{appName:i})}const o=new yO(i);for(const l of Up.values())o.addComponent(l);const a=new u2(n,r,o);return $u.set(i,a),a}function Nl(t=Vp){const e=$u.get(t);if(!e&&t===Vp&&Cb())return Ab();if(!e)throw ei.create("no-app",{appName:t});return e}function dt(t,e,n){var r;let i=(r=a2[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${e}":`];s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),xr.warn(a.join(" "));return}an(new Bt(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d2="firebase-heartbeat-database",f2=1,el="firebase-heartbeat-store";let ah=null;function Db(){return ah||(ah=Fd(d2,f2,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(el)}catch(n){console.warn(n)}}}}).catch(t=>{throw ei.create("idb-open",{originalErrorMessage:t.message})})),ah}async function h2(t){try{const n=(await Db()).transaction(el),r=await n.objectStore(el).get(Ob(t));return await n.done,r}catch(e){if(e instanceof Gn)xr.warn(e.message);else{const n=ei.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});xr.warn(n.message)}}}async function R_(t,e){try{const r=(await Db()).transaction(el,"readwrite");await r.objectStore(el).put(e,Ob(t)),await r.done}catch(n){if(n instanceof Gn)xr.warn(n.message);else{const r=ei.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});xr.warn(r.message)}}}function Ob(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p2=1024,m2=30;class g2{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new v2(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=N_();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats.length>m2){const o=_2(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){xr.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=N_(),{heartbeatsToSend:r,unsentEntries:i}=y2(this._heartbeatsCache.heartbeats),s=Lu(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(n){return xr.warn(n),""}}}function N_(){return new Date().toISOString().substring(0,10)}function y2(t,e=p2){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),A_(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),A_(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class v2{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return kb()?Ib().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await h2(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return R_(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return R_(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function A_(t){return Lu(JSON.stringify({version:2,heartbeats:t})).length}function _2(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function w2(t){an(new Bt("platform-logger",e=>new AO(e),"PRIVATE")),an(new Bt("heartbeat",e=>new g2(e),"PRIVATE")),dt($p,I_,t),dt($p,I_,"esm2017"),dt("fire-js","")}w2("");var Bp=function(t,e){return Bp=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(n[i]=r[i])},Bp(t,e)};function x2(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");Bp(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}var He=function(){return He=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},He.apply(this,arguments)};function ry(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function Mb(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const C2=Mb,Lb=new ss("auth","Firebase",Mb());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vu=new ty("@firebase/auth");function E2(t,...e){Vu.logLevel<=se.WARN&&Vu.warn(`Auth (${os}): ${t}`,...e)}function Qc(t,...e){Vu.logLevel<=se.ERROR&&Vu.error(`Auth (${os}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ln(t,...e){throw sy(t,...e)}function Sn(t,...e){return sy(t,...e)}function iy(t,e,n){const r=Object.assign(Object.assign({},C2()),{[e]:n});return new ss("auth","Firebase",r).create(e,{appName:t.name})}function pr(t){return iy(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function S2(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&ln(t,"argument-error"),iy(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function sy(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return Lb.create(t,...e)}function V(t,e,...n){if(!t)throw sy(e,...n)}function lr(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Qc(e),new Error(e)}function Cr(t,e){t||lr(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zp(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function b2(){return D_()==="http:"||D_()==="https:"}function D_(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function T2(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(b2()||tO()||"connection"in navigator)?navigator.onLine:!0}function k2(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Al{constructor(e,n){this.shortDelay=e,this.longDelay=n,Cr(n>e,"Short delay should be less than long delay!"),this.isMobile=ey()||bb()}get(){return T2()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oy(t,e){Cr(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jb{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;lr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;lr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;lr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I2={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P2=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],R2=new Al(3e4,6e4);function Rr(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function Nr(t,e,n,r,i={}){return Fb(t,i,async()=>{let s={},o={};r&&(e==="GET"?o=r:s={body:JSON.stringify(r)});const a=ko(Object.assign({key:t.config.apiKey},o)).slice(1),l=await t._getAdditionalHeaders();l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode);const c=Object.assign({method:e,headers:l},s);return eO()||(c.referrerPolicy="no-referrer"),t.emulatorConfig&&is(t.emulatorConfig.host)&&(c.credentials="include"),jb.fetch()(await $b(t,t.config.apiHost,n,a),c)})}async function Fb(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},I2),e);try{const i=new A2(t),s=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=await s.json();if("needConfirmation"in o)throw Cc(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[l,c]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw Cc(t,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw Cc(t,"email-already-in-use",o);if(l==="USER_DISABLED")throw Cc(t,"user-disabled",o);const u=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw iy(t,u,c);ln(t,u)}}catch(i){if(i instanceof Gn)throw i;ln(t,"network-request-failed",{message:String(i)})}}async function Dl(t,e,n,r,i={}){const s=await Nr(t,e,n,r,i);return"mfaPendingCredential"in s&&ln(t,"multi-factor-auth-required",{_serverResponse:s}),s}async function $b(t,e,n,r){const i=`${e}${n}?${r}`,s=t,o=s.config.emulator?oy(t.config,i):`${t.config.apiScheme}://${i}`;return P2.includes(n)&&(await s._persistenceManagerAvailable,s._getPersistenceType()==="COOKIE")?s._getPersistence()._getFinalTarget(o).toString():o}function N2(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class A2{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Sn(this.auth,"network-request-failed")),R2.get())})}}function Cc(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Sn(t,e,r);return i.customData._tokenResponse=n,i}function O_(t){return t!==void 0&&t.enterprise!==void 0}class D2{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return N2(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function O2(t,e){return Nr(t,"GET","/v2/recaptchaConfig",Rr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function M2(t,e){return Nr(t,"POST","/v1/accounts:delete",e)}async function Uu(t,e){return Nr(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ea(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function L2(t,e=!1){const n=Te(t),r=await n.getIdToken(e),i=ay(r);V(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,o=s==null?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:Ea(lh(i.auth_time)),issuedAtTime:Ea(lh(i.iat)),expirationTime:Ea(lh(i.exp)),signInProvider:o||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function lh(t){return Number(t)*1e3}function ay(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Qc("JWT malformed, contained fewer than 3 sections"),null;try{const i=ju(n);return i?JSON.parse(i):(Qc("Failed to decode base64 JWT payload"),null)}catch(i){return Qc("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function M_(t){const e=ay(t);return V(e,"internal-error"),V(typeof e.exp<"u","internal-error"),V(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tl(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Gn&&j2(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function j2({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F2{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wp{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ea(this.lastLoginAt),this.creationTime=Ea(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Bu(t){var e;const n=t.auth,r=await t.getIdToken(),i=await tl(t,Uu(n,{idToken:r}));V(i==null?void 0:i.users.length,n,"internal-error");const s=i.users[0];t._notifyReloadListener(s);const o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?Vb(s.providerUserInfo):[],a=V2(t.providerData,o),l=t.isAnonymous,c=!(t.email&&s.passwordHash)&&!(a!=null&&a.length),u=l?c:!1,d={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new Wp(s.createdAt,s.lastLoginAt),isAnonymous:u};Object.assign(t,d)}async function $2(t){const e=Te(t);await Bu(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function V2(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function Vb(t){return t.map(e=>{var{providerId:n}=e,r=ry(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function U2(t,e){const n=await Fb(t,{},async()=>{const r=ko({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=await $b(t,i,"/v1/token",`key=${s}`),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",jb.fetch()(o,{method:"POST",headers:a,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function B2(t,e){return Nr(t,"POST","/v2/accounts:revokeToken",Rr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zs{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){V(e.idToken,"internal-error"),V(typeof e.idToken<"u","internal-error"),V(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):M_(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){V(e.length!==0,"internal-error");const n=M_(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(V(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:s}=await U2(e,n);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new zs;return r&&(V(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(V(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(V(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new zs,this.toJSON())}_performRefresh(){return lr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Or(t,e){V(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class _n{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=ry(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new F2(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new Wp(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await tl(this,this.stsTokenManager.getToken(this.auth,e));return V(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return L2(this,e)}reload(){return $2(this)}_assign(e){this!==e&&(V(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new _n(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){V(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Bu(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(gt(this.auth.app))return Promise.reject(pr(this.auth));const e=await this.getIdToken();return await tl(this,M2(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,a,l,c,u;const d=(r=n.displayName)!==null&&r!==void 0?r:void 0,f=(i=n.email)!==null&&i!==void 0?i:void 0,p=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,g=(o=n.photoURL)!==null&&o!==void 0?o:void 0,_=(a=n.tenantId)!==null&&a!==void 0?a:void 0,E=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,m=(c=n.createdAt)!==null&&c!==void 0?c:void 0,v=(u=n.lastLoginAt)!==null&&u!==void 0?u:void 0,{uid:y,emailVerified:C,isAnonymous:S,providerData:b,stsTokenManager:T}=n;V(y&&T,e,"internal-error");const k=zs.fromJSON(this.name,T);V(typeof y=="string",e,"internal-error"),Or(d,e.name),Or(f,e.name),V(typeof C=="boolean",e,"internal-error"),V(typeof S=="boolean",e,"internal-error"),Or(p,e.name),Or(g,e.name),Or(_,e.name),Or(E,e.name),Or(m,e.name),Or(v,e.name);const N=new _n({uid:y,auth:e,email:f,emailVerified:C,displayName:d,isAnonymous:S,photoURL:g,phoneNumber:p,tenantId:_,stsTokenManager:k,createdAt:m,lastLoginAt:v});return b&&Array.isArray(b)&&(N.providerData=b.map(w=>Object.assign({},w))),E&&(N._redirectEventId=E),N}static async _fromIdTokenResponse(e,n,r=!1){const i=new zs;i.updateFromServerResponse(n);const s=new _n({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await Bu(s),s}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];V(i.localId!==void 0,"internal-error");const s=i.providerUserInfo!==void 0?Vb(i.providerUserInfo):[],o=!(i.email&&i.passwordHash)&&!(s!=null&&s.length),a=new zs;a.updateFromIdToken(r);const l=new _n({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:o}),c={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new Wp(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(s!=null&&s.length)};return Object.assign(l,c),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L_=new Map;function cr(t){Cr(t instanceof Function,"Expected a class definition");let e=L_.get(t);return e?(Cr(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,L_.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ub{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}Ub.type="NONE";const j_=Ub;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xc(t,e,n){return`firebase:${t}:${e}:${n}`}class Ws{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=Xc(this.userKey,i.apiKey,s),this.fullPersistenceKey=Xc("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Uu(this.auth,{idToken:e}).catch(()=>{});return n?_n._fromGetAccountInfoResponse(this.auth,n,e):null}return _n._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Ws(cr(j_),e,r);const i=(await Promise.all(n.map(async c=>{if(await c._isAvailable())return c}))).filter(c=>c);let s=i[0]||cr(j_);const o=Xc(r,e.config.apiKey,e.name);let a=null;for(const c of n)try{const u=await c._get(o);if(u){let d;if(typeof u=="string"){const f=await Uu(e,{idToken:u}).catch(()=>{});if(!f)break;d=await _n._fromGetAccountInfoResponse(e,f,u)}else d=_n._fromJSON(e,u);c!==s&&(a=d),s=c;break}}catch{}const l=i.filter(c=>c._shouldAllowMigration);return!s._shouldAllowMigration||!l.length?new Ws(s,e,r):(s=l[0],a&&await s._set(o,a.toJSON()),await Promise.all(n.map(async c=>{if(c!==s)try{await c._remove(o)}catch{}})),new Ws(s,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function F_(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(Hb(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(Bb(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(Kb(e))return"Blackberry";if(qb(e))return"Webos";if(zb(e))return"Safari";if((e.includes("chrome/")||Wb(e))&&!e.includes("edge/"))return"Chrome";if(Gb(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function Bb(t=xt()){return/firefox\//i.test(t)}function zb(t=xt()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Wb(t=xt()){return/crios\//i.test(t)}function Hb(t=xt()){return/iemobile/i.test(t)}function Gb(t=xt()){return/android/i.test(t)}function Kb(t=xt()){return/blackberry/i.test(t)}function qb(t=xt()){return/webos/i.test(t)}function ly(t=xt()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function z2(t=xt()){var e;return ly(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function W2(){return nO()&&document.documentMode===10}function Yb(t=xt()){return ly(t)||Gb(t)||qb(t)||Kb(t)||/windows phone/i.test(t)||Hb(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qb(t,e=[]){let n;switch(t){case"Browser":n=F_(xt());break;case"Worker":n=`${F_(xt())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${os}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H2{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((o,a)=>{try{const l=e(s);o(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function G2(t,e={}){return Nr(t,"GET","/v2/passwordPolicy",Rr(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K2=6;class q2{constructor(e){var n,r,i,s;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:K2,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,s,o,a;const l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=(n=l.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),l.isValid&&(l.isValid=(r=l.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(i=l.containsLowercaseLetter)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(s=l.containsUppercaseLetter)!==null&&s!==void 0?s:!0),l.isValid&&(l.isValid=(o=l.containsNumericCharacter)!==null&&o!==void 0?o:!0),l.isValid&&(l.isValid=(a=l.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),l}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y2{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new $_(this),this.idTokenSubscription=new $_(this),this.beforeStateQueue=new H2(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Lb,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(s=>this._resolvePersistenceManagerAvailable=s)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=cr(n)),this._initializationPromise=this.queue(async()=>{var r,i,s;if(!this._deleted&&(this.persistenceManager=await Ws.create(this,e),(r=this._resolvePersistenceManagerAvailable)===null||r===void 0||r.call(this),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((s=this.currentUser)===null||s===void 0?void 0:s.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Uu(this,{idToken:e}),r=await _n._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(gt(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let i=r,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i==null?void 0:i._redirectEventId,l=await this.tryRedirectSignIn(e);(!o||o===a)&&(l!=null&&l.user)&&(i=l.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return V(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Bu(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=k2()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(gt(this.app))return Promise.reject(pr(this));const n=e?Te(e):null;return n&&V(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&V(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return gt(this.app)?Promise.reject(pr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return gt(this.app)?Promise.reject(pr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(cr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await G2(this),n=new q2(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new ss("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await B2(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&cr(e)||this._popupRedirectResolver;V(n,this,"argument-error"),this.redirectPersistenceManager=await Ws.create(this,[cr(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(V(a,this,"internal-error"),a.then(()=>{o||s(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,r,i);return()=>{o=!0,l()}}else{const l=e.addObserver(n);return()=>{o=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return V(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Qb(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;if(gt(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&E2(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function gi(t){return Te(t)}class $_{constructor(e){this.auth=e,this.observer=null,this.addObserver=uO(n=>this.observer=n)}get next(){return V(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let $d={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Q2(t){$d=t}function Xb(t){return $d.loadJS(t)}function X2(){return $d.recaptchaEnterpriseScript}function J2(){return $d.gapiScript}function Z2(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class eM{constructor(){this.enterprise=new tM}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class tM{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const nM="recaptcha-enterprise",Jb="NO_RECAPTCHA";class rM{constructor(e){this.type=nM,this.auth=gi(e)}async verify(e="verify",n=!1){async function r(s){if(!n){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise(async(o,a)=>{O2(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const c=new D2(l);return s.tenantId==null?s._agentRecaptchaConfig=c:s._tenantRecaptchaConfigs[s.tenantId]=c,o(c.siteKey)}}).catch(l=>{a(l)})})}function i(s,o,a){const l=window.grecaptcha;O_(l)?l.enterprise.ready(()=>{l.enterprise.execute(s,{action:e}).then(c=>{o(c)}).catch(()=>{o(Jb)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new eM().execute("siteKey",{action:"verify"}):new Promise((s,o)=>{r(this.auth).then(a=>{if(!n&&O_(window.grecaptcha))i(a,s,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let l=X2();l.length!==0&&(l+=a),Xb(l).then(()=>{i(a,s,o)}).catch(c=>{o(c)})}}).catch(a=>{o(a)})})}}async function Go(t,e,n,r=!1,i=!1){const s=new rM(t);let o;if(i)o=Jb;else try{o=await s.verify(n)}catch{o=await s.verify(n,!0)}const a=Object.assign({},e);if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in a){const l=a.phoneEnrollmentInfo.phoneNumber,c=a.phoneEnrollmentInfo.recaptchaToken;Object.assign(a,{phoneEnrollmentInfo:{phoneNumber:l,recaptchaToken:c,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in a){const l=a.phoneSignInInfo.recaptchaToken;Object.assign(a,{phoneSignInInfo:{recaptchaToken:l,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return a}return r?Object.assign(a,{captchaResp:o}):Object.assign(a,{captchaResponse:o}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a}async function Hp(t,e,n,r,i){var s,o;if(i==="EMAIL_PASSWORD_PROVIDER")if(!((s=t._getRecaptchaConfig())===null||s===void 0)&&s.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const a=await Go(t,e,n,n==="getOobCode");return r(t,a)}else return r(t,e).catch(async a=>{if(a.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const l=await Go(t,e,n,n==="getOobCode");return r(t,l)}else return Promise.reject(a)});else if(i==="PHONE_PROVIDER")if(!((o=t._getRecaptchaConfig())===null||o===void 0)&&o.isProviderEnabled("PHONE_PROVIDER")){const a=await Go(t,e,n);return r(t,a).catch(async l=>{var c;if(((c=t._getRecaptchaConfig())===null||c===void 0?void 0:c.getProviderEnforcementState("PHONE_PROVIDER"))==="AUDIT"&&(l.code==="auth/missing-recaptcha-token"||l.code==="auth/invalid-app-credential")){console.log(`Failed to verify with reCAPTCHA Enterprise. Automatically triggering the reCAPTCHA v2 flow to complete the ${n} flow.`);const u=await Go(t,e,n,!1,!0);return r(t,u)}return Promise.reject(l)})}else{const a=await Go(t,e,n,!1,!0);return r(t,a)}else return Promise.reject(i+" provider is not supported.")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iM(t,e){const n=mi(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),s=n.getOptions();if(Gi(s,e??{}))return i;ln(i,"already-initialized")}return n.initialize({options:e})}function sM(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(cr);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function Zb(t,e,n){const r=gi(t);V(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!!(n!=null&&n.disableWarnings),s=e1(e),{host:o,port:a}=oM(e),l=a===null?"":`:${a}`,c={url:`${s}//${o}${l}/`},u=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){V(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),V(Gi(c,r.config.emulator)&&Gi(u,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=c,r.emulatorConfig=u,r.settings.appVerificationDisabledForTesting=!0,is(o)?(pi("Auth",!0),Md(`${s}//${o}${l}`)):i||aM()}function e1(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function oM(t){const e=e1(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:V_(r.substr(s.length+1))}}else{const[s,o]=r.split(":");return{host:s,port:V_(o)}}}function V_(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function aM(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cy{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return lr("not implemented")}_getIdTokenResponse(e){return lr("not implemented")}_linkToIdToken(e,n){return lr("not implemented")}_getReauthenticationResolver(e){return lr("not implemented")}}async function lM(t,e){return Nr(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cM(t,e){return Dl(t,"POST","/v1/accounts:signInWithPassword",Rr(t,e))}async function uM(t,e){return Nr(t,"POST","/v1/accounts:sendOobCode",Rr(t,e))}async function dM(t,e){return uM(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fM(t,e){return Dl(t,"POST","/v1/accounts:signInWithEmailLink",Rr(t,e))}async function hM(t,e){return Dl(t,"POST","/v1/accounts:signInWithEmailLink",Rr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nl extends cy{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new nl(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new nl(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Hp(e,n,"signInWithPassword",cM,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return fM(e,{email:this._email,oobCode:this._password});default:ln(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Hp(e,r,"signUpPassword",lM,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return hM(e,{idToken:n,email:this._email,oobCode:this._password});default:ln(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Hs(t,e){return Dl(t,"POST","/v1/accounts:signInWithIdp",Rr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pM="http://localhost";class Ki extends cy{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Ki(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):ln("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,s=ry(n,["providerId","signInMethod"]);if(!r||!i)return null;const o=new Ki(r,i);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return Hs(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Hs(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Hs(e,n)}buildRequest(){const e={requestUri:pM,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=ko(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mM(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function gM(t){const e=sa(oa(t)).link,n=e?sa(oa(e)).deep_link_id:null,r=sa(oa(t)).deep_link_id;return(r?sa(oa(r)).link:null)||r||n||e||t}class uy{constructor(e){var n,r,i,s,o,a;const l=sa(oa(e)),c=(n=l.apiKey)!==null&&n!==void 0?n:null,u=(r=l.oobCode)!==null&&r!==void 0?r:null,d=mM((i=l.mode)!==null&&i!==void 0?i:null);V(c&&u&&d,"argument-error"),this.apiKey=c,this.operation=d,this.code=u,this.continueUrl=(s=l.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(o=l.lang)!==null&&o!==void 0?o:null,this.tenantId=(a=l.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){const n=gM(e);try{return new uy(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Io{constructor(){this.providerId=Io.PROVIDER_ID}static credential(e,n){return nl._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=uy.parseLink(n);return V(r,"argument-error"),nl._fromEmailAndCode(e,r.code,r.tenantId)}}Io.PROVIDER_ID="password";Io.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Io.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dy{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ol extends dy{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vr extends Ol{constructor(){super("facebook.com")}static credential(e){return Ki._fromParams({providerId:Vr.PROVIDER_ID,signInMethod:Vr.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Vr.credentialFromTaggedObject(e)}static credentialFromError(e){return Vr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Vr.credential(e.oauthAccessToken)}catch{return null}}}Vr.FACEBOOK_SIGN_IN_METHOD="facebook.com";Vr.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ir extends Ol{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Ki._fromParams({providerId:ir.PROVIDER_ID,signInMethod:ir.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return ir.credentialFromTaggedObject(e)}static credentialFromError(e){return ir.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return ir.credential(n,r)}catch{return null}}}ir.GOOGLE_SIGN_IN_METHOD="google.com";ir.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ur extends Ol{constructor(){super("github.com")}static credential(e){return Ki._fromParams({providerId:Ur.PROVIDER_ID,signInMethod:Ur.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ur.credentialFromTaggedObject(e)}static credentialFromError(e){return Ur.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ur.credential(e.oauthAccessToken)}catch{return null}}}Ur.GITHUB_SIGN_IN_METHOD="github.com";Ur.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Br extends Ol{constructor(){super("twitter.com")}static credential(e,n){return Ki._fromParams({providerId:Br.PROVIDER_ID,signInMethod:Br.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Br.credentialFromTaggedObject(e)}static credentialFromError(e){return Br.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Br.credential(n,r)}catch{return null}}}Br.TWITTER_SIGN_IN_METHOD="twitter.com";Br.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yM(t,e){return Dl(t,"POST","/v1/accounts:signUp",Rr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qi{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const s=await _n._fromIdTokenResponse(e,r,i),o=U_(r);return new qi({user:s,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=U_(r);return new qi({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function U_(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zu extends Gn{constructor(e,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,zu.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new zu(e,n,r,i)}}function t1(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?zu._fromErrorAndOperation(t,s,e,r):s})}async function vM(t,e,n=!1){const r=await tl(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return qi._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _M(t,e,n=!1){const{auth:r}=t;if(gt(r.app))return Promise.reject(pr(r));const i="reauthenticate";try{const s=await tl(t,t1(r,i,e,t),n);V(s.idToken,r,"internal-error");const o=ay(s.idToken);V(o,r,"internal-error");const{sub:a}=o;return V(t.uid===a,r,"user-mismatch"),qi._forOperation(t,i,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&ln(r,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function n1(t,e,n=!1){if(gt(t.app))return Promise.reject(pr(t));const r="signIn",i=await t1(t,r,e),s=await qi._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(s.user),s}async function wM(t,e){return n1(gi(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xM(t,e,n){var r;V(((r=n.url)===null||r===void 0?void 0:r.length)>0,t,"invalid-continue-uri"),V(typeof n.dynamicLinkDomain>"u"||n.dynamicLinkDomain.length>0,t,"invalid-dynamic-link-domain"),V(typeof n.linkDomain>"u"||n.linkDomain.length>0,t,"invalid-hosting-link-domain"),e.continueUrl=n.url,e.dynamicLinkDomain=n.dynamicLinkDomain,e.linkDomain=n.linkDomain,e.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(V(n.iOS.bundleId.length>0,t,"missing-ios-bundle-id"),e.iOSBundleId=n.iOS.bundleId),n.android&&(V(n.android.packageName.length>0,t,"missing-android-pkg-name"),e.androidInstallApp=n.android.installApp,e.androidMinimumVersionCode=n.android.minimumVersion,e.androidPackageName=n.android.packageName)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function r1(t){const e=gi(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function CM(t,e,n){if(gt(t.app))return Promise.reject(pr(t));const r=gi(t),o=await Hp(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",yM,"EMAIL_PASSWORD_PROVIDER").catch(l=>{throw l.code==="auth/password-does-not-meet-requirements"&&r1(t),l}),a=await qi._fromIdTokenResponse(r,"signIn",o);return await r._updateCurrentUser(a.user),a}function EM(t,e,n){return gt(t.app)?Promise.reject(pr(t)):wM(Te(t),Io.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&r1(t),r})}async function SM(t,e){const n=Te(t),i={requestType:"VERIFY_EMAIL",idToken:await t.getIdToken()};e&&xM(n.auth,i,e);const{email:s}=await dM(n.auth,i);s!==t.email&&await t.reload()}function bM(t,e,n,r){return Te(t).onIdTokenChanged(e,n,r)}function TM(t,e,n){return Te(t).beforeAuthStateChanged(e,n)}function kM(t,e,n,r){return Te(t).onAuthStateChanged(e,n,r)}function IM(t){return Te(t).signOut()}const Wu="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i1{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Wu,"1"),this.storage.removeItem(Wu),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PM=1e3,RM=10;class s1 extends i1{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Yb(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,l)=>{this.notifyListeners(o,l)});return}const r=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},s=this.storage.getItem(r);W2()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,RM):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},PM)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}s1.type="LOCAL";const NM=s1;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o1 extends i1{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}o1.type="SESSION";const a1=o1;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AM(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vd{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new Vd(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:s}=n.data,o=this.handlersMap[i];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const a=Array.from(o).map(async c=>c(n.origin,s)),l=await AM(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Vd.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fy(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DM{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((a,l)=>{const c=fy("",20);i.port1.start();const u=setTimeout(()=>{l(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(d){const f=d;if(f.data.eventId===c)switch(f.data.status){case"ack":clearTimeout(u),s=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(f.data.response);break;default:clearTimeout(u),clearTimeout(s),l(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:c,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vn(){return window}function OM(t){Vn().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function l1(){return typeof Vn().WorkerGlobalScope<"u"&&typeof Vn().importScripts=="function"}async function MM(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function LM(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function jM(){return l1()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c1="firebaseLocalStorageDb",FM=1,Hu="firebaseLocalStorage",u1="fbase_key";class Ml{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Ud(t,e){return t.transaction([Hu],e?"readwrite":"readonly").objectStore(Hu)}function $M(){const t=indexedDB.deleteDatabase(c1);return new Ml(t).toPromise()}function Gp(){const t=indexedDB.open(c1,FM);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Hu,{keyPath:u1})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(Hu)?e(r):(r.close(),await $M(),e(await Gp()))})})}async function B_(t,e,n){const r=Ud(t,!0).put({[u1]:e,value:n});return new Ml(r).toPromise()}async function VM(t,e){const n=Ud(t,!1).get(e),r=await new Ml(n).toPromise();return r===void 0?null:r.value}function z_(t,e){const n=Ud(t,!0).delete(e);return new Ml(n).toPromise()}const UM=800,BM=3;class d1{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Gp(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>BM)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return l1()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Vd._getInstance(jM()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await MM(),!this.activeServiceWorker)return;this.sender=new DM(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||LM()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Gp();return await B_(e,Wu,"1"),await z_(e,Wu),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>B_(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>VM(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>z_(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=Ud(i,!1).getAll();return new Ml(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:s}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),UM)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}d1.type="LOCAL";const zM=d1;new Al(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function f1(t,e){return e?cr(e):(V(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hy extends cy{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Hs(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Hs(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Hs(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function WM(t){return n1(t.auth,new hy(t),t.bypassAuthState)}function HM(t){const{auth:e,user:n}=t;return V(n,e,"internal-error"),_M(n,new hy(t),t.bypassAuthState)}async function GM(t){const{auth:e,user:n}=t;return V(n,e,"internal-error"),vM(n,new hy(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h1{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:o,type:a}=e;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(c){this.reject(c)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return WM;case"linkViaPopup":case"linkViaRedirect":return GM;case"reauthViaPopup":case"reauthViaRedirect":return HM;default:ln(this.auth,"internal-error")}}resolve(e){Cr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Cr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KM=new Al(2e3,1e4);async function qM(t,e,n){if(gt(t.app))return Promise.reject(Sn(t,"operation-not-supported-in-this-environment"));const r=gi(t);S2(t,e,dy);const i=f1(r,n);return new Ni(r,"signInViaPopup",e,i).executeNotNull()}class Ni extends h1{constructor(e,n,r,i,s){super(e,n,i,s),this.provider=r,this.authWindow=null,this.pollId=null,Ni.currentPopupAction&&Ni.currentPopupAction.cancel(),Ni.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return V(e,this.auth,"internal-error"),e}async onExecution(){Cr(this.filter.length===1,"Popup operations only handle one event");const e=fy();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Sn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Sn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ni.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Sn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,KM.get())};e()}}Ni.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YM="pendingRedirect",Jc=new Map;class QM extends h1{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Jc.get(this.auth._key());if(!e){try{const r=await XM(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Jc.set(this.auth._key(),e)}return this.bypassAuthState||Jc.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function XM(t,e){const n=eL(e),r=ZM(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function JM(t,e){Jc.set(t._key(),e)}function ZM(t){return cr(t._redirectPersistence)}function eL(t){return Xc(YM,t.config.apiKey,t.name)}async function tL(t,e,n=!1){if(gt(t.app))return Promise.reject(pr(t));const r=gi(t),i=f1(r,e),o=await new QM(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nL=10*60*1e3;class rL{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!iL(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!p1(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(Sn(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=nL&&this.cachedEventUids.clear(),this.cachedEventUids.has(W_(e))}saveEventToCache(e){this.cachedEventUids.add(W_(e)),this.lastProcessedEventTime=Date.now()}}function W_(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function p1({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function iL(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return p1(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sL(t,e={}){return Nr(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oL=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,aL=/^https?/;async function lL(t){if(t.config.emulator)return;const{authorizedDomains:e}=await sL(t);for(const n of e)try{if(cL(n))return}catch{}ln(t,"unauthorized-domain")}function cL(t){const e=zp(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!aL.test(n))return!1;if(oL.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uL=new Al(3e4,6e4);function H_(){const t=Vn().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function dL(t){return new Promise((e,n)=>{var r,i,s;function o(){H_(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{H_(),n(Sn(t,"network-request-failed"))},timeout:uL.get()})}if(!((i=(r=Vn().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=Vn().gapi)===null||s===void 0)&&s.load)o();else{const a=Z2("iframefcb");return Vn()[a]=()=>{gapi.load?o():n(Sn(t,"network-request-failed"))},Xb(`${J2()}?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw Zc=null,e})}let Zc=null;function fL(t){return Zc=Zc||dL(t),Zc}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hL=new Al(5e3,15e3),pL="__/auth/iframe",mL="emulator/auth/iframe",gL={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},yL=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function vL(t){const e=t.config;V(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?oy(e,mL):`https://${t.config.authDomain}/${pL}`,r={apiKey:e.apiKey,appName:t.name,v:os},i=yL.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${ko(r).slice(1)}`}async function _L(t){const e=await fL(t),n=Vn().gapi;return V(n,t,"internal-error"),e.open({where:document.body,url:vL(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:gL,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const o=Sn(t,"network-request-failed"),a=Vn().setTimeout(()=>{s(o)},hL.get());function l(){Vn().clearTimeout(a),i(r)}r.ping(l).then(l,()=>{s(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wL={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},xL=500,CL=600,EL="_blank",SL="http://localhost";class G_{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function bL(t,e,n,r=xL,i=CL){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=Object.assign(Object.assign({},wL),{width:r.toString(),height:i.toString(),top:s,left:o}),c=xt().toLowerCase();n&&(a=Wb(c)?EL:n),Bb(c)&&(e=e||SL,l.scrollbars="yes");const u=Object.entries(l).reduce((f,[p,g])=>`${f}${p}=${g},`,"");if(z2(c)&&a!=="_self")return TL(e||"",a),new G_(null);const d=window.open(e||"",a,u);V(d,t,"popup-blocked");try{d.focus()}catch{}return new G_(d)}function TL(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kL="__/auth/handler",IL="emulator/auth/handler",PL=encodeURIComponent("fac");async function K_(t,e,n,r,i,s){V(t.config.authDomain,t,"auth-domain-config-required"),V(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:os,eventId:i};if(e instanceof dy){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",Lp(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[u,d]of Object.entries(s||{}))o[u]=d}if(e instanceof Ol){const u=e.getScopes().filter(d=>d!=="");u.length>0&&(o.scopes=u.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const u of Object.keys(a))a[u]===void 0&&delete a[u];const l=await t._getAppCheckToken(),c=l?`#${PL}=${encodeURIComponent(l)}`:"";return`${RL(t)}?${ko(a).slice(1)}${c}`}function RL({config:t}){return t.emulator?oy(t,IL):`https://${t.authDomain}/${kL}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ch="webStorageSupport";class NL{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=a1,this._completeRedirectFn=tL,this._overrideRedirectResult=JM}async _openPopup(e,n,r,i){var s;Cr((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const o=await K_(e,n,r,zp(),i);return bL(e,o,fy())}async _openRedirect(e,n,r,i){await this._originValidation(e);const s=await K_(e,n,r,zp(),i);return OM(s),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(Cr(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await _L(e),r=new rL(e);return n.register("authEvent",i=>(V(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(ch,{type:ch},i=>{var s;const o=(s=i==null?void 0:i[0])===null||s===void 0?void 0:s[ch];o!==void 0&&n(!!o),ln(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=lL(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return Yb()||zb()||ly()}}const AL=NL;var q_="@firebase/auth",Y_="1.10.4";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DL{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){V(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OL(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function ML(t){an(new Bt("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;V(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Qb(t)},c=new Y2(r,i,s,l);return sM(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),an(new Bt("auth-internal",e=>{const n=gi(e.getProvider("auth").getImmediate());return(r=>new DL(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),dt(q_,Y_,OL(t)),dt(q_,Y_,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LL=5*60,jL=Eb("authIdTokenMaxAge")||LL;let Q_=null;const FL=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>jL)return;const i=n==null?void 0:n.token;Q_!==i&&(Q_=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function $L(t=Nl()){const e=mi(t,"auth");if(e.isInitialized())return e.getImmediate();const n=iM(t,{popupRedirectResolver:AL,persistence:[zM,NM,a1]}),r=Eb("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const s=new URL(r,location.origin);if(location.origin===s.origin){const o=FL(s.toString());TM(n,o,()=>o(n.currentUser)),bM(n,a=>o(a))}}const i=xb("auth");return i?Zb(n,`http://${i}`):pi("Auth",!1),n}function VL(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}Q2({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=Sn("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",VL().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});ML("Browser");const X_="@firebase/database",J_="1.0.17";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let m1="";function UL(t){m1=t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BL{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,n){n==null?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),ze(n))}get(e){const n=this.domStorage_.getItem(this.prefixedName_(e));return n==null?null:Za(n)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zL{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,n){n==null?delete this.cache_[e]:this.cache_[e]=n}get(e){return Kn(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g1=function(t){try{if(typeof window<"u"&&typeof window[t]<"u"){const e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new BL(e)}}catch{}return new zL},Ai=g1("localStorage"),Kp=g1("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gs=new ty("@firebase/database"),WL=function(){let t=1;return function(){return t++}}(),y1=function(t){const e=hO(t),n=new cO;n.update(e);const r=n.digest();return Xg.encodeByteArray(r)},Ll=function(...t){let e="";for(let n=0;n<t.length;n++){const r=t[n];Array.isArray(r)||r&&typeof r=="object"&&typeof r.length=="number"?e+=Ll.apply(null,r):typeof r=="object"?e+=ze(r):e+=r,e+=" "}return e};let Fi=null,Z_=!0;const HL=function(t,e){D(!e||t===!0||t===!1,"Can't turn on custom loggers persistently."),t===!0?(Gs.logLevel=se.VERBOSE,Fi=Gs.log.bind(Gs),e&&Kp.set("logging_enabled",!0)):typeof t=="function"?Fi=t:(Fi=null,Kp.remove("logging_enabled"))},Ze=function(...t){if(Z_===!0&&(Z_=!1,Fi===null&&Kp.get("logging_enabled")===!0&&HL(!0)),Fi){const e=Ll.apply(null,t);Fi(e)}},jl=function(t){return function(...e){Ze(t,...e)}},qp=function(...t){const e="FIREBASE INTERNAL ERROR: "+Ll(...t);Gs.error(e)},Er=function(...t){const e=`FIREBASE FATAL ERROR: ${Ll(...t)}`;throw Gs.error(e),new Error(e)},wt=function(...t){const e="FIREBASE WARNING: "+Ll(...t);Gs.warn(e)},GL=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&wt("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},py=function(t){return typeof t=="number"&&(t!==t||t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY)},KL=function(t){if(document.readyState==="complete")t();else{let e=!1;const n=function(){if(!document.body){setTimeout(n,Math.floor(10));return}e||(e=!0,t())};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&n()}),window.attachEvent("onload",n))}},so="[MIN_NAME]",Yi="[MAX_NAME]",as=function(t,e){if(t===e)return 0;if(t===so||e===Yi)return-1;if(e===so||t===Yi)return 1;{const n=ew(t),r=ew(e);return n!==null?r!==null?n-r===0?t.length-e.length:n-r:-1:r!==null?1:t<e?-1:1}},qL=function(t,e){return t===e?0:t<e?-1:1},Ko=function(t,e){if(e&&t in e)return e[t];throw new Error("Missing required key ("+t+") in object: "+ze(e))},my=function(t){if(typeof t!="object"||t===null)return ze(t);const e=[];for(const r in t)e.push(r);e.sort();let n="{";for(let r=0;r<e.length;r++)r!==0&&(n+=","),n+=ze(e[r]),n+=":",n+=my(t[e[r]]);return n+="}",n},v1=function(t,e){const n=t.length;if(n<=e)return[t];const r=[];for(let i=0;i<n;i+=e)i+e>n?r.push(t.substring(i,n)):r.push(t.substring(i,i+e));return r};function nt(t,e){for(const n in t)t.hasOwnProperty(n)&&e(n,t[n])}const _1=function(t){D(!py(t),"Invalid JSON number");const e=11,n=52,r=(1<<e-1)-1;let i,s,o,a,l;t===0?(s=0,o=0,i=1/t===-1/0?1:0):(i=t<0,t=Math.abs(t),t>=Math.pow(2,1-r)?(a=Math.min(Math.floor(Math.log(t)/Math.LN2),r),s=a+r,o=Math.round(t*Math.pow(2,n-a)-Math.pow(2,n))):(s=0,o=Math.round(t/Math.pow(2,1-r-n))));const c=[];for(l=n;l;l-=1)c.push(o%2?1:0),o=Math.floor(o/2);for(l=e;l;l-=1)c.push(s%2?1:0),s=Math.floor(s/2);c.push(i?1:0),c.reverse();const u=c.join("");let d="";for(l=0;l<64;l+=8){let f=parseInt(u.substr(l,8),2).toString(16);f.length===1&&(f="0"+f),d=d+f}return d.toLowerCase()},YL=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},QL=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function XL(t,e){let n="Unknown Error";t==="too_big"?n="The data requested exceeds the maximum size that can be accessed with a single request.":t==="permission_denied"?n="Client doesn't have permission to access the desired data.":t==="unavailable"&&(n="The service is unavailable");const r=new Error(t+" at "+e._path.toString()+": "+n);return r.code=t.toUpperCase(),r}const JL=new RegExp("^-?(0*)\\d{1,10}$"),ZL=-2147483648,ej=2147483647,ew=function(t){if(JL.test(t)){const e=Number(t);if(e>=ZL&&e<=ej)return e}return null},Po=function(t){try{t()}catch(e){setTimeout(()=>{const n=e.stack||"";throw wt("Exception was thrown by user callback.",n),e},Math.floor(0))}},tj=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},Sa=function(t,e){const n=setTimeout(t,e);return typeof n=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(n):typeof n=="object"&&n.unref&&n.unref(),n};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nj{constructor(e,n){this.appCheckProvider=n,this.appName=e.name,gt(e)&&e.settings.appCheckToken&&(this.serverAppAppCheckToken=e.settings.appCheckToken),this.appCheck=n==null?void 0:n.getImmediate({optional:!0}),this.appCheck||n==null||n.get().then(r=>this.appCheck=r)}getToken(e){if(this.serverAppAppCheckToken){if(e)throw new Error("Attempted reuse of `FirebaseServerApp.appCheckToken` after previous usage failed.");return Promise.resolve({token:this.serverAppAppCheckToken})}return this.appCheck?this.appCheck.getToken(e):new Promise((n,r)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){var n;(n=this.appCheckProvider)===null||n===void 0||n.get().then(r=>r.addTokenListener(e))}notifyForInvalidToken(){wt(`Provided AppCheck credentials for the app named "${this.appName}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rj{constructor(e,n,r){this.appName_=e,this.firebaseOptions_=n,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit(i=>this.auth_=i)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(n=>n&&n.code==="auth/token-not-initialized"?(Ze("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(n)):new Promise((n,r)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(n=>n.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(n=>n.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',wt(e)}}class Ks{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}Ks.OWNER="owner";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gy="5",w1="v",x1="s",C1="r",E1="f",S1=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,b1="ls",T1="p",Yp="ac",k1="websocket",I1="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P1{constructor(e,n,r,i,s=!1,o="",a=!1,l=!1,c=null){this.secure=n,this.namespace=r,this.webSocketOnly=i,this.nodeAdmin=s,this.persistenceKey=o,this.includeNamespaceInQueryParams=a,this.isUsingEmulator=l,this.emulatorOptions=c,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Ai.get("host:"+e)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&Ai.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){const e=this.secure?"https://":"http://",n=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${e}${this.host}/${n}`}}function ij(t){return t.host!==t.internalHost||t.isCustomHost()||t.includeNamespaceInQueryParams}function R1(t,e,n){D(typeof e=="string","typeof type must == string"),D(typeof n=="object","typeof params must == object");let r;if(e===k1)r=(t.secure?"wss://":"ws://")+t.internalHost+"/.ws?";else if(e===I1)r=(t.secure?"https://":"http://")+t.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+e);ij(t)&&(n.ns=t.namespace);const i=[];return nt(n,(s,o)=>{i.push(s+"="+o)}),r+i.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sj{constructor(){this.counters_={}}incrementCounter(e,n=1){Kn(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=n}get(){return GD(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uh={},dh={};function yy(t){const e=t.toString();return uh[e]||(uh[e]=new sj),uh[e]}function oj(t,e){const n=t.toString();return dh[n]||(dh[n]=e()),dh[n]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aj{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,n){this.closeAfterResponse=e,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,n){for(this.pendingResponses[e]=n;this.pendingResponses[this.currentResponseNum];){const r=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let i=0;i<r.length;++i)r[i]&&Po(()=>{this.onMessage_(r[i])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tw="start",lj="close",cj="pLPCommand",uj="pRTLPCB",N1="id",A1="pw",D1="ser",dj="cb",fj="seg",hj="ts",pj="d",mj="dframe",O1=1870,M1=30,gj=O1-M1,yj=25e3,vj=3e4;class Ns{constructor(e,n,r,i,s,o,a){this.connId=e,this.repoInfo=n,this.applicationId=r,this.appCheckToken=i,this.authToken=s,this.transportSessionId=o,this.lastSessionId=a,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=jl(e),this.stats_=yy(n),this.urlFn=l=>(this.appCheckToken&&(l[Yp]=this.appCheckToken),R1(n,I1,l))}open(e,n){this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new aj(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(vj)),KL(()=>{if(this.isClosed_)return;this.scriptTagHolder=new vy((...s)=>{const[o,a,l,c,u]=s;if(this.incrementIncomingBytes_(s),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,o===tw)this.id=a,this.password=l;else if(o===lj)a?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(a,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+o)},(...s)=>{const[o,a]=s;this.incrementIncomingBytes_(s),this.myPacketOrderer.handleResponse(o,a)},()=>{this.onClosed_()},this.urlFn);const r={};r[tw]="t",r[D1]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(r[dj]=this.scriptTagHolder.uniqueCallbackIdentifier),r[w1]=gy,this.transportSessionId&&(r[x1]=this.transportSessionId),this.lastSessionId&&(r[b1]=this.lastSessionId),this.applicationId&&(r[T1]=this.applicationId),this.appCheckToken&&(r[Yp]=this.appCheckToken),typeof location<"u"&&location.hostname&&S1.test(location.hostname)&&(r[C1]=E1);const i=this.urlFn(r);this.log_("Connecting via long-poll to "+i),this.scriptTagHolder.addTag(i,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){Ns.forceAllow_=!0}static forceDisallow(){Ns.forceDisallow_=!0}static isAvailable(){return Ns.forceAllow_?!0:!Ns.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!YL()&&!QL()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const n=ze(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=_b(n),i=v1(r,gj);for(let s=0;s<i.length;s++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,i.length,i[s]),this.curSegmentNum++}addDisconnectPingFrame(e,n){this.myDisconnFrame=document.createElement("iframe");const r={};r[mj]="t",r[N1]=e,r[A1]=n,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const n=ze(e).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)}}class vy{constructor(e,n,r,i){this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=WL(),window[cj+this.uniqueCallbackIdentifier]=e,window[uj+this.uniqueCallbackIdentifier]=n,this.myIFrame=vy.createIFrame_();let s="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(s='<script>document.domain="'+document.domain+'";<\/script>');const o="<html><body>"+s+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(o),this.myIFrame.doc.close()}catch(a){Ze("frame writing exception"),a.stack&&Ze(a.stack),Ze(a)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",document.body){document.body.appendChild(e);try{e.contentWindow.document||Ze("No IE domain setting required")}catch{const r=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,n){for(this.myID=e,this.myPW=n,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e[N1]=this.myID,e[A1]=this.myPW,e[D1]=this.currentSerial;let n=this.urlFn(e),r="",i=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+M1+r.length<=O1;){const o=this.pendingSegs.shift();r=r+"&"+fj+i+"="+o.seg+"&"+hj+i+"="+o.ts+"&"+pj+i+"="+o.d,i++}return n=n+r,this.addLongPollTag_(n,this.currentSerial),!0}else return!1}enqueueSegment(e,n,r){this.pendingSegs.push({seg:e,ts:n,d:r}),this.alive&&this.newRequest_()}addLongPollTag_(e,n){this.outstandingRequests.add(n);const r=()=>{this.outstandingRequests.delete(n),this.newRequest_()},i=setTimeout(r,Math.floor(yj)),s=()=>{clearTimeout(i),r()};this.addTag(e,s)}addTag(e,n){setTimeout(()=>{try{if(!this.sendNewPolls)return;const r=this.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=e,r.onload=r.onreadystatechange=function(){const i=r.readyState;(!i||i==="loaded"||i==="complete")&&(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),n())},r.onerror=()=>{Ze("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(r)}catch{}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _j=16384,wj=45e3;let Gu=null;typeof MozWebSocket<"u"?Gu=MozWebSocket:typeof WebSocket<"u"&&(Gu=WebSocket);class yn{constructor(e,n,r,i,s,o,a){this.connId=e,this.applicationId=r,this.appCheckToken=i,this.authToken=s,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=jl(this.connId),this.stats_=yy(n),this.connURL=yn.connectionURL_(n,o,a,i,r),this.nodeAdmin=n.nodeAdmin}static connectionURL_(e,n,r,i,s){const o={};return o[w1]=gy,typeof location<"u"&&location.hostname&&S1.test(location.hostname)&&(o[C1]=E1),n&&(o[x1]=n),r&&(o[b1]=r),i&&(o[Yp]=i),s&&(o[T1]=s),R1(e,k1,o)}open(e,n){this.onDisconnect=n,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Ai.set("previous_websocket_failure",!0);try{let r;Tb(),this.mySock=new Gu(this.connURL,[],r)}catch(r){this.log_("Error instantiating WebSocket.");const i=r.message||r.data;i&&this.log_(i),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=r=>{this.handleIncomingFrame(r)},this.mySock.onerror=r=>{this.log_("WebSocket error.  Closing connection.");const i=r.message||r.data;i&&this.log_(i),this.onClosed_()}}start(){}static forceDisallow(){yn.forceDisallow_=!0}static isAvailable(){let e=!1;if(typeof navigator<"u"&&navigator.userAgent){const n=/Android ([0-9]{0,}\.[0-9]{0,})/,r=navigator.userAgent.match(n);r&&r.length>1&&parseFloat(r[1])<4.4&&(e=!0)}return!e&&Gu!==null&&!yn.forceDisallow_}static previouslyFailed(){return Ai.isInMemoryStorage||Ai.get("previous_websocket_failure")===!0}markConnectionHealthy(){Ai.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const n=this.frames.join("");this.frames=null;const r=Za(n);this.onMessage(r)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if(D(this.frames===null,"We already have a frame buffer"),e.length<=6){const n=Number(e);if(!isNaN(n))return this.handleNewFrameCount_(n),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(this.mySock===null)return;const n=e.data;if(this.bytesReceived+=n.length,this.stats_.incrementCounter("bytes_received",n.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(n);else{const r=this.extractFrameCount_(n);r!==null&&this.appendFrame_(r)}}send(e){this.resetKeepAlive();const n=ze(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=v1(n,_j);r.length>1&&this.sendString_(String(r.length));for(let i=0;i<r.length;i++)this.sendString_(r[i])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(wj))}sendString_(e){try{this.mySock.send(e)}catch(n){this.log_("Exception thrown from WebSocket.send():",n.message||n.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}yn.responsesRequiredToBeHealthy=2;yn.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rl{static get ALL_TRANSPORTS(){return[Ns,yn]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}constructor(e){this.initTransports_(e)}initTransports_(e){const n=yn&&yn.isAvailable();let r=n&&!yn.previouslyFailed();if(e.webSocketOnly&&(n||wt("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[yn];else{const i=this.transports_=[];for(const s of rl.ALL_TRANSPORTS)s&&s.isAvailable()&&i.push(s);rl.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}rl.globalTransportInitialized_=!1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xj=6e4,Cj=5e3,Ej=10*1024,Sj=100*1024,fh="t",nw="d",bj="s",rw="r",Tj="e",iw="o",sw="a",ow="n",aw="p",kj="h";class Ij{constructor(e,n,r,i,s,o,a,l,c,u){this.id=e,this.repoInfo_=n,this.applicationId_=r,this.appCheckToken_=i,this.authToken_=s,this.onMessage_=o,this.onReady_=a,this.onDisconnect_=l,this.onKill_=c,this.lastSessionId=u,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=jl("c:"+this.id+":"),this.transportManager_=new rl(n),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(n,r)},Math.floor(0));const i=e.healthyTimeout||0;i>0&&(this.healthyTimeout_=Sa(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>Sj?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>Ej?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(i)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return n=>{e===this.conn_?this.onConnectionLost_(n):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return n=>{this.state_!==2&&(e===this.rx_?this.onPrimaryMessageReceived_(n):e===this.secondaryConn_?this.onSecondaryMessageReceived_(n):this.log_("message on old connection"))}}sendRequest(e){const n={t:"d",d:e};this.sendData_(n)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if(fh in e){const n=e[fh];n===sw?this.upgradeIfSecondaryHealthy_():n===rw?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):n===iw&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const n=Ko("t",e),r=Ko("d",e);if(n==="c")this.onSecondaryControl_(r);else if(n==="d")this.pendingDataMessages.push(r);else throw new Error("Unknown protocol layer: "+n)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:aw,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:sw,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:ow,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const n=Ko("t",e),r=Ko("d",e);n==="c"?this.onControl_(r):n==="d"&&this.onDataMessage_(r)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const n=Ko(fh,e);if(nw in e){const r=e[nw];if(n===kj){const i=Object.assign({},r);this.repoInfo_.isUsingEmulator&&(i.h=this.repoInfo_.host),this.onHandshake_(i)}else if(n===ow){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let i=0;i<this.pendingDataMessages.length;++i)this.onDataMessage_(this.pendingDataMessages[i]);this.pendingDataMessages=[],this.tryCleanupConnection()}else n===bj?this.onConnectionShutdown_(r):n===rw?this.onReset_(r):n===Tj?qp("Server Error: "+r):n===iw?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):qp("Unknown control packet command: "+n)}}onHandshake_(e){const n=e.ts,r=e.v,i=e.h;this.sessionId=e.s,this.repoInfo_.host=i,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),gy!==r&&wt("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),Sa(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(xj))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,n){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Sa(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(Cj))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:aw,d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,!e&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Ai.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(e)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L1{put(e,n,r,i){}merge(e,n,r,i){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,n,r){}onDisconnectMerge(e,n,r){}onDisconnectCancel(e,n){}reportStats(e){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j1{constructor(e){this.allowedEvents_=e,this.listeners_={},D(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...n){if(Array.isArray(this.listeners_[e])){const r=[...this.listeners_[e]];for(let i=0;i<r.length;i++)r[i].callback.apply(r[i].context,n)}}on(e,n,r){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:n,context:r});const i=this.getInitialEvent(e);i&&n.apply(r,i)}off(e,n,r){this.validateEventType_(e);const i=this.listeners_[e]||[];for(let s=0;s<i.length;s++)if(i[s].callback===n&&(!r||r===i[s].context)){i.splice(s,1);return}}validateEventType_(e){D(this.allowedEvents_.find(n=>n===e),"Unknown event: "+e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ku extends j1{static getInstance(){return new Ku}constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!ey()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}getInitialEvent(e){return D(e==="online","Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lw=32,cw=768;class oe{constructor(e,n){if(n===void 0){this.pieces_=e.split("/");let r=0;for(let i=0;i<this.pieces_.length;i++)this.pieces_[i].length>0&&(this.pieces_[r]=this.pieces_[i],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=n}toString(){let e="";for(let n=this.pieceNum_;n<this.pieces_.length;n++)this.pieces_[n]!==""&&(e+="/"+this.pieces_[n]);return e||"/"}}function te(){return new oe("")}function Y(t){return t.pieceNum_>=t.pieces_.length?null:t.pieces_[t.pieceNum_]}function si(t){return t.pieces_.length-t.pieceNum_}function he(t){let e=t.pieceNum_;return e<t.pieces_.length&&e++,new oe(t.pieces_,e)}function _y(t){return t.pieceNum_<t.pieces_.length?t.pieces_[t.pieces_.length-1]:null}function Pj(t){let e="";for(let n=t.pieceNum_;n<t.pieces_.length;n++)t.pieces_[n]!==""&&(e+="/"+encodeURIComponent(String(t.pieces_[n])));return e||"/"}function il(t,e=0){return t.pieces_.slice(t.pieceNum_+e)}function F1(t){if(t.pieceNum_>=t.pieces_.length)return null;const e=[];for(let n=t.pieceNum_;n<t.pieces_.length-1;n++)e.push(t.pieces_[n]);return new oe(e,0)}function Ne(t,e){const n=[];for(let r=t.pieceNum_;r<t.pieces_.length;r++)n.push(t.pieces_[r]);if(e instanceof oe)for(let r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);else{const r=e.split("/");for(let i=0;i<r.length;i++)r[i].length>0&&n.push(r[i])}return new oe(n,0)}function J(t){return t.pieceNum_>=t.pieces_.length}function yt(t,e){const n=Y(t),r=Y(e);if(n===null)return e;if(n===r)return yt(he(t),he(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+t+")")}function Rj(t,e){const n=il(t,0),r=il(e,0);for(let i=0;i<n.length&&i<r.length;i++){const s=as(n[i],r[i]);if(s!==0)return s}return n.length===r.length?0:n.length<r.length?-1:1}function wy(t,e){if(si(t)!==si(e))return!1;for(let n=t.pieceNum_,r=e.pieceNum_;n<=t.pieces_.length;n++,r++)if(t.pieces_[n]!==e.pieces_[r])return!1;return!0}function tn(t,e){let n=t.pieceNum_,r=e.pieceNum_;if(si(t)>si(e))return!1;for(;n<t.pieces_.length;){if(t.pieces_[n]!==e.pieces_[r])return!1;++n,++r}return!0}class Nj{constructor(e,n){this.errorPrefix_=n,this.parts_=il(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let r=0;r<this.parts_.length;r++)this.byteLength_+=jd(this.parts_[r]);$1(this)}}function Aj(t,e){t.parts_.length>0&&(t.byteLength_+=1),t.parts_.push(e),t.byteLength_+=jd(e),$1(t)}function Dj(t){const e=t.parts_.pop();t.byteLength_-=jd(e),t.parts_.length>0&&(t.byteLength_-=1)}function $1(t){if(t.byteLength_>cw)throw new Error(t.errorPrefix_+"has a key path longer than "+cw+" bytes ("+t.byteLength_+").");if(t.parts_.length>lw)throw new Error(t.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+lw+") or object contains a cycle "+Ci(t))}function Ci(t){return t.parts_.length===0?"":"in property '"+t.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xy extends j1{static getInstance(){return new xy}constructor(){super(["visible"]);let e,n;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(n="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(n="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(n="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(n="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,n&&document.addEventListener(n,()=>{const r=!document[e];r!==this.visible_&&(this.visible_=r,this.trigger("visible",r))},!1)}getInitialEvent(e){return D(e==="visible","Unknown event type: "+e),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qo=1e3,Oj=60*5*1e3,uw=30*1e3,Mj=1.3,Lj=3e4,jj="server_kill",dw=3;class mr extends L1{constructor(e,n,r,i,s,o,a,l){if(super(),this.repoInfo_=e,this.applicationId_=n,this.onDataUpdate_=r,this.onConnectStatus_=i,this.onServerInfoUpdate_=s,this.authTokenProvider_=o,this.appCheckTokenProvider_=a,this.authOverride_=l,this.id=mr.nextPersistentConnectionId_++,this.log_=jl("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=qo,this.maxReconnectDelay_=Oj,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,l&&!Tb())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");xy.getInstance().on("visible",this.onVisible_,this),e.host.indexOf("fblocal")===-1&&Ku.getInstance().on("online",this.onOnline_,this)}sendRequest(e,n,r){const i=++this.requestNumber_,s={r:i,a:e,b:n};this.log_(ze(s)),D(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(s),r&&(this.requestCBHash_[i]=r)}get(e){this.initConnection_();const n=new Rl,i={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:o=>{const a=o.d;o.s==="ok"?n.resolve(a):n.reject(a)}};this.outstandingGets_.push(i),this.outstandingGetCount_++;const s=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(s),n.promise}listen(e,n,r,i){this.initConnection_();const s=e._queryIdentifier,o=e._path.toString();this.log_("Listen called for "+o+" "+s),this.listens.has(o)||this.listens.set(o,new Map),D(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),D(!this.listens.get(o).has(s),"listen() called twice for same path/queryId.");const a={onComplete:i,hashFn:n,query:e,tag:r};this.listens.get(o).set(s,a),this.connected_&&this.sendListen_(a)}sendGet_(e){const n=this.outstandingGets_[e];this.sendRequest("g",n.request,r=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),n.onComplete&&n.onComplete(r)})}sendListen_(e){const n=e.query,r=n._path.toString(),i=n._queryIdentifier;this.log_("Listen on "+r+" for "+i);const s={p:r},o="q";e.tag&&(s.q=n._queryObject,s.t=e.tag),s.h=e.hashFn(),this.sendRequest(o,s,a=>{const l=a.d,c=a.s;mr.warnOnListenWarnings_(l,n),(this.listens.get(r)&&this.listens.get(r).get(i))===e&&(this.log_("listen response",a),c!=="ok"&&this.removeListen_(r,i),e.onComplete&&e.onComplete(c,l))})}static warnOnListenWarnings_(e,n){if(e&&typeof e=="object"&&Kn(e,"w")){const r=io(e,"w");if(Array.isArray(r)&&~r.indexOf("no_index")){const i='".indexOn": "'+n._queryParams.getIndex().toString()+'"',s=n._path.toString();wt(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${i} at ${s} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&e.length===40||lO(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=uw)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,n=aO(e)?"auth":"gauth",r={cred:e};this.authOverride_===null?r.noauth=!0:typeof this.authOverride_=="object"&&(r.authvar=this.authOverride_),this.sendRequest(n,r,i=>{const s=i.s,o=i.d||"error";this.authToken_===e&&(s==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(s,o))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const n=e.s,r=e.d||"error";n==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(n,r)})}unlisten(e,n){const r=e._path.toString(),i=e._queryIdentifier;this.log_("Unlisten called for "+r+" "+i),D(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(r,i)&&this.connected_&&this.sendUnlisten_(r,i,e._queryObject,n)}sendUnlisten_(e,n,r,i){this.log_("Unlisten on "+e+" for "+n);const s={p:e},o="n";i&&(s.q=r,s.t=i),this.sendRequest(o,s)}onDisconnectPut(e,n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,n,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:n,onComplete:r})}onDisconnectMerge(e,n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,n,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:n,onComplete:r})}onDisconnectCancel(e,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:n})}sendOnDisconnect_(e,n,r,i){const s={p:n,d:r};this.log_("onDisconnect "+e,s),this.sendRequest(e,s,o=>{i&&setTimeout(()=>{i(o.s,o.d)},Math.floor(0))})}put(e,n,r,i){this.putInternal("p",e,n,r,i)}merge(e,n,r,i){this.putInternal("m",e,n,r,i)}putInternal(e,n,r,i,s){this.initConnection_();const o={p:n,d:r};s!==void 0&&(o.h=s),this.outstandingPuts_.push({action:e,request:o,onComplete:i}),this.outstandingPutCount_++;const a=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(a):this.log_("Buffering put: "+n)}sendPut_(e){const n=this.outstandingPuts_[e].action,r=this.outstandingPuts_[e].request,i=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(n,r,s=>{this.log_(n+" response",s),delete this.outstandingPuts_[e],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),i&&i(s.s,s.d)})}reportStats(e){if(this.connected_){const n={c:e};this.log_("reportStats",n),this.sendRequest("s",n,r=>{if(r.s!=="ok"){const s=r.d;this.log_("reportStats","Error sending stats: "+s)}})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+ze(e));const n=e.r,r=this.requestCBHash_[n];r&&(delete this.requestCBHash_[n],r(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,n){this.log_("handleServerMessage",e,n),e==="d"?this.onDataUpdate_(n.p,n.d,!1,n.t):e==="m"?this.onDataUpdate_(n.p,n.d,!0,n.t):e==="c"?this.onListenRevoked_(n.p,n.q):e==="ac"?this.onAuthRevoked_(n.s,n.d):e==="apc"?this.onAppCheckRevoked_(n.s,n.d):e==="sd"?this.onSecurityDebugPacket_(n):qp("Unrecognized action received from server: "+ze(e)+`
Are you using the latest client?`)}onReady_(e,n){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(e),this.lastSessionId=n,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){D(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=qo,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=qo,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>Lj&&(this.reconnectDelay_=qo),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const e=Math.max(0,new Date().getTime()-this.lastConnectionAttemptTime_);let n=Math.max(0,this.reconnectDelay_-e);n=Math.random()*n,this.log_("Trying to reconnect in "+n+"ms"),this.scheduleConnect_(n),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*Mj)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const e=this.onDataMessage_.bind(this),n=this.onReady_.bind(this),r=this.onRealtimeDisconnect_.bind(this),i=this.id+":"+mr.nextConnectionId_++,s=this.lastSessionId;let o=!1,a=null;const l=function(){a?a.close():(o=!0,r())},c=function(d){D(a,"sendRequest call when we're not connected not allowed."),a.sendRequest(d)};this.realtime_={close:l,sendRequest:c};const u=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[d,f]=await Promise.all([this.authTokenProvider_.getToken(u),this.appCheckTokenProvider_.getToken(u)]);o?Ze("getToken() completed but was canceled"):(Ze("getToken() completed. Creating connection."),this.authToken_=d&&d.accessToken,this.appCheckToken_=f&&f.token,a=new Ij(i,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,n,r,p=>{wt(p+" ("+this.repoInfo_.toString()+")"),this.interrupt(jj)},s))}catch(d){this.log_("Failed to get token: "+d),o||(this.repoInfo_.nodeAdmin&&wt(d),l())}}}interrupt(e){Ze("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){Ze("Resuming connection for reason: "+e),delete this.interruptReasons_[e],Lp(this.interruptReasons_)&&(this.reconnectDelay_=qo,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const n=e-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:n})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const n=this.outstandingPuts_[e];n&&"h"in n.request&&n.queued&&(n.onComplete&&n.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(e,n){let r;n?r=n.map(s=>my(s)).join("$"):r="default";const i=this.removeListen_(e,r);i&&i.onComplete&&i.onComplete("permission_denied")}removeListen_(e,n){const r=new oe(e).toString();let i;if(this.listens.has(r)){const s=this.listens.get(r);i=s.get(n),s.delete(n),s.size===0&&this.listens.delete(r)}else i=void 0;return i}onAuthRevoked_(e,n){Ze("Auth token revoked: "+e+"/"+n),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(e==="invalid_token"||e==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=dw&&(this.reconnectDelay_=uw,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,n){Ze("App check token revoked: "+e+"/"+n),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(e==="invalid_token"||e==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=dw&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const n of e.values())this.sendListen_(n);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let n="js";e["sdk."+n+"."+m1.replace(/\./g,"-")]=1,ey()?e["framework.cordova"]=1:bb()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=Ku.getInstance().currentlyOnline();return Lp(this.interruptReasons_)&&e}}mr.nextPersistentConnectionId_=0;mr.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q{constructor(e,n){this.name=e,this.node=n}static Wrap(e,n){return new Q(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bd{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,n){const r=new Q(so,e),i=new Q(so,n);return this.compare(r,i)!==0}minPost(){return Q.MIN}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ec;class V1 extends Bd{static get __EMPTY_NODE(){return Ec}static set __EMPTY_NODE(e){Ec=e}compare(e,n){return as(e.name,n.name)}isDefinedOn(e){throw To("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,n){return!1}minPost(){return Q.MIN}maxPost(){return new Q(Yi,Ec)}makePost(e,n){return D(typeof e=="string","KeyIndex indexValue must always be a string."),new Q(e,Ec)}toString(){return".key"}}const qs=new V1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sc{constructor(e,n,r,i,s=null){this.isReverse_=i,this.resultGenerator_=s,this.nodeStack_=[];let o=1;for(;!e.isEmpty();)if(e=e,o=n?r(e.key,n):1,i&&(o*=-1),o<0)this.isReverse_?e=e.left:e=e.right;else if(o===0){this.nodeStack_.push(e);break}else this.nodeStack_.push(e),this.isReverse_?e=e.right:e=e.left}getNext(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_.pop(),n;if(this.resultGenerator_?n=this.resultGenerator_(e.key,e.value):n={key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return n}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}class qe{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??qe.RED,this.left=i??It.EMPTY_NODE,this.right=s??It.EMPTY_NODE}copy(e,n,r,i,s){return new qe(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return s<0?i=i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i=i.copy(null,n,null,null,null):i=i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp_()}removeMin_(){if(this.left.isEmpty())return It.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,n){let r,i;if(r=this,n(e,r.key)<0)!r.left.isEmpty()&&!r.left.isRed_()&&!r.left.left.isRed_()&&(r=r.moveRedLeft_()),r=r.copy(null,null,null,r.left.remove(e,n),null);else{if(r.left.isRed_()&&(r=r.rotateRight_()),!r.right.isEmpty()&&!r.right.isRed_()&&!r.right.left.isRed_()&&(r=r.moveRedRight_()),n(e,r.key)===0){if(r.right.isEmpty())return It.EMPTY_NODE;i=r.right.min_(),r=r.copy(i.key,i.value,null,null,r.right.removeMin_())}r=r.copy(null,null,null,null,r.right.remove(e,n))}return r.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,qe.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,qe.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}qe.RED=!0;qe.BLACK=!1;class Fj{copy(e,n,r,i,s){return this}insert(e,n,r){return new qe(e,n,null)}remove(e,n){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class It{constructor(e,n=It.EMPTY_NODE){this.comparator_=e,this.root_=n}insert(e,n){return new It(this.comparator_,this.root_.insert(e,n,this.comparator_).copy(null,null,qe.BLACK,null,null))}remove(e){return new It(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,qe.BLACK,null,null))}get(e){let n,r=this.root_;for(;!r.isEmpty();){if(n=this.comparator_(e,r.key),n===0)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}getPredecessorKey(e){let n,r=this.root_,i=null;for(;!r.isEmpty();)if(n=this.comparator_(e,r.key),n===0){if(r.left.isEmpty())return i?i.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}else n<0?r=r.left:n>0&&(i=r,r=r.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new Sc(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,n){return new Sc(this.root_,e,this.comparator_,!1,n)}getReverseIteratorFrom(e,n){return new Sc(this.root_,e,this.comparator_,!0,n)}getReverseIterator(e){return new Sc(this.root_,null,this.comparator_,!0,e)}}It.EMPTY_NODE=new Fj;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $j(t,e){return as(t.name,e.name)}function Cy(t,e){return as(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Qp;function Vj(t){Qp=t}const U1=function(t){return typeof t=="number"?"number:"+_1(t):"string:"+t},B1=function(t){if(t.isLeafNode()){const e=t.val();D(typeof e=="string"||typeof e=="number"||typeof e=="object"&&Kn(e,".sv"),"Priority must be a string or number.")}else D(t===Qp||t.isEmpty(),"priority of unexpected type.");D(t===Qp||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let fw;class Ge{static set __childrenNodeConstructor(e){fw=e}static get __childrenNodeConstructor(){return fw}constructor(e,n=Ge.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=n,this.lazyHash_=null,D(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),B1(this.priorityNode_)}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new Ge(this.value_,e)}getImmediateChild(e){return e===".priority"?this.priorityNode_:Ge.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return J(e)?this:Y(e)===".priority"?this.priorityNode_:Ge.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,n){return null}updateImmediateChild(e,n){return e===".priority"?this.updatePriority(n):n.isEmpty()&&e!==".priority"?this:Ge.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,n).updatePriority(this.priorityNode_)}updateChild(e,n){const r=Y(e);return r===null?n:n.isEmpty()&&r!==".priority"?this:(D(r!==".priority"||si(e)===1,".priority must be the last token in a path"),this.updateImmediateChild(r,Ge.__childrenNodeConstructor.EMPTY_NODE.updateChild(he(e),n)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,n){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+U1(this.priorityNode_.val())+":");const n=typeof this.value_;e+=n+":",n==="number"?e+=_1(this.value_):e+=this.value_,this.lazyHash_=y1(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===Ge.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof Ge.__childrenNodeConstructor?-1:(D(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const n=typeof e.value_,r=typeof this.value_,i=Ge.VALUE_TYPE_ORDER.indexOf(n),s=Ge.VALUE_TYPE_ORDER.indexOf(r);return D(i>=0,"Unknown leaf type: "+n),D(s>=0,"Unknown leaf type: "+r),i===s?r==="object"?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:s-i}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const n=e;return this.value_===n.value_&&this.priorityNode_.equals(n.priorityNode_)}else return!1}}Ge.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let z1,W1;function Uj(t){z1=t}function Bj(t){W1=t}class zj extends Bd{compare(e,n){const r=e.node.getPriority(),i=n.node.getPriority(),s=r.compareTo(i);return s===0?as(e.name,n.name):s}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,n){return!e.getPriority().equals(n.getPriority())}minPost(){return Q.MIN}maxPost(){return new Q(Yi,new Ge("[PRIORITY-POST]",W1))}makePost(e,n){const r=z1(e);return new Q(n,new Ge("[PRIORITY-POST]",r))}toString(){return".priority"}}const Ae=new zj;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wj=Math.log(2);class Hj{constructor(e){const n=s=>parseInt(Math.log(s)/Wj,10),r=s=>parseInt(Array(s+1).join("1"),2);this.count=n(e+1),this.current_=this.count-1;const i=r(this.count);this.bits_=e+1&i}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const qu=function(t,e,n,r){t.sort(e);const i=function(l,c){const u=c-l;let d,f;if(u===0)return null;if(u===1)return d=t[l],f=n?n(d):d,new qe(f,d.node,qe.BLACK,null,null);{const p=parseInt(u/2,10)+l,g=i(l,p),_=i(p+1,c);return d=t[p],f=n?n(d):d,new qe(f,d.node,qe.BLACK,g,_)}},s=function(l){let c=null,u=null,d=t.length;const f=function(g,_){const E=d-g,m=d;d-=g;const v=i(E+1,m),y=t[E],C=n?n(y):y;p(new qe(C,y.node,_,null,v))},p=function(g){c?(c.left=g,c=g):(u=g,c=g)};for(let g=0;g<l.count;++g){const _=l.nextBitIsOne(),E=Math.pow(2,l.count-(g+1));_?f(E,qe.BLACK):(f(E,qe.BLACK),f(E,qe.RED))}return u},o=new Hj(t.length),a=s(o);return new It(r||e,a)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let hh;const ds={};class ur{static get Default(){return D(ds&&Ae,"ChildrenNode.ts has not been loaded"),hh=hh||new ur({".priority":ds},{".priority":Ae}),hh}constructor(e,n){this.indexes_=e,this.indexSet_=n}get(e){const n=io(this.indexes_,e);if(!n)throw new Error("No index defined for "+e);return n instanceof It?n:null}hasIndex(e){return Kn(this.indexSet_,e.toString())}addIndex(e,n){D(e!==qs,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const r=[];let i=!1;const s=n.getIterator(Q.Wrap);let o=s.getNext();for(;o;)i=i||e.isDefinedOn(o.node),r.push(o),o=s.getNext();let a;i?a=qu(r,e.getCompare()):a=ds;const l=e.toString(),c=Object.assign({},this.indexSet_);c[l]=e;const u=Object.assign({},this.indexes_);return u[l]=a,new ur(u,c)}addToIndexes(e,n){const r=Fu(this.indexes_,(i,s)=>{const o=io(this.indexSet_,s);if(D(o,"Missing index implementation for "+s),i===ds)if(o.isDefinedOn(e.node)){const a=[],l=n.getIterator(Q.Wrap);let c=l.getNext();for(;c;)c.name!==e.name&&a.push(c),c=l.getNext();return a.push(e),qu(a,o.getCompare())}else return ds;else{const a=n.get(e.name);let l=i;return a&&(l=l.remove(new Q(e.name,a))),l.insert(e,e.node)}});return new ur(r,this.indexSet_)}removeFromIndexes(e,n){const r=Fu(this.indexes_,i=>{if(i===ds)return i;{const s=n.get(e.name);return s?i.remove(new Q(e.name,s)):i}});return new ur(r,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Yo;class z{static get EMPTY_NODE(){return Yo||(Yo=new z(new It(Cy),null,ur.Default))}constructor(e,n,r){this.children_=e,this.priorityNode_=n,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&B1(this.priorityNode_),this.children_.isEmpty()&&D(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}isLeafNode(){return!1}getPriority(){return this.priorityNode_||Yo}updatePriority(e){return this.children_.isEmpty()?this:new z(this.children_,e,this.indexMap_)}getImmediateChild(e){if(e===".priority")return this.getPriority();{const n=this.children_.get(e);return n===null?Yo:n}}getChild(e){const n=Y(e);return n===null?this:this.getImmediateChild(n).getChild(he(e))}hasChild(e){return this.children_.get(e)!==null}updateImmediateChild(e,n){if(D(n,"We should always be passing snapshot nodes"),e===".priority")return this.updatePriority(n);{const r=new Q(e,n);let i,s;n.isEmpty()?(i=this.children_.remove(e),s=this.indexMap_.removeFromIndexes(r,this.children_)):(i=this.children_.insert(e,n),s=this.indexMap_.addToIndexes(r,this.children_));const o=i.isEmpty()?Yo:this.priorityNode_;return new z(i,o,s)}}updateChild(e,n){const r=Y(e);if(r===null)return n;{D(Y(e)!==".priority"||si(e)===1,".priority must be the last token in a path");const i=this.getImmediateChild(r).updateChild(he(e),n);return this.updateImmediateChild(r,i)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const n={};let r=0,i=0,s=!0;if(this.forEachChild(Ae,(o,a)=>{n[o]=a.val(e),r++,s&&z.INTEGER_REGEXP_.test(o)?i=Math.max(i,Number(o)):s=!1}),!e&&s&&i<2*r){const o=[];for(const a in n)o[a]=n[a];return o}else return e&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n}hash(){if(this.lazyHash_===null){let e="";this.getPriority().isEmpty()||(e+="priority:"+U1(this.getPriority().val())+":"),this.forEachChild(Ae,(n,r)=>{const i=r.hash();i!==""&&(e+=":"+n+":"+i)}),this.lazyHash_=e===""?"":y1(e)}return this.lazyHash_}getPredecessorChildName(e,n,r){const i=this.resolveIndex_(r);if(i){const s=i.getPredecessorKey(new Q(e,n));return s?s.name:null}else return this.children_.getPredecessorKey(e)}getFirstChildName(e){const n=this.resolveIndex_(e);if(n){const r=n.minKey();return r&&r.name}else return this.children_.minKey()}getFirstChild(e){const n=this.getFirstChildName(e);return n?new Q(n,this.children_.get(n)):null}getLastChildName(e){const n=this.resolveIndex_(e);if(n){const r=n.maxKey();return r&&r.name}else return this.children_.maxKey()}getLastChild(e){const n=this.getLastChildName(e);return n?new Q(n,this.children_.get(n)):null}forEachChild(e,n){const r=this.resolveIndex_(e);return r?r.inorderTraversal(i=>n(i.name,i.node)):this.children_.inorderTraversal(n)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,n){const r=this.resolveIndex_(n);if(r)return r.getIteratorFrom(e,i=>i);{const i=this.children_.getIteratorFrom(e.name,Q.Wrap);let s=i.peek();for(;s!=null&&n.compare(s,e)<0;)i.getNext(),s=i.peek();return i}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,n){const r=this.resolveIndex_(n);if(r)return r.getReverseIteratorFrom(e,i=>i);{const i=this.children_.getReverseIteratorFrom(e.name,Q.Wrap);let s=i.peek();for(;s!=null&&n.compare(s,e)>0;)i.getNext(),s=i.peek();return i}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===Fl?-1:0}withIndex(e){if(e===qs||this.indexMap_.hasIndex(e))return this;{const n=this.indexMap_.addIndex(e,this.children_);return new z(this.children_,this.priorityNode_,n)}}isIndexed(e){return e===qs||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const n=e;if(this.getPriority().equals(n.getPriority()))if(this.children_.count()===n.children_.count()){const r=this.getIterator(Ae),i=n.getIterator(Ae);let s=r.getNext(),o=i.getNext();for(;s&&o;){if(s.name!==o.name||!s.node.equals(o.node))return!1;s=r.getNext(),o=i.getNext()}return s===null&&o===null}else return!1;else return!1}}resolveIndex_(e){return e===qs?null:this.indexMap_.get(e.toString())}}z.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class Gj extends z{constructor(){super(new It(Cy),z.EMPTY_NODE,ur.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return z.EMPTY_NODE}isEmpty(){return!1}}const Fl=new Gj;Object.defineProperties(Q,{MIN:{value:new Q(so,z.EMPTY_NODE)},MAX:{value:new Q(Yi,Fl)}});V1.__EMPTY_NODE=z.EMPTY_NODE;Ge.__childrenNodeConstructor=z;Vj(Fl);Bj(Fl);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kj=!0;function Be(t,e=null){if(t===null)return z.EMPTY_NODE;if(typeof t=="object"&&".priority"in t&&(e=t[".priority"]),D(e===null||typeof e=="string"||typeof e=="number"||typeof e=="object"&&".sv"in e,"Invalid priority type found: "+typeof e),typeof t=="object"&&".value"in t&&t[".value"]!==null&&(t=t[".value"]),typeof t!="object"||".sv"in t){const n=t;return new Ge(n,Be(e))}if(!(t instanceof Array)&&Kj){const n=[];let r=!1;if(nt(t,(o,a)=>{if(o.substring(0,1)!=="."){const l=Be(a);l.isEmpty()||(r=r||!l.getPriority().isEmpty(),n.push(new Q(o,l)))}}),n.length===0)return z.EMPTY_NODE;const s=qu(n,$j,o=>o.name,Cy);if(r){const o=qu(n,Ae.getCompare());return new z(s,Be(e),new ur({".priority":o},{".priority":Ae}))}else return new z(s,Be(e),ur.Default)}else{let n=z.EMPTY_NODE;return nt(t,(r,i)=>{if(Kn(t,r)&&r.substring(0,1)!=="."){const s=Be(i);(s.isLeafNode()||!s.isEmpty())&&(n=n.updateImmediateChild(r,s))}}),n.updatePriority(Be(e))}}Uj(Be);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qj extends Bd{constructor(e){super(),this.indexPath_=e,D(!J(e)&&Y(e)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,n){const r=this.extractChild(e.node),i=this.extractChild(n.node),s=r.compareTo(i);return s===0?as(e.name,n.name):s}makePost(e,n){const r=Be(e),i=z.EMPTY_NODE.updateChild(this.indexPath_,r);return new Q(n,i)}maxPost(){const e=z.EMPTY_NODE.updateChild(this.indexPath_,Fl);return new Q(Yi,e)}toString(){return il(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yj extends Bd{compare(e,n){const r=e.node.compareTo(n.node);return r===0?as(e.name,n.name):r}isDefinedOn(e){return!0}indexedValueChanged(e,n){return!e.equals(n)}minPost(){return Q.MIN}maxPost(){return Q.MAX}makePost(e,n){const r=Be(e);return new Q(n,r)}toString(){return".value"}}const Qj=new Yj;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function H1(t){return{type:"value",snapshotNode:t}}function oo(t,e){return{type:"child_added",snapshotNode:e,childName:t}}function sl(t,e){return{type:"child_removed",snapshotNode:e,childName:t}}function ol(t,e,n){return{type:"child_changed",snapshotNode:e,childName:t,oldSnap:n}}function Xj(t,e){return{type:"child_moved",snapshotNode:e,childName:t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ey{constructor(e){this.index_=e}updateChild(e,n,r,i,s,o){D(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");const a=e.getImmediateChild(n);return a.getChild(i).equals(r.getChild(i))&&a.isEmpty()===r.isEmpty()||(o!=null&&(r.isEmpty()?e.hasChild(n)?o.trackChildChange(sl(n,a)):D(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):a.isEmpty()?o.trackChildChange(oo(n,r)):o.trackChildChange(ol(n,r,a))),e.isLeafNode()&&r.isEmpty())?e:e.updateImmediateChild(n,r).withIndex(this.index_)}updateFullNode(e,n,r){return r!=null&&(e.isLeafNode()||e.forEachChild(Ae,(i,s)=>{n.hasChild(i)||r.trackChildChange(sl(i,s))}),n.isLeafNode()||n.forEachChild(Ae,(i,s)=>{if(e.hasChild(i)){const o=e.getImmediateChild(i);o.equals(s)||r.trackChildChange(ol(i,s,o))}else r.trackChildChange(oo(i,s))})),n.withIndex(this.index_)}updatePriority(e,n){return e.isEmpty()?z.EMPTY_NODE:e.updatePriority(n)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class al{constructor(e){this.indexedFilter_=new Ey(e.getIndex()),this.index_=e.getIndex(),this.startPost_=al.getStartPost_(e),this.endPost_=al.getEndPost_(e),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(e){const n=this.startIsInclusive_?this.index_.compare(this.getStartPost(),e)<=0:this.index_.compare(this.getStartPost(),e)<0,r=this.endIsInclusive_?this.index_.compare(e,this.getEndPost())<=0:this.index_.compare(e,this.getEndPost())<0;return n&&r}updateChild(e,n,r,i,s,o){return this.matches(new Q(n,r))||(r=z.EMPTY_NODE),this.indexedFilter_.updateChild(e,n,r,i,s,o)}updateFullNode(e,n,r){n.isLeafNode()&&(n=z.EMPTY_NODE);let i=n.withIndex(this.index_);i=i.updatePriority(z.EMPTY_NODE);const s=this;return n.forEachChild(Ae,(o,a)=>{s.matches(new Q(o,a))||(i=i.updateImmediateChild(o,z.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(e,i,r)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(e){if(e.hasStart()){const n=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),n)}else return e.getIndex().minPost()}static getEndPost_(e){if(e.hasEnd()){const n=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),n)}else return e.getIndex().maxPost()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jj{constructor(e){this.withinDirectionalStart=n=>this.reverse_?this.withinEndPost(n):this.withinStartPost(n),this.withinDirectionalEnd=n=>this.reverse_?this.withinStartPost(n):this.withinEndPost(n),this.withinStartPost=n=>{const r=this.index_.compare(this.rangedFilter_.getStartPost(),n);return this.startIsInclusive_?r<=0:r<0},this.withinEndPost=n=>{const r=this.index_.compare(n,this.rangedFilter_.getEndPost());return this.endIsInclusive_?r<=0:r<0},this.rangedFilter_=new al(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft(),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}updateChild(e,n,r,i,s,o){return this.rangedFilter_.matches(new Q(n,r))||(r=z.EMPTY_NODE),e.getImmediateChild(n).equals(r)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,n,r,i,s,o):this.fullLimitUpdateChild_(e,n,r,s,o)}updateFullNode(e,n,r){let i;if(n.isLeafNode()||n.isEmpty())i=z.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<n.numChildren()&&n.isIndexed(this.index_)){i=z.EMPTY_NODE.withIndex(this.index_);let s;this.reverse_?s=n.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):s=n.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let o=0;for(;s.hasNext()&&o<this.limit_;){const a=s.getNext();if(this.withinDirectionalStart(a))if(this.withinDirectionalEnd(a))i=i.updateImmediateChild(a.name,a.node),o++;else break;else continue}}else{i=n.withIndex(this.index_),i=i.updatePriority(z.EMPTY_NODE);let s;this.reverse_?s=i.getReverseIterator(this.index_):s=i.getIterator(this.index_);let o=0;for(;s.hasNext();){const a=s.getNext();o<this.limit_&&this.withinDirectionalStart(a)&&this.withinDirectionalEnd(a)?o++:i=i.updateImmediateChild(a.name,z.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,i,r)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(e,n,r,i,s){let o;if(this.reverse_){const d=this.index_.getCompare();o=(f,p)=>d(p,f)}else o=this.index_.getCompare();const a=e;D(a.numChildren()===this.limit_,"");const l=new Q(n,r),c=this.reverse_?a.getFirstChild(this.index_):a.getLastChild(this.index_),u=this.rangedFilter_.matches(l);if(a.hasChild(n)){const d=a.getImmediateChild(n);let f=i.getChildAfterChild(this.index_,c,this.reverse_);for(;f!=null&&(f.name===n||a.hasChild(f.name));)f=i.getChildAfterChild(this.index_,f,this.reverse_);const p=f==null?1:o(f,l);if(u&&!r.isEmpty()&&p>=0)return s!=null&&s.trackChildChange(ol(n,r,d)),a.updateImmediateChild(n,r);{s!=null&&s.trackChildChange(sl(n,d));const _=a.updateImmediateChild(n,z.EMPTY_NODE);return f!=null&&this.rangedFilter_.matches(f)?(s!=null&&s.trackChildChange(oo(f.name,f.node)),_.updateImmediateChild(f.name,f.node)):_}}else return r.isEmpty()?e:u&&o(c,l)>=0?(s!=null&&(s.trackChildChange(sl(c.name,c.node)),s.trackChildChange(oo(n,r))),a.updateImmediateChild(n,r).updateImmediateChild(c.name,z.EMPTY_NODE)):e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sy{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Ae}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return D(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return D(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:so}hasEnd(){return this.endSet_}getIndexEndValue(){return D(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return D(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:Yi}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return D(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===Ae}copy(){const e=new Sy;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function Zj(t){return t.loadsAllData()?new Ey(t.getIndex()):t.hasLimit()?new Jj(t):new al(t)}function hw(t){const e={};if(t.isDefault())return e;let n;if(t.index_===Ae?n="$priority":t.index_===Qj?n="$value":t.index_===qs?n="$key":(D(t.index_ instanceof qj,"Unrecognized index type!"),n=t.index_.toString()),e.orderBy=ze(n),t.startSet_){const r=t.startAfterSet_?"startAfter":"startAt";e[r]=ze(t.indexStartValue_),t.startNameSet_&&(e[r]+=","+ze(t.indexStartName_))}if(t.endSet_){const r=t.endBeforeSet_?"endBefore":"endAt";e[r]=ze(t.indexEndValue_),t.endNameSet_&&(e[r]+=","+ze(t.indexEndName_))}return t.limitSet_&&(t.isViewFromLeft()?e.limitToFirst=t.limit_:e.limitToLast=t.limit_),e}function pw(t){const e={};if(t.startSet_&&(e.sp=t.indexStartValue_,t.startNameSet_&&(e.sn=t.indexStartName_),e.sin=!t.startAfterSet_),t.endSet_&&(e.ep=t.indexEndValue_,t.endNameSet_&&(e.en=t.indexEndName_),e.ein=!t.endBeforeSet_),t.limitSet_){e.l=t.limit_;let n=t.viewFrom_;n===""&&(t.isViewFromLeft()?n="l":n="r"),e.vf=n}return t.index_!==Ae&&(e.i=t.index_.toString()),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yu extends L1{reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,n){return n!==void 0?"tag$"+n:(D(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}constructor(e,n,r,i){super(),this.repoInfo_=e,this.onDataUpdate_=n,this.authTokenProvider_=r,this.appCheckTokenProvider_=i,this.log_=jl("p:rest:"),this.listens_={}}listen(e,n,r,i){const s=e._path.toString();this.log_("Listen called for "+s+" "+e._queryIdentifier);const o=Yu.getListenId_(e,r),a={};this.listens_[o]=a;const l=hw(e._queryParams);this.restRequest_(s+".json",l,(c,u)=>{let d=u;if(c===404&&(d=null,c=null),c===null&&this.onDataUpdate_(s,d,!1,r),io(this.listens_,o)===a){let f;c?c===401?f="permission_denied":f="rest_error:"+c:f="ok",i(f,null)}})}unlisten(e,n){const r=Yu.getListenId_(e,n);delete this.listens_[r]}get(e){const n=hw(e._queryParams),r=e._path.toString(),i=new Rl;return this.restRequest_(r+".json",n,(s,o)=>{let a=o;s===404&&(a=null,s=null),s===null?(this.onDataUpdate_(r,a,!1,null),i.resolve(a)):i.reject(new Error(a))}),i.promise}refreshAuthToken(e){}restRequest_(e,n={},r){return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([i,s])=>{i&&i.accessToken&&(n.auth=i.accessToken),s&&s.token&&(n.ac=s.token);const o=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+ko(n);this.log_("Sending REST request for "+o);const a=new XMLHttpRequest;a.onreadystatechange=()=>{if(r&&a.readyState===4){this.log_("REST Response for "+o+" received. status:",a.status,"response:",a.responseText);let l=null;if(a.status>=200&&a.status<300){try{l=Za(a.responseText)}catch{wt("Failed to parse JSON response for "+o+": "+a.responseText)}r(null,l)}else a.status!==401&&a.status!==404&&wt("Got unsuccessful REST response for "+o+" Status: "+a.status),r(a.status);r=null}},a.open("GET",o,!0),a.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eF{constructor(){this.rootNode_=z.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,n){this.rootNode_=this.rootNode_.updateChild(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qu(){return{value:null,children:new Map}}function G1(t,e,n){if(J(e))t.value=n,t.children.clear();else if(t.value!==null)t.value=t.value.updateChild(e,n);else{const r=Y(e);t.children.has(r)||t.children.set(r,Qu());const i=t.children.get(r);e=he(e),G1(i,e,n)}}function Xp(t,e,n){t.value!==null?n(e,t.value):tF(t,(r,i)=>{const s=new oe(e.toString()+"/"+r);Xp(i,s,n)})}function tF(t,e){t.children.forEach((n,r)=>{e(r,n)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nF{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),n=Object.assign({},e);return this.last_&&nt(this.last_,(r,i)=>{n[r]=n[r]-i}),this.last_=e,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mw=10*1e3,rF=30*1e3,iF=5*60*1e3;class sF{constructor(e,n){this.server_=n,this.statsToReport_={},this.statsListener_=new nF(e);const r=mw+(rF-mw)*Math.random();Sa(this.reportStats_.bind(this),Math.floor(r))}reportStats_(){const e=this.statsListener_.get(),n={};let r=!1;nt(e,(i,s)=>{s>0&&Kn(this.statsToReport_,i)&&(n[i]=s,r=!0)}),r&&this.server_.reportStats(n),Sa(this.reportStats_.bind(this),Math.floor(Math.random()*2*iF))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var wn;(function(t){t[t.OVERWRITE=0]="OVERWRITE",t[t.MERGE=1]="MERGE",t[t.ACK_USER_WRITE=2]="ACK_USER_WRITE",t[t.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(wn||(wn={}));function by(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function Ty(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function ky(t){return{fromUser:!1,fromServer:!0,queryId:t,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xu{constructor(e,n,r){this.path=e,this.affectedTree=n,this.revert=r,this.type=wn.ACK_USER_WRITE,this.source=by()}operationForChild(e){if(J(this.path)){if(this.affectedTree.value!=null)return D(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const n=this.affectedTree.subtree(new oe(e));return new Xu(te(),n,this.revert)}}else return D(Y(this.path)===e,"operationForChild called for unrelated child."),new Xu(he(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ll{constructor(e,n){this.source=e,this.path=n,this.type=wn.LISTEN_COMPLETE}operationForChild(e){return J(this.path)?new ll(this.source,te()):new ll(this.source,he(this.path))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qi{constructor(e,n,r){this.source=e,this.path=n,this.snap=r,this.type=wn.OVERWRITE}operationForChild(e){return J(this.path)?new Qi(this.source,te(),this.snap.getImmediateChild(e)):new Qi(this.source,he(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ao{constructor(e,n,r){this.source=e,this.path=n,this.children=r,this.type=wn.MERGE}operationForChild(e){if(J(this.path)){const n=this.children.subtree(new oe(e));return n.isEmpty()?null:n.value?new Qi(this.source,te(),n.value):new ao(this.source,te(),n)}else return D(Y(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new ao(this.source,he(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oi{constructor(e,n,r){this.node_=e,this.fullyInitialized_=n,this.filtered_=r}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(J(e))return this.isFullyInitialized()&&!this.filtered_;const n=Y(e);return this.isCompleteForChild(n)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oF{constructor(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}}function aF(t,e,n,r){const i=[],s=[];return e.forEach(o=>{o.type==="child_changed"&&t.index_.indexedValueChanged(o.oldSnap,o.snapshotNode)&&s.push(Xj(o.childName,o.snapshotNode))}),Qo(t,i,"child_removed",e,r,n),Qo(t,i,"child_added",e,r,n),Qo(t,i,"child_moved",s,r,n),Qo(t,i,"child_changed",e,r,n),Qo(t,i,"value",e,r,n),i}function Qo(t,e,n,r,i,s){const o=r.filter(a=>a.type===n);o.sort((a,l)=>cF(t,a,l)),o.forEach(a=>{const l=lF(t,a,s);i.forEach(c=>{c.respondsTo(a.type)&&e.push(c.createEvent(l,t.query_))})})}function lF(t,e,n){return e.type==="value"||e.type==="child_removed"||(e.prevName=n.getPredecessorChildName(e.childName,e.snapshotNode,t.index_)),e}function cF(t,e,n){if(e.childName==null||n.childName==null)throw To("Should only compare child_ events.");const r=new Q(e.childName,e.snapshotNode),i=new Q(n.childName,n.snapshotNode);return t.index_.compare(r,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zd(t,e){return{eventCache:t,serverCache:e}}function ba(t,e,n,r){return zd(new oi(e,n,r),t.serverCache)}function K1(t,e,n,r){return zd(t.eventCache,new oi(e,n,r))}function Ju(t){return t.eventCache.isFullyInitialized()?t.eventCache.getNode():null}function Xi(t){return t.serverCache.isFullyInitialized()?t.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ph;const uF=()=>(ph||(ph=new It(qL)),ph);class fe{static fromObject(e){let n=new fe(null);return nt(e,(r,i)=>{n=n.set(new oe(r),i)}),n}constructor(e,n=uF()){this.value=e,this.children=n}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,n){if(this.value!=null&&n(this.value))return{path:te(),value:this.value};if(J(e))return null;{const r=Y(e),i=this.children.get(r);if(i!==null){const s=i.findRootMostMatchingPathAndValue(he(e),n);return s!=null?{path:Ne(new oe(r),s.path),value:s.value}:null}else return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(J(e))return this;{const n=Y(e),r=this.children.get(n);return r!==null?r.subtree(he(e)):new fe(null)}}set(e,n){if(J(e))return new fe(n,this.children);{const r=Y(e),s=(this.children.get(r)||new fe(null)).set(he(e),n),o=this.children.insert(r,s);return new fe(this.value,o)}}remove(e){if(J(e))return this.children.isEmpty()?new fe(null):new fe(null,this.children);{const n=Y(e),r=this.children.get(n);if(r){const i=r.remove(he(e));let s;return i.isEmpty()?s=this.children.remove(n):s=this.children.insert(n,i),this.value===null&&s.isEmpty()?new fe(null):new fe(this.value,s)}else return this}}get(e){if(J(e))return this.value;{const n=Y(e),r=this.children.get(n);return r?r.get(he(e)):null}}setTree(e,n){if(J(e))return n;{const r=Y(e),s=(this.children.get(r)||new fe(null)).setTree(he(e),n);let o;return s.isEmpty()?o=this.children.remove(r):o=this.children.insert(r,s),new fe(this.value,o)}}fold(e){return this.fold_(te(),e)}fold_(e,n){const r={};return this.children.inorderTraversal((i,s)=>{r[i]=s.fold_(Ne(e,i),n)}),n(e,this.value,r)}findOnPath(e,n){return this.findOnPath_(e,te(),n)}findOnPath_(e,n,r){const i=this.value?r(n,this.value):!1;if(i)return i;if(J(e))return null;{const s=Y(e),o=this.children.get(s);return o?o.findOnPath_(he(e),Ne(n,s),r):null}}foreachOnPath(e,n){return this.foreachOnPath_(e,te(),n)}foreachOnPath_(e,n,r){if(J(e))return this;{this.value&&r(n,this.value);const i=Y(e),s=this.children.get(i);return s?s.foreachOnPath_(he(e),Ne(n,i),r):new fe(null)}}foreach(e){this.foreach_(te(),e)}foreach_(e,n){this.children.inorderTraversal((r,i)=>{i.foreach_(Ne(e,r),n)}),this.value&&n(e,this.value)}foreachChild(e){this.children.inorderTraversal((n,r)=>{r.value&&e(n,r.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bn{constructor(e){this.writeTree_=e}static empty(){return new bn(new fe(null))}}function Ta(t,e,n){if(J(e))return new bn(new fe(n));{const r=t.writeTree_.findRootMostValueAndPath(e);if(r!=null){const i=r.path;let s=r.value;const o=yt(i,e);return s=s.updateChild(o,n),new bn(t.writeTree_.set(i,s))}else{const i=new fe(n),s=t.writeTree_.setTree(e,i);return new bn(s)}}}function Jp(t,e,n){let r=t;return nt(n,(i,s)=>{r=Ta(r,Ne(e,i),s)}),r}function gw(t,e){if(J(e))return bn.empty();{const n=t.writeTree_.setTree(e,new fe(null));return new bn(n)}}function Zp(t,e){return ls(t,e)!=null}function ls(t,e){const n=t.writeTree_.findRootMostValueAndPath(e);return n!=null?t.writeTree_.get(n.path).getChild(yt(n.path,e)):null}function yw(t){const e=[],n=t.writeTree_.value;return n!=null?n.isLeafNode()||n.forEachChild(Ae,(r,i)=>{e.push(new Q(r,i))}):t.writeTree_.children.inorderTraversal((r,i)=>{i.value!=null&&e.push(new Q(r,i.value))}),e}function ti(t,e){if(J(e))return t;{const n=ls(t,e);return n!=null?new bn(new fe(n)):new bn(t.writeTree_.subtree(e))}}function em(t){return t.writeTree_.isEmpty()}function lo(t,e){return q1(te(),t.writeTree_,e)}function q1(t,e,n){if(e.value!=null)return n.updateChild(t,e.value);{let r=null;return e.children.inorderTraversal((i,s)=>{i===".priority"?(D(s.value!==null,"Priority writes must always be leaf nodes"),r=s.value):n=q1(Ne(t,i),s,n)}),!n.getChild(t).isEmpty()&&r!==null&&(n=n.updateChild(Ne(t,".priority"),r)),n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wd(t,e){return J1(e,t)}function dF(t,e,n,r,i){D(r>t.lastWriteId,"Stacking an older write on top of newer ones"),i===void 0&&(i=!0),t.allWrites.push({path:e,snap:n,writeId:r,visible:i}),i&&(t.visibleWrites=Ta(t.visibleWrites,e,n)),t.lastWriteId=r}function fF(t,e,n,r){D(r>t.lastWriteId,"Stacking an older merge on top of newer ones"),t.allWrites.push({path:e,children:n,writeId:r,visible:!0}),t.visibleWrites=Jp(t.visibleWrites,e,n),t.lastWriteId=r}function hF(t,e){for(let n=0;n<t.allWrites.length;n++){const r=t.allWrites[n];if(r.writeId===e)return r}return null}function pF(t,e){const n=t.allWrites.findIndex(a=>a.writeId===e);D(n>=0,"removeWrite called with nonexistent writeId.");const r=t.allWrites[n];t.allWrites.splice(n,1);let i=r.visible,s=!1,o=t.allWrites.length-1;for(;i&&o>=0;){const a=t.allWrites[o];a.visible&&(o>=n&&mF(a,r.path)?i=!1:tn(r.path,a.path)&&(s=!0)),o--}if(i){if(s)return gF(t),!0;if(r.snap)t.visibleWrites=gw(t.visibleWrites,r.path);else{const a=r.children;nt(a,l=>{t.visibleWrites=gw(t.visibleWrites,Ne(r.path,l))})}return!0}else return!1}function mF(t,e){if(t.snap)return tn(t.path,e);for(const n in t.children)if(t.children.hasOwnProperty(n)&&tn(Ne(t.path,n),e))return!0;return!1}function gF(t){t.visibleWrites=Y1(t.allWrites,yF,te()),t.allWrites.length>0?t.lastWriteId=t.allWrites[t.allWrites.length-1].writeId:t.lastWriteId=-1}function yF(t){return t.visible}function Y1(t,e,n){let r=bn.empty();for(let i=0;i<t.length;++i){const s=t[i];if(e(s)){const o=s.path;let a;if(s.snap)tn(n,o)?(a=yt(n,o),r=Ta(r,a,s.snap)):tn(o,n)&&(a=yt(o,n),r=Ta(r,te(),s.snap.getChild(a)));else if(s.children){if(tn(n,o))a=yt(n,o),r=Jp(r,a,s.children);else if(tn(o,n))if(a=yt(o,n),J(a))r=Jp(r,te(),s.children);else{const l=io(s.children,Y(a));if(l){const c=l.getChild(he(a));r=Ta(r,te(),c)}}}else throw To("WriteRecord should have .snap or .children")}}return r}function Q1(t,e,n,r,i){if(!r&&!i){const s=ls(t.visibleWrites,e);if(s!=null)return s;{const o=ti(t.visibleWrites,e);if(em(o))return n;if(n==null&&!Zp(o,te()))return null;{const a=n||z.EMPTY_NODE;return lo(o,a)}}}else{const s=ti(t.visibleWrites,e);if(!i&&em(s))return n;if(!i&&n==null&&!Zp(s,te()))return null;{const o=function(c){return(c.visible||i)&&(!r||!~r.indexOf(c.writeId))&&(tn(c.path,e)||tn(e,c.path))},a=Y1(t.allWrites,o,e),l=n||z.EMPTY_NODE;return lo(a,l)}}}function vF(t,e,n){let r=z.EMPTY_NODE;const i=ls(t.visibleWrites,e);if(i)return i.isLeafNode()||i.forEachChild(Ae,(s,o)=>{r=r.updateImmediateChild(s,o)}),r;if(n){const s=ti(t.visibleWrites,e);return n.forEachChild(Ae,(o,a)=>{const l=lo(ti(s,new oe(o)),a);r=r.updateImmediateChild(o,l)}),yw(s).forEach(o=>{r=r.updateImmediateChild(o.name,o.node)}),r}else{const s=ti(t.visibleWrites,e);return yw(s).forEach(o=>{r=r.updateImmediateChild(o.name,o.node)}),r}}function _F(t,e,n,r,i){D(r||i,"Either existingEventSnap or existingServerSnap must exist");const s=Ne(e,n);if(Zp(t.visibleWrites,s))return null;{const o=ti(t.visibleWrites,s);return em(o)?i.getChild(n):lo(o,i.getChild(n))}}function wF(t,e,n,r){const i=Ne(e,n),s=ls(t.visibleWrites,i);if(s!=null)return s;if(r.isCompleteForChild(n)){const o=ti(t.visibleWrites,i);return lo(o,r.getNode().getImmediateChild(n))}else return null}function xF(t,e){return ls(t.visibleWrites,e)}function CF(t,e,n,r,i,s,o){let a;const l=ti(t.visibleWrites,e),c=ls(l,te());if(c!=null)a=c;else if(n!=null)a=lo(l,n);else return[];if(a=a.withIndex(o),!a.isEmpty()&&!a.isLeafNode()){const u=[],d=o.getCompare(),f=s?a.getReverseIteratorFrom(r,o):a.getIteratorFrom(r,o);let p=f.getNext();for(;p&&u.length<i;)d(p,r)!==0&&u.push(p),p=f.getNext();return u}else return[]}function EF(){return{visibleWrites:bn.empty(),allWrites:[],lastWriteId:-1}}function Zu(t,e,n,r){return Q1(t.writeTree,t.treePath,e,n,r)}function Iy(t,e){return vF(t.writeTree,t.treePath,e)}function vw(t,e,n,r){return _F(t.writeTree,t.treePath,e,n,r)}function ed(t,e){return xF(t.writeTree,Ne(t.treePath,e))}function SF(t,e,n,r,i,s){return CF(t.writeTree,t.treePath,e,n,r,i,s)}function Py(t,e,n){return wF(t.writeTree,t.treePath,e,n)}function X1(t,e){return J1(Ne(t.treePath,e),t.writeTree)}function J1(t,e){return{treePath:t,writeTree:e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bF{constructor(){this.changeMap=new Map}trackChildChange(e){const n=e.type,r=e.childName;D(n==="child_added"||n==="child_changed"||n==="child_removed","Only child changes supported for tracking"),D(r!==".priority","Only non-priority child changes can be tracked.");const i=this.changeMap.get(r);if(i){const s=i.type;if(n==="child_added"&&s==="child_removed")this.changeMap.set(r,ol(r,e.snapshotNode,i.snapshotNode));else if(n==="child_removed"&&s==="child_added")this.changeMap.delete(r);else if(n==="child_removed"&&s==="child_changed")this.changeMap.set(r,sl(r,i.oldSnap));else if(n==="child_changed"&&s==="child_added")this.changeMap.set(r,oo(r,e.snapshotNode));else if(n==="child_changed"&&s==="child_changed")this.changeMap.set(r,ol(r,e.snapshotNode,i.oldSnap));else throw To("Illegal combination of changes: "+e+" occurred after "+i)}else this.changeMap.set(r,e)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TF{getCompleteChild(e){return null}getChildAfterChild(e,n,r){return null}}const Z1=new TF;class Ry{constructor(e,n,r=null){this.writes_=e,this.viewCache_=n,this.optCompleteServerCache_=r}getCompleteChild(e){const n=this.viewCache_.eventCache;if(n.isCompleteForChild(e))return n.getNode().getImmediateChild(e);{const r=this.optCompleteServerCache_!=null?new oi(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return Py(this.writes_,e,r)}}getChildAfterChild(e,n,r){const i=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:Xi(this.viewCache_),s=SF(this.writes_,i,n,1,r,e);return s.length===0?null:s[0]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kF(t){return{filter:t}}function IF(t,e){D(e.eventCache.getNode().isIndexed(t.filter.getIndex()),"Event snap not indexed"),D(e.serverCache.getNode().isIndexed(t.filter.getIndex()),"Server snap not indexed")}function PF(t,e,n,r,i){const s=new bF;let o,a;if(n.type===wn.OVERWRITE){const c=n;c.source.fromUser?o=tm(t,e,c.path,c.snap,r,i,s):(D(c.source.fromServer,"Unknown source."),a=c.source.tagged||e.serverCache.isFiltered()&&!J(c.path),o=td(t,e,c.path,c.snap,r,i,a,s))}else if(n.type===wn.MERGE){const c=n;c.source.fromUser?o=NF(t,e,c.path,c.children,r,i,s):(D(c.source.fromServer,"Unknown source."),a=c.source.tagged||e.serverCache.isFiltered(),o=nm(t,e,c.path,c.children,r,i,a,s))}else if(n.type===wn.ACK_USER_WRITE){const c=n;c.revert?o=OF(t,e,c.path,r,i,s):o=AF(t,e,c.path,c.affectedTree,r,i,s)}else if(n.type===wn.LISTEN_COMPLETE)o=DF(t,e,n.path,r,s);else throw To("Unknown operation type: "+n.type);const l=s.getChanges();return RF(e,o,l),{viewCache:o,changes:l}}function RF(t,e,n){const r=e.eventCache;if(r.isFullyInitialized()){const i=r.getNode().isLeafNode()||r.getNode().isEmpty(),s=Ju(t);(n.length>0||!t.eventCache.isFullyInitialized()||i&&!r.getNode().equals(s)||!r.getNode().getPriority().equals(s.getPriority()))&&n.push(H1(Ju(e)))}}function eT(t,e,n,r,i,s){const o=e.eventCache;if(ed(r,n)!=null)return e;{let a,l;if(J(n))if(D(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const c=Xi(e),u=c instanceof z?c:z.EMPTY_NODE,d=Iy(r,u);a=t.filter.updateFullNode(e.eventCache.getNode(),d,s)}else{const c=Zu(r,Xi(e));a=t.filter.updateFullNode(e.eventCache.getNode(),c,s)}else{const c=Y(n);if(c===".priority"){D(si(n)===1,"Can't have a priority with additional path components");const u=o.getNode();l=e.serverCache.getNode();const d=vw(r,n,u,l);d!=null?a=t.filter.updatePriority(u,d):a=o.getNode()}else{const u=he(n);let d;if(o.isCompleteForChild(c)){l=e.serverCache.getNode();const f=vw(r,n,o.getNode(),l);f!=null?d=o.getNode().getImmediateChild(c).updateChild(u,f):d=o.getNode().getImmediateChild(c)}else d=Py(r,c,e.serverCache);d!=null?a=t.filter.updateChild(o.getNode(),c,d,u,i,s):a=o.getNode()}}return ba(e,a,o.isFullyInitialized()||J(n),t.filter.filtersNodes())}}function td(t,e,n,r,i,s,o,a){const l=e.serverCache;let c;const u=o?t.filter:t.filter.getIndexedFilter();if(J(n))c=u.updateFullNode(l.getNode(),r,null);else if(u.filtersNodes()&&!l.isFiltered()){const p=l.getNode().updateChild(n,r);c=u.updateFullNode(l.getNode(),p,null)}else{const p=Y(n);if(!l.isCompleteForPath(n)&&si(n)>1)return e;const g=he(n),E=l.getNode().getImmediateChild(p).updateChild(g,r);p===".priority"?c=u.updatePriority(l.getNode(),E):c=u.updateChild(l.getNode(),p,E,g,Z1,null)}const d=K1(e,c,l.isFullyInitialized()||J(n),u.filtersNodes()),f=new Ry(i,d,s);return eT(t,d,n,i,f,a)}function tm(t,e,n,r,i,s,o){const a=e.eventCache;let l,c;const u=new Ry(i,e,s);if(J(n))c=t.filter.updateFullNode(e.eventCache.getNode(),r,o),l=ba(e,c,!0,t.filter.filtersNodes());else{const d=Y(n);if(d===".priority")c=t.filter.updatePriority(e.eventCache.getNode(),r),l=ba(e,c,a.isFullyInitialized(),a.isFiltered());else{const f=he(n),p=a.getNode().getImmediateChild(d);let g;if(J(f))g=r;else{const _=u.getCompleteChild(d);_!=null?_y(f)===".priority"&&_.getChild(F1(f)).isEmpty()?g=_:g=_.updateChild(f,r):g=z.EMPTY_NODE}if(p.equals(g))l=e;else{const _=t.filter.updateChild(a.getNode(),d,g,f,u,o);l=ba(e,_,a.isFullyInitialized(),t.filter.filtersNodes())}}}return l}function _w(t,e){return t.eventCache.isCompleteForChild(e)}function NF(t,e,n,r,i,s,o){let a=e;return r.foreach((l,c)=>{const u=Ne(n,l);_w(e,Y(u))&&(a=tm(t,a,u,c,i,s,o))}),r.foreach((l,c)=>{const u=Ne(n,l);_w(e,Y(u))||(a=tm(t,a,u,c,i,s,o))}),a}function ww(t,e,n){return n.foreach((r,i)=>{e=e.updateChild(r,i)}),e}function nm(t,e,n,r,i,s,o,a){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let l=e,c;J(n)?c=r:c=new fe(null).setTree(n,r);const u=e.serverCache.getNode();return c.children.inorderTraversal((d,f)=>{if(u.hasChild(d)){const p=e.serverCache.getNode().getImmediateChild(d),g=ww(t,p,f);l=td(t,l,new oe(d),g,i,s,o,a)}}),c.children.inorderTraversal((d,f)=>{const p=!e.serverCache.isCompleteForChild(d)&&f.value===null;if(!u.hasChild(d)&&!p){const g=e.serverCache.getNode().getImmediateChild(d),_=ww(t,g,f);l=td(t,l,new oe(d),_,i,s,o,a)}}),l}function AF(t,e,n,r,i,s,o){if(ed(i,n)!=null)return e;const a=e.serverCache.isFiltered(),l=e.serverCache;if(r.value!=null){if(J(n)&&l.isFullyInitialized()||l.isCompleteForPath(n))return td(t,e,n,l.getNode().getChild(n),i,s,a,o);if(J(n)){let c=new fe(null);return l.getNode().forEachChild(qs,(u,d)=>{c=c.set(new oe(u),d)}),nm(t,e,n,c,i,s,a,o)}else return e}else{let c=new fe(null);return r.foreach((u,d)=>{const f=Ne(n,u);l.isCompleteForPath(f)&&(c=c.set(u,l.getNode().getChild(f)))}),nm(t,e,n,c,i,s,a,o)}}function DF(t,e,n,r,i){const s=e.serverCache,o=K1(e,s.getNode(),s.isFullyInitialized()||J(n),s.isFiltered());return eT(t,o,n,r,Z1,i)}function OF(t,e,n,r,i,s){let o;if(ed(r,n)!=null)return e;{const a=new Ry(r,e,i),l=e.eventCache.getNode();let c;if(J(n)||Y(n)===".priority"){let u;if(e.serverCache.isFullyInitialized())u=Zu(r,Xi(e));else{const d=e.serverCache.getNode();D(d instanceof z,"serverChildren would be complete if leaf node"),u=Iy(r,d)}u=u,c=t.filter.updateFullNode(l,u,s)}else{const u=Y(n);let d=Py(r,u,e.serverCache);d==null&&e.serverCache.isCompleteForChild(u)&&(d=l.getImmediateChild(u)),d!=null?c=t.filter.updateChild(l,u,d,he(n),a,s):e.eventCache.getNode().hasChild(u)?c=t.filter.updateChild(l,u,z.EMPTY_NODE,he(n),a,s):c=l,c.isEmpty()&&e.serverCache.isFullyInitialized()&&(o=Zu(r,Xi(e)),o.isLeafNode()&&(c=t.filter.updateFullNode(c,o,s)))}return o=e.serverCache.isFullyInitialized()||ed(r,te())!=null,ba(e,c,o,t.filter.filtersNodes())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MF{constructor(e,n){this.query_=e,this.eventRegistrations_=[];const r=this.query_._queryParams,i=new Ey(r.getIndex()),s=Zj(r);this.processor_=kF(s);const o=n.serverCache,a=n.eventCache,l=i.updateFullNode(z.EMPTY_NODE,o.getNode(),null),c=s.updateFullNode(z.EMPTY_NODE,a.getNode(),null),u=new oi(l,o.isFullyInitialized(),i.filtersNodes()),d=new oi(c,a.isFullyInitialized(),s.filtersNodes());this.viewCache_=zd(d,u),this.eventGenerator_=new oF(this.query_)}get query(){return this.query_}}function LF(t){return t.viewCache_.serverCache.getNode()}function jF(t){return Ju(t.viewCache_)}function FF(t,e){const n=Xi(t.viewCache_);return n&&(t.query._queryParams.loadsAllData()||!J(e)&&!n.getImmediateChild(Y(e)).isEmpty())?n.getChild(e):null}function xw(t){return t.eventRegistrations_.length===0}function $F(t,e){t.eventRegistrations_.push(e)}function Cw(t,e,n){const r=[];if(n){D(e==null,"A cancel should cancel all event registrations.");const i=t.query._path;t.eventRegistrations_.forEach(s=>{const o=s.createCancelEvent(n,i);o&&r.push(o)})}if(e){let i=[];for(let s=0;s<t.eventRegistrations_.length;++s){const o=t.eventRegistrations_[s];if(!o.matches(e))i.push(o);else if(e.hasAnyCallback()){i=i.concat(t.eventRegistrations_.slice(s+1));break}}t.eventRegistrations_=i}else t.eventRegistrations_=[];return r}function Ew(t,e,n,r){e.type===wn.MERGE&&e.source.queryId!==null&&(D(Xi(t.viewCache_),"We should always have a full cache before handling merges"),D(Ju(t.viewCache_),"Missing event cache, even though we have a server cache"));const i=t.viewCache_,s=PF(t.processor_,i,e,n,r);return IF(t.processor_,s.viewCache),D(s.viewCache.serverCache.isFullyInitialized()||!i.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),t.viewCache_=s.viewCache,tT(t,s.changes,s.viewCache.eventCache.getNode(),null)}function VF(t,e){const n=t.viewCache_.eventCache,r=[];return n.getNode().isLeafNode()||n.getNode().forEachChild(Ae,(s,o)=>{r.push(oo(s,o))}),n.isFullyInitialized()&&r.push(H1(n.getNode())),tT(t,r,n.getNode(),e)}function tT(t,e,n,r){const i=r?[r]:t.eventRegistrations_;return aF(t.eventGenerator_,e,n,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let nd;class nT{constructor(){this.views=new Map}}function UF(t){D(!nd,"__referenceConstructor has already been defined"),nd=t}function BF(){return D(nd,"Reference.ts has not been loaded"),nd}function zF(t){return t.views.size===0}function Ny(t,e,n,r){const i=e.source.queryId;if(i!==null){const s=t.views.get(i);return D(s!=null,"SyncTree gave us an op for an invalid query."),Ew(s,e,n,r)}else{let s=[];for(const o of t.views.values())s=s.concat(Ew(o,e,n,r));return s}}function rT(t,e,n,r,i){const s=e._queryIdentifier,o=t.views.get(s);if(!o){let a=Zu(n,i?r:null),l=!1;a?l=!0:r instanceof z?(a=Iy(n,r),l=!1):(a=z.EMPTY_NODE,l=!1);const c=zd(new oi(a,l,!1),new oi(r,i,!1));return new MF(e,c)}return o}function WF(t,e,n,r,i,s){const o=rT(t,e,r,i,s);return t.views.has(e._queryIdentifier)||t.views.set(e._queryIdentifier,o),$F(o,n),VF(o,n)}function HF(t,e,n,r){const i=e._queryIdentifier,s=[];let o=[];const a=ai(t);if(i==="default")for(const[l,c]of t.views.entries())o=o.concat(Cw(c,n,r)),xw(c)&&(t.views.delete(l),c.query._queryParams.loadsAllData()||s.push(c.query));else{const l=t.views.get(i);l&&(o=o.concat(Cw(l,n,r)),xw(l)&&(t.views.delete(i),l.query._queryParams.loadsAllData()||s.push(l.query)))}return a&&!ai(t)&&s.push(new(BF())(e._repo,e._path)),{removed:s,events:o}}function iT(t){const e=[];for(const n of t.views.values())n.query._queryParams.loadsAllData()||e.push(n);return e}function ni(t,e){let n=null;for(const r of t.views.values())n=n||FF(r,e);return n}function sT(t,e){if(e._queryParams.loadsAllData())return Hd(t);{const r=e._queryIdentifier;return t.views.get(r)}}function oT(t,e){return sT(t,e)!=null}function ai(t){return Hd(t)!=null}function Hd(t){for(const e of t.views.values())if(e.query._queryParams.loadsAllData())return e;return null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let rd;function GF(t){D(!rd,"__referenceConstructor has already been defined"),rd=t}function KF(){return D(rd,"Reference.ts has not been loaded"),rd}let qF=1;class Sw{constructor(e){this.listenProvider_=e,this.syncPointTree_=new fe(null),this.pendingWriteTree_=EF(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function aT(t,e,n,r,i){return dF(t.pendingWriteTree_,e,n,r,i),i?Ro(t,new Qi(by(),e,n)):[]}function YF(t,e,n,r){fF(t.pendingWriteTree_,e,n,r);const i=fe.fromObject(n);return Ro(t,new ao(by(),e,i))}function Hr(t,e,n=!1){const r=hF(t.pendingWriteTree_,e);if(pF(t.pendingWriteTree_,e)){let s=new fe(null);return r.snap!=null?s=s.set(te(),!0):nt(r.children,o=>{s=s.set(new oe(o),!0)}),Ro(t,new Xu(r.path,s,n))}else return[]}function $l(t,e,n){return Ro(t,new Qi(Ty(),e,n))}function QF(t,e,n){const r=fe.fromObject(n);return Ro(t,new ao(Ty(),e,r))}function XF(t,e){return Ro(t,new ll(Ty(),e))}function JF(t,e,n){const r=Dy(t,n);if(r){const i=Oy(r),s=i.path,o=i.queryId,a=yt(s,e),l=new ll(ky(o),a);return My(t,s,l)}else return[]}function id(t,e,n,r,i=!1){const s=e._path,o=t.syncPointTree_.get(s);let a=[];if(o&&(e._queryIdentifier==="default"||oT(o,e))){const l=HF(o,e,n,r);zF(o)&&(t.syncPointTree_=t.syncPointTree_.remove(s));const c=l.removed;if(a=l.events,!i){const u=c.findIndex(f=>f._queryParams.loadsAllData())!==-1,d=t.syncPointTree_.findOnPath(s,(f,p)=>ai(p));if(u&&!d){const f=t.syncPointTree_.subtree(s);if(!f.isEmpty()){const p=t3(f);for(let g=0;g<p.length;++g){const _=p[g],E=_.query,m=dT(t,_);t.listenProvider_.startListening(ka(E),cl(t,E),m.hashFn,m.onComplete)}}}!d&&c.length>0&&!r&&(u?t.listenProvider_.stopListening(ka(e),null):c.forEach(f=>{const p=t.queryToTagMap.get(Gd(f));t.listenProvider_.stopListening(ka(f),p)}))}n3(t,c)}return a}function lT(t,e,n,r){const i=Dy(t,r);if(i!=null){const s=Oy(i),o=s.path,a=s.queryId,l=yt(o,e),c=new Qi(ky(a),l,n);return My(t,o,c)}else return[]}function ZF(t,e,n,r){const i=Dy(t,r);if(i){const s=Oy(i),o=s.path,a=s.queryId,l=yt(o,e),c=fe.fromObject(n),u=new ao(ky(a),l,c);return My(t,o,u)}else return[]}function rm(t,e,n,r=!1){const i=e._path;let s=null,o=!1;t.syncPointTree_.foreachOnPath(i,(f,p)=>{const g=yt(f,i);s=s||ni(p,g),o=o||ai(p)});let a=t.syncPointTree_.get(i);a?(o=o||ai(a),s=s||ni(a,te())):(a=new nT,t.syncPointTree_=t.syncPointTree_.set(i,a));let l;s!=null?l=!0:(l=!1,s=z.EMPTY_NODE,t.syncPointTree_.subtree(i).foreachChild((p,g)=>{const _=ni(g,te());_&&(s=s.updateImmediateChild(p,_))}));const c=oT(a,e);if(!c&&!e._queryParams.loadsAllData()){const f=Gd(e);D(!t.queryToTagMap.has(f),"View does not exist, but we have a tag");const p=r3();t.queryToTagMap.set(f,p),t.tagToQueryMap.set(p,f)}const u=Wd(t.pendingWriteTree_,i);let d=WF(a,e,n,u,s,l);if(!c&&!o&&!r){const f=sT(a,e);d=d.concat(i3(t,e,f))}return d}function Ay(t,e,n){const i=t.pendingWriteTree_,s=t.syncPointTree_.findOnPath(e,(o,a)=>{const l=yt(o,e),c=ni(a,l);if(c)return c});return Q1(i,e,s,n,!0)}function e3(t,e){const n=e._path;let r=null;t.syncPointTree_.foreachOnPath(n,(c,u)=>{const d=yt(c,n);r=r||ni(u,d)});let i=t.syncPointTree_.get(n);i?r=r||ni(i,te()):(i=new nT,t.syncPointTree_=t.syncPointTree_.set(n,i));const s=r!=null,o=s?new oi(r,!0,!1):null,a=Wd(t.pendingWriteTree_,e._path),l=rT(i,e,a,s?o.getNode():z.EMPTY_NODE,s);return jF(l)}function Ro(t,e){return cT(e,t.syncPointTree_,null,Wd(t.pendingWriteTree_,te()))}function cT(t,e,n,r){if(J(t.path))return uT(t,e,n,r);{const i=e.get(te());n==null&&i!=null&&(n=ni(i,te()));let s=[];const o=Y(t.path),a=t.operationForChild(o),l=e.children.get(o);if(l&&a){const c=n?n.getImmediateChild(o):null,u=X1(r,o);s=s.concat(cT(a,l,c,u))}return i&&(s=s.concat(Ny(i,t,r,n))),s}}function uT(t,e,n,r){const i=e.get(te());n==null&&i!=null&&(n=ni(i,te()));let s=[];return e.children.inorderTraversal((o,a)=>{const l=n?n.getImmediateChild(o):null,c=X1(r,o),u=t.operationForChild(o);u&&(s=s.concat(uT(u,a,l,c)))}),i&&(s=s.concat(Ny(i,t,r,n))),s}function dT(t,e){const n=e.query,r=cl(t,n);return{hashFn:()=>(LF(e)||z.EMPTY_NODE).hash(),onComplete:i=>{if(i==="ok")return r?JF(t,n._path,r):XF(t,n._path);{const s=XL(i,n);return id(t,n,null,s)}}}}function cl(t,e){const n=Gd(e);return t.queryToTagMap.get(n)}function Gd(t){return t._path.toString()+"$"+t._queryIdentifier}function Dy(t,e){return t.tagToQueryMap.get(e)}function Oy(t){const e=t.indexOf("$");return D(e!==-1&&e<t.length-1,"Bad queryKey."),{queryId:t.substr(e+1),path:new oe(t.substr(0,e))}}function My(t,e,n){const r=t.syncPointTree_.get(e);D(r,"Missing sync point for query tag that we're tracking");const i=Wd(t.pendingWriteTree_,e);return Ny(r,n,i,null)}function t3(t){return t.fold((e,n,r)=>{if(n&&ai(n))return[Hd(n)];{let i=[];return n&&(i=iT(n)),nt(r,(s,o)=>{i=i.concat(o)}),i}})}function ka(t){return t._queryParams.loadsAllData()&&!t._queryParams.isDefault()?new(KF())(t._repo,t._path):t}function n3(t,e){for(let n=0;n<e.length;++n){const r=e[n];if(!r._queryParams.loadsAllData()){const i=Gd(r),s=t.queryToTagMap.get(i);t.queryToTagMap.delete(i),t.tagToQueryMap.delete(s)}}}function r3(){return qF++}function i3(t,e,n){const r=e._path,i=cl(t,e),s=dT(t,n),o=t.listenProvider_.startListening(ka(e),i,s.hashFn,s.onComplete),a=t.syncPointTree_.subtree(r);if(i)D(!ai(a.value),"If we're adding a query, it shouldn't be shadowed");else{const l=a.fold((c,u,d)=>{if(!J(c)&&u&&ai(u))return[Hd(u).query];{let f=[];return u&&(f=f.concat(iT(u).map(p=>p.query))),nt(d,(p,g)=>{f=f.concat(g)}),f}});for(let c=0;c<l.length;++c){const u=l[c];t.listenProvider_.stopListening(ka(u),cl(t,u))}}return o}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ly{constructor(e){this.node_=e}getImmediateChild(e){const n=this.node_.getImmediateChild(e);return new Ly(n)}node(){return this.node_}}class jy{constructor(e,n){this.syncTree_=e,this.path_=n}getImmediateChild(e){const n=Ne(this.path_,e);return new jy(this.syncTree_,n)}node(){return Ay(this.syncTree_,this.path_)}}const s3=function(t){return t=t||{},t.timestamp=t.timestamp||new Date().getTime(),t},bw=function(t,e,n){if(!t||typeof t!="object")return t;if(D(".sv"in t,"Unexpected leaf node or priority contents"),typeof t[".sv"]=="string")return o3(t[".sv"],e,n);if(typeof t[".sv"]=="object")return a3(t[".sv"],e);D(!1,"Unexpected server value: "+JSON.stringify(t,null,2))},o3=function(t,e,n){switch(t){case"timestamp":return n.timestamp;default:D(!1,"Unexpected server value: "+t)}},a3=function(t,e,n){t.hasOwnProperty("increment")||D(!1,"Unexpected server value: "+JSON.stringify(t,null,2));const r=t.increment;typeof r!="number"&&D(!1,"Unexpected increment value: "+r);const i=e.node();if(D(i!==null&&typeof i<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;const o=i.getValue();return typeof o!="number"?r:o+r},fT=function(t,e,n,r){return Fy(e,new jy(n,t),r)},hT=function(t,e,n){return Fy(t,new Ly(e),n)};function Fy(t,e,n){const r=t.getPriority().val(),i=bw(r,e.getImmediateChild(".priority"),n);let s;if(t.isLeafNode()){const o=t,a=bw(o.getValue(),e,n);return a!==o.getValue()||i!==o.getPriority().val()?new Ge(a,Be(i)):t}else{const o=t;return s=o,i!==o.getPriority().val()&&(s=s.updatePriority(new Ge(i))),o.forEachChild(Ae,(a,l)=>{const c=Fy(l,e.getImmediateChild(a),n);c!==l&&(s=s.updateImmediateChild(a,c))}),s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $y{constructor(e="",n=null,r={children:{},childCount:0}){this.name=e,this.parent=n,this.node=r}}function Vy(t,e){let n=e instanceof oe?e:new oe(e),r=t,i=Y(n);for(;i!==null;){const s=io(r.node.children,i)||{children:{},childCount:0};r=new $y(i,r,s),n=he(n),i=Y(n)}return r}function No(t){return t.node.value}function pT(t,e){t.node.value=e,im(t)}function mT(t){return t.node.childCount>0}function l3(t){return No(t)===void 0&&!mT(t)}function Kd(t,e){nt(t.node.children,(n,r)=>{e(new $y(n,t,r))})}function gT(t,e,n,r){n&&!r&&e(t),Kd(t,i=>{gT(i,e,!0,r)}),n&&r&&e(t)}function c3(t,e,n){let r=n?t:t.parent;for(;r!==null;){if(e(r))return!0;r=r.parent}return!1}function Vl(t){return new oe(t.parent===null?t.name:Vl(t.parent)+"/"+t.name)}function im(t){t.parent!==null&&u3(t.parent,t.name,t)}function u3(t,e,n){const r=l3(n),i=Kn(t.node.children,e);r&&i?(delete t.node.children[e],t.node.childCount--,im(t)):!r&&!i&&(t.node.children[e]=n.node,t.node.childCount++,im(t))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d3=/[\[\].#$\/\u0000-\u001F\u007F]/,f3=/[\[\].#$\u0000-\u001F\u007F]/,mh=10*1024*1024,Uy=function(t){return typeof t=="string"&&t.length!==0&&!d3.test(t)},yT=function(t){return typeof t=="string"&&t.length!==0&&!f3.test(t)},h3=function(t){return t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),yT(t)},p3=function(t){return t===null||typeof t=="string"||typeof t=="number"&&!py(t)||t&&typeof t=="object"&&Kn(t,".sv")},vT=function(t,e,n,r){r&&e===void 0||qd(Ld(t,"value"),e,n)},qd=function(t,e,n){const r=n instanceof oe?new Nj(n,t):n;if(e===void 0)throw new Error(t+"contains undefined "+Ci(r));if(typeof e=="function")throw new Error(t+"contains a function "+Ci(r)+" with contents = "+e.toString());if(py(e))throw new Error(t+"contains "+e.toString()+" "+Ci(r));if(typeof e=="string"&&e.length>mh/3&&jd(e)>mh)throw new Error(t+"contains a string greater than "+mh+" utf8 bytes "+Ci(r)+" ('"+e.substring(0,50)+"...')");if(e&&typeof e=="object"){let i=!1,s=!1;if(nt(e,(o,a)=>{if(o===".value")i=!0;else if(o!==".priority"&&o!==".sv"&&(s=!0,!Uy(o)))throw new Error(t+" contains an invalid key ("+o+") "+Ci(r)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);Aj(r,o),qd(t,a,r),Dj(r)}),i&&s)throw new Error(t+' contains ".value" child '+Ci(r)+" in addition to actual children.")}},m3=function(t,e){let n,r;for(n=0;n<e.length;n++){r=e[n];const s=il(r);for(let o=0;o<s.length;o++)if(!(s[o]===".priority"&&o===s.length-1)){if(!Uy(s[o]))throw new Error(t+"contains an invalid key ("+s[o]+") in path "+r.toString()+`. Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`)}}e.sort(Rj);let i=null;for(n=0;n<e.length;n++){if(r=e[n],i!==null&&tn(i,r))throw new Error(t+"contains a path "+i.toString()+" that is ancestor of another path "+r.toString());i=r}},g3=function(t,e,n,r){if(r&&e===void 0)return;const i=Ld(t,"values");if(!(e&&typeof e=="object")||Array.isArray(e))throw new Error(i+" must be an object containing the children to replace.");const s=[];nt(e,(o,a)=>{const l=new oe(o);if(qd(i,a,Ne(n,l)),_y(l)===".priority"&&!p3(a))throw new Error(i+"contains an invalid value for '"+l.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");s.push(l)}),m3(i,s)},_T=function(t,e,n,r){if(!(r&&n===void 0)&&!yT(n))throw new Error(Ld(t,e)+'was an invalid path = "'+n+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},y3=function(t,e,n,r){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),_T(t,e,n,r)},wT=function(t,e){if(Y(e)===".info")throw new Error(t+" failed = Can't modify data under /.info/")},v3=function(t,e){const n=e.path.toString();if(typeof e.repoInfo.host!="string"||e.repoInfo.host.length===0||!Uy(e.repoInfo.namespace)&&e.repoInfo.host.split(":")[0]!=="localhost"||n.length!==0&&!h3(n))throw new Error(Ld(t,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _3{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function Yd(t,e){let n=null;for(let r=0;r<e.length;r++){const i=e[r],s=i.getPath();n!==null&&!wy(s,n.path)&&(t.eventLists_.push(n),n=null),n===null&&(n={events:[],path:s}),n.events.push(i)}n&&t.eventLists_.push(n)}function xT(t,e,n){Yd(t,n),CT(t,r=>wy(r,e))}function cn(t,e,n){Yd(t,n),CT(t,r=>tn(r,e)||tn(e,r))}function CT(t,e){t.recursionDepth_++;let n=!0;for(let r=0;r<t.eventLists_.length;r++){const i=t.eventLists_[r];if(i){const s=i.path;e(s)?(w3(t.eventLists_[r]),t.eventLists_[r]=null):n=!1}}n&&(t.eventLists_=[]),t.recursionDepth_--}function w3(t){for(let e=0;e<t.events.length;e++){const n=t.events[e];if(n!==null){t.events[e]=null;const r=n.getEventRunner();Fi&&Ze("event: "+n.toString()),Po(r)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x3="repo_interrupt",C3=25;class E3{constructor(e,n,r,i){this.repoInfo_=e,this.forceRestClient_=n,this.authTokenProvider_=r,this.appCheckProvider_=i,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new _3,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Qu(),this.transactionQueueTree_=new $y,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function S3(t,e,n){if(t.stats_=yy(t.repoInfo_),t.forceRestClient_||tj())t.server_=new Yu(t.repoInfo_,(r,i,s,o)=>{Tw(t,r,i,s,o)},t.authTokenProvider_,t.appCheckProvider_),setTimeout(()=>kw(t,!0),0);else{if(typeof n<"u"&&n!==null){if(typeof n!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{ze(n)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}t.persistentConnection_=new mr(t.repoInfo_,e,(r,i,s,o)=>{Tw(t,r,i,s,o)},r=>{kw(t,r)},r=>{b3(t,r)},t.authTokenProvider_,t.appCheckProvider_,n),t.server_=t.persistentConnection_}t.authTokenProvider_.addTokenChangeListener(r=>{t.server_.refreshAuthToken(r)}),t.appCheckProvider_.addTokenChangeListener(r=>{t.server_.refreshAppCheckToken(r.token)}),t.statsReporter_=oj(t.repoInfo_,()=>new sF(t.stats_,t.server_)),t.infoData_=new eF,t.infoSyncTree_=new Sw({startListening:(r,i,s,o)=>{let a=[];const l=t.infoData_.getNode(r._path);return l.isEmpty()||(a=$l(t.infoSyncTree_,r._path,l),setTimeout(()=>{o("ok")},0)),a},stopListening:()=>{}}),By(t,"connected",!1),t.serverSyncTree_=new Sw({startListening:(r,i,s,o)=>(t.server_.listen(r,s,i,(a,l)=>{const c=o(a,l);cn(t.eventQueue_,r._path,c)}),[]),stopListening:(r,i)=>{t.server_.unlisten(r,i)}})}function ET(t){const n=t.infoData_.getNode(new oe(".info/serverTimeOffset")).val()||0;return new Date().getTime()+n}function Qd(t){return s3({timestamp:ET(t)})}function Tw(t,e,n,r,i){t.dataUpdateCount++;const s=new oe(e);n=t.interceptServerDataCallback_?t.interceptServerDataCallback_(e,n):n;let o=[];if(i)if(r){const l=Fu(n,c=>Be(c));o=ZF(t.serverSyncTree_,s,l,i)}else{const l=Be(n);o=lT(t.serverSyncTree_,s,l,i)}else if(r){const l=Fu(n,c=>Be(c));o=QF(t.serverSyncTree_,s,l)}else{const l=Be(n);o=$l(t.serverSyncTree_,s,l)}let a=s;o.length>0&&(a=co(t,s)),cn(t.eventQueue_,a,o)}function kw(t,e){By(t,"connected",e),e===!1&&P3(t)}function b3(t,e){nt(e,(n,r)=>{By(t,n,r)})}function By(t,e,n){const r=new oe("/.info/"+e),i=Be(n);t.infoData_.updateSnapshot(r,i);const s=$l(t.infoSyncTree_,r,i);cn(t.eventQueue_,r,s)}function zy(t){return t.nextWriteId_++}function T3(t,e,n){const r=e3(t.serverSyncTree_,e);return r!=null?Promise.resolve(r):t.server_.get(e).then(i=>{const s=Be(i).withIndex(e._queryParams.getIndex());rm(t.serverSyncTree_,e,n,!0);let o;if(e._queryParams.loadsAllData())o=$l(t.serverSyncTree_,e._path,s);else{const a=cl(t.serverSyncTree_,e);o=lT(t.serverSyncTree_,e._path,s,a)}return cn(t.eventQueue_,e._path,o),id(t.serverSyncTree_,e,n,null,!0),s},i=>(Ul(t,"get for query "+ze(e)+" failed: "+i),Promise.reject(new Error(i))))}function k3(t,e,n,r,i){Ul(t,"set",{path:e.toString(),value:n,priority:r});const s=Qd(t),o=Be(n,r),a=Ay(t.serverSyncTree_,e),l=hT(o,a,s),c=zy(t),u=aT(t.serverSyncTree_,e,l,c,!0);Yd(t.eventQueue_,u),t.server_.put(e.toString(),o.val(!0),(f,p)=>{const g=f==="ok";g||wt("set at "+e+" failed: "+f);const _=Hr(t.serverSyncTree_,c,!g);cn(t.eventQueue_,e,_),sm(t,i,f,p)});const d=Hy(t,e);co(t,d),cn(t.eventQueue_,d,[])}function I3(t,e,n,r){Ul(t,"update",{path:e.toString(),value:n});let i=!0;const s=Qd(t),o={};if(nt(n,(a,l)=>{i=!1,o[a]=fT(Ne(e,a),Be(l),t.serverSyncTree_,s)}),i)Ze("update() called with empty data.  Don't do anything."),sm(t,r,"ok",void 0);else{const a=zy(t),l=YF(t.serverSyncTree_,e,o,a);Yd(t.eventQueue_,l),t.server_.merge(e.toString(),n,(c,u)=>{const d=c==="ok";d||wt("update at "+e+" failed: "+c);const f=Hr(t.serverSyncTree_,a,!d),p=f.length>0?co(t,e):e;cn(t.eventQueue_,p,f),sm(t,r,c,u)}),nt(n,c=>{const u=Hy(t,Ne(e,c));co(t,u)}),cn(t.eventQueue_,e,[])}}function P3(t){Ul(t,"onDisconnectEvents");const e=Qd(t),n=Qu();Xp(t.onDisconnect_,te(),(i,s)=>{const o=fT(i,s,t.serverSyncTree_,e);G1(n,i,o)});let r=[];Xp(n,te(),(i,s)=>{r=r.concat($l(t.serverSyncTree_,i,s));const o=Hy(t,i);co(t,o)}),t.onDisconnect_=Qu(),cn(t.eventQueue_,te(),r)}function R3(t,e,n){let r;Y(e._path)===".info"?r=rm(t.infoSyncTree_,e,n):r=rm(t.serverSyncTree_,e,n),xT(t.eventQueue_,e._path,r)}function Iw(t,e,n){let r;Y(e._path)===".info"?r=id(t.infoSyncTree_,e,n):r=id(t.serverSyncTree_,e,n),xT(t.eventQueue_,e._path,r)}function N3(t){t.persistentConnection_&&t.persistentConnection_.interrupt(x3)}function Ul(t,...e){let n="";t.persistentConnection_&&(n=t.persistentConnection_.id+":"),Ze(n,...e)}function sm(t,e,n,r){e&&Po(()=>{if(n==="ok")e(null);else{const i=(n||"error").toUpperCase();let s=i;r&&(s+=": "+r);const o=new Error(s);o.code=i,e(o)}})}function ST(t,e,n){return Ay(t.serverSyncTree_,e,n)||z.EMPTY_NODE}function Wy(t,e=t.transactionQueueTree_){if(e||Xd(t,e),No(e)){const n=TT(t,e);D(n.length>0,"Sending zero length transaction queue"),n.every(i=>i.status===0)&&A3(t,Vl(e),n)}else mT(e)&&Kd(e,n=>{Wy(t,n)})}function A3(t,e,n){const r=n.map(c=>c.currentWriteId),i=ST(t,e,r);let s=i;const o=i.hash();for(let c=0;c<n.length;c++){const u=n[c];D(u.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),u.status=1,u.retryCount++;const d=yt(e,u.path);s=s.updateChild(d,u.currentOutputSnapshotRaw)}const a=s.val(!0),l=e;t.server_.put(l.toString(),a,c=>{Ul(t,"transaction put response",{path:l.toString(),status:c});let u=[];if(c==="ok"){const d=[];for(let f=0;f<n.length;f++)n[f].status=2,u=u.concat(Hr(t.serverSyncTree_,n[f].currentWriteId)),n[f].onComplete&&d.push(()=>n[f].onComplete(null,!0,n[f].currentOutputSnapshotResolved)),n[f].unwatcher();Xd(t,Vy(t.transactionQueueTree_,e)),Wy(t,t.transactionQueueTree_),cn(t.eventQueue_,e,u);for(let f=0;f<d.length;f++)Po(d[f])}else{if(c==="datastale")for(let d=0;d<n.length;d++)n[d].status===3?n[d].status=4:n[d].status=0;else{wt("transaction at "+l.toString()+" failed: "+c);for(let d=0;d<n.length;d++)n[d].status=4,n[d].abortReason=c}co(t,e)}},o)}function co(t,e){const n=bT(t,e),r=Vl(n),i=TT(t,n);return D3(t,i,r),r}function D3(t,e,n){if(e.length===0)return;const r=[];let i=[];const o=e.filter(a=>a.status===0).map(a=>a.currentWriteId);for(let a=0;a<e.length;a++){const l=e[a],c=yt(n,l.path);let u=!1,d;if(D(c!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),l.status===4)u=!0,d=l.abortReason,i=i.concat(Hr(t.serverSyncTree_,l.currentWriteId,!0));else if(l.status===0)if(l.retryCount>=C3)u=!0,d="maxretry",i=i.concat(Hr(t.serverSyncTree_,l.currentWriteId,!0));else{const f=ST(t,l.path,o);l.currentInputSnapshot=f;const p=e[a].update(f.val());if(p!==void 0){qd("transaction failed: Data returned ",p,l.path);let g=Be(p);typeof p=="object"&&p!=null&&Kn(p,".priority")||(g=g.updatePriority(f.getPriority()));const E=l.currentWriteId,m=Qd(t),v=hT(g,f,m);l.currentOutputSnapshotRaw=g,l.currentOutputSnapshotResolved=v,l.currentWriteId=zy(t),o.splice(o.indexOf(E),1),i=i.concat(aT(t.serverSyncTree_,l.path,v,l.currentWriteId,l.applyLocally)),i=i.concat(Hr(t.serverSyncTree_,E,!0))}else u=!0,d="nodata",i=i.concat(Hr(t.serverSyncTree_,l.currentWriteId,!0))}cn(t.eventQueue_,n,i),i=[],u&&(e[a].status=2,function(f){setTimeout(f,Math.floor(0))}(e[a].unwatcher),e[a].onComplete&&(d==="nodata"?r.push(()=>e[a].onComplete(null,!1,e[a].currentInputSnapshot)):r.push(()=>e[a].onComplete(new Error(d),!1,null))))}Xd(t,t.transactionQueueTree_);for(let a=0;a<r.length;a++)Po(r[a]);Wy(t,t.transactionQueueTree_)}function bT(t,e){let n,r=t.transactionQueueTree_;for(n=Y(e);n!==null&&No(r)===void 0;)r=Vy(r,n),e=he(e),n=Y(e);return r}function TT(t,e){const n=[];return kT(t,e,n),n.sort((r,i)=>r.order-i.order),n}function kT(t,e,n){const r=No(e);if(r)for(let i=0;i<r.length;i++)n.push(r[i]);Kd(e,i=>{kT(t,i,n)})}function Xd(t,e){const n=No(e);if(n){let r=0;for(let i=0;i<n.length;i++)n[i].status!==2&&(n[r]=n[i],r++);n.length=r,pT(e,n.length>0?n:void 0)}Kd(e,r=>{Xd(t,r)})}function Hy(t,e){const n=Vl(bT(t,e)),r=Vy(t.transactionQueueTree_,e);return c3(r,i=>{gh(t,i)}),gh(t,r),gT(r,i=>{gh(t,i)}),n}function gh(t,e){const n=No(e);if(n){const r=[];let i=[],s=-1;for(let o=0;o<n.length;o++)n[o].status===3||(n[o].status===1?(D(s===o-1,"All SENT items should be at beginning of queue."),s=o,n[o].status=3,n[o].abortReason="set"):(D(n[o].status===0,"Unexpected transaction status in abort"),n[o].unwatcher(),i=i.concat(Hr(t.serverSyncTree_,n[o].currentWriteId,!0)),n[o].onComplete&&r.push(n[o].onComplete.bind(null,new Error("set"),!1,null))));s===-1?pT(e,void 0):n.length=s+1,cn(t.eventQueue_,Vl(e),i);for(let o=0;o<r.length;o++)Po(r[o])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function O3(t){let e="";const n=t.split("/");for(let r=0;r<n.length;r++)if(n[r].length>0){let i=n[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch{}e+="/"+i}return e}function M3(t){const e={};t.charAt(0)==="?"&&(t=t.substring(1));for(const n of t.split("&")){if(n.length===0)continue;const r=n.split("=");r.length===2?e[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):wt(`Invalid query segment '${n}' in query '${t}'`)}return e}const Pw=function(t,e){const n=L3(t),r=n.namespace;n.domain==="firebase.com"&&Er(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||r==="undefined")&&n.domain!=="localhost"&&Er("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||GL();const i=n.scheme==="ws"||n.scheme==="wss";return{repoInfo:new P1(n.host,n.secure,r,i,e,"",r!==n.subdomain),path:new oe(n.pathString)}},L3=function(t){let e="",n="",r="",i="",s="",o=!0,a="https",l=443;if(typeof t=="string"){let c=t.indexOf("//");c>=0&&(a=t.substring(0,c-1),t=t.substring(c+2));let u=t.indexOf("/");u===-1&&(u=t.length);let d=t.indexOf("?");d===-1&&(d=t.length),e=t.substring(0,Math.min(u,d)),u<d&&(i=O3(t.substring(u,d)));const f=M3(t.substring(Math.min(t.length,d)));c=e.indexOf(":"),c>=0?(o=a==="https"||a==="wss",l=parseInt(e.substring(c+1),10)):c=e.length;const p=e.slice(0,c);if(p.toLowerCase()==="localhost")n="localhost";else if(p.split(".").length<=2)n=p;else{const g=e.indexOf(".");r=e.substring(0,g).toLowerCase(),n=e.substring(g+1),s=r}"ns"in f&&(s=f.ns)}return{host:e,port:l,domain:n,subdomain:r,secure:o,scheme:a,pathString:i,namespace:s}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rw="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",j3=function(){let t=0;const e=[];return function(n){const r=n===t;t=n;let i;const s=new Array(8);for(i=7;i>=0;i--)s[i]=Rw.charAt(n%64),n=Math.floor(n/64);D(n===0,"Cannot push at time == 0");let o=s.join("");if(r){for(i=11;i>=0&&e[i]===63;i--)e[i]=0;e[i]++}else for(i=0;i<12;i++)e[i]=Math.floor(Math.random()*64);for(i=0;i<12;i++)o+=Rw.charAt(e[i]);return D(o.length===20,"nextPushId: Length should be 20."),o}}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IT{constructor(e,n,r,i){this.eventType=e,this.eventRegistration=n,this.snapshot=r,this.prevName=i}getPath(){const e=this.snapshot.ref;return this.eventType==="value"?e._path:e.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+ze(this.snapshot.exportVal())}}class PT{constructor(e,n,r){this.eventRegistration=e,this.error=n,this.path=r}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RT{constructor(e,n){this.snapshotCallback=e,this.cancelCallback=n}onValue(e,n){this.snapshotCallback.call(null,e,n)}onCancel(e){return D(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}get hasCancelCallback(){return!!this.cancelCallback}matches(e){return this.snapshotCallback===e.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gy{constructor(e,n,r,i){this._repo=e,this._path=n,this._queryParams=r,this._orderByCalled=i}get key(){return J(this._path)?null:_y(this._path)}get ref(){return new qn(this._repo,this._path)}get _queryIdentifier(){const e=pw(this._queryParams),n=my(e);return n==="{}"?"default":n}get _queryObject(){return pw(this._queryParams)}isEqual(e){if(e=Te(e),!(e instanceof Gy))return!1;const n=this._repo===e._repo,r=wy(this._path,e._path),i=this._queryIdentifier===e._queryIdentifier;return n&&r&&i}toJSON(){return this.toString()}toString(){return this._repo.toString()+Pj(this._path)}}class qn extends Gy{constructor(e,n){super(e,n,new Sy,!1)}get parent(){const e=F1(this._path);return e===null?null:new qn(this._repo,e)}get root(){let e=this;for(;e.parent!==null;)e=e.parent;return e}}class uo{constructor(e,n,r){this._node=e,this.ref=n,this._index=r}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(e){const n=new oe(e),r=fo(this.ref,e);return new uo(this._node.getChild(n),r,Ae)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(e){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(r,i)=>e(new uo(i,fo(this.ref,r),Ae)))}hasChild(e){const n=new oe(e);return!this._node.getChild(n).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function X(t,e){return t=Te(t),t._checkNotDeleted("ref"),e!==void 0?fo(t._root,e):t._root}function fo(t,e){return t=Te(t),Y(t._path)===null?y3("child","path",e,!1):_T("child","path",e,!1),new qn(t._repo,Ne(t._path,e))}function aa(t,e){t=Te(t),wT("push",t._path),vT("push",e,t._path,!0);const n=ET(t._repo),r=j3(n),i=fo(t,r),s=fo(t,r);let o;return e!=null?o=ct(s,e).then(()=>s):o=Promise.resolve(s),i.then=o.then.bind(o),i.catch=o.then.bind(o,void 0),i}function ct(t,e){t=Te(t),wT("set",t._path),vT("set",e,t._path,!1);const n=new Rl;return k3(t._repo,t._path,e,null,n.wrapCallback(()=>{})),n.promise}function Nw(t,e){g3("update",e,t._path,!1);const n=new Rl;return I3(t._repo,t._path,e,n.wrapCallback(()=>{})),n.promise}function vn(t){t=Te(t);const e=new RT(()=>{}),n=new Jd(e);return T3(t._repo,t,n).then(r=>new uo(r,new qn(t._repo,t._path),t._queryParams.getIndex()))}class Jd{constructor(e){this.callbackContext=e}respondsTo(e){return e==="value"}createEvent(e,n){const r=n._queryParams.getIndex();return new IT("value",this,new uo(e.snapshotNode,new qn(n._repo,n._path),r))}getEventRunner(e){return e.getEventType()==="cancel"?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,null)}createCancelEvent(e,n){return this.callbackContext.hasCancelCallback?new PT(this,e,n):null}matches(e){return e instanceof Jd?!e.callbackContext||!this.callbackContext?!0:e.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}}class Ky{constructor(e,n){this.eventType=e,this.callbackContext=n}respondsTo(e){let n=e==="children_added"?"child_added":e;return n=n==="children_removed"?"child_removed":n,this.eventType===n}createCancelEvent(e,n){return this.callbackContext.hasCancelCallback?new PT(this,e,n):null}createEvent(e,n){D(e.childName!=null,"Child events should have a childName.");const r=fo(new qn(n._repo,n._path),e.childName),i=n._queryParams.getIndex();return new IT(e.type,this,new uo(e.snapshotNode,r,i),e.prevName)}getEventRunner(e){return e.getEventType()==="cancel"?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,e.prevName)}matches(e){return e instanceof Ky?this.eventType===e.eventType&&(!this.callbackContext||!e.callbackContext||this.callbackContext.matches(e.callbackContext)):!1}hasAnyCallback(){return!!this.callbackContext}}function F3(t,e,n,r,i){let s;if(typeof r=="object"&&(s=void 0,i=r),typeof r=="function"&&(s=r),i&&i.onlyOnce){const l=n,c=(u,d)=>{Iw(t._repo,t,a),l(u,d)};c.userCallback=n.userCallback,c.context=n.context,n=c}const o=new RT(n,s||void 0),a=e==="value"?new Jd(o):new Ky(e,o);return R3(t._repo,t,a),()=>Iw(t._repo,t,a)}function sr(t,e,n,r){return F3(t,"value",e,n,r)}UF(qn);GF(qn);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $3="FIREBASE_DATABASE_EMULATOR_HOST",om={};let V3=!1;function U3(t,e,n,r){const i=e.lastIndexOf(":"),s=e.substring(0,i),o=is(s);t.repoInfo_=new P1(e,o,t.repoInfo_.namespace,t.repoInfo_.webSocketOnly,t.repoInfo_.nodeAdmin,t.repoInfo_.persistenceKey,t.repoInfo_.includeNamespaceInQueryParams,!0,n),r&&(t.authTokenProvider_=r)}function B3(t,e,n,r,i){let s=r||t.options.databaseURL;s===void 0&&(t.options.projectId||Er("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),Ze("Using default host for project ",t.options.projectId),s=`${t.options.projectId}-default-rtdb.firebaseio.com`);let o=Pw(s,i),a=o.repoInfo,l,c;typeof process<"u"&&process.env&&(c=process.env[$3]),c?(l=!0,s=`http://${c}?ns=${a.namespace}`,o=Pw(s,i),a=o.repoInfo):l=!o.repoInfo.secure;const u=i&&l?new Ks(Ks.OWNER):new rj(t.name,t.options,e);v3("Invalid Firebase Database URL",o),J(o.path)||Er("Database URL must point to the root of a Firebase Database (not including a child path).");const d=W3(a,t,u,new nj(t,n));return new H3(d,t)}function z3(t,e){const n=om[e];(!n||n[t.key]!==t)&&Er(`Database ${e}(${t.repoInfo_}) has already been deleted.`),N3(t),delete n[t.key]}function W3(t,e,n,r){let i=om[e.name];i||(i={},om[e.name]=i);let s=i[t.toURLString()];return s&&Er("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),s=new E3(t,V3,n,r),i[t.toURLString()]=s,s}class H3{constructor(e,n){this._repoInternal=e,this.app=n,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(S3(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0,pi("Database",this._repo.repoInfo_.emulatorOptions!==null)),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new qn(this._repo,te())),this._rootInternal}_delete(){return this._rootInternal!==null&&(z3(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){this._rootInternal===null&&Er("Cannot call "+e+" on a deleted database.")}}function G3(t=Nl(),e){const n=mi(t,"database").getImmediate({identifier:e});if(!n._instanceStarted){const r=Zg("database");r&&NT(n,...r)}return n}function NT(t,e,n,r={}){t=Te(t),t._checkNotDeleted("useEmulator");const i=`${e}:${n}`,s=t._repoInternal;if(t._instanceStarted){if(i===t._repoInternal.repoInfo_.host&&Gi(r,s.repoInfo_.emulatorOptions))return;Er("connectDatabaseEmulator() cannot initialize or alter the emulator configuration after the database instance has started.")}let o;if(s.repoInfo_.nodeAdmin)r.mockUserToken&&Er('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),o=new Ks(Ks.OWNER);else if(r.mockUserToken){const a=typeof r.mockUserToken=="string"?r.mockUserToken:Sb(r.mockUserToken,t.app.options.projectId);o=new Ks(a)}is(e)&&(Md(e),pi("Database",!0)),U3(s,i,r,o)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function K3(t){UL(os),an(new Bt("database",(e,{instanceIdentifier:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal"),s=e.getProvider("app-check-internal");return B3(r,i,s,n)},"PUBLIC").setMultipleInstances(!0)),dt(X_,J_,t),dt(X_,J_,"esm2017")}mr.prototype.simpleListen=function(t,e){this.sendRequest("q",{p:t},e)};mr.prototype.echo=function(t,e){this.sendRequest("echo",{d:t},e)};K3();var q3="firebase",Y3="11.7.3";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */dt(q3,Y3,"app");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AT="firebasestorage.googleapis.com",Q3="storageBucket",X3=2*60*1e3,J3=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yn extends Gn{constructor(e,n,r=0){super(yh(e),`Firebase Storage: ${n} (${yh(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Yn.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return yh(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Hn;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Hn||(Hn={}));function yh(t){return"storage/"+t}function Z3(){const t="An unknown error occurred, please check the error payload for server response.";return new Yn(Hn.UNKNOWN,t)}function e4(){return new Yn(Hn.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function t4(){return new Yn(Hn.CANCELED,"User canceled the upload/download.")}function n4(t){return new Yn(Hn.INVALID_URL,"Invalid URL '"+t+"'.")}function r4(t){return new Yn(Hn.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function Aw(t){return new Yn(Hn.INVALID_ARGUMENT,t)}function DT(){return new Yn(Hn.APP_DELETED,"The Firebase app was deleted.")}function i4(t){return new Yn(Hn.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xn{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=xn.makeFromUrl(e,n)}catch{return new xn(e,"")}if(r.path==="")return r;throw r4(e)}static makeFromUrl(e,n){let r=null;const i="([A-Za-z0-9.\\-_]+)";function s(C){C.path.charAt(C.path.length-1)==="/"&&(C.path_=C.path_.slice(0,-1))}const o="(/(.*))?$",a=new RegExp("^gs://"+i+o,"i"),l={bucket:1,path:3};function c(C){C.path_=decodeURIComponent(C.path)}const u="v[A-Za-z0-9_]+",d=n.replace(/[.]/g,"\\."),f="(/([^?#]*).*)?$",p=new RegExp(`^https?://${d}/${u}/b/${i}/o${f}`,"i"),g={bucket:1,path:3},_=n===AT?"(?:storage.googleapis.com|storage.cloud.google.com)":n,E="([^?#]*)",m=new RegExp(`^https?://${_}/${i}/${E}`,"i"),y=[{regex:a,indices:l,postModify:s},{regex:p,indices:g,postModify:c},{regex:m,indices:{bucket:1,path:2},postModify:c}];for(let C=0;C<y.length;C++){const S=y[C],b=S.regex.exec(e);if(b){const T=b[S.indices.bucket];let k=b[S.indices.path];k||(k=""),r=new xn(T,k),S.postModify(r);break}}if(r==null)throw n4(e);return r}}class s4{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function o4(t,e,n){let r=1,i=null,s=null,o=!1,a=0;function l(){return a===2}let c=!1;function u(...E){c||(c=!0,e.apply(null,E))}function d(E){i=setTimeout(()=>{i=null,t(p,l())},E)}function f(){s&&clearTimeout(s)}function p(E,...m){if(c){f();return}if(E){f(),u.call(null,E,...m);return}if(l()||o){f(),u.call(null,E,...m);return}r<64&&(r*=2);let y;a===1?(a=2,y=0):y=(r+Math.random())*1e3,d(y)}let g=!1;function _(E){g||(g=!0,f(),!c&&(i!==null?(E||(a=2),clearTimeout(i),d(0)):E||(a=1)))}return d(0),s=setTimeout(()=>{o=!0,_(!0)},n),_}function a4(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function l4(t){return t!==void 0}function Dw(t,e,n,r){if(r<e)throw Aw(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw Aw(`Invalid value for '${t}'. Expected ${n} or less.`)}function c4(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const i=e(r)+"="+e(t[r]);n=n+i+"&"}return n=n.slice(0,-1),n}var sd;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(sd||(sd={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function u4(t,e){const n=t>=500&&t<600,i=[408,429].indexOf(t)!==-1,s=e.indexOf(t)!==-1;return n||i||s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d4{constructor(e,n,r,i,s,o,a,l,c,u,d,f=!0,p=!1){this.url_=e,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=s,this.additionalRetryCodes_=o,this.callback_=a,this.errorCallback_=l,this.timeout_=c,this.progressCallback_=u,this.connectionFactory_=d,this.retry=f,this.isUsingEmulator=p,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((g,_)=>{this.resolve_=g,this.reject_=_,this.start_()})}start_(){const e=(r,i)=>{if(i){r(!1,new bc(!1,null,!0));return}const s=this.connectionFactory_();this.pendingConnection_=s;const o=a=>{const l=a.loaded,c=a.lengthComputable?a.total:-1;this.progressCallback_!==null&&this.progressCallback_(l,c)};this.progressCallback_!==null&&s.addUploadProgressListener(o),s.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&s.removeUploadProgressListener(o),this.pendingConnection_=null;const a=s.getErrorCode()===sd.NO_ERROR,l=s.getStatus();if(!a||u4(l,this.additionalRetryCodes_)&&this.retry){const u=s.getErrorCode()===sd.ABORT;r(!1,new bc(!1,null,u));return}const c=this.successCodes_.indexOf(l)!==-1;r(!0,new bc(c,s))})},n=(r,i)=>{const s=this.resolve_,o=this.reject_,a=i.connection;if(i.wasSuccessCode)try{const l=this.callback_(a,a.getResponse());l4(l)?s(l):s()}catch(l){o(l)}else if(a!==null){const l=Z3();l.serverResponse=a.getErrorText(),this.errorCallback_?o(this.errorCallback_(a,l)):o(l)}else if(i.canceled){const l=this.appDelete_?DT():t4();o(l)}else{const l=e4();o(l)}};this.canceled_?n(!1,new bc(!1,null,!0)):this.backoffId_=o4(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&a4(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class bc{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function f4(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function h4(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function p4(t,e){e&&(t["X-Firebase-GMPID"]=e)}function m4(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function g4(t,e,n,r,i,s,o=!0,a=!1){const l=c4(t.urlParams),c=t.url+l,u=Object.assign({},t.headers);return p4(u,e),f4(u,n),h4(u,s),m4(u,r),new d4(c,t.method,u,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i,o,a)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function y4(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function v4(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class od{constructor(e,n){this._service=e,n instanceof xn?this._location=n:this._location=xn.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new od(e,n)}get root(){const e=new xn(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return v4(this._location.path)}get storage(){return this._service}get parent(){const e=y4(this._location.path);if(e===null)return null;const n=new xn(this._location.bucket,e);return new od(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw i4(e)}}function Ow(t,e){const n=e==null?void 0:e[Q3];return n==null?null:xn.makeFromBucketSpec(n,t)}function _4(t,e,n,r={}){t.host=`${e}:${n}`;const i=is(e);i&&(Md(`https://${t.host}`),pi("Storage",!0)),t._isUsingEmulator=!0,t._protocol=i?"https":"http";const{mockUserToken:s}=r;s&&(t._overrideAuthToken=typeof s=="string"?s:Sb(s,t.app.options.projectId))}class w4{constructor(e,n,r,i,s,o=!1){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=s,this._isUsingEmulator=o,this._bucket=null,this._host=AT,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=X3,this._maxUploadRetryTime=J3,this._requests=new Set,i!=null?this._bucket=xn.makeFromBucketSpec(i,this._host):this._bucket=Ow(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=xn.makeFromBucketSpec(this._url,e):this._bucket=Ow(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){Dw("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){Dw("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(gt(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new od(this,e)}_makeRequest(e,n,r,i,s=!0){if(this._deleted)return new s4(DT());{const o=g4(e,this._appId,r,i,n,this._firebaseVersion,s,this._isUsingEmulator);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}async makeRequestWithTokens(e,n){const[r,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,i).getPromise()}}const Mw="@firebase/storage",Lw="0.13.10";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OT="storage";function x4(t=Nl(),e){t=Te(t),pi("Storage",!1);const r=mi(t,OT).getImmediate({identifier:e}),i=Zg("storage");return i&&C4(r,...i),r}function C4(t,e,n,r={}){_4(t,e,n,r)}function E4(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),i=t.getProvider("app-check-internal");return new w4(n,r,i,e,os)}function S4(){an(new Bt(OT,E4,"PUBLIC").setMultipleInstances(!0)),dt(Mw,Lw,""),dt(Mw,Lw,"esm2017")}S4();const MT="@firebase/installations",qy="0.6.16";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LT=1e4,jT=`w:${qy}`,FT="FIS_v2",b4="https://firebaseinstallations.googleapis.com/v1",T4=60*60*1e3,k4="installations",I4="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P4={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},Ji=new ss(k4,I4,P4);function $T(t){return t instanceof Gn&&t.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VT({projectId:t}){return`${b4}/projects/${t}/installations`}function UT(t){return{token:t.token,requestStatus:2,expiresIn:N4(t.expiresIn),creationTime:Date.now()}}async function BT(t,e){const r=(await e.json()).error;return Ji.create("request-failed",{requestName:t,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})}function zT({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function R4(t,{refreshToken:e}){const n=zT(t);return n.append("Authorization",A4(e)),n}async function WT(t){const e=await t();return e.status>=500&&e.status<600?t():e}function N4(t){return Number(t.replace("s","000"))}function A4(t){return`${FT} ${t}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function D4({appConfig:t,heartbeatServiceProvider:e},{fid:n}){const r=VT(t),i=zT(t),s=e.getImmediate({optional:!0});if(s){const c=await s.getHeartbeatsHeader();c&&i.append("x-firebase-client",c)}const o={fid:n,authVersion:FT,appId:t.appId,sdkVersion:jT},a={method:"POST",headers:i,body:JSON.stringify(o)},l=await WT(()=>fetch(r,a));if(l.ok){const c=await l.json();return{fid:c.fid||n,registrationStatus:2,refreshToken:c.refreshToken,authToken:UT(c.authToken)}}else throw await BT("Create Installation",l)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HT(t){return new Promise(e=>{setTimeout(e,t)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function O4(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M4=/^[cdef][\w-]{21}$/,am="";function L4(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const n=j4(t);return M4.test(n)?n:am}catch{return am}}function j4(t){return O4(t).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zd(t){return`${t.appName}!${t.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GT=new Map;function KT(t,e){const n=Zd(t);qT(n,e),F4(n,e)}function qT(t,e){const n=GT.get(t);if(n)for(const r of n)r(e)}function F4(t,e){const n=$4();n&&n.postMessage({key:t,fid:e}),V4()}let Di=null;function $4(){return!Di&&"BroadcastChannel"in self&&(Di=new BroadcastChannel("[Firebase] FID Change"),Di.onmessage=t=>{qT(t.data.key,t.data.fid)}),Di}function V4(){GT.size===0&&Di&&(Di.close(),Di=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U4="firebase-installations-database",B4=1,Zi="firebase-installations-store";let vh=null;function Yy(){return vh||(vh=Fd(U4,B4,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(Zi)}}})),vh}async function ad(t,e){const n=Zd(t),i=(await Yy()).transaction(Zi,"readwrite"),s=i.objectStore(Zi),o=await s.get(n);return await s.put(e,n),await i.done,(!o||o.fid!==e.fid)&&KT(t,e.fid),e}async function YT(t){const e=Zd(t),r=(await Yy()).transaction(Zi,"readwrite");await r.objectStore(Zi).delete(e),await r.done}async function ef(t,e){const n=Zd(t),i=(await Yy()).transaction(Zi,"readwrite"),s=i.objectStore(Zi),o=await s.get(n),a=e(o);return a===void 0?await s.delete(n):await s.put(a,n),await i.done,a&&(!o||o.fid!==a.fid)&&KT(t,a.fid),a}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Qy(t){let e;const n=await ef(t.appConfig,r=>{const i=z4(r),s=W4(t,i);return e=s.registrationPromise,s.installationEntry});return n.fid===am?{installationEntry:await e}:{installationEntry:n,registrationPromise:e}}function z4(t){const e=t||{fid:L4(),registrationStatus:0};return QT(e)}function W4(t,e){if(e.registrationStatus===0){if(!navigator.onLine){const i=Promise.reject(Ji.create("app-offline"));return{installationEntry:e,registrationPromise:i}}const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=H4(t,n);return{installationEntry:n,registrationPromise:r}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:G4(t)}:{installationEntry:e}}async function H4(t,e){try{const n=await D4(t,e);return ad(t.appConfig,n)}catch(n){throw $T(n)&&n.customData.serverCode===409?await YT(t.appConfig):await ad(t.appConfig,{fid:e.fid,registrationStatus:0}),n}}async function G4(t){let e=await jw(t.appConfig);for(;e.registrationStatus===1;)await HT(100),e=await jw(t.appConfig);if(e.registrationStatus===0){const{installationEntry:n,registrationPromise:r}=await Qy(t);return r||n}return e}function jw(t){return ef(t,e=>{if(!e)throw Ji.create("installation-not-found");return QT(e)})}function QT(t){return K4(t)?{fid:t.fid,registrationStatus:0}:t}function K4(t){return t.registrationStatus===1&&t.registrationTime+LT<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function q4({appConfig:t,heartbeatServiceProvider:e},n){const r=Y4(t,n),i=R4(t,n),s=e.getImmediate({optional:!0});if(s){const c=await s.getHeartbeatsHeader();c&&i.append("x-firebase-client",c)}const o={installation:{sdkVersion:jT,appId:t.appId}},a={method:"POST",headers:i,body:JSON.stringify(o)},l=await WT(()=>fetch(r,a));if(l.ok){const c=await l.json();return UT(c)}else throw await BT("Generate Auth Token",l)}function Y4(t,{fid:e}){return`${VT(t)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Xy(t,e=!1){let n;const r=await ef(t.appConfig,s=>{if(!XT(s))throw Ji.create("not-registered");const o=s.authToken;if(!e&&J4(o))return s;if(o.requestStatus===1)return n=Q4(t,e),s;{if(!navigator.onLine)throw Ji.create("app-offline");const a=e5(s);return n=X4(t,a),a}});return n?await n:r.authToken}async function Q4(t,e){let n=await Fw(t.appConfig);for(;n.authToken.requestStatus===1;)await HT(100),n=await Fw(t.appConfig);const r=n.authToken;return r.requestStatus===0?Xy(t,e):r}function Fw(t){return ef(t,e=>{if(!XT(e))throw Ji.create("not-registered");const n=e.authToken;return t5(n)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}async function X4(t,e){try{const n=await q4(t,e),r=Object.assign(Object.assign({},e),{authToken:n});return await ad(t.appConfig,r),n}catch(n){if($T(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await YT(t.appConfig);else{const r=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});await ad(t.appConfig,r)}throw n}}function XT(t){return t!==void 0&&t.registrationStatus===2}function J4(t){return t.requestStatus===2&&!Z4(t)}function Z4(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+T4}function e5(t){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},t),{authToken:e})}function t5(t){return t.requestStatus===1&&t.requestTime+LT<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function n5(t){const e=t,{installationEntry:n,registrationPromise:r}=await Qy(e);return r?r.catch(console.error):Xy(e).catch(console.error),n.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function r5(t,e=!1){const n=t;return await i5(n),(await Xy(n,e)).token}async function i5(t){const{registrationPromise:e}=await Qy(t);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function s5(t){if(!t||!t.options)throw _h("App Configuration");if(!t.name)throw _h("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!t.options[n])throw _h(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}function _h(t){return Ji.create("missing-app-config-values",{valueName:t})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JT="installations",o5="installations-internal",a5=t=>{const e=t.getProvider("app").getImmediate(),n=s5(e),r=mi(e,"heartbeat");return{app:e,appConfig:n,heartbeatServiceProvider:r,_delete:()=>Promise.resolve()}},l5=t=>{const e=t.getProvider("app").getImmediate(),n=mi(e,JT).getImmediate();return{getId:()=>n5(n),getToken:i=>r5(n,i)}};function c5(){an(new Bt(JT,a5,"PUBLIC")),an(new Bt(o5,l5,"PRIVATE"))}c5();dt(MT,qy);dt(MT,qy,"esm2017");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u5="/firebase-messaging-sw.js",d5="/firebase-cloud-messaging-push-scope",ZT="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",f5="https://fcmregistrations.googleapis.com/v1",ek="google.c.a.c_id",h5="google.c.a.c_l",p5="google.c.a.ts",m5="google.c.a.e",$w=1e4;var Vw;(function(t){t[t.DATA_MESSAGE=1]="DATA_MESSAGE",t[t.DISPLAY_NOTIFICATION=3]="DISPLAY_NOTIFICATION"})(Vw||(Vw={}));/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License"); you may not use this file except
 * in compliance with the License. You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software distributed under the License
 * is distributed on an "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express
 * or implied. See the License for the specific language governing permissions and limitations under
 * the License.
 */var ul;(function(t){t.PUSH_RECEIVED="push-received",t.NOTIFICATION_CLICKED="notification-clicked"})(ul||(ul={}));/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nr(t){const e=new Uint8Array(t);return btoa(String.fromCharCode(...e)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function g5(t){const e="=".repeat((4-t.length%4)%4),n=(t+e).replace(/\-/g,"+").replace(/_/g,"/"),r=atob(n),i=new Uint8Array(r.length);for(let s=0;s<r.length;++s)i[s]=r.charCodeAt(s);return i}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wh="fcm_token_details_db",y5=5,Uw="fcm_token_object_Store";async function v5(t){if("databases"in indexedDB&&!(await indexedDB.databases()).map(s=>s.name).includes(wh))return null;let e=null;return(await Fd(wh,y5,{upgrade:async(r,i,s,o)=>{var a;if(i<2||!r.objectStoreNames.contains(Uw))return;const l=o.objectStore(Uw),c=await l.index("fcmSenderId").get(t);if(await l.clear(),!!c){if(i===2){const u=c;if(!u.auth||!u.p256dh||!u.endpoint)return;e={token:u.fcmToken,createTime:(a=u.createTime)!==null&&a!==void 0?a:Date.now(),subscriptionOptions:{auth:u.auth,p256dh:u.p256dh,endpoint:u.endpoint,swScope:u.swScope,vapidKey:typeof u.vapidKey=="string"?u.vapidKey:nr(u.vapidKey)}}}else if(i===3){const u=c;e={token:u.fcmToken,createTime:u.createTime,subscriptionOptions:{auth:nr(u.auth),p256dh:nr(u.p256dh),endpoint:u.endpoint,swScope:u.swScope,vapidKey:nr(u.vapidKey)}}}else if(i===4){const u=c;e={token:u.fcmToken,createTime:u.createTime,subscriptionOptions:{auth:nr(u.auth),p256dh:nr(u.p256dh),endpoint:u.endpoint,swScope:u.swScope,vapidKey:nr(u.vapidKey)}}}}}})).close(),await sh(wh),await sh("fcm_vapid_details_db"),await sh("undefined"),_5(e)?e:null}function _5(t){if(!t||!t.subscriptionOptions)return!1;const{subscriptionOptions:e}=t;return typeof t.createTime=="number"&&t.createTime>0&&typeof t.token=="string"&&t.token.length>0&&typeof e.auth=="string"&&e.auth.length>0&&typeof e.p256dh=="string"&&e.p256dh.length>0&&typeof e.endpoint=="string"&&e.endpoint.length>0&&typeof e.swScope=="string"&&e.swScope.length>0&&typeof e.vapidKey=="string"&&e.vapidKey.length>0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w5="firebase-messaging-database",x5=1,dl="firebase-messaging-store";let xh=null;function tk(){return xh||(xh=Fd(w5,x5,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(dl)}}})),xh}async function C5(t){const e=nk(t),r=await(await tk()).transaction(dl).objectStore(dl).get(e);if(r)return r;{const i=await v5(t.appConfig.senderId);if(i)return await Jy(t,i),i}}async function Jy(t,e){const n=nk(t),i=(await tk()).transaction(dl,"readwrite");return await i.objectStore(dl).put(e,n),await i.done,e}function nk({appConfig:t}){return t.appId}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E5={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."},ft=new ss("messaging","Messaging",E5);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function S5(t,e){const n=await ev(t),r=rk(e),i={method:"POST",headers:n,body:JSON.stringify(r)};let s;try{s=await(await fetch(Zy(t.appConfig),i)).json()}catch(o){throw ft.create("token-subscribe-failed",{errorInfo:o==null?void 0:o.toString()})}if(s.error){const o=s.error.message;throw ft.create("token-subscribe-failed",{errorInfo:o})}if(!s.token)throw ft.create("token-subscribe-no-token");return s.token}async function b5(t,e){const n=await ev(t),r=rk(e.subscriptionOptions),i={method:"PATCH",headers:n,body:JSON.stringify(r)};let s;try{s=await(await fetch(`${Zy(t.appConfig)}/${e.token}`,i)).json()}catch(o){throw ft.create("token-update-failed",{errorInfo:o==null?void 0:o.toString()})}if(s.error){const o=s.error.message;throw ft.create("token-update-failed",{errorInfo:o})}if(!s.token)throw ft.create("token-update-no-token");return s.token}async function T5(t,e){const r={method:"DELETE",headers:await ev(t)};try{const s=await(await fetch(`${Zy(t.appConfig)}/${e}`,r)).json();if(s.error){const o=s.error.message;throw ft.create("token-unsubscribe-failed",{errorInfo:o})}}catch(i){throw ft.create("token-unsubscribe-failed",{errorInfo:i==null?void 0:i.toString()})}}function Zy({projectId:t}){return`${f5}/projects/${t}/registrations`}async function ev({appConfig:t,installations:e}){const n=await e.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t.apiKey,"x-goog-firebase-installations-auth":`FIS ${n}`})}function rk({p256dh:t,auth:e,endpoint:n,vapidKey:r}){const i={web:{endpoint:n,auth:e,p256dh:t}};return r!==ZT&&(i.web.applicationPubKey=r),i}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k5=7*24*60*60*1e3;async function I5(t){const e=await R5(t.swRegistration,t.vapidKey),n={vapidKey:t.vapidKey,swScope:t.swRegistration.scope,endpoint:e.endpoint,auth:nr(e.getKey("auth")),p256dh:nr(e.getKey("p256dh"))},r=await C5(t.firebaseDependencies);if(r){if(N5(r.subscriptionOptions,n))return Date.now()>=r.createTime+k5?P5(t,{token:r.token,createTime:Date.now(),subscriptionOptions:n}):r.token;try{await T5(t.firebaseDependencies,r.token)}catch(i){console.warn(i)}return Bw(t.firebaseDependencies,n)}else return Bw(t.firebaseDependencies,n)}async function P5(t,e){try{const n=await b5(t.firebaseDependencies,e),r=Object.assign(Object.assign({},e),{token:n,createTime:Date.now()});return await Jy(t.firebaseDependencies,r),n}catch(n){throw n}}async function Bw(t,e){const r={token:await S5(t,e),createTime:Date.now(),subscriptionOptions:e};return await Jy(t,r),r.token}async function R5(t,e){const n=await t.pushManager.getSubscription();return n||t.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:g5(e)})}function N5(t,e){const n=e.vapidKey===t.vapidKey,r=e.endpoint===t.endpoint,i=e.auth===t.auth,s=e.p256dh===t.p256dh;return n&&r&&i&&s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zw(t){const e={from:t.from,collapseKey:t.collapse_key,messageId:t.fcmMessageId};return A5(e,t),D5(e,t),O5(e,t),e}function A5(t,e){if(!e.notification)return;t.notification={};const n=e.notification.title;n&&(t.notification.title=n);const r=e.notification.body;r&&(t.notification.body=r);const i=e.notification.image;i&&(t.notification.image=i);const s=e.notification.icon;s&&(t.notification.icon=s)}function D5(t,e){e.data&&(t.data=e.data)}function O5(t,e){var n,r,i,s,o;if(!e.fcmOptions&&!(!((n=e.notification)===null||n===void 0)&&n.click_action))return;t.fcmOptions={};const a=(i=(r=e.fcmOptions)===null||r===void 0?void 0:r.link)!==null&&i!==void 0?i:(s=e.notification)===null||s===void 0?void 0:s.click_action;a&&(t.fcmOptions.link=a);const l=(o=e.fcmOptions)===null||o===void 0?void 0:o.analytics_label;l&&(t.fcmOptions.analyticsLabel=l)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function M5(t){return typeof t=="object"&&!!t&&ek in t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */L5("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");function L5(t,e){const n=[];for(let r=0;r<t.length;r++)n.push(t.charAt(r)),r<e.length&&n.push(e.charAt(r));return n.join("")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function j5(t){if(!t||!t.options)throw Ch("App Configuration Object");if(!t.name)throw Ch("App Name");const e=["projectId","apiKey","appId","messagingSenderId"],{options:n}=t;for(const r of e)if(!n[r])throw Ch(r);return{appName:t.name,projectId:n.projectId,apiKey:n.apiKey,appId:n.appId,senderId:n.messagingSenderId}}function Ch(t){return ft.create("missing-app-config-values",{valueName:t})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F5{constructor(e,n,r){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const i=j5(e);this.firebaseDependencies={app:e,appConfig:i,installations:n,analyticsProvider:r}}_delete(){return Promise.resolve()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $5(t){try{t.swRegistration=await navigator.serviceWorker.register(u5,{scope:d5}),t.swRegistration.update().catch(()=>{}),await V5(t.swRegistration)}catch(e){throw ft.create("failed-service-worker-registration",{browserErrorMessage:e==null?void 0:e.message})}}async function V5(t){return new Promise((e,n)=>{const r=setTimeout(()=>n(new Error(`Service worker not registered after ${$w} ms`)),$w),i=t.installing||t.waiting;t.active?(clearTimeout(r),e()):i?i.onstatechange=s=>{var o;((o=s.target)===null||o===void 0?void 0:o.state)==="activated"&&(i.onstatechange=null,clearTimeout(r),e())}:(clearTimeout(r),n(new Error("No incoming service worker found.")))})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function U5(t,e){if(!e&&!t.swRegistration&&await $5(t),!(!e&&t.swRegistration)){if(!(e instanceof ServiceWorkerRegistration))throw ft.create("invalid-sw-registration");t.swRegistration=e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function B5(t,e){e?t.vapidKey=e:t.vapidKey||(t.vapidKey=ZT)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ik(t,e){if(!navigator)throw ft.create("only-available-in-window");if(Notification.permission==="default"&&await Notification.requestPermission(),Notification.permission!=="granted")throw ft.create("permission-blocked");return await B5(t,e==null?void 0:e.vapidKey),await U5(t,e==null?void 0:e.serviceWorkerRegistration),I5(t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function z5(t,e,n){const r=W5(e);(await t.firebaseDependencies.analyticsProvider.get()).logEvent(r,{message_id:n[ek],message_name:n[h5],message_time:n[p5],message_device_time:Math.floor(Date.now()/1e3)})}function W5(t){switch(t){case ul.NOTIFICATION_CLICKED:return"notification_open";case ul.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function H5(t,e){const n=e.data;if(!n.isFirebaseMessaging)return;t.onMessageHandler&&n.messageType===ul.PUSH_RECEIVED&&(typeof t.onMessageHandler=="function"?t.onMessageHandler(zw(n)):t.onMessageHandler.next(zw(n)));const r=n.data;M5(r)&&r[m5]==="1"&&await z5(t,n.messageType,r)}const Ww="@firebase/messaging",Hw="0.12.20";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G5=t=>{const e=new F5(t.getProvider("app").getImmediate(),t.getProvider("installations-internal").getImmediate(),t.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",n=>H5(e,n)),e},K5=t=>{const e=t.getProvider("messaging").getImmediate();return{getToken:r=>ik(e,r)}};function q5(){an(new Bt("messaging",G5,"PUBLIC")),an(new Bt("messaging-internal",K5,"PRIVATE")),dt(Ww,Hw),dt(Ww,Hw,"esm2017")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Y5(){try{await Ib()}catch{return!1}return typeof window<"u"&&kb()&&rO()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Q5(t,e){if(!navigator)throw ft.create("only-available-in-window");return t.onMessageHandler=e,()=>{t.onMessageHandler=null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function X5(t=Nl()){return Y5().then(e=>{if(!e)throw ft.create("unsupported-browser")},e=>{throw ft.create("indexed-db-unsupported")}),mi(Te(t),"messaging").getImmediate()}async function J5(t,e){return t=Te(t),ik(t,e)}function Z5(t,e){return t=Te(t),Q5(t,e)}q5();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sk="functions";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e${constructor(e,n,r,i){this.app=e,this.auth=null,this.messaging=null,this.appCheck=null,this.serverAppAppCheckToken=null,gt(e)&&e.settings.appCheckToken&&(this.serverAppAppCheckToken=e.settings.appCheckToken),this.auth=n.getImmediate({optional:!0}),this.messaging=r.getImmediate({optional:!0}),this.auth||n.get().then(s=>this.auth=s,()=>{}),this.messaging||r.get().then(s=>this.messaging=s,()=>{}),this.appCheck||i==null||i.get().then(s=>this.appCheck=s,()=>{})}async getAuthToken(){if(this.auth)try{const e=await this.auth.getToken();return e==null?void 0:e.accessToken}catch{return}}async getMessagingToken(){if(!(!this.messaging||!("Notification"in self)||Notification.permission!=="granted"))try{return await this.messaging.getToken()}catch{return}}async getAppCheckToken(e){if(this.serverAppAppCheckToken)return this.serverAppAppCheckToken;if(this.appCheck){const n=e?await this.appCheck.getLimitedUseToken():await this.appCheck.getToken();return n.error?null:n.token}return null}async getContext(e){const n=await this.getAuthToken(),r=await this.getMessagingToken(),i=await this.getAppCheckToken(e);return{authToken:n,messagingToken:r,appCheckToken:i}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lm="us-central1";class t${constructor(e,n,r,i,s=lm,o=(...a)=>fetch(...a)){this.app=e,this.fetchImpl=o,this.emulatorOrigin=null,this.contextProvider=new e$(e,n,r,i),this.cancelAllRequests=new Promise(a=>{this.deleteService=()=>Promise.resolve(a())});try{const a=new URL(s);this.customDomain=a.origin+(a.pathname==="/"?"":a.pathname),this.region=lm}catch{this.customDomain=null,this.region=s}}_delete(){return this.deleteService()}_url(e){const n=this.app.options.projectId;return this.emulatorOrigin!==null?`${this.emulatorOrigin}/${n}/${this.region}/${e}`:this.customDomain!==null?`${this.customDomain}/${e}`:`https://${this.region}-${n}.cloudfunctions.net/${e}`}}function n$(t,e,n){const r=is(e);t.emulatorOrigin=`http${r?"s":""}://${e}:${n}`,r&&(Md(t.emulatorOrigin),pi("Functions",!0))}const Gw="@firebase/functions",Kw="0.12.6";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r$="auth-internal",i$="app-check-internal",s$="messaging-internal";function o$(t){const e=(n,{instanceIdentifier:r})=>{const i=n.getProvider("app").getImmediate(),s=n.getProvider(r$),o=n.getProvider(s$),a=n.getProvider(i$);return new t$(i,s,o,a,r)};an(new Bt(sk,e,"PUBLIC").setMultipleInstances(!0)),dt(Gw,Kw,t),dt(Gw,Kw,"esm2017")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function a$(t=Nl(),e=lm){pi("Functions",!1);const r=mi(Te(t),sk).getImmediate({identifier:e}),i=Zg("functions");return i&&ok(r,...i),r}function ok(t,e,n){n$(Te(t),e,n)}o$();const l$={apiKey:"AIzaSyD9cpSfGG212h80iXofJetw-B-arEEcOvI",authDomain:"emprochampions2025.firebaseapp.com",databaseURL:"https://emprochampions2025-default-rtdb.firebaseio.com",projectId:"emprochampions2025",storageBucket:"emprochampions2025.appspot.com",messagingSenderId:"683206087538",appId:"1:683206087538:web:8a1473aec968bd6ab543eb",measurementId:"G-3TX5J3NDT5"},Bl=Ab(l$),ho=$L(Bl),ak=new ir;ak.setCustomParameters({prompt:"select_account"});const q=G3(Bl);x4(Bl);const qw=X5(Bl),c$=a$(Bl);window.location.hostname==="localhost"&&(console.log("Conectando a los emuladores de Firebase..."),NT(q,"localhost",9e3),Zb(ho,"http://localhost:9099"),ok(c$,"localhost",5001));const tv=x.createContext();function u$({children:t}){const[e,n]=x.useState(null),[r,i]=x.useState(null),[s,o]=x.useState(!0);return x.useEffect(()=>{let a,l;return a=kM(ho,async c=>{if(console.log("🔥 [AuthContext] onAuthStateChanged - user:",c),c){n(c),l&&l();const u=X(q,`usuarios/${c.uid}/rol`);l=sr(u,d=>{if(d.exists()){const f=d.val();i(f||"usuario"),console.log("Rol del usuario cargado desde DB:",f||"usuario")}else i("usuario"),console.log("Nodo de usuario o rol no encontrado, rol por defecto: usuario");o(!1)},d=>{console.error("Error al leer el rol desde la base de datos:",d),i("usuario"),o(!1)})}else l&&l(),n(null),i(null),o(!1)}),()=>{a&&a(),l&&l()}},[]),h.jsx(tv.Provider,{value:{usuario:e,rol:r,cargando:s},children:t})}function d$(){const[t,e]=x.useState(""),[n,r]=x.useState(""),i=Pr(),s=async l=>{const c=X(q,`usuarios/${l.uid}`),u=await vn(c),d=l.email.replace(/\./g,","),f=X(q,`admins/${d}`),p=await vn(f);let g="usuario";const _=["yayirobe2305@gmail.com","gersonespino@gmail.com","andiescobar8@gmail.com","rodriguezmerary42@gmail.com"];if(p.exists())g="admin";else if(_.includes(l.email)){const E=X(q,`admins/${d}`);await ct(E,!0),g="admin"}u.exists()||await ct(c,{correo:l.email,rol:g}),i("/main")},o=async l=>{l.preventDefault();try{const c=await EM(ho,t,n);if(!c.user.emailVerified){alert("Por favor verifica tu correo antes de iniciar sesión.");return}await s(c.user)}catch{alert("Correo o contraseña incorrectos")}},a=async()=>{try{const l=await qM(ho,ak);l.user.emailVerified||(await l.user.reload(),l.user.emailVerified||(await sendEmailVerification(l.user),alert("Te hemos enviado un correo de verificación. Verifícalo para completar el acceso."))),await s(l.user)}catch{alert("Error al iniciar con Google")}};return h.jsx("div",{className:"min-h-screen bg-cover bg-center flex items-center justify-center",style:{backgroundImage:"url('/EmproChampions-2025/img/fondoempro-horizontal.png')"},children:h.jsxs("div",{className:"bg-white/90 rounded-2xl shadow-lg p-8 w-full max-w-md text-center",children:[h.jsx("img",{src:"/EmproChampions-2025/img/logo-empro.png",alt:"Logo Empro",className:"w-32 md:w-40 mx-auto mb-4"}),h.jsx("h1",{className:"text-3xl font-bold text-[#7a0026] mb-6",children:"Empro Champions 2025"}),h.jsxs("form",{onSubmit:o,className:"space-y-4",children:[h.jsx("h2",{className:"text-lg text-[#7a0026] font-bold",children:"¡HOLA, INICIA SESIÓN!"}),h.jsx("input",{type:"email",placeholder:"CORREO",value:t,onChange:l=>e(l.target.value),required:!0,className:"w-full px-4 py-2 border border-[#7a0026] rounded-md focus:outline-none focus:ring-2 focus:ring-[#FFD700]"}),h.jsx("input",{type:"password",placeholder:"CONTRASEÑA",value:n,onChange:l=>r(l.target.value),required:!0,className:"w-full px-4 py-2 border border-[#7a0026] rounded-md focus:outline-none focus:ring-2 focus:ring-[#FFD700]"}),h.jsx("button",{type:"submit",className:"w-full bg-[#FFD700] text-[#7a0026] font-bold py-2 rounded-md hover:bg-yellow-400 transition",children:"INICIAR SESIÓN"})]}),h.jsx("div",{className:"my-4 text-[#7a0026] font-semibold",children:"o"}),h.jsx("button",{onClick:a,className:"w-full bg-blue-600 text-white font-bold py-2 rounded-md hover:bg-blue-700 transition",children:"INGRESA CON GOOGLE"}),h.jsxs("p",{className:"mt-4 text-sm text-[#7a0026]",children:["¿No tienes cuenta?"," ",h.jsx(Dn,{to:"/registro",className:"font-bold underline",children:"Crea una"})]})]})})}function cs(){const[t,e]=x.useState(!1),{usuario:n,rol:r,cargando:i}=x.useContext(tv),s=Pr(),o=Ir();return x.useEffect(()=>{!i&&!n&&o.pathname!=="/login"&&o.pathname!=="/registro"&&setTimeout(()=>s("/login"),100)},[n,i,s,o.pathname]),i||!n?null:h.jsx("nav",{className:"bg-[#7a0026] text-white px-4 py-3 shadow-md sticky top-0 z-50",children:h.jsxs("div",{className:"max-w-6xl mx-auto flex justify-between items-center",children:[h.jsx(Dn,{to:"/main",className:"text-2xl font-bold font-qatar",children:"🏆 Empro"}),h.jsx("button",{className:"md:hidden transition-transform",onClick:()=>e(!t),children:h.jsx("svg",{className:`w-7 h-7 transition-transform duration-300 ${t?"rotate-90":""}`,fill:"none",stroke:"currentColor",strokeWidth:2,viewBox:"0 0 24 24",children:h.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:t?"M6 18L18 6M6 6l12 12":"M4 6h16M4 12h16M4 18h16"})})}),h.jsxs("ul",{className:`md:flex gap-6 text-lg font-bold absolute md:static top-16 left-0 w-full md:w-auto bg-[#7a0026] md:bg-transparent transition-all duration-300 ease-in-out ${t?"block":"hidden"}`,children:[h.jsx("li",{className:"p-3 md:p-0 text-center",children:h.jsx(Dn,{to:"/main",className:"hover:text-yellow-400",children:"Tabla"})}),h.jsx("li",{className:"p-3 md:p-0 text-center",children:h.jsx(Dn,{to:"/goleadores",className:"hover:text-yellow-400",children:"Goleadores"})}),h.jsx("li",{className:"p-3 md:p-0 text-center",children:h.jsx(Dn,{to:"/historial",className:"hover:text-yellow-400",children:"Historial"})}),h.jsx("li",{className:"p-3 md:p-0 text-center",children:h.jsx(Dn,{to:"/configuracion",className:"hover:text-yellow-400",children:"Cuenta"})}),r==="admin"&&h.jsx("li",{className:"p-3 md:p-0 text-center",children:h.jsx(Dn,{to:"/match",className:"hover:text-yellow-400",children:"➕ Nuevo Partido"})})]})]})})}function f$(){const[t,e]=x.useState([]),[n,r]=x.useState("masculino");return x.useEffect(()=>{const i=X(q,`tablas/${n}`),s=sr(i,o=>{const a=o.val();if(a){const c=Object.entries(a).map(([u,d])=>({id:u,...d})).sort((u,d)=>d.puntos-u.puntos);e(c)}else e([])});return()=>s()},[n]),h.jsxs("div",{className:"min-h-screen bg-cover bg-center text-white font-qatar",style:{backgroundImage:"url('/EmproChampions-2025/img/fondoempro-horizontal.png')"},children:[h.jsx(cs,{}),h.jsxs("div",{className:"text-center py-6",children:[h.jsx("img",{src:"/EmproChampions-2025/img/logo2.png",alt:"Tabla de Posiciones",className:"mx-auto w-auto mb-4 px-8"}),h.jsxs("button",{onClick:()=>r(n==="masculino"?"femenino":"masculino"),className:"bg-yellow-400 text-[#7a0026] font-bold px-6 py-2 rounded-full",children:["Cambiar a ",n==="masculino"?"Femenino":"Masculino"]})]}),h.jsx("div",{className:"overflow-x-auto px-4 pb-10",children:t.length===0?h.jsx("p",{className:"text-center text-xl",children:"No hay datos en la tabla de posiciones aún."}):h.jsxs("table",{className:"min-w-[600px] w-full border-collapse text-center",children:[h.jsx("thead",{children:h.jsxs("tr",{className:"bg-[#FFD700] text-[#7a0026]",children:[h.jsx("th",{className:"px-4 py-2 sticky left-0 bg-[#FFD700]",children:"Equipo"}),h.jsx("th",{children:"PJ"}),h.jsx("th",{children:"PG"}),h.jsx("th",{children:"PE"}),h.jsx("th",{children:"PP"}),h.jsx("th",{children:"GF"}),h.jsx("th",{children:"GC"}),h.jsx("th",{children:"+/-"}),h.jsx("th",{children:"Puntos"})]})}),h.jsx("tbody",{children:t.map((i,s)=>h.jsxs("tr",{className:"bg-white text-black border-b",children:[h.jsxs("td",{className:"flex items-center gap-2 font-bold sticky left-0 bg-white px-2 py-2",children:[h.jsx("img",{src:`/EmproChampions-2025/img/escudos/${i.logo}`,alt:i.nombre,className:"w-4 h-4 object-contain mx-1"}),i.nombre," "]}),h.jsx("td",{children:i.pj||0}),h.jsx("td",{children:i.pg||0}),h.jsx("td",{children:i.pe||0}),h.jsx("td",{children:i.pp||0}),h.jsx("td",{children:i.gf||0}),h.jsx("td",{children:i.gc||0}),h.jsx("td",{children:(i.gf||0)-(i.gc||0)}),h.jsx("td",{className:"font-extrabold text-[#7a0026]",children:i.puntos||0})]},i.id))})]})})]})}const h$=[{nombre:"Atrapados",escudo:"/EmproChampions-2025/img/escudos/atrapados.png"},{nombre:"Bosco",escudo:"/EmproChampions-2025/img/escudos/bosco.png"},{nombre:"Emprosaurios",escudo:"/EmproChampions-2025/img/escudos/emprosaurios.png"},{nombre:"Huellas",escudo:"/EmproChampions-2025/img/escudos/huellas.png"},{nombre:"Luz",escudo:"/EmproChampions-2025/img/escudos/luz.png"},{nombre:"Mensajeros",escudo:"/EmproChampions-2025/img/escudos/mensajeros.png"}],p$=[{nombre:"Atrapados",escudo:"/EmproChampions-2025/img/escudos/atrapados.png"},{nombre:"Bosco",escudo:"/EmproChampions-2025/img/escudos/bosco.png"},{nombre:"Huellas",escudo:"/EmproChampions-2025/img/escudos/huellas.png"},{nombre:"Luz",escudo:"/EmproChampions-2025/img/escudos/luz.png"},{nombre:"Mensajeros",escudo:"/EmproChampions-2025/img/escudos/mensajeros.png"}];function m$(){const[t,e]=x.useState("masculino"),n=Pr(),r=t==="masculino"?h$:p$,[i,s]=x.useState(0),[o,a]=x.useState(1),[l,c]=x.useState(!0),[u,d]=x.useState(!0),f=(g,_)=>{const E=r.length;g==="local"?(c(!1),setTimeout(()=>{s(m=>(m+_+E)%E),c(!0)},150)):(d(!1),setTimeout(()=>{a(m=>(m+_+E)%E),d(!0)},150))},p=async()=>{const g=r[i],_=r[o];await ct(X(q,"selecciones/equipoLocal"),g),await ct(X(q,"selecciones/equipoVisita"),_),await ct(X(q,"selecciones/generoPartido"),t),n("/alineacion")};return h.jsxs("div",{className:"min-h-screen bg-cover bg-center font-qatar text-white flex flex-col",style:{backgroundImage:"url('/EmproChampions-2025/img/fondoempro-horizontal.png')"},children:[h.jsx(cs,{}),h.jsxs("div",{className:"flex justify-center gap-4 mt-6",children:[h.jsx("button",{onClick:()=>{e("masculino"),s(0),a(1)},className:`px-4 py-2 font-bold rounded-full border-2 ${t==="masculino"?"bg-[#FFD700] text-[#7a0026] border-yellow-400":"bg-transparent border-white text-white"} transition`,children:"Masculino"}),h.jsx("button",{onClick:()=>{e("femenino"),s(0),a(1)},className:`px-4 py-2 font-bold rounded-full border-2 ${t==="femenino"?"bg-[#FFD700] text-[#7a0026] border-yellow-400":"bg-transparent border-white text-white"} transition`,children:"Femenino"})]}),h.jsx("h1",{className:"text-3xl sm:text-4xl font-bold text-center mt-6 text-yellow-400 drop-shadow",children:"Selección de Equipos"}),h.jsx("div",{className:"flex flex-col items-center justify-center px-6",children:h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-10 mt-6 mx-auto px-4 max-w-6xl",children:[h.jsxs("div",{className:"flex flex-col bg-white/90 rounded-2xl p-8 w-full max-w-[460px] text-[#7a0026] shadow-xl transition-all duration-300 min-h-[460px] justify-center items-center",children:[h.jsx("h2",{className:"font-bold text-2xl mb-4",children:"Equipo Local"}),h.jsxs("div",{className:`flex flex-col items-center transition-opacity duration-300 ease-in-out ${l?"opacity-100":"opacity-0"}`,children:[h.jsx("img",{src:r[i].escudo,alt:r[i].nombre,className:"w-32 h-32 object-contain mb-4 drop-shadow-md"}),h.jsx("p",{className:"text-3xl font-black",children:r[i].nombre})]}),h.jsxs("div",{className:"flex gap-10 mt-6",children:[h.jsx("button",{onClick:()=>f("local",-1),className:"text-4xl text-[#FFD700] hover:scale-110 transition",children:"◀"}),h.jsx("button",{onClick:()=>f("local",1),className:"text-4xl text-[#FFD700] hover:scale-110 transition",children:"▶"})]})]}),h.jsxs("div",{className:"flex flex-col bg-white/90 rounded-2xl p-8 w-full max-w-[460px] text-[#7a0026] shadow-xl transition-all duration-300 min-h-[460px] justify-center items-center",children:[h.jsx("h2",{className:"font-bold text-2xl mb-4",children:"Equipo Visitante"}),h.jsxs("div",{className:`flex flex-col items-center transition-opacity duration-300 ease-in-out ${u?"opacity-100":"opacity-0"}`,children:[h.jsx("img",{src:r[o].escudo,alt:r[o].nombre,className:"w-32 h-32 object-contain mb-4 drop-shadow-md"}),h.jsx("p",{className:"text-3xl font-black",children:r[o].nombre})]}),h.jsxs("div",{className:"flex gap-10 mt-6",children:[h.jsx("button",{onClick:()=>f("visita",-1),className:"text-4xl text-[#FFD700] hover:scale-110 transition",children:"◀"}),h.jsx("button",{onClick:()=>f("visita",1),className:"text-4xl text-[#FFD700] hover:scale-110 transition",children:"▶"})]})]})]})}),h.jsx("div",{className:"flex justify-center mt-12 mb-20",children:h.jsx("button",{onClick:p,className:"bg-[#FFD700] text-[#7a0026] font-bold px-10 py-4 rounded-full hover:bg-yellow-300 transition text-xl shadow-lg",children:"Siguiente"})})]})}const g$=[{nombre:"Juan Pérez",dorsal:7,genero:"masculino"},{nombre:"Carlos Torres",dorsal:10,genero:"masculino"},{nombre:"Luis López",dorsal:5,genero:"masculino"},{nombre:"Mario Paz",dorsal:11,genero:"masculino"},{nombre:"Erick Rodríguez",dorsal:2,genero:"masculino"},{nombre:"Erick 2",dorsal:0,genero:"masculino"},{nombre:"Antonio Díaz",dorsal:4,genero:"masculino"},{nombre:"Sofia García",dorsal:1,genero:"femenino"},{nombre:"Valeria Castro",dorsal:9,genero:"femenino"}],y$=[{nombre:"Andrés Gutiérrez",dorsal:3,genero:"masculino"},{nombre:"David Martínez",dorsal:1,genero:"masculino"},{nombre:"Pedro Ramírez",dorsal:8,genero:"masculino"},{nombre:"Fernando Vargas",dorsal:9,genero:"masculino"},{nombre:"Raúl Cruz",dorsal:6,genero:"masculino"},{nombre:"Erick Rodríguez",dorsal:2,genero:"masculino"},{nombre:"Mauricio Salinas",dorsal:14,genero:"masculino"},{nombre:"Ana López",dorsal:2,genero:"femenino"},{nombre:"María Pérez",dorsal:10,genero:"femenino"}],v$=[{nombre:"Saurio Uno",dorsal:21,genero:"masculino"},{nombre:"Saurio Dos",dorsal:22,genero:"masculino"},{nombre:"Saurio Tres",dorsal:23,genero:"masculino"},{nombre:"Saurio Cuatro",dorsal:24,genero:"masculino"},{nombre:"Saurio Cinco",dorsal:25,genero:"masculino"},{nombre:"Saurio Seis",dorsal:26,genero:"masculino"}],_$=[{nombre:"Diego Muñoz",dorsal:2,genero:"masculino"},{nombre:"Bryan Mejía",dorsal:5,genero:"masculino"},{nombre:"Samuel Rivera",dorsal:8,genero:"masculino"},{nombre:"Kevin Palacios",dorsal:7,genero:"masculino"},{nombre:"José Martínez",dorsal:13,genero:"masculino"},{nombre:"Ricardo Castillo",dorsal:17,genero:"masculino"},{nombre:"Laura Ruiz",dorsal:3,genero:"femenino"},{nombre:"Andrea Soto",dorsal:6,genero:"femenino"}],w$=[{nombre:"Oscar Varela",dorsal:4,genero:"masculino"},{nombre:"David Salgado",dorsal:12,genero:"masculino"},{nombre:"Enrique Orellana",dorsal:9,genero:"masculino"},{nombre:"Manuel Molina",dorsal:3,genero:"masculino"},{nombre:"Javier Castro",dorsal:16,genero:"masculino"},{nombre:"Julio Soto",dorsal:18,genero:"masculino"},{nombre:"Daniela Paz",dorsal:4,genero:"femenino"},{nombre:"Camila Vargas",dorsal:11,genero:"femenino"}],x$=[{nombre:"Cristian Ayala",dorsal:19,genero:"masculino"},{nombre:"Luis Méndez",dorsal:6,genero:"masculino"},{nombre:"Álvaro Salinas",dorsal:11,genero:"masculino"},{nombre:"Sergio Paz",dorsal:8,genero:"masculino"},{nombre:"Oscar Aguilar",dorsal:20,genero:"masculino"},{nombre:"Juan Martínez",dorsal:15,genero:"masculino"},{nombre:"Natalia Díaz",dorsal:5,genero:"femenino"},{nombre:"Paula Mejía",dorsal:8,genero:"femenino"}],la={atrapados:g$,bosco:y$,emprosaurios:v$,huellas:_$,luz:w$,mensajeros:x$};function C$({tipo:t,index:e,jugador:n,onSave:r,onClose:i,camiseta:s,dorsalColor:o,jugadoresActuales:a,nombreEquipo:l}){const c=l==null?void 0:l.toLowerCase(),u=la[c]||[],d=a.filter((m,v)=>v!==e&&m.nombre).map(m=>m.nombre),f=u.filter(m=>!d.includes(m.nombre)),p=n&&n.nombre&&n.dorsal?`${n.nombre}|${n.dorsal}`:"",[g,_]=x.useState(p),E=()=>{if(!g)return;const[m,v]=g.split("|");r(e,t,{nombre:m,dorsal:v})};return h.jsx("div",{className:"fixed inset-0 flex items-center justify-center z-50 bg-black/50",children:h.jsxs("div",{className:"bg-white rounded-xl shadow-xl p-6 text-black relative w-80 md:w-96 mx-auto",children:[h.jsx("button",{onClick:i,className:"absolute top-3 right-3 text-[#7a0026] font-bold text-xl",title:"Cerrar",children:"×"}),h.jsx("div",{className:"flex flex-col items-center mb-4",children:h.jsx("img",{src:s,alt:"camiseta",className:"w-16 h-16 mb-2"})}),h.jsx("label",{className:"block font-bold mb-1 text-[#7a0026]",children:"Jugador"}),h.jsxs("select",{className:"w-full px-4 py-2 border rounded",value:g,onChange:m=>_(m.target.value),children:[h.jsx("option",{value:"",children:"Selecciona un jugador"}),f.map(m=>h.jsxs("option",{value:`${m.nombre}|${m.dorsal}`,children:[m.nombre," (#",m.dorsal,")"]},m.dorsal+m.nombre))]}),h.jsx("button",{disabled:!g,onClick:E,className:"w-full bg-[#FFD700] text-[#7a0026] font-bold py-2 rounded mt-4 hover:bg-yellow-400 transition disabled:bg-gray-400",children:"Guardar"}),h.jsx("button",{onClick:i,className:"w-full bg-gray-300 text-[#7a0026] font-bold py-2 rounded mt-2 hover:bg-gray-400 transition",children:"Cancelar"})]})})}const nv=x.createContext({});function rv(t){const e=x.useRef(null);return e.current===null&&(e.current=t()),e.current}const iv=typeof window<"u",lk=iv?x.useLayoutEffect:x.useEffect,tf=x.createContext(null);function sv(t,e){t.indexOf(e)===-1&&t.push(e)}function ov(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const Sr=(t,e,n)=>n>e?e:n<t?t:n;let av=()=>{};const br={},ck=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t);function uk(t){return typeof t=="object"&&t!==null}const dk=t=>/^0[^.\s]+$/u.test(t);function lv(t){let e;return()=>(e===void 0&&(e=t()),e)}const rn=t=>t,E$=(t,e)=>n=>e(t(n)),zl=(...t)=>t.reduce(E$),fl=(t,e,n)=>{const r=e-t;return r===0?1:(n-t)/r};class cv{constructor(){this.subscriptions=[]}add(e){return sv(this.subscriptions,e),()=>ov(this.subscriptions,e)}notify(e,n,r){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](e,n,r);else for(let s=0;s<i;s++){const o=this.subscriptions[s];o&&o(e,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Un=t=>t*1e3,Bn=t=>t/1e3;function fk(t,e){return e?t*(1e3/e):0}const hk=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,S$=1e-7,b$=12;function T$(t,e,n,r,i){let s,o,a=0;do o=e+(n-e)/2,s=hk(o,r,i)-t,s>0?n=o:e=o;while(Math.abs(s)>S$&&++a<b$);return o}function Wl(t,e,n,r){if(t===e&&n===r)return rn;const i=s=>T$(s,0,1,t,n);return s=>s===0||s===1?s:hk(i(s),e,r)}const pk=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,mk=t=>e=>1-t(1-e),gk=Wl(.33,1.53,.69,.99),uv=mk(gk),yk=pk(uv),vk=t=>(t*=2)<1?.5*uv(t):.5*(2-Math.pow(2,-10*(t-1))),dv=t=>1-Math.sin(Math.acos(t)),_k=mk(dv),wk=pk(dv),k$=Wl(.42,0,1,1),I$=Wl(0,0,.58,1),xk=Wl(.42,0,.58,1),P$=t=>Array.isArray(t)&&typeof t[0]!="number",Ck=t=>Array.isArray(t)&&typeof t[0]=="number",R$={linear:rn,easeIn:k$,easeInOut:xk,easeOut:I$,circIn:dv,circInOut:wk,circOut:_k,backIn:uv,backInOut:yk,backOut:gk,anticipate:vk},N$=t=>typeof t=="string",Yw=t=>{if(Ck(t)){av(t.length===4);const[e,n,r,i]=t;return Wl(e,n,r,i)}else if(N$(t))return R$[t];return t},Tc=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"],Qw={value:null,addProjectionMetrics:null};function A$(t,e){let n=new Set,r=new Set,i=!1,s=!1;const o=new WeakSet;let a={delta:0,timestamp:0,isProcessing:!1},l=0;function c(d){o.has(d)&&(u.schedule(d),t()),l++,d(a)}const u={schedule:(d,f=!1,p=!1)=>{const _=p&&i?n:r;return f&&o.add(d),_.has(d)||_.add(d),d},cancel:d=>{r.delete(d),o.delete(d)},process:d=>{if(a=d,i){s=!0;return}i=!0,[n,r]=[r,n],n.forEach(c),e&&Qw.value&&Qw.value.frameloop[e].push(l),l=0,n.clear(),i=!1,s&&(s=!1,u.process(d))}};return u}const D$=40;function Ek(t,e){let n=!1,r=!0;const i={delta:0,timestamp:0,isProcessing:!1},s=()=>n=!0,o=Tc.reduce((y,C)=>(y[C]=A$(s,e?C:void 0),y),{}),{setup:a,read:l,resolveKeyframes:c,preUpdate:u,update:d,preRender:f,render:p,postRender:g}=o,_=()=>{const y=br.useManualTiming?i.timestamp:performance.now();n=!1,br.useManualTiming||(i.delta=r?1e3/60:Math.max(Math.min(y-i.timestamp,D$),1)),i.timestamp=y,i.isProcessing=!0,a.process(i),l.process(i),c.process(i),u.process(i),d.process(i),f.process(i),p.process(i),g.process(i),i.isProcessing=!1,n&&e&&(r=!1,t(_))},E=()=>{n=!0,r=!0,i.isProcessing||t(_)};return{schedule:Tc.reduce((y,C)=>{const S=o[C];return y[C]=(b,T=!1,k=!1)=>(n||E(),S.schedule(b,T,k)),y},{}),cancel:y=>{for(let C=0;C<Tc.length;C++)o[Tc[C]].cancel(y)},state:i,steps:o}}const{schedule:Se,cancel:li,state:Xe,steps:Eh}=Ek(typeof requestAnimationFrame<"u"?requestAnimationFrame:rn,!0);let eu;function O$(){eu=void 0}const Pt={now:()=>(eu===void 0&&Pt.set(Xe.isProcessing||br.useManualTiming?Xe.timestamp:performance.now()),eu),set:t=>{eu=t,queueMicrotask(O$)}},Sk=t=>e=>typeof e=="string"&&e.startsWith(t),fv=Sk("--"),M$=Sk("var(--"),hv=t=>M$(t)?L$.test(t.split("/*")[0].trim()):!1,L$=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,Ao={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},hl={...Ao,transform:t=>Sr(0,1,t)},kc={...Ao,default:1},Ia=t=>Math.round(t*1e5)/1e5,pv=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function j$(t){return t==null}const F$=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,mv=(t,e)=>n=>!!(typeof n=="string"&&F$.test(n)&&n.startsWith(t)||e&&!j$(n)&&Object.prototype.hasOwnProperty.call(n,e)),bk=(t,e,n)=>r=>{if(typeof r!="string")return r;const[i,s,o,a]=r.match(pv);return{[t]:parseFloat(i),[e]:parseFloat(s),[n]:parseFloat(o),alpha:a!==void 0?parseFloat(a):1}},$$=t=>Sr(0,255,t),Sh={...Ao,transform:t=>Math.round($$(t))},Oi={test:mv("rgb","red"),parse:bk("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:r=1})=>"rgba("+Sh.transform(t)+", "+Sh.transform(e)+", "+Sh.transform(n)+", "+Ia(hl.transform(r))+")"};function V$(t){let e="",n="",r="",i="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),r=t.substring(5,7),i=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),r=t.substring(3,4),i=t.substring(4,5),e+=e,n+=n,r+=r,i+=i),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}}const cm={test:mv("#"),parse:V$,transform:Oi.transform},Hl=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),Mr=Hl("deg"),zn=Hl("%"),W=Hl("px"),U$=Hl("vh"),B$=Hl("vw"),Xw=(()=>({...zn,parse:t=>zn.parse(t)/100,transform:t=>zn.transform(t*100)}))(),As={test:mv("hsl","hue"),parse:bk("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:r=1})=>"hsla("+Math.round(t)+", "+zn.transform(Ia(e))+", "+zn.transform(Ia(n))+", "+Ia(hl.transform(r))+")"},at={test:t=>Oi.test(t)||cm.test(t)||As.test(t),parse:t=>Oi.test(t)?Oi.parse(t):As.test(t)?As.parse(t):cm.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?Oi.transform(t):As.transform(t)},z$=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function W$(t){var e,n;return isNaN(t)&&typeof t=="string"&&(((e=t.match(pv))==null?void 0:e.length)||0)+(((n=t.match(z$))==null?void 0:n.length)||0)>0}const Tk="number",kk="color",H$="var",G$="var(",Jw="${}",K$=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function pl(t){const e=t.toString(),n=[],r={color:[],number:[],var:[]},i=[];let s=0;const a=e.replace(K$,l=>(at.test(l)?(r.color.push(s),i.push(kk),n.push(at.parse(l))):l.startsWith(G$)?(r.var.push(s),i.push(H$),n.push(l)):(r.number.push(s),i.push(Tk),n.push(parseFloat(l))),++s,Jw)).split(Jw);return{values:n,split:a,indexes:r,types:i}}function Ik(t){return pl(t).values}function Pk(t){const{split:e,types:n}=pl(t),r=e.length;return i=>{let s="";for(let o=0;o<r;o++)if(s+=e[o],i[o]!==void 0){const a=n[o];a===Tk?s+=Ia(i[o]):a===kk?s+=at.transform(i[o]):s+=i[o]}return s}}const q$=t=>typeof t=="number"?0:t;function Y$(t){const e=Ik(t);return Pk(t)(e.map(q$))}const ci={test:W$,parse:Ik,createTransformer:Pk,getAnimatableNone:Y$};function bh(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function Q$({hue:t,saturation:e,lightness:n,alpha:r}){t/=360,e/=100,n/=100;let i=0,s=0,o=0;if(!e)i=s=o=n;else{const a=n<.5?n*(1+e):n+e-n*e,l=2*n-a;i=bh(l,a,t+1/3),s=bh(l,a,t),o=bh(l,a,t-1/3)}return{red:Math.round(i*255),green:Math.round(s*255),blue:Math.round(o*255),alpha:r}}function ld(t,e){return n=>n>0?e:t}const Ce=(t,e,n)=>t+(e-t)*n,Th=(t,e,n)=>{const r=t*t,i=n*(e*e-r)+r;return i<0?0:Math.sqrt(i)},X$=[cm,Oi,As],J$=t=>X$.find(e=>e.test(t));function Zw(t){const e=J$(t);if(!e)return!1;let n=e.parse(t);return e===As&&(n=Q$(n)),n}const ex=(t,e)=>{const n=Zw(t),r=Zw(e);if(!n||!r)return ld(t,e);const i={...n};return s=>(i.red=Th(n.red,r.red,s),i.green=Th(n.green,r.green,s),i.blue=Th(n.blue,r.blue,s),i.alpha=Ce(n.alpha,r.alpha,s),Oi.transform(i))},um=new Set(["none","hidden"]);function Z$(t,e){return um.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function e6(t,e){return n=>Ce(t,e,n)}function gv(t){return typeof t=="number"?e6:typeof t=="string"?hv(t)?ld:at.test(t)?ex:r6:Array.isArray(t)?Rk:typeof t=="object"?at.test(t)?ex:t6:ld}function Rk(t,e){const n=[...t],r=n.length,i=t.map((s,o)=>gv(s)(s,e[o]));return s=>{for(let o=0;o<r;o++)n[o]=i[o](s);return n}}function t6(t,e){const n={...t,...e},r={};for(const i in n)t[i]!==void 0&&e[i]!==void 0&&(r[i]=gv(t[i])(t[i],e[i]));return i=>{for(const s in r)n[s]=r[s](i);return n}}function n6(t,e){const n=[],r={color:0,var:0,number:0};for(let i=0;i<e.values.length;i++){const s=e.types[i],o=t.indexes[s][r[s]],a=t.values[o]??0;n[i]=a,r[s]++}return n}const r6=(t,e)=>{const n=ci.createTransformer(e),r=pl(t),i=pl(e);return r.indexes.var.length===i.indexes.var.length&&r.indexes.color.length===i.indexes.color.length&&r.indexes.number.length>=i.indexes.number.length?um.has(t)&&!i.values.length||um.has(e)&&!r.values.length?Z$(t,e):zl(Rk(n6(r,i),i.values),n):ld(t,e)};function Nk(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?Ce(t,e,n):gv(t)(t,e)}const i6=t=>{const e=({timestamp:n})=>t(n);return{start:(n=!0)=>Se.update(e,n),stop:()=>li(e),now:()=>Xe.isProcessing?Xe.timestamp:Pt.now()}},Ak=(t,e,n=10)=>{let r="";const i=Math.max(Math.round(e/n),2);for(let s=0;s<i;s++)r+=t(s/(i-1))+", ";return`linear(${r.substring(0,r.length-2)})`},cd=2e4;function yv(t){let e=0;const n=50;let r=t.next(e);for(;!r.done&&e<cd;)e+=n,r=t.next(e);return e>=cd?1/0:e}function s6(t,e=100,n){const r=n({...t,keyframes:[0,e]}),i=Math.min(yv(r),cd);return{type:"keyframes",ease:s=>r.next(i*s).value/e,duration:Bn(i)}}const o6=5;function Dk(t,e,n){const r=Math.max(e-o6,0);return fk(n-t(r),e-r)}const Pe={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},kh=.001;function a6({duration:t=Pe.duration,bounce:e=Pe.bounce,velocity:n=Pe.velocity,mass:r=Pe.mass}){let i,s,o=1-e;o=Sr(Pe.minDamping,Pe.maxDamping,o),t=Sr(Pe.minDuration,Pe.maxDuration,Bn(t)),o<1?(i=c=>{const u=c*o,d=u*t,f=u-n,p=dm(c,o),g=Math.exp(-d);return kh-f/p*g},s=c=>{const d=c*o*t,f=d*n+n,p=Math.pow(o,2)*Math.pow(c,2)*t,g=Math.exp(-d),_=dm(Math.pow(c,2),o);return(-i(c)+kh>0?-1:1)*((f-p)*g)/_}):(i=c=>{const u=Math.exp(-c*t),d=(c-n)*t+1;return-kh+u*d},s=c=>{const u=Math.exp(-c*t),d=(n-c)*(t*t);return u*d});const a=5/t,l=c6(i,s,a);if(t=Un(t),isNaN(l))return{stiffness:Pe.stiffness,damping:Pe.damping,duration:t};{const c=Math.pow(l,2)*r;return{stiffness:c,damping:o*2*Math.sqrt(r*c),duration:t}}}const l6=12;function c6(t,e,n){let r=n;for(let i=1;i<l6;i++)r=r-t(r)/e(r);return r}function dm(t,e){return t*Math.sqrt(1-e*e)}const u6=["duration","bounce"],d6=["stiffness","damping","mass"];function tx(t,e){return e.some(n=>t[n]!==void 0)}function f6(t){let e={velocity:Pe.velocity,stiffness:Pe.stiffness,damping:Pe.damping,mass:Pe.mass,isResolvedFromDuration:!1,...t};if(!tx(t,d6)&&tx(t,u6))if(t.visualDuration){const n=t.visualDuration,r=2*Math.PI/(n*1.2),i=r*r,s=2*Sr(.05,1,1-(t.bounce||0))*Math.sqrt(i);e={...e,mass:Pe.mass,stiffness:i,damping:s}}else{const n=a6(t);e={...e,...n,mass:Pe.mass},e.isResolvedFromDuration=!0}return e}function ud(t=Pe.visualDuration,e=Pe.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:r,restDelta:i}=n;const s=n.keyframes[0],o=n.keyframes[n.keyframes.length-1],a={done:!1,value:s},{stiffness:l,damping:c,mass:u,duration:d,velocity:f,isResolvedFromDuration:p}=f6({...n,velocity:-Bn(n.velocity||0)}),g=f||0,_=c/(2*Math.sqrt(l*u)),E=o-s,m=Bn(Math.sqrt(l/u)),v=Math.abs(E)<5;r||(r=v?Pe.restSpeed.granular:Pe.restSpeed.default),i||(i=v?Pe.restDelta.granular:Pe.restDelta.default);let y;if(_<1){const S=dm(m,_);y=b=>{const T=Math.exp(-_*m*b);return o-T*((g+_*m*E)/S*Math.sin(S*b)+E*Math.cos(S*b))}}else if(_===1)y=S=>o-Math.exp(-m*S)*(E+(g+m*E)*S);else{const S=m*Math.sqrt(_*_-1);y=b=>{const T=Math.exp(-_*m*b),k=Math.min(S*b,300);return o-T*((g+_*m*E)*Math.sinh(k)+S*E*Math.cosh(k))/S}}const C={calculatedDuration:p&&d||null,next:S=>{const b=y(S);if(p)a.done=S>=d;else{let T=S===0?g:0;_<1&&(T=S===0?Un(g):Dk(y,S,b));const k=Math.abs(T)<=r,N=Math.abs(o-b)<=i;a.done=k&&N}return a.value=a.done?o:b,a},toString:()=>{const S=Math.min(yv(C),cd),b=Ak(T=>C.next(S*T).value,S,30);return S+"ms "+b},toTransition:()=>{}};return C}ud.applyToOptions=t=>{const e=s6(t,100,ud);return t.ease=e.ease,t.duration=Un(e.duration),t.type="keyframes",t};function fm({keyframes:t,velocity:e=0,power:n=.8,timeConstant:r=325,bounceDamping:i=10,bounceStiffness:s=500,modifyTarget:o,min:a,max:l,restDelta:c=.5,restSpeed:u}){const d=t[0],f={done:!1,value:d},p=k=>a!==void 0&&k<a||l!==void 0&&k>l,g=k=>a===void 0?l:l===void 0||Math.abs(a-k)<Math.abs(l-k)?a:l;let _=n*e;const E=d+_,m=o===void 0?E:o(E);m!==E&&(_=m-d);const v=k=>-_*Math.exp(-k/r),y=k=>m+v(k),C=k=>{const N=v(k),w=y(k);f.done=Math.abs(N)<=c,f.value=f.done?m:w};let S,b;const T=k=>{p(f.value)&&(S=k,b=ud({keyframes:[f.value,g(f.value)],velocity:Dk(y,k,f.value),damping:i,stiffness:s,restDelta:c,restSpeed:u}))};return T(0),{calculatedDuration:null,next:k=>{let N=!1;return!b&&S===void 0&&(N=!0,C(k),T(k)),S!==void 0&&k>=S?b.next(k-S):(!N&&C(k),f)}}}function h6(t,e,n){const r=[],i=n||br.mix||Nk,s=t.length-1;for(let o=0;o<s;o++){let a=i(t[o],t[o+1]);if(e){const l=Array.isArray(e)?e[o]||rn:e;a=zl(l,a)}r.push(a)}return r}function p6(t,e,{clamp:n=!0,ease:r,mixer:i}={}){const s=t.length;if(av(s===e.length),s===1)return()=>e[0];if(s===2&&e[0]===e[1])return()=>e[1];const o=t[0]===t[1];t[0]>t[s-1]&&(t=[...t].reverse(),e=[...e].reverse());const a=h6(e,r,i),l=a.length,c=u=>{if(o&&u<t[0])return e[0];let d=0;if(l>1)for(;d<t.length-2&&!(u<t[d+1]);d++);const f=fl(t[d],t[d+1],u);return a[d](f)};return n?u=>c(Sr(t[0],t[s-1],u)):c}function m6(t,e){const n=t[t.length-1];for(let r=1;r<=e;r++){const i=fl(0,e,r);t.push(Ce(n,1,i))}}function g6(t){const e=[0];return m6(e,t.length-1),e}function y6(t,e){return t.map(n=>n*e)}function v6(t,e){return t.map(()=>e||xk).splice(0,t.length-1)}function Pa({duration:t=300,keyframes:e,times:n,ease:r="easeInOut"}){const i=P$(r)?r.map(Yw):Yw(r),s={done:!1,value:e[0]},o=y6(n&&n.length===e.length?n:g6(e),t),a=p6(o,e,{ease:Array.isArray(i)?i:v6(e,i)});return{calculatedDuration:t,next:l=>(s.value=a(l),s.done=l>=t,s)}}const _6=t=>t!==null;function vv(t,{repeat:e,repeatType:n="loop"},r,i=1){const s=t.filter(_6),a=i<0||e&&n!=="loop"&&e%2===1?0:s.length-1;return!a||r===void 0?s[a]:r}const w6={decay:fm,inertia:fm,tween:Pa,keyframes:Pa,spring:ud};function Ok(t){typeof t.type=="string"&&(t.type=w6[t.type])}class _v{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,n){return this.finished.then(e,n)}}const x6=t=>t/100;class wv extends _v{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=(n=!0)=>{var r,i;if(n){const{motionValue:s}=this.options;s&&s.updatedAt!==Pt.now()&&this.tick(Pt.now())}this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(i=(r=this.options).onStop)==null||i.call(r))},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;Ok(e);const{type:n=Pa,repeat:r=0,repeatDelay:i=0,repeatType:s,velocity:o=0}=e;let{keyframes:a}=e;const l=n||Pa;l!==Pa&&typeof a[0]!="number"&&(this.mixKeyframes=zl(x6,Nk(a[0],a[1])),a=[0,100]);const c=l({...e,keyframes:a});s==="mirror"&&(this.mirroredGenerator=l({...e,keyframes:[...a].reverse(),velocity:-o})),c.calculatedDuration===null&&(c.calculatedDuration=yv(c));const{calculatedDuration:u}=c;this.calculatedDuration=u,this.resolvedDuration=u+i,this.totalDuration=this.resolvedDuration*(r+1)-i,this.generator=c}updateTime(e){const n=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(e,n=!1){const{generator:r,totalDuration:i,mixKeyframes:s,mirroredGenerator:o,resolvedDuration:a,calculatedDuration:l}=this;if(this.startTime===null)return r.next(0);const{delay:c=0,keyframes:u,repeat:d,repeatType:f,repeatDelay:p,type:g,onUpdate:_,finalKeyframe:E}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-i/this.speed,this.startTime)),n?this.currentTime=e:this.updateTime(e);const m=this.currentTime-c*(this.playbackSpeed>=0?1:-1),v=this.playbackSpeed>=0?m<0:m>i;this.currentTime=Math.max(m,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=i);let y=this.currentTime,C=r;if(d){const k=Math.min(this.currentTime,i)/a;let N=Math.floor(k),w=k%1;!w&&k>=1&&(w=1),w===1&&N--,N=Math.min(N,d+1),!!(N%2)&&(f==="reverse"?(w=1-w,p&&(w-=p/a)):f==="mirror"&&(C=o)),y=Sr(0,1,w)*a}const S=v?{done:!1,value:u[0]}:C.next(y);s&&(S.value=s(S.value));let{done:b}=S;!v&&l!==null&&(b=this.playbackSpeed>=0?this.currentTime>=i:this.currentTime<=0);const T=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&b);return T&&g!==fm&&(S.value=vv(u,this.options,E,this.speed)),_&&_(S.value),T&&this.finish(),S}then(e,n){return this.finished.then(e,n)}get duration(){return Bn(this.calculatedDuration)}get time(){return Bn(this.currentTime)}set time(e){var n;e=Un(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),(n=this.driver)==null||n.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(Pt.now());const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=Bn(this.currentTime))}play(){var i,s;if(this.isStopped)return;const{driver:e=i6,startTime:n}=this.options;this.driver||(this.driver=e(o=>this.tick(o))),(s=(i=this.options).onPlay)==null||s.call(i);const r=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=r):this.holdTime!==null?this.startTime=r-this.holdTime:this.startTime||(this.startTime=n??r),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(Pt.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var e,n;this.notifyFinished(),this.teardown(),this.state="finished",(n=(e=this.options).onComplete)==null||n.call(e)}cancel(){var e,n;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(n=(e=this.options).onCancel)==null||n.call(e)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){var n;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(n=this.driver)==null||n.stop(),e.observe(this)}}function C6(t){for(let e=1;e<t.length;e++)t[e]??(t[e]=t[e-1])}const Mi=t=>t*180/Math.PI,hm=t=>{const e=Mi(Math.atan2(t[1],t[0]));return pm(e)},E6={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:hm,rotateZ:hm,skewX:t=>Mi(Math.atan(t[1])),skewY:t=>Mi(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},pm=t=>(t=t%360,t<0&&(t+=360),t),nx=hm,rx=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),ix=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),S6={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:rx,scaleY:ix,scale:t=>(rx(t)+ix(t))/2,rotateX:t=>pm(Mi(Math.atan2(t[6],t[5]))),rotateY:t=>pm(Mi(Math.atan2(-t[2],t[0]))),rotateZ:nx,rotate:nx,skewX:t=>Mi(Math.atan(t[4])),skewY:t=>Mi(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function mm(t){return t.includes("scale")?1:0}function gm(t,e){if(!t||t==="none")return mm(e);const n=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let r,i;if(n)r=S6,i=n;else{const a=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);r=E6,i=a}if(!i)return mm(e);const s=r[e],o=i[1].split(",").map(T6);return typeof s=="function"?s(o):o[s]}const b6=(t,e)=>{const{transform:n="none"}=getComputedStyle(t);return gm(n,e)};function T6(t){return parseFloat(t.trim())}const Do=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Oo=(()=>new Set(Do))(),sx=t=>t===Ao||t===W,k6=new Set(["x","y","z"]),I6=Do.filter(t=>!k6.has(t));function P6(t){const e=[];return I6.forEach(n=>{const r=t.getValue(n);r!==void 0&&(e.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),e}const $i={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:(t,{transform:e})=>gm(e,"x"),y:(t,{transform:e})=>gm(e,"y")};$i.translateX=$i.x;$i.translateY=$i.y;const Vi=new Set;let ym=!1,vm=!1,_m=!1;function Mk(){if(vm){const t=Array.from(Vi).filter(r=>r.needsMeasurement),e=new Set(t.map(r=>r.element)),n=new Map;e.forEach(r=>{const i=P6(r);i.length&&(n.set(r,i),r.render())}),t.forEach(r=>r.measureInitialState()),e.forEach(r=>{r.render();const i=n.get(r);i&&i.forEach(([s,o])=>{var a;(a=r.getValue(s))==null||a.set(o)})}),t.forEach(r=>r.measureEndState()),t.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}vm=!1,ym=!1,Vi.forEach(t=>t.complete(_m)),Vi.clear()}function Lk(){Vi.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(vm=!0)})}function R6(){_m=!0,Lk(),Mk(),_m=!1}class xv{constructor(e,n,r,i,s,o=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=r,this.motionValue=i,this.element=s,this.isAsync=o}scheduleResolve(){this.state="scheduled",this.isAsync?(Vi.add(this),ym||(ym=!0,Se.read(Lk),Se.resolveKeyframes(Mk))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:r,motionValue:i}=this;if(e[0]===null){const s=i==null?void 0:i.get(),o=e[e.length-1];if(s!==void 0)e[0]=s;else if(r&&n){const a=r.readValue(n,o);a!=null&&(e[0]=a)}e[0]===void 0&&(e[0]=o),i&&s===void 0&&i.set(e[0])}C6(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),Vi.delete(this)}cancel(){this.state==="scheduled"&&(Vi.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const N6=t=>t.startsWith("--");function A6(t,e,n){N6(e)?t.style.setProperty(e,n):t.style[e]=n}const D6=lv(()=>window.ScrollTimeline!==void 0),O6={};function M6(t,e){const n=lv(t);return()=>O6[e]??n()}const jk=M6(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),ca=([t,e,n,r])=>`cubic-bezier(${t}, ${e}, ${n}, ${r})`,ox={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:ca([0,.65,.55,1]),circOut:ca([.55,0,1,.45]),backIn:ca([.31,.01,.66,-.59]),backOut:ca([.33,1.53,.69,.99])};function Fk(t,e){if(t)return typeof t=="function"?jk()?Ak(t,e):"ease-out":Ck(t)?ca(t):Array.isArray(t)?t.map(n=>Fk(n,e)||ox.easeOut):ox[t]}function L6(t,e,n,{delay:r=0,duration:i=300,repeat:s=0,repeatType:o="loop",ease:a="easeOut",times:l}={},c=void 0){const u={[e]:n};l&&(u.offset=l);const d=Fk(a,i);Array.isArray(d)&&(u.easing=d);const f={delay:r,duration:i,easing:Array.isArray(d)?"linear":d,fill:"both",iterations:s+1,direction:o==="reverse"?"alternate":"normal"};return c&&(f.pseudoElement=c),t.animate(u,f)}function $k(t){return typeof t=="function"&&"applyToOptions"in t}function j6({type:t,...e}){return $k(t)&&jk()?t.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class F6 extends _v{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,!e)return;const{element:n,name:r,keyframes:i,pseudoElement:s,allowFlatten:o=!1,finalKeyframe:a,onComplete:l}=e;this.isPseudoElement=!!s,this.allowFlatten=o,this.options=e,av(typeof e.type!="string");const c=j6(e);this.animation=L6(n,r,i,c,s),c.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!s){const u=vv(i,this.options,a,this.speed);this.updateMotionValue?this.updateMotionValue(u):A6(n,r,u),this.animation.cancel()}l==null||l(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var e,n;(n=(e=this.animation).finish)==null||n.call(e)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var e,n;this.isPseudoElement||(n=(e=this.animation).commitStyles)==null||n.call(e)}get duration(){var n,r;const e=((r=(n=this.animation.effect)==null?void 0:n.getComputedTiming)==null?void 0:r.call(n).duration)||0;return Bn(Number(e))}get time(){return Bn(Number(this.animation.currentTime)||0)}set time(e){this.finishedTime=null,this.animation.currentTime=Un(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(e){this.animation.startTime=e}attachTimeline({timeline:e,observe:n}){var r;return this.allowFlatten&&((r=this.animation.effect)==null||r.updateTiming({easing:"linear"})),this.animation.onfinish=null,e&&D6()?(this.animation.timeline=e,rn):n(this)}}const Vk={anticipate:vk,backInOut:yk,circInOut:wk};function $6(t){return t in Vk}function V6(t){typeof t.ease=="string"&&$6(t.ease)&&(t.ease=Vk[t.ease])}const ax=10;class U6 extends F6{constructor(e){V6(e),Ok(e),super(e),e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:n,onUpdate:r,onComplete:i,element:s,...o}=this.options;if(!n)return;if(e!==void 0){n.set(e);return}const a=new wv({...o,autoplay:!1}),l=Un(this.finishedTime??this.time);n.setWithVelocity(a.sample(l-ax).value,a.sample(l).value,ax),a.stop()}}const lx=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(ci.test(t)||t==="0")&&!t.startsWith("url("));function B6(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function z6(t,e,n,r){const i=t[0];if(i===null)return!1;if(e==="display"||e==="visibility")return!0;const s=t[t.length-1],o=lx(i,e),a=lx(s,e);return!o||!a?!1:B6(t)||(n==="spring"||$k(n))&&r}function Cv(t){return uk(t)&&"offsetHeight"in t}const W6=new Set(["opacity","clipPath","filter","transform"]),H6=lv(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function G6(t){var c;const{motionValue:e,name:n,repeatDelay:r,repeatType:i,damping:s,type:o}=t;if(!Cv((c=e==null?void 0:e.owner)==null?void 0:c.current))return!1;const{onUpdate:a,transformTemplate:l}=e.owner.getProps();return H6()&&n&&W6.has(n)&&(n!=="transform"||!l)&&!a&&!r&&i!=="mirror"&&s!==0&&o!=="inertia"}const K6=40;class q6 extends _v{constructor({autoplay:e=!0,delay:n=0,type:r="keyframes",repeat:i=0,repeatDelay:s=0,repeatType:o="loop",keyframes:a,name:l,motionValue:c,element:u,...d}){var g;super(),this.stop=()=>{var _,E;this._animation&&(this._animation.stop(),(_=this.stopTimeline)==null||_.call(this)),(E=this.keyframeResolver)==null||E.cancel()},this.createdAt=Pt.now();const f={autoplay:e,delay:n,type:r,repeat:i,repeatDelay:s,repeatType:o,name:l,motionValue:c,element:u,...d},p=(u==null?void 0:u.KeyframeResolver)||xv;this.keyframeResolver=new p(a,(_,E,m)=>this.onKeyframesResolved(_,E,f,!m),l,c,u),(g=this.keyframeResolver)==null||g.scheduleResolve()}onKeyframesResolved(e,n,r,i){this.keyframeResolver=void 0;const{name:s,type:o,velocity:a,delay:l,isHandoff:c,onUpdate:u}=r;this.resolvedAt=Pt.now(),z6(e,s,o,a)||((br.instantAnimations||!l)&&(u==null||u(vv(e,r,n))),e[0]=e[e.length-1],r.duration=0,r.repeat=0);const f={startTime:i?this.resolvedAt?this.resolvedAt-this.createdAt>K6?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...r,keyframes:e},p=!c&&G6(f)?new U6({...f,element:f.motionValue.owner.current}):new wv(f);p.finished.then(()=>this.notifyFinished()).catch(rn),this.pendingTimeline&&(this.stopTimeline=p.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=p}get finished(){return this._animation?this.animation.finished:this._finished}then(e,n){return this.finished.finally(e).then(()=>{})}get animation(){var e;return this._animation||((e=this.keyframeResolver)==null||e.resume(),R6()),this._animation}get duration(){return this.animation.duration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var e;this._animation&&this.animation.cancel(),(e=this.keyframeResolver)==null||e.cancel()}}const Y6=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function Q6(t){const e=Y6.exec(t);if(!e)return[,];const[,n,r,i]=e;return[`--${n??r}`,i]}function Uk(t,e,n=1){const[r,i]=Q6(t);if(!r)return;const s=window.getComputedStyle(e).getPropertyValue(r);if(s){const o=s.trim();return ck(o)?parseFloat(o):o}return hv(i)?Uk(i,e,n+1):i}function Ev(t,e){return(t==null?void 0:t[e])??(t==null?void 0:t.default)??t}const Bk=new Set(["width","height","top","left","right","bottom",...Do]),X6={test:t=>t==="auto",parse:t=>t},zk=t=>e=>e.test(t),Wk=[Ao,W,zn,Mr,B$,U$,X6],cx=t=>Wk.find(zk(t));function J6(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||dk(t):!0}const Z6=new Set(["brightness","contrast","saturate","opacity"]);function eV(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[r]=n.match(pv)||[];if(!r)return t;const i=n.replace(r,"");let s=Z6.has(e)?1:0;return r!==n&&(s*=100),e+"("+s+i+")"}const tV=/\b([a-z-]*)\(.*?\)/gu,wm={...ci,getAnimatableNone:t=>{const e=t.match(tV);return e?e.map(eV).join(" "):t}},ux={...Ao,transform:Math.round},nV={rotate:Mr,rotateX:Mr,rotateY:Mr,rotateZ:Mr,scale:kc,scaleX:kc,scaleY:kc,scaleZ:kc,skew:Mr,skewX:Mr,skewY:Mr,distance:W,translateX:W,translateY:W,translateZ:W,x:W,y:W,z:W,perspective:W,transformPerspective:W,opacity:hl,originX:Xw,originY:Xw,originZ:W},Sv={borderWidth:W,borderTopWidth:W,borderRightWidth:W,borderBottomWidth:W,borderLeftWidth:W,borderRadius:W,radius:W,borderTopLeftRadius:W,borderTopRightRadius:W,borderBottomRightRadius:W,borderBottomLeftRadius:W,width:W,maxWidth:W,height:W,maxHeight:W,top:W,right:W,bottom:W,left:W,padding:W,paddingTop:W,paddingRight:W,paddingBottom:W,paddingLeft:W,margin:W,marginTop:W,marginRight:W,marginBottom:W,marginLeft:W,backgroundPositionX:W,backgroundPositionY:W,...nV,zIndex:ux,fillOpacity:hl,strokeOpacity:hl,numOctaves:ux},rV={...Sv,color:at,backgroundColor:at,outlineColor:at,fill:at,stroke:at,borderColor:at,borderTopColor:at,borderRightColor:at,borderBottomColor:at,borderLeftColor:at,filter:wm,WebkitFilter:wm},Hk=t=>rV[t];function Gk(t,e){let n=Hk(t);return n!==wm&&(n=ci),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const iV=new Set(["auto","none","0"]);function sV(t,e,n){let r=0,i;for(;r<t.length&&!i;){const s=t[r];typeof s=="string"&&!iV.has(s)&&pl(s).values.length&&(i=t[r]),r++}if(i&&n)for(const s of e)t[s]=Gk(n,i)}class oV extends xv{constructor(e,n,r,i,s){super(e,n,r,i,s,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let l=0;l<e.length;l++){let c=e[l];if(typeof c=="string"&&(c=c.trim(),hv(c))){const u=Uk(c,n.current);u!==void 0&&(e[l]=u),l===e.length-1&&(this.finalKeyframe=c)}}if(this.resolveNoneKeyframes(),!Bk.has(r)||e.length!==2)return;const[i,s]=e,o=cx(i),a=cx(s);if(o!==a)if(sx(o)&&sx(a))for(let l=0;l<e.length;l++){const c=e[l];typeof c=="string"&&(e[l]=parseFloat(c))}else $i[r]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,r=[];for(let i=0;i<e.length;i++)(e[i]===null||J6(e[i]))&&r.push(i);r.length&&sV(e,r,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:r}=this;if(!e||!e.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=$i[r](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const i=n[n.length-1];i!==void 0&&e.getValue(r,i).jump(i,!1)}measureEndState(){var a;const{element:e,name:n,unresolvedKeyframes:r}=this;if(!e||!e.current)return;const i=e.getValue(n);i&&i.jump(this.measuredOrigin,!1);const s=r.length-1,o=r[s];r[s]=$i[n](e.measureViewportBox(),window.getComputedStyle(e.current)),o!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=o),(a=this.removedTransforms)!=null&&a.length&&this.removedTransforms.forEach(([l,c])=>{e.getValue(l).set(c)}),this.resolveNoneKeyframes()}}function aV(t,e,n){if(t instanceof EventTarget)return[t];if(typeof t=="string"){let r=document;e&&(r=e.current);const i=(n==null?void 0:n[t])??r.querySelectorAll(t);return i?Array.from(i):[]}return Array.from(t)}const dx=30,lV=t=>!isNaN(parseFloat(t));class cV{constructor(e,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=(r,i=!0)=>{var o,a;const s=Pt.now();if(this.updatedAt!==s&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&((o=this.events.change)==null||o.notify(this.current),this.dependents))for(const l of this.dependents)l.dirty();i&&((a=this.events.renderRequest)==null||a.notify(this.current))},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=Pt.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=lV(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new cv);const r=this.events[e].add(n);return e==="change"?()=>{r(),Se.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e,n=!0){!n||!this.passiveEffect?this.updateAndNotify(e,n):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-r}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var e;(e=this.events.change)==null||e.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=Pt.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>dx)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,dx);return fk(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var e,n;(e=this.dependents)==null||e.clear(),(n=this.events.destroy)==null||n.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function po(t,e){return new cV(t,e)}const Kk=(t,e)=>e&&typeof t=="number"?e.transform(t):t,{schedule:bv,cancel:m9}=Ek(queueMicrotask,!1),hn={x:!1,y:!1};function qk(){return hn.x||hn.y}function uV(t){return t==="x"||t==="y"?hn[t]?null:(hn[t]=!0,()=>{hn[t]=!1}):hn.x||hn.y?null:(hn.x=hn.y=!0,()=>{hn.x=hn.y=!1})}function Yk(t,e){const n=aV(t),r=new AbortController,i={passive:!0,...e,signal:r.signal};return[n,i,()=>r.abort()]}function fx(t){return!(t.pointerType==="touch"||qk())}function dV(t,e,n={}){const[r,i,s]=Yk(t,n),o=a=>{if(!fx(a))return;const{target:l}=a,c=e(l,a);if(typeof c!="function"||!l)return;const u=d=>{fx(d)&&(c(d),l.removeEventListener("pointerleave",u))};l.addEventListener("pointerleave",u,i)};return r.forEach(a=>{a.addEventListener("pointerenter",o,i)}),s}const Qk=(t,e)=>e?t===e?!0:Qk(t,e.parentElement):!1,Tv=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,fV=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function hV(t){return fV.has(t.tagName)||t.tabIndex!==-1}const tu=new WeakSet;function hx(t){return e=>{e.key==="Enter"&&t(e)}}function Ih(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const pV=(t,e)=>{const n=t.currentTarget;if(!n)return;const r=hx(()=>{if(tu.has(n))return;Ih(n,"down");const i=hx(()=>{Ih(n,"up")}),s=()=>Ih(n,"cancel");n.addEventListener("keyup",i,e),n.addEventListener("blur",s,e)});n.addEventListener("keydown",r,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),e)};function px(t){return Tv(t)&&!qk()}function mV(t,e,n={}){const[r,i,s]=Yk(t,n),o=a=>{const l=a.currentTarget;if(!px(a))return;tu.add(l);const c=e(l,a),u=(p,g)=>{window.removeEventListener("pointerup",d),window.removeEventListener("pointercancel",f),tu.has(l)&&tu.delete(l),px(p)&&typeof c=="function"&&c(p,{success:g})},d=p=>{u(p,l===window||l===document||n.useGlobalTarget||Qk(l,p.target))},f=p=>{u(p,!1)};window.addEventListener("pointerup",d,i),window.addEventListener("pointercancel",f,i)};return r.forEach(a=>{(n.useGlobalTarget?window:a).addEventListener("pointerdown",o,i),Cv(a)&&(a.addEventListener("focus",c=>pV(c,i)),!hV(a)&&!a.hasAttribute("tabindex")&&(a.tabIndex=0))}),s}function Xk(t){return uk(t)&&"ownerSVGElement"in t}function gV(t){return Xk(t)&&t.tagName==="svg"}const ut=t=>!!(t&&t.getVelocity),yV=[...Wk,at,ci],vV=t=>yV.find(zk(t)),kv=x.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});class _V extends x.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const r=n.offsetParent,i=Cv(r)&&r.offsetWidth||0,s=this.props.sizeRef.current;s.height=n.offsetHeight||0,s.width=n.offsetWidth||0,s.top=n.offsetTop,s.left=n.offsetLeft,s.right=i-s.width-s.left}return null}componentDidUpdate(){}render(){return this.props.children}}function wV({children:t,isPresent:e,anchorX:n}){const r=x.useId(),i=x.useRef(null),s=x.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:o}=x.useContext(kv);return x.useInsertionEffect(()=>{const{width:a,height:l,top:c,left:u,right:d}=s.current;if(e||!i.current||!a||!l)return;const f=n==="left"?`left: ${u}`:`right: ${d}`;i.current.dataset.motionPopId=r;const p=document.createElement("style");return o&&(p.nonce=o),document.head.appendChild(p),p.sheet&&p.sheet.insertRule(`
          [data-motion-pop-id="${r}"] {
            position: absolute !important;
            width: ${a}px !important;
            height: ${l}px !important;
            ${f}px !important;
            top: ${c}px !important;
          }
        `),()=>{document.head.contains(p)&&document.head.removeChild(p)}},[e]),h.jsx(_V,{isPresent:e,childRef:i,sizeRef:s,children:x.cloneElement(t,{ref:i})})}const xV=({children:t,initial:e,isPresent:n,onExitComplete:r,custom:i,presenceAffectsLayout:s,mode:o,anchorX:a})=>{const l=rv(CV),c=x.useId();let u=!0,d=x.useMemo(()=>(u=!1,{id:c,initial:e,isPresent:n,custom:i,onExitComplete:f=>{l.set(f,!0);for(const p of l.values())if(!p)return;r&&r()},register:f=>(l.set(f,!1),()=>l.delete(f))}),[n,l,r]);return s&&u&&(d={...d}),x.useMemo(()=>{l.forEach((f,p)=>l.set(p,!1))},[n]),x.useEffect(()=>{!n&&!l.size&&r&&r()},[n]),o==="popLayout"&&(t=h.jsx(wV,{isPresent:n,anchorX:a,children:t})),h.jsx(tf.Provider,{value:d,children:t})};function CV(){return new Map}function Jk(t=!0){const e=x.useContext(tf);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:r,register:i}=e,s=x.useId();x.useEffect(()=>{if(t)return i(s)},[t]);const o=x.useCallback(()=>t&&r&&r(s),[s,r,t]);return!n&&r?[!1,o]:[!0]}const Ic=t=>t.key||"";function mx(t){const e=[];return x.Children.forEach(t,n=>{x.isValidElement(n)&&e.push(n)}),e}const EV=({children:t,custom:e,initial:n=!0,onExitComplete:r,presenceAffectsLayout:i=!0,mode:s="sync",propagate:o=!1,anchorX:a="left"})=>{const[l,c]=Jk(o),u=x.useMemo(()=>mx(t),[t]),d=o&&!l?[]:u.map(Ic),f=x.useRef(!0),p=x.useRef(u),g=rv(()=>new Map),[_,E]=x.useState(u),[m,v]=x.useState(u);lk(()=>{f.current=!1,p.current=u;for(let S=0;S<m.length;S++){const b=Ic(m[S]);d.includes(b)?g.delete(b):g.get(b)!==!0&&g.set(b,!1)}},[m,d.length,d.join("-")]);const y=[];if(u!==_){let S=[...u];for(let b=0;b<m.length;b++){const T=m[b],k=Ic(T);d.includes(k)||(S.splice(b,0,T),y.push(T))}return s==="wait"&&y.length&&(S=y),v(mx(S)),E(u),null}const{forceRender:C}=x.useContext(nv);return h.jsx(h.Fragment,{children:m.map(S=>{const b=Ic(S),T=o&&!l?!1:u===m||d.includes(b),k=()=>{if(g.has(b))g.set(b,!0);else return;let N=!0;g.forEach(w=>{w||(N=!1)}),N&&(C==null||C(),v(p.current),o&&(c==null||c()),r&&r())};return h.jsx(xV,{isPresent:T,initial:!f.current||n?void 0:!1,custom:e,presenceAffectsLayout:i,mode:s,onExitComplete:T?void 0:k,anchorX:a,children:S},b)})})},Zk=x.createContext({strict:!1}),gx={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},mo={};for(const t in gx)mo[t]={isEnabled:e=>gx[t].some(n=>!!e[n])};function SV(t){for(const e in t)mo[e]={...mo[e],...t[e]}}const bV=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function dd(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||bV.has(t)}let eI=t=>!dd(t);function TV(t){t&&(eI=e=>e.startsWith("on")?!dd(e):t(e))}try{TV(require("@emotion/is-prop-valid").default)}catch{}function kV(t,e,n){const r={};for(const i in t)i==="values"&&typeof t.values=="object"||(eI(i)||n===!0&&dd(i)||!e&&!dd(i)||t.draggable&&i.startsWith("onDrag"))&&(r[i]=t[i]);return r}function IV(t){if(typeof Proxy>"u")return t;const e=new Map,n=(...r)=>t(...r);return new Proxy(n,{get:(r,i)=>i==="create"?t:(e.has(i)||e.set(i,t(i)),e.get(i))})}const nf=x.createContext({});function rf(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function ml(t){return typeof t=="string"||Array.isArray(t)}const Iv=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Pv=["initial",...Iv];function sf(t){return rf(t.animate)||Pv.some(e=>ml(t[e]))}function tI(t){return!!(sf(t)||t.variants)}function PV(t,e){if(sf(t)){const{initial:n,animate:r}=t;return{initial:n===!1||ml(n)?n:void 0,animate:ml(r)?r:void 0}}return t.inherit!==!1?e:{}}function RV(t){const{initial:e,animate:n}=PV(t,x.useContext(nf));return x.useMemo(()=>({initial:e,animate:n}),[yx(e),yx(n)])}function yx(t){return Array.isArray(t)?t.join(" "):t}const NV=Symbol.for("motionComponentSymbol");function Ds(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function AV(t,e,n){return x.useCallback(r=>{r&&t.onMount&&t.onMount(r),e&&(r?e.mount(r):e.unmount()),n&&(typeof n=="function"?n(r):Ds(n)&&(n.current=r))},[e])}const Rv=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),DV="framerAppearId",nI="data-"+Rv(DV),rI=x.createContext({});function OV(t,e,n,r,i){var _,E;const{visualElement:s}=x.useContext(nf),o=x.useContext(Zk),a=x.useContext(tf),l=x.useContext(kv).reducedMotion,c=x.useRef(null);r=r||o.renderer,!c.current&&r&&(c.current=r(t,{visualState:e,parent:s,props:n,presenceContext:a,blockInitialAnimation:a?a.initial===!1:!1,reducedMotionConfig:l}));const u=c.current,d=x.useContext(rI);u&&!u.projection&&i&&(u.type==="html"||u.type==="svg")&&MV(c.current,n,i,d);const f=x.useRef(!1);x.useInsertionEffect(()=>{u&&f.current&&u.update(n,a)});const p=n[nI],g=x.useRef(!!p&&!((_=window.MotionHandoffIsComplete)!=null&&_.call(window,p))&&((E=window.MotionHasOptimisedAnimation)==null?void 0:E.call(window,p)));return lk(()=>{u&&(f.current=!0,window.MotionIsMounted=!0,u.updateFeatures(),bv.render(u.render),g.current&&u.animationState&&u.animationState.animateChanges())}),x.useEffect(()=>{u&&(!g.current&&u.animationState&&u.animationState.animateChanges(),g.current&&(queueMicrotask(()=>{var m;(m=window.MotionHandoffMarkAsComplete)==null||m.call(window,p)}),g.current=!1))}),u}function MV(t,e,n,r){const{layoutId:i,layout:s,drag:o,dragConstraints:a,layoutScroll:l,layoutRoot:c,layoutCrossfade:u}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:iI(t.parent)),t.projection.setOptions({layoutId:i,layout:s,alwaysMeasureLayout:!!o||a&&Ds(a),visualElement:t,animationType:typeof s=="string"?s:"both",initialPromotionConfig:r,crossfade:u,layoutScroll:l,layoutRoot:c})}function iI(t){if(t)return t.options.allowProjection!==!1?t.projection:iI(t.parent)}function LV({preloadedFeatures:t,createVisualElement:e,useRender:n,useVisualState:r,Component:i}){t&&SV(t);function s(a,l){let c;const u={...x.useContext(kv),...a,layoutId:jV(a)},{isStatic:d}=u,f=RV(a),p=r(a,d);if(!d&&iv){FV();const g=$V(u);c=g.MeasureLayout,f.visualElement=OV(i,p,u,e,g.ProjectionNode)}return h.jsxs(nf.Provider,{value:f,children:[c&&f.visualElement?h.jsx(c,{visualElement:f.visualElement,...u}):null,n(i,a,AV(p,f.visualElement,l),p,d,f.visualElement)]})}s.displayName=`motion.${typeof i=="string"?i:`create(${i.displayName??i.name??""})`}`;const o=x.forwardRef(s);return o[NV]=i,o}function jV({layoutId:t}){const e=x.useContext(nv).id;return e&&t!==void 0?e+"-"+t:t}function FV(t,e){x.useContext(Zk).strict}function $V(t){const{drag:e,layout:n}=mo;if(!e&&!n)return{};const r={...e,...n};return{MeasureLayout:e!=null&&e.isEnabled(t)||n!=null&&n.isEnabled(t)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}const gl={};function VV(t){for(const e in t)gl[e]=t[e],fv(e)&&(gl[e].isCSSVariable=!0)}function sI(t,{layout:e,layoutId:n}){return Oo.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!gl[t]||t==="opacity")}const UV={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},BV=Do.length;function zV(t,e,n){let r="",i=!0;for(let s=0;s<BV;s++){const o=Do[s],a=t[o];if(a===void 0)continue;let l=!0;if(typeof a=="number"?l=a===(o.startsWith("scale")?1:0):l=parseFloat(a)===0,!l||n){const c=Kk(a,Sv[o]);if(!l){i=!1;const u=UV[o]||o;r+=`${u}(${c}) `}n&&(e[o]=c)}}return r=r.trim(),n?r=n(e,i?"":r):i&&(r="none"),r}function Nv(t,e,n){const{style:r,vars:i,transformOrigin:s}=t;let o=!1,a=!1;for(const l in e){const c=e[l];if(Oo.has(l)){o=!0;continue}else if(fv(l)){i[l]=c;continue}else{const u=Kk(c,Sv[l]);l.startsWith("origin")?(a=!0,s[l]=u):r[l]=u}}if(e.transform||(o||n?r.transform=zV(e,t.transform,n):r.transform&&(r.transform="none")),a){const{originX:l="50%",originY:c="50%",originZ:u=0}=s;r.transformOrigin=`${l} ${c} ${u}`}}const Av=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function oI(t,e,n){for(const r in e)!ut(e[r])&&!sI(r,n)&&(t[r]=e[r])}function WV({transformTemplate:t},e){return x.useMemo(()=>{const n=Av();return Nv(n,e,t),Object.assign({},n.vars,n.style)},[e])}function HV(t,e){const n=t.style||{},r={};return oI(r,n,t),Object.assign(r,WV(t,e)),r}function GV(t,e){const n={},r=HV(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=r,n}const KV={offset:"stroke-dashoffset",array:"stroke-dasharray"},qV={offset:"strokeDashoffset",array:"strokeDasharray"};function YV(t,e,n=1,r=0,i=!0){t.pathLength=1;const s=i?KV:qV;t[s.offset]=W.transform(-r);const o=W.transform(e),a=W.transform(n);t[s.array]=`${o} ${a}`}function aI(t,{attrX:e,attrY:n,attrScale:r,pathLength:i,pathSpacing:s=1,pathOffset:o=0,...a},l,c,u){if(Nv(t,a,c),l){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:d,style:f}=t;d.transform&&(f.transform=d.transform,delete d.transform),(f.transform||d.transformOrigin)&&(f.transformOrigin=d.transformOrigin??"50% 50%",delete d.transformOrigin),f.transform&&(f.transformBox=(u==null?void 0:u.transformBox)??"fill-box",delete d.transformBox),e!==void 0&&(d.x=e),n!==void 0&&(d.y=n),r!==void 0&&(d.scale=r),i!==void 0&&YV(d,i,s,o,!1)}const lI=()=>({...Av(),attrs:{}}),cI=t=>typeof t=="string"&&t.toLowerCase()==="svg";function QV(t,e,n,r){const i=x.useMemo(()=>{const s=lI();return aI(s,e,cI(r),t.transformTemplate,t.style),{...s.attrs,style:{...s.style}}},[e]);if(t.style){const s={};oI(s,t.style,t),i.style={...s,...i.style}}return i}const XV=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Dv(t){return typeof t!="string"||t.includes("-")?!1:!!(XV.indexOf(t)>-1||/[A-Z]/u.test(t))}function JV(t=!1){return(n,r,i,{latestValues:s},o)=>{const l=(Dv(n)?QV:GV)(r,s,o,n),c=kV(r,typeof n=="string",t),u=n!==x.Fragment?{...c,...l,ref:i}:{},{children:d}=r,f=x.useMemo(()=>ut(d)?d.get():d,[d]);return x.createElement(n,{...u,children:f})}}function vx(t){const e=[{},{}];return t==null||t.values.forEach((n,r)=>{e[0][r]=n.get(),e[1][r]=n.getVelocity()}),e}function Ov(t,e,n,r){if(typeof e=="function"){const[i,s]=vx(r);e=e(n!==void 0?n:t.custom,i,s)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[i,s]=vx(r);e=e(n!==void 0?n:t.custom,i,s)}return e}function nu(t){return ut(t)?t.get():t}function ZV({scrapeMotionValuesFromProps:t,createRenderState:e},n,r,i){return{latestValues:eU(n,r,i,t),renderState:e()}}const uI=t=>(e,n)=>{const r=x.useContext(nf),i=x.useContext(tf),s=()=>ZV(t,e,r,i);return n?s():rv(s)};function eU(t,e,n,r){const i={},s=r(t,{});for(const f in s)i[f]=nu(s[f]);let{initial:o,animate:a}=t;const l=sf(t),c=tI(t);e&&c&&!l&&t.inherit!==!1&&(o===void 0&&(o=e.initial),a===void 0&&(a=e.animate));let u=n?n.initial===!1:!1;u=u||o===!1;const d=u?a:o;if(d&&typeof d!="boolean"&&!rf(d)){const f=Array.isArray(d)?d:[d];for(let p=0;p<f.length;p++){const g=Ov(t,f[p]);if(g){const{transitionEnd:_,transition:E,...m}=g;for(const v in m){let y=m[v];if(Array.isArray(y)){const C=u?y.length-1:0;y=y[C]}y!==null&&(i[v]=y)}for(const v in _)i[v]=_[v]}}}return i}function Mv(t,e,n){var s;const{style:r}=t,i={};for(const o in r)(ut(r[o])||e.style&&ut(e.style[o])||sI(o,t)||((s=n==null?void 0:n.getValue(o))==null?void 0:s.liveStyle)!==void 0)&&(i[o]=r[o]);return i}const tU={useVisualState:uI({scrapeMotionValuesFromProps:Mv,createRenderState:Av})};function dI(t,e,n){const r=Mv(t,e,n);for(const i in t)if(ut(t[i])||ut(e[i])){const s=Do.indexOf(i)!==-1?"attr"+i.charAt(0).toUpperCase()+i.substring(1):i;r[s]=t[i]}return r}const nU={useVisualState:uI({scrapeMotionValuesFromProps:dI,createRenderState:lI})};function rU(t,e){return function(r,{forwardMotionProps:i}={forwardMotionProps:!1}){const o={...Dv(r)?nU:tU,preloadedFeatures:t,useRender:JV(i),createVisualElement:e,Component:r};return LV(o)}}function yl(t,e,n){const r=t.getProps();return Ov(r,e,n!==void 0?n:r.custom,t)}const xm=t=>Array.isArray(t);function iU(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,po(n))}function sU(t){return xm(t)?t[t.length-1]||0:t}function oU(t,e){const n=yl(t,e);let{transitionEnd:r={},transition:i={},...s}=n||{};s={...s,...r};for(const o in s){const a=sU(s[o]);iU(t,o,a)}}function aU(t){return!!(ut(t)&&t.add)}function Cm(t,e){const n=t.getValue("willChange");if(aU(n))return n.add(e);if(!n&&br.WillChange){const r=new br.WillChange("auto");t.addValue("willChange",r),r.add(e)}}function fI(t){return t.props[nI]}const lU=t=>t!==null;function cU(t,{repeat:e,repeatType:n="loop"},r){const i=t.filter(lU),s=e&&n!=="loop"&&e%2===1?0:i.length-1;return!s||r===void 0?i[s]:r}const uU={type:"spring",stiffness:500,damping:25,restSpeed:10},dU=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),fU={type:"keyframes",duration:.8},hU={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},pU=(t,{keyframes:e})=>e.length>2?fU:Oo.has(t)?t.startsWith("scale")?dU(e[1]):uU:hU;function mU({when:t,delay:e,delayChildren:n,staggerChildren:r,staggerDirection:i,repeat:s,repeatType:o,repeatDelay:a,from:l,elapsed:c,...u}){return!!Object.keys(u).length}const Lv=(t,e,n,r={},i,s)=>o=>{const a=Ev(r,t)||{},l=a.delay||r.delay||0;let{elapsed:c=0}=r;c=c-Un(l);const u={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...a,delay:-c,onUpdate:f=>{e.set(f),a.onUpdate&&a.onUpdate(f)},onComplete:()=>{o(),a.onComplete&&a.onComplete()},name:t,motionValue:e,element:s?void 0:i};mU(a)||Object.assign(u,pU(t,u)),u.duration&&(u.duration=Un(u.duration)),u.repeatDelay&&(u.repeatDelay=Un(u.repeatDelay)),u.from!==void 0&&(u.keyframes[0]=u.from);let d=!1;if((u.type===!1||u.duration===0&&!u.repeatDelay)&&(u.duration=0,u.delay===0&&(d=!0)),(br.instantAnimations||br.skipAnimations)&&(d=!0,u.duration=0,u.delay=0),u.allowFlatten=!a.type&&!a.ease,d&&!s&&e.get()!==void 0){const f=cU(u.keyframes,a);if(f!==void 0){Se.update(()=>{u.onUpdate(f),u.onComplete()});return}}return a.isSync?new wv(u):new q6(u)};function gU({protectedKeys:t,needsAnimating:e},n){const r=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,r}function hI(t,e,{delay:n=0,transitionOverride:r,type:i}={}){let{transition:s=t.getDefaultTransition(),transitionEnd:o,...a}=e;r&&(s=r);const l=[],c=i&&t.animationState&&t.animationState.getState()[i];for(const u in a){const d=t.getValue(u,t.latestValues[u]??null),f=a[u];if(f===void 0||c&&gU(c,u))continue;const p={delay:n,...Ev(s||{},u)},g=d.get();if(g!==void 0&&!d.isAnimating&&!Array.isArray(f)&&f===g&&!p.velocity)continue;let _=!1;if(window.MotionHandoffAnimation){const m=fI(t);if(m){const v=window.MotionHandoffAnimation(m,u,Se);v!==null&&(p.startTime=v,_=!0)}}Cm(t,u),d.start(Lv(u,d,f,t.shouldReduceMotion&&Bk.has(u)?{type:!1}:p,t,_));const E=d.animation;E&&l.push(E)}return o&&Promise.all(l).then(()=>{Se.update(()=>{o&&oU(t,o)})}),l}function Em(t,e,n={}){var l;const r=yl(t,e,n.type==="exit"?(l=t.presenceContext)==null?void 0:l.custom:void 0);let{transition:i=t.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(i=n.transitionOverride);const s=r?()=>Promise.all(hI(t,r,n)):()=>Promise.resolve(),o=t.variantChildren&&t.variantChildren.size?(c=0)=>{const{delayChildren:u=0,staggerChildren:d,staggerDirection:f}=i;return yU(t,e,u+c,d,f,n)}:()=>Promise.resolve(),{when:a}=i;if(a){const[c,u]=a==="beforeChildren"?[s,o]:[o,s];return c().then(()=>u())}else return Promise.all([s(),o(n.delay)])}function yU(t,e,n=0,r=0,i=1,s){const o=[],a=(t.variantChildren.size-1)*r,l=i===1?(c=0)=>c*r:(c=0)=>a-c*r;return Array.from(t.variantChildren).sort(vU).forEach((c,u)=>{c.notify("AnimationStart",e),o.push(Em(c,e,{...s,delay:n+l(u)}).then(()=>c.notify("AnimationComplete",e)))}),Promise.all(o)}function vU(t,e){return t.sortNodePosition(e)}function _U(t,e,n={}){t.notify("AnimationStart",e);let r;if(Array.isArray(e)){const i=e.map(s=>Em(t,s,n));r=Promise.all(i)}else if(typeof e=="string")r=Em(t,e,n);else{const i=typeof e=="function"?yl(t,e,n.custom):e;r=Promise.all(hI(t,i,n))}return r.then(()=>{t.notify("AnimationComplete",e)})}function pI(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}const wU=Pv.length;function mI(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?mI(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<wU;n++){const r=Pv[n],i=t.props[r];(ml(i)||i===!1)&&(e[r]=i)}return e}const xU=[...Iv].reverse(),CU=Iv.length;function EU(t){return e=>Promise.all(e.map(({animation:n,options:r})=>_U(t,n,r)))}function SU(t){let e=EU(t),n=_x(),r=!0;const i=l=>(c,u)=>{var f;const d=yl(t,u,l==="exit"?(f=t.presenceContext)==null?void 0:f.custom:void 0);if(d){const{transition:p,transitionEnd:g,..._}=d;c={...c,..._,...g}}return c};function s(l){e=l(t)}function o(l){const{props:c}=t,u=mI(t.parent)||{},d=[],f=new Set;let p={},g=1/0;for(let E=0;E<CU;E++){const m=xU[E],v=n[m],y=c[m]!==void 0?c[m]:u[m],C=ml(y),S=m===l?v.isActive:null;S===!1&&(g=E);let b=y===u[m]&&y!==c[m]&&C;if(b&&r&&t.manuallyAnimateOnMount&&(b=!1),v.protectedKeys={...p},!v.isActive&&S===null||!y&&!v.prevProp||rf(y)||typeof y=="boolean")continue;const T=bU(v.prevProp,y);let k=T||m===l&&v.isActive&&!b&&C||E>g&&C,N=!1;const w=Array.isArray(y)?y:[y];let R=w.reduce(i(m),{});S===!1&&(R={});const{prevResolvedValues:M={}}=v,F={...M,...R},U=K=>{k=!0,f.has(K)&&(N=!0,f.delete(K)),v.needsAnimating[K]=!0;const O=t.getValue(K);O&&(O.liveStyle=!1)};for(const K in F){const O=R[K],B=M[K];if(p.hasOwnProperty(K))continue;let H=!1;xm(O)&&xm(B)?H=!pI(O,B):H=O!==B,H?O!=null?U(K):f.add(K):O!==void 0&&f.has(K)?U(K):v.protectedKeys[K]=!0}v.prevProp=y,v.prevResolvedValues=R,v.isActive&&(p={...p,...R}),r&&t.blockInitialAnimation&&(k=!1),k&&(!(b&&T)||N)&&d.push(...w.map(K=>({animation:K,options:{type:m}})))}if(f.size){const E={};if(typeof c.initial!="boolean"){const m=yl(t,Array.isArray(c.initial)?c.initial[0]:c.initial);m&&m.transition&&(E.transition=m.transition)}f.forEach(m=>{const v=t.getBaseTarget(m),y=t.getValue(m);y&&(y.liveStyle=!0),E[m]=v??null}),d.push({animation:E})}let _=!!d.length;return r&&(c.initial===!1||c.initial===c.animate)&&!t.manuallyAnimateOnMount&&(_=!1),r=!1,_?e(d):Promise.resolve()}function a(l,c){var d;if(n[l].isActive===c)return Promise.resolve();(d=t.variantChildren)==null||d.forEach(f=>{var p;return(p=f.animationState)==null?void 0:p.setActive(l,c)}),n[l].isActive=c;const u=o(l);for(const f in n)n[f].protectedKeys={};return u}return{animateChanges:o,setActive:a,setAnimateFunction:s,getState:()=>n,reset:()=>{n=_x(),r=!0}}}function bU(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!pI(e,t):!1}function vi(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function _x(){return{animate:vi(!0),whileInView:vi(),whileHover:vi(),whileTap:vi(),whileDrag:vi(),whileFocus:vi(),exit:vi()}}class yi{constructor(e){this.isMounted=!1,this.node=e}update(){}}class TU extends yi{constructor(e){super(e),e.animationState||(e.animationState=SU(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();rf(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)==null||e.call(this)}}let kU=0;class IU extends yi{constructor(){super(...arguments),this.id=kU++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const i=this.node.animationState.setActive("exit",!e);n&&!e&&i.then(()=>{n(this.id)})}mount(){const{register:e,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const PU={animation:{Feature:TU},exit:{Feature:IU}};function vl(t,e,n,r={passive:!0}){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n)}function Gl(t){return{point:{x:t.pageX,y:t.pageY}}}const RU=t=>e=>Tv(e)&&t(e,Gl(e));function Ra(t,e,n,r){return vl(t,e,RU(n),r)}function gI({top:t,left:e,right:n,bottom:r}){return{x:{min:e,max:n},y:{min:t,max:r}}}function NU({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function AU(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),r=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}const yI=1e-4,DU=1-yI,OU=1+yI,vI=.01,MU=0-vI,LU=0+vI;function vt(t){return t.max-t.min}function jU(t,e,n){return Math.abs(t-e)<=n}function wx(t,e,n,r=.5){t.origin=r,t.originPoint=Ce(e.min,e.max,t.origin),t.scale=vt(n)/vt(e),t.translate=Ce(n.min,n.max,t.origin)-t.originPoint,(t.scale>=DU&&t.scale<=OU||isNaN(t.scale))&&(t.scale=1),(t.translate>=MU&&t.translate<=LU||isNaN(t.translate))&&(t.translate=0)}function Na(t,e,n,r){wx(t.x,e.x,n.x,r?r.originX:void 0),wx(t.y,e.y,n.y,r?r.originY:void 0)}function xx(t,e,n){t.min=n.min+e.min,t.max=t.min+vt(e)}function FU(t,e,n){xx(t.x,e.x,n.x),xx(t.y,e.y,n.y)}function Cx(t,e,n){t.min=e.min-n.min,t.max=t.min+vt(e)}function Aa(t,e,n){Cx(t.x,e.x,n.x),Cx(t.y,e.y,n.y)}const Ex=()=>({translate:0,scale:1,origin:0,originPoint:0}),Os=()=>({x:Ex(),y:Ex()}),Sx=()=>({min:0,max:0}),Oe=()=>({x:Sx(),y:Sx()});function Qt(t){return[t("x"),t("y")]}function Ph(t){return t===void 0||t===1}function Sm({scale:t,scaleX:e,scaleY:n}){return!Ph(t)||!Ph(e)||!Ph(n)}function Ei(t){return Sm(t)||_I(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function _I(t){return bx(t.x)||bx(t.y)}function bx(t){return t&&t!=="0%"}function fd(t,e,n){const r=t-n,i=e*r;return n+i}function Tx(t,e,n,r,i){return i!==void 0&&(t=fd(t,i,r)),fd(t,n,r)+e}function bm(t,e=0,n=1,r,i){t.min=Tx(t.min,e,n,r,i),t.max=Tx(t.max,e,n,r,i)}function wI(t,{x:e,y:n}){bm(t.x,e.translate,e.scale,e.originPoint),bm(t.y,n.translate,n.scale,n.originPoint)}const kx=.999999999999,Ix=1.0000000000001;function $U(t,e,n,r=!1){const i=n.length;if(!i)return;e.x=e.y=1;let s,o;for(let a=0;a<i;a++){s=n[a],o=s.projectionDelta;const{visualElement:l}=s.options;l&&l.props.style&&l.props.style.display==="contents"||(r&&s.options.layoutScroll&&s.scroll&&s!==s.root&&Ls(t,{x:-s.scroll.offset.x,y:-s.scroll.offset.y}),o&&(e.x*=o.x.scale,e.y*=o.y.scale,wI(t,o)),r&&Ei(s.latestValues)&&Ls(t,s.latestValues))}e.x<Ix&&e.x>kx&&(e.x=1),e.y<Ix&&e.y>kx&&(e.y=1)}function Ms(t,e){t.min=t.min+e,t.max=t.max+e}function Px(t,e,n,r,i=.5){const s=Ce(t.min,t.max,i);bm(t,e,n,s,r)}function Ls(t,e){Px(t.x,e.x,e.scaleX,e.scale,e.originX),Px(t.y,e.y,e.scaleY,e.scale,e.originY)}function xI(t,e){return gI(AU(t.getBoundingClientRect(),e))}function VU(t,e,n){const r=xI(t,n),{scroll:i}=e;return i&&(Ms(r.x,i.offset.x),Ms(r.y,i.offset.y)),r}const CI=({current:t})=>t?t.ownerDocument.defaultView:null,Rx=(t,e)=>Math.abs(t-e);function UU(t,e){const n=Rx(t.x,e.x),r=Rx(t.y,e.y);return Math.sqrt(n**2+r**2)}class EI{constructor(e,n,{transformPagePoint:r,contextWindow:i,dragSnapToOrigin:s=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const d=Nh(this.lastMoveEventInfo,this.history),f=this.startEvent!==null,p=UU(d.offset,{x:0,y:0})>=3;if(!f&&!p)return;const{point:g}=d,{timestamp:_}=Xe;this.history.push({...g,timestamp:_});const{onStart:E,onMove:m}=this.handlers;f||(E&&E(this.lastMoveEvent,d),this.startEvent=this.lastMoveEvent),m&&m(this.lastMoveEvent,d)},this.handlePointerMove=(d,f)=>{this.lastMoveEvent=d,this.lastMoveEventInfo=Rh(f,this.transformPagePoint),Se.update(this.updatePoint,!0)},this.handlePointerUp=(d,f)=>{this.end();const{onEnd:p,onSessionEnd:g,resumeAnimation:_}=this.handlers;if(this.dragSnapToOrigin&&_&&_(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const E=Nh(d.type==="pointercancel"?this.lastMoveEventInfo:Rh(f,this.transformPagePoint),this.history);this.startEvent&&p&&p(d,E),g&&g(d,E)},!Tv(e))return;this.dragSnapToOrigin=s,this.handlers=n,this.transformPagePoint=r,this.contextWindow=i||window;const o=Gl(e),a=Rh(o,this.transformPagePoint),{point:l}=a,{timestamp:c}=Xe;this.history=[{...l,timestamp:c}];const{onSessionStart:u}=n;u&&u(e,Nh(a,this.history)),this.removeListeners=zl(Ra(this.contextWindow,"pointermove",this.handlePointerMove),Ra(this.contextWindow,"pointerup",this.handlePointerUp),Ra(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),li(this.updatePoint)}}function Rh(t,e){return e?{point:e(t.point)}:t}function Nx(t,e){return{x:t.x-e.x,y:t.y-e.y}}function Nh({point:t},e){return{point:t,delta:Nx(t,SI(e)),offset:Nx(t,BU(e)),velocity:zU(e,.1)}}function BU(t){return t[0]}function SI(t){return t[t.length-1]}function zU(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,r=null;const i=SI(t);for(;n>=0&&(r=t[n],!(i.timestamp-r.timestamp>Un(e)));)n--;if(!r)return{x:0,y:0};const s=Bn(i.timestamp-r.timestamp);if(s===0)return{x:0,y:0};const o={x:(i.x-r.x)/s,y:(i.y-r.y)/s};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function WU(t,{min:e,max:n},r){return e!==void 0&&t<e?t=r?Ce(e,t,r.min):Math.max(t,e):n!==void 0&&t>n&&(t=r?Ce(n,t,r.max):Math.min(t,n)),t}function Ax(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function HU(t,{top:e,left:n,bottom:r,right:i}){return{x:Ax(t.x,n,i),y:Ax(t.y,e,r)}}function Dx(t,e){let n=e.min-t.min,r=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,r]=[r,n]),{min:n,max:r}}function GU(t,e){return{x:Dx(t.x,e.x),y:Dx(t.y,e.y)}}function KU(t,e){let n=.5;const r=vt(t),i=vt(e);return i>r?n=fl(e.min,e.max-r,t.min):r>i&&(n=fl(t.min,t.max-i,e.min)),Sr(0,1,n)}function qU(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const Tm=.35;function YU(t=Tm){return t===!1?t=0:t===!0&&(t=Tm),{x:Ox(t,"left","right"),y:Ox(t,"top","bottom")}}function Ox(t,e,n){return{min:Mx(t,e),max:Mx(t,n)}}function Mx(t,e){return typeof t=="number"?t:t[e]||0}const QU=new WeakMap;class XU{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Oe(),this.visualElement=e}start(e,{snapToCursor:n=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const i=u=>{const{dragSnapToOrigin:d}=this.getProps();d?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(Gl(u).point)},s=(u,d)=>{const{drag:f,dragPropagation:p,onDragStart:g}=this.getProps();if(f&&!p&&(this.openDragLock&&this.openDragLock(),this.openDragLock=uV(f),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Qt(E=>{let m=this.getAxisMotionValue(E).get()||0;if(zn.test(m)){const{projection:v}=this.visualElement;if(v&&v.layout){const y=v.layout.layoutBox[E];y&&(m=vt(y)*(parseFloat(m)/100))}}this.originPoint[E]=m}),g&&Se.postRender(()=>g(u,d)),Cm(this.visualElement,"transform");const{animationState:_}=this.visualElement;_&&_.setActive("whileDrag",!0)},o=(u,d)=>{const{dragPropagation:f,dragDirectionLock:p,onDirectionLock:g,onDrag:_}=this.getProps();if(!f&&!this.openDragLock)return;const{offset:E}=d;if(p&&this.currentDirection===null){this.currentDirection=JU(E),this.currentDirection!==null&&g&&g(this.currentDirection);return}this.updateAxis("x",d.point,E),this.updateAxis("y",d.point,E),this.visualElement.render(),_&&_(u,d)},a=(u,d)=>this.stop(u,d),l=()=>Qt(u=>{var d;return this.getAnimationState(u)==="paused"&&((d=this.getAxisMotionValue(u).animation)==null?void 0:d.play())}),{dragSnapToOrigin:c}=this.getProps();this.panSession=new EI(e,{onSessionStart:i,onStart:s,onMove:o,onSessionEnd:a,resumeAnimation:l},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:c,contextWindow:CI(this.visualElement)})}stop(e,n){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:i}=n;this.startAnimation(i);const{onDragEnd:s}=this.getProps();s&&Se.postRender(()=>s(e,n))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,r){const{drag:i}=this.getProps();if(!r||!Pc(e,i,this.currentDirection))return;const s=this.getAxisMotionValue(e);let o=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(o=WU(o,this.constraints[e],this.elastic[e])),s.set(o)}resolveConstraints(){var s;const{dragConstraints:e,dragElastic:n}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(s=this.visualElement.projection)==null?void 0:s.layout,i=this.constraints;e&&Ds(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&r?this.constraints=HU(r.layoutBox,e):this.constraints=!1,this.elastic=YU(n),i!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&Qt(o=>{this.constraints!==!1&&this.getAxisMotionValue(o)&&(this.constraints[o]=qU(r.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!Ds(e))return!1;const r=e.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const s=VU(r,i.root,this.visualElement.getTransformPagePoint());let o=GU(i.layout.layoutBox,s);if(n){const a=n(NU(o));this.hasMutatedConstraints=!!a,a&&(o=gI(a))}return o}startAnimation(e){const{drag:n,dragMomentum:r,dragElastic:i,dragTransition:s,dragSnapToOrigin:o,onDragTransitionEnd:a}=this.getProps(),l=this.constraints||{},c=Qt(u=>{if(!Pc(u,n,this.currentDirection))return;let d=l&&l[u]||{};o&&(d={min:0,max:0});const f=i?200:1e6,p=i?40:1e7,g={type:"inertia",velocity:r?e[u]:0,bounceStiffness:f,bounceDamping:p,timeConstant:750,restDelta:1,restSpeed:10,...s,...d};return this.startAxisValueAnimation(u,g)});return Promise.all(c).then(a)}startAxisValueAnimation(e,n){const r=this.getAxisMotionValue(e);return Cm(this.visualElement,e),r.start(Lv(e,r,0,n,this.visualElement,!1))}stopAnimation(){Qt(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){Qt(e=>{var n;return(n=this.getAxisMotionValue(e).animation)==null?void 0:n.pause()})}getAnimationState(e){var n;return(n=this.getAxisMotionValue(e).animation)==null?void 0:n.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,r=this.visualElement.getProps(),i=r[n];return i||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){Qt(n=>{const{drag:r}=this.getProps();if(!Pc(n,r,this.currentDirection))return;const{projection:i}=this.visualElement,s=this.getAxisMotionValue(n);if(i&&i.layout){const{min:o,max:a}=i.layout.layoutBox[n];s.set(e[n]-Ce(o,a,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!Ds(n)||!r||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};Qt(o=>{const a=this.getAxisMotionValue(o);if(a&&this.constraints!==!1){const l=a.get();i[o]=KU({min:l,max:l},this.constraints[o])}});const{transformTemplate:s}=this.visualElement.getProps();this.visualElement.current.style.transform=s?s({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),Qt(o=>{if(!Pc(o,e,null))return;const a=this.getAxisMotionValue(o),{min:l,max:c}=this.constraints[o];a.set(Ce(l,c,i[o]))})}addListeners(){if(!this.visualElement.current)return;QU.set(this.visualElement,this);const e=this.visualElement.current,n=Ra(e,"pointerdown",l=>{const{drag:c,dragListener:u=!0}=this.getProps();c&&u&&this.start(l)}),r=()=>{const{dragConstraints:l}=this.getProps();Ds(l)&&l.current&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,s=i.addEventListener("measure",r);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),Se.read(r);const o=vl(window,"resize",()=>this.scalePositionWithinConstraints()),a=i.addEventListener("didUpdate",({delta:l,hasLayoutChanged:c})=>{this.isDragging&&c&&(Qt(u=>{const d=this.getAxisMotionValue(u);d&&(this.originPoint[u]+=l[u].translate,d.set(d.get()+l[u].translate))}),this.visualElement.render())});return()=>{o(),n(),s(),a&&a()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:i=!1,dragConstraints:s=!1,dragElastic:o=Tm,dragMomentum:a=!0}=e;return{...e,drag:n,dragDirectionLock:r,dragPropagation:i,dragConstraints:s,dragElastic:o,dragMomentum:a}}}function Pc(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function JU(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class ZU extends yi{constructor(e){super(e),this.removeGroupControls=rn,this.removeListeners=rn,this.controls=new XU(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||rn}unmount(){this.removeGroupControls(),this.removeListeners()}}const Lx=t=>(e,n)=>{t&&Se.postRender(()=>t(e,n))};class eB extends yi{constructor(){super(...arguments),this.removePointerDownListener=rn}onPointerDown(e){this.session=new EI(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:CI(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:r,onPanEnd:i}=this.node.getProps();return{onSessionStart:Lx(e),onStart:Lx(n),onMove:r,onEnd:(s,o)=>{delete this.session,i&&Se.postRender(()=>i(s,o))}}}mount(){this.removePointerDownListener=Ra(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const ru={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function jx(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const Xo={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(W.test(t))t=parseFloat(t);else return t;const n=jx(t,e.target.x),r=jx(t,e.target.y);return`${n}% ${r}%`}},tB={correct:(t,{treeScale:e,projectionDelta:n})=>{const r=t,i=ci.parse(t);if(i.length>5)return r;const s=ci.createTransformer(t),o=typeof i[0]!="number"?1:0,a=n.x.scale*e.x,l=n.y.scale*e.y;i[0+o]/=a,i[1+o]/=l;const c=Ce(a,l,.5);return typeof i[2+o]=="number"&&(i[2+o]/=c),typeof i[3+o]=="number"&&(i[3+o]/=c),s(i)}};class nB extends x.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r,layoutId:i}=this.props,{projection:s}=e;VV(rB),s&&(n.group&&n.group.add(s),r&&r.register&&i&&r.register(s),s.root.didUpdate(),s.addEventListener("animationComplete",()=>{this.safeToRemove()}),s.setOptions({...s.options,onExitComplete:()=>this.safeToRemove()})),ru.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:r,drag:i,isPresent:s}=this.props,{projection:o}=r;return o&&(o.isPresent=s,i||e.layoutDependency!==n||n===void 0||e.isPresent!==s?o.willUpdate():this.safeToRemove(),e.isPresent!==s&&(s?o.promote():o.relegate()||Se.postRender(()=>{const a=o.getStack();(!a||!a.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),bv.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:i}=e;i&&(i.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(i),r&&r.deregister&&r.deregister(i))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function bI(t){const[e,n]=Jk(),r=x.useContext(nv);return h.jsx(nB,{...t,layoutGroup:r,switchLayoutGroup:x.useContext(rI),isPresent:e,safeToRemove:n})}const rB={borderRadius:{...Xo,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Xo,borderTopRightRadius:Xo,borderBottomLeftRadius:Xo,borderBottomRightRadius:Xo,boxShadow:tB};function iB(t,e,n){const r=ut(t)?t:po(t);return r.start(Lv("",r,e,n)),r.animation}const sB=(t,e)=>t.depth-e.depth;class oB{constructor(){this.children=[],this.isDirty=!1}add(e){sv(this.children,e),this.isDirty=!0}remove(e){ov(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(sB),this.isDirty=!1,this.children.forEach(e)}}function aB(t,e){const n=Pt.now(),r=({timestamp:i})=>{const s=i-n;s>=e&&(li(r),t(s-e))};return Se.setup(r,!0),()=>li(r)}const TI=["TopLeft","TopRight","BottomLeft","BottomRight"],lB=TI.length,Fx=t=>typeof t=="string"?parseFloat(t):t,$x=t=>typeof t=="number"||W.test(t);function cB(t,e,n,r,i,s){i?(t.opacity=Ce(0,n.opacity??1,uB(r)),t.opacityExit=Ce(e.opacity??1,0,dB(r))):s&&(t.opacity=Ce(e.opacity??1,n.opacity??1,r));for(let o=0;o<lB;o++){const a=`border${TI[o]}Radius`;let l=Vx(e,a),c=Vx(n,a);if(l===void 0&&c===void 0)continue;l||(l=0),c||(c=0),l===0||c===0||$x(l)===$x(c)?(t[a]=Math.max(Ce(Fx(l),Fx(c),r),0),(zn.test(c)||zn.test(l))&&(t[a]+="%")):t[a]=c}(e.rotate||n.rotate)&&(t.rotate=Ce(e.rotate||0,n.rotate||0,r))}function Vx(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const uB=kI(0,.5,_k),dB=kI(.5,.95,rn);function kI(t,e,n){return r=>r<t?0:r>e?1:n(fl(t,e,r))}function Ux(t,e){t.min=e.min,t.max=e.max}function qt(t,e){Ux(t.x,e.x),Ux(t.y,e.y)}function Bx(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function zx(t,e,n,r,i){return t-=e,t=fd(t,1/n,r),i!==void 0&&(t=fd(t,1/i,r)),t}function fB(t,e=0,n=1,r=.5,i,s=t,o=t){if(zn.test(e)&&(e=parseFloat(e),e=Ce(o.min,o.max,e/100)-o.min),typeof e!="number")return;let a=Ce(s.min,s.max,r);t===s&&(a-=e),t.min=zx(t.min,e,n,a,i),t.max=zx(t.max,e,n,a,i)}function Wx(t,e,[n,r,i],s,o){fB(t,e[n],e[r],e[i],e.scale,s,o)}const hB=["x","scaleX","originX"],pB=["y","scaleY","originY"];function Hx(t,e,n,r){Wx(t.x,e,hB,n?n.x:void 0,r?r.x:void 0),Wx(t.y,e,pB,n?n.y:void 0,r?r.y:void 0)}function Gx(t){return t.translate===0&&t.scale===1}function II(t){return Gx(t.x)&&Gx(t.y)}function Kx(t,e){return t.min===e.min&&t.max===e.max}function mB(t,e){return Kx(t.x,e.x)&&Kx(t.y,e.y)}function qx(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function PI(t,e){return qx(t.x,e.x)&&qx(t.y,e.y)}function Yx(t){return vt(t.x)/vt(t.y)}function Qx(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class gB{constructor(){this.members=[]}add(e){sv(this.members,e),e.scheduleRender()}remove(e){if(ov(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(i=>e===i);if(n===0)return!1;let r;for(let i=n;i>=0;i--){const s=this.members[i];if(s.isPresent!==!1){r=s;break}}return r?(this.promote(r),!0):!1}promote(e,n){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,n&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:i}=e.options;i===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:r}=e;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function yB(t,e,n){let r="";const i=t.x.translate/e.x,s=t.y.translate/e.y,o=(n==null?void 0:n.z)||0;if((i||s||o)&&(r=`translate3d(${i}px, ${s}px, ${o}px) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:c,rotate:u,rotateX:d,rotateY:f,skewX:p,skewY:g}=n;c&&(r=`perspective(${c}px) ${r}`),u&&(r+=`rotate(${u}deg) `),d&&(r+=`rotateX(${d}deg) `),f&&(r+=`rotateY(${f}deg) `),p&&(r+=`skewX(${p}deg) `),g&&(r+=`skewY(${g}deg) `)}const a=t.x.scale*e.x,l=t.y.scale*e.y;return(a!==1||l!==1)&&(r+=`scale(${a}, ${l})`),r||"none"}const Ah=["","X","Y","Z"],vB={visibility:"hidden"},_B=1e3;let wB=0;function Dh(t,e,n,r){const{latestValues:i}=e;i[t]&&(n[t]=i[t],e.setStaticValue(t,0),r&&(r[t]=0))}function RI(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=fI(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:i,layoutId:s}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",Se,!(i||s))}const{parent:r}=t;r&&!r.hasCheckedOptimisedAppear&&RI(r)}function NI({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:r,resetTransform:i}){return class{constructor(o={},a=e==null?void 0:e()){this.id=wB++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(EB),this.nodes.forEach(IB),this.nodes.forEach(PB),this.nodes.forEach(SB)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=a?a.root||a:this,this.path=a?[...a.path,a]:[],this.parent=a,this.depth=a?a.depth+1:0;for(let l=0;l<this.path.length;l++)this.path[l].shouldResetTransform=!0;this.root===this&&(this.nodes=new oB)}addEventListener(o,a){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new cv),this.eventHandlers.get(o).add(a)}notifyListeners(o,...a){const l=this.eventHandlers.get(o);l&&l.notify(...a)}hasListeners(o){return this.eventHandlers.has(o)}mount(o){if(this.instance)return;this.isSVG=Xk(o)&&!gV(o),this.instance=o;const{layoutId:a,layout:l,visualElement:c}=this.options;if(c&&!c.current&&c.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(l||a)&&(this.isLayoutDirty=!0),t){let u;const d=()=>this.root.updateBlockedByResize=!1;t(o,()=>{this.root.updateBlockedByResize=!0,u&&u(),u=aB(d,250),ru.hasAnimatedSinceResize&&(ru.hasAnimatedSinceResize=!1,this.nodes.forEach(Jx))})}a&&this.root.registerSharedNode(a,this),this.options.animate!==!1&&c&&(a||l)&&this.addEventListener("didUpdate",({delta:u,hasLayoutChanged:d,hasRelativeLayoutChanged:f,layout:p})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const g=this.options.transition||c.getDefaultTransition()||OB,{onLayoutAnimationStart:_,onLayoutAnimationComplete:E}=c.getProps(),m=!this.targetLayout||!PI(this.targetLayout,p),v=!d&&f;if(this.options.layoutRoot||this.resumeFrom||v||d&&(m||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(u,v);const y={...Ev(g,"layout"),onPlay:_,onComplete:E};(c.shouldReduceMotion||this.options.layoutRoot)&&(y.delay=0,y.type=!1),this.startAnimation(y)}else d||Jx(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=p})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),li(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(RB),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&RI(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let u=0;u<this.path.length;u++){const d=this.path[u];d.shouldResetTransform=!0,d.updateScroll("snapshot"),d.options.layoutRoot&&d.willUpdate(!1)}const{layoutId:a,layout:l}=this.options;if(a===void 0&&!l)return;const c=this.getTransformTemplate();this.prevTransformTemplateValue=c?c(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(Xx);return}this.isUpdating||this.nodes.forEach(TB),this.isUpdating=!1,this.nodes.forEach(kB),this.nodes.forEach(xB),this.nodes.forEach(CB),this.clearAllSnapshots();const a=Pt.now();Xe.delta=Sr(0,1e3/60,a-Xe.timestamp),Xe.timestamp=a,Xe.isProcessing=!0,Eh.update.process(Xe),Eh.preRender.process(Xe),Eh.render.process(Xe),Xe.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,bv.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(bB),this.sharedNodes.forEach(NB)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Se.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Se.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!vt(this.snapshot.measuredBox.x)&&!vt(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let l=0;l<this.path.length;l++)this.path[l].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Oe(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:a}=this.options;a&&a.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let a=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(a=!1),a&&this.instance){const l=r(this.instance);this.scroll={animationId:this.root.animationId,phase:o,isRoot:l,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:l}}}resetTransform(){if(!i)return;const o=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,a=this.projectionDelta&&!II(this.projectionDelta),l=this.getTransformTemplate(),c=l?l(this.latestValues,""):void 0,u=c!==this.prevTransformTemplateValue;o&&this.instance&&(a||Ei(this.latestValues)||u)&&(i(this.instance,c),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const a=this.measurePageBox();let l=this.removeElementScroll(a);return o&&(l=this.removeTransform(l)),MB(l),{animationId:this.root.animationId,measuredBox:a,layoutBox:l,latestValues:{},source:this.id}}measurePageBox(){var c;const{visualElement:o}=this.options;if(!o)return Oe();const a=o.measureViewportBox();if(!(((c=this.scroll)==null?void 0:c.wasRoot)||this.path.some(LB))){const{scroll:u}=this.root;u&&(Ms(a.x,u.offset.x),Ms(a.y,u.offset.y))}return a}removeElementScroll(o){var l;const a=Oe();if(qt(a,o),(l=this.scroll)!=null&&l.wasRoot)return a;for(let c=0;c<this.path.length;c++){const u=this.path[c],{scroll:d,options:f}=u;u!==this.root&&d&&f.layoutScroll&&(d.wasRoot&&qt(a,o),Ms(a.x,d.offset.x),Ms(a.y,d.offset.y))}return a}applyTransform(o,a=!1){const l=Oe();qt(l,o);for(let c=0;c<this.path.length;c++){const u=this.path[c];!a&&u.options.layoutScroll&&u.scroll&&u!==u.root&&Ls(l,{x:-u.scroll.offset.x,y:-u.scroll.offset.y}),Ei(u.latestValues)&&Ls(l,u.latestValues)}return Ei(this.latestValues)&&Ls(l,this.latestValues),l}removeTransform(o){const a=Oe();qt(a,o);for(let l=0;l<this.path.length;l++){const c=this.path[l];if(!c.instance||!Ei(c.latestValues))continue;Sm(c.latestValues)&&c.updateSnapshot();const u=Oe(),d=c.measurePageBox();qt(u,d),Hx(a,c.latestValues,c.snapshot?c.snapshot.layoutBox:void 0,u)}return Ei(this.latestValues)&&Hx(a,this.latestValues),a}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Xe.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var f;const a=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=a.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=a.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=a.isSharedProjectionDirty);const l=!!this.resumingFrom||this!==a;if(!(o||l&&this.isSharedProjectionDirty||this.isProjectionDirty||(f=this.parent)!=null&&f.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:u,layoutId:d}=this.options;if(!(!this.layout||!(u||d))){if(this.resolvedRelativeTargetAt=Xe.timestamp,!this.targetDelta&&!this.relativeTarget){const p=this.getClosestProjectingParent();p&&p.layout&&this.animationProgress!==1?(this.relativeParent=p,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Oe(),this.relativeTargetOrigin=Oe(),Aa(this.relativeTargetOrigin,this.layout.layoutBox,p.layout.layoutBox),qt(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=Oe(),this.targetWithTransforms=Oe()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),FU(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):qt(this.target,this.layout.layoutBox),wI(this.target,this.targetDelta)):qt(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const p=this.getClosestProjectingParent();p&&!!p.resumingFrom==!!this.resumingFrom&&!p.options.layoutScroll&&p.target&&this.animationProgress!==1?(this.relativeParent=p,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Oe(),this.relativeTargetOrigin=Oe(),Aa(this.relativeTargetOrigin,this.target,p.target),qt(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||Sm(this.parent.latestValues)||_I(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var g;const o=this.getLead(),a=!!this.resumingFrom||this!==o;let l=!0;if((this.isProjectionDirty||(g=this.parent)!=null&&g.isProjectionDirty)&&(l=!1),a&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(l=!1),this.resolvedRelativeTargetAt===Xe.timestamp&&(l=!1),l)return;const{layout:c,layoutId:u}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(c||u))return;qt(this.layoutCorrected,this.layout.layoutBox);const d=this.treeScale.x,f=this.treeScale.y;$U(this.layoutCorrected,this.treeScale,this.path,a),o.layout&&!o.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(o.target=o.layout.layoutBox,o.targetWithTransforms=Oe());const{target:p}=o;if(!p){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(Bx(this.prevProjectionDelta.x,this.projectionDelta.x),Bx(this.prevProjectionDelta.y,this.projectionDelta.y)),Na(this.projectionDelta,this.layoutCorrected,p,this.latestValues),(this.treeScale.x!==d||this.treeScale.y!==f||!Qx(this.projectionDelta.x,this.prevProjectionDelta.x)||!Qx(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",p))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){var a;if((a=this.options.visualElement)==null||a.scheduleRender(),o){const l=this.getStack();l&&l.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Os(),this.projectionDelta=Os(),this.projectionDeltaWithTransform=Os()}setAnimationOrigin(o,a=!1){const l=this.snapshot,c=l?l.latestValues:{},u={...this.latestValues},d=Os();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!a;const f=Oe(),p=l?l.source:void 0,g=this.layout?this.layout.source:void 0,_=p!==g,E=this.getStack(),m=!E||E.members.length<=1,v=!!(_&&!m&&this.options.crossfade===!0&&!this.path.some(DB));this.animationProgress=0;let y;this.mixTargetDelta=C=>{const S=C/1e3;Zx(d.x,o.x,S),Zx(d.y,o.y,S),this.setTargetDelta(d),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Aa(f,this.layout.layoutBox,this.relativeParent.layout.layoutBox),AB(this.relativeTarget,this.relativeTargetOrigin,f,S),y&&mB(this.relativeTarget,y)&&(this.isProjectionDirty=!1),y||(y=Oe()),qt(y,this.relativeTarget)),_&&(this.animationValues=u,cB(u,c,this.latestValues,S,v,m)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=S},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){var a,l,c;this.notifyListeners("animationStart"),(a=this.currentAnimation)==null||a.stop(!1),(c=(l=this.resumingFrom)==null?void 0:l.currentAnimation)==null||c.stop(!1),this.pendingAnimation&&(li(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Se.update(()=>{ru.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=po(0)),this.currentAnimation=iB(this.motionValue,[0,1e3],{...o,isSync:!0,onUpdate:u=>{this.mixTargetDelta(u),o.onUpdate&&o.onUpdate(u)},onStop:()=>{},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(_B),this.currentAnimation.stop(!1)),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:a,target:l,layout:c,latestValues:u}=o;if(!(!a||!l||!c)){if(this!==o&&this.layout&&c&&AI(this.options.animationType,this.layout.layoutBox,c.layoutBox)){l=this.target||Oe();const d=vt(this.layout.layoutBox.x);l.x.min=o.target.x.min,l.x.max=l.x.min+d;const f=vt(this.layout.layoutBox.y);l.y.min=o.target.y.min,l.y.max=l.y.min+f}qt(a,l),Ls(a,u),Na(this.projectionDeltaWithTransform,this.layoutCorrected,a,u)}}registerSharedNode(o,a){this.sharedNodes.has(o)||this.sharedNodes.set(o,new gB),this.sharedNodes.get(o).add(a);const c=a.options.initialPromotionConfig;a.promote({transition:c?c.transition:void 0,preserveFollowOpacity:c&&c.shouldPreserveFollowOpacity?c.shouldPreserveFollowOpacity(a):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var a;const{layoutId:o}=this.options;return o?((a=this.getStack())==null?void 0:a.lead)||this:this}getPrevLead(){var a;const{layoutId:o}=this.options;return o?(a=this.getStack())==null?void 0:a.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:a,preserveFollowOpacity:l}={}){const c=this.getStack();c&&c.promote(this,l),o&&(this.projectionDelta=void 0,this.needsReset=!0),a&&this.setOptions({transition:a})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetSkewAndRotation(){const{visualElement:o}=this.options;if(!o)return;let a=!1;const{latestValues:l}=o;if((l.z||l.rotate||l.rotateX||l.rotateY||l.rotateZ||l.skewX||l.skewY)&&(a=!0),!a)return;const c={};l.z&&Dh("z",o,c,this.animationValues);for(let u=0;u<Ah.length;u++)Dh(`rotate${Ah[u]}`,o,c,this.animationValues),Dh(`skew${Ah[u]}`,o,c,this.animationValues);o.render();for(const u in c)o.setStaticValue(u,c[u]),this.animationValues&&(this.animationValues[u]=c[u]);o.scheduleRender()}getProjectionStyles(o){if(!this.instance||this.isSVG)return;if(!this.isVisible)return vB;const a={visibility:""},l=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,a.opacity="",a.pointerEvents=nu(o==null?void 0:o.pointerEvents)||"",a.transform=l?l(this.latestValues,""):"none",a;const c=this.getLead();if(!this.projectionDelta||!this.layout||!c.target){const p={};return this.options.layoutId&&(p.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,p.pointerEvents=nu(o==null?void 0:o.pointerEvents)||""),this.hasProjected&&!Ei(this.latestValues)&&(p.transform=l?l({},""):"none",this.hasProjected=!1),p}const u=c.animationValues||c.latestValues;this.applyTransformsToTarget(),a.transform=yB(this.projectionDeltaWithTransform,this.treeScale,u),l&&(a.transform=l(u,a.transform));const{x:d,y:f}=this.projectionDelta;a.transformOrigin=`${d.origin*100}% ${f.origin*100}% 0`,c.animationValues?a.opacity=c===this?u.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:u.opacityExit:a.opacity=c===this?u.opacity!==void 0?u.opacity:"":u.opacityExit!==void 0?u.opacityExit:0;for(const p in gl){if(u[p]===void 0)continue;const{correct:g,applyTo:_,isCSSVariable:E}=gl[p],m=a.transform==="none"?u[p]:g(u[p],c);if(_){const v=_.length;for(let y=0;y<v;y++)a[_[y]]=m}else E?this.options.visualElement.renderState.vars[p]=m:a[p]=m}return this.options.layoutId&&(a.pointerEvents=c===this?nu(o==null?void 0:o.pointerEvents)||"":"none"),a}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var a;return(a=o.currentAnimation)==null?void 0:a.stop(!1)}),this.root.nodes.forEach(Xx),this.root.sharedNodes.clear()}}}function xB(t){t.updateLayout()}function CB(t){var n;const e=((n=t.resumeFrom)==null?void 0:n.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&e&&t.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:i}=t.layout,{animationType:s}=t.options,o=e.source!==t.layout.source;s==="size"?Qt(d=>{const f=o?e.measuredBox[d]:e.layoutBox[d],p=vt(f);f.min=r[d].min,f.max=f.min+p}):AI(s,e.layoutBox,r)&&Qt(d=>{const f=o?e.measuredBox[d]:e.layoutBox[d],p=vt(r[d]);f.max=f.min+p,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[d].max=t.relativeTarget[d].min+p)});const a=Os();Na(a,r,e.layoutBox);const l=Os();o?Na(l,t.applyTransform(i,!0),e.measuredBox):Na(l,r,e.layoutBox);const c=!II(a);let u=!1;if(!t.resumeFrom){const d=t.getClosestProjectingParent();if(d&&!d.resumeFrom){const{snapshot:f,layout:p}=d;if(f&&p){const g=Oe();Aa(g,e.layoutBox,f.layoutBox);const _=Oe();Aa(_,r,p.layoutBox),PI(g,_)||(u=!0),d.options.layoutRoot&&(t.relativeTarget=_,t.relativeTargetOrigin=g,t.relativeParent=d)}}}t.notifyListeners("didUpdate",{layout:r,snapshot:e,delta:l,layoutDelta:a,hasLayoutChanged:c,hasRelativeLayoutChanged:u})}else if(t.isLead()){const{onExitComplete:r}=t.options;r&&r()}t.options.transition=void 0}function EB(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function SB(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function bB(t){t.clearSnapshot()}function Xx(t){t.clearMeasurements()}function TB(t){t.isLayoutDirty=!1}function kB(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function Jx(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function IB(t){t.resolveTargetDelta()}function PB(t){t.calcProjection()}function RB(t){t.resetSkewAndRotation()}function NB(t){t.removeLeadSnapshot()}function Zx(t,e,n){t.translate=Ce(e.translate,0,n),t.scale=Ce(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function eC(t,e,n,r){t.min=Ce(e.min,n.min,r),t.max=Ce(e.max,n.max,r)}function AB(t,e,n,r){eC(t.x,e.x,n.x,r),eC(t.y,e.y,n.y,r)}function DB(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const OB={duration:.45,ease:[.4,0,.1,1]},tC=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),nC=tC("applewebkit/")&&!tC("chrome/")?Math.round:rn;function rC(t){t.min=nC(t.min),t.max=nC(t.max)}function MB(t){rC(t.x),rC(t.y)}function AI(t,e,n){return t==="position"||t==="preserve-aspect"&&!jU(Yx(e),Yx(n),.2)}function LB(t){var e;return t!==t.root&&((e=t.scroll)==null?void 0:e.wasRoot)}const jB=NI({attachResizeListener:(t,e)=>vl(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Oh={current:void 0},DI=NI({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!Oh.current){const t=new jB({});t.mount(window),t.setOptions({layoutScroll:!0}),Oh.current=t}return Oh.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),FB={pan:{Feature:eB},drag:{Feature:ZU,ProjectionNode:DI,MeasureLayout:bI}};function iC(t,e,n){const{props:r}=t;t.animationState&&r.whileHover&&t.animationState.setActive("whileHover",n==="Start");const i="onHover"+n,s=r[i];s&&Se.postRender(()=>s(e,Gl(e)))}class $B extends yi{mount(){const{current:e}=this.node;e&&(this.unmount=dV(e,(n,r)=>(iC(this.node,r,"Start"),i=>iC(this.node,i,"End"))))}unmount(){}}class VB extends yi{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=zl(vl(this.node.current,"focus",()=>this.onFocus()),vl(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function sC(t,e,n){const{props:r}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&r.whileTap&&t.animationState.setActive("whileTap",n==="Start");const i="onTap"+(n==="End"?"":n),s=r[i];s&&Se.postRender(()=>s(e,Gl(e)))}class UB extends yi{mount(){const{current:e}=this.node;e&&(this.unmount=mV(e,(n,r)=>(sC(this.node,r,"Start"),(i,{success:s})=>sC(this.node,i,s?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const km=new WeakMap,Mh=new WeakMap,BB=t=>{const e=km.get(t.target);e&&e(t)},zB=t=>{t.forEach(BB)};function WB({root:t,...e}){const n=t||document;Mh.has(n)||Mh.set(n,{});const r=Mh.get(n),i=JSON.stringify(e);return r[i]||(r[i]=new IntersectionObserver(zB,{root:t,...e})),r[i]}function HB(t,e,n){const r=WB(e);return km.set(t,n),r.observe(t),()=>{km.delete(t),r.unobserve(t)}}const GB={some:0,all:1};class KB extends yi{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:r,amount:i="some",once:s}=e,o={root:n?n.current:void 0,rootMargin:r,threshold:typeof i=="number"?i:GB[i]},a=l=>{const{isIntersecting:c}=l;if(this.isInView===c||(this.isInView=c,s&&!c&&this.hasEnteredView))return;c&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",c);const{onViewportEnter:u,onViewportLeave:d}=this.node.getProps(),f=c?u:d;f&&f(l)};return HB(this.node.current,o,a)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(qB(e,n))&&this.startObserver()}unmount(){}}function qB({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const YB={inView:{Feature:KB},tap:{Feature:UB},focus:{Feature:VB},hover:{Feature:$B}},QB={layout:{ProjectionNode:DI,MeasureLayout:bI}},Im={current:null},OI={current:!1};function XB(){if(OI.current=!0,!!iv)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>Im.current=t.matches;t.addListener(e),e()}else Im.current=!1}const JB=new WeakMap;function ZB(t,e,n){for(const r in e){const i=e[r],s=n[r];if(ut(i))t.addValue(r,i);else if(ut(s))t.addValue(r,po(i,{owner:t}));else if(s!==i)if(t.hasValue(r)){const o=t.getValue(r);o.liveStyle===!0?o.jump(i):o.hasAnimated||o.set(i)}else{const o=t.getStaticValue(r);t.addValue(r,po(o!==void 0?o:i,{owner:t}))}}for(const r in n)e[r]===void 0&&t.removeValue(r);return e}const oC=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class ez{scrapeMotionValuesFromProps(e,n,r){return{}}constructor({parent:e,props:n,presenceContext:r,reducedMotionConfig:i,blockInitialAnimation:s,visualState:o},a={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=xv,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const f=Pt.now();this.renderScheduledAt<f&&(this.renderScheduledAt=f,Se.render(this.render,!1,!0))};const{latestValues:l,renderState:c}=o;this.latestValues=l,this.baseTarget={...l},this.initialValues=n.initial?{...l}:{},this.renderState=c,this.parent=e,this.props=n,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=i,this.options=a,this.blockInitialAnimation=!!s,this.isControllingVariants=sf(n),this.isVariantNode=tI(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:u,...d}=this.scrapeMotionValuesFromProps(n,{},this);for(const f in d){const p=d[f];l[f]!==void 0&&ut(p)&&p.set(l[f],!1)}}mount(e){this.current=e,JB.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),OI.current||XB(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Im.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),li(this.notifyUpdate),li(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const n=this.features[e];n&&(n.unmount(),n.isMounted=!1)}this.current=null}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const r=Oo.has(e);r&&this.onBindTransform&&this.onBindTransform();const i=n.on("change",a=>{this.latestValues[e]=a,this.props.onUpdate&&Se.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0)}),s=n.on("renderRequest",this.scheduleRender);let o;window.MotionCheckAppearSync&&(o=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{i(),s(),o&&o(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in mo){const n=mo[e];if(!n)continue;const{isEnabled:r,Feature:i}=n;if(!this.features[e]&&i&&r(this.props)&&(this.features[e]=new i(this)),this.features[e]){const s=this.features[e];s.isMounted?s.update():(s.mount(),s.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Oe()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<oC.length;r++){const i=oC[r];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const s="on"+i,o=e[s];o&&(this.propEventSubscriptions[i]=this.on(i,o))}this.prevMotionValues=ZB(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const r=this.values.get(e);n!==r&&(r&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&n!==void 0&&(r=po(n===null?void 0:n,{owner:this}),this.addValue(e,r)),r}readValue(e,n){let r=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return r!=null&&(typeof r=="string"&&(ck(r)||dk(r))?r=parseFloat(r):!vV(r)&&ci.test(n)&&(r=Gk(e,n)),this.setBaseTarget(e,ut(r)?r.get():r)),ut(r)?r.get():r}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var s;const{initial:n}=this.props;let r;if(typeof n=="string"||typeof n=="object"){const o=Ov(this.props,n,(s=this.presenceContext)==null?void 0:s.custom);o&&(r=o[e])}if(n&&r!==void 0)return r;const i=this.getBaseTargetFromProps(this.props,e);return i!==void 0&&!ut(i)?i:this.initialValues[e]!==void 0&&r===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new cv),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}}class MI extends ez{constructor(){super(...arguments),this.KeyframeResolver=oV}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:r}){delete n[e],delete r[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;ut(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function LI(t,{style:e,vars:n},r,i){Object.assign(t.style,e,i&&i.getProjectionStyles(r));for(const s in n)t.style.setProperty(s,n[s])}function tz(t){return window.getComputedStyle(t)}class nz extends MI{constructor(){super(...arguments),this.type="html",this.renderInstance=LI}readValueFromInstance(e,n){var r;if(Oo.has(n))return(r=this.projection)!=null&&r.isProjecting?mm(n):b6(e,n);{const i=tz(e),s=(fv(n)?i.getPropertyValue(n):i[n])||0;return typeof s=="string"?s.trim():s}}measureInstanceViewportBox(e,{transformPagePoint:n}){return xI(e,n)}build(e,n,r){Nv(e,n,r.transformTemplate)}scrapeMotionValuesFromProps(e,n,r){return Mv(e,n,r)}}const jI=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function rz(t,e,n,r){LI(t,e,void 0,r);for(const i in e.attrs)t.setAttribute(jI.has(i)?i:Rv(i),e.attrs[i])}class iz extends MI{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Oe}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(Oo.has(n)){const r=Hk(n);return r&&r.default||0}return n=jI.has(n)?n:Rv(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,r){return dI(e,n,r)}build(e,n,r){aI(e,n,this.isSVGTag,r.transformTemplate,r.style)}renderInstance(e,n,r,i){rz(e,n,r,i)}mount(e){this.isSVGTag=cI(e.tagName),super.mount(e)}}const sz=(t,e)=>Dv(t)?new iz(e):new nz(e,{allowProjection:t!==x.Fragment}),oz=rU({...PU,...YB,...FB,...QB},sz),az=IV(oz);function lz(){const t=Pr(),[e,n]=x.useState(null),[r,i]=x.useState(null),[s,o]=x.useState("masculino"),[a,l]=x.useState(Array(6).fill({nombre:"",dorsal:""})),[c,u]=x.useState(Array(6).fill({nombre:"",dorsal:""})),[d,f]=x.useState(null);x.useEffect(()=>{async function C(){const S=await vn(X(q,"selecciones/equipoLocal")),b=await vn(X(q,"selecciones/equipoVisita")),T=await vn(X(q,"selecciones/generoPartido"));S.exists()&&b.exists()&&T.exists()?(n(S.val()),i(b.val()),o(T.val())):t("/match")}C()},[t]);const p=(C,S)=>{const b=S==="local"?a[C]:c[C],T=S==="local"?a:c,k=S==="local"?e==null?void 0:e.nombre:r==null?void 0:r.nombre;f({tipo:S,index:C,jugador:b,jugadoresActuales:T,nombreEquipo:k,generoPartido:s})},g=(C,S,b)=>{if(S==="local"){const T=[...a];T[C]=b,l(T)}else{const T=[...c];T[C]=b,u(T)}f(null)},_=async()=>{let C=null;try{const S=M=>M.every(F=>F.nombre.trim()!==""&&F.dorsal.trim()!=="");if(!S(a)||!S(c)){alert("Todos los jugadores deben tener nombre y dorsal antes de continuar.");return}const b=X(q,"partidos");C=aa(b).key;let k=[],N=[];try{const M=await vn(X(q,`plantillas/${s.toLowerCase()}/${e.nombre.toLowerCase()}`)),F=await vn(X(q,`plantillas/${s.toLowerCase()}/${r.nombre.toLowerCase()}`));M.exists()?k=M.val():k=la[e.nombre.toLowerCase()]||[],F.exists()?N=F.val():N=la[r.nombre.toLowerCase()]||[]}catch(M){console.error("Error cargando plantillas de suplentes (Alineacion.jsx):",M),k=la[e.nombre.toLowerCase()]||[],N=la[r.nombre.toLowerCase()]||[]}const w={nombre:e.nombre,logo:e.escudo.split("/").pop(),camisa:`camisa-${e.nombre.toLowerCase().replace(/\s+/g,"-")}.png`,jugadores:a.map(M=>({...M,enJuego:!0,haJugado:!0})),todosJugadores:k,genero:s},R={nombre:r.nombre,logo:r.escudo.split("/").pop(),camisa:`camisa-${r.nombre.toLowerCase().replace(/\s+/g,"-")}.png`,jugadores:c.map(M=>({...M,enJuego:!0,haJugado:!0})),todosJugadores:N,genero:s};console.log("Guardando alineación",{equipo1:w,equipo2:R,genero:s,partidoId:C}),await ct(X(q,`partidos/${C}/alineacion`),{equipo1:w,equipo2:R,genero:s}),await ct(X(q,`partidos/${C}/marcador`),{equipo1:0,equipo2:0}),console.log("🚀 Navegando a control (OK)",C),t(`/control/${C}`)}catch(S){alert("❌ ERROR al confirmar alineación: "+S.message),console.error("Error al confirmar alineación:",S);const b=C||"debug-fallback";console.log("⚠️ Forzando navegación a control:",b),t(`/control/${b}`)}},E=C=>`/EmproChampions-2025/camisas/camisa-${C.toLowerCase().replace(/\s+/g,"-")}.png`,m=C=>["don bosco","luz","emprosaurios"].includes(C.toLowerCase())?"#000":"#fff",v=[{top:"15%",left:"18%"},{top:"15%",left:"62%"},{top:"38%",left:"40%"},{top:"55%",left:"17%"},{top:"55%",left:"63%"},{top:"74%",left:"40%"}],y=(C,S,b,T)=>{const k=(d==null?void 0:d.index)===S&&(d==null?void 0:d.tipo)===b;return h.jsx(az.div,{className:"absolute cursor-pointer",style:{top:v[S].top,left:v[S].left,transform:"translate(-50%, -50%)"},animate:k?{scale:1.5,rotate:1.5}:{scale:1,rotate:0},transition:{duration:.3},onClick:()=>p(S,b),children:h.jsxs("div",{className:"relative w-fit flex flex-col items-center",children:[h.jsx("div",{className:"absolute top-[12%] font-barcelona text-[24px] md:text-[30px] z-20 pointer-events-none",style:{color:m((b==="local"?e==null?void 0:e.nombre:r==null?void 0:r.nombre)||""),textShadow:"1px 1px 1px rgba(0,0,0,0.6)"},children:C.dorsal}),h.jsx("img",{src:T,className:"w-16 md:w-20 relative z-10",alt:`jugador-${b}`}),C.nombre&&h.jsx("div",{className:"absolute bottom-[-18px] font-barcelona text-[11px] text-white bg-black/80 px-2 py-[2px] rounded text-center z-20",children:C.nombre})]})},S)};return!e||!r?null:h.jsxs("div",{className:"min-h-screen bg-cover bg-center font-qatar text-white",style:{backgroundImage:"url('/EmproChampions-2025/img/fondoempro-horizontal.png')"},children:[h.jsx(cs,{}),h.jsx("h1",{className:"text-3xl sm:text-5xl font-bold text-center mt-6 text-yellow-400 drop-shadow",children:"Alineación Inicial"}),h.jsxs("div",{className:"flex flex-col lg:flex-row items-center justify-center gap-8 p-4 lg:p-6",children:[h.jsxs("div",{className:"relative w-[320px] h-[540px] md:w-[400px] md:h-[640px]",children:[h.jsx("img",{src:"/EmproChampions-2025/img/cancha-vertical.svg",alt:"cancha local",className:"w-full h-full"}),a.map((C,S)=>y(C,S,"local",E(e.nombre)))]}),h.jsxs("div",{className:"flex flex-col items-center gap-6",children:[h.jsx("img",{src:"/img/logo-empro.png",alt:"logo empro",className:"w-24 md:w-32"}),h.jsxs("div",{className:"flex items-center gap-10",children:[h.jsx("img",{src:e.escudo,className:"w-50 h-60 object-contain",alt:"local logo"}),h.jsx("span",{className:"text-white text-4xl font-black",children:"V"}),h.jsx("img",{src:r.escudo,className:"w-50 h-60 object-contain",alt:"visita logo"})]}),h.jsx("button",{onClick:()=>t("/match"),className:"bg-white/80 text-[#7a0026] font-bold px-6 py-2 rounded-full hover:bg-white transition",children:"⬅ Volver a Equipos"})]}),h.jsxs("div",{className:"relative w-[320px] h-[540px] md:w-[400px] md:h-[640px]",children:[h.jsx("img",{src:"/EmproChampions-2025/img/cancha-vertical.svg",alt:"cancha visita",className:"w-full h-full"}),c.map((C,S)=>y(C,S,"visita",E(r.nombre)))]})]}),h.jsx("div",{className:"flex justify-center mt-6 pb-10",children:h.jsx("button",{onClick:_,className:"bg-[#FFD700] text-[#7a0026] font-bold px-10 py-3 rounded-full hover:bg-yellow-300 transition text-xl shadow-lg",children:"Confirmar Alineación"})}),h.jsx(EV,{children:d&&h.jsx(C$,{tipo:d.tipo,index:d.index,jugador:d.jugador,onSave:g,onClose:()=>f(null),camiseta:E(d.tipo==="local"?e.nombre:r.nombre),dorsalColor:m(d.tipo==="local"?e.nombre:r.nombre),jugadoresActuales:d.jugadoresActuales,nombreEquipo:d.nombreEquipo,generoPartido:d.generoPartido})})]})}function cz({equipo:t,jugadores:e,minuto:n,onSeleccion:r,onClose:i}){const[s,o]=x.useState(""),a=()=>{s&&r({nombre:s,minuto:n})};return h.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-70 flex justify-center items-center z-50",children:h.jsxs("div",{className:"bg-white text-black p-6 rounded-lg w-full max-w-md space-y-4",children:[h.jsx("h2",{className:"text-2xl font-bold text-center",children:"Registrar Gol"}),h.jsxs("div",{children:[h.jsx("label",{className:"block font-semibold mb-1",children:"¿Quién anotó?"}),h.jsxs("select",{value:s,onChange:l=>o(l.target.value),className:"w-full border border-gray-300 rounded px-4 py-2",children:[h.jsx("option",{value:"",children:"Seleccionar jugador"}),e.map((l,c)=>h.jsx("option",{value:l.nombre,children:l.nombre},c))]})]}),h.jsxs("div",{className:"flex justify-end gap-4",children:[h.jsx("button",{onClick:i,className:"bg-gray-300 px-4 py-2 rounded font-bold",children:"Cancelar"}),h.jsx("button",{onClick:a,className:"bg-green-500 text-white px-4 py-2 rounded font-bold",children:"Confirmar"})]})]})})}function uz({equipo:t,jugadores:e,minuto:n,onConfirm:r,onClose:i}){const[s,o]=x.useState(""),[a,l]=x.useState(""),c=()=>{!s||!a||r({jugador:s,tipo:a,minuto:n})};return h.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-70 flex justify-center items-center z-50",children:h.jsxs("div",{className:"bg-white text-black p-6 rounded-lg w-full max-w-md space-y-4",children:[h.jsx("h2",{className:"text-2xl font-bold text-center",children:"Registrar Tarjeta"}),h.jsxs("div",{children:[h.jsx("label",{className:"block font-semibold mb-1",children:"Jugador"}),h.jsxs("select",{value:s,onChange:u=>o(u.target.value),className:"w-full border border-gray-300 rounded px-4 py-2",children:[h.jsx("option",{value:"",children:"Seleccionar jugador"}),e.map((u,d)=>h.jsx("option",{value:u.nombre,children:u.nombre},d))]})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block font-semibold mb-1",children:"Tipo de tarjeta"}),h.jsxs("div",{className:"flex gap-4",children:[h.jsxs("label",{className:"flex items-center",children:[h.jsx("input",{type:"radio",value:"amarilla",checked:a==="amarilla",onChange:()=>l("amarilla")}),h.jsx("span",{className:"ml-2",children:"🟨 Amarilla"})]}),h.jsxs("label",{className:"flex items-center",children:[h.jsx("input",{type:"radio",value:"roja",checked:a==="roja",onChange:()=>l("roja")}),h.jsx("span",{className:"ml-2",children:"🟥 Roja"})]})]})]}),h.jsxs("div",{className:"flex justify-end gap-4",children:[h.jsx("button",{onClick:i,className:"bg-gray-300 px-4 py-2 rounded font-bold",children:"Cancelar"}),h.jsx("button",{onClick:c,className:"bg-yellow-500 px-4 py-2 rounded font-bold",children:"Confirmar"})]})]})})}function dz({equipo:t,jugadores:e,minuto:n,onConfirm:r,onClose:i}){const[s,o]=x.useState(""),[a,l]=x.useState(""),c=()=>{!s||!a.trim()||r(s,a.trim(),n)};return h.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-70 flex justify-center items-center z-50",children:h.jsxs("div",{className:"bg-white text-black p-6 rounded-lg w-full max-w-md space-y-4",children:[h.jsx("h2",{className:"text-2xl font-bold text-center",children:"Realizar Cambio"}),h.jsxs("div",{children:[h.jsx("label",{className:"block font-semibold mb-1",children:"Titular que sale"}),h.jsxs("select",{value:s,onChange:u=>o(u.target.value),className:"w-full border border-gray-300 rounded px-4 py-2",children:[h.jsx("option",{value:"",children:"Seleccionar"}),e.map((u,d)=>h.jsx("option",{value:u.nombre,children:u.nombre},d))]})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block font-semibold mb-1",children:"Suplente que entra"}),h.jsx("input",{type:"text",placeholder:"Escribí el nombre",value:a,onChange:u=>l(u.target.value),className:"w-full border border-gray-300 rounded px-4 py-2"})]}),h.jsxs("div",{className:"flex justify-end gap-4",children:[h.jsx("button",{onClick:i,className:"bg-gray-300 px-4 py-2 rounded font-bold",children:"Cancelar"}),h.jsx("button",{onClick:c,className:"bg-blue-500 text-white px-4 py-2 rounded font-bold",children:"Confirmar Cambio"})]})]})})}function fz({equipoGanador:t,equipo1:e,equipo2:n,onClose:r}){const[i,s]=x.useState(null),o=()=>{if(!i){alert("⚠️ Debes seleccionar un jugador MVP.");return}const a={jugador:i.nombre,dorsal:i.dorsal,equipo:i.equipoPertenencia,logo:i.equipoPertenencia===e.nombre?e.logo:n.logo},l=JSON.parse(localStorage.getItem("mvps"))||[];localStorage.setItem("mvps",JSON.stringify([...l,a])),r(a)};return h.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-80 flex items-center justify-center z-50 p-4",children:h.jsxs("div",{className:"bg-white text-black rounded-xl p-6 w-full max-w-2xl shadow-xl",children:[h.jsxs("div",{className:"text-center mb-6",children:[h.jsx("img",{src:`/EmproChampions-2025/img/${t.logo}`,alt:"Ganador",className:"w-28 h-28 mx-auto mb-2"}),h.jsx("h2",{className:"text-2xl font-bold",children:"Selecciona el Jugador Más Valioso (MVP)"}),h.jsx("p",{className:"text-sm text-gray-600",children:"(Incluye titulares y suplentes que jugaron)"})]}),h.jsxs("div",{className:"flex flex-col md:flex-row justify-center gap-6",children:[h.jsxs("div",{className:"flex-1",children:[h.jsx("h3",{className:"font-bold text-lg text-[#7a0026] mb-3",children:e==null?void 0:e.nombre}),h.jsx("div",{className:"grid grid-cols-2 gap-2 max-h-[300px] overflow-y-auto border p-2 rounded",children:((e==null?void 0:e.jugadores)||[]).filter(a=>a.haJugado||a.enJuego).map((a,l)=>h.jsxs("div",{onClick:()=>s({...a,equipoPertenencia:e.nombre}),className:`cursor-pointer border-2 rounded-lg p-2 text-center hover:border-yellow-500 transition ${(i==null?void 0:i.nombre)===a.nombre&&(i==null?void 0:i.equipoPertenencia)===e.nombre?"border-yellow-500 bg-yellow-100":"border-gray-300"}`,children:[h.jsxs("p",{className:"text-sm font-bold text-gray-800",children:["#",a.dorsal]}),h.jsx("p",{className:"text-xs text-gray-700",children:a.nombre})]},`${e.nombre}-${a.nombre}`))})]}),h.jsxs("div",{className:"flex-1",children:[h.jsx("h3",{className:"font-bold text-lg text-[#7a0026] mb-3",children:n==null?void 0:n.nombre}),h.jsx("div",{className:"grid grid-cols-2 gap-2 max-h-[300px] overflow-y-auto border p-2 rounded",children:((n==null?void 0:n.jugadores)||[]).filter(a=>a.haJugado||a.enJuego).map((a,l)=>h.jsxs("div",{onClick:()=>s({...a,equipoPertenencia:n.nombre}),className:`cursor-pointer border-2 rounded-lg p-2 text-center hover:border-yellow-500 transition ${(i==null?void 0:i.nombre)===a.nombre&&(i==null?void 0:i.equipoPertenencia)===n.nombre?"border-yellow-500 bg-yellow-100":"border-gray-300"}`,children:[h.jsxs("p",{className:"text-sm font-bold text-gray-800",children:["#",a.dorsal]}),h.jsx("p",{className:"text-xs text-gray-700",children:a.nombre})]},`${n.nombre}-${a.nombre}`))})]})]}),h.jsxs("div",{className:"flex justify-end gap-2 mt-6",children:[h.jsx("button",{onClick:()=>r(null),className:"bg-gray-300 px-4 py-2 rounded hover:bg-gray-400",children:"Cancelar"}),h.jsx("button",{onClick:o,className:"bg-yellow-500 text-black px-4 py-2 rounded hover:bg-yellow-600 font-semibold",children:"Guardar y Finalizar Partido"})]})]})})}function hz({mensaje:t,tipo:e="info"}){const n={info:"bg-blue-600 text-white",gol:"bg-green-500 text-white",tarjeta:"bg-yellow-400 text-black",roja:"bg-red-600 text-white",success:"bg-emerald-500 text-white"};return h.jsx("div",{className:"fixed bottom-6 left-1/2 -translate-x-1/2 z-[9999]",children:h.jsx("div",{className:`px-6 py-3 rounded-full shadow-lg animate-fade-in-out transition duration-500 ${n[e]||n.info}`,children:h.jsx("p",{className:"text-sm font-bold",children:t})})})}function pz(){const[t,e]=x.useState(0),[n,r]=x.useState(!1),i=x.useRef(null),s=()=>{n||(r(!0),i.current=setInterval(()=>{e(l=>l+1)},1e3))},o=()=>{r(!1),clearInterval(i.current)},a=()=>{e(0),o()};return x.useEffect(()=>()=>clearInterval(i.current),[]),{tiempo:t,enMarcha:n,iniciar:s,pausar:o,reiniciar:a}}function mz(){const[t,e]=x.useState(window.innerWidth<768);return x.useEffect(()=>{const n=()=>e(window.innerWidth<768);return window.addEventListener("resize",n),()=>window.removeEventListener("resize",n)},[]),t}function gz(){const{partidoId:t}=KA(),e=Pr(),[n,r]=x.useState(null),[i,s]=x.useState(null),[o,a]=x.useState({equipo1:0,equipo2:0}),[l,c]=x.useState([]),[u,d]=x.useState([]),[f,p]=x.useState([]),[g,_]=x.useState(null),[E,m]=x.useState(null),[v,y]=x.useState(null),[C,S]=x.useState(!1),[b,T]=x.useState(null),k=pz(),N=mz(),w=[{top:"12%",left:"25%"},{top:"12%",left:"75%"},{top:"33%",left:"50%"},{top:"58%",left:"24%"},{top:"58%",left:"76%"},{top:"85%",left:"50%"}];x.useEffect(()=>{if(!t)return;const I=X(q,`partidos/${t}/alineacion`),L=X(q,`partidos/${t}/eventos/goles`),De=X(q,`partidos/${t}/marcador`),Ot=X(q,`partidos/${t}/eventos/cambios`),Jn=X(q,`partidos/${t}/eventos/tarjetas`);sr(I,je=>{if(je.exists()){const we=je.val();r(we.equipo1),s(we.equipo2)}}),sr(L,je=>{const we=[];je.forEach(St=>we.push(St.val())),c(we)}),sr(De,je=>{je.exists()&&a(je.val())}),sr(Ot,je=>{const we=[];je.forEach(St=>we.push(St.val())),p(we)}),sr(Jn,je=>{const we=[];je.forEach(St=>we.push(St.val())),d(we)})},[t]);const R=(I,L="info")=>{T({mensaje:I,tipo:L}),setTimeout(()=>T(null),4e3)},M=()=>{const I=String(Math.floor(k.tiempo/60)).padStart(2,"0"),L=String(k.tiempo%60).padStart(2,"0");return`${I}:${L}`},F=I=>{if(!k.enMarcha){R("El cronómetro debe estar en marcha para marcar un gol","error");return}k.pausar(),_(I)},U=async I=>{const L=g,De=X(q,`partidos/${t}/marcador`),Ot={...o,[L]:(o[L]||0)+1};await ct(De,Ot),a(Ot);const Jn=X(q,`partidos/${t}/eventos/goles`);await aa(Jn,{equipo:L,jugador:I.nombre,minuto:M()}),_(null),k.iniciar(),R("¡Gol registrado!","success")},$=I=>m(I),G=async({jugador:I,tipo:L,minuto:De})=>{const Ot=X(q,`partidos/${t}/eventos/tarjetas`);await aa(Ot,{equipo:E,jugador:I,tipo:L,minuto:De}),m(null),R(`Tarjeta ${L} a ${I} (${De})`,L==="roja"?"roja":"tarjeta")},K=I=>y(I),O=async(I,L,De)=>{const Ot=v;let Jn=Ot==="equipo1"?n:i,je=Jn.jugadores.map(Kt=>Kt.nombre===I?{...Kt,enJuego:!1,haJugado:!0}:Kt),we=Jn.todosJugadores.find(Kt=>Kt.nombre===L);we?we={...we,enJuego:!0,haJugado:!0}:we={nombre:L,dorsal:"?",enJuego:!0,haJugado:!0},je.some(Kt=>Kt.nombre===we.nombre)?je=je.map(Kt=>Kt.nombre===we.nombre?{...Kt,enJuego:!0,haJugado:!0}:Kt):je.push(we);const St=X(q,`partidos/${t}/alineacion/${Ot}/jugadores`);await ct(St,je),Ot==="equipo1"?r({...n,jugadores:je}):s({...i,jugadores:je});const ec=X(q,`partidos/${t}/eventos/cambios`);await aa(ec,{equipo:Ot,titular:I,suplente:L,minuto:De}),y(null),R(`Cambio: sale ${I}, entra ${L} (${De})`,"info")},B=()=>{k.pausar(),S(!0),R("Partido finalizado. Selecciona el MVP","success")},H=async I=>{var n0;const De=((n0=(await vn(X(q,`partidos/${t}/alineacion`))).val())==null?void 0:n0.genero)||"masculino",Ot={marcador:o,goles:l,tarjetas:u,cambios:f,duracion:M(),mvp:I,equipo1:n,equipo2:i,terminado:!0,timestamp:Date.now()};await ct(X(q,`partidos/${t}/resultado`),Ot);const Jn=X(q,`tablas/${De}`),we=(await vn(Jn)).val()||{},St=(Fe,nc,AP,r0)=>{const Zn={...we[Fe.nombre]||{pj:0,pg:0,pe:0,pp:0,gf:0,gc:0,puntos:0,logo:Fe.logo}};Zn.pj++,Zn.gf+=nc,Zn.gc+=AP,r0==="victoria"?(Zn.pg++,Zn.puntos+=3):r0==="empate"?(Zn.pe++,Zn.puntos+=1):Zn.pp++,we[Fe.nombre]=Zn};o.equipo1>o.equipo2?(St(n,o.equipo1,o.equipo2,"victoria"),St(i,o.equipo2,o.equipo1,"derrota")):o.equipo2>o.equipo1?(St(n,o.equipo1,o.equipo2,"derrota"),St(i,o.equipo2,o.equipo1,"victoria")):(St(n,o.equipo1,o.equipo2,"empate"),St(i,o.equipo2,o.equipo1,"empate")),await ct(Jn,we);const ec=X(q,`goleadoresDetalles/${De}`),tc=(await vn(ec)).val()||{};for(const Fe of l){tc[Fe.jugador]||(tc[Fe.jugador]=[]);const nc=Fe.equipo==="equipo1"?n:i;tc[Fe.jugador].push({minuto:Fe.minuto,partido:`${n.nombre} vs ${i.nombre}`,fecha:new Date().toLocaleDateString(),equipo:nc.nombre,logo:nc.logo})}await ct(ec,tc);const NP=X(q,`historial/${De}`);await aa(NP,{fecha:new Date().toLocaleDateString(),genero:De,equipo1:n.nombre,equipo2:i.nombre,goles1:o.equipo1,goles2:o.equipo2,minutos:M(),mvp:I?I.jugador:"N/A",detalles:[...l.map(Fe=>({tipo:"gol",jugador:Fe.jugador,minuto:Fe.minuto})),...u.map(Fe=>({tipo:`${Fe.tipo} tarjeta`,jugador:Fe.jugador,minuto:Fe.minuto})),...f.map(Fe=>({tipo:"cambio",jugador:`${Fe.titular} por ${Fe.suplente}`,minuto:Fe.minuto}))]}),S(!1),R("Partido guardado correctamente","success"),setTimeout(()=>e("/main"),2e3)},ue=()=>o.equipo1>o.equipo2?n:o.equipo2>o.equipo1?i:{nombre:"Empate",logo:"logo-empro.png"},de=I=>`/EmproChampions-2025/camisas/camisa-${I.toLowerCase().replace(/\s+/g,"-")}.png`,rt=I=>["don bosco","luz","emprosaurios"].includes(I==null?void 0:I.toLowerCase())?"#000":"#fff",pt=(I,L,De)=>h.jsx("div",{className:"absolute",style:{top:w[L].top,left:w[L].left,transform:"translate(-50%, -50%)",opacity:I.enJuego===!1?.4:1,transition:"opacity 0.3s ease-in-out"},children:h.jsxs("div",{className:"relative flex flex-col items-center",children:[h.jsx("div",{className:"absolute top-[8%] font-barcelona text-[20px] md:text-[28px] z-20",style:{color:rt((De==null?void 0:De.nombre)||""),textShadow:"1px 1px 1px rgba(0,0,0,0.7)"},children:I.dorsal}),h.jsx("img",{src:de(De==null?void 0:De.nombre),className:"w-10 md:w-14",alt:"jugador"}),h.jsx("div",{className:"absolute bottom-[-14px] font-barcelona text-[10px] md:text-[13px] text-white bg-black/80 px-2 py-[2px] rounded text-center z-20 whitespace-nowrap overflow-hidden text-ellipsis max-w-[70px]",children:I.nombre}),I.haJugado&&I.enJuego===!1&&h.jsx("span",{style:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",fontSize:"30px",color:"red",textShadow:"0 0 5px black",pointerEvents:"none"},children:"⬇️"})]})},I.nombre);if(!n||!i)return h.jsxs("div",{className:"text-white text-center mt-20 px-4",children:[h.jsx("h2",{className:"text-3xl font-bold",children:"No hay equipos cargados"}),h.jsx("p",{className:"mt-4 text-lg",children:"Confirmá la alineación para continuar."})]});const Ht=M(),Gt=((n==null?void 0:n.todosJugadores)||[]).filter(I=>!(n.jugadores||[]).some(L=>L.nombre===I.nombre)),Qn=((i==null?void 0:i.todosJugadores)||[]).filter(I=>!(i.jugadores||[]).some(L=>L.nombre===I.nombre)),Jl=l.filter(I=>I.equipo==="equipo1"),Zl=l.filter(I=>I.equipo==="equipo2"),Xn=()=>h.jsxs("div",{className:"flex flex-col",children:[h.jsxs("div",{className:"flex flex-row items-center justify-center w-full mt-4 gap-2 md:gap-24",children:[h.jsx("img",{src:`/EmproChampions-2025/img/escudos/${n.logo}`,className:"w-20 h-20 md:w-40 md:h-40 object-contain"}),h.jsxs("div",{className:"flex flex-col items-center justify-center flex-shrink",children:[h.jsxs("span",{className:"font-extrabold text-yellow-400 text-7xl md:text-[7.5rem] leading-none drop-shadow-xl select-none",children:[o.equipo1," ",h.jsx("span",{className:"text-white",children:"-"})," ",o.equipo2]}),h.jsx("span",{className:"text-white text-3xl md:text-5xl font-bold mt-1",children:Ht}),h.jsxs("div",{className:"flex justify-center gap-3 mt-2",children:[h.jsx("button",{onClick:k.iniciar,className:"bg-blue-600 text-white text-2xl md:text-3xl px-5 py-2 rounded-full",children:"▶"}),h.jsx("button",{onClick:k.pausar,className:"bg-blue-600 text-white text-2xl md:text-3xl px-5 py-2 rounded-full",children:"⏸"}),h.jsx("button",{onClick:k.reiniciar,className:"bg-blue-600 text-white text-2xl md:text-3xl px-5 py-2 rounded-full",children:"🔁"})]})]}),h.jsx("img",{src:`/EmproChampions-2025/img/escudos/${i.logo}`,className:"w-20 h-20 md:w-40 md:h-40 object-contain"})]}),h.jsxs("div",{className:"w-full flex flex-row items-start justify-center mt-2 gap-6",children:[h.jsxs("div",{className:"flex-1 max-h-[150px] overflow-y-auto",children:[" ",Jl.map((I,L)=>h.jsxs("div",{className:"text-lg md:text-2xl flex items-center gap-2 justify-end",children:[h.jsx("span",{children:"⚽"}),h.jsx("span",{className:"font-bold whitespace-nowrap overflow-hidden text-ellipsis max-w-[120px]",children:I.jugador}),h.jsxs("span",{className:"ml-2 text-sm text-gray-200",children:[I.minuto,"'"]})]},L)),u.filter(I=>I.equipo==="equipo1").map((I,L)=>h.jsxs("div",{className:"text-lg md:text-2xl flex items-center gap-2 justify-end",children:[h.jsx("span",{children:I.tipo==="amarilla"?"🟨":"🟥"}),h.jsx("span",{className:"font-bold whitespace-nowrap overflow-hidden text-ellipsis max-w-[120px]",children:I.jugador}),h.jsxs("span",{className:"ml-2 text-sm text-gray-200",children:[I.minuto,"'"]})]},`tarjeta1-${L}`)),f.filter(I=>I.equipo==="equipo1").map((I,L)=>h.jsxs("div",{className:"text-lg md:text-2xl flex items-center gap-2 justify-end",children:[h.jsx("span",{children:"🔄"}),h.jsxs("span",{className:"font-bold whitespace-nowrap overflow-hidden text-ellipsis max-w-[120px]",children:[I.titular," por ",I.suplente]}),h.jsxs("span",{className:"ml-2 text-sm text-gray-200",children:[I.minuto,"'"]})]},`cambio1-${L}`))]}),h.jsxs("div",{className:"flex-1 max-h-[150px] overflow-y-auto",children:[" ",Zl.map((I,L)=>h.jsxs("div",{className:"text-lg md:text-2xl flex items-center gap-2 justify-start",children:[h.jsx("span",{children:"⚽"}),h.jsx("span",{className:"font-bold whitespace-nowrap overflow-hidden text-ellipsis max-w-[120px]",children:I.jugador}),h.jsxs("span",{className:"ml-2 text-sm text-gray-200",children:[I.minuto,"'"]})]},L)),u.filter(I=>I.equipo==="equipo2").map((I,L)=>h.jsxs("div",{className:"text-lg md:text-2xl flex items-center gap-2 justify-start",children:[h.jsx("span",{children:I.tipo==="amarilla"?"🟨":"🟥"}),h.jsx("span",{className:"font-bold whitespace-nowrap overflow-hidden text-ellipsis max-w-[120px]",children:I.jugador}),h.jsxs("span",{className:"ml-2 text-sm text-gray-200",children:[I.minuto,"'"]})]},`tarjeta2-${L}`)),f.filter(I=>I.equipo==="equipo2").map((I,L)=>h.jsxs("div",{className:"text-lg md:text-2xl flex items-center gap-2 justify-start",children:[h.jsx("span",{children:"🔄"}),h.jsxs("span",{className:"font-bold whitespace-nowrap overflow-hidden text-ellipsis max-w-[120px]",children:[I.titular," por ",I.suplente]}),h.jsxs("span",{className:"ml-2 text-sm text-gray-200",children:[I.minuto,"'"]})]},`cambio2-${L}`))]})]}),h.jsxs("div",{className:"flex flex-row justify-between items-start gap-8 mt-6 w-full",children:[h.jsxs("div",{className:"w-full md:w-1/2 flex flex-row items-start justify-center",children:[h.jsxs("div",{className:"relative w-[60vw] max-w-[340px] h-[220px] md:w-[300px] md:h-[400px]",children:[h.jsx("img",{src:"/EmproChampions-2025/img/cancha-vertical.svg",alt:"cancha local",className:"w-full h-full"}),(n.jugadores||[]).map((I,L)=>pt(I,L,n))]}),h.jsxs("div",{className:"flex flex-col items-center gap-3 ml-3 mt-0 md:mt-8 w-36",children:[h.jsx("button",{onClick:()=>F("equipo1"),className:"bg-green-500 w-full py-3 rounded-full font-bold text-lg",children:"Gol"}),h.jsx("button",{onClick:()=>$("equipo1"),className:"bg-yellow-400 w-full py-3 rounded-full font-bold text-lg text-black",children:"Tarjeta"}),h.jsx("button",{onClick:()=>K("equipo1"),className:"bg-blue-500 w-full py-3 rounded-full font-bold text-lg",children:"Cambio"}),h.jsxs("div",{className:"mt-2 w-full",children:[h.jsx("h3",{className:"text-center font-bold text-base text-yellow-400",children:"Suplentes"}),h.jsx("div",{className:"flex flex-wrap gap-1 justify-center",children:Gt.map((I,L)=>h.jsxs("div",{className:"bg-white/80 text-[#7a0026] rounded-xl px-2 py-0.5 font-bold text-xs whitespace-nowrap overflow-hidden text-ellipsis max-w-[70px]",children:[I.nombre," (#",I.dorsal,")"]},I.nombre))})]}),h.jsx("div",{className:"w-full max-h-[100px] overflow-y-auto",children:f.filter(I=>I.equipo==="equipo1").map((I,L)=>h.jsxs("div",{className:"flex items-center gap-1 justify-center text-base mt-1",children:[h.jsx("span",{className:"text-red-500",children:"⬅️"}),h.jsx("span",{className:"font-bold whitespace-nowrap",children:I.titular}),h.jsx("span",{className:"text-green-500",children:"➡️"}),h.jsx("span",{className:"font-bold whitespace-nowrap",children:I.suplente}),h.jsxs("span",{className:"text-gray-300 text-xs",children:[I.minuto,"'"]})]},`cambio-desktop-1-${L}`))})]})]}),h.jsxs("div",{className:"w-full md:w-1/2 flex flex-row-reverse items-start justify-center",children:[h.jsxs("div",{className:"relative w-[60vw] max-w-[340px] h-[220px] md:w-[300px] md:h-[400px]",children:[h.jsx("img",{src:"/EmproChampions-2025/img/cancha-vertical.svg",alt:"cancha visita",className:"w-full h-full"}),(i.jugadores||[]).map((I,L)=>pt(I,L,i))]}),h.jsxs("div",{className:"flex flex-col items-center gap-3 mr-3 mt-0 md:mt-8 w-36",children:[h.jsx("button",{onClick:()=>F("equipo2"),className:"bg-green-500 w-full py-3 rounded-full font-bold text-lg",children:"Gol"}),h.jsx("button",{onClick:()=>$("equipo2"),className:"bg-yellow-400 w-full py-3 rounded-full font-bold text-lg text-black",children:"Tarjeta"}),h.jsx("button",{onClick:()=>K("equipo2"),className:"bg-blue-500 w-full py-3 rounded-full font-bold text-lg",children:"Cambio"}),h.jsxs("div",{className:"mt-2 w-full",children:[h.jsx("h3",{className:"text-center font-bold text-base text-yellow-400",children:"Suplentes"}),h.jsx("div",{className:"flex flex-wrap gap-1 justify-center",children:Qn.map((I,L)=>h.jsxs("div",{className:"bg-white/80 text-[#7a0026] rounded-xl px-2 py-0.5 font-bold text-xs whitespace-nowrap overflow-hidden text-ellipsis max-w-[70px]",children:[I.nombre," (#",I.dorsal,")"]},I.nombre))})]}),h.jsx("div",{className:"w-full max-h-[100px] overflow-y-auto",children:f.filter(I=>I.equipo==="equipo2").map((I,L)=>h.jsxs("div",{className:"flex items-center gap-1 justify-center text-sm mt-1",children:[h.jsx("span",{className:"text-red-500",children:"⬅️"}),h.jsx("span",{className:"font-bold whitespace-nowrap",children:I.titular}),h.jsx("span",{className:"text-green-500",children:"➡️"}),h.jsx("span",{className:"font-bold whitespace-nowrap",children:I.suplente}),h.jsxs("span",{className:"text-gray-300 text-xs",children:[I.minuto,"'"]})]},`cambio-desktop-2-${L}`))})]})]})]}),h.jsx("div",{className:"text-center mt-12",children:h.jsx("button",{onClick:B,className:"bg-yellow-500 hover:bg-yellow-600 text-black font-extrabold text-3xl px-14 py-5 rounded-full shadow-xl",children:"Finalizar Partido"})})]}),Lo=()=>h.jsxs("div",{className:"flex flex-col items-center",children:[h.jsxs("div",{className:"flex flex-row items-center justify-center w-full mt-4 gap-3",children:[h.jsx("img",{src:`/EmproChampions-2025/img/escudos/${n.logo}`,className:"w-16 h-16 object-contain"}),h.jsxs("div",{className:"flex flex-col items-center justify-center",children:[h.jsxs("span",{className:"font-extrabold text-yellow-400 text-5xl leading-none drop-shadow-xl select-none",children:[o.equipo1," ",h.jsx("span",{className:"text-white",children:"-"})," ",o.equipo2]}),h.jsx("span",{className:"text-white text-2xl font-bold mt-1",children:Ht}),h.jsxs("div",{className:"flex justify-center gap-2 mt-2",children:[h.jsx("button",{onClick:k.iniciar,className:"bg-blue-600 text-white text-xl px-3 py-1 rounded-full",children:"▶"}),h.jsx("button",{onClick:k.pausar,className:"bg-blue-600 text-white text-xl px-3 py-1 rounded-full",children:"⏸"}),h.jsx("button",{onClick:k.reiniciar,className:"bg-blue-600 text-white text-xl px-3 py-1 rounded-full",children:"🔁"})]})]}),h.jsx("img",{src:`/EmproChampions-2025/img/escudos/${i.logo}`,className:"w-16 h-16 object-contain"})]}),h.jsxs("div",{className:"flex flex-row w-full max-w-lg mt-3 gap-2",children:[h.jsxs("div",{className:"flex-1 max-h-[150px] overflow-y-auto",children:[" ",Jl.map((I,L)=>h.jsxs("div",{className:"text-base flex items-center gap-2 justify-end",children:[h.jsx("span",{children:"⚽"}),h.jsx("span",{className:"font-bold whitespace-nowrap overflow-hidden text-ellipsis max-w-[90px]",children:I.jugador}),h.jsxs("span",{className:"ml-1 text-xs text-gray-200",children:[I.minuto,"'"]})]},L)),u.filter(I=>I.equipo==="equipo1").map((I,L)=>h.jsxs("div",{className:"text-base flex items-center gap-2 justify-end",children:[h.jsx("span",{children:I.tipo==="amarilla"?"🟨":"🟥"}),h.jsx("span",{className:"font-bold whitespace-nowrap overflow-hidden text-ellipsis max-w-[90px]",children:I.jugador}),h.jsxs("span",{className:"ml-1 text-xs text-gray-200",children:[I.minuto,"'"]})]},`tarjeta1-m-${L}`)),f.filter(I=>I.equipo==="equipo1").map((I,L)=>h.jsxs("div",{className:"flex items-center gap-1 justify-end text-sm mt-1",children:[h.jsx("span",{className:"text-red-500",children:"⬅️"}),h.jsx("span",{className:"font-bold whitespace-nowrap",children:I.titular}),h.jsx("span",{className:"text-green-500",children:"➡️"}),h.jsx("span",{className:"font-bold whitespace-nowrap",children:I.suplente}),h.jsxs("span",{className:"text-gray-300 text-xs",children:[I.minuto,"'"]})]},`cambio1-m-${L}`))]}),h.jsxs("div",{className:"flex-1 max-h-[150px] overflow-y-auto",children:[" ",Zl.map((I,L)=>h.jsxs("div",{className:"text-base flex items-center gap-2 justify-start",children:[h.jsx("span",{children:"⚽"}),h.jsx("span",{className:"font-bold whitespace-nowrap overflow-hidden text-ellipsis max-w-[90px]",children:I.jugador}),h.jsxs("span",{className:"ml-1 text-xs text-gray-200",children:[I.minuto,"'"]})]},L)),u.filter(I=>I.equipo==="equipo2").map((I,L)=>h.jsxs("div",{className:"text-base flex items-center gap-2 justify-start",children:[h.jsx("span",{children:I.tipo==="amarilla"?"🟨":"🟥"}),h.jsx("span",{className:"font-bold whitespace-nowrap overflow-hidden text-ellipsis max-w-[90px]",children:I.jugador}),h.jsxs("span",{className:"ml-1 text-xs text-gray-200",children:[I.minuto,"'"]})]},`tarjeta2-m-${L}`)),f.filter(I=>I.equipo==="equipo2").map((I,L)=>h.jsxs("div",{className:"flex items-center gap-1 justify-start text-sm mt-1",children:[h.jsx("span",{className:"text-red-500",children:"⬅️"}),h.jsx("span",{className:"font-bold whitespace-nowrap",children:I.titular}),h.jsx("span",{className:"text-green-500",children:"➡️"}),h.jsx("span",{className:"font-bold whitespace-nowrap",children:I.suplente}),h.jsxs("span",{className:"text-gray-300 text-xs",children:[I.minuto,"'"]})]},`cambio2-m-${L}`))]})]}),h.jsxs("div",{className:"w-full flex flex-col items-center gap-3 mt-6 max-w-[250px]",children:[h.jsx("button",{onClick:()=>F("equipo1"),className:"bg-green-500 w-full py-3 rounded-full font-bold text-lg",children:"Gol Equipo 1"}),h.jsx("button",{onClick:()=>$("equipo1"),className:"bg-yellow-400 w-full py-3 rounded-full font-bold text-lg text-black",children:"Tarjeta Equipo 1"}),h.jsx("button",{onClick:()=>K("equipo1"),className:"bg-blue-500 w-full py-3 rounded-full font-bold text-lg",children:"Cambio Equipo 1"}),h.jsxs("div",{className:"mt-1 w-full",children:[h.jsx("h3",{className:"text-center font-bold text-base text-yellow-400",children:"Suplentes"}),h.jsx("div",{className:"flex flex-wrap gap-1 justify-center",children:Gt.map((I,L)=>h.jsxs("div",{className:"bg-white/80 text-[#7a0026] rounded-xl px-2 py-0.5 font-bold text-xs whitespace-nowrap overflow-hidden text-ellipsis max-w-[70px]",children:[I.nombre," (#",I.dorsal,")"]},I.nombre))})]}),h.jsx("div",{className:"w-full max-h-[100px] overflow-y-auto",children:f.filter(I=>I.equipo==="equipo1").map((I,L)=>h.jsxs("div",{className:"flex items-center gap-1 justify-center text-sm mt-1",children:[h.jsx("span",{className:"text-red-500",children:"⬅️"}),h.jsx("span",{className:"font-bold whitespace-nowrap",children:I.titular}),h.jsx("span",{className:"text-green-500",children:"➡️"}),h.jsx("span",{className:"font-bold whitespace-nowrap",children:I.suplente}),h.jsxs("span",{className:"text-gray-300 text-xs",children:[I.minuto,"'"]})]},`cambio-movil-1-${L}`))}),h.jsx("button",{onClick:()=>F("equipo2"),className:"bg-green-500 w-full py-3 rounded-full font-bold text-lg",children:"Gol Equipo 2"}),h.jsx("button",{onClick:()=>$("equipo2"),className:"bg-yellow-400 w-full py-3 rounded-full font-bold text-lg text-black",children:"Tarjeta Equipo 2"}),h.jsx("button",{onClick:()=>K("equipo2"),className:"bg-blue-500 w-full py-3 rounded-full font-bold text-lg",children:"Cambio Equipo 2"}),h.jsxs("div",{className:"mt-1 w-full",children:[h.jsx("h3",{className:"text-center font-bold text-base text-yellow-400",children:"Suplentes"}),h.jsx("div",{className:"flex flex-wrap gap-1 justify-center",children:Qn.map((I,L)=>h.jsxs("div",{className:"bg-white/80 text-[#7a0026] rounded-xl px-2 py-0.5 font-bold text-xs whitespace-nowrap overflow-hidden text-ellipsis max-w-[70px]",children:[I.nombre," (#",I.dorsal,")"]},I.nombre))})]}),h.jsx("div",{className:"w-full max-h-[100px] overflow-y-auto",children:f.filter(I=>I.equipo==="equipo2").map((I,L)=>h.jsxs("div",{className:"flex items-center gap-1 justify-center text-sm mt-1",children:[h.jsx("span",{className:"text-red-500",children:"⬅️"}),h.jsx("span",{className:"font-bold whitespace-nowrap",children:I.titular}),h.jsx("span",{className:"text-green-500",children:"➡️"}),h.jsx("span",{className:"font-bold whitespace-nowrap",children:I.suplente}),h.jsxs("span",{className:"text-gray-300 text-xs",children:[I.minuto,"'"]})]},`cambio-movil-2-${L}`))})]}),h.jsx("div",{className:"text-center mt-8",children:h.jsx("button",{onClick:B,className:"bg-yellow-500 hover:bg-yellow-600 text-black font-extrabold text-2xl px-10 py-4 rounded-full shadow-xl",children:"Finalizar Partido"})})]});return h.jsxs("div",{className:"w-full min-h-screen bg-cover bg-center text-white font-qatar px-2 md:px-8 py-4",style:{backgroundImage:"url('/img/fondoempro-horizontal.png')"},children:[h.jsx(cs,{}),N?Lo():Xn(),g&&n&&i&&h.jsx(cz,{equipo:g,jugadores:g==="equipo1"?n.jugadores:i.jugadores,minuto:Ht,onSeleccion:U,onClose:()=>{_(null),k.iniciar()}}),E&&h.jsx(uz,{equipo:E,jugadores:E==="equipo1"?n.jugadores:i.jugadores,minuto:Ht,onConfirm:G,onClose:()=>m(null)}),v&&h.jsx(dz,{equipo:v,jugadores:v==="equipo1"?n.todosJugadores:i.todosJugadores,minuto:Ht,onConfirm:O,onClose:()=>y(null)}),C&&h.jsx(fz,{equipoGanador:ue(),equipo1:n,equipo2:i,onClose:H}),b&&h.jsx(hz,{mensaje:b.mensaje,tipo:b.tipo})]})}function yz(){const[t,e]=x.useState(""),[n,r]=x.useState(""),[i,s]=x.useState(""),[o,a]=x.useState(""),l=Pr(),c=(d,f)=>{const p=(d==null?void 0:d.charAt(0).toUpperCase())||"",g=(f==null?void 0:f.charAt(0).toUpperCase())||"";return`${p}${g}`},u=async d=>{d.preventDefault();try{const f=await CM(ho,i,o),p=f.user.uid,g={nombre:t,apellido:n,correo:i,rol:"usuario",iniciales:c(t,n),foto:null};await ct(X(q,`usuarios/${p}`),g),await SM(f.user),alert("Cuenta creada. Se ha enviado un correo de verificación."),l("/login")}catch(f){f.code==="auth/email-already-in-use"?alert("Este correo ya está registrado."):alert("Error al crear la cuenta: "+f.message)}};return h.jsx("div",{className:"min-h-screen bg-cover bg-center flex items-center justify-center",style:{backgroundImage:"url('/EmproChampions-2025/img/fondoempro-horizontal.png')"},children:h.jsxs("div",{className:"bg-white/90 rounded-2xl shadow-lg p-8 w-full max-w-md text-center",children:[h.jsx("img",{src:"/EmproChampions-2025/img/logo-empro.png",alt:"Logo Empro",className:"w-24 mx-auto mb-4"}),h.jsx("h1",{className:"text-3xl font-bold text-[#7a0026] mb-6",children:"Crear Cuenta"}),h.jsxs("form",{onSubmit:u,className:"space-y-4",children:[h.jsx("input",{type:"text",placeholder:"Nombre",value:t,onChange:d=>e(d.target.value),required:!0,className:"w-full px-4 py-2 border border-[#7a0026] rounded-md"}),h.jsx("input",{type:"text",placeholder:"Apellido",value:n,onChange:d=>r(d.target.value),required:!0,className:"w-full px-4 py-2 border border-[#7a0026] rounded-md"}),h.jsx("input",{type:"email",placeholder:"Correo",value:i,onChange:d=>s(d.target.value),required:!0,className:"w-full px-4 py-2 border border-[#7a0026] rounded-md"}),h.jsx("input",{type:"password",placeholder:"Contraseña",value:o,onChange:d=>a(d.target.value),required:!0,className:"w-full px-4 py-2 border border-[#7a0026] rounded-md"}),h.jsx("button",{type:"submit",className:"w-full bg-[#FFD700] text-[#7a0026] font-bold py-2 rounded-md hover:bg-yellow-400 transition",children:"Registrarme"})]}),h.jsxs("p",{className:"mt-4 text-sm text-[#7a0026]",children:["¿Ya tienes cuenta?"," ",h.jsx(Dn,{to:"/login",className:"font-bold underline",children:"Inicia sesión"})]})]})})}function vz(){const[t,e]=x.useState([]),[n,r]=x.useState("masculino"),[i,s]=x.useState({});x.useEffect(()=>{const a=X(q,`goleadoresDetalles/${n}`);sr(a,l=>{const c=l.val();if(c){const u={};Object.entries(c).forEach(([f,p])=>{Array.isArray(p)&&p.forEach(g=>{u[g.jugador]||(u[g.jugador]={equipo:g.equipo,goles:0,detalles:[],logo:g.logo||"default.png"}),u[g.jugador].goles++,u[g.jugador].detalles.push({minuto:g.minuto,partido:g.partido,fecha:g.fecha})})});const d=Object.entries(u).map(([f,p])=>({jugador:f,...p})).sort((f,p)=>p.goles-f.goles);e(d)}else e([])})},[n]);const o=a=>{s(l=>({...l,[a]:!l[a]}))};return h.jsxs("div",{className:"min-h-screen bg-cover bg-center text-white font-qatar",style:{backgroundImage:"url('/EmproChampions-2025/img/fondoempro-horizontal.png')"},children:[h.jsx(cs,{}),h.jsxs("div",{className:"text-center py-6",children:[h.jsx("img",{src:"/EmproChampions-2025/img/logo3.png",alt:"Máximos Goleadores",className:"mx-auto w-auto px-8 mb-4"}),h.jsxs("button",{onClick:()=>r(n==="masculino"?"femenino":"masculino"),className:"bg-yellow-400 text-[#7a0026] font-bold px-6 py-2 rounded-full",children:["Cambiar a ",n==="masculino"?"Femenino":"Masculino"]})]}),h.jsx("div",{className:"max-w-4xl mx-auto px-4 pb-10",children:t.length===0?h.jsx("p",{className:"text-center text-xl",children:"No hay goles registrados aún."}):h.jsxs("table",{className:"w-full border-collapse text-left",children:[h.jsx("thead",{children:h.jsxs("tr",{className:"bg-[#FFD700] text-[#7a0026]",children:[h.jsx("th",{className:"px-4 py-2",children:"#"}),h.jsx("th",{className:"px-4 py-2",children:"Jugador"}),h.jsx("th",{className:"px-4 py-2",children:"Equipo"}),h.jsx("th",{className:"px-4 py-2",children:"Goles"}),h.jsx("th",{className:"px-4 py-2",children:"Detalles"})]})}),h.jsx("tbody",{children:t.map((a,l)=>h.jsxs(ki.Fragment,{children:[h.jsxs("tr",{className:"bg-white text-black border-b border-[#C72C48]",children:[h.jsx("td",{className:"px-4 py-3",children:l+1}),h.jsx("td",{className:"px-4 py-3 font-bold",children:a.jugador}),h.jsxs("td",{className:"px-4 py-3 flex items-center gap-2",children:[h.jsx("img",{src:`/EmproChampions-2025/img/escudos/${a.logo}`,alt:a.equipo,className:"w-6 h-6 object-contain"}),a.equipo]}),h.jsxs("td",{className:"px-4 py-3 font-extrabold text-[#7a0026]",children:[a.goles," ⚽"]}),h.jsx("td",{className:"px-4 py-3",children:h.jsx("button",{onClick:()=>o(a.jugador),className:"btn-detalle",children:i[a.jugador]?"Ocultar":"Ver detalles"})})]}),i[a.jugador]&&h.jsx("tr",{children:h.jsx("td",{colSpan:"5",children:h.jsx("div",{className:"detalles",children:a.detalles.length===0?"<em>Sin detalles registrados</em>":a.detalles.map((c,u)=>h.jsxs("div",{className:"detalle-item",children:["📅 ",h.jsx("strong",{children:c.fecha}),h.jsx("br",{}),"⚽ ",c.partido,h.jsx("br",{}),"⏱️ Min ",c.minuto]},u))})})})]},a.jugador))})]})})]})}function _z(){const[t,e]=x.useState([]),[n,r]=x.useState("masculino"),[i,s]=x.useState({});x.useEffect(()=>{const a=X(q,`historial/${n}`);sr(a,l=>{const c=l.val();if(c){const u=Object.entries(c).map(([d,f])=>({id:d,...f})).sort((d,f)=>new Date(f.fecha)-new Date(d.fecha));e(u)}else e([])})},[n]);const o=a=>{s(l=>({...l,[a]:!l[a]}))};return h.jsxs("div",{className:"min-h-screen bg-cover bg-center text-white font-qatar",style:{backgroundImage:"url('/EmproChampions-2025/img/fondoempro-horizontal.png')"},children:[h.jsx(cs,{}),h.jsxs("div",{className:"text-center py-6",children:[h.jsx("img",{src:"/EmproChampions-2025/img/logo4.png",alt:"Historial de Partidos",className:"mx-auto w-auto px-8 mb-4"}),h.jsxs("button",{onClick:()=>r(n==="masculino"?"femenino":"masculino"),className:"bg-yellow-400 text-[#7a0026] font-bold px-6 py-2 rounded-full",children:["Cambiar a ",n==="masculino"?"Femenino":"Masculino"]})]}),h.jsx("div",{className:"max-w-4xl mx-auto px-4 pb-10 space-y-4",children:t.length===0?h.jsx("p",{className:"text-center text-xl",children:"No hay partidos registrados aún."}):t.map(a=>h.jsxs("div",{className:`rounded-lg p-4 bg-white text-black shadow relative flex flex-col md:flex-row justify-between gap-3 md:gap-6 ${n==="masculino"?"md:items-start":"md:items-end"}`,children:[h.jsxs("div",{className:"flex flex-col",children:[h.jsx("p",{className:"text-sm text-gray-600",children:a.fecha}),h.jsxs("p",{className:"text-lg font-bold",children:[a.equipo1," vs ",a.equipo2]}),h.jsxs("p",{className:"text-xl font-extrabold text-[#7a0026]",children:[a.goles1," - ",a.goles2]}),h.jsxs("p",{className:"text-sm",children:["Minutos jugados: ",a.minutos]})]}),h.jsxs("div",{className:"text-right md:text-left",children:[h.jsx("button",{onClick:()=>o(a.id),className:"text-sm text-blue-600 underline",children:i[a.id]?"Ocultar":"Ver más"}),i[a.id]&&a.detalles&&h.jsx("ul",{className:"mt-2 text-sm list-disc pl-4",children:a.detalles.map((l,c)=>h.jsxs("li",{children:[l.tipo,": ",l.jugador," (",l.minuto,")"]},c))})]})]},a.id))})]})}function es(t){return t&&t.ownerDocument||document}function hd(t){return es(t).defaultView||window}function wz(t=window){const e=t.document.documentElement.clientWidth;return t.innerWidth-e}function xz(t){const e=es(t);return e.body===t?hd(t).innerWidth>e.documentElement.clientWidth:t.scrollHeight>t.clientHeight}function Da(t,e){e?t.setAttribute("aria-hidden","true"):t.removeAttribute("aria-hidden")}function aC(t){return parseInt(hd(t).getComputedStyle(t).paddingRight,10)||0}function Cz(t){const n=["TEMPLATE","SCRIPT","STYLE","LINK","MAP","META","NOSCRIPT","PICTURE","COL","COLGROUP","PARAM","SLOT","SOURCE","TRACK"].includes(t.tagName),r=t.tagName==="INPUT"&&t.getAttribute("type")==="hidden";return n||r}function lC(t,e,n,r,i){const s=[e,n,...r];[].forEach.call(t.children,o=>{const a=!s.includes(o),l=!Cz(o);a&&l&&Da(o,i)})}function Lh(t,e){let n=-1;return t.some((r,i)=>e(r)?(n=i,!0):!1),n}function Ez(t,e){const n=[],r=t.container;if(!e.disableScrollLock){if(xz(r)){const o=wz(hd(r));n.push({value:r.style.paddingRight,property:"padding-right",el:r}),r.style.paddingRight=`${aC(r)+o}px`;const a=es(r).querySelectorAll(".mui-fixed");[].forEach.call(a,l=>{n.push({value:l.style.paddingRight,property:"padding-right",el:l}),l.style.paddingRight=`${aC(l)+o}px`})}let s;if(r.parentNode instanceof DocumentFragment)s=es(r).body;else{const o=r.parentElement,a=hd(r);s=(o==null?void 0:o.nodeName)==="HTML"&&a.getComputedStyle(o).overflowY==="scroll"?o:r}n.push({value:s.style.overflow,property:"overflow",el:s},{value:s.style.overflowX,property:"overflow-x",el:s},{value:s.style.overflowY,property:"overflow-y",el:s}),s.style.overflow="hidden"}return()=>{n.forEach(({value:s,el:o,property:a})=>{s?o.style.setProperty(a,s):o.style.removeProperty(a)})}}function Sz(t){const e=[];return[].forEach.call(t.children,n=>{n.getAttribute("aria-hidden")==="true"&&e.push(n)}),e}class bz{constructor(){this.modals=[],this.containers=[]}add(e,n){let r=this.modals.indexOf(e);if(r!==-1)return r;r=this.modals.length,this.modals.push(e),e.modalRef&&Da(e.modalRef,!1);const i=Sz(n);lC(n,e.mount,e.modalRef,i,!0);const s=Lh(this.containers,o=>o.container===n);return s!==-1?(this.containers[s].modals.push(e),r):(this.containers.push({modals:[e],container:n,restore:null,hiddenSiblings:i}),r)}mount(e,n){const r=Lh(this.containers,s=>s.modals.includes(e)),i=this.containers[r];i.restore||(i.restore=Ez(i,n))}remove(e,n=!0){const r=this.modals.indexOf(e);if(r===-1)return r;const i=Lh(this.containers,o=>o.modals.includes(e)),s=this.containers[i];if(s.modals.splice(s.modals.indexOf(e),1),this.modals.splice(r,1),s.modals.length===0)s.restore&&s.restore(),e.modalRef&&Da(e.modalRef,n),lC(s.container,e.mount,e.modalRef,s.hiddenSiblings,!1),this.containers.splice(i,1);else{const o=s.modals[s.modals.length-1];o.modalRef&&Da(o.modalRef,!1)}return r}isTopModal(e){return this.modals.length>0&&this.modals[this.modals.length-1]===e}}function FI(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=FI(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function go(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=FI(t))&&(r&&(r+=" "),r+=e);return r}function $I(t,e,n=void 0){const r={};for(const i in t){const s=t[i];let o="",a=!0;for(let l=0;l<s.length;l+=1){const c=s[l];c&&(o+=(a===!0?"":" ")+e(c),a=!1,n&&n[c]&&(o+=" "+n[c]))}r[i]=o}return r}function Kl(...t){const e=x.useRef(void 0),n=x.useCallback(r=>{const i=t.map(s=>{if(s==null)return null;if(typeof s=="function"){const o=s,a=o(r);return typeof a=="function"?a:()=>{o(null)}}return s.current=r,()=>{s.current=null}});return()=>{i.forEach(s=>s==null?void 0:s())}},t);return x.useMemo(()=>t.every(r=>r==null)?null:r=>{e.current&&(e.current(),e.current=void 0),r!=null&&(e.current=n(r))},t)}function jv(t){var e;return parseInt(x.version,10)>=19?((e=t==null?void 0:t.props)==null?void 0:e.ref)||null:(t==null?void 0:t.ref)||null}const Tz=["input","select","textarea","a[href]","button","[tabindex]","audio[controls]","video[controls]",'[contenteditable]:not([contenteditable="false"])'].join(",");function kz(t){const e=parseInt(t.getAttribute("tabindex")||"",10);return Number.isNaN(e)?t.contentEditable==="true"||(t.nodeName==="AUDIO"||t.nodeName==="VIDEO"||t.nodeName==="DETAILS")&&t.getAttribute("tabindex")===null?0:t.tabIndex:e}function Iz(t){if(t.tagName!=="INPUT"||t.type!=="radio"||!t.name)return!1;const e=r=>t.ownerDocument.querySelector(`input[type="radio"]${r}`);let n=e(`[name="${t.name}"]:checked`);return n||(n=e(`[name="${t.name}"]`)),n!==t}function Pz(t){return!(t.disabled||t.tagName==="INPUT"&&t.type==="hidden"||Iz(t))}function Rz(t){const e=[],n=[];return Array.from(t.querySelectorAll(Tz)).forEach((r,i)=>{const s=kz(r);s===-1||!Pz(r)||(s===0?e.push(r):n.push({documentOrder:i,tabIndex:s,node:r}))}),n.sort((r,i)=>r.tabIndex===i.tabIndex?r.documentOrder-i.documentOrder:r.tabIndex-i.tabIndex).map(r=>r.node).concat(e)}function Nz(){return!0}function Az(t){const{children:e,disableAutoFocus:n=!1,disableEnforceFocus:r=!1,disableRestoreFocus:i=!1,getTabbable:s=Rz,isEnabled:o=Nz,open:a}=t,l=x.useRef(!1),c=x.useRef(null),u=x.useRef(null),d=x.useRef(null),f=x.useRef(null),p=x.useRef(!1),g=x.useRef(null),_=Kl(jv(e),g),E=x.useRef(null);x.useEffect(()=>{!a||!g.current||(p.current=!n)},[n,a]),x.useEffect(()=>{if(!a||!g.current)return;const y=es(g.current);return g.current.contains(y.activeElement)||(g.current.hasAttribute("tabIndex")||g.current.setAttribute("tabIndex","-1"),p.current&&g.current.focus()),()=>{i||(d.current&&d.current.focus&&(l.current=!0,d.current.focus()),d.current=null)}},[a]),x.useEffect(()=>{if(!a||!g.current)return;const y=es(g.current),C=T=>{E.current=T,!(r||!o()||T.key!=="Tab")&&y.activeElement===g.current&&T.shiftKey&&(l.current=!0,u.current&&u.current.focus())},S=()=>{var N,w;const T=g.current;if(T===null)return;if(!y.hasFocus()||!o()||l.current){l.current=!1;return}if(T.contains(y.activeElement)||r&&y.activeElement!==c.current&&y.activeElement!==u.current)return;if(y.activeElement!==f.current)f.current=null;else if(f.current!==null)return;if(!p.current)return;let k=[];if((y.activeElement===c.current||y.activeElement===u.current)&&(k=s(g.current)),k.length>0){const R=!!((N=E.current)!=null&&N.shiftKey&&((w=E.current)==null?void 0:w.key)==="Tab"),M=k[0],F=k[k.length-1];typeof M!="string"&&typeof F!="string"&&(R?F.focus():M.focus())}else T.focus()};y.addEventListener("focusin",S),y.addEventListener("keydown",C,!0);const b=setInterval(()=>{y.activeElement&&y.activeElement.tagName==="BODY"&&S()},50);return()=>{clearInterval(b),y.removeEventListener("focusin",S),y.removeEventListener("keydown",C,!0)}},[n,r,i,o,a,s]);const m=y=>{d.current===null&&(d.current=y.relatedTarget),p.current=!0,f.current=y.target;const C=e.props.onFocus;C&&C(y)},v=y=>{d.current===null&&(d.current=y.relatedTarget),p.current=!0};return h.jsxs(x.Fragment,{children:[h.jsx("div",{tabIndex:a?0:-1,onFocus:v,ref:c,"data-testid":"sentinelStart"}),x.cloneElement(e,{ref:_,onFocus:m}),h.jsx("div",{tabIndex:a?0:-1,onFocus:v,ref:u,"data-testid":"sentinelEnd"})]})}const Dz=typeof window<"u"?x.useLayoutEffect:x.useEffect,Pm=Dz;function cC(t,e){typeof t=="function"?t(e):t&&(t.current=e)}function Oz(t){return typeof t=="function"?t():t}const Mz=x.forwardRef(function(e,n){const{children:r,container:i,disablePortal:s=!1}=e,[o,a]=x.useState(null),l=Kl(x.isValidElement(r)?jv(r):null,n);if(Pm(()=>{s||a(Oz(i)||document.body)},[i,s]),Pm(()=>{if(o&&!s)return cC(n,o),()=>{cC(n,null)}},[n,o,s]),s){if(x.isValidElement(r)){const c={ref:l};return x.cloneElement(r,c)}return r}return o&&Bg.createPortal(r,o)}),Lz=Mz;function ts(t,...e){const n=new URL(`https://mui.com/production-error/?code=${t}`);return e.forEach(r=>n.searchParams.append("args[]",r)),`Minified MUI error #${t}; visit ${n} for the full message.`}function VI(t){if(typeof t!="string")throw new Error(ts(7));return t.charAt(0).toUpperCase()+t.slice(1)}var UI={exports:{}},ce={};/**
 * @license React
 * react-is.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Fv=Symbol.for("react.transitional.element"),$v=Symbol.for("react.portal"),of=Symbol.for("react.fragment"),af=Symbol.for("react.strict_mode"),lf=Symbol.for("react.profiler"),cf=Symbol.for("react.consumer"),uf=Symbol.for("react.context"),df=Symbol.for("react.forward_ref"),ff=Symbol.for("react.suspense"),hf=Symbol.for("react.suspense_list"),pf=Symbol.for("react.memo"),mf=Symbol.for("react.lazy"),jz=Symbol.for("react.view_transition"),Fz=Symbol.for("react.client.reference");function un(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case Fv:switch(t=t.type,t){case of:case lf:case af:case ff:case hf:case jz:return t;default:switch(t=t&&t.$$typeof,t){case uf:case df:case mf:case pf:return t;case cf:return t;default:return e}}case $v:return e}}}ce.ContextConsumer=cf;ce.ContextProvider=uf;ce.Element=Fv;ce.ForwardRef=df;ce.Fragment=of;ce.Lazy=mf;ce.Memo=pf;ce.Portal=$v;ce.Profiler=lf;ce.StrictMode=af;ce.Suspense=ff;ce.SuspenseList=hf;ce.isContextConsumer=function(t){return un(t)===cf};ce.isContextProvider=function(t){return un(t)===uf};ce.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===Fv};ce.isForwardRef=function(t){return un(t)===df};ce.isFragment=function(t){return un(t)===of};ce.isLazy=function(t){return un(t)===mf};ce.isMemo=function(t){return un(t)===pf};ce.isPortal=function(t){return un(t)===$v};ce.isProfiler=function(t){return un(t)===lf};ce.isStrictMode=function(t){return un(t)===af};ce.isSuspense=function(t){return un(t)===ff};ce.isSuspenseList=function(t){return un(t)===hf};ce.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===of||t===lf||t===af||t===ff||t===hf||typeof t=="object"&&t!==null&&(t.$$typeof===mf||t.$$typeof===pf||t.$$typeof===uf||t.$$typeof===cf||t.$$typeof===df||t.$$typeof===Fz||t.getModuleId!==void 0)};ce.typeOf=un;UI.exports=ce;var BI=UI.exports;function jn(t){if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)}function zI(t){if(x.isValidElement(t)||BI.isValidElementType(t)||!jn(t))return t;const e={};return Object.keys(t).forEach(n=>{e[n]=zI(t[n])}),e}function $t(t,e,n={clone:!0}){const r=n.clone?{...t}:t;return jn(t)&&jn(e)&&Object.keys(e).forEach(i=>{x.isValidElement(e[i])||BI.isValidElementType(e[i])?r[i]=e[i]:jn(e[i])&&Object.prototype.hasOwnProperty.call(t,i)&&jn(t[i])?r[i]=$t(t[i],e[i],n):n.clone?r[i]=jn(e[i])?zI(e[i]):e[i]:r[i]=e[i]}),r}function Oa(t,e){return e?$t(t,e,{clone:!1}):t}function $z(t,e){if(!t.containerQueries)return e;const n=Object.keys(e).filter(r=>r.startsWith("@container")).sort((r,i)=>{var o,a;const s=/min-width:\s*([0-9.]+)/;return+(((o=r.match(s))==null?void 0:o[1])||0)-+(((a=i.match(s))==null?void 0:a[1])||0)});return n.length?n.reduce((r,i)=>{const s=e[i];return delete r[i],r[i]=s,r},{...e}):e}function Vz(t,e){return e==="@"||e.startsWith("@")&&(t.some(n=>e.startsWith(`@${n}`))||!!e.match(/^@\d/))}function Uz(t,e){const n=e.match(/^@([^/]+)?\/?(.+)?$/);if(!n)return null;const[,r,i]=n,s=Number.isNaN(+r)?r||0:+r;return t.containerQueries(i).up(s)}function Bz(t){const e=(s,o)=>s.replace("@media",o?`@container ${o}`:"@container");function n(s,o){s.up=(...a)=>e(t.breakpoints.up(...a),o),s.down=(...a)=>e(t.breakpoints.down(...a),o),s.between=(...a)=>e(t.breakpoints.between(...a),o),s.only=(...a)=>e(t.breakpoints.only(...a),o),s.not=(...a)=>{const l=e(t.breakpoints.not(...a),o);return l.includes("not all and")?l.replace("not all and ","").replace("min-width:","width<").replace("max-width:","width>").replace("and","or"):l}}const r={},i=s=>(n(r,s),r);return n(i),{...t,containerQueries:i}}const gf={xs:0,sm:600,md:900,lg:1200,xl:1536},uC={keys:["xs","sm","md","lg","xl"],up:t=>`@media (min-width:${gf[t]}px)`},zz={containerQueries:t=>({up:e=>{let n=typeof e=="number"?e:gf[e]||e;return typeof n=="number"&&(n=`${n}px`),t?`@container ${t} (min-width:${n})`:`@container (min-width:${n})`}})};function Tr(t,e,n){const r=t.theme||{};if(Array.isArray(e)){const s=r.breakpoints||uC;return e.reduce((o,a,l)=>(o[s.up(s.keys[l])]=n(e[l]),o),{})}if(typeof e=="object"){const s=r.breakpoints||uC;return Object.keys(e).reduce((o,a)=>{if(Vz(s.keys,a)){const l=Uz(r.containerQueries?r:zz,a);l&&(o[l]=n(e[a],a))}else if(Object.keys(s.values||gf).includes(a)){const l=s.up(a);o[l]=n(e[a],a)}else{const l=a;o[l]=e[l]}return o},{})}return n(e)}function Wz(t={}){var n;return((n=t.keys)==null?void 0:n.reduce((r,i)=>{const s=t.up(i);return r[s]={},r},{}))||{}}function Hz(t,e){return t.reduce((n,r)=>{const i=n[r];return(!i||Object.keys(i).length===0)&&delete n[r],n},e)}function yf(t,e,n=!0){if(!e||typeof e!="string")return null;if(t&&t.vars&&n){const r=`vars.${e}`.split(".").reduce((i,s)=>i&&i[s]?i[s]:null,t);if(r!=null)return r}return e.split(".").reduce((r,i)=>r&&r[i]!=null?r[i]:null,t)}function pd(t,e,n,r=n){let i;return typeof t=="function"?i=t(n):Array.isArray(t)?i=t[n]||r:i=yf(t,n)||r,e&&(i=e(i,r,t)),i}function Le(t){const{prop:e,cssProperty:n=t.prop,themeKey:r,transform:i}=t,s=o=>{if(o[e]==null)return null;const a=o[e],l=o.theme,c=yf(l,r)||{};return Tr(o,a,d=>{let f=pd(c,i,d);return d===f&&typeof d=="string"&&(f=pd(c,i,`${e}${d==="default"?"":VI(d)}`,d)),n===!1?f:{[n]:f}})};return s.propTypes={},s.filterProps=[e],s}function Gz(t){const e={};return n=>(e[n]===void 0&&(e[n]=t(n)),e[n])}const Kz={m:"margin",p:"padding"},qz={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},dC={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},Yz=Gz(t=>{if(t.length>2)if(dC[t])t=dC[t];else return[t];const[e,n]=t.split(""),r=Kz[e],i=qz[n]||"";return Array.isArray(i)?i.map(s=>r+s):[r+i]}),Vv=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],Uv=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"];[...Vv,...Uv];function ql(t,e,n,r){const i=yf(t,e,!0)??n;return typeof i=="number"||typeof i=="string"?s=>typeof s=="string"?s:typeof i=="string"?i.startsWith("var(")&&s===0?0:i.startsWith("var(")&&s===1?i:`calc(${s} * ${i})`:i*s:Array.isArray(i)?s=>{if(typeof s=="string")return s;const o=Math.abs(s),a=i[o];return s>=0?a:typeof a=="number"?-a:typeof a=="string"&&a.startsWith("var(")?`calc(-1 * ${a})`:`-${a}`}:typeof i=="function"?i:()=>{}}function Bv(t){return ql(t,"spacing",8)}function Yl(t,e){return typeof e=="string"||e==null?e:t(e)}function Qz(t,e){return n=>t.reduce((r,i)=>(r[i]=Yl(e,n),r),{})}function Xz(t,e,n,r){if(!e.includes(n))return null;const i=Yz(n),s=Qz(i,r),o=t[n];return Tr(t,o,s)}function WI(t,e){const n=Bv(t.theme);return Object.keys(t).map(r=>Xz(t,e,r,n)).reduce(Oa,{})}function ke(t){return WI(t,Vv)}ke.propTypes={};ke.filterProps=Vv;function Ie(t){return WI(t,Uv)}Ie.propTypes={};Ie.filterProps=Uv;function vf(...t){const e=t.reduce((r,i)=>(i.filterProps.forEach(s=>{r[s]=i}),r),{}),n=r=>Object.keys(r).reduce((i,s)=>e[s]?Oa(i,e[s](r)):i,{});return n.propTypes={},n.filterProps=t.reduce((r,i)=>r.concat(i.filterProps),[]),n}function Zt(t){return typeof t!="number"?t:`${t}px solid`}function dn(t,e){return Le({prop:t,themeKey:"borders",transform:e})}const Jz=dn("border",Zt),Zz=dn("borderTop",Zt),eW=dn("borderRight",Zt),tW=dn("borderBottom",Zt),nW=dn("borderLeft",Zt),rW=dn("borderColor"),iW=dn("borderTopColor"),sW=dn("borderRightColor"),oW=dn("borderBottomColor"),aW=dn("borderLeftColor"),lW=dn("outline",Zt),cW=dn("outlineColor"),_f=t=>{if(t.borderRadius!==void 0&&t.borderRadius!==null){const e=ql(t.theme,"shape.borderRadius",4),n=r=>({borderRadius:Yl(e,r)});return Tr(t,t.borderRadius,n)}return null};_f.propTypes={};_f.filterProps=["borderRadius"];vf(Jz,Zz,eW,tW,nW,rW,iW,sW,oW,aW,_f,lW,cW);const wf=t=>{if(t.gap!==void 0&&t.gap!==null){const e=ql(t.theme,"spacing",8),n=r=>({gap:Yl(e,r)});return Tr(t,t.gap,n)}return null};wf.propTypes={};wf.filterProps=["gap"];const xf=t=>{if(t.columnGap!==void 0&&t.columnGap!==null){const e=ql(t.theme,"spacing",8),n=r=>({columnGap:Yl(e,r)});return Tr(t,t.columnGap,n)}return null};xf.propTypes={};xf.filterProps=["columnGap"];const Cf=t=>{if(t.rowGap!==void 0&&t.rowGap!==null){const e=ql(t.theme,"spacing",8),n=r=>({rowGap:Yl(e,r)});return Tr(t,t.rowGap,n)}return null};Cf.propTypes={};Cf.filterProps=["rowGap"];const uW=Le({prop:"gridColumn"}),dW=Le({prop:"gridRow"}),fW=Le({prop:"gridAutoFlow"}),hW=Le({prop:"gridAutoColumns"}),pW=Le({prop:"gridAutoRows"}),mW=Le({prop:"gridTemplateColumns"}),gW=Le({prop:"gridTemplateRows"}),yW=Le({prop:"gridTemplateAreas"}),vW=Le({prop:"gridArea"});vf(wf,xf,Cf,uW,dW,fW,hW,pW,mW,gW,yW,vW);function Ys(t,e){return e==="grey"?e:t}const _W=Le({prop:"color",themeKey:"palette",transform:Ys}),wW=Le({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette",transform:Ys}),xW=Le({prop:"backgroundColor",themeKey:"palette",transform:Ys});vf(_W,wW,xW);function Lt(t){return t<=1&&t!==0?`${t*100}%`:t}const CW=Le({prop:"width",transform:Lt}),zv=t=>{if(t.maxWidth!==void 0&&t.maxWidth!==null){const e=n=>{var i,s,o,a,l;const r=((o=(s=(i=t.theme)==null?void 0:i.breakpoints)==null?void 0:s.values)==null?void 0:o[n])||gf[n];return r?((l=(a=t.theme)==null?void 0:a.breakpoints)==null?void 0:l.unit)!=="px"?{maxWidth:`${r}${t.theme.breakpoints.unit}`}:{maxWidth:r}:{maxWidth:Lt(n)}};return Tr(t,t.maxWidth,e)}return null};zv.filterProps=["maxWidth"];const EW=Le({prop:"minWidth",transform:Lt}),SW=Le({prop:"height",transform:Lt}),bW=Le({prop:"maxHeight",transform:Lt}),TW=Le({prop:"minHeight",transform:Lt});Le({prop:"size",cssProperty:"width",transform:Lt});Le({prop:"size",cssProperty:"height",transform:Lt});const kW=Le({prop:"boxSizing"});vf(CW,zv,EW,SW,bW,TW,kW);const IW={border:{themeKey:"borders",transform:Zt},borderTop:{themeKey:"borders",transform:Zt},borderRight:{themeKey:"borders",transform:Zt},borderBottom:{themeKey:"borders",transform:Zt},borderLeft:{themeKey:"borders",transform:Zt},borderColor:{themeKey:"palette"},borderTopColor:{themeKey:"palette"},borderRightColor:{themeKey:"palette"},borderBottomColor:{themeKey:"palette"},borderLeftColor:{themeKey:"palette"},outline:{themeKey:"borders",transform:Zt},outlineColor:{themeKey:"palette"},borderRadius:{themeKey:"shape.borderRadius",style:_f},color:{themeKey:"palette",transform:Ys},bgcolor:{themeKey:"palette",cssProperty:"backgroundColor",transform:Ys},backgroundColor:{themeKey:"palette",transform:Ys},p:{style:Ie},pt:{style:Ie},pr:{style:Ie},pb:{style:Ie},pl:{style:Ie},px:{style:Ie},py:{style:Ie},padding:{style:Ie},paddingTop:{style:Ie},paddingRight:{style:Ie},paddingBottom:{style:Ie},paddingLeft:{style:Ie},paddingX:{style:Ie},paddingY:{style:Ie},paddingInline:{style:Ie},paddingInlineStart:{style:Ie},paddingInlineEnd:{style:Ie},paddingBlock:{style:Ie},paddingBlockStart:{style:Ie},paddingBlockEnd:{style:Ie},m:{style:ke},mt:{style:ke},mr:{style:ke},mb:{style:ke},ml:{style:ke},mx:{style:ke},my:{style:ke},margin:{style:ke},marginTop:{style:ke},marginRight:{style:ke},marginBottom:{style:ke},marginLeft:{style:ke},marginX:{style:ke},marginY:{style:ke},marginInline:{style:ke},marginInlineStart:{style:ke},marginInlineEnd:{style:ke},marginBlock:{style:ke},marginBlockStart:{style:ke},marginBlockEnd:{style:ke},displayPrint:{cssProperty:!1,transform:t=>({"@media print":{display:t}})},display:{},overflow:{},textOverflow:{},visibility:{},whiteSpace:{},flexBasis:{},flexDirection:{},flexWrap:{},justifyContent:{},alignItems:{},alignContent:{},order:{},flex:{},flexGrow:{},flexShrink:{},alignSelf:{},justifyItems:{},justifySelf:{},gap:{style:wf},rowGap:{style:Cf},columnGap:{style:xf},gridColumn:{},gridRow:{},gridAutoFlow:{},gridAutoColumns:{},gridAutoRows:{},gridTemplateColumns:{},gridTemplateRows:{},gridTemplateAreas:{},gridArea:{},position:{},zIndex:{themeKey:"zIndex"},top:{},right:{},bottom:{},left:{},boxShadow:{themeKey:"shadows"},width:{transform:Lt},maxWidth:{style:zv},minWidth:{transform:Lt},height:{transform:Lt},maxHeight:{transform:Lt},minHeight:{transform:Lt},boxSizing:{},font:{themeKey:"font"},fontFamily:{themeKey:"typography"},fontSize:{themeKey:"typography"},fontStyle:{themeKey:"typography"},fontWeight:{themeKey:"typography"},letterSpacing:{},textTransform:{},lineHeight:{},textAlign:{},typography:{cssProperty:!1,themeKey:"typography"}},Ql=IW;function PW(...t){const e=t.reduce((r,i)=>r.concat(Object.keys(i)),[]),n=new Set(e);return t.every(r=>n.size===Object.keys(r).length)}function RW(t,e){return typeof t=="function"?t(e):t}function NW(){function t(n,r,i,s){const o={[n]:r,theme:i},a=s[n];if(!a)return{[n]:r};const{cssProperty:l=n,themeKey:c,transform:u,style:d}=a;if(r==null)return null;if(c==="typography"&&r==="inherit")return{[n]:r};const f=yf(i,c)||{};return d?d(o):Tr(o,r,g=>{let _=pd(f,u,g);return g===_&&typeof g=="string"&&(_=pd(f,u,`${n}${g==="default"?"":VI(g)}`,g)),l===!1?_:{[l]:_}})}function e(n){const{sx:r,theme:i={}}=n||{};if(!r)return null;const s=i.unstable_sxConfig??Ql;function o(a){let l=a;if(typeof a=="function")l=a(i);else if(typeof a!="object")return a;if(!l)return null;const c=Wz(i.breakpoints),u=Object.keys(c);let d=c;return Object.keys(l).forEach(f=>{const p=RW(l[f],i);if(p!=null)if(typeof p=="object")if(s[f])d=Oa(d,t(f,p,i,s));else{const g=Tr({theme:i},p,_=>({[f]:_}));PW(g,p)?d[f]=e({sx:p,theme:i}):d=Oa(d,g)}else d=Oa(d,t(f,p,i,s))}),$z(i,Hz(u,d))}return Array.isArray(r)?r.map(o):o(r)}return e}const HI=NW();HI.filterProps=["sx"];const yo=HI,AW=t=>{var r;const e={systemProps:{},otherProps:{}},n=((r=t==null?void 0:t.theme)==null?void 0:r.unstable_sxConfig)??Ql;return Object.keys(t).forEach(i=>{n[i]?e.systemProps[i]=t[i]:e.otherProps[i]=t[i]}),e};function DW(t){const{sx:e,...n}=t,{systemProps:r,otherProps:i}=AW(n);let s;return Array.isArray(e)?s=[r,...e]:typeof e=="function"?s=(...o)=>{const a=e(...o);return jn(a)?{...r,...a}:r}:s={...r,...e},{...i,sx:s}}function Rm(){return Rm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Rm.apply(null,arguments)}var OW=!1;function MW(t){if(t.sheet)return t.sheet;for(var e=0;e<document.styleSheets.length;e++)if(document.styleSheets[e].ownerNode===t)return document.styleSheets[e]}function LW(t){var e=document.createElement("style");return e.setAttribute("data-emotion",t.key),t.nonce!==void 0&&e.setAttribute("nonce",t.nonce),e.appendChild(document.createTextNode("")),e.setAttribute("data-s",""),e}var jW=function(){function t(n){var r=this;this._insertTag=function(i){var s;r.tags.length===0?r.insertionPoint?s=r.insertionPoint.nextSibling:r.prepend?s=r.container.firstChild:s=r.before:s=r.tags[r.tags.length-1].nextSibling,r.container.insertBefore(i,s),r.tags.push(i)},this.isSpeedy=n.speedy===void 0?!OW:n.speedy,this.tags=[],this.ctr=0,this.nonce=n.nonce,this.key=n.key,this.container=n.container,this.prepend=n.prepend,this.insertionPoint=n.insertionPoint,this.before=null}var e=t.prototype;return e.hydrate=function(r){r.forEach(this._insertTag)},e.insert=function(r){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(LW(this));var i=this.tags[this.tags.length-1];if(this.isSpeedy){var s=MW(i);try{s.insertRule(r,s.cssRules.length)}catch{}}else i.appendChild(document.createTextNode(r));this.ctr++},e.flush=function(){this.tags.forEach(function(r){var i;return(i=r.parentNode)==null?void 0:i.removeChild(r)}),this.tags=[],this.ctr=0},t}(),ot="-ms-",md="-moz-",ne="-webkit-",GI="comm",Wv="rule",Hv="decl",FW="@import",KI="@keyframes",$W="@layer",VW=Math.abs,Ef=String.fromCharCode,UW=Object.assign;function BW(t,e){return Je(t,0)^45?(((e<<2^Je(t,0))<<2^Je(t,1))<<2^Je(t,2))<<2^Je(t,3):0}function qI(t){return t.trim()}function zW(t,e){return(t=e.exec(t))?t[0]:t}function re(t,e,n){return t.replace(e,n)}function Nm(t,e){return t.indexOf(e)}function Je(t,e){return t.charCodeAt(e)|0}function _l(t,e,n){return t.slice(e,n)}function On(t){return t.length}function Gv(t){return t.length}function Rc(t,e){return e.push(t),t}function WW(t,e){return t.map(e).join("")}var Sf=1,vo=1,YI=0,Dt=0,$e=0,Mo="";function bf(t,e,n,r,i,s,o){return{value:t,root:e,parent:n,type:r,props:i,children:s,line:Sf,column:vo,length:o,return:""}}function Jo(t,e){return UW(bf("",null,null,"",null,null,0),t,{length:-t.length},e)}function HW(){return $e}function GW(){return $e=Dt>0?Je(Mo,--Dt):0,vo--,$e===10&&(vo=1,Sf--),$e}function Vt(){return $e=Dt<YI?Je(Mo,Dt++):0,vo++,$e===10&&(vo=1,Sf++),$e}function Wn(){return Je(Mo,Dt)}function iu(){return Dt}function Xl(t,e){return _l(Mo,t,e)}function wl(t){switch(t){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function QI(t){return Sf=vo=1,YI=On(Mo=t),Dt=0,[]}function XI(t){return Mo="",t}function su(t){return qI(Xl(Dt-1,Am(t===91?t+2:t===40?t+1:t)))}function KW(t){for(;($e=Wn())&&$e<33;)Vt();return wl(t)>2||wl($e)>3?"":" "}function qW(t,e){for(;--e&&Vt()&&!($e<48||$e>102||$e>57&&$e<65||$e>70&&$e<97););return Xl(t,iu()+(e<6&&Wn()==32&&Vt()==32))}function Am(t){for(;Vt();)switch($e){case t:return Dt;case 34:case 39:t!==34&&t!==39&&Am($e);break;case 40:t===41&&Am(t);break;case 92:Vt();break}return Dt}function YW(t,e){for(;Vt()&&t+$e!==47+10;)if(t+$e===42+42&&Wn()===47)break;return"/*"+Xl(e,Dt-1)+"*"+Ef(t===47?t:Vt())}function QW(t){for(;!wl(Wn());)Vt();return Xl(t,Dt)}function XW(t){return XI(ou("",null,null,null,[""],t=QI(t),0,[0],t))}function ou(t,e,n,r,i,s,o,a,l){for(var c=0,u=0,d=o,f=0,p=0,g=0,_=1,E=1,m=1,v=0,y="",C=i,S=s,b=r,T=y;E;)switch(g=v,v=Vt()){case 40:if(g!=108&&Je(T,d-1)==58){Nm(T+=re(su(v),"&","&\f"),"&\f")!=-1&&(m=-1);break}case 34:case 39:case 91:T+=su(v);break;case 9:case 10:case 13:case 32:T+=KW(g);break;case 92:T+=qW(iu()-1,7);continue;case 47:switch(Wn()){case 42:case 47:Rc(JW(YW(Vt(),iu()),e,n),l);break;default:T+="/"}break;case 123*_:a[c++]=On(T)*m;case 125*_:case 59:case 0:switch(v){case 0:case 125:E=0;case 59+u:m==-1&&(T=re(T,/\f/g,"")),p>0&&On(T)-d&&Rc(p>32?hC(T+";",r,n,d-1):hC(re(T," ","")+";",r,n,d-2),l);break;case 59:T+=";";default:if(Rc(b=fC(T,e,n,c,u,i,a,y,C=[],S=[],d),s),v===123)if(u===0)ou(T,e,b,b,C,s,d,a,S);else switch(f===99&&Je(T,3)===110?100:f){case 100:case 108:case 109:case 115:ou(t,b,b,r&&Rc(fC(t,b,b,0,0,i,a,y,i,C=[],d),S),i,S,d,a,r?C:S);break;default:ou(T,b,b,b,[""],S,0,a,S)}}c=u=p=0,_=m=1,y=T="",d=o;break;case 58:d=1+On(T),p=g;default:if(_<1){if(v==123)--_;else if(v==125&&_++==0&&GW()==125)continue}switch(T+=Ef(v),v*_){case 38:m=u>0?1:(T+="\f",-1);break;case 44:a[c++]=(On(T)-1)*m,m=1;break;case 64:Wn()===45&&(T+=su(Vt())),f=Wn(),u=d=On(y=T+=QW(iu())),v++;break;case 45:g===45&&On(T)==2&&(_=0)}}return s}function fC(t,e,n,r,i,s,o,a,l,c,u){for(var d=i-1,f=i===0?s:[""],p=Gv(f),g=0,_=0,E=0;g<r;++g)for(var m=0,v=_l(t,d+1,d=VW(_=o[g])),y=t;m<p;++m)(y=qI(_>0?f[m]+" "+v:re(v,/&\f/g,f[m])))&&(l[E++]=y);return bf(t,e,n,i===0?Wv:a,l,c,u)}function JW(t,e,n){return bf(t,e,n,GI,Ef(HW()),_l(t,2,-2),0)}function hC(t,e,n,r){return bf(t,e,n,Hv,_l(t,0,r),_l(t,r+1,-1),r)}function Qs(t,e){for(var n="",r=Gv(t),i=0;i<r;i++)n+=e(t[i],i,t,e)||"";return n}function ZW(t,e,n,r){switch(t.type){case $W:if(t.children.length)break;case FW:case Hv:return t.return=t.return||t.value;case GI:return"";case KI:return t.return=t.value+"{"+Qs(t.children,r)+"}";case Wv:t.value=t.props.join(",")}return On(n=Qs(t.children,r))?t.return=t.value+"{"+n+"}":""}function e8(t){var e=Gv(t);return function(n,r,i,s){for(var o="",a=0;a<e;a++)o+=t[a](n,r,i,s)||"";return o}}function t8(t){return function(e){e.root||(e=e.return)&&t(e)}}function JI(t){var e=Object.create(null);return function(n){return e[n]===void 0&&(e[n]=t(n)),e[n]}}var n8=function(e,n,r){for(var i=0,s=0;i=s,s=Wn(),i===38&&s===12&&(n[r]=1),!wl(s);)Vt();return Xl(e,Dt)},r8=function(e,n){var r=-1,i=44;do switch(wl(i)){case 0:i===38&&Wn()===12&&(n[r]=1),e[r]+=n8(Dt-1,n,r);break;case 2:e[r]+=su(i);break;case 4:if(i===44){e[++r]=Wn()===58?"&\f":"",n[r]=e[r].length;break}default:e[r]+=Ef(i)}while(i=Vt());return e},i8=function(e,n){return XI(r8(QI(e),n))},pC=new WeakMap,s8=function(e){if(!(e.type!=="rule"||!e.parent||e.length<1)){for(var n=e.value,r=e.parent,i=e.column===r.column&&e.line===r.line;r.type!=="rule";)if(r=r.parent,!r)return;if(!(e.props.length===1&&n.charCodeAt(0)!==58&&!pC.get(r))&&!i){pC.set(e,!0);for(var s=[],o=i8(n,s),a=r.props,l=0,c=0;l<o.length;l++)for(var u=0;u<a.length;u++,c++)e.props[c]=s[l]?o[l].replace(/&\f/g,a[u]):a[u]+" "+o[l]}}},o8=function(e){if(e.type==="decl"){var n=e.value;n.charCodeAt(0)===108&&n.charCodeAt(2)===98&&(e.return="",e.value="")}};function ZI(t,e){switch(BW(t,e)){case 5103:return ne+"print-"+t+t;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return ne+t+t;case 5349:case 4246:case 4810:case 6968:case 2756:return ne+t+md+t+ot+t+t;case 6828:case 4268:return ne+t+ot+t+t;case 6165:return ne+t+ot+"flex-"+t+t;case 5187:return ne+t+re(t,/(\w+).+(:[^]+)/,ne+"box-$1$2"+ot+"flex-$1$2")+t;case 5443:return ne+t+ot+"flex-item-"+re(t,/flex-|-self/,"")+t;case 4675:return ne+t+ot+"flex-line-pack"+re(t,/align-content|flex-|-self/,"")+t;case 5548:return ne+t+ot+re(t,"shrink","negative")+t;case 5292:return ne+t+ot+re(t,"basis","preferred-size")+t;case 6060:return ne+"box-"+re(t,"-grow","")+ne+t+ot+re(t,"grow","positive")+t;case 4554:return ne+re(t,/([^-])(transform)/g,"$1"+ne+"$2")+t;case 6187:return re(re(re(t,/(zoom-|grab)/,ne+"$1"),/(image-set)/,ne+"$1"),t,"")+t;case 5495:case 3959:return re(t,/(image-set\([^]*)/,ne+"$1$`$1");case 4968:return re(re(t,/(.+:)(flex-)?(.*)/,ne+"box-pack:$3"+ot+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+ne+t+t;case 4095:case 3583:case 4068:case 2532:return re(t,/(.+)-inline(.+)/,ne+"$1$2")+t;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(On(t)-1-e>6)switch(Je(t,e+1)){case 109:if(Je(t,e+4)!==45)break;case 102:return re(t,/(.+:)(.+)-([^]+)/,"$1"+ne+"$2-$3$1"+md+(Je(t,e+3)==108?"$3":"$2-$3"))+t;case 115:return~Nm(t,"stretch")?ZI(re(t,"stretch","fill-available"),e)+t:t}break;case 4949:if(Je(t,e+1)!==115)break;case 6444:switch(Je(t,On(t)-3-(~Nm(t,"!important")&&10))){case 107:return re(t,":",":"+ne)+t;case 101:return re(t,/(.+:)([^;!]+)(;|!.+)?/,"$1"+ne+(Je(t,14)===45?"inline-":"")+"box$3$1"+ne+"$2$3$1"+ot+"$2box$3")+t}break;case 5936:switch(Je(t,e+11)){case 114:return ne+t+ot+re(t,/[svh]\w+-[tblr]{2}/,"tb")+t;case 108:return ne+t+ot+re(t,/[svh]\w+-[tblr]{2}/,"tb-rl")+t;case 45:return ne+t+ot+re(t,/[svh]\w+-[tblr]{2}/,"lr")+t}return ne+t+ot+t+t}return t}var a8=function(e,n,r,i){if(e.length>-1&&!e.return)switch(e.type){case Hv:e.return=ZI(e.value,e.length);break;case KI:return Qs([Jo(e,{value:re(e.value,"@","@"+ne)})],i);case Wv:if(e.length)return WW(e.props,function(s){switch(zW(s,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return Qs([Jo(e,{props:[re(s,/:(read-\w+)/,":"+md+"$1")]})],i);case"::placeholder":return Qs([Jo(e,{props:[re(s,/:(plac\w+)/,":"+ne+"input-$1")]}),Jo(e,{props:[re(s,/:(plac\w+)/,":"+md+"$1")]}),Jo(e,{props:[re(s,/:(plac\w+)/,ot+"input-$1")]})],i)}return""})}},l8=[a8],c8=function(e){var n=e.key;if(n==="css"){var r=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(r,function(_){var E=_.getAttribute("data-emotion");E.indexOf(" ")!==-1&&(document.head.appendChild(_),_.setAttribute("data-s",""))})}var i=e.stylisPlugins||l8,s={},o,a=[];o=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+n+' "]'),function(_){for(var E=_.getAttribute("data-emotion").split(" "),m=1;m<E.length;m++)s[E[m]]=!0;a.push(_)});var l,c=[s8,o8];{var u,d=[ZW,t8(function(_){u.insert(_)})],f=e8(c.concat(i,d)),p=function(E){return Qs(XW(E),f)};l=function(E,m,v,y){u=v,p(E?E+"{"+m.styles+"}":m.styles),y&&(g.inserted[m.name]=!0)}}var g={key:n,sheet:new jW({key:n,container:o,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:s,registered:{},insert:l};return g.sheet.hydrate(a),g},u8=!0;function d8(t,e,n){var r="";return n.split(" ").forEach(function(i){t[i]!==void 0?e.push(t[i]+";"):i&&(r+=i+" ")}),r}var eP=function(e,n,r){var i=e.key+"-"+n.name;(r===!1||u8===!1)&&e.registered[i]===void 0&&(e.registered[i]=n.styles)},f8=function(e,n,r){eP(e,n,r);var i=e.key+"-"+n.name;if(e.inserted[n.name]===void 0){var s=n;do e.insert(n===s?"."+i:"",s,e.sheet,!0),s=s.next;while(s!==void 0)}};function h8(t){for(var e=0,n,r=0,i=t.length;i>=4;++r,i-=4)n=t.charCodeAt(r)&255|(t.charCodeAt(++r)&255)<<8|(t.charCodeAt(++r)&255)<<16|(t.charCodeAt(++r)&255)<<24,n=(n&65535)*1540483477+((n>>>16)*59797<<16),n^=n>>>24,e=(n&65535)*1540483477+((n>>>16)*59797<<16)^(e&65535)*1540483477+((e>>>16)*59797<<16);switch(i){case 3:e^=(t.charCodeAt(r+2)&255)<<16;case 2:e^=(t.charCodeAt(r+1)&255)<<8;case 1:e^=t.charCodeAt(r)&255,e=(e&65535)*1540483477+((e>>>16)*59797<<16)}return e^=e>>>13,e=(e&65535)*1540483477+((e>>>16)*59797<<16),((e^e>>>15)>>>0).toString(36)}var p8={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,scale:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},m8=!1,g8=/[A-Z]|^ms/g,y8=/_EMO_([^_]+?)_([^]*?)_EMO_/g,tP=function(e){return e.charCodeAt(1)===45},mC=function(e){return e!=null&&typeof e!="boolean"},jh=JI(function(t){return tP(t)?t:t.replace(g8,"-$&").toLowerCase()}),gC=function(e,n){switch(e){case"animation":case"animationName":if(typeof n=="string")return n.replace(y8,function(r,i,s){return Mn={name:i,styles:s,next:Mn},i})}return p8[e]!==1&&!tP(e)&&typeof n=="number"&&n!==0?n+"px":n},v8="Component selectors can only be used in conjunction with @emotion/babel-plugin, the swc Emotion plugin, or another Emotion-aware compiler transform.";function xl(t,e,n){if(n==null)return"";var r=n;if(r.__emotion_styles!==void 0)return r;switch(typeof n){case"boolean":return"";case"object":{var i=n;if(i.anim===1)return Mn={name:i.name,styles:i.styles,next:Mn},i.name;var s=n;if(s.styles!==void 0){var o=s.next;if(o!==void 0)for(;o!==void 0;)Mn={name:o.name,styles:o.styles,next:Mn},o=o.next;var a=s.styles+";";return a}return _8(t,e,n)}case"function":{if(t!==void 0){var l=Mn,c=n(t);return Mn=l,xl(t,e,c)}break}}var u=n;if(e==null)return u;var d=e[u];return d!==void 0?d:u}function _8(t,e,n){var r="";if(Array.isArray(n))for(var i=0;i<n.length;i++)r+=xl(t,e,n[i])+";";else for(var s in n){var o=n[s];if(typeof o!="object"){var a=o;e!=null&&e[a]!==void 0?r+=s+"{"+e[a]+"}":mC(a)&&(r+=jh(s)+":"+gC(s,a)+";")}else{if(s==="NO_COMPONENT_SELECTOR"&&m8)throw new Error(v8);if(Array.isArray(o)&&typeof o[0]=="string"&&(e==null||e[o[0]]===void 0))for(var l=0;l<o.length;l++)mC(o[l])&&(r+=jh(s)+":"+gC(s,o[l])+";");else{var c=xl(t,e,o);switch(s){case"animation":case"animationName":{r+=jh(s)+":"+c+";";break}default:r+=s+"{"+c+"}"}}}}return r}var yC=/label:\s*([^\s;{]+)\s*(;|$)/g,Mn;function nP(t,e,n){if(t.length===1&&typeof t[0]=="object"&&t[0]!==null&&t[0].styles!==void 0)return t[0];var r=!0,i="";Mn=void 0;var s=t[0];if(s==null||s.raw===void 0)r=!1,i+=xl(n,e,s);else{var o=s;i+=o[0]}for(var a=1;a<t.length;a++)if(i+=xl(n,e,t[a]),r){var l=s;i+=l[a]}yC.lastIndex=0;for(var c="",u;(u=yC.exec(i))!==null;)c+="-"+u[1];var d=h8(i)+c;return{name:d,styles:i,next:Mn}}var w8=function(e){return e()},x8=a0["useInsertionEffect"]?a0["useInsertionEffect"]:!1,C8=x8||w8,rP=x.createContext(typeof HTMLElement<"u"?c8({key:"css"}):null);rP.Provider;var E8=function(e){return x.forwardRef(function(n,r){var i=x.useContext(rP);return e(n,i,r)})},iP=x.createContext({}),S8=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|disableRemotePlayback|download|draggable|encType|enterKeyHint|fetchpriority|fetchPriority|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,b8=JI(function(t){return S8.test(t)||t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)<91}),T8=!1,k8=b8,I8=function(e){return e!=="theme"},vC=function(e){return typeof e=="string"&&e.charCodeAt(0)>96?k8:I8},_C=function(e,n,r){var i;if(n){var s=n.shouldForwardProp;i=e.__emotion_forwardProp&&s?function(o){return e.__emotion_forwardProp(o)&&s(o)}:s}return typeof i!="function"&&r&&(i=e.__emotion_forwardProp),i},P8=function(e){var n=e.cache,r=e.serialized,i=e.isStringTag;return eP(n,r,i),C8(function(){return f8(n,r,i)}),null},R8=function t(e,n){var r=e.__emotion_real===e,i=r&&e.__emotion_base||e,s,o;n!==void 0&&(s=n.label,o=n.target);var a=_C(e,n,r),l=a||vC(i),c=!l("as");return function(){var u=arguments,d=r&&e.__emotion_styles!==void 0?e.__emotion_styles.slice(0):[];if(s!==void 0&&d.push("label:"+s+";"),u[0]==null||u[0].raw===void 0)d.push.apply(d,u);else{var f=u[0];d.push(f[0]);for(var p=u.length,g=1;g<p;g++)d.push(u[g],f[g])}var _=E8(function(E,m,v){var y=c&&E.as||i,C="",S=[],b=E;if(E.theme==null){b={};for(var T in E)b[T]=E[T];b.theme=x.useContext(iP)}typeof E.className=="string"?C=d8(m.registered,S,E.className):E.className!=null&&(C=E.className+" ");var k=nP(d.concat(S),m.registered,b);C+=m.key+"-"+k.name,o!==void 0&&(C+=" "+o);var N=c&&a===void 0?vC(y):l,w={};for(var R in E)c&&R==="as"||N(R)&&(w[R]=E[R]);return w.className=C,v&&(w.ref=v),x.createElement(x.Fragment,null,x.createElement(P8,{cache:m,serialized:k,isStringTag:typeof y=="string"}),x.createElement(y,w))});return _.displayName=s!==void 0?s:"Styled("+(typeof i=="string"?i:i.displayName||i.name||"Component")+")",_.defaultProps=e.defaultProps,_.__emotion_real=_,_.__emotion_base=i,_.__emotion_styles=d,_.__emotion_forwardProp=a,Object.defineProperty(_,"toString",{value:function(){return o===void 0&&T8?"NO_COMPONENT_SELECTOR":"."+o}}),_.withComponent=function(E,m){var v=t(E,Rm({},n,m,{shouldForwardProp:_C(_,m,!0)}));return v.apply(void 0,d)},_}},N8=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"],Dm=R8.bind(null);N8.forEach(function(t){Dm[t]=Dm(t)});/**
 * @mui/styled-engine v7.1.0
 *
 * @license MIT
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */function sP(t,e){return Dm(t,e)}function A8(t,e){Array.isArray(t.__emotion_styles)&&(t.__emotion_styles=e(t.__emotion_styles))}const wC=[];function xC(t){return wC[0]=t,nP(wC)}const D8=t=>{const e=Object.keys(t).map(n=>({key:n,val:t[n]}))||[];return e.sort((n,r)=>n.val-r.val),e.reduce((n,r)=>({...n,[r.key]:r.val}),{})};function O8(t){const{values:e={xs:0,sm:600,md:900,lg:1200,xl:1536},unit:n="px",step:r=5,...i}=t,s=D8(e),o=Object.keys(s);function a(f){return`@media (min-width:${typeof e[f]=="number"?e[f]:f}${n})`}function l(f){return`@media (max-width:${(typeof e[f]=="number"?e[f]:f)-r/100}${n})`}function c(f,p){const g=o.indexOf(p);return`@media (min-width:${typeof e[f]=="number"?e[f]:f}${n}) and (max-width:${(g!==-1&&typeof e[o[g]]=="number"?e[o[g]]:p)-r/100}${n})`}function u(f){return o.indexOf(f)+1<o.length?c(f,o[o.indexOf(f)+1]):a(f)}function d(f){const p=o.indexOf(f);return p===0?a(o[1]):p===o.length-1?l(o[p]):c(f,o[o.indexOf(f)+1]).replace("@media","@media not all and")}return{keys:o,values:s,up:a,down:l,between:c,only:u,not:d,unit:n,...i}}const M8={borderRadius:4},L8=M8;function oP(t=8,e=Bv({spacing:t})){if(t.mui)return t;const n=(...r)=>(r.length===0?[1]:r).map(s=>{const o=e(s);return typeof o=="number"?`${o}px`:o}).join(" ");return n.mui=!0,n}function j8(t,e){var r;const n=this;if(n.vars){if(!((r=n.colorSchemes)!=null&&r[t])||typeof n.getColorSchemeSelector!="function")return{};let i=n.getColorSchemeSelector(t);return i==="&"?e:((i.includes("data-")||i.includes("."))&&(i=`*:where(${i.replace(/\s*&$/,"")}) &`),{[i]:e})}return n.palette.mode===t?e:{}}function Kv(t={},...e){const{breakpoints:n={},palette:r={},spacing:i,shape:s={},...o}=t,a=O8(n),l=oP(i);let c=$t({breakpoints:a,direction:"ltr",components:{},palette:{mode:"light",...r},spacing:l,shape:{...L8,...s}},o);return c=Bz(c),c.applyStyles=j8,c=e.reduce((u,d)=>$t(u,d),c),c.unstable_sxConfig={...Ql,...o==null?void 0:o.unstable_sxConfig},c.unstable_sx=function(d){return yo({sx:d,theme:this})},c}function F8(t){return Object.keys(t).length===0}function $8(t=null){const e=x.useContext(iP);return!e||F8(e)?t:e}const V8=Kv();function aP(t=V8){return $8(t)}const CC=t=>t,U8=()=>{let t=CC;return{configure(e){t=e},generate(e){return t(e)},reset(){t=CC}}},B8=U8(),lP=B8;function z8(t={}){const{themeId:e,defaultTheme:n,defaultClassName:r="MuiBox-root",generateClassName:i}=t,s=sP("div",{shouldForwardProp:a=>a!=="theme"&&a!=="sx"&&a!=="as"})(yo);return x.forwardRef(function(l,c){const u=aP(n),{className:d,component:f="div",...p}=DW(l);return h.jsx(s,{as:f,ref:c,className:go(d,i?i(r):r),theme:e&&u[e]||u,...p})})}const W8={active:"active",checked:"checked",completed:"completed",disabled:"disabled",error:"error",expanded:"expanded",focused:"focused",focusVisible:"focusVisible",open:"open",readOnly:"readOnly",required:"required",selected:"selected"};function qv(t,e,n="Mui"){const r=W8[e];return r?`${n}-${r}`:`${lP.generate(t)}-${e}`}function Yv(t,e,n="Mui"){const r={};return e.forEach(i=>{r[i]=qv(t,i,n)}),r}function cP(t){const{variants:e,...n}=t,r={variants:e,style:xC(n),isProcessed:!0};return r.style===n||e&&e.forEach(i=>{typeof i.style!="function"&&(i.style=xC(i.style))}),r}const H8=Kv();function Fh(t){return t!=="ownerState"&&t!=="theme"&&t!=="sx"&&t!=="as"}function G8(t){return t?(e,n)=>n[t]:null}function K8(t,e,n){t.theme=Q8(t.theme)?n:t.theme[e]||t.theme}function au(t,e){const n=typeof e=="function"?e(t):e;if(Array.isArray(n))return n.flatMap(r=>au(t,r));if(Array.isArray(n==null?void 0:n.variants)){let r;if(n.isProcessed)r=n.style;else{const{variants:i,...s}=n;r=s}return uP(t,n.variants,[r])}return n!=null&&n.isProcessed?n.style:n}function uP(t,e,n=[]){var i;let r;e:for(let s=0;s<e.length;s+=1){const o=e[s];if(typeof o.props=="function"){if(r??(r={...t,...t.ownerState,ownerState:t.ownerState}),!o.props(r))continue}else for(const a in o.props)if(t[a]!==o.props[a]&&((i=t.ownerState)==null?void 0:i[a])!==o.props[a])continue e;typeof o.style=="function"?(r??(r={...t,...t.ownerState,ownerState:t.ownerState}),n.push(o.style(r))):n.push(o.style)}return n}function q8(t={}){const{themeId:e,defaultTheme:n=H8,rootShouldForwardProp:r=Fh,slotShouldForwardProp:i=Fh}=t;function s(a){K8(a,e,n)}return(a,l={})=>{A8(a,S=>S.filter(b=>b!==yo));const{name:c,slot:u,skipVariantsResolver:d,skipSx:f,overridesResolver:p=G8(J8(u)),...g}=l,_=d!==void 0?d:u&&u!=="Root"&&u!=="root"||!1,E=f||!1;let m=Fh;u==="Root"||u==="root"?m=r:u?m=i:X8(a)&&(m=void 0);const v=sP(a,{shouldForwardProp:m,label:Y8(),...g}),y=S=>{if(typeof S=="function"&&S.__emotion_real!==S)return function(T){return au(T,S)};if(jn(S)){const b=cP(S);return b.variants?function(k){return au(k,b)}:b.style}return S},C=(...S)=>{const b=[],T=S.map(y),k=[];if(b.push(s),c&&p&&k.push(function(M){var G,K;const U=(K=(G=M.theme.components)==null?void 0:G[c])==null?void 0:K.styleOverrides;if(!U)return null;const $={};for(const O in U)$[O]=au(M,U[O]);return p(M,$)}),c&&!_&&k.push(function(M){var $,G;const F=M.theme,U=(G=($=F==null?void 0:F.components)==null?void 0:$[c])==null?void 0:G.variants;return U?uP(M,U):null}),E||k.push(yo),Array.isArray(T[0])){const R=T.shift(),M=new Array(b.length).fill(""),F=new Array(k.length).fill("");let U;U=[...M,...R,...F],U.raw=[...M,...R.raw,...F],b.unshift(U)}const N=[...b,...T,...k],w=v(...N);return a.muiName&&(w.muiName=a.muiName),w};return v.withConfig&&(C.withConfig=v.withConfig),C}}function Y8(t,e){let n;return n}function Q8(t){for(const e in t)return!1;return!0}function X8(t){return typeof t=="string"&&t.charCodeAt(0)>96}function J8(t){return t&&t.charAt(0).toLowerCase()+t.slice(1)}function Om(t,e){const n={...e};for(const r in t)if(Object.prototype.hasOwnProperty.call(t,r)){const i=r;if(i==="components"||i==="slots")n[i]={...t[i],...n[i]};else if(i==="componentsProps"||i==="slotProps"){const s=t[i],o=e[i];if(!o)n[i]=s||{};else if(!s)n[i]=o;else{n[i]={...o};for(const a in s)if(Object.prototype.hasOwnProperty.call(s,a)){const l=a;n[i][l]=Om(s[l],o[l])}}}else n[i]===void 0&&(n[i]=t[i])}return n}function Z8(t,e=Number.MIN_SAFE_INTEGER,n=Number.MAX_SAFE_INTEGER){return Math.max(e,Math.min(t,n))}function Qv(t,e=0,n=1){return Z8(t,e,n)}function eH(t){t=t.slice(1);const e=new RegExp(`.{1,${t.length>=6?2:1}}`,"g");let n=t.match(e);return n&&n[0].length===1&&(n=n.map(r=>r+r)),n?`rgb${n.length===4?"a":""}(${n.map((r,i)=>i<3?parseInt(r,16):Math.round(parseInt(r,16)/255*1e3)/1e3).join(", ")})`:""}function ui(t){if(t.type)return t;if(t.charAt(0)==="#")return ui(eH(t));const e=t.indexOf("("),n=t.substring(0,e);if(!["rgb","rgba","hsl","hsla","color"].includes(n))throw new Error(ts(9,t));let r=t.substring(e+1,t.length-1),i;if(n==="color"){if(r=r.split(" "),i=r.shift(),r.length===4&&r[3].charAt(0)==="/"&&(r[3]=r[3].slice(1)),!["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].includes(i))throw new Error(ts(10,i))}else r=r.split(",");return r=r.map(s=>parseFloat(s)),{type:n,values:r,colorSpace:i}}const tH=t=>{const e=ui(t);return e.values.slice(0,3).map((n,r)=>e.type.includes("hsl")&&r!==0?`${n}%`:n).join(" ")},ua=(t,e)=>{try{return tH(t)}catch{return t}};function Tf(t){const{type:e,colorSpace:n}=t;let{values:r}=t;return e.includes("rgb")?r=r.map((i,s)=>s<3?parseInt(i,10):i):e.includes("hsl")&&(r[1]=`${r[1]}%`,r[2]=`${r[2]}%`),e.includes("color")?r=`${n} ${r.join(" ")}`:r=`${r.join(", ")}`,`${e}(${r})`}function dP(t){t=ui(t);const{values:e}=t,n=e[0],r=e[1]/100,i=e[2]/100,s=r*Math.min(i,1-i),o=(c,u=(c+n/30)%12)=>i-s*Math.max(Math.min(u-3,9-u,1),-1);let a="rgb";const l=[Math.round(o(0)*255),Math.round(o(8)*255),Math.round(o(4)*255)];return t.type==="hsla"&&(a+="a",l.push(e[3])),Tf({type:a,values:l})}function Mm(t){t=ui(t);let e=t.type==="hsl"||t.type==="hsla"?ui(dP(t)).values:t.values;return e=e.map(n=>(t.type!=="color"&&(n/=255),n<=.03928?n/12.92:((n+.055)/1.055)**2.4)),Number((.2126*e[0]+.7152*e[1]+.0722*e[2]).toFixed(3))}function nH(t,e){const n=Mm(t),r=Mm(e);return(Math.max(n,r)+.05)/(Math.min(n,r)+.05)}function rH(t,e){return t=ui(t),e=Qv(e),(t.type==="rgb"||t.type==="hsl")&&(t.type+="a"),t.type==="color"?t.values[3]=`/${e}`:t.values[3]=e,Tf(t)}function Nc(t,e,n){try{return rH(t,e)}catch{return t}}function Xv(t,e){if(t=ui(t),e=Qv(e),t.type.includes("hsl"))t.values[2]*=1-e;else if(t.type.includes("rgb")||t.type.includes("color"))for(let n=0;n<3;n+=1)t.values[n]*=1-e;return Tf(t)}function ae(t,e,n){try{return Xv(t,e)}catch{return t}}function Jv(t,e){if(t=ui(t),e=Qv(e),t.type.includes("hsl"))t.values[2]+=(100-t.values[2])*e;else if(t.type.includes("rgb"))for(let n=0;n<3;n+=1)t.values[n]+=(255-t.values[n])*e;else if(t.type.includes("color"))for(let n=0;n<3;n+=1)t.values[n]+=(1-t.values[n])*e;return Tf(t)}function le(t,e,n){try{return Jv(t,e)}catch{return t}}function iH(t,e=.15){return Mm(t)>.5?Xv(t,e):Jv(t,e)}function Ac(t,e,n){try{return iH(t,e)}catch{return t}}const sH=x.createContext(void 0);function oH(t){const{theme:e,name:n,props:r}=t;if(!e||!e.components||!e.components[n])return r;const i=e.components[n];return i.defaultProps?Om(i.defaultProps,r):!i.styleOverrides&&!i.variants?Om(i,r):r}function aH({props:t,name:e}){const n=x.useContext(sH);return oH({props:t,name:e,theme:{components:n}})}const EC={theme:void 0};function lH(t){let e,n;return function(i){let s=e;return(s===void 0||i.theme!==n)&&(EC.theme=i.theme,s=cP(t(EC)),e=s,n=i.theme),s}}function cH(t=""){function e(...r){if(!r.length)return"";const i=r[0];return typeof i=="string"&&!i.match(/(#|\(|\)|(-?(\d*\.)?\d+)(px|em|%|ex|ch|rem|vw|vh|vmin|vmax|cm|mm|in|pt|pc))|^(-?(\d*\.)?\d+)$|(\d+ \d+ \d+)/)?`, var(--${t?`${t}-`:""}${i}${e(...r.slice(1))})`:`, ${i}`}return(r,...i)=>`var(--${t?`${t}-`:""}${r}${e(...i)})`}const SC=(t,e,n,r=[])=>{let i=t;e.forEach((s,o)=>{o===e.length-1?Array.isArray(i)?i[Number(s)]=n:i&&typeof i=="object"&&(i[s]=n):i&&typeof i=="object"&&(i[s]||(i[s]=r.includes(s)?[]:{}),i=i[s])})},uH=(t,e,n)=>{function r(i,s=[],o=[]){Object.entries(i).forEach(([a,l])=>{(!n||n&&!n([...s,a]))&&l!=null&&(typeof l=="object"&&Object.keys(l).length>0?r(l,[...s,a],Array.isArray(l)?[...o,a]:o):e([...s,a],l,o))})}r(t)},dH=(t,e)=>typeof e=="number"?["lineHeight","fontWeight","opacity","zIndex"].some(r=>t.includes(r))||t[t.length-1].toLowerCase().includes("opacity")?e:`${e}px`:e;function $h(t,e){const{prefix:n,shouldSkipGeneratingVar:r}=e||{},i={},s={},o={};return uH(t,(a,l,c)=>{if((typeof l=="string"||typeof l=="number")&&(!r||!r(a,l))){const u=`--${n?`${n}-`:""}${a.join("-")}`,d=dH(a,l);Object.assign(i,{[u]:d}),SC(s,a,`var(${u})`,c),SC(o,a,`var(${u}, ${d})`,c)}},a=>a[0]==="vars"),{css:i,vars:s,varsWithDefaults:o}}function fH(t,e={}){const{getSelector:n=E,disableCssColorScheme:r,colorSchemeSelector:i}=e,{colorSchemes:s={},components:o,defaultColorScheme:a="light",...l}=t,{vars:c,css:u,varsWithDefaults:d}=$h(l,e);let f=d;const p={},{[a]:g,..._}=s;if(Object.entries(_||{}).forEach(([y,C])=>{const{vars:S,css:b,varsWithDefaults:T}=$h(C,e);f=$t(f,T),p[y]={css:b,vars:S}}),g){const{css:y,vars:C,varsWithDefaults:S}=$h(g,e);f=$t(f,S),p[a]={css:y,vars:C}}function E(y,C){var b,T;let S=i;if(i==="class"&&(S=".%s"),i==="data"&&(S="[data-%s]"),i!=null&&i.startsWith("data-")&&!i.includes("%s")&&(S=`[${i}="%s"]`),y){if(S==="media")return t.defaultColorScheme===y?":root":{[`@media (prefers-color-scheme: ${((T=(b=s[y])==null?void 0:b.palette)==null?void 0:T.mode)||y})`]:{":root":C}};if(S)return t.defaultColorScheme===y?`:root, ${S.replace("%s",String(y))}`:S.replace("%s",String(y))}return":root"}return{vars:f,generateThemeVars:()=>{let y={...c};return Object.entries(p).forEach(([,{vars:C}])=>{y=$t(y,C)}),y},generateStyleSheets:()=>{var k,N;const y=[],C=t.defaultColorScheme||"light";function S(w,R){Object.keys(R).length&&y.push(typeof w=="string"?{[w]:{...R}}:w)}S(n(void 0,{...u}),u);const{[C]:b,...T}=p;if(b){const{css:w}=b,R=(N=(k=s[C])==null?void 0:k.palette)==null?void 0:N.mode,M=!r&&R?{colorScheme:R,...w}:{...w};S(n(C,{...M}),M)}return Object.entries(T).forEach(([w,{css:R}])=>{var U,$;const M=($=(U=s[w])==null?void 0:U.palette)==null?void 0:$.mode,F=!r&&M?{colorScheme:M,...R}:{...R};S(n(w,{...F}),F)}),y}}}function hH(t){return function(n){return t==="media"?`@media (prefers-color-scheme: ${n})`:t?t.startsWith("data-")&&!t.includes("%s")?`[${t}="${n}"] &`:t==="class"?`.${n} &`:t==="data"?`[data-${n}] &`:`${t.replace("%s",n)} &`:"&"}}const pH={black:"#000",white:"#fff"},Cl=pH,mH={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"},gH=mH,yH={50:"#f3e5f5",100:"#e1bee7",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",600:"#8e24aa",700:"#7b1fa2",800:"#6a1b9a",900:"#4a148c",A100:"#ea80fc",A200:"#e040fb",A400:"#d500f9",A700:"#aa00ff"},fs=yH,vH={50:"#ffebee",100:"#ffcdd2",200:"#ef9a9a",300:"#e57373",400:"#ef5350",500:"#f44336",600:"#e53935",700:"#d32f2f",800:"#c62828",900:"#b71c1c",A100:"#ff8a80",A200:"#ff5252",A400:"#ff1744",A700:"#d50000"},hs=vH,_H={50:"#fff3e0",100:"#ffe0b2",200:"#ffcc80",300:"#ffb74d",400:"#ffa726",500:"#ff9800",600:"#fb8c00",700:"#f57c00",800:"#ef6c00",900:"#e65100",A100:"#ffd180",A200:"#ffab40",A400:"#ff9100",A700:"#ff6d00"},Zo=_H,wH={50:"#e3f2fd",100:"#bbdefb",200:"#90caf9",300:"#64b5f6",400:"#42a5f5",500:"#2196f3",600:"#1e88e5",700:"#1976d2",800:"#1565c0",900:"#0d47a1",A100:"#82b1ff",A200:"#448aff",A400:"#2979ff",A700:"#2962ff"},ps=wH,xH={50:"#e1f5fe",100:"#b3e5fc",200:"#81d4fa",300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",600:"#039be5",700:"#0288d1",800:"#0277bd",900:"#01579b",A100:"#80d8ff",A200:"#40c4ff",A400:"#00b0ff",A700:"#0091ea"},ms=xH,CH={50:"#e8f5e9",100:"#c8e6c9",200:"#a5d6a7",300:"#81c784",400:"#66bb6a",500:"#4caf50",600:"#43a047",700:"#388e3c",800:"#2e7d32",900:"#1b5e20",A100:"#b9f6ca",A200:"#69f0ae",A400:"#00e676",A700:"#00c853"},gs=CH;function fP(){return{text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:Cl.white,default:Cl.white},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}}}const EH=fP();function hP(){return{text:{primary:Cl.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:"#121212",default:"#121212"},action:{active:Cl.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}}}const bC=hP();function TC(t,e,n,r){const i=r.light||r,s=r.dark||r*1.5;t[e]||(t.hasOwnProperty(n)?t[e]=t[n]:e==="light"?t.light=Jv(t.main,i):e==="dark"&&(t.dark=Xv(t.main,s)))}function SH(t="light"){return t==="dark"?{main:ps[200],light:ps[50],dark:ps[400]}:{main:ps[700],light:ps[400],dark:ps[800]}}function bH(t="light"){return t==="dark"?{main:fs[200],light:fs[50],dark:fs[400]}:{main:fs[500],light:fs[300],dark:fs[700]}}function TH(t="light"){return t==="dark"?{main:hs[500],light:hs[300],dark:hs[700]}:{main:hs[700],light:hs[400],dark:hs[800]}}function kH(t="light"){return t==="dark"?{main:ms[400],light:ms[300],dark:ms[700]}:{main:ms[700],light:ms[500],dark:ms[900]}}function IH(t="light"){return t==="dark"?{main:gs[400],light:gs[300],dark:gs[700]}:{main:gs[800],light:gs[500],dark:gs[900]}}function PH(t="light"){return t==="dark"?{main:Zo[400],light:Zo[300],dark:Zo[700]}:{main:"#ed6c02",light:Zo[500],dark:Zo[900]}}function Zv(t){const{mode:e="light",contrastThreshold:n=3,tonalOffset:r=.2,...i}=t,s=t.primary||SH(e),o=t.secondary||bH(e),a=t.error||TH(e),l=t.info||kH(e),c=t.success||IH(e),u=t.warning||PH(e);function d(_){return nH(_,bC.text.primary)>=n?bC.text.primary:EH.text.primary}const f=({color:_,name:E,mainShade:m=500,lightShade:v=300,darkShade:y=700})=>{if(_={..._},!_.main&&_[m]&&(_.main=_[m]),!_.hasOwnProperty("main"))throw new Error(ts(11,E?` (${E})`:"",m));if(typeof _.main!="string")throw new Error(ts(12,E?` (${E})`:"",JSON.stringify(_.main)));return TC(_,"light",v,r),TC(_,"dark",y,r),_.contrastText||(_.contrastText=d(_.main)),_};let p;return e==="light"?p=fP():e==="dark"&&(p=hP()),$t({common:{...Cl},mode:e,primary:f({color:s,name:"primary"}),secondary:f({color:o,name:"secondary",mainShade:"A400",lightShade:"A200",darkShade:"A700"}),error:f({color:a,name:"error"}),warning:f({color:u,name:"warning"}),info:f({color:l,name:"info"}),success:f({color:c,name:"success"}),grey:gH,contrastThreshold:n,getContrastText:d,augmentColor:f,tonalOffset:r,...p},i)}function RH(t){const e={};return Object.entries(t).forEach(r=>{const[i,s]=r;typeof s=="object"&&(e[i]=`${s.fontStyle?`${s.fontStyle} `:""}${s.fontVariant?`${s.fontVariant} `:""}${s.fontWeight?`${s.fontWeight} `:""}${s.fontStretch?`${s.fontStretch} `:""}${s.fontSize||""}${s.lineHeight?`/${s.lineHeight} `:""}${s.fontFamily||""}`)}),e}function NH(t,e){return{toolbar:{minHeight:56,[t.up("xs")]:{"@media (orientation: landscape)":{minHeight:48}},[t.up("sm")]:{minHeight:64}},...e}}function AH(t){return Math.round(t*1e5)/1e5}const kC={textTransform:"uppercase"},IC='"Roboto", "Helvetica", "Arial", sans-serif';function DH(t,e){const{fontFamily:n=IC,fontSize:r=14,fontWeightLight:i=300,fontWeightRegular:s=400,fontWeightMedium:o=500,fontWeightBold:a=700,htmlFontSize:l=16,allVariants:c,pxToRem:u,...d}=typeof e=="function"?e(t):e,f=r/14,p=u||(E=>`${E/l*f}rem`),g=(E,m,v,y,C)=>({fontFamily:n,fontWeight:E,fontSize:p(m),lineHeight:v,...n===IC?{letterSpacing:`${AH(y/m)}em`}:{},...C,...c}),_={h1:g(i,96,1.167,-1.5),h2:g(i,60,1.2,-.5),h3:g(s,48,1.167,0),h4:g(s,34,1.235,.25),h5:g(s,24,1.334,0),h6:g(o,20,1.6,.15),subtitle1:g(s,16,1.75,.15),subtitle2:g(o,14,1.57,.1),body1:g(s,16,1.5,.15),body2:g(s,14,1.43,.15),button:g(o,14,1.75,.4,kC),caption:g(s,12,1.66,.4),overline:g(s,12,2.66,1,kC),inherit:{fontFamily:"inherit",fontWeight:"inherit",fontSize:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}};return $t({htmlFontSize:l,pxToRem:p,fontFamily:n,fontSize:r,fontWeightLight:i,fontWeightRegular:s,fontWeightMedium:o,fontWeightBold:a,..._},d,{clone:!1})}const OH=.2,MH=.14,LH=.12;function ye(...t){return[`${t[0]}px ${t[1]}px ${t[2]}px ${t[3]}px rgba(0,0,0,${OH})`,`${t[4]}px ${t[5]}px ${t[6]}px ${t[7]}px rgba(0,0,0,${MH})`,`${t[8]}px ${t[9]}px ${t[10]}px ${t[11]}px rgba(0,0,0,${LH})`].join(",")}const jH=["none",ye(0,2,1,-1,0,1,1,0,0,1,3,0),ye(0,3,1,-2,0,2,2,0,0,1,5,0),ye(0,3,3,-2,0,3,4,0,0,1,8,0),ye(0,2,4,-1,0,4,5,0,0,1,10,0),ye(0,3,5,-1,0,5,8,0,0,1,14,0),ye(0,3,5,-1,0,6,10,0,0,1,18,0),ye(0,4,5,-2,0,7,10,1,0,2,16,1),ye(0,5,5,-3,0,8,10,1,0,3,14,2),ye(0,5,6,-3,0,9,12,1,0,3,16,2),ye(0,6,6,-3,0,10,14,1,0,4,18,3),ye(0,6,7,-4,0,11,15,1,0,4,20,3),ye(0,7,8,-4,0,12,17,2,0,5,22,4),ye(0,7,8,-4,0,13,19,2,0,5,24,4),ye(0,7,9,-4,0,14,21,2,0,5,26,4),ye(0,8,9,-5,0,15,22,2,0,6,28,5),ye(0,8,10,-5,0,16,24,2,0,6,30,5),ye(0,8,11,-5,0,17,26,2,0,6,32,5),ye(0,9,11,-5,0,18,28,2,0,7,34,6),ye(0,9,12,-6,0,19,29,2,0,7,36,6),ye(0,10,13,-6,0,20,31,3,0,8,38,7),ye(0,10,13,-6,0,21,33,3,0,8,40,7),ye(0,10,14,-6,0,22,35,3,0,8,42,7),ye(0,11,14,-7,0,23,36,3,0,9,44,8),ye(0,11,15,-7,0,24,38,3,0,9,46,8)],FH=jH,$H={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},VH={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function PC(t){return`${Math.round(t)}ms`}function UH(t){if(!t)return 0;const e=t/36;return Math.min(Math.round((4+15*e**.25+e/5)*10),3e3)}function BH(t){const e={...$H,...t.easing},n={...VH,...t.duration};return{getAutoHeightDuration:UH,create:(i=["all"],s={})=>{const{duration:o=n.standard,easing:a=e.easeInOut,delay:l=0,...c}=s;return(Array.isArray(i)?i:[i]).map(u=>`${u} ${typeof o=="string"?o:PC(o)} ${a} ${typeof l=="string"?l:PC(l)}`).join(",")},...t,easing:e,duration:n}}const zH={mobileStepper:1e3,fab:1050,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500},WH=zH;function HH(t){return jn(t)||typeof t>"u"||typeof t=="string"||typeof t=="boolean"||typeof t=="number"||Array.isArray(t)}function pP(t={}){const e={...t};function n(r){const i=Object.entries(r);for(let s=0;s<i.length;s++){const[o,a]=i[s];!HH(a)||o.startsWith("unstable_")?delete r[o]:jn(a)&&(r[o]={...a},n(r[o]))}}return n(e),`import { unstable_createBreakpoints as createBreakpoints, createTransitions } from '@mui/material/styles';

const theme = ${JSON.stringify(e,null,2)};

theme.breakpoints = createBreakpoints(theme.breakpoints || {});
theme.transitions = createTransitions(theme.transitions || {});

export default theme;`}function Lm(t={},...e){const{breakpoints:n,mixins:r={},spacing:i,palette:s={},transitions:o={},typography:a={},shape:l,...c}=t;if(t.vars&&t.generateThemeVars===void 0)throw new Error(ts(20));const u=Zv(s),d=Kv(t);let f=$t(d,{mixins:NH(d.breakpoints,r),palette:u,shadows:FH.slice(),typography:DH(u,a),transitions:BH(o),zIndex:{...WH}});return f=$t(f,c),f=e.reduce((p,g)=>$t(p,g),f),f.unstable_sxConfig={...Ql,...c==null?void 0:c.unstable_sxConfig},f.unstable_sx=function(g){return yo({sx:g,theme:this})},f.toRuntimeSource=pP,f}function GH(t){let e;return t<1?e=5.11916*t**2:e=4.5*Math.log(t+1)+2,Math.round(e*10)/1e3}const KH=[...Array(25)].map((t,e)=>{if(e===0)return"none";const n=GH(e);return`linear-gradient(rgba(255 255 255 / ${n}), rgba(255 255 255 / ${n}))`});function mP(t){return{inputPlaceholder:t==="dark"?.5:.42,inputUnderline:t==="dark"?.7:.42,switchTrackDisabled:t==="dark"?.2:.12,switchTrack:t==="dark"?.3:.38}}function gP(t){return t==="dark"?KH:[]}function qH(t){const{palette:e={mode:"light"},opacity:n,overlays:r,...i}=t,s=Zv(e);return{palette:s,opacity:{...mP(s.mode),...n},overlays:r||gP(s.mode),...i}}function YH(t){var e;return!!t[0].match(/(cssVarPrefix|colorSchemeSelector|rootSelector|typography|mixins|breakpoints|direction|transitions)/)||!!t[0].match(/sxConfig$/)||t[0]==="palette"&&!!((e=t[1])!=null&&e.match(/(mode|contrastThreshold|tonalOffset)/))}const QH=t=>[...[...Array(25)].map((e,n)=>`--${t?`${t}-`:""}overlays-${n}`),`--${t?`${t}-`:""}palette-AppBar-darkBg`,`--${t?`${t}-`:""}palette-AppBar-darkColor`],XH=QH,JH=t=>(e,n)=>{const r=t.rootSelector||":root",i=t.colorSchemeSelector;let s=i;if(i==="class"&&(s=".%s"),i==="data"&&(s="[data-%s]"),i!=null&&i.startsWith("data-")&&!i.includes("%s")&&(s=`[${i}="%s"]`),t.defaultColorScheme===e){if(e==="dark"){const o={};return XH(t.cssVarPrefix).forEach(a=>{o[a]=n[a],delete n[a]}),s==="media"?{[r]:n,"@media (prefers-color-scheme: dark)":{[r]:o}}:s?{[s.replace("%s",e)]:o,[`${r}, ${s.replace("%s",e)}`]:n}:{[r]:{...n,...o}}}if(s&&s!=="media")return`${r}, ${s.replace("%s",String(e))}`}else if(e){if(s==="media")return{[`@media (prefers-color-scheme: ${String(e)})`]:{[r]:n}};if(s)return s.replace("%s",String(e))}return r};function ZH(t,e){e.forEach(n=>{t[n]||(t[n]={})})}function P(t,e,n){!t[e]&&n&&(t[e]=n)}function da(t){return typeof t!="string"||!t.startsWith("hsl")?t:dP(t)}function er(t,e){`${e}Channel`in t||(t[`${e}Channel`]=ua(da(t[e]),`MUI: Can't create \`palette.${e}Channel\` because \`palette.${e}\` is not one of these formats: #nnn, #nnnnnn, rgb(), rgba(), hsl(), hsla(), color().
To suppress this warning, you need to explicitly provide the \`palette.${e}Channel\` as a string (in rgb format, for example "12 12 12") or undefined if you want to remove the channel token.`))}function e7(t){return typeof t=="number"?`${t}px`:typeof t=="string"||typeof t=="function"||Array.isArray(t)?t:"8px"}const Nn=t=>{try{return t()}catch{}},t7=(t="mui")=>cH(t);function Vh(t,e,n,r){if(!e)return;e=e===!0?{}:e;const i=r==="dark"?"dark":"light";if(!n){t[r]=qH({...e,palette:{mode:i,...e==null?void 0:e.palette}});return}const{palette:s,...o}=Lm({...n,palette:{mode:i,...e==null?void 0:e.palette}});return t[r]={...e,palette:s,opacity:{...mP(i),...e==null?void 0:e.opacity},overlays:(e==null?void 0:e.overlays)||gP(i)},o}function n7(t={},...e){const{colorSchemes:n={light:!0},defaultColorScheme:r,disableCssColorScheme:i=!1,cssVarPrefix:s="mui",shouldSkipGeneratingVar:o=YH,colorSchemeSelector:a=n.light&&n.dark?"media":void 0,rootSelector:l=":root",...c}=t,u=Object.keys(n)[0],d=r||(n.light&&u!=="light"?"light":u),f=t7(s),{[d]:p,light:g,dark:_,...E}=n,m={...E};let v=p;if((d==="dark"&&!("dark"in n)||d==="light"&&!("light"in n))&&(v=!0),!v)throw new Error(ts(21,d));const y=Vh(m,v,c,d);g&&!m.light&&Vh(m,g,void 0,"light"),_&&!m.dark&&Vh(m,_,void 0,"dark");let C={defaultColorScheme:d,...y,cssVarPrefix:s,colorSchemeSelector:a,rootSelector:l,getCssVar:f,colorSchemes:m,font:{...RH(y.typography),...y.font},spacing:e7(c.spacing)};Object.keys(C.colorSchemes).forEach(N=>{const w=C.colorSchemes[N].palette,R=M=>{const F=M.split("-"),U=F[1],$=F[2];return f(M,w[U][$])};if(w.mode==="light"&&(P(w.common,"background","#fff"),P(w.common,"onBackground","#000")),w.mode==="dark"&&(P(w.common,"background","#000"),P(w.common,"onBackground","#fff")),ZH(w,["Alert","AppBar","Avatar","Button","Chip","FilledInput","LinearProgress","Skeleton","Slider","SnackbarContent","SpeedDialAction","StepConnector","StepContent","Switch","TableCell","Tooltip"]),w.mode==="light"){P(w.Alert,"errorColor",ae(w.error.light,.6)),P(w.Alert,"infoColor",ae(w.info.light,.6)),P(w.Alert,"successColor",ae(w.success.light,.6)),P(w.Alert,"warningColor",ae(w.warning.light,.6)),P(w.Alert,"errorFilledBg",R("palette-error-main")),P(w.Alert,"infoFilledBg",R("palette-info-main")),P(w.Alert,"successFilledBg",R("palette-success-main")),P(w.Alert,"warningFilledBg",R("palette-warning-main")),P(w.Alert,"errorFilledColor",Nn(()=>w.getContrastText(w.error.main))),P(w.Alert,"infoFilledColor",Nn(()=>w.getContrastText(w.info.main))),P(w.Alert,"successFilledColor",Nn(()=>w.getContrastText(w.success.main))),P(w.Alert,"warningFilledColor",Nn(()=>w.getContrastText(w.warning.main))),P(w.Alert,"errorStandardBg",le(w.error.light,.9)),P(w.Alert,"infoStandardBg",le(w.info.light,.9)),P(w.Alert,"successStandardBg",le(w.success.light,.9)),P(w.Alert,"warningStandardBg",le(w.warning.light,.9)),P(w.Alert,"errorIconColor",R("palette-error-main")),P(w.Alert,"infoIconColor",R("palette-info-main")),P(w.Alert,"successIconColor",R("palette-success-main")),P(w.Alert,"warningIconColor",R("palette-warning-main")),P(w.AppBar,"defaultBg",R("palette-grey-100")),P(w.Avatar,"defaultBg",R("palette-grey-400")),P(w.Button,"inheritContainedBg",R("palette-grey-300")),P(w.Button,"inheritContainedHoverBg",R("palette-grey-A100")),P(w.Chip,"defaultBorder",R("palette-grey-400")),P(w.Chip,"defaultAvatarColor",R("palette-grey-700")),P(w.Chip,"defaultIconColor",R("palette-grey-700")),P(w.FilledInput,"bg","rgba(0, 0, 0, 0.06)"),P(w.FilledInput,"hoverBg","rgba(0, 0, 0, 0.09)"),P(w.FilledInput,"disabledBg","rgba(0, 0, 0, 0.12)"),P(w.LinearProgress,"primaryBg",le(w.primary.main,.62)),P(w.LinearProgress,"secondaryBg",le(w.secondary.main,.62)),P(w.LinearProgress,"errorBg",le(w.error.main,.62)),P(w.LinearProgress,"infoBg",le(w.info.main,.62)),P(w.LinearProgress,"successBg",le(w.success.main,.62)),P(w.LinearProgress,"warningBg",le(w.warning.main,.62)),P(w.Skeleton,"bg",`rgba(${R("palette-text-primaryChannel")} / 0.11)`),P(w.Slider,"primaryTrack",le(w.primary.main,.62)),P(w.Slider,"secondaryTrack",le(w.secondary.main,.62)),P(w.Slider,"errorTrack",le(w.error.main,.62)),P(w.Slider,"infoTrack",le(w.info.main,.62)),P(w.Slider,"successTrack",le(w.success.main,.62)),P(w.Slider,"warningTrack",le(w.warning.main,.62));const M=Ac(w.background.default,.8);P(w.SnackbarContent,"bg",M),P(w.SnackbarContent,"color",Nn(()=>w.getContrastText(M))),P(w.SpeedDialAction,"fabHoverBg",Ac(w.background.paper,.15)),P(w.StepConnector,"border",R("palette-grey-400")),P(w.StepContent,"border",R("palette-grey-400")),P(w.Switch,"defaultColor",R("palette-common-white")),P(w.Switch,"defaultDisabledColor",R("palette-grey-100")),P(w.Switch,"primaryDisabledColor",le(w.primary.main,.62)),P(w.Switch,"secondaryDisabledColor",le(w.secondary.main,.62)),P(w.Switch,"errorDisabledColor",le(w.error.main,.62)),P(w.Switch,"infoDisabledColor",le(w.info.main,.62)),P(w.Switch,"successDisabledColor",le(w.success.main,.62)),P(w.Switch,"warningDisabledColor",le(w.warning.main,.62)),P(w.TableCell,"border",le(Nc(w.divider,1),.88)),P(w.Tooltip,"bg",Nc(w.grey[700],.92))}if(w.mode==="dark"){P(w.Alert,"errorColor",le(w.error.light,.6)),P(w.Alert,"infoColor",le(w.info.light,.6)),P(w.Alert,"successColor",le(w.success.light,.6)),P(w.Alert,"warningColor",le(w.warning.light,.6)),P(w.Alert,"errorFilledBg",R("palette-error-dark")),P(w.Alert,"infoFilledBg",R("palette-info-dark")),P(w.Alert,"successFilledBg",R("palette-success-dark")),P(w.Alert,"warningFilledBg",R("palette-warning-dark")),P(w.Alert,"errorFilledColor",Nn(()=>w.getContrastText(w.error.dark))),P(w.Alert,"infoFilledColor",Nn(()=>w.getContrastText(w.info.dark))),P(w.Alert,"successFilledColor",Nn(()=>w.getContrastText(w.success.dark))),P(w.Alert,"warningFilledColor",Nn(()=>w.getContrastText(w.warning.dark))),P(w.Alert,"errorStandardBg",ae(w.error.light,.9)),P(w.Alert,"infoStandardBg",ae(w.info.light,.9)),P(w.Alert,"successStandardBg",ae(w.success.light,.9)),P(w.Alert,"warningStandardBg",ae(w.warning.light,.9)),P(w.Alert,"errorIconColor",R("palette-error-main")),P(w.Alert,"infoIconColor",R("palette-info-main")),P(w.Alert,"successIconColor",R("palette-success-main")),P(w.Alert,"warningIconColor",R("palette-warning-main")),P(w.AppBar,"defaultBg",R("palette-grey-900")),P(w.AppBar,"darkBg",R("palette-background-paper")),P(w.AppBar,"darkColor",R("palette-text-primary")),P(w.Avatar,"defaultBg",R("palette-grey-600")),P(w.Button,"inheritContainedBg",R("palette-grey-800")),P(w.Button,"inheritContainedHoverBg",R("palette-grey-700")),P(w.Chip,"defaultBorder",R("palette-grey-700")),P(w.Chip,"defaultAvatarColor",R("palette-grey-300")),P(w.Chip,"defaultIconColor",R("palette-grey-300")),P(w.FilledInput,"bg","rgba(255, 255, 255, 0.09)"),P(w.FilledInput,"hoverBg","rgba(255, 255, 255, 0.13)"),P(w.FilledInput,"disabledBg","rgba(255, 255, 255, 0.12)"),P(w.LinearProgress,"primaryBg",ae(w.primary.main,.5)),P(w.LinearProgress,"secondaryBg",ae(w.secondary.main,.5)),P(w.LinearProgress,"errorBg",ae(w.error.main,.5)),P(w.LinearProgress,"infoBg",ae(w.info.main,.5)),P(w.LinearProgress,"successBg",ae(w.success.main,.5)),P(w.LinearProgress,"warningBg",ae(w.warning.main,.5)),P(w.Skeleton,"bg",`rgba(${R("palette-text-primaryChannel")} / 0.13)`),P(w.Slider,"primaryTrack",ae(w.primary.main,.5)),P(w.Slider,"secondaryTrack",ae(w.secondary.main,.5)),P(w.Slider,"errorTrack",ae(w.error.main,.5)),P(w.Slider,"infoTrack",ae(w.info.main,.5)),P(w.Slider,"successTrack",ae(w.success.main,.5)),P(w.Slider,"warningTrack",ae(w.warning.main,.5));const M=Ac(w.background.default,.98);P(w.SnackbarContent,"bg",M),P(w.SnackbarContent,"color",Nn(()=>w.getContrastText(M))),P(w.SpeedDialAction,"fabHoverBg",Ac(w.background.paper,.15)),P(w.StepConnector,"border",R("palette-grey-600")),P(w.StepContent,"border",R("palette-grey-600")),P(w.Switch,"defaultColor",R("palette-grey-300")),P(w.Switch,"defaultDisabledColor",R("palette-grey-600")),P(w.Switch,"primaryDisabledColor",ae(w.primary.main,.55)),P(w.Switch,"secondaryDisabledColor",ae(w.secondary.main,.55)),P(w.Switch,"errorDisabledColor",ae(w.error.main,.55)),P(w.Switch,"infoDisabledColor",ae(w.info.main,.55)),P(w.Switch,"successDisabledColor",ae(w.success.main,.55)),P(w.Switch,"warningDisabledColor",ae(w.warning.main,.55)),P(w.TableCell,"border",ae(Nc(w.divider,1),.68)),P(w.Tooltip,"bg",Nc(w.grey[700],.92))}er(w.background,"default"),er(w.background,"paper"),er(w.common,"background"),er(w.common,"onBackground"),er(w,"divider"),Object.keys(w).forEach(M=>{const F=w[M];M!=="tonalOffset"&&F&&typeof F=="object"&&(F.main&&P(w[M],"mainChannel",ua(da(F.main))),F.light&&P(w[M],"lightChannel",ua(da(F.light))),F.dark&&P(w[M],"darkChannel",ua(da(F.dark))),F.contrastText&&P(w[M],"contrastTextChannel",ua(da(F.contrastText))),M==="text"&&(er(w[M],"primary"),er(w[M],"secondary")),M==="action"&&(F.active&&er(w[M],"active"),F.selected&&er(w[M],"selected")))})}),C=e.reduce((N,w)=>$t(N,w),C);const S={prefix:s,disableCssColorScheme:i,shouldSkipGeneratingVar:o,getSelector:JH(C)},{vars:b,generateThemeVars:T,generateStyleSheets:k}=fH(C,S);return C.vars=b,Object.entries(C.colorSchemes[C.defaultColorScheme]).forEach(([N,w])=>{C[N]=w}),C.generateThemeVars=T,C.generateStyleSheets=k,C.generateSpacing=function(){return oP(c.spacing,Bv(this))},C.getColorSchemeSelector=hH(a),C.spacing=C.generateSpacing(),C.shouldSkipGeneratingVar=o,C.unstable_sxConfig={...Ql,...c==null?void 0:c.unstable_sxConfig},C.unstable_sx=function(w){return yo({sx:w,theme:this})},C.toRuntimeSource=pP,C}function RC(t,e,n){t.colorSchemes&&n&&(t.colorSchemes[e]={...n!==!0&&n,palette:Zv({...n===!0?{}:n.palette,mode:e})})}function yP(t={},...e){const{palette:n,cssVariables:r=!1,colorSchemes:i=n?void 0:{light:!0},defaultColorScheme:s=n==null?void 0:n.mode,...o}=t,a=s||"light",l=i==null?void 0:i[a],c={...i,...n?{[a]:{...typeof l!="boolean"&&l,palette:n}}:void 0};if(r===!1){if(!("colorSchemes"in t))return Lm(t,...e);let u=n;"palette"in t||c[a]&&(c[a]!==!0?u=c[a].palette:a==="dark"&&(u={mode:"dark"}));const d=Lm({...t,palette:u},...e);return d.defaultColorScheme=a,d.colorSchemes=c,d.palette.mode==="light"&&(d.colorSchemes.light={...c.light!==!0&&c.light,palette:d.palette},RC(d,"dark",c.dark)),d.palette.mode==="dark"&&(d.colorSchemes.dark={...c.dark!==!0&&c.dark,palette:d.palette},RC(d,"light",c.light)),d}return!n&&!("light"in c)&&a==="light"&&(c.light=!0),n7({...o,colorSchemes:c,defaultColorScheme:a,...typeof r!="boolean"&&r},...e)}const r7=yP(),vP=r7,e0="$$material";function i7(){const t=aP(vP);return t[e0]||t}function s7(t){return t!=="ownerState"&&t!=="theme"&&t!=="sx"&&t!=="as"}const o7=t=>s7(t)&&t!=="classes",a7=o7,l7=q8({themeId:e0,defaultTheme:vP,rootShouldForwardProp:a7}),t0=l7,c7=lH,u7=c7;function _P(t){return aH(t)}function d7(t){return typeof t=="string"}function f7(t,e,n){return t===void 0||d7(t)?e:{...e,ownerState:{...e.ownerState,...n}}}function h7(t,e,n){return typeof t=="function"?t(e,n):t}function wP(t,e=[]){if(t===void 0)return{};const n={};return Object.keys(t).filter(r=>r.match(/^on[A-Z]/)&&typeof t[r]=="function"&&!e.includes(r)).forEach(r=>{n[r]=t[r]}),n}function NC(t){if(t===void 0)return{};const e={};return Object.keys(t).filter(n=>!(n.match(/^on[A-Z]/)&&typeof t[n]=="function")).forEach(n=>{e[n]=t[n]}),e}function p7(t){const{getSlotProps:e,additionalProps:n,externalSlotProps:r,externalForwardedProps:i,className:s}=t;if(!e){const p=go(n==null?void 0:n.className,s,i==null?void 0:i.className,r==null?void 0:r.className),g={...n==null?void 0:n.style,...i==null?void 0:i.style,...r==null?void 0:r.style},_={...n,...i,...r};return p.length>0&&(_.className=p),Object.keys(g).length>0&&(_.style=g),{props:_,internalRef:void 0}}const o=wP({...i,...r}),a=NC(r),l=NC(i),c=e(o),u=go(c==null?void 0:c.className,n==null?void 0:n.className,s,i==null?void 0:i.className,r==null?void 0:r.className),d={...c==null?void 0:c.style,...n==null?void 0:n.style,...i==null?void 0:i.style,...r==null?void 0:r.style},f={...c,...n,...l,...a};return u.length>0&&(f.className=u),Object.keys(d).length>0&&(f.style=d),{props:f,internalRef:c.ref}}function gd(t,e){const{className:n,elementType:r,ownerState:i,externalForwardedProps:s,internalForwardedProps:o,shouldForwardComponentProp:a=!1,...l}=e,{component:c,slots:u={[t]:void 0},slotProps:d={[t]:void 0},...f}=s,p=u[t]||r,g=h7(d[t],i),{props:{component:_,...E},internalRef:m}=p7({className:n,...l,externalForwardedProps:t==="root"?f:void 0,externalSlotProps:g}),v=Kl(m,g==null?void 0:g.ref,e.ref),y=t==="root"?_||c:_,C=f7(p,{...t==="root"&&!c&&!u[t]&&o,...t!=="root"&&!u[t]&&o,...E,...y&&!a&&{as:y},...y&&a&&{component:y},ref:v},i);return[p,C]}function m7(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function jm(t,e){return jm=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,r){return n.__proto__=r,n},jm(t,e)}function g7(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,jm(t,e)}const AC={disabled:!1},xP=ki.createContext(null);var y7=function(e){return e.scrollTop},fa="unmounted",Si="exited",bi="entering",vs="entered",Fm="exiting",Ar=function(t){g7(e,t);function e(r,i){var s;s=t.call(this,r,i)||this;var o=i,a=o&&!o.isMounting?r.enter:r.appear,l;return s.appearStatus=null,r.in?a?(l=Si,s.appearStatus=bi):l=vs:r.unmountOnExit||r.mountOnEnter?l=fa:l=Si,s.state={status:l},s.nextCallback=null,s}e.getDerivedStateFromProps=function(i,s){var o=i.in;return o&&s.status===fa?{status:Si}:null};var n=e.prototype;return n.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},n.componentDidUpdate=function(i){var s=null;if(i!==this.props){var o=this.state.status;this.props.in?o!==bi&&o!==vs&&(s=bi):(o===bi||o===vs)&&(s=Fm)}this.updateStatus(!1,s)},n.componentWillUnmount=function(){this.cancelNextCallback()},n.getTimeouts=function(){var i=this.props.timeout,s,o,a;return s=o=a=i,i!=null&&typeof i!="number"&&(s=i.exit,o=i.enter,a=i.appear!==void 0?i.appear:o),{exit:s,enter:o,appear:a}},n.updateStatus=function(i,s){if(i===void 0&&(i=!1),s!==null)if(this.cancelNextCallback(),s===bi){if(this.props.unmountOnExit||this.props.mountOnEnter){var o=this.props.nodeRef?this.props.nodeRef.current:wc.findDOMNode(this);o&&y7(o)}this.performEnter(i)}else this.performExit();else this.props.unmountOnExit&&this.state.status===Si&&this.setState({status:fa})},n.performEnter=function(i){var s=this,o=this.props.enter,a=this.context?this.context.isMounting:i,l=this.props.nodeRef?[a]:[wc.findDOMNode(this),a],c=l[0],u=l[1],d=this.getTimeouts(),f=a?d.appear:d.enter;if(!i&&!o||AC.disabled){this.safeSetState({status:vs},function(){s.props.onEntered(c)});return}this.props.onEnter(c,u),this.safeSetState({status:bi},function(){s.props.onEntering(c,u),s.onTransitionEnd(f,function(){s.safeSetState({status:vs},function(){s.props.onEntered(c,u)})})})},n.performExit=function(){var i=this,s=this.props.exit,o=this.getTimeouts(),a=this.props.nodeRef?void 0:wc.findDOMNode(this);if(!s||AC.disabled){this.safeSetState({status:Si},function(){i.props.onExited(a)});return}this.props.onExit(a),this.safeSetState({status:Fm},function(){i.props.onExiting(a),i.onTransitionEnd(o.exit,function(){i.safeSetState({status:Si},function(){i.props.onExited(a)})})})},n.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},n.safeSetState=function(i,s){s=this.setNextCallback(s),this.setState(i,s)},n.setNextCallback=function(i){var s=this,o=!0;return this.nextCallback=function(a){o&&(o=!1,s.nextCallback=null,i(a))},this.nextCallback.cancel=function(){o=!1},this.nextCallback},n.onTransitionEnd=function(i,s){this.setNextCallback(s);var o=this.props.nodeRef?this.props.nodeRef.current:wc.findDOMNode(this),a=i==null&&!this.props.addEndListener;if(!o||a){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var l=this.props.nodeRef?[this.nextCallback]:[o,this.nextCallback],c=l[0],u=l[1];this.props.addEndListener(c,u)}i!=null&&setTimeout(this.nextCallback,i)},n.render=function(){var i=this.state.status;if(i===fa)return null;var s=this.props,o=s.children;s.in,s.mountOnEnter,s.unmountOnExit,s.appear,s.enter,s.exit,s.timeout,s.addEndListener,s.onEnter,s.onEntering,s.onEntered,s.onExit,s.onExiting,s.onExited,s.nodeRef;var a=m7(s,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return ki.createElement(xP.Provider,{value:null},typeof o=="function"?o(i,a):ki.cloneElement(ki.Children.only(o),a))},e}(ki.Component);Ar.contextType=xP;Ar.propTypes={};function ys(){}Ar.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:ys,onEntering:ys,onEntered:ys,onExit:ys,onExiting:ys,onExited:ys};Ar.UNMOUNTED=fa;Ar.EXITED=Si;Ar.ENTERING=bi;Ar.ENTERED=vs;Ar.EXITING=Fm;const v7=Ar,_7=t=>t.scrollTop;function DC(t,e){const{timeout:n,easing:r,style:i={}}=t;return{duration:i.transitionDuration??(typeof n=="number"?n:n[e.mode]||0),easing:i.transitionTimingFunction??(typeof r=="object"?r[e.mode]:r),delay:i.transitionDelay}}const w7={entering:{opacity:1},entered:{opacity:1}},x7=x.forwardRef(function(e,n){const r=i7(),i={enter:r.transitions.duration.enteringScreen,exit:r.transitions.duration.leavingScreen},{addEndListener:s,appear:o=!0,children:a,easing:l,in:c,onEnter:u,onEntered:d,onEntering:f,onExit:p,onExited:g,onExiting:_,style:E,timeout:m=i,TransitionComponent:v=v7,...y}=e,C=x.useRef(null),S=Kl(C,jv(a),n),b=U=>$=>{if(U){const G=C.current;$===void 0?U(G):U(G,$)}},T=b(f),k=b((U,$)=>{_7(U);const G=DC({style:E,timeout:m,easing:l},{mode:"enter"});U.style.webkitTransition=r.transitions.create("opacity",G),U.style.transition=r.transitions.create("opacity",G),u&&u(U,$)}),N=b(d),w=b(_),R=b(U=>{const $=DC({style:E,timeout:m,easing:l},{mode:"exit"});U.style.webkitTransition=r.transitions.create("opacity",$),U.style.transition=r.transitions.create("opacity",$),p&&p(U)}),M=b(g),F=U=>{s&&s(C.current,U)};return h.jsx(v,{appear:o,in:c,nodeRef:C,onEnter:k,onEntered:N,onEntering:T,onExit:R,onExited:M,onExiting:w,addEndListener:F,timeout:m,...y,children:(U,{ownerState:$,...G})=>x.cloneElement(a,{style:{opacity:0,visibility:U==="exited"&&!c?"hidden":void 0,...w7[U],...E,...a.props.style},ref:S,...G})})}),C7=x7;function E7(t){return qv("MuiBackdrop",t)}Yv("MuiBackdrop",["root","invisible"]);const S7=t=>{const{classes:e,invisible:n}=t;return $I({root:["root",n&&"invisible"]},E7,e)},b7=t0("div",{name:"MuiBackdrop",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.invisible&&e.invisible]}})({position:"fixed",display:"flex",alignItems:"center",justifyContent:"center",right:0,bottom:0,top:0,left:0,backgroundColor:"rgba(0, 0, 0, 0.5)",WebkitTapHighlightColor:"transparent",variants:[{props:{invisible:!0},style:{backgroundColor:"transparent"}}]}),T7=x.forwardRef(function(e,n){const r=_P({props:e,name:"MuiBackdrop"}),{children:i,className:s,component:o="div",invisible:a=!1,open:l,components:c={},componentsProps:u={},slotProps:d={},slots:f={},TransitionComponent:p,transitionDuration:g,..._}=r,E={...r,component:o,invisible:a},m=S7(E),v={transition:p,root:c.Root,...f},y={...u,...d},C={slots:v,slotProps:y},[S,b]=gd("root",{elementType:b7,externalForwardedProps:C,className:go(m.root,s),ownerState:E}),[T,k]=gd("transition",{elementType:C7,externalForwardedProps:C,ownerState:E});return h.jsx(T,{in:l,timeout:g,..._,...k,children:h.jsx(S,{"aria-hidden":!0,...b,classes:m,ref:n,children:i})})}),k7=T7;function OC(t){const e=x.useRef(t);return Pm(()=>{e.current=t}),x.useRef((...n)=>(0,e.current)(...n)).current}function MC(...t){return t.reduce((e,n)=>n==null?e:function(...i){e.apply(this,i),n.apply(this,i)},()=>{})}function I7(t){return typeof t=="function"?t():t}function P7(t){return t?t.props.hasOwnProperty("in"):!1}const LC=()=>{},Dc=new bz;function R7(t){const{container:e,disableEscapeKeyDown:n=!1,disableScrollLock:r=!1,closeAfterTransition:i=!1,onTransitionEnter:s,onTransitionExited:o,children:a,onClose:l,open:c,rootRef:u}=t,d=x.useRef({}),f=x.useRef(null),p=x.useRef(null),g=Kl(p,u),[_,E]=x.useState(!c),m=P7(a);let v=!0;(t["aria-hidden"]==="false"||t["aria-hidden"]===!1)&&(v=!1);const y=()=>es(f.current),C=()=>(d.current.modalRef=p.current,d.current.mount=f.current,d.current),S=()=>{Dc.mount(C(),{disableScrollLock:r}),p.current&&(p.current.scrollTop=0)},b=OC(()=>{const $=I7(e)||y().body;Dc.add(C(),$),p.current&&S()}),T=()=>Dc.isTopModal(C()),k=OC($=>{f.current=$,$&&(c&&T()?S():p.current&&Da(p.current,v))}),N=x.useCallback(()=>{Dc.remove(C(),v)},[v]);x.useEffect(()=>()=>{N()},[N]),x.useEffect(()=>{c?b():(!m||!i)&&N()},[c,N,m,i,b]);const w=$=>G=>{var K;(K=$.onKeyDown)==null||K.call($,G),!(G.key!=="Escape"||G.which===229||!T())&&(n||(G.stopPropagation(),l&&l(G,"escapeKeyDown")))},R=$=>G=>{var K;(K=$.onClick)==null||K.call($,G),G.target===G.currentTarget&&l&&l(G,"backdropClick")};return{getRootProps:($={})=>{const G=wP(t);delete G.onTransitionEnter,delete G.onTransitionExited;const K={...G,...$};return{role:"presentation",...K,onKeyDown:w(K),ref:g}},getBackdropProps:($={})=>{const G=$;return{"aria-hidden":!0,...G,onClick:R(G),open:c}},getTransitionProps:()=>{const $=()=>{E(!1),s&&s()},G=()=>{E(!0),o&&o(),i&&N()};return{onEnter:MC($,(a==null?void 0:a.props.onEnter)??LC),onExited:MC(G,(a==null?void 0:a.props.onExited)??LC)}},rootRef:g,portalRef:k,isTopModal:T,exited:_,hasTransition:m}}function N7(t){return qv("MuiModal",t)}Yv("MuiModal",["root","hidden","backdrop"]);const A7=t=>{const{open:e,exited:n,classes:r}=t;return $I({root:["root",!e&&n&&"hidden"],backdrop:["backdrop"]},N7,r)},D7=t0("div",{name:"MuiModal",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,!n.open&&n.exited&&e.hidden]}})(u7(({theme:t})=>({position:"fixed",zIndex:(t.vars||t).zIndex.modal,right:0,bottom:0,top:0,left:0,variants:[{props:({ownerState:e})=>!e.open&&e.exited,style:{visibility:"hidden"}}]}))),O7=t0(k7,{name:"MuiModal",slot:"Backdrop"})({zIndex:-1}),M7=x.forwardRef(function(e,n){const r=_P({name:"MuiModal",props:e}),{BackdropComponent:i=O7,BackdropProps:s,classes:o,className:a,closeAfterTransition:l=!1,children:c,container:u,component:d,components:f={},componentsProps:p={},disableAutoFocus:g=!1,disableEnforceFocus:_=!1,disableEscapeKeyDown:E=!1,disablePortal:m=!1,disableRestoreFocus:v=!1,disableScrollLock:y=!1,hideBackdrop:C=!1,keepMounted:S=!1,onClose:b,onTransitionEnter:T,onTransitionExited:k,open:N,slotProps:w={},slots:R={},theme:M,...F}=r,U={...r,closeAfterTransition:l,disableAutoFocus:g,disableEnforceFocus:_,disableEscapeKeyDown:E,disablePortal:m,disableRestoreFocus:v,disableScrollLock:y,hideBackdrop:C,keepMounted:S},{getRootProps:$,getBackdropProps:G,getTransitionProps:K,portalRef:O,isTopModal:B,exited:H,hasTransition:ue}=R7({...U,rootRef:n}),de={...U,exited:H},rt=A7(de),pt={};if(c.props.tabIndex===void 0&&(pt.tabIndex="-1"),ue){const{onEnter:Xn,onExited:Lo}=K();pt.onEnter=Xn,pt.onExited=Lo}const Ht={slots:{root:f.Root,backdrop:f.Backdrop,...R},slotProps:{...p,...w}},[Gt,Qn]=gd("root",{ref:n,elementType:D7,externalForwardedProps:{...Ht,...F,component:d},getSlotProps:$,ownerState:de,className:go(a,rt==null?void 0:rt.root,!de.open&&de.exited&&(rt==null?void 0:rt.hidden))}),[Jl,Zl]=gd("backdrop",{ref:s==null?void 0:s.ref,elementType:i,externalForwardedProps:Ht,shouldForwardComponentProp:!0,additionalProps:s,getSlotProps:Xn=>G({...Xn,onClick:Lo=>{Xn!=null&&Xn.onClick&&Xn.onClick(Lo)}}),className:go(s==null?void 0:s.className,rt==null?void 0:rt.backdrop),ownerState:de});return!S&&!N&&(!ue||H)?null:h.jsx(Lz,{ref:O,container:u,disablePortal:m,children:h.jsxs(Gt,{...Qn,children:[!C&&i?h.jsx(Jl,{...Zl}):null,h.jsx(Az,{disableEnforceFocus:_,disableAutoFocus:g,disableRestoreFocus:v,isEnabled:B,open:N,children:x.cloneElement(c,pt)})]})})}),CP=M7,L7=Yv("MuiBox",["root"]),j7=L7,F7=yP(),$7=z8({themeId:e0,defaultTheme:F7,defaultClassName:j7.root,generateClassName:lP.generate}),EP=$7;var jC=!1,Ti,$m,Vm,lu,cu,SP,uu,Um,Bm,zm,bP,Wm,Hm,TP,kP;function bt(){if(!jC){jC=!0;var t=navigator.userAgent,e=/(?:MSIE.(\d+\.\d+))|(?:(?:Firefox|GranParadiso|Iceweasel).(\d+\.\d+))|(?:Opera(?:.+Version.|.)(\d+\.\d+))|(?:AppleWebKit.(\d+(?:\.\d+)?))|(?:Trident\/\d+\.\d+.*rv:(\d+\.\d+))/.exec(t),n=/(Mac OS X)|(Windows)|(Linux)/.exec(t);if(Wm=/\b(iPhone|iP[ao]d)/.exec(t),Hm=/\b(iP[ao]d)/.exec(t),zm=/Android/i.exec(t),TP=/FBAN\/\w+;/i.exec(t),kP=/Mobile/i.exec(t),bP=!!/Win64/.exec(t),e){Ti=e[1]?parseFloat(e[1]):e[5]?parseFloat(e[5]):NaN,Ti&&document&&document.documentMode&&(Ti=document.documentMode);var r=/(?:Trident\/(\d+.\d+))/.exec(t);SP=r?parseFloat(r[1])+4:Ti,$m=e[2]?parseFloat(e[2]):NaN,Vm=e[3]?parseFloat(e[3]):NaN,lu=e[4]?parseFloat(e[4]):NaN,lu?(e=/(?:Chrome\/(\d+\.\d+))/.exec(t),cu=e&&e[1]?parseFloat(e[1]):NaN):cu=NaN}else Ti=$m=Vm=cu=lu=NaN;if(n){if(n[1]){var i=/(?:Mac OS X (\d+(?:[._]\d+)?))/.exec(t);uu=i?parseFloat(i[1].replace("_",".")):!0}else uu=!1;Um=!!n[2],Bm=!!n[3]}else uu=Um=Bm=!1}}var Gm={ie:function(){return bt()||Ti},ieCompatibilityMode:function(){return bt()||SP>Ti},ie64:function(){return Gm.ie()&&bP},firefox:function(){return bt()||$m},opera:function(){return bt()||Vm},webkit:function(){return bt()||lu},safari:function(){return Gm.webkit()},chrome:function(){return bt()||cu},windows:function(){return bt()||Um},osx:function(){return bt()||uu},linux:function(){return bt()||Bm},iphone:function(){return bt()||Wm},mobile:function(){return bt()||Wm||Hm||zm||kP},nativeApp:function(){return bt()||TP},android:function(){return bt()||zm},ipad:function(){return bt()||Hm}},V7=Gm,Oc=!!(typeof window<"u"&&window.document&&window.document.createElement),U7={canUseDOM:Oc,canUseWorkers:typeof Worker<"u",canUseEventListeners:Oc&&!!(window.addEventListener||window.attachEvent),canUseViewport:Oc&&!!window.screen,isInWorker:!Oc},B7=U7,IP=B7,PP;IP.canUseDOM&&(PP=document.implementation&&document.implementation.hasFeature&&document.implementation.hasFeature("","")!==!0);/**
 * Checks if an event is supported in the current execution environment.
 *
 * NOTE: This will not work correctly for non-generic events such as `change`,
 * `reset`, `load`, `error`, and `select`.
 *
 * Borrows from Modernizr.
 *
 * @param {string} eventNameSuffix Event name, e.g. "click".
 * @param {?boolean} capture Check if the capture phase is supported.
 * @return {boolean} True if the event is supported.
 * @internal
 * @license Modernizr 3.0.0pre (Custom Build) | MIT
 */function z7(t,e){if(!IP.canUseDOM||e&&!("addEventListener"in document))return!1;var n="on"+t,r=n in document;if(!r){var i=document.createElement("div");i.setAttribute(n,"return;"),r=typeof i[n]=="function"}return!r&&PP&&t==="wheel"&&(r=document.implementation.hasFeature("Events.wheel","3.0")),r}var W7=z7,H7=V7,G7=W7,FC=10,$C=40,VC=800;function RP(t){var e=0,n=0,r=0,i=0;return"detail"in t&&(n=t.detail),"wheelDelta"in t&&(n=-t.wheelDelta/120),"wheelDeltaY"in t&&(n=-t.wheelDeltaY/120),"wheelDeltaX"in t&&(e=-t.wheelDeltaX/120),"axis"in t&&t.axis===t.HORIZONTAL_AXIS&&(e=n,n=0),r=e*FC,i=n*FC,"deltaY"in t&&(i=t.deltaY),"deltaX"in t&&(r=t.deltaX),(r||i)&&t.deltaMode&&(t.deltaMode==1?(r*=$C,i*=$C):(r*=VC,i*=VC)),r&&!e&&(e=r<1?-1:1),i&&!n&&(n=i<1?-1:1),{spinX:e,spinY:n,pixelX:r,pixelY:i}}RP.getEventType=function(){return H7.firefox()?"DOMMouseScroll":G7("wheel")?"wheel":"mousewheel"};var K7=RP,q7=K7;const Y7=Km(q7);function Q7(t,e,n,r,i,s){s===void 0&&(s=0);var o=_o(t,e,s),a=o.width,l=o.height,c=Math.min(a,n),u=Math.min(l,r);return c>u*i?{width:u*i,height:u}:{width:c,height:c/i}}function X7(t){return t.width>t.height?t.width/t.naturalWidth:t.height/t.naturalHeight}function ea(t,e,n,r,i){i===void 0&&(i=0);var s=_o(e.width,e.height,i),o=s.width,a=s.height;return{x:UC(t.x,o,n.width,r),y:UC(t.y,a,n.height,r)}}function UC(t,e,n,r){var i=e*r/2-n/2;return kf(t,-i,i)}function BC(t,e){return Math.sqrt(Math.pow(t.y-e.y,2)+Math.pow(t.x-e.x,2))}function zC(t,e){return Math.atan2(e.y-t.y,e.x-t.x)*180/Math.PI}function J7(t,e,n,r,i,s,o){s===void 0&&(s=0),o===void 0&&(o=!0);var a=o?Z7:e9,l=_o(e.width,e.height,s),c=_o(e.naturalWidth,e.naturalHeight,s),u={x:a(100,((l.width-n.width/i)/2-t.x/i)/l.width*100),y:a(100,((l.height-n.height/i)/2-t.y/i)/l.height*100),width:a(100,n.width/l.width*100/i),height:a(100,n.height/l.height*100/i)},d=Math.round(a(c.width,u.width*c.width/100)),f=Math.round(a(c.height,u.height*c.height/100)),p=c.width>=c.height*r,g=p?{width:Math.round(f*r),height:f}:{width:d,height:Math.round(d/r)},_=He(He({},g),{x:Math.round(a(c.width-g.width,u.x*c.width/100)),y:Math.round(a(c.height-g.height,u.y*c.height/100))});return{croppedAreaPercentages:u,croppedAreaPixels:_}}function Z7(t,e){return Math.min(t,Math.max(0,e))}function e9(t,e){return e}function t9(t,e,n,r,i,s){var o=_o(e.width,e.height,n),a=kf(r.width/o.width*(100/t.width),i,s),l={x:a*o.width/2-r.width/2-o.width*a*(t.x/100),y:a*o.height/2-r.height/2-o.height*a*(t.y/100)};return{crop:l,zoom:a}}function n9(t,e,n){var r=X7(e);return n.height>n.width?n.height/(t.height*r):n.width/(t.width*r)}function r9(t,e,n,r,i,s){n===void 0&&(n=0);var o=_o(e.naturalWidth,e.naturalHeight,n),a=kf(n9(t,e,r),i,s),l=r.height>r.width?r.height/t.height:r.width/t.width,c={x:((o.width-t.width)/2-t.x)*l,y:((o.height-t.height)/2-t.y)*l};return{crop:c,zoom:a}}function WC(t,e){return{x:(e.x+t.x)/2,y:(e.y+t.y)/2}}function i9(t){return t*Math.PI/180}function _o(t,e,n){var r=i9(n);return{width:Math.abs(Math.cos(r)*t)+Math.abs(Math.sin(r)*e),height:Math.abs(Math.sin(r)*t)+Math.abs(Math.cos(r)*e)}}function kf(t,e,n){return Math.min(Math.max(t,e),n)}function Mc(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return t.filter(function(n){return typeof n=="string"&&n.length>0}).join(" ").trim()}var s9=`.reactEasyCrop_Container {
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  overflow: hidden;
  user-select: none;
  touch-action: none;
  cursor: move;
  display: flex;
  justify-content: center;
  align-items: center;
}

.reactEasyCrop_Image,
.reactEasyCrop_Video {
  will-change: transform; /* this improves performances and prevent painting issues on iOS Chrome */
}

.reactEasyCrop_Contain {
  max-width: 100%;
  max-height: 100%;
  margin: auto;
  position: absolute;
  top: 0;
  bottom: 0;
  left: 0;
  right: 0;
}
.reactEasyCrop_Cover_Horizontal {
  width: 100%;
  height: auto;
}
.reactEasyCrop_Cover_Vertical {
  width: auto;
  height: 100%;
}

.reactEasyCrop_CropArea {
  position: absolute;
  left: 50%;
  top: 50%;
  transform: translate(-50%, -50%);
  border: 1px solid rgba(255, 255, 255, 0.5);
  box-sizing: border-box;
  box-shadow: 0 0 0 9999em;
  color: rgba(0, 0, 0, 0.5);
  overflow: hidden;
}

.reactEasyCrop_CropAreaRound {
  border-radius: 50%;
}

.reactEasyCrop_CropAreaGrid::before {
  content: ' ';
  box-sizing: border-box;
  position: absolute;
  border: 1px solid rgba(255, 255, 255, 0.5);
  top: 0;
  bottom: 0;
  left: 33.33%;
  right: 33.33%;
  border-top: 0;
  border-bottom: 0;
}

.reactEasyCrop_CropAreaGrid::after {
  content: ' ';
  box-sizing: border-box;
  position: absolute;
  border: 1px solid rgba(255, 255, 255, 0.5);
  top: 33.33%;
  bottom: 33.33%;
  left: 0;
  right: 0;
  border-left: 0;
  border-right: 0;
}
`,o9=1,a9=3,l9=1,c9=function(t){x2(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.cropperRef=x.createRef(),n.imageRef=x.createRef(),n.videoRef=x.createRef(),n.containerPosition={x:0,y:0},n.containerRef=null,n.styleRef=null,n.containerRect=null,n.mediaSize={width:0,height:0,naturalWidth:0,naturalHeight:0},n.dragStartPosition={x:0,y:0},n.dragStartCrop={x:0,y:0},n.gestureZoomStart=0,n.gestureRotationStart=0,n.isTouching=!1,n.lastPinchDistance=0,n.lastPinchRotation=0,n.rafDragTimeout=null,n.rafPinchTimeout=null,n.wheelTimer=null,n.currentDoc=typeof document<"u"?document:null,n.currentWindow=typeof window<"u"?window:null,n.resizeObserver=null,n.state={cropSize:null,hasWheelJustStarted:!1,mediaObjectFit:void 0},n.initResizeObserver=function(){if(!(typeof window.ResizeObserver>"u"||!n.containerRef)){var r=!0;n.resizeObserver=new window.ResizeObserver(function(i){if(r){r=!1;return}n.computeSizes()}),n.resizeObserver.observe(n.containerRef)}},n.preventZoomSafari=function(r){return r.preventDefault()},n.cleanEvents=function(){n.currentDoc&&(n.currentDoc.removeEventListener("mousemove",n.onMouseMove),n.currentDoc.removeEventListener("mouseup",n.onDragStopped),n.currentDoc.removeEventListener("touchmove",n.onTouchMove),n.currentDoc.removeEventListener("touchend",n.onDragStopped),n.currentDoc.removeEventListener("gesturemove",n.onGestureMove),n.currentDoc.removeEventListener("gestureend",n.onGestureEnd),n.currentDoc.removeEventListener("scroll",n.onScroll))},n.clearScrollEvent=function(){n.containerRef&&n.containerRef.removeEventListener("wheel",n.onWheel),n.wheelTimer&&clearTimeout(n.wheelTimer)},n.onMediaLoad=function(){var r=n.computeSizes();r&&(n.emitCropData(),n.setInitialCrop(r)),n.props.onMediaLoaded&&n.props.onMediaLoaded(n.mediaSize)},n.setInitialCrop=function(r){if(n.props.initialCroppedAreaPercentages){var i=t9(n.props.initialCroppedAreaPercentages,n.mediaSize,n.props.rotation,r,n.props.minZoom,n.props.maxZoom),s=i.crop,o=i.zoom;n.props.onCropChange(s),n.props.onZoomChange&&n.props.onZoomChange(o)}else if(n.props.initialCroppedAreaPixels){var a=r9(n.props.initialCroppedAreaPixels,n.mediaSize,n.props.rotation,r,n.props.minZoom,n.props.maxZoom),s=a.crop,o=a.zoom;n.props.onCropChange(s),n.props.onZoomChange&&n.props.onZoomChange(o)}},n.computeSizes=function(){var r,i,s,o,a,l,c=n.imageRef.current||n.videoRef.current;if(c&&n.containerRef){n.containerRect=n.containerRef.getBoundingClientRect(),n.saveContainerPosition();var u=n.containerRect.width/n.containerRect.height,d=((r=n.imageRef.current)===null||r===void 0?void 0:r.naturalWidth)||((i=n.videoRef.current)===null||i===void 0?void 0:i.videoWidth)||0,f=((s=n.imageRef.current)===null||s===void 0?void 0:s.naturalHeight)||((o=n.videoRef.current)===null||o===void 0?void 0:o.videoHeight)||0,p=c.offsetWidth<d||c.offsetHeight<f,g=d/f,_=void 0;if(p)switch(n.state.mediaObjectFit){default:case"contain":_=u>g?{width:n.containerRect.height*g,height:n.containerRect.height}:{width:n.containerRect.width,height:n.containerRect.width/g};break;case"horizontal-cover":_={width:n.containerRect.width,height:n.containerRect.width/g};break;case"vertical-cover":_={width:n.containerRect.height*g,height:n.containerRect.height};break}else _={width:c.offsetWidth,height:c.offsetHeight};n.mediaSize=He(He({},_),{naturalWidth:d,naturalHeight:f}),n.props.setMediaSize&&n.props.setMediaSize(n.mediaSize);var E=n.props.cropSize?n.props.cropSize:Q7(n.mediaSize.width,n.mediaSize.height,n.containerRect.width,n.containerRect.height,n.props.aspect,n.props.rotation);return(((a=n.state.cropSize)===null||a===void 0?void 0:a.height)!==E.height||((l=n.state.cropSize)===null||l===void 0?void 0:l.width)!==E.width)&&n.props.onCropSizeChange&&n.props.onCropSizeChange(E),n.setState({cropSize:E},n.recomputeCropPosition),n.props.setCropSize&&n.props.setCropSize(E),E}},n.saveContainerPosition=function(){if(n.containerRef){var r=n.containerRef.getBoundingClientRect();n.containerPosition={x:r.left,y:r.top}}},n.onMouseDown=function(r){n.currentDoc&&(r.preventDefault(),n.currentDoc.addEventListener("mousemove",n.onMouseMove),n.currentDoc.addEventListener("mouseup",n.onDragStopped),n.saveContainerPosition(),n.onDragStart(e.getMousePoint(r)))},n.onMouseMove=function(r){return n.onDrag(e.getMousePoint(r))},n.onScroll=function(r){n.currentDoc&&(r.preventDefault(),n.saveContainerPosition())},n.onTouchStart=function(r){n.currentDoc&&(n.isTouching=!0,!(n.props.onTouchRequest&&!n.props.onTouchRequest(r))&&(n.currentDoc.addEventListener("touchmove",n.onTouchMove,{passive:!1}),n.currentDoc.addEventListener("touchend",n.onDragStopped),n.saveContainerPosition(),r.touches.length===2?n.onPinchStart(r):r.touches.length===1&&n.onDragStart(e.getTouchPoint(r.touches[0]))))},n.onTouchMove=function(r){r.preventDefault(),r.touches.length===2?n.onPinchMove(r):r.touches.length===1&&n.onDrag(e.getTouchPoint(r.touches[0]))},n.onGestureStart=function(r){n.currentDoc&&(r.preventDefault(),n.currentDoc.addEventListener("gesturechange",n.onGestureMove),n.currentDoc.addEventListener("gestureend",n.onGestureEnd),n.gestureZoomStart=n.props.zoom,n.gestureRotationStart=n.props.rotation)},n.onGestureMove=function(r){if(r.preventDefault(),!n.isTouching){var i=e.getMousePoint(r),s=n.gestureZoomStart-1+r.scale;if(n.setNewZoom(s,i,{shouldUpdatePosition:!0}),n.props.onRotationChange){var o=n.gestureRotationStart+r.rotation;n.props.onRotationChange(o)}}},n.onGestureEnd=function(r){n.cleanEvents()},n.onDragStart=function(r){var i,s,o=r.x,a=r.y;n.dragStartPosition={x:o,y:a},n.dragStartCrop=He({},n.props.crop),(s=(i=n.props).onInteractionStart)===null||s===void 0||s.call(i)},n.onDrag=function(r){var i=r.x,s=r.y;n.currentWindow&&(n.rafDragTimeout&&n.currentWindow.cancelAnimationFrame(n.rafDragTimeout),n.rafDragTimeout=n.currentWindow.requestAnimationFrame(function(){if(n.state.cropSize&&!(i===void 0||s===void 0)){var o=i-n.dragStartPosition.x,a=s-n.dragStartPosition.y,l={x:n.dragStartCrop.x+o,y:n.dragStartCrop.y+a},c=n.props.restrictPosition?ea(l,n.mediaSize,n.state.cropSize,n.props.zoom,n.props.rotation):l;n.props.onCropChange(c)}}))},n.onDragStopped=function(){var r,i;n.isTouching=!1,n.cleanEvents(),n.emitCropData(),(i=(r=n.props).onInteractionEnd)===null||i===void 0||i.call(r)},n.onWheel=function(r){if(n.currentWindow&&!(n.props.onWheelRequest&&!n.props.onWheelRequest(r))){r.preventDefault();var i=e.getMousePoint(r),s=Y7(r).pixelY,o=n.props.zoom-s*n.props.zoomSpeed/200;n.setNewZoom(o,i,{shouldUpdatePosition:!0}),n.state.hasWheelJustStarted||n.setState({hasWheelJustStarted:!0},function(){var a,l;return(l=(a=n.props).onInteractionStart)===null||l===void 0?void 0:l.call(a)}),n.wheelTimer&&clearTimeout(n.wheelTimer),n.wheelTimer=n.currentWindow.setTimeout(function(){return n.setState({hasWheelJustStarted:!1},function(){var a,l;return(l=(a=n.props).onInteractionEnd)===null||l===void 0?void 0:l.call(a)})},250)}},n.getPointOnContainer=function(r,i){var s=r.x,o=r.y;if(!n.containerRect)throw new Error("The Cropper is not mounted");return{x:n.containerRect.width/2-(s-i.x),y:n.containerRect.height/2-(o-i.y)}},n.getPointOnMedia=function(r){var i=r.x,s=r.y,o=n.props,a=o.crop,l=o.zoom;return{x:(i+a.x)/l,y:(s+a.y)/l}},n.setNewZoom=function(r,i,s){var o=s===void 0?{}:s,a=o.shouldUpdatePosition,l=a===void 0?!0:a;if(!(!n.state.cropSize||!n.props.onZoomChange)){var c=kf(r,n.props.minZoom,n.props.maxZoom);if(l){var u=n.getPointOnContainer(i,n.containerPosition),d=n.getPointOnMedia(u),f={x:d.x*c-u.x,y:d.y*c-u.y},p=n.props.restrictPosition?ea(f,n.mediaSize,n.state.cropSize,c,n.props.rotation):f;n.props.onCropChange(p)}n.props.onZoomChange(c)}},n.getCropData=function(){if(!n.state.cropSize)return null;var r=n.props.restrictPosition?ea(n.props.crop,n.mediaSize,n.state.cropSize,n.props.zoom,n.props.rotation):n.props.crop;return J7(r,n.mediaSize,n.state.cropSize,n.getAspect(),n.props.zoom,n.props.rotation,n.props.restrictPosition)},n.emitCropData=function(){var r=n.getCropData();if(r){var i=r.croppedAreaPercentages,s=r.croppedAreaPixels;n.props.onCropComplete&&n.props.onCropComplete(i,s),n.props.onCropAreaChange&&n.props.onCropAreaChange(i,s)}},n.emitCropAreaChange=function(){var r=n.getCropData();if(r){var i=r.croppedAreaPercentages,s=r.croppedAreaPixels;n.props.onCropAreaChange&&n.props.onCropAreaChange(i,s)}},n.recomputeCropPosition=function(){if(n.state.cropSize){var r=n.props.restrictPosition?ea(n.props.crop,n.mediaSize,n.state.cropSize,n.props.zoom,n.props.rotation):n.props.crop;n.props.onCropChange(r),n.emitCropData()}},n.onKeyDown=function(r){var i,s,o=n.props,a=o.crop,l=o.onCropChange,c=o.keyboardStep,u=o.zoom,d=o.rotation,f=c;if(n.state.cropSize){r.shiftKey&&(f*=.2);var p=He({},a);switch(r.key){case"ArrowUp":p.y-=f,r.preventDefault();break;case"ArrowDown":p.y+=f,r.preventDefault();break;case"ArrowLeft":p.x-=f,r.preventDefault();break;case"ArrowRight":p.x+=f,r.preventDefault();break;default:return}n.props.restrictPosition&&(p=ea(p,n.mediaSize,n.state.cropSize,u,d)),r.repeat||(s=(i=n.props).onInteractionStart)===null||s===void 0||s.call(i),l(p)}},n.onKeyUp=function(r){var i,s;switch(r.key){case"ArrowUp":case"ArrowDown":case"ArrowLeft":case"ArrowRight":r.preventDefault();break;default:return}n.emitCropData(),(s=(i=n.props).onInteractionEnd)===null||s===void 0||s.call(i)},n}return e.prototype.componentDidMount=function(){!this.currentDoc||!this.currentWindow||(this.containerRef&&(this.containerRef.ownerDocument&&(this.currentDoc=this.containerRef.ownerDocument),this.currentDoc.defaultView&&(this.currentWindow=this.currentDoc.defaultView),this.initResizeObserver(),typeof window.ResizeObserver>"u"&&this.currentWindow.addEventListener("resize",this.computeSizes),this.props.zoomWithScroll&&this.containerRef.addEventListener("wheel",this.onWheel,{passive:!1}),this.containerRef.addEventListener("gesturestart",this.onGestureStart)),this.currentDoc.addEventListener("scroll",this.onScroll),this.props.disableAutomaticStylesInjection||(this.styleRef=this.currentDoc.createElement("style"),this.styleRef.setAttribute("type","text/css"),this.props.nonce&&this.styleRef.setAttribute("nonce",this.props.nonce),this.styleRef.innerHTML=s9,this.currentDoc.head.appendChild(this.styleRef)),this.imageRef.current&&this.imageRef.current.complete&&this.onMediaLoad(),this.props.setImageRef&&this.props.setImageRef(this.imageRef),this.props.setVideoRef&&this.props.setVideoRef(this.videoRef),this.props.setCropperRef&&this.props.setCropperRef(this.cropperRef))},e.prototype.componentWillUnmount=function(){var n,r;!this.currentDoc||!this.currentWindow||(typeof window.ResizeObserver>"u"&&this.currentWindow.removeEventListener("resize",this.computeSizes),(n=this.resizeObserver)===null||n===void 0||n.disconnect(),this.containerRef&&this.containerRef.removeEventListener("gesturestart",this.preventZoomSafari),this.styleRef&&((r=this.styleRef.parentNode)===null||r===void 0||r.removeChild(this.styleRef)),this.cleanEvents(),this.props.zoomWithScroll&&this.clearScrollEvent())},e.prototype.componentDidUpdate=function(n){var r,i,s,o,a,l,c,u,d;n.rotation!==this.props.rotation?(this.computeSizes(),this.recomputeCropPosition()):n.aspect!==this.props.aspect?this.computeSizes():n.objectFit!==this.props.objectFit?this.computeSizes():n.zoom!==this.props.zoom?this.recomputeCropPosition():((r=n.cropSize)===null||r===void 0?void 0:r.height)!==((i=this.props.cropSize)===null||i===void 0?void 0:i.height)||((s=n.cropSize)===null||s===void 0?void 0:s.width)!==((o=this.props.cropSize)===null||o===void 0?void 0:o.width)?this.computeSizes():(((a=n.crop)===null||a===void 0?void 0:a.x)!==((l=this.props.crop)===null||l===void 0?void 0:l.x)||((c=n.crop)===null||c===void 0?void 0:c.y)!==((u=this.props.crop)===null||u===void 0?void 0:u.y))&&this.emitCropAreaChange(),n.zoomWithScroll!==this.props.zoomWithScroll&&this.containerRef&&(this.props.zoomWithScroll?this.containerRef.addEventListener("wheel",this.onWheel,{passive:!1}):this.clearScrollEvent()),n.video!==this.props.video&&((d=this.videoRef.current)===null||d===void 0||d.load());var f=this.getObjectFit();f!==this.state.mediaObjectFit&&this.setState({mediaObjectFit:f},this.computeSizes)},e.prototype.getAspect=function(){var n=this.props,r=n.cropSize,i=n.aspect;return r?r.width/r.height:i},e.prototype.getObjectFit=function(){var n,r,i,s;if(this.props.objectFit==="cover"){var o=this.imageRef.current||this.videoRef.current;if(o&&this.containerRef){this.containerRect=this.containerRef.getBoundingClientRect();var a=this.containerRect.width/this.containerRect.height,l=((n=this.imageRef.current)===null||n===void 0?void 0:n.naturalWidth)||((r=this.videoRef.current)===null||r===void 0?void 0:r.videoWidth)||0,c=((i=this.imageRef.current)===null||i===void 0?void 0:i.naturalHeight)||((s=this.videoRef.current)===null||s===void 0?void 0:s.videoHeight)||0,u=l/c;return u<a?"horizontal-cover":"vertical-cover"}return"horizontal-cover"}return this.props.objectFit},e.prototype.onPinchStart=function(n){var r=e.getTouchPoint(n.touches[0]),i=e.getTouchPoint(n.touches[1]);this.lastPinchDistance=BC(r,i),this.lastPinchRotation=zC(r,i),this.onDragStart(WC(r,i))},e.prototype.onPinchMove=function(n){var r=this;if(!(!this.currentDoc||!this.currentWindow)){var i=e.getTouchPoint(n.touches[0]),s=e.getTouchPoint(n.touches[1]),o=WC(i,s);this.onDrag(o),this.rafPinchTimeout&&this.currentWindow.cancelAnimationFrame(this.rafPinchTimeout),this.rafPinchTimeout=this.currentWindow.requestAnimationFrame(function(){var a=BC(i,s),l=r.props.zoom*(a/r.lastPinchDistance);r.setNewZoom(l,o,{shouldUpdatePosition:!1}),r.lastPinchDistance=a;var c=zC(i,s),u=r.props.rotation+(c-r.lastPinchRotation);r.props.onRotationChange&&r.props.onRotationChange(u),r.lastPinchRotation=c})}},e.prototype.render=function(){var n=this,r,i=this.props,s=i.image,o=i.video,a=i.mediaProps,l=i.cropperProps,c=i.transform,u=i.crop,d=u.x,f=u.y,p=i.rotation,g=i.zoom,_=i.cropShape,E=i.showGrid,m=i.style,v=m.containerStyle,y=m.cropAreaStyle,C=m.mediaStyle,S=i.classes,b=S.containerClassName,T=S.cropAreaClassName,k=S.mediaClassName,N=(r=this.state.mediaObjectFit)!==null&&r!==void 0?r:this.getObjectFit();return x.createElement("div",{onMouseDown:this.onMouseDown,onTouchStart:this.onTouchStart,ref:function(R){return n.containerRef=R},"data-testid":"container",style:v,className:Mc("reactEasyCrop_Container",b)},s?x.createElement("img",He({alt:"",className:Mc("reactEasyCrop_Image",N==="contain"&&"reactEasyCrop_Contain",N==="horizontal-cover"&&"reactEasyCrop_Cover_Horizontal",N==="vertical-cover"&&"reactEasyCrop_Cover_Vertical",k)},a,{src:s,ref:this.imageRef,style:He(He({},C),{transform:c||"translate(".concat(d,"px, ").concat(f,"px) rotate(").concat(p,"deg) scale(").concat(g,")")}),onLoad:this.onMediaLoad})):o&&x.createElement("video",He({autoPlay:!0,playsInline:!0,loop:!0,muted:!0,className:Mc("reactEasyCrop_Video",N==="contain"&&"reactEasyCrop_Contain",N==="horizontal-cover"&&"reactEasyCrop_Cover_Horizontal",N==="vertical-cover"&&"reactEasyCrop_Cover_Vertical",k)},a,{ref:this.videoRef,onLoadedMetadata:this.onMediaLoad,style:He(He({},C),{transform:c||"translate(".concat(d,"px, ").concat(f,"px) rotate(").concat(p,"deg) scale(").concat(g,")")}),controls:!1}),(Array.isArray(o)?o:[{src:o}]).map(function(w){return x.createElement("source",He({key:w.src},w))})),this.state.cropSize&&x.createElement("div",He({ref:this.cropperRef,style:He(He({},y),{width:this.state.cropSize.width,height:this.state.cropSize.height}),tabIndex:0,onKeyDown:this.onKeyDown,onKeyUp:this.onKeyUp,"data-testid":"cropper",className:Mc("reactEasyCrop_CropArea",_==="round"&&"reactEasyCrop_CropAreaRound",E&&"reactEasyCrop_CropAreaGrid",T)},l)))},e.defaultProps={zoom:1,rotation:0,aspect:4/3,maxZoom:a9,minZoom:o9,cropShape:"rect",objectFit:"contain",showGrid:!0,style:{},classes:{},mediaProps:{},cropperProps:{},zoomSpeed:1,restrictPosition:!0,zoomWithScroll:!0,keyboardStep:l9},e.getMousePoint=function(n){return{x:Number(n.clientX),y:Number(n.clientY)}},e.getTouchPoint=function(n){return{x:Number(n.clientX),y:Number(n.clientY)}},e}(x.Component);const u9=t=>new Promise((e,n)=>{const r=new Image;r.addEventListener("load",()=>e(r)),r.addEventListener("error",i=>n(i)),r.setAttribute("crossOrigin","anonymous"),r.src=t});async function d9(t,e){const n=await u9(t),r=document.createElement("canvas"),i=r.getContext("2d");return r.width=e.width,r.height=e.height,i.drawImage(n,e.x,e.y,e.width,e.height,0,0,e.width,e.height),r}function f9({open:t,onClose:e,usuario:n,onUploadSuccess:r}){const[i,s]=x.useState(null),[o,a]=x.useState({x:0,y:0}),[l,c]=x.useState(1),[u,d]=x.useState(null),[f,p]=x.useState(!1),g=x.useCallback((m,v)=>{d(v)},[]),_=m=>{if(m.target.files&&m.target.files.length>0){const v=m.target.files[0],y=new FileReader;y.onload=()=>{s(y.result)},y.readAsDataURL(v)}},E=async()=>{p(!0);const v=(await d9(i,u)).toDataURL("image/jpeg");localStorage.setItem(`fotoPerfil_${n.uid}`,v),r(v),p(!1),e()};return h.jsx(CP,{open:t,onClose:e,children:h.jsxs(EP,{className:"bg-white rounded-lg p-4 shadow-lg w-full max-w-md mx-auto mt-32 max-h-[90vh] overflow-hidden",children:[h.jsx("h2",{className:"text-lg font-bold mb-4 text-center",children:"Editar Foto de Perfil"}),i?h.jsx("div",{className:"relative w-full h-[300px] bg-black",children:h.jsx(c9,{image:i,crop:o,zoom:l,aspect:1,onCropChange:a,onZoomChange:c,onCropComplete:g})}):h.jsx("input",{type:"file",accept:"image/*",onChange:_}),h.jsxs("div",{className:"flex justify-end mt-4 gap-2",children:[h.jsx("button",{onClick:e,className:"px-4 py-2 bg-gray-300 rounded hover:bg-gray-400",children:"Cancelar"}),i&&h.jsx("button",{onClick:E,disabled:f,className:"px-4 py-2 bg-green-600 text-white rounded hover:bg-green-700",children:f?"Subiendo...":"Guardar"})]})]})})}function h9(){const{usuario:t}=x.useContext(tv),[e,n]=x.useState(null),[r,i]=x.useState(!1),[s,o]=x.useState(""),[a,l]=x.useState(""),[c,u]=x.useState(!1),[d,f]=x.useState(!1),[p,g]=x.useState(!1),_=Pr(),E=(C,S)=>((C==null?void 0:C.charAt(0).toUpperCase())||"")+((S==null?void 0:S.charAt(0).toUpperCase())||"");x.useEffect(()=>{if(t){const C=X(q,`usuarios/${t.uid}`);vn(C).then(async S=>{const b=t.displayName||"",T=b.split(" ")[0]||"",k=b.split(" ")[1]||"",N=t.photoURL||null,R=localStorage.getItem(`fotoPerfil_${t.uid}`)||N||S.exists()&&S.val().foto||null,M={nombre:T,apellido:k,correo:t.email,rol:"usuario",iniciales:E(T,k),foto:R},F=!T||!k;if(u(F),i(F),o(T),l(k),!S.exists())await ct(C,M),n(M);else{const U=S.val(),$={};U.nombre||($.nombre=T),U.apellido||($.apellido=k),!U.foto&&R&&($.foto=R),Object.keys($).length>0?(await Nw(C,$),n({...U,...$,foto:R})):n({...U,foto:R}),o(U.nombre||T),l(U.apellido||k)}})}},[t]);const m=async()=>{if(!t)return;const C=X(q,`usuarios/${t.uid}`),S={nombre:s,apellido:a,iniciales:E(s,a)};await Nw(C,S),i(!1),u(!1),alert("Datos actualizados correctamente")},v=async()=>{await IM(ho),_("/login")},y=C=>{n(S=>({...S,foto:C}))};return e?h.jsxs("div",{className:"min-h-screen bg-cover bg-center text-white font-qatar",style:{backgroundImage:"url('/EmproChampions-2025/img/fondoempro-horizontal.png')"},children:[h.jsx(cs,{}),h.jsx("div",{className:"flex items-center justify-center px-4 py-10",children:h.jsxs("div",{className:"bg-white/90 rounded-2xl shadow-lg p-8 w-full max-w-md text-center text-black",children:[h.jsx("h1",{className:"text-3xl font-bold text-[#7a0026] mb-6",children:"Configuración de Cuenta"}),c&&h.jsx("div",{className:"mb-4 text-red-700 font-semibold",children:"Tu cuenta no tiene nombre ni foto. Por favor completa tu perfil 👇"}),h.jsxs("div",{className:"mb-4 relative w-24 h-24 mx-auto",children:[e.foto?h.jsx("img",{src:e.foto,className:"w-24 h-24 rounded-full object-cover"}):h.jsx("div",{className:"w-24 h-24 rounded-full bg-[#7a0026] text-white text-3xl flex items-center justify-center",children:E(s,a)||"U"}),h.jsx("button",{type:"button",onClick:()=>g(!0),className:"absolute bottom-0 right-0 bg-yellow-400 text-black rounded-full p-1 shadow-md hover:bg-yellow-500",children:"✏️"})]}),h.jsxs("div",{className:"space-y-4 text-left",children:[h.jsx("input",{type:"text",placeholder:"Nombre",value:s,onChange:C=>o(C.target.value),className:"w-full px-4 py-2 border border-[#7a0026] rounded-md",disabled:!r}),h.jsx("input",{type:"text",placeholder:"Apellido",value:a,onChange:C=>l(C.target.value),className:"w-full px-4 py-2 border border-[#7a0026] rounded-md",disabled:!r}),h.jsxs("p",{className:"text-gray-700 font-sans text-sm break-all",children:["Correo: ",e.correo]})]}),h.jsxs("div",{className:"mt-6",children:[r?h.jsx("button",{onClick:m,className:"w-full bg-[#FFD700] text-[#7a0026] font-bold py-2 rounded-md hover:bg-yellow-400 transition",children:"Guardar Cambios"}):h.jsx("button",{onClick:()=>i(!0),className:"w-full bg-blue-600 text-white font-bold py-2 rounded-md hover:bg-blue-700 transition",children:"Editar"}),h.jsx("button",{onClick:()=>f(!0),className:"mt-4 w-full bg-red-600 text-white font-bold py-2 rounded-md hover:bg-red-700 transition",children:"Cerrar sesión"})]})]})}),h.jsx(CP,{open:d,onClose:()=>f(!1),children:h.jsxs(EP,{className:"bg-white p-6 rounded-md shadow-md w-full max-w-sm mx-auto mt-40 text-center",children:[h.jsx("h2",{className:"text-xl font-bold mb-4 text-black",children:"¿Cerrar sesión?"}),h.jsxs("div",{className:"flex justify-center gap-4",children:[h.jsx("button",{className:"bg-gray-300 px-4 py-2 rounded hover:bg-gray-400",onClick:()=>f(!1),children:"Cancelar"}),h.jsx("button",{className:"bg-red-600 text-white px-4 py-2 rounded hover:bg-red-700",onClick:v,children:"Confirmar"})]})]})}),h.jsx(f9,{open:p,onClose:()=>g(!1),usuario:t,onUploadSuccess:y})]}):h.jsx("div",{className:"text-white text-center mt-10",children:"Cargando..."})}function p9(){return x.useEffect(()=>{(async()=>{if(console.log("Solicitando permiso para notificaciones..."),await Notification.requestPermission()==="granted"){console.log("Permiso de notificación concedido.");try{const r=await J5(qw,{vapidKey:"TU_CLAVE_VAPID_PUBLICA_AQUI"});r?(console.log("Token de registro de FCM:",r),await ct(X(q,`deviceTokens/${r}`),!0),console.log("Token de FCM guardado en la base de datos.")):console.log("No se pudo obtener el token de registro de FCM. Es posible que el usuario haya bloqueado las notificaciones.")}catch(r){console.error("Error al obtener o guardar el token de FCM:",r)}}else console.log("No se concedió el permiso de notificación.")})();const e=Z5(qw,n=>{console.log("Mensaje de FCM recibido en primer plano:",n)});return()=>{e()}},[]),h.jsxs(lD,{children:[h.jsx(Yt,{path:"/",element:h.jsx(x_,{to:"/login",replace:!0})}),h.jsx(Yt,{path:"/login",element:h.jsx(d$,{})}),h.jsx(Yt,{path:"/registro",element:h.jsx(yz,{})}),h.jsx(Yt,{path:"/main",element:h.jsx(f$,{})}),h.jsx(Yt,{path:"/match",element:h.jsx(m$,{})}),h.jsx(Yt,{path:"/alineacion",element:h.jsx(lz,{})}),h.jsx(Yt,{path:"/control/:partidoId",element:h.jsx(gz,{})}),h.jsx(Yt,{path:"/goleadores",element:h.jsx(vz,{})}),h.jsx(Yt,{path:"/historial",element:h.jsx(_z,{})}),h.jsx(Yt,{path:"/configuracion",element:h.jsx(h9,{})}),h.jsx(Yt,{path:"*",element:h.jsx(x_,{to:"/login"})})]})}if(sessionStorage.redirect){const t=sessionStorage.redirect;delete sessionStorage.redirect,window.history.replaceState(null,"",t)}Uh.createRoot(document.getElementById("root")).render(h.jsx(DD,{basename:"/EmproChampions-2025",children:h.jsx(u$,{children:h.jsx(p9,{})})}));"serviceWorker"in navigator&&navigator.serviceWorker.register("/EmproChampions-2025/firebase-messaging-sw.js").then(t=>{console.log("Service Worker registrado:",t)}).catch(t=>{console.error("Fallo el registro del Service Worker:",t)});
