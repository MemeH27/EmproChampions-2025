function x5(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();function um(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Mv={exports:{}},xu={},Dv={exports:{}},Me={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var tE;function b5(){if(tE)return Me;tE=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),a=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),g=Symbol.iterator;function v(q){return q===null||typeof q!="object"?null:(q=g&&q[g]||q["@@iterator"],typeof q=="function"?q:null)}var x={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},_=Object.assign,T={};function I(q,te,Z){this.props=q,this.context=te,this.refs=T,this.updater=Z||x}I.prototype.isReactComponent={},I.prototype.setState=function(q,te){if(typeof q!="object"&&typeof q!="function"&&q!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,q,te,"setState")},I.prototype.forceUpdate=function(q){this.updater.enqueueForceUpdate(this,q,"forceUpdate")};function R(){}R.prototype=I.prototype;function P(q,te,Z){this.props=q,this.context=te,this.refs=T,this.updater=Z||x}var k=P.prototype=new R;k.constructor=P,_(k,I.prototype),k.isPureReactComponent=!0;var j=Array.isArray,$=Object.prototype.hasOwnProperty,B={current:null},L={key:!0,ref:!0,__self:!0,__source:!0};function N(q,te,Z){var he,ve={},_e=null,xe=null;if(te!=null)for(he in te.ref!==void 0&&(xe=te.ref),te.key!==void 0&&(_e=""+te.key),te)$.call(te,he)&&!L.hasOwnProperty(he)&&(ve[he]=te[he]);var ke=arguments.length-2;if(ke===1)ve.children=Z;else if(1<ke){for(var Ee=Array(ke),Be=0;Be<ke;Be++)Ee[Be]=arguments[Be+2];ve.children=Ee}if(q&&q.defaultProps)for(he in ke=q.defaultProps,ke)ve[he]===void 0&&(ve[he]=ke[he]);return{$$typeof:t,type:q,key:_e,ref:xe,props:ve,_owner:B.current}}function O(q,te){return{$$typeof:t,type:q.type,key:te,ref:q.ref,props:q.props,_owner:q._owner}}function b(q){return typeof q=="object"&&q!==null&&q.$$typeof===t}function M(q){var te={"=":"=0",":":"=2"};return"$"+q.replace(/[=:]/g,function(Z){return te[Z]})}var V=/\/+/g;function F(q,te){return typeof q=="object"&&q!==null&&q.key!=null?M(""+q.key):te.toString(36)}function Q(q,te,Z,he,ve){var _e=typeof q;(_e==="undefined"||_e==="boolean")&&(q=null);var xe=!1;if(q===null)xe=!0;else switch(_e){case"string":case"number":xe=!0;break;case"object":switch(q.$$typeof){case t:case e:xe=!0}}if(xe)return xe=q,ve=ve(xe),q=he===""?"."+F(xe,0):he,j(ve)?(Z="",q!=null&&(Z=q.replace(V,"$&/")+"/"),Q(ve,te,Z,"",function(Be){return Be})):ve!=null&&(b(ve)&&(ve=O(ve,Z+(!ve.key||xe&&xe.key===ve.key?"":(""+ve.key).replace(V,"$&/")+"/")+q)),te.push(ve)),1;if(xe=0,he=he===""?".":he+":",j(q))for(var ke=0;ke<q.length;ke++){_e=q[ke];var Ee=he+F(_e,ke);xe+=Q(_e,te,Z,Ee,ve)}else if(Ee=v(q),typeof Ee=="function")for(q=Ee.call(q),ke=0;!(_e=q.next()).done;)_e=_e.value,Ee=he+F(_e,ke++),xe+=Q(_e,te,Z,Ee,ve);else if(_e==="object")throw te=String(q),Error("Objects are not valid as a React child (found: "+(te==="[object Object]"?"object with keys {"+Object.keys(q).join(", ")+"}":te)+"). If you meant to render a collection of children, use an array instead.");return xe}function ae(q,te,Z){if(q==null)return q;var he=[],ve=0;return Q(q,he,"","",function(_e){return te.call(Z,_e,ve++)}),he}function re(q){if(q._status===-1){var te=q._result;te=te(),te.then(function(Z){(q._status===0||q._status===-1)&&(q._status=1,q._result=Z)},function(Z){(q._status===0||q._status===-1)&&(q._status=2,q._result=Z)}),q._status===-1&&(q._status=0,q._result=te)}if(q._status===1)return q._result.default;throw q._result}var pe={current:null},ne={transition:null},se={ReactCurrentDispatcher:pe,ReactCurrentBatchConfig:ne,ReactCurrentOwner:B};function le(){throw Error("act(...) is not supported in production builds of React.")}return Me.Children={map:ae,forEach:function(q,te,Z){ae(q,function(){te.apply(this,arguments)},Z)},count:function(q){var te=0;return ae(q,function(){te++}),te},toArray:function(q){return ae(q,function(te){return te})||[]},only:function(q){if(!b(q))throw Error("React.Children.only expected to receive a single React element child.");return q}},Me.Component=I,Me.Fragment=n,Me.Profiler=i,Me.PureComponent=P,Me.StrictMode=r,Me.Suspense=u,Me.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=se,Me.act=le,Me.cloneElement=function(q,te,Z){if(q==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+q+".");var he=_({},q.props),ve=q.key,_e=q.ref,xe=q._owner;if(te!=null){if(te.ref!==void 0&&(_e=te.ref,xe=B.current),te.key!==void 0&&(ve=""+te.key),q.type&&q.type.defaultProps)var ke=q.type.defaultProps;for(Ee in te)$.call(te,Ee)&&!L.hasOwnProperty(Ee)&&(he[Ee]=te[Ee]===void 0&&ke!==void 0?ke[Ee]:te[Ee])}var Ee=arguments.length-2;if(Ee===1)he.children=Z;else if(1<Ee){ke=Array(Ee);for(var Be=0;Be<Ee;Be++)ke[Be]=arguments[Be+2];he.children=ke}return{$$typeof:t,type:q.type,key:ve,ref:_e,props:he,_owner:xe}},Me.createContext=function(q){return q={$$typeof:a,_currentValue:q,_currentValue2:q,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},q.Provider={$$typeof:s,_context:q},q.Consumer=q},Me.createElement=N,Me.createFactory=function(q){var te=N.bind(null,q);return te.type=q,te},Me.createRef=function(){return{current:null}},Me.forwardRef=function(q){return{$$typeof:c,render:q}},Me.isValidElement=b,Me.lazy=function(q){return{$$typeof:h,_payload:{_status:-1,_result:q},_init:re}},Me.memo=function(q,te){return{$$typeof:f,type:q,compare:te===void 0?null:te}},Me.startTransition=function(q){var te=ne.transition;ne.transition={};try{q()}finally{ne.transition=te}},Me.unstable_act=le,Me.useCallback=function(q,te){return pe.current.useCallback(q,te)},Me.useContext=function(q){return pe.current.useContext(q)},Me.useDebugValue=function(){},Me.useDeferredValue=function(q){return pe.current.useDeferredValue(q)},Me.useEffect=function(q,te){return pe.current.useEffect(q,te)},Me.useId=function(){return pe.current.useId()},Me.useImperativeHandle=function(q,te,Z){return pe.current.useImperativeHandle(q,te,Z)},Me.useInsertionEffect=function(q,te){return pe.current.useInsertionEffect(q,te)},Me.useLayoutEffect=function(q,te){return pe.current.useLayoutEffect(q,te)},Me.useMemo=function(q,te){return pe.current.useMemo(q,te)},Me.useReducer=function(q,te,Z){return pe.current.useReducer(q,te,Z)},Me.useRef=function(q){return pe.current.useRef(q)},Me.useState=function(q){return pe.current.useState(q)},Me.useSyncExternalStore=function(q,te,Z){return pe.current.useSyncExternalStore(q,te,Z)},Me.useTransition=function(){return pe.current.useTransition()},Me.version="18.3.1",Me}var nE;function dm(){return nE||(nE=1,Dv.exports=b5()),Dv.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rE;function E5(){if(rE)return xu;rE=1;var t=dm(),e=Symbol.for("react.element"),n=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,i=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s={key:!0,ref:!0,__self:!0,__source:!0};function a(c,u,f){var h,g={},v=null,x=null;f!==void 0&&(v=""+f),u.key!==void 0&&(v=""+u.key),u.ref!==void 0&&(x=u.ref);for(h in u)r.call(u,h)&&!s.hasOwnProperty(h)&&(g[h]=u[h]);if(c&&c.defaultProps)for(h in u=c.defaultProps,u)g[h]===void 0&&(g[h]=u[h]);return{$$typeof:e,type:c,key:v,ref:x,props:g,_owner:i.current}}return xu.Fragment=n,xu.jsx=a,xu.jsxs=a,xu}var iE;function S5(){return iE||(iE=1,Mv.exports=E5()),Mv.exports}var w=S5(),C=dm();const me=um(C),mp=x5({__proto__:null,default:me},[C]);var Ah={},Lv={exports:{}},Un={},jv={exports:{}},Fv={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sE;function C5(){return sE||(sE=1,function(t){function e(ne,se){var le=ne.length;ne.push(se);e:for(;0<le;){var q=le-1>>>1,te=ne[q];if(0<i(te,se))ne[q]=se,ne[le]=te,le=q;else break e}}function n(ne){return ne.length===0?null:ne[0]}function r(ne){if(ne.length===0)return null;var se=ne[0],le=ne.pop();if(le!==se){ne[0]=le;e:for(var q=0,te=ne.length,Z=te>>>1;q<Z;){var he=2*(q+1)-1,ve=ne[he],_e=he+1,xe=ne[_e];if(0>i(ve,le))_e<te&&0>i(xe,ve)?(ne[q]=xe,ne[_e]=le,q=_e):(ne[q]=ve,ne[he]=le,q=he);else if(_e<te&&0>i(xe,le))ne[q]=xe,ne[_e]=le,q=_e;else break e}}return se}function i(ne,se){var le=ne.sortIndex-se.sortIndex;return le!==0?le:ne.id-se.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var a=Date,c=a.now();t.unstable_now=function(){return a.now()-c}}var u=[],f=[],h=1,g=null,v=3,x=!1,_=!1,T=!1,I=typeof setTimeout=="function"?setTimeout:null,R=typeof clearTimeout=="function"?clearTimeout:null,P=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function k(ne){for(var se=n(f);se!==null;){if(se.callback===null)r(f);else if(se.startTime<=ne)r(f),se.sortIndex=se.expirationTime,e(u,se);else break;se=n(f)}}function j(ne){if(T=!1,k(ne),!_)if(n(u)!==null)_=!0,re($);else{var se=n(f);se!==null&&pe(j,se.startTime-ne)}}function $(ne,se){_=!1,T&&(T=!1,R(N),N=-1),x=!0;var le=v;try{for(k(se),g=n(u);g!==null&&(!(g.expirationTime>se)||ne&&!M());){var q=g.callback;if(typeof q=="function"){g.callback=null,v=g.priorityLevel;var te=q(g.expirationTime<=se);se=t.unstable_now(),typeof te=="function"?g.callback=te:g===n(u)&&r(u),k(se)}else r(u);g=n(u)}if(g!==null)var Z=!0;else{var he=n(f);he!==null&&pe(j,he.startTime-se),Z=!1}return Z}finally{g=null,v=le,x=!1}}var B=!1,L=null,N=-1,O=5,b=-1;function M(){return!(t.unstable_now()-b<O)}function V(){if(L!==null){var ne=t.unstable_now();b=ne;var se=!0;try{se=L(!0,ne)}finally{se?F():(B=!1,L=null)}}else B=!1}var F;if(typeof P=="function")F=function(){P(V)};else if(typeof MessageChannel<"u"){var Q=new MessageChannel,ae=Q.port2;Q.port1.onmessage=V,F=function(){ae.postMessage(null)}}else F=function(){I(V,0)};function re(ne){L=ne,B||(B=!0,F())}function pe(ne,se){N=I(function(){ne(t.unstable_now())},se)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(ne){ne.callback=null},t.unstable_continueExecution=function(){_||x||(_=!0,re($))},t.unstable_forceFrameRate=function(ne){0>ne||125<ne?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):O=0<ne?Math.floor(1e3/ne):5},t.unstable_getCurrentPriorityLevel=function(){return v},t.unstable_getFirstCallbackNode=function(){return n(u)},t.unstable_next=function(ne){switch(v){case 1:case 2:case 3:var se=3;break;default:se=v}var le=v;v=se;try{return ne()}finally{v=le}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(ne,se){switch(ne){case 1:case 2:case 3:case 4:case 5:break;default:ne=3}var le=v;v=ne;try{return se()}finally{v=le}},t.unstable_scheduleCallback=function(ne,se,le){var q=t.unstable_now();switch(typeof le=="object"&&le!==null?(le=le.delay,le=typeof le=="number"&&0<le?q+le:q):le=q,ne){case 1:var te=-1;break;case 2:te=250;break;case 5:te=1073741823;break;case 4:te=1e4;break;default:te=5e3}return te=le+te,ne={id:h++,callback:se,priorityLevel:ne,startTime:le,expirationTime:te,sortIndex:-1},le>q?(ne.sortIndex=le,e(f,ne),n(u)===null&&ne===n(f)&&(T?(R(N),N=-1):T=!0,pe(j,le-q))):(ne.sortIndex=te,e(u,ne),_||x||(_=!0,re($))),ne},t.unstable_shouldYield=M,t.unstable_wrapCallback=function(ne){var se=v;return function(){var le=v;v=se;try{return ne.apply(this,arguments)}finally{v=le}}}}(Fv)),Fv}var oE;function T5(){return oE||(oE=1,jv.exports=C5()),jv.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var aE;function k5(){if(aE)return Un;aE=1;var t=dm(),e=T5();function n(o){for(var l="https://reactjs.org/docs/error-decoder.html?invariant="+o,d=1;d<arguments.length;d++)l+="&args[]="+encodeURIComponent(arguments[d]);return"Minified React error #"+o+"; visit "+l+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,i={};function s(o,l){a(o,l),a(o+"Capture",l)}function a(o,l){for(i[o]=l,o=0;o<l.length;o++)r.add(l[o])}var c=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),u=Object.prototype.hasOwnProperty,f=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,h={},g={};function v(o){return u.call(g,o)?!0:u.call(h,o)?!1:f.test(o)?g[o]=!0:(h[o]=!0,!1)}function x(o,l,d,m){if(d!==null&&d.type===0)return!1;switch(typeof l){case"function":case"symbol":return!0;case"boolean":return m?!1:d!==null?!d.acceptsBooleans:(o=o.toLowerCase().slice(0,5),o!=="data-"&&o!=="aria-");default:return!1}}function _(o,l,d,m){if(l===null||typeof l>"u"||x(o,l,d,m))return!0;if(m)return!1;if(d!==null)switch(d.type){case 3:return!l;case 4:return l===!1;case 5:return isNaN(l);case 6:return isNaN(l)||1>l}return!1}function T(o,l,d,m,y,S,D){this.acceptsBooleans=l===2||l===3||l===4,this.attributeName=m,this.attributeNamespace=y,this.mustUseProperty=d,this.propertyName=o,this.type=l,this.sanitizeURL=S,this.removeEmptyString=D}var I={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(o){I[o]=new T(o,0,!1,o,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(o){var l=o[0];I[l]=new T(l,1,!1,o[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(o){I[o]=new T(o,2,!1,o.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(o){I[o]=new T(o,2,!1,o,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(o){I[o]=new T(o,3,!1,o.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(o){I[o]=new T(o,3,!0,o,null,!1,!1)}),["capture","download"].forEach(function(o){I[o]=new T(o,4,!1,o,null,!1,!1)}),["cols","rows","size","span"].forEach(function(o){I[o]=new T(o,6,!1,o,null,!1,!1)}),["rowSpan","start"].forEach(function(o){I[o]=new T(o,5,!1,o.toLowerCase(),null,!1,!1)});var R=/[\-:]([a-z])/g;function P(o){return o[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(o){var l=o.replace(R,P);I[l]=new T(l,1,!1,o,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(o){var l=o.replace(R,P);I[l]=new T(l,1,!1,o,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(o){var l=o.replace(R,P);I[l]=new T(l,1,!1,o,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(o){I[o]=new T(o,1,!1,o.toLowerCase(),null,!1,!1)}),I.xlinkHref=new T("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(o){I[o]=new T(o,1,!1,o.toLowerCase(),null,!0,!0)});function k(o,l,d,m){var y=I.hasOwnProperty(l)?I[l]:null;(y!==null?y.type!==0:m||!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(_(l,d,y,m)&&(d=null),m||y===null?v(l)&&(d===null?o.removeAttribute(l):o.setAttribute(l,""+d)):y.mustUseProperty?o[y.propertyName]=d===null?y.type===3?!1:"":d:(l=y.attributeName,m=y.attributeNamespace,d===null?o.removeAttribute(l):(y=y.type,d=y===3||y===4&&d===!0?"":""+d,m?o.setAttributeNS(m,l,d):o.setAttribute(l,d))))}var j=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,$=Symbol.for("react.element"),B=Symbol.for("react.portal"),L=Symbol.for("react.fragment"),N=Symbol.for("react.strict_mode"),O=Symbol.for("react.profiler"),b=Symbol.for("react.provider"),M=Symbol.for("react.context"),V=Symbol.for("react.forward_ref"),F=Symbol.for("react.suspense"),Q=Symbol.for("react.suspense_list"),ae=Symbol.for("react.memo"),re=Symbol.for("react.lazy"),pe=Symbol.for("react.offscreen"),ne=Symbol.iterator;function se(o){return o===null||typeof o!="object"?null:(o=ne&&o[ne]||o["@@iterator"],typeof o=="function"?o:null)}var le=Object.assign,q;function te(o){if(q===void 0)try{throw Error()}catch(d){var l=d.stack.trim().match(/\n( *(at )?)/);q=l&&l[1]||""}return`
`+q+o}var Z=!1;function he(o,l){if(!o||Z)return"";Z=!0;var d=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(l)if(l=function(){throw Error()},Object.defineProperty(l.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(l,[])}catch(X){var m=X}Reflect.construct(o,[],l)}else{try{l.call()}catch(X){m=X}o.call(l.prototype)}else{try{throw Error()}catch(X){m=X}o()}}catch(X){if(X&&m&&typeof X.stack=="string"){for(var y=X.stack.split(`
`),S=m.stack.split(`
`),D=y.length-1,z=S.length-1;1<=D&&0<=z&&y[D]!==S[z];)z--;for(;1<=D&&0<=z;D--,z--)if(y[D]!==S[z]){if(D!==1||z!==1)do if(D--,z--,0>z||y[D]!==S[z]){var H=`
`+y[D].replace(" at new "," at ");return o.displayName&&H.includes("<anonymous>")&&(H=H.replace("<anonymous>",o.displayName)),H}while(1<=D&&0<=z);break}}}finally{Z=!1,Error.prepareStackTrace=d}return(o=o?o.displayName||o.name:"")?te(o):""}function ve(o){switch(o.tag){case 5:return te(o.type);case 16:return te("Lazy");case 13:return te("Suspense");case 19:return te("SuspenseList");case 0:case 2:case 15:return o=he(o.type,!1),o;case 11:return o=he(o.type.render,!1),o;case 1:return o=he(o.type,!0),o;default:return""}}function _e(o){if(o==null)return null;if(typeof o=="function")return o.displayName||o.name||null;if(typeof o=="string")return o;switch(o){case L:return"Fragment";case B:return"Portal";case O:return"Profiler";case N:return"StrictMode";case F:return"Suspense";case Q:return"SuspenseList"}if(typeof o=="object")switch(o.$$typeof){case M:return(o.displayName||"Context")+".Consumer";case b:return(o._context.displayName||"Context")+".Provider";case V:var l=o.render;return o=o.displayName,o||(o=l.displayName||l.name||"",o=o!==""?"ForwardRef("+o+")":"ForwardRef"),o;case ae:return l=o.displayName||null,l!==null?l:_e(o.type)||"Memo";case re:l=o._payload,o=o._init;try{return _e(o(l))}catch{}}return null}function xe(o){var l=o.type;switch(o.tag){case 24:return"Cache";case 9:return(l.displayName||"Context")+".Consumer";case 10:return(l._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return o=l.render,o=o.displayName||o.name||"",l.displayName||(o!==""?"ForwardRef("+o+")":"ForwardRef");case 7:return"Fragment";case 5:return l;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return _e(l);case 8:return l===N?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof l=="function")return l.displayName||l.name||null;if(typeof l=="string")return l}return null}function ke(o){switch(typeof o){case"boolean":case"number":case"string":case"undefined":return o;case"object":return o;default:return""}}function Ee(o){var l=o.type;return(o=o.nodeName)&&o.toLowerCase()==="input"&&(l==="checkbox"||l==="radio")}function Be(o){var l=Ee(o)?"checked":"value",d=Object.getOwnPropertyDescriptor(o.constructor.prototype,l),m=""+o[l];if(!o.hasOwnProperty(l)&&typeof d<"u"&&typeof d.get=="function"&&typeof d.set=="function"){var y=d.get,S=d.set;return Object.defineProperty(o,l,{configurable:!0,get:function(){return y.call(this)},set:function(D){m=""+D,S.call(this,D)}}),Object.defineProperty(o,l,{enumerable:d.enumerable}),{getValue:function(){return m},setValue:function(D){m=""+D},stopTracking:function(){o._valueTracker=null,delete o[l]}}}}function $e(o){o._valueTracker||(o._valueTracker=Be(o))}function _n(o){if(!o)return!1;var l=o._valueTracker;if(!l)return!0;var d=l.getValue(),m="";return o&&(m=Ee(o)?o.checked?"true":"false":o.value),o=m,o!==d?(l.setValue(o),!0):!1}function _t(o){if(o=o||(typeof document<"u"?document:void 0),typeof o>"u")return null;try{return o.activeElement||o.body}catch{return o.body}}function xn(o,l){var d=l.checked;return le({},l,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:d??o._wrapperState.initialChecked})}function Mt(o,l){var d=l.defaultValue==null?"":l.defaultValue,m=l.checked!=null?l.checked:l.defaultChecked;d=ke(l.value!=null?l.value:d),o._wrapperState={initialChecked:m,initialValue:d,controlled:l.type==="checkbox"||l.type==="radio"?l.checked!=null:l.value!=null}}function Tt(o,l){l=l.checked,l!=null&&k(o,"checked",l,!1)}function Po(o,l){Tt(o,l);var d=ke(l.value),m=l.type;if(d!=null)m==="number"?(d===0&&o.value===""||o.value!=d)&&(o.value=""+d):o.value!==""+d&&(o.value=""+d);else if(m==="submit"||m==="reset"){o.removeAttribute("value");return}l.hasOwnProperty("value")?Ua(o,l.type,d):l.hasOwnProperty("defaultValue")&&Ua(o,l.type,ke(l.defaultValue)),l.checked==null&&l.defaultChecked!=null&&(o.defaultChecked=!!l.defaultChecked)}function gf(o,l,d){if(l.hasOwnProperty("value")||l.hasOwnProperty("defaultValue")){var m=l.type;if(!(m!=="submit"&&m!=="reset"||l.value!==void 0&&l.value!==null))return;l=""+o._wrapperState.initialValue,d||l===o.value||(o.value=l),o.defaultValue=l}d=o.name,d!==""&&(o.name=""),o.defaultChecked=!!o._wrapperState.initialChecked,d!==""&&(o.name=d)}function Ua(o,l,d){(l!=="number"||_t(o.ownerDocument)!==o)&&(d==null?o.defaultValue=""+o._wrapperState.initialValue:o.defaultValue!==""+d&&(o.defaultValue=""+d))}var Oi=Array.isArray;function Mi(o,l,d,m){if(o=o.options,l){l={};for(var y=0;y<d.length;y++)l["$"+d[y]]=!0;for(d=0;d<o.length;d++)y=l.hasOwnProperty("$"+o[d].value),o[d].selected!==y&&(o[d].selected=y),y&&m&&(o[d].defaultSelected=!0)}else{for(d=""+ke(d),l=null,y=0;y<o.length;y++){if(o[y].value===d){o[y].selected=!0,m&&(o[y].defaultSelected=!0);return}l!==null||o[y].disabled||(l=o[y])}l!==null&&(l.selected=!0)}}function kc(o,l){if(l.dangerouslySetInnerHTML!=null)throw Error(n(91));return le({},l,{value:void 0,defaultValue:void 0,children:""+o._wrapperState.initialValue})}function Va(o,l){var d=l.value;if(d==null){if(d=l.children,l=l.defaultValue,d!=null){if(l!=null)throw Error(n(92));if(Oi(d)){if(1<d.length)throw Error(n(93));d=d[0]}l=d}l==null&&(l=""),d=l}o._wrapperState={initialValue:ke(d)}}function Ba(o,l){var d=ke(l.value),m=ke(l.defaultValue);d!=null&&(d=""+d,d!==o.value&&(o.value=d),l.defaultValue==null&&o.defaultValue!==d&&(o.defaultValue=d)),m!=null&&(o.defaultValue=""+m)}function Pc(o){var l=o.textContent;l===o._wrapperState.initialValue&&l!==""&&l!==null&&(o.value=l)}function Dt(o){switch(o){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Lt(o,l){return o==null||o==="http://www.w3.org/1999/xhtml"?Dt(l):o==="http://www.w3.org/2000/svg"&&l==="foreignObject"?"http://www.w3.org/1999/xhtml":o}var Di,Ic=function(o){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(l,d,m,y){MSApp.execUnsafeLocalFunction(function(){return o(l,d,m,y)})}:o}(function(o,l){if(o.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in o)o.innerHTML=l;else{for(Di=Di||document.createElement("div"),Di.innerHTML="<svg>"+l.valueOf().toString()+"</svg>",l=Di.firstChild;o.firstChild;)o.removeChild(o.firstChild);for(;l.firstChild;)o.appendChild(l.firstChild)}});function ks(o,l){if(l){var d=o.firstChild;if(d&&d===o.lastChild&&d.nodeType===3){d.nodeValue=l;return}}o.textContent=l}var Io={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Ao=["Webkit","ms","Moz","O"];Object.keys(Io).forEach(function(o){Ao.forEach(function(l){l=l+o.charAt(0).toUpperCase()+o.substring(1),Io[l]=Io[o]})});function Ac(o,l,d){return l==null||typeof l=="boolean"||l===""?"":d||typeof l!="number"||l===0||Io.hasOwnProperty(o)&&Io[o]?(""+l).trim():l+"px"}function Rc(o,l){o=o.style;for(var d in l)if(l.hasOwnProperty(d)){var m=d.indexOf("--")===0,y=Ac(d,l[d],m);d==="float"&&(d="cssFloat"),m?o.setProperty(d,y):o[d]=y}}var Nc=le({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Oc(o,l){if(l){if(Nc[o]&&(l.children!=null||l.dangerouslySetInnerHTML!=null))throw Error(n(137,o));if(l.dangerouslySetInnerHTML!=null){if(l.children!=null)throw Error(n(60));if(typeof l.dangerouslySetInnerHTML!="object"||!("__html"in l.dangerouslySetInnerHTML))throw Error(n(61))}if(l.style!=null&&typeof l.style!="object")throw Error(n(62))}}function Mc(o,l){if(o.indexOf("-")===-1)return typeof l.is=="string";switch(o){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ro=null;function za(o){return o=o.target||o.srcElement||window,o.correspondingUseElement&&(o=o.correspondingUseElement),o.nodeType===3?o.parentNode:o}var Dc=null,dr=null,oi=null;function Ha(o){if(o=ou(o)){if(typeof Dc!="function")throw Error(n(280));var l=o.stateNode;l&&(l=Wf(l),Dc(o.stateNode,o.type,l))}}function Li(o){dr?oi?oi.push(o):oi=[o]:dr=o}function Lc(){if(dr){var o=dr,l=oi;if(oi=dr=null,Ha(o),l)for(o=0;o<l.length;o++)Ha(l[o])}}function Wa(o,l){return o(l)}function jc(){}var ji=!1;function Fc(o,l,d){if(ji)return o(l,d);ji=!0;try{return Wa(o,l,d)}finally{ji=!1,(dr!==null||oi!==null)&&(jc(),Lc())}}function kt(o,l){var d=o.stateNode;if(d===null)return null;var m=Wf(d);if(m===null)return null;d=m[l];e:switch(l){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(m=!m.disabled)||(o=o.type,m=!(o==="button"||o==="input"||o==="select"||o==="textarea")),o=!m;break e;default:o=!1}if(o)return null;if(d&&typeof d!="function")throw Error(n(231,l,typeof d));return d}var qa=!1;if(c)try{var Nr={};Object.defineProperty(Nr,"passive",{get:function(){qa=!0}}),window.addEventListener("test",Nr,Nr),window.removeEventListener("test",Nr,Nr)}catch{qa=!1}function No(o,l,d,m,y,S,D,z,H){var X=Array.prototype.slice.call(arguments,3);try{l.apply(d,X)}catch(oe){this.onError(oe)}}var Oo=!1,Ga=null,Or=!1,$c=null,ag={onError:function(o){Oo=!0,Ga=o}};function Uc(o,l,d,m,y,S,D,z,H){Oo=!1,Ga=null,No.apply(ag,arguments)}function lg(o,l,d,m,y,S,D,z,H){if(Uc.apply(this,arguments),Oo){if(Oo){var X=Ga;Oo=!1,Ga=null}else throw Error(n(198));Or||(Or=!0,$c=X)}}function Mr(o){var l=o,d=o;if(o.alternate)for(;l.return;)l=l.return;else{o=l;do l=o,(l.flags&4098)!==0&&(d=l.return),o=l.return;while(o)}return l.tag===3?d:null}function Mo(o){if(o.tag===13){var l=o.memoizedState;if(l===null&&(o=o.alternate,o!==null&&(l=o.memoizedState)),l!==null)return l.dehydrated}return null}function Dr(o){if(Mr(o)!==o)throw Error(n(188))}function vf(o){var l=o.alternate;if(!l){if(l=Mr(o),l===null)throw Error(n(188));return l!==o?null:o}for(var d=o,m=l;;){var y=d.return;if(y===null)break;var S=y.alternate;if(S===null){if(m=y.return,m!==null){d=m;continue}break}if(y.child===S.child){for(S=y.child;S;){if(S===d)return Dr(y),o;if(S===m)return Dr(y),l;S=S.sibling}throw Error(n(188))}if(d.return!==m.return)d=y,m=S;else{for(var D=!1,z=y.child;z;){if(z===d){D=!0,d=y,m=S;break}if(z===m){D=!0,m=y,d=S;break}z=z.sibling}if(!D){for(z=S.child;z;){if(z===d){D=!0,d=S,m=y;break}if(z===m){D=!0,m=S,d=y;break}z=z.sibling}if(!D)throw Error(n(189))}}if(d.alternate!==m)throw Error(n(190))}if(d.tag!==3)throw Error(n(188));return d.stateNode.current===d?o:l}function Vc(o){return o=vf(o),o!==null?Ka(o):null}function Ka(o){if(o.tag===5||o.tag===6)return o;for(o=o.child;o!==null;){var l=Ka(o);if(l!==null)return l;o=o.sibling}return null}var Ya=e.unstable_scheduleCallback,Bc=e.unstable_cancelCallback,yf=e.unstable_shouldYield,cg=e.unstable_requestPaint,rt=e.unstable_now,wf=e.unstable_getCurrentPriorityLevel,Do=e.unstable_ImmediatePriority,Ps=e.unstable_UserBlockingPriority,fr=e.unstable_NormalPriority,zc=e.unstable_LowPriority,_f=e.unstable_IdlePriority,Lo=null,Xn=null;function xf(o){if(Xn&&typeof Xn.onCommitFiberRoot=="function")try{Xn.onCommitFiberRoot(Lo,o,void 0,(o.current.flags&128)===128)}catch{}}var bn=Math.clz32?Math.clz32:Ef,Hc=Math.log,bf=Math.LN2;function Ef(o){return o>>>=0,o===0?32:31-(Hc(o)/bf|0)|0}var Xa=64,Ja=4194304;function Is(o){switch(o&-o){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return o&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return o}}function jo(o,l){var d=o.pendingLanes;if(d===0)return 0;var m=0,y=o.suspendedLanes,S=o.pingedLanes,D=d&268435455;if(D!==0){var z=D&~y;z!==0?m=Is(z):(S&=D,S!==0&&(m=Is(S)))}else D=d&~y,D!==0?m=Is(D):S!==0&&(m=Is(S));if(m===0)return 0;if(l!==0&&l!==m&&(l&y)===0&&(y=m&-m,S=l&-l,y>=S||y===16&&(S&4194240)!==0))return l;if((m&4)!==0&&(m|=d&16),l=o.entangledLanes,l!==0)for(o=o.entanglements,l&=m;0<l;)d=31-bn(l),y=1<<d,m|=o[d],l&=~y;return m}function ug(o,l){switch(o){case 1:case 2:case 4:return l+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return l+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Fi(o,l){for(var d=o.suspendedLanes,m=o.pingedLanes,y=o.expirationTimes,S=o.pendingLanes;0<S;){var D=31-bn(S),z=1<<D,H=y[D];H===-1?((z&d)===0||(z&m)!==0)&&(y[D]=ug(z,l)):H<=l&&(o.expiredLanes|=z),S&=~z}}function Jn(o){return o=o.pendingLanes&-1073741825,o!==0?o:o&1073741824?1073741824:0}function Fo(){var o=Xa;return Xa<<=1,(Xa&4194240)===0&&(Xa=64),o}function As(o){for(var l=[],d=0;31>d;d++)l.push(o);return l}function Rs(o,l,d){o.pendingLanes|=l,l!==536870912&&(o.suspendedLanes=0,o.pingedLanes=0),o=o.eventTimes,l=31-bn(l),o[l]=d}function Ze(o,l){var d=o.pendingLanes&~l;o.pendingLanes=l,o.suspendedLanes=0,o.pingedLanes=0,o.expiredLanes&=l,o.mutableReadLanes&=l,o.entangledLanes&=l,l=o.entanglements;var m=o.eventTimes;for(o=o.expirationTimes;0<d;){var y=31-bn(d),S=1<<y;l[y]=0,m[y]=-1,o[y]=-1,d&=~S}}function Ns(o,l){var d=o.entangledLanes|=l;for(o=o.entanglements;d;){var m=31-bn(d),y=1<<m;y&l|o[m]&l&&(o[m]|=l),d&=~y}}var Fe=0;function Os(o){return o&=-o,1<o?4<o?(o&268435455)!==0?16:536870912:4:1}var Sf,Qa,Cf,Tf,kf,Wc=!1,ai=[],Zt=null,Lr=null,jr=null,Ms=new Map,hr=new Map,li=[],dg="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Pf(o,l){switch(o){case"focusin":case"focusout":Zt=null;break;case"dragenter":case"dragleave":Lr=null;break;case"mouseover":case"mouseout":jr=null;break;case"pointerover":case"pointerout":Ms.delete(l.pointerId);break;case"gotpointercapture":case"lostpointercapture":hr.delete(l.pointerId)}}function Nn(o,l,d,m,y,S){return o===null||o.nativeEvent!==S?(o={blockedOn:l,domEventName:d,eventSystemFlags:m,nativeEvent:S,targetContainers:[y]},l!==null&&(l=ou(l),l!==null&&Qa(l)),o):(o.eventSystemFlags|=m,l=o.targetContainers,y!==null&&l.indexOf(y)===-1&&l.push(y),o)}function fg(o,l,d,m,y){switch(l){case"focusin":return Zt=Nn(Zt,o,l,d,m,y),!0;case"dragenter":return Lr=Nn(Lr,o,l,d,m,y),!0;case"mouseover":return jr=Nn(jr,o,l,d,m,y),!0;case"pointerover":var S=y.pointerId;return Ms.set(S,Nn(Ms.get(S)||null,o,l,d,m,y)),!0;case"gotpointercapture":return S=y.pointerId,hr.set(S,Nn(hr.get(S)||null,o,l,d,m,y)),!0}return!1}function If(o){var l=Bo(o.target);if(l!==null){var d=Mr(l);if(d!==null){if(l=d.tag,l===13){if(l=Mo(d),l!==null){o.blockedOn=l,kf(o.priority,function(){Cf(d)});return}}else if(l===3&&d.stateNode.current.memoizedState.isDehydrated){o.blockedOn=d.tag===3?d.stateNode.containerInfo:null;return}}}o.blockedOn=null}function $i(o){if(o.blockedOn!==null)return!1;for(var l=o.targetContainers;0<l.length;){var d=Za(o.domEventName,o.eventSystemFlags,l[0],o.nativeEvent);if(d===null){d=o.nativeEvent;var m=new d.constructor(d.type,d);Ro=m,d.target.dispatchEvent(m),Ro=null}else return l=ou(d),l!==null&&Qa(l),o.blockedOn=d,!1;l.shift()}return!0}function $o(o,l,d){$i(o)&&d.delete(l)}function Af(){Wc=!1,Zt!==null&&$i(Zt)&&(Zt=null),Lr!==null&&$i(Lr)&&(Lr=null),jr!==null&&$i(jr)&&(jr=null),Ms.forEach($o),hr.forEach($o)}function Fr(o,l){o.blockedOn===l&&(o.blockedOn=null,Wc||(Wc=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,Af)))}function $r(o){function l(y){return Fr(y,o)}if(0<ai.length){Fr(ai[0],o);for(var d=1;d<ai.length;d++){var m=ai[d];m.blockedOn===o&&(m.blockedOn=null)}}for(Zt!==null&&Fr(Zt,o),Lr!==null&&Fr(Lr,o),jr!==null&&Fr(jr,o),Ms.forEach(l),hr.forEach(l),d=0;d<li.length;d++)m=li[d],m.blockedOn===o&&(m.blockedOn=null);for(;0<li.length&&(d=li[0],d.blockedOn===null);)If(d),d.blockedOn===null&&li.shift()}var Ui=j.ReactCurrentBatchConfig,Ds=!0;function ht(o,l,d,m){var y=Fe,S=Ui.transition;Ui.transition=null;try{Fe=1,qc(o,l,d,m)}finally{Fe=y,Ui.transition=S}}function hg(o,l,d,m){var y=Fe,S=Ui.transition;Ui.transition=null;try{Fe=4,qc(o,l,d,m)}finally{Fe=y,Ui.transition=S}}function qc(o,l,d,m){if(Ds){var y=Za(o,l,d,m);if(y===null)Sg(o,l,m,Uo,d),Pf(o,m);else if(fg(y,o,l,d,m))m.stopPropagation();else if(Pf(o,m),l&4&&-1<dg.indexOf(o)){for(;y!==null;){var S=ou(y);if(S!==null&&Sf(S),S=Za(o,l,d,m),S===null&&Sg(o,l,m,Uo,d),S===y)break;y=S}y!==null&&m.stopPropagation()}else Sg(o,l,m,null,d)}}var Uo=null;function Za(o,l,d,m){if(Uo=null,o=za(m),o=Bo(o),o!==null)if(l=Mr(o),l===null)o=null;else if(d=l.tag,d===13){if(o=Mo(l),o!==null)return o;o=null}else if(d===3){if(l.stateNode.current.memoizedState.isDehydrated)return l.tag===3?l.stateNode.containerInfo:null;o=null}else l!==o&&(o=null);return Uo=o,null}function Gc(o){switch(o){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(wf()){case Do:return 1;case Ps:return 4;case fr:case zc:return 16;case _f:return 536870912;default:return 16}default:return 16}}var Qn=null,el=null,On=null;function Kc(){if(On)return On;var o,l=el,d=l.length,m,y="value"in Qn?Qn.value:Qn.textContent,S=y.length;for(o=0;o<d&&l[o]===y[o];o++);var D=d-o;for(m=1;m<=D&&l[d-m]===y[S-m];m++);return On=y.slice(o,1<m?1-m:void 0)}function tl(o){var l=o.keyCode;return"charCode"in o?(o=o.charCode,o===0&&l===13&&(o=13)):o=l,o===10&&(o=13),32<=o||o===13?o:0}function ci(){return!0}function Yc(){return!1}function en(o){function l(d,m,y,S,D){this._reactName=d,this._targetInst=y,this.type=m,this.nativeEvent=S,this.target=D,this.currentTarget=null;for(var z in o)o.hasOwnProperty(z)&&(d=o[z],this[z]=d?d(S):S[z]);return this.isDefaultPrevented=(S.defaultPrevented!=null?S.defaultPrevented:S.returnValue===!1)?ci:Yc,this.isPropagationStopped=Yc,this}return le(l.prototype,{preventDefault:function(){this.defaultPrevented=!0;var d=this.nativeEvent;d&&(d.preventDefault?d.preventDefault():typeof d.returnValue!="unknown"&&(d.returnValue=!1),this.isDefaultPrevented=ci)},stopPropagation:function(){var d=this.nativeEvent;d&&(d.stopPropagation?d.stopPropagation():typeof d.cancelBubble!="unknown"&&(d.cancelBubble=!0),this.isPropagationStopped=ci)},persist:function(){},isPersistent:ci}),l}var Ur={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(o){return o.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},nl=en(Ur),ui=le({},Ur,{view:0,detail:0}),pg=en(ui),rl,Vi,Ls,Vo=le({},ui,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:p,button:0,buttons:0,relatedTarget:function(o){return o.relatedTarget===void 0?o.fromElement===o.srcElement?o.toElement:o.fromElement:o.relatedTarget},movementX:function(o){return"movementX"in o?o.movementX:(o!==Ls&&(Ls&&o.type==="mousemove"?(rl=o.screenX-Ls.screenX,Vi=o.screenY-Ls.screenY):Vi=rl=0,Ls=o),rl)},movementY:function(o){return"movementY"in o?o.movementY:Vi}}),il=en(Vo),Xc=le({},Vo,{dataTransfer:0}),Rf=en(Xc),sl=le({},ui,{relatedTarget:0}),ol=en(sl),Nf=le({},Ur,{animationName:0,elapsedTime:0,pseudoElement:0}),Bi=en(Nf),Of=le({},Ur,{clipboardData:function(o){return"clipboardData"in o?o.clipboardData:window.clipboardData}}),Mf=en(Of),Df=le({},Ur,{data:0}),Jc=en(Df),Mn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Lf={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},jf={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function js(o){var l=this.nativeEvent;return l.getModifierState?l.getModifierState(o):(o=jf[o])?!!l[o]:!1}function p(){return js}var E=le({},ui,{key:function(o){if(o.key){var l=Mn[o.key]||o.key;if(l!=="Unidentified")return l}return o.type==="keypress"?(o=tl(o),o===13?"Enter":String.fromCharCode(o)):o.type==="keydown"||o.type==="keyup"?Lf[o.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:p,charCode:function(o){return o.type==="keypress"?tl(o):0},keyCode:function(o){return o.type==="keydown"||o.type==="keyup"?o.keyCode:0},which:function(o){return o.type==="keypress"?tl(o):o.type==="keydown"||o.type==="keyup"?o.keyCode:0}}),A=en(E),U=le({},Vo,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),G=en(U),J=le({},ui,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:p}),fe=en(J),Ye=le({},Ur,{propertyName:0,elapsedTime:0,pseudoElement:0}),jt=en(Ye),Ue=le({},Vo,{deltaX:function(o){return"deltaX"in o?o.deltaX:"wheelDeltaX"in o?-o.wheelDeltaX:0},deltaY:function(o){return"deltaY"in o?o.deltaY:"wheelDeltaY"in o?-o.wheelDeltaY:"wheelDelta"in o?-o.wheelDelta:0},deltaZ:0,deltaMode:0}),Bt=en(Ue),zt=[9,13,27,32],di=c&&"CompositionEvent"in window,tn=null;c&&"documentMode"in document&&(tn=document.documentMode);var al=c&&"TextEvent"in window&&!tn,ll=c&&(!di||tn&&8<tn&&11>=tn),Kx=" ",Yx=!1;function Xx(o,l){switch(o){case"keyup":return zt.indexOf(l.keyCode)!==-1;case"keydown":return l.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Jx(o){return o=o.detail,typeof o=="object"&&"data"in o?o.data:null}var cl=!1;function yO(o,l){switch(o){case"compositionend":return Jx(l);case"keypress":return l.which!==32?null:(Yx=!0,Kx);case"textInput":return o=l.data,o===Kx&&Yx?null:o;default:return null}}function wO(o,l){if(cl)return o==="compositionend"||!di&&Xx(o,l)?(o=Kc(),On=el=Qn=null,cl=!1,o):null;switch(o){case"paste":return null;case"keypress":if(!(l.ctrlKey||l.altKey||l.metaKey)||l.ctrlKey&&l.altKey){if(l.char&&1<l.char.length)return l.char;if(l.which)return String.fromCharCode(l.which)}return null;case"compositionend":return ll&&l.locale!=="ko"?null:l.data;default:return null}}var _O={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Qx(o){var l=o&&o.nodeName&&o.nodeName.toLowerCase();return l==="input"?!!_O[o.type]:l==="textarea"}function Zx(o,l,d,m){Li(m),l=Bf(l,"onChange"),0<l.length&&(d=new nl("onChange","change",null,d,m),o.push({event:d,listeners:l}))}var Qc=null,Zc=null;function xO(o){v1(o,0)}function Ff(o){var l=pl(o);if(_n(l))return o}function bO(o,l){if(o==="change")return l}var e1=!1;if(c){var mg;if(c){var gg="oninput"in document;if(!gg){var t1=document.createElement("div");t1.setAttribute("oninput","return;"),gg=typeof t1.oninput=="function"}mg=gg}else mg=!1;e1=mg&&(!document.documentMode||9<document.documentMode)}function n1(){Qc&&(Qc.detachEvent("onpropertychange",r1),Zc=Qc=null)}function r1(o){if(o.propertyName==="value"&&Ff(Zc)){var l=[];Zx(l,Zc,o,za(o)),Fc(xO,l)}}function EO(o,l,d){o==="focusin"?(n1(),Qc=l,Zc=d,Qc.attachEvent("onpropertychange",r1)):o==="focusout"&&n1()}function SO(o){if(o==="selectionchange"||o==="keyup"||o==="keydown")return Ff(Zc)}function CO(o,l){if(o==="click")return Ff(l)}function TO(o,l){if(o==="input"||o==="change")return Ff(l)}function kO(o,l){return o===l&&(o!==0||1/o===1/l)||o!==o&&l!==l}var Vr=typeof Object.is=="function"?Object.is:kO;function eu(o,l){if(Vr(o,l))return!0;if(typeof o!="object"||o===null||typeof l!="object"||l===null)return!1;var d=Object.keys(o),m=Object.keys(l);if(d.length!==m.length)return!1;for(m=0;m<d.length;m++){var y=d[m];if(!u.call(l,y)||!Vr(o[y],l[y]))return!1}return!0}function i1(o){for(;o&&o.firstChild;)o=o.firstChild;return o}function s1(o,l){var d=i1(o);o=0;for(var m;d;){if(d.nodeType===3){if(m=o+d.textContent.length,o<=l&&m>=l)return{node:d,offset:l-o};o=m}e:{for(;d;){if(d.nextSibling){d=d.nextSibling;break e}d=d.parentNode}d=void 0}d=i1(d)}}function o1(o,l){return o&&l?o===l?!0:o&&o.nodeType===3?!1:l&&l.nodeType===3?o1(o,l.parentNode):"contains"in o?o.contains(l):o.compareDocumentPosition?!!(o.compareDocumentPosition(l)&16):!1:!1}function a1(){for(var o=window,l=_t();l instanceof o.HTMLIFrameElement;){try{var d=typeof l.contentWindow.location.href=="string"}catch{d=!1}if(d)o=l.contentWindow;else break;l=_t(o.document)}return l}function vg(o){var l=o&&o.nodeName&&o.nodeName.toLowerCase();return l&&(l==="input"&&(o.type==="text"||o.type==="search"||o.type==="tel"||o.type==="url"||o.type==="password")||l==="textarea"||o.contentEditable==="true")}function PO(o){var l=a1(),d=o.focusedElem,m=o.selectionRange;if(l!==d&&d&&d.ownerDocument&&o1(d.ownerDocument.documentElement,d)){if(m!==null&&vg(d)){if(l=m.start,o=m.end,o===void 0&&(o=l),"selectionStart"in d)d.selectionStart=l,d.selectionEnd=Math.min(o,d.value.length);else if(o=(l=d.ownerDocument||document)&&l.defaultView||window,o.getSelection){o=o.getSelection();var y=d.textContent.length,S=Math.min(m.start,y);m=m.end===void 0?S:Math.min(m.end,y),!o.extend&&S>m&&(y=m,m=S,S=y),y=s1(d,S);var D=s1(d,m);y&&D&&(o.rangeCount!==1||o.anchorNode!==y.node||o.anchorOffset!==y.offset||o.focusNode!==D.node||o.focusOffset!==D.offset)&&(l=l.createRange(),l.setStart(y.node,y.offset),o.removeAllRanges(),S>m?(o.addRange(l),o.extend(D.node,D.offset)):(l.setEnd(D.node,D.offset),o.addRange(l)))}}for(l=[],o=d;o=o.parentNode;)o.nodeType===1&&l.push({element:o,left:o.scrollLeft,top:o.scrollTop});for(typeof d.focus=="function"&&d.focus(),d=0;d<l.length;d++)o=l[d],o.element.scrollLeft=o.left,o.element.scrollTop=o.top}}var IO=c&&"documentMode"in document&&11>=document.documentMode,ul=null,yg=null,tu=null,wg=!1;function l1(o,l,d){var m=d.window===d?d.document:d.nodeType===9?d:d.ownerDocument;wg||ul==null||ul!==_t(m)||(m=ul,"selectionStart"in m&&vg(m)?m={start:m.selectionStart,end:m.selectionEnd}:(m=(m.ownerDocument&&m.ownerDocument.defaultView||window).getSelection(),m={anchorNode:m.anchorNode,anchorOffset:m.anchorOffset,focusNode:m.focusNode,focusOffset:m.focusOffset}),tu&&eu(tu,m)||(tu=m,m=Bf(yg,"onSelect"),0<m.length&&(l=new nl("onSelect","select",null,l,d),o.push({event:l,listeners:m}),l.target=ul)))}function $f(o,l){var d={};return d[o.toLowerCase()]=l.toLowerCase(),d["Webkit"+o]="webkit"+l,d["Moz"+o]="moz"+l,d}var dl={animationend:$f("Animation","AnimationEnd"),animationiteration:$f("Animation","AnimationIteration"),animationstart:$f("Animation","AnimationStart"),transitionend:$f("Transition","TransitionEnd")},_g={},c1={};c&&(c1=document.createElement("div").style,"AnimationEvent"in window||(delete dl.animationend.animation,delete dl.animationiteration.animation,delete dl.animationstart.animation),"TransitionEvent"in window||delete dl.transitionend.transition);function Uf(o){if(_g[o])return _g[o];if(!dl[o])return o;var l=dl[o],d;for(d in l)if(l.hasOwnProperty(d)&&d in c1)return _g[o]=l[d];return o}var u1=Uf("animationend"),d1=Uf("animationiteration"),f1=Uf("animationstart"),h1=Uf("transitionend"),p1=new Map,m1="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Fs(o,l){p1.set(o,l),s(l,[o])}for(var xg=0;xg<m1.length;xg++){var bg=m1[xg],AO=bg.toLowerCase(),RO=bg[0].toUpperCase()+bg.slice(1);Fs(AO,"on"+RO)}Fs(u1,"onAnimationEnd"),Fs(d1,"onAnimationIteration"),Fs(f1,"onAnimationStart"),Fs("dblclick","onDoubleClick"),Fs("focusin","onFocus"),Fs("focusout","onBlur"),Fs(h1,"onTransitionEnd"),a("onMouseEnter",["mouseout","mouseover"]),a("onMouseLeave",["mouseout","mouseover"]),a("onPointerEnter",["pointerout","pointerover"]),a("onPointerLeave",["pointerout","pointerover"]),s("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),s("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),s("onBeforeInput",["compositionend","keypress","textInput","paste"]),s("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var nu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),NO=new Set("cancel close invalid load scroll toggle".split(" ").concat(nu));function g1(o,l,d){var m=o.type||"unknown-event";o.currentTarget=d,lg(m,l,void 0,o),o.currentTarget=null}function v1(o,l){l=(l&4)!==0;for(var d=0;d<o.length;d++){var m=o[d],y=m.event;m=m.listeners;e:{var S=void 0;if(l)for(var D=m.length-1;0<=D;D--){var z=m[D],H=z.instance,X=z.currentTarget;if(z=z.listener,H!==S&&y.isPropagationStopped())break e;g1(y,z,X),S=H}else for(D=0;D<m.length;D++){if(z=m[D],H=z.instance,X=z.currentTarget,z=z.listener,H!==S&&y.isPropagationStopped())break e;g1(y,z,X),S=H}}}if(Or)throw o=$c,Or=!1,$c=null,o}function at(o,l){var d=l[Ag];d===void 0&&(d=l[Ag]=new Set);var m=o+"__bubble";d.has(m)||(y1(l,o,2,!1),d.add(m))}function Eg(o,l,d){var m=0;l&&(m|=4),y1(d,o,m,l)}var Vf="_reactListening"+Math.random().toString(36).slice(2);function ru(o){if(!o[Vf]){o[Vf]=!0,r.forEach(function(d){d!=="selectionchange"&&(NO.has(d)||Eg(d,!1,o),Eg(d,!0,o))});var l=o.nodeType===9?o:o.ownerDocument;l===null||l[Vf]||(l[Vf]=!0,Eg("selectionchange",!1,l))}}function y1(o,l,d,m){switch(Gc(l)){case 1:var y=ht;break;case 4:y=hg;break;default:y=qc}d=y.bind(null,l,d,o),y=void 0,!qa||l!=="touchstart"&&l!=="touchmove"&&l!=="wheel"||(y=!0),m?y!==void 0?o.addEventListener(l,d,{capture:!0,passive:y}):o.addEventListener(l,d,!0):y!==void 0?o.addEventListener(l,d,{passive:y}):o.addEventListener(l,d,!1)}function Sg(o,l,d,m,y){var S=m;if((l&1)===0&&(l&2)===0&&m!==null)e:for(;;){if(m===null)return;var D=m.tag;if(D===3||D===4){var z=m.stateNode.containerInfo;if(z===y||z.nodeType===8&&z.parentNode===y)break;if(D===4)for(D=m.return;D!==null;){var H=D.tag;if((H===3||H===4)&&(H=D.stateNode.containerInfo,H===y||H.nodeType===8&&H.parentNode===y))return;D=D.return}for(;z!==null;){if(D=Bo(z),D===null)return;if(H=D.tag,H===5||H===6){m=S=D;continue e}z=z.parentNode}}m=m.return}Fc(function(){var X=S,oe=za(d),ce=[];e:{var ie=p1.get(o);if(ie!==void 0){var ge=nl,we=o;switch(o){case"keypress":if(tl(d)===0)break e;case"keydown":case"keyup":ge=A;break;case"focusin":we="focus",ge=ol;break;case"focusout":we="blur",ge=ol;break;case"beforeblur":case"afterblur":ge=ol;break;case"click":if(d.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ge=il;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ge=Rf;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ge=fe;break;case u1:case d1:case f1:ge=Bi;break;case h1:ge=jt;break;case"scroll":ge=pg;break;case"wheel":ge=Bt;break;case"copy":case"cut":case"paste":ge=Mf;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ge=G}var be=(l&4)!==0,Pt=!be&&o==="scroll",K=be?ie!==null?ie+"Capture":null:ie;be=[];for(var W=X,Y;W!==null;){Y=W;var ue=Y.stateNode;if(Y.tag===5&&ue!==null&&(Y=ue,K!==null&&(ue=kt(W,K),ue!=null&&be.push(iu(W,ue,Y)))),Pt)break;W=W.return}0<be.length&&(ie=new ge(ie,we,null,d,oe),ce.push({event:ie,listeners:be}))}}if((l&7)===0){e:{if(ie=o==="mouseover"||o==="pointerover",ge=o==="mouseout"||o==="pointerout",ie&&d!==Ro&&(we=d.relatedTarget||d.fromElement)&&(Bo(we)||we[zi]))break e;if((ge||ie)&&(ie=oe.window===oe?oe:(ie=oe.ownerDocument)?ie.defaultView||ie.parentWindow:window,ge?(we=d.relatedTarget||d.toElement,ge=X,we=we?Bo(we):null,we!==null&&(Pt=Mr(we),we!==Pt||we.tag!==5&&we.tag!==6)&&(we=null)):(ge=null,we=X),ge!==we)){if(be=il,ue="onMouseLeave",K="onMouseEnter",W="mouse",(o==="pointerout"||o==="pointerover")&&(be=G,ue="onPointerLeave",K="onPointerEnter",W="pointer"),Pt=ge==null?ie:pl(ge),Y=we==null?ie:pl(we),ie=new be(ue,W+"leave",ge,d,oe),ie.target=Pt,ie.relatedTarget=Y,ue=null,Bo(oe)===X&&(be=new be(K,W+"enter",we,d,oe),be.target=Y,be.relatedTarget=Pt,ue=be),Pt=ue,ge&&we)t:{for(be=ge,K=we,W=0,Y=be;Y;Y=fl(Y))W++;for(Y=0,ue=K;ue;ue=fl(ue))Y++;for(;0<W-Y;)be=fl(be),W--;for(;0<Y-W;)K=fl(K),Y--;for(;W--;){if(be===K||K!==null&&be===K.alternate)break t;be=fl(be),K=fl(K)}be=null}else be=null;ge!==null&&w1(ce,ie,ge,be,!1),we!==null&&Pt!==null&&w1(ce,Pt,we,be,!0)}}e:{if(ie=X?pl(X):window,ge=ie.nodeName&&ie.nodeName.toLowerCase(),ge==="select"||ge==="input"&&ie.type==="file")var Se=bO;else if(Qx(ie))if(e1)Se=TO;else{Se=SO;var Pe=EO}else(ge=ie.nodeName)&&ge.toLowerCase()==="input"&&(ie.type==="checkbox"||ie.type==="radio")&&(Se=CO);if(Se&&(Se=Se(o,X))){Zx(ce,Se,d,oe);break e}Pe&&Pe(o,ie,X),o==="focusout"&&(Pe=ie._wrapperState)&&Pe.controlled&&ie.type==="number"&&Ua(ie,"number",ie.value)}switch(Pe=X?pl(X):window,o){case"focusin":(Qx(Pe)||Pe.contentEditable==="true")&&(ul=Pe,yg=X,tu=null);break;case"focusout":tu=yg=ul=null;break;case"mousedown":wg=!0;break;case"contextmenu":case"mouseup":case"dragend":wg=!1,l1(ce,d,oe);break;case"selectionchange":if(IO)break;case"keydown":case"keyup":l1(ce,d,oe)}var Ie;if(di)e:{switch(o){case"compositionstart":var Oe="onCompositionStart";break e;case"compositionend":Oe="onCompositionEnd";break e;case"compositionupdate":Oe="onCompositionUpdate";break e}Oe=void 0}else cl?Xx(o,d)&&(Oe="onCompositionEnd"):o==="keydown"&&d.keyCode===229&&(Oe="onCompositionStart");Oe&&(ll&&d.locale!=="ko"&&(cl||Oe!=="onCompositionStart"?Oe==="onCompositionEnd"&&cl&&(Ie=Kc()):(Qn=oe,el="value"in Qn?Qn.value:Qn.textContent,cl=!0)),Pe=Bf(X,Oe),0<Pe.length&&(Oe=new Jc(Oe,o,null,d,oe),ce.push({event:Oe,listeners:Pe}),Ie?Oe.data=Ie:(Ie=Jx(d),Ie!==null&&(Oe.data=Ie)))),(Ie=al?yO(o,d):wO(o,d))&&(X=Bf(X,"onBeforeInput"),0<X.length&&(oe=new Jc("onBeforeInput","beforeinput",null,d,oe),ce.push({event:oe,listeners:X}),oe.data=Ie))}v1(ce,l)})}function iu(o,l,d){return{instance:o,listener:l,currentTarget:d}}function Bf(o,l){for(var d=l+"Capture",m=[];o!==null;){var y=o,S=y.stateNode;y.tag===5&&S!==null&&(y=S,S=kt(o,d),S!=null&&m.unshift(iu(o,S,y)),S=kt(o,l),S!=null&&m.push(iu(o,S,y))),o=o.return}return m}function fl(o){if(o===null)return null;do o=o.return;while(o&&o.tag!==5);return o||null}function w1(o,l,d,m,y){for(var S=l._reactName,D=[];d!==null&&d!==m;){var z=d,H=z.alternate,X=z.stateNode;if(H!==null&&H===m)break;z.tag===5&&X!==null&&(z=X,y?(H=kt(d,S),H!=null&&D.unshift(iu(d,H,z))):y||(H=kt(d,S),H!=null&&D.push(iu(d,H,z)))),d=d.return}D.length!==0&&o.push({event:l,listeners:D})}var OO=/\r\n?/g,MO=/\u0000|\uFFFD/g;function _1(o){return(typeof o=="string"?o:""+o).replace(OO,`
`).replace(MO,"")}function zf(o,l,d){if(l=_1(l),_1(o)!==l&&d)throw Error(n(425))}function Hf(){}var Cg=null,Tg=null;function kg(o,l){return o==="textarea"||o==="noscript"||typeof l.children=="string"||typeof l.children=="number"||typeof l.dangerouslySetInnerHTML=="object"&&l.dangerouslySetInnerHTML!==null&&l.dangerouslySetInnerHTML.__html!=null}var Pg=typeof setTimeout=="function"?setTimeout:void 0,DO=typeof clearTimeout=="function"?clearTimeout:void 0,x1=typeof Promise=="function"?Promise:void 0,LO=typeof queueMicrotask=="function"?queueMicrotask:typeof x1<"u"?function(o){return x1.resolve(null).then(o).catch(jO)}:Pg;function jO(o){setTimeout(function(){throw o})}function Ig(o,l){var d=l,m=0;do{var y=d.nextSibling;if(o.removeChild(d),y&&y.nodeType===8)if(d=y.data,d==="/$"){if(m===0){o.removeChild(y),$r(l);return}m--}else d!=="$"&&d!=="$?"&&d!=="$!"||m++;d=y}while(d);$r(l)}function $s(o){for(;o!=null;o=o.nextSibling){var l=o.nodeType;if(l===1||l===3)break;if(l===8){if(l=o.data,l==="$"||l==="$!"||l==="$?")break;if(l==="/$")return null}}return o}function b1(o){o=o.previousSibling;for(var l=0;o;){if(o.nodeType===8){var d=o.data;if(d==="$"||d==="$!"||d==="$?"){if(l===0)return o;l--}else d==="/$"&&l++}o=o.previousSibling}return null}var hl=Math.random().toString(36).slice(2),fi="__reactFiber$"+hl,su="__reactProps$"+hl,zi="__reactContainer$"+hl,Ag="__reactEvents$"+hl,FO="__reactListeners$"+hl,$O="__reactHandles$"+hl;function Bo(o){var l=o[fi];if(l)return l;for(var d=o.parentNode;d;){if(l=d[zi]||d[fi]){if(d=l.alternate,l.child!==null||d!==null&&d.child!==null)for(o=b1(o);o!==null;){if(d=o[fi])return d;o=b1(o)}return l}o=d,d=o.parentNode}return null}function ou(o){return o=o[fi]||o[zi],!o||o.tag!==5&&o.tag!==6&&o.tag!==13&&o.tag!==3?null:o}function pl(o){if(o.tag===5||o.tag===6)return o.stateNode;throw Error(n(33))}function Wf(o){return o[su]||null}var Rg=[],ml=-1;function Us(o){return{current:o}}function lt(o){0>ml||(o.current=Rg[ml],Rg[ml]=null,ml--)}function it(o,l){ml++,Rg[ml]=o.current,o.current=l}var Vs={},un=Us(Vs),Dn=Us(!1),zo=Vs;function gl(o,l){var d=o.type.contextTypes;if(!d)return Vs;var m=o.stateNode;if(m&&m.__reactInternalMemoizedUnmaskedChildContext===l)return m.__reactInternalMemoizedMaskedChildContext;var y={},S;for(S in d)y[S]=l[S];return m&&(o=o.stateNode,o.__reactInternalMemoizedUnmaskedChildContext=l,o.__reactInternalMemoizedMaskedChildContext=y),y}function Ln(o){return o=o.childContextTypes,o!=null}function qf(){lt(Dn),lt(un)}function E1(o,l,d){if(un.current!==Vs)throw Error(n(168));it(un,l),it(Dn,d)}function S1(o,l,d){var m=o.stateNode;if(l=l.childContextTypes,typeof m.getChildContext!="function")return d;m=m.getChildContext();for(var y in m)if(!(y in l))throw Error(n(108,xe(o)||"Unknown",y));return le({},d,m)}function Gf(o){return o=(o=o.stateNode)&&o.__reactInternalMemoizedMergedChildContext||Vs,zo=un.current,it(un,o),it(Dn,Dn.current),!0}function C1(o,l,d){var m=o.stateNode;if(!m)throw Error(n(169));d?(o=S1(o,l,zo),m.__reactInternalMemoizedMergedChildContext=o,lt(Dn),lt(un),it(un,o)):lt(Dn),it(Dn,d)}var Hi=null,Kf=!1,Ng=!1;function T1(o){Hi===null?Hi=[o]:Hi.push(o)}function UO(o){Kf=!0,T1(o)}function Bs(){if(!Ng&&Hi!==null){Ng=!0;var o=0,l=Fe;try{var d=Hi;for(Fe=1;o<d.length;o++){var m=d[o];do m=m(!0);while(m!==null)}Hi=null,Kf=!1}catch(y){throw Hi!==null&&(Hi=Hi.slice(o+1)),Ya(Do,Bs),y}finally{Fe=l,Ng=!1}}return null}var vl=[],yl=0,Yf=null,Xf=0,pr=[],mr=0,Ho=null,Wi=1,qi="";function Wo(o,l){vl[yl++]=Xf,vl[yl++]=Yf,Yf=o,Xf=l}function k1(o,l,d){pr[mr++]=Wi,pr[mr++]=qi,pr[mr++]=Ho,Ho=o;var m=Wi;o=qi;var y=32-bn(m)-1;m&=~(1<<y),d+=1;var S=32-bn(l)+y;if(30<S){var D=y-y%5;S=(m&(1<<D)-1).toString(32),m>>=D,y-=D,Wi=1<<32-bn(l)+y|d<<y|m,qi=S+o}else Wi=1<<S|d<<y|m,qi=o}function Og(o){o.return!==null&&(Wo(o,1),k1(o,1,0))}function Mg(o){for(;o===Yf;)Yf=vl[--yl],vl[yl]=null,Xf=vl[--yl],vl[yl]=null;for(;o===Ho;)Ho=pr[--mr],pr[mr]=null,qi=pr[--mr],pr[mr]=null,Wi=pr[--mr],pr[mr]=null}var Zn=null,er=null,ut=!1,Br=null;function P1(o,l){var d=wr(5,null,null,0);d.elementType="DELETED",d.stateNode=l,d.return=o,l=o.deletions,l===null?(o.deletions=[d],o.flags|=16):l.push(d)}function I1(o,l){switch(o.tag){case 5:var d=o.type;return l=l.nodeType!==1||d.toLowerCase()!==l.nodeName.toLowerCase()?null:l,l!==null?(o.stateNode=l,Zn=o,er=$s(l.firstChild),!0):!1;case 6:return l=o.pendingProps===""||l.nodeType!==3?null:l,l!==null?(o.stateNode=l,Zn=o,er=null,!0):!1;case 13:return l=l.nodeType!==8?null:l,l!==null?(d=Ho!==null?{id:Wi,overflow:qi}:null,o.memoizedState={dehydrated:l,treeContext:d,retryLane:1073741824},d=wr(18,null,null,0),d.stateNode=l,d.return=o,o.child=d,Zn=o,er=null,!0):!1;default:return!1}}function Dg(o){return(o.mode&1)!==0&&(o.flags&128)===0}function Lg(o){if(ut){var l=er;if(l){var d=l;if(!I1(o,l)){if(Dg(o))throw Error(n(418));l=$s(d.nextSibling);var m=Zn;l&&I1(o,l)?P1(m,d):(o.flags=o.flags&-4097|2,ut=!1,Zn=o)}}else{if(Dg(o))throw Error(n(418));o.flags=o.flags&-4097|2,ut=!1,Zn=o}}}function A1(o){for(o=o.return;o!==null&&o.tag!==5&&o.tag!==3&&o.tag!==13;)o=o.return;Zn=o}function Jf(o){if(o!==Zn)return!1;if(!ut)return A1(o),ut=!0,!1;var l;if((l=o.tag!==3)&&!(l=o.tag!==5)&&(l=o.type,l=l!=="head"&&l!=="body"&&!kg(o.type,o.memoizedProps)),l&&(l=er)){if(Dg(o))throw R1(),Error(n(418));for(;l;)P1(o,l),l=$s(l.nextSibling)}if(A1(o),o.tag===13){if(o=o.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(n(317));e:{for(o=o.nextSibling,l=0;o;){if(o.nodeType===8){var d=o.data;if(d==="/$"){if(l===0){er=$s(o.nextSibling);break e}l--}else d!=="$"&&d!=="$!"&&d!=="$?"||l++}o=o.nextSibling}er=null}}else er=Zn?$s(o.stateNode.nextSibling):null;return!0}function R1(){for(var o=er;o;)o=$s(o.nextSibling)}function wl(){er=Zn=null,ut=!1}function jg(o){Br===null?Br=[o]:Br.push(o)}var VO=j.ReactCurrentBatchConfig;function au(o,l,d){if(o=d.ref,o!==null&&typeof o!="function"&&typeof o!="object"){if(d._owner){if(d=d._owner,d){if(d.tag!==1)throw Error(n(309));var m=d.stateNode}if(!m)throw Error(n(147,o));var y=m,S=""+o;return l!==null&&l.ref!==null&&typeof l.ref=="function"&&l.ref._stringRef===S?l.ref:(l=function(D){var z=y.refs;D===null?delete z[S]:z[S]=D},l._stringRef=S,l)}if(typeof o!="string")throw Error(n(284));if(!d._owner)throw Error(n(290,o))}return o}function Qf(o,l){throw o=Object.prototype.toString.call(l),Error(n(31,o==="[object Object]"?"object with keys {"+Object.keys(l).join(", ")+"}":o))}function N1(o){var l=o._init;return l(o._payload)}function O1(o){function l(K,W){if(o){var Y=K.deletions;Y===null?(K.deletions=[W],K.flags|=16):Y.push(W)}}function d(K,W){if(!o)return null;for(;W!==null;)l(K,W),W=W.sibling;return null}function m(K,W){for(K=new Map;W!==null;)W.key!==null?K.set(W.key,W):K.set(W.index,W),W=W.sibling;return K}function y(K,W){return K=Xs(K,W),K.index=0,K.sibling=null,K}function S(K,W,Y){return K.index=Y,o?(Y=K.alternate,Y!==null?(Y=Y.index,Y<W?(K.flags|=2,W):Y):(K.flags|=2,W)):(K.flags|=1048576,W)}function D(K){return o&&K.alternate===null&&(K.flags|=2),K}function z(K,W,Y,ue){return W===null||W.tag!==6?(W=Pv(Y,K.mode,ue),W.return=K,W):(W=y(W,Y),W.return=K,W)}function H(K,W,Y,ue){var Se=Y.type;return Se===L?oe(K,W,Y.props.children,ue,Y.key):W!==null&&(W.elementType===Se||typeof Se=="object"&&Se!==null&&Se.$$typeof===re&&N1(Se)===W.type)?(ue=y(W,Y.props),ue.ref=au(K,W,Y),ue.return=K,ue):(ue=bh(Y.type,Y.key,Y.props,null,K.mode,ue),ue.ref=au(K,W,Y),ue.return=K,ue)}function X(K,W,Y,ue){return W===null||W.tag!==4||W.stateNode.containerInfo!==Y.containerInfo||W.stateNode.implementation!==Y.implementation?(W=Iv(Y,K.mode,ue),W.return=K,W):(W=y(W,Y.children||[]),W.return=K,W)}function oe(K,W,Y,ue,Se){return W===null||W.tag!==7?(W=Zo(Y,K.mode,ue,Se),W.return=K,W):(W=y(W,Y),W.return=K,W)}function ce(K,W,Y){if(typeof W=="string"&&W!==""||typeof W=="number")return W=Pv(""+W,K.mode,Y),W.return=K,W;if(typeof W=="object"&&W!==null){switch(W.$$typeof){case $:return Y=bh(W.type,W.key,W.props,null,K.mode,Y),Y.ref=au(K,null,W),Y.return=K,Y;case B:return W=Iv(W,K.mode,Y),W.return=K,W;case re:var ue=W._init;return ce(K,ue(W._payload),Y)}if(Oi(W)||se(W))return W=Zo(W,K.mode,Y,null),W.return=K,W;Qf(K,W)}return null}function ie(K,W,Y,ue){var Se=W!==null?W.key:null;if(typeof Y=="string"&&Y!==""||typeof Y=="number")return Se!==null?null:z(K,W,""+Y,ue);if(typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case $:return Y.key===Se?H(K,W,Y,ue):null;case B:return Y.key===Se?X(K,W,Y,ue):null;case re:return Se=Y._init,ie(K,W,Se(Y._payload),ue)}if(Oi(Y)||se(Y))return Se!==null?null:oe(K,W,Y,ue,null);Qf(K,Y)}return null}function ge(K,W,Y,ue,Se){if(typeof ue=="string"&&ue!==""||typeof ue=="number")return K=K.get(Y)||null,z(W,K,""+ue,Se);if(typeof ue=="object"&&ue!==null){switch(ue.$$typeof){case $:return K=K.get(ue.key===null?Y:ue.key)||null,H(W,K,ue,Se);case B:return K=K.get(ue.key===null?Y:ue.key)||null,X(W,K,ue,Se);case re:var Pe=ue._init;return ge(K,W,Y,Pe(ue._payload),Se)}if(Oi(ue)||se(ue))return K=K.get(Y)||null,oe(W,K,ue,Se,null);Qf(W,ue)}return null}function we(K,W,Y,ue){for(var Se=null,Pe=null,Ie=W,Oe=W=0,qt=null;Ie!==null&&Oe<Y.length;Oe++){Ie.index>Oe?(qt=Ie,Ie=null):qt=Ie.sibling;var He=ie(K,Ie,Y[Oe],ue);if(He===null){Ie===null&&(Ie=qt);break}o&&Ie&&He.alternate===null&&l(K,Ie),W=S(He,W,Oe),Pe===null?Se=He:Pe.sibling=He,Pe=He,Ie=qt}if(Oe===Y.length)return d(K,Ie),ut&&Wo(K,Oe),Se;if(Ie===null){for(;Oe<Y.length;Oe++)Ie=ce(K,Y[Oe],ue),Ie!==null&&(W=S(Ie,W,Oe),Pe===null?Se=Ie:Pe.sibling=Ie,Pe=Ie);return ut&&Wo(K,Oe),Se}for(Ie=m(K,Ie);Oe<Y.length;Oe++)qt=ge(Ie,K,Oe,Y[Oe],ue),qt!==null&&(o&&qt.alternate!==null&&Ie.delete(qt.key===null?Oe:qt.key),W=S(qt,W,Oe),Pe===null?Se=qt:Pe.sibling=qt,Pe=qt);return o&&Ie.forEach(function(Js){return l(K,Js)}),ut&&Wo(K,Oe),Se}function be(K,W,Y,ue){var Se=se(Y);if(typeof Se!="function")throw Error(n(150));if(Y=Se.call(Y),Y==null)throw Error(n(151));for(var Pe=Se=null,Ie=W,Oe=W=0,qt=null,He=Y.next();Ie!==null&&!He.done;Oe++,He=Y.next()){Ie.index>Oe?(qt=Ie,Ie=null):qt=Ie.sibling;var Js=ie(K,Ie,He.value,ue);if(Js===null){Ie===null&&(Ie=qt);break}o&&Ie&&Js.alternate===null&&l(K,Ie),W=S(Js,W,Oe),Pe===null?Se=Js:Pe.sibling=Js,Pe=Js,Ie=qt}if(He.done)return d(K,Ie),ut&&Wo(K,Oe),Se;if(Ie===null){for(;!He.done;Oe++,He=Y.next())He=ce(K,He.value,ue),He!==null&&(W=S(He,W,Oe),Pe===null?Se=He:Pe.sibling=He,Pe=He);return ut&&Wo(K,Oe),Se}for(Ie=m(K,Ie);!He.done;Oe++,He=Y.next())He=ge(Ie,K,Oe,He.value,ue),He!==null&&(o&&He.alternate!==null&&Ie.delete(He.key===null?Oe:He.key),W=S(He,W,Oe),Pe===null?Se=He:Pe.sibling=He,Pe=He);return o&&Ie.forEach(function(_5){return l(K,_5)}),ut&&Wo(K,Oe),Se}function Pt(K,W,Y,ue){if(typeof Y=="object"&&Y!==null&&Y.type===L&&Y.key===null&&(Y=Y.props.children),typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case $:e:{for(var Se=Y.key,Pe=W;Pe!==null;){if(Pe.key===Se){if(Se=Y.type,Se===L){if(Pe.tag===7){d(K,Pe.sibling),W=y(Pe,Y.props.children),W.return=K,K=W;break e}}else if(Pe.elementType===Se||typeof Se=="object"&&Se!==null&&Se.$$typeof===re&&N1(Se)===Pe.type){d(K,Pe.sibling),W=y(Pe,Y.props),W.ref=au(K,Pe,Y),W.return=K,K=W;break e}d(K,Pe);break}else l(K,Pe);Pe=Pe.sibling}Y.type===L?(W=Zo(Y.props.children,K.mode,ue,Y.key),W.return=K,K=W):(ue=bh(Y.type,Y.key,Y.props,null,K.mode,ue),ue.ref=au(K,W,Y),ue.return=K,K=ue)}return D(K);case B:e:{for(Pe=Y.key;W!==null;){if(W.key===Pe)if(W.tag===4&&W.stateNode.containerInfo===Y.containerInfo&&W.stateNode.implementation===Y.implementation){d(K,W.sibling),W=y(W,Y.children||[]),W.return=K,K=W;break e}else{d(K,W);break}else l(K,W);W=W.sibling}W=Iv(Y,K.mode,ue),W.return=K,K=W}return D(K);case re:return Pe=Y._init,Pt(K,W,Pe(Y._payload),ue)}if(Oi(Y))return we(K,W,Y,ue);if(se(Y))return be(K,W,Y,ue);Qf(K,Y)}return typeof Y=="string"&&Y!==""||typeof Y=="number"?(Y=""+Y,W!==null&&W.tag===6?(d(K,W.sibling),W=y(W,Y),W.return=K,K=W):(d(K,W),W=Pv(Y,K.mode,ue),W.return=K,K=W),D(K)):d(K,W)}return Pt}var _l=O1(!0),M1=O1(!1),Zf=Us(null),eh=null,xl=null,Fg=null;function $g(){Fg=xl=eh=null}function Ug(o){var l=Zf.current;lt(Zf),o._currentValue=l}function Vg(o,l,d){for(;o!==null;){var m=o.alternate;if((o.childLanes&l)!==l?(o.childLanes|=l,m!==null&&(m.childLanes|=l)):m!==null&&(m.childLanes&l)!==l&&(m.childLanes|=l),o===d)break;o=o.return}}function bl(o,l){eh=o,Fg=xl=null,o=o.dependencies,o!==null&&o.firstContext!==null&&((o.lanes&l)!==0&&(jn=!0),o.firstContext=null)}function gr(o){var l=o._currentValue;if(Fg!==o)if(o={context:o,memoizedValue:l,next:null},xl===null){if(eh===null)throw Error(n(308));xl=o,eh.dependencies={lanes:0,firstContext:o}}else xl=xl.next=o;return l}var qo=null;function Bg(o){qo===null?qo=[o]:qo.push(o)}function D1(o,l,d,m){var y=l.interleaved;return y===null?(d.next=d,Bg(l)):(d.next=y.next,y.next=d),l.interleaved=d,Gi(o,m)}function Gi(o,l){o.lanes|=l;var d=o.alternate;for(d!==null&&(d.lanes|=l),d=o,o=o.return;o!==null;)o.childLanes|=l,d=o.alternate,d!==null&&(d.childLanes|=l),d=o,o=o.return;return d.tag===3?d.stateNode:null}var zs=!1;function zg(o){o.updateQueue={baseState:o.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function L1(o,l){o=o.updateQueue,l.updateQueue===o&&(l.updateQueue={baseState:o.baseState,firstBaseUpdate:o.firstBaseUpdate,lastBaseUpdate:o.lastBaseUpdate,shared:o.shared,effects:o.effects})}function Ki(o,l){return{eventTime:o,lane:l,tag:0,payload:null,callback:null,next:null}}function Hs(o,l,d){var m=o.updateQueue;if(m===null)return null;if(m=m.shared,(ze&2)!==0){var y=m.pending;return y===null?l.next=l:(l.next=y.next,y.next=l),m.pending=l,Gi(o,d)}return y=m.interleaved,y===null?(l.next=l,Bg(m)):(l.next=y.next,y.next=l),m.interleaved=l,Gi(o,d)}function th(o,l,d){if(l=l.updateQueue,l!==null&&(l=l.shared,(d&4194240)!==0)){var m=l.lanes;m&=o.pendingLanes,d|=m,l.lanes=d,Ns(o,d)}}function j1(o,l){var d=o.updateQueue,m=o.alternate;if(m!==null&&(m=m.updateQueue,d===m)){var y=null,S=null;if(d=d.firstBaseUpdate,d!==null){do{var D={eventTime:d.eventTime,lane:d.lane,tag:d.tag,payload:d.payload,callback:d.callback,next:null};S===null?y=S=D:S=S.next=D,d=d.next}while(d!==null);S===null?y=S=l:S=S.next=l}else y=S=l;d={baseState:m.baseState,firstBaseUpdate:y,lastBaseUpdate:S,shared:m.shared,effects:m.effects},o.updateQueue=d;return}o=d.lastBaseUpdate,o===null?d.firstBaseUpdate=l:o.next=l,d.lastBaseUpdate=l}function nh(o,l,d,m){var y=o.updateQueue;zs=!1;var S=y.firstBaseUpdate,D=y.lastBaseUpdate,z=y.shared.pending;if(z!==null){y.shared.pending=null;var H=z,X=H.next;H.next=null,D===null?S=X:D.next=X,D=H;var oe=o.alternate;oe!==null&&(oe=oe.updateQueue,z=oe.lastBaseUpdate,z!==D&&(z===null?oe.firstBaseUpdate=X:z.next=X,oe.lastBaseUpdate=H))}if(S!==null){var ce=y.baseState;D=0,oe=X=H=null,z=S;do{var ie=z.lane,ge=z.eventTime;if((m&ie)===ie){oe!==null&&(oe=oe.next={eventTime:ge,lane:0,tag:z.tag,payload:z.payload,callback:z.callback,next:null});e:{var we=o,be=z;switch(ie=l,ge=d,be.tag){case 1:if(we=be.payload,typeof we=="function"){ce=we.call(ge,ce,ie);break e}ce=we;break e;case 3:we.flags=we.flags&-65537|128;case 0:if(we=be.payload,ie=typeof we=="function"?we.call(ge,ce,ie):we,ie==null)break e;ce=le({},ce,ie);break e;case 2:zs=!0}}z.callback!==null&&z.lane!==0&&(o.flags|=64,ie=y.effects,ie===null?y.effects=[z]:ie.push(z))}else ge={eventTime:ge,lane:ie,tag:z.tag,payload:z.payload,callback:z.callback,next:null},oe===null?(X=oe=ge,H=ce):oe=oe.next=ge,D|=ie;if(z=z.next,z===null){if(z=y.shared.pending,z===null)break;ie=z,z=ie.next,ie.next=null,y.lastBaseUpdate=ie,y.shared.pending=null}}while(!0);if(oe===null&&(H=ce),y.baseState=H,y.firstBaseUpdate=X,y.lastBaseUpdate=oe,l=y.shared.interleaved,l!==null){y=l;do D|=y.lane,y=y.next;while(y!==l)}else S===null&&(y.shared.lanes=0);Yo|=D,o.lanes=D,o.memoizedState=ce}}function F1(o,l,d){if(o=l.effects,l.effects=null,o!==null)for(l=0;l<o.length;l++){var m=o[l],y=m.callback;if(y!==null){if(m.callback=null,m=d,typeof y!="function")throw Error(n(191,y));y.call(m)}}}var lu={},hi=Us(lu),cu=Us(lu),uu=Us(lu);function Go(o){if(o===lu)throw Error(n(174));return o}function Hg(o,l){switch(it(uu,l),it(cu,o),it(hi,lu),o=l.nodeType,o){case 9:case 11:l=(l=l.documentElement)?l.namespaceURI:Lt(null,"");break;default:o=o===8?l.parentNode:l,l=o.namespaceURI||null,o=o.tagName,l=Lt(l,o)}lt(hi),it(hi,l)}function El(){lt(hi),lt(cu),lt(uu)}function $1(o){Go(uu.current);var l=Go(hi.current),d=Lt(l,o.type);l!==d&&(it(cu,o),it(hi,d))}function Wg(o){cu.current===o&&(lt(hi),lt(cu))}var pt=Us(0);function rh(o){for(var l=o;l!==null;){if(l.tag===13){var d=l.memoizedState;if(d!==null&&(d=d.dehydrated,d===null||d.data==="$?"||d.data==="$!"))return l}else if(l.tag===19&&l.memoizedProps.revealOrder!==void 0){if((l.flags&128)!==0)return l}else if(l.child!==null){l.child.return=l,l=l.child;continue}if(l===o)break;for(;l.sibling===null;){if(l.return===null||l.return===o)return null;l=l.return}l.sibling.return=l.return,l=l.sibling}return null}var qg=[];function Gg(){for(var o=0;o<qg.length;o++)qg[o]._workInProgressVersionPrimary=null;qg.length=0}var ih=j.ReactCurrentDispatcher,Kg=j.ReactCurrentBatchConfig,Ko=0,mt=null,Ft=null,Ht=null,sh=!1,du=!1,fu=0,BO=0;function dn(){throw Error(n(321))}function Yg(o,l){if(l===null)return!1;for(var d=0;d<l.length&&d<o.length;d++)if(!Vr(o[d],l[d]))return!1;return!0}function Xg(o,l,d,m,y,S){if(Ko=S,mt=l,l.memoizedState=null,l.updateQueue=null,l.lanes=0,ih.current=o===null||o.memoizedState===null?qO:GO,o=d(m,y),du){S=0;do{if(du=!1,fu=0,25<=S)throw Error(n(301));S+=1,Ht=Ft=null,l.updateQueue=null,ih.current=KO,o=d(m,y)}while(du)}if(ih.current=lh,l=Ft!==null&&Ft.next!==null,Ko=0,Ht=Ft=mt=null,sh=!1,l)throw Error(n(300));return o}function Jg(){var o=fu!==0;return fu=0,o}function pi(){var o={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ht===null?mt.memoizedState=Ht=o:Ht=Ht.next=o,Ht}function vr(){if(Ft===null){var o=mt.alternate;o=o!==null?o.memoizedState:null}else o=Ft.next;var l=Ht===null?mt.memoizedState:Ht.next;if(l!==null)Ht=l,Ft=o;else{if(o===null)throw Error(n(310));Ft=o,o={memoizedState:Ft.memoizedState,baseState:Ft.baseState,baseQueue:Ft.baseQueue,queue:Ft.queue,next:null},Ht===null?mt.memoizedState=Ht=o:Ht=Ht.next=o}return Ht}function hu(o,l){return typeof l=="function"?l(o):l}function Qg(o){var l=vr(),d=l.queue;if(d===null)throw Error(n(311));d.lastRenderedReducer=o;var m=Ft,y=m.baseQueue,S=d.pending;if(S!==null){if(y!==null){var D=y.next;y.next=S.next,S.next=D}m.baseQueue=y=S,d.pending=null}if(y!==null){S=y.next,m=m.baseState;var z=D=null,H=null,X=S;do{var oe=X.lane;if((Ko&oe)===oe)H!==null&&(H=H.next={lane:0,action:X.action,hasEagerState:X.hasEagerState,eagerState:X.eagerState,next:null}),m=X.hasEagerState?X.eagerState:o(m,X.action);else{var ce={lane:oe,action:X.action,hasEagerState:X.hasEagerState,eagerState:X.eagerState,next:null};H===null?(z=H=ce,D=m):H=H.next=ce,mt.lanes|=oe,Yo|=oe}X=X.next}while(X!==null&&X!==S);H===null?D=m:H.next=z,Vr(m,l.memoizedState)||(jn=!0),l.memoizedState=m,l.baseState=D,l.baseQueue=H,d.lastRenderedState=m}if(o=d.interleaved,o!==null){y=o;do S=y.lane,mt.lanes|=S,Yo|=S,y=y.next;while(y!==o)}else y===null&&(d.lanes=0);return[l.memoizedState,d.dispatch]}function Zg(o){var l=vr(),d=l.queue;if(d===null)throw Error(n(311));d.lastRenderedReducer=o;var m=d.dispatch,y=d.pending,S=l.memoizedState;if(y!==null){d.pending=null;var D=y=y.next;do S=o(S,D.action),D=D.next;while(D!==y);Vr(S,l.memoizedState)||(jn=!0),l.memoizedState=S,l.baseQueue===null&&(l.baseState=S),d.lastRenderedState=S}return[S,m]}function U1(){}function V1(o,l){var d=mt,m=vr(),y=l(),S=!Vr(m.memoizedState,y);if(S&&(m.memoizedState=y,jn=!0),m=m.queue,ev(H1.bind(null,d,m,o),[o]),m.getSnapshot!==l||S||Ht!==null&&Ht.memoizedState.tag&1){if(d.flags|=2048,pu(9,z1.bind(null,d,m,y,l),void 0,null),Wt===null)throw Error(n(349));(Ko&30)!==0||B1(d,l,y)}return y}function B1(o,l,d){o.flags|=16384,o={getSnapshot:l,value:d},l=mt.updateQueue,l===null?(l={lastEffect:null,stores:null},mt.updateQueue=l,l.stores=[o]):(d=l.stores,d===null?l.stores=[o]:d.push(o))}function z1(o,l,d,m){l.value=d,l.getSnapshot=m,W1(l)&&q1(o)}function H1(o,l,d){return d(function(){W1(l)&&q1(o)})}function W1(o){var l=o.getSnapshot;o=o.value;try{var d=l();return!Vr(o,d)}catch{return!0}}function q1(o){var l=Gi(o,1);l!==null&&qr(l,o,1,-1)}function G1(o){var l=pi();return typeof o=="function"&&(o=o()),l.memoizedState=l.baseState=o,o={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:hu,lastRenderedState:o},l.queue=o,o=o.dispatch=WO.bind(null,mt,o),[l.memoizedState,o]}function pu(o,l,d,m){return o={tag:o,create:l,destroy:d,deps:m,next:null},l=mt.updateQueue,l===null?(l={lastEffect:null,stores:null},mt.updateQueue=l,l.lastEffect=o.next=o):(d=l.lastEffect,d===null?l.lastEffect=o.next=o:(m=d.next,d.next=o,o.next=m,l.lastEffect=o)),o}function K1(){return vr().memoizedState}function oh(o,l,d,m){var y=pi();mt.flags|=o,y.memoizedState=pu(1|l,d,void 0,m===void 0?null:m)}function ah(o,l,d,m){var y=vr();m=m===void 0?null:m;var S=void 0;if(Ft!==null){var D=Ft.memoizedState;if(S=D.destroy,m!==null&&Yg(m,D.deps)){y.memoizedState=pu(l,d,S,m);return}}mt.flags|=o,y.memoizedState=pu(1|l,d,S,m)}function Y1(o,l){return oh(8390656,8,o,l)}function ev(o,l){return ah(2048,8,o,l)}function X1(o,l){return ah(4,2,o,l)}function J1(o,l){return ah(4,4,o,l)}function Q1(o,l){if(typeof l=="function")return o=o(),l(o),function(){l(null)};if(l!=null)return o=o(),l.current=o,function(){l.current=null}}function Z1(o,l,d){return d=d!=null?d.concat([o]):null,ah(4,4,Q1.bind(null,l,o),d)}function tv(){}function eb(o,l){var d=vr();l=l===void 0?null:l;var m=d.memoizedState;return m!==null&&l!==null&&Yg(l,m[1])?m[0]:(d.memoizedState=[o,l],o)}function tb(o,l){var d=vr();l=l===void 0?null:l;var m=d.memoizedState;return m!==null&&l!==null&&Yg(l,m[1])?m[0]:(o=o(),d.memoizedState=[o,l],o)}function nb(o,l,d){return(Ko&21)===0?(o.baseState&&(o.baseState=!1,jn=!0),o.memoizedState=d):(Vr(d,l)||(d=Fo(),mt.lanes|=d,Yo|=d,o.baseState=!0),l)}function zO(o,l){var d=Fe;Fe=d!==0&&4>d?d:4,o(!0);var m=Kg.transition;Kg.transition={};try{o(!1),l()}finally{Fe=d,Kg.transition=m}}function rb(){return vr().memoizedState}function HO(o,l,d){var m=Ks(o);if(d={lane:m,action:d,hasEagerState:!1,eagerState:null,next:null},ib(o))sb(l,d);else if(d=D1(o,l,d,m),d!==null){var y=Sn();qr(d,o,m,y),ob(d,l,m)}}function WO(o,l,d){var m=Ks(o),y={lane:m,action:d,hasEagerState:!1,eagerState:null,next:null};if(ib(o))sb(l,y);else{var S=o.alternate;if(o.lanes===0&&(S===null||S.lanes===0)&&(S=l.lastRenderedReducer,S!==null))try{var D=l.lastRenderedState,z=S(D,d);if(y.hasEagerState=!0,y.eagerState=z,Vr(z,D)){var H=l.interleaved;H===null?(y.next=y,Bg(l)):(y.next=H.next,H.next=y),l.interleaved=y;return}}catch{}finally{}d=D1(o,l,y,m),d!==null&&(y=Sn(),qr(d,o,m,y),ob(d,l,m))}}function ib(o){var l=o.alternate;return o===mt||l!==null&&l===mt}function sb(o,l){du=sh=!0;var d=o.pending;d===null?l.next=l:(l.next=d.next,d.next=l),o.pending=l}function ob(o,l,d){if((d&4194240)!==0){var m=l.lanes;m&=o.pendingLanes,d|=m,l.lanes=d,Ns(o,d)}}var lh={readContext:gr,useCallback:dn,useContext:dn,useEffect:dn,useImperativeHandle:dn,useInsertionEffect:dn,useLayoutEffect:dn,useMemo:dn,useReducer:dn,useRef:dn,useState:dn,useDebugValue:dn,useDeferredValue:dn,useTransition:dn,useMutableSource:dn,useSyncExternalStore:dn,useId:dn,unstable_isNewReconciler:!1},qO={readContext:gr,useCallback:function(o,l){return pi().memoizedState=[o,l===void 0?null:l],o},useContext:gr,useEffect:Y1,useImperativeHandle:function(o,l,d){return d=d!=null?d.concat([o]):null,oh(4194308,4,Q1.bind(null,l,o),d)},useLayoutEffect:function(o,l){return oh(4194308,4,o,l)},useInsertionEffect:function(o,l){return oh(4,2,o,l)},useMemo:function(o,l){var d=pi();return l=l===void 0?null:l,o=o(),d.memoizedState=[o,l],o},useReducer:function(o,l,d){var m=pi();return l=d!==void 0?d(l):l,m.memoizedState=m.baseState=l,o={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:o,lastRenderedState:l},m.queue=o,o=o.dispatch=HO.bind(null,mt,o),[m.memoizedState,o]},useRef:function(o){var l=pi();return o={current:o},l.memoizedState=o},useState:G1,useDebugValue:tv,useDeferredValue:function(o){return pi().memoizedState=o},useTransition:function(){var o=G1(!1),l=o[0];return o=zO.bind(null,o[1]),pi().memoizedState=o,[l,o]},useMutableSource:function(){},useSyncExternalStore:function(o,l,d){var m=mt,y=pi();if(ut){if(d===void 0)throw Error(n(407));d=d()}else{if(d=l(),Wt===null)throw Error(n(349));(Ko&30)!==0||B1(m,l,d)}y.memoizedState=d;var S={value:d,getSnapshot:l};return y.queue=S,Y1(H1.bind(null,m,S,o),[o]),m.flags|=2048,pu(9,z1.bind(null,m,S,d,l),void 0,null),d},useId:function(){var o=pi(),l=Wt.identifierPrefix;if(ut){var d=qi,m=Wi;d=(m&~(1<<32-bn(m)-1)).toString(32)+d,l=":"+l+"R"+d,d=fu++,0<d&&(l+="H"+d.toString(32)),l+=":"}else d=BO++,l=":"+l+"r"+d.toString(32)+":";return o.memoizedState=l},unstable_isNewReconciler:!1},GO={readContext:gr,useCallback:eb,useContext:gr,useEffect:ev,useImperativeHandle:Z1,useInsertionEffect:X1,useLayoutEffect:J1,useMemo:tb,useReducer:Qg,useRef:K1,useState:function(){return Qg(hu)},useDebugValue:tv,useDeferredValue:function(o){var l=vr();return nb(l,Ft.memoizedState,o)},useTransition:function(){var o=Qg(hu)[0],l=vr().memoizedState;return[o,l]},useMutableSource:U1,useSyncExternalStore:V1,useId:rb,unstable_isNewReconciler:!1},KO={readContext:gr,useCallback:eb,useContext:gr,useEffect:ev,useImperativeHandle:Z1,useInsertionEffect:X1,useLayoutEffect:J1,useMemo:tb,useReducer:Zg,useRef:K1,useState:function(){return Zg(hu)},useDebugValue:tv,useDeferredValue:function(o){var l=vr();return Ft===null?l.memoizedState=o:nb(l,Ft.memoizedState,o)},useTransition:function(){var o=Zg(hu)[0],l=vr().memoizedState;return[o,l]},useMutableSource:U1,useSyncExternalStore:V1,useId:rb,unstable_isNewReconciler:!1};function zr(o,l){if(o&&o.defaultProps){l=le({},l),o=o.defaultProps;for(var d in o)l[d]===void 0&&(l[d]=o[d]);return l}return l}function nv(o,l,d,m){l=o.memoizedState,d=d(m,l),d=d==null?l:le({},l,d),o.memoizedState=d,o.lanes===0&&(o.updateQueue.baseState=d)}var ch={isMounted:function(o){return(o=o._reactInternals)?Mr(o)===o:!1},enqueueSetState:function(o,l,d){o=o._reactInternals;var m=Sn(),y=Ks(o),S=Ki(m,y);S.payload=l,d!=null&&(S.callback=d),l=Hs(o,S,y),l!==null&&(qr(l,o,y,m),th(l,o,y))},enqueueReplaceState:function(o,l,d){o=o._reactInternals;var m=Sn(),y=Ks(o),S=Ki(m,y);S.tag=1,S.payload=l,d!=null&&(S.callback=d),l=Hs(o,S,y),l!==null&&(qr(l,o,y,m),th(l,o,y))},enqueueForceUpdate:function(o,l){o=o._reactInternals;var d=Sn(),m=Ks(o),y=Ki(d,m);y.tag=2,l!=null&&(y.callback=l),l=Hs(o,y,m),l!==null&&(qr(l,o,m,d),th(l,o,m))}};function ab(o,l,d,m,y,S,D){return o=o.stateNode,typeof o.shouldComponentUpdate=="function"?o.shouldComponentUpdate(m,S,D):l.prototype&&l.prototype.isPureReactComponent?!eu(d,m)||!eu(y,S):!0}function lb(o,l,d){var m=!1,y=Vs,S=l.contextType;return typeof S=="object"&&S!==null?S=gr(S):(y=Ln(l)?zo:un.current,m=l.contextTypes,S=(m=m!=null)?gl(o,y):Vs),l=new l(d,S),o.memoizedState=l.state!==null&&l.state!==void 0?l.state:null,l.updater=ch,o.stateNode=l,l._reactInternals=o,m&&(o=o.stateNode,o.__reactInternalMemoizedUnmaskedChildContext=y,o.__reactInternalMemoizedMaskedChildContext=S),l}function cb(o,l,d,m){o=l.state,typeof l.componentWillReceiveProps=="function"&&l.componentWillReceiveProps(d,m),typeof l.UNSAFE_componentWillReceiveProps=="function"&&l.UNSAFE_componentWillReceiveProps(d,m),l.state!==o&&ch.enqueueReplaceState(l,l.state,null)}function rv(o,l,d,m){var y=o.stateNode;y.props=d,y.state=o.memoizedState,y.refs={},zg(o);var S=l.contextType;typeof S=="object"&&S!==null?y.context=gr(S):(S=Ln(l)?zo:un.current,y.context=gl(o,S)),y.state=o.memoizedState,S=l.getDerivedStateFromProps,typeof S=="function"&&(nv(o,l,S,d),y.state=o.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof y.getSnapshotBeforeUpdate=="function"||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(l=y.state,typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount(),l!==y.state&&ch.enqueueReplaceState(y,y.state,null),nh(o,d,y,m),y.state=o.memoizedState),typeof y.componentDidMount=="function"&&(o.flags|=4194308)}function Sl(o,l){try{var d="",m=l;do d+=ve(m),m=m.return;while(m);var y=d}catch(S){y=`
Error generating stack: `+S.message+`
`+S.stack}return{value:o,source:l,stack:y,digest:null}}function iv(o,l,d){return{value:o,source:null,stack:d??null,digest:l??null}}function sv(o,l){try{console.error(l.value)}catch(d){setTimeout(function(){throw d})}}var YO=typeof WeakMap=="function"?WeakMap:Map;function ub(o,l,d){d=Ki(-1,d),d.tag=3,d.payload={element:null};var m=l.value;return d.callback=function(){gh||(gh=!0,_v=m),sv(o,l)},d}function db(o,l,d){d=Ki(-1,d),d.tag=3;var m=o.type.getDerivedStateFromError;if(typeof m=="function"){var y=l.value;d.payload=function(){return m(y)},d.callback=function(){sv(o,l)}}var S=o.stateNode;return S!==null&&typeof S.componentDidCatch=="function"&&(d.callback=function(){sv(o,l),typeof m!="function"&&(qs===null?qs=new Set([this]):qs.add(this));var D=l.stack;this.componentDidCatch(l.value,{componentStack:D!==null?D:""})}),d}function fb(o,l,d){var m=o.pingCache;if(m===null){m=o.pingCache=new YO;var y=new Set;m.set(l,y)}else y=m.get(l),y===void 0&&(y=new Set,m.set(l,y));y.has(d)||(y.add(d),o=c5.bind(null,o,l,d),l.then(o,o))}function hb(o){do{var l;if((l=o.tag===13)&&(l=o.memoizedState,l=l!==null?l.dehydrated!==null:!0),l)return o;o=o.return}while(o!==null);return null}function pb(o,l,d,m,y){return(o.mode&1)===0?(o===l?o.flags|=65536:(o.flags|=128,d.flags|=131072,d.flags&=-52805,d.tag===1&&(d.alternate===null?d.tag=17:(l=Ki(-1,1),l.tag=2,Hs(d,l,1))),d.lanes|=1),o):(o.flags|=65536,o.lanes=y,o)}var XO=j.ReactCurrentOwner,jn=!1;function En(o,l,d,m){l.child=o===null?M1(l,null,d,m):_l(l,o.child,d,m)}function mb(o,l,d,m,y){d=d.render;var S=l.ref;return bl(l,y),m=Xg(o,l,d,m,S,y),d=Jg(),o!==null&&!jn?(l.updateQueue=o.updateQueue,l.flags&=-2053,o.lanes&=~y,Yi(o,l,y)):(ut&&d&&Og(l),l.flags|=1,En(o,l,m,y),l.child)}function gb(o,l,d,m,y){if(o===null){var S=d.type;return typeof S=="function"&&!kv(S)&&S.defaultProps===void 0&&d.compare===null&&d.defaultProps===void 0?(l.tag=15,l.type=S,vb(o,l,S,m,y)):(o=bh(d.type,null,m,l,l.mode,y),o.ref=l.ref,o.return=l,l.child=o)}if(S=o.child,(o.lanes&y)===0){var D=S.memoizedProps;if(d=d.compare,d=d!==null?d:eu,d(D,m)&&o.ref===l.ref)return Yi(o,l,y)}return l.flags|=1,o=Xs(S,m),o.ref=l.ref,o.return=l,l.child=o}function vb(o,l,d,m,y){if(o!==null){var S=o.memoizedProps;if(eu(S,m)&&o.ref===l.ref)if(jn=!1,l.pendingProps=m=S,(o.lanes&y)!==0)(o.flags&131072)!==0&&(jn=!0);else return l.lanes=o.lanes,Yi(o,l,y)}return ov(o,l,d,m,y)}function yb(o,l,d){var m=l.pendingProps,y=m.children,S=o!==null?o.memoizedState:null;if(m.mode==="hidden")if((l.mode&1)===0)l.memoizedState={baseLanes:0,cachePool:null,transitions:null},it(Tl,tr),tr|=d;else{if((d&1073741824)===0)return o=S!==null?S.baseLanes|d:d,l.lanes=l.childLanes=1073741824,l.memoizedState={baseLanes:o,cachePool:null,transitions:null},l.updateQueue=null,it(Tl,tr),tr|=o,null;l.memoizedState={baseLanes:0,cachePool:null,transitions:null},m=S!==null?S.baseLanes:d,it(Tl,tr),tr|=m}else S!==null?(m=S.baseLanes|d,l.memoizedState=null):m=d,it(Tl,tr),tr|=m;return En(o,l,y,d),l.child}function wb(o,l){var d=l.ref;(o===null&&d!==null||o!==null&&o.ref!==d)&&(l.flags|=512,l.flags|=2097152)}function ov(o,l,d,m,y){var S=Ln(d)?zo:un.current;return S=gl(l,S),bl(l,y),d=Xg(o,l,d,m,S,y),m=Jg(),o!==null&&!jn?(l.updateQueue=o.updateQueue,l.flags&=-2053,o.lanes&=~y,Yi(o,l,y)):(ut&&m&&Og(l),l.flags|=1,En(o,l,d,y),l.child)}function _b(o,l,d,m,y){if(Ln(d)){var S=!0;Gf(l)}else S=!1;if(bl(l,y),l.stateNode===null)dh(o,l),lb(l,d,m),rv(l,d,m,y),m=!0;else if(o===null){var D=l.stateNode,z=l.memoizedProps;D.props=z;var H=D.context,X=d.contextType;typeof X=="object"&&X!==null?X=gr(X):(X=Ln(d)?zo:un.current,X=gl(l,X));var oe=d.getDerivedStateFromProps,ce=typeof oe=="function"||typeof D.getSnapshotBeforeUpdate=="function";ce||typeof D.UNSAFE_componentWillReceiveProps!="function"&&typeof D.componentWillReceiveProps!="function"||(z!==m||H!==X)&&cb(l,D,m,X),zs=!1;var ie=l.memoizedState;D.state=ie,nh(l,m,D,y),H=l.memoizedState,z!==m||ie!==H||Dn.current||zs?(typeof oe=="function"&&(nv(l,d,oe,m),H=l.memoizedState),(z=zs||ab(l,d,z,m,ie,H,X))?(ce||typeof D.UNSAFE_componentWillMount!="function"&&typeof D.componentWillMount!="function"||(typeof D.componentWillMount=="function"&&D.componentWillMount(),typeof D.UNSAFE_componentWillMount=="function"&&D.UNSAFE_componentWillMount()),typeof D.componentDidMount=="function"&&(l.flags|=4194308)):(typeof D.componentDidMount=="function"&&(l.flags|=4194308),l.memoizedProps=m,l.memoizedState=H),D.props=m,D.state=H,D.context=X,m=z):(typeof D.componentDidMount=="function"&&(l.flags|=4194308),m=!1)}else{D=l.stateNode,L1(o,l),z=l.memoizedProps,X=l.type===l.elementType?z:zr(l.type,z),D.props=X,ce=l.pendingProps,ie=D.context,H=d.contextType,typeof H=="object"&&H!==null?H=gr(H):(H=Ln(d)?zo:un.current,H=gl(l,H));var ge=d.getDerivedStateFromProps;(oe=typeof ge=="function"||typeof D.getSnapshotBeforeUpdate=="function")||typeof D.UNSAFE_componentWillReceiveProps!="function"&&typeof D.componentWillReceiveProps!="function"||(z!==ce||ie!==H)&&cb(l,D,m,H),zs=!1,ie=l.memoizedState,D.state=ie,nh(l,m,D,y);var we=l.memoizedState;z!==ce||ie!==we||Dn.current||zs?(typeof ge=="function"&&(nv(l,d,ge,m),we=l.memoizedState),(X=zs||ab(l,d,X,m,ie,we,H)||!1)?(oe||typeof D.UNSAFE_componentWillUpdate!="function"&&typeof D.componentWillUpdate!="function"||(typeof D.componentWillUpdate=="function"&&D.componentWillUpdate(m,we,H),typeof D.UNSAFE_componentWillUpdate=="function"&&D.UNSAFE_componentWillUpdate(m,we,H)),typeof D.componentDidUpdate=="function"&&(l.flags|=4),typeof D.getSnapshotBeforeUpdate=="function"&&(l.flags|=1024)):(typeof D.componentDidUpdate!="function"||z===o.memoizedProps&&ie===o.memoizedState||(l.flags|=4),typeof D.getSnapshotBeforeUpdate!="function"||z===o.memoizedProps&&ie===o.memoizedState||(l.flags|=1024),l.memoizedProps=m,l.memoizedState=we),D.props=m,D.state=we,D.context=H,m=X):(typeof D.componentDidUpdate!="function"||z===o.memoizedProps&&ie===o.memoizedState||(l.flags|=4),typeof D.getSnapshotBeforeUpdate!="function"||z===o.memoizedProps&&ie===o.memoizedState||(l.flags|=1024),m=!1)}return av(o,l,d,m,S,y)}function av(o,l,d,m,y,S){wb(o,l);var D=(l.flags&128)!==0;if(!m&&!D)return y&&C1(l,d,!1),Yi(o,l,S);m=l.stateNode,XO.current=l;var z=D&&typeof d.getDerivedStateFromError!="function"?null:m.render();return l.flags|=1,o!==null&&D?(l.child=_l(l,o.child,null,S),l.child=_l(l,null,z,S)):En(o,l,z,S),l.memoizedState=m.state,y&&C1(l,d,!0),l.child}function xb(o){var l=o.stateNode;l.pendingContext?E1(o,l.pendingContext,l.pendingContext!==l.context):l.context&&E1(o,l.context,!1),Hg(o,l.containerInfo)}function bb(o,l,d,m,y){return wl(),jg(y),l.flags|=256,En(o,l,d,m),l.child}var lv={dehydrated:null,treeContext:null,retryLane:0};function cv(o){return{baseLanes:o,cachePool:null,transitions:null}}function Eb(o,l,d){var m=l.pendingProps,y=pt.current,S=!1,D=(l.flags&128)!==0,z;if((z=D)||(z=o!==null&&o.memoizedState===null?!1:(y&2)!==0),z?(S=!0,l.flags&=-129):(o===null||o.memoizedState!==null)&&(y|=1),it(pt,y&1),o===null)return Lg(l),o=l.memoizedState,o!==null&&(o=o.dehydrated,o!==null)?((l.mode&1)===0?l.lanes=1:o.data==="$!"?l.lanes=8:l.lanes=1073741824,null):(D=m.children,o=m.fallback,S?(m=l.mode,S=l.child,D={mode:"hidden",children:D},(m&1)===0&&S!==null?(S.childLanes=0,S.pendingProps=D):S=Eh(D,m,0,null),o=Zo(o,m,d,null),S.return=l,o.return=l,S.sibling=o,l.child=S,l.child.memoizedState=cv(d),l.memoizedState=lv,o):uv(l,D));if(y=o.memoizedState,y!==null&&(z=y.dehydrated,z!==null))return JO(o,l,D,m,z,y,d);if(S){S=m.fallback,D=l.mode,y=o.child,z=y.sibling;var H={mode:"hidden",children:m.children};return(D&1)===0&&l.child!==y?(m=l.child,m.childLanes=0,m.pendingProps=H,l.deletions=null):(m=Xs(y,H),m.subtreeFlags=y.subtreeFlags&14680064),z!==null?S=Xs(z,S):(S=Zo(S,D,d,null),S.flags|=2),S.return=l,m.return=l,m.sibling=S,l.child=m,m=S,S=l.child,D=o.child.memoizedState,D=D===null?cv(d):{baseLanes:D.baseLanes|d,cachePool:null,transitions:D.transitions},S.memoizedState=D,S.childLanes=o.childLanes&~d,l.memoizedState=lv,m}return S=o.child,o=S.sibling,m=Xs(S,{mode:"visible",children:m.children}),(l.mode&1)===0&&(m.lanes=d),m.return=l,m.sibling=null,o!==null&&(d=l.deletions,d===null?(l.deletions=[o],l.flags|=16):d.push(o)),l.child=m,l.memoizedState=null,m}function uv(o,l){return l=Eh({mode:"visible",children:l},o.mode,0,null),l.return=o,o.child=l}function uh(o,l,d,m){return m!==null&&jg(m),_l(l,o.child,null,d),o=uv(l,l.pendingProps.children),o.flags|=2,l.memoizedState=null,o}function JO(o,l,d,m,y,S,D){if(d)return l.flags&256?(l.flags&=-257,m=iv(Error(n(422))),uh(o,l,D,m)):l.memoizedState!==null?(l.child=o.child,l.flags|=128,null):(S=m.fallback,y=l.mode,m=Eh({mode:"visible",children:m.children},y,0,null),S=Zo(S,y,D,null),S.flags|=2,m.return=l,S.return=l,m.sibling=S,l.child=m,(l.mode&1)!==0&&_l(l,o.child,null,D),l.child.memoizedState=cv(D),l.memoizedState=lv,S);if((l.mode&1)===0)return uh(o,l,D,null);if(y.data==="$!"){if(m=y.nextSibling&&y.nextSibling.dataset,m)var z=m.dgst;return m=z,S=Error(n(419)),m=iv(S,m,void 0),uh(o,l,D,m)}if(z=(D&o.childLanes)!==0,jn||z){if(m=Wt,m!==null){switch(D&-D){case 4:y=2;break;case 16:y=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:y=32;break;case 536870912:y=268435456;break;default:y=0}y=(y&(m.suspendedLanes|D))!==0?0:y,y!==0&&y!==S.retryLane&&(S.retryLane=y,Gi(o,y),qr(m,o,y,-1))}return Tv(),m=iv(Error(n(421))),uh(o,l,D,m)}return y.data==="$?"?(l.flags|=128,l.child=o.child,l=u5.bind(null,o),y._reactRetry=l,null):(o=S.treeContext,er=$s(y.nextSibling),Zn=l,ut=!0,Br=null,o!==null&&(pr[mr++]=Wi,pr[mr++]=qi,pr[mr++]=Ho,Wi=o.id,qi=o.overflow,Ho=l),l=uv(l,m.children),l.flags|=4096,l)}function Sb(o,l,d){o.lanes|=l;var m=o.alternate;m!==null&&(m.lanes|=l),Vg(o.return,l,d)}function dv(o,l,d,m,y){var S=o.memoizedState;S===null?o.memoizedState={isBackwards:l,rendering:null,renderingStartTime:0,last:m,tail:d,tailMode:y}:(S.isBackwards=l,S.rendering=null,S.renderingStartTime=0,S.last=m,S.tail=d,S.tailMode=y)}function Cb(o,l,d){var m=l.pendingProps,y=m.revealOrder,S=m.tail;if(En(o,l,m.children,d),m=pt.current,(m&2)!==0)m=m&1|2,l.flags|=128;else{if(o!==null&&(o.flags&128)!==0)e:for(o=l.child;o!==null;){if(o.tag===13)o.memoizedState!==null&&Sb(o,d,l);else if(o.tag===19)Sb(o,d,l);else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===l)break e;for(;o.sibling===null;){if(o.return===null||o.return===l)break e;o=o.return}o.sibling.return=o.return,o=o.sibling}m&=1}if(it(pt,m),(l.mode&1)===0)l.memoizedState=null;else switch(y){case"forwards":for(d=l.child,y=null;d!==null;)o=d.alternate,o!==null&&rh(o)===null&&(y=d),d=d.sibling;d=y,d===null?(y=l.child,l.child=null):(y=d.sibling,d.sibling=null),dv(l,!1,y,d,S);break;case"backwards":for(d=null,y=l.child,l.child=null;y!==null;){if(o=y.alternate,o!==null&&rh(o)===null){l.child=y;break}o=y.sibling,y.sibling=d,d=y,y=o}dv(l,!0,d,null,S);break;case"together":dv(l,!1,null,null,void 0);break;default:l.memoizedState=null}return l.child}function dh(o,l){(l.mode&1)===0&&o!==null&&(o.alternate=null,l.alternate=null,l.flags|=2)}function Yi(o,l,d){if(o!==null&&(l.dependencies=o.dependencies),Yo|=l.lanes,(d&l.childLanes)===0)return null;if(o!==null&&l.child!==o.child)throw Error(n(153));if(l.child!==null){for(o=l.child,d=Xs(o,o.pendingProps),l.child=d,d.return=l;o.sibling!==null;)o=o.sibling,d=d.sibling=Xs(o,o.pendingProps),d.return=l;d.sibling=null}return l.child}function QO(o,l,d){switch(l.tag){case 3:xb(l),wl();break;case 5:$1(l);break;case 1:Ln(l.type)&&Gf(l);break;case 4:Hg(l,l.stateNode.containerInfo);break;case 10:var m=l.type._context,y=l.memoizedProps.value;it(Zf,m._currentValue),m._currentValue=y;break;case 13:if(m=l.memoizedState,m!==null)return m.dehydrated!==null?(it(pt,pt.current&1),l.flags|=128,null):(d&l.child.childLanes)!==0?Eb(o,l,d):(it(pt,pt.current&1),o=Yi(o,l,d),o!==null?o.sibling:null);it(pt,pt.current&1);break;case 19:if(m=(d&l.childLanes)!==0,(o.flags&128)!==0){if(m)return Cb(o,l,d);l.flags|=128}if(y=l.memoizedState,y!==null&&(y.rendering=null,y.tail=null,y.lastEffect=null),it(pt,pt.current),m)break;return null;case 22:case 23:return l.lanes=0,yb(o,l,d)}return Yi(o,l,d)}var Tb,fv,kb,Pb;Tb=function(o,l){for(var d=l.child;d!==null;){if(d.tag===5||d.tag===6)o.appendChild(d.stateNode);else if(d.tag!==4&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===l)break;for(;d.sibling===null;){if(d.return===null||d.return===l)return;d=d.return}d.sibling.return=d.return,d=d.sibling}},fv=function(){},kb=function(o,l,d,m){var y=o.memoizedProps;if(y!==m){o=l.stateNode,Go(hi.current);var S=null;switch(d){case"input":y=xn(o,y),m=xn(o,m),S=[];break;case"select":y=le({},y,{value:void 0}),m=le({},m,{value:void 0}),S=[];break;case"textarea":y=kc(o,y),m=kc(o,m),S=[];break;default:typeof y.onClick!="function"&&typeof m.onClick=="function"&&(o.onclick=Hf)}Oc(d,m);var D;d=null;for(X in y)if(!m.hasOwnProperty(X)&&y.hasOwnProperty(X)&&y[X]!=null)if(X==="style"){var z=y[X];for(D in z)z.hasOwnProperty(D)&&(d||(d={}),d[D]="")}else X!=="dangerouslySetInnerHTML"&&X!=="children"&&X!=="suppressContentEditableWarning"&&X!=="suppressHydrationWarning"&&X!=="autoFocus"&&(i.hasOwnProperty(X)?S||(S=[]):(S=S||[]).push(X,null));for(X in m){var H=m[X];if(z=y?.[X],m.hasOwnProperty(X)&&H!==z&&(H!=null||z!=null))if(X==="style")if(z){for(D in z)!z.hasOwnProperty(D)||H&&H.hasOwnProperty(D)||(d||(d={}),d[D]="");for(D in H)H.hasOwnProperty(D)&&z[D]!==H[D]&&(d||(d={}),d[D]=H[D])}else d||(S||(S=[]),S.push(X,d)),d=H;else X==="dangerouslySetInnerHTML"?(H=H?H.__html:void 0,z=z?z.__html:void 0,H!=null&&z!==H&&(S=S||[]).push(X,H)):X==="children"?typeof H!="string"&&typeof H!="number"||(S=S||[]).push(X,""+H):X!=="suppressContentEditableWarning"&&X!=="suppressHydrationWarning"&&(i.hasOwnProperty(X)?(H!=null&&X==="onScroll"&&at("scroll",o),S||z===H||(S=[])):(S=S||[]).push(X,H))}d&&(S=S||[]).push("style",d);var X=S;(l.updateQueue=X)&&(l.flags|=4)}},Pb=function(o,l,d,m){d!==m&&(l.flags|=4)};function mu(o,l){if(!ut)switch(o.tailMode){case"hidden":l=o.tail;for(var d=null;l!==null;)l.alternate!==null&&(d=l),l=l.sibling;d===null?o.tail=null:d.sibling=null;break;case"collapsed":d=o.tail;for(var m=null;d!==null;)d.alternate!==null&&(m=d),d=d.sibling;m===null?l||o.tail===null?o.tail=null:o.tail.sibling=null:m.sibling=null}}function fn(o){var l=o.alternate!==null&&o.alternate.child===o.child,d=0,m=0;if(l)for(var y=o.child;y!==null;)d|=y.lanes|y.childLanes,m|=y.subtreeFlags&14680064,m|=y.flags&14680064,y.return=o,y=y.sibling;else for(y=o.child;y!==null;)d|=y.lanes|y.childLanes,m|=y.subtreeFlags,m|=y.flags,y.return=o,y=y.sibling;return o.subtreeFlags|=m,o.childLanes=d,l}function ZO(o,l,d){var m=l.pendingProps;switch(Mg(l),l.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return fn(l),null;case 1:return Ln(l.type)&&qf(),fn(l),null;case 3:return m=l.stateNode,El(),lt(Dn),lt(un),Gg(),m.pendingContext&&(m.context=m.pendingContext,m.pendingContext=null),(o===null||o.child===null)&&(Jf(l)?l.flags|=4:o===null||o.memoizedState.isDehydrated&&(l.flags&256)===0||(l.flags|=1024,Br!==null&&(Ev(Br),Br=null))),fv(o,l),fn(l),null;case 5:Wg(l);var y=Go(uu.current);if(d=l.type,o!==null&&l.stateNode!=null)kb(o,l,d,m,y),o.ref!==l.ref&&(l.flags|=512,l.flags|=2097152);else{if(!m){if(l.stateNode===null)throw Error(n(166));return fn(l),null}if(o=Go(hi.current),Jf(l)){m=l.stateNode,d=l.type;var S=l.memoizedProps;switch(m[fi]=l,m[su]=S,o=(l.mode&1)!==0,d){case"dialog":at("cancel",m),at("close",m);break;case"iframe":case"object":case"embed":at("load",m);break;case"video":case"audio":for(y=0;y<nu.length;y++)at(nu[y],m);break;case"source":at("error",m);break;case"img":case"image":case"link":at("error",m),at("load",m);break;case"details":at("toggle",m);break;case"input":Mt(m,S),at("invalid",m);break;case"select":m._wrapperState={wasMultiple:!!S.multiple},at("invalid",m);break;case"textarea":Va(m,S),at("invalid",m)}Oc(d,S),y=null;for(var D in S)if(S.hasOwnProperty(D)){var z=S[D];D==="children"?typeof z=="string"?m.textContent!==z&&(S.suppressHydrationWarning!==!0&&zf(m.textContent,z,o),y=["children",z]):typeof z=="number"&&m.textContent!==""+z&&(S.suppressHydrationWarning!==!0&&zf(m.textContent,z,o),y=["children",""+z]):i.hasOwnProperty(D)&&z!=null&&D==="onScroll"&&at("scroll",m)}switch(d){case"input":$e(m),gf(m,S,!0);break;case"textarea":$e(m),Pc(m);break;case"select":case"option":break;default:typeof S.onClick=="function"&&(m.onclick=Hf)}m=y,l.updateQueue=m,m!==null&&(l.flags|=4)}else{D=y.nodeType===9?y:y.ownerDocument,o==="http://www.w3.org/1999/xhtml"&&(o=Dt(d)),o==="http://www.w3.org/1999/xhtml"?d==="script"?(o=D.createElement("div"),o.innerHTML="<script><\/script>",o=o.removeChild(o.firstChild)):typeof m.is=="string"?o=D.createElement(d,{is:m.is}):(o=D.createElement(d),d==="select"&&(D=o,m.multiple?D.multiple=!0:m.size&&(D.size=m.size))):o=D.createElementNS(o,d),o[fi]=l,o[su]=m,Tb(o,l,!1,!1),l.stateNode=o;e:{switch(D=Mc(d,m),d){case"dialog":at("cancel",o),at("close",o),y=m;break;case"iframe":case"object":case"embed":at("load",o),y=m;break;case"video":case"audio":for(y=0;y<nu.length;y++)at(nu[y],o);y=m;break;case"source":at("error",o),y=m;break;case"img":case"image":case"link":at("error",o),at("load",o),y=m;break;case"details":at("toggle",o),y=m;break;case"input":Mt(o,m),y=xn(o,m),at("invalid",o);break;case"option":y=m;break;case"select":o._wrapperState={wasMultiple:!!m.multiple},y=le({},m,{value:void 0}),at("invalid",o);break;case"textarea":Va(o,m),y=kc(o,m),at("invalid",o);break;default:y=m}Oc(d,y),z=y;for(S in z)if(z.hasOwnProperty(S)){var H=z[S];S==="style"?Rc(o,H):S==="dangerouslySetInnerHTML"?(H=H?H.__html:void 0,H!=null&&Ic(o,H)):S==="children"?typeof H=="string"?(d!=="textarea"||H!=="")&&ks(o,H):typeof H=="number"&&ks(o,""+H):S!=="suppressContentEditableWarning"&&S!=="suppressHydrationWarning"&&S!=="autoFocus"&&(i.hasOwnProperty(S)?H!=null&&S==="onScroll"&&at("scroll",o):H!=null&&k(o,S,H,D))}switch(d){case"input":$e(o),gf(o,m,!1);break;case"textarea":$e(o),Pc(o);break;case"option":m.value!=null&&o.setAttribute("value",""+ke(m.value));break;case"select":o.multiple=!!m.multiple,S=m.value,S!=null?Mi(o,!!m.multiple,S,!1):m.defaultValue!=null&&Mi(o,!!m.multiple,m.defaultValue,!0);break;default:typeof y.onClick=="function"&&(o.onclick=Hf)}switch(d){case"button":case"input":case"select":case"textarea":m=!!m.autoFocus;break e;case"img":m=!0;break e;default:m=!1}}m&&(l.flags|=4)}l.ref!==null&&(l.flags|=512,l.flags|=2097152)}return fn(l),null;case 6:if(o&&l.stateNode!=null)Pb(o,l,o.memoizedProps,m);else{if(typeof m!="string"&&l.stateNode===null)throw Error(n(166));if(d=Go(uu.current),Go(hi.current),Jf(l)){if(m=l.stateNode,d=l.memoizedProps,m[fi]=l,(S=m.nodeValue!==d)&&(o=Zn,o!==null))switch(o.tag){case 3:zf(m.nodeValue,d,(o.mode&1)!==0);break;case 5:o.memoizedProps.suppressHydrationWarning!==!0&&zf(m.nodeValue,d,(o.mode&1)!==0)}S&&(l.flags|=4)}else m=(d.nodeType===9?d:d.ownerDocument).createTextNode(m),m[fi]=l,l.stateNode=m}return fn(l),null;case 13:if(lt(pt),m=l.memoizedState,o===null||o.memoizedState!==null&&o.memoizedState.dehydrated!==null){if(ut&&er!==null&&(l.mode&1)!==0&&(l.flags&128)===0)R1(),wl(),l.flags|=98560,S=!1;else if(S=Jf(l),m!==null&&m.dehydrated!==null){if(o===null){if(!S)throw Error(n(318));if(S=l.memoizedState,S=S!==null?S.dehydrated:null,!S)throw Error(n(317));S[fi]=l}else wl(),(l.flags&128)===0&&(l.memoizedState=null),l.flags|=4;fn(l),S=!1}else Br!==null&&(Ev(Br),Br=null),S=!0;if(!S)return l.flags&65536?l:null}return(l.flags&128)!==0?(l.lanes=d,l):(m=m!==null,m!==(o!==null&&o.memoizedState!==null)&&m&&(l.child.flags|=8192,(l.mode&1)!==0&&(o===null||(pt.current&1)!==0?$t===0&&($t=3):Tv())),l.updateQueue!==null&&(l.flags|=4),fn(l),null);case 4:return El(),fv(o,l),o===null&&ru(l.stateNode.containerInfo),fn(l),null;case 10:return Ug(l.type._context),fn(l),null;case 17:return Ln(l.type)&&qf(),fn(l),null;case 19:if(lt(pt),S=l.memoizedState,S===null)return fn(l),null;if(m=(l.flags&128)!==0,D=S.rendering,D===null)if(m)mu(S,!1);else{if($t!==0||o!==null&&(o.flags&128)!==0)for(o=l.child;o!==null;){if(D=rh(o),D!==null){for(l.flags|=128,mu(S,!1),m=D.updateQueue,m!==null&&(l.updateQueue=m,l.flags|=4),l.subtreeFlags=0,m=d,d=l.child;d!==null;)S=d,o=m,S.flags&=14680066,D=S.alternate,D===null?(S.childLanes=0,S.lanes=o,S.child=null,S.subtreeFlags=0,S.memoizedProps=null,S.memoizedState=null,S.updateQueue=null,S.dependencies=null,S.stateNode=null):(S.childLanes=D.childLanes,S.lanes=D.lanes,S.child=D.child,S.subtreeFlags=0,S.deletions=null,S.memoizedProps=D.memoizedProps,S.memoizedState=D.memoizedState,S.updateQueue=D.updateQueue,S.type=D.type,o=D.dependencies,S.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext}),d=d.sibling;return it(pt,pt.current&1|2),l.child}o=o.sibling}S.tail!==null&&rt()>kl&&(l.flags|=128,m=!0,mu(S,!1),l.lanes=4194304)}else{if(!m)if(o=rh(D),o!==null){if(l.flags|=128,m=!0,d=o.updateQueue,d!==null&&(l.updateQueue=d,l.flags|=4),mu(S,!0),S.tail===null&&S.tailMode==="hidden"&&!D.alternate&&!ut)return fn(l),null}else 2*rt()-S.renderingStartTime>kl&&d!==1073741824&&(l.flags|=128,m=!0,mu(S,!1),l.lanes=4194304);S.isBackwards?(D.sibling=l.child,l.child=D):(d=S.last,d!==null?d.sibling=D:l.child=D,S.last=D)}return S.tail!==null?(l=S.tail,S.rendering=l,S.tail=l.sibling,S.renderingStartTime=rt(),l.sibling=null,d=pt.current,it(pt,m?d&1|2:d&1),l):(fn(l),null);case 22:case 23:return Cv(),m=l.memoizedState!==null,o!==null&&o.memoizedState!==null!==m&&(l.flags|=8192),m&&(l.mode&1)!==0?(tr&1073741824)!==0&&(fn(l),l.subtreeFlags&6&&(l.flags|=8192)):fn(l),null;case 24:return null;case 25:return null}throw Error(n(156,l.tag))}function e5(o,l){switch(Mg(l),l.tag){case 1:return Ln(l.type)&&qf(),o=l.flags,o&65536?(l.flags=o&-65537|128,l):null;case 3:return El(),lt(Dn),lt(un),Gg(),o=l.flags,(o&65536)!==0&&(o&128)===0?(l.flags=o&-65537|128,l):null;case 5:return Wg(l),null;case 13:if(lt(pt),o=l.memoizedState,o!==null&&o.dehydrated!==null){if(l.alternate===null)throw Error(n(340));wl()}return o=l.flags,o&65536?(l.flags=o&-65537|128,l):null;case 19:return lt(pt),null;case 4:return El(),null;case 10:return Ug(l.type._context),null;case 22:case 23:return Cv(),null;case 24:return null;default:return null}}var fh=!1,hn=!1,t5=typeof WeakSet=="function"?WeakSet:Set,ye=null;function Cl(o,l){var d=o.ref;if(d!==null)if(typeof d=="function")try{d(null)}catch(m){xt(o,l,m)}else d.current=null}function hv(o,l,d){try{d()}catch(m){xt(o,l,m)}}var Ib=!1;function n5(o,l){if(Cg=Ds,o=a1(),vg(o)){if("selectionStart"in o)var d={start:o.selectionStart,end:o.selectionEnd};else e:{d=(d=o.ownerDocument)&&d.defaultView||window;var m=d.getSelection&&d.getSelection();if(m&&m.rangeCount!==0){d=m.anchorNode;var y=m.anchorOffset,S=m.focusNode;m=m.focusOffset;try{d.nodeType,S.nodeType}catch{d=null;break e}var D=0,z=-1,H=-1,X=0,oe=0,ce=o,ie=null;t:for(;;){for(var ge;ce!==d||y!==0&&ce.nodeType!==3||(z=D+y),ce!==S||m!==0&&ce.nodeType!==3||(H=D+m),ce.nodeType===3&&(D+=ce.nodeValue.length),(ge=ce.firstChild)!==null;)ie=ce,ce=ge;for(;;){if(ce===o)break t;if(ie===d&&++X===y&&(z=D),ie===S&&++oe===m&&(H=D),(ge=ce.nextSibling)!==null)break;ce=ie,ie=ce.parentNode}ce=ge}d=z===-1||H===-1?null:{start:z,end:H}}else d=null}d=d||{start:0,end:0}}else d=null;for(Tg={focusedElem:o,selectionRange:d},Ds=!1,ye=l;ye!==null;)if(l=ye,o=l.child,(l.subtreeFlags&1028)!==0&&o!==null)o.return=l,ye=o;else for(;ye!==null;){l=ye;try{var we=l.alternate;if((l.flags&1024)!==0)switch(l.tag){case 0:case 11:case 15:break;case 1:if(we!==null){var be=we.memoizedProps,Pt=we.memoizedState,K=l.stateNode,W=K.getSnapshotBeforeUpdate(l.elementType===l.type?be:zr(l.type,be),Pt);K.__reactInternalSnapshotBeforeUpdate=W}break;case 3:var Y=l.stateNode.containerInfo;Y.nodeType===1?Y.textContent="":Y.nodeType===9&&Y.documentElement&&Y.removeChild(Y.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(ue){xt(l,l.return,ue)}if(o=l.sibling,o!==null){o.return=l.return,ye=o;break}ye=l.return}return we=Ib,Ib=!1,we}function gu(o,l,d){var m=l.updateQueue;if(m=m!==null?m.lastEffect:null,m!==null){var y=m=m.next;do{if((y.tag&o)===o){var S=y.destroy;y.destroy=void 0,S!==void 0&&hv(l,d,S)}y=y.next}while(y!==m)}}function hh(o,l){if(l=l.updateQueue,l=l!==null?l.lastEffect:null,l!==null){var d=l=l.next;do{if((d.tag&o)===o){var m=d.create;d.destroy=m()}d=d.next}while(d!==l)}}function pv(o){var l=o.ref;if(l!==null){var d=o.stateNode;switch(o.tag){case 5:o=d;break;default:o=d}typeof l=="function"?l(o):l.current=o}}function Ab(o){var l=o.alternate;l!==null&&(o.alternate=null,Ab(l)),o.child=null,o.deletions=null,o.sibling=null,o.tag===5&&(l=o.stateNode,l!==null&&(delete l[fi],delete l[su],delete l[Ag],delete l[FO],delete l[$O])),o.stateNode=null,o.return=null,o.dependencies=null,o.memoizedProps=null,o.memoizedState=null,o.pendingProps=null,o.stateNode=null,o.updateQueue=null}function Rb(o){return o.tag===5||o.tag===3||o.tag===4}function Nb(o){e:for(;;){for(;o.sibling===null;){if(o.return===null||Rb(o.return))return null;o=o.return}for(o.sibling.return=o.return,o=o.sibling;o.tag!==5&&o.tag!==6&&o.tag!==18;){if(o.flags&2||o.child===null||o.tag===4)continue e;o.child.return=o,o=o.child}if(!(o.flags&2))return o.stateNode}}function mv(o,l,d){var m=o.tag;if(m===5||m===6)o=o.stateNode,l?d.nodeType===8?d.parentNode.insertBefore(o,l):d.insertBefore(o,l):(d.nodeType===8?(l=d.parentNode,l.insertBefore(o,d)):(l=d,l.appendChild(o)),d=d._reactRootContainer,d!=null||l.onclick!==null||(l.onclick=Hf));else if(m!==4&&(o=o.child,o!==null))for(mv(o,l,d),o=o.sibling;o!==null;)mv(o,l,d),o=o.sibling}function gv(o,l,d){var m=o.tag;if(m===5||m===6)o=o.stateNode,l?d.insertBefore(o,l):d.appendChild(o);else if(m!==4&&(o=o.child,o!==null))for(gv(o,l,d),o=o.sibling;o!==null;)gv(o,l,d),o=o.sibling}var nn=null,Hr=!1;function Ws(o,l,d){for(d=d.child;d!==null;)Ob(o,l,d),d=d.sibling}function Ob(o,l,d){if(Xn&&typeof Xn.onCommitFiberUnmount=="function")try{Xn.onCommitFiberUnmount(Lo,d)}catch{}switch(d.tag){case 5:hn||Cl(d,l);case 6:var m=nn,y=Hr;nn=null,Ws(o,l,d),nn=m,Hr=y,nn!==null&&(Hr?(o=nn,d=d.stateNode,o.nodeType===8?o.parentNode.removeChild(d):o.removeChild(d)):nn.removeChild(d.stateNode));break;case 18:nn!==null&&(Hr?(o=nn,d=d.stateNode,o.nodeType===8?Ig(o.parentNode,d):o.nodeType===1&&Ig(o,d),$r(o)):Ig(nn,d.stateNode));break;case 4:m=nn,y=Hr,nn=d.stateNode.containerInfo,Hr=!0,Ws(o,l,d),nn=m,Hr=y;break;case 0:case 11:case 14:case 15:if(!hn&&(m=d.updateQueue,m!==null&&(m=m.lastEffect,m!==null))){y=m=m.next;do{var S=y,D=S.destroy;S=S.tag,D!==void 0&&((S&2)!==0||(S&4)!==0)&&hv(d,l,D),y=y.next}while(y!==m)}Ws(o,l,d);break;case 1:if(!hn&&(Cl(d,l),m=d.stateNode,typeof m.componentWillUnmount=="function"))try{m.props=d.memoizedProps,m.state=d.memoizedState,m.componentWillUnmount()}catch(z){xt(d,l,z)}Ws(o,l,d);break;case 21:Ws(o,l,d);break;case 22:d.mode&1?(hn=(m=hn)||d.memoizedState!==null,Ws(o,l,d),hn=m):Ws(o,l,d);break;default:Ws(o,l,d)}}function Mb(o){var l=o.updateQueue;if(l!==null){o.updateQueue=null;var d=o.stateNode;d===null&&(d=o.stateNode=new t5),l.forEach(function(m){var y=d5.bind(null,o,m);d.has(m)||(d.add(m),m.then(y,y))})}}function Wr(o,l){var d=l.deletions;if(d!==null)for(var m=0;m<d.length;m++){var y=d[m];try{var S=o,D=l,z=D;e:for(;z!==null;){switch(z.tag){case 5:nn=z.stateNode,Hr=!1;break e;case 3:nn=z.stateNode.containerInfo,Hr=!0;break e;case 4:nn=z.stateNode.containerInfo,Hr=!0;break e}z=z.return}if(nn===null)throw Error(n(160));Ob(S,D,y),nn=null,Hr=!1;var H=y.alternate;H!==null&&(H.return=null),y.return=null}catch(X){xt(y,l,X)}}if(l.subtreeFlags&12854)for(l=l.child;l!==null;)Db(l,o),l=l.sibling}function Db(o,l){var d=o.alternate,m=o.flags;switch(o.tag){case 0:case 11:case 14:case 15:if(Wr(l,o),mi(o),m&4){try{gu(3,o,o.return),hh(3,o)}catch(be){xt(o,o.return,be)}try{gu(5,o,o.return)}catch(be){xt(o,o.return,be)}}break;case 1:Wr(l,o),mi(o),m&512&&d!==null&&Cl(d,d.return);break;case 5:if(Wr(l,o),mi(o),m&512&&d!==null&&Cl(d,d.return),o.flags&32){var y=o.stateNode;try{ks(y,"")}catch(be){xt(o,o.return,be)}}if(m&4&&(y=o.stateNode,y!=null)){var S=o.memoizedProps,D=d!==null?d.memoizedProps:S,z=o.type,H=o.updateQueue;if(o.updateQueue=null,H!==null)try{z==="input"&&S.type==="radio"&&S.name!=null&&Tt(y,S),Mc(z,D);var X=Mc(z,S);for(D=0;D<H.length;D+=2){var oe=H[D],ce=H[D+1];oe==="style"?Rc(y,ce):oe==="dangerouslySetInnerHTML"?Ic(y,ce):oe==="children"?ks(y,ce):k(y,oe,ce,X)}switch(z){case"input":Po(y,S);break;case"textarea":Ba(y,S);break;case"select":var ie=y._wrapperState.wasMultiple;y._wrapperState.wasMultiple=!!S.multiple;var ge=S.value;ge!=null?Mi(y,!!S.multiple,ge,!1):ie!==!!S.multiple&&(S.defaultValue!=null?Mi(y,!!S.multiple,S.defaultValue,!0):Mi(y,!!S.multiple,S.multiple?[]:"",!1))}y[su]=S}catch(be){xt(o,o.return,be)}}break;case 6:if(Wr(l,o),mi(o),m&4){if(o.stateNode===null)throw Error(n(162));y=o.stateNode,S=o.memoizedProps;try{y.nodeValue=S}catch(be){xt(o,o.return,be)}}break;case 3:if(Wr(l,o),mi(o),m&4&&d!==null&&d.memoizedState.isDehydrated)try{$r(l.containerInfo)}catch(be){xt(o,o.return,be)}break;case 4:Wr(l,o),mi(o);break;case 13:Wr(l,o),mi(o),y=o.child,y.flags&8192&&(S=y.memoizedState!==null,y.stateNode.isHidden=S,!S||y.alternate!==null&&y.alternate.memoizedState!==null||(wv=rt())),m&4&&Mb(o);break;case 22:if(oe=d!==null&&d.memoizedState!==null,o.mode&1?(hn=(X=hn)||oe,Wr(l,o),hn=X):Wr(l,o),mi(o),m&8192){if(X=o.memoizedState!==null,(o.stateNode.isHidden=X)&&!oe&&(o.mode&1)!==0)for(ye=o,oe=o.child;oe!==null;){for(ce=ye=oe;ye!==null;){switch(ie=ye,ge=ie.child,ie.tag){case 0:case 11:case 14:case 15:gu(4,ie,ie.return);break;case 1:Cl(ie,ie.return);var we=ie.stateNode;if(typeof we.componentWillUnmount=="function"){m=ie,d=ie.return;try{l=m,we.props=l.memoizedProps,we.state=l.memoizedState,we.componentWillUnmount()}catch(be){xt(m,d,be)}}break;case 5:Cl(ie,ie.return);break;case 22:if(ie.memoizedState!==null){Fb(ce);continue}}ge!==null?(ge.return=ie,ye=ge):Fb(ce)}oe=oe.sibling}e:for(oe=null,ce=o;;){if(ce.tag===5){if(oe===null){oe=ce;try{y=ce.stateNode,X?(S=y.style,typeof S.setProperty=="function"?S.setProperty("display","none","important"):S.display="none"):(z=ce.stateNode,H=ce.memoizedProps.style,D=H!=null&&H.hasOwnProperty("display")?H.display:null,z.style.display=Ac("display",D))}catch(be){xt(o,o.return,be)}}}else if(ce.tag===6){if(oe===null)try{ce.stateNode.nodeValue=X?"":ce.memoizedProps}catch(be){xt(o,o.return,be)}}else if((ce.tag!==22&&ce.tag!==23||ce.memoizedState===null||ce===o)&&ce.child!==null){ce.child.return=ce,ce=ce.child;continue}if(ce===o)break e;for(;ce.sibling===null;){if(ce.return===null||ce.return===o)break e;oe===ce&&(oe=null),ce=ce.return}oe===ce&&(oe=null),ce.sibling.return=ce.return,ce=ce.sibling}}break;case 19:Wr(l,o),mi(o),m&4&&Mb(o);break;case 21:break;default:Wr(l,o),mi(o)}}function mi(o){var l=o.flags;if(l&2){try{e:{for(var d=o.return;d!==null;){if(Rb(d)){var m=d;break e}d=d.return}throw Error(n(160))}switch(m.tag){case 5:var y=m.stateNode;m.flags&32&&(ks(y,""),m.flags&=-33);var S=Nb(o);gv(o,S,y);break;case 3:case 4:var D=m.stateNode.containerInfo,z=Nb(o);mv(o,z,D);break;default:throw Error(n(161))}}catch(H){xt(o,o.return,H)}o.flags&=-3}l&4096&&(o.flags&=-4097)}function r5(o,l,d){ye=o,Lb(o)}function Lb(o,l,d){for(var m=(o.mode&1)!==0;ye!==null;){var y=ye,S=y.child;if(y.tag===22&&m){var D=y.memoizedState!==null||fh;if(!D){var z=y.alternate,H=z!==null&&z.memoizedState!==null||hn;z=fh;var X=hn;if(fh=D,(hn=H)&&!X)for(ye=y;ye!==null;)D=ye,H=D.child,D.tag===22&&D.memoizedState!==null?$b(y):H!==null?(H.return=D,ye=H):$b(y);for(;S!==null;)ye=S,Lb(S),S=S.sibling;ye=y,fh=z,hn=X}jb(o)}else(y.subtreeFlags&8772)!==0&&S!==null?(S.return=y,ye=S):jb(o)}}function jb(o){for(;ye!==null;){var l=ye;if((l.flags&8772)!==0){var d=l.alternate;try{if((l.flags&8772)!==0)switch(l.tag){case 0:case 11:case 15:hn||hh(5,l);break;case 1:var m=l.stateNode;if(l.flags&4&&!hn)if(d===null)m.componentDidMount();else{var y=l.elementType===l.type?d.memoizedProps:zr(l.type,d.memoizedProps);m.componentDidUpdate(y,d.memoizedState,m.__reactInternalSnapshotBeforeUpdate)}var S=l.updateQueue;S!==null&&F1(l,S,m);break;case 3:var D=l.updateQueue;if(D!==null){if(d=null,l.child!==null)switch(l.child.tag){case 5:d=l.child.stateNode;break;case 1:d=l.child.stateNode}F1(l,D,d)}break;case 5:var z=l.stateNode;if(d===null&&l.flags&4){d=z;var H=l.memoizedProps;switch(l.type){case"button":case"input":case"select":case"textarea":H.autoFocus&&d.focus();break;case"img":H.src&&(d.src=H.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(l.memoizedState===null){var X=l.alternate;if(X!==null){var oe=X.memoizedState;if(oe!==null){var ce=oe.dehydrated;ce!==null&&$r(ce)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}hn||l.flags&512&&pv(l)}catch(ie){xt(l,l.return,ie)}}if(l===o){ye=null;break}if(d=l.sibling,d!==null){d.return=l.return,ye=d;break}ye=l.return}}function Fb(o){for(;ye!==null;){var l=ye;if(l===o){ye=null;break}var d=l.sibling;if(d!==null){d.return=l.return,ye=d;break}ye=l.return}}function $b(o){for(;ye!==null;){var l=ye;try{switch(l.tag){case 0:case 11:case 15:var d=l.return;try{hh(4,l)}catch(H){xt(l,d,H)}break;case 1:var m=l.stateNode;if(typeof m.componentDidMount=="function"){var y=l.return;try{m.componentDidMount()}catch(H){xt(l,y,H)}}var S=l.return;try{pv(l)}catch(H){xt(l,S,H)}break;case 5:var D=l.return;try{pv(l)}catch(H){xt(l,D,H)}}}catch(H){xt(l,l.return,H)}if(l===o){ye=null;break}var z=l.sibling;if(z!==null){z.return=l.return,ye=z;break}ye=l.return}}var i5=Math.ceil,ph=j.ReactCurrentDispatcher,vv=j.ReactCurrentOwner,yr=j.ReactCurrentBatchConfig,ze=0,Wt=null,Nt=null,rn=0,tr=0,Tl=Us(0),$t=0,vu=null,Yo=0,mh=0,yv=0,yu=null,Fn=null,wv=0,kl=1/0,Xi=null,gh=!1,_v=null,qs=null,vh=!1,Gs=null,yh=0,wu=0,xv=null,wh=-1,_h=0;function Sn(){return(ze&6)!==0?rt():wh!==-1?wh:wh=rt()}function Ks(o){return(o.mode&1)===0?1:(ze&2)!==0&&rn!==0?rn&-rn:VO.transition!==null?(_h===0&&(_h=Fo()),_h):(o=Fe,o!==0||(o=window.event,o=o===void 0?16:Gc(o.type)),o)}function qr(o,l,d,m){if(50<wu)throw wu=0,xv=null,Error(n(185));Rs(o,d,m),((ze&2)===0||o!==Wt)&&(o===Wt&&((ze&2)===0&&(mh|=d),$t===4&&Ys(o,rn)),$n(o,m),d===1&&ze===0&&(l.mode&1)===0&&(kl=rt()+500,Kf&&Bs()))}function $n(o,l){var d=o.callbackNode;Fi(o,l);var m=jo(o,o===Wt?rn:0);if(m===0)d!==null&&Bc(d),o.callbackNode=null,o.callbackPriority=0;else if(l=m&-m,o.callbackPriority!==l){if(d!=null&&Bc(d),l===1)o.tag===0?UO(Vb.bind(null,o)):T1(Vb.bind(null,o)),LO(function(){(ze&6)===0&&Bs()}),d=null;else{switch(Os(m)){case 1:d=Do;break;case 4:d=Ps;break;case 16:d=fr;break;case 536870912:d=_f;break;default:d=fr}d=Yb(d,Ub.bind(null,o))}o.callbackPriority=l,o.callbackNode=d}}function Ub(o,l){if(wh=-1,_h=0,(ze&6)!==0)throw Error(n(327));var d=o.callbackNode;if(Pl()&&o.callbackNode!==d)return null;var m=jo(o,o===Wt?rn:0);if(m===0)return null;if((m&30)!==0||(m&o.expiredLanes)!==0||l)l=xh(o,m);else{l=m;var y=ze;ze|=2;var S=zb();(Wt!==o||rn!==l)&&(Xi=null,kl=rt()+500,Jo(o,l));do try{a5();break}catch(z){Bb(o,z)}while(!0);$g(),ph.current=S,ze=y,Nt!==null?l=0:(Wt=null,rn=0,l=$t)}if(l!==0){if(l===2&&(y=Jn(o),y!==0&&(m=y,l=bv(o,y))),l===1)throw d=vu,Jo(o,0),Ys(o,m),$n(o,rt()),d;if(l===6)Ys(o,m);else{if(y=o.current.alternate,(m&30)===0&&!s5(y)&&(l=xh(o,m),l===2&&(S=Jn(o),S!==0&&(m=S,l=bv(o,S))),l===1))throw d=vu,Jo(o,0),Ys(o,m),$n(o,rt()),d;switch(o.finishedWork=y,o.finishedLanes=m,l){case 0:case 1:throw Error(n(345));case 2:Qo(o,Fn,Xi);break;case 3:if(Ys(o,m),(m&130023424)===m&&(l=wv+500-rt(),10<l)){if(jo(o,0)!==0)break;if(y=o.suspendedLanes,(y&m)!==m){Sn(),o.pingedLanes|=o.suspendedLanes&y;break}o.timeoutHandle=Pg(Qo.bind(null,o,Fn,Xi),l);break}Qo(o,Fn,Xi);break;case 4:if(Ys(o,m),(m&4194240)===m)break;for(l=o.eventTimes,y=-1;0<m;){var D=31-bn(m);S=1<<D,D=l[D],D>y&&(y=D),m&=~S}if(m=y,m=rt()-m,m=(120>m?120:480>m?480:1080>m?1080:1920>m?1920:3e3>m?3e3:4320>m?4320:1960*i5(m/1960))-m,10<m){o.timeoutHandle=Pg(Qo.bind(null,o,Fn,Xi),m);break}Qo(o,Fn,Xi);break;case 5:Qo(o,Fn,Xi);break;default:throw Error(n(329))}}}return $n(o,rt()),o.callbackNode===d?Ub.bind(null,o):null}function bv(o,l){var d=yu;return o.current.memoizedState.isDehydrated&&(Jo(o,l).flags|=256),o=xh(o,l),o!==2&&(l=Fn,Fn=d,l!==null&&Ev(l)),o}function Ev(o){Fn===null?Fn=o:Fn.push.apply(Fn,o)}function s5(o){for(var l=o;;){if(l.flags&16384){var d=l.updateQueue;if(d!==null&&(d=d.stores,d!==null))for(var m=0;m<d.length;m++){var y=d[m],S=y.getSnapshot;y=y.value;try{if(!Vr(S(),y))return!1}catch{return!1}}}if(d=l.child,l.subtreeFlags&16384&&d!==null)d.return=l,l=d;else{if(l===o)break;for(;l.sibling===null;){if(l.return===null||l.return===o)return!0;l=l.return}l.sibling.return=l.return,l=l.sibling}}return!0}function Ys(o,l){for(l&=~yv,l&=~mh,o.suspendedLanes|=l,o.pingedLanes&=~l,o=o.expirationTimes;0<l;){var d=31-bn(l),m=1<<d;o[d]=-1,l&=~m}}function Vb(o){if((ze&6)!==0)throw Error(n(327));Pl();var l=jo(o,0);if((l&1)===0)return $n(o,rt()),null;var d=xh(o,l);if(o.tag!==0&&d===2){var m=Jn(o);m!==0&&(l=m,d=bv(o,m))}if(d===1)throw d=vu,Jo(o,0),Ys(o,l),$n(o,rt()),d;if(d===6)throw Error(n(345));return o.finishedWork=o.current.alternate,o.finishedLanes=l,Qo(o,Fn,Xi),$n(o,rt()),null}function Sv(o,l){var d=ze;ze|=1;try{return o(l)}finally{ze=d,ze===0&&(kl=rt()+500,Kf&&Bs())}}function Xo(o){Gs!==null&&Gs.tag===0&&(ze&6)===0&&Pl();var l=ze;ze|=1;var d=yr.transition,m=Fe;try{if(yr.transition=null,Fe=1,o)return o()}finally{Fe=m,yr.transition=d,ze=l,(ze&6)===0&&Bs()}}function Cv(){tr=Tl.current,lt(Tl)}function Jo(o,l){o.finishedWork=null,o.finishedLanes=0;var d=o.timeoutHandle;if(d!==-1&&(o.timeoutHandle=-1,DO(d)),Nt!==null)for(d=Nt.return;d!==null;){var m=d;switch(Mg(m),m.tag){case 1:m=m.type.childContextTypes,m!=null&&qf();break;case 3:El(),lt(Dn),lt(un),Gg();break;case 5:Wg(m);break;case 4:El();break;case 13:lt(pt);break;case 19:lt(pt);break;case 10:Ug(m.type._context);break;case 22:case 23:Cv()}d=d.return}if(Wt=o,Nt=o=Xs(o.current,null),rn=tr=l,$t=0,vu=null,yv=mh=Yo=0,Fn=yu=null,qo!==null){for(l=0;l<qo.length;l++)if(d=qo[l],m=d.interleaved,m!==null){d.interleaved=null;var y=m.next,S=d.pending;if(S!==null){var D=S.next;S.next=y,m.next=D}d.pending=m}qo=null}return o}function Bb(o,l){do{var d=Nt;try{if($g(),ih.current=lh,sh){for(var m=mt.memoizedState;m!==null;){var y=m.queue;y!==null&&(y.pending=null),m=m.next}sh=!1}if(Ko=0,Ht=Ft=mt=null,du=!1,fu=0,vv.current=null,d===null||d.return===null){$t=1,vu=l,Nt=null;break}e:{var S=o,D=d.return,z=d,H=l;if(l=rn,z.flags|=32768,H!==null&&typeof H=="object"&&typeof H.then=="function"){var X=H,oe=z,ce=oe.tag;if((oe.mode&1)===0&&(ce===0||ce===11||ce===15)){var ie=oe.alternate;ie?(oe.updateQueue=ie.updateQueue,oe.memoizedState=ie.memoizedState,oe.lanes=ie.lanes):(oe.updateQueue=null,oe.memoizedState=null)}var ge=hb(D);if(ge!==null){ge.flags&=-257,pb(ge,D,z,S,l),ge.mode&1&&fb(S,X,l),l=ge,H=X;var we=l.updateQueue;if(we===null){var be=new Set;be.add(H),l.updateQueue=be}else we.add(H);break e}else{if((l&1)===0){fb(S,X,l),Tv();break e}H=Error(n(426))}}else if(ut&&z.mode&1){var Pt=hb(D);if(Pt!==null){(Pt.flags&65536)===0&&(Pt.flags|=256),pb(Pt,D,z,S,l),jg(Sl(H,z));break e}}S=H=Sl(H,z),$t!==4&&($t=2),yu===null?yu=[S]:yu.push(S),S=D;do{switch(S.tag){case 3:S.flags|=65536,l&=-l,S.lanes|=l;var K=ub(S,H,l);j1(S,K);break e;case 1:z=H;var W=S.type,Y=S.stateNode;if((S.flags&128)===0&&(typeof W.getDerivedStateFromError=="function"||Y!==null&&typeof Y.componentDidCatch=="function"&&(qs===null||!qs.has(Y)))){S.flags|=65536,l&=-l,S.lanes|=l;var ue=db(S,z,l);j1(S,ue);break e}}S=S.return}while(S!==null)}Wb(d)}catch(Se){l=Se,Nt===d&&d!==null&&(Nt=d=d.return);continue}break}while(!0)}function zb(){var o=ph.current;return ph.current=lh,o===null?lh:o}function Tv(){($t===0||$t===3||$t===2)&&($t=4),Wt===null||(Yo&268435455)===0&&(mh&268435455)===0||Ys(Wt,rn)}function xh(o,l){var d=ze;ze|=2;var m=zb();(Wt!==o||rn!==l)&&(Xi=null,Jo(o,l));do try{o5();break}catch(y){Bb(o,y)}while(!0);if($g(),ze=d,ph.current=m,Nt!==null)throw Error(n(261));return Wt=null,rn=0,$t}function o5(){for(;Nt!==null;)Hb(Nt)}function a5(){for(;Nt!==null&&!yf();)Hb(Nt)}function Hb(o){var l=Kb(o.alternate,o,tr);o.memoizedProps=o.pendingProps,l===null?Wb(o):Nt=l,vv.current=null}function Wb(o){var l=o;do{var d=l.alternate;if(o=l.return,(l.flags&32768)===0){if(d=ZO(d,l,tr),d!==null){Nt=d;return}}else{if(d=e5(d,l),d!==null){d.flags&=32767,Nt=d;return}if(o!==null)o.flags|=32768,o.subtreeFlags=0,o.deletions=null;else{$t=6,Nt=null;return}}if(l=l.sibling,l!==null){Nt=l;return}Nt=l=o}while(l!==null);$t===0&&($t=5)}function Qo(o,l,d){var m=Fe,y=yr.transition;try{yr.transition=null,Fe=1,l5(o,l,d,m)}finally{yr.transition=y,Fe=m}return null}function l5(o,l,d,m){do Pl();while(Gs!==null);if((ze&6)!==0)throw Error(n(327));d=o.finishedWork;var y=o.finishedLanes;if(d===null)return null;if(o.finishedWork=null,o.finishedLanes=0,d===o.current)throw Error(n(177));o.callbackNode=null,o.callbackPriority=0;var S=d.lanes|d.childLanes;if(Ze(o,S),o===Wt&&(Nt=Wt=null,rn=0),(d.subtreeFlags&2064)===0&&(d.flags&2064)===0||vh||(vh=!0,Yb(fr,function(){return Pl(),null})),S=(d.flags&15990)!==0,(d.subtreeFlags&15990)!==0||S){S=yr.transition,yr.transition=null;var D=Fe;Fe=1;var z=ze;ze|=4,vv.current=null,n5(o,d),Db(d,o),PO(Tg),Ds=!!Cg,Tg=Cg=null,o.current=d,r5(d),cg(),ze=z,Fe=D,yr.transition=S}else o.current=d;if(vh&&(vh=!1,Gs=o,yh=y),S=o.pendingLanes,S===0&&(qs=null),xf(d.stateNode),$n(o,rt()),l!==null)for(m=o.onRecoverableError,d=0;d<l.length;d++)y=l[d],m(y.value,{componentStack:y.stack,digest:y.digest});if(gh)throw gh=!1,o=_v,_v=null,o;return(yh&1)!==0&&o.tag!==0&&Pl(),S=o.pendingLanes,(S&1)!==0?o===xv?wu++:(wu=0,xv=o):wu=0,Bs(),null}function Pl(){if(Gs!==null){var o=Os(yh),l=yr.transition,d=Fe;try{if(yr.transition=null,Fe=16>o?16:o,Gs===null)var m=!1;else{if(o=Gs,Gs=null,yh=0,(ze&6)!==0)throw Error(n(331));var y=ze;for(ze|=4,ye=o.current;ye!==null;){var S=ye,D=S.child;if((ye.flags&16)!==0){var z=S.deletions;if(z!==null){for(var H=0;H<z.length;H++){var X=z[H];for(ye=X;ye!==null;){var oe=ye;switch(oe.tag){case 0:case 11:case 15:gu(8,oe,S)}var ce=oe.child;if(ce!==null)ce.return=oe,ye=ce;else for(;ye!==null;){oe=ye;var ie=oe.sibling,ge=oe.return;if(Ab(oe),oe===X){ye=null;break}if(ie!==null){ie.return=ge,ye=ie;break}ye=ge}}}var we=S.alternate;if(we!==null){var be=we.child;if(be!==null){we.child=null;do{var Pt=be.sibling;be.sibling=null,be=Pt}while(be!==null)}}ye=S}}if((S.subtreeFlags&2064)!==0&&D!==null)D.return=S,ye=D;else e:for(;ye!==null;){if(S=ye,(S.flags&2048)!==0)switch(S.tag){case 0:case 11:case 15:gu(9,S,S.return)}var K=S.sibling;if(K!==null){K.return=S.return,ye=K;break e}ye=S.return}}var W=o.current;for(ye=W;ye!==null;){D=ye;var Y=D.child;if((D.subtreeFlags&2064)!==0&&Y!==null)Y.return=D,ye=Y;else e:for(D=W;ye!==null;){if(z=ye,(z.flags&2048)!==0)try{switch(z.tag){case 0:case 11:case 15:hh(9,z)}}catch(Se){xt(z,z.return,Se)}if(z===D){ye=null;break e}var ue=z.sibling;if(ue!==null){ue.return=z.return,ye=ue;break e}ye=z.return}}if(ze=y,Bs(),Xn&&typeof Xn.onPostCommitFiberRoot=="function")try{Xn.onPostCommitFiberRoot(Lo,o)}catch{}m=!0}return m}finally{Fe=d,yr.transition=l}}return!1}function qb(o,l,d){l=Sl(d,l),l=ub(o,l,1),o=Hs(o,l,1),l=Sn(),o!==null&&(Rs(o,1,l),$n(o,l))}function xt(o,l,d){if(o.tag===3)qb(o,o,d);else for(;l!==null;){if(l.tag===3){qb(l,o,d);break}else if(l.tag===1){var m=l.stateNode;if(typeof l.type.getDerivedStateFromError=="function"||typeof m.componentDidCatch=="function"&&(qs===null||!qs.has(m))){o=Sl(d,o),o=db(l,o,1),l=Hs(l,o,1),o=Sn(),l!==null&&(Rs(l,1,o),$n(l,o));break}}l=l.return}}function c5(o,l,d){var m=o.pingCache;m!==null&&m.delete(l),l=Sn(),o.pingedLanes|=o.suspendedLanes&d,Wt===o&&(rn&d)===d&&($t===4||$t===3&&(rn&130023424)===rn&&500>rt()-wv?Jo(o,0):yv|=d),$n(o,l)}function Gb(o,l){l===0&&((o.mode&1)===0?l=1:(l=Ja,Ja<<=1,(Ja&130023424)===0&&(Ja=4194304)));var d=Sn();o=Gi(o,l),o!==null&&(Rs(o,l,d),$n(o,d))}function u5(o){var l=o.memoizedState,d=0;l!==null&&(d=l.retryLane),Gb(o,d)}function d5(o,l){var d=0;switch(o.tag){case 13:var m=o.stateNode,y=o.memoizedState;y!==null&&(d=y.retryLane);break;case 19:m=o.stateNode;break;default:throw Error(n(314))}m!==null&&m.delete(l),Gb(o,d)}var Kb;Kb=function(o,l,d){if(o!==null)if(o.memoizedProps!==l.pendingProps||Dn.current)jn=!0;else{if((o.lanes&d)===0&&(l.flags&128)===0)return jn=!1,QO(o,l,d);jn=(o.flags&131072)!==0}else jn=!1,ut&&(l.flags&1048576)!==0&&k1(l,Xf,l.index);switch(l.lanes=0,l.tag){case 2:var m=l.type;dh(o,l),o=l.pendingProps;var y=gl(l,un.current);bl(l,d),y=Xg(null,l,m,o,y,d);var S=Jg();return l.flags|=1,typeof y=="object"&&y!==null&&typeof y.render=="function"&&y.$$typeof===void 0?(l.tag=1,l.memoizedState=null,l.updateQueue=null,Ln(m)?(S=!0,Gf(l)):S=!1,l.memoizedState=y.state!==null&&y.state!==void 0?y.state:null,zg(l),y.updater=ch,l.stateNode=y,y._reactInternals=l,rv(l,m,o,d),l=av(null,l,m,!0,S,d)):(l.tag=0,ut&&S&&Og(l),En(null,l,y,d),l=l.child),l;case 16:m=l.elementType;e:{switch(dh(o,l),o=l.pendingProps,y=m._init,m=y(m._payload),l.type=m,y=l.tag=h5(m),o=zr(m,o),y){case 0:l=ov(null,l,m,o,d);break e;case 1:l=_b(null,l,m,o,d);break e;case 11:l=mb(null,l,m,o,d);break e;case 14:l=gb(null,l,m,zr(m.type,o),d);break e}throw Error(n(306,m,""))}return l;case 0:return m=l.type,y=l.pendingProps,y=l.elementType===m?y:zr(m,y),ov(o,l,m,y,d);case 1:return m=l.type,y=l.pendingProps,y=l.elementType===m?y:zr(m,y),_b(o,l,m,y,d);case 3:e:{if(xb(l),o===null)throw Error(n(387));m=l.pendingProps,S=l.memoizedState,y=S.element,L1(o,l),nh(l,m,null,d);var D=l.memoizedState;if(m=D.element,S.isDehydrated)if(S={element:m,isDehydrated:!1,cache:D.cache,pendingSuspenseBoundaries:D.pendingSuspenseBoundaries,transitions:D.transitions},l.updateQueue.baseState=S,l.memoizedState=S,l.flags&256){y=Sl(Error(n(423)),l),l=bb(o,l,m,d,y);break e}else if(m!==y){y=Sl(Error(n(424)),l),l=bb(o,l,m,d,y);break e}else for(er=$s(l.stateNode.containerInfo.firstChild),Zn=l,ut=!0,Br=null,d=M1(l,null,m,d),l.child=d;d;)d.flags=d.flags&-3|4096,d=d.sibling;else{if(wl(),m===y){l=Yi(o,l,d);break e}En(o,l,m,d)}l=l.child}return l;case 5:return $1(l),o===null&&Lg(l),m=l.type,y=l.pendingProps,S=o!==null?o.memoizedProps:null,D=y.children,kg(m,y)?D=null:S!==null&&kg(m,S)&&(l.flags|=32),wb(o,l),En(o,l,D,d),l.child;case 6:return o===null&&Lg(l),null;case 13:return Eb(o,l,d);case 4:return Hg(l,l.stateNode.containerInfo),m=l.pendingProps,o===null?l.child=_l(l,null,m,d):En(o,l,m,d),l.child;case 11:return m=l.type,y=l.pendingProps,y=l.elementType===m?y:zr(m,y),mb(o,l,m,y,d);case 7:return En(o,l,l.pendingProps,d),l.child;case 8:return En(o,l,l.pendingProps.children,d),l.child;case 12:return En(o,l,l.pendingProps.children,d),l.child;case 10:e:{if(m=l.type._context,y=l.pendingProps,S=l.memoizedProps,D=y.value,it(Zf,m._currentValue),m._currentValue=D,S!==null)if(Vr(S.value,D)){if(S.children===y.children&&!Dn.current){l=Yi(o,l,d);break e}}else for(S=l.child,S!==null&&(S.return=l);S!==null;){var z=S.dependencies;if(z!==null){D=S.child;for(var H=z.firstContext;H!==null;){if(H.context===m){if(S.tag===1){H=Ki(-1,d&-d),H.tag=2;var X=S.updateQueue;if(X!==null){X=X.shared;var oe=X.pending;oe===null?H.next=H:(H.next=oe.next,oe.next=H),X.pending=H}}S.lanes|=d,H=S.alternate,H!==null&&(H.lanes|=d),Vg(S.return,d,l),z.lanes|=d;break}H=H.next}}else if(S.tag===10)D=S.type===l.type?null:S.child;else if(S.tag===18){if(D=S.return,D===null)throw Error(n(341));D.lanes|=d,z=D.alternate,z!==null&&(z.lanes|=d),Vg(D,d,l),D=S.sibling}else D=S.child;if(D!==null)D.return=S;else for(D=S;D!==null;){if(D===l){D=null;break}if(S=D.sibling,S!==null){S.return=D.return,D=S;break}D=D.return}S=D}En(o,l,y.children,d),l=l.child}return l;case 9:return y=l.type,m=l.pendingProps.children,bl(l,d),y=gr(y),m=m(y),l.flags|=1,En(o,l,m,d),l.child;case 14:return m=l.type,y=zr(m,l.pendingProps),y=zr(m.type,y),gb(o,l,m,y,d);case 15:return vb(o,l,l.type,l.pendingProps,d);case 17:return m=l.type,y=l.pendingProps,y=l.elementType===m?y:zr(m,y),dh(o,l),l.tag=1,Ln(m)?(o=!0,Gf(l)):o=!1,bl(l,d),lb(l,m,y),rv(l,m,y,d),av(null,l,m,!0,o,d);case 19:return Cb(o,l,d);case 22:return yb(o,l,d)}throw Error(n(156,l.tag))};function Yb(o,l){return Ya(o,l)}function f5(o,l,d,m){this.tag=o,this.key=d,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=l,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=m,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function wr(o,l,d,m){return new f5(o,l,d,m)}function kv(o){return o=o.prototype,!(!o||!o.isReactComponent)}function h5(o){if(typeof o=="function")return kv(o)?1:0;if(o!=null){if(o=o.$$typeof,o===V)return 11;if(o===ae)return 14}return 2}function Xs(o,l){var d=o.alternate;return d===null?(d=wr(o.tag,l,o.key,o.mode),d.elementType=o.elementType,d.type=o.type,d.stateNode=o.stateNode,d.alternate=o,o.alternate=d):(d.pendingProps=l,d.type=o.type,d.flags=0,d.subtreeFlags=0,d.deletions=null),d.flags=o.flags&14680064,d.childLanes=o.childLanes,d.lanes=o.lanes,d.child=o.child,d.memoizedProps=o.memoizedProps,d.memoizedState=o.memoizedState,d.updateQueue=o.updateQueue,l=o.dependencies,d.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext},d.sibling=o.sibling,d.index=o.index,d.ref=o.ref,d}function bh(o,l,d,m,y,S){var D=2;if(m=o,typeof o=="function")kv(o)&&(D=1);else if(typeof o=="string")D=5;else e:switch(o){case L:return Zo(d.children,y,S,l);case N:D=8,y|=8;break;case O:return o=wr(12,d,l,y|2),o.elementType=O,o.lanes=S,o;case F:return o=wr(13,d,l,y),o.elementType=F,o.lanes=S,o;case Q:return o=wr(19,d,l,y),o.elementType=Q,o.lanes=S,o;case pe:return Eh(d,y,S,l);default:if(typeof o=="object"&&o!==null)switch(o.$$typeof){case b:D=10;break e;case M:D=9;break e;case V:D=11;break e;case ae:D=14;break e;case re:D=16,m=null;break e}throw Error(n(130,o==null?o:typeof o,""))}return l=wr(D,d,l,y),l.elementType=o,l.type=m,l.lanes=S,l}function Zo(o,l,d,m){return o=wr(7,o,m,l),o.lanes=d,o}function Eh(o,l,d,m){return o=wr(22,o,m,l),o.elementType=pe,o.lanes=d,o.stateNode={isHidden:!1},o}function Pv(o,l,d){return o=wr(6,o,null,l),o.lanes=d,o}function Iv(o,l,d){return l=wr(4,o.children!==null?o.children:[],o.key,l),l.lanes=d,l.stateNode={containerInfo:o.containerInfo,pendingChildren:null,implementation:o.implementation},l}function p5(o,l,d,m,y){this.tag=l,this.containerInfo=o,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=As(0),this.expirationTimes=As(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=As(0),this.identifierPrefix=m,this.onRecoverableError=y,this.mutableSourceEagerHydrationData=null}function Av(o,l,d,m,y,S,D,z,H){return o=new p5(o,l,d,z,H),l===1?(l=1,S===!0&&(l|=8)):l=0,S=wr(3,null,null,l),o.current=S,S.stateNode=o,S.memoizedState={element:m,isDehydrated:d,cache:null,transitions:null,pendingSuspenseBoundaries:null},zg(S),o}function m5(o,l,d){var m=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:B,key:m==null?null:""+m,children:o,containerInfo:l,implementation:d}}function Xb(o){if(!o)return Vs;o=o._reactInternals;e:{if(Mr(o)!==o||o.tag!==1)throw Error(n(170));var l=o;do{switch(l.tag){case 3:l=l.stateNode.context;break e;case 1:if(Ln(l.type)){l=l.stateNode.__reactInternalMemoizedMergedChildContext;break e}}l=l.return}while(l!==null);throw Error(n(171))}if(o.tag===1){var d=o.type;if(Ln(d))return S1(o,d,l)}return l}function Jb(o,l,d,m,y,S,D,z,H){return o=Av(d,m,!0,o,y,S,D,z,H),o.context=Xb(null),d=o.current,m=Sn(),y=Ks(d),S=Ki(m,y),S.callback=l??null,Hs(d,S,y),o.current.lanes=y,Rs(o,y,m),$n(o,m),o}function Sh(o,l,d,m){var y=l.current,S=Sn(),D=Ks(y);return d=Xb(d),l.context===null?l.context=d:l.pendingContext=d,l=Ki(S,D),l.payload={element:o},m=m===void 0?null:m,m!==null&&(l.callback=m),o=Hs(y,l,D),o!==null&&(qr(o,y,D,S),th(o,y,D)),D}function Ch(o){if(o=o.current,!o.child)return null;switch(o.child.tag){case 5:return o.child.stateNode;default:return o.child.stateNode}}function Qb(o,l){if(o=o.memoizedState,o!==null&&o.dehydrated!==null){var d=o.retryLane;o.retryLane=d!==0&&d<l?d:l}}function Rv(o,l){Qb(o,l),(o=o.alternate)&&Qb(o,l)}function g5(){return null}var Zb=typeof reportError=="function"?reportError:function(o){console.error(o)};function Nv(o){this._internalRoot=o}Th.prototype.render=Nv.prototype.render=function(o){var l=this._internalRoot;if(l===null)throw Error(n(409));Sh(o,l,null,null)},Th.prototype.unmount=Nv.prototype.unmount=function(){var o=this._internalRoot;if(o!==null){this._internalRoot=null;var l=o.containerInfo;Xo(function(){Sh(null,o,null,null)}),l[zi]=null}};function Th(o){this._internalRoot=o}Th.prototype.unstable_scheduleHydration=function(o){if(o){var l=Tf();o={blockedOn:null,target:o,priority:l};for(var d=0;d<li.length&&l!==0&&l<li[d].priority;d++);li.splice(d,0,o),d===0&&If(o)}};function Ov(o){return!(!o||o.nodeType!==1&&o.nodeType!==9&&o.nodeType!==11)}function kh(o){return!(!o||o.nodeType!==1&&o.nodeType!==9&&o.nodeType!==11&&(o.nodeType!==8||o.nodeValue!==" react-mount-point-unstable "))}function eE(){}function v5(o,l,d,m,y){if(y){if(typeof m=="function"){var S=m;m=function(){var X=Ch(D);S.call(X)}}var D=Jb(l,m,o,0,null,!1,!1,"",eE);return o._reactRootContainer=D,o[zi]=D.current,ru(o.nodeType===8?o.parentNode:o),Xo(),D}for(;y=o.lastChild;)o.removeChild(y);if(typeof m=="function"){var z=m;m=function(){var X=Ch(H);z.call(X)}}var H=Av(o,0,!1,null,null,!1,!1,"",eE);return o._reactRootContainer=H,o[zi]=H.current,ru(o.nodeType===8?o.parentNode:o),Xo(function(){Sh(l,H,d,m)}),H}function Ph(o,l,d,m,y){var S=d._reactRootContainer;if(S){var D=S;if(typeof y=="function"){var z=y;y=function(){var H=Ch(D);z.call(H)}}Sh(l,D,o,y)}else D=v5(d,l,o,y,m);return Ch(D)}Sf=function(o){switch(o.tag){case 3:var l=o.stateNode;if(l.current.memoizedState.isDehydrated){var d=Is(l.pendingLanes);d!==0&&(Ns(l,d|1),$n(l,rt()),(ze&6)===0&&(kl=rt()+500,Bs()))}break;case 13:Xo(function(){var m=Gi(o,1);if(m!==null){var y=Sn();qr(m,o,1,y)}}),Rv(o,1)}},Qa=function(o){if(o.tag===13){var l=Gi(o,134217728);if(l!==null){var d=Sn();qr(l,o,134217728,d)}Rv(o,134217728)}},Cf=function(o){if(o.tag===13){var l=Ks(o),d=Gi(o,l);if(d!==null){var m=Sn();qr(d,o,l,m)}Rv(o,l)}},Tf=function(){return Fe},kf=function(o,l){var d=Fe;try{return Fe=o,l()}finally{Fe=d}},Dc=function(o,l,d){switch(l){case"input":if(Po(o,d),l=d.name,d.type==="radio"&&l!=null){for(d=o;d.parentNode;)d=d.parentNode;for(d=d.querySelectorAll("input[name="+JSON.stringify(""+l)+'][type="radio"]'),l=0;l<d.length;l++){var m=d[l];if(m!==o&&m.form===o.form){var y=Wf(m);if(!y)throw Error(n(90));_n(m),Po(m,y)}}}break;case"textarea":Ba(o,d);break;case"select":l=d.value,l!=null&&Mi(o,!!d.multiple,l,!1)}},Wa=Sv,jc=Xo;var y5={usingClientEntryPoint:!1,Events:[ou,pl,Wf,Li,Lc,Sv]},_u={findFiberByHostInstance:Bo,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},w5={bundleType:_u.bundleType,version:_u.version,rendererPackageName:_u.rendererPackageName,rendererConfig:_u.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:j.ReactCurrentDispatcher,findHostInstanceByFiber:function(o){return o=Vc(o),o===null?null:o.stateNode},findFiberByHostInstance:_u.findFiberByHostInstance||g5,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ih=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ih.isDisabled&&Ih.supportsFiber)try{Lo=Ih.inject(w5),Xn=Ih}catch{}}return Un.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=y5,Un.createPortal=function(o,l){var d=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Ov(l))throw Error(n(200));return m5(o,l,null,d)},Un.createRoot=function(o,l){if(!Ov(o))throw Error(n(299));var d=!1,m="",y=Zb;return l!=null&&(l.unstable_strictMode===!0&&(d=!0),l.identifierPrefix!==void 0&&(m=l.identifierPrefix),l.onRecoverableError!==void 0&&(y=l.onRecoverableError)),l=Av(o,1,!1,null,null,d,!1,m,y),o[zi]=l.current,ru(o.nodeType===8?o.parentNode:o),new Nv(l)},Un.findDOMNode=function(o){if(o==null)return null;if(o.nodeType===1)return o;var l=o._reactInternals;if(l===void 0)throw typeof o.render=="function"?Error(n(188)):(o=Object.keys(o).join(","),Error(n(268,o)));return o=Vc(l),o=o===null?null:o.stateNode,o},Un.flushSync=function(o){return Xo(o)},Un.hydrate=function(o,l,d){if(!kh(l))throw Error(n(200));return Ph(null,o,l,!0,d)},Un.hydrateRoot=function(o,l,d){if(!Ov(o))throw Error(n(405));var m=d!=null&&d.hydratedSources||null,y=!1,S="",D=Zb;if(d!=null&&(d.unstable_strictMode===!0&&(y=!0),d.identifierPrefix!==void 0&&(S=d.identifierPrefix),d.onRecoverableError!==void 0&&(D=d.onRecoverableError)),l=Jb(l,null,o,1,d??null,y,!1,S,D),o[zi]=l.current,ru(o),m)for(o=0;o<m.length;o++)d=m[o],y=d._getVersion,y=y(d._source),l.mutableSourceEagerHydrationData==null?l.mutableSourceEagerHydrationData=[d,y]:l.mutableSourceEagerHydrationData.push(d,y);return new Th(l)},Un.render=function(o,l,d){if(!kh(l))throw Error(n(200));return Ph(null,o,l,!1,d)},Un.unmountComponentAtNode=function(o){if(!kh(o))throw Error(n(40));return o._reactRootContainer?(Xo(function(){Ph(null,null,o,!1,function(){o._reactRootContainer=null,o[zi]=null})}),!0):!1},Un.unstable_batchedUpdates=Sv,Un.unstable_renderSubtreeIntoContainer=function(o,l,d,m){if(!kh(d))throw Error(n(200));if(o==null||o._reactInternals===void 0)throw Error(n(38));return Ph(o,l,d,!1,m)},Un.version="18.3.1-next-f1338f8080-20240426",Un}var lE;function P2(){if(lE)return Lv.exports;lE=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Lv.exports=k5(),Lv.exports}var cE;function P5(){if(cE)return Ah;cE=1;var t=P2();return Ah.createRoot=t.createRoot,Ah.hydrateRoot=t.hydrateRoot,Ah}var I5=P5();const A5=um(I5);var bu={},uE;function R5(){if(uE)return bu;uE=1,Object.defineProperty(bu,"__esModule",{value:!0}),bu.parse=a,bu.serialize=f;const t=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,n=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,r=/^[\u0020-\u003A\u003D-\u007E]*$/,i=Object.prototype.toString,s=(()=>{const v=function(){};return v.prototype=Object.create(null),v})();function a(v,x){const _=new s,T=v.length;if(T<2)return _;const I=x?.decode||h;let R=0;do{const P=v.indexOf("=",R);if(P===-1)break;const k=v.indexOf(";",R),j=k===-1?T:k;if(P>j){R=v.lastIndexOf(";",P-1)+1;continue}const $=c(v,R,P),B=u(v,P,$),L=v.slice($,B);if(_[L]===void 0){let N=c(v,P+1,j),O=u(v,j,N);const b=I(v.slice(N,O));_[L]=b}R=j+1}while(R<T);return _}function c(v,x,_){do{const T=v.charCodeAt(x);if(T!==32&&T!==9)return x}while(++x<_);return _}function u(v,x,_){for(;x>_;){const T=v.charCodeAt(--x);if(T!==32&&T!==9)return x+1}return _}function f(v,x,_){const T=_?.encode||encodeURIComponent;if(!t.test(v))throw new TypeError(`argument name is invalid: ${v}`);const I=T(x);if(!e.test(I))throw new TypeError(`argument val is invalid: ${x}`);let R=v+"="+I;if(!_)return R;if(_.maxAge!==void 0){if(!Number.isInteger(_.maxAge))throw new TypeError(`option maxAge is invalid: ${_.maxAge}`);R+="; Max-Age="+_.maxAge}if(_.domain){if(!n.test(_.domain))throw new TypeError(`option domain is invalid: ${_.domain}`);R+="; Domain="+_.domain}if(_.path){if(!r.test(_.path))throw new TypeError(`option path is invalid: ${_.path}`);R+="; Path="+_.path}if(_.expires){if(!g(_.expires)||!Number.isFinite(_.expires.valueOf()))throw new TypeError(`option expires is invalid: ${_.expires}`);R+="; Expires="+_.expires.toUTCString()}if(_.httpOnly&&(R+="; HttpOnly"),_.secure&&(R+="; Secure"),_.partitioned&&(R+="; Partitioned"),_.priority)switch(typeof _.priority=="string"?_.priority.toLowerCase():void 0){case"low":R+="; Priority=Low";break;case"medium":R+="; Priority=Medium";break;case"high":R+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${_.priority}`)}if(_.sameSite)switch(typeof _.sameSite=="string"?_.sameSite.toLowerCase():_.sameSite){case!0:case"strict":R+="; SameSite=Strict";break;case"lax":R+="; SameSite=Lax";break;case"none":R+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${_.sameSite}`)}return R}function h(v){if(v.indexOf("%")===-1)return v;try{return decodeURIComponent(v)}catch{return v}}function g(v){return i.call(v)==="[object Date]"}return bu}R5();var dE="popstate";function N5(t={}){function e(r,i){let{pathname:s,search:a,hash:c}=r.location;return Jy("",{pathname:s,search:a,hash:c},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:fd(i)}return M5(e,n,null,t)}function ft(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function ni(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function O5(){return Math.random().toString(36).substring(2,10)}function fE(t,e){return{usr:t.state,key:t.key,idx:e}}function Jy(t,e,n=null,r){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?dc(e):e,state:n,key:e&&e.key||r||O5()}}function fd({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function dc(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substring(r),t=t.substring(0,r)),t&&(e.pathname=t)}return e}function M5(t,e,n,r={}){let{window:i=document.defaultView,v5Compat:s=!1}=r,a=i.history,c="POP",u=null,f=h();f==null&&(f=0,a.replaceState({...a.state,idx:f},""));function h(){return(a.state||{idx:null}).idx}function g(){c="POP";let I=h(),R=I==null?null:I-f;f=I,u&&u({action:c,location:T.location,delta:R})}function v(I,R){c="PUSH";let P=Jy(T.location,I,R);f=h()+1;let k=fE(P,f),j=T.createHref(P);try{a.pushState(k,"",j)}catch($){if($ instanceof DOMException&&$.name==="DataCloneError")throw $;i.location.assign(j)}s&&u&&u({action:c,location:T.location,delta:1})}function x(I,R){c="REPLACE";let P=Jy(T.location,I,R);f=h();let k=fE(P,f),j=T.createHref(P);a.replaceState(k,"",j),s&&u&&u({action:c,location:T.location,delta:0})}function _(I){return D5(I)}let T={get action(){return c},get location(){return t(i,a)},listen(I){if(u)throw new Error("A history only accepts one active listener");return i.addEventListener(dE,g),u=I,()=>{i.removeEventListener(dE,g),u=null}},createHref(I){return e(i,I)},createURL:_,encodeLocation(I){let R=_(I);return{pathname:R.pathname,search:R.search,hash:R.hash}},push:v,replace:x,go(I){return a.go(I)}};return T}function D5(t,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),ft(n,"No window.location.(origin|href) available to create URL");let r=typeof t=="string"?t:fd(t);return r=r.replace(/ $/,"%20"),!e&&r.startsWith("//")&&(r=n+r),new URL(r,n)}function I2(t,e,n="/"){return L5(t,e,n,!1)}function L5(t,e,n,r){let i=typeof e=="string"?dc(e):e,s=ds(i.pathname||"/",n);if(s==null)return null;let a=A2(t);j5(a);let c=null;for(let u=0;c==null&&u<a.length;++u){let f=K5(s);c=q5(a[u],f,r)}return c}function A2(t,e=[],n=[],r=""){let i=(s,a,c)=>{let u={relativePath:c===void 0?s.path||"":c,caseSensitive:s.caseSensitive===!0,childrenIndex:a,route:s};u.relativePath.startsWith("/")&&(ft(u.relativePath.startsWith(r),`Absolute route path "${u.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),u.relativePath=u.relativePath.slice(r.length));let f=ss([r,u.relativePath]),h=n.concat(u);s.children&&s.children.length>0&&(ft(s.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${f}".`),A2(s.children,e,h,f)),!(s.path==null&&!s.index)&&e.push({path:f,score:H5(f,s.index),routesMeta:h})};return t.forEach((s,a)=>{if(s.path===""||!s.path?.includes("?"))i(s,a);else for(let c of R2(s.path))i(s,a,c)}),e}function R2(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let a=R2(r.join("/")),c=[];return c.push(...a.map(u=>u===""?s:[s,u].join("/"))),i&&c.push(...a),c.map(u=>t.startsWith("/")&&u===""?"/":u)}function j5(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:W5(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var F5=/^:[\w-]+$/,$5=3,U5=2,V5=1,B5=10,z5=-2,hE=t=>t==="*";function H5(t,e){let n=t.split("/"),r=n.length;return n.some(hE)&&(r+=z5),e&&(r+=U5),n.filter(i=>!hE(i)).reduce((i,s)=>i+(F5.test(s)?$5:s===""?V5:B5),r)}function W5(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function q5(t,e,n=!1){let{routesMeta:r}=t,i={},s="/",a=[];for(let c=0;c<r.length;++c){let u=r[c],f=c===r.length-1,h=s==="/"?e:e.slice(s.length)||"/",g=gp({path:u.relativePath,caseSensitive:u.caseSensitive,end:f},h),v=u.route;if(!g&&f&&n&&!r[r.length-1].route.index&&(g=gp({path:u.relativePath,caseSensitive:u.caseSensitive,end:!1},h)),!g)return null;Object.assign(i,g.params),a.push({params:i,pathname:ss([s,g.pathname]),pathnameBase:Q5(ss([s,g.pathnameBase])),route:v}),g.pathnameBase!=="/"&&(s=ss([s,g.pathnameBase]))}return a}function gp(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=G5(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let s=i[0],a=s.replace(/(.)\/+$/,"$1"),c=i.slice(1);return{params:r.reduce((f,{paramName:h,isOptional:g},v)=>{if(h==="*"){let _=c[v]||"";a=s.slice(0,s.length-_.length).replace(/(.)\/+$/,"$1")}const x=c[v];return g&&!x?f[h]=void 0:f[h]=(x||"").replace(/%2F/g,"/"),f},{}),pathname:s,pathnameBase:a,pattern:t}}function G5(t,e=!1,n=!0){ni(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,c,u)=>(r.push({paramName:c,isOptional:u!=null}),u?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function K5(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return ni(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function ds(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function Y5(t,e="/"){let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?dc(t):t;return{pathname:n?n.startsWith("/")?n:X5(n,e):e,search:Z5(r),hash:eM(i)}}function X5(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function $v(t,e,n,r){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function J5(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function vw(t){let e=J5(t);return e.map((n,r)=>r===e.length-1?n.pathname:n.pathnameBase)}function yw(t,e,n,r=!1){let i;typeof t=="string"?i=dc(t):(i={...t},ft(!i.pathname||!i.pathname.includes("?"),$v("?","pathname","search",i)),ft(!i.pathname||!i.pathname.includes("#"),$v("#","pathname","hash",i)),ft(!i.search||!i.search.includes("#"),$v("#","search","hash",i)));let s=t===""||i.pathname==="",a=s?"/":i.pathname,c;if(a==null)c=n;else{let g=e.length-1;if(!r&&a.startsWith("..")){let v=a.split("/");for(;v[0]==="..";)v.shift(),g-=1;i.pathname=v.join("/")}c=g>=0?e[g]:"/"}let u=Y5(i,c),f=a&&a!=="/"&&a.endsWith("/"),h=(s||a===".")&&n.endsWith("/");return!u.pathname.endsWith("/")&&(f||h)&&(u.pathname+="/"),u}var ss=t=>t.join("/").replace(/\/\/+/g,"/"),Q5=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),Z5=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,eM=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function tM(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}var N2=["POST","PUT","PATCH","DELETE"];new Set(N2);var nM=["GET",...N2];new Set(nM);var fc=C.createContext(null);fc.displayName="DataRouter";var fm=C.createContext(null);fm.displayName="DataRouterState";var O2=C.createContext({isTransitioning:!1});O2.displayName="ViewTransition";var rM=C.createContext(new Map);rM.displayName="Fetchers";var iM=C.createContext(null);iM.displayName="Await";var ri=C.createContext(null);ri.displayName="Navigation";var $d=C.createContext(null);$d.displayName="Location";var ii=C.createContext({outlet:null,matches:[],isDataRoute:!1});ii.displayName="Route";var ww=C.createContext(null);ww.displayName="RouteError";function sM(t,{relative:e}={}){ft(hc(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=C.useContext(ri),{hash:i,pathname:s,search:a}=Ud(t,{relative:e}),c=s;return n!=="/"&&(c=s==="/"?n:ss([n,s])),r.createHref({pathname:c,search:a,hash:i})}function hc(){return C.useContext($d)!=null}function Ii(){return ft(hc(),"useLocation() may be used only in the context of a <Router> component."),C.useContext($d).location}var M2="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function D2(t){C.useContext(ri).static||C.useLayoutEffect(t)}function Pr(){let{isDataRoute:t}=C.useContext(ii);return t?yM():oM()}function oM(){ft(hc(),"useNavigate() may be used only in the context of a <Router> component.");let t=C.useContext(fc),{basename:e,navigator:n}=C.useContext(ri),{matches:r}=C.useContext(ii),{pathname:i}=Ii(),s=JSON.stringify(vw(r)),a=C.useRef(!1);return D2(()=>{a.current=!0}),C.useCallback((u,f={})=>{if(ni(a.current,M2),!a.current)return;if(typeof u=="number"){n.go(u);return}let h=yw(u,JSON.parse(s),i,f.relative==="path");t==null&&e!=="/"&&(h.pathname=h.pathname==="/"?e:ss([e,h.pathname])),(f.replace?n.replace:n.push)(h,f.state,f)},[e,n,s,i,t])}C.createContext(null);function _w(){let{matches:t}=C.useContext(ii),e=t[t.length-1];return e?e.params:{}}function Ud(t,{relative:e}={}){let{matches:n}=C.useContext(ii),{pathname:r}=Ii(),i=JSON.stringify(vw(n));return C.useMemo(()=>yw(t,JSON.parse(i),r,e==="path"),[t,i,r,e])}function aM(t,e){return L2(t,e)}function L2(t,e,n,r){ft(hc(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:i,static:s}=C.useContext(ri),{matches:a}=C.useContext(ii),c=a[a.length-1],u=c?c.params:{},f=c?c.pathname:"/",h=c?c.pathnameBase:"/",g=c&&c.route;{let P=g&&g.path||"";j2(f,!g||P.endsWith("*")||P.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${f}" (under <Route path="${P}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${P}"> to <Route path="${P==="/"?"*":`${P}/*`}">.`)}let v=Ii(),x;if(e){let P=typeof e=="string"?dc(e):e;ft(h==="/"||P.pathname?.startsWith(h),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${h}" but pathname "${P.pathname}" was given in the \`location\` prop.`),x=P}else x=v;let _=x.pathname||"/",T=_;if(h!=="/"){let P=h.replace(/^\//,"").split("/");T="/"+_.replace(/^\//,"").split("/").slice(P.length).join("/")}let I=!s&&n&&n.matches&&n.matches.length>0?n.matches:I2(t,{pathname:T});ni(g||I!=null,`No routes matched location "${x.pathname}${x.search}${x.hash}" `),ni(I==null||I[I.length-1].route.element!==void 0||I[I.length-1].route.Component!==void 0||I[I.length-1].route.lazy!==void 0,`Matched leaf route at location "${x.pathname}${x.search}${x.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let R=fM(I&&I.map(P=>Object.assign({},P,{params:Object.assign({},u,P.params),pathname:ss([h,i.encodeLocation?i.encodeLocation(P.pathname).pathname:P.pathname]),pathnameBase:P.pathnameBase==="/"?h:ss([h,i.encodeLocation?i.encodeLocation(P.pathnameBase).pathname:P.pathnameBase])})),a,n,r);return e&&R?C.createElement($d.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...x},navigationType:"POP"}},R):R}function lM(){let t=vM(),e=tM(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,r="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:r},s={padding:"2px 4px",backgroundColor:r},a=null;return console.error("Error handled by React Router default ErrorBoundary:",t),a=C.createElement(C.Fragment,null,C.createElement("p",null,"💿 Hey developer 👋"),C.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",C.createElement("code",{style:s},"ErrorBoundary")," or"," ",C.createElement("code",{style:s},"errorElement")," prop on your route.")),C.createElement(C.Fragment,null,C.createElement("h2",null,"Unexpected Application Error!"),C.createElement("h3",{style:{fontStyle:"italic"}},e),n?C.createElement("pre",{style:i},n):null,a)}var cM=C.createElement(lM,null),uM=class extends C.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){console.error("React Router caught the following error during render",t,e)}render(){return this.state.error!==void 0?C.createElement(ii.Provider,{value:this.props.routeContext},C.createElement(ww.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function dM({routeContext:t,match:e,children:n}){let r=C.useContext(fc);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),C.createElement(ii.Provider,{value:t},n)}function fM(t,e=[],n=null,r=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let i=t,s=n?.errors;if(s!=null){let u=i.findIndex(f=>f.route.id&&s?.[f.route.id]!==void 0);ft(u>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(s).join(",")}`),i=i.slice(0,Math.min(i.length,u+1))}let a=!1,c=-1;if(n)for(let u=0;u<i.length;u++){let f=i[u];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(c=u),f.route.id){let{loaderData:h,errors:g}=n,v=f.route.loader&&!h.hasOwnProperty(f.route.id)&&(!g||g[f.route.id]===void 0);if(f.route.lazy||v){a=!0,c>=0?i=i.slice(0,c+1):i=[i[0]];break}}}return i.reduceRight((u,f,h)=>{let g,v=!1,x=null,_=null;n&&(g=s&&f.route.id?s[f.route.id]:void 0,x=f.route.errorElement||cM,a&&(c<0&&h===0?(j2("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),v=!0,_=null):c===h&&(v=!0,_=f.route.hydrateFallbackElement||null)));let T=e.concat(i.slice(0,h+1)),I=()=>{let R;return g?R=x:v?R=_:f.route.Component?R=C.createElement(f.route.Component,null):f.route.element?R=f.route.element:R=u,C.createElement(dM,{match:f,routeContext:{outlet:u,matches:T,isDataRoute:n!=null},children:R})};return n&&(f.route.ErrorBoundary||f.route.errorElement||h===0)?C.createElement(uM,{location:n.location,revalidation:n.revalidation,component:x,error:g,children:I(),routeContext:{outlet:null,matches:T,isDataRoute:!0}}):I()},null)}function xw(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function hM(t){let e=C.useContext(fc);return ft(e,xw(t)),e}function pM(t){let e=C.useContext(fm);return ft(e,xw(t)),e}function mM(t){let e=C.useContext(ii);return ft(e,xw(t)),e}function bw(t){let e=mM(t),n=e.matches[e.matches.length-1];return ft(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function gM(){return bw("useRouteId")}function vM(){let t=C.useContext(ww),e=pM("useRouteError"),n=bw("useRouteError");return t!==void 0?t:e.errors?.[n]}function yM(){let{router:t}=hM("useNavigate"),e=bw("useNavigate"),n=C.useRef(!1);return D2(()=>{n.current=!0}),C.useCallback(async(i,s={})=>{ni(n.current,M2),n.current&&(typeof i=="number"?t.navigate(i):await t.navigate(i,{fromRouteId:e,...s}))},[t,e])}var pE={};function j2(t,e,n){!e&&!pE[t]&&(pE[t]=!0,ni(!1,n))}C.memo(wM);function wM({routes:t,future:e,state:n}){return L2(t,void 0,n,e)}function Qy({to:t,replace:e,state:n,relative:r}){ft(hc(),"<Navigate> may be used only in the context of a <Router> component.");let{static:i}=C.useContext(ri);ni(!i,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:s}=C.useContext(ii),{pathname:a}=Ii(),c=Pr(),u=yw(t,vw(s),a,r==="path"),f=JSON.stringify(u);return C.useEffect(()=>{c(JSON.parse(f),{replace:e,state:n,relative:r})},[c,f,r,e,n]),null}function sn(t){ft(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function _M({basename:t="/",children:e=null,location:n,navigationType:r="POP",navigator:i,static:s=!1}){ft(!hc(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let a=t.replace(/^\/*/,"/"),c=C.useMemo(()=>({basename:a,navigator:i,static:s,future:{}}),[a,i,s]);typeof n=="string"&&(n=dc(n));let{pathname:u="/",search:f="",hash:h="",state:g=null,key:v="default"}=n,x=C.useMemo(()=>{let _=ds(u,a);return _==null?null:{location:{pathname:_,search:f,hash:h,state:g,key:v},navigationType:r}},[a,u,f,h,g,v,r]);return ni(x!=null,`<Router basename="${a}"> is not able to match the URL "${u}${f}${h}" because it does not start with the basename, so the <Router> won't render anything.`),x==null?null:C.createElement(ri.Provider,{value:c},C.createElement($d.Provider,{children:e,value:x}))}function xM({children:t,location:e}){return aM(Zy(t),e)}function Zy(t,e=[]){let n=[];return C.Children.forEach(t,(r,i)=>{if(!C.isValidElement(r))return;let s=[...e,i];if(r.type===C.Fragment){n.push.apply(n,Zy(r.props.children,s));return}ft(r.type===sn,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),ft(!r.props.index||!r.props.children,"An index route cannot have child routes.");let a={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(a.children=Zy(r.props.children,s)),n.push(a)}),n}var Zh="get",ep="application/x-www-form-urlencoded";function hm(t){return t!=null&&typeof t.tagName=="string"}function bM(t){return hm(t)&&t.tagName.toLowerCase()==="button"}function EM(t){return hm(t)&&t.tagName.toLowerCase()==="form"}function SM(t){return hm(t)&&t.tagName.toLowerCase()==="input"}function CM(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function TM(t,e){return t.button===0&&(!e||e==="_self")&&!CM(t)}var Rh=null;function kM(){if(Rh===null)try{new FormData(document.createElement("form"),0),Rh=!1}catch{Rh=!0}return Rh}var PM=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Uv(t){return t!=null&&!PM.has(t)?(ni(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${ep}"`),null):t}function IM(t,e){let n,r,i,s,a;if(EM(t)){let c=t.getAttribute("action");r=c?ds(c,e):null,n=t.getAttribute("method")||Zh,i=Uv(t.getAttribute("enctype"))||ep,s=new FormData(t)}else if(bM(t)||SM(t)&&(t.type==="submit"||t.type==="image")){let c=t.form;if(c==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let u=t.getAttribute("formaction")||c.getAttribute("action");if(r=u?ds(u,e):null,n=t.getAttribute("formmethod")||c.getAttribute("method")||Zh,i=Uv(t.getAttribute("formenctype"))||Uv(c.getAttribute("enctype"))||ep,s=new FormData(c,t),!kM()){let{name:f,type:h,value:g}=t;if(h==="image"){let v=f?`${f}.`:"";s.append(`${v}x`,"0"),s.append(`${v}y`,"0")}else f&&s.append(f,g)}}else{if(hm(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Zh,r=null,i=ep,a=t}return s&&i==="text/plain"&&(a=s,s=void 0),{action:r,method:n.toLowerCase(),encType:i,formData:s,body:a}}function Ew(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}async function AM(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function RM(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function NM(t,e,n){let r=await Promise.all(t.map(async i=>{let s=e.routes[i.route.id];if(s){let a=await AM(s,n);return a.links?a.links():[]}return[]}));return LM(r.flat(1).filter(RM).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function mE(t,e,n,r,i,s){let a=(u,f)=>n[f]?u.route.id!==n[f].route.id:!0,c=(u,f)=>n[f].pathname!==u.pathname||n[f].route.path?.endsWith("*")&&n[f].params["*"]!==u.params["*"];return s==="assets"?e.filter((u,f)=>a(u,f)||c(u,f)):s==="data"?e.filter((u,f)=>{let h=r.routes[u.route.id];if(!h||!h.hasLoader)return!1;if(a(u,f)||c(u,f))return!0;if(u.route.shouldRevalidate){let g=u.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(t,window.origin),nextParams:u.params,defaultShouldRevalidate:!0});if(typeof g=="boolean")return g}return!0}):[]}function OM(t,e,{includeHydrateFallback:n}={}){return MM(t.map(r=>{let i=e.routes[r.route.id];if(!i)return[];let s=[i.module];return i.clientActionModule&&(s=s.concat(i.clientActionModule)),i.clientLoaderModule&&(s=s.concat(i.clientLoaderModule)),n&&i.hydrateFallbackModule&&(s=s.concat(i.hydrateFallbackModule)),i.imports&&(s=s.concat(i.imports)),s}).flat(1))}function MM(t){return[...new Set(t)]}function DM(t){let e={},n=Object.keys(t).sort();for(let r of n)e[r]=t[r];return e}function LM(t,e){let n=new Set;return new Set(e),t.reduce((r,i)=>{let s=JSON.stringify(DM(i));return n.has(s)||(n.add(s),r.push({key:s,link:i})),r},[])}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var jM=new Set([100,101,204,205]);function FM(t,e){let n=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return n.pathname==="/"?n.pathname="_root.data":e&&ds(n.pathname,e)==="/"?n.pathname=`${e.replace(/\/$/,"")}/_root.data`:n.pathname=`${n.pathname.replace(/\/$/,"")}.data`,n}function F2(){let t=C.useContext(fc);return Ew(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function $M(){let t=C.useContext(fm);return Ew(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var Sw=C.createContext(void 0);Sw.displayName="FrameworkContext";function $2(){let t=C.useContext(Sw);return Ew(t,"You must render this element inside a <HydratedRouter> element"),t}function UM(t,e){let n=C.useContext(Sw),[r,i]=C.useState(!1),[s,a]=C.useState(!1),{onFocus:c,onBlur:u,onMouseEnter:f,onMouseLeave:h,onTouchStart:g}=e,v=C.useRef(null);C.useEffect(()=>{if(t==="render"&&a(!0),t==="viewport"){let T=R=>{R.forEach(P=>{a(P.isIntersecting)})},I=new IntersectionObserver(T,{threshold:.5});return v.current&&I.observe(v.current),()=>{I.disconnect()}}},[t]),C.useEffect(()=>{if(r){let T=setTimeout(()=>{a(!0)},100);return()=>{clearTimeout(T)}}},[r]);let x=()=>{i(!0)},_=()=>{i(!1),a(!1)};return n?t!=="intent"?[s,v,{}]:[s,v,{onFocus:Eu(c,x),onBlur:Eu(u,_),onMouseEnter:Eu(f,x),onMouseLeave:Eu(h,_),onTouchStart:Eu(g,x)}]:[!1,v,{}]}function Eu(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function VM({page:t,...e}){let{router:n}=F2(),r=C.useMemo(()=>I2(n.routes,t,n.basename),[n.routes,t,n.basename]);return r?C.createElement(zM,{page:t,matches:r,...e}):null}function BM(t){let{manifest:e,routeModules:n}=$2(),[r,i]=C.useState([]);return C.useEffect(()=>{let s=!1;return NM(t,e,n).then(a=>{s||i(a)}),()=>{s=!0}},[t,e,n]),r}function zM({page:t,matches:e,...n}){let r=Ii(),{manifest:i,routeModules:s}=$2(),{basename:a}=F2(),{loaderData:c,matches:u}=$M(),f=C.useMemo(()=>mE(t,e,u,i,r,"data"),[t,e,u,i,r]),h=C.useMemo(()=>mE(t,e,u,i,r,"assets"),[t,e,u,i,r]),g=C.useMemo(()=>{if(t===r.pathname+r.search+r.hash)return[];let _=new Set,T=!1;if(e.forEach(R=>{let P=i.routes[R.route.id];!P||!P.hasLoader||(!f.some(k=>k.route.id===R.route.id)&&R.route.id in c&&s[R.route.id]?.shouldRevalidate||P.hasClientLoader?T=!0:_.add(R.route.id))}),_.size===0)return[];let I=FM(t,a);return T&&_.size>0&&I.searchParams.set("_routes",e.filter(R=>_.has(R.route.id)).map(R=>R.route.id).join(",")),[I.pathname+I.search]},[a,c,r,i,f,e,t,s]),v=C.useMemo(()=>OM(h,i),[h,i]),x=BM(h);return C.createElement(C.Fragment,null,g.map(_=>C.createElement("link",{key:_,rel:"prefetch",as:"fetch",href:_,...n})),v.map(_=>C.createElement("link",{key:_,rel:"modulepreload",href:_,...n})),x.map(({key:_,link:T})=>C.createElement("link",{key:_,...T})))}function HM(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var U2=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{U2&&(window.__reactRouterVersion="7.6.0")}catch{}function WM({basename:t,children:e,window:n}){let r=C.useRef();r.current==null&&(r.current=N5({window:n,v5Compat:!0}));let i=r.current,[s,a]=C.useState({action:i.action,location:i.location}),c=C.useCallback(u=>{C.startTransition(()=>a(u))},[a]);return C.useLayoutEffect(()=>i.listen(c),[i,c]),C.createElement(_M,{basename:t,children:e,location:s.location,navigationType:s.action,navigator:i})}var V2=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ma=C.forwardRef(function({onClick:e,discover:n="render",prefetch:r="none",relative:i,reloadDocument:s,replace:a,state:c,target:u,to:f,preventScrollReset:h,viewTransition:g,...v},x){let{basename:_}=C.useContext(ri),T=typeof f=="string"&&V2.test(f),I,R=!1;if(typeof f=="string"&&T&&(I=f,U2))try{let O=new URL(window.location.href),b=f.startsWith("//")?new URL(O.protocol+f):new URL(f),M=ds(b.pathname,_);b.origin===O.origin&&M!=null?f=M+b.search+b.hash:R=!0}catch{ni(!1,`<Link to="${f}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let P=sM(f,{relative:i}),[k,j,$]=UM(r,v),B=YM(f,{replace:a,state:c,target:u,preventScrollReset:h,relative:i,viewTransition:g});function L(O){e&&e(O),O.defaultPrevented||B(O)}let N=C.createElement("a",{...v,...$,href:I||P,onClick:R||s?e:L,ref:HM(x,j),target:u,"data-discover":!T&&n==="render"?"true":void 0});return k&&!T?C.createElement(C.Fragment,null,N,C.createElement(VM,{page:P})):N});ma.displayName="Link";var qM=C.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:r="",end:i=!1,style:s,to:a,viewTransition:c,children:u,...f},h){let g=Ud(a,{relative:f.relative}),v=Ii(),x=C.useContext(fm),{navigator:_,basename:T}=C.useContext(ri),I=x!=null&&eD(g)&&c===!0,R=_.encodeLocation?_.encodeLocation(g).pathname:g.pathname,P=v.pathname,k=x&&x.navigation&&x.navigation.location?x.navigation.location.pathname:null;n||(P=P.toLowerCase(),k=k?k.toLowerCase():null,R=R.toLowerCase()),k&&T&&(k=ds(k,T)||k);const j=R!=="/"&&R.endsWith("/")?R.length-1:R.length;let $=P===R||!i&&P.startsWith(R)&&P.charAt(j)==="/",B=k!=null&&(k===R||!i&&k.startsWith(R)&&k.charAt(R.length)==="/"),L={isActive:$,isPending:B,isTransitioning:I},N=$?e:void 0,O;typeof r=="function"?O=r(L):O=[r,$?"active":null,B?"pending":null,I?"transitioning":null].filter(Boolean).join(" ");let b=typeof s=="function"?s(L):s;return C.createElement(ma,{...f,"aria-current":N,className:O,ref:h,style:b,to:a,viewTransition:c},typeof u=="function"?u(L):u)});qM.displayName="NavLink";var GM=C.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:r,replace:i,state:s,method:a=Zh,action:c,onSubmit:u,relative:f,preventScrollReset:h,viewTransition:g,...v},x)=>{let _=QM(),T=ZM(c,{relative:f}),I=a.toLowerCase()==="get"?"get":"post",R=typeof c=="string"&&V2.test(c),P=k=>{if(u&&u(k),k.defaultPrevented)return;k.preventDefault();let j=k.nativeEvent.submitter,$=j?.getAttribute("formmethod")||a;_(j||k.currentTarget,{fetcherKey:e,method:$,navigate:n,replace:i,state:s,relative:f,preventScrollReset:h,viewTransition:g})};return C.createElement("form",{ref:x,method:I,action:T,onSubmit:r?u:P,...v,"data-discover":!R&&t==="render"?"true":void 0})});GM.displayName="Form";function KM(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function B2(t){let e=C.useContext(fc);return ft(e,KM(t)),e}function YM(t,{target:e,replace:n,state:r,preventScrollReset:i,relative:s,viewTransition:a}={}){let c=Pr(),u=Ii(),f=Ud(t,{relative:s});return C.useCallback(h=>{if(TM(h,e)){h.preventDefault();let g=n!==void 0?n:fd(u)===fd(f);c(t,{replace:g,state:r,preventScrollReset:i,relative:s,viewTransition:a})}},[u,c,f,n,r,e,t,i,s,a])}var XM=0,JM=()=>`__${String(++XM)}__`;function QM(){let{router:t}=B2("useSubmit"),{basename:e}=C.useContext(ri),n=gM();return C.useCallback(async(r,i={})=>{let{action:s,method:a,encType:c,formData:u,body:f}=IM(r,e);if(i.navigate===!1){let h=i.fetcherKey||JM();await t.fetch(h,n,i.action||s,{preventScrollReset:i.preventScrollReset,formData:u,body:f,formMethod:i.method||a,formEncType:i.encType||c,flushSync:i.flushSync})}else await t.navigate(i.action||s,{preventScrollReset:i.preventScrollReset,formData:u,body:f,formMethod:i.method||a,formEncType:i.encType||c,replace:i.replace,state:i.state,fromRouteId:n,flushSync:i.flushSync,viewTransition:i.viewTransition})},[t,e,n])}function ZM(t,{relative:e}={}){let{basename:n}=C.useContext(ri),r=C.useContext(ii);ft(r,"useFormAction must be used inside a RouteContext");let[i]=r.matches.slice(-1),s={...Ud(t||".",{relative:e})},a=Ii();if(t==null){s.search=a.search;let c=new URLSearchParams(s.search),u=c.getAll("index");if(u.some(h=>h==="")){c.delete("index"),u.filter(g=>g).forEach(g=>c.append("index",g));let h=c.toString();s.search=h?`?${h}`:""}}return(!t||t===".")&&i.route.index&&(s.search=s.search?s.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(s.pathname=s.pathname==="/"?n:ss([n,s.pathname])),fd(s)}function eD(t,e={}){let n=C.useContext(O2);ft(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=B2("useViewTransitionState"),i=Ud(t,{relative:e.relative});if(!n.isTransitioning)return!1;let s=ds(n.currentLocation.pathname,r)||n.currentLocation.pathname,a=ds(n.nextLocation.pathname,r)||n.nextLocation.pathname;return gp(i.pathname,a)!=null||gp(i.pathname,s)!=null}[...jM];var Cw=P2();const Nh=um(Cw),tD=()=>{};var gE={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z2={NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const de=function(t,e){if(!t)throw pc(e)},pc=function(t){return new Error("Firebase Database ("+z2.SDK_VERSION+") INTERNAL ASSERT FAILED: "+t)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H2=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},nD=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],a=t[n++],c=t[n++],u=((i&7)<<18|(s&63)<<12|(a&63)<<6|c&63)-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(u&1023))}else{const s=t[n++],a=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|a&63)}}return e.join("")},Tw={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],a=i+1<t.length,c=a?t[i+1]:0,u=i+2<t.length,f=u?t[i+2]:0,h=s>>2,g=(s&3)<<4|c>>4;let v=(c&15)<<2|f>>6,x=f&63;u||(x=64,a||(v=64)),r.push(n[h],n[g],n[v],n[x])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(H2(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):nD(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],c=i<t.length?n[t.charAt(i)]:0;++i;const f=i<t.length?n[t.charAt(i)]:64;++i;const g=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||c==null||f==null||g==null)throw new rD;const v=s<<2|c>>4;if(r.push(v),f!==64){const x=c<<4&240|f>>2;if(r.push(x),g!==64){const _=f<<6&192|g;r.push(_)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class rD extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const W2=function(t){const e=H2(t);return Tw.encodeByteArray(e,!0)},vp=function(t){return W2(t).replace(/\./g,"")},yp=function(t){try{return Tw.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iD(t){return q2(void 0,t)}function q2(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const n=e;return new Date(n.getTime());case Object:t===void 0&&(t={});break;case Array:t=[];break;default:return e}for(const n in e)!e.hasOwnProperty(n)||!sD(n)||(t[n]=q2(t[n],e[n]));return t}function sD(t){return t!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oD(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aD=()=>oD().__FIREBASE_DEFAULTS__,lD=()=>{if(typeof process>"u"||typeof gE>"u")return;const t=gE.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},cD=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&yp(t[1]);return e&&JSON.parse(e)},kw=()=>{try{return tD()||aD()||lD()||cD()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},G2=t=>{var e,n;return(n=(e=kw())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},pm=t=>{const e=G2(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},K2=()=>{var t;return(t=kw())===null||t===void 0?void 0:t.config},Y2=t=>{var e;return(e=kw())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vd{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _s(t){return t.endsWith(".cloudworkstations.dev")}async function Bd(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pw(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const a=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[vp(JSON.stringify(n)),vp(JSON.stringify(a)),""].join(".")}const zu={};function uD(){const t={prod:[],emulator:[]};for(const e of Object.keys(zu))zu[e]?t.emulator.push(e):t.prod.push(e);return t}function dD(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let vE=!1;function Ai(t,e){if(typeof window>"u"||typeof document>"u"||!_s(window.location.host)||zu[t]===e||zu[t]||vE)return;zu[t]=e;function n(v){return`__firebase__banner__${v}`}const r="__firebase__banner",s=uD().prod.length>0;function a(){const v=document.getElementById(r);v&&v.remove()}function c(v){v.style.display="flex",v.style.background="#7faaf0",v.style.position="fixed",v.style.bottom="5px",v.style.left="5px",v.style.padding=".5em",v.style.borderRadius="5px",v.style.alignItems="center"}function u(v,x){v.setAttribute("width","24"),v.setAttribute("id",x),v.setAttribute("height","24"),v.setAttribute("viewBox","0 0 24 24"),v.setAttribute("fill","none"),v.style.marginLeft="-6px"}function f(){const v=document.createElement("span");return v.style.cursor="pointer",v.style.marginLeft="16px",v.style.fontSize="24px",v.innerHTML=" &times;",v.onclick=()=>{vE=!0,a()},v}function h(v,x){v.setAttribute("id",x),v.innerText="Learn more",v.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",v.setAttribute("target","__blank"),v.style.paddingLeft="5px",v.style.textDecoration="underline"}function g(){const v=dD(r),x=n("text"),_=document.getElementById(x)||document.createElement("span"),T=n("learnmore"),I=document.getElementById(T)||document.createElement("a"),R=n("preprendIcon"),P=document.getElementById(R)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(v.created){const k=v.element;c(k),h(I,T);const j=f();u(P,R),k.append(P,_,I,j),document.body.appendChild(k)}s?(_.innerText="Preview backend disconnected.",P.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(P.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,_.innerText="Preview backend running in this workspace."),_.setAttribute("id",x)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",g):g()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function An(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Iw(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(An())}function fD(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function hD(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function X2(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function pD(){const t=An();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function mD(){return z2.NODE_ADMIN===!0}function J2(){try{return typeof indexedDB=="object"}catch{return!1}}function Q2(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}function gD(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vD="FirebaseError";class Ir extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=vD,Object.setPrototypeOf(this,Ir.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Da.prototype.create)}}class Da{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],a=s?yD(s,r):"Error",c=`${this.serviceName}: ${a} (${i}).`;return new Ir(i,c,r)}}function yD(t,e){return t.replace(wD,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const wD=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hd(t){return JSON.parse(t)}function Vt(t){return JSON.stringify(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z2=function(t){let e={},n={},r={},i="";try{const s=t.split(".");e=hd(yp(s[0])||""),n=hd(yp(s[1])||""),i=s[2],r=n.d||{},delete n.d}catch{}return{header:e,claims:n,data:r,signature:i}},_D=function(t){const e=Z2(t),n=e.claims;return!!n&&typeof n=="object"&&n.hasOwnProperty("iat")},xD=function(t){const e=Z2(t).claims;return typeof e=="object"&&e.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ri(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function Zl(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]}function e0(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function wp(t,e,n){const r={};for(const i in t)Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=e.call(n,t[i],i,t));return r}function go(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],a=e[i];if(yE(s)&&yE(a)){if(!go(s,a))return!1}else if(s!==a)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function yE(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mc(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Mu(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function Du(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bD{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,n){n||(n=0);const r=this.W_;if(typeof e=="string")for(let g=0;g<16;g++)r[g]=e.charCodeAt(n)<<24|e.charCodeAt(n+1)<<16|e.charCodeAt(n+2)<<8|e.charCodeAt(n+3),n+=4;else for(let g=0;g<16;g++)r[g]=e[n]<<24|e[n+1]<<16|e[n+2]<<8|e[n+3],n+=4;for(let g=16;g<80;g++){const v=r[g-3]^r[g-8]^r[g-14]^r[g-16];r[g]=(v<<1|v>>>31)&4294967295}let i=this.chain_[0],s=this.chain_[1],a=this.chain_[2],c=this.chain_[3],u=this.chain_[4],f,h;for(let g=0;g<80;g++){g<40?g<20?(f=c^s&(a^c),h=1518500249):(f=s^a^c,h=1859775393):g<60?(f=s&a|c&(s|a),h=2400959708):(f=s^a^c,h=3395469782);const v=(i<<5|i>>>27)+f+u+h+r[g]&4294967295;u=c,c=a,a=(s<<30|s>>>2)&4294967295,s=i,i=v}this.chain_[0]=this.chain_[0]+i&4294967295,this.chain_[1]=this.chain_[1]+s&4294967295,this.chain_[2]=this.chain_[2]+a&4294967295,this.chain_[3]=this.chain_[3]+c&4294967295,this.chain_[4]=this.chain_[4]+u&4294967295}update(e,n){if(e==null)return;n===void 0&&(n=e.length);const r=n-this.blockSize;let i=0;const s=this.buf_;let a=this.inbuf_;for(;i<n;){if(a===0)for(;i<=r;)this.compress_(e,i),i+=this.blockSize;if(typeof e=="string"){for(;i<n;)if(s[a]=e.charCodeAt(i),++a,++i,a===this.blockSize){this.compress_(s),a=0;break}}else for(;i<n;)if(s[a]=e[i],++a,++i,a===this.blockSize){this.compress_(s),a=0;break}}this.inbuf_=a,this.total_+=n}digest(){const e=[];let n=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let i=this.blockSize-1;i>=56;i--)this.buf_[i]=n&255,n/=256;this.compress_(this.buf_);let r=0;for(let i=0;i<5;i++)for(let s=24;s>=0;s-=8)e[r]=this.chain_[i]>>s&255,++r;return e}}function ED(t,e){const n=new SD(t,e);return n.subscribe.bind(n)}class SD{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");CD(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=Vv),i.error===void 0&&(i.error=Vv),i.complete===void 0&&(i.complete=Vv);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function CD(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Vv(){}function mm(t,e){return`${t} failed: ${e} argument `}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TD=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);if(i>=55296&&i<=56319){const s=i-55296;r++,de(r<t.length,"Surrogate pair missing trail surrogate.");const a=t.charCodeAt(r)-56320;i=65536+(s<<10)+a}i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):i<65536?(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},gm=function(t){let e=0;for(let n=0;n<t.length;n++){const r=t.charCodeAt(n);r<128?e++:r<2048?e+=2:r>=55296&&r<=56319?(e+=4,n++):e+=3}return e};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qe(t){return t&&t._delegate?t._delegate:t}class Gn{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const na="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kD{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new Vd;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e?.identifier),i=(n=e?.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(ID(e))try{this.getOrInitializeService({instanceIdentifier:na})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=na){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=na){return this.instances.has(e)}getOptions(e=na){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,a]of this.instancesDeferred.entries()){const c=this.normalizeInstanceIdentifier(s);r===c&&a.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const a=this.instances.get(i);return a&&e(a,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:PD(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=na){return this.component?this.component.multipleInstances?e:na:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function PD(t){return t===na?void 0:t}function ID(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AD{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new kD(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ke;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Ke||(Ke={}));const RD={debug:Ke.DEBUG,verbose:Ke.VERBOSE,info:Ke.INFO,warn:Ke.WARN,error:Ke.ERROR,silent:Ke.SILENT},ND=Ke.INFO,OD={[Ke.DEBUG]:"log",[Ke.VERBOSE]:"log",[Ke.INFO]:"info",[Ke.WARN]:"warn",[Ke.ERROR]:"error"},MD=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=OD[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class vm{constructor(e){this.name=e,this._logLevel=ND,this._logHandler=MD,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ke))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?RD[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ke.DEBUG,...e),this._logHandler(this,Ke.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ke.VERBOSE,...e),this._logHandler(this,Ke.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ke.INFO,...e),this._logHandler(this,Ke.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ke.WARN,...e),this._logHandler(this,Ke.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ke.ERROR,...e),this._logHandler(this,Ke.ERROR,...e)}}const DD=(t,e)=>e.some(n=>t instanceof n);let wE,_E;function LD(){return wE||(wE=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function jD(){return _E||(_E=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const ek=new WeakMap,t0=new WeakMap,tk=new WeakMap,Bv=new WeakMap,Aw=new WeakMap;function FD(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",a)},s=()=>{n(os(t.result)),i()},a=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",a)});return e.then(n=>{n instanceof IDBCursor&&ek.set(n,t)}).catch(()=>{}),Aw.set(e,t),e}function $D(t){if(t0.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",a),t.removeEventListener("abort",a)},s=()=>{n(),i()},a=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",a),t.addEventListener("abort",a)});t0.set(t,e)}let n0={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return t0.get(t);if(e==="objectStoreNames")return t.objectStoreNames||tk.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return os(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function UD(t){n0=t(n0)}function VD(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(zv(this),e,...n);return tk.set(r,e.sort?e.sort():[e]),os(r)}:jD().includes(t)?function(...e){return t.apply(zv(this),e),os(ek.get(this))}:function(...e){return os(t.apply(zv(this),e))}}function BD(t){return typeof t=="function"?VD(t):(t instanceof IDBTransaction&&$D(t),DD(t,LD())?new Proxy(t,n0):t)}function os(t){if(t instanceof IDBRequest)return FD(t);if(Bv.has(t))return Bv.get(t);const e=BD(t);return e!==t&&(Bv.set(t,e),Aw.set(e,t)),e}const zv=t=>Aw.get(t);function ym(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const a=indexedDB.open(t,e),c=os(a);return r&&a.addEventListener("upgradeneeded",u=>{r(os(a.result),u.oldVersion,u.newVersion,os(a.transaction),u)}),n&&a.addEventListener("blocked",u=>n(u.oldVersion,u.newVersion,u)),c.then(u=>{s&&u.addEventListener("close",()=>s()),i&&u.addEventListener("versionchange",f=>i(f.oldVersion,f.newVersion,f))}).catch(()=>{}),c}function Hv(t,{blocked:e}={}){const n=indexedDB.deleteDatabase(t);return e&&n.addEventListener("blocked",r=>e(r.oldVersion,r)),os(n).then(()=>{})}const zD=["get","getKey","getAll","getAllKeys","count"],HD=["put","add","delete","clear"],Wv=new Map;function xE(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Wv.get(e))return Wv.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=HD.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||zD.includes(n)))return;const s=async function(a,...c){const u=this.transaction(a,i?"readwrite":"readonly");let f=u.store;return r&&(f=f.index(c.shift())),(await Promise.all([f[n](...c),i&&u.done]))[0]};return Wv.set(e,s),s}UD(t=>({...t,get:(e,n,r)=>xE(e,n)||t.get(e,n,r),has:(e,n)=>!!xE(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WD{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(qD(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function qD(t){const e=t.getComponent();return e?.type==="VERSION"}const r0="@firebase/app",bE="0.12.3";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fs=new vm("@firebase/app"),GD="@firebase/app-compat",KD="@firebase/analytics-compat",YD="@firebase/analytics",XD="@firebase/app-check-compat",JD="@firebase/app-check",QD="@firebase/auth",ZD="@firebase/auth-compat",e4="@firebase/database",t4="@firebase/data-connect",n4="@firebase/database-compat",r4="@firebase/functions",i4="@firebase/functions-compat",s4="@firebase/installations",o4="@firebase/installations-compat",a4="@firebase/messaging",l4="@firebase/messaging-compat",c4="@firebase/performance",u4="@firebase/performance-compat",d4="@firebase/remote-config",f4="@firebase/remote-config-compat",h4="@firebase/storage",p4="@firebase/storage-compat",m4="@firebase/firestore",g4="@firebase/vertexai",v4="@firebase/firestore-compat",y4="firebase",w4="11.7.3";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i0="[DEFAULT]",_4={[r0]:"fire-core",[GD]:"fire-core-compat",[YD]:"fire-analytics",[KD]:"fire-analytics-compat",[JD]:"fire-app-check",[XD]:"fire-app-check-compat",[QD]:"fire-auth",[ZD]:"fire-auth-compat",[e4]:"fire-rtdb",[t4]:"fire-data-connect",[n4]:"fire-rtdb-compat",[r4]:"fire-fn",[i4]:"fire-fn-compat",[s4]:"fire-iid",[o4]:"fire-iid-compat",[a4]:"fire-fcm",[l4]:"fire-fcm-compat",[c4]:"fire-perf",[u4]:"fire-perf-compat",[d4]:"fire-rc",[f4]:"fire-rc-compat",[h4]:"fire-gcs",[p4]:"fire-gcs-compat",[m4]:"fire-fst",[v4]:"fire-fst-compat",[g4]:"fire-vertex","fire-js":"fire-js",[y4]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _p=new Map,x4=new Map,s0=new Map;function EE(t,e){try{t.container.addComponent(e)}catch(n){fs.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function lr(t){const e=t.name;if(s0.has(e))return fs.debug(`There were multiple attempts to register component ${e}.`),!1;s0.set(e,t);for(const n of _p.values())EE(n,t);for(const n of x4.values())EE(n,t);return!0}function xs(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function gn(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b4={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},fo=new Da("app","Firebase",b4);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E4{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Gn("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw fo.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const So=w4;function nk(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:i0,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw fo.create("bad-app-name",{appName:String(i)});if(n||(n=K2()),!n)throw fo.create("no-options");const s=_p.get(i);if(s){if(go(n,s.options)&&go(r,s.config))return s;throw fo.create("duplicate-app",{appName:i})}const a=new AD(i);for(const u of s0.values())a.addComponent(u);const c=new E4(n,r,a);return _p.set(i,c),c}function gc(t=i0){const e=_p.get(t);if(!e&&t===i0&&K2())return nk();if(!e)throw fo.create("no-app",{appName:t});return e}function Qt(t,e,n){var r;let i=(r=_4[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),a=e.match(/\s|\//);if(s||a){const c=[`Unable to register library "${i}" with version "${e}":`];s&&c.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&a&&c.push("and"),a&&c.push(`version name "${e}" contains illegal characters (whitespace or "/")`),fs.warn(c.join(" "));return}lr(new Gn(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S4="firebase-heartbeat-database",C4=1,pd="firebase-heartbeat-store";let qv=null;function rk(){return qv||(qv=ym(S4,C4,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(pd)}catch(n){console.warn(n)}}}}).catch(t=>{throw fo.create("idb-open",{originalErrorMessage:t.message})})),qv}async function T4(t){try{const n=(await rk()).transaction(pd),r=await n.objectStore(pd).get(ik(t));return await n.done,r}catch(e){if(e instanceof Ir)fs.warn(e.message);else{const n=fo.create("idb-get",{originalErrorMessage:e?.message});fs.warn(n.message)}}}async function SE(t,e){try{const r=(await rk()).transaction(pd,"readwrite");await r.objectStore(pd).put(e,ik(t)),await r.done}catch(n){if(n instanceof Ir)fs.warn(n.message);else{const r=fo.create("idb-set",{originalErrorMessage:n?.message});fs.warn(r.message)}}}function ik(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k4=1024,P4=30;class I4{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new R4(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=CE();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(a=>a.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats.length>P4){const a=N4(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(a,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){fs.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=CE(),{heartbeatsToSend:r,unsentEntries:i}=A4(this._heartbeatsCache.heartbeats),s=vp(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(n){return fs.warn(n),""}}}function CE(){return new Date().toISOString().substring(0,10)}function A4(t,e=k4){const n=[];let r=t.slice();for(const i of t){const s=n.find(a=>a.agent===i.agent);if(s){if(s.dates.push(i.date),TE(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),TE(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class R4{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return J2()?Q2().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await T4(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return SE(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return SE(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function TE(t){return vp(JSON.stringify({version:2,heartbeats:t})).length}function N4(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function O4(t){lr(new Gn("platform-logger",e=>new WD(e),"PRIVATE")),lr(new Gn("heartbeat",e=>new I4(e),"PRIVATE")),Qt(r0,bE,t),Qt(r0,bE,"esm2017"),Qt("fire-js","")}O4("");const sk="@firebase/installations",Rw="0.6.16";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ok=1e4,ak=`w:${Rw}`,lk="FIS_v2",M4="https://firebaseinstallations.googleapis.com/v1",D4=60*60*1e3,L4="installations",j4="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F4={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},xa=new Da(L4,j4,F4);function ck(t){return t instanceof Ir&&t.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uk({projectId:t}){return`${M4}/projects/${t}/installations`}function dk(t){return{token:t.token,requestStatus:2,expiresIn:U4(t.expiresIn),creationTime:Date.now()}}async function fk(t,e){const r=(await e.json()).error;return xa.create("request-failed",{requestName:t,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})}function hk({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function $4(t,{refreshToken:e}){const n=hk(t);return n.append("Authorization",V4(e)),n}async function pk(t){const e=await t();return e.status>=500&&e.status<600?t():e}function U4(t){return Number(t.replace("s","000"))}function V4(t){return`${lk} ${t}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function B4({appConfig:t,heartbeatServiceProvider:e},{fid:n}){const r=uk(t),i=hk(t),s=e.getImmediate({optional:!0});if(s){const f=await s.getHeartbeatsHeader();f&&i.append("x-firebase-client",f)}const a={fid:n,authVersion:lk,appId:t.appId,sdkVersion:ak},c={method:"POST",headers:i,body:JSON.stringify(a)},u=await pk(()=>fetch(r,c));if(u.ok){const f=await u.json();return{fid:f.fid||n,registrationStatus:2,refreshToken:f.refreshToken,authToken:dk(f.authToken)}}else throw await fk("Create Installation",u)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mk(t){return new Promise(e=>{setTimeout(e,t)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function z4(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H4=/^[cdef][\w-]{21}$/,o0="";function W4(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const n=q4(t);return H4.test(n)?n:o0}catch{return o0}}function q4(t){return z4(t).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wm(t){return`${t.appName}!${t.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gk=new Map;function vk(t,e){const n=wm(t);yk(n,e),G4(n,e)}function yk(t,e){const n=gk.get(t);if(n)for(const r of n)r(e)}function G4(t,e){const n=K4();n&&n.postMessage({key:t,fid:e}),Y4()}let ca=null;function K4(){return!ca&&"BroadcastChannel"in self&&(ca=new BroadcastChannel("[Firebase] FID Change"),ca.onmessage=t=>{yk(t.data.key,t.data.fid)}),ca}function Y4(){gk.size===0&&ca&&(ca.close(),ca=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X4="firebase-installations-database",J4=1,ba="firebase-installations-store";let Gv=null;function Nw(){return Gv||(Gv=ym(X4,J4,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(ba)}}})),Gv}async function xp(t,e){const n=wm(t),i=(await Nw()).transaction(ba,"readwrite"),s=i.objectStore(ba),a=await s.get(n);return await s.put(e,n),await i.done,(!a||a.fid!==e.fid)&&vk(t,e.fid),e}async function wk(t){const e=wm(t),r=(await Nw()).transaction(ba,"readwrite");await r.objectStore(ba).delete(e),await r.done}async function _m(t,e){const n=wm(t),i=(await Nw()).transaction(ba,"readwrite"),s=i.objectStore(ba),a=await s.get(n),c=e(a);return c===void 0?await s.delete(n):await s.put(c,n),await i.done,c&&(!a||a.fid!==c.fid)&&vk(t,c.fid),c}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ow(t){let e;const n=await _m(t.appConfig,r=>{const i=Q4(r),s=Z4(t,i);return e=s.registrationPromise,s.installationEntry});return n.fid===o0?{installationEntry:await e}:{installationEntry:n,registrationPromise:e}}function Q4(t){const e=t||{fid:W4(),registrationStatus:0};return _k(e)}function Z4(t,e){if(e.registrationStatus===0){if(!navigator.onLine){const i=Promise.reject(xa.create("app-offline"));return{installationEntry:e,registrationPromise:i}}const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=eL(t,n);return{installationEntry:n,registrationPromise:r}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:tL(t)}:{installationEntry:e}}async function eL(t,e){try{const n=await B4(t,e);return xp(t.appConfig,n)}catch(n){throw ck(n)&&n.customData.serverCode===409?await wk(t.appConfig):await xp(t.appConfig,{fid:e.fid,registrationStatus:0}),n}}async function tL(t){let e=await kE(t.appConfig);for(;e.registrationStatus===1;)await mk(100),e=await kE(t.appConfig);if(e.registrationStatus===0){const{installationEntry:n,registrationPromise:r}=await Ow(t);return r||n}return e}function kE(t){return _m(t,e=>{if(!e)throw xa.create("installation-not-found");return _k(e)})}function _k(t){return nL(t)?{fid:t.fid,registrationStatus:0}:t}function nL(t){return t.registrationStatus===1&&t.registrationTime+ok<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rL({appConfig:t,heartbeatServiceProvider:e},n){const r=iL(t,n),i=$4(t,n),s=e.getImmediate({optional:!0});if(s){const f=await s.getHeartbeatsHeader();f&&i.append("x-firebase-client",f)}const a={installation:{sdkVersion:ak,appId:t.appId}},c={method:"POST",headers:i,body:JSON.stringify(a)},u=await pk(()=>fetch(r,c));if(u.ok){const f=await u.json();return dk(f)}else throw await fk("Generate Auth Token",u)}function iL(t,{fid:e}){return`${uk(t)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Mw(t,e=!1){let n;const r=await _m(t.appConfig,s=>{if(!xk(s))throw xa.create("not-registered");const a=s.authToken;if(!e&&aL(a))return s;if(a.requestStatus===1)return n=sL(t,e),s;{if(!navigator.onLine)throw xa.create("app-offline");const c=cL(s);return n=oL(t,c),c}});return n?await n:r.authToken}async function sL(t,e){let n=await PE(t.appConfig);for(;n.authToken.requestStatus===1;)await mk(100),n=await PE(t.appConfig);const r=n.authToken;return r.requestStatus===0?Mw(t,e):r}function PE(t){return _m(t,e=>{if(!xk(e))throw xa.create("not-registered");const n=e.authToken;return uL(n)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}async function oL(t,e){try{const n=await rL(t,e),r=Object.assign(Object.assign({},e),{authToken:n});return await xp(t.appConfig,r),n}catch(n){if(ck(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await wk(t.appConfig);else{const r=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});await xp(t.appConfig,r)}throw n}}function xk(t){return t!==void 0&&t.registrationStatus===2}function aL(t){return t.requestStatus===2&&!lL(t)}function lL(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+D4}function cL(t){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},t),{authToken:e})}function uL(t){return t.requestStatus===1&&t.requestTime+ok<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dL(t){const e=t,{installationEntry:n,registrationPromise:r}=await Ow(e);return r?r.catch(console.error):Mw(e).catch(console.error),n.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fL(t,e=!1){const n=t;return await hL(n),(await Mw(n,e)).token}async function hL(t){const{registrationPromise:e}=await Ow(t);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pL(t){if(!t||!t.options)throw Kv("App Configuration");if(!t.name)throw Kv("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!t.options[n])throw Kv(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}function Kv(t){return xa.create("missing-app-config-values",{valueName:t})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bk="installations",mL="installations-internal",gL=t=>{const e=t.getProvider("app").getImmediate(),n=pL(e),r=xs(e,"heartbeat");return{app:e,appConfig:n,heartbeatServiceProvider:r,_delete:()=>Promise.resolve()}},vL=t=>{const e=t.getProvider("app").getImmediate(),n=xs(e,bk).getImmediate();return{getId:()=>dL(n),getToken:i=>fL(n,i)}};function yL(){lr(new Gn(bk,gL,"PUBLIC")),lr(new Gn(mL,vL,"PRIVATE"))}yL();Qt(sk,Rw);Qt(sk,Rw,"esm2017");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wL="/firebase-messaging-sw.js",_L="/firebase-cloud-messaging-push-scope",Ek="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",xL="https://fcmregistrations.googleapis.com/v1",Sk="google.c.a.c_id",bL="google.c.a.c_l",EL="google.c.a.ts",SL="google.c.a.e",IE=1e4;var AE;(function(t){t[t.DATA_MESSAGE=1]="DATA_MESSAGE",t[t.DISPLAY_NOTIFICATION=3]="DISPLAY_NOTIFICATION"})(AE||(AE={}));/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License"); you may not use this file except
 * in compliance with the License. You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software distributed under the License
 * is distributed on an "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express
 * or implied. See the License for the specific language governing permissions and limitations under
 * the License.
 */var md;(function(t){t.PUSH_RECEIVED="push-received",t.NOTIFICATION_CLICKED="notification-clicked"})(md||(md={}));/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function es(t){const e=new Uint8Array(t);return btoa(String.fromCharCode(...e)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function CL(t){const e="=".repeat((4-t.length%4)%4),n=(t+e).replace(/\-/g,"+").replace(/_/g,"/"),r=atob(n),i=new Uint8Array(r.length);for(let s=0;s<r.length;++s)i[s]=r.charCodeAt(s);return i}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yv="fcm_token_details_db",TL=5,RE="fcm_token_object_Store";async function kL(t){if("databases"in indexedDB&&!(await indexedDB.databases()).map(s=>s.name).includes(Yv))return null;let e=null;return(await ym(Yv,TL,{upgrade:async(r,i,s,a)=>{var c;if(i<2||!r.objectStoreNames.contains(RE))return;const u=a.objectStore(RE),f=await u.index("fcmSenderId").get(t);if(await u.clear(),!!f){if(i===2){const h=f;if(!h.auth||!h.p256dh||!h.endpoint)return;e={token:h.fcmToken,createTime:(c=h.createTime)!==null&&c!==void 0?c:Date.now(),subscriptionOptions:{auth:h.auth,p256dh:h.p256dh,endpoint:h.endpoint,swScope:h.swScope,vapidKey:typeof h.vapidKey=="string"?h.vapidKey:es(h.vapidKey)}}}else if(i===3){const h=f;e={token:h.fcmToken,createTime:h.createTime,subscriptionOptions:{auth:es(h.auth),p256dh:es(h.p256dh),endpoint:h.endpoint,swScope:h.swScope,vapidKey:es(h.vapidKey)}}}else if(i===4){const h=f;e={token:h.fcmToken,createTime:h.createTime,subscriptionOptions:{auth:es(h.auth),p256dh:es(h.p256dh),endpoint:h.endpoint,swScope:h.swScope,vapidKey:es(h.vapidKey)}}}}}})).close(),await Hv(Yv),await Hv("fcm_vapid_details_db"),await Hv("undefined"),PL(e)?e:null}function PL(t){if(!t||!t.subscriptionOptions)return!1;const{subscriptionOptions:e}=t;return typeof t.createTime=="number"&&t.createTime>0&&typeof t.token=="string"&&t.token.length>0&&typeof e.auth=="string"&&e.auth.length>0&&typeof e.p256dh=="string"&&e.p256dh.length>0&&typeof e.endpoint=="string"&&e.endpoint.length>0&&typeof e.swScope=="string"&&e.swScope.length>0&&typeof e.vapidKey=="string"&&e.vapidKey.length>0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IL="firebase-messaging-database",AL=1,gd="firebase-messaging-store";let Xv=null;function Ck(){return Xv||(Xv=ym(IL,AL,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(gd)}}})),Xv}async function RL(t){const e=Tk(t),r=await(await Ck()).transaction(gd).objectStore(gd).get(e);if(r)return r;{const i=await kL(t.appConfig.senderId);if(i)return await Dw(t,i),i}}async function Dw(t,e){const n=Tk(t),i=(await Ck()).transaction(gd,"readwrite");return await i.objectStore(gd).put(e,n),await i.done,e}function Tk({appConfig:t}){return t.appId}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NL={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."},yn=new Da("messaging","Messaging",NL);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function OL(t,e){const n=await jw(t),r=kk(e),i={method:"POST",headers:n,body:JSON.stringify(r)};let s;try{s=await(await fetch(Lw(t.appConfig),i)).json()}catch(a){throw yn.create("token-subscribe-failed",{errorInfo:a?.toString()})}if(s.error){const a=s.error.message;throw yn.create("token-subscribe-failed",{errorInfo:a})}if(!s.token)throw yn.create("token-subscribe-no-token");return s.token}async function ML(t,e){const n=await jw(t),r=kk(e.subscriptionOptions),i={method:"PATCH",headers:n,body:JSON.stringify(r)};let s;try{s=await(await fetch(`${Lw(t.appConfig)}/${e.token}`,i)).json()}catch(a){throw yn.create("token-update-failed",{errorInfo:a?.toString()})}if(s.error){const a=s.error.message;throw yn.create("token-update-failed",{errorInfo:a})}if(!s.token)throw yn.create("token-update-no-token");return s.token}async function DL(t,e){const r={method:"DELETE",headers:await jw(t)};try{const s=await(await fetch(`${Lw(t.appConfig)}/${e}`,r)).json();if(s.error){const a=s.error.message;throw yn.create("token-unsubscribe-failed",{errorInfo:a})}}catch(i){throw yn.create("token-unsubscribe-failed",{errorInfo:i?.toString()})}}function Lw({projectId:t}){return`${xL}/projects/${t}/registrations`}async function jw({appConfig:t,installations:e}){const n=await e.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t.apiKey,"x-goog-firebase-installations-auth":`FIS ${n}`})}function kk({p256dh:t,auth:e,endpoint:n,vapidKey:r}){const i={web:{endpoint:n,auth:e,p256dh:t}};return r!==Ek&&(i.web.applicationPubKey=r),i}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LL=7*24*60*60*1e3;async function jL(t){const e=await $L(t.swRegistration,t.vapidKey),n={vapidKey:t.vapidKey,swScope:t.swRegistration.scope,endpoint:e.endpoint,auth:es(e.getKey("auth")),p256dh:es(e.getKey("p256dh"))},r=await RL(t.firebaseDependencies);if(r){if(UL(r.subscriptionOptions,n))return Date.now()>=r.createTime+LL?FL(t,{token:r.token,createTime:Date.now(),subscriptionOptions:n}):r.token;try{await DL(t.firebaseDependencies,r.token)}catch(i){console.warn(i)}return NE(t.firebaseDependencies,n)}else return NE(t.firebaseDependencies,n)}async function FL(t,e){try{const n=await ML(t.firebaseDependencies,e),r=Object.assign(Object.assign({},e),{token:n,createTime:Date.now()});return await Dw(t.firebaseDependencies,r),n}catch(n){throw n}}async function NE(t,e){const r={token:await OL(t,e),createTime:Date.now(),subscriptionOptions:e};return await Dw(t,r),r.token}async function $L(t,e){const n=await t.pushManager.getSubscription();return n||t.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:CL(e)})}function UL(t,e){const n=e.vapidKey===t.vapidKey,r=e.endpoint===t.endpoint,i=e.auth===t.auth,s=e.p256dh===t.p256dh;return n&&r&&i&&s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OE(t){const e={from:t.from,collapseKey:t.collapse_key,messageId:t.fcmMessageId};return VL(e,t),BL(e,t),zL(e,t),e}function VL(t,e){if(!e.notification)return;t.notification={};const n=e.notification.title;n&&(t.notification.title=n);const r=e.notification.body;r&&(t.notification.body=r);const i=e.notification.image;i&&(t.notification.image=i);const s=e.notification.icon;s&&(t.notification.icon=s)}function BL(t,e){e.data&&(t.data=e.data)}function zL(t,e){var n,r,i,s,a;if(!e.fcmOptions&&!(!((n=e.notification)===null||n===void 0)&&n.click_action))return;t.fcmOptions={};const c=(i=(r=e.fcmOptions)===null||r===void 0?void 0:r.link)!==null&&i!==void 0?i:(s=e.notification)===null||s===void 0?void 0:s.click_action;c&&(t.fcmOptions.link=c);const u=(a=e.fcmOptions)===null||a===void 0?void 0:a.analytics_label;u&&(t.fcmOptions.analyticsLabel=u)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HL(t){return typeof t=="object"&&!!t&&Sk in t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WL(t){if(!t||!t.options)throw Jv("App Configuration Object");if(!t.name)throw Jv("App Name");const e=["projectId","apiKey","appId","messagingSenderId"],{options:n}=t;for(const r of e)if(!n[r])throw Jv(r);return{appName:t.name,projectId:n.projectId,apiKey:n.apiKey,appId:n.appId,senderId:n.messagingSenderId}}function Jv(t){return yn.create("missing-app-config-values",{valueName:t})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qL{constructor(e,n,r){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const i=WL(e);this.firebaseDependencies={app:e,appConfig:i,installations:n,analyticsProvider:r}}_delete(){return Promise.resolve()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function GL(t){try{t.swRegistration=await navigator.serviceWorker.register(wL,{scope:_L}),t.swRegistration.update().catch(()=>{}),await KL(t.swRegistration)}catch(e){throw yn.create("failed-service-worker-registration",{browserErrorMessage:e?.message})}}async function KL(t){return new Promise((e,n)=>{const r=setTimeout(()=>n(new Error(`Service worker not registered after ${IE} ms`)),IE),i=t.installing||t.waiting;t.active?(clearTimeout(r),e()):i?i.onstatechange=s=>{var a;((a=s.target)===null||a===void 0?void 0:a.state)==="activated"&&(i.onstatechange=null,clearTimeout(r),e())}:(clearTimeout(r),n(new Error("No incoming service worker found.")))})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function YL(t,e){if(!e&&!t.swRegistration&&await GL(t),!(!e&&t.swRegistration)){if(!(e instanceof ServiceWorkerRegistration))throw yn.create("invalid-sw-registration");t.swRegistration=e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function XL(t,e){e?t.vapidKey=e:t.vapidKey||(t.vapidKey=Ek)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Pk(t,e){if(!navigator)throw yn.create("only-available-in-window");if(Notification.permission==="default"&&await Notification.requestPermission(),Notification.permission!=="granted")throw yn.create("permission-blocked");return await XL(t,e?.vapidKey),await YL(t,e?.serviceWorkerRegistration),jL(t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function JL(t,e,n){const r=QL(e);(await t.firebaseDependencies.analyticsProvider.get()).logEvent(r,{message_id:n[Sk],message_name:n[bL],message_time:n[EL],message_device_time:Math.floor(Date.now()/1e3)})}function QL(t){switch(t){case md.NOTIFICATION_CLICKED:return"notification_open";case md.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ZL(t,e){const n=e.data;if(!n.isFirebaseMessaging)return;t.onMessageHandler&&n.messageType===md.PUSH_RECEIVED&&(typeof t.onMessageHandler=="function"?t.onMessageHandler(OE(n)):t.onMessageHandler.next(OE(n)));const r=n.data;HL(r)&&r[SL]==="1"&&await JL(t,n.messageType,r)}const ME="@firebase/messaging",DE="0.12.20";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ej=t=>{const e=new qL(t.getProvider("app").getImmediate(),t.getProvider("installations-internal").getImmediate(),t.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",n=>ZL(e,n)),e},tj=t=>{const e=t.getProvider("messaging").getImmediate();return{getToken:r=>Pk(e,r)}};function nj(){lr(new Gn("messaging",ej,"PUBLIC")),lr(new Gn("messaging-internal",tj,"PRIVATE")),Qt(ME,DE),Qt(ME,DE,"esm2017")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rj(){try{await Q2()}catch{return!1}return typeof window<"u"&&J2()&&gD()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ij(t,e){if(!navigator)throw yn.create("only-available-in-window");return t.onMessageHandler=e,()=>{t.onMessageHandler=null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fw(t=gc()){return rj().then(e=>{if(!e)throw yn.create("unsupported-browser")},e=>{throw yn.create("indexed-db-unsupported")}),xs(Qe(t),"messaging").getImmediate()}async function sj(t,e){return t=Qe(t),Pk(t,e)}function oj(t,e){return t=Qe(t),ij(t,e)}nj();var aj="firebase",lj="11.7.3";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Qt(aj,lj,"app");var a0=function(t,e){return a0=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(n[i]=r[i])},a0(t,e)};function cj(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");a0(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}var Gt=function(){return Gt=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},Gt.apply(this,arguments)};function $w(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function Ik(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const uj=Ik,Ak=new Da("auth","Firebase",Ik());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bp=new vm("@firebase/auth");function dj(t,...e){bp.logLevel<=Ke.WARN&&bp.warn(`Auth (${So}): ${t}`,...e)}function tp(t,...e){bp.logLevel<=Ke.ERROR&&bp.error(`Auth (${So}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tr(t,...e){throw Vw(t,...e)}function Zr(t,...e){return Vw(t,...e)}function Uw(t,e,n){const r=Object.assign(Object.assign({},uj()),{[e]:n});return new Da("auth","Firebase",r).create(e,{appName:t.name})}function as(t){return Uw(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function fj(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&Tr(t,"argument-error"),Uw(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Vw(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return Ak.create(t,...e)}function Ae(t,e,...n){if(!t)throw Vw(e,...n)}function ns(t){const e="INTERNAL ASSERTION FAILED: "+t;throw tp(e),new Error(e)}function hs(t,e){t||ns(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function l0(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function hj(){return LE()==="http:"||LE()==="https:"}function LE(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pj(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(hj()||hD()||"connection"in navigator)?navigator.onLine:!0}function mj(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zd{constructor(e,n){this.shortDelay=e,this.longDelay=n,hs(n>e,"Short delay should be less than long delay!"),this.isMobile=Iw()||X2()}get(){return pj()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bw(t,e){hs(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rk{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ns("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ns("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ns("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gj={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vj=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],yj=new zd(3e4,6e4);function bs(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function Es(t,e,n,r,i={}){return Nk(t,i,async()=>{let s={},a={};r&&(e==="GET"?a=r:s={body:JSON.stringify(r)});const c=mc(Object.assign({key:t.config.apiKey},a)).slice(1),u=await t._getAdditionalHeaders();u["Content-Type"]="application/json",t.languageCode&&(u["X-Firebase-Locale"]=t.languageCode);const f=Object.assign({method:e,headers:u},s);return fD()||(f.referrerPolicy="no-referrer"),t.emulatorConfig&&_s(t.emulatorConfig.host)&&(f.credentials="include"),Rk.fetch()(await Ok(t,t.config.apiHost,n,c),f)})}async function Nk(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},gj),e);try{const i=new _j(t),s=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const a=await s.json();if("needConfirmation"in a)throw Oh(t,"account-exists-with-different-credential",a);if(s.ok&&!("errorMessage"in a))return a;{const c=s.ok?a.errorMessage:a.error.message,[u,f]=c.split(" : ");if(u==="FEDERATED_USER_ID_ALREADY_LINKED")throw Oh(t,"credential-already-in-use",a);if(u==="EMAIL_EXISTS")throw Oh(t,"email-already-in-use",a);if(u==="USER_DISABLED")throw Oh(t,"user-disabled",a);const h=r[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(f)throw Uw(t,h,f);Tr(t,h)}}catch(i){if(i instanceof Ir)throw i;Tr(t,"network-request-failed",{message:String(i)})}}async function Hd(t,e,n,r,i={}){const s=await Es(t,e,n,r,i);return"mfaPendingCredential"in s&&Tr(t,"multi-factor-auth-required",{_serverResponse:s}),s}async function Ok(t,e,n,r){const i=`${e}${n}?${r}`,s=t,a=s.config.emulator?Bw(t.config,i):`${t.config.apiScheme}://${i}`;return vj.includes(n)&&(await s._persistenceManagerAvailable,s._getPersistenceType()==="COOKIE")?s._getPersistence()._getFinalTarget(a).toString():a}function wj(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class _j{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Zr(this.auth,"network-request-failed")),yj.get())})}}function Oh(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Zr(t,e,r);return i.customData._tokenResponse=n,i}function jE(t){return t!==void 0&&t.enterprise!==void 0}class xj{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return wj(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function bj(t,e){return Es(t,"GET","/v2/recaptchaConfig",bs(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ej(t,e){return Es(t,"POST","/v1/accounts:delete",e)}async function Ep(t,e){return Es(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hu(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function Sj(t,e=!1){const n=Qe(t),r=await n.getIdToken(e),i=zw(r);Ae(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,a=s?.sign_in_provider;return{claims:i,token:r,authTime:Hu(Qv(i.auth_time)),issuedAtTime:Hu(Qv(i.iat)),expirationTime:Hu(Qv(i.exp)),signInProvider:a||null,signInSecondFactor:s?.sign_in_second_factor||null}}function Qv(t){return Number(t)*1e3}function zw(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return tp("JWT malformed, contained fewer than 3 sections"),null;try{const i=yp(n);return i?JSON.parse(i):(tp("Failed to decode base64 JWT payload"),null)}catch(i){return tp("Caught error parsing JWT payload as JSON",i?.toString()),null}}function FE(t){const e=zw(t);return Ae(e,"internal-error"),Ae(typeof e.exp<"u","internal-error"),Ae(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vd(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Ir&&Cj(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function Cj({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tj{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c0{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Hu(this.lastLoginAt),this.creationTime=Hu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Sp(t){var e;const n=t.auth,r=await t.getIdToken(),i=await vd(t,Ep(n,{idToken:r}));Ae(i?.users.length,n,"internal-error");const s=i.users[0];t._notifyReloadListener(s);const a=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?Mk(s.providerUserInfo):[],c=Pj(t.providerData,a),u=t.isAnonymous,f=!(t.email&&s.passwordHash)&&!c?.length,h=u?f:!1,g={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:c,metadata:new c0(s.createdAt,s.lastLoginAt),isAnonymous:h};Object.assign(t,g)}async function kj(t){const e=Qe(t);await Sp(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function Pj(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function Mk(t){return t.map(e=>{var{providerId:n}=e,r=$w(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ij(t,e){const n=await Nk(t,{},async()=>{const r=mc({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,a=await Ok(t,i,"/v1/token",`key=${s}`),c=await t._getAdditionalHeaders();return c["Content-Type"]="application/x-www-form-urlencoded",Rk.fetch()(a,{method:"POST",headers:c,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function Aj(t,e){return Es(t,"POST","/v2/accounts:revokeToken",bs(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ql{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ae(e.idToken,"internal-error"),Ae(typeof e.idToken<"u","internal-error"),Ae(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):FE(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Ae(e.length!==0,"internal-error");const n=FE(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Ae(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:s}=await Ij(e,n);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,a=new ql;return r&&(Ae(typeof r=="string","internal-error",{appName:e}),a.refreshToken=r),i&&(Ae(typeof i=="string","internal-error",{appName:e}),a.accessToken=i),s&&(Ae(typeof s=="number","internal-error",{appName:e}),a.expirationTime=s),a}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new ql,this.toJSON())}_performRefresh(){return ns("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qs(t,e){Ae(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Yr{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=$w(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Tj(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new c0(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await vd(this,this.stsTokenManager.getToken(this.auth,e));return Ae(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return Sj(this,e)}reload(){return kj(this)}_assign(e){this!==e&&(Ae(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Yr(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){Ae(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Sp(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(gn(this.auth.app))return Promise.reject(as(this.auth));const e=await this.getIdToken();return await vd(this,Ej(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,a,c,u,f,h;const g=(r=n.displayName)!==null&&r!==void 0?r:void 0,v=(i=n.email)!==null&&i!==void 0?i:void 0,x=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,_=(a=n.photoURL)!==null&&a!==void 0?a:void 0,T=(c=n.tenantId)!==null&&c!==void 0?c:void 0,I=(u=n._redirectEventId)!==null&&u!==void 0?u:void 0,R=(f=n.createdAt)!==null&&f!==void 0?f:void 0,P=(h=n.lastLoginAt)!==null&&h!==void 0?h:void 0,{uid:k,emailVerified:j,isAnonymous:$,providerData:B,stsTokenManager:L}=n;Ae(k&&L,e,"internal-error");const N=ql.fromJSON(this.name,L);Ae(typeof k=="string",e,"internal-error"),Qs(g,e.name),Qs(v,e.name),Ae(typeof j=="boolean",e,"internal-error"),Ae(typeof $=="boolean",e,"internal-error"),Qs(x,e.name),Qs(_,e.name),Qs(T,e.name),Qs(I,e.name),Qs(R,e.name),Qs(P,e.name);const O=new Yr({uid:k,auth:e,email:v,emailVerified:j,displayName:g,isAnonymous:$,photoURL:_,phoneNumber:x,tenantId:T,stsTokenManager:N,createdAt:R,lastLoginAt:P});return B&&Array.isArray(B)&&(O.providerData=B.map(b=>Object.assign({},b))),I&&(O._redirectEventId=I),O}static async _fromIdTokenResponse(e,n,r=!1){const i=new ql;i.updateFromServerResponse(n);const s=new Yr({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await Sp(s),s}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];Ae(i.localId!==void 0,"internal-error");const s=i.providerUserInfo!==void 0?Mk(i.providerUserInfo):[],a=!(i.email&&i.passwordHash)&&!s?.length,c=new ql;c.updateFromIdToken(r);const u=new Yr({uid:i.localId,auth:e,stsTokenManager:c,isAnonymous:a}),f={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new c0(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!s?.length};return Object.assign(u,f),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $E=new Map;function rs(t){hs(t instanceof Function,"Expected a class definition");let e=$E.get(t);return e?(hs(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,$E.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dk{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}Dk.type="NONE";const UE=Dk;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function np(t,e,n){return`firebase:${t}:${e}:${n}`}class Gl{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=np(this.userKey,i.apiKey,s),this.fullPersistenceKey=np("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Ep(this.auth,{idToken:e}).catch(()=>{});return n?Yr._fromGetAccountInfoResponse(this.auth,n,e):null}return Yr._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Gl(rs(UE),e,r);const i=(await Promise.all(n.map(async f=>{if(await f._isAvailable())return f}))).filter(f=>f);let s=i[0]||rs(UE);const a=np(r,e.config.apiKey,e.name);let c=null;for(const f of n)try{const h=await f._get(a);if(h){let g;if(typeof h=="string"){const v=await Ep(e,{idToken:h}).catch(()=>{});if(!v)break;g=await Yr._fromGetAccountInfoResponse(e,v,h)}else g=Yr._fromJSON(e,h);f!==s&&(c=g),s=f;break}}catch{}const u=i.filter(f=>f._shouldAllowMigration);return!s._shouldAllowMigration||!u.length?new Gl(s,e,r):(s=u[0],c&&await s._set(a,c.toJSON()),await Promise.all(n.map(async f=>{if(f!==s)try{await f._remove(a)}catch{}})),new Gl(s,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VE(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if($k(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(Lk(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(Vk(e))return"Blackberry";if(Bk(e))return"Webos";if(jk(e))return"Safari";if((e.includes("chrome/")||Fk(e))&&!e.includes("edge/"))return"Chrome";if(Uk(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if(r?.length===2)return r[1]}return"Other"}function Lk(t=An()){return/firefox\//i.test(t)}function jk(t=An()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Fk(t=An()){return/crios\//i.test(t)}function $k(t=An()){return/iemobile/i.test(t)}function Uk(t=An()){return/android/i.test(t)}function Vk(t=An()){return/blackberry/i.test(t)}function Bk(t=An()){return/webos/i.test(t)}function Hw(t=An()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function Rj(t=An()){var e;return Hw(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function Nj(){return pD()&&document.documentMode===10}function zk(t=An()){return Hw(t)||Uk(t)||Bk(t)||Vk(t)||/windows phone/i.test(t)||$k(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hk(t,e=[]){let n;switch(t){case"Browser":n=VE(An());break;case"Worker":n=`${VE(An())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${So}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oj{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((a,c)=>{try{const u=e(s);a(u)}catch(u){c(u)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Mj(t,e={}){return Es(t,"GET","/v2/passwordPolicy",bs(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dj=6;class Lj{constructor(e){var n,r,i,s;const a=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=a.minPasswordLength)!==null&&n!==void 0?n:Dj,a.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=a.maxPasswordLength),a.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=a.containsLowercaseCharacter),a.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=a.containsUppercaseCharacter),a.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=a.containsNumericCharacter),a.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=a.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,s,a,c;const u={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,u),this.validatePasswordCharacterOptions(e,u),u.isValid&&(u.isValid=(n=u.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),u.isValid&&(u.isValid=(r=u.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),u.isValid&&(u.isValid=(i=u.containsLowercaseLetter)!==null&&i!==void 0?i:!0),u.isValid&&(u.isValid=(s=u.containsUppercaseLetter)!==null&&s!==void 0?s:!0),u.isValid&&(u.isValid=(a=u.containsNumericCharacter)!==null&&a!==void 0?a:!0),u.isValid&&(u.isValid=(c=u.containsNonAlphanumericCharacter)!==null&&c!==void 0?c:!0),u}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jj{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new BE(this),this.idTokenSubscription=new BE(this),this.beforeStateQueue=new Oj(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Ak,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(s=>this._resolvePersistenceManagerAvailable=s)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=rs(n)),this._initializationPromise=this.queue(async()=>{var r,i,s;if(!this._deleted&&(this.persistenceManager=await Gl.create(this,e),(r=this._resolvePersistenceManagerAvailable)===null||r===void 0||r.call(this),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((s=this.currentUser)===null||s===void 0?void 0:s.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Ep(this,{idToken:e}),r=await Yr._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(gn(this.app)){const a=this.app.settings.authIdToken;return a?new Promise(c=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(a).then(c,c))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let i=r,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const a=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,c=i?._redirectEventId,u=await this.tryRedirectSignIn(e);(!a||a===c)&&u?.user&&(i=u.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(a){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(a))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return Ae(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Sp(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=mj()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(gn(this.app))return Promise.reject(as(this));const n=e?Qe(e):null;return n&&Ae(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Ae(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return gn(this.app)?Promise.reject(as(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return gn(this.app)?Promise.reject(as(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(rs(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await Mj(this),n=new Lj(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Da("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await Aj(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&rs(e)||this._popupRedirectResolver;Ae(n,this,"argument-error"),this.redirectPersistenceManager=await Gl.create(this,[rs(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n);let a=!1;const c=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ae(c,this,"internal-error"),c.then(()=>{a||s(this.currentUser)}),typeof n=="function"){const u=e.addObserver(n,r,i);return()=>{a=!0,u()}}else{const u=e.addObserver(n);return()=>{a=!0,u()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ae(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Hk(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;if(gn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n?.error&&dj(`Error while retrieving App Check token: ${n.error}`),n?.token}}function Co(t){return Qe(t)}class BE{constructor(e){this.auth=e,this.observer=null,this.addObserver=ED(n=>this.observer=n)}get next(){return Ae(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let xm={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Fj(t){xm=t}function Wk(t){return xm.loadJS(t)}function $j(){return xm.recaptchaEnterpriseScript}function Uj(){return xm.gapiScript}function Vj(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class Bj{constructor(){this.enterprise=new zj}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class zj{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const Hj="recaptcha-enterprise",qk="NO_RECAPTCHA";class Wj{constructor(e){this.type=Hj,this.auth=Co(e)}async verify(e="verify",n=!1){async function r(s){if(!n){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise(async(a,c)=>{bj(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(u=>{if(u.recaptchaKey===void 0)c(new Error("recaptcha Enterprise site key undefined"));else{const f=new xj(u);return s.tenantId==null?s._agentRecaptchaConfig=f:s._tenantRecaptchaConfigs[s.tenantId]=f,a(f.siteKey)}}).catch(u=>{c(u)})})}function i(s,a,c){const u=window.grecaptcha;jE(u)?u.enterprise.ready(()=>{u.enterprise.execute(s,{action:e}).then(f=>{a(f)}).catch(()=>{a(qk)})}):c(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new Bj().execute("siteKey",{action:"verify"}):new Promise((s,a)=>{r(this.auth).then(c=>{if(!n&&jE(window.grecaptcha))i(c,s,a);else{if(typeof window>"u"){a(new Error("RecaptchaVerifier is only supported in browser"));return}let u=$j();u.length!==0&&(u+=c),Wk(u).then(()=>{i(c,s,a)}).catch(f=>{a(f)})}}).catch(c=>{a(c)})})}}async function zE(t,e,n,r=!1,i=!1){const s=new Wj(t);let a;if(i)a=qk;else try{a=await s.verify(n)}catch{a=await s.verify(n,!0)}const c=Object.assign({},e);if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in c){const u=c.phoneEnrollmentInfo.phoneNumber,f=c.phoneEnrollmentInfo.recaptchaToken;Object.assign(c,{phoneEnrollmentInfo:{phoneNumber:u,recaptchaToken:f,captchaResponse:a,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in c){const u=c.phoneSignInInfo.recaptchaToken;Object.assign(c,{phoneSignInInfo:{recaptchaToken:u,captchaResponse:a,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return c}return r?Object.assign(c,{captchaResp:a}):Object.assign(c,{captchaResponse:a}),Object.assign(c,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(c,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),c}async function u0(t,e,n,r,i){var s;if(!((s=t._getRecaptchaConfig())===null||s===void 0)&&s.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const a=await zE(t,e,n,n==="getOobCode");return r(t,a)}else return r(t,e).catch(async a=>{if(a.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const c=await zE(t,e,n,n==="getOobCode");return r(t,c)}else return Promise.reject(a)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qj(t,e){const n=xs(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),s=n.getOptions();if(go(s,e??{}))return i;Tr(i,"already-initialized")}return n.initialize({options:e})}function Gj(t,e){const n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(rs);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}function Gk(t,e,n){const r=Co(t);Ae(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,s=Kk(e),{host:a,port:c}=Kj(e),u=c===null?"":`:${c}`,f={url:`${s}//${a}${u}/`},h=Object.freeze({host:a,port:c,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){Ae(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),Ae(go(f,r.config.emulator)&&go(h,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=f,r.emulatorConfig=h,r.settings.appVerificationDisabledForTesting=!0,_s(a)?(Ai("Auth",!0),Bd(`${s}//${a}${u}`)):Yj()}function Kk(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function Kj(t){const e=Kk(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:HE(r.substr(s.length+1))}}else{const[s,a]=r.split(":");return{host:s,port:HE(a)}}}function HE(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function Yj(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ww{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return ns("not implemented")}_getIdTokenResponse(e){return ns("not implemented")}_linkToIdToken(e,n){return ns("not implemented")}_getReauthenticationResolver(e){return ns("not implemented")}}async function Xj(t,e){return Es(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Jj(t,e){return Hd(t,"POST","/v1/accounts:signInWithPassword",bs(t,e))}async function Qj(t,e){return Es(t,"POST","/v1/accounts:sendOobCode",bs(t,e))}async function Zj(t,e){return Qj(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function e3(t,e){return Hd(t,"POST","/v1/accounts:signInWithEmailLink",bs(t,e))}async function t3(t,e){return Hd(t,"POST","/v1/accounts:signInWithEmailLink",bs(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yd extends Ww{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new yd(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new yd(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return u0(e,n,"signInWithPassword",Jj);case"emailLink":return e3(e,{email:this._email,oobCode:this._password});default:Tr(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return u0(e,r,"signUpPassword",Xj);case"emailLink":return t3(e,{idToken:n,email:this._email,oobCode:this._password});default:Tr(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Kl(t,e){return Hd(t,"POST","/v1/accounts:signInWithIdp",bs(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n3="http://localhost";class Ea extends Ww{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Ea(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Tr("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,s=$w(n,["providerId","signInMethod"]);if(!r||!i)return null;const a=new Ea(r,i);return a.idToken=s.idToken||void 0,a.accessToken=s.accessToken||void 0,a.secret=s.secret,a.nonce=s.nonce,a.pendingToken=s.pendingToken||null,a}_getIdTokenResponse(e){const n=this.buildRequest();return Kl(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Kl(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Kl(e,n)}buildRequest(){const e={requestUri:n3,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=mc(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function r3(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function i3(t){const e=Mu(Du(t)).link,n=e?Mu(Du(e)).deep_link_id:null,r=Mu(Du(t)).deep_link_id;return(r?Mu(Du(r)).link:null)||r||n||e||t}class qw{constructor(e){var n,r,i,s,a,c;const u=Mu(Du(e)),f=(n=u.apiKey)!==null&&n!==void 0?n:null,h=(r=u.oobCode)!==null&&r!==void 0?r:null,g=r3((i=u.mode)!==null&&i!==void 0?i:null);Ae(f&&h&&g,"argument-error"),this.apiKey=f,this.operation=g,this.code=h,this.continueUrl=(s=u.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(a=u.lang)!==null&&a!==void 0?a:null,this.tenantId=(c=u.tenantId)!==null&&c!==void 0?c:null}static parseLink(e){const n=i3(e);try{return new qw(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vc{constructor(){this.providerId=vc.PROVIDER_ID}static credential(e,n){return yd._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=qw.parseLink(n);return Ae(r,"argument-error"),yd._fromEmailAndCode(e,r.code,r.tenantId)}}vc.PROVIDER_ID="password";vc.EMAIL_PASSWORD_SIGN_IN_METHOD="password";vc.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gw{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wd extends Gw{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class to extends Wd{constructor(){super("facebook.com")}static credential(e){return Ea._fromParams({providerId:to.PROVIDER_ID,signInMethod:to.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return to.credentialFromTaggedObject(e)}static credentialFromError(e){return to.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return to.credential(e.oauthAccessToken)}catch{return null}}}to.FACEBOOK_SIGN_IN_METHOD="facebook.com";to.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _i extends Wd{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Ea._fromParams({providerId:_i.PROVIDER_ID,signInMethod:_i.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return _i.credentialFromTaggedObject(e)}static credentialFromError(e){return _i.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return _i.credential(n,r)}catch{return null}}}_i.GOOGLE_SIGN_IN_METHOD="google.com";_i.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class no extends Wd{constructor(){super("github.com")}static credential(e){return Ea._fromParams({providerId:no.PROVIDER_ID,signInMethod:no.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return no.credentialFromTaggedObject(e)}static credentialFromError(e){return no.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return no.credential(e.oauthAccessToken)}catch{return null}}}no.GITHUB_SIGN_IN_METHOD="github.com";no.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ro extends Wd{constructor(){super("twitter.com")}static credential(e,n){return Ea._fromParams({providerId:ro.PROVIDER_ID,signInMethod:ro.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return ro.credentialFromTaggedObject(e)}static credentialFromError(e){return ro.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return ro.credential(n,r)}catch{return null}}}ro.TWITTER_SIGN_IN_METHOD="twitter.com";ro.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function s3(t,e){return Hd(t,"POST","/v1/accounts:signUp",bs(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sa{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const s=await Yr._fromIdTokenResponse(e,r,i),a=WE(r);return new Sa({user:s,providerId:a,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=WE(r);return new Sa({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function WE(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cp extends Ir{constructor(e,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,Cp.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new Cp(e,n,r,i)}}function Yk(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?Cp._fromErrorAndOperation(t,s,e,r):s})}async function o3(t,e,n=!1){const r=await vd(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Sa._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function a3(t,e,n=!1){const{auth:r}=t;if(gn(r.app))return Promise.reject(as(r));const i="reauthenticate";try{const s=await vd(t,Yk(r,i,e,t),n);Ae(s.idToken,r,"internal-error");const a=zw(s.idToken);Ae(a,r,"internal-error");const{sub:c}=a;return Ae(t.uid===c,r,"user-mismatch"),Sa._forOperation(t,i,s)}catch(s){throw s?.code==="auth/user-not-found"&&Tr(r,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Xk(t,e,n=!1){if(gn(t.app))return Promise.reject(as(t));const r="signIn",i=await Yk(t,r,e),s=await Sa._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(s.user),s}async function l3(t,e){return Xk(Co(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Jk(t){const e=Co(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function Qk(t,e,n){if(gn(t.app))return Promise.reject(as(t));const r=Co(t),a=await u0(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",s3).catch(u=>{throw u.code==="auth/password-does-not-meet-requirements"&&Jk(t),u}),c=await Sa._fromIdTokenResponse(r,"signIn",a);return await r._updateCurrentUser(c.user),c}function c3(t,e,n){return gn(t.app)?Promise.reject(as(t)):l3(Qe(t),vc.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&Jk(t),r})}async function u3(t,e){const n=Qe(t),i={requestType:"VERIFY_EMAIL",idToken:await t.getIdToken()},{email:s}=await Zj(n.auth,i);s!==t.email&&await t.reload()}function d3(t,e,n,r){return Qe(t).onIdTokenChanged(e,n,r)}function f3(t,e,n){return Qe(t).beforeAuthStateChanged(e,n)}function h3(t,e,n,r){return Qe(t).onAuthStateChanged(e,n,r)}function Zk(t){return Qe(t).signOut()}const Tp="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eP{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Tp,"1"),this.storage.removeItem(Tp),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p3=1e3,m3=10;class tP extends eP{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=zk(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((a,c,u)=>{this.notifyListeners(a,u)});return}const r=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const a=this.storage.getItem(r);!n&&this.localCache[r]===a||this.notifyListeners(r,a)},s=this.storage.getItem(r);Nj()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,m3):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},p3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}tP.type="LOCAL";const g3=tP;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nP extends eP{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}nP.type="SESSION";const rP=nP;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function v3(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bm{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new bm(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:s}=n.data,a=this.handlersMap[i];if(!a?.size)return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const c=Array.from(a).map(async f=>f(n.origin,s)),u=await v3(c);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:u})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}bm.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kw(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y3{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,a;return new Promise((c,u)=>{const f=Kw("",20);i.port1.start();const h=setTimeout(()=>{u(new Error("unsupported_event"))},r);a={messageChannel:i,onMessage(g){const v=g;if(v.data.eventId===f)switch(v.data.status){case"ack":clearTimeout(h),s=setTimeout(()=>{u(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),c(v.data.response);break;default:clearTimeout(h),clearTimeout(s),u(new Error("invalid_response"));break}}},this.handlers.add(a),i.port1.addEventListener("message",a.onMessage),this.target.postMessage({eventType:e,eventId:f,data:n},[i.port2])}).finally(()=>{a&&this.removeMessageHandler(a)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Si(){return window}function w3(t){Si().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iP(){return typeof Si().WorkerGlobalScope<"u"&&typeof Si().importScripts=="function"}async function _3(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function x3(){var t;return((t=navigator?.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function b3(){return iP()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sP="firebaseLocalStorageDb",E3=1,kp="firebaseLocalStorage",oP="fbase_key";class qd{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Em(t,e){return t.transaction([kp],e?"readwrite":"readonly").objectStore(kp)}function S3(){const t=indexedDB.deleteDatabase(sP);return new qd(t).toPromise()}function d0(){const t=indexedDB.open(sP,E3);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(kp,{keyPath:oP})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(kp)?e(r):(r.close(),await S3(),e(await d0()))})})}async function qE(t,e,n){const r=Em(t,!0).put({[oP]:e,value:n});return new qd(r).toPromise()}async function C3(t,e){const n=Em(t,!1).get(e),r=await new qd(n).toPromise();return r===void 0?null:r.value}function GE(t,e){const n=Em(t,!0).delete(e);return new qd(n).toPromise()}const T3=800,k3=3;class aP{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await d0(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>k3)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return iP()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=bm._getInstance(b3()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await _3(),!this.activeServiceWorker)return;this.sender=new y3(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||x3()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await d0();return await qE(e,Tp,"1"),await GE(e,Tp),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>qE(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>C3(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>GE(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=Em(i,!1).getAll();return new qd(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:s}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),T3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}aP.type="LOCAL";const P3=aP;new zd(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lP(t,e){return e?rs(e):(Ae(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yw extends Ww{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Kl(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Kl(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Kl(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function I3(t){return Xk(t.auth,new Yw(t),t.bypassAuthState)}function A3(t){const{auth:e,user:n}=t;return Ae(n,e,"internal-error"),a3(n,new Yw(t),t.bypassAuthState)}async function R3(t){const{auth:e,user:n}=t;return Ae(n,e,"internal-error"),o3(n,new Yw(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cP{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:a,type:c}=e;if(a){this.reject(a);return}const u={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(c)(u))}catch(f){this.reject(f)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return I3;case"linkViaPopup":case"linkViaRedirect":return R3;case"reauthViaPopup":case"reauthViaRedirect":return A3;default:Tr(this.auth,"internal-error")}}resolve(e){hs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){hs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N3=new zd(2e3,1e4);async function O3(t,e,n){if(gn(t.app))return Promise.reject(Zr(t,"operation-not-supported-in-this-environment"));const r=Co(t);fj(t,e,Gw);const i=lP(r,n);return new ua(r,"signInViaPopup",e,i).executeNotNull()}class ua extends cP{constructor(e,n,r,i,s){super(e,n,i,s),this.provider=r,this.authWindow=null,this.pollId=null,ua.currentPopupAction&&ua.currentPopupAction.cancel(),ua.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ae(e,this.auth,"internal-error"),e}async onExecution(){hs(this.filter.length===1,"Popup operations only handle one event");const e=Kw();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Zr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Zr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,ua.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Zr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,N3.get())};e()}}ua.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M3="pendingRedirect",rp=new Map;class D3 extends cP{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=rp.get(this.auth._key());if(!e){try{const r=await L3(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}rp.set(this.auth._key(),e)}return this.bypassAuthState||rp.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function L3(t,e){const n=$3(e),r=F3(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function j3(t,e){rp.set(t._key(),e)}function F3(t){return rs(t._redirectPersistence)}function $3(t){return np(M3,t.config.apiKey,t.name)}async function U3(t,e,n=!1){if(gn(t.app))return Promise.reject(as(t));const r=Co(t),i=lP(r,e),a=await new D3(r,i,n).execute();return a&&!n&&(delete a.user._redirectEventId,await r._persistUserIfCurrent(a.user),await r._setRedirectUser(null,e)),a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V3=10*60*1e3;class B3{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!z3(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!uP(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(Zr(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=V3&&this.cachedEventUids.clear(),this.cachedEventUids.has(KE(e))}saveEventToCache(e){this.cachedEventUids.add(KE(e)),this.lastProcessedEventTime=Date.now()}}function KE(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function uP({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function z3(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return uP(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function H3(t,e={}){return Es(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W3=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,q3=/^https?/;async function G3(t){if(t.config.emulator)return;const{authorizedDomains:e}=await H3(t);for(const n of e)try{if(K3(n))return}catch{}Tr(t,"unauthorized-domain")}function K3(t){const e=l0(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const a=new URL(t);return a.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&a.hostname===r}if(!q3.test(n))return!1;if(W3.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y3=new zd(3e4,6e4);function YE(){const t=Si().___jsl;if(t?.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function X3(t){return new Promise((e,n)=>{var r,i,s;function a(){YE(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{YE(),n(Zr(t,"network-request-failed"))},timeout:Y3.get()})}if(!((i=(r=Si().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=Si().gapi)===null||s===void 0)&&s.load)a();else{const c=Vj("iframefcb");return Si()[c]=()=>{gapi.load?a():n(Zr(t,"network-request-failed"))},Wk(`${Uj()}?onload=${c}`).catch(u=>n(u))}}).catch(e=>{throw ip=null,e})}let ip=null;function J3(t){return ip=ip||X3(t),ip}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q3=new zd(5e3,15e3),Z3="__/auth/iframe",e6="emulator/auth/iframe",t6={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},n6=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function r6(t){const e=t.config;Ae(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?Bw(e,e6):`https://${t.config.authDomain}/${Z3}`,r={apiKey:e.apiKey,appName:t.name,v:So},i=n6.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${mc(r).slice(1)}`}async function i6(t){const e=await J3(t),n=Si().gapi;return Ae(n,t,"internal-error"),e.open({where:document.body,url:r6(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:t6,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const a=Zr(t,"network-request-failed"),c=Si().setTimeout(()=>{s(a)},Q3.get());function u(){Si().clearTimeout(c),i(r)}r.ping(u).then(u,()=>{s(a)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s6={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},o6=500,a6=600,l6="_blank",c6="http://localhost";class XE{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function u6(t,e,n,r=o6,i=a6){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),a=Math.max((window.screen.availWidth-r)/2,0).toString();let c="";const u=Object.assign(Object.assign({},s6),{width:r.toString(),height:i.toString(),top:s,left:a}),f=An().toLowerCase();n&&(c=Fk(f)?l6:n),Lk(f)&&(e=e||c6,u.scrollbars="yes");const h=Object.entries(u).reduce((v,[x,_])=>`${v}${x}=${_},`,"");if(Rj(f)&&c!=="_self")return d6(e||"",c),new XE(null);const g=window.open(e||"",c,h);Ae(g,t,"popup-blocked");try{g.focus()}catch{}return new XE(g)}function d6(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f6="__/auth/handler",h6="emulator/auth/handler",p6=encodeURIComponent("fac");async function JE(t,e,n,r,i,s){Ae(t.config.authDomain,t,"auth-domain-config-required"),Ae(t.config.apiKey,t,"invalid-api-key");const a={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:So,eventId:i};if(e instanceof Gw){e.setDefaultLanguage(t.languageCode),a.providerId=e.providerId||"",e0(e.getCustomParameters())||(a.customParameters=JSON.stringify(e.getCustomParameters()));for(const[h,g]of Object.entries({}))a[h]=g}if(e instanceof Wd){const h=e.getScopes().filter(g=>g!=="");h.length>0&&(a.scopes=h.join(","))}t.tenantId&&(a.tid=t.tenantId);const c=a;for(const h of Object.keys(c))c[h]===void 0&&delete c[h];const u=await t._getAppCheckToken(),f=u?`#${p6}=${encodeURIComponent(u)}`:"";return`${m6(t)}?${mc(c).slice(1)}${f}`}function m6({config:t}){return t.emulator?Bw(t,h6):`https://${t.authDomain}/${f6}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zv="webStorageSupport";class g6{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=rP,this._completeRedirectFn=U3,this._overrideRedirectResult=j3}async _openPopup(e,n,r,i){var s;hs((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const a=await JE(e,n,r,l0(),i);return u6(e,a,Kw())}async _openRedirect(e,n,r,i){await this._originValidation(e);const s=await JE(e,n,r,l0(),i);return w3(s),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(hs(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await i6(e),r=new B3(e);return n.register("authEvent",i=>(Ae(i?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Zv,{type:Zv},i=>{var s;const a=(s=i?.[0])===null||s===void 0?void 0:s[Zv];a!==void 0&&n(!!a),Tr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=G3(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return zk()||jk()||Hw()}}const v6=g6;var QE="@firebase/auth",ZE="1.10.4";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y6{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Ae(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function w6(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function _6(t){lr(new Gn("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:a,authDomain:c}=r.options;Ae(a&&!a.includes(":"),"invalid-api-key",{appName:r.name});const u={apiKey:a,authDomain:c,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Hk(t)},f=new jj(r,i,s,u);return Gj(f,n),f},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),lr(new Gn("auth-internal",e=>{const n=Co(e.getProvider("auth").getImmediate());return(r=>new y6(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Qt(QE,ZE,w6(t)),Qt(QE,ZE,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x6=5*60,b6=Y2("authIdTokenMaxAge")||x6;let eS=null;const E6=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>b6)return;const i=n?.token;eS!==i&&(eS=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function S6(t=gc()){const e=xs(t,"auth");if(e.isInitialized())return e.getImmediate();const n=qj(t,{popupRedirectResolver:v6,persistence:[P3,g3,rP]}),r=Y2("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const s=new URL(r,location.origin);if(location.origin===s.origin){const a=E6(s.toString());f3(n,a,()=>a(n.currentUser)),d3(n,c=>a(c))}}const i=G2("auth");return i?Gk(n,`http://${i}`):Ai("Auth",!1),n}function C6(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}Fj({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=Zr("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",C6().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});_6("Browser");var tS={};const nS="@firebase/database",rS="1.0.17";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let dP="";function T6(t){dP=t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k6{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,n){n==null?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),Vt(n))}get(e){const n=this.domStorage_.getItem(this.prefixedName_(e));return n==null?null:hd(n)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P6{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,n){n==null?delete this.cache_[e]:this.cache_[e]=n}get(e){return Ri(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fP=function(t){try{if(typeof window<"u"&&typeof window[t]<"u"){const e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new k6(e)}}catch{}return new P6},da=fP("localStorage"),I6=fP("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yl=new vm("@firebase/database"),A6=function(){let t=1;return function(){return t++}}(),hP=function(t){const e=TD(t),n=new bD;n.update(e);const r=n.digest();return Tw.encodeByteArray(r)},Gd=function(...t){let e="";for(let n=0;n<t.length;n++){const r=t[n];Array.isArray(r)||r&&typeof r=="object"&&typeof r.length=="number"?e+=Gd.apply(null,r):typeof r=="object"?e+=Vt(r):e+=r,e+=" "}return e};let Wu=null,iS=!0;const R6=function(t,e){de(!0,"Can't turn on custom loggers persistently."),Yl.logLevel=Ke.VERBOSE,Wu=Yl.log.bind(Yl)},ln=function(...t){if(iS===!0&&(iS=!1,Wu===null&&I6.get("logging_enabled")===!0&&R6()),Wu){const e=Gd.apply(null,t);Wu(e)}},Kd=function(t){return function(...e){ln(t,...e)}},f0=function(...t){const e="FIREBASE INTERNAL ERROR: "+Gd(...t);Yl.error(e)},ps=function(...t){const e=`FIREBASE FATAL ERROR: ${Gd(...t)}`;throw Yl.error(e),new Error(e)},In=function(...t){const e="FIREBASE WARNING: "+Gd(...t);Yl.warn(e)},N6=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&In("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},Xw=function(t){return typeof t=="number"&&(t!==t||t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY)},O6=function(t){if(document.readyState==="complete")t();else{let e=!1;const n=function(){if(!document.body){setTimeout(n,Math.floor(10));return}e||(e=!0,t())};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&n()}),window.attachEvent("onload",n))}},Ca="[MIN_NAME]",vo="[MAX_NAME]",La=function(t,e){if(t===e)return 0;if(t===Ca||e===vo)return-1;if(e===Ca||t===vo)return 1;{const n=sS(t),r=sS(e);return n!==null?r!==null?n-r===0?t.length-e.length:n-r:-1:r!==null?1:t<e?-1:1}},M6=function(t,e){return t===e?0:t<e?-1:1},Su=function(t,e){if(e&&t in e)return e[t];throw new Error("Missing required key ("+t+") in object: "+Vt(e))},Jw=function(t){if(typeof t!="object"||t===null)return Vt(t);const e=[];for(const r in t)e.push(r);e.sort();let n="{";for(let r=0;r<e.length;r++)r!==0&&(n+=","),n+=Vt(e[r]),n+=":",n+=Jw(t[e[r]]);return n+="}",n},pP=function(t,e){const n=t.length;if(n<=e)return[t];const r=[];for(let i=0;i<n;i+=e)i+e>n?r.push(t.substring(i,n)):r.push(t.substring(i,i+e));return r};function cn(t,e){for(const n in t)t.hasOwnProperty(n)&&e(n,t[n])}const mP=function(t){de(!Xw(t),"Invalid JSON number");const e=11,n=52,r=(1<<e-1)-1;let i,s,a,c,u;t===0?(s=0,a=0,i=1/t===-1/0?1:0):(i=t<0,t=Math.abs(t),t>=Math.pow(2,1-r)?(c=Math.min(Math.floor(Math.log(t)/Math.LN2),r),s=c+r,a=Math.round(t*Math.pow(2,n-c)-Math.pow(2,n))):(s=0,a=Math.round(t/Math.pow(2,1-r-n))));const f=[];for(u=n;u;u-=1)f.push(a%2?1:0),a=Math.floor(a/2);for(u=e;u;u-=1)f.push(s%2?1:0),s=Math.floor(s/2);f.push(i?1:0),f.reverse();const h=f.join("");let g="";for(u=0;u<64;u+=8){let v=parseInt(h.substr(u,8),2).toString(16);v.length===1&&(v="0"+v),g=g+v}return g.toLowerCase()},D6=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},L6=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function j6(t,e){let n="Unknown Error";t==="too_big"?n="The data requested exceeds the maximum size that can be accessed with a single request.":t==="permission_denied"?n="Client doesn't have permission to access the desired data.":t==="unavailable"&&(n="The service is unavailable");const r=new Error(t+" at "+e._path.toString()+": "+n);return r.code=t.toUpperCase(),r}const F6=new RegExp("^-?(0*)\\d{1,10}$"),$6=-2147483648,U6=2147483647,sS=function(t){if(F6.test(t)){const e=Number(t);if(e>=$6&&e<=U6)return e}return null},yc=function(t){try{t()}catch(e){setTimeout(()=>{const n=e.stack||"";throw In("Exception was thrown by user callback.",n),e},Math.floor(0))}},V6=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},qu=function(t,e){const n=setTimeout(t,e);return typeof n=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(n):typeof n=="object"&&n.unref&&n.unref(),n};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B6{constructor(e,n){this.appCheckProvider=n,this.appName=e.name,gn(e)&&e.settings.appCheckToken&&(this.serverAppAppCheckToken=e.settings.appCheckToken),this.appCheck=n?.getImmediate({optional:!0}),this.appCheck||n?.get().then(r=>this.appCheck=r)}getToken(e){if(this.serverAppAppCheckToken){if(e)throw new Error("Attempted reuse of `FirebaseServerApp.appCheckToken` after previous usage failed.");return Promise.resolve({token:this.serverAppAppCheckToken})}return this.appCheck?this.appCheck.getToken(e):new Promise((n,r)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){var n;(n=this.appCheckProvider)===null||n===void 0||n.get().then(r=>r.addTokenListener(e))}notifyForInvalidToken(){In(`Provided AppCheck credentials for the app named "${this.appName}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z6{constructor(e,n,r){this.appName_=e,this.firebaseOptions_=n,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit(i=>this.auth_=i)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(n=>n&&n.code==="auth/token-not-initialized"?(ln("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(n)):new Promise((n,r)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(n=>n.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(n=>n.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',In(e)}}class sp{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}sp.OWNER="owner";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qw="5",gP="v",vP="s",yP="r",wP="f",_P=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,xP="ls",bP="p",h0="ac",EP="websocket",SP="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CP{constructor(e,n,r,i,s=!1,a="",c=!1,u=!1,f=null){this.secure=n,this.namespace=r,this.webSocketOnly=i,this.nodeAdmin=s,this.persistenceKey=a,this.includeNamespaceInQueryParams=c,this.isUsingEmulator=u,this.emulatorOptions=f,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=da.get("host:"+e)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&da.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){const e=this.secure?"https://":"http://",n=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${e}${this.host}/${n}`}}function H6(t){return t.host!==t.internalHost||t.isCustomHost()||t.includeNamespaceInQueryParams}function TP(t,e,n){de(typeof e=="string","typeof type must == string"),de(typeof n=="object","typeof params must == object");let r;if(e===EP)r=(t.secure?"wss://":"ws://")+t.internalHost+"/.ws?";else if(e===SP)r=(t.secure?"https://":"http://")+t.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+e);H6(t)&&(n.ns=t.namespace);const i=[];return cn(n,(s,a)=>{i.push(s+"="+a)}),r+i.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W6{constructor(){this.counters_={}}incrementCounter(e,n=1){Ri(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=n}get(){return iD(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ey={},ty={};function Zw(t){const e=t.toString();return ey[e]||(ey[e]=new W6),ey[e]}function q6(t,e){const n=t.toString();return ty[n]||(ty[n]=e()),ty[n]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G6{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,n){this.closeAfterResponse=e,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,n){for(this.pendingResponses[e]=n;this.pendingResponses[this.currentResponseNum];){const r=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let i=0;i<r.length;++i)r[i]&&yc(()=>{this.onMessage_(r[i])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oS="start",K6="close",Y6="pLPCommand",X6="pRTLPCB",kP="id",PP="pw",IP="ser",J6="cb",Q6="seg",Z6="ts",eF="d",tF="dframe",AP=1870,RP=30,nF=AP-RP,rF=25e3,iF=3e4;class $l{constructor(e,n,r,i,s,a,c){this.connId=e,this.repoInfo=n,this.applicationId=r,this.appCheckToken=i,this.authToken=s,this.transportSessionId=a,this.lastSessionId=c,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Kd(e),this.stats_=Zw(n),this.urlFn=u=>(this.appCheckToken&&(u[h0]=this.appCheckToken),TP(n,SP,u))}open(e,n){this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new G6(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(iF)),O6(()=>{if(this.isClosed_)return;this.scriptTagHolder=new e_((...s)=>{const[a,c,u,f,h]=s;if(this.incrementIncomingBytes_(s),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,a===oS)this.id=c,this.password=u;else if(a===K6)c?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(c,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+a)},(...s)=>{const[a,c]=s;this.incrementIncomingBytes_(s),this.myPacketOrderer.handleResponse(a,c)},()=>{this.onClosed_()},this.urlFn);const r={};r[oS]="t",r[IP]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(r[J6]=this.scriptTagHolder.uniqueCallbackIdentifier),r[gP]=Qw,this.transportSessionId&&(r[vP]=this.transportSessionId),this.lastSessionId&&(r[xP]=this.lastSessionId),this.applicationId&&(r[bP]=this.applicationId),this.appCheckToken&&(r[h0]=this.appCheckToken),typeof location<"u"&&location.hostname&&_P.test(location.hostname)&&(r[yP]=wP);const i=this.urlFn(r);this.log_("Connecting via long-poll to "+i),this.scriptTagHolder.addTag(i,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){$l.forceAllow_=!0}static forceDisallow(){$l.forceDisallow_=!0}static isAvailable(){return $l.forceAllow_?!0:!$l.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!D6()&&!L6()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const n=Vt(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=W2(n),i=pP(r,nF);for(let s=0;s<i.length;s++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,i.length,i[s]),this.curSegmentNum++}addDisconnectPingFrame(e,n){this.myDisconnFrame=document.createElement("iframe");const r={};r[tF]="t",r[kP]=e,r[PP]=n,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const n=Vt(e).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)}}class e_{constructor(e,n,r,i){this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=A6(),window[Y6+this.uniqueCallbackIdentifier]=e,window[X6+this.uniqueCallbackIdentifier]=n,this.myIFrame=e_.createIFrame_();let s="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(s='<script>document.domain="'+document.domain+'";<\/script>');const a="<html><body>"+s+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(a),this.myIFrame.doc.close()}catch(c){ln("frame writing exception"),c.stack&&ln(c.stack),ln(c)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",document.body){document.body.appendChild(e);try{e.contentWindow.document||ln("No IE domain setting required")}catch{const r=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,n){for(this.myID=e,this.myPW=n,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e[kP]=this.myID,e[PP]=this.myPW,e[IP]=this.currentSerial;let n=this.urlFn(e),r="",i=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+RP+r.length<=AP;){const a=this.pendingSegs.shift();r=r+"&"+Q6+i+"="+a.seg+"&"+Z6+i+"="+a.ts+"&"+eF+i+"="+a.d,i++}return n=n+r,this.addLongPollTag_(n,this.currentSerial),!0}else return!1}enqueueSegment(e,n,r){this.pendingSegs.push({seg:e,ts:n,d:r}),this.alive&&this.newRequest_()}addLongPollTag_(e,n){this.outstandingRequests.add(n);const r=()=>{this.outstandingRequests.delete(n),this.newRequest_()},i=setTimeout(r,Math.floor(rF)),s=()=>{clearTimeout(i),r()};this.addTag(e,s)}addTag(e,n){setTimeout(()=>{try{if(!this.sendNewPolls)return;const r=this.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=e,r.onload=r.onreadystatechange=function(){const i=r.readyState;(!i||i==="loaded"||i==="complete")&&(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),n())},r.onerror=()=>{ln("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(r)}catch{}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sF=16384,oF=45e3;let Pp=null;typeof MozWebSocket<"u"?Pp=MozWebSocket:typeof WebSocket<"u"&&(Pp=WebSocket);class Kr{constructor(e,n,r,i,s,a,c){this.connId=e,this.applicationId=r,this.appCheckToken=i,this.authToken=s,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Kd(this.connId),this.stats_=Zw(n),this.connURL=Kr.connectionURL_(n,a,c,i,r),this.nodeAdmin=n.nodeAdmin}static connectionURL_(e,n,r,i,s){const a={};return a[gP]=Qw,typeof location<"u"&&location.hostname&&_P.test(location.hostname)&&(a[yP]=wP),n&&(a[vP]=n),r&&(a[xP]=r),i&&(a[h0]=i),s&&(a[bP]=s),TP(e,EP,a)}open(e,n){this.onDisconnect=n,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,da.set("previous_websocket_failure",!0);try{let r;mD(),this.mySock=new Pp(this.connURL,[],r)}catch(r){this.log_("Error instantiating WebSocket.");const i=r.message||r.data;i&&this.log_(i),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=r=>{this.handleIncomingFrame(r)},this.mySock.onerror=r=>{this.log_("WebSocket error.  Closing connection.");const i=r.message||r.data;i&&this.log_(i),this.onClosed_()}}start(){}static forceDisallow(){Kr.forceDisallow_=!0}static isAvailable(){let e=!1;if(typeof navigator<"u"&&navigator.userAgent){const n=/Android ([0-9]{0,}\.[0-9]{0,})/,r=navigator.userAgent.match(n);r&&r.length>1&&parseFloat(r[1])<4.4&&(e=!0)}return!e&&Pp!==null&&!Kr.forceDisallow_}static previouslyFailed(){return da.isInMemoryStorage||da.get("previous_websocket_failure")===!0}markConnectionHealthy(){da.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const n=this.frames.join("");this.frames=null;const r=hd(n);this.onMessage(r)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if(de(this.frames===null,"We already have a frame buffer"),e.length<=6){const n=Number(e);if(!isNaN(n))return this.handleNewFrameCount_(n),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(this.mySock===null)return;const n=e.data;if(this.bytesReceived+=n.length,this.stats_.incrementCounter("bytes_received",n.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(n);else{const r=this.extractFrameCount_(n);r!==null&&this.appendFrame_(r)}}send(e){this.resetKeepAlive();const n=Vt(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=pP(n,sF);r.length>1&&this.sendString_(String(r.length));for(let i=0;i<r.length;i++)this.sendString_(r[i])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(oF))}sendString_(e){try{this.mySock.send(e)}catch(n){this.log_("Exception thrown from WebSocket.send():",n.message||n.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}Kr.responsesRequiredToBeHealthy=2;Kr.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wd{static get ALL_TRANSPORTS(){return[$l,Kr]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}constructor(e){this.initTransports_(e)}initTransports_(e){const n=Kr&&Kr.isAvailable();let r=n&&!Kr.previouslyFailed();if(e.webSocketOnly&&(n||In("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[Kr];else{const i=this.transports_=[];for(const s of wd.ALL_TRANSPORTS)s&&s.isAvailable()&&i.push(s);wd.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}wd.globalTransportInitialized_=!1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aF=6e4,lF=5e3,cF=10*1024,uF=100*1024,ny="t",aS="d",dF="s",lS="r",fF="e",cS="o",uS="a",dS="n",fS="p",hF="h";class pF{constructor(e,n,r,i,s,a,c,u,f,h){this.id=e,this.repoInfo_=n,this.applicationId_=r,this.appCheckToken_=i,this.authToken_=s,this.onMessage_=a,this.onReady_=c,this.onDisconnect_=u,this.onKill_=f,this.lastSessionId=h,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Kd("c:"+this.id+":"),this.transportManager_=new wd(n),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(n,r)},Math.floor(0));const i=e.healthyTimeout||0;i>0&&(this.healthyTimeout_=qu(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>uF?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>cF?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(i)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return n=>{e===this.conn_?this.onConnectionLost_(n):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return n=>{this.state_!==2&&(e===this.rx_?this.onPrimaryMessageReceived_(n):e===this.secondaryConn_?this.onSecondaryMessageReceived_(n):this.log_("message on old connection"))}}sendRequest(e){const n={t:"d",d:e};this.sendData_(n)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if(ny in e){const n=e[ny];n===uS?this.upgradeIfSecondaryHealthy_():n===lS?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):n===cS&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const n=Su("t",e),r=Su("d",e);if(n==="c")this.onSecondaryControl_(r);else if(n==="d")this.pendingDataMessages.push(r);else throw new Error("Unknown protocol layer: "+n)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:fS,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:uS,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:dS,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const n=Su("t",e),r=Su("d",e);n==="c"?this.onControl_(r):n==="d"&&this.onDataMessage_(r)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const n=Su(ny,e);if(aS in e){const r=e[aS];if(n===hF){const i=Object.assign({},r);this.repoInfo_.isUsingEmulator&&(i.h=this.repoInfo_.host),this.onHandshake_(i)}else if(n===dS){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let i=0;i<this.pendingDataMessages.length;++i)this.onDataMessage_(this.pendingDataMessages[i]);this.pendingDataMessages=[],this.tryCleanupConnection()}else n===dF?this.onConnectionShutdown_(r):n===lS?this.onReset_(r):n===fF?f0("Server Error: "+r):n===cS?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):f0("Unknown control packet command: "+n)}}onHandshake_(e){const n=e.ts,r=e.v,i=e.h;this.sessionId=e.s,this.repoInfo_.host=i,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),Qw!==r&&In("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),qu(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(aF))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,n){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):qu(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(lF))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:fS,d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,!e&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(da.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(e)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NP{put(e,n,r,i){}merge(e,n,r,i){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,n,r){}onDisconnectMerge(e,n,r){}onDisconnectCancel(e,n){}reportStats(e){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OP{constructor(e){this.allowedEvents_=e,this.listeners_={},de(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...n){if(Array.isArray(this.listeners_[e])){const r=[...this.listeners_[e]];for(let i=0;i<r.length;i++)r[i].callback.apply(r[i].context,n)}}on(e,n,r){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:n,context:r});const i=this.getInitialEvent(e);i&&n.apply(r,i)}off(e,n,r){this.validateEventType_(e);const i=this.listeners_[e]||[];for(let s=0;s<i.length;s++)if(i[s].callback===n&&(!r||r===i[s].context)){i.splice(s,1);return}}validateEventType_(e){de(this.allowedEvents_.find(n=>n===e),"Unknown event: "+e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ip extends OP{static getInstance(){return new Ip}constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!Iw()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}getInitialEvent(e){return de(e==="online","Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hS=32,pS=768;class Xe{constructor(e,n){if(n===void 0){this.pieces_=e.split("/");let r=0;for(let i=0;i<this.pieces_.length;i++)this.pieces_[i].length>0&&(this.pieces_[r]=this.pieces_[i],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=n}toString(){let e="";for(let n=this.pieceNum_;n<this.pieces_.length;n++)this.pieces_[n]!==""&&(e+="/"+this.pieces_[n]);return e||"/"}}function We(){return new Xe("")}function De(t){return t.pieceNum_>=t.pieces_.length?null:t.pieces_[t.pieceNum_]}function yo(t){return t.pieces_.length-t.pieceNum_}function ot(t){let e=t.pieceNum_;return e<t.pieces_.length&&e++,new Xe(t.pieces_,e)}function t_(t){return t.pieceNum_<t.pieces_.length?t.pieces_[t.pieces_.length-1]:null}function mF(t){let e="";for(let n=t.pieceNum_;n<t.pieces_.length;n++)t.pieces_[n]!==""&&(e+="/"+encodeURIComponent(String(t.pieces_[n])));return e||"/"}function _d(t,e=0){return t.pieces_.slice(t.pieceNum_+e)}function MP(t){if(t.pieceNum_>=t.pieces_.length)return null;const e=[];for(let n=t.pieceNum_;n<t.pieces_.length-1;n++)e.push(t.pieces_[n]);return new Xe(e,0)}function Ct(t,e){const n=[];for(let r=t.pieceNum_;r<t.pieces_.length;r++)n.push(t.pieces_[r]);if(e instanceof Xe)for(let r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);else{const r=e.split("/");for(let i=0;i<r.length;i++)r[i].length>0&&n.push(r[i])}return new Xe(n,0)}function Le(t){return t.pieceNum_>=t.pieces_.length}function kn(t,e){const n=De(t),r=De(e);if(n===null)return e;if(n===r)return kn(ot(t),ot(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+t+")")}function gF(t,e){const n=_d(t,0),r=_d(e,0);for(let i=0;i<n.length&&i<r.length;i++){const s=La(n[i],r[i]);if(s!==0)return s}return n.length===r.length?0:n.length<r.length?-1:1}function n_(t,e){if(yo(t)!==yo(e))return!1;for(let n=t.pieceNum_,r=e.pieceNum_;n<=t.pieces_.length;n++,r++)if(t.pieces_[n]!==e.pieces_[r])return!1;return!0}function Sr(t,e){let n=t.pieceNum_,r=e.pieceNum_;if(yo(t)>yo(e))return!1;for(;n<t.pieces_.length;){if(t.pieces_[n]!==e.pieces_[r])return!1;++n,++r}return!0}class vF{constructor(e,n){this.errorPrefix_=n,this.parts_=_d(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let r=0;r<this.parts_.length;r++)this.byteLength_+=gm(this.parts_[r]);DP(this)}}function yF(t,e){t.parts_.length>0&&(t.byteLength_+=1),t.parts_.push(e),t.byteLength_+=gm(e),DP(t)}function wF(t){const e=t.parts_.pop();t.byteLength_-=gm(e),t.parts_.length>0&&(t.byteLength_-=1)}function DP(t){if(t.byteLength_>pS)throw new Error(t.errorPrefix_+"has a key path longer than "+pS+" bytes ("+t.byteLength_+").");if(t.parts_.length>hS)throw new Error(t.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+hS+") or object contains a cycle "+ra(t))}function ra(t){return t.parts_.length===0?"":"in property '"+t.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r_ extends OP{static getInstance(){return new r_}constructor(){super(["visible"]);let e,n;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(n="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(n="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(n="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(n="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,n&&document.addEventListener(n,()=>{const r=!document[e];r!==this.visible_&&(this.visible_=r,this.trigger("visible",r))},!1)}getInitialEvent(e){return de(e==="visible","Unknown event type: "+e),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cu=1e3,_F=60*5*1e3,mS=30*1e3,xF=1.3,bF=3e4,EF="server_kill",gS=3;class ls extends NP{constructor(e,n,r,i,s,a,c,u){if(super(),this.repoInfo_=e,this.applicationId_=n,this.onDataUpdate_=r,this.onConnectStatus_=i,this.onServerInfoUpdate_=s,this.authTokenProvider_=a,this.appCheckTokenProvider_=c,this.authOverride_=u,this.id=ls.nextPersistentConnectionId_++,this.log_=Kd("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=Cu,this.maxReconnectDelay_=_F,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,u)throw new Error("Auth override specified in options, but not supported on non Node.js platforms");r_.getInstance().on("visible",this.onVisible_,this),e.host.indexOf("fblocal")===-1&&Ip.getInstance().on("online",this.onOnline_,this)}sendRequest(e,n,r){const i=++this.requestNumber_,s={r:i,a:e,b:n};this.log_(Vt(s)),de(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(s),r&&(this.requestCBHash_[i]=r)}get(e){this.initConnection_();const n=new Vd,i={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:a=>{const c=a.d;a.s==="ok"?n.resolve(c):n.reject(c)}};this.outstandingGets_.push(i),this.outstandingGetCount_++;const s=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(s),n.promise}listen(e,n,r,i){this.initConnection_();const s=e._queryIdentifier,a=e._path.toString();this.log_("Listen called for "+a+" "+s),this.listens.has(a)||this.listens.set(a,new Map),de(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),de(!this.listens.get(a).has(s),"listen() called twice for same path/queryId.");const c={onComplete:i,hashFn:n,query:e,tag:r};this.listens.get(a).set(s,c),this.connected_&&this.sendListen_(c)}sendGet_(e){const n=this.outstandingGets_[e];this.sendRequest("g",n.request,r=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),n.onComplete&&n.onComplete(r)})}sendListen_(e){const n=e.query,r=n._path.toString(),i=n._queryIdentifier;this.log_("Listen on "+r+" for "+i);const s={p:r},a="q";e.tag&&(s.q=n._queryObject,s.t=e.tag),s.h=e.hashFn(),this.sendRequest(a,s,c=>{const u=c.d,f=c.s;ls.warnOnListenWarnings_(u,n),(this.listens.get(r)&&this.listens.get(r).get(i))===e&&(this.log_("listen response",c),f!=="ok"&&this.removeListen_(r,i),e.onComplete&&e.onComplete(f,u))})}static warnOnListenWarnings_(e,n){if(e&&typeof e=="object"&&Ri(e,"w")){const r=Zl(e,"w");if(Array.isArray(r)&&~r.indexOf("no_index")){const i='".indexOn": "'+n._queryParams.getIndex().toString()+'"',s=n._path.toString();In(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${i} at ${s} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&e.length===40||xD(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=mS)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,n=_D(e)?"auth":"gauth",r={cred:e};this.authOverride_===null?r.noauth=!0:typeof this.authOverride_=="object"&&(r.authvar=this.authOverride_),this.sendRequest(n,r,i=>{const s=i.s,a=i.d||"error";this.authToken_===e&&(s==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(s,a))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const n=e.s,r=e.d||"error";n==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(n,r)})}unlisten(e,n){const r=e._path.toString(),i=e._queryIdentifier;this.log_("Unlisten called for "+r+" "+i),de(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(r,i)&&this.connected_&&this.sendUnlisten_(r,i,e._queryObject,n)}sendUnlisten_(e,n,r,i){this.log_("Unlisten on "+e+" for "+n);const s={p:e},a="n";i&&(s.q=r,s.t=i),this.sendRequest(a,s)}onDisconnectPut(e,n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,n,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:n,onComplete:r})}onDisconnectMerge(e,n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,n,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:n,onComplete:r})}onDisconnectCancel(e,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:n})}sendOnDisconnect_(e,n,r,i){const s={p:n,d:r};this.log_("onDisconnect "+e,s),this.sendRequest(e,s,a=>{i&&setTimeout(()=>{i(a.s,a.d)},Math.floor(0))})}put(e,n,r,i){this.putInternal("p",e,n,r,i)}merge(e,n,r,i){this.putInternal("m",e,n,r,i)}putInternal(e,n,r,i,s){this.initConnection_();const a={p:n,d:r};s!==void 0&&(a.h=s),this.outstandingPuts_.push({action:e,request:a,onComplete:i}),this.outstandingPutCount_++;const c=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(c):this.log_("Buffering put: "+n)}sendPut_(e){const n=this.outstandingPuts_[e].action,r=this.outstandingPuts_[e].request,i=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(n,r,s=>{this.log_(n+" response",s),delete this.outstandingPuts_[e],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),i&&i(s.s,s.d)})}reportStats(e){if(this.connected_){const n={c:e};this.log_("reportStats",n),this.sendRequest("s",n,r=>{if(r.s!=="ok"){const s=r.d;this.log_("reportStats","Error sending stats: "+s)}})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+Vt(e));const n=e.r,r=this.requestCBHash_[n];r&&(delete this.requestCBHash_[n],r(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,n){this.log_("handleServerMessage",e,n),e==="d"?this.onDataUpdate_(n.p,n.d,!1,n.t):e==="m"?this.onDataUpdate_(n.p,n.d,!0,n.t):e==="c"?this.onListenRevoked_(n.p,n.q):e==="ac"?this.onAuthRevoked_(n.s,n.d):e==="apc"?this.onAppCheckRevoked_(n.s,n.d):e==="sd"?this.onSecurityDebugPacket_(n):f0("Unrecognized action received from server: "+Vt(e)+`
Are you using the latest client?`)}onReady_(e,n){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(e),this.lastSessionId=n,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){de(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Cu,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=Cu,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>bF&&(this.reconnectDelay_=Cu),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const e=Math.max(0,new Date().getTime()-this.lastConnectionAttemptTime_);let n=Math.max(0,this.reconnectDelay_-e);n=Math.random()*n,this.log_("Trying to reconnect in "+n+"ms"),this.scheduleConnect_(n),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*xF)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const e=this.onDataMessage_.bind(this),n=this.onReady_.bind(this),r=this.onRealtimeDisconnect_.bind(this),i=this.id+":"+ls.nextConnectionId_++,s=this.lastSessionId;let a=!1,c=null;const u=function(){c?c.close():(a=!0,r())},f=function(g){de(c,"sendRequest call when we're not connected not allowed."),c.sendRequest(g)};this.realtime_={close:u,sendRequest:f};const h=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[g,v]=await Promise.all([this.authTokenProvider_.getToken(h),this.appCheckTokenProvider_.getToken(h)]);a?ln("getToken() completed but was canceled"):(ln("getToken() completed. Creating connection."),this.authToken_=g&&g.accessToken,this.appCheckToken_=v&&v.token,c=new pF(i,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,n,r,x=>{In(x+" ("+this.repoInfo_.toString()+")"),this.interrupt(EF)},s))}catch(g){this.log_("Failed to get token: "+g),a||(this.repoInfo_.nodeAdmin&&In(g),u())}}}interrupt(e){ln("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){ln("Resuming connection for reason: "+e),delete this.interruptReasons_[e],e0(this.interruptReasons_)&&(this.reconnectDelay_=Cu,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const n=e-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:n})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const n=this.outstandingPuts_[e];n&&"h"in n.request&&n.queued&&(n.onComplete&&n.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(e,n){let r;n?r=n.map(s=>Jw(s)).join("$"):r="default";const i=this.removeListen_(e,r);i&&i.onComplete&&i.onComplete("permission_denied")}removeListen_(e,n){const r=new Xe(e).toString();let i;if(this.listens.has(r)){const s=this.listens.get(r);i=s.get(n),s.delete(n),s.size===0&&this.listens.delete(r)}else i=void 0;return i}onAuthRevoked_(e,n){ln("Auth token revoked: "+e+"/"+n),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(e==="invalid_token"||e==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=gS&&(this.reconnectDelay_=mS,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,n){ln("App check token revoked: "+e+"/"+n),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(e==="invalid_token"||e==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=gS&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const n of e.values())this.sendListen_(n);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let n="js";e["sdk."+n+"."+dP.replace(/\./g,"-")]=1,Iw()?e["framework.cordova"]=1:X2()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=Ip.getInstance().currentlyOnline();return e0(this.interruptReasons_)&&e}}ls.nextPersistentConnectionId_=0;ls.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class je{constructor(e,n){this.name=e,this.node=n}static Wrap(e,n){return new je(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sm{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,n){const r=new je(Ca,e),i=new je(Ca,n);return this.compare(r,i)!==0}minPost(){return je.MIN}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Mh;class LP extends Sm{static get __EMPTY_NODE(){return Mh}static set __EMPTY_NODE(e){Mh=e}compare(e,n){return La(e.name,n.name)}isDefinedOn(e){throw pc("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,n){return!1}minPost(){return je.MIN}maxPost(){return new je(vo,Mh)}makePost(e,n){return de(typeof e=="string","KeyIndex indexValue must always be a string."),new je(e,Mh)}toString(){return".key"}}const ga=new LP;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dh{constructor(e,n,r,i,s=null){this.isReverse_=i,this.resultGenerator_=s,this.nodeStack_=[];let a=1;for(;!e.isEmpty();)if(e=e,a=n?r(e.key,n):1,i&&(a*=-1),a<0)this.isReverse_?e=e.left:e=e.right;else if(a===0){this.nodeStack_.push(e);break}else this.nodeStack_.push(e),this.isReverse_?e=e.right:e=e.left}getNext(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_.pop(),n;if(this.resultGenerator_?n=this.resultGenerator_(e.key,e.value):n={key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return n}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}class Xt{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??Xt.RED,this.left=i??Hn.EMPTY_NODE,this.right=s??Hn.EMPTY_NODE}copy(e,n,r,i,s){return new Xt(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return s<0?i=i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i=i.copy(null,n,null,null,null):i=i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp_()}removeMin_(){if(this.left.isEmpty())return Hn.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,n){let r,i;if(r=this,n(e,r.key)<0)!r.left.isEmpty()&&!r.left.isRed_()&&!r.left.left.isRed_()&&(r=r.moveRedLeft_()),r=r.copy(null,null,null,r.left.remove(e,n),null);else{if(r.left.isRed_()&&(r=r.rotateRight_()),!r.right.isEmpty()&&!r.right.isRed_()&&!r.right.left.isRed_()&&(r=r.moveRedRight_()),n(e,r.key)===0){if(r.right.isEmpty())return Hn.EMPTY_NODE;i=r.right.min_(),r=r.copy(i.key,i.value,null,null,r.right.removeMin_())}r=r.copy(null,null,null,null,r.right.remove(e,n))}return r.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,Xt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,Xt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}Xt.RED=!0;Xt.BLACK=!1;class SF{copy(e,n,r,i,s){return this}insert(e,n,r){return new Xt(e,n,null)}remove(e,n){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class Hn{constructor(e,n=Hn.EMPTY_NODE){this.comparator_=e,this.root_=n}insert(e,n){return new Hn(this.comparator_,this.root_.insert(e,n,this.comparator_).copy(null,null,Xt.BLACK,null,null))}remove(e){return new Hn(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,Xt.BLACK,null,null))}get(e){let n,r=this.root_;for(;!r.isEmpty();){if(n=this.comparator_(e,r.key),n===0)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}getPredecessorKey(e){let n,r=this.root_,i=null;for(;!r.isEmpty();)if(n=this.comparator_(e,r.key),n===0){if(r.left.isEmpty())return i?i.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}else n<0?r=r.left:n>0&&(i=r,r=r.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new Dh(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,n){return new Dh(this.root_,e,this.comparator_,!1,n)}getReverseIteratorFrom(e,n){return new Dh(this.root_,e,this.comparator_,!0,n)}getReverseIterator(e){return new Dh(this.root_,null,this.comparator_,!0,e)}}Hn.EMPTY_NODE=new SF;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CF(t,e){return La(t.name,e.name)}function i_(t,e){return La(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let p0;function TF(t){p0=t}const jP=function(t){return typeof t=="number"?"number:"+mP(t):"string:"+t},FP=function(t){if(t.isLeafNode()){const e=t.val();de(typeof e=="string"||typeof e=="number"||typeof e=="object"&&Ri(e,".sv"),"Priority must be a string or number.")}else de(t===p0||t.isEmpty(),"priority of unexpected type.");de(t===p0||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let vS;class Kt{static set __childrenNodeConstructor(e){vS=e}static get __childrenNodeConstructor(){return vS}constructor(e,n=Kt.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=n,this.lazyHash_=null,de(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),FP(this.priorityNode_)}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new Kt(this.value_,e)}getImmediateChild(e){return e===".priority"?this.priorityNode_:Kt.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return Le(e)?this:De(e)===".priority"?this.priorityNode_:Kt.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,n){return null}updateImmediateChild(e,n){return e===".priority"?this.updatePriority(n):n.isEmpty()&&e!==".priority"?this:Kt.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,n).updatePriority(this.priorityNode_)}updateChild(e,n){const r=De(e);return r===null?n:n.isEmpty()&&r!==".priority"?this:(de(r!==".priority"||yo(e)===1,".priority must be the last token in a path"),this.updateImmediateChild(r,Kt.__childrenNodeConstructor.EMPTY_NODE.updateChild(ot(e),n)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,n){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+jP(this.priorityNode_.val())+":");const n=typeof this.value_;e+=n+":",n==="number"?e+=mP(this.value_):e+=this.value_,this.lazyHash_=hP(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===Kt.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof Kt.__childrenNodeConstructor?-1:(de(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const n=typeof e.value_,r=typeof this.value_,i=Kt.VALUE_TYPE_ORDER.indexOf(n),s=Kt.VALUE_TYPE_ORDER.indexOf(r);return de(i>=0,"Unknown leaf type: "+n),de(s>=0,"Unknown leaf type: "+r),i===s?r==="object"?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:s-i}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const n=e;return this.value_===n.value_&&this.priorityNode_.equals(n.priorityNode_)}else return!1}}Kt.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let $P,UP;function kF(t){$P=t}function PF(t){UP=t}class IF extends Sm{compare(e,n){const r=e.node.getPriority(),i=n.node.getPriority(),s=r.compareTo(i);return s===0?La(e.name,n.name):s}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,n){return!e.getPriority().equals(n.getPriority())}minPost(){return je.MIN}maxPost(){return new je(vo,new Kt("[PRIORITY-POST]",UP))}makePost(e,n){const r=$P(e);return new je(n,new Kt("[PRIORITY-POST]",r))}toString(){return".priority"}}const vt=new IF;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AF=Math.log(2);class RF{constructor(e){const n=s=>parseInt(Math.log(s)/AF,10),r=s=>parseInt(Array(s+1).join("1"),2);this.count=n(e+1),this.current_=this.count-1;const i=r(this.count);this.bits_=e+1&i}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const Ap=function(t,e,n,r){t.sort(e);const i=function(u,f){const h=f-u;let g,v;if(h===0)return null;if(h===1)return g=t[u],v=n?n(g):g,new Xt(v,g.node,Xt.BLACK,null,null);{const x=parseInt(h/2,10)+u,_=i(u,x),T=i(x+1,f);return g=t[x],v=n?n(g):g,new Xt(v,g.node,Xt.BLACK,_,T)}},s=function(u){let f=null,h=null,g=t.length;const v=function(_,T){const I=g-_,R=g;g-=_;const P=i(I+1,R),k=t[I],j=n?n(k):k;x(new Xt(j,k.node,T,null,P))},x=function(_){f?(f.left=_,f=_):(h=_,f=_)};for(let _=0;_<u.count;++_){const T=u.nextBitIsOne(),I=Math.pow(2,u.count-(_+1));T?v(I,Xt.BLACK):(v(I,Xt.BLACK),v(I,Xt.RED))}return h},a=new RF(t.length),c=s(a);return new Hn(r||e,c)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ry;const Il={};class is{static get Default(){return de(Il&&vt,"ChildrenNode.ts has not been loaded"),ry=ry||new is({".priority":Il},{".priority":vt}),ry}constructor(e,n){this.indexes_=e,this.indexSet_=n}get(e){const n=Zl(this.indexes_,e);if(!n)throw new Error("No index defined for "+e);return n instanceof Hn?n:null}hasIndex(e){return Ri(this.indexSet_,e.toString())}addIndex(e,n){de(e!==ga,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const r=[];let i=!1;const s=n.getIterator(je.Wrap);let a=s.getNext();for(;a;)i=i||e.isDefinedOn(a.node),r.push(a),a=s.getNext();let c;i?c=Ap(r,e.getCompare()):c=Il;const u=e.toString(),f=Object.assign({},this.indexSet_);f[u]=e;const h=Object.assign({},this.indexes_);return h[u]=c,new is(h,f)}addToIndexes(e,n){const r=wp(this.indexes_,(i,s)=>{const a=Zl(this.indexSet_,s);if(de(a,"Missing index implementation for "+s),i===Il)if(a.isDefinedOn(e.node)){const c=[],u=n.getIterator(je.Wrap);let f=u.getNext();for(;f;)f.name!==e.name&&c.push(f),f=u.getNext();return c.push(e),Ap(c,a.getCompare())}else return Il;else{const c=n.get(e.name);let u=i;return c&&(u=u.remove(new je(e.name,c))),u.insert(e,e.node)}});return new is(r,this.indexSet_)}removeFromIndexes(e,n){const r=wp(this.indexes_,i=>{if(i===Il)return i;{const s=n.get(e.name);return s?i.remove(new je(e.name,s)):i}});return new is(r,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Tu;class Re{static get EMPTY_NODE(){return Tu||(Tu=new Re(new Hn(i_),null,is.Default))}constructor(e,n,r){this.children_=e,this.priorityNode_=n,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&FP(this.priorityNode_),this.children_.isEmpty()&&de(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}isLeafNode(){return!1}getPriority(){return this.priorityNode_||Tu}updatePriority(e){return this.children_.isEmpty()?this:new Re(this.children_,e,this.indexMap_)}getImmediateChild(e){if(e===".priority")return this.getPriority();{const n=this.children_.get(e);return n===null?Tu:n}}getChild(e){const n=De(e);return n===null?this:this.getImmediateChild(n).getChild(ot(e))}hasChild(e){return this.children_.get(e)!==null}updateImmediateChild(e,n){if(de(n,"We should always be passing snapshot nodes"),e===".priority")return this.updatePriority(n);{const r=new je(e,n);let i,s;n.isEmpty()?(i=this.children_.remove(e),s=this.indexMap_.removeFromIndexes(r,this.children_)):(i=this.children_.insert(e,n),s=this.indexMap_.addToIndexes(r,this.children_));const a=i.isEmpty()?Tu:this.priorityNode_;return new Re(i,a,s)}}updateChild(e,n){const r=De(e);if(r===null)return n;{de(De(e)!==".priority"||yo(e)===1,".priority must be the last token in a path");const i=this.getImmediateChild(r).updateChild(ot(e),n);return this.updateImmediateChild(r,i)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const n={};let r=0,i=0,s=!0;if(this.forEachChild(vt,(a,c)=>{n[a]=c.val(e),r++,s&&Re.INTEGER_REGEXP_.test(a)?i=Math.max(i,Number(a)):s=!1}),!e&&s&&i<2*r){const a=[];for(const c in n)a[c]=n[c];return a}else return e&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n}hash(){if(this.lazyHash_===null){let e="";this.getPriority().isEmpty()||(e+="priority:"+jP(this.getPriority().val())+":"),this.forEachChild(vt,(n,r)=>{const i=r.hash();i!==""&&(e+=":"+n+":"+i)}),this.lazyHash_=e===""?"":hP(e)}return this.lazyHash_}getPredecessorChildName(e,n,r){const i=this.resolveIndex_(r);if(i){const s=i.getPredecessorKey(new je(e,n));return s?s.name:null}else return this.children_.getPredecessorKey(e)}getFirstChildName(e){const n=this.resolveIndex_(e);if(n){const r=n.minKey();return r&&r.name}else return this.children_.minKey()}getFirstChild(e){const n=this.getFirstChildName(e);return n?new je(n,this.children_.get(n)):null}getLastChildName(e){const n=this.resolveIndex_(e);if(n){const r=n.maxKey();return r&&r.name}else return this.children_.maxKey()}getLastChild(e){const n=this.getLastChildName(e);return n?new je(n,this.children_.get(n)):null}forEachChild(e,n){const r=this.resolveIndex_(e);return r?r.inorderTraversal(i=>n(i.name,i.node)):this.children_.inorderTraversal(n)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,n){const r=this.resolveIndex_(n);if(r)return r.getIteratorFrom(e,i=>i);{const i=this.children_.getIteratorFrom(e.name,je.Wrap);let s=i.peek();for(;s!=null&&n.compare(s,e)<0;)i.getNext(),s=i.peek();return i}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,n){const r=this.resolveIndex_(n);if(r)return r.getReverseIteratorFrom(e,i=>i);{const i=this.children_.getReverseIteratorFrom(e.name,je.Wrap);let s=i.peek();for(;s!=null&&n.compare(s,e)>0;)i.getNext(),s=i.peek();return i}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===Yd?-1:0}withIndex(e){if(e===ga||this.indexMap_.hasIndex(e))return this;{const n=this.indexMap_.addIndex(e,this.children_);return new Re(this.children_,this.priorityNode_,n)}}isIndexed(e){return e===ga||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const n=e;if(this.getPriority().equals(n.getPriority()))if(this.children_.count()===n.children_.count()){const r=this.getIterator(vt),i=n.getIterator(vt);let s=r.getNext(),a=i.getNext();for(;s&&a;){if(s.name!==a.name||!s.node.equals(a.node))return!1;s=r.getNext(),a=i.getNext()}return s===null&&a===null}else return!1;else return!1}}resolveIndex_(e){return e===ga?null:this.indexMap_.get(e.toString())}}Re.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class NF extends Re{constructor(){super(new Hn(i_),Re.EMPTY_NODE,is.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return Re.EMPTY_NODE}isEmpty(){return!1}}const Yd=new NF;Object.defineProperties(je,{MIN:{value:new je(Ca,Re.EMPTY_NODE)},MAX:{value:new je(vo,Yd)}});LP.__EMPTY_NODE=Re.EMPTY_NODE;Kt.__childrenNodeConstructor=Re;TF(Yd);PF(Yd);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OF=!0;function Ut(t,e=null){if(t===null)return Re.EMPTY_NODE;if(typeof t=="object"&&".priority"in t&&(e=t[".priority"]),de(e===null||typeof e=="string"||typeof e=="number"||typeof e=="object"&&".sv"in e,"Invalid priority type found: "+typeof e),typeof t=="object"&&".value"in t&&t[".value"]!==null&&(t=t[".value"]),typeof t!="object"||".sv"in t){const n=t;return new Kt(n,Ut(e))}if(!(t instanceof Array)&&OF){const n=[];let r=!1;if(cn(t,(a,c)=>{if(a.substring(0,1)!=="."){const u=Ut(c);u.isEmpty()||(r=r||!u.getPriority().isEmpty(),n.push(new je(a,u)))}}),n.length===0)return Re.EMPTY_NODE;const s=Ap(n,CF,a=>a.name,i_);if(r){const a=Ap(n,vt.getCompare());return new Re(s,Ut(e),new is({".priority":a},{".priority":vt}))}else return new Re(s,Ut(e),is.Default)}else{let n=Re.EMPTY_NODE;return cn(t,(r,i)=>{if(Ri(t,r)&&r.substring(0,1)!=="."){const s=Ut(i);(s.isLeafNode()||!s.isEmpty())&&(n=n.updateImmediateChild(r,s))}}),n.updatePriority(Ut(e))}}kF(Ut);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s_ extends Sm{constructor(e){super(),this.indexPath_=e,de(!Le(e)&&De(e)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,n){const r=this.extractChild(e.node),i=this.extractChild(n.node),s=r.compareTo(i);return s===0?La(e.name,n.name):s}makePost(e,n){const r=Ut(e),i=Re.EMPTY_NODE.updateChild(this.indexPath_,r);return new je(n,i)}maxPost(){const e=Re.EMPTY_NODE.updateChild(this.indexPath_,Yd);return new je(vo,e)}toString(){return _d(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MF extends Sm{compare(e,n){const r=e.node.compareTo(n.node);return r===0?La(e.name,n.name):r}isDefinedOn(e){return!0}indexedValueChanged(e,n){return!e.equals(n)}minPost(){return je.MIN}maxPost(){return je.MAX}makePost(e,n){const r=Ut(e);return new je(n,r)}toString(){return".value"}}const VP=new MF;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BP(t){return{type:"value",snapshotNode:t}}function ec(t,e){return{type:"child_added",snapshotNode:e,childName:t}}function xd(t,e){return{type:"child_removed",snapshotNode:e,childName:t}}function bd(t,e,n){return{type:"child_changed",snapshotNode:e,childName:t,oldSnap:n}}function DF(t,e){return{type:"child_moved",snapshotNode:e,childName:t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o_{constructor(e){this.index_=e}updateChild(e,n,r,i,s,a){de(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");const c=e.getImmediateChild(n);return c.getChild(i).equals(r.getChild(i))&&c.isEmpty()===r.isEmpty()||(a!=null&&(r.isEmpty()?e.hasChild(n)?a.trackChildChange(xd(n,c)):de(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):c.isEmpty()?a.trackChildChange(ec(n,r)):a.trackChildChange(bd(n,r,c))),e.isLeafNode()&&r.isEmpty())?e:e.updateImmediateChild(n,r).withIndex(this.index_)}updateFullNode(e,n,r){return r!=null&&(e.isLeafNode()||e.forEachChild(vt,(i,s)=>{n.hasChild(i)||r.trackChildChange(xd(i,s))}),n.isLeafNode()||n.forEachChild(vt,(i,s)=>{if(e.hasChild(i)){const a=e.getImmediateChild(i);a.equals(s)||r.trackChildChange(bd(i,s,a))}else r.trackChildChange(ec(i,s))})),n.withIndex(this.index_)}updatePriority(e,n){return e.isEmpty()?Re.EMPTY_NODE:e.updatePriority(n)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ed{constructor(e){this.indexedFilter_=new o_(e.getIndex()),this.index_=e.getIndex(),this.startPost_=Ed.getStartPost_(e),this.endPost_=Ed.getEndPost_(e),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(e){const n=this.startIsInclusive_?this.index_.compare(this.getStartPost(),e)<=0:this.index_.compare(this.getStartPost(),e)<0,r=this.endIsInclusive_?this.index_.compare(e,this.getEndPost())<=0:this.index_.compare(e,this.getEndPost())<0;return n&&r}updateChild(e,n,r,i,s,a){return this.matches(new je(n,r))||(r=Re.EMPTY_NODE),this.indexedFilter_.updateChild(e,n,r,i,s,a)}updateFullNode(e,n,r){n.isLeafNode()&&(n=Re.EMPTY_NODE);let i=n.withIndex(this.index_);i=i.updatePriority(Re.EMPTY_NODE);const s=this;return n.forEachChild(vt,(a,c)=>{s.matches(new je(a,c))||(i=i.updateImmediateChild(a,Re.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(e,i,r)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(e){if(e.hasStart()){const n=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),n)}else return e.getIndex().minPost()}static getEndPost_(e){if(e.hasEnd()){const n=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),n)}else return e.getIndex().maxPost()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LF{constructor(e){this.withinDirectionalStart=n=>this.reverse_?this.withinEndPost(n):this.withinStartPost(n),this.withinDirectionalEnd=n=>this.reverse_?this.withinStartPost(n):this.withinEndPost(n),this.withinStartPost=n=>{const r=this.index_.compare(this.rangedFilter_.getStartPost(),n);return this.startIsInclusive_?r<=0:r<0},this.withinEndPost=n=>{const r=this.index_.compare(n,this.rangedFilter_.getEndPost());return this.endIsInclusive_?r<=0:r<0},this.rangedFilter_=new Ed(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft(),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}updateChild(e,n,r,i,s,a){return this.rangedFilter_.matches(new je(n,r))||(r=Re.EMPTY_NODE),e.getImmediateChild(n).equals(r)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,n,r,i,s,a):this.fullLimitUpdateChild_(e,n,r,s,a)}updateFullNode(e,n,r){let i;if(n.isLeafNode()||n.isEmpty())i=Re.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<n.numChildren()&&n.isIndexed(this.index_)){i=Re.EMPTY_NODE.withIndex(this.index_);let s;this.reverse_?s=n.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):s=n.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let a=0;for(;s.hasNext()&&a<this.limit_;){const c=s.getNext();if(this.withinDirectionalStart(c))if(this.withinDirectionalEnd(c))i=i.updateImmediateChild(c.name,c.node),a++;else break;else continue}}else{i=n.withIndex(this.index_),i=i.updatePriority(Re.EMPTY_NODE);let s;this.reverse_?s=i.getReverseIterator(this.index_):s=i.getIterator(this.index_);let a=0;for(;s.hasNext();){const c=s.getNext();a<this.limit_&&this.withinDirectionalStart(c)&&this.withinDirectionalEnd(c)?a++:i=i.updateImmediateChild(c.name,Re.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,i,r)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(e,n,r,i,s){let a;if(this.reverse_){const g=this.index_.getCompare();a=(v,x)=>g(x,v)}else a=this.index_.getCompare();const c=e;de(c.numChildren()===this.limit_,"");const u=new je(n,r),f=this.reverse_?c.getFirstChild(this.index_):c.getLastChild(this.index_),h=this.rangedFilter_.matches(u);if(c.hasChild(n)){const g=c.getImmediateChild(n);let v=i.getChildAfterChild(this.index_,f,this.reverse_);for(;v!=null&&(v.name===n||c.hasChild(v.name));)v=i.getChildAfterChild(this.index_,v,this.reverse_);const x=v==null?1:a(v,u);if(h&&!r.isEmpty()&&x>=0)return s?.trackChildChange(bd(n,r,g)),c.updateImmediateChild(n,r);{s?.trackChildChange(xd(n,g));const T=c.updateImmediateChild(n,Re.EMPTY_NODE);return v!=null&&this.rangedFilter_.matches(v)?(s?.trackChildChange(ec(v.name,v.node)),T.updateImmediateChild(v.name,v.node)):T}}else return r.isEmpty()?e:h&&a(f,u)>=0?(s!=null&&(s.trackChildChange(xd(f.name,f.node)),s.trackChildChange(ec(n,r))),c.updateImmediateChild(n,r).updateImmediateChild(f.name,Re.EMPTY_NODE)):e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a_{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=vt}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return de(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return de(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Ca}hasEnd(){return this.endSet_}getIndexEndValue(){return de(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return de(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:vo}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return de(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===vt}copy(){const e=new a_;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function jF(t){return t.loadsAllData()?new o_(t.getIndex()):t.hasLimit()?new LF(t):new Ed(t)}function FF(t,e,n){const r=t.copy();return r.startSet_=!0,e===void 0&&(e=null),r.indexStartValue_=e,n!=null?(r.startNameSet_=!0,r.indexStartName_=n):(r.startNameSet_=!1,r.indexStartName_=""),r}function $F(t,e,n){const r=t.copy();return r.endSet_=!0,e===void 0&&(e=null),r.indexEndValue_=e,n!==void 0?(r.endNameSet_=!0,r.indexEndName_=n):(r.endNameSet_=!1,r.indexEndName_=""),r}function UF(t,e){const n=t.copy();return n.index_=e,n}function yS(t){const e={};if(t.isDefault())return e;let n;if(t.index_===vt?n="$priority":t.index_===VP?n="$value":t.index_===ga?n="$key":(de(t.index_ instanceof s_,"Unrecognized index type!"),n=t.index_.toString()),e.orderBy=Vt(n),t.startSet_){const r=t.startAfterSet_?"startAfter":"startAt";e[r]=Vt(t.indexStartValue_),t.startNameSet_&&(e[r]+=","+Vt(t.indexStartName_))}if(t.endSet_){const r=t.endBeforeSet_?"endBefore":"endAt";e[r]=Vt(t.indexEndValue_),t.endNameSet_&&(e[r]+=","+Vt(t.indexEndName_))}return t.limitSet_&&(t.isViewFromLeft()?e.limitToFirst=t.limit_:e.limitToLast=t.limit_),e}function wS(t){const e={};if(t.startSet_&&(e.sp=t.indexStartValue_,t.startNameSet_&&(e.sn=t.indexStartName_),e.sin=!t.startAfterSet_),t.endSet_&&(e.ep=t.indexEndValue_,t.endNameSet_&&(e.en=t.indexEndName_),e.ein=!t.endBeforeSet_),t.limitSet_){e.l=t.limit_;let n=t.viewFrom_;n===""&&(t.isViewFromLeft()?n="l":n="r"),e.vf=n}return t.index_!==vt&&(e.i=t.index_.toString()),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rp extends NP{reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,n){return n!==void 0?"tag$"+n:(de(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}constructor(e,n,r,i){super(),this.repoInfo_=e,this.onDataUpdate_=n,this.authTokenProvider_=r,this.appCheckTokenProvider_=i,this.log_=Kd("p:rest:"),this.listens_={}}listen(e,n,r,i){const s=e._path.toString();this.log_("Listen called for "+s+" "+e._queryIdentifier);const a=Rp.getListenId_(e,r),c={};this.listens_[a]=c;const u=yS(e._queryParams);this.restRequest_(s+".json",u,(f,h)=>{let g=h;if(f===404&&(g=null,f=null),f===null&&this.onDataUpdate_(s,g,!1,r),Zl(this.listens_,a)===c){let v;f?f===401?v="permission_denied":v="rest_error:"+f:v="ok",i(v,null)}})}unlisten(e,n){const r=Rp.getListenId_(e,n);delete this.listens_[r]}get(e){const n=yS(e._queryParams),r=e._path.toString(),i=new Vd;return this.restRequest_(r+".json",n,(s,a)=>{let c=a;s===404&&(c=null,s=null),s===null?(this.onDataUpdate_(r,c,!1,null),i.resolve(c)):i.reject(new Error(c))}),i.promise}refreshAuthToken(e){}restRequest_(e,n={},r){return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([i,s])=>{i&&i.accessToken&&(n.auth=i.accessToken),s&&s.token&&(n.ac=s.token);const a=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+mc(n);this.log_("Sending REST request for "+a);const c=new XMLHttpRequest;c.onreadystatechange=()=>{if(r&&c.readyState===4){this.log_("REST Response for "+a+" received. status:",c.status,"response:",c.responseText);let u=null;if(c.status>=200&&c.status<300){try{u=hd(c.responseText)}catch{In("Failed to parse JSON response for "+a+": "+c.responseText)}r(null,u)}else c.status!==401&&c.status!==404&&In("Got unsuccessful REST response for "+a+" Status: "+c.status),r(c.status);r=null}},c.open("GET",a,!0),c.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VF{constructor(){this.rootNode_=Re.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,n){this.rootNode_=this.rootNode_.updateChild(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Np(){return{value:null,children:new Map}}function zP(t,e,n){if(Le(e))t.value=n,t.children.clear();else if(t.value!==null)t.value=t.value.updateChild(e,n);else{const r=De(e);t.children.has(r)||t.children.set(r,Np());const i=t.children.get(r);e=ot(e),zP(i,e,n)}}function m0(t,e,n){t.value!==null?n(e,t.value):BF(t,(r,i)=>{const s=new Xe(e.toString()+"/"+r);m0(i,s,n)})}function BF(t,e){t.children.forEach((n,r)=>{e(r,n)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zF{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),n=Object.assign({},e);return this.last_&&cn(this.last_,(r,i)=>{n[r]=n[r]-i}),this.last_=e,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _S=10*1e3,HF=30*1e3,WF=5*60*1e3;class qF{constructor(e,n){this.server_=n,this.statsToReport_={},this.statsListener_=new zF(e);const r=_S+(HF-_S)*Math.random();qu(this.reportStats_.bind(this),Math.floor(r))}reportStats_(){const e=this.statsListener_.get(),n={};let r=!1;cn(e,(i,s)=>{s>0&&Ri(this.statsToReport_,i)&&(n[i]=s,r=!0)}),r&&this.server_.reportStats(n),qu(this.reportStats_.bind(this),Math.floor(Math.random()*2*WF))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Xr;(function(t){t[t.OVERWRITE=0]="OVERWRITE",t[t.MERGE=1]="MERGE",t[t.ACK_USER_WRITE=2]="ACK_USER_WRITE",t[t.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(Xr||(Xr={}));function l_(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function c_(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function u_(t){return{fromUser:!1,fromServer:!0,queryId:t,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Op{constructor(e,n,r){this.path=e,this.affectedTree=n,this.revert=r,this.type=Xr.ACK_USER_WRITE,this.source=l_()}operationForChild(e){if(Le(this.path)){if(this.affectedTree.value!=null)return de(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const n=this.affectedTree.subtree(new Xe(e));return new Op(We(),n,this.revert)}}else return de(De(this.path)===e,"operationForChild called for unrelated child."),new Op(ot(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sd{constructor(e,n){this.source=e,this.path=n,this.type=Xr.LISTEN_COMPLETE}operationForChild(e){return Le(this.path)?new Sd(this.source,We()):new Sd(this.source,ot(this.path))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ta{constructor(e,n,r){this.source=e,this.path=n,this.snap=r,this.type=Xr.OVERWRITE}operationForChild(e){return Le(this.path)?new Ta(this.source,We(),this.snap.getImmediateChild(e)):new Ta(this.source,ot(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tc{constructor(e,n,r){this.source=e,this.path=n,this.children=r,this.type=Xr.MERGE}operationForChild(e){if(Le(this.path)){const n=this.children.subtree(new Xe(e));return n.isEmpty()?null:n.value?new Ta(this.source,We(),n.value):new tc(this.source,We(),n)}else return de(De(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new tc(this.source,ot(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wo{constructor(e,n,r){this.node_=e,this.fullyInitialized_=n,this.filtered_=r}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(Le(e))return this.isFullyInitialized()&&!this.filtered_;const n=De(e);return this.isCompleteForChild(n)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GF{constructor(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}}function KF(t,e,n,r){const i=[],s=[];return e.forEach(a=>{a.type==="child_changed"&&t.index_.indexedValueChanged(a.oldSnap,a.snapshotNode)&&s.push(DF(a.childName,a.snapshotNode))}),ku(t,i,"child_removed",e,r,n),ku(t,i,"child_added",e,r,n),ku(t,i,"child_moved",s,r,n),ku(t,i,"child_changed",e,r,n),ku(t,i,"value",e,r,n),i}function ku(t,e,n,r,i,s){const a=r.filter(c=>c.type===n);a.sort((c,u)=>XF(t,c,u)),a.forEach(c=>{const u=YF(t,c,s);i.forEach(f=>{f.respondsTo(c.type)&&e.push(f.createEvent(u,t.query_))})})}function YF(t,e,n){return e.type==="value"||e.type==="child_removed"||(e.prevName=n.getPredecessorChildName(e.childName,e.snapshotNode,t.index_)),e}function XF(t,e,n){if(e.childName==null||n.childName==null)throw pc("Should only compare child_ events.");const r=new je(e.childName,e.snapshotNode),i=new je(n.childName,n.snapshotNode);return t.index_.compare(r,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cm(t,e){return{eventCache:t,serverCache:e}}function Gu(t,e,n,r){return Cm(new wo(e,n,r),t.serverCache)}function HP(t,e,n,r){return Cm(t.eventCache,new wo(e,n,r))}function Mp(t){return t.eventCache.isFullyInitialized()?t.eventCache.getNode():null}function ka(t){return t.serverCache.isFullyInitialized()?t.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let iy;const JF=()=>(iy||(iy=new Hn(M6)),iy);class st{static fromObject(e){let n=new st(null);return cn(e,(r,i)=>{n=n.set(new Xe(r),i)}),n}constructor(e,n=JF()){this.value=e,this.children=n}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,n){if(this.value!=null&&n(this.value))return{path:We(),value:this.value};if(Le(e))return null;{const r=De(e),i=this.children.get(r);if(i!==null){const s=i.findRootMostMatchingPathAndValue(ot(e),n);return s!=null?{path:Ct(new Xe(r),s.path),value:s.value}:null}else return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(Le(e))return this;{const n=De(e),r=this.children.get(n);return r!==null?r.subtree(ot(e)):new st(null)}}set(e,n){if(Le(e))return new st(n,this.children);{const r=De(e),s=(this.children.get(r)||new st(null)).set(ot(e),n),a=this.children.insert(r,s);return new st(this.value,a)}}remove(e){if(Le(e))return this.children.isEmpty()?new st(null):new st(null,this.children);{const n=De(e),r=this.children.get(n);if(r){const i=r.remove(ot(e));let s;return i.isEmpty()?s=this.children.remove(n):s=this.children.insert(n,i),this.value===null&&s.isEmpty()?new st(null):new st(this.value,s)}else return this}}get(e){if(Le(e))return this.value;{const n=De(e),r=this.children.get(n);return r?r.get(ot(e)):null}}setTree(e,n){if(Le(e))return n;{const r=De(e),s=(this.children.get(r)||new st(null)).setTree(ot(e),n);let a;return s.isEmpty()?a=this.children.remove(r):a=this.children.insert(r,s),new st(this.value,a)}}fold(e){return this.fold_(We(),e)}fold_(e,n){const r={};return this.children.inorderTraversal((i,s)=>{r[i]=s.fold_(Ct(e,i),n)}),n(e,this.value,r)}findOnPath(e,n){return this.findOnPath_(e,We(),n)}findOnPath_(e,n,r){const i=this.value?r(n,this.value):!1;if(i)return i;if(Le(e))return null;{const s=De(e),a=this.children.get(s);return a?a.findOnPath_(ot(e),Ct(n,s),r):null}}foreachOnPath(e,n){return this.foreachOnPath_(e,We(),n)}foreachOnPath_(e,n,r){if(Le(e))return this;{this.value&&r(n,this.value);const i=De(e),s=this.children.get(i);return s?s.foreachOnPath_(ot(e),Ct(n,i),r):new st(null)}}foreach(e){this.foreach_(We(),e)}foreach_(e,n){this.children.inorderTraversal((r,i)=>{i.foreach_(Ct(e,r),n)}),this.value&&n(e,this.value)}foreachChild(e){this.children.inorderTraversal((n,r)=>{r.value&&e(n,r.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ei{constructor(e){this.writeTree_=e}static empty(){return new ei(new st(null))}}function Ku(t,e,n){if(Le(e))return new ei(new st(n));{const r=t.writeTree_.findRootMostValueAndPath(e);if(r!=null){const i=r.path;let s=r.value;const a=kn(i,e);return s=s.updateChild(a,n),new ei(t.writeTree_.set(i,s))}else{const i=new st(n),s=t.writeTree_.setTree(e,i);return new ei(s)}}}function g0(t,e,n){let r=t;return cn(n,(i,s)=>{r=Ku(r,Ct(e,i),s)}),r}function xS(t,e){if(Le(e))return ei.empty();{const n=t.writeTree_.setTree(e,new st(null));return new ei(n)}}function v0(t,e){return ja(t,e)!=null}function ja(t,e){const n=t.writeTree_.findRootMostValueAndPath(e);return n!=null?t.writeTree_.get(n.path).getChild(kn(n.path,e)):null}function bS(t){const e=[],n=t.writeTree_.value;return n!=null?n.isLeafNode()||n.forEachChild(vt,(r,i)=>{e.push(new je(r,i))}):t.writeTree_.children.inorderTraversal((r,i)=>{i.value!=null&&e.push(new je(r,i.value))}),e}function ho(t,e){if(Le(e))return t;{const n=ja(t,e);return n!=null?new ei(new st(n)):new ei(t.writeTree_.subtree(e))}}function y0(t){return t.writeTree_.isEmpty()}function nc(t,e){return WP(We(),t.writeTree_,e)}function WP(t,e,n){if(e.value!=null)return n.updateChild(t,e.value);{let r=null;return e.children.inorderTraversal((i,s)=>{i===".priority"?(de(s.value!==null,"Priority writes must always be leaf nodes"),r=s.value):n=WP(Ct(t,i),s,n)}),!n.getChild(t).isEmpty()&&r!==null&&(n=n.updateChild(Ct(t,".priority"),r)),n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tm(t,e){return YP(e,t)}function QF(t,e,n,r,i){de(r>t.lastWriteId,"Stacking an older write on top of newer ones"),i===void 0&&(i=!0),t.allWrites.push({path:e,snap:n,writeId:r,visible:i}),i&&(t.visibleWrites=Ku(t.visibleWrites,e,n)),t.lastWriteId=r}function ZF(t,e,n,r){de(r>t.lastWriteId,"Stacking an older merge on top of newer ones"),t.allWrites.push({path:e,children:n,writeId:r,visible:!0}),t.visibleWrites=g0(t.visibleWrites,e,n),t.lastWriteId=r}function e7(t,e){for(let n=0;n<t.allWrites.length;n++){const r=t.allWrites[n];if(r.writeId===e)return r}return null}function t7(t,e){const n=t.allWrites.findIndex(c=>c.writeId===e);de(n>=0,"removeWrite called with nonexistent writeId.");const r=t.allWrites[n];t.allWrites.splice(n,1);let i=r.visible,s=!1,a=t.allWrites.length-1;for(;i&&a>=0;){const c=t.allWrites[a];c.visible&&(a>=n&&n7(c,r.path)?i=!1:Sr(r.path,c.path)&&(s=!0)),a--}if(i){if(s)return r7(t),!0;if(r.snap)t.visibleWrites=xS(t.visibleWrites,r.path);else{const c=r.children;cn(c,u=>{t.visibleWrites=xS(t.visibleWrites,Ct(r.path,u))})}return!0}else return!1}function n7(t,e){if(t.snap)return Sr(t.path,e);for(const n in t.children)if(t.children.hasOwnProperty(n)&&Sr(Ct(t.path,n),e))return!0;return!1}function r7(t){t.visibleWrites=qP(t.allWrites,i7,We()),t.allWrites.length>0?t.lastWriteId=t.allWrites[t.allWrites.length-1].writeId:t.lastWriteId=-1}function i7(t){return t.visible}function qP(t,e,n){let r=ei.empty();for(let i=0;i<t.length;++i){const s=t[i];if(e(s)){const a=s.path;let c;if(s.snap)Sr(n,a)?(c=kn(n,a),r=Ku(r,c,s.snap)):Sr(a,n)&&(c=kn(a,n),r=Ku(r,We(),s.snap.getChild(c)));else if(s.children){if(Sr(n,a))c=kn(n,a),r=g0(r,c,s.children);else if(Sr(a,n))if(c=kn(a,n),Le(c))r=g0(r,We(),s.children);else{const u=Zl(s.children,De(c));if(u){const f=u.getChild(ot(c));r=Ku(r,We(),f)}}}else throw pc("WriteRecord should have .snap or .children")}}return r}function GP(t,e,n,r,i){if(!r&&!i){const s=ja(t.visibleWrites,e);if(s!=null)return s;{const a=ho(t.visibleWrites,e);if(y0(a))return n;if(n==null&&!v0(a,We()))return null;{const c=n||Re.EMPTY_NODE;return nc(a,c)}}}else{const s=ho(t.visibleWrites,e);if(!i&&y0(s))return n;if(!i&&n==null&&!v0(s,We()))return null;{const a=function(f){return(f.visible||i)&&(!r||!~r.indexOf(f.writeId))&&(Sr(f.path,e)||Sr(e,f.path))},c=qP(t.allWrites,a,e),u=n||Re.EMPTY_NODE;return nc(c,u)}}}function s7(t,e,n){let r=Re.EMPTY_NODE;const i=ja(t.visibleWrites,e);if(i)return i.isLeafNode()||i.forEachChild(vt,(s,a)=>{r=r.updateImmediateChild(s,a)}),r;if(n){const s=ho(t.visibleWrites,e);return n.forEachChild(vt,(a,c)=>{const u=nc(ho(s,new Xe(a)),c);r=r.updateImmediateChild(a,u)}),bS(s).forEach(a=>{r=r.updateImmediateChild(a.name,a.node)}),r}else{const s=ho(t.visibleWrites,e);return bS(s).forEach(a=>{r=r.updateImmediateChild(a.name,a.node)}),r}}function o7(t,e,n,r,i){de(r||i,"Either existingEventSnap or existingServerSnap must exist");const s=Ct(e,n);if(v0(t.visibleWrites,s))return null;{const a=ho(t.visibleWrites,s);return y0(a)?i.getChild(n):nc(a,i.getChild(n))}}function a7(t,e,n,r){const i=Ct(e,n),s=ja(t.visibleWrites,i);if(s!=null)return s;if(r.isCompleteForChild(n)){const a=ho(t.visibleWrites,i);return nc(a,r.getNode().getImmediateChild(n))}else return null}function l7(t,e){return ja(t.visibleWrites,e)}function c7(t,e,n,r,i,s,a){let c;const u=ho(t.visibleWrites,e),f=ja(u,We());if(f!=null)c=f;else if(n!=null)c=nc(u,n);else return[];if(c=c.withIndex(a),!c.isEmpty()&&!c.isLeafNode()){const h=[],g=a.getCompare(),v=s?c.getReverseIteratorFrom(r,a):c.getIteratorFrom(r,a);let x=v.getNext();for(;x&&h.length<i;)g(x,r)!==0&&h.push(x),x=v.getNext();return h}else return[]}function u7(){return{visibleWrites:ei.empty(),allWrites:[],lastWriteId:-1}}function Dp(t,e,n,r){return GP(t.writeTree,t.treePath,e,n,r)}function d_(t,e){return s7(t.writeTree,t.treePath,e)}function ES(t,e,n,r){return o7(t.writeTree,t.treePath,e,n,r)}function Lp(t,e){return l7(t.writeTree,Ct(t.treePath,e))}function d7(t,e,n,r,i,s){return c7(t.writeTree,t.treePath,e,n,r,i,s)}function f_(t,e,n){return a7(t.writeTree,t.treePath,e,n)}function KP(t,e){return YP(Ct(t.treePath,e),t.writeTree)}function YP(t,e){return{treePath:t,writeTree:e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f7{constructor(){this.changeMap=new Map}trackChildChange(e){const n=e.type,r=e.childName;de(n==="child_added"||n==="child_changed"||n==="child_removed","Only child changes supported for tracking"),de(r!==".priority","Only non-priority child changes can be tracked.");const i=this.changeMap.get(r);if(i){const s=i.type;if(n==="child_added"&&s==="child_removed")this.changeMap.set(r,bd(r,e.snapshotNode,i.snapshotNode));else if(n==="child_removed"&&s==="child_added")this.changeMap.delete(r);else if(n==="child_removed"&&s==="child_changed")this.changeMap.set(r,xd(r,i.oldSnap));else if(n==="child_changed"&&s==="child_added")this.changeMap.set(r,ec(r,e.snapshotNode));else if(n==="child_changed"&&s==="child_changed")this.changeMap.set(r,bd(r,e.snapshotNode,i.oldSnap));else throw pc("Illegal combination of changes: "+e+" occurred after "+i)}else this.changeMap.set(r,e)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h7{getCompleteChild(e){return null}getChildAfterChild(e,n,r){return null}}const XP=new h7;class h_{constructor(e,n,r=null){this.writes_=e,this.viewCache_=n,this.optCompleteServerCache_=r}getCompleteChild(e){const n=this.viewCache_.eventCache;if(n.isCompleteForChild(e))return n.getNode().getImmediateChild(e);{const r=this.optCompleteServerCache_!=null?new wo(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return f_(this.writes_,e,r)}}getChildAfterChild(e,n,r){const i=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:ka(this.viewCache_),s=d7(this.writes_,i,n,1,r,e);return s.length===0?null:s[0]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function p7(t){return{filter:t}}function m7(t,e){de(e.eventCache.getNode().isIndexed(t.filter.getIndex()),"Event snap not indexed"),de(e.serverCache.getNode().isIndexed(t.filter.getIndex()),"Server snap not indexed")}function g7(t,e,n,r,i){const s=new f7;let a,c;if(n.type===Xr.OVERWRITE){const f=n;f.source.fromUser?a=w0(t,e,f.path,f.snap,r,i,s):(de(f.source.fromServer,"Unknown source."),c=f.source.tagged||e.serverCache.isFiltered()&&!Le(f.path),a=jp(t,e,f.path,f.snap,r,i,c,s))}else if(n.type===Xr.MERGE){const f=n;f.source.fromUser?a=y7(t,e,f.path,f.children,r,i,s):(de(f.source.fromServer,"Unknown source."),c=f.source.tagged||e.serverCache.isFiltered(),a=_0(t,e,f.path,f.children,r,i,c,s))}else if(n.type===Xr.ACK_USER_WRITE){const f=n;f.revert?a=x7(t,e,f.path,r,i,s):a=w7(t,e,f.path,f.affectedTree,r,i,s)}else if(n.type===Xr.LISTEN_COMPLETE)a=_7(t,e,n.path,r,s);else throw pc("Unknown operation type: "+n.type);const u=s.getChanges();return v7(e,a,u),{viewCache:a,changes:u}}function v7(t,e,n){const r=e.eventCache;if(r.isFullyInitialized()){const i=r.getNode().isLeafNode()||r.getNode().isEmpty(),s=Mp(t);(n.length>0||!t.eventCache.isFullyInitialized()||i&&!r.getNode().equals(s)||!r.getNode().getPriority().equals(s.getPriority()))&&n.push(BP(Mp(e)))}}function JP(t,e,n,r,i,s){const a=e.eventCache;if(Lp(r,n)!=null)return e;{let c,u;if(Le(n))if(de(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const f=ka(e),h=f instanceof Re?f:Re.EMPTY_NODE,g=d_(r,h);c=t.filter.updateFullNode(e.eventCache.getNode(),g,s)}else{const f=Dp(r,ka(e));c=t.filter.updateFullNode(e.eventCache.getNode(),f,s)}else{const f=De(n);if(f===".priority"){de(yo(n)===1,"Can't have a priority with additional path components");const h=a.getNode();u=e.serverCache.getNode();const g=ES(r,n,h,u);g!=null?c=t.filter.updatePriority(h,g):c=a.getNode()}else{const h=ot(n);let g;if(a.isCompleteForChild(f)){u=e.serverCache.getNode();const v=ES(r,n,a.getNode(),u);v!=null?g=a.getNode().getImmediateChild(f).updateChild(h,v):g=a.getNode().getImmediateChild(f)}else g=f_(r,f,e.serverCache);g!=null?c=t.filter.updateChild(a.getNode(),f,g,h,i,s):c=a.getNode()}}return Gu(e,c,a.isFullyInitialized()||Le(n),t.filter.filtersNodes())}}function jp(t,e,n,r,i,s,a,c){const u=e.serverCache;let f;const h=a?t.filter:t.filter.getIndexedFilter();if(Le(n))f=h.updateFullNode(u.getNode(),r,null);else if(h.filtersNodes()&&!u.isFiltered()){const x=u.getNode().updateChild(n,r);f=h.updateFullNode(u.getNode(),x,null)}else{const x=De(n);if(!u.isCompleteForPath(n)&&yo(n)>1)return e;const _=ot(n),I=u.getNode().getImmediateChild(x).updateChild(_,r);x===".priority"?f=h.updatePriority(u.getNode(),I):f=h.updateChild(u.getNode(),x,I,_,XP,null)}const g=HP(e,f,u.isFullyInitialized()||Le(n),h.filtersNodes()),v=new h_(i,g,s);return JP(t,g,n,i,v,c)}function w0(t,e,n,r,i,s,a){const c=e.eventCache;let u,f;const h=new h_(i,e,s);if(Le(n))f=t.filter.updateFullNode(e.eventCache.getNode(),r,a),u=Gu(e,f,!0,t.filter.filtersNodes());else{const g=De(n);if(g===".priority")f=t.filter.updatePriority(e.eventCache.getNode(),r),u=Gu(e,f,c.isFullyInitialized(),c.isFiltered());else{const v=ot(n),x=c.getNode().getImmediateChild(g);let _;if(Le(v))_=r;else{const T=h.getCompleteChild(g);T!=null?t_(v)===".priority"&&T.getChild(MP(v)).isEmpty()?_=T:_=T.updateChild(v,r):_=Re.EMPTY_NODE}if(x.equals(_))u=e;else{const T=t.filter.updateChild(c.getNode(),g,_,v,h,a);u=Gu(e,T,c.isFullyInitialized(),t.filter.filtersNodes())}}}return u}function SS(t,e){return t.eventCache.isCompleteForChild(e)}function y7(t,e,n,r,i,s,a){let c=e;return r.foreach((u,f)=>{const h=Ct(n,u);SS(e,De(h))&&(c=w0(t,c,h,f,i,s,a))}),r.foreach((u,f)=>{const h=Ct(n,u);SS(e,De(h))||(c=w0(t,c,h,f,i,s,a))}),c}function CS(t,e,n){return n.foreach((r,i)=>{e=e.updateChild(r,i)}),e}function _0(t,e,n,r,i,s,a,c){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let u=e,f;Le(n)?f=r:f=new st(null).setTree(n,r);const h=e.serverCache.getNode();return f.children.inorderTraversal((g,v)=>{if(h.hasChild(g)){const x=e.serverCache.getNode().getImmediateChild(g),_=CS(t,x,v);u=jp(t,u,new Xe(g),_,i,s,a,c)}}),f.children.inorderTraversal((g,v)=>{const x=!e.serverCache.isCompleteForChild(g)&&v.value===null;if(!h.hasChild(g)&&!x){const _=e.serverCache.getNode().getImmediateChild(g),T=CS(t,_,v);u=jp(t,u,new Xe(g),T,i,s,a,c)}}),u}function w7(t,e,n,r,i,s,a){if(Lp(i,n)!=null)return e;const c=e.serverCache.isFiltered(),u=e.serverCache;if(r.value!=null){if(Le(n)&&u.isFullyInitialized()||u.isCompleteForPath(n))return jp(t,e,n,u.getNode().getChild(n),i,s,c,a);if(Le(n)){let f=new st(null);return u.getNode().forEachChild(ga,(h,g)=>{f=f.set(new Xe(h),g)}),_0(t,e,n,f,i,s,c,a)}else return e}else{let f=new st(null);return r.foreach((h,g)=>{const v=Ct(n,h);u.isCompleteForPath(v)&&(f=f.set(h,u.getNode().getChild(v)))}),_0(t,e,n,f,i,s,c,a)}}function _7(t,e,n,r,i){const s=e.serverCache,a=HP(e,s.getNode(),s.isFullyInitialized()||Le(n),s.isFiltered());return JP(t,a,n,r,XP,i)}function x7(t,e,n,r,i,s){let a;if(Lp(r,n)!=null)return e;{const c=new h_(r,e,i),u=e.eventCache.getNode();let f;if(Le(n)||De(n)===".priority"){let h;if(e.serverCache.isFullyInitialized())h=Dp(r,ka(e));else{const g=e.serverCache.getNode();de(g instanceof Re,"serverChildren would be complete if leaf node"),h=d_(r,g)}h=h,f=t.filter.updateFullNode(u,h,s)}else{const h=De(n);let g=f_(r,h,e.serverCache);g==null&&e.serverCache.isCompleteForChild(h)&&(g=u.getImmediateChild(h)),g!=null?f=t.filter.updateChild(u,h,g,ot(n),c,s):e.eventCache.getNode().hasChild(h)?f=t.filter.updateChild(u,h,Re.EMPTY_NODE,ot(n),c,s):f=u,f.isEmpty()&&e.serverCache.isFullyInitialized()&&(a=Dp(r,ka(e)),a.isLeafNode()&&(f=t.filter.updateFullNode(f,a,s)))}return a=e.serverCache.isFullyInitialized()||Lp(r,We())!=null,Gu(e,f,a,t.filter.filtersNodes())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b7{constructor(e,n){this.query_=e,this.eventRegistrations_=[];const r=this.query_._queryParams,i=new o_(r.getIndex()),s=jF(r);this.processor_=p7(s);const a=n.serverCache,c=n.eventCache,u=i.updateFullNode(Re.EMPTY_NODE,a.getNode(),null),f=s.updateFullNode(Re.EMPTY_NODE,c.getNode(),null),h=new wo(u,a.isFullyInitialized(),i.filtersNodes()),g=new wo(f,c.isFullyInitialized(),s.filtersNodes());this.viewCache_=Cm(g,h),this.eventGenerator_=new GF(this.query_)}get query(){return this.query_}}function E7(t){return t.viewCache_.serverCache.getNode()}function S7(t){return Mp(t.viewCache_)}function C7(t,e){const n=ka(t.viewCache_);return n&&(t.query._queryParams.loadsAllData()||!Le(e)&&!n.getImmediateChild(De(e)).isEmpty())?n.getChild(e):null}function TS(t){return t.eventRegistrations_.length===0}function T7(t,e){t.eventRegistrations_.push(e)}function kS(t,e,n){const r=[];if(n){de(e==null,"A cancel should cancel all event registrations.");const i=t.query._path;t.eventRegistrations_.forEach(s=>{const a=s.createCancelEvent(n,i);a&&r.push(a)})}if(e){let i=[];for(let s=0;s<t.eventRegistrations_.length;++s){const a=t.eventRegistrations_[s];if(!a.matches(e))i.push(a);else if(e.hasAnyCallback()){i=i.concat(t.eventRegistrations_.slice(s+1));break}}t.eventRegistrations_=i}else t.eventRegistrations_=[];return r}function PS(t,e,n,r){e.type===Xr.MERGE&&e.source.queryId!==null&&(de(ka(t.viewCache_),"We should always have a full cache before handling merges"),de(Mp(t.viewCache_),"Missing event cache, even though we have a server cache"));const i=t.viewCache_,s=g7(t.processor_,i,e,n,r);return m7(t.processor_,s.viewCache),de(s.viewCache.serverCache.isFullyInitialized()||!i.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),t.viewCache_=s.viewCache,QP(t,s.changes,s.viewCache.eventCache.getNode(),null)}function k7(t,e){const n=t.viewCache_.eventCache,r=[];return n.getNode().isLeafNode()||n.getNode().forEachChild(vt,(s,a)=>{r.push(ec(s,a))}),n.isFullyInitialized()&&r.push(BP(n.getNode())),QP(t,r,n.getNode(),e)}function QP(t,e,n,r){const i=r?[r]:t.eventRegistrations_;return KF(t.eventGenerator_,e,n,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Fp;class ZP{constructor(){this.views=new Map}}function P7(t){de(!Fp,"__referenceConstructor has already been defined"),Fp=t}function I7(){return de(Fp,"Reference.ts has not been loaded"),Fp}function A7(t){return t.views.size===0}function p_(t,e,n,r){const i=e.source.queryId;if(i!==null){const s=t.views.get(i);return de(s!=null,"SyncTree gave us an op for an invalid query."),PS(s,e,n,r)}else{let s=[];for(const a of t.views.values())s=s.concat(PS(a,e,n,r));return s}}function eI(t,e,n,r,i){const s=e._queryIdentifier,a=t.views.get(s);if(!a){let c=Dp(n,i?r:null),u=!1;c?u=!0:r instanceof Re?(c=d_(n,r),u=!1):(c=Re.EMPTY_NODE,u=!1);const f=Cm(new wo(c,u,!1),new wo(r,i,!1));return new b7(e,f)}return a}function R7(t,e,n,r,i,s){const a=eI(t,e,r,i,s);return t.views.has(e._queryIdentifier)||t.views.set(e._queryIdentifier,a),T7(a,n),k7(a,n)}function N7(t,e,n,r){const i=e._queryIdentifier,s=[];let a=[];const c=_o(t);if(i==="default")for(const[u,f]of t.views.entries())a=a.concat(kS(f,n,r)),TS(f)&&(t.views.delete(u),f.query._queryParams.loadsAllData()||s.push(f.query));else{const u=t.views.get(i);u&&(a=a.concat(kS(u,n,r)),TS(u)&&(t.views.delete(i),u.query._queryParams.loadsAllData()||s.push(u.query)))}return c&&!_o(t)&&s.push(new(I7())(e._repo,e._path)),{removed:s,events:a}}function tI(t){const e=[];for(const n of t.views.values())n.query._queryParams.loadsAllData()||e.push(n);return e}function po(t,e){let n=null;for(const r of t.views.values())n=n||C7(r,e);return n}function nI(t,e){if(e._queryParams.loadsAllData())return km(t);{const r=e._queryIdentifier;return t.views.get(r)}}function rI(t,e){return nI(t,e)!=null}function _o(t){return km(t)!=null}function km(t){for(const e of t.views.values())if(e.query._queryParams.loadsAllData())return e;return null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let $p;function O7(t){de(!$p,"__referenceConstructor has already been defined"),$p=t}function M7(){return de($p,"Reference.ts has not been loaded"),$p}let D7=1;class IS{constructor(e){this.listenProvider_=e,this.syncPointTree_=new st(null),this.pendingWriteTree_=u7(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function iI(t,e,n,r,i){return QF(t.pendingWriteTree_,e,n,r,i),i?wc(t,new Ta(l_(),e,n)):[]}function L7(t,e,n,r){ZF(t.pendingWriteTree_,e,n,r);const i=st.fromObject(n);return wc(t,new tc(l_(),e,i))}function ao(t,e,n=!1){const r=e7(t.pendingWriteTree_,e);if(t7(t.pendingWriteTree_,e)){let s=new st(null);return r.snap!=null?s=s.set(We(),!0):cn(r.children,a=>{s=s.set(new Xe(a),!0)}),wc(t,new Op(r.path,s,n))}else return[]}function Xd(t,e,n){return wc(t,new Ta(c_(),e,n))}function j7(t,e,n){const r=st.fromObject(n);return wc(t,new tc(c_(),e,r))}function F7(t,e){return wc(t,new Sd(c_(),e))}function $7(t,e,n){const r=g_(t,n);if(r){const i=v_(r),s=i.path,a=i.queryId,c=kn(s,e),u=new Sd(u_(a),c);return y_(t,s,u)}else return[]}function Up(t,e,n,r,i=!1){const s=e._path,a=t.syncPointTree_.get(s);let c=[];if(a&&(e._queryIdentifier==="default"||rI(a,e))){const u=N7(a,e,n,r);A7(a)&&(t.syncPointTree_=t.syncPointTree_.remove(s));const f=u.removed;if(c=u.events,!i){const h=f.findIndex(v=>v._queryParams.loadsAllData())!==-1,g=t.syncPointTree_.findOnPath(s,(v,x)=>_o(x));if(h&&!g){const v=t.syncPointTree_.subtree(s);if(!v.isEmpty()){const x=B7(v);for(let _=0;_<x.length;++_){const T=x[_],I=T.query,R=lI(t,T);t.listenProvider_.startListening(Yu(I),Cd(t,I),R.hashFn,R.onComplete)}}}!g&&f.length>0&&!r&&(h?t.listenProvider_.stopListening(Yu(e),null):f.forEach(v=>{const x=t.queryToTagMap.get(Pm(v));t.listenProvider_.stopListening(Yu(v),x)}))}z7(t,f)}return c}function sI(t,e,n,r){const i=g_(t,r);if(i!=null){const s=v_(i),a=s.path,c=s.queryId,u=kn(a,e),f=new Ta(u_(c),u,n);return y_(t,a,f)}else return[]}function U7(t,e,n,r){const i=g_(t,r);if(i){const s=v_(i),a=s.path,c=s.queryId,u=kn(a,e),f=st.fromObject(n),h=new tc(u_(c),u,f);return y_(t,a,h)}else return[]}function x0(t,e,n,r=!1){const i=e._path;let s=null,a=!1;t.syncPointTree_.foreachOnPath(i,(v,x)=>{const _=kn(v,i);s=s||po(x,_),a=a||_o(x)});let c=t.syncPointTree_.get(i);c?(a=a||_o(c),s=s||po(c,We())):(c=new ZP,t.syncPointTree_=t.syncPointTree_.set(i,c));let u;s!=null?u=!0:(u=!1,s=Re.EMPTY_NODE,t.syncPointTree_.subtree(i).foreachChild((x,_)=>{const T=po(_,We());T&&(s=s.updateImmediateChild(x,T))}));const f=rI(c,e);if(!f&&!e._queryParams.loadsAllData()){const v=Pm(e);de(!t.queryToTagMap.has(v),"View does not exist, but we have a tag");const x=H7();t.queryToTagMap.set(v,x),t.tagToQueryMap.set(x,v)}const h=Tm(t.pendingWriteTree_,i);let g=R7(c,e,n,h,s,u);if(!f&&!a&&!r){const v=nI(c,e);g=g.concat(W7(t,e,v))}return g}function m_(t,e,n){const i=t.pendingWriteTree_,s=t.syncPointTree_.findOnPath(e,(a,c)=>{const u=kn(a,e),f=po(c,u);if(f)return f});return GP(i,e,s,n,!0)}function V7(t,e){const n=e._path;let r=null;t.syncPointTree_.foreachOnPath(n,(f,h)=>{const g=kn(f,n);r=r||po(h,g)});let i=t.syncPointTree_.get(n);i?r=r||po(i,We()):(i=new ZP,t.syncPointTree_=t.syncPointTree_.set(n,i));const s=r!=null,a=s?new wo(r,!0,!1):null,c=Tm(t.pendingWriteTree_,e._path),u=eI(i,e,c,s?a.getNode():Re.EMPTY_NODE,s);return S7(u)}function wc(t,e){return oI(e,t.syncPointTree_,null,Tm(t.pendingWriteTree_,We()))}function oI(t,e,n,r){if(Le(t.path))return aI(t,e,n,r);{const i=e.get(We());n==null&&i!=null&&(n=po(i,We()));let s=[];const a=De(t.path),c=t.operationForChild(a),u=e.children.get(a);if(u&&c){const f=n?n.getImmediateChild(a):null,h=KP(r,a);s=s.concat(oI(c,u,f,h))}return i&&(s=s.concat(p_(i,t,r,n))),s}}function aI(t,e,n,r){const i=e.get(We());n==null&&i!=null&&(n=po(i,We()));let s=[];return e.children.inorderTraversal((a,c)=>{const u=n?n.getImmediateChild(a):null,f=KP(r,a),h=t.operationForChild(a);h&&(s=s.concat(aI(h,c,u,f)))}),i&&(s=s.concat(p_(i,t,r,n))),s}function lI(t,e){const n=e.query,r=Cd(t,n);return{hashFn:()=>(E7(e)||Re.EMPTY_NODE).hash(),onComplete:i=>{if(i==="ok")return r?$7(t,n._path,r):F7(t,n._path);{const s=j6(i,n);return Up(t,n,null,s)}}}}function Cd(t,e){const n=Pm(e);return t.queryToTagMap.get(n)}function Pm(t){return t._path.toString()+"$"+t._queryIdentifier}function g_(t,e){return t.tagToQueryMap.get(e)}function v_(t){const e=t.indexOf("$");return de(e!==-1&&e<t.length-1,"Bad queryKey."),{queryId:t.substr(e+1),path:new Xe(t.substr(0,e))}}function y_(t,e,n){const r=t.syncPointTree_.get(e);de(r,"Missing sync point for query tag that we're tracking");const i=Tm(t.pendingWriteTree_,e);return p_(r,n,i,null)}function B7(t){return t.fold((e,n,r)=>{if(n&&_o(n))return[km(n)];{let i=[];return n&&(i=tI(n)),cn(r,(s,a)=>{i=i.concat(a)}),i}})}function Yu(t){return t._queryParams.loadsAllData()&&!t._queryParams.isDefault()?new(M7())(t._repo,t._path):t}function z7(t,e){for(let n=0;n<e.length;++n){const r=e[n];if(!r._queryParams.loadsAllData()){const i=Pm(r),s=t.queryToTagMap.get(i);t.queryToTagMap.delete(i),t.tagToQueryMap.delete(s)}}}function H7(){return D7++}function W7(t,e,n){const r=e._path,i=Cd(t,e),s=lI(t,n),a=t.listenProvider_.startListening(Yu(e),i,s.hashFn,s.onComplete),c=t.syncPointTree_.subtree(r);if(i)de(!_o(c.value),"If we're adding a query, it shouldn't be shadowed");else{const u=c.fold((f,h,g)=>{if(!Le(f)&&h&&_o(h))return[km(h).query];{let v=[];return h&&(v=v.concat(tI(h).map(x=>x.query))),cn(g,(x,_)=>{v=v.concat(_)}),v}});for(let f=0;f<u.length;++f){const h=u[f];t.listenProvider_.stopListening(Yu(h),Cd(t,h))}}return a}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w_{constructor(e){this.node_=e}getImmediateChild(e){const n=this.node_.getImmediateChild(e);return new w_(n)}node(){return this.node_}}class __{constructor(e,n){this.syncTree_=e,this.path_=n}getImmediateChild(e){const n=Ct(this.path_,e);return new __(this.syncTree_,n)}node(){return m_(this.syncTree_,this.path_)}}const q7=function(t){return t=t||{},t.timestamp=t.timestamp||new Date().getTime(),t},AS=function(t,e,n){if(!t||typeof t!="object")return t;if(de(".sv"in t,"Unexpected leaf node or priority contents"),typeof t[".sv"]=="string")return G7(t[".sv"],e,n);if(typeof t[".sv"]=="object")return K7(t[".sv"],e);de(!1,"Unexpected server value: "+JSON.stringify(t,null,2))},G7=function(t,e,n){switch(t){case"timestamp":return n.timestamp;default:de(!1,"Unexpected server value: "+t)}},K7=function(t,e,n){t.hasOwnProperty("increment")||de(!1,"Unexpected server value: "+JSON.stringify(t,null,2));const r=t.increment;typeof r!="number"&&de(!1,"Unexpected increment value: "+r);const i=e.node();if(de(i!==null&&typeof i<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;const a=i.getValue();return typeof a!="number"?r:a+r},cI=function(t,e,n,r){return x_(e,new __(n,t),r)},uI=function(t,e,n){return x_(t,new w_(e),n)};function x_(t,e,n){const r=t.getPriority().val(),i=AS(r,e.getImmediateChild(".priority"),n);let s;if(t.isLeafNode()){const a=t,c=AS(a.getValue(),e,n);return c!==a.getValue()||i!==a.getPriority().val()?new Kt(c,Ut(i)):t}else{const a=t;return s=a,i!==a.getPriority().val()&&(s=s.updatePriority(new Kt(i))),a.forEachChild(vt,(c,u)=>{const f=x_(u,e.getImmediateChild(c),n);f!==u&&(s=s.updateImmediateChild(c,f))}),s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b_{constructor(e="",n=null,r={children:{},childCount:0}){this.name=e,this.parent=n,this.node=r}}function E_(t,e){let n=e instanceof Xe?e:new Xe(e),r=t,i=De(n);for(;i!==null;){const s=Zl(r.node.children,i)||{children:{},childCount:0};r=new b_(i,r,s),n=ot(n),i=De(n)}return r}function _c(t){return t.node.value}function dI(t,e){t.node.value=e,b0(t)}function fI(t){return t.node.childCount>0}function Y7(t){return _c(t)===void 0&&!fI(t)}function Im(t,e){cn(t.node.children,(n,r)=>{e(new b_(n,t,r))})}function hI(t,e,n,r){n&&e(t),Im(t,i=>{hI(i,e,!0)})}function X7(t,e,n){let r=t.parent;for(;r!==null;){if(e(r))return!0;r=r.parent}return!1}function Jd(t){return new Xe(t.parent===null?t.name:Jd(t.parent)+"/"+t.name)}function b0(t){t.parent!==null&&J7(t.parent,t.name,t)}function J7(t,e,n){const r=Y7(n),i=Ri(t.node.children,e);r&&i?(delete t.node.children[e],t.node.childCount--,b0(t)):!r&&!i&&(t.node.children[e]=n.node,t.node.childCount++,b0(t))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q7=/[\[\].#$\/\u0000-\u001F\u007F]/,Z7=/[\[\].#$\u0000-\u001F\u007F]/,sy=10*1024*1024,S_=function(t){return typeof t=="string"&&t.length!==0&&!Q7.test(t)},pI=function(t){return typeof t=="string"&&t.length!==0&&!Z7.test(t)},e$=function(t){return t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),pI(t)},E0=function(t){return t===null||typeof t=="string"||typeof t=="number"&&!Xw(t)||t&&typeof t=="object"&&Ri(t,".sv")},Qd=function(t,e,n,r){r&&e===void 0||Am(mm(t,"value"),e,n)},Am=function(t,e,n){const r=n instanceof Xe?new vF(n,t):n;if(e===void 0)throw new Error(t+"contains undefined "+ra(r));if(typeof e=="function")throw new Error(t+"contains a function "+ra(r)+" with contents = "+e.toString());if(Xw(e))throw new Error(t+"contains "+e.toString()+" "+ra(r));if(typeof e=="string"&&e.length>sy/3&&gm(e)>sy)throw new Error(t+"contains a string greater than "+sy+" utf8 bytes "+ra(r)+" ('"+e.substring(0,50)+"...')");if(e&&typeof e=="object"){let i=!1,s=!1;if(cn(e,(a,c)=>{if(a===".value")i=!0;else if(a!==".priority"&&a!==".sv"&&(s=!0,!S_(a)))throw new Error(t+" contains an invalid key ("+a+") "+ra(r)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);yF(r,a),Am(t,c,r),wF(r)}),i&&s)throw new Error(t+' contains ".value" child '+ra(r)+" in addition to actual children.")}},t$=function(t,e){let n,r;for(n=0;n<e.length;n++){r=e[n];const s=_d(r);for(let a=0;a<s.length;a++)if(!(s[a]===".priority"&&a===s.length-1)){if(!S_(s[a]))throw new Error(t+"contains an invalid key ("+s[a]+") in path "+r.toString()+`. Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`)}}e.sort(gF);let i=null;for(n=0;n<e.length;n++){if(r=e[n],i!==null&&Sr(i,r))throw new Error(t+"contains a path "+i.toString()+" that is ancestor of another path "+r.toString());i=r}},n$=function(t,e,n,r){const i=mm(t,"values");if(!(e&&typeof e=="object")||Array.isArray(e))throw new Error(i+" must be an object containing the children to replace.");const s=[];cn(e,(a,c)=>{const u=new Xe(a);if(Am(i,c,Ct(n,u)),t_(u)===".priority"&&!E0(c))throw new Error(i+"contains an invalid value for '"+u.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");s.push(u)}),t$(i,s)},C_=function(t,e,n,r){if(!pI(n))throw new Error(mm(t,e)+'was an invalid path = "'+n+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},r$=function(t,e,n,r){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),C_(t,e,n)},mI=function(t,e){if(De(e)===".info")throw new Error(t+" failed = Can't modify data under /.info/")},i$=function(t,e){const n=e.path.toString();if(typeof e.repoInfo.host!="string"||e.repoInfo.host.length===0||!S_(e.repoInfo.namespace)&&e.repoInfo.host.split(":")[0]!=="localhost"||n.length!==0&&!e$(n))throw new Error(mm(t,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s${constructor(){this.eventLists_=[],this.recursionDepth_=0}}function Rm(t,e){let n=null;for(let r=0;r<e.length;r++){const i=e[r],s=i.getPath();n!==null&&!n_(s,n.path)&&(t.eventLists_.push(n),n=null),n===null&&(n={events:[],path:s}),n.events.push(i)}n&&t.eventLists_.push(n)}function gI(t,e,n){Rm(t,n),vI(t,r=>n_(r,e))}function kr(t,e,n){Rm(t,n),vI(t,r=>Sr(r,e)||Sr(e,r))}function vI(t,e){t.recursionDepth_++;let n=!0;for(let r=0;r<t.eventLists_.length;r++){const i=t.eventLists_[r];if(i){const s=i.path;e(s)?(o$(t.eventLists_[r]),t.eventLists_[r]=null):n=!1}}n&&(t.eventLists_=[]),t.recursionDepth_--}function o$(t){for(let e=0;e<t.events.length;e++){const n=t.events[e];if(n!==null){t.events[e]=null;const r=n.getEventRunner();Wu&&ln("event: "+n.toString()),yc(r)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a$="repo_interrupt",l$=25;class c${constructor(e,n,r,i){this.repoInfo_=e,this.forceRestClient_=n,this.authTokenProvider_=r,this.appCheckProvider_=i,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new s$,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Np(),this.transactionQueueTree_=new b_,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function u$(t,e,n){if(t.stats_=Zw(t.repoInfo_),t.forceRestClient_||V6())t.server_=new Rp(t.repoInfo_,(r,i,s,a)=>{RS(t,r,i,s,a)},t.authTokenProvider_,t.appCheckProvider_),setTimeout(()=>NS(t,!0),0);else{if(typeof n<"u"&&n!==null){if(typeof n!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{Vt(n)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}t.persistentConnection_=new ls(t.repoInfo_,e,(r,i,s,a)=>{RS(t,r,i,s,a)},r=>{NS(t,r)},r=>{d$(t,r)},t.authTokenProvider_,t.appCheckProvider_,n),t.server_=t.persistentConnection_}t.authTokenProvider_.addTokenChangeListener(r=>{t.server_.refreshAuthToken(r)}),t.appCheckProvider_.addTokenChangeListener(r=>{t.server_.refreshAppCheckToken(r.token)}),t.statsReporter_=q6(t.repoInfo_,()=>new qF(t.stats_,t.server_)),t.infoData_=new VF,t.infoSyncTree_=new IS({startListening:(r,i,s,a)=>{let c=[];const u=t.infoData_.getNode(r._path);return u.isEmpty()||(c=Xd(t.infoSyncTree_,r._path,u),setTimeout(()=>{a("ok")},0)),c},stopListening:()=>{}}),T_(t,"connected",!1),t.serverSyncTree_=new IS({startListening:(r,i,s,a)=>(t.server_.listen(r,s,i,(c,u)=>{const f=a(c,u);kr(t.eventQueue_,r._path,f)}),[]),stopListening:(r,i)=>{t.server_.unlisten(r,i)}})}function yI(t){const n=t.infoData_.getNode(new Xe(".info/serverTimeOffset")).val()||0;return new Date().getTime()+n}function Nm(t){return q7({timestamp:yI(t)})}function RS(t,e,n,r,i){t.dataUpdateCount++;const s=new Xe(e);n=t.interceptServerDataCallback_?t.interceptServerDataCallback_(e,n):n;let a=[];if(i)if(r){const u=wp(n,f=>Ut(f));a=U7(t.serverSyncTree_,s,u,i)}else{const u=Ut(n);a=sI(t.serverSyncTree_,s,u,i)}else if(r){const u=wp(n,f=>Ut(f));a=j7(t.serverSyncTree_,s,u)}else{const u=Ut(n);a=Xd(t.serverSyncTree_,s,u)}let c=s;a.length>0&&(c=rc(t,s)),kr(t.eventQueue_,c,a)}function NS(t,e){T_(t,"connected",e),e===!1&&m$(t)}function d$(t,e){cn(e,(n,r)=>{T_(t,n,r)})}function T_(t,e,n){const r=new Xe("/.info/"+e),i=Ut(n);t.infoData_.updateSnapshot(r,i);const s=Xd(t.infoSyncTree_,r,i);kr(t.eventQueue_,r,s)}function k_(t){return t.nextWriteId_++}function f$(t,e,n){const r=V7(t.serverSyncTree_,e);return r!=null?Promise.resolve(r):t.server_.get(e).then(i=>{const s=Ut(i).withIndex(e._queryParams.getIndex());x0(t.serverSyncTree_,e,n,!0);let a;if(e._queryParams.loadsAllData())a=Xd(t.serverSyncTree_,e._path,s);else{const c=Cd(t.serverSyncTree_,e);a=sI(t.serverSyncTree_,e._path,s,c)}return kr(t.eventQueue_,e._path,a),Up(t.serverSyncTree_,e,n,null,!0),s},i=>(Zd(t,"get for query "+Vt(e)+" failed: "+i),Promise.reject(new Error(i))))}function h$(t,e,n,r,i){Zd(t,"set",{path:e.toString(),value:n,priority:r});const s=Nm(t),a=Ut(n,r),c=m_(t.serverSyncTree_,e),u=uI(a,c,s),f=k_(t),h=iI(t.serverSyncTree_,e,u,f,!0);Rm(t.eventQueue_,h),t.server_.put(e.toString(),a.val(!0),(v,x)=>{const _=v==="ok";_||In("set at "+e+" failed: "+v);const T=ao(t.serverSyncTree_,f,!_);kr(t.eventQueue_,e,T),S0(t,i,v,x)});const g=I_(t,e);rc(t,g),kr(t.eventQueue_,g,[])}function p$(t,e,n,r){Zd(t,"update",{path:e.toString(),value:n});let i=!0;const s=Nm(t),a={};if(cn(n,(c,u)=>{i=!1,a[c]=cI(Ct(e,c),Ut(u),t.serverSyncTree_,s)}),i)ln("update() called with empty data.  Don't do anything."),S0(t,r,"ok",void 0);else{const c=k_(t),u=L7(t.serverSyncTree_,e,a,c);Rm(t.eventQueue_,u),t.server_.merge(e.toString(),n,(f,h)=>{const g=f==="ok";g||In("update at "+e+" failed: "+f);const v=ao(t.serverSyncTree_,c,!g),x=v.length>0?rc(t,e):e;kr(t.eventQueue_,x,v),S0(t,r,f,h)}),cn(n,f=>{const h=I_(t,Ct(e,f));rc(t,h)}),kr(t.eventQueue_,e,[])}}function m$(t){Zd(t,"onDisconnectEvents");const e=Nm(t),n=Np();m0(t.onDisconnect_,We(),(i,s)=>{const a=cI(i,s,t.serverSyncTree_,e);zP(n,i,a)});let r=[];m0(n,We(),(i,s)=>{r=r.concat(Xd(t.serverSyncTree_,i,s));const a=I_(t,i);rc(t,a)}),t.onDisconnect_=Np(),kr(t.eventQueue_,We(),r)}function g$(t,e,n){let r;De(e._path)===".info"?r=x0(t.infoSyncTree_,e,n):r=x0(t.serverSyncTree_,e,n),gI(t.eventQueue_,e._path,r)}function wI(t,e,n){let r;De(e._path)===".info"?r=Up(t.infoSyncTree_,e,n):r=Up(t.serverSyncTree_,e,n),gI(t.eventQueue_,e._path,r)}function v$(t){t.persistentConnection_&&t.persistentConnection_.interrupt(a$)}function Zd(t,...e){let n="";t.persistentConnection_&&(n=t.persistentConnection_.id+":"),ln(n,...e)}function S0(t,e,n,r){e&&yc(()=>{if(n==="ok")e(null);else{const i=(n||"error").toUpperCase();let s=i;r&&(s+=": "+r);const a=new Error(s);a.code=i,e(a)}})}function _I(t,e,n){return m_(t.serverSyncTree_,e,n)||Re.EMPTY_NODE}function P_(t,e=t.transactionQueueTree_){if(e||Om(t,e),_c(e)){const n=bI(t,e);de(n.length>0,"Sending zero length transaction queue"),n.every(i=>i.status===0)&&y$(t,Jd(e),n)}else fI(e)&&Im(e,n=>{P_(t,n)})}function y$(t,e,n){const r=n.map(f=>f.currentWriteId),i=_I(t,e,r);let s=i;const a=i.hash();for(let f=0;f<n.length;f++){const h=n[f];de(h.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),h.status=1,h.retryCount++;const g=kn(e,h.path);s=s.updateChild(g,h.currentOutputSnapshotRaw)}const c=s.val(!0),u=e;t.server_.put(u.toString(),c,f=>{Zd(t,"transaction put response",{path:u.toString(),status:f});let h=[];if(f==="ok"){const g=[];for(let v=0;v<n.length;v++)n[v].status=2,h=h.concat(ao(t.serverSyncTree_,n[v].currentWriteId)),n[v].onComplete&&g.push(()=>n[v].onComplete(null,!0,n[v].currentOutputSnapshotResolved)),n[v].unwatcher();Om(t,E_(t.transactionQueueTree_,e)),P_(t,t.transactionQueueTree_),kr(t.eventQueue_,e,h);for(let v=0;v<g.length;v++)yc(g[v])}else{if(f==="datastale")for(let g=0;g<n.length;g++)n[g].status===3?n[g].status=4:n[g].status=0;else{In("transaction at "+u.toString()+" failed: "+f);for(let g=0;g<n.length;g++)n[g].status=4,n[g].abortReason=f}rc(t,e)}},a)}function rc(t,e){const n=xI(t,e),r=Jd(n),i=bI(t,n);return w$(t,i,r),r}function w$(t,e,n){if(e.length===0)return;const r=[];let i=[];const a=e.filter(c=>c.status===0).map(c=>c.currentWriteId);for(let c=0;c<e.length;c++){const u=e[c],f=kn(n,u.path);let h=!1,g;if(de(f!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),u.status===4)h=!0,g=u.abortReason,i=i.concat(ao(t.serverSyncTree_,u.currentWriteId,!0));else if(u.status===0)if(u.retryCount>=l$)h=!0,g="maxretry",i=i.concat(ao(t.serverSyncTree_,u.currentWriteId,!0));else{const v=_I(t,u.path,a);u.currentInputSnapshot=v;const x=e[c].update(v.val());if(x!==void 0){Am("transaction failed: Data returned ",x,u.path);let _=Ut(x);typeof x=="object"&&x!=null&&Ri(x,".priority")||(_=_.updatePriority(v.getPriority()));const I=u.currentWriteId,R=Nm(t),P=uI(_,v,R);u.currentOutputSnapshotRaw=_,u.currentOutputSnapshotResolved=P,u.currentWriteId=k_(t),a.splice(a.indexOf(I),1),i=i.concat(iI(t.serverSyncTree_,u.path,P,u.currentWriteId,u.applyLocally)),i=i.concat(ao(t.serverSyncTree_,I,!0))}else h=!0,g="nodata",i=i.concat(ao(t.serverSyncTree_,u.currentWriteId,!0))}kr(t.eventQueue_,n,i),i=[],h&&(e[c].status=2,function(v){setTimeout(v,Math.floor(0))}(e[c].unwatcher),e[c].onComplete&&(g==="nodata"?r.push(()=>e[c].onComplete(null,!1,e[c].currentInputSnapshot)):r.push(()=>e[c].onComplete(new Error(g),!1,null))))}Om(t,t.transactionQueueTree_);for(let c=0;c<r.length;c++)yc(r[c]);P_(t,t.transactionQueueTree_)}function xI(t,e){let n,r=t.transactionQueueTree_;for(n=De(e);n!==null&&_c(r)===void 0;)r=E_(r,n),e=ot(e),n=De(e);return r}function bI(t,e){const n=[];return EI(t,e,n),n.sort((r,i)=>r.order-i.order),n}function EI(t,e,n){const r=_c(e);if(r)for(let i=0;i<r.length;i++)n.push(r[i]);Im(e,i=>{EI(t,i,n)})}function Om(t,e){const n=_c(e);if(n){let r=0;for(let i=0;i<n.length;i++)n[i].status!==2&&(n[r]=n[i],r++);n.length=r,dI(e,n.length>0?n:void 0)}Im(e,r=>{Om(t,r)})}function I_(t,e){const n=Jd(xI(t,e)),r=E_(t.transactionQueueTree_,e);return X7(r,i=>{oy(t,i)}),oy(t,r),hI(r,i=>{oy(t,i)}),n}function oy(t,e){const n=_c(e);if(n){const r=[];let i=[],s=-1;for(let a=0;a<n.length;a++)n[a].status===3||(n[a].status===1?(de(s===a-1,"All SENT items should be at beginning of queue."),s=a,n[a].status=3,n[a].abortReason="set"):(de(n[a].status===0,"Unexpected transaction status in abort"),n[a].unwatcher(),i=i.concat(ao(t.serverSyncTree_,n[a].currentWriteId,!0)),n[a].onComplete&&r.push(n[a].onComplete.bind(null,new Error("set"),!1,null))));s===-1?dI(e,void 0):n.length=s+1,kr(t.eventQueue_,Jd(e),i);for(let a=0;a<r.length;a++)yc(r[a])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _$(t){let e="";const n=t.split("/");for(let r=0;r<n.length;r++)if(n[r].length>0){let i=n[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch{}e+="/"+i}return e}function x$(t){const e={};t.charAt(0)==="?"&&(t=t.substring(1));for(const n of t.split("&")){if(n.length===0)continue;const r=n.split("=");r.length===2?e[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):In(`Invalid query segment '${n}' in query '${t}'`)}return e}const OS=function(t,e){const n=b$(t),r=n.namespace;n.domain==="firebase.com"&&ps(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||r==="undefined")&&n.domain!=="localhost"&&ps("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||N6();const i=n.scheme==="ws"||n.scheme==="wss";return{repoInfo:new CP(n.host,n.secure,r,i,e,"",r!==n.subdomain),path:new Xe(n.pathString)}},b$=function(t){let e="",n="",r="",i="",s="",a=!0,c="https",u=443;if(typeof t=="string"){let f=t.indexOf("//");f>=0&&(c=t.substring(0,f-1),t=t.substring(f+2));let h=t.indexOf("/");h===-1&&(h=t.length);let g=t.indexOf("?");g===-1&&(g=t.length),e=t.substring(0,Math.min(h,g)),h<g&&(i=_$(t.substring(h,g)));const v=x$(t.substring(Math.min(t.length,g)));f=e.indexOf(":"),f>=0?(a=c==="https"||c==="wss",u=parseInt(e.substring(f+1),10)):f=e.length;const x=e.slice(0,f);if(x.toLowerCase()==="localhost")n="localhost";else if(x.split(".").length<=2)n=x;else{const _=e.indexOf(".");r=e.substring(0,_).toLowerCase(),n=e.substring(_+1),s=r}"ns"in v&&(s=v.ns)}return{host:e,port:u,domain:n,subdomain:r,secure:a,scheme:c,pathString:i,namespace:s}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MS="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",E$=function(){let t=0;const e=[];return function(n){const r=n===t;t=n;let i;const s=new Array(8);for(i=7;i>=0;i--)s[i]=MS.charAt(n%64),n=Math.floor(n/64);de(n===0,"Cannot push at time == 0");let a=s.join("");if(r){for(i=11;i>=0&&e[i]===63;i--)e[i]=0;e[i]++}else for(i=0;i<12;i++)e[i]=Math.floor(Math.random()*64);for(i=0;i<12;i++)a+=MS.charAt(e[i]);return de(a.length===20,"nextPushId: Length should be 20."),a}}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S${constructor(e,n,r,i){this.eventType=e,this.eventRegistration=n,this.snapshot=r,this.prevName=i}getPath(){const e=this.snapshot.ref;return this.eventType==="value"?e._path:e.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+Vt(this.snapshot.exportVal())}}class C${constructor(e,n,r){this.eventRegistration=e,this.error=n,this.path=r}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A_{constructor(e,n){this.snapshotCallback=e,this.cancelCallback=n}onValue(e,n){this.snapshotCallback.call(null,e,n)}onCancel(e){return de(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}get hasCancelCallback(){return!!this.cancelCallback}matches(e){return this.snapshotCallback===e.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xc{constructor(e,n,r,i){this._repo=e,this._path=n,this._queryParams=r,this._orderByCalled=i}get key(){return Le(this._path)?null:t_(this._path)}get ref(){return new Ss(this._repo,this._path)}get _queryIdentifier(){const e=wS(this._queryParams),n=Jw(e);return n==="{}"?"default":n}get _queryObject(){return wS(this._queryParams)}isEqual(e){if(e=Qe(e),!(e instanceof xc))return!1;const n=this._repo===e._repo,r=n_(this._path,e._path),i=this._queryIdentifier===e._queryIdentifier;return n&&r&&i}toJSON(){return this.toString()}toString(){return this._repo.toString()+mF(this._path)}}function T$(t,e){if(t._orderByCalled===!0)throw new Error(e+": You can't combine multiple orderBy calls.")}function R_(t){let e=null,n=null;if(t.hasStart()&&(e=t.getIndexStartValue()),t.hasEnd()&&(n=t.getIndexEndValue()),t.getIndex()===ga){const r="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",i="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(t.hasStart()){if(t.getIndexStartName()!==Ca)throw new Error(r);if(typeof e!="string")throw new Error(i)}if(t.hasEnd()){if(t.getIndexEndName()!==vo)throw new Error(r);if(typeof n!="string")throw new Error(i)}}else if(t.getIndex()===vt){if(e!=null&&!E0(e)||n!=null&&!E0(n))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if(de(t.getIndex()instanceof s_||t.getIndex()===VP,"unknown index type."),e!=null&&typeof e=="object"||n!=null&&typeof n=="object")throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}function SI(t){if(t.hasStart()&&t.hasEnd()&&t.hasLimit()&&!t.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")}class Ss extends xc{constructor(e,n){super(e,n,new a_,!1)}get parent(){const e=MP(this._path);return e===null?null:new Ss(this._repo,e)}get root(){let e=this;for(;e.parent!==null;)e=e.parent;return e}}class Td{constructor(e,n,r){this._node=e,this.ref=n,this._index=r}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(e){const n=new Xe(e),r=kd(this.ref,e);return new Td(this._node.getChild(n),r,vt)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(e){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(r,i)=>e(new Td(i,kd(this.ref,r),vt)))}hasChild(e){const n=new Xe(e);return!this._node.getChild(n).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function Ce(t,e){return t=Qe(t),t._checkNotDeleted("ref"),e!==void 0?kd(t._root,e):t._root}function kd(t,e){return t=Qe(t),De(t._path)===null?r$("child","path",e):C_("child","path",e),new Ss(t._repo,Ct(t._path,e))}function Ul(t,e){t=Qe(t),mI("push",t._path),Qd("push",e,t._path,!0);const n=yI(t._repo),r=E$(n),i=kd(t,r),s=kd(t,r);let a;return e!=null?a=At(s,e).then(()=>s):a=Promise.resolve(s),i.then=a.then.bind(a),i.catch=a.then.bind(a,void 0),i}function At(t,e){t=Qe(t),mI("set",t._path),Qd("set",e,t._path,!1);const n=new Vd;return h$(t._repo,t._path,e,null,n.wrapCallback(()=>{})),n.promise}function ms(t,e){n$("update",e,t._path);const n=new Vd;return p$(t._repo,t._path,e,n.wrapCallback(()=>{})),n.promise}function ti(t){t=Qe(t);const e=new A_(()=>{}),n=new ef(e);return f$(t._repo,t,n).then(r=>new Td(r,new Ss(t._repo,t._path),t._queryParams.getIndex()))}class ef{constructor(e){this.callbackContext=e}respondsTo(e){return e==="value"}createEvent(e,n){const r=n._queryParams.getIndex();return new S$("value",this,new Td(e.snapshotNode,new Ss(n._repo,n._path),r))}getEventRunner(e){return e.getEventType()==="cancel"?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,null)}createCancelEvent(e,n){return this.callbackContext.hasCancelCallback?new C$(this,e,n):null}matches(e){return e instanceof ef?!e.callbackContext||!this.callbackContext?!0:e.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}}function k$(t,e,n,r,i){const s=new A_(n,void 0),a=new ef(s);return g$(t._repo,t,a),()=>wI(t._repo,t,a)}function Jt(t,e,n,r){return k$(t,"value",e)}function Pa(t,e,n){let r=null;const i=n?new A_(n):null;r=new ef(i),wI(t._repo,t,r)}class Mm{}class P$ extends Mm{constructor(e,n){super(),this._value=e,this._key=n,this.type="endAt"}_apply(e){Qd("endAt",this._value,e._path,!0);const n=$F(e._queryParams,this._value,this._key);if(SI(n),R_(n),e._queryParams.hasEnd())throw new Error("endAt: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new xc(e._repo,e._path,n,e._orderByCalled)}}class I$ extends Mm{constructor(e,n){super(),this._value=e,this._key=n,this.type="startAt"}_apply(e){Qd("startAt",this._value,e._path,!0);const n=FF(e._queryParams,this._value,this._key);if(SI(n),R_(n),e._queryParams.hasStart())throw new Error("startAt: Starting point was already set (by another call to startAt, startBefore or equalTo).");return new xc(e._repo,e._path,n,e._orderByCalled)}}class A$ extends Mm{constructor(e){super(),this._path=e,this.type="orderByChild"}_apply(e){T$(e,"orderByChild");const n=new Xe(this._path);if(Le(n))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");const r=new s_(n),i=UF(e._queryParams,r);return R_(i),new xc(e._repo,e._path,i,!0)}}function R$(t){return C_("orderByChild","path",t),new A$(t)}class N$ extends Mm{constructor(e,n){super(),this._value=e,this._key=n,this.type="equalTo"}_apply(e){if(Qd("equalTo",this._value,e._path,!1),e._queryParams.hasStart())throw new Error("equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(e._queryParams.hasEnd())throw new Error("equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return new P$(this._value,this._key)._apply(new I$(this._value,this._key)._apply(e))}}function O$(t,e){return new N$(t,e)}function M$(t,...e){let n=Qe(t);for(const r of e)n=r._apply(n);return n}P7(Ss);O7(Ss);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D$="FIREBASE_DATABASE_EMULATOR_HOST",C0={};let L$=!1;function j$(t,e,n,r){const i=e.lastIndexOf(":"),s=e.substring(0,i),a=_s(s);t.repoInfo_=new CP(e,a,t.repoInfo_.namespace,t.repoInfo_.webSocketOnly,t.repoInfo_.nodeAdmin,t.repoInfo_.persistenceKey,t.repoInfo_.includeNamespaceInQueryParams,!0,n),r&&(t.authTokenProvider_=r)}function F$(t,e,n,r,i){let s=r||t.options.databaseURL;s===void 0&&(t.options.projectId||ps("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),ln("Using default host for project ",t.options.projectId),s=`${t.options.projectId}-default-rtdb.firebaseio.com`);let a=OS(s,i),c=a.repoInfo,u;typeof process<"u"&&tS&&(u=tS[D$]),u?(s=`http://${u}?ns=${c.namespace}`,a=OS(s,i),c=a.repoInfo):a.repoInfo.secure;const f=new z6(t.name,t.options,e);i$("Invalid Firebase Database URL",a),Le(a.path)||ps("Database URL must point to the root of a Firebase Database (not including a child path).");const h=U$(c,t,f,new B6(t,n));return new V$(h,t)}function $$(t,e){const n=C0[e];(!n||n[t.key]!==t)&&ps(`Database ${e}(${t.repoInfo_}) has already been deleted.`),v$(t),delete n[t.key]}function U$(t,e,n,r){let i=C0[e.name];i||(i={},C0[e.name]=i);let s=i[t.toURLString()];return s&&ps("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),s=new c$(t,L$,n,r),i[t.toURLString()]=s,s}class V${constructor(e,n){this._repoInternal=e,this.app=n,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(u$(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0,Ai("Database",this._repo.repoInfo_.emulatorOptions!==null)),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new Ss(this._repo,We())),this._rootInternal}_delete(){return this._rootInternal!==null&&($$(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){this._rootInternal===null&&ps("Cannot call "+e+" on a deleted database.")}}function CI(t=gc(),e){const n=xs(t,"database").getImmediate({identifier:e});if(!n._instanceStarted){const r=pm("database");r&&TI(n,...r)}return n}function TI(t,e,n,r={}){t=Qe(t),t._checkNotDeleted("useEmulator");const i=`${e}:${n}`,s=t._repoInternal;if(t._instanceStarted){if(i===t._repoInternal.repoInfo_.host&&go(r,s.repoInfo_.emulatorOptions))return;ps("connectDatabaseEmulator() cannot initialize or alter the emulator configuration after the database instance has started.")}let a;if(s.repoInfo_.nodeAdmin)r.mockUserToken&&ps('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),a=new sp(sp.OWNER);else if(r.mockUserToken){const c=typeof r.mockUserToken=="string"?r.mockUserToken:Pw(r.mockUserToken,t.app.options.projectId);a=new sp(c)}_s(e)&&(Bd(e),Ai("Database",!0)),j$(s,i,r,a)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function B$(t){T6(So),lr(new Gn("database",(e,{instanceIdentifier:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal"),s=e.getProvider("app-check-internal");return F$(r,i,s,n)},"PUBLIC").setMultipleInstances(!0)),Qt(nS,rS,t),Qt(nS,rS,"esm2017")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z$={".sv":"timestamp"};function H$(){return z$}ls.prototype.simpleListen=function(t,e){this.sendRequest("q",{p:t},e)};ls.prototype.echo=function(t,e){this.sendRequest("echo",{d:t},e)};B$();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kI="firebasestorage.googleapis.com",PI="storageBucket",W$=2*60*1e3,q$=10*60*1e3,G$=1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wt extends Ir{constructor(e,n,r=0){super(ay(e),`Firebase Storage: ${n} (${ay(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,wt.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return ay(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var ct;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(ct||(ct={}));function ay(t){return"storage/"+t}function N_(){const t="An unknown error occurred, please check the error payload for server response.";return new wt(ct.UNKNOWN,t)}function K$(t){return new wt(ct.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function Y$(t){return new wt(ct.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function X$(){const t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new wt(ct.UNAUTHENTICATED,t)}function J$(){return new wt(ct.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function Q$(t){return new wt(ct.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function II(){return new wt(ct.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function AI(){return new wt(ct.CANCELED,"User canceled the upload/download.")}function Z$(t){return new wt(ct.INVALID_URL,"Invalid URL '"+t+"'.")}function e9(t){return new wt(ct.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function t9(){return new wt(ct.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+PI+"' property when initializing the app?")}function RI(){return new wt(ct.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function n9(){return new wt(ct.SERVER_FILE_WRONG_SIZE,"Server recorded incorrect upload file size, please retry the upload.")}function r9(){return new wt(ct.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function i9(t){return new wt(ct.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function T0(t){return new wt(ct.INVALID_ARGUMENT,t)}function NI(){return new wt(ct.APP_DELETED,"The Firebase app was deleted.")}function s9(t){return new wt(ct.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Xu(t,e){return new wt(ct.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function Pu(t){throw new wt(ct.INTERNAL_ERROR,"Internal error: "+t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sr{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=sr.makeFromUrl(e,n)}catch{return new sr(e,"")}if(r.path==="")return r;throw e9(e)}static makeFromUrl(e,n){let r=null;const i="([A-Za-z0-9.\\-_]+)";function s(j){j.path.charAt(j.path.length-1)==="/"&&(j.path_=j.path_.slice(0,-1))}const a="(/(.*))?$",c=new RegExp("^gs://"+i+a,"i"),u={bucket:1,path:3};function f(j){j.path_=decodeURIComponent(j.path)}const h="v[A-Za-z0-9_]+",g=n.replace(/[.]/g,"\\."),v="(/([^?#]*).*)?$",x=new RegExp(`^https?://${g}/${h}/b/${i}/o${v}`,"i"),_={bucket:1,path:3},T=n===kI?"(?:storage.googleapis.com|storage.cloud.google.com)":n,I="([^?#]*)",R=new RegExp(`^https?://${T}/${i}/${I}`,"i"),k=[{regex:c,indices:u,postModify:s},{regex:x,indices:_,postModify:f},{regex:R,indices:{bucket:1,path:2},postModify:f}];for(let j=0;j<k.length;j++){const $=k[j],B=$.regex.exec(e);if(B){const L=B[$.indices.bucket];let N=B[$.indices.path];N||(N=""),r=new sr(L,N),$.postModify(r);break}}if(r==null)throw Z$(e);return r}}class o9{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function a9(t,e,n){let r=1,i=null,s=null,a=!1,c=0;function u(){return c===2}let f=!1;function h(...I){f||(f=!0,e.apply(null,I))}function g(I){i=setTimeout(()=>{i=null,t(x,u())},I)}function v(){s&&clearTimeout(s)}function x(I,...R){if(f){v();return}if(I){v(),h.call(null,I,...R);return}if(u()||a){v(),h.call(null,I,...R);return}r<64&&(r*=2);let k;c===1?(c=2,k=0):k=(r+Math.random())*1e3,g(k)}let _=!1;function T(I){_||(_=!0,v(),!f&&(i!==null?(I||(c=2),clearTimeout(i),g(0)):I||(c=1)))}return g(0),s=setTimeout(()=>{a=!0,T(!0)},n),T}function l9(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function c9(t){return t!==void 0}function u9(t){return typeof t=="function"}function d9(t){return typeof t=="object"&&!Array.isArray(t)}function Dm(t){return typeof t=="string"||t instanceof String}function DS(t){return O_()&&t instanceof Blob}function O_(){return typeof Blob<"u"}function LS(t,e,n,r){if(r<e)throw T0(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw T0(`Invalid value for '${t}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tf(t,e,n){let r=e;return n==null&&(r=`https://${e}`),`${n}://${r}/v0${t}`}function OI(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const i=e(r)+"="+e(t[r]);n=n+i+"&"}return n=n.slice(0,-1),n}var va;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(va||(va={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MI(t,e){const n=t>=500&&t<600,i=[408,429].indexOf(t)!==-1,s=e.indexOf(t)!==-1;return n||i||s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f9{constructor(e,n,r,i,s,a,c,u,f,h,g,v=!0,x=!1){this.url_=e,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=s,this.additionalRetryCodes_=a,this.callback_=c,this.errorCallback_=u,this.timeout_=f,this.progressCallback_=h,this.connectionFactory_=g,this.retry=v,this.isUsingEmulator=x,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((_,T)=>{this.resolve_=_,this.reject_=T,this.start_()})}start_(){const e=(r,i)=>{if(i){r(!1,new Lh(!1,null,!0));return}const s=this.connectionFactory_();this.pendingConnection_=s;const a=c=>{const u=c.loaded,f=c.lengthComputable?c.total:-1;this.progressCallback_!==null&&this.progressCallback_(u,f)};this.progressCallback_!==null&&s.addUploadProgressListener(a),s.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&s.removeUploadProgressListener(a),this.pendingConnection_=null;const c=s.getErrorCode()===va.NO_ERROR,u=s.getStatus();if(!c||MI(u,this.additionalRetryCodes_)&&this.retry){const h=s.getErrorCode()===va.ABORT;r(!1,new Lh(!1,null,h));return}const f=this.successCodes_.indexOf(u)!==-1;r(!0,new Lh(f,s))})},n=(r,i)=>{const s=this.resolve_,a=this.reject_,c=i.connection;if(i.wasSuccessCode)try{const u=this.callback_(c,c.getResponse());c9(u)?s(u):s()}catch(u){a(u)}else if(c!==null){const u=N_();u.serverResponse=c.getErrorText(),this.errorCallback_?a(this.errorCallback_(c,u)):a(u)}else if(i.canceled){const u=this.appDelete_?NI():AI();a(u)}else{const u=II();a(u)}};this.canceled_?n(!1,new Lh(!1,null,!0)):this.backoffId_=a9(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&l9(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Lh{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function h9(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function p9(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function m9(t,e){e&&(t["X-Firebase-GMPID"]=e)}function g9(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function v9(t,e,n,r,i,s,a=!0,c=!1){const u=OI(t.urlParams),f=t.url+u,h=Object.assign({},t.headers);return m9(h,e),h9(h,n),p9(h,s),g9(h,r),new f9(f,t.method,h,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i,a,c)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function y9(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function w9(...t){const e=y9();if(e!==void 0){const n=new e;for(let r=0;r<t.length;r++)n.append(t[r]);return n.getBlob()}else{if(O_())return new Blob(t);throw new wt(ct.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function _9(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function x9(t){if(typeof atob>"u")throw i9("base-64");return atob(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bi={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class ly{constructor(e,n){this.data=e,this.contentType=n||null}}function b9(t,e){switch(t){case bi.RAW:return new ly(DI(e));case bi.BASE64:case bi.BASE64URL:return new ly(LI(t,e));case bi.DATA_URL:return new ly(S9(e),C9(e))}throw N_()}function DI(t){const e=[];for(let n=0;n<t.length;n++){let r=t.charCodeAt(n);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(n<t.length-1&&(t.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{const s=r,a=t.charCodeAt(++n);r=65536|(s&1023)<<10|a&1023,e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(e)}function E9(t){let e;try{e=decodeURIComponent(t)}catch{throw Xu(bi.DATA_URL,"Malformed data URL.")}return DI(e)}function LI(t,e){switch(t){case bi.BASE64:{const i=e.indexOf("-")!==-1,s=e.indexOf("_")!==-1;if(i||s)throw Xu(t,"Invalid character '"+(i?"-":"_")+"' found: is it base64url encoded?");break}case bi.BASE64URL:{const i=e.indexOf("+")!==-1,s=e.indexOf("/")!==-1;if(i||s)throw Xu(t,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=x9(e)}catch(i){throw i.message.includes("polyfill")?i:Xu(t,"Invalid character found")}const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}class jI{constructor(e){this.base64=!1,this.contentType=null;const n=e.match(/^data:([^,]+)?,/);if(n===null)throw Xu(bi.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=n[1]||null;r!=null&&(this.base64=T9(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}function S9(t){const e=new jI(t);return e.base64?LI(bi.BASE64,e.rest):E9(e.rest)}function C9(t){return new jI(t).contentType}function T9(t,e){return t.length>=e.length?t.substring(t.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class io{constructor(e,n){let r=0,i="";DS(e)?(this.data_=e,r=e.size,i=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=i}size(){return this.size_}type(){return this.type_}slice(e,n){if(DS(this.data_)){const r=this.data_,i=_9(r,e,n);return i===null?null:new io(i)}else{const r=new Uint8Array(this.data_.buffer,e,n-e);return new io(r,!0)}}static getBlob(...e){if(O_()){const n=e.map(r=>r instanceof io?r.data_:r);return new io(w9.apply(null,n))}else{const n=e.map(a=>Dm(a)?b9(bi.RAW,a).data:a.data_);let r=0;n.forEach(a=>{r+=a.byteLength});const i=new Uint8Array(r);let s=0;return n.forEach(a=>{for(let c=0;c<a.length;c++)i[s++]=a[c]}),new io(i,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FI(t){let e;try{e=JSON.parse(t)}catch{return null}return d9(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function k9(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function P9(t,e){const n=e.split("/").filter(r=>r.length>0).join("/");return t.length===0?n:t+"/"+n}function $I(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function I9(t,e){return e}class Cn{constructor(e,n,r,i){this.server=e,this.local=n||e,this.writable=!!r,this.xform=i||I9}}let jh=null;function A9(t){return!Dm(t)||t.length<2?t:$I(t)}function UI(){if(jh)return jh;const t=[];t.push(new Cn("bucket")),t.push(new Cn("generation")),t.push(new Cn("metageneration")),t.push(new Cn("name","fullPath",!0));function e(s,a){return A9(a)}const n=new Cn("name");n.xform=e,t.push(n);function r(s,a){return a!==void 0?Number(a):a}const i=new Cn("size");return i.xform=r,t.push(i),t.push(new Cn("timeCreated")),t.push(new Cn("updated")),t.push(new Cn("md5Hash",null,!0)),t.push(new Cn("cacheControl",null,!0)),t.push(new Cn("contentDisposition",null,!0)),t.push(new Cn("contentEncoding",null,!0)),t.push(new Cn("contentLanguage",null,!0)),t.push(new Cn("contentType",null,!0)),t.push(new Cn("metadata","customMetadata",!0)),jh=t,jh}function R9(t,e){function n(){const r=t.bucket,i=t.fullPath,s=new sr(r,i);return e._makeStorageReference(s)}Object.defineProperty(t,"ref",{get:n})}function N9(t,e,n){const r={};r.type="file";const i=n.length;for(let s=0;s<i;s++){const a=n[s];r[a.local]=a.xform(r,e[a.server])}return R9(r,t),r}function VI(t,e,n){const r=FI(e);return r===null?null:N9(t,r,n)}function O9(t,e,n,r){const i=FI(e);if(i===null||!Dm(i.downloadTokens))return null;const s=i.downloadTokens;if(s.length===0)return null;const a=encodeURIComponent;return s.split(",").map(f=>{const h=t.bucket,g=t.fullPath,v="/b/"+a(h)+"/o/"+a(g),x=tf(v,n,r),_=OI({alt:"media",token:f});return x+_})[0]}function BI(t,e){const n={},r=e.length;for(let i=0;i<r;i++){const s=e[i];s.writable&&(n[s.server]=t[s.local])}return JSON.stringify(n)}class bc{constructor(e,n,r,i){this.url=e,this.method=n,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cs(t){if(!t)throw N_()}function M_(t,e){function n(r,i){const s=VI(t,i,e);return cs(s!==null),s}return n}function M9(t,e){function n(r,i){const s=VI(t,i,e);return cs(s!==null),O9(s,i,t.host,t._protocol)}return n}function nf(t){function e(n,r){let i;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?i=J$():i=X$():n.getStatus()===402?i=Y$(t.bucket):n.getStatus()===403?i=Q$(t.path):i=r,i.status=n.getStatus(),i.serverResponse=r.serverResponse,i}return e}function zI(t){const e=nf(t);function n(r,i){let s=e(r,i);return r.getStatus()===404&&(s=K$(t.path)),s.serverResponse=i.serverResponse,s}return n}function D9(t,e,n){const r=e.fullServerUrl(),i=tf(r,t.host,t._protocol),s="GET",a=t.maxOperationRetryTime,c=new bc(i,s,M_(t,n),a);return c.errorHandler=zI(e),c}function L9(t,e,n){const r=e.fullServerUrl(),i=tf(r,t.host,t._protocol),s="GET",a=t.maxOperationRetryTime,c=new bc(i,s,M9(t,n),a);return c.errorHandler=zI(e),c}function j9(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function HI(t,e,n){const r=Object.assign({},n);return r.fullPath=t.path,r.size=e.size(),r.contentType||(r.contentType=j9(null,e)),r}function F9(t,e,n,r,i){const s=e.bucketOnlyServerUrl(),a={"X-Goog-Upload-Protocol":"multipart"};function c(){let k="";for(let j=0;j<2;j++)k=k+Math.random().toString().slice(2);return k}const u=c();a["Content-Type"]="multipart/related; boundary="+u;const f=HI(e,r,i),h=BI(f,n),g="--"+u+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+h+`\r
--`+u+`\r
Content-Type: `+f.contentType+`\r
\r
`,v=`\r
--`+u+"--",x=io.getBlob(g,r,v);if(x===null)throw RI();const _={name:f.fullPath},T=tf(s,t.host,t._protocol),I="POST",R=t.maxUploadRetryTime,P=new bc(T,I,M_(t,n),R);return P.urlParams=_,P.headers=a,P.body=x.uploadData(),P.errorHandler=nf(e),P}class Vp{constructor(e,n,r,i){this.current=e,this.total=n,this.finalized=!!r,this.metadata=i||null}}function D_(t,e){let n=null;try{n=t.getResponseHeader("X-Goog-Upload-Status")}catch{cs(!1)}return cs(!!n&&(e||["active"]).indexOf(n)!==-1),n}function $9(t,e,n,r,i){const s=e.bucketOnlyServerUrl(),a=HI(e,r,i),c={name:a.fullPath},u=tf(s,t.host,t._protocol),f="POST",h={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${r.size()}`,"X-Goog-Upload-Header-Content-Type":a.contentType,"Content-Type":"application/json; charset=utf-8"},g=BI(a,n),v=t.maxUploadRetryTime;function x(T){D_(T);let I;try{I=T.getResponseHeader("X-Goog-Upload-URL")}catch{cs(!1)}return cs(Dm(I)),I}const _=new bc(u,f,x,v);return _.urlParams=c,_.headers=h,_.body=g,_.errorHandler=nf(e),_}function U9(t,e,n,r){const i={"X-Goog-Upload-Command":"query"};function s(f){const h=D_(f,["active","final"]);let g=null;try{g=f.getResponseHeader("X-Goog-Upload-Size-Received")}catch{cs(!1)}g||cs(!1);const v=Number(g);return cs(!isNaN(v)),new Vp(v,r.size(),h==="final")}const a="POST",c=t.maxUploadRetryTime,u=new bc(n,a,s,c);return u.headers=i,u.errorHandler=nf(e),u}const jS=256*1024;function V9(t,e,n,r,i,s,a,c){const u=new Vp(0,0);if(a?(u.current=a.current,u.total=a.total):(u.current=0,u.total=r.size()),r.size()!==u.total)throw n9();const f=u.total-u.current;let h=f;i>0&&(h=Math.min(h,i));const g=u.current,v=g+h;let x="";h===0?x="finalize":f===h?x="upload, finalize":x="upload";const _={"X-Goog-Upload-Command":x,"X-Goog-Upload-Offset":`${u.current}`},T=r.slice(g,v);if(T===null)throw RI();function I(j,$){const B=D_(j,["active","final"]),L=u.current+h,N=r.size();let O;return B==="final"?O=M_(e,s)(j,$):O=null,new Vp(L,N,B==="final",O)}const R="POST",P=e.maxUploadRetryTime,k=new bc(n,R,I,P);return k.headers=_,k.body=T.uploadData(),k.progressCallback=c||null,k.errorHandler=nf(t),k}const Vn={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function cy(t){switch(t){case"running":case"pausing":case"canceling":return Vn.RUNNING;case"paused":return Vn.PAUSED;case"success":return Vn.SUCCESS;case"canceled":return Vn.CANCELED;case"error":return Vn.ERROR;default:return Vn.ERROR}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let B9=class{constructor(e,n,r){if(u9(e)||n!=null||r!=null)this.next=e,this.error=n??void 0,this.complete=r??void 0;else{const s=e;this.next=s.next,this.error=s.error,this.complete=s.complete}}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Al(t){return(...e)=>{Promise.resolve().then(()=>t(...e))}}class z9{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=va.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=va.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=va.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,r,i,s){if(this.sent_)throw Pu("cannot .send() more than once");if(_s(e)&&r&&(this.xhr_.withCredentials=!0),this.sent_=!0,this.xhr_.open(n,e,!0),s!==void 0)for(const a in s)s.hasOwnProperty(a)&&this.xhr_.setRequestHeader(a,s[a].toString());return i!==void 0?this.xhr_.send(i):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Pu("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Pu("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Pu("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Pu("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class H9 extends z9{initXhr(){this.xhr_.responseType="text"}}function jl(){return new H9}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W9{isExponentialBackoffExpired(){return this.sleepTime>this.maxSleepTime}constructor(e,n,r=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=e,this._blob=n,this._metadata=r,this._mappings=UI(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=i=>{if(this._request=void 0,this._chunkMultiplier=1,i._codeEquals(ct.CANCELED))this._needToFetchStatus=!0,this.completeTransitions_();else{const s=this.isExponentialBackoffExpired();if(MI(i.status,[]))if(s)i=II();else{this.sleepTime=Math.max(this.sleepTime*2,G$),this._needToFetchStatus=!0,this.completeTransitions_();return}this._error=i,this._transition("error")}},this._metadataErrorHandler=i=>{this._request=void 0,i._codeEquals(ct.CANCELED)?this.completeTransitions_():(this._error=i,this._transition("error"))},this.sleepTime=0,this.maxSleepTime=this._ref.storage.maxUploadRetryTime,this._promise=new Promise((i,s)=>{this._resolve=i,this._reject=s,this._start()}),this._promise.then(null,()=>{})}_makeProgressCallback(){const e=this._transferred;return n=>this._updateProgress(e+n)}_shouldDoResumable(e){return e.size()>256*1024}_start(){this._state==="running"&&this._request===void 0&&(this._resumable?this._uploadUrl===void 0?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this.pendingTimeout=setTimeout(()=>{this.pendingTimeout=void 0,this._continueUpload()},this.sleepTime):this._oneShotUpload())}_resolveToken(e){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([n,r])=>{switch(this._state){case"running":e(n,r);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused");break}})}_createResumable(){this._resolveToken((e,n)=>{const r=$9(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),i=this._ref.storage._makeRequest(r,jl,e,n);this._request=i,i.getPromise().then(s=>{this._request=void 0,this._uploadUrl=s,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const e=this._uploadUrl;this._resolveToken((n,r)=>{const i=U9(this._ref.storage,this._ref._location,e,this._blob),s=this._ref.storage._makeRequest(i,jl,n,r);this._request=s,s.getPromise().then(a=>{a=a,this._request=void 0,this._updateProgress(a.current),this._needToFetchStatus=!1,a.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const e=jS*this._chunkMultiplier,n=new Vp(this._transferred,this._blob.size()),r=this._uploadUrl;this._resolveToken((i,s)=>{let a;try{a=V9(this._ref._location,this._ref.storage,r,this._blob,e,this._mappings,n,this._makeProgressCallback())}catch(u){this._error=u,this._transition("error");return}const c=this._ref.storage._makeRequest(a,jl,i,s,!1);this._request=c,c.getPromise().then(u=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(u.current),u.finalized?(this._metadata=u.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){jS*this._chunkMultiplier*2<32*1024*1024&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((e,n)=>{const r=D9(this._ref.storage,this._ref._location,this._mappings),i=this._ref.storage._makeRequest(r,jl,e,n);this._request=i,i.getPromise().then(s=>{this._request=void 0,this._metadata=s,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((e,n)=>{const r=F9(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),i=this._ref.storage._makeRequest(r,jl,e,n);this._request=i,i.getPromise().then(s=>{this._request=void 0,this._metadata=s,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(e){const n=this._transferred;this._transferred=e,this._transferred!==n&&this._notifyObservers()}_transition(e){if(this._state!==e)switch(e){case"canceling":case"pausing":this._state=e,this._request!==void 0?this._request.cancel():this.pendingTimeout&&(clearTimeout(this.pendingTimeout),this.pendingTimeout=void 0,this.completeTransitions_());break;case"running":const n=this._state==="paused";this._state=e,n&&(this._notifyObservers(),this._start());break;case"paused":this._state=e,this._notifyObservers();break;case"canceled":this._error=AI(),this._state=e,this._notifyObservers();break;case"error":this._state=e,this._notifyObservers();break;case"success":this._state=e,this._notifyObservers();break}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start();break}}get snapshot(){const e=cy(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:e,metadata:this._metadata,task:this,ref:this._ref}}on(e,n,r,i){const s=new B9(n||void 0,r||void 0,i||void 0);return this._addObserver(s),()=>{this._removeObserver(s)}}then(e,n){return this._promise.then(e,n)}catch(e){return this.then(null,e)}_addObserver(e){this._observers.push(e),this._notifyObserver(e)}_removeObserver(e){const n=this._observers.indexOf(e);n!==-1&&this._observers.splice(n,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(n=>{this._notifyObserver(n)})}_finishPromise(){if(this._resolve!==void 0){let e=!0;switch(cy(this._state)){case Vn.SUCCESS:Al(this._resolve.bind(null,this.snapshot))();break;case Vn.CANCELED:case Vn.ERROR:const n=this._reject;Al(n.bind(null,this._error))();break;default:e=!1;break}e&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(e){switch(cy(this._state)){case Vn.RUNNING:case Vn.PAUSED:e.next&&Al(e.next.bind(e,this.snapshot))();break;case Vn.SUCCESS:e.complete&&Al(e.complete.bind(e))();break;case Vn.CANCELED:case Vn.ERROR:e.error&&Al(e.error.bind(e,this._error))();break;default:e.error&&Al(e.error.bind(e,this._error))()}}resume(){const e=this._state==="paused"||this._state==="pausing";return e&&this._transition("running"),e}pause(){const e=this._state==="running";return e&&this._transition("pausing"),e}cancel(){const e=this._state==="running"||this._state==="pausing";return e&&this._transition("canceling"),e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ia{constructor(e,n){this._service=e,n instanceof sr?this._location=n:this._location=sr.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new Ia(e,n)}get root(){const e=new sr(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return $I(this._location.path)}get storage(){return this._service}get parent(){const e=k9(this._location.path);if(e===null)return null;const n=new sr(this._location.bucket,e);return new Ia(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw s9(e)}}function q9(t,e,n){return t._throwIfRoot("uploadBytesResumable"),new W9(t,new io(e),n)}function G9(t){t._throwIfRoot("getDownloadURL");const e=L9(t.storage,t._location,UI());return t.storage.makeRequestWithTokens(e,jl).then(n=>{if(n===null)throw r9();return n})}function K9(t,e){const n=P9(t._location.path,e),r=new sr(t._location.bucket,n);return new Ia(t.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Y9(t){return/^[A-Za-z]+:\/\//.test(t)}function X9(t,e){return new Ia(t,e)}function WI(t,e){if(t instanceof L_){const n=t;if(n._bucket==null)throw t9();const r=new Ia(n,n._bucket);return e!=null?WI(r,e):r}else return e!==void 0?K9(t,e):t}function J9(t,e){if(e&&Y9(e)){if(t instanceof L_)return X9(t,e);throw T0("To use ref(service, url), the first argument must be a Storage instance.")}else return WI(t,e)}function FS(t,e){const n=e?.[PI];return n==null?null:sr.makeFromBucketSpec(n,t)}function Q9(t,e,n,r={}){t.host=`${e}:${n}`;const i=_s(e);i&&(Bd(`https://${t.host}`),Ai("Storage",!0)),t._isUsingEmulator=!0,t._protocol=i?"https":"http";const{mockUserToken:s}=r;s&&(t._overrideAuthToken=typeof s=="string"?s:Pw(s,t.app.options.projectId))}class L_{constructor(e,n,r,i,s,a=!1){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=s,this._isUsingEmulator=a,this._bucket=null,this._host=kI,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=W$,this._maxUploadRetryTime=q$,this._requests=new Set,i!=null?this._bucket=sr.makeFromBucketSpec(i,this._host):this._bucket=FS(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=sr.makeFromBucketSpec(this._url,e):this._bucket=FS(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){LS("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){LS("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(gn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Ia(this,e)}_makeRequest(e,n,r,i,s=!0){if(this._deleted)return new o9(NI());{const a=v9(e,this._appId,r,i,n,this._firebaseVersion,s,this._isUsingEmulator);return this._requests.add(a),a.getPromise().then(()=>this._requests.delete(a),()=>this._requests.delete(a)),a}}async makeRequestWithTokens(e,n){const[r,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,i).getPromise()}}const $S="@firebase/storage",US="0.13.10";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qI="storage";function Z9(t,e,n){return t=Qe(t),q9(t,e,n)}function e8(t){return t=Qe(t),G9(t)}function t8(t,e){return t=Qe(t),J9(t,e)}function GI(t=gc(),e){t=Qe(t),Ai("Storage",!1);const r=xs(t,qI).getImmediate({identifier:e}),i=pm("storage");return i&&KI(r,...i),r}function KI(t,e,n,r={}){Q9(t,e,n,r)}function n8(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),i=t.getProvider("app-check-internal");return new L_(n,r,i,e,So)}function r8(){lr(new Gn(qI,n8,"PUBLIC").setMultipleInstances(!0)),Qt($S,US,""),Qt($S,US,"esm2017")}r8();var VS=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var YI;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(L,N){function O(){}O.prototype=N.prototype,L.D=N.prototype,L.prototype=new O,L.prototype.constructor=L,L.C=function(b,M,V){for(var F=Array(arguments.length-2),Q=2;Q<arguments.length;Q++)F[Q-2]=arguments[Q];return N.prototype[M].apply(b,F)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(L,N,O){O||(O=0);var b=Array(16);if(typeof N=="string")for(var M=0;16>M;++M)b[M]=N.charCodeAt(O++)|N.charCodeAt(O++)<<8|N.charCodeAt(O++)<<16|N.charCodeAt(O++)<<24;else for(M=0;16>M;++M)b[M]=N[O++]|N[O++]<<8|N[O++]<<16|N[O++]<<24;N=L.g[0],O=L.g[1],M=L.g[2];var V=L.g[3],F=N+(V^O&(M^V))+b[0]+3614090360&4294967295;N=O+(F<<7&4294967295|F>>>25),F=V+(M^N&(O^M))+b[1]+3905402710&4294967295,V=N+(F<<12&4294967295|F>>>20),F=M+(O^V&(N^O))+b[2]+606105819&4294967295,M=V+(F<<17&4294967295|F>>>15),F=O+(N^M&(V^N))+b[3]+3250441966&4294967295,O=M+(F<<22&4294967295|F>>>10),F=N+(V^O&(M^V))+b[4]+4118548399&4294967295,N=O+(F<<7&4294967295|F>>>25),F=V+(M^N&(O^M))+b[5]+1200080426&4294967295,V=N+(F<<12&4294967295|F>>>20),F=M+(O^V&(N^O))+b[6]+2821735955&4294967295,M=V+(F<<17&4294967295|F>>>15),F=O+(N^M&(V^N))+b[7]+4249261313&4294967295,O=M+(F<<22&4294967295|F>>>10),F=N+(V^O&(M^V))+b[8]+1770035416&4294967295,N=O+(F<<7&4294967295|F>>>25),F=V+(M^N&(O^M))+b[9]+2336552879&4294967295,V=N+(F<<12&4294967295|F>>>20),F=M+(O^V&(N^O))+b[10]+4294925233&4294967295,M=V+(F<<17&4294967295|F>>>15),F=O+(N^M&(V^N))+b[11]+2304563134&4294967295,O=M+(F<<22&4294967295|F>>>10),F=N+(V^O&(M^V))+b[12]+1804603682&4294967295,N=O+(F<<7&4294967295|F>>>25),F=V+(M^N&(O^M))+b[13]+4254626195&4294967295,V=N+(F<<12&4294967295|F>>>20),F=M+(O^V&(N^O))+b[14]+2792965006&4294967295,M=V+(F<<17&4294967295|F>>>15),F=O+(N^M&(V^N))+b[15]+1236535329&4294967295,O=M+(F<<22&4294967295|F>>>10),F=N+(M^V&(O^M))+b[1]+4129170786&4294967295,N=O+(F<<5&4294967295|F>>>27),F=V+(O^M&(N^O))+b[6]+3225465664&4294967295,V=N+(F<<9&4294967295|F>>>23),F=M+(N^O&(V^N))+b[11]+643717713&4294967295,M=V+(F<<14&4294967295|F>>>18),F=O+(V^N&(M^V))+b[0]+3921069994&4294967295,O=M+(F<<20&4294967295|F>>>12),F=N+(M^V&(O^M))+b[5]+3593408605&4294967295,N=O+(F<<5&4294967295|F>>>27),F=V+(O^M&(N^O))+b[10]+38016083&4294967295,V=N+(F<<9&4294967295|F>>>23),F=M+(N^O&(V^N))+b[15]+3634488961&4294967295,M=V+(F<<14&4294967295|F>>>18),F=O+(V^N&(M^V))+b[4]+3889429448&4294967295,O=M+(F<<20&4294967295|F>>>12),F=N+(M^V&(O^M))+b[9]+568446438&4294967295,N=O+(F<<5&4294967295|F>>>27),F=V+(O^M&(N^O))+b[14]+3275163606&4294967295,V=N+(F<<9&4294967295|F>>>23),F=M+(N^O&(V^N))+b[3]+4107603335&4294967295,M=V+(F<<14&4294967295|F>>>18),F=O+(V^N&(M^V))+b[8]+1163531501&4294967295,O=M+(F<<20&4294967295|F>>>12),F=N+(M^V&(O^M))+b[13]+2850285829&4294967295,N=O+(F<<5&4294967295|F>>>27),F=V+(O^M&(N^O))+b[2]+4243563512&4294967295,V=N+(F<<9&4294967295|F>>>23),F=M+(N^O&(V^N))+b[7]+1735328473&4294967295,M=V+(F<<14&4294967295|F>>>18),F=O+(V^N&(M^V))+b[12]+2368359562&4294967295,O=M+(F<<20&4294967295|F>>>12),F=N+(O^M^V)+b[5]+4294588738&4294967295,N=O+(F<<4&4294967295|F>>>28),F=V+(N^O^M)+b[8]+2272392833&4294967295,V=N+(F<<11&4294967295|F>>>21),F=M+(V^N^O)+b[11]+1839030562&4294967295,M=V+(F<<16&4294967295|F>>>16),F=O+(M^V^N)+b[14]+4259657740&4294967295,O=M+(F<<23&4294967295|F>>>9),F=N+(O^M^V)+b[1]+2763975236&4294967295,N=O+(F<<4&4294967295|F>>>28),F=V+(N^O^M)+b[4]+1272893353&4294967295,V=N+(F<<11&4294967295|F>>>21),F=M+(V^N^O)+b[7]+4139469664&4294967295,M=V+(F<<16&4294967295|F>>>16),F=O+(M^V^N)+b[10]+3200236656&4294967295,O=M+(F<<23&4294967295|F>>>9),F=N+(O^M^V)+b[13]+681279174&4294967295,N=O+(F<<4&4294967295|F>>>28),F=V+(N^O^M)+b[0]+3936430074&4294967295,V=N+(F<<11&4294967295|F>>>21),F=M+(V^N^O)+b[3]+3572445317&4294967295,M=V+(F<<16&4294967295|F>>>16),F=O+(M^V^N)+b[6]+76029189&4294967295,O=M+(F<<23&4294967295|F>>>9),F=N+(O^M^V)+b[9]+3654602809&4294967295,N=O+(F<<4&4294967295|F>>>28),F=V+(N^O^M)+b[12]+3873151461&4294967295,V=N+(F<<11&4294967295|F>>>21),F=M+(V^N^O)+b[15]+530742520&4294967295,M=V+(F<<16&4294967295|F>>>16),F=O+(M^V^N)+b[2]+3299628645&4294967295,O=M+(F<<23&4294967295|F>>>9),F=N+(M^(O|~V))+b[0]+4096336452&4294967295,N=O+(F<<6&4294967295|F>>>26),F=V+(O^(N|~M))+b[7]+1126891415&4294967295,V=N+(F<<10&4294967295|F>>>22),F=M+(N^(V|~O))+b[14]+2878612391&4294967295,M=V+(F<<15&4294967295|F>>>17),F=O+(V^(M|~N))+b[5]+4237533241&4294967295,O=M+(F<<21&4294967295|F>>>11),F=N+(M^(O|~V))+b[12]+1700485571&4294967295,N=O+(F<<6&4294967295|F>>>26),F=V+(O^(N|~M))+b[3]+2399980690&4294967295,V=N+(F<<10&4294967295|F>>>22),F=M+(N^(V|~O))+b[10]+4293915773&4294967295,M=V+(F<<15&4294967295|F>>>17),F=O+(V^(M|~N))+b[1]+2240044497&4294967295,O=M+(F<<21&4294967295|F>>>11),F=N+(M^(O|~V))+b[8]+1873313359&4294967295,N=O+(F<<6&4294967295|F>>>26),F=V+(O^(N|~M))+b[15]+4264355552&4294967295,V=N+(F<<10&4294967295|F>>>22),F=M+(N^(V|~O))+b[6]+2734768916&4294967295,M=V+(F<<15&4294967295|F>>>17),F=O+(V^(M|~N))+b[13]+1309151649&4294967295,O=M+(F<<21&4294967295|F>>>11),F=N+(M^(O|~V))+b[4]+4149444226&4294967295,N=O+(F<<6&4294967295|F>>>26),F=V+(O^(N|~M))+b[11]+3174756917&4294967295,V=N+(F<<10&4294967295|F>>>22),F=M+(N^(V|~O))+b[2]+718787259&4294967295,M=V+(F<<15&4294967295|F>>>17),F=O+(V^(M|~N))+b[9]+3951481745&4294967295,L.g[0]=L.g[0]+N&4294967295,L.g[1]=L.g[1]+(M+(F<<21&4294967295|F>>>11))&4294967295,L.g[2]=L.g[2]+M&4294967295,L.g[3]=L.g[3]+V&4294967295}r.prototype.u=function(L,N){N===void 0&&(N=L.length);for(var O=N-this.blockSize,b=this.B,M=this.h,V=0;V<N;){if(M==0)for(;V<=O;)i(this,L,V),V+=this.blockSize;if(typeof L=="string"){for(;V<N;)if(b[M++]=L.charCodeAt(V++),M==this.blockSize){i(this,b),M=0;break}}else for(;V<N;)if(b[M++]=L[V++],M==this.blockSize){i(this,b),M=0;break}}this.h=M,this.o+=N},r.prototype.v=function(){var L=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);L[0]=128;for(var N=1;N<L.length-8;++N)L[N]=0;var O=8*this.o;for(N=L.length-8;N<L.length;++N)L[N]=O&255,O/=256;for(this.u(L),L=Array(16),N=O=0;4>N;++N)for(var b=0;32>b;b+=8)L[O++]=this.g[N]>>>b&255;return L};function s(L,N){var O=c;return Object.prototype.hasOwnProperty.call(O,L)?O[L]:O[L]=N(L)}function a(L,N){this.h=N;for(var O=[],b=!0,M=L.length-1;0<=M;M--){var V=L[M]|0;b&&V==N||(O[M]=V,b=!1)}this.g=O}var c={};function u(L){return-128<=L&&128>L?s(L,function(N){return new a([N|0],0>N?-1:0)}):new a([L|0],0>L?-1:0)}function f(L){if(isNaN(L)||!isFinite(L))return g;if(0>L)return I(f(-L));for(var N=[],O=1,b=0;L>=O;b++)N[b]=L/O|0,O*=4294967296;return new a(N,0)}function h(L,N){if(L.length==0)throw Error("number format error: empty string");if(N=N||10,2>N||36<N)throw Error("radix out of range: "+N);if(L.charAt(0)=="-")return I(h(L.substring(1),N));if(0<=L.indexOf("-"))throw Error('number format error: interior "-" character');for(var O=f(Math.pow(N,8)),b=g,M=0;M<L.length;M+=8){var V=Math.min(8,L.length-M),F=parseInt(L.substring(M,M+V),N);8>V?(V=f(Math.pow(N,V)),b=b.j(V).add(f(F))):(b=b.j(O),b=b.add(f(F)))}return b}var g=u(0),v=u(1),x=u(16777216);t=a.prototype,t.m=function(){if(T(this))return-I(this).m();for(var L=0,N=1,O=0;O<this.g.length;O++){var b=this.i(O);L+=(0<=b?b:4294967296+b)*N,N*=4294967296}return L},t.toString=function(L){if(L=L||10,2>L||36<L)throw Error("radix out of range: "+L);if(_(this))return"0";if(T(this))return"-"+I(this).toString(L);for(var N=f(Math.pow(L,6)),O=this,b="";;){var M=j(O,N).g;O=R(O,M.j(N));var V=((0<O.g.length?O.g[0]:O.h)>>>0).toString(L);if(O=M,_(O))return V+b;for(;6>V.length;)V="0"+V;b=V+b}},t.i=function(L){return 0>L?0:L<this.g.length?this.g[L]:this.h};function _(L){if(L.h!=0)return!1;for(var N=0;N<L.g.length;N++)if(L.g[N]!=0)return!1;return!0}function T(L){return L.h==-1}t.l=function(L){return L=R(this,L),T(L)?-1:_(L)?0:1};function I(L){for(var N=L.g.length,O=[],b=0;b<N;b++)O[b]=~L.g[b];return new a(O,~L.h).add(v)}t.abs=function(){return T(this)?I(this):this},t.add=function(L){for(var N=Math.max(this.g.length,L.g.length),O=[],b=0,M=0;M<=N;M++){var V=b+(this.i(M)&65535)+(L.i(M)&65535),F=(V>>>16)+(this.i(M)>>>16)+(L.i(M)>>>16);b=F>>>16,V&=65535,F&=65535,O[M]=F<<16|V}return new a(O,O[O.length-1]&-2147483648?-1:0)};function R(L,N){return L.add(I(N))}t.j=function(L){if(_(this)||_(L))return g;if(T(this))return T(L)?I(this).j(I(L)):I(I(this).j(L));if(T(L))return I(this.j(I(L)));if(0>this.l(x)&&0>L.l(x))return f(this.m()*L.m());for(var N=this.g.length+L.g.length,O=[],b=0;b<2*N;b++)O[b]=0;for(b=0;b<this.g.length;b++)for(var M=0;M<L.g.length;M++){var V=this.i(b)>>>16,F=this.i(b)&65535,Q=L.i(M)>>>16,ae=L.i(M)&65535;O[2*b+2*M]+=F*ae,P(O,2*b+2*M),O[2*b+2*M+1]+=V*ae,P(O,2*b+2*M+1),O[2*b+2*M+1]+=F*Q,P(O,2*b+2*M+1),O[2*b+2*M+2]+=V*Q,P(O,2*b+2*M+2)}for(b=0;b<N;b++)O[b]=O[2*b+1]<<16|O[2*b];for(b=N;b<2*N;b++)O[b]=0;return new a(O,0)};function P(L,N){for(;(L[N]&65535)!=L[N];)L[N+1]+=L[N]>>>16,L[N]&=65535,N++}function k(L,N){this.g=L,this.h=N}function j(L,N){if(_(N))throw Error("division by zero");if(_(L))return new k(g,g);if(T(L))return N=j(I(L),N),new k(I(N.g),I(N.h));if(T(N))return N=j(L,I(N)),new k(I(N.g),N.h);if(30<L.g.length){if(T(L)||T(N))throw Error("slowDivide_ only works with positive integers.");for(var O=v,b=N;0>=b.l(L);)O=$(O),b=$(b);var M=B(O,1),V=B(b,1);for(b=B(b,2),O=B(O,2);!_(b);){var F=V.add(b);0>=F.l(L)&&(M=M.add(O),V=F),b=B(b,1),O=B(O,1)}return N=R(L,M.j(N)),new k(M,N)}for(M=g;0<=L.l(N);){for(O=Math.max(1,Math.floor(L.m()/N.m())),b=Math.ceil(Math.log(O)/Math.LN2),b=48>=b?1:Math.pow(2,b-48),V=f(O),F=V.j(N);T(F)||0<F.l(L);)O-=b,V=f(O),F=V.j(N);_(V)&&(V=v),M=M.add(V),L=R(L,F)}return new k(M,L)}t.A=function(L){return j(this,L).h},t.and=function(L){for(var N=Math.max(this.g.length,L.g.length),O=[],b=0;b<N;b++)O[b]=this.i(b)&L.i(b);return new a(O,this.h&L.h)},t.or=function(L){for(var N=Math.max(this.g.length,L.g.length),O=[],b=0;b<N;b++)O[b]=this.i(b)|L.i(b);return new a(O,this.h|L.h)},t.xor=function(L){for(var N=Math.max(this.g.length,L.g.length),O=[],b=0;b<N;b++)O[b]=this.i(b)^L.i(b);return new a(O,this.h^L.h)};function $(L){for(var N=L.g.length+1,O=[],b=0;b<N;b++)O[b]=L.i(b)<<1|L.i(b-1)>>>31;return new a(O,L.h)}function B(L,N){var O=N>>5;N%=32;for(var b=L.g.length-O,M=[],V=0;V<b;V++)M[V]=0<N?L.i(V+O)>>>N|L.i(V+O+1)<<32-N:L.i(V+O);return new a(M,L.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,a.prototype.add=a.prototype.add,a.prototype.multiply=a.prototype.j,a.prototype.modulo=a.prototype.A,a.prototype.compare=a.prototype.l,a.prototype.toNumber=a.prototype.m,a.prototype.toString=a.prototype.toString,a.prototype.getBits=a.prototype.i,a.fromNumber=f,a.fromString=h,YI=a}).apply(typeof VS<"u"?VS:typeof self<"u"?self:typeof window<"u"?window:{});var Fh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(p,E,A){return p==Array.prototype||p==Object.prototype||(p[E]=A.value),p};function n(p){p=[typeof globalThis=="object"&&globalThis,p,typeof window=="object"&&window,typeof self=="object"&&self,typeof Fh=="object"&&Fh];for(var E=0;E<p.length;++E){var A=p[E];if(A&&A.Math==Math)return A}throw Error("Cannot find global object")}var r=n(this);function i(p,E){if(E)e:{var A=r;p=p.split(".");for(var U=0;U<p.length-1;U++){var G=p[U];if(!(G in A))break e;A=A[G]}p=p[p.length-1],U=A[p],E=E(U),E!=U&&E!=null&&e(A,p,{configurable:!0,writable:!0,value:E})}}function s(p,E){p instanceof String&&(p+="");var A=0,U=!1,G={next:function(){if(!U&&A<p.length){var J=A++;return{value:E(J,p[J]),done:!1}}return U=!0,{done:!0,value:void 0}}};return G[Symbol.iterator]=function(){return G},G}i("Array.prototype.values",function(p){return p||function(){return s(this,function(E,A){return A})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var a=a||{},c=this||self;function u(p){var E=typeof p;return E=E!="object"?E:p?Array.isArray(p)?"array":E:"null",E=="array"||E=="object"&&typeof p.length=="number"}function f(p){var E=typeof p;return E=="object"&&p!=null||E=="function"}function h(p,E,A){return p.call.apply(p.bind,arguments)}function g(p,E,A){if(!p)throw Error();if(2<arguments.length){var U=Array.prototype.slice.call(arguments,2);return function(){var G=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(G,U),p.apply(E,G)}}return function(){return p.apply(E,arguments)}}function v(p,E,A){return v=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?h:g,v.apply(null,arguments)}function x(p,E){var A=Array.prototype.slice.call(arguments,1);return function(){var U=A.slice();return U.push.apply(U,arguments),p.apply(this,U)}}function _(p,E){function A(){}A.prototype=E.prototype,p.aa=E.prototype,p.prototype=new A,p.prototype.constructor=p,p.Qb=function(U,G,J){for(var fe=Array(arguments.length-2),Ye=2;Ye<arguments.length;Ye++)fe[Ye-2]=arguments[Ye];return E.prototype[G].apply(U,fe)}}function T(p){const E=p.length;if(0<E){const A=Array(E);for(let U=0;U<E;U++)A[U]=p[U];return A}return[]}function I(p,E){for(let A=1;A<arguments.length;A++){const U=arguments[A];if(u(U)){const G=p.length||0,J=U.length||0;p.length=G+J;for(let fe=0;fe<J;fe++)p[G+fe]=U[fe]}else p.push(U)}}class R{constructor(E,A){this.i=E,this.j=A,this.h=0,this.g=null}get(){let E;return 0<this.h?(this.h--,E=this.g,this.g=E.next,E.next=null):E=this.i(),E}}function P(p){return/^[\s\xa0]*$/.test(p)}function k(){var p=c.navigator;return p&&(p=p.userAgent)?p:""}function j(p){return j[" "](p),p}j[" "]=function(){};var $=k().indexOf("Gecko")!=-1&&!(k().toLowerCase().indexOf("webkit")!=-1&&k().indexOf("Edge")==-1)&&!(k().indexOf("Trident")!=-1||k().indexOf("MSIE")!=-1)&&k().indexOf("Edge")==-1;function B(p,E,A){for(const U in p)E.call(A,p[U],U,p)}function L(p,E){for(const A in p)E.call(void 0,p[A],A,p)}function N(p){const E={};for(const A in p)E[A]=p[A];return E}const O="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function b(p,E){let A,U;for(let G=1;G<arguments.length;G++){U=arguments[G];for(A in U)p[A]=U[A];for(let J=0;J<O.length;J++)A=O[J],Object.prototype.hasOwnProperty.call(U,A)&&(p[A]=U[A])}}function M(p){var E=1;p=p.split(":");const A=[];for(;0<E&&p.length;)A.push(p.shift()),E--;return p.length&&A.push(p.join(":")),A}function V(p){c.setTimeout(()=>{throw p},0)}function F(){var p=se;let E=null;return p.g&&(E=p.g,p.g=p.g.next,p.g||(p.h=null),E.next=null),E}class Q{constructor(){this.h=this.g=null}add(E,A){const U=ae.get();U.set(E,A),this.h?this.h.next=U:this.g=U,this.h=U}}var ae=new R(()=>new re,p=>p.reset());class re{constructor(){this.next=this.g=this.h=null}set(E,A){this.h=E,this.g=A,this.next=null}reset(){this.next=this.g=this.h=null}}let pe,ne=!1,se=new Q,le=()=>{const p=c.Promise.resolve(void 0);pe=()=>{p.then(q)}};var q=()=>{for(var p;p=F();){try{p.h.call(p.g)}catch(A){V(A)}var E=ae;E.j(p),100>E.h&&(E.h++,p.next=E.g,E.g=p)}ne=!1};function te(){this.s=this.s,this.C=this.C}te.prototype.s=!1,te.prototype.ma=function(){this.s||(this.s=!0,this.N())},te.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function Z(p,E){this.type=p,this.g=this.target=E,this.defaultPrevented=!1}Z.prototype.h=function(){this.defaultPrevented=!0};var he=function(){if(!c.addEventListener||!Object.defineProperty)return!1;var p=!1,E=Object.defineProperty({},"passive",{get:function(){p=!0}});try{const A=()=>{};c.addEventListener("test",A,E),c.removeEventListener("test",A,E)}catch{}return p}();function ve(p,E){if(Z.call(this,p?p.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,p){var A=this.type=p.type,U=p.changedTouches&&p.changedTouches.length?p.changedTouches[0]:null;if(this.target=p.target||p.srcElement,this.g=E,E=p.relatedTarget){if($){e:{try{j(E.nodeName);var G=!0;break e}catch{}G=!1}G||(E=null)}}else A=="mouseover"?E=p.fromElement:A=="mouseout"&&(E=p.toElement);this.relatedTarget=E,U?(this.clientX=U.clientX!==void 0?U.clientX:U.pageX,this.clientY=U.clientY!==void 0?U.clientY:U.pageY,this.screenX=U.screenX||0,this.screenY=U.screenY||0):(this.clientX=p.clientX!==void 0?p.clientX:p.pageX,this.clientY=p.clientY!==void 0?p.clientY:p.pageY,this.screenX=p.screenX||0,this.screenY=p.screenY||0),this.button=p.button,this.key=p.key||"",this.ctrlKey=p.ctrlKey,this.altKey=p.altKey,this.shiftKey=p.shiftKey,this.metaKey=p.metaKey,this.pointerId=p.pointerId||0,this.pointerType=typeof p.pointerType=="string"?p.pointerType:_e[p.pointerType]||"",this.state=p.state,this.i=p,p.defaultPrevented&&ve.aa.h.call(this)}}_(ve,Z);var _e={2:"touch",3:"pen",4:"mouse"};ve.prototype.h=function(){ve.aa.h.call(this);var p=this.i;p.preventDefault?p.preventDefault():p.returnValue=!1};var xe="closure_listenable_"+(1e6*Math.random()|0),ke=0;function Ee(p,E,A,U,G){this.listener=p,this.proxy=null,this.src=E,this.type=A,this.capture=!!U,this.ha=G,this.key=++ke,this.da=this.fa=!1}function Be(p){p.da=!0,p.listener=null,p.proxy=null,p.src=null,p.ha=null}function $e(p){this.src=p,this.g={},this.h=0}$e.prototype.add=function(p,E,A,U,G){var J=p.toString();p=this.g[J],p||(p=this.g[J]=[],this.h++);var fe=_t(p,E,U,G);return-1<fe?(E=p[fe],A||(E.fa=!1)):(E=new Ee(E,this.src,J,!!U,G),E.fa=A,p.push(E)),E};function _n(p,E){var A=E.type;if(A in p.g){var U=p.g[A],G=Array.prototype.indexOf.call(U,E,void 0),J;(J=0<=G)&&Array.prototype.splice.call(U,G,1),J&&(Be(E),p.g[A].length==0&&(delete p.g[A],p.h--))}}function _t(p,E,A,U){for(var G=0;G<p.length;++G){var J=p[G];if(!J.da&&J.listener==E&&J.capture==!!A&&J.ha==U)return G}return-1}var xn="closure_lm_"+(1e6*Math.random()|0),Mt={};function Tt(p,E,A,U,G){if(Array.isArray(E)){for(var J=0;J<E.length;J++)Tt(p,E[J],A,U,G);return null}return A=Pc(A),p&&p[xe]?p.K(E,A,f(U)?!!U.capture:!1,G):Po(p,E,A,!1,U,G)}function Po(p,E,A,U,G,J){if(!E)throw Error("Invalid event type");var fe=f(G)?!!G.capture:!!G,Ye=Va(p);if(Ye||(p[xn]=Ye=new $e(p)),A=Ye.add(E,A,U,fe,J),A.proxy)return A;if(U=gf(),A.proxy=U,U.src=p,U.listener=A,p.addEventListener)he||(G=fe),G===void 0&&(G=!1),p.addEventListener(E.toString(),U,G);else if(p.attachEvent)p.attachEvent(Mi(E.toString()),U);else if(p.addListener&&p.removeListener)p.addListener(U);else throw Error("addEventListener and attachEvent are unavailable.");return A}function gf(){function p(A){return E.call(p.src,p.listener,A)}const E=kc;return p}function Ua(p,E,A,U,G){if(Array.isArray(E))for(var J=0;J<E.length;J++)Ua(p,E[J],A,U,G);else U=f(U)?!!U.capture:!!U,A=Pc(A),p&&p[xe]?(p=p.i,E=String(E).toString(),E in p.g&&(J=p.g[E],A=_t(J,A,U,G),-1<A&&(Be(J[A]),Array.prototype.splice.call(J,A,1),J.length==0&&(delete p.g[E],p.h--)))):p&&(p=Va(p))&&(E=p.g[E.toString()],p=-1,E&&(p=_t(E,A,U,G)),(A=-1<p?E[p]:null)&&Oi(A))}function Oi(p){if(typeof p!="number"&&p&&!p.da){var E=p.src;if(E&&E[xe])_n(E.i,p);else{var A=p.type,U=p.proxy;E.removeEventListener?E.removeEventListener(A,U,p.capture):E.detachEvent?E.detachEvent(Mi(A),U):E.addListener&&E.removeListener&&E.removeListener(U),(A=Va(E))?(_n(A,p),A.h==0&&(A.src=null,E[xn]=null)):Be(p)}}}function Mi(p){return p in Mt?Mt[p]:Mt[p]="on"+p}function kc(p,E){if(p.da)p=!0;else{E=new ve(E,this);var A=p.listener,U=p.ha||p.src;p.fa&&Oi(p),p=A.call(U,E)}return p}function Va(p){return p=p[xn],p instanceof $e?p:null}var Ba="__closure_events_fn_"+(1e9*Math.random()>>>0);function Pc(p){return typeof p=="function"?p:(p[Ba]||(p[Ba]=function(E){return p.handleEvent(E)}),p[Ba])}function Dt(){te.call(this),this.i=new $e(this),this.M=this,this.F=null}_(Dt,te),Dt.prototype[xe]=!0,Dt.prototype.removeEventListener=function(p,E,A,U){Ua(this,p,E,A,U)};function Lt(p,E){var A,U=p.F;if(U)for(A=[];U;U=U.F)A.push(U);if(p=p.M,U=E.type||E,typeof E=="string")E=new Z(E,p);else if(E instanceof Z)E.target=E.target||p;else{var G=E;E=new Z(U,p),b(E,G)}if(G=!0,A)for(var J=A.length-1;0<=J;J--){var fe=E.g=A[J];G=Di(fe,U,!0,E)&&G}if(fe=E.g=p,G=Di(fe,U,!0,E)&&G,G=Di(fe,U,!1,E)&&G,A)for(J=0;J<A.length;J++)fe=E.g=A[J],G=Di(fe,U,!1,E)&&G}Dt.prototype.N=function(){if(Dt.aa.N.call(this),this.i){var p=this.i,E;for(E in p.g){for(var A=p.g[E],U=0;U<A.length;U++)Be(A[U]);delete p.g[E],p.h--}}this.F=null},Dt.prototype.K=function(p,E,A,U){return this.i.add(String(p),E,!1,A,U)},Dt.prototype.L=function(p,E,A,U){return this.i.add(String(p),E,!0,A,U)};function Di(p,E,A,U){if(E=p.i.g[String(E)],!E)return!0;E=E.concat();for(var G=!0,J=0;J<E.length;++J){var fe=E[J];if(fe&&!fe.da&&fe.capture==A){var Ye=fe.listener,jt=fe.ha||fe.src;fe.fa&&_n(p.i,fe),G=Ye.call(jt,U)!==!1&&G}}return G&&!U.defaultPrevented}function Ic(p,E,A){if(typeof p=="function")A&&(p=v(p,A));else if(p&&typeof p.handleEvent=="function")p=v(p.handleEvent,p);else throw Error("Invalid listener argument");return 2147483647<Number(E)?-1:c.setTimeout(p,E||0)}function ks(p){p.g=Ic(()=>{p.g=null,p.i&&(p.i=!1,ks(p))},p.l);const E=p.h;p.h=null,p.m.apply(null,E)}class Io extends te{constructor(E,A){super(),this.m=E,this.l=A,this.h=null,this.i=!1,this.g=null}j(E){this.h=arguments,this.g?this.i=!0:ks(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ao(p){te.call(this),this.h=p,this.g={}}_(Ao,te);var Ac=[];function Rc(p){B(p.g,function(E,A){this.g.hasOwnProperty(A)&&Oi(E)},p),p.g={}}Ao.prototype.N=function(){Ao.aa.N.call(this),Rc(this)},Ao.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Nc=c.JSON.stringify,Oc=c.JSON.parse,Mc=class{stringify(p){return c.JSON.stringify(p,void 0)}parse(p){return c.JSON.parse(p,void 0)}};function Ro(){}Ro.prototype.h=null;function za(p){return p.h||(p.h=p.i())}function Dc(){}var dr={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function oi(){Z.call(this,"d")}_(oi,Z);function Ha(){Z.call(this,"c")}_(Ha,Z);var Li={},Lc=null;function Wa(){return Lc=Lc||new Dt}Li.La="serverreachability";function jc(p){Z.call(this,Li.La,p)}_(jc,Z);function ji(p){const E=Wa();Lt(E,new jc(E))}Li.STAT_EVENT="statevent";function Fc(p,E){Z.call(this,Li.STAT_EVENT,p),this.stat=E}_(Fc,Z);function kt(p){const E=Wa();Lt(E,new Fc(E,p))}Li.Ma="timingevent";function qa(p,E){Z.call(this,Li.Ma,p),this.size=E}_(qa,Z);function Nr(p,E){if(typeof p!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){p()},E)}function No(){this.g=!0}No.prototype.xa=function(){this.g=!1};function Oo(p,E,A,U,G,J){p.info(function(){if(p.g)if(J)for(var fe="",Ye=J.split("&"),jt=0;jt<Ye.length;jt++){var Ue=Ye[jt].split("=");if(1<Ue.length){var Bt=Ue[0];Ue=Ue[1];var zt=Bt.split("_");fe=2<=zt.length&&zt[1]=="type"?fe+(Bt+"="+Ue+"&"):fe+(Bt+"=redacted&")}}else fe=null;else fe=J;return"XMLHTTP REQ ("+U+") [attempt "+G+"]: "+E+`
`+A+`
`+fe})}function Ga(p,E,A,U,G,J,fe){p.info(function(){return"XMLHTTP RESP ("+U+") [ attempt "+G+"]: "+E+`
`+A+`
`+J+" "+fe})}function Or(p,E,A,U){p.info(function(){return"XMLHTTP TEXT ("+E+"): "+ag(p,A)+(U?" "+U:"")})}function $c(p,E){p.info(function(){return"TIMEOUT: "+E})}No.prototype.info=function(){};function ag(p,E){if(!p.g)return E;if(!E)return null;try{var A=JSON.parse(E);if(A){for(p=0;p<A.length;p++)if(Array.isArray(A[p])){var U=A[p];if(!(2>U.length)){var G=U[1];if(Array.isArray(G)&&!(1>G.length)){var J=G[0];if(J!="noop"&&J!="stop"&&J!="close")for(var fe=1;fe<G.length;fe++)G[fe]=""}}}}return Nc(A)}catch{return E}}var Uc={NO_ERROR:0,TIMEOUT:8},lg={},Mr;function Mo(){}_(Mo,Ro),Mo.prototype.g=function(){return new XMLHttpRequest},Mo.prototype.i=function(){return{}},Mr=new Mo;function Dr(p,E,A,U){this.j=p,this.i=E,this.l=A,this.R=U||1,this.U=new Ao(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new vf}function vf(){this.i=null,this.g="",this.h=!1}var Vc={},Ka={};function Ya(p,E,A){p.L=1,p.v=Ns(Jn(E)),p.m=A,p.P=!0,Bc(p,null)}function Bc(p,E){p.F=Date.now(),rt(p),p.A=Jn(p.v);var A=p.A,U=p.R;Array.isArray(U)||(U=[String(U)]),Ms(A.i,"t",U),p.C=0,A=p.j.J,p.h=new vf,p.g=Df(p.j,A?E:null,!p.m),0<p.O&&(p.M=new Io(v(p.Y,p,p.g),p.O)),E=p.U,A=p.g,U=p.ca;var G="readystatechange";Array.isArray(G)||(G&&(Ac[0]=G.toString()),G=Ac);for(var J=0;J<G.length;J++){var fe=Tt(A,G[J],U||E.handleEvent,!1,E.h||E);if(!fe)break;E.g[fe.key]=fe}E=p.H?N(p.H):{},p.m?(p.u||(p.u="POST"),E["Content-Type"]="application/x-www-form-urlencoded",p.g.ea(p.A,p.u,p.m,E)):(p.u="GET",p.g.ea(p.A,p.u,null,E)),ji(),Oo(p.i,p.u,p.A,p.l,p.R,p.m)}Dr.prototype.ca=function(p){p=p.target;const E=this.M;E&&On(p)==3?E.j():this.Y(p)},Dr.prototype.Y=function(p){try{if(p==this.g)e:{const zt=On(this.g);var E=this.g.Ba();const di=this.g.Z();if(!(3>zt)&&(zt!=3||this.g&&(this.h.h||this.g.oa()||Kc(this.g)))){this.J||zt!=4||E==7||(E==8||0>=di?ji(3):ji(2)),Do(this);var A=this.g.Z();this.X=A;t:if(yf(this)){var U=Kc(this.g);p="";var G=U.length,J=On(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){fr(this),Ps(this);var fe="";break t}this.h.i=new c.TextDecoder}for(E=0;E<G;E++)this.h.h=!0,p+=this.h.i.decode(U[E],{stream:!(J&&E==G-1)});U.length=0,this.h.g+=p,this.C=0,fe=this.h.g}else fe=this.g.oa();if(this.o=A==200,Ga(this.i,this.u,this.A,this.l,this.R,zt,A),this.o){if(this.T&&!this.K){t:{if(this.g){var Ye,jt=this.g;if((Ye=jt.g?jt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!P(Ye)){var Ue=Ye;break t}}Ue=null}if(A=Ue)Or(this.i,this.l,A,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,zc(this,A);else{this.o=!1,this.s=3,kt(12),fr(this),Ps(this);break e}}if(this.P){A=!0;let tn;for(;!this.J&&this.C<fe.length;)if(tn=cg(this,fe),tn==Ka){zt==4&&(this.s=4,kt(14),A=!1),Or(this.i,this.l,null,"[Incomplete Response]");break}else if(tn==Vc){this.s=4,kt(15),Or(this.i,this.l,fe,"[Invalid Chunk]"),A=!1;break}else Or(this.i,this.l,tn,null),zc(this,tn);if(yf(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),zt!=4||fe.length!=0||this.h.h||(this.s=1,kt(16),A=!1),this.o=this.o&&A,!A)Or(this.i,this.l,fe,"[Invalid Chunked Response]"),fr(this),Ps(this);else if(0<fe.length&&!this.W){this.W=!0;var Bt=this.j;Bt.g==this&&Bt.ba&&!Bt.M&&(Bt.j.info("Great, no buffering proxy detected. Bytes received: "+fe.length),Xc(Bt),Bt.M=!0,kt(11))}}else Or(this.i,this.l,fe,null),zc(this,fe);zt==4&&fr(this),this.o&&!this.J&&(zt==4?ol(this.j,this):(this.o=!1,rt(this)))}else tl(this.g),A==400&&0<fe.indexOf("Unknown SID")?(this.s=3,kt(12)):(this.s=0,kt(13)),fr(this),Ps(this)}}}catch{}finally{}};function yf(p){return p.g?p.u=="GET"&&p.L!=2&&p.j.Ca:!1}function cg(p,E){var A=p.C,U=E.indexOf(`
`,A);return U==-1?Ka:(A=Number(E.substring(A,U)),isNaN(A)?Vc:(U+=1,U+A>E.length?Ka:(E=E.slice(U,U+A),p.C=U+A,E)))}Dr.prototype.cancel=function(){this.J=!0,fr(this)};function rt(p){p.S=Date.now()+p.I,wf(p,p.I)}function wf(p,E){if(p.B!=null)throw Error("WatchDog timer not null");p.B=Nr(v(p.ba,p),E)}function Do(p){p.B&&(c.clearTimeout(p.B),p.B=null)}Dr.prototype.ba=function(){this.B=null;const p=Date.now();0<=p-this.S?($c(this.i,this.A),this.L!=2&&(ji(),kt(17)),fr(this),this.s=2,Ps(this)):wf(this,this.S-p)};function Ps(p){p.j.G==0||p.J||ol(p.j,p)}function fr(p){Do(p);var E=p.M;E&&typeof E.ma=="function"&&E.ma(),p.M=null,Rc(p.U),p.g&&(E=p.g,p.g=null,E.abort(),E.ma())}function zc(p,E){try{var A=p.j;if(A.G!=0&&(A.g==p||bn(A.h,p))){if(!p.K&&bn(A.h,p)&&A.G==3){try{var U=A.Da.g.parse(E)}catch{U=null}if(Array.isArray(U)&&U.length==3){var G=U;if(G[0]==0){e:if(!A.u){if(A.g)if(A.g.F+3e3<p.F)sl(A),Ur(A);else break e;il(A),kt(18)}}else A.za=G[1],0<A.za-A.T&&37500>G[2]&&A.F&&A.v==0&&!A.C&&(A.C=Nr(v(A.Za,A),6e3));if(1>=xf(A.h)&&A.ca){try{A.ca()}catch{}A.ca=void 0}}else Bi(A,11)}else if((p.K||A.g==p)&&sl(A),!P(E))for(G=A.Da.g.parse(E),E=0;E<G.length;E++){let Ue=G[E];if(A.T=Ue[0],Ue=Ue[1],A.G==2)if(Ue[0]=="c"){A.K=Ue[1],A.ia=Ue[2];const Bt=Ue[3];Bt!=null&&(A.la=Bt,A.j.info("VER="+A.la));const zt=Ue[4];zt!=null&&(A.Aa=zt,A.j.info("SVER="+A.Aa));const di=Ue[5];di!=null&&typeof di=="number"&&0<di&&(U=1.5*di,A.L=U,A.j.info("backChannelRequestTimeoutMs_="+U)),U=A;const tn=p.g;if(tn){const al=tn.g?tn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(al){var J=U.h;J.g||al.indexOf("spdy")==-1&&al.indexOf("quic")==-1&&al.indexOf("h2")==-1||(J.j=J.l,J.g=new Set,J.h&&(Hc(J,J.h),J.h=null))}if(U.D){const ll=tn.g?tn.g.getResponseHeader("X-HTTP-Session-Id"):null;ll&&(U.ya=ll,Ze(U.I,U.D,ll))}}A.G=3,A.l&&A.l.ua(),A.ba&&(A.R=Date.now()-p.F,A.j.info("Handshake RTT: "+A.R+"ms")),U=A;var fe=p;if(U.qa=Mf(U,U.J?U.ia:null,U.W),fe.K){bf(U.h,fe);var Ye=fe,jt=U.L;jt&&(Ye.I=jt),Ye.B&&(Do(Ye),rt(Ye)),U.g=fe}else Vo(U);0<A.i.length&&ui(A)}else Ue[0]!="stop"&&Ue[0]!="close"||Bi(A,7);else A.G==3&&(Ue[0]=="stop"||Ue[0]=="close"?Ue[0]=="stop"?Bi(A,7):en(A):Ue[0]!="noop"&&A.l&&A.l.ta(Ue),A.v=0)}}ji(4)}catch{}}var _f=class{constructor(p,E){this.g=p,this.map=E}};function Lo(p){this.l=p||10,c.PerformanceNavigationTiming?(p=c.performance.getEntriesByType("navigation"),p=0<p.length&&(p[0].nextHopProtocol=="hq"||p[0].nextHopProtocol=="h2")):p=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=p?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Xn(p){return p.h?!0:p.g?p.g.size>=p.j:!1}function xf(p){return p.h?1:p.g?p.g.size:0}function bn(p,E){return p.h?p.h==E:p.g?p.g.has(E):!1}function Hc(p,E){p.g?p.g.add(E):p.h=E}function bf(p,E){p.h&&p.h==E?p.h=null:p.g&&p.g.has(E)&&p.g.delete(E)}Lo.prototype.cancel=function(){if(this.i=Ef(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const p of this.g.values())p.cancel();this.g.clear()}};function Ef(p){if(p.h!=null)return p.i.concat(p.h.D);if(p.g!=null&&p.g.size!==0){let E=p.i;for(const A of p.g.values())E=E.concat(A.D);return E}return T(p.i)}function Xa(p){if(p.V&&typeof p.V=="function")return p.V();if(typeof Map<"u"&&p instanceof Map||typeof Set<"u"&&p instanceof Set)return Array.from(p.values());if(typeof p=="string")return p.split("");if(u(p)){for(var E=[],A=p.length,U=0;U<A;U++)E.push(p[U]);return E}E=[],A=0;for(U in p)E[A++]=p[U];return E}function Ja(p){if(p.na&&typeof p.na=="function")return p.na();if(!p.V||typeof p.V!="function"){if(typeof Map<"u"&&p instanceof Map)return Array.from(p.keys());if(!(typeof Set<"u"&&p instanceof Set)){if(u(p)||typeof p=="string"){var E=[];p=p.length;for(var A=0;A<p;A++)E.push(A);return E}E=[],A=0;for(const U in p)E[A++]=U;return E}}}function Is(p,E){if(p.forEach&&typeof p.forEach=="function")p.forEach(E,void 0);else if(u(p)||typeof p=="string")Array.prototype.forEach.call(p,E,void 0);else for(var A=Ja(p),U=Xa(p),G=U.length,J=0;J<G;J++)E.call(void 0,U[J],A&&A[J],p)}var jo=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ug(p,E){if(p){p=p.split("&");for(var A=0;A<p.length;A++){var U=p[A].indexOf("="),G=null;if(0<=U){var J=p[A].substring(0,U);G=p[A].substring(U+1)}else J=p[A];E(J,G?decodeURIComponent(G.replace(/\+/g," ")):"")}}}function Fi(p){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,p instanceof Fi){this.h=p.h,Fo(this,p.j),this.o=p.o,this.g=p.g,As(this,p.s),this.l=p.l;var E=p.i,A=new ai;A.i=E.i,E.g&&(A.g=new Map(E.g),A.h=E.h),Rs(this,A),this.m=p.m}else p&&(E=String(p).match(jo))?(this.h=!1,Fo(this,E[1]||"",!0),this.o=Fe(E[2]||""),this.g=Fe(E[3]||"",!0),As(this,E[4]),this.l=Fe(E[5]||"",!0),Rs(this,E[6]||"",!0),this.m=Fe(E[7]||"")):(this.h=!1,this.i=new ai(null,this.h))}Fi.prototype.toString=function(){var p=[],E=this.j;E&&p.push(Os(E,Qa,!0),":");var A=this.g;return(A||E=="file")&&(p.push("//"),(E=this.o)&&p.push(Os(E,Qa,!0),"@"),p.push(encodeURIComponent(String(A)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),A=this.s,A!=null&&p.push(":",String(A))),(A=this.l)&&(this.g&&A.charAt(0)!="/"&&p.push("/"),p.push(Os(A,A.charAt(0)=="/"?Tf:Cf,!0))),(A=this.i.toString())&&p.push("?",A),(A=this.m)&&p.push("#",Os(A,Wc)),p.join("")};function Jn(p){return new Fi(p)}function Fo(p,E,A){p.j=A?Fe(E,!0):E,p.j&&(p.j=p.j.replace(/:$/,""))}function As(p,E){if(E){if(E=Number(E),isNaN(E)||0>E)throw Error("Bad port number "+E);p.s=E}else p.s=null}function Rs(p,E,A){E instanceof ai?(p.i=E,li(p.i,p.h)):(A||(E=Os(E,kf)),p.i=new ai(E,p.h))}function Ze(p,E,A){p.i.set(E,A)}function Ns(p){return Ze(p,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),p}function Fe(p,E){return p?E?decodeURI(p.replace(/%25/g,"%2525")):decodeURIComponent(p):""}function Os(p,E,A){return typeof p=="string"?(p=encodeURI(p).replace(E,Sf),A&&(p=p.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),p):null}function Sf(p){return p=p.charCodeAt(0),"%"+(p>>4&15).toString(16)+(p&15).toString(16)}var Qa=/[#\/\?@]/g,Cf=/[#\?:]/g,Tf=/[#\?]/g,kf=/[#\?@]/g,Wc=/#/g;function ai(p,E){this.h=this.g=null,this.i=p||null,this.j=!!E}function Zt(p){p.g||(p.g=new Map,p.h=0,p.i&&ug(p.i,function(E,A){p.add(decodeURIComponent(E.replace(/\+/g," ")),A)}))}t=ai.prototype,t.add=function(p,E){Zt(this),this.i=null,p=hr(this,p);var A=this.g.get(p);return A||this.g.set(p,A=[]),A.push(E),this.h+=1,this};function Lr(p,E){Zt(p),E=hr(p,E),p.g.has(E)&&(p.i=null,p.h-=p.g.get(E).length,p.g.delete(E))}function jr(p,E){return Zt(p),E=hr(p,E),p.g.has(E)}t.forEach=function(p,E){Zt(this),this.g.forEach(function(A,U){A.forEach(function(G){p.call(E,G,U,this)},this)},this)},t.na=function(){Zt(this);const p=Array.from(this.g.values()),E=Array.from(this.g.keys()),A=[];for(let U=0;U<E.length;U++){const G=p[U];for(let J=0;J<G.length;J++)A.push(E[U])}return A},t.V=function(p){Zt(this);let E=[];if(typeof p=="string")jr(this,p)&&(E=E.concat(this.g.get(hr(this,p))));else{p=Array.from(this.g.values());for(let A=0;A<p.length;A++)E=E.concat(p[A])}return E},t.set=function(p,E){return Zt(this),this.i=null,p=hr(this,p),jr(this,p)&&(this.h-=this.g.get(p).length),this.g.set(p,[E]),this.h+=1,this},t.get=function(p,E){return p?(p=this.V(p),0<p.length?String(p[0]):E):E};function Ms(p,E,A){Lr(p,E),0<A.length&&(p.i=null,p.g.set(hr(p,E),T(A)),p.h+=A.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const p=[],E=Array.from(this.g.keys());for(var A=0;A<E.length;A++){var U=E[A];const J=encodeURIComponent(String(U)),fe=this.V(U);for(U=0;U<fe.length;U++){var G=J;fe[U]!==""&&(G+="="+encodeURIComponent(String(fe[U]))),p.push(G)}}return this.i=p.join("&")};function hr(p,E){return E=String(E),p.j&&(E=E.toLowerCase()),E}function li(p,E){E&&!p.j&&(Zt(p),p.i=null,p.g.forEach(function(A,U){var G=U.toLowerCase();U!=G&&(Lr(this,U),Ms(this,G,A))},p)),p.j=E}function dg(p,E){const A=new No;if(c.Image){const U=new Image;U.onload=x(Nn,A,"TestLoadImage: loaded",!0,E,U),U.onerror=x(Nn,A,"TestLoadImage: error",!1,E,U),U.onabort=x(Nn,A,"TestLoadImage: abort",!1,E,U),U.ontimeout=x(Nn,A,"TestLoadImage: timeout",!1,E,U),c.setTimeout(function(){U.ontimeout&&U.ontimeout()},1e4),U.src=p}else E(!1)}function Pf(p,E){const A=new No,U=new AbortController,G=setTimeout(()=>{U.abort(),Nn(A,"TestPingServer: timeout",!1,E)},1e4);fetch(p,{signal:U.signal}).then(J=>{clearTimeout(G),J.ok?Nn(A,"TestPingServer: ok",!0,E):Nn(A,"TestPingServer: server error",!1,E)}).catch(()=>{clearTimeout(G),Nn(A,"TestPingServer: error",!1,E)})}function Nn(p,E,A,U,G){try{G&&(G.onload=null,G.onerror=null,G.onabort=null,G.ontimeout=null),U(A)}catch{}}function fg(){this.g=new Mc}function If(p,E,A){const U=A||"";try{Is(p,function(G,J){let fe=G;f(G)&&(fe=Nc(G)),E.push(U+J+"="+encodeURIComponent(fe))})}catch(G){throw E.push(U+"type="+encodeURIComponent("_badmap")),G}}function $i(p){this.l=p.Ub||null,this.j=p.eb||!1}_($i,Ro),$i.prototype.g=function(){return new $o(this.l,this.j)},$i.prototype.i=function(p){return function(){return p}}({});function $o(p,E){Dt.call(this),this.D=p,this.o=E,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}_($o,Dt),t=$o.prototype,t.open=function(p,E){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=p,this.A=E,this.readyState=1,$r(this)},t.send=function(p){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const E={headers:this.u,method:this.B,credentials:this.m,cache:void 0};p&&(E.body=p),(this.D||c).fetch(new Request(this.A,E)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Fr(this)),this.readyState=0},t.Sa=function(p){if(this.g&&(this.l=p,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=p.headers,this.readyState=2,$r(this)),this.g&&(this.readyState=3,$r(this),this.g)))if(this.responseType==="arraybuffer")p.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in p){if(this.j=p.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Af(this)}else p.text().then(this.Ra.bind(this),this.ga.bind(this))};function Af(p){p.j.read().then(p.Pa.bind(p)).catch(p.ga.bind(p))}t.Pa=function(p){if(this.g){if(this.o&&p.value)this.response.push(p.value);else if(!this.o){var E=p.value?p.value:new Uint8Array(0);(E=this.v.decode(E,{stream:!p.done}))&&(this.response=this.responseText+=E)}p.done?Fr(this):$r(this),this.readyState==3&&Af(this)}},t.Ra=function(p){this.g&&(this.response=this.responseText=p,Fr(this))},t.Qa=function(p){this.g&&(this.response=p,Fr(this))},t.ga=function(){this.g&&Fr(this)};function Fr(p){p.readyState=4,p.l=null,p.j=null,p.v=null,$r(p)}t.setRequestHeader=function(p,E){this.u.append(p,E)},t.getResponseHeader=function(p){return this.h&&this.h.get(p.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const p=[],E=this.h.entries();for(var A=E.next();!A.done;)A=A.value,p.push(A[0]+": "+A[1]),A=E.next();return p.join(`\r
`)};function $r(p){p.onreadystatechange&&p.onreadystatechange.call(p)}Object.defineProperty($o.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(p){this.m=p?"include":"same-origin"}});function Ui(p){let E="";return B(p,function(A,U){E+=U,E+=":",E+=A,E+=`\r
`}),E}function Ds(p,E,A){e:{for(U in A){var U=!1;break e}U=!0}U||(A=Ui(A),typeof p=="string"?A!=null&&encodeURIComponent(String(A)):Ze(p,E,A))}function ht(p){Dt.call(this),this.headers=new Map,this.o=p||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}_(ht,Dt);var hg=/^https?$/i,qc=["POST","PUT"];t=ht.prototype,t.Ha=function(p){this.J=p},t.ea=function(p,E,A,U){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+p);E=E?E.toUpperCase():"GET",this.D=p,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Mr.g(),this.v=this.o?za(this.o):za(Mr),this.g.onreadystatechange=v(this.Ea,this);try{this.B=!0,this.g.open(E,String(p),!0),this.B=!1}catch(J){Uo(this,J);return}if(p=A||"",A=new Map(this.headers),U)if(Object.getPrototypeOf(U)===Object.prototype)for(var G in U)A.set(G,U[G]);else if(typeof U.keys=="function"&&typeof U.get=="function")for(const J of U.keys())A.set(J,U.get(J));else throw Error("Unknown input type for opt_headers: "+String(U));U=Array.from(A.keys()).find(J=>J.toLowerCase()=="content-type"),G=c.FormData&&p instanceof c.FormData,!(0<=Array.prototype.indexOf.call(qc,E,void 0))||U||G||A.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[J,fe]of A)this.g.setRequestHeader(J,fe);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{el(this),this.u=!0,this.g.send(p),this.u=!1}catch(J){Uo(this,J)}};function Uo(p,E){p.h=!1,p.g&&(p.j=!0,p.g.abort(),p.j=!1),p.l=E,p.m=5,Za(p),Qn(p)}function Za(p){p.A||(p.A=!0,Lt(p,"complete"),Lt(p,"error"))}t.abort=function(p){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=p||7,Lt(this,"complete"),Lt(this,"abort"),Qn(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Qn(this,!0)),ht.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?Gc(this):this.bb())},t.bb=function(){Gc(this)};function Gc(p){if(p.h&&typeof a<"u"&&(!p.v[1]||On(p)!=4||p.Z()!=2)){if(p.u&&On(p)==4)Ic(p.Ea,0,p);else if(Lt(p,"readystatechange"),On(p)==4){p.h=!1;try{const fe=p.Z();e:switch(fe){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var E=!0;break e;default:E=!1}var A;if(!(A=E)){var U;if(U=fe===0){var G=String(p.D).match(jo)[1]||null;!G&&c.self&&c.self.location&&(G=c.self.location.protocol.slice(0,-1)),U=!hg.test(G?G.toLowerCase():"")}A=U}if(A)Lt(p,"complete"),Lt(p,"success");else{p.m=6;try{var J=2<On(p)?p.g.statusText:""}catch{J=""}p.l=J+" ["+p.Z()+"]",Za(p)}}finally{Qn(p)}}}}function Qn(p,E){if(p.g){el(p);const A=p.g,U=p.v[0]?()=>{}:null;p.g=null,p.v=null,E||Lt(p,"ready");try{A.onreadystatechange=U}catch{}}}function el(p){p.I&&(c.clearTimeout(p.I),p.I=null)}t.isActive=function(){return!!this.g};function On(p){return p.g?p.g.readyState:0}t.Z=function(){try{return 2<On(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(p){if(this.g){var E=this.g.responseText;return p&&E.indexOf(p)==0&&(E=E.substring(p.length)),Oc(E)}};function Kc(p){try{if(!p.g)return null;if("response"in p.g)return p.g.response;switch(p.H){case"":case"text":return p.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in p.g)return p.g.mozResponseArrayBuffer}return null}catch{return null}}function tl(p){const E={};p=(p.g&&2<=On(p)&&p.g.getAllResponseHeaders()||"").split(`\r
`);for(let U=0;U<p.length;U++){if(P(p[U]))continue;var A=M(p[U]);const G=A[0];if(A=A[1],typeof A!="string")continue;A=A.trim();const J=E[G]||[];E[G]=J,J.push(A)}L(E,function(U){return U.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function ci(p,E,A){return A&&A.internalChannelParams&&A.internalChannelParams[p]||E}function Yc(p){this.Aa=0,this.i=[],this.j=new No,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=ci("failFast",!1,p),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=ci("baseRetryDelayMs",5e3,p),this.cb=ci("retryDelaySeedMs",1e4,p),this.Wa=ci("forwardChannelMaxRetries",2,p),this.wa=ci("forwardChannelRequestTimeoutMs",2e4,p),this.pa=p&&p.xmlHttpFactory||void 0,this.Xa=p&&p.Tb||void 0,this.Ca=p&&p.useFetchStreams||!1,this.L=void 0,this.J=p&&p.supportsCrossDomainXhr||!1,this.K="",this.h=new Lo(p&&p.concurrentRequestLimit),this.Da=new fg,this.P=p&&p.fastHandshake||!1,this.O=p&&p.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=p&&p.Rb||!1,p&&p.xa&&this.j.xa(),p&&p.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&p&&p.detectBufferingProxy||!1,this.ja=void 0,p&&p.longPollingTimeout&&0<p.longPollingTimeout&&(this.ja=p.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=Yc.prototype,t.la=8,t.G=1,t.connect=function(p,E,A,U){kt(0),this.W=p,this.H=E||{},A&&U!==void 0&&(this.H.OSID=A,this.H.OAID=U),this.F=this.X,this.I=Mf(this,null,this.W),ui(this)};function en(p){if(nl(p),p.G==3){var E=p.U++,A=Jn(p.I);if(Ze(A,"SID",p.K),Ze(A,"RID",E),Ze(A,"TYPE","terminate"),Vi(p,A),E=new Dr(p,p.j,E),E.L=2,E.v=Ns(Jn(A)),A=!1,c.navigator&&c.navigator.sendBeacon)try{A=c.navigator.sendBeacon(E.v.toString(),"")}catch{}!A&&c.Image&&(new Image().src=E.v,A=!0),A||(E.g=Df(E.j,null),E.g.ea(E.v)),E.F=Date.now(),rt(E)}Of(p)}function Ur(p){p.g&&(Xc(p),p.g.cancel(),p.g=null)}function nl(p){Ur(p),p.u&&(c.clearTimeout(p.u),p.u=null),sl(p),p.h.cancel(),p.s&&(typeof p.s=="number"&&c.clearTimeout(p.s),p.s=null)}function ui(p){if(!Xn(p.h)&&!p.s){p.s=!0;var E=p.Ga;pe||le(),ne||(pe(),ne=!0),se.add(E,p),p.B=0}}function pg(p,E){return xf(p.h)>=p.h.j-(p.s?1:0)?!1:p.s?(p.i=E.D.concat(p.i),!0):p.G==1||p.G==2||p.B>=(p.Va?0:p.Wa)?!1:(p.s=Nr(v(p.Ga,p,E),Nf(p,p.B)),p.B++,!0)}t.Ga=function(p){if(this.s)if(this.s=null,this.G==1){if(!p){this.U=Math.floor(1e5*Math.random()),p=this.U++;const G=new Dr(this,this.j,p);let J=this.o;if(this.S&&(J?(J=N(J),b(J,this.S)):J=this.S),this.m!==null||this.O||(G.H=J,J=null),this.P)e:{for(var E=0,A=0;A<this.i.length;A++){t:{var U=this.i[A];if("__data__"in U.map&&(U=U.map.__data__,typeof U=="string")){U=U.length;break t}U=void 0}if(U===void 0)break;if(E+=U,4096<E){E=A;break e}if(E===4096||A===this.i.length-1){E=A+1;break e}}E=1e3}else E=1e3;E=Ls(this,G,E),A=Jn(this.I),Ze(A,"RID",p),Ze(A,"CVER",22),this.D&&Ze(A,"X-HTTP-Session-Id",this.D),Vi(this,A),J&&(this.O?E="headers="+encodeURIComponent(String(Ui(J)))+"&"+E:this.m&&Ds(A,this.m,J)),Hc(this.h,G),this.Ua&&Ze(A,"TYPE","init"),this.P?(Ze(A,"$req",E),Ze(A,"SID","null"),G.T=!0,Ya(G,A,null)):Ya(G,A,E),this.G=2}}else this.G==3&&(p?rl(this,p):this.i.length==0||Xn(this.h)||rl(this))};function rl(p,E){var A;E?A=E.l:A=p.U++;const U=Jn(p.I);Ze(U,"SID",p.K),Ze(U,"RID",A),Ze(U,"AID",p.T),Vi(p,U),p.m&&p.o&&Ds(U,p.m,p.o),A=new Dr(p,p.j,A,p.B+1),p.m===null&&(A.H=p.o),E&&(p.i=E.D.concat(p.i)),E=Ls(p,A,1e3),A.I=Math.round(.5*p.wa)+Math.round(.5*p.wa*Math.random()),Hc(p.h,A),Ya(A,U,E)}function Vi(p,E){p.H&&B(p.H,function(A,U){Ze(E,U,A)}),p.l&&Is({},function(A,U){Ze(E,U,A)})}function Ls(p,E,A){A=Math.min(p.i.length,A);var U=p.l?v(p.l.Na,p.l,p):null;e:{var G=p.i;let J=-1;for(;;){const fe=["count="+A];J==-1?0<A?(J=G[0].g,fe.push("ofs="+J)):J=0:fe.push("ofs="+J);let Ye=!0;for(let jt=0;jt<A;jt++){let Ue=G[jt].g;const Bt=G[jt].map;if(Ue-=J,0>Ue)J=Math.max(0,G[jt].g-100),Ye=!1;else try{If(Bt,fe,"req"+Ue+"_")}catch{U&&U(Bt)}}if(Ye){U=fe.join("&");break e}}}return p=p.i.splice(0,A),E.D=p,U}function Vo(p){if(!p.g&&!p.u){p.Y=1;var E=p.Fa;pe||le(),ne||(pe(),ne=!0),se.add(E,p),p.v=0}}function il(p){return p.g||p.u||3<=p.v?!1:(p.Y++,p.u=Nr(v(p.Fa,p),Nf(p,p.v)),p.v++,!0)}t.Fa=function(){if(this.u=null,Rf(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var p=2*this.R;this.j.info("BP detection timer enabled: "+p),this.A=Nr(v(this.ab,this),p)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,kt(10),Ur(this),Rf(this))};function Xc(p){p.A!=null&&(c.clearTimeout(p.A),p.A=null)}function Rf(p){p.g=new Dr(p,p.j,"rpc",p.Y),p.m===null&&(p.g.H=p.o),p.g.O=0;var E=Jn(p.qa);Ze(E,"RID","rpc"),Ze(E,"SID",p.K),Ze(E,"AID",p.T),Ze(E,"CI",p.F?"0":"1"),!p.F&&p.ja&&Ze(E,"TO",p.ja),Ze(E,"TYPE","xmlhttp"),Vi(p,E),p.m&&p.o&&Ds(E,p.m,p.o),p.L&&(p.g.I=p.L);var A=p.g;p=p.ia,A.L=1,A.v=Ns(Jn(E)),A.m=null,A.P=!0,Bc(A,p)}t.Za=function(){this.C!=null&&(this.C=null,Ur(this),il(this),kt(19))};function sl(p){p.C!=null&&(c.clearTimeout(p.C),p.C=null)}function ol(p,E){var A=null;if(p.g==E){sl(p),Xc(p),p.g=null;var U=2}else if(bn(p.h,E))A=E.D,bf(p.h,E),U=1;else return;if(p.G!=0){if(E.o)if(U==1){A=E.m?E.m.length:0,E=Date.now()-E.F;var G=p.B;U=Wa(),Lt(U,new qa(U,A)),ui(p)}else Vo(p);else if(G=E.s,G==3||G==0&&0<E.X||!(U==1&&pg(p,E)||U==2&&il(p)))switch(A&&0<A.length&&(E=p.h,E.i=E.i.concat(A)),G){case 1:Bi(p,5);break;case 4:Bi(p,10);break;case 3:Bi(p,6);break;default:Bi(p,2)}}}function Nf(p,E){let A=p.Ta+Math.floor(Math.random()*p.cb);return p.isActive()||(A*=2),A*E}function Bi(p,E){if(p.j.info("Error code "+E),E==2){var A=v(p.fb,p),U=p.Xa;const G=!U;U=new Fi(U||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||Fo(U,"https"),Ns(U),G?dg(U.toString(),A):Pf(U.toString(),A)}else kt(2);p.G=0,p.l&&p.l.sa(E),Of(p),nl(p)}t.fb=function(p){p?(this.j.info("Successfully pinged google.com"),kt(2)):(this.j.info("Failed to ping google.com"),kt(1))};function Of(p){if(p.G=0,p.ka=[],p.l){const E=Ef(p.h);(E.length!=0||p.i.length!=0)&&(I(p.ka,E),I(p.ka,p.i),p.h.i.length=0,T(p.i),p.i.length=0),p.l.ra()}}function Mf(p,E,A){var U=A instanceof Fi?Jn(A):new Fi(A);if(U.g!="")E&&(U.g=E+"."+U.g),As(U,U.s);else{var G=c.location;U=G.protocol,E=E?E+"."+G.hostname:G.hostname,G=+G.port;var J=new Fi(null);U&&Fo(J,U),E&&(J.g=E),G&&As(J,G),A&&(J.l=A),U=J}return A=p.D,E=p.ya,A&&E&&Ze(U,A,E),Ze(U,"VER",p.la),Vi(p,U),U}function Df(p,E,A){if(E&&!p.J)throw Error("Can't create secondary domain capable XhrIo object.");return E=p.Ca&&!p.pa?new ht(new $i({eb:A})):new ht(p.pa),E.Ha(p.J),E}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Jc(){}t=Jc.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function Mn(p,E){Dt.call(this),this.g=new Yc(E),this.l=p,this.h=E&&E.messageUrlParams||null,p=E&&E.messageHeaders||null,E&&E.clientProtocolHeaderRequired&&(p?p["X-Client-Protocol"]="webchannel":p={"X-Client-Protocol":"webchannel"}),this.g.o=p,p=E&&E.initMessageHeaders||null,E&&E.messageContentType&&(p?p["X-WebChannel-Content-Type"]=E.messageContentType:p={"X-WebChannel-Content-Type":E.messageContentType}),E&&E.va&&(p?p["X-WebChannel-Client-Profile"]=E.va:p={"X-WebChannel-Client-Profile":E.va}),this.g.S=p,(p=E&&E.Sb)&&!P(p)&&(this.g.m=p),this.v=E&&E.supportsCrossDomainXhr||!1,this.u=E&&E.sendRawJson||!1,(E=E&&E.httpSessionIdParam)&&!P(E)&&(this.g.D=E,p=this.h,p!==null&&E in p&&(p=this.h,E in p&&delete p[E])),this.j=new js(this)}_(Mn,Dt),Mn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Mn.prototype.close=function(){en(this.g)},Mn.prototype.o=function(p){var E=this.g;if(typeof p=="string"){var A={};A.__data__=p,p=A}else this.u&&(A={},A.__data__=Nc(p),p=A);E.i.push(new _f(E.Ya++,p)),E.G==3&&ui(E)},Mn.prototype.N=function(){this.g.l=null,delete this.j,en(this.g),delete this.g,Mn.aa.N.call(this)};function Lf(p){oi.call(this),p.__headers__&&(this.headers=p.__headers__,this.statusCode=p.__status__,delete p.__headers__,delete p.__status__);var E=p.__sm__;if(E){e:{for(const A in E){p=A;break e}p=void 0}(this.i=p)&&(p=this.i,E=E!==null&&p in E?E[p]:void 0),this.data=E}else this.data=p}_(Lf,oi);function jf(){Ha.call(this),this.status=1}_(jf,Ha);function js(p){this.g=p}_(js,Jc),js.prototype.ua=function(){Lt(this.g,"a")},js.prototype.ta=function(p){Lt(this.g,new Lf(p))},js.prototype.sa=function(p){Lt(this.g,new jf)},js.prototype.ra=function(){Lt(this.g,"b")},Mn.prototype.send=Mn.prototype.o,Mn.prototype.open=Mn.prototype.m,Mn.prototype.close=Mn.prototype.close,Uc.NO_ERROR=0,Uc.TIMEOUT=8,Uc.HTTP_ERROR=6,lg.COMPLETE="complete",Dc.EventType=dr,dr.OPEN="a",dr.CLOSE="b",dr.ERROR="c",dr.MESSAGE="d",Dt.prototype.listen=Dt.prototype.K,ht.prototype.listenOnce=ht.prototype.L,ht.prototype.getLastError=ht.prototype.Ka,ht.prototype.getLastErrorCode=ht.prototype.Ba,ht.prototype.getStatus=ht.prototype.Z,ht.prototype.getResponseJson=ht.prototype.Oa,ht.prototype.getResponseText=ht.prototype.oa,ht.prototype.send=ht.prototype.ea,ht.prototype.setWithCredentials=ht.prototype.Ha}).apply(typeof Fh<"u"?Fh:typeof self<"u"?self:typeof window<"u"?window:{});const BS="@firebase/firestore",zS="4.7.14";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Tn.UNAUTHENTICATED=new Tn(null),Tn.GOOGLE_CREDENTIALS=new Tn("google-credentials-uid"),Tn.FIRST_PARTY=new Tn("first-party-uid"),Tn.MOCK_USER=new Tn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let rf="11.7.3";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ic=new vm("@firebase/firestore");function Jr(t,...e){if(ic.logLevel<=Ke.DEBUG){const n=e.map(j_);ic.debug(`Firestore (${rf}): ${t}`,...n)}}function XI(t,...e){if(ic.logLevel<=Ke.ERROR){const n=e.map(j_);ic.error(`Firestore (${rf}): ${t}`,...n)}}function i8(t,...e){if(ic.logLevel<=Ke.WARN){const n=e.map(j_);ic.warn(`Firestore (${rf}): ${t}`,...n)}}function j_(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JI(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,QI(t,r,n)}function QI(t,e,n){let r=`FIRESTORE (${rf}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw XI(r),new Error(r)}function Ju(t,e,n,r){let i="Unexpected state";typeof n=="string"?i=n:r=n,t||QI(e,i,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bn={CANCELLED:"cancelled",INVALID_ARGUMENT:"invalid-argument",FAILED_PRECONDITION:"failed-precondition"};class zn extends Ir{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qu{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZI{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class s8{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Tn.UNAUTHENTICATED))}shutdown(){}}class o8{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class a8{constructor(e){this.t=e,this.currentUser=Tn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Ju(this.o===void 0,42304);let r=this.i;const i=u=>this.i!==r?(r=this.i,n(u)):Promise.resolve();let s=new Qu;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Qu,e.enqueueRetryable(()=>i(this.currentUser))};const a=()=>{const u=s;e.enqueueRetryable(async()=>{await u.promise,await i(this.currentUser)})},c=u=>{Jr("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.o&&(this.auth.addAuthTokenListener(this.o),a())};this.t.onInit(u=>c(u)),setTimeout(()=>{if(!this.auth){const u=this.t.getImmediate({optional:!0});u?c(u):(Jr("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Qu)}},0),a()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(Jr("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Ju(typeof r.accessToken=="string",31837,{l:r}),new ZI(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ju(e===null||typeof e=="string",2055,{h:e}),new Tn(e)}}class l8{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=Tn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class c8{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new l8(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(Tn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class HS{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class u8{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,gn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Ju(this.o===void 0,3512);const r=s=>{s.error!=null&&Jr("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const a=s.token!==this.m;return this.m=s.token,Jr("FirebaseAppCheckTokenProvider",`Received ${a?"new":"existing"} token.`),a?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{Jr("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.V.getImmediate({optional:!0});s?i(s):Jr("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new HS(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Ju(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new HS(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function d8(t){return t.name==="IndexedDbTransactionError"}const k0="(default)";class Bp{constructor(e,n){this.projectId=e,this.database=n||k0}static empty(){return new Bp("","")}get isDefaultDatabase(){return this.database===k0}isEqual(e){return e instanceof Bp&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var WS,Ve;(Ve=WS||(WS={}))[Ve.OK=0]="OK",Ve[Ve.CANCELLED=1]="CANCELLED",Ve[Ve.UNKNOWN=2]="UNKNOWN",Ve[Ve.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ve[Ve.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ve[Ve.NOT_FOUND=5]="NOT_FOUND",Ve[Ve.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ve[Ve.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ve[Ve.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ve[Ve.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ve[Ve.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ve[Ve.ABORTED=10]="ABORTED",Ve[Ve.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ve[Ve.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ve[Ve.INTERNAL=13]="INTERNAL",Ve[Ve.UNAVAILABLE=14]="UNAVAILABLE",Ve[Ve.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */new YI([4294967295,4294967295],0);/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f8=41943040;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h8=1048576;function uy(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p8{constructor(e,n,r=1e3,i=1.5,s=6e4){this.bi=e,this.timerId=n,this.u_=r,this.c_=i,this.l_=s,this.h_=0,this.P_=null,this.T_=Date.now(),this.reset()}reset(){this.h_=0}I_(){this.h_=this.l_}E_(e){this.cancel();const n=Math.floor(this.h_+this.d_()),r=Math.max(0,Date.now()-this.T_),i=Math.max(0,n-r);i>0&&Jr("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.h_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.P_=this.bi.enqueueAfterDelay(this.timerId,i,()=>(this.T_=Date.now(),e())),this.h_*=this.c_,this.h_<this.u_&&(this.h_=this.u_),this.h_>this.l_&&(this.h_=this.l_)}A_(){this.P_!==null&&(this.P_.skipDelay(),this.P_=null)}cancel(){this.P_!==null&&(this.P_.cancel(),this.P_=null)}d_(){return(Math.random()-.5)*this.h_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F_{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new Qu,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(a=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){const a=Date.now()+r,c=new F_(e,n,a,i,s);return c.start(r),c}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new zn(Bn.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}var qS,GS;(GS=qS||(qS={})).ya="default",GS.Cache="cache";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function m8(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KS=new Map;function g8(t,e,n,r){if(e===!0&&r===!0)throw new zn(Bn.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function v8(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":JI(12329,{type:typeof t})}function y8(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new zn(Bn.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=v8(t);throw new zn(Bn.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eA="firestore.googleapis.com",YS=!0;class XS{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new zn(Bn.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=eA,this.ssl=YS}else this.host=e.host,this.ssl=(n=e.ssl)!==null&&n!==void 0?n:YS;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=f8;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<h8)throw new zn(Bn.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}g8("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=m8((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new zn(Bn.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new zn(Bn.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new zn(Bn.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class tA{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new XS({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new zn(Bn.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new zn(Bn.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new XS(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new s8;switch(r.type){case"firstParty":return new c8(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new zn(Bn.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,Ai("Firestore",this._settings.isUsingEmulator),this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=KS.get(n);r&&(Jr("ComponentProvider","Removing Datastore"),KS.delete(n),r.terminate())}(this),Promise.resolve()}}function nA(t,e,n,r={}){var i;t=y8(t,tA);const s=_s(e),a=t._getSettings(),c=Object.assign(Object.assign({},a),{emulatorOptions:t._getEmulatorOptions()}),u=`${e}:${n}`;a.host!==eA&&a.host!==u&&i8("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const f=Object.assign(Object.assign({},a),{host:u,ssl:s,emulatorOptions:r});if(!go(f,c)&&(t._setSettings(f),s&&(Bd(`https://${u}`),Ai("Firestore",!0)),r.mockUserToken)){let h,g;if(typeof r.mockUserToken=="string")h=r.mockUserToken,g=Tn.MOCK_USER;else{h=Pw(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const v=r.mockUserToken.sub||r.mockUserToken.user_id;if(!v)throw new zn(Bn.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");g=new Tn(v)}t._authCredentials=new o8(new ZI(h,g))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JS="AsyncQueue";class QS{constructor(e=Promise.resolve()){this.Qu=[],this.$u=!1,this.Uu=[],this.Ku=null,this.Wu=!1,this.Gu=!1,this.zu=[],this.y_=new p8(this,"async_queue_retry"),this.ju=()=>{const r=uy();r&&Jr(JS,"Visibility state changed to "+r.visibilityState),this.y_.A_()},this.Hu=e;const n=uy();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.ju)}get isShuttingDown(){return this.$u}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Ju(),this.Yu(e)}enterRestrictedMode(e){if(!this.$u){this.$u=!0,this.Gu=e||!1;const n=uy();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.ju)}}enqueue(e){if(this.Ju(),this.$u)return new Promise(()=>{});const n=new Qu;return this.Yu(()=>this.$u&&this.Gu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Qu.push(e),this.Zu()))}async Zu(){if(this.Qu.length!==0){try{await this.Qu[0](),this.Qu.shift(),this.y_.reset()}catch(e){if(!d8(e))throw e;Jr(JS,"Operation failed with retryable error: "+e)}this.Qu.length>0&&this.y_.E_(()=>this.Zu())}}Yu(e){const n=this.Hu.then(()=>(this.Wu=!0,e().catch(r=>{throw this.Ku=r,this.Wu=!1,XI("INTERNAL UNHANDLED ERROR: ",ZS(r)),r}).then(r=>(this.Wu=!1,r))));return this.Hu=n,n}enqueueAfterDelay(e,n,r){this.Ju(),this.zu.indexOf(e)>-1&&(n=0);const i=F_.createAndSchedule(this,e,n,r,s=>this.Xu(s));return this.Uu.push(i),i}Ju(){this.Ku&&JI(47125,{ec:ZS(this.Ku)})}verifyOperationInProgress(){}async tc(){let e;do e=this.Hu,await e;while(e!==this.Hu)}nc(e){for(const n of this.Uu)if(n.timerId===e)return!0;return!1}rc(e){return this.tc().then(()=>{this.Uu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.Uu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.tc()})}sc(e){this.zu.push(e)}Xu(e){const n=this.Uu.indexOf(e);this.Uu.splice(n,1)}}function ZS(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class w8 extends tA{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new QS,this._persistenceKey=i?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new QS(e),this._firestoreClient=void 0,await e}}}function _8(t,e){const n=typeof t=="object"?t:gc(),r=typeof t=="string"?t:k0,i=xs(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const s=pm("firestore");s&&nA(i,...s)}return i}(function(e,n=!0){(function(i){rf=i})(So),lr(new Gn("firestore",(r,{instanceIdentifier:i,options:s})=>{const a=r.getProvider("app").getImmediate(),c=new w8(new a8(r.getProvider("auth-internal")),new u8(a,r.getProvider("app-check-internal")),function(f,h){if(!Object.prototype.hasOwnProperty.apply(f.options,["projectId"]))throw new zn(Bn.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Bp(f.options.projectId,h)}(a,i),a);return s=Object.assign({useFetchStreams:n},s),c._setSettings(s),c},"PUBLIC").setMultipleInstances(!0)),Qt(BS,zS,e),Qt(BS,zS,"esm2017")})();const x8={apiKey:"AIzaSyD9cpSfGG212h80iXofJetw-B-arEEcOvI",authDomain:"emprochampions2025.firebaseapp.com",databaseURL:"https://emprochampions2025-default-rtdb.firebaseio.com",projectId:"emprochampions2025",storageBucket:"emprochampions2025.firebasestorage.app",messagingSenderId:"683206087538",appId:"1:683206087538:web:8a1473aec968bd6ab543eb",measurementId:"G-3TX5J3NDT5"},To=nk(x8),so=S6(To),Te=CI(To),b8=GI(To),E8=_8(To);Fw(To);new _i;window.location.hostname==="localhost"&&(Gk(so,"http://localhost:9099"),TI(Te,"localhost",9e3),KI(b8,"localhost",9199),nA(E8,"localhost",8080),console.log("Conectado a emuladores de Firebase"));const rA=C.createContext(),si=()=>{const t=C.useContext(rA);if(!t)throw new Error("useAuth must be used within an AuthProvider");return t};function S8({children:t}){const[e,n]=C.useState(null),[r,i]=C.useState(null),[s,a]=C.useState(!0),c=(g,v)=>Qk(so,g,v),u=(g,v)=>c3(so,g,v),f=()=>Zk(so),h=()=>{const g=new _i;return g.setCustomParameters({prompt:"select_account"}),O3(so,g)};return C.useEffect(()=>{const g=h3(so,async v=>{if(v){const _=["yayirobe2305@gmail.com","gersonespino@gmail.com","andiescobar8@gmail.com","rodriguezmerary42@gmail.com"].includes(v.email)?"admin":"usuario";i(_),n(v);const T=Ce(Te,`usuarios/${v.uid}`),I=await ti(T);if(I.exists())I.val().rol!==_&&await ms(T,{rol:_});else{const R={correo:v.email,rol:_,nombre:v.displayName?.split(" ")[0]||"",apellido:v.displayName?.split(" ")[1]||""};await At(T,R)}}else n(null),i(null);a(!1)});return()=>g()},[]),w.jsx(rA.Provider,{value:{user:e,rol:r,loading:s,signup:c,login:u,logout:f,loginWithGoogle:h},children:t})}const zp={calendario:{femenino:{asignaciones:{A:"Equipo A",B:"Equipo B",C:"Equipo C",D:"Equipo D",E:"Equipo E"},partidos:{jornada1:[{cancha:"1",equipo1:"A",equipo2:"B",fecha:"Sábado 28 Jun - 08:00 AM"},{cancha:"2",equipo1:"C",equipo2:"D",fecha:"Sábado 28 Jun - 08:00 AM"}],jornada2:[{cancha:"1",equipo1:"A",equipo2:"C",fecha:"Sábado 28 Jun - 09:00 AM"},{cancha:"2",equipo1:"B",equipo2:"E",fecha:"Sábado 28 Jun - 09:00 AM"}],jornada3:[{cancha:"1",equipo1:"A",equipo2:"D",fecha:"Sábado 28 Jun - 10:00 AM"},{cancha:"2",equipo1:"C",equipo2:"E",fecha:"Sábado 28 Jun - 10:00 AM"}],jornada4:[{cancha:"1",equipo1:"A",equipo2:"E",fecha:"Sábado 28 Jun - 11:00 AM"},{cancha:"2",equipo1:"B",equipo2:"D",fecha:"Sábado 28 Jun - 11:00 AM"}],jornada5:[{cancha:"1",equipo1:"B",equipo2:"C",fecha:"Sábado 28 Jun - 12:00 PM"},{cancha:"2",equipo1:"D",equipo2:"E",fecha:"Sábado 28 Jun - 12:00 PM"}],semifinales:[{cancha:"1",equipo1:"1er Lugar",equipo2:"4to Lugar",fecha:"Domingo 29 Jun - 09:00 AM"},{cancha:"2",equipo1:"2do Lugar",equipo2:"3er Lugar",fecha:"Domingo 29 Jun - 09:00 AM"}],finales:[{cancha:"2",equipo1:"Perdedor Semi 1",equipo2:"Perdedor Semi 2",fecha:"Domingo 29 Jun - 11:00 AM",nombre:"Tercer Lugar"},{cancha:"1",equipo1:"Ganador Semi 1",equipo2:"Ganador Semi 2",fecha:"Domingo 29 Jun - 12:00 PM",nombre:"Gran Final"}]}},masculino:{asignaciones:{A:"Equipo A",B:"Equipo B",C:"Equipo C",D:"Equipo D",E:"Equipo E",F:"Equipo F"},partidos:{jornada1:[{cancha:"1",equipo1:"A",equipo2:"F",fecha:"Sábado 28 Jun - 02:00 PM"},{cancha:"2",equipo1:"B",equipo2:"E",fecha:"Sábado 28 Jun - 02:00 PM"},{cancha:"1",equipo1:"C",equipo2:"D",fecha:"Sábado 28 Jun - 03:00 PM"}],jornada2:[{cancha:"2",equipo1:"A",equipo2:"E",fecha:"Sábado 28 Jun - 03:00 PM"},{cancha:"1",equipo1:"B",equipo2:"D",fecha:"Sábado 28 Jun - 04:00 PM"},{cancha:"2",equipo1:"C",equipo2:"F",fecha:"Sábado 28 Jun - 04:00 PM"}],jornada3:[{cancha:"1",equipo1:"A",equipo2:"D",fecha:"Domingo 29 Jun - 08:00 AM"},{cancha:"2",equipo1:"B",equipo2:"C",fecha:"Domingo 29 Jun - 08:00 AM"},{cancha:"1",equipo1:"E",equipo2:"F",fecha:"Domingo 29 Jun - 10:00 AM"}],jornada4:[{cancha:"2",equipo1:"A",equipo2:"C",fecha:"Domingo 29 Jun - 10:00 AM"},{cancha:"1",equipo1:"B",equipo2:"F",fecha:"Domingo 29 Jun - 11:00 AM"},{cancha:"2",equipo1:"D",equipo2:"E",fecha:"Domingo 29 Jun - 11:00 AM"}],jornada5:[{cancha:"1",equipo1:"A",equipo2:"B",fecha:"Domingo 29 Jun - 01:00 PM"},{cancha:"2",equipo1:"C",equipo2:"E",fecha:"Domingo 29 Jun - 01:00 PM"},{cancha:"1",equipo1:"D",equipo2:"F",fecha:"Domingo 29 Jun - 02:00 PM"}],semifinales:[{cancha:"1",equipo1:"1er Lugar",equipo2:"4to Lugar",fecha:"Domingo 29 Jun - 03:00 PM"},{cancha:"2",equipo1:"2do Lugar",equipo2:"3er Lugar",fecha:"Domingo 29 Jun - 03:00 PM"}],finales:[{cancha:"2",equipo1:"Perdedor Semi 1",equipo2:"Perdedor Semi 2",fecha:"Domingo 29 Jun - 04:00 PM",nombre:"Tercer Lugar"},{cancha:"1",equipo1:"Ganador Semi 1",equipo2:"Ganador Semi 2",fecha:"Domingo 29 Jun - 05:00 PM",nombre:"Gran Final"}]}}},plantillas:{femenino:{"Don Bosco":{logo:"bosco.png",jugadores:[]},"Atrapados en su Red":{logo:"atrapados.png",jugadores:[]},"Luz en mi Camino":{logo:"luz.png",jugadores:[]},"Mensajeros de Paz":{logo:"mensajeros.png",jugadores:[]},"Huellas de Jesus":{logo:"huellas.png",jugadores:[]}},masculino:{"Don Bosco":{logo:"bosco.png",jugadores:[]},"Atrapados en su Red":{logo:"atrapados.png",jugadores:[]},"Luz en mi Camino":{logo:"luz.png",jugadores:[]},"Mensajeros de Paz":{logo:"mensajeros.png",jugadores:[]},"Huellas de Jesus":{logo:"huellas.png",jugadores:[]},Emprosaurios:{logo:"emprosaurios.png",jugadores:[]}}}};function C8(){const[t,e]=C.useState(""),[n,r]=C.useState(""),[i,s]=C.useState(""),a=Pr(),{login:c,loginWithGoogle:u}=si(),f=async g=>{g.preventDefault(),s("");try{await c(t,n),a("/")}catch(v){s("Credenciales incorrectas. Verifica tu correo y contraseña."),console.error("Error en login:",v.message)}},h=async()=>{s("");try{await u(),a("/")}catch(g){s("Error al iniciar sesión con Google."),console.error("Error en login con Google:",g.message)}};return w.jsx("div",{className:"min-h-screen bg-cover bg-center flex items-center justify-center",style:{backgroundImage:"url('/EmproChampions-2025/img/fondoempro-horizontal.png')"},children:w.jsxs("div",{className:"bg-white/90 rounded-2xl shadow-lg p-8 w-full max-w-md text-center",children:[w.jsx("img",{src:"/EmproChampions-2025/img/logo-empro.png",alt:"Logo Empro",className:"w-32 md:w-40 mx-auto mb-4"}),w.jsx("h1",{className:"text-3xl font-bold text-[#7a0026] mb-6",children:"Empro Champions 2025"}),i&&w.jsx("p",{className:"bg-red-500 text-white p-2 rounded-md mb-4",children:i}),w.jsxs("form",{onSubmit:f,className:"space-y-4",children:[w.jsx("h2",{className:"text-lg text-[#7a0026] font-bold",children:"¡HOLA, INICIA SESIÓN!"}),w.jsx("input",{type:"email",placeholder:"CORREO",value:t,onChange:g=>e(g.target.value),required:!0,className:"w-full px-4 py-2 border border-[#7a0026] rounded-md focus:outline-none focus:ring-2 focus:ring-[#FFD700]",autoComplete:"email"}),w.jsx("input",{type:"password",placeholder:"CONTRASEÑA",value:n,onChange:g=>r(g.target.value),required:!0,className:"w-full px-4 py-2 border border-[#7a0026] rounded-md focus:outline-none focus:ring-2 focus:ring-[#FFD700]",autoComplete:"current-password"}),w.jsx("button",{type:"submit",className:"w-full bg-[#FFD700] text-[#7a0026] font-bold py-2 rounded-md hover:bg-yellow-400 transition",children:"INICIAR SESIÓN"})]}),w.jsx("div",{className:"my-4 text-[#7a0026] font-semibold",children:"o"}),w.jsx("button",{onClick:h,className:"w-full bg-blue-600 text-white font-bold py-2 rounded-md hover:bg-blue-700 transition",children:"INGRESA CON GOOGLE"}),w.jsxs("p",{className:"mt-4 text-sm text-[#7a0026]",children:["¿No tienes cuenta?"," ",w.jsx(ma,{to:"/registro",className:"font-bold underline",children:"Crea una"})]})]})})}function T8(){const[t,e]=C.useState(""),[n,r]=C.useState(""),[i,s]=C.useState(""),[a,c]=C.useState(""),u=Pr(),f=(g,v)=>{const x=g?.charAt(0).toUpperCase()||"",_=v?.charAt(0).toUpperCase()||"";return`${x}${_}`},h=async g=>{g.preventDefault();try{const v=await Qk(so,i,a),x=v.user.uid,_={nombre:t,apellido:n,correo:i,rol:"usuario",iniciales:f(t,n),foto:null};await At(Ce(Te,`usuarios/${x}`),_),await u3(v.user),alert("¡Cuenta creada exitosamente! Se ha enviado un correo de verificación a tu dirección de email. Por favor, verifica tu correo para activar tu cuenta."),u("/login")}catch(v){console.error("Error al crear la cuenta:",v),v.code==="auth/email-already-in-use"?alert("Este correo electrónico ya está registrado. Por favor, intenta con otro o inicia sesión."):v.code==="auth/weak-password"?alert("La contraseña es demasiado débil. Debe tener al menos 6 caracteres."):alert("Error al crear la cuenta. Por favor, inténtalo de nuevo. Detalles: "+v.message)}};return w.jsx("div",{className:"min-h-screen bg-cover bg-center flex items-center justify-center",style:{backgroundImage:"url('/EmproChampions-2025/img/fondoempro-horizontal.png')"},children:w.jsxs("div",{className:"bg-white/90 rounded-2xl shadow-lg p-8 w-full max-w-md text-center",children:[w.jsx("img",{src:"/EmproChampions-2025/img/logo-empro.png",alt:"Logo Empro",className:"w-24 mx-auto mb-4"}),w.jsx("h1",{className:"text-3xl font-bold text-[#7a0026] mb-6",children:"Crear Cuenta"}),w.jsxs("form",{onSubmit:h,className:"space-y-4",children:[w.jsx("input",{type:"text",placeholder:"Nombre",value:t,onChange:g=>e(g.target.value),required:!0,className:"w-full px-4 py-2 border border-[#7a0026] rounded-md focus:outline-none focus:ring-2 focus:ring-[#FFD700]"}),w.jsx("input",{type:"text",placeholder:"Apellido",value:n,onChange:g=>r(g.target.value),required:!0,className:"w-full px-4 py-2 border border-[#7a0026] rounded-md focus:outline-none focus:ring-2 focus:ring-[#FFD700]"}),w.jsx("input",{type:"email",placeholder:"Correo",value:i,onChange:g=>s(g.target.value),required:!0,className:"w-full px-4 py-2 border border-[#7a0026] rounded-md focus:outline-none focus:ring-2 focus:ring-[#FFD700]"}),w.jsx("input",{type:"password",placeholder:"Contraseña (mín. 6 caracteres)",value:a,onChange:g=>c(g.target.value),required:!0,className:"w-full px-4 py-2 border border-[#7a0026] rounded-md focus:outline-none focus:ring-2 focus:ring-[#FFD700]"}),w.jsx("button",{type:"submit",className:"w-full bg-[#FFD700] text-[#7a0026] font-bold py-2 rounded-md hover:bg-yellow-400 transition",children:"Registrarme"})]}),w.jsxs("p",{className:"mt-4 text-sm text-[#7a0026]",children:["¿Ya tienes cuenta?"," ",w.jsx(ma,{to:"/login",className:"font-bold underline",children:"Inicia sesión"})]})]})})}function k8({title:t,titleId:e,...n},r){return C.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?C.createElement("title",{id:e},t):null,C.createElement("path",{fillRule:"evenodd",d:"M5.25 9a6.75 6.75 0 0 1 13.5 0v.75c0 2.123.8 4.057 2.118 5.52a.75.75 0 0 1-.297 1.206c-1.544.57-3.16.99-4.831 1.243a3.75 3.75 0 1 1-7.48 0 24.585 24.585 0 0 1-4.831-1.244.75.75 0 0 1-.298-1.205A8.217 8.217 0 0 0 5.25 9.75V9Zm4.502 8.9a2.25 2.25 0 1 0 4.496 0 25.057 25.057 0 0 1-4.496 0Z",clipRule:"evenodd"}))}const P8=C.forwardRef(k8);function I8({title:t,titleId:e,...n},r){return C.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?C.createElement("title",{id:e},t):null,C.createElement("path",{d:"M12.75 12.75a.75.75 0 1 1-1.5 0 .75.75 0 0 1 1.5 0ZM7.5 15.75a.75.75 0 1 0 0-1.5.75.75 0 0 0 0 1.5ZM8.25 17.25a.75.75 0 1 1-1.5 0 .75.75 0 0 1 1.5 0ZM9.75 15.75a.75.75 0 1 0 0-1.5.75.75 0 0 0 0 1.5ZM10.5 17.25a.75.75 0 1 1-1.5 0 .75.75 0 0 1 1.5 0ZM12 15.75a.75.75 0 1 0 0-1.5.75.75 0 0 0 0 1.5ZM12.75 17.25a.75.75 0 1 1-1.5 0 .75.75 0 0 1 1.5 0ZM14.25 15.75a.75.75 0 1 0 0-1.5.75.75 0 0 0 0 1.5ZM15 17.25a.75.75 0 1 1-1.5 0 .75.75 0 0 1 1.5 0ZM16.5 15.75a.75.75 0 1 0 0-1.5.75.75 0 0 0 0 1.5ZM15 12.75a.75.75 0 1 1-1.5 0 .75.75 0 0 1 1.5 0ZM16.5 13.5a.75.75 0 1 0 0-1.5.75.75 0 0 0 0 1.5Z"}),C.createElement("path",{fillRule:"evenodd",d:"M6.75 2.25A.75.75 0 0 1 7.5 3v1.5h9V3A.75.75 0 0 1 18 3v1.5h.75a3 3 0 0 1 3 3v11.25a3 3 0 0 1-3 3H5.25a3 3 0 0 1-3-3V7.5a3 3 0 0 1 3-3H6V3a.75.75 0 0 1 .75-.75Zm13.5 9a1.5 1.5 0 0 0-1.5-1.5H5.25a1.5 1.5 0 0 0-1.5 1.5v7.5a1.5 1.5 0 0 0 1.5 1.5h13.5a1.5 1.5 0 0 0 1.5-1.5v-7.5Z",clipRule:"evenodd"}))}const A8=C.forwardRef(I8);function R8({title:t,titleId:e,...n},r){return C.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?C.createElement("title",{id:e},t):null,C.createElement("path",{d:"M12 9a3.75 3.75 0 1 0 0 7.5A3.75 3.75 0 0 0 12 9Z"}),C.createElement("path",{fillRule:"evenodd",d:"M9.344 3.071a49.52 49.52 0 0 1 5.312 0c.967.052 1.83.585 2.332 1.39l.821 1.317c.24.383.645.643 1.11.71.386.054.77.113 1.152.177 1.432.239 2.429 1.493 2.429 2.909V18a3 3 0 0 1-3 3h-15a3 3 0 0 1-3-3V9.574c0-1.416.997-2.67 2.429-2.909.382-.064.766-.123 1.151-.178a1.56 1.56 0 0 0 1.11-.71l.822-1.315a2.942 2.942 0 0 1 2.332-1.39ZM6.75 12.75a5.25 5.25 0 1 1 10.5 0 5.25 5.25 0 0 1-10.5 0Zm12-1.5a.75.75 0 1 0 0-1.5.75.75 0 0 0 0 1.5Z",clipRule:"evenodd"}))}const iA=C.forwardRef(R8);function N8({title:t,titleId:e,...n},r){return C.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?C.createElement("title",{id:e},t):null,C.createElement("path",{d:"M18.375 2.25c-1.035 0-1.875.84-1.875 1.875v15.75c0 1.035.84 1.875 1.875 1.875h.75c1.035 0 1.875-.84 1.875-1.875V4.125c0-1.036-.84-1.875-1.875-1.875h-.75ZM9.75 8.625c0-1.036.84-1.875 1.875-1.875h.75c1.036 0 1.875.84 1.875 1.875v11.25c0 1.035-.84 1.875-1.875 1.875h-.75a1.875 1.875 0 0 1-1.875-1.875V8.625ZM3 13.125c0-1.036.84-1.875 1.875-1.875h.75c1.036 0 1.875.84 1.875 1.875v6.75c0 1.035-.84 1.875-1.875 1.875h-.75A1.875 1.875 0 0 1 3 19.875v-6.75Z"}))}const O8=C.forwardRef(N8);function M8({title:t,titleId:e,...n},r){return C.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?C.createElement("title",{id:e},t):null,C.createElement("path",{fillRule:"evenodd",d:"M12 2.25c-5.385 0-9.75 4.365-9.75 9.75s4.365 9.75 9.75 9.75 9.75-4.365 9.75-9.75S17.385 2.25 12 2.25ZM12.75 6a.75.75 0 0 0-1.5 0v6c0 .414.336.75.75.75h4.5a.75.75 0 0 0 0-1.5h-3.75V6Z",clipRule:"evenodd"}))}const D8=C.forwardRef(M8);function L8({title:t,titleId:e,...n},r){return C.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?C.createElement("title",{id:e},t):null,C.createElement("path",{fillRule:"evenodd",d:"M11.078 2.25c-.917 0-1.699.663-1.85 1.567L9.05 4.889c-.02.12-.115.26-.297.348a7.493 7.493 0 0 0-.986.57c-.166.115-.334.126-.45.083L6.3 5.508a1.875 1.875 0 0 0-2.282.819l-.922 1.597a1.875 1.875 0 0 0 .432 2.385l.84.692c.095.078.17.229.154.43a7.598 7.598 0 0 0 0 1.139c.015.2-.059.352-.153.43l-.841.692a1.875 1.875 0 0 0-.432 2.385l.922 1.597a1.875 1.875 0 0 0 2.282.818l1.019-.382c.115-.043.283-.031.45.082.312.214.641.405.985.57.182.088.277.228.297.35l.178 1.071c.151.904.933 1.567 1.85 1.567h1.844c.916 0 1.699-.663 1.85-1.567l.178-1.072c.02-.12.114-.26.297-.349.344-.165.673-.356.985-.57.167-.114.335-.125.45-.082l1.02.382a1.875 1.875 0 0 0 2.28-.819l.923-1.597a1.875 1.875 0 0 0-.432-2.385l-.84-.692c-.095-.078-.17-.229-.154-.43a7.614 7.614 0 0 0 0-1.139c-.016-.2.059-.352.153-.43l.84-.692c.708-.582.891-1.59.433-2.385l-.922-1.597a1.875 1.875 0 0 0-2.282-.818l-1.02.382c-.114.043-.282.031-.449-.083a7.49 7.49 0 0 0-.985-.57c-.183-.087-.277-.227-.297-.348l-.179-1.072a1.875 1.875 0 0 0-1.85-1.567h-1.843ZM12 15.75a3.75 3.75 0 1 0 0-7.5 3.75 3.75 0 0 0 0 7.5Z",clipRule:"evenodd"}))}const j8=C.forwardRef(L8);function F8({title:t,titleId:e,...n},r){return C.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?C.createElement("title",{id:e},t):null,C.createElement("path",{d:"m11.645 20.91-.007-.003-.022-.012a15.247 15.247 0 0 1-.383-.218 25.18 25.18 0 0 1-4.244-3.17C4.688 15.36 2.25 12.174 2.25 8.25 2.25 5.322 4.714 3 7.688 3A5.5 5.5 0 0 1 12 5.052 5.5 5.5 0 0 1 16.313 3c2.973 0 5.437 2.322 5.437 5.25 0 3.925-2.438 7.111-4.739 9.256a25.175 25.175 0 0 1-4.244 3.17 15.247 15.247 0 0 1-.383.219l-.022.012-.007.004-.003.001a.752.752 0 0 1-.704 0l-.003-.001Z"}))}const P0=C.forwardRef(F8);function $8({title:t,titleId:e,...n},r){return C.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?C.createElement("title",{id:e},t):null,C.createElement("path",{fillRule:"evenodd",d:"M12 2.25c-5.385 0-9.75 4.365-9.75 9.75s4.365 9.75 9.75 9.75 9.75-4.365 9.75-9.75S17.385 2.25 12 2.25ZM12.75 9a.75.75 0 0 0-1.5 0v2.25H9a.75.75 0 0 0 0 1.5h2.25V15a.75.75 0 0 0 1.5 0v-2.25H15a.75.75 0 0 0 0-1.5h-2.25V9Z",clipRule:"evenodd"}))}const U8=C.forwardRef($8);function V8({title:t,titleId:e,...n},r){return C.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?C.createElement("title",{id:e},t):null,C.createElement("path",{fillRule:"evenodd",d:"M10.788 3.21c.448-1.077 1.976-1.077 2.424 0l2.082 5.006 5.404.434c1.164.093 1.636 1.545.749 2.305l-4.117 3.527 1.257 5.273c.271 1.136-.964 2.033-1.96 1.425L12 18.354 7.373 21.18c-.996.608-2.231-.29-1.96-1.425l1.257-5.273-4.117-3.527c-.887-.76-.415-2.212.749-2.305l5.404-.434 2.082-5.005Z",clipRule:"evenodd"}))}const I0=C.forwardRef(V8);function B8({title:t,titleId:e,...n},r){return C.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?C.createElement("title",{id:e},t):null,C.createElement("path",{fillRule:"evenodd",d:"M5.166 2.621v.858c-1.035.148-2.059.33-3.071.543a.75.75 0 0 0-.584.859 6.753 6.753 0 0 0 6.138 5.6 6.73 6.73 0 0 0 2.743 1.346A6.707 6.707 0 0 1 9.279 15H8.54c-1.036 0-1.875.84-1.875 1.875V19.5h-.75a2.25 2.25 0 0 0-2.25 2.25c0 .414.336.75.75.75h15a.75.75 0 0 0 .75-.75 2.25 2.25 0 0 0-2.25-2.25h-.75v-2.625c0-1.036-.84-1.875-1.875-1.875h-.739a6.706 6.706 0 0 1-1.112-3.173 6.73 6.73 0 0 0 2.743-1.347 6.753 6.753 0 0 0 6.139-5.6.75.75 0 0 0-.585-.858 47.077 47.077 0 0 0-3.07-.543V2.62a.75.75 0 0 0-.658-.744 49.22 49.22 0 0 0-6.093-.377c-2.063 0-4.096.128-6.093.377a.75.75 0 0 0-.657.744Zm0 2.629c0 1.196.312 2.32.857 3.294A5.266 5.266 0 0 1 3.16 5.337a45.6 45.6 0 0 1 2.006-.343v.256Zm13.5 0v-.256c.674.1 1.343.214 2.006.343a5.265 5.265 0 0 1-2.863 3.207 6.72 6.72 0 0 0 .857-3.294Z",clipRule:"evenodd"}))}const z8=C.forwardRef(B8);function H8({title:t,titleId:e,...n},r){return C.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?C.createElement("title",{id:e},t):null,C.createElement("path",{fillRule:"evenodd",d:"M8.25 6.75a3.75 3.75 0 1 1 7.5 0 3.75 3.75 0 0 1-7.5 0ZM15.75 9.75a3 3 0 1 1 6 0 3 3 0 0 1-6 0ZM2.25 9.75a3 3 0 1 1 6 0 3 3 0 0 1-6 0ZM6.31 15.117A6.745 6.745 0 0 1 12 12a6.745 6.745 0 0 1 6.709 7.498.75.75 0 0 1-.372.568A12.696 12.696 0 0 1 12 21.75c-2.305 0-4.47-.612-6.337-1.684a.75.75 0 0 1-.372-.568 6.787 6.787 0 0 1 1.019-4.38Z",clipRule:"evenodd"}),C.createElement("path",{d:"M5.082 14.254a8.287 8.287 0 0 0-1.308 5.135 9.687 9.687 0 0 1-1.764-.44l-.115-.04a.563.563 0 0 1-.373-.487l-.01-.121a3.75 3.75 0 0 1 3.57-4.047ZM20.226 19.389a8.287 8.287 0 0 0-1.308-5.135 3.75 3.75 0 0 1 3.57 4.047l-.01.121a.563.563 0 0 1-.373.486l-.115.04c-.567.2-1.156.349-1.764.441Z"}))}const W8=C.forwardRef(H8);function q8({title:t,titleId:e,...n},r){return C.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?C.createElement("title",{id:e},t):null,C.createElement("path",{d:"M5.25 6.375a4.125 4.125 0 1 1 8.25 0 4.125 4.125 0 0 1-8.25 0ZM2.25 19.125a7.125 7.125 0 0 1 14.25 0v.003l-.001.119a.75.75 0 0 1-.363.63 13.067 13.067 0 0 1-6.761 1.873c-2.472 0-4.786-.684-6.76-1.873a.75.75 0 0 1-.364-.63l-.001-.122ZM18.75 7.5a.75.75 0 0 0-1.5 0v2.25H15a.75.75 0 0 0 0 1.5h2.25v2.25a.75.75 0 0 0 1.5 0v-2.25H21a.75.75 0 0 0 0-1.5h-2.25V7.5Z"}))}const G8=C.forwardRef(q8);function K8({title:t,titleId:e,...n},r){return C.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?C.createElement("title",{id:e},t):null,C.createElement("path",{fillRule:"evenodd",d:"M12 2.25c-5.385 0-9.75 4.365-9.75 9.75s4.365 9.75 9.75 9.75 9.75-4.365 9.75-9.75S17.385 2.25 12 2.25Zm-1.72 6.97a.75.75 0 1 0-1.06 1.06L10.94 12l-1.72 1.72a.75.75 0 1 0 1.06 1.06L12 13.06l1.72 1.72a.75.75 0 1 0 1.06-1.06L13.06 12l1.72-1.72a.75.75 0 1 0-1.06-1.06L12 10.94l-1.72-1.72Z",clipRule:"evenodd"}))}const Y8=C.forwardRef(K8);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X8="type.googleapis.com/google.protobuf.Int64Value",J8="type.googleapis.com/google.protobuf.UInt64Value";function sA(t,e){const n={};for(const r in t)t.hasOwnProperty(r)&&(n[r]=e(t[r]));return n}function Hp(t){if(t==null)return null;if(t instanceof Number&&(t=t.valueOf()),typeof t=="number"&&isFinite(t)||t===!0||t===!1||Object.prototype.toString.call(t)==="[object String]")return t;if(t instanceof Date)return t.toISOString();if(Array.isArray(t))return t.map(e=>Hp(e));if(typeof t=="function"||typeof t=="object")return sA(t,e=>Hp(e));throw new Error("Data cannot be encoded in JSON: "+t)}function sc(t){if(t==null)return t;if(t["@type"])switch(t["@type"]){case X8:case J8:{const e=Number(t.value);if(isNaN(e))throw new Error("Data cannot be decoded from JSON: "+t);return e}default:throw new Error("Data cannot be decoded from JSON: "+t)}return Array.isArray(t)?t.map(e=>sc(e)):typeof t=="function"||typeof t=="object"?sA(t,e=>sc(e)):t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $_="functions";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eC={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Wn extends Ir{constructor(e,n,r){super(`${$_}/${e}`,n||""),this.details=r,Object.setPrototypeOf(this,Wn.prototype)}}function Q8(t){if(t>=200&&t<300)return"ok";switch(t){case 0:return"internal";case 400:return"invalid-argument";case 401:return"unauthenticated";case 403:return"permission-denied";case 404:return"not-found";case 409:return"aborted";case 429:return"resource-exhausted";case 499:return"cancelled";case 500:return"internal";case 501:return"unimplemented";case 503:return"unavailable";case 504:return"deadline-exceeded"}return"unknown"}function Wp(t,e){let n=Q8(t),r=n,i;try{const s=e&&e.error;if(s){const a=s.status;if(typeof a=="string"){if(!eC[a])return new Wn("internal","internal");n=eC[a],r=a}const c=s.message;typeof c=="string"&&(r=c),i=s.details,i!==void 0&&(i=sc(i))}}catch{}return n==="ok"?null:new Wn(n,r,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z8{constructor(e,n,r,i){this.app=e,this.auth=null,this.messaging=null,this.appCheck=null,this.serverAppAppCheckToken=null,gn(e)&&e.settings.appCheckToken&&(this.serverAppAppCheckToken=e.settings.appCheckToken),this.auth=n.getImmediate({optional:!0}),this.messaging=r.getImmediate({optional:!0}),this.auth||n.get().then(s=>this.auth=s,()=>{}),this.messaging||r.get().then(s=>this.messaging=s,()=>{}),this.appCheck||i?.get().then(s=>this.appCheck=s,()=>{})}async getAuthToken(){if(this.auth)try{const e=await this.auth.getToken();return e?.accessToken}catch{return}}async getMessagingToken(){if(!(!this.messaging||!("Notification"in self)||Notification.permission!=="granted"))try{return await this.messaging.getToken()}catch{return}}async getAppCheckToken(e){if(this.serverAppAppCheckToken)return this.serverAppAppCheckToken;if(this.appCheck){const n=e?await this.appCheck.getLimitedUseToken():await this.appCheck.getToken();return n.error?null:n.token}return null}async getContext(e){const n=await this.getAuthToken(),r=await this.getMessagingToken(),i=await this.getAppCheckToken(e);return{authToken:n,messagingToken:r,appCheckToken:i}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A0="us-central1",eU=/^data: (.*?)(?:\n|$)/;function tU(t){let e=null;return{promise:new Promise((n,r)=>{e=setTimeout(()=>{r(new Wn("deadline-exceeded","deadline-exceeded"))},t)}),cancel:()=>{e&&clearTimeout(e)}}}class nU{constructor(e,n,r,i,s=A0,a=(...c)=>fetch(...c)){this.app=e,this.fetchImpl=a,this.emulatorOrigin=null,this.contextProvider=new Z8(e,n,r,i),this.cancelAllRequests=new Promise(c=>{this.deleteService=()=>Promise.resolve(c())});try{const c=new URL(s);this.customDomain=c.origin+(c.pathname==="/"?"":c.pathname),this.region=A0}catch{this.customDomain=null,this.region=s}}_delete(){return this.deleteService()}_url(e){const n=this.app.options.projectId;return this.emulatorOrigin!==null?`${this.emulatorOrigin}/${n}/${this.region}/${e}`:this.customDomain!==null?`${this.customDomain}/${e}`:`https://${this.region}-${n}.cloudfunctions.net/${e}`}}function rU(t,e,n){const r=_s(e);t.emulatorOrigin=`http${r?"s":""}://${e}:${n}`,r&&(Bd(t.emulatorOrigin),Ai("Functions",!0))}function iU(t,e,n){const r=i=>oU(t,e,i,{});return r.stream=(i,s)=>lU(t,e,i,s),r}async function sU(t,e,n,r){n["Content-Type"]="application/json";let i;try{i=await r(t,{method:"POST",body:JSON.stringify(e),headers:n})}catch{return{status:0,json:null}}let s=null;try{s=await i.json()}catch{}return{status:i.status,json:s}}async function oA(t,e){const n={},r=await t.contextProvider.getContext(e.limitedUseAppCheckTokens);return r.authToken&&(n.Authorization="Bearer "+r.authToken),r.messagingToken&&(n["Firebase-Instance-ID-Token"]=r.messagingToken),r.appCheckToken!==null&&(n["X-Firebase-AppCheck"]=r.appCheckToken),n}function oU(t,e,n,r){const i=t._url(e);return aU(t,i,n,r)}async function aU(t,e,n,r){n=Hp(n);const i={data:n},s=await oA(t,r),a=r.timeout||7e4,c=tU(a),u=await Promise.race([sU(e,i,s,t.fetchImpl),c.promise,t.cancelAllRequests]);if(c.cancel(),!u)throw new Wn("cancelled","Firebase Functions instance was deleted.");const f=Wp(u.status,u.json);if(f)throw f;if(!u.json)throw new Wn("internal","Response is not valid JSON object.");let h=u.json.data;if(typeof h>"u"&&(h=u.json.result),typeof h>"u")throw new Wn("internal","Response is missing data field.");return{data:sc(h)}}function lU(t,e,n,r){const i=t._url(e);return cU(t,i,n,r||{})}async function cU(t,e,n,r){var i;n=Hp(n);const s={data:n},a=await oA(t,r);a["Content-Type"]="application/json",a.Accept="text/event-stream";let c;try{c=await t.fetchImpl(e,{method:"POST",body:JSON.stringify(s),headers:a,signal:r?.signal})}catch(x){if(x instanceof Error&&x.name==="AbortError"){const T=new Wn("cancelled","Request was cancelled.");return{data:Promise.reject(T),stream:{[Symbol.asyncIterator](){return{next(){return Promise.reject(T)}}}}}}const _=Wp(0,null);return{data:Promise.reject(_),stream:{[Symbol.asyncIterator](){return{next(){return Promise.reject(_)}}}}}}let u,f;const h=new Promise((x,_)=>{u=x,f=_});(i=r?.signal)===null||i===void 0||i.addEventListener("abort",()=>{const x=new Wn("cancelled","Request was cancelled.");f(x)});const g=c.body.getReader(),v=uU(g,u,f,r?.signal);return{stream:{[Symbol.asyncIterator](){const x=v.getReader();return{async next(){const{value:_,done:T}=await x.read();return{value:_,done:T}},async return(){return await x.cancel(),{done:!0,value:void 0}}}}},data:h}}function uU(t,e,n,r){const i=(a,c)=>{const u=a.match(eU);if(!u)return;const f=u[1];try{const h=JSON.parse(f);if("result"in h){e(sc(h.result));return}if("message"in h){c.enqueue(sc(h.message));return}if("error"in h){const g=Wp(0,h);c.error(g),n(g);return}}catch(h){if(h instanceof Wn){c.error(h),n(h);return}}},s=new TextDecoder;return new ReadableStream({start(a){let c="";return u();async function u(){if(r?.aborted){const f=new Wn("cancelled","Request was cancelled");return a.error(f),n(f),Promise.resolve()}try{const{value:f,done:h}=await t.read();if(h){c.trim()&&i(c.trim(),a),a.close();return}if(r?.aborted){const v=new Wn("cancelled","Request was cancelled");a.error(v),n(v),await t.cancel();return}c+=s.decode(f,{stream:!0});const g=c.split(`
`);c=g.pop()||"";for(const v of g)v.trim()&&i(v.trim(),a);return u()}catch(f){const h=f instanceof Wn?f:Wp(0,null);a.error(h),n(h)}}},cancel(){return t.cancel()}})}const tC="@firebase/functions",nC="0.12.6";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dU="auth-internal",fU="app-check-internal",hU="messaging-internal";function pU(t){const e=(n,{instanceIdentifier:r})=>{const i=n.getProvider("app").getImmediate(),s=n.getProvider(dU),a=n.getProvider(hU),c=n.getProvider(fU);return new nU(i,s,a,c,r)};lr(new Gn($_,e,"PUBLIC").setMultipleInstances(!0)),Qt(tC,nC,t),Qt(tC,nC,"esm2017")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mU(t=gc(),e=A0){Ai("Functions",!1);const r=xs(Qe(t),$_).getImmediate({identifier:e}),i=pm("functions");return i&&gU(r,...i),r}function gU(t,e,n){rU(Qe(t),e,n)}function vU(t,e,n){return iU(Qe(t),e)}pU();const yU=(t,e)=>{const n=mU(To);return vU(n,"subscribeToTopic")({token:t,topic:e})},wU=async t=>{if(!t){alert("Debes iniciar sesión para activar las notificaciones.");return}console.log("Solicitando permiso de notificación...");try{const e=Fw(To);if(await Notification.requestPermission()==="granted"){console.log("¡Permiso de notificación concedido!");const r=await sj(e,{vapidKey:"BGq64U5eNzfqCtAtHTqnz9mh2oaeLpOZiJHMMama_1L9h_K1I9qScieLNbW8uHvEnRFlNVR2ZSBqAc61dtaW0Mc"});r?(console.log("Token FCM obtenido:",r),await yU(r,"partidos"),alert("¡Notificaciones activadas! Recibirás alertas de los partidos.")):(console.log("No se pudo obtener el token de registro."),alert("No se pudo activar las notificaciones. Intenta de nuevo."))}else console.log("El usuario denegó el permiso de notificación."),alert("Permiso de notificación denegado.")}catch(e){console.error("Ocurrió un error al obtener el token.",e),alert("Ocurrió un error técnico al activar las notificaciones.")}};function cr(){const[t,e]=C.useState(!1),{user:n,rol:r,loading:i}=si(),s=Ii();if(i||s.pathname==="/login"||s.pathname==="/registro")return null;const a=r==="admin"||r==="superadmin",c=[{to:"/",icon:w.jsx(O8,{className:"w-6 h-6"}),label:"Tabla"},{to:"/goleadores/masculino",icon:w.jsx(W8,{className:"w-6 h-6"}),label:"Goleadores"},{to:"/calendario/masculino",icon:w.jsx(A8,{className:"w-6 h-6"}),label:"Calendario"},{to:"/historial/masculino",icon:w.jsx(D8,{className:"w-6 h-6"}),label:"Historial"},{to:"/galeria",icon:w.jsx(iA,{className:"w-6 h-6"}),label:"Galería"},{to:"/equipo-ideal",icon:w.jsx(I0,{className:"w-6 h-6"}),label:"Equipo Ideal"},{to:"/configuracion",icon:w.jsx(j8,{className:"w-6 h-6"}),label:"Cuenta"}];return w.jsx("nav",{className:"bg-[#7a0026] text-white px-4 py-3 shadow-md sticky top-0 z-50",children:w.jsxs("div",{className:"max-w-6xl mx-auto flex justify-between items-center",children:[w.jsxs(ma,{to:"/",className:"flex items-center gap-2 text-2xl font-bold font-qatar",children:[w.jsx(z8,{className:"w-7 h-7 text-yellow-400"}),w.jsx("span",{children:"Empro"})]}),w.jsx("button",{className:"md:hidden transition-transform",onClick:()=>e(!t),children:w.jsx("svg",{className:`w-7 h-7 transition-transform duration-300 ${t?"rotate-90":""}`,fill:"none",stroke:"currentColor",strokeWidth:2,viewBox:"0 0 24 24",children:w.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:t?"M6 18L18 6M6 6l12 12":"M4 6h16M4 12h16M4 18h16"})})}),w.jsxs("ul",{className:`md:flex md:items-center gap-6 text-sm font-bold absolute md:static top-16 left-0 w-full md:w-auto bg-[#7a0026] md:bg-transparent transition-all duration-300 ease-in-out ${t?"block":"hidden"}`,children:[c.map(({to:u,icon:f,label:h})=>w.jsx("li",{className:"p-3 md:p-0 text-center",children:w.jsxs(ma,{to:u,className:"flex items-center gap-2 justify-center hover:text-yellow-400",onClick:()=>e(!1),title:h,children:[f,w.jsx("span",{className:"md:hidden inline",children:h})]})},u)),a&&w.jsx("li",{className:"p-3 md:p-0 text-center",children:w.jsxs(ma,{to:"/partido/configurar",className:"flex items-center gap-2 justify-center hover:text-yellow-400",onClick:()=>e(!1),title:"Nuevo Partido",children:[w.jsx(U8,{className:"w-6 h-6"}),w.jsx("span",{className:"md:hidden inline",children:"Nuevo Partido"})]})}),w.jsx("li",{className:"p-3 md:p-0 text-center",children:w.jsxs("button",{onClick:()=>n&&wU(n.uid),disabled:!n,className:"flex items-center gap-2 justify-center hover:text-yellow-400 disabled:opacity-50 disabled:cursor-not-allowed",title:"Activar Notificaciones",children:[w.jsx(P8,{className:"w-6 h-6"}),w.jsx("span",{className:"md:hidden inline",children:"Notificaciones"})]})})]})]})})}const rC=["pillarh.png","municipalidad.png","mercaditoladespensa.png","Multibox.png","celtec.png","asopilar.png","mrecords.png","Pepsi_2023.svg","pipos.png"],_U=[...rC,...rC];function xU(){return w.jsx("div",{className:"w-full bg-gray-100 py-4 mt-8 overflow-hidden backdrop-blur-sm border-y border-yellow-400/20",children:w.jsx("div",{className:"animate-scroll flex items-center",children:_U.map((t,e)=>w.jsx("div",{className:"flex-shrink-0 mx-10",children:w.jsx("img",{src:`/EmproChampions-2025/img/sponsors/${t}`,alt:`Patrocinador ${e+1}`,className:"h-10 md:h-12 max-w-none"})},e))})})}function ur(){const t=new Date().getFullYear(),e="https://www.facebook.com/elmer.hernandez.516479",n="https://www.instagram.com/hernandezsuarez_27/";return w.jsx("footer",{className:"bg-black/50 text-white font-qatar backdrop-blur-sm mt-auto border-t border-yellow-400/20",children:w.jsxs("div",{className:"mx-auto max-w-5xl px-4 pt-16 pb-8 sm:px-6 lg:px-8",children:[w.jsxs("div",{className:"mx-auto max-w-3xl text-center",children:[w.jsx("p",{className:"leading-relaxed text-gray-300",children:"Evento deportivo de las Comunidades del Centro Guia Santa Rosa de Lima con el objetivo de unir los lazos de amistad y fomentar los buenos valores inculcados en el movimiento."}),w.jsx("p",{className:"mt-6 text-lg italic text-yellow-400",children:'"Porque un verdadero Emproista es aquel que ve el trabajo no como una carga, sino como un privilegio"'})]}),w.jsxs("ul",{className:"mt-12 flex justify-center gap-6 md:gap-8",children:[w.jsx("li",{children:w.jsxs("a",{href:e,rel:"noreferrer",target:"_blank",className:"text-gray-400 transition hover:text-yellow-400","aria-label":"Facebook de Elmer Hernandez",children:[w.jsx("span",{className:"sr-only",children:"Facebook"}),w.jsx("svg",{className:"h-7 w-7",fill:"currentColor",viewBox:"0 0 24 24","aria-hidden":"true",children:w.jsx("path",{fillRule:"evenodd",d:"M22 12c0-5.523-4.477-10-10-10S2 6.477 2 12c0 4.991 3.657 9.128 8.438 9.878v-6.987h-2.54V12h2.54V9.797c0-2.506 1.492-3.89 3.777-3.89 1.094 0 2.238.195 2.238.195v2.46h-1.26c-1.243 0-1.63.771-1.63 1.562V12h2.773l-.443 2.89h-2.33v6.988C18.343 21.128 22 16.991 22 12z",clipRule:"evenodd"})})]})}),w.jsx("li",{children:w.jsxs("a",{href:n,rel:"noreferrer",target:"_blank",className:"text-gray-400 transition hover:text-yellow-400","aria-label":"Instagram de Elmer Hernandez",children:[w.jsx("span",{className:"sr-only",children:"Instagram"}),w.jsx("svg",{className:"h-7 w-7",fill:"currentColor",viewBox:"0 0 24 24","aria-hidden":"true",children:w.jsx("path",{fillRule:"evenodd",d:"M12.315 2c2.43 0 2.784.013 3.808.06 1.064.049 1.791.218 2.427.465a4.902 4.902 0 011.772 1.153 4.902 4.902 0 011.153 1.772c.247.636.416 1.363.465 2.427.048 1.067.06 1.407.06 4.123v.08c0 2.643-.012 2.987-.06 4.043-.049 1.064-.218 1.791-.465 2.427a4.902 4.902 0 01-1.153 1.772 4.902 4.902 0 01-1.772 1.153c-.636.247-1.363.416-2.427.465-1.067.048-1.407.06-4.123.06h-.08c-2.643 0-2.987-.012-4.043-.06-1.064-.049-1.791-.218-2.427-.465a4.902 4.902 0 01-1.772-1.153 4.902 4.902 0 01-1.153-1.772c-.247-.636-.416-1.363-.465-2.427-.047-1.024-.06-1.379-.06-3.808v-.63c0-2.43.013-2.784.06-3.808.049-1.064.218-1.791.465-2.427a4.902 4.902 0 011.153-1.772A4.902 4.902 0 015.45 2.525c.636-.247 1.363-.416 2.427-.465C8.901 2.013 9.256 2 11.685 2h.63zm-.081 1.802h-.468c-2.456 0-2.784.011-3.807.058-.975.045-1.504.207-1.857.344-.467.182-.8.398-1.15.748-.35.35-.566.683-.748 1.15-.137.353-.3.882-.344 1.857-.047 1.023-.058 1.351-.058 3.807v.468c0 2.456.011 2.784.058 3.807.045.975.207 1.504.344 1.857.182.466.399.8.748 1.15.35.35.683.566 1.15.748.353.137.882.3 1.857.344 1.054.048 1.37.058 4.041.058h.08c2.597 0 2.917-.01 3.96-.058.976-.045 1.505-.207 1.858-.344.466-.182.8-.398 1.15-.748.35-.35.566-.683.748-1.15.137-.353.3-.882.344-1.857.048-1.055.058-1.37.058-4.041v-.08c0-2.597-.01-2.917-.058-3.96-.045-.976-.207-1.505-.344-1.858a3.097 3.097 0 00-.748-1.15 3.098 3.098 0 00-1.15-.748c-.353-.137-.882-.3-1.857-.344-1.023-.047-1.351-.058-3.807-.058zM12 6.865a5.135 5.135 0 110 10.27 5.135 5.135 0 010-10.27zm0 1.802a3.333 3.333 0 100 6.666 3.333 3.333 0 000-6.666zm5.338-3.205a1.2 1.2 0 110 2.4 1.2 1.2 0 010-2.4z",clipRule:"evenodd"})})]})})]}),w.jsxs("div",{className:"mt-12 border-t border-yellow-400/20 pt-8 text-center",children:[w.jsxs("p",{className:"text-sm text-gray-400",children:["Copyright © ",t,". EmproChampions. Todos los derechos reservados."]}),w.jsxs("p",{className:"text-sm text-gray-400 mt-2",children:["Diseñado por ",w.jsx("a",{href:n,target:"_blank",rel:"noopener noreferrer",className:"text-yellow-400 hover:underline",children:"Elmer Hernandez"})]})]})]})})}function bU(){const[t,e]=C.useState([]),[n,r]=C.useState([]),[i,s]=C.useState("masculino"),[a,c]=C.useState(null),u=Pr();C.useEffect(()=>{const h=[],g=(_,T)=>{const I=Ce(Te,`tablas/${_}`),R=Jt(I,P=>{const k=P.val();if(k){const j=Object.keys(k).map($=>({nombre:$,...k[$]})).sort(($,B)=>B.PTS-$.PTS||B.GF-B.GC-($.GF-$.GC));T(j)}else T([])});h.push({ref:I,listener:R})};g("masculino",e),g("femenino",r);const v=Ce(Te,"partidoEnCurso/partidoId"),x=Jt(v,_=>{const T=_.val();if(T){const I=Ce(Te,`partidos/${T}`),R=Jt(I,P=>{P.exists()&&P.val().estado!=="finalizado"?c({id:P.key,...P.val()}):c(null)});h.push({ref:I,listener:R})}else c(null)});return h.push({ref:v,listener:x}),()=>{h.forEach(({ref:_,listener:T})=>{Pa(_,"value",T)})}},[]);const f=i==="masculino"?t:n;return w.jsxs("div",{className:"w-full min-h-screen bg-cover bg-center text-white font-qatar bg-main-background",children:[w.jsx(cr,{}),w.jsxs("div",{className:"container mx-auto px-4 py-8",children:[w.jsx("h1",{className:"text-5xl font-bold text-center text-yellow-400 drop-shadow-lg mb-6",children:"Tabla de Posiciones"}),a&&w.jsx("div",{className:"flex justify-center mb-4",children:w.jsxs("button",{onClick:()=>u(`/partido/en-vivo/${a.id}`),className:"bg-red-600 hover:bg-red-700 text-white font-bold py-2 px-6 rounded-full shadow-md transition animate-pulse",children:["Partido en curso: ",a.alineacion.equipo1.nombre," vs ",a.alineacion.equipo2.nombre]})}),w.jsxs("div",{className:"flex justify-center mb-8 bg-black/30 rounded-full p-1 max-w-sm mx-auto",children:[w.jsx("button",{onClick:()=>s("masculino"),className:`w-1/2 py-2 rounded-full font-bold transition-colors ${i==="masculino"?"bg-yellow-400 text-black":"hover:bg-white/10"}`,children:"Masculino"}),w.jsx("button",{onClick:()=>s("femenino"),className:`w-1/2 py-2 rounded-full font-bold transition-colors ${i==="femenino"?"bg-yellow-400 text-black":"hover:bg-white/10"}`,children:"Femenino"})]}),w.jsxs("div",{className:"bg-black/50 backdrop-blur-sm rounded-xl overflow-hidden shadow-2xl",children:[w.jsxs("div",{className:"grid grid-cols-10 md:grid-cols-12 text-center font-bold text-yellow-400 p-4 border-b border-yellow-400/20",children:[w.jsx("div",{className:"col-span-4 md:col-span-5 text-left pl-3",children:"Club"}),w.jsx("div",{className:"hidden md:block",children:"PJ"}),w.jsx("div",{className:"hidden md:block",children:"PG"}),w.jsx("div",{className:"hidden md:block",children:"PE"}),w.jsx("div",{className:"hidden md:block",children:"PP"}),w.jsx("div",{className:"col-span-2 md:col-span-1",children:"GF"}),w.jsx("div",{className:"col-span-2 md:col-span-1",children:"GC"}),w.jsx("div",{className:"col-span-2 md:col-span-1",children:"Pts"})]}),w.jsx("div",{children:f.map((h,g)=>w.jsxs("div",{className:"grid grid-cols-10 md:grid-cols-12 items-center text-center p-3 border-b border-gray-700/50 hover:bg-white/5 transition-colors",children:[w.jsxs("div",{className:"col-span-4 md:col-span-5 flex items-center gap-3 text-left",children:[w.jsx("span",{className:"font-bold text-lg w-6 text-center text-gray-400",children:g+1}),w.jsx("img",{src:`/EmproChampions-2025/img/escudos/${h.logo}`,alt:h.nombre,className:"w-8 h-8 md:w-10 md:h-10 object-contain"}),w.jsx("span",{className:"font-bold text-base md:text-lg",children:h.nombre})]}),w.jsx("div",{className:"hidden md:block",children:h.PJ}),w.jsx("div",{className:"hidden md:block",children:h.PG}),w.jsx("div",{className:"hidden md:block",children:h.PE}),w.jsx("div",{className:"hidden md:block",children:h.PP}),w.jsx("div",{className:"col-span-2 md:col-span-1",children:h.GF}),w.jsx("div",{className:"col-span-2 md:col-span-1",children:h.GC}),w.jsx("div",{className:"col-span-2 md:col-span-1 font-extrabold text-lg",children:h.PTS})]},h.nombre))})]})]}),w.jsx(xU,{}),w.jsx(ur,{})]})}function EU({equipo:t,jugadores:e,minuto:n,onSeleccion:r,onClose:i}){const[s,a]=C.useState(""),c=()=>{s&&r({nombre:s,minuto:n})};return w.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-70 flex justify-center items-center z-50",children:w.jsxs("div",{className:"bg-white text-black p-6 rounded-lg w-full max-w-md space-y-4",children:[w.jsx("h2",{className:"text-2xl font-bold text-center",children:"Registrar Gol"}),w.jsxs("div",{children:[w.jsx("label",{className:"block font-semibold mb-1",children:"¿Quién anotó?"}),w.jsxs("select",{value:s,onChange:u=>a(u.target.value),className:"w-full border border-gray-300 rounded px-4 py-2",children:[w.jsx("option",{value:"",children:"Seleccionar jugador"}),e.map((u,f)=>w.jsx("option",{value:u.nombre,children:u.nombre},f))]})]}),w.jsxs("div",{className:"flex justify-end gap-4",children:[w.jsx("button",{onClick:i,className:"bg-gray-300 px-4 py-2 rounded font-bold",children:"Cancelar"}),w.jsx("button",{onClick:c,className:"bg-green-500 text-white px-4 py-2 rounded font-bold",children:"Confirmar"})]})]})})}function SU({equipo:t,jugadores:e,minuto:n,onConfirm:r,onClose:i}){const[s,a]=C.useState(""),[c,u]=C.useState(""),f=()=>{!s||!c||r({jugador:s,tipo:c,minuto:n})};return w.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-70 flex justify-center items-center z-50",children:w.jsxs("div",{className:"bg-white text-black p-6 rounded-lg w-full max-w-md space-y-4",children:[w.jsx("h2",{className:"text-2xl font-bold text-center",children:"Registrar Tarjeta"}),w.jsxs("div",{children:[w.jsx("label",{className:"block font-semibold mb-1",children:"Jugador"}),w.jsxs("select",{value:s,onChange:h=>a(h.target.value),className:"w-full border border-gray-300 rounded px-4 py-2",children:[w.jsx("option",{value:"",children:"Seleccionar jugador"}),e.map((h,g)=>w.jsx("option",{value:h.nombre,children:h.nombre},g))]})]}),w.jsxs("div",{children:[w.jsx("label",{className:"block font-semibold mb-1",children:"Tipo de tarjeta"}),w.jsxs("div",{className:"flex gap-4",children:[w.jsxs("label",{className:"flex items-center",children:[w.jsx("input",{type:"radio",value:"amarilla",checked:c==="amarilla",onChange:()=>u("amarilla")}),w.jsx("span",{className:"ml-2",children:"🟨 Amarilla"})]}),w.jsxs("label",{className:"flex items-center",children:[w.jsx("input",{type:"radio",value:"roja",checked:c==="roja",onChange:()=>u("roja")}),w.jsx("span",{className:"ml-2",children:"🟥 Roja"})]})]})]}),w.jsxs("div",{className:"flex justify-end gap-4",children:[w.jsx("button",{onClick:i,className:"bg-gray-300 px-4 py-2 rounded font-bold",children:"Cancelar"}),w.jsx("button",{onClick:f,className:"bg-yellow-500 px-4 py-2 rounded font-bold",children:"Confirmar"})]})]})})}function CU({equipo:t,jugadores:e,minuto:n,onConfirm:r,onClose:i}){const[s,a]=C.useState(""),[c,u]=C.useState(""),f=()=>{!s||!c.trim()||r(s,c.trim(),n)};return w.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-70 flex justify-center items-center z-50",children:w.jsxs("div",{className:"bg-white text-black p-6 rounded-lg w-full max-w-md space-y-4",children:[w.jsx("h2",{className:"text-2xl font-bold text-center",children:"Realizar Cambio"}),w.jsxs("div",{children:[w.jsx("label",{className:"block font-semibold mb-1",children:"Titular que sale"}),w.jsxs("select",{value:s,onChange:h=>a(h.target.value),className:"w-full border border-gray-300 rounded px-4 py-2",children:[w.jsx("option",{value:"",children:"Seleccionar"}),e.map((h,g)=>w.jsx("option",{value:h.nombre,children:h.nombre},g))]})]}),w.jsxs("div",{children:[w.jsx("label",{className:"block font-semibold mb-1",children:"Suplente que entra"}),w.jsx("input",{type:"text",placeholder:"Escribí el nombre",value:c,onChange:h=>u(h.target.value),className:"w-full border border-gray-300 rounded px-4 py-2"})]}),w.jsxs("div",{className:"flex justify-end gap-4",children:[w.jsx("button",{onClick:i,className:"bg-gray-300 px-4 py-2 rounded font-bold",children:"Cancelar"}),w.jsx("button",{onClick:f,className:"bg-blue-500 text-white px-4 py-2 rounded font-bold",children:"Confirmar Cambio"})]})]})})}function TU({equipoGanador:t,equipo1:e,equipo2:n,onClose:r}){const[i,s]=C.useState(null),a=(e?.jugadores||[]).filter(g=>g.haJugado),c=(n?.jugadores||[]).filter(g=>g.haJugado),u=(g,v)=>{s({...g,equipo:v})},f=()=>{r(i||null)},h=({jugador:g,nombreEquipo:v})=>w.jsxs("div",{onClick:()=>u(g,v),className:`p-3 rounded-lg cursor-pointer transition-all duration-200 text-center ${i?.nombre===g.nombre?"bg-yellow-400 text-black scale-105 ring-2 ring-white":"bg-gray-700 text-white hover:bg-gray-600"}`,children:[w.jsx("span",{className:"font-bold text-base",children:g.nombre}),w.jsxs("span",{className:"block text-sm opacity-80 mt-1",children:["#",g.dorsal]})]},g.nombre);return w.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-70 flex justify-center items-center z-50 p-4 font-qatar",children:w.jsxs("div",{className:"bg-gray-800 rounded-2xl shadow-xl w-full max-w-2xl p-6 border border-yellow-400/30",children:[w.jsxs("div",{className:"text-center",children:[t.nombre!=="Empate"?w.jsx("img",{src:`/EmproChampions-2025/img/escudos/${t.logo}`,alt:t.nombre,className:"w-28 h-28 mx-auto mb-4 object-contain"}):w.jsx("div",{className:"w-28 h-28 mx-auto mb-4 flex items-center justify-center bg-gray-700 rounded-full",children:w.jsx("span",{className:"text-5xl",role:"img","aria-label":"empate",children:"🤝"})}),w.jsx("h2",{className:"text-4xl font-extrabold text-yellow-400",children:"¡Partido Finalizado!"}),w.jsx("p",{className:"text-white mt-2 text-xl",children:t.nombre!=="Empate"?`Ganador: ${t.nombre}`:"El partido terminó en empate"}),w.jsx("p",{className:"text-white mt-5 font-bold text-2xl",children:"Selecciona al MVP del partido"})]}),w.jsxs("div",{className:"my-6 flex flex-row gap-4 md:gap-6",children:[w.jsxs("div",{className:"w-1/2",children:[w.jsx("h3",{className:"text-center font-bold text-white mb-4 text-xl",children:e.nombre}),w.jsx("div",{className:"max-h-[35vh] overflow-y-auto grid grid-cols-1 md:grid-cols-2 gap-3 pr-2",children:a.map(g=>w.jsx(h,{jugador:g,nombreEquipo:e.nombre},g.nombre))})]}),w.jsx("div",{className:"w-px bg-gray-600/50"}),w.jsxs("div",{className:"w-1/2",children:[w.jsx("h3",{className:"text-center font-bold text-white mb-4 text-xl",children:n.nombre}),w.jsx("div",{className:"max-h-[35vh] overflow-y-auto grid grid-cols-1 md:grid-cols-2 gap-3 pr-2",children:c.map(g=>w.jsx(h,{jugador:g,nombreEquipo:n.nombre},g.nombre))})]})]}),w.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 pt-4 border-t border-gray-600/50",children:[w.jsx("button",{onClick:()=>r(null),className:"w-full bg-gray-600 hover:bg-gray-500 text-white font-bold py-3 px-4 rounded-lg transition-colors text-lg",children:"Cancelar"}),w.jsx("button",{onClick:f,disabled:!i,className:"w-full bg-green-600 hover:bg-green-500 text-white font-bold py-3 px-4 rounded-lg transition-colors disabled:bg-gray-500 disabled:cursor-not-allowed text-lg",children:"Confirmar MVP y Guardar"})]})]})})}function aA({mensaje:t,tipo:e="info"}){const n={info:"bg-blue-600 text-white",gol:"bg-green-500 text-white",tarjeta:"bg-yellow-400 text-black",roja:"bg-red-600 text-white",success:"bg-emerald-500 text-white"};return w.jsx("div",{className:"fixed bottom-6 left-1/2 -translate-x-1/2 z-[9999]",children:w.jsx("div",{className:`px-6 py-3 rounded-full shadow-lg animate-fade-in-out transition duration-500 ${n[e]||n.info}`,children:w.jsx("p",{className:"text-sm font-bold",children:t})})})}function kU(t=null){const[e,n]=C.useState(0),[r,i]=C.useState(!1),s=C.useRef(null),a=h=>{if(!t)return;const g=String(Math.floor(h/60)).padStart(2,"0"),v=String(h%60).padStart(2,"0");At(Ce(Te,`partidos/${t}/cronometro/tiempo`),`${g}:${v}`)},c=()=>{s.current||(i(!0),s.current=setInterval(()=>{n(h=>{const g=h+1;return a(g),g})},1e3))},u=()=>{i(!1),clearInterval(s.current),s.current=null};return{tiempo:e,enMarcha:r,iniciar:c,pausar:u,reiniciar:()=>{u(),n(0),a(0)}}}const PU=({equipo1:t,equipo2:e,goles:n,minuto:r})=>w.jsx("div",{className:"bg-gray-900 bg-opacity-60 backdrop-blur-sm rounded-xl p-4 shadow-lg text-white font-qatar",children:w.jsxs("div",{className:"flex justify-between items-center",children:[w.jsxs("div",{className:"flex flex-col items-center w-1/3 text-center",children:[w.jsx("img",{src:`/EmproChampions-2025/img/escudos/${t.logo}`,alt:t.nombre,className:"h-16 w-16 md:h-24 md:w-24 object-contain"}),w.jsx("span",{className:"mt-2 text-sm md:text-lg font-bold",children:t.nombre})]}),w.jsxs("div",{className:"flex flex-col items-center w-1/3 text-center",children:[w.jsxs("div",{className:"text-4xl md:text-6xl font-black tracking-wider",children:[w.jsx("span",{children:n.equipo1}),w.jsx("span",{className:"mx-2 text-yellow-400",children:"-"}),w.jsx("span",{children:n.equipo2})]}),w.jsx("div",{className:"text-lg md:text-2xl mt-2 font-semibold bg-black/50 px-3 py-1 rounded-md",children:r})]}),w.jsxs("div",{className:"flex flex-col items-center w-1/3 text-center",children:[w.jsx("img",{src:`/EmproChampions-2025/img/escudos/${e.logo}`,alt:e.nombre,className:"h-16 w-16 md:h-24 md:w-24 object-contain"}),w.jsx("span",{className:"mt-2 text-sm md:text-lg font-bold",children:e.nombre})]})]})}),IU=t=>{const e="/EmproChampions-2025/";let n="";return t.tipo.includes("gol")?n="pelota.svg":t.tipo.includes("amarilla")?n="amarilla.svg":t.tipo.includes("roja")?n="roja.svg":t.tipo.includes("cambio")&&(n="cambio.svg"),n?`${e}img/${n}`:null},lA=({eventos:t})=>!t||t.length===0?w.jsx("div",{className:"text-center text-white text-opacity-70 mt-8 py-10",children:"El partido está por comenzar."}):w.jsxs("div",{className:"relative mt-8 py-5 font-barcelona",children:[w.jsx("div",{className:"absolute top-0 left-1/2 w-0.5 h-full bg-gray-500/30"}),t.map((e,n)=>{const r=e.equipo==="equipo1",i=IU(e),s=()=>w.jsxs("div",{className:`flex items-center gap-3 w-full ${r?"flex-row-reverse":"flex-row"}`,children:[w.jsx("span",{className:"font-bold text-sm text-white truncate max-w-[150px] md:max-w-xs",children:e.jugador||`${e.titular} ➜ ${e.suplente}`}),i&&w.jsx("img",{src:i,alt:e.tipo,className:"w-5 h-5"})]});return w.jsxs("div",{className:"relative flex items-center justify-center my-6 h-6",children:[w.jsx("div",{className:"w-1/2 pr-8 flex justify-end",children:r&&w.jsx(s,{})}),w.jsx("div",{className:"absolute z-10 bg-[#1a1d23] px-1.5 py-0.5 rounded-full border border-gray-600/50",children:w.jsxs("span",{className:"text-yellow-400 font-bold text-xs",children:[e.minuto,"'"]})}),w.jsx("div",{className:"w-1/2 pl-8 flex justify-start",children:!r&&w.jsx(s,{})})]},e.id||n)})]});function AU(){const{partidoId:t}=_w(),e=Pr(),[n,r]=C.useState(null),[i,s]=C.useState(null),[a,c]=C.useState(null),[u,f]=C.useState({equipo1:0,equipo2:0}),[h,g]=C.useState([]),[v,x]=C.useState(!1),[_,T]=C.useState(null),[I,R]=C.useState(null),[P,k]=C.useState(null),[j,$]=C.useState(null),[B,L]=C.useState(!1),N=kU(t);C.useEffect(()=>{if(!t)return;const Z=Ce(Te,`partidos/${t}`),he=Jt(Z,ve=>{if(ve.exists()){const _e=ve.val();r(_e),s(_e.alineacion.equipo1),c(_e.alineacion.equipo2),f(_e.marcador||{equipo1:0,equipo2:0});const xe=_e.eventos||{},ke=[];for(const Ee in xe.goles)ke.push({...xe.goles[Ee],id:Ee});for(const Ee in xe.tarjetas)ke.push({...xe.tarjetas[Ee],id:Ee});for(const Ee in xe.cambios)ke.push({...xe.cambios[Ee],id:Ee});ke.sort((Ee,Be)=>{if(!Ee.minuto||!Be.minuto)return 0;const[$e,_n]=Ee.minuto.split(":").map(Number),[_t,xn]=Be.minuto.split(":").map(Number);return $e*60+_n-(_t*60+xn)}),g(ke)}});return()=>Pa(Z,"value",he)},[t]);const O=(Z,he="info")=>{$({mensaje:Z,tipo:he}),setTimeout(()=>$(null),4e3)},b=()=>{const Z=String(Math.floor(N.tiempo/60)).padStart(2,"0"),he=String(N.tiempo%60).padStart(2,"0");return`${Z}:${he}`},M=Z=>{if(!N.enMarcha){O("El cronómetro debe estar en marcha","error");return}N.pausar(),T(Z)},V=Z=>R(Z),F=Z=>k(Z),Q=async Z=>{const he=_,ve=Ce(Te,`partidos/${t}/marcador`),_e={...u,[he]:(u[he]||0)+1};await At(ve,_e);const xe=Ce(Te,`partidos/${t}/eventos/goles`);await Ul(xe,{tipo:"gol",equipo:he,jugador:Z.nombre,minuto:b()}),T(null),N.iniciar(),O("¡Gol registrado!","success")},ae=async({jugador:Z,tipo:he,minuto:ve})=>{const _e=I,xe=Ce(Te,`partidos/${t}/eventos/tarjetas`);await Ul(xe,{tipo:he,equipo:_e,jugador:Z,minuto:ve}),R(null),O(`Tarjeta ${he} a ${Z}`,he==="roja"?"roja":"tarjeta")},re=async(Z,he,ve)=>{const _e=P;let xe=_e==="equipo1"?i:a,ke=xe.jugadores.map($e=>$e.nombre===Z?{...$e,enJuego:!1,haJugado:!0}:$e),Ee=xe.todosJugadores.find($e=>$e.nombre===he)||{nombre:he,dorsal:"?",enJuego:!0,haJugado:!0};Ee={...Ee,enJuego:!0,haJugado:!0},ke.some($e=>$e.nombre===Ee.nombre)?ke=ke.map($e=>$e.nombre===Ee.nombre?{...$e,enJuego:!0,haJugado:!0}:$e):ke.push(Ee),await At(Ce(Te,`partidos/${t}/alineacion/${_e}/jugadores`),ke);const Be=Ce(Te,`partidos/${t}/eventos/cambios`);await Ul(Be,{tipo:"cambio",equipo:_e,titular:Z,suplente:he,minuto:ve}),k(null),O(`Cambio: sale ${Z}, entra ${he}`,"info")},pe=async(Z,he,ve,_e)=>{const xe=Ce(Te,`historial/${Z.alineacion.genero}`);await Ul(xe,{partidoId:Z.id,equipo1:{nombre:ve.nombre,logo:ve.logo},equipo2:{nombre:_e.nombre,logo:_e.logo},goles:he,fecha:new Date().toISOString(),minutoFinal:b()})},ne=async(Z,he,ve,_e)=>{const xe=Ce(Te,`tablas/${Z.alineacion.genero}`),Ee=(await ti(xe)).val()||{},Be=ve.nombre,$e=_e.nombre,_n=he.equipo1,_t=he.equipo2,xn={PJ:0,PG:0,PE:0,PP:0,GF:0,GC:0,PTS:0},Mt=Ee[Be]||{...xn,logo:ve.logo},Tt=Ee[$e]||{...xn,logo:_e.logo};Mt.PJ++,Tt.PJ++,Mt.GF+=_n,Mt.GC+=_t,Tt.GF+=_t,Tt.GC+=_n,_n>_t?(Mt.PG++,Mt.PTS+=3,Tt.PP++):_t>_n?(Tt.PG++,Tt.PTS+=3,Mt.PP++):(Mt.PE++,Tt.PE++,Mt.PTS+=1,Tt.PTS+=1),await ms(xe,{[Be]:Mt,[$e]:Tt})},se=async(Z,he,ve)=>{const xe=(await ti(Ce(Te,`partidos/${t}/eventos/goles`))).val()||{},ke=Z.alineacion.genero,Ee=Ce(Te,`goleadores/${ke}`),$e=(await ti(Ee)).val()||{};for(const _n in xe){const _t=xe[_n],xn=_t.equipo==="equipo1"?he.nombre:ve.nombre,Mt=`${_t.jugador.replace(/[.#$[\]\s]/g,"_")}-${xn.replace(/[.#$[\]\s]/g,"_")}`,Tt=$e[Mt]||{nombre:_t.jugador,equipo:xn,logo:_t.equipo==="equipo1"?he.logo:ve.logo,goles:0,detalles:[]};Tt.detalles||(Tt.detalles=[]);const Po={minuto:_t.minuto,rival:_t.equipo==="equipo1"?ve.nombre:he.nombre};Tt.detalles.push(Po),Tt.goles+=1,$e[Mt]=Tt}await At(Ee,$e)},le=()=>{N.pausar(),x(!0)},q=async Z=>{if(x(!1),!Z||B)return;L(!0);const he={...n,id:t},ve={...u},_e={...i},xe={...a};try{await ms(Ce(Te,`partidos/${t}`),{estado:"finalizado",mvp:Z});const ke=`${Z.nombre.replace(/[.#$[\]\s]/g,"_")}-${Z.equipo.replace(/[.#$[\]\s]/g,"_")}`,Ee={nombre:Z.nombre,dorsal:Z.dorsal,equipo:Z.equipo,genero:he.alineacion.genero};await At(Ce(Te,`mvps_registrados/${ke}`),Ee),await pe(he,ve,_e,xe),await ne(he,ve,_e,xe),await se(he,_e,xe),await At(Ce(Te,"partidoEnCurso"),null),alert(`¡Partido finalizado! MVP: ${Z.nombre}`),e("/")}catch(ke){console.error("Error al finalizar partido:",ke),alert("Ocurrió un error al guardar los datos. Revisa la consola."),L(!1)}},te=()=>!i||!a?{nombre:"Cargando...",logo:""}:u.equipo1>u.equipo2?i:u.equipo2>u.equipo1?a:{nombre:"Empate",logo:"logo-empro.png"};return n?w.jsxs("div",{className:"w-full min-h-screen bg-cover bg-center text-white font-qatar px-2 md:px-8 py-4 bg-main-background flex flex-col",children:[w.jsx(cr,{}),w.jsxs("div",{className:"container mx-auto flex-grow",children:[w.jsx(PU,{equipo1:i,equipo2:a,goles:u,minuto:b()}),w.jsxs("div",{className:"flex justify-center gap-4 my-6",children:[w.jsx("button",{onClick:N.iniciar,disabled:N.enMarcha,className:"bg-green-500 hover:bg-green-600 text-white font-bold py-2 px-4 rounded disabled:bg-gray-500",children:"▶️ Iniciar"}),w.jsx("button",{onClick:N.pausar,disabled:!N.enMarcha,className:"bg-yellow-500 hover:bg-yellow-600 text-white font-bold py-2 px-4 rounded disabled:bg-gray-500",children:"⏸️ Pausar"}),w.jsx("button",{onClick:N.reiniciar,className:"bg-red-500 hover:bg-red-600 text-white font-bold py-2 px-4 rounded",children:"🔁 Reiniciar"})]}),w.jsxs("div",{className:"bg-black/40 backdrop-blur-sm p-4 rounded-lg flex flex-wrap justify-center gap-x-6 gap-y-3 shadow-lg",children:[w.jsxs("button",{onClick:()=>M("equipo1"),className:"text-white font-semibold hover:text-green-400 transition-colors",children:["Gol ",i.nombre]}),w.jsxs("button",{onClick:()=>V("equipo1"),className:"text-white font-semibold hover:text-yellow-400 transition-colors",children:["Tarjeta ",i.nombre]}),w.jsxs("button",{onClick:()=>F("equipo1"),className:"text-white font-semibold hover:text-blue-400 transition-colors",children:["Cambio ",i.nombre]}),w.jsx("div",{className:"w-full md:w-auto h-px md:h-auto md:w-px bg-white/20"}),w.jsxs("button",{onClick:()=>M("equipo2"),className:"text-white font-semibold hover:text-green-400 transition-colors",children:["Gol ",a.nombre]}),w.jsxs("button",{onClick:()=>V("equipo2"),className:"text-white font-semibold hover:text-yellow-400 transition-colors",children:["Tarjeta ",a.nombre]}),w.jsxs("button",{onClick:()=>F("equipo2"),className:"text-white font-semibold hover:text-blue-400 transition-colors",children:["Cambio ",a.nombre]})]}),w.jsx(lA,{eventos:h}),w.jsx("div",{className:"text-center mt-12",children:w.jsx("button",{onClick:le,className:"bg-yellow-500 hover:bg-yellow-600 text-black font-extrabold text-2xl px-12 py-4 rounded-full shadow-xl",children:"Finalizar Partido"})})]}),_&&w.jsx(EU,{equipo:_,jugadores:(_==="equipo1"?i.jugadores:a.jugadores).filter(Z=>Z.enJuego!==!1),minuto:b(),onSeleccion:Q,onClose:()=>{T(null),N.iniciar()}}),I&&w.jsx(SU,{equipo:I,jugadores:(I==="equipo1"?i.jugadores:a.jugadores).filter(Z=>Z.enJuego!==!1),minuto:b(),onConfirm:ae,onClose:()=>R(null)}),P&&w.jsx(CU,{equipo:P,jugadores:P==="equipo1"?i.todosJugadores:a.todosJugadores,minuto:b(),onConfirm:re,onClose:()=>k(null)}),v&&w.jsx(TU,{equipoGanador:te(),equipo1:i,equipo2:a,onClose:q}),j&&w.jsx(aA,{mensaje:j.mensaje,tipo:j.tipo}),w.jsx(ur,{})]}):w.jsxs("div",{className:"w-full min-h-screen bg-cover bg-center text-white flex flex-col bg-main-background",children:[w.jsx(cr,{}),w.jsx("div",{className:"flex-grow flex items-center justify-center text-center p-4",children:w.jsx("div",{children:w.jsx("h2",{className:"text-3xl font-bold",children:"Cargando datos del partido..."})})}),w.jsx(ur,{})]})}function RU(){const[t,e]=C.useState([]),[n,r]=C.useState("masculino"),[i,s]=C.useState(null);C.useEffect(()=>{const c=Ce(Te,`goleadores/${n}`),u=Jt(c,f=>{const h=f.val();if(h){const g=Object.values(h).sort((v,x)=>x.goles-v.goles);e(g)}else e([])});return()=>{Pa(c,"value",u)}},[n]);const a=c=>{s(i===c?null:c)};return w.jsxs("div",{className:"w-full min-h-screen bg-cover bg-center text-white font-qatar bg-main-background flex flex-col",children:[w.jsx(cr,{}),w.jsxs("div",{className:"container mx-auto px-4 py-8 flex-grow",children:[w.jsx("h1",{className:"text-5xl font-bold text-center text-yellow-400 drop-shadow-lg mb-6",children:"Tabla de Goleadores"}),w.jsxs("div",{className:"flex justify-center mb-8 bg-black/30 rounded-full p-1 max-w-sm mx-auto",children:[w.jsx("button",{onClick:()=>r("masculino"),className:`w-1/2 py-2 rounded-full font-bold transition-colors ${n==="masculino"?"bg-yellow-400 text-black":"hover:bg-white/10"}`,children:"Masculino"}),w.jsx("button",{onClick:()=>r("femenino"),className:`w-1/2 py-2 rounded-full font-bold transition-colors ${n==="femenino"?"bg-yellow-400 text-black":"hover:bg-white/10"}`,children:"Femenino"})]}),w.jsx("div",{className:"space-y-4 max-w-4xl mx-auto",children:t.map((c,u)=>w.jsxs("div",{className:"bg-black/50 backdrop-blur-sm rounded-xl shadow-lg p-4 transition-all duration-300",children:[w.jsxs("div",{className:"flex items-center gap-4",children:[w.jsx("span",{className:"text-3xl font-bold text-yellow-400 w-8 text-center",children:u+1}),w.jsx("img",{src:`/EmproChampions-2025/img/escudos/${c.logo}`,alt:c.equipo,className:"w-12 h-12 object-contain"}),w.jsxs("div",{className:"flex-grow",children:[w.jsx("h2",{className:"text-2xl font-bold",children:c.nombre}),w.jsx("p",{className:"text-sm opacity-80",children:c.equipo})]}),w.jsxs("div",{className:"text-right flex items-center gap-4",children:[w.jsxs("div",{children:[w.jsx("p",{className:"text-4xl font-extrabold",children:c.goles}),w.jsx("p",{className:"text-sm opacity-80 -mt-1",children:"Goles"})]}),w.jsx("button",{onClick:()=>a(c.nombre),className:"bg-yellow-400 text-black font-bold h-10 px-4 rounded-lg text-sm transition hover:bg-yellow-300",children:"Detalles"})]})]}),i===c.nombre&&w.jsxs("div",{className:"pl-14 mt-4 border-t border-white/10 pt-3",children:[w.jsx("h4",{className:"font-bold text-yellow-300 mb-2 text-sm",children:"DETALLE DE GOLES:"}),c.detalles&&c.detalles.length>0?c.detalles.map((f,h)=>w.jsxs("div",{className:"flex items-center gap-2 text-sm opacity-90 mt-1",children:[w.jsx("span",{children:"⚽"}),w.jsxs("span",{children:["vs ",f.rival]}),w.jsxs("span",{className:"ml-auto font-mono bg-white/10 px-2 rounded",children:[f.minuto,"'"]})]},h)):w.jsx("p",{className:"text-sm opacity-70",children:"No hay detalles de goles disponibles."})]})]},`${c.nombre}-${c.equipo}`))})]}),w.jsx(ur,{})]})}const NU=({partidoId:t,onClose:e})=>{const[n,r]=C.useState(null);if(C.useEffect(()=>{if(!t)return;const s=Ce(Te,`partidos/${t}`);ti(s).then(a=>{if(a.exists()){const c=a.val(),u={marcador:c.marcador,mvp:c.mvp,equipo1:c.alineacion?.equipo1,equipo2:c.alineacion?.equipo2,eventos:c.eventos||{}};r(u)}else r({error:"No se encontraron detalles."})})},[t]),!n)return w.jsx("div",{className:"fixed inset-0 bg-black/70 flex items-center justify-center z-50",children:w.jsx("p",{className:"text-white text-xl",children:"Cargando detalles..."})});if(n.error)return w.jsx("div",{className:"fixed inset-0 bg-black/70 flex items-center justify-center z-50",onClick:e,children:w.jsx("p",{className:"text-red-500 text-xl",children:n.error})});const i=[];return n.eventos.goles&&Object.values(n.eventos.goles).forEach(s=>i.push({...s,tipoVisual:"⚽ Gol"})),n.eventos.tarjetas&&Object.values(n.eventos.tarjetas).forEach(s=>i.push({...s,tipoVisual:s.tipo==="amarilla"?"🟨 Tarjeta":"🟥 Tarjeta"})),n.eventos.cambios&&Object.values(n.eventos.cambios).forEach(s=>i.push({...s,tipoVisual:"🔄 Cambio"})),i.sort((s,a)=>(s.minuto||"00:00").localeCompare(a.minuto||"00:00")),w.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-80 flex justify-center items-center z-50 p-4 font-qatar",onClick:e,children:w.jsxs("div",{className:"bg-gray-800 rounded-xl w-full max-w-md p-6",onClick:s=>s.stopPropagation(),children:[w.jsx("h2",{className:"text-2xl font-bold text-yellow-400 text-center mb-4",children:"Detalles del Partido"}),w.jsxs("div",{className:"flex justify-between items-center mb-4",children:[w.jsxs("div",{className:"flex items-center gap-2 text-lg font-bold w-2/5",children:[w.jsx("img",{src:`/EmproChampions-2025/img/escudos/${n.equipo1?.logo}`,className:"w-8 h-8 object-contain",alt:n.equipo1?.nombre}),w.jsx("span",{children:n.equipo1?.nombre})]}),w.jsxs("span",{className:"font-bold text-2xl",children:[n.marcador?.equipo1||0," - ",n.marcador?.equipo2||0]}),w.jsxs("div",{className:"flex items-center justify-end gap-2 text-lg font-bold w-2/5",children:[w.jsx("span",{className:"text-right",children:n.equipo2?.nombre}),w.jsx("img",{src:`/EmproChampions-2025/img/escudos/${n.equipo2?.logo}`,className:"w-8 h-8 object-contain",alt:n.equipo2?.nombre})]})]}),n.mvp?.nombre&&w.jsxs("p",{className:"text-center mb-4 text-sm",children:["MVP: ",w.jsx("span",{className:"font-bold text-yellow-300",children:n.mvp.nombre})]}),w.jsx("div",{className:"max-h-64 overflow-y-auto space-y-2 border-t border-white/10 pt-3",children:i.map((s,a)=>w.jsxs("div",{className:"flex items-center text-sm p-2 bg-white/5 rounded",children:[w.jsxs("span",{className:"font-mono w-12",children:[s.minuto,"'"]}),w.jsx("span",{className:"w-24",children:s.tipoVisual}),w.jsx("span",{className:"font-bold flex-grow",children:s.jugador||`${s.titular} por ${s.suplente}`})]},a))}),w.jsx("button",{onClick:e,className:"w-full mt-6 bg-yellow-400 text-black font-bold py-2 rounded-lg",children:"Cerrar"})]})})};function OU(){const{user:t}=si(),e=Pr(),[n,r]=C.useState([]),[i,s]=C.useState("masculino"),[a,c]=C.useState(null);return C.useEffect(()=>{const u=Ce(Te,`historial/${i}`),f=Jt(u,h=>{if(h.exists()){const g=Object.entries(h.val()).map(([v,x])=>({id:v,...x})).reverse();r(g)}else r([])});return()=>{Pa(u,"value",f)}},[i]),w.jsxs("div",{className:"w-full min-h-screen bg-cover bg-center text-white font-qatar bg-main-background",children:[w.jsx(cr,{}),w.jsxs("div",{className:"container mx-auto px-4 py-8",children:[w.jsx("h1",{className:"text-5xl font-bold text-center text-yellow-400 drop-shadow-lg mb-6",children:"Historial de Partidos"}),w.jsxs("div",{className:"flex justify-center mb-8 bg-black/30 rounded-full p-1 max-w-sm mx-auto",children:[w.jsx("button",{onClick:()=>s("masculino"),className:`w-1/2 py-2 rounded-full font-bold transition-colors ${i==="masculino"?"bg-yellow-400 text-black":"hover:bg-white/10"}`,children:"Masculino"}),w.jsx("button",{onClick:()=>s("femenino"),className:`w-1/2 py-2 rounded-full font-bold transition-colors ${i==="femenino"?"bg-yellow-400 text-black":"hover:bg-white/10"}`,children:"Femenino"})]}),w.jsx("div",{className:"space-y-4 max-w-4xl mx-auto",children:n.map(u=>w.jsx("div",{className:"bg-black/50 backdrop-blur-sm rounded-xl shadow-lg p-4",children:w.jsxs("div",{className:"flex items-center w-full",children:[w.jsxs("div",{className:"flex-grow space-y-2",children:[w.jsxs("div",{className:"flex items-center gap-3",children:[w.jsx("img",{src:`/EmproChampions-2025/img/escudos/${u.equipo1?.logo}`,className:"w-8 h-8 object-contain",alt:u.equipo1?.nombre}),w.jsx("span",{children:u.equipo1?.nombre})]}),w.jsxs("div",{className:"flex items-center gap-3",children:[w.jsx("img",{src:`/EmproChampions-2025/img/escudos/${u.equipo2?.logo}`,className:"w-8 h-8 object-contain",alt:u.equipo2?.nombre}),w.jsx("span",{children:u.equipo2?.nombre})]})]}),w.jsxs("div",{className:"px-6 text-center",children:[w.jsxs("p",{className:"text-4xl font-extrabold",children:[u.goles?.equipo1||0," - ",u.goles?.equipo2||0]}),w.jsx("p",{className:"text-xs opacity-70",children:new Date(u.fecha).toLocaleDateString()})]}),w.jsxs("div",{className:"flex items-center gap-2 ml-auto",children:[t&&w.jsx("button",{onClick:()=>e(`/partido/editar/${u.partidoId}`),className:"bg-blue-500 hover:bg-blue-400 text-white font-bold h-10 px-4 rounded-lg text-sm transition",children:"Editar"}),w.jsx("button",{onClick:()=>c(u.partidoId),className:"bg-yellow-400 text-black font-bold h-10 px-4 rounded-lg text-sm transition hover:bg-yellow-300",children:"Detalles"})]})]})},u.id))})]}),a&&w.jsx(NU,{partidoId:a,onClose:()=>c(null)}),w.jsx(ur,{})]})}const MU=[{nombre:"Atrapados",escudo:"/EmproChampions-2025/img/escudos/atrapados.png"},{nombre:"Bosco",escudo:"/EmproChampions-2025/img/escudos/bosco.png"},{nombre:"Emprosaurios",escudo:"/EmproChampions-2025/img/escudos/emprosaurios.png"},{nombre:"Huellas",escudo:"/EmproChampions-2025/img/escudos/huellas.png"},{nombre:"Luz",escudo:"/EmproChampions-2025/img/escudos/luz.png"},{nombre:"Mensajeros",escudo:"/EmproChampions-2025/img/escudos/mensajeros.png"}],DU=[{nombre:"Atrapados",escudo:"/EmproChampions-2025/img/escudos/atrapados.png"},{nombre:"Bosco",escudo:"/EmproChampions-2025/img/escudos/bosco.png"},{nombre:"Huellas",escudo:"/EmproChampions-2025/img/escudos/huellas.png"},{nombre:"Luz",escudo:"/EmproChampions-2025/img/escudos/luz.png"},{nombre:"Mensajeros",escudo:"/EmproChampions-2025/img/escudos/mensajeros.png"}];function iC(){const[t,e]=C.useState("masculino"),n=Pr(),r=t==="masculino"?MU:DU,[i,s]=C.useState(0),[a,c]=C.useState(1),[u,f]=C.useState(!0),[h,g]=C.useState(!0),v=(_,T)=>{const I=r.length;_==="local"?(f(!1),setTimeout(()=>{s(R=>(R+T+I)%I),f(!0)},150)):(g(!1),setTimeout(()=>{c(R=>(R+T+I)%I),g(!0)},150))},x=async()=>{const _=r[i],T=r[a];if(_.nombre===T.nombre){alert("El equipo local y visitante no pueden ser el mismo.");return}await At(Ce(Te,"selecciones/equipoLocal"),_),await At(Ce(Te,"selecciones/equipoVisita"),T),await At(Ce(Te,"selecciones/generoPartido"),t),n("/partido/alineacion",{state:{equipoLocal:_,equipoVisita:T,genero:t,fecha:Date.now()}})};return w.jsxs("div",{className:"min-h-screen bg-cover bg-center font-qatar text-white flex flex-col",style:{backgroundImage:"url('/EmproChampions-2025/img/fondoempro-horizontal.png')"},children:[w.jsx(cr,{}),w.jsxs("div",{className:"flex justify-center gap-4 mt-6",children:[w.jsx("button",{onClick:()=>{e("masculino"),s(0),c(1)},className:`px-4 py-2 font-bold rounded-full border-2 ${t==="masculino"?"bg-[#FFD700] text-[#7a0026] border-yellow-400":"bg-transparent border-white text-white"} transition`,children:"Masculino"}),w.jsx("button",{onClick:()=>{e("femenino"),s(0),c(1)},className:`px-4 py-2 font-bold rounded-full border-2 ${t==="femenino"?"bg-[#FFD700] text-[#7a0026] border-yellow-400":"bg-transparent border-white text-white"} transition`,children:"Femenino"})]}),w.jsx("h1",{className:"text-3xl sm:text-4xl font-bold text-center mt-6 text-yellow-400 drop-shadow",children:"Selección de Equipos"}),w.jsx("div",{className:"flex flex-col items-center justify-center px-6",children:w.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-10 mt-6 mx-auto px-4 max-w-6xl",children:[w.jsxs("div",{className:"flex flex-col bg-white/90 rounded-2xl p-8 w-full max-w-[460px] text-[#7a0026] shadow-xl transition-all duration-300 min-h-[460px] justify-center items-center",children:[w.jsx("h2",{className:"font-bold text-2xl mb-4",children:"Equipo Local"}),w.jsxs("div",{className:`flex flex-col items-center transition-opacity duration-300 ease-in-out ${u?"opacity-100":"opacity-0"}`,children:[w.jsx("img",{src:r[i].escudo,alt:r[i].nombre,className:"w-32 h-32 object-contain mb-4 drop-shadow-md"}),w.jsx("p",{className:"text-3xl font-black",children:r[i].nombre})]}),w.jsxs("div",{className:"flex gap-10 mt-6",children:[w.jsx("button",{onClick:()=>v("local",-1),className:"text-4xl text-[#FFD700] hover:scale-110 transition",children:"◀"}),w.jsx("button",{onClick:()=>v("local",1),className:"text-4xl text-[#FFD700] hover:scale-110 transition",children:"▶"})]})]}),w.jsxs("div",{className:"flex flex-col bg-white/90 rounded-2xl p-8 w-full max-w-[460px] text-[#7a0026] shadow-xl transition-all duration-300 min-h-[460px] justify-center items-center",children:[w.jsx("h2",{className:"font-bold text-2xl mb-4",children:"Equipo Visitante"}),w.jsxs("div",{className:`flex flex-col items-center transition-opacity duration-300 ease-in-out ${h?"opacity-100":"opacity-0"}`,children:[w.jsx("img",{src:r[a].escudo,alt:r[a].nombre,className:"w-32 h-32 object-contain mb-4 drop-shadow-md"}),w.jsx("p",{className:"text-3xl font-black",children:r[a].nombre})]}),w.jsxs("div",{className:"flex gap-10 mt-6",children:[w.jsx("button",{onClick:()=>v("visita",-1),className:"text-4xl text-[#FFD700] hover:scale-110 transition",children:"◀"}),w.jsx("button",{onClick:()=>v("visita",1),className:"text-4xl text-[#FFD700] hover:scale-110 transition",children:"▶"})]})]})]})}),w.jsx("div",{className:"flex justify-center mt-12 mb-20",children:w.jsx("button",{onClick:x,className:"bg-[#FFD700] text-[#7a0026] font-bold px-10 py-4 rounded-full hover:bg-yellow-300 transition text-xl shadow-lg",children:"Siguiente"})}),w.jsx(ur,{})]})}const LU=[{nombre:"FUENTES",dorsal:15,genero:"masculino"},{nombre:"W. GOMÉZ",dorsal:8,genero:"masculino"},{nombre:"RENI JOSUE",dorsal:58,genero:"masculino"},{nombre:"C. ZERÓN",dorsal:3,genero:"masculino"},{nombre:"CARLOS L",dorsal:7,genero:"masculino"},{nombre:"A. PINEDA",dorsal:11,genero:"masculino"},{nombre:"JUAN P.",dorsal:10,genero:"masculino"},{nombre:"J. CHACÓN",dorsal:5,genero:"masculino"},{nombre:"E. MOLINA",dorsal:9,genero:"masculino"},{nombre:"ALEXANDER",dorsal:16,genero:"masculino"},{nombre:"EDER J",dorsal:22,genero:"masculino"},{nombre:"C. MEJIA",dorsal:19,genero:"masculino"},{nombre:"HERNANDEZ",dorsal:13,genero:"masculino"},{nombre:"L. SUÁREZ",dorsal:11,genero:"femenino"},{nombre:"N. SUÁREZ",dorsal:10,genero:"femenino"},{nombre:"ROJAS",dorsal:8,genero:"femenino"},{nombre:"SADDY M",dorsal:7,genero:"femenino"},{nombre:"V. BANEGAS",dorsal:6,genero:"femenino"},{nombre:"ZAVALA",dorsal:20,genero:"femenino"},{nombre:"N. SALGUERO",dorsal:19,genero:"femenino"},{nombre:"H. LÓPEZ",dorsal:1,genero:"femenino"},{nombre:"S. PINEDA",dorsal:12,genero:"femenino"},{nombre:"C. MEJÍA",dorsal:21,genero:"femenino"},{nombre:"SHANELY R.",dorsal:9,genero:"femenino"},{nombre:"KRISTHEL",dorsal:3,genero:"femenino"},{nombre:"PONCE",dorsal:22,genero:"femenino"},{nombre:"LINDA M.",dorsal:17,genero:"femenino"},{nombre:"GREYSI",dorsal:14,genero:"femenino"},{nombre:"M ROJAS",dorsal:13,genero:"femenino"}],jU=[{nombre:"Urquia",dorsal:11,genero:"masculino"},{nombre:"Torrez",dorsal:10,genero:"masculino"},{nombre:"J. Menjivar",dorsal:27,genero:"masculino"},{nombre:"Contreras",dorsal:2,genero:"masculino"},{nombre:"Lopez",dorsal:23,genero:"masculino"},{nombre:"Wampy",dorsal:26,genero:"masculino"},{nombre:"Gabriel",dorsal:9,genero:"masculino"},{nombre:"Herrera",dorsal:7,genero:"masculino"},{nombre:"Orellana",dorsal:19,genero:"masculino"},{nombre:"Enrique",dorsal:40,genero:"masculino"},{nombre:"Alexander",dorsal:6,genero:"masculino"},{nombre:"PINEDA",dorsal:8,genero:"masculino"},{nombre:"Anita",dorsal:8,genero:"femenino"},{nombre:"Mayely",dorsal:7,genero:"femenino"},{nombre:"Contreras",dorsal:3,genero:"femenino"},{nombre:"Madrid",dorsal:1,genero:"femenino"},{nombre:"Daniela",dorsal:6,genero:"femenino"},{nombre:"Ross.Paz",dorsal:13,genero:"femenino"},{nombre:"Suarez",dorsal:5,genero:"femenino"},{nombre:"GabSr",dorsal:44,genero:"femenino"},{nombre:"Yussmary",dorsal:9,genero:"femenino"},{nombre:"Fajardo",dorsal:25,genero:"femenino"},{nombre:"Navarro",dorsal:37,genero:"femenino"},{nombre:"Regalado",dorsal:15,genero:"femenino"},{nombre:"Leticia",dorsal:18,genero:"femenino"},{nombre:"Dubon",dorsal:21,genero:"femenino"},{nombre:"Fúnez",dorsal:10,genero:"femenino"}],FU=[{nombre:"D. MEJIA",dorsal:23,genero:"masculino"},{nombre:"A. RODRIGUEZ",dorsal:11,genero:"masculino"},{nombre:"OWEN",dorsal:19,genero:"masculino"},{nombre:"JESUS",dorsal:8,genero:"masculino"},{nombre:"LUIS",dorsal:7,genero:"masculino"},{nombre:"RIVERA",dorsal:14,genero:"masculino"},{nombre:"ROLANDO MEJIA",dorsal:1,genero:"masculino"},{nombre:"ERICK",dorsal:28,genero:"masculino"},{nombre:"YORLIN",dorsal:9,genero:"masculino"},{nombre:"J. LOPEZ",dorsal:5,genero:"masculino"},{nombre:"KEVIN LOPEZ",dorsal:13,genero:"masculino"},{nombre:"ALVARADO",dorsal:20,genero:"masculino"},{nombre:"PONCE",dorsal:10,genero:"masculino"},{nombre:"FRABRIIHNDZ",dorsal:22,genero:"masculino"},{nombre:"ALLAN",dorsal:18,genero:"masculino"},{nombre:"TROCHEZ",dorsal:93,genero:"masculino"},{nombre:"FRANCISCO",dorsal:6,genero:"masculino"},{nombre:"MOLINA",dorsal:30,genero:"masculino"},{nombre:"ANGEL",dorsal:21,genero:"masculino"},{nombre:"MEJIA",dorsal:17,genero:"masculino"},{nombre:"CESAR",dorsal:25,genero:"masculino"},{nombre:"LARA F.",dorsal:95,genero:"masculino"}],$U=[{nombre:"E. RUIZ",dorsal:12,genero:"masculino"},{nombre:"E. BENITEZ",dorsal:10,genero:"masculino"},{nombre:"N. RUIZ",dorsal:8,genero:"masculino"},{nombre:"N. SANTOS",dorsal:11,genero:"masculino"},{nombre:"ALVARADO",dorsal:19,genero:"masculino"},{nombre:"AM",dorsal:22,genero:"masculino"},{nombre:"LUIS G.",dorsal:3,genero:"masculino"},{nombre:"L. RUIZ",dorsal:6,genero:"masculino"},{nombre:"RICK",dorsal:1,genero:"masculino"},{nombre:"LUIS CRUZ",dorsal:7,genero:"masculino"},{nombre:"C. CRUZ",dorsal:66,genero:"masculino"},{nombre:"O. TABORA",dorsal:15,genero:"masculino"},{nombre:"ARITA",dorsal:99,genero:"masculino"},{nombre:"UDAI M.",dorsal:9,genero:"masculino"},{nombre:"J. MAYORGA",dorsal:44,genero:"masculino"},{nombre:"W. AMAYA",dorsal:21,genero:"masculino"},{nombre:"E. SUARES",dorsal:23,genero:"masculino"},{nombre:"M. CORTES",dorsal:5,genero:"masculino"},{nombre:"ALVARADO",dorsal:8,genero:"femenino"},{nombre:"N. BRIZUELA",dorsal:88,genero:"femenino"},{nombre:"RAMIREZ",dorsal:14,genero:"femenino"},{nombre:"A. RUIZ",dorsal:5,genero:"femenino"},{nombre:"ESTHER",dorsal:3,genero:"femenino"},{nombre:"G. ARITA",dorsal:2,genero:"femenino"},{nombre:"V. CHAVEZ",dorsal:11,genero:"femenino"},{nombre:"DULCE CRUZ",dorsal:1,genero:"femenino"},{nombre:"R. MARQUEZ",dorsal:19,genero:"femenino"},{nombre:"ALVARENGA",dorsal:17,genero:"femenino"},{nombre:"S. ENAMORADO",dorsal:26,genero:"femenino"},{nombre:"VASQUEZ",dorsal:15,genero:"femenino"},{nombre:"L. DIAZ",dorsal:9,genero:"femenino"},{nombre:"NAY SARMIENT",dorsal:6,genero:"femenino"},{nombre:"MOLINA",dorsal:4,genero:"femenino"},{nombre:"ALVARADO",dorsal:6,genero:"femenino"},{nombre:"RODRIGUEZ",dorsal:7,genero:"femenino"}],UU=[{nombre:"Jayro V",dorsal:14,genero:"masculino"},{nombre:"M. Nuñez",dorsal:16,genero:"masculino"},{nombre:"CASTELLANOS",dorsal:27,genero:"masculino"},{nombre:"PÉREZ",dorsal:19,genero:"masculino"},{nombre:"O. Chinchilla",dorsal:66,genero:"masculino"},{nombre:"C. Tabora",dorsal:12,genero:"masculino"},{nombre:"Cardoza",dorsal:4,genero:"masculino"},{nombre:"T. Orellana",dorsal:11,genero:"masculino"},{nombre:"Tabora CJ",dorsal:6,genero:"masculino"},{nombre:"Yassar",dorsal:8,genero:"masculino"},{nombre:"C HERNANDEZ",dorsal:23,genero:"masculino"},{nombre:"ESPINO",dorsal:5,genero:"masculino"},{nombre:"ZERÓN",dorsal:6,genero:"femenino"},{nombre:"Pineda",dorsal:8,genero:"femenino"},{nombre:"Key",dorsal:7,genero:"femenino"},{nombre:"Daya",dorsal:16,genero:"femenino"},{nombre:"K. Orellana",dorsal:15,genero:"femenino"},{nombre:"F. Rodriguez",dorsal:7,genero:"femenino"},{nombre:"I. Cáceres",dorsal:13,genero:"femenino"},{nombre:"Y. Guerra",dorsal:24,genero:"femenino"},{nombre:"Pineda",dorsal:11,genero:"femenino"},{nombre:"Y. TABORA",dorsal:10,genero:"femenino"},{nombre:"YEII O",dorsal:9,genero:"femenino"},{nombre:"L. Pascual",dorsal:23,genero:"femenino"},{nombre:"Gisele",dorsal:4,genero:"femenino"},{nombre:"MURCIA",dorsal:25,genero:"femenino"},{nombre:"K DUBON",dorsal:23,genero:"femenino"}],VU=[{nombre:"K. JOSUE",dorsal:7,genero:"masculino"},{nombre:"ERICK O.",dorsal:12,genero:"masculino"},{nombre:"FERNANDO S.",dorsal:21,genero:"masculino"},{nombre:"JOSUE",dorsal:13,genero:"masculino"},{nombre:"NOLAN",dorsal:3,genero:"masculino"},{nombre:"FHER O.",dorsal:4,genero:"masculino"},{nombre:"BRIZUELA",dorsal:46,genero:"masculino"},{nombre:"HELTON",dorsal:27,genero:"masculino"},{nombre:"RUIZ",dorsal:5,genero:"masculino"},{nombre:"MELVIN ORELLANA",dorsal:10,genero:"masculino"},{nombre:"C. HERNANDEZ",dorsal:14,genero:"masculino"},{nombre:"HERNANDEZ",dorsal:18,genero:"masculino"},{nombre:"J. CANELO",dorsal:44,genero:"masculino"},{nombre:"SANABRIA",dorsal:9,genero:"masculino"},{nombre:"LUKAS",dorsal:47,genero:"masculino"},{nombre:"BAIRON R.",dorsal:8,genero:"masculino"},{nombre:"AGUILAR",dorsal:11,genero:"masculino"}],R0={bosco:LU,luz:jU,huellas:FU,atrapados:$U,mensajeros:UU,emprosaurios:VU};function BU({tipo:t,index:e,jugador:n,onSave:r,onClose:i,camiseta:s,dorsalColor:a,jugadoresActuales:c,nombreEquipo:u,generoPartido:f}){const h=u?.toLowerCase().replace(/\s+/g,""),g=R0[h]||[],v=c.filter((k,j)=>j!==e&&k.nombre).map(k=>k.nombre),x=g.filter(k=>k.genero===f).filter(k=>!v.includes(k.nombre)),_=n&&n.nombre&&n.dorsal?`${n.nombre}|${n.dorsal}`:"",[T,I]=C.useState(_),R=()=>{if(!T)return;const[k,j]=T.split("|");r(e,t,{nombre:k,dorsal:j})},P=T?T.split("|")[1]:n?.dorsal||"?";return w.jsx("div",{className:"fixed inset-0 flex items-center justify-center z-50 bg-black/70 p-4 font-qatar",children:w.jsxs("div",{className:"bg-gray-800 border border-yellow-500/30 rounded-xl shadow-2xl p-6 text-white relative w-full max-w-sm mx-auto",children:[w.jsx("button",{onClick:i,className:"absolute top-2 right-2 text-gray-400 hover:text-white font-bold text-2xl transition-colors",title:"Cerrar",children:"×"}),w.jsxs("div",{className:"flex flex-col items-center mb-5",children:[w.jsxs("div",{className:"relative w-24 h-24 mb-3",children:[w.jsx("img",{src:s,alt:"camiseta",className:"w-full h-full drop-shadow-lg"}),w.jsx("span",{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-[45%] font-barcelona text-4xl",style:{color:a,textShadow:"2px 2px 3px rgba(0,0,0,0.7)"},children:P})]}),w.jsx("h2",{className:"text-2xl font-bold text-yellow-400",children:u})]}),w.jsx("label",{htmlFor:"jugador-select",className:"block font-bold mb-2 text-gray-300",children:"Seleccionar Jugador"}),w.jsxs("select",{id:"jugador-select",className:"w-full px-4 py-3 border border-gray-600 rounded-lg bg-gray-700 text-white text-base focus:ring-2 focus:ring-yellow-500 focus:border-yellow-500 transition",value:T,onChange:k=>I(k.target.value),children:[w.jsx("option",{value:"",disabled:!0,children:"Elige un jugador..."}),x.map(k=>w.jsx("option",{value:`${k.nombre}|${k.dorsal}`,children:k.nombre},k.dorsal+k.nombre))]}),w.jsxs("div",{className:"mt-6 space-y-3",children:[w.jsx("button",{disabled:!T,onClick:R,className:"w-full bg-[#FFD700] text-[#7a0026] font-bold py-3 rounded-lg hover:bg-yellow-400 transition transform hover:scale-105 disabled:bg-gray-500 disabled:text-gray-300 disabled:transform-none disabled:cursor-not-allowed",children:"Guardar"}),w.jsx("button",{onClick:i,className:"w-full bg-gray-600 text-gray-200 font-bold py-3 rounded-lg hover:bg-gray-500 transition",children:"Cancelar"})]})]})})}const U_=C.createContext({});function V_(t){const e=C.useRef(null);return e.current===null&&(e.current=t()),e.current}const B_=typeof window<"u",cA=B_?C.useLayoutEffect:C.useEffect,Lm=C.createContext(null);function z_(t,e){t.indexOf(e)===-1&&t.push(e)}function H_(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const gs=(t,e,n)=>n>e?e:n<t?t:n;let W_=()=>{};const vs={},uA=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t);function dA(t){return typeof t=="object"&&t!==null}const fA=t=>/^0[^.\s]+$/u.test(t);function q_(t){let e;return()=>(e===void 0&&(e=t()),e)}const Cr=t=>t,zU=(t,e)=>n=>e(t(n)),sf=(...t)=>t.reduce(zU),Pd=(t,e,n)=>{const r=e-t;return r===0?1:(n-t)/r};class G_{constructor(){this.subscriptions=[]}add(e){return z_(this.subscriptions,e),()=>H_(this.subscriptions,e)}notify(e,n,r){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](e,n,r);else for(let s=0;s<i;s++){const a=this.subscriptions[s];a&&a(e,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Ci=t=>t*1e3,Ti=t=>t/1e3;function hA(t,e){return e?t*(1e3/e):0}const pA=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,HU=1e-7,WU=12;function qU(t,e,n,r,i){let s,a,c=0;do a=e+(n-e)/2,s=pA(a,r,i)-t,s>0?n=a:e=a;while(Math.abs(s)>HU&&++c<WU);return a}function of(t,e,n,r){if(t===e&&n===r)return Cr;const i=s=>qU(s,0,1,t,n);return s=>s===0||s===1?s:pA(i(s),e,r)}const mA=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,gA=t=>e=>1-t(1-e),vA=of(.33,1.53,.69,.99),K_=gA(vA),yA=mA(K_),wA=t=>(t*=2)<1?.5*K_(t):.5*(2-Math.pow(2,-10*(t-1))),Y_=t=>1-Math.sin(Math.acos(t)),_A=gA(Y_),xA=mA(Y_),GU=of(.42,0,1,1),KU=of(0,0,.58,1),bA=of(.42,0,.58,1),YU=t=>Array.isArray(t)&&typeof t[0]!="number",EA=t=>Array.isArray(t)&&typeof t[0]=="number",XU={linear:Cr,easeIn:GU,easeInOut:bA,easeOut:KU,circIn:Y_,circInOut:xA,circOut:_A,backIn:K_,backInOut:yA,backOut:vA,anticipate:wA},JU=t=>typeof t=="string",sC=t=>{if(EA(t)){W_(t.length===4);const[e,n,r,i]=t;return of(e,n,r,i)}else if(JU(t))return XU[t];return t},$h=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"],oC={value:null};function QU(t,e){let n=new Set,r=new Set,i=!1,s=!1;const a=new WeakSet;let c={delta:0,timestamp:0,isProcessing:!1},u=0;function f(g){a.has(g)&&(h.schedule(g),t()),u++,g(c)}const h={schedule:(g,v=!1,x=!1)=>{const T=x&&i?n:r;return v&&a.add(g),T.has(g)||T.add(g),g},cancel:g=>{r.delete(g),a.delete(g)},process:g=>{if(c=g,i){s=!0;return}i=!0,[n,r]=[r,n],n.forEach(f),e&&oC.value&&oC.value.frameloop[e].push(u),u=0,n.clear(),i=!1,s&&(s=!1,h.process(g))}};return h}const ZU=40;function SA(t,e){let n=!1,r=!0;const i={delta:0,timestamp:0,isProcessing:!1},s=()=>n=!0,a=$h.reduce((k,j)=>(k[j]=QU(s,e?j:void 0),k),{}),{setup:c,read:u,resolveKeyframes:f,preUpdate:h,update:g,preRender:v,render:x,postRender:_}=a,T=()=>{const k=vs.useManualTiming?i.timestamp:performance.now();n=!1,vs.useManualTiming||(i.delta=r?1e3/60:Math.max(Math.min(k-i.timestamp,ZU),1)),i.timestamp=k,i.isProcessing=!0,c.process(i),u.process(i),f.process(i),h.process(i),g.process(i),v.process(i),x.process(i),_.process(i),i.isProcessing=!1,n&&e&&(r=!1,t(T))},I=()=>{n=!0,r=!0,i.isProcessing||t(T)};return{schedule:$h.reduce((k,j)=>{const $=a[j];return k[j]=(B,L=!1,N=!1)=>(n||I(),$.schedule(B,L,N)),k},{}),cancel:k=>{for(let j=0;j<$h.length;j++)a[$h[j]].cancel(k)},state:i,steps:a}}const{schedule:yt,cancel:xo,state:on,steps:dy}=SA(typeof requestAnimationFrame<"u"?requestAnimationFrame:Cr,!0);let op;function eV(){op=void 0}const qn={now:()=>(op===void 0&&qn.set(on.isProcessing||vs.useManualTiming?on.timestamp:performance.now()),op),set:t=>{op=t,queueMicrotask(eV)}},CA=t=>e=>typeof e=="string"&&e.startsWith(t),X_=CA("--"),tV=CA("var(--"),J_=t=>tV(t)?nV.test(t.split("/*")[0].trim()):!1,nV=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,Ec={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},Id={...Ec,transform:t=>gs(0,1,t)},Uh={...Ec,default:1},Zu=t=>Math.round(t*1e5)/1e5,Q_=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function rV(t){return t==null}const iV=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,Z_=(t,e)=>n=>!!(typeof n=="string"&&iV.test(n)&&n.startsWith(t)||e&&!rV(n)&&Object.prototype.hasOwnProperty.call(n,e)),TA=(t,e,n)=>r=>{if(typeof r!="string")return r;const[i,s,a,c]=r.match(Q_);return{[t]:parseFloat(i),[e]:parseFloat(s),[n]:parseFloat(a),alpha:c!==void 0?parseFloat(c):1}},sV=t=>gs(0,255,t),fy={...Ec,transform:t=>Math.round(sV(t))},fa={test:Z_("rgb","red"),parse:TA("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:r=1})=>"rgba("+fy.transform(t)+", "+fy.transform(e)+", "+fy.transform(n)+", "+Zu(Id.transform(r))+")"};function oV(t){let e="",n="",r="",i="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),r=t.substring(5,7),i=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),r=t.substring(3,4),i=t.substring(4,5),e+=e,n+=n,r+=r,i+=i),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}}const N0={test:Z_("#"),parse:oV,transform:fa.transform},af=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),Zs=af("deg"),ki=af("%"),Ne=af("px"),aV=af("vh"),lV=af("vw"),aC={...ki,parse:t=>ki.parse(t)/100,transform:t=>ki.transform(t*100)},Vl={test:Z_("hsl","hue"),parse:TA("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:r=1})=>"hsla("+Math.round(t)+", "+ki.transform(Zu(e))+", "+ki.transform(Zu(n))+", "+Zu(Id.transform(r))+")"},mn={test:t=>fa.test(t)||N0.test(t)||Vl.test(t),parse:t=>fa.test(t)?fa.parse(t):Vl.test(t)?Vl.parse(t):N0.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?fa.transform(t):Vl.transform(t)},cV=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function uV(t){return isNaN(t)&&typeof t=="string"&&(t.match(Q_)?.length||0)+(t.match(cV)?.length||0)>0}const kA="number",PA="color",dV="var",fV="var(",lC="${}",hV=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Ad(t){const e=t.toString(),n=[],r={color:[],number:[],var:[]},i=[];let s=0;const c=e.replace(hV,u=>(mn.test(u)?(r.color.push(s),i.push(PA),n.push(mn.parse(u))):u.startsWith(fV)?(r.var.push(s),i.push(dV),n.push(u)):(r.number.push(s),i.push(kA),n.push(parseFloat(u))),++s,lC)).split(lC);return{values:n,split:c,indexes:r,types:i}}function IA(t){return Ad(t).values}function AA(t){const{split:e,types:n}=Ad(t),r=e.length;return i=>{let s="";for(let a=0;a<r;a++)if(s+=e[a],i[a]!==void 0){const c=n[a];c===kA?s+=Zu(i[a]):c===PA?s+=mn.transform(i[a]):s+=i[a]}return s}}const pV=t=>typeof t=="number"?0:t;function mV(t){const e=IA(t);return AA(t)(e.map(pV))}const bo={test:uV,parse:IA,createTransformer:AA,getAnimatableNone:mV};function hy(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function gV({hue:t,saturation:e,lightness:n,alpha:r}){t/=360,e/=100,n/=100;let i=0,s=0,a=0;if(!e)i=s=a=n;else{const c=n<.5?n*(1+e):n+e-n*e,u=2*n-c;i=hy(u,c,t+1/3),s=hy(u,c,t),a=hy(u,c,t-1/3)}return{red:Math.round(i*255),green:Math.round(s*255),blue:Math.round(a*255),alpha:r}}function qp(t,e){return n=>n>0?e:t}const gt=(t,e,n)=>t+(e-t)*n,py=(t,e,n)=>{const r=t*t,i=n*(e*e-r)+r;return i<0?0:Math.sqrt(i)},vV=[N0,fa,Vl],yV=t=>vV.find(e=>e.test(t));function cC(t){const e=yV(t);if(!e)return!1;let n=e.parse(t);return e===Vl&&(n=gV(n)),n}const uC=(t,e)=>{const n=cC(t),r=cC(e);if(!n||!r)return qp(t,e);const i={...n};return s=>(i.red=py(n.red,r.red,s),i.green=py(n.green,r.green,s),i.blue=py(n.blue,r.blue,s),i.alpha=gt(n.alpha,r.alpha,s),fa.transform(i))},O0=new Set(["none","hidden"]);function wV(t,e){return O0.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function _V(t,e){return n=>gt(t,e,n)}function ex(t){return typeof t=="number"?_V:typeof t=="string"?J_(t)?qp:mn.test(t)?uC:EV:Array.isArray(t)?RA:typeof t=="object"?mn.test(t)?uC:xV:qp}function RA(t,e){const n=[...t],r=n.length,i=t.map((s,a)=>ex(s)(s,e[a]));return s=>{for(let a=0;a<r;a++)n[a]=i[a](s);return n}}function xV(t,e){const n={...t,...e},r={};for(const i in n)t[i]!==void 0&&e[i]!==void 0&&(r[i]=ex(t[i])(t[i],e[i]));return i=>{for(const s in r)n[s]=r[s](i);return n}}function bV(t,e){const n=[],r={color:0,var:0,number:0};for(let i=0;i<e.values.length;i++){const s=e.types[i],a=t.indexes[s][r[s]],c=t.values[a]??0;n[i]=c,r[s]++}return n}const EV=(t,e)=>{const n=bo.createTransformer(e),r=Ad(t),i=Ad(e);return r.indexes.var.length===i.indexes.var.length&&r.indexes.color.length===i.indexes.color.length&&r.indexes.number.length>=i.indexes.number.length?O0.has(t)&&!i.values.length||O0.has(e)&&!r.values.length?wV(t,e):sf(RA(bV(r,i),i.values),n):qp(t,e)};function NA(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?gt(t,e,n):ex(t)(t,e)}const SV=t=>{const e=({timestamp:n})=>t(n);return{start:(n=!0)=>yt.update(e,n),stop:()=>xo(e),now:()=>on.isProcessing?on.timestamp:qn.now()}},OA=(t,e,n=10)=>{let r="";const i=Math.max(Math.round(e/n),2);for(let s=0;s<i;s++)r+=t(s/(i-1))+", ";return`linear(${r.substring(0,r.length-2)})`},Gp=2e4;function tx(t){let e=0;const n=50;let r=t.next(e);for(;!r.done&&e<Gp;)e+=n,r=t.next(e);return e>=Gp?1/0:e}function CV(t,e=100,n){const r=n({...t,keyframes:[0,e]}),i=Math.min(tx(r),Gp);return{type:"keyframes",ease:s=>r.next(i*s).value/e,duration:Ti(i)}}const TV=5;function MA(t,e,n){const r=Math.max(e-TV,0);return hA(n-t(r),e-r)}const St={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},my=.001;function kV({duration:t=St.duration,bounce:e=St.bounce,velocity:n=St.velocity,mass:r=St.mass}){let i,s,a=1-e;a=gs(St.minDamping,St.maxDamping,a),t=gs(St.minDuration,St.maxDuration,Ti(t)),a<1?(i=f=>{const h=f*a,g=h*t,v=h-n,x=M0(f,a),_=Math.exp(-g);return my-v/x*_},s=f=>{const g=f*a*t,v=g*n+n,x=Math.pow(a,2)*Math.pow(f,2)*t,_=Math.exp(-g),T=M0(Math.pow(f,2),a);return(-i(f)+my>0?-1:1)*((v-x)*_)/T}):(i=f=>{const h=Math.exp(-f*t),g=(f-n)*t+1;return-my+h*g},s=f=>{const h=Math.exp(-f*t),g=(n-f)*(t*t);return h*g});const c=5/t,u=IV(i,s,c);if(t=Ci(t),isNaN(u))return{stiffness:St.stiffness,damping:St.damping,duration:t};{const f=Math.pow(u,2)*r;return{stiffness:f,damping:a*2*Math.sqrt(r*f),duration:t}}}const PV=12;function IV(t,e,n){let r=n;for(let i=1;i<PV;i++)r=r-t(r)/e(r);return r}function M0(t,e){return t*Math.sqrt(1-e*e)}const AV=["duration","bounce"],RV=["stiffness","damping","mass"];function dC(t,e){return e.some(n=>t[n]!==void 0)}function NV(t){let e={velocity:St.velocity,stiffness:St.stiffness,damping:St.damping,mass:St.mass,isResolvedFromDuration:!1,...t};if(!dC(t,RV)&&dC(t,AV))if(t.visualDuration){const n=t.visualDuration,r=2*Math.PI/(n*1.2),i=r*r,s=2*gs(.05,1,1-(t.bounce||0))*Math.sqrt(i);e={...e,mass:St.mass,stiffness:i,damping:s}}else{const n=kV(t);e={...e,...n,mass:St.mass},e.isResolvedFromDuration=!0}return e}function Kp(t=St.visualDuration,e=St.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:r,restDelta:i}=n;const s=n.keyframes[0],a=n.keyframes[n.keyframes.length-1],c={done:!1,value:s},{stiffness:u,damping:f,mass:h,duration:g,velocity:v,isResolvedFromDuration:x}=NV({...n,velocity:-Ti(n.velocity||0)}),_=v||0,T=f/(2*Math.sqrt(u*h)),I=a-s,R=Ti(Math.sqrt(u/h)),P=Math.abs(I)<5;r||(r=P?St.restSpeed.granular:St.restSpeed.default),i||(i=P?St.restDelta.granular:St.restDelta.default);let k;if(T<1){const $=M0(R,T);k=B=>{const L=Math.exp(-T*R*B);return a-L*((_+T*R*I)/$*Math.sin($*B)+I*Math.cos($*B))}}else if(T===1)k=$=>a-Math.exp(-R*$)*(I+(_+R*I)*$);else{const $=R*Math.sqrt(T*T-1);k=B=>{const L=Math.exp(-T*R*B),N=Math.min($*B,300);return a-L*((_+T*R*I)*Math.sinh(N)+$*I*Math.cosh(N))/$}}const j={calculatedDuration:x&&g||null,next:$=>{const B=k($);if(x)c.done=$>=g;else{let L=$===0?_:0;T<1&&(L=$===0?Ci(_):MA(k,$,B));const N=Math.abs(L)<=r,O=Math.abs(a-B)<=i;c.done=N&&O}return c.value=c.done?a:B,c},toString:()=>{const $=Math.min(tx(j),Gp),B=OA(L=>j.next($*L).value,$,30);return $+"ms "+B},toTransition:()=>{}};return j}Kp.applyToOptions=t=>{const e=CV(t,100,Kp);return t.ease=e.ease,t.duration=Ci(e.duration),t.type="keyframes",t};function D0({keyframes:t,velocity:e=0,power:n=.8,timeConstant:r=325,bounceDamping:i=10,bounceStiffness:s=500,modifyTarget:a,min:c,max:u,restDelta:f=.5,restSpeed:h}){const g=t[0],v={done:!1,value:g},x=N=>c!==void 0&&N<c||u!==void 0&&N>u,_=N=>c===void 0?u:u===void 0||Math.abs(c-N)<Math.abs(u-N)?c:u;let T=n*e;const I=g+T,R=a===void 0?I:a(I);R!==I&&(T=R-g);const P=N=>-T*Math.exp(-N/r),k=N=>R+P(N),j=N=>{const O=P(N),b=k(N);v.done=Math.abs(O)<=f,v.value=v.done?R:b};let $,B;const L=N=>{x(v.value)&&($=N,B=Kp({keyframes:[v.value,_(v.value)],velocity:MA(k,N,v.value),damping:i,stiffness:s,restDelta:f,restSpeed:h}))};return L(0),{calculatedDuration:null,next:N=>{let O=!1;return!B&&$===void 0&&(O=!0,j(N),L(N)),$!==void 0&&N>=$?B.next(N-$):(!O&&j(N),v)}}}function OV(t,e,n){const r=[],i=n||vs.mix||NA,s=t.length-1;for(let a=0;a<s;a++){let c=i(t[a],t[a+1]);if(e){const u=Array.isArray(e)?e[a]||Cr:e;c=sf(u,c)}r.push(c)}return r}function MV(t,e,{clamp:n=!0,ease:r,mixer:i}={}){const s=t.length;if(W_(s===e.length),s===1)return()=>e[0];if(s===2&&e[0]===e[1])return()=>e[1];const a=t[0]===t[1];t[0]>t[s-1]&&(t=[...t].reverse(),e=[...e].reverse());const c=OV(e,r,i),u=c.length,f=h=>{if(a&&h<t[0])return e[0];let g=0;if(u>1)for(;g<t.length-2&&!(h<t[g+1]);g++);const v=Pd(t[g],t[g+1],h);return c[g](v)};return n?h=>f(gs(t[0],t[s-1],h)):f}function DV(t,e){const n=t[t.length-1];for(let r=1;r<=e;r++){const i=Pd(0,e,r);t.push(gt(n,1,i))}}function LV(t){const e=[0];return DV(e,t.length-1),e}function jV(t,e){return t.map(n=>n*e)}function FV(t,e){return t.map(()=>e||bA).splice(0,t.length-1)}function ed({duration:t=300,keyframes:e,times:n,ease:r="easeInOut"}){const i=YU(r)?r.map(sC):sC(r),s={done:!1,value:e[0]},a=jV(n&&n.length===e.length?n:LV(e),t),c=MV(a,e,{ease:Array.isArray(i)?i:FV(e,i)});return{calculatedDuration:t,next:u=>(s.value=c(u),s.done=u>=t,s)}}const $V=t=>t!==null;function nx(t,{repeat:e,repeatType:n="loop"},r,i=1){const s=t.filter($V),c=i<0||e&&n!=="loop"&&e%2===1?0:s.length-1;return!c||r===void 0?s[c]:r}const UV={decay:D0,inertia:D0,tween:ed,keyframes:ed,spring:Kp};function DA(t){typeof t.type=="string"&&(t.type=UV[t.type])}class rx{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,n){return this.finished.then(e,n)}}const VV=t=>t/100;class ix extends rx{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=(n=!0)=>{if(n){const{motionValue:r}=this.options;r&&r.updatedAt!==qn.now()&&this.tick(qn.now())}this.isStopped=!0,this.state!=="idle"&&(this.teardown(),this.options.onStop?.())},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;DA(e);const{type:n=ed,repeat:r=0,repeatDelay:i=0,repeatType:s,velocity:a=0}=e;let{keyframes:c}=e;const u=n||ed;u!==ed&&typeof c[0]!="number"&&(this.mixKeyframes=sf(VV,NA(c[0],c[1])),c=[0,100]);const f=u({...e,keyframes:c});s==="mirror"&&(this.mirroredGenerator=u({...e,keyframes:[...c].reverse(),velocity:-a})),f.calculatedDuration===null&&(f.calculatedDuration=tx(f));const{calculatedDuration:h}=f;this.calculatedDuration=h,this.resolvedDuration=h+i,this.totalDuration=this.resolvedDuration*(r+1)-i,this.generator=f}updateTime(e){const n=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(e,n=!1){const{generator:r,totalDuration:i,mixKeyframes:s,mirroredGenerator:a,resolvedDuration:c,calculatedDuration:u}=this;if(this.startTime===null)return r.next(0);const{delay:f=0,keyframes:h,repeat:g,repeatType:v,repeatDelay:x,type:_,onUpdate:T,finalKeyframe:I}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-i/this.speed,this.startTime)),n?this.currentTime=e:this.updateTime(e);const R=this.currentTime-f*(this.playbackSpeed>=0?1:-1),P=this.playbackSpeed>=0?R<0:R>i;this.currentTime=Math.max(R,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=i);let k=this.currentTime,j=r;if(g){const N=Math.min(this.currentTime,i)/c;let O=Math.floor(N),b=N%1;!b&&N>=1&&(b=1),b===1&&O--,O=Math.min(O,g+1),!!(O%2)&&(v==="reverse"?(b=1-b,x&&(b-=x/c)):v==="mirror"&&(j=a)),k=gs(0,1,b)*c}const $=P?{done:!1,value:h[0]}:j.next(k);s&&($.value=s($.value));let{done:B}=$;!P&&u!==null&&(B=this.playbackSpeed>=0?this.currentTime>=i:this.currentTime<=0);const L=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&B);return L&&_!==D0&&($.value=nx(h,this.options,I,this.speed)),T&&T($.value),L&&this.finish(),$}then(e,n){return this.finished.then(e,n)}get duration(){return Ti(this.calculatedDuration)}get time(){return Ti(this.currentTime)}set time(e){e=Ci(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(qn.now());const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=Ti(this.currentTime))}play(){if(this.isStopped)return;const{driver:e=SV,startTime:n}=this.options;this.driver||(this.driver=e(i=>this.tick(i))),this.options.onPlay?.();const r=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=r):this.holdTime!==null?this.startTime=r-this.holdTime:this.startTime||(this.startTime=n??r),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(qn.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state="finished",this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),this.driver?.stop(),e.observe(this)}}function BV(t){for(let e=1;e<t.length;e++)t[e]??(t[e]=t[e-1])}const ha=t=>t*180/Math.PI,L0=t=>{const e=ha(Math.atan2(t[1],t[0]));return j0(e)},zV={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:L0,rotateZ:L0,skewX:t=>ha(Math.atan(t[1])),skewY:t=>ha(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},j0=t=>(t=t%360,t<0&&(t+=360),t),fC=L0,hC=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),pC=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),HV={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:hC,scaleY:pC,scale:t=>(hC(t)+pC(t))/2,rotateX:t=>j0(ha(Math.atan2(t[6],t[5]))),rotateY:t=>j0(ha(Math.atan2(-t[2],t[0]))),rotateZ:fC,rotate:fC,skewX:t=>ha(Math.atan(t[4])),skewY:t=>ha(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function F0(t){return t.includes("scale")?1:0}function $0(t,e){if(!t||t==="none")return F0(e);const n=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let r,i;if(n)r=HV,i=n;else{const c=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);r=zV,i=c}if(!i)return F0(e);const s=r[e],a=i[1].split(",").map(qV);return typeof s=="function"?s(a):a[s]}const WV=(t,e)=>{const{transform:n="none"}=getComputedStyle(t);return $0(n,e)};function qV(t){return parseFloat(t.trim())}const Sc=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Cc=new Set(Sc),mC=t=>t===Ec||t===Ne,GV=new Set(["x","y","z"]),KV=Sc.filter(t=>!GV.has(t));function YV(t){const e=[];return KV.forEach(n=>{const r=t.getValue(n);r!==void 0&&(e.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),e}const ya={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:(t,{transform:e})=>$0(e,"x"),y:(t,{transform:e})=>$0(e,"y")};ya.translateX=ya.x;ya.translateY=ya.y;const wa=new Set;let U0=!1,V0=!1,B0=!1;function LA(){if(V0){const t=Array.from(wa).filter(r=>r.needsMeasurement),e=new Set(t.map(r=>r.element)),n=new Map;e.forEach(r=>{const i=YV(r);i.length&&(n.set(r,i),r.render())}),t.forEach(r=>r.measureInitialState()),e.forEach(r=>{r.render();const i=n.get(r);i&&i.forEach(([s,a])=>{r.getValue(s)?.set(a)})}),t.forEach(r=>r.measureEndState()),t.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}V0=!1,U0=!1,wa.forEach(t=>t.complete(B0)),wa.clear()}function jA(){wa.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(V0=!0)})}function XV(){B0=!0,jA(),LA(),B0=!1}class sx{constructor(e,n,r,i,s,a=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=r,this.motionValue=i,this.element=s,this.isAsync=a}scheduleResolve(){this.state="scheduled",this.isAsync?(wa.add(this),U0||(U0=!0,yt.read(jA),yt.resolveKeyframes(LA))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:r,motionValue:i}=this;if(e[0]===null){const s=i?.get(),a=e[e.length-1];if(s!==void 0)e[0]=s;else if(r&&n){const c=r.readValue(n,a);c!=null&&(e[0]=c)}e[0]===void 0&&(e[0]=a),i&&s===void 0&&i.set(e[0])}BV(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),wa.delete(this)}cancel(){this.state==="scheduled"&&(wa.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const JV=t=>t.startsWith("--");function QV(t,e,n){JV(e)?t.style.setProperty(e,n):t.style[e]=n}const ZV=q_(()=>window.ScrollTimeline!==void 0),eB={};function tB(t,e){const n=q_(t);return()=>eB[e]??n()}const FA=tB(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Lu=([t,e,n,r])=>`cubic-bezier(${t}, ${e}, ${n}, ${r})`,gC={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Lu([0,.65,.55,1]),circOut:Lu([.55,0,1,.45]),backIn:Lu([.31,.01,.66,-.59]),backOut:Lu([.33,1.53,.69,.99])};function $A(t,e){if(t)return typeof t=="function"?FA()?OA(t,e):"ease-out":EA(t)?Lu(t):Array.isArray(t)?t.map(n=>$A(n,e)||gC.easeOut):gC[t]}function nB(t,e,n,{delay:r=0,duration:i=300,repeat:s=0,repeatType:a="loop",ease:c="easeOut",times:u}={},f=void 0){const h={[e]:n};u&&(h.offset=u);const g=$A(c,i);Array.isArray(g)&&(h.easing=g);const v={delay:r,duration:i,easing:Array.isArray(g)?"linear":g,fill:"both",iterations:s+1,direction:a==="reverse"?"alternate":"normal"};return f&&(v.pseudoElement=f),t.animate(h,v)}function UA(t){return typeof t=="function"&&"applyToOptions"in t}function rB({type:t,...e}){return UA(t)&&FA()?t.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class iB extends rx{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,!e)return;const{element:n,name:r,keyframes:i,pseudoElement:s,allowFlatten:a=!1,finalKeyframe:c,onComplete:u}=e;this.isPseudoElement=!!s,this.allowFlatten=a,this.options=e,W_(typeof e.type!="string");const f=rB(e);this.animation=nB(n,r,i,f,s),f.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!s){const h=nx(i,this.options,c,this.speed);this.updateMotionValue?this.updateMotionValue(h):QV(n,r,h),this.animation.cancel()}u?.(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){this.isPseudoElement||this.animation.commitStyles?.()}get duration(){const e=this.animation.effect?.getComputedTiming?.().duration||0;return Ti(Number(e))}get time(){return Ti(Number(this.animation.currentTime)||0)}set time(e){this.finishedTime=null,this.animation.currentTime=Ci(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(e){this.animation.startTime=e}attachTimeline({timeline:e,observe:n}){return this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,e&&ZV()?(this.animation.timeline=e,Cr):n(this)}}const VA={anticipate:wA,backInOut:yA,circInOut:xA};function sB(t){return t in VA}function oB(t){typeof t.ease=="string"&&sB(t.ease)&&(t.ease=VA[t.ease])}const vC=10;class aB extends iB{constructor(e){oB(e),DA(e),super(e),e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:n,onUpdate:r,onComplete:i,element:s,...a}=this.options;if(!n)return;if(e!==void 0){n.set(e);return}const c=new ix({...a,autoplay:!1}),u=Ci(this.finishedTime??this.time);n.setWithVelocity(c.sample(u-vC).value,c.sample(u).value,vC),c.stop()}}const yC=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(bo.test(t)||t==="0")&&!t.startsWith("url("));function lB(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function cB(t,e,n,r){const i=t[0];if(i===null)return!1;if(e==="display"||e==="visibility")return!0;const s=t[t.length-1],a=yC(i,e),c=yC(s,e);return!a||!c?!1:lB(t)||(n==="spring"||UA(n))&&r}function ox(t){return dA(t)&&"offsetHeight"in t}const uB=new Set(["opacity","clipPath","filter","transform"]),dB=q_(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function fB(t){const{motionValue:e,name:n,repeatDelay:r,repeatType:i,damping:s,type:a}=t;if(!ox(e?.owner?.current))return!1;const{onUpdate:c,transformTemplate:u}=e.owner.getProps();return dB()&&n&&uB.has(n)&&(n!=="transform"||!u)&&!c&&!r&&i!=="mirror"&&s!==0&&a!=="inertia"}const hB=40;class pB extends rx{constructor({autoplay:e=!0,delay:n=0,type:r="keyframes",repeat:i=0,repeatDelay:s=0,repeatType:a="loop",keyframes:c,name:u,motionValue:f,element:h,...g}){super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=qn.now();const v={autoplay:e,delay:n,type:r,repeat:i,repeatDelay:s,repeatType:a,name:u,motionValue:f,element:h,...g},x=h?.KeyframeResolver||sx;this.keyframeResolver=new x(c,(_,T,I)=>this.onKeyframesResolved(_,T,v,!I),u,f,h),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(e,n,r,i){this.keyframeResolver=void 0;const{name:s,type:a,velocity:c,delay:u,isHandoff:f,onUpdate:h}=r;this.resolvedAt=qn.now(),cB(e,s,a,c)||((vs.instantAnimations||!u)&&h?.(nx(e,r,n)),e[0]=e[e.length-1],r.duration=0,r.repeat=0);const v={startTime:i?this.resolvedAt?this.resolvedAt-this.createdAt>hB?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...r,keyframes:e},x=!f&&fB(v)?new aB({...v,element:v.motionValue.owner.current}):new ix(v);x.finished.then(()=>this.notifyFinished()).catch(Cr),this.pendingTimeline&&(this.stopTimeline=x.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=x}get finished(){return this._animation?this.animation.finished:this._finished}then(e,n){return this.finished.finally(e).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),XV()),this._animation}get duration(){return this.animation.duration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}}const mB=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function gB(t){const e=mB.exec(t);if(!e)return[,];const[,n,r,i]=e;return[`--${n??r}`,i]}function BA(t,e,n=1){const[r,i]=gB(t);if(!r)return;const s=window.getComputedStyle(e).getPropertyValue(r);if(s){const a=s.trim();return uA(a)?parseFloat(a):a}return J_(i)?BA(i,e,n+1):i}function ax(t,e){return t?.[e]??t?.default??t}const zA=new Set(["width","height","top","left","right","bottom",...Sc]),vB={test:t=>t==="auto",parse:t=>t},HA=t=>e=>e.test(t),WA=[Ec,Ne,ki,Zs,lV,aV,vB],wC=t=>WA.find(HA(t));function yB(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||fA(t):!0}const wB=new Set(["brightness","contrast","saturate","opacity"]);function _B(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[r]=n.match(Q_)||[];if(!r)return t;const i=n.replace(r,"");let s=wB.has(e)?1:0;return r!==n&&(s*=100),e+"("+s+i+")"}const xB=/\b([a-z-]*)\(.*?\)/gu,z0={...bo,getAnimatableNone:t=>{const e=t.match(xB);return e?e.map(_B).join(" "):t}},_C={...Ec,transform:Math.round},bB={rotate:Zs,rotateX:Zs,rotateY:Zs,rotateZ:Zs,scale:Uh,scaleX:Uh,scaleY:Uh,scaleZ:Uh,skew:Zs,skewX:Zs,skewY:Zs,distance:Ne,translateX:Ne,translateY:Ne,translateZ:Ne,x:Ne,y:Ne,z:Ne,perspective:Ne,transformPerspective:Ne,opacity:Id,originX:aC,originY:aC,originZ:Ne},lx={borderWidth:Ne,borderTopWidth:Ne,borderRightWidth:Ne,borderBottomWidth:Ne,borderLeftWidth:Ne,borderRadius:Ne,radius:Ne,borderTopLeftRadius:Ne,borderTopRightRadius:Ne,borderBottomRightRadius:Ne,borderBottomLeftRadius:Ne,width:Ne,maxWidth:Ne,height:Ne,maxHeight:Ne,top:Ne,right:Ne,bottom:Ne,left:Ne,padding:Ne,paddingTop:Ne,paddingRight:Ne,paddingBottom:Ne,paddingLeft:Ne,margin:Ne,marginTop:Ne,marginRight:Ne,marginBottom:Ne,marginLeft:Ne,backgroundPositionX:Ne,backgroundPositionY:Ne,...bB,zIndex:_C,fillOpacity:Id,strokeOpacity:Id,numOctaves:_C},EB={...lx,color:mn,backgroundColor:mn,outlineColor:mn,fill:mn,stroke:mn,borderColor:mn,borderTopColor:mn,borderRightColor:mn,borderBottomColor:mn,borderLeftColor:mn,filter:z0,WebkitFilter:z0},qA=t=>EB[t];function GA(t,e){let n=qA(t);return n!==z0&&(n=bo),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const SB=new Set(["auto","none","0"]);function CB(t,e,n){let r=0,i;for(;r<t.length&&!i;){const s=t[r];typeof s=="string"&&!SB.has(s)&&Ad(s).values.length&&(i=t[r]),r++}if(i&&n)for(const s of e)t[s]=GA(n,i)}class TB extends sx{constructor(e,n,r,i,s){super(e,n,r,i,s,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let u=0;u<e.length;u++){let f=e[u];if(typeof f=="string"&&(f=f.trim(),J_(f))){const h=BA(f,n.current);h!==void 0&&(e[u]=h),u===e.length-1&&(this.finalKeyframe=f)}}if(this.resolveNoneKeyframes(),!zA.has(r)||e.length!==2)return;const[i,s]=e,a=wC(i),c=wC(s);if(a!==c)if(mC(a)&&mC(c))for(let u=0;u<e.length;u++){const f=e[u];typeof f=="string"&&(e[u]=parseFloat(f))}else ya[r]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,r=[];for(let i=0;i<e.length;i++)(e[i]===null||yB(e[i]))&&r.push(i);r.length&&CB(e,r,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:r}=this;if(!e||!e.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=ya[r](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const i=n[n.length-1];i!==void 0&&e.getValue(r,i).jump(i,!1)}measureEndState(){const{element:e,name:n,unresolvedKeyframes:r}=this;if(!e||!e.current)return;const i=e.getValue(n);i&&i.jump(this.measuredOrigin,!1);const s=r.length-1,a=r[s];r[s]=ya[n](e.measureViewportBox(),window.getComputedStyle(e.current)),a!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=a),this.removedTransforms?.length&&this.removedTransforms.forEach(([c,u])=>{e.getValue(c).set(u)}),this.resolveNoneKeyframes()}}function kB(t,e,n){if(t instanceof EventTarget)return[t];if(typeof t=="string"){let r=document;const i=n?.[t]??r.querySelectorAll(t);return i?Array.from(i):[]}return Array.from(t)}const xC=30,PB=t=>!isNaN(parseFloat(t));class IB{constructor(e,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=(r,i=!0)=>{const s=qn.now();if(this.updatedAt!==s&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(const a of this.dependents)a.dirty();i&&this.events.renderRequest?.notify(this.current)},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=qn.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=PB(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new G_);const r=this.events[e].add(n);return e==="change"?()=>{r(),yt.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e,n=!0){!n||!this.passiveEffect?this.updateAndNotify(e,n):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-r}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=qn.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>xC)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,xC);return hA(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function oc(t,e){return new IB(t,e)}const KA=(t,e)=>e&&typeof t=="number"?e.transform(t):t,{schedule:cx}=SA(queueMicrotask,!1),Gr={x:!1,y:!1};function YA(){return Gr.x||Gr.y}function AB(t){return t==="x"||t==="y"?Gr[t]?null:(Gr[t]=!0,()=>{Gr[t]=!1}):Gr.x||Gr.y?null:(Gr.x=Gr.y=!0,()=>{Gr.x=Gr.y=!1})}function XA(t,e){const n=kB(t),r=new AbortController,i={passive:!0,...e,signal:r.signal};return[n,i,()=>r.abort()]}function bC(t){return!(t.pointerType==="touch"||YA())}function RB(t,e,n={}){const[r,i,s]=XA(t,n),a=c=>{if(!bC(c))return;const{target:u}=c,f=e(u,c);if(typeof f!="function"||!u)return;const h=g=>{bC(g)&&(f(g),u.removeEventListener("pointerleave",h))};u.addEventListener("pointerleave",h,i)};return r.forEach(c=>{c.addEventListener("pointerenter",a,i)}),s}const JA=(t,e)=>e?t===e?!0:JA(t,e.parentElement):!1,ux=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,NB=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function OB(t){return NB.has(t.tagName)||t.tabIndex!==-1}const ap=new WeakSet;function EC(t){return e=>{e.key==="Enter"&&t(e)}}function gy(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const MB=(t,e)=>{const n=t.currentTarget;if(!n)return;const r=EC(()=>{if(ap.has(n))return;gy(n,"down");const i=EC(()=>{gy(n,"up")}),s=()=>gy(n,"cancel");n.addEventListener("keyup",i,e),n.addEventListener("blur",s,e)});n.addEventListener("keydown",r,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),e)};function SC(t){return ux(t)&&!YA()}function DB(t,e,n={}){const[r,i,s]=XA(t,n),a=c=>{const u=c.currentTarget;if(!SC(c))return;ap.add(u);const f=e(u,c),h=(x,_)=>{window.removeEventListener("pointerup",g),window.removeEventListener("pointercancel",v),ap.has(u)&&ap.delete(u),SC(x)&&typeof f=="function"&&f(x,{success:_})},g=x=>{h(x,u===window||u===document||n.useGlobalTarget||JA(u,x.target))},v=x=>{h(x,!1)};window.addEventListener("pointerup",g,i),window.addEventListener("pointercancel",v,i)};return r.forEach(c=>{(n.useGlobalTarget?window:c).addEventListener("pointerdown",a,i),ox(c)&&(c.addEventListener("focus",f=>MB(f,i)),!OB(c)&&!c.hasAttribute("tabindex")&&(c.tabIndex=0))}),s}function QA(t){return dA(t)&&"ownerSVGElement"in t}function LB(t){return QA(t)&&t.tagName==="svg"}const vn=t=>!!(t&&t.getVelocity),jB=[...WA,mn,bo],FB=t=>jB.find(HA(t)),dx=C.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});class $B extends C.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const r=n.offsetParent,i=ox(r)&&r.offsetWidth||0,s=this.props.sizeRef.current;s.height=n.offsetHeight||0,s.width=n.offsetWidth||0,s.top=n.offsetTop,s.left=n.offsetLeft,s.right=i-s.width-s.left}return null}componentDidUpdate(){}render(){return this.props.children}}function UB({children:t,isPresent:e,anchorX:n}){const r=C.useId(),i=C.useRef(null),s=C.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:a}=C.useContext(dx);return C.useInsertionEffect(()=>{const{width:c,height:u,top:f,left:h,right:g}=s.current;if(e||!i.current||!c||!u)return;const v=n==="left"?`left: ${h}`:`right: ${g}`;i.current.dataset.motionPopId=r;const x=document.createElement("style");return a&&(x.nonce=a),document.head.appendChild(x),x.sheet&&x.sheet.insertRule(`
          [data-motion-pop-id="${r}"] {
            position: absolute !important;
            width: ${c}px !important;
            height: ${u}px !important;
            ${v}px !important;
            top: ${f}px !important;
          }
        `),()=>{document.head.contains(x)&&document.head.removeChild(x)}},[e]),w.jsx($B,{isPresent:e,childRef:i,sizeRef:s,children:C.cloneElement(t,{ref:i})})}const VB=({children:t,initial:e,isPresent:n,onExitComplete:r,custom:i,presenceAffectsLayout:s,mode:a,anchorX:c})=>{const u=V_(BB),f=C.useId();let h=!0,g=C.useMemo(()=>(h=!1,{id:f,initial:e,isPresent:n,custom:i,onExitComplete:v=>{u.set(v,!0);for(const x of u.values())if(!x)return;r&&r()},register:v=>(u.set(v,!1),()=>u.delete(v))}),[n,u,r]);return s&&h&&(g={...g}),C.useMemo(()=>{u.forEach((v,x)=>u.set(x,!1))},[n]),C.useEffect(()=>{!n&&!u.size&&r&&r()},[n]),a==="popLayout"&&(t=w.jsx(UB,{isPresent:n,anchorX:c,children:t})),w.jsx(Lm.Provider,{value:g,children:t})};function BB(){return new Map}function ZA(t=!0){const e=C.useContext(Lm);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:r,register:i}=e,s=C.useId();C.useEffect(()=>{if(t)return i(s)},[t]);const a=C.useCallback(()=>t&&r&&r(s),[s,r,t]);return!n&&r?[!1,a]:[!0]}const Vh=t=>t.key||"";function CC(t){const e=[];return C.Children.forEach(t,n=>{C.isValidElement(n)&&e.push(n)}),e}const zB=({children:t,custom:e,initial:n=!0,onExitComplete:r,presenceAffectsLayout:i=!0,mode:s="sync",propagate:a=!1,anchorX:c="left"})=>{const[u,f]=ZA(a),h=C.useMemo(()=>CC(t),[t]),g=a&&!u?[]:h.map(Vh),v=C.useRef(!0),x=C.useRef(h),_=V_(()=>new Map),[T,I]=C.useState(h),[R,P]=C.useState(h);cA(()=>{v.current=!1,x.current=h;for(let $=0;$<R.length;$++){const B=Vh(R[$]);g.includes(B)?_.delete(B):_.get(B)!==!0&&_.set(B,!1)}},[R,g.length,g.join("-")]);const k=[];if(h!==T){let $=[...h];for(let B=0;B<R.length;B++){const L=R[B],N=Vh(L);g.includes(N)||($.splice(B,0,L),k.push(L))}return s==="wait"&&k.length&&($=k),P(CC($)),I(h),null}const{forceRender:j}=C.useContext(U_);return w.jsx(w.Fragment,{children:R.map($=>{const B=Vh($),L=a&&!u?!1:h===R||g.includes(B),N=()=>{if(_.has(B))_.set(B,!0);else return;let O=!0;_.forEach(b=>{b||(O=!1)}),O&&(j?.(),P(x.current),a&&f?.(),r&&r())};return w.jsx(VB,{isPresent:L,initial:!v.current||n?void 0:!1,custom:e,presenceAffectsLayout:i,mode:s,onExitComplete:L?void 0:N,anchorX:c,children:$},B)})})},eR=C.createContext({strict:!1}),TC={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},ac={};for(const t in TC)ac[t]={isEnabled:e=>TC[t].some(n=>!!e[n])};function HB(t){for(const e in t)ac[e]={...ac[e],...t[e]}}const WB=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Yp(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||WB.has(t)}let tR=t=>!Yp(t);function qB(t){t&&(tR=e=>e.startsWith("on")?!Yp(e):t(e))}try{qB(require("@emotion/is-prop-valid").default)}catch{}function GB(t,e,n){const r={};for(const i in t)i==="values"&&typeof t.values=="object"||(tR(i)||n===!0&&Yp(i)||!e&&!Yp(i)||t.draggable&&i.startsWith("onDrag"))&&(r[i]=t[i]);return r}function KB(t){if(typeof Proxy>"u")return t;const e=new Map,n=(...r)=>t(...r);return new Proxy(n,{get:(r,i)=>i==="create"?t:(e.has(i)||e.set(i,t(i)),e.get(i))})}const jm=C.createContext({});function Fm(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function Rd(t){return typeof t=="string"||Array.isArray(t)}const fx=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],hx=["initial",...fx];function $m(t){return Fm(t.animate)||hx.some(e=>Rd(t[e]))}function nR(t){return!!($m(t)||t.variants)}function YB(t,e){if($m(t)){const{initial:n,animate:r}=t;return{initial:n===!1||Rd(n)?n:void 0,animate:Rd(r)?r:void 0}}return t.inherit!==!1?e:{}}function XB(t){const{initial:e,animate:n}=YB(t,C.useContext(jm));return C.useMemo(()=>({initial:e,animate:n}),[kC(e),kC(n)])}function kC(t){return Array.isArray(t)?t.join(" "):t}const JB=Symbol.for("motionComponentSymbol");function Bl(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function QB(t,e,n){return C.useCallback(r=>{r&&t.onMount&&t.onMount(r),e&&(r?e.mount(r):e.unmount()),n&&(typeof n=="function"?n(r):Bl(n)&&(n.current=r))},[e])}const px=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),ZB="framerAppearId",rR="data-"+px(ZB),iR=C.createContext({});function ez(t,e,n,r,i){const{visualElement:s}=C.useContext(jm),a=C.useContext(eR),c=C.useContext(Lm),u=C.useContext(dx).reducedMotion,f=C.useRef(null);r=r||a.renderer,!f.current&&r&&(f.current=r(t,{visualState:e,parent:s,props:n,presenceContext:c,blockInitialAnimation:c?c.initial===!1:!1,reducedMotionConfig:u}));const h=f.current,g=C.useContext(iR);h&&!h.projection&&i&&(h.type==="html"||h.type==="svg")&&tz(f.current,n,i,g);const v=C.useRef(!1);C.useInsertionEffect(()=>{h&&v.current&&h.update(n,c)});const x=n[rR],_=C.useRef(!!x&&!window.MotionHandoffIsComplete?.(x)&&window.MotionHasOptimisedAnimation?.(x));return cA(()=>{h&&(v.current=!0,window.MotionIsMounted=!0,h.updateFeatures(),cx.render(h.render),_.current&&h.animationState&&h.animationState.animateChanges())}),C.useEffect(()=>{h&&(!_.current&&h.animationState&&h.animationState.animateChanges(),_.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(x)}),_.current=!1))}),h}function tz(t,e,n,r){const{layoutId:i,layout:s,drag:a,dragConstraints:c,layoutScroll:u,layoutRoot:f,layoutCrossfade:h}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:sR(t.parent)),t.projection.setOptions({layoutId:i,layout:s,alwaysMeasureLayout:!!a||c&&Bl(c),visualElement:t,animationType:typeof s=="string"?s:"both",initialPromotionConfig:r,crossfade:h,layoutScroll:u,layoutRoot:f})}function sR(t){if(t)return t.options.allowProjection!==!1?t.projection:sR(t.parent)}function nz({preloadedFeatures:t,createVisualElement:e,useRender:n,useVisualState:r,Component:i}){t&&HB(t);function s(c,u){let f;const h={...C.useContext(dx),...c,layoutId:rz(c)},{isStatic:g}=h,v=XB(c),x=r(c,g);if(!g&&B_){iz();const _=sz(h);f=_.MeasureLayout,v.visualElement=ez(i,x,h,e,_.ProjectionNode)}return w.jsxs(jm.Provider,{value:v,children:[f&&v.visualElement?w.jsx(f,{visualElement:v.visualElement,...h}):null,n(i,c,QB(x,v.visualElement,u),x,g,v.visualElement)]})}s.displayName=`motion.${typeof i=="string"?i:`create(${i.displayName??i.name??""})`}`;const a=C.forwardRef(s);return a[JB]=i,a}function rz({layoutId:t}){const e=C.useContext(U_).id;return e&&t!==void 0?e+"-"+t:t}function iz(t,e){C.useContext(eR).strict}function sz(t){const{drag:e,layout:n}=ac;if(!e&&!n)return{};const r={...e,...n};return{MeasureLayout:e?.isEnabled(t)||n?.isEnabled(t)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}const Nd={};function oz(t){for(const e in t)Nd[e]=t[e],X_(e)&&(Nd[e].isCSSVariable=!0)}function oR(t,{layout:e,layoutId:n}){return Cc.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!Nd[t]||t==="opacity")}const az={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},lz=Sc.length;function cz(t,e,n){let r="",i=!0;for(let s=0;s<lz;s++){const a=Sc[s],c=t[a];if(c===void 0)continue;let u=!0;if(typeof c=="number"?u=c===(a.startsWith("scale")?1:0):u=parseFloat(c)===0,!u||n){const f=KA(c,lx[a]);if(!u){i=!1;const h=az[a]||a;r+=`${h}(${f}) `}n&&(e[a]=f)}}return r=r.trim(),n?r=n(e,i?"":r):i&&(r="none"),r}function mx(t,e,n){const{style:r,vars:i,transformOrigin:s}=t;let a=!1,c=!1;for(const u in e){const f=e[u];if(Cc.has(u)){a=!0;continue}else if(X_(u)){i[u]=f;continue}else{const h=KA(f,lx[u]);u.startsWith("origin")?(c=!0,s[u]=h):r[u]=h}}if(e.transform||(a||n?r.transform=cz(e,t.transform,n):r.transform&&(r.transform="none")),c){const{originX:u="50%",originY:f="50%",originZ:h=0}=s;r.transformOrigin=`${u} ${f} ${h}`}}const gx=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function aR(t,e,n){for(const r in e)!vn(e[r])&&!oR(r,n)&&(t[r]=e[r])}function uz({transformTemplate:t},e){return C.useMemo(()=>{const n=gx();return mx(n,e,t),Object.assign({},n.vars,n.style)},[e])}function dz(t,e){const n=t.style||{},r={};return aR(r,n,t),Object.assign(r,uz(t,e)),r}function fz(t,e){const n={},r=dz(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=r,n}const hz={offset:"stroke-dashoffset",array:"stroke-dasharray"},pz={offset:"strokeDashoffset",array:"strokeDasharray"};function mz(t,e,n=1,r=0,i=!0){t.pathLength=1;const s=i?hz:pz;t[s.offset]=Ne.transform(-r);const a=Ne.transform(e),c=Ne.transform(n);t[s.array]=`${a} ${c}`}function lR(t,{attrX:e,attrY:n,attrScale:r,pathLength:i,pathSpacing:s=1,pathOffset:a=0,...c},u,f,h){if(mx(t,c,f),u){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:g,style:v}=t;g.transform&&(v.transform=g.transform,delete g.transform),(v.transform||g.transformOrigin)&&(v.transformOrigin=g.transformOrigin??"50% 50%",delete g.transformOrigin),v.transform&&(v.transformBox=h?.transformBox??"fill-box",delete g.transformBox),e!==void 0&&(g.x=e),n!==void 0&&(g.y=n),r!==void 0&&(g.scale=r),i!==void 0&&mz(g,i,s,a,!1)}const cR=()=>({...gx(),attrs:{}}),uR=t=>typeof t=="string"&&t.toLowerCase()==="svg";function gz(t,e,n,r){const i=C.useMemo(()=>{const s=cR();return lR(s,e,uR(r),t.transformTemplate,t.style),{...s.attrs,style:{...s.style}}},[e]);if(t.style){const s={};aR(s,t.style,t),i.style={...s,...i.style}}return i}const vz=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function vx(t){return typeof t!="string"||t.includes("-")?!1:!!(vz.indexOf(t)>-1||/[A-Z]/u.test(t))}function yz(t=!1){return(n,r,i,{latestValues:s},a)=>{const u=(vx(n)?gz:fz)(r,s,a,n),f=GB(r,typeof n=="string",t),h=n!==C.Fragment?{...f,...u,ref:i}:{},{children:g}=r,v=C.useMemo(()=>vn(g)?g.get():g,[g]);return C.createElement(n,{...h,children:v})}}function PC(t){const e=[{},{}];return t?.values.forEach((n,r)=>{e[0][r]=n.get(),e[1][r]=n.getVelocity()}),e}function yx(t,e,n,r){if(typeof e=="function"){const[i,s]=PC(r);e=e(n!==void 0?n:t.custom,i,s)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[i,s]=PC(r);e=e(n!==void 0?n:t.custom,i,s)}return e}function lp(t){return vn(t)?t.get():t}function wz({scrapeMotionValuesFromProps:t,createRenderState:e},n,r,i){return{latestValues:_z(n,r,i,t),renderState:e()}}const dR=t=>(e,n)=>{const r=C.useContext(jm),i=C.useContext(Lm),s=()=>wz(t,e,r,i);return n?s():V_(s)};function _z(t,e,n,r){const i={},s=r(t,{});for(const v in s)i[v]=lp(s[v]);let{initial:a,animate:c}=t;const u=$m(t),f=nR(t);e&&f&&!u&&t.inherit!==!1&&(a===void 0&&(a=e.initial),c===void 0&&(c=e.animate));let h=n?n.initial===!1:!1;h=h||a===!1;const g=h?c:a;if(g&&typeof g!="boolean"&&!Fm(g)){const v=Array.isArray(g)?g:[g];for(let x=0;x<v.length;x++){const _=yx(t,v[x]);if(_){const{transitionEnd:T,transition:I,...R}=_;for(const P in R){let k=R[P];if(Array.isArray(k)){const j=h?k.length-1:0;k=k[j]}k!==null&&(i[P]=k)}for(const P in T)i[P]=T[P]}}}return i}function wx(t,e,n){const{style:r}=t,i={};for(const s in r)(vn(r[s])||e.style&&vn(e.style[s])||oR(s,t)||n?.getValue(s)?.liveStyle!==void 0)&&(i[s]=r[s]);return i}const xz={useVisualState:dR({scrapeMotionValuesFromProps:wx,createRenderState:gx})};function fR(t,e,n){const r=wx(t,e,n);for(const i in t)if(vn(t[i])||vn(e[i])){const s=Sc.indexOf(i)!==-1?"attr"+i.charAt(0).toUpperCase()+i.substring(1):i;r[s]=t[i]}return r}const bz={useVisualState:dR({scrapeMotionValuesFromProps:fR,createRenderState:cR})};function Ez(t,e){return function(r,{forwardMotionProps:i}={forwardMotionProps:!1}){const a={...vx(r)?bz:xz,preloadedFeatures:t,useRender:yz(i),createVisualElement:e,Component:r};return nz(a)}}function Od(t,e,n){const r=t.getProps();return yx(r,e,n!==void 0?n:r.custom,t)}const H0=t=>Array.isArray(t);function Sz(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,oc(n))}function Cz(t){return H0(t)?t[t.length-1]||0:t}function Tz(t,e){const n=Od(t,e);let{transitionEnd:r={},transition:i={},...s}=n||{};s={...s,...r};for(const a in s){const c=Cz(s[a]);Sz(t,a,c)}}function kz(t){return!!(vn(t)&&t.add)}function W0(t,e){const n=t.getValue("willChange");if(kz(n))return n.add(e);if(!n&&vs.WillChange){const r=new vs.WillChange("auto");t.addValue("willChange",r),r.add(e)}}function hR(t){return t.props[rR]}const Pz=t=>t!==null;function Iz(t,{repeat:e,repeatType:n="loop"},r){const i=t.filter(Pz),s=e&&n!=="loop"&&e%2===1?0:i.length-1;return i[s]}const Az={type:"spring",stiffness:500,damping:25,restSpeed:10},Rz=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),Nz={type:"keyframes",duration:.8},Oz={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},Mz=(t,{keyframes:e})=>e.length>2?Nz:Cc.has(t)?t.startsWith("scale")?Rz(e[1]):Az:Oz;function Dz({when:t,delay:e,delayChildren:n,staggerChildren:r,staggerDirection:i,repeat:s,repeatType:a,repeatDelay:c,from:u,elapsed:f,...h}){return!!Object.keys(h).length}const _x=(t,e,n,r={},i,s)=>a=>{const c=ax(r,t)||{},u=c.delay||r.delay||0;let{elapsed:f=0}=r;f=f-Ci(u);const h={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...c,delay:-f,onUpdate:v=>{e.set(v),c.onUpdate&&c.onUpdate(v)},onComplete:()=>{a(),c.onComplete&&c.onComplete()},name:t,motionValue:e,element:s?void 0:i};Dz(c)||Object.assign(h,Mz(t,h)),h.duration&&(h.duration=Ci(h.duration)),h.repeatDelay&&(h.repeatDelay=Ci(h.repeatDelay)),h.from!==void 0&&(h.keyframes[0]=h.from);let g=!1;if((h.type===!1||h.duration===0&&!h.repeatDelay)&&(h.duration=0,h.delay===0&&(g=!0)),(vs.instantAnimations||vs.skipAnimations)&&(g=!0,h.duration=0,h.delay=0),h.allowFlatten=!c.type&&!c.ease,g&&!s&&e.get()!==void 0){const v=Iz(h.keyframes,c);if(v!==void 0){yt.update(()=>{h.onUpdate(v),h.onComplete()});return}}return c.isSync?new ix(h):new pB(h)};function Lz({protectedKeys:t,needsAnimating:e},n){const r=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,r}function pR(t,e,{delay:n=0,transitionOverride:r,type:i}={}){let{transition:s=t.getDefaultTransition(),transitionEnd:a,...c}=e;r&&(s=r);const u=[],f=i&&t.animationState&&t.animationState.getState()[i];for(const h in c){const g=t.getValue(h,t.latestValues[h]??null),v=c[h];if(v===void 0||f&&Lz(f,h))continue;const x={delay:n,...ax(s||{},h)},_=g.get();if(_!==void 0&&!g.isAnimating&&!Array.isArray(v)&&v===_&&!x.velocity)continue;let T=!1;if(window.MotionHandoffAnimation){const R=hR(t);if(R){const P=window.MotionHandoffAnimation(R,h,yt);P!==null&&(x.startTime=P,T=!0)}}W0(t,h),g.start(_x(h,g,v,t.shouldReduceMotion&&zA.has(h)?{type:!1}:x,t,T));const I=g.animation;I&&u.push(I)}return a&&Promise.all(u).then(()=>{yt.update(()=>{a&&Tz(t,a)})}),u}function q0(t,e,n={}){const r=Od(t,e,n.type==="exit"?t.presenceContext?.custom:void 0);let{transition:i=t.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(i=n.transitionOverride);const s=r?()=>Promise.all(pR(t,r,n)):()=>Promise.resolve(),a=t.variantChildren&&t.variantChildren.size?(u=0)=>{const{delayChildren:f=0,staggerChildren:h,staggerDirection:g}=i;return jz(t,e,f+u,h,g,n)}:()=>Promise.resolve(),{when:c}=i;if(c){const[u,f]=c==="beforeChildren"?[s,a]:[a,s];return u().then(()=>f())}else return Promise.all([s(),a(n.delay)])}function jz(t,e,n=0,r=0,i=1,s){const a=[],c=(t.variantChildren.size-1)*r,u=i===1?(f=0)=>f*r:(f=0)=>c-f*r;return Array.from(t.variantChildren).sort(Fz).forEach((f,h)=>{f.notify("AnimationStart",e),a.push(q0(f,e,{...s,delay:n+u(h)}).then(()=>f.notify("AnimationComplete",e)))}),Promise.all(a)}function Fz(t,e){return t.sortNodePosition(e)}function $z(t,e,n={}){t.notify("AnimationStart",e);let r;if(Array.isArray(e)){const i=e.map(s=>q0(t,s,n));r=Promise.all(i)}else if(typeof e=="string")r=q0(t,e,n);else{const i=typeof e=="function"?Od(t,e,n.custom):e;r=Promise.all(pR(t,i,n))}return r.then(()=>{t.notify("AnimationComplete",e)})}function mR(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}const Uz=hx.length;function gR(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?gR(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<Uz;n++){const r=hx[n],i=t.props[r];(Rd(i)||i===!1)&&(e[r]=i)}return e}const Vz=[...fx].reverse(),Bz=fx.length;function zz(t){return e=>Promise.all(e.map(({animation:n,options:r})=>$z(t,n,r)))}function Hz(t){let e=zz(t),n=IC(),r=!0;const i=u=>(f,h)=>{const g=Od(t,h,u==="exit"?t.presenceContext?.custom:void 0);if(g){const{transition:v,transitionEnd:x,..._}=g;f={...f,..._,...x}}return f};function s(u){e=u(t)}function a(u){const{props:f}=t,h=gR(t.parent)||{},g=[],v=new Set;let x={},_=1/0;for(let I=0;I<Bz;I++){const R=Vz[I],P=n[R],k=f[R]!==void 0?f[R]:h[R],j=Rd(k),$=R===u?P.isActive:null;$===!1&&(_=I);let B=k===h[R]&&k!==f[R]&&j;if(B&&r&&t.manuallyAnimateOnMount&&(B=!1),P.protectedKeys={...x},!P.isActive&&$===null||!k&&!P.prevProp||Fm(k)||typeof k=="boolean")continue;const L=Wz(P.prevProp,k);let N=L||R===u&&P.isActive&&!B&&j||I>_&&j,O=!1;const b=Array.isArray(k)?k:[k];let M=b.reduce(i(R),{});$===!1&&(M={});const{prevResolvedValues:V={}}=P,F={...V,...M},Q=pe=>{N=!0,v.has(pe)&&(O=!0,v.delete(pe)),P.needsAnimating[pe]=!0;const ne=t.getValue(pe);ne&&(ne.liveStyle=!1)};for(const pe in F){const ne=M[pe],se=V[pe];if(x.hasOwnProperty(pe))continue;let le=!1;H0(ne)&&H0(se)?le=!mR(ne,se):le=ne!==se,le?ne!=null?Q(pe):v.add(pe):ne!==void 0&&v.has(pe)?Q(pe):P.protectedKeys[pe]=!0}P.prevProp=k,P.prevResolvedValues=M,P.isActive&&(x={...x,...M}),r&&t.blockInitialAnimation&&(N=!1),N&&(!(B&&L)||O)&&g.push(...b.map(pe=>({animation:pe,options:{type:R}})))}if(v.size){const I={};if(typeof f.initial!="boolean"){const R=Od(t,Array.isArray(f.initial)?f.initial[0]:f.initial);R&&R.transition&&(I.transition=R.transition)}v.forEach(R=>{const P=t.getBaseTarget(R),k=t.getValue(R);k&&(k.liveStyle=!0),I[R]=P??null}),g.push({animation:I})}let T=!!g.length;return r&&(f.initial===!1||f.initial===f.animate)&&!t.manuallyAnimateOnMount&&(T=!1),r=!1,T?e(g):Promise.resolve()}function c(u,f){if(n[u].isActive===f)return Promise.resolve();t.variantChildren?.forEach(g=>g.animationState?.setActive(u,f)),n[u].isActive=f;const h=a(u);for(const g in n)n[g].protectedKeys={};return h}return{animateChanges:a,setActive:c,setAnimateFunction:s,getState:()=>n,reset:()=>{n=IC(),r=!0}}}function Wz(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!mR(e,t):!1}function ea(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function IC(){return{animate:ea(!0),whileInView:ea(),whileHover:ea(),whileTap:ea(),whileDrag:ea(),whileFocus:ea(),exit:ea()}}class ko{constructor(e){this.isMounted=!1,this.node=e}update(){}}class qz extends ko{constructor(e){super(e),e.animationState||(e.animationState=Hz(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();Fm(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}let Gz=0;class Kz extends ko{constructor(){super(...arguments),this.id=Gz++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const i=this.node.animationState.setActive("exit",!e);n&&!e&&i.then(()=>{n(this.id)})}mount(){const{register:e,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const Yz={animation:{Feature:qz},exit:{Feature:Kz}};function Md(t,e,n,r={passive:!0}){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n)}function lf(t){return{point:{x:t.pageX,y:t.pageY}}}const Xz=t=>e=>ux(e)&&t(e,lf(e));function td(t,e,n,r){return Md(t,e,Xz(n),r)}function vR({top:t,left:e,right:n,bottom:r}){return{x:{min:e,max:n},y:{min:t,max:r}}}function Jz({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function Qz(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),r=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}const yR=1e-4,Zz=1-yR,eH=1+yR,wR=.01,tH=0-wR,nH=0+wR;function Pn(t){return t.max-t.min}function rH(t,e,n){return Math.abs(t-e)<=n}function AC(t,e,n,r=.5){t.origin=r,t.originPoint=gt(e.min,e.max,t.origin),t.scale=Pn(n)/Pn(e),t.translate=gt(n.min,n.max,t.origin)-t.originPoint,(t.scale>=Zz&&t.scale<=eH||isNaN(t.scale))&&(t.scale=1),(t.translate>=tH&&t.translate<=nH||isNaN(t.translate))&&(t.translate=0)}function nd(t,e,n,r){AC(t.x,e.x,n.x,r?r.originX:void 0),AC(t.y,e.y,n.y,r?r.originY:void 0)}function RC(t,e,n){t.min=n.min+e.min,t.max=t.min+Pn(e)}function iH(t,e,n){RC(t.x,e.x,n.x),RC(t.y,e.y,n.y)}function NC(t,e,n){t.min=e.min-n.min,t.max=t.min+Pn(e)}function rd(t,e,n){NC(t.x,e.x,n.x),NC(t.y,e.y,n.y)}const OC=()=>({translate:0,scale:1,origin:0,originPoint:0}),zl=()=>({x:OC(),y:OC()}),MC=()=>({min:0,max:0}),It=()=>({x:MC(),y:MC()});function br(t){return[t("x"),t("y")]}function vy(t){return t===void 0||t===1}function G0({scale:t,scaleX:e,scaleY:n}){return!vy(t)||!vy(e)||!vy(n)}function ia(t){return G0(t)||_R(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function _R(t){return DC(t.x)||DC(t.y)}function DC(t){return t&&t!=="0%"}function Xp(t,e,n){const r=t-n,i=e*r;return n+i}function LC(t,e,n,r,i){return i!==void 0&&(t=Xp(t,i,r)),Xp(t,n,r)+e}function K0(t,e=0,n=1,r,i){t.min=LC(t.min,e,n,r,i),t.max=LC(t.max,e,n,r,i)}function xR(t,{x:e,y:n}){K0(t.x,e.translate,e.scale,e.originPoint),K0(t.y,n.translate,n.scale,n.originPoint)}const jC=.999999999999,FC=1.0000000000001;function sH(t,e,n,r=!1){const i=n.length;if(!i)return;e.x=e.y=1;let s,a;for(let c=0;c<i;c++){s=n[c],a=s.projectionDelta;const{visualElement:u}=s.options;u&&u.props.style&&u.props.style.display==="contents"||(r&&s.options.layoutScroll&&s.scroll&&s!==s.root&&Wl(t,{x:-s.scroll.offset.x,y:-s.scroll.offset.y}),a&&(e.x*=a.x.scale,e.y*=a.y.scale,xR(t,a)),r&&ia(s.latestValues)&&Wl(t,s.latestValues))}e.x<FC&&e.x>jC&&(e.x=1),e.y<FC&&e.y>jC&&(e.y=1)}function Hl(t,e){t.min=t.min+e,t.max=t.max+e}function $C(t,e,n,r,i=.5){const s=gt(t.min,t.max,i);K0(t,e,n,s,r)}function Wl(t,e){$C(t.x,e.x,e.scaleX,e.scale,e.originX),$C(t.y,e.y,e.scaleY,e.scale,e.originY)}function bR(t,e){return vR(Qz(t.getBoundingClientRect(),e))}function oH(t,e,n){const r=bR(t,n),{scroll:i}=e;return i&&(Hl(r.x,i.offset.x),Hl(r.y,i.offset.y)),r}const ER=({current:t})=>t?t.ownerDocument.defaultView:null,UC=(t,e)=>Math.abs(t-e);function aH(t,e){const n=UC(t.x,e.x),r=UC(t.y,e.y);return Math.sqrt(n**2+r**2)}class SR{constructor(e,n,{transformPagePoint:r,contextWindow:i,dragSnapToOrigin:s=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const g=wy(this.lastMoveEventInfo,this.history),v=this.startEvent!==null,x=aH(g.offset,{x:0,y:0})>=3;if(!v&&!x)return;const{point:_}=g,{timestamp:T}=on;this.history.push({..._,timestamp:T});const{onStart:I,onMove:R}=this.handlers;v||(I&&I(this.lastMoveEvent,g),this.startEvent=this.lastMoveEvent),R&&R(this.lastMoveEvent,g)},this.handlePointerMove=(g,v)=>{this.lastMoveEvent=g,this.lastMoveEventInfo=yy(v,this.transformPagePoint),yt.update(this.updatePoint,!0)},this.handlePointerUp=(g,v)=>{this.end();const{onEnd:x,onSessionEnd:_,resumeAnimation:T}=this.handlers;if(this.dragSnapToOrigin&&T&&T(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const I=wy(g.type==="pointercancel"?this.lastMoveEventInfo:yy(v,this.transformPagePoint),this.history);this.startEvent&&x&&x(g,I),_&&_(g,I)},!ux(e))return;this.dragSnapToOrigin=s,this.handlers=n,this.transformPagePoint=r,this.contextWindow=i||window;const a=lf(e),c=yy(a,this.transformPagePoint),{point:u}=c,{timestamp:f}=on;this.history=[{...u,timestamp:f}];const{onSessionStart:h}=n;h&&h(e,wy(c,this.history)),this.removeListeners=sf(td(this.contextWindow,"pointermove",this.handlePointerMove),td(this.contextWindow,"pointerup",this.handlePointerUp),td(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),xo(this.updatePoint)}}function yy(t,e){return e?{point:e(t.point)}:t}function VC(t,e){return{x:t.x-e.x,y:t.y-e.y}}function wy({point:t},e){return{point:t,delta:VC(t,CR(e)),offset:VC(t,lH(e)),velocity:cH(e,.1)}}function lH(t){return t[0]}function CR(t){return t[t.length-1]}function cH(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,r=null;const i=CR(t);for(;n>=0&&(r=t[n],!(i.timestamp-r.timestamp>Ci(e)));)n--;if(!r)return{x:0,y:0};const s=Ti(i.timestamp-r.timestamp);if(s===0)return{x:0,y:0};const a={x:(i.x-r.x)/s,y:(i.y-r.y)/s};return a.x===1/0&&(a.x=0),a.y===1/0&&(a.y=0),a}function uH(t,{min:e,max:n},r){return e!==void 0&&t<e?t=r?gt(e,t,r.min):Math.max(t,e):n!==void 0&&t>n&&(t=r?gt(n,t,r.max):Math.min(t,n)),t}function BC(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function dH(t,{top:e,left:n,bottom:r,right:i}){return{x:BC(t.x,n,i),y:BC(t.y,e,r)}}function zC(t,e){let n=e.min-t.min,r=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,r]=[r,n]),{min:n,max:r}}function fH(t,e){return{x:zC(t.x,e.x),y:zC(t.y,e.y)}}function hH(t,e){let n=.5;const r=Pn(t),i=Pn(e);return i>r?n=Pd(e.min,e.max-r,t.min):r>i&&(n=Pd(t.min,t.max-i,e.min)),gs(0,1,n)}function pH(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const Y0=.35;function mH(t=Y0){return t===!1?t=0:t===!0&&(t=Y0),{x:HC(t,"left","right"),y:HC(t,"top","bottom")}}function HC(t,e,n){return{min:WC(t,e),max:WC(t,n)}}function WC(t,e){return typeof t=="number"?t:t[e]||0}const gH=new WeakMap;class vH{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=It(),this.visualElement=e}start(e,{snapToCursor:n=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const i=h=>{const{dragSnapToOrigin:g}=this.getProps();g?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(lf(h).point)},s=(h,g)=>{const{drag:v,dragPropagation:x,onDragStart:_}=this.getProps();if(v&&!x&&(this.openDragLock&&this.openDragLock(),this.openDragLock=AB(v),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),br(I=>{let R=this.getAxisMotionValue(I).get()||0;if(ki.test(R)){const{projection:P}=this.visualElement;if(P&&P.layout){const k=P.layout.layoutBox[I];k&&(R=Pn(k)*(parseFloat(R)/100))}}this.originPoint[I]=R}),_&&yt.postRender(()=>_(h,g)),W0(this.visualElement,"transform");const{animationState:T}=this.visualElement;T&&T.setActive("whileDrag",!0)},a=(h,g)=>{const{dragPropagation:v,dragDirectionLock:x,onDirectionLock:_,onDrag:T}=this.getProps();if(!v&&!this.openDragLock)return;const{offset:I}=g;if(x&&this.currentDirection===null){this.currentDirection=yH(I),this.currentDirection!==null&&_&&_(this.currentDirection);return}this.updateAxis("x",g.point,I),this.updateAxis("y",g.point,I),this.visualElement.render(),T&&T(h,g)},c=(h,g)=>this.stop(h,g),u=()=>br(h=>this.getAnimationState(h)==="paused"&&this.getAxisMotionValue(h).animation?.play()),{dragSnapToOrigin:f}=this.getProps();this.panSession=new SR(e,{onSessionStart:i,onStart:s,onMove:a,onSessionEnd:c,resumeAnimation:u},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:f,contextWindow:ER(this.visualElement)})}stop(e,n){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:i}=n;this.startAnimation(i);const{onDragEnd:s}=this.getProps();s&&yt.postRender(()=>s(e,n))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,r){const{drag:i}=this.getProps();if(!r||!Bh(e,i,this.currentDirection))return;const s=this.getAxisMotionValue(e);let a=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(a=uH(a,this.constraints[e],this.elastic[e])),s.set(a)}resolveConstraints(){const{dragConstraints:e,dragElastic:n}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,i=this.constraints;e&&Bl(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&r?this.constraints=dH(r.layoutBox,e):this.constraints=!1,this.elastic=mH(n),i!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&br(s=>{this.constraints!==!1&&this.getAxisMotionValue(s)&&(this.constraints[s]=pH(r.layoutBox[s],this.constraints[s]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!Bl(e))return!1;const r=e.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const s=oH(r,i.root,this.visualElement.getTransformPagePoint());let a=fH(i.layout.layoutBox,s);if(n){const c=n(Jz(a));this.hasMutatedConstraints=!!c,c&&(a=vR(c))}return a}startAnimation(e){const{drag:n,dragMomentum:r,dragElastic:i,dragTransition:s,dragSnapToOrigin:a,onDragTransitionEnd:c}=this.getProps(),u=this.constraints||{},f=br(h=>{if(!Bh(h,n,this.currentDirection))return;let g=u&&u[h]||{};a&&(g={min:0,max:0});const v=i?200:1e6,x=i?40:1e7,_={type:"inertia",velocity:r?e[h]:0,bounceStiffness:v,bounceDamping:x,timeConstant:750,restDelta:1,restSpeed:10,...s,...g};return this.startAxisValueAnimation(h,_)});return Promise.all(f).then(c)}startAxisValueAnimation(e,n){const r=this.getAxisMotionValue(e);return W0(this.visualElement,e),r.start(_x(e,r,0,n,this.visualElement,!1))}stopAnimation(){br(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){br(e=>this.getAxisMotionValue(e).animation?.pause())}getAnimationState(e){return this.getAxisMotionValue(e).animation?.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,r=this.visualElement.getProps(),i=r[n];return i||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){br(n=>{const{drag:r}=this.getProps();if(!Bh(n,r,this.currentDirection))return;const{projection:i}=this.visualElement,s=this.getAxisMotionValue(n);if(i&&i.layout){const{min:a,max:c}=i.layout.layoutBox[n];s.set(e[n]-gt(a,c,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!Bl(n)||!r||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};br(a=>{const c=this.getAxisMotionValue(a);if(c&&this.constraints!==!1){const u=c.get();i[a]=hH({min:u,max:u},this.constraints[a])}});const{transformTemplate:s}=this.visualElement.getProps();this.visualElement.current.style.transform=s?s({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),br(a=>{if(!Bh(a,e,null))return;const c=this.getAxisMotionValue(a),{min:u,max:f}=this.constraints[a];c.set(gt(u,f,i[a]))})}addListeners(){if(!this.visualElement.current)return;gH.set(this.visualElement,this);const e=this.visualElement.current,n=td(e,"pointerdown",u=>{const{drag:f,dragListener:h=!0}=this.getProps();f&&h&&this.start(u)}),r=()=>{const{dragConstraints:u}=this.getProps();Bl(u)&&u.current&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,s=i.addEventListener("measure",r);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),yt.read(r);const a=Md(window,"resize",()=>this.scalePositionWithinConstraints()),c=i.addEventListener("didUpdate",({delta:u,hasLayoutChanged:f})=>{this.isDragging&&f&&(br(h=>{const g=this.getAxisMotionValue(h);g&&(this.originPoint[h]+=u[h].translate,g.set(g.get()+u[h].translate))}),this.visualElement.render())});return()=>{a(),n(),s(),c&&c()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:i=!1,dragConstraints:s=!1,dragElastic:a=Y0,dragMomentum:c=!0}=e;return{...e,drag:n,dragDirectionLock:r,dragPropagation:i,dragConstraints:s,dragElastic:a,dragMomentum:c}}}function Bh(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function yH(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class wH extends ko{constructor(e){super(e),this.removeGroupControls=Cr,this.removeListeners=Cr,this.controls=new vH(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Cr}unmount(){this.removeGroupControls(),this.removeListeners()}}const qC=t=>(e,n)=>{t&&yt.postRender(()=>t(e,n))};class _H extends ko{constructor(){super(...arguments),this.removePointerDownListener=Cr}onPointerDown(e){this.session=new SR(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:ER(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:r,onPanEnd:i}=this.node.getProps();return{onSessionStart:qC(e),onStart:qC(n),onMove:r,onEnd:(s,a)=>{delete this.session,i&&yt.postRender(()=>i(s,a))}}}mount(){this.removePointerDownListener=td(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const cp={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function GC(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const Iu={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(Ne.test(t))t=parseFloat(t);else return t;const n=GC(t,e.target.x),r=GC(t,e.target.y);return`${n}% ${r}%`}},xH={correct:(t,{treeScale:e,projectionDelta:n})=>{const r=t,i=bo.parse(t);if(i.length>5)return r;const s=bo.createTransformer(t),a=typeof i[0]!="number"?1:0,c=n.x.scale*e.x,u=n.y.scale*e.y;i[0+a]/=c,i[1+a]/=u;const f=gt(c,u,.5);return typeof i[2+a]=="number"&&(i[2+a]/=f),typeof i[3+a]=="number"&&(i[3+a]/=f),s(i)}};class bH extends C.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r,layoutId:i}=this.props,{projection:s}=e;oz(EH),s&&(n.group&&n.group.add(s),r&&r.register&&i&&r.register(s),s.root.didUpdate(),s.addEventListener("animationComplete",()=>{this.safeToRemove()}),s.setOptions({...s.options,onExitComplete:()=>this.safeToRemove()})),cp.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:r,drag:i,isPresent:s}=this.props,{projection:a}=r;return a&&(a.isPresent=s,i||e.layoutDependency!==n||n===void 0||e.isPresent!==s?a.willUpdate():this.safeToRemove(),e.isPresent!==s&&(s?a.promote():a.relegate()||yt.postRender(()=>{const c=a.getStack();(!c||!c.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),cx.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:i}=e;i&&(i.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(i),r&&r.deregister&&r.deregister(i))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function TR(t){const[e,n]=ZA(),r=C.useContext(U_);return w.jsx(bH,{...t,layoutGroup:r,switchLayoutGroup:C.useContext(iR),isPresent:e,safeToRemove:n})}const EH={borderRadius:{...Iu,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Iu,borderTopRightRadius:Iu,borderBottomLeftRadius:Iu,borderBottomRightRadius:Iu,boxShadow:xH};function SH(t,e,n){const r=vn(t)?t:oc(t);return r.start(_x("",r,e,n)),r.animation}const CH=(t,e)=>t.depth-e.depth;class TH{constructor(){this.children=[],this.isDirty=!1}add(e){z_(this.children,e),this.isDirty=!0}remove(e){H_(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(CH),this.isDirty=!1,this.children.forEach(e)}}function kH(t,e){const n=qn.now(),r=({timestamp:i})=>{const s=i-n;s>=e&&(xo(r),t(s-e))};return yt.setup(r,!0),()=>xo(r)}const kR=["TopLeft","TopRight","BottomLeft","BottomRight"],PH=kR.length,KC=t=>typeof t=="string"?parseFloat(t):t,YC=t=>typeof t=="number"||Ne.test(t);function IH(t,e,n,r,i,s){i?(t.opacity=gt(0,n.opacity??1,AH(r)),t.opacityExit=gt(e.opacity??1,0,RH(r))):s&&(t.opacity=gt(e.opacity??1,n.opacity??1,r));for(let a=0;a<PH;a++){const c=`border${kR[a]}Radius`;let u=XC(e,c),f=XC(n,c);if(u===void 0&&f===void 0)continue;u||(u=0),f||(f=0),u===0||f===0||YC(u)===YC(f)?(t[c]=Math.max(gt(KC(u),KC(f),r),0),(ki.test(f)||ki.test(u))&&(t[c]+="%")):t[c]=f}(e.rotate||n.rotate)&&(t.rotate=gt(e.rotate||0,n.rotate||0,r))}function XC(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const AH=PR(0,.5,_A),RH=PR(.5,.95,Cr);function PR(t,e,n){return r=>r<t?0:r>e?1:n(Pd(t,e,r))}function JC(t,e){t.min=e.min,t.max=e.max}function _r(t,e){JC(t.x,e.x),JC(t.y,e.y)}function QC(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function ZC(t,e,n,r,i){return t-=e,t=Xp(t,1/n,r),i!==void 0&&(t=Xp(t,1/i,r)),t}function NH(t,e=0,n=1,r=.5,i,s=t,a=t){if(ki.test(e)&&(e=parseFloat(e),e=gt(a.min,a.max,e/100)-a.min),typeof e!="number")return;let c=gt(s.min,s.max,r);t===s&&(c-=e),t.min=ZC(t.min,e,n,c,i),t.max=ZC(t.max,e,n,c,i)}function eT(t,e,[n,r,i],s,a){NH(t,e[n],e[r],e[i],e.scale,s,a)}const OH=["x","scaleX","originX"],MH=["y","scaleY","originY"];function tT(t,e,n,r){eT(t.x,e,OH,n?n.x:void 0,r?r.x:void 0),eT(t.y,e,MH,n?n.y:void 0,r?r.y:void 0)}function nT(t){return t.translate===0&&t.scale===1}function IR(t){return nT(t.x)&&nT(t.y)}function rT(t,e){return t.min===e.min&&t.max===e.max}function DH(t,e){return rT(t.x,e.x)&&rT(t.y,e.y)}function iT(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function AR(t,e){return iT(t.x,e.x)&&iT(t.y,e.y)}function sT(t){return Pn(t.x)/Pn(t.y)}function oT(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class LH{constructor(){this.members=[]}add(e){z_(this.members,e),e.scheduleRender()}remove(e){if(H_(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(i=>e===i);if(n===0)return!1;let r;for(let i=n;i>=0;i--){const s=this.members[i];if(s.isPresent!==!1){r=s;break}}return r?(this.promote(r),!0):!1}promote(e,n){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,n&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:i}=e.options;i===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:r}=e;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function jH(t,e,n){let r="";const i=t.x.translate/e.x,s=t.y.translate/e.y,a=n?.z||0;if((i||s||a)&&(r=`translate3d(${i}px, ${s}px, ${a}px) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:f,rotate:h,rotateX:g,rotateY:v,skewX:x,skewY:_}=n;f&&(r=`perspective(${f}px) ${r}`),h&&(r+=`rotate(${h}deg) `),g&&(r+=`rotateX(${g}deg) `),v&&(r+=`rotateY(${v}deg) `),x&&(r+=`skewX(${x}deg) `),_&&(r+=`skewY(${_}deg) `)}const c=t.x.scale*e.x,u=t.y.scale*e.y;return(c!==1||u!==1)&&(r+=`scale(${c}, ${u})`),r||"none"}const _y=["","X","Y","Z"],FH={visibility:"hidden"},$H=1e3;let UH=0;function xy(t,e,n,r){const{latestValues:i}=e;i[t]&&(n[t]=i[t],e.setStaticValue(t,0),r&&(r[t]=0))}function RR(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=hR(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:i,layoutId:s}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",yt,!(i||s))}const{parent:r}=t;r&&!r.hasCheckedOptimisedAppear&&RR(r)}function NR({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:r,resetTransform:i}){return class{constructor(a={},c=e?.()){this.id=UH++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(zH),this.nodes.forEach(KH),this.nodes.forEach(YH),this.nodes.forEach(HH)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=a,this.root=c?c.root||c:this,this.path=c?[...c.path,c]:[],this.parent=c,this.depth=c?c.depth+1:0;for(let u=0;u<this.path.length;u++)this.path[u].shouldResetTransform=!0;this.root===this&&(this.nodes=new TH)}addEventListener(a,c){return this.eventHandlers.has(a)||this.eventHandlers.set(a,new G_),this.eventHandlers.get(a).add(c)}notifyListeners(a,...c){const u=this.eventHandlers.get(a);u&&u.notify(...c)}hasListeners(a){return this.eventHandlers.has(a)}mount(a){if(this.instance)return;this.isSVG=QA(a)&&!LB(a),this.instance=a;const{layoutId:c,layout:u,visualElement:f}=this.options;if(f&&!f.current&&f.mount(a),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(u||c)&&(this.isLayoutDirty=!0),t){let h;const g=()=>this.root.updateBlockedByResize=!1;t(a,()=>{this.root.updateBlockedByResize=!0,h&&h(),h=kH(g,250),cp.hasAnimatedSinceResize&&(cp.hasAnimatedSinceResize=!1,this.nodes.forEach(lT))})}c&&this.root.registerSharedNode(c,this),this.options.animate!==!1&&f&&(c||u)&&this.addEventListener("didUpdate",({delta:h,hasLayoutChanged:g,hasRelativeLayoutChanged:v,layout:x})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const _=this.options.transition||f.getDefaultTransition()||eW,{onLayoutAnimationStart:T,onLayoutAnimationComplete:I}=f.getProps(),R=!this.targetLayout||!AR(this.targetLayout,x),P=!g&&v;if(this.options.layoutRoot||this.resumeFrom||P||g&&(R||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(h,P);const k={...ax(_,"layout"),onPlay:T,onComplete:I};(f.shouldReduceMotion||this.options.layoutRoot)&&(k.delay=0,k.type=!1),this.startAnimation(k)}else g||lT(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=x})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const a=this.getStack();a&&a.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),xo(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(XH),this.animationId++)}getTransformTemplate(){const{visualElement:a}=this.options;return a&&a.getProps().transformTemplate}willUpdate(a=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&RR(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let h=0;h<this.path.length;h++){const g=this.path[h];g.shouldResetTransform=!0,g.updateScroll("snapshot"),g.options.layoutRoot&&g.willUpdate(!1)}const{layoutId:c,layout:u}=this.options;if(c===void 0&&!u)return;const f=this.getTransformTemplate();this.prevTransformTemplateValue=f?f(this.latestValues,""):void 0,this.updateSnapshot(),a&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(aT);return}this.isUpdating||this.nodes.forEach(qH),this.isUpdating=!1,this.nodes.forEach(GH),this.nodes.forEach(VH),this.nodes.forEach(BH),this.clearAllSnapshots();const c=qn.now();on.delta=gs(0,1e3/60,c-on.timestamp),on.timestamp=c,on.isProcessing=!0,dy.update.process(on),dy.preRender.process(on),dy.render.process(on),on.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,cx.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(WH),this.sharedNodes.forEach(JH)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,yt.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){yt.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!Pn(this.snapshot.measuredBox.x)&&!Pn(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let u=0;u<this.path.length;u++)this.path[u].updateScroll();const a=this.layout;this.layout=this.measure(!1),this.layoutCorrected=It(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:c}=this.options;c&&c.notify("LayoutMeasure",this.layout.layoutBox,a?a.layoutBox:void 0)}updateScroll(a="measure"){let c=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===a&&(c=!1),c&&this.instance){const u=r(this.instance);this.scroll={animationId:this.root.animationId,phase:a,isRoot:u,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:u}}}resetTransform(){if(!i)return;const a=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,c=this.projectionDelta&&!IR(this.projectionDelta),u=this.getTransformTemplate(),f=u?u(this.latestValues,""):void 0,h=f!==this.prevTransformTemplateValue;a&&this.instance&&(c||ia(this.latestValues)||h)&&(i(this.instance,f),this.shouldResetTransform=!1,this.scheduleRender())}measure(a=!0){const c=this.measurePageBox();let u=this.removeElementScroll(c);return a&&(u=this.removeTransform(u)),tW(u),{animationId:this.root.animationId,measuredBox:c,layoutBox:u,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:a}=this.options;if(!a)return It();const c=a.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some(nW))){const{scroll:f}=this.root;f&&(Hl(c.x,f.offset.x),Hl(c.y,f.offset.y))}return c}removeElementScroll(a){const c=It();if(_r(c,a),this.scroll?.wasRoot)return c;for(let u=0;u<this.path.length;u++){const f=this.path[u],{scroll:h,options:g}=f;f!==this.root&&h&&g.layoutScroll&&(h.wasRoot&&_r(c,a),Hl(c.x,h.offset.x),Hl(c.y,h.offset.y))}return c}applyTransform(a,c=!1){const u=It();_r(u,a);for(let f=0;f<this.path.length;f++){const h=this.path[f];!c&&h.options.layoutScroll&&h.scroll&&h!==h.root&&Wl(u,{x:-h.scroll.offset.x,y:-h.scroll.offset.y}),ia(h.latestValues)&&Wl(u,h.latestValues)}return ia(this.latestValues)&&Wl(u,this.latestValues),u}removeTransform(a){const c=It();_r(c,a);for(let u=0;u<this.path.length;u++){const f=this.path[u];if(!f.instance||!ia(f.latestValues))continue;G0(f.latestValues)&&f.updateSnapshot();const h=It(),g=f.measurePageBox();_r(h,g),tT(c,f.latestValues,f.snapshot?f.snapshot.layoutBox:void 0,h)}return ia(this.latestValues)&&tT(c,this.latestValues),c}setTargetDelta(a){this.targetDelta=a,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(a){this.options={...this.options,...a,crossfade:a.crossfade!==void 0?a.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==on.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(a=!1){const c=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=c.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=c.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=c.isSharedProjectionDirty);const u=!!this.resumingFrom||this!==c;if(!(a||u&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:h,layoutId:g}=this.options;if(!(!this.layout||!(h||g))){if(this.resolvedRelativeTargetAt=on.timestamp,!this.targetDelta&&!this.relativeTarget){const v=this.getClosestProjectingParent();v&&v.layout&&this.animationProgress!==1?(this.relativeParent=v,this.forceRelativeParentToResolveTarget(),this.relativeTarget=It(),this.relativeTargetOrigin=It(),rd(this.relativeTargetOrigin,this.layout.layoutBox,v.layout.layoutBox),_r(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=It(),this.targetWithTransforms=It()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),iH(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):_r(this.target,this.layout.layoutBox),xR(this.target,this.targetDelta)):_r(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const v=this.getClosestProjectingParent();v&&!!v.resumingFrom==!!this.resumingFrom&&!v.options.layoutScroll&&v.target&&this.animationProgress!==1?(this.relativeParent=v,this.forceRelativeParentToResolveTarget(),this.relativeTarget=It(),this.relativeTargetOrigin=It(),rd(this.relativeTargetOrigin,this.target,v.target),_r(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||G0(this.parent.latestValues)||_R(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){const a=this.getLead(),c=!!this.resumingFrom||this!==a;let u=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(u=!1),c&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(u=!1),this.resolvedRelativeTargetAt===on.timestamp&&(u=!1),u)return;const{layout:f,layoutId:h}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(f||h))return;_r(this.layoutCorrected,this.layout.layoutBox);const g=this.treeScale.x,v=this.treeScale.y;sH(this.layoutCorrected,this.treeScale,this.path,c),a.layout&&!a.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(a.target=a.layout.layoutBox,a.targetWithTransforms=It());const{target:x}=a;if(!x){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(QC(this.prevProjectionDelta.x,this.projectionDelta.x),QC(this.prevProjectionDelta.y,this.projectionDelta.y)),nd(this.projectionDelta,this.layoutCorrected,x,this.latestValues),(this.treeScale.x!==g||this.treeScale.y!==v||!oT(this.projectionDelta.x,this.prevProjectionDelta.x)||!oT(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",x))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(a=!0){if(this.options.visualElement?.scheduleRender(),a){const c=this.getStack();c&&c.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=zl(),this.projectionDelta=zl(),this.projectionDeltaWithTransform=zl()}setAnimationOrigin(a,c=!1){const u=this.snapshot,f=u?u.latestValues:{},h={...this.latestValues},g=zl();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!c;const v=It(),x=u?u.source:void 0,_=this.layout?this.layout.source:void 0,T=x!==_,I=this.getStack(),R=!I||I.members.length<=1,P=!!(T&&!R&&this.options.crossfade===!0&&!this.path.some(ZH));this.animationProgress=0;let k;this.mixTargetDelta=j=>{const $=j/1e3;cT(g.x,a.x,$),cT(g.y,a.y,$),this.setTargetDelta(g),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(rd(v,this.layout.layoutBox,this.relativeParent.layout.layoutBox),QH(this.relativeTarget,this.relativeTargetOrigin,v,$),k&&DH(this.relativeTarget,k)&&(this.isProjectionDirty=!1),k||(k=It()),_r(k,this.relativeTarget)),T&&(this.animationValues=h,IH(h,f,this.latestValues,$,P,R)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=$},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(a){this.notifyListeners("animationStart"),this.currentAnimation?.stop(!1),this.resumingFrom?.currentAnimation?.stop(!1),this.pendingAnimation&&(xo(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=yt.update(()=>{cp.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=oc(0)),this.currentAnimation=SH(this.motionValue,[0,1e3],{...a,isSync:!0,onUpdate:c=>{this.mixTargetDelta(c),a.onUpdate&&a.onUpdate(c)},onStop:()=>{},onComplete:()=>{a.onComplete&&a.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const a=this.getStack();a&&a.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta($H),this.currentAnimation.stop(!1)),this.completeAnimation()}applyTransformsToTarget(){const a=this.getLead();let{targetWithTransforms:c,target:u,layout:f,latestValues:h}=a;if(!(!c||!u||!f)){if(this!==a&&this.layout&&f&&OR(this.options.animationType,this.layout.layoutBox,f.layoutBox)){u=this.target||It();const g=Pn(this.layout.layoutBox.x);u.x.min=a.target.x.min,u.x.max=u.x.min+g;const v=Pn(this.layout.layoutBox.y);u.y.min=a.target.y.min,u.y.max=u.y.min+v}_r(c,u),Wl(c,h),nd(this.projectionDeltaWithTransform,this.layoutCorrected,c,h)}}registerSharedNode(a,c){this.sharedNodes.has(a)||this.sharedNodes.set(a,new LH),this.sharedNodes.get(a).add(c);const f=c.options.initialPromotionConfig;c.promote({transition:f?f.transition:void 0,preserveFollowOpacity:f&&f.shouldPreserveFollowOpacity?f.shouldPreserveFollowOpacity(c):void 0})}isLead(){const a=this.getStack();return a?a.lead===this:!0}getLead(){const{layoutId:a}=this.options;return a?this.getStack()?.lead||this:this}getPrevLead(){const{layoutId:a}=this.options;return a?this.getStack()?.prevLead:void 0}getStack(){const{layoutId:a}=this.options;if(a)return this.root.sharedNodes.get(a)}promote({needsReset:a,transition:c,preserveFollowOpacity:u}={}){const f=this.getStack();f&&f.promote(this,u),a&&(this.projectionDelta=void 0,this.needsReset=!0),c&&this.setOptions({transition:c})}relegate(){const a=this.getStack();return a?a.relegate(this):!1}resetSkewAndRotation(){const{visualElement:a}=this.options;if(!a)return;let c=!1;const{latestValues:u}=a;if((u.z||u.rotate||u.rotateX||u.rotateY||u.rotateZ||u.skewX||u.skewY)&&(c=!0),!c)return;const f={};u.z&&xy("z",a,f,this.animationValues);for(let h=0;h<_y.length;h++)xy(`rotate${_y[h]}`,a,f,this.animationValues),xy(`skew${_y[h]}`,a,f,this.animationValues);a.render();for(const h in f)a.setStaticValue(h,f[h]),this.animationValues&&(this.animationValues[h]=f[h]);a.scheduleRender()}getProjectionStyles(a){if(!this.instance||this.isSVG)return;if(!this.isVisible)return FH;const c={visibility:""},u=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,c.opacity="",c.pointerEvents=lp(a?.pointerEvents)||"",c.transform=u?u(this.latestValues,""):"none",c;const f=this.getLead();if(!this.projectionDelta||!this.layout||!f.target){const x={};return this.options.layoutId&&(x.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,x.pointerEvents=lp(a?.pointerEvents)||""),this.hasProjected&&!ia(this.latestValues)&&(x.transform=u?u({},""):"none",this.hasProjected=!1),x}const h=f.animationValues||f.latestValues;this.applyTransformsToTarget(),c.transform=jH(this.projectionDeltaWithTransform,this.treeScale,h),u&&(c.transform=u(h,c.transform));const{x:g,y:v}=this.projectionDelta;c.transformOrigin=`${g.origin*100}% ${v.origin*100}% 0`,f.animationValues?c.opacity=f===this?h.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:h.opacityExit:c.opacity=f===this?h.opacity!==void 0?h.opacity:"":h.opacityExit!==void 0?h.opacityExit:0;for(const x in Nd){if(h[x]===void 0)continue;const{correct:_,applyTo:T,isCSSVariable:I}=Nd[x],R=c.transform==="none"?h[x]:_(h[x],f);if(T){const P=T.length;for(let k=0;k<P;k++)c[T[k]]=R}else I?this.options.visualElement.renderState.vars[x]=R:c[x]=R}return this.options.layoutId&&(c.pointerEvents=f===this?lp(a?.pointerEvents)||"":"none"),c}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(a=>a.currentAnimation?.stop(!1)),this.root.nodes.forEach(aT),this.root.sharedNodes.clear()}}}function VH(t){t.updateLayout()}function BH(t){const e=t.resumeFrom?.snapshot||t.snapshot;if(t.isLead()&&t.layout&&e&&t.hasListeners("didUpdate")){const{layoutBox:n,measuredBox:r}=t.layout,{animationType:i}=t.options,s=e.source!==t.layout.source;i==="size"?br(h=>{const g=s?e.measuredBox[h]:e.layoutBox[h],v=Pn(g);g.min=n[h].min,g.max=g.min+v}):OR(i,e.layoutBox,n)&&br(h=>{const g=s?e.measuredBox[h]:e.layoutBox[h],v=Pn(n[h]);g.max=g.min+v,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[h].max=t.relativeTarget[h].min+v)});const a=zl();nd(a,n,e.layoutBox);const c=zl();s?nd(c,t.applyTransform(r,!0),e.measuredBox):nd(c,n,e.layoutBox);const u=!IR(a);let f=!1;if(!t.resumeFrom){const h=t.getClosestProjectingParent();if(h&&!h.resumeFrom){const{snapshot:g,layout:v}=h;if(g&&v){const x=It();rd(x,e.layoutBox,g.layoutBox);const _=It();rd(_,n,v.layoutBox),AR(x,_)||(f=!0),h.options.layoutRoot&&(t.relativeTarget=_,t.relativeTargetOrigin=x,t.relativeParent=h)}}}t.notifyListeners("didUpdate",{layout:n,snapshot:e,delta:c,layoutDelta:a,hasLayoutChanged:u,hasRelativeLayoutChanged:f})}else if(t.isLead()){const{onExitComplete:n}=t.options;n&&n()}t.options.transition=void 0}function zH(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function HH(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function WH(t){t.clearSnapshot()}function aT(t){t.clearMeasurements()}function qH(t){t.isLayoutDirty=!1}function GH(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function lT(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function KH(t){t.resolveTargetDelta()}function YH(t){t.calcProjection()}function XH(t){t.resetSkewAndRotation()}function JH(t){t.removeLeadSnapshot()}function cT(t,e,n){t.translate=gt(e.translate,0,n),t.scale=gt(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function uT(t,e,n,r){t.min=gt(e.min,n.min,r),t.max=gt(e.max,n.max,r)}function QH(t,e,n,r){uT(t.x,e.x,n.x,r),uT(t.y,e.y,n.y,r)}function ZH(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const eW={duration:.45,ease:[.4,0,.1,1]},dT=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),fT=dT("applewebkit/")&&!dT("chrome/")?Math.round:Cr;function hT(t){t.min=fT(t.min),t.max=fT(t.max)}function tW(t){hT(t.x),hT(t.y)}function OR(t,e,n){return t==="position"||t==="preserve-aspect"&&!rH(sT(e),sT(n),.2)}function nW(t){return t!==t.root&&t.scroll?.wasRoot}const rW=NR({attachResizeListener:(t,e)=>Md(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),by={current:void 0},MR=NR({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!by.current){const t=new rW({});t.mount(window),t.setOptions({layoutScroll:!0}),by.current=t}return by.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),iW={pan:{Feature:_H},drag:{Feature:wH,ProjectionNode:MR,MeasureLayout:TR}};function pT(t,e,n){const{props:r}=t;t.animationState&&r.whileHover&&t.animationState.setActive("whileHover",n==="Start");const i="onHover"+n,s=r[i];s&&yt.postRender(()=>s(e,lf(e)))}class sW extends ko{mount(){const{current:e}=this.node;e&&(this.unmount=RB(e,(n,r)=>(pT(this.node,r,"Start"),i=>pT(this.node,i,"End"))))}unmount(){}}class oW extends ko{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=sf(Md(this.node.current,"focus",()=>this.onFocus()),Md(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function mT(t,e,n){const{props:r}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&r.whileTap&&t.animationState.setActive("whileTap",n==="Start");const i="onTap"+(n==="End"?"":n),s=r[i];s&&yt.postRender(()=>s(e,lf(e)))}class aW extends ko{mount(){const{current:e}=this.node;e&&(this.unmount=DB(e,(n,r)=>(mT(this.node,r,"Start"),(i,{success:s})=>mT(this.node,i,s?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const X0=new WeakMap,Ey=new WeakMap,lW=t=>{const e=X0.get(t.target);e&&e(t)},cW=t=>{t.forEach(lW)};function uW({root:t,...e}){const n=t||document;Ey.has(n)||Ey.set(n,{});const r=Ey.get(n),i=JSON.stringify(e);return r[i]||(r[i]=new IntersectionObserver(cW,{root:t,...e})),r[i]}function dW(t,e,n){const r=uW(e);return X0.set(t,n),r.observe(t),()=>{X0.delete(t),r.unobserve(t)}}const fW={some:0,all:1};class hW extends ko{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:r,amount:i="some",once:s}=e,a={root:n?n.current:void 0,rootMargin:r,threshold:typeof i=="number"?i:fW[i]},c=u=>{const{isIntersecting:f}=u;if(this.isInView===f||(this.isInView=f,s&&!f&&this.hasEnteredView))return;f&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",f);const{onViewportEnter:h,onViewportLeave:g}=this.node.getProps(),v=f?h:g;v&&v(u)};return dW(this.node.current,a,c)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(pW(e,n))&&this.startObserver()}unmount(){}}function pW({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const mW={inView:{Feature:hW},tap:{Feature:aW},focus:{Feature:oW},hover:{Feature:sW}},gW={layout:{ProjectionNode:MR,MeasureLayout:TR}},J0={current:null},DR={current:!1};function vW(){if(DR.current=!0,!!B_)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>J0.current=t.matches;t.addListener(e),e()}else J0.current=!1}const yW=new WeakMap;function wW(t,e,n){for(const r in e){const i=e[r],s=n[r];if(vn(i))t.addValue(r,i);else if(vn(s))t.addValue(r,oc(i,{owner:t}));else if(s!==i)if(t.hasValue(r)){const a=t.getValue(r);a.liveStyle===!0?a.jump(i):a.hasAnimated||a.set(i)}else{const a=t.getStaticValue(r);t.addValue(r,oc(a!==void 0?a:i,{owner:t}))}}for(const r in n)e[r]===void 0&&t.removeValue(r);return e}const gT=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class _W{scrapeMotionValuesFromProps(e,n,r){return{}}constructor({parent:e,props:n,presenceContext:r,reducedMotionConfig:i,blockInitialAnimation:s,visualState:a},c={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=sx,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const v=qn.now();this.renderScheduledAt<v&&(this.renderScheduledAt=v,yt.render(this.render,!1,!0))};const{latestValues:u,renderState:f}=a;this.latestValues=u,this.baseTarget={...u},this.initialValues=n.initial?{...u}:{},this.renderState=f,this.parent=e,this.props=n,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=i,this.options=c,this.blockInitialAnimation=!!s,this.isControllingVariants=$m(n),this.isVariantNode=nR(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:h,...g}=this.scrapeMotionValuesFromProps(n,{},this);for(const v in g){const x=g[v];u[v]!==void 0&&vn(x)&&x.set(u[v],!1)}}mount(e){this.current=e,yW.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),DR.current||vW(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:J0.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),xo(this.notifyUpdate),xo(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const n=this.features[e];n&&(n.unmount(),n.isMounted=!1)}this.current=null}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const r=Cc.has(e);r&&this.onBindTransform&&this.onBindTransform();const i=n.on("change",c=>{this.latestValues[e]=c,this.props.onUpdate&&yt.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0)}),s=n.on("renderRequest",this.scheduleRender);let a;window.MotionCheckAppearSync&&(a=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{i(),s(),a&&a(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in ac){const n=ac[e];if(!n)continue;const{isEnabled:r,Feature:i}=n;if(!this.features[e]&&i&&r(this.props)&&(this.features[e]=new i(this)),this.features[e]){const s=this.features[e];s.isMounted?s.update():(s.mount(),s.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):It()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<gT.length;r++){const i=gT[r];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const s="on"+i,a=e[s];a&&(this.propEventSubscriptions[i]=this.on(i,a))}this.prevMotionValues=wW(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const r=this.values.get(e);n!==r&&(r&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&n!==void 0&&(r=oc(n===null?void 0:n,{owner:this}),this.addValue(e,r)),r}readValue(e,n){let r=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return r!=null&&(typeof r=="string"&&(uA(r)||fA(r))?r=parseFloat(r):!FB(r)&&bo.test(n)&&(r=GA(e,n)),this.setBaseTarget(e,vn(r)?r.get():r)),vn(r)?r.get():r}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){const{initial:n}=this.props;let r;if(typeof n=="string"||typeof n=="object"){const s=yx(this.props,n,this.presenceContext?.custom);s&&(r=s[e])}if(n&&r!==void 0)return r;const i=this.getBaseTargetFromProps(this.props,e);return i!==void 0&&!vn(i)?i:this.initialValues[e]!==void 0&&r===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new G_),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}}class LR extends _W{constructor(){super(...arguments),this.KeyframeResolver=TB}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:r}){delete n[e],delete r[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;vn(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function jR(t,{style:e,vars:n},r,i){Object.assign(t.style,e,i&&i.getProjectionStyles(r));for(const s in n)t.style.setProperty(s,n[s])}function xW(t){return window.getComputedStyle(t)}class bW extends LR{constructor(){super(...arguments),this.type="html",this.renderInstance=jR}readValueFromInstance(e,n){if(Cc.has(n))return this.projection?.isProjecting?F0(n):WV(e,n);{const r=xW(e),i=(X_(n)?r.getPropertyValue(n):r[n])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(e,{transformPagePoint:n}){return bR(e,n)}build(e,n,r){mx(e,n,r.transformTemplate)}scrapeMotionValuesFromProps(e,n,r){return wx(e,n,r)}}const FR=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function EW(t,e,n,r){jR(t,e,void 0,r);for(const i in e.attrs)t.setAttribute(FR.has(i)?i:px(i),e.attrs[i])}class SW extends LR{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=It}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(Cc.has(n)){const r=qA(n);return r&&r.default||0}return n=FR.has(n)?n:px(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,r){return fR(e,n,r)}build(e,n,r){lR(e,n,this.isSVGTag,r.transformTemplate,r.style)}renderInstance(e,n,r,i){EW(e,n,r,i)}mount(e){this.isSVGTag=uR(e.tagName),super.mount(e)}}const CW=(t,e)=>vx(t)?new SW(e):new bW(e,{allowProjection:t!==C.Fragment}),TW=Ez({...Yz,...mW,...iW,...gW},CW),kW=KB(TW);function PW(){const t=Pr(),e=Ii(),[n,r]=C.useState(null),[i,s]=C.useState(null),[a,c]=C.useState(null),[u,f]=C.useState(null),[h,g]=C.useState(Array(6).fill({nombre:"",dorsal:""})),[v,x]=C.useState(Array(6).fill({nombre:"",dorsal:""})),[_,T]=C.useState(null),[I,R]=C.useState(!1);C.useEffect(()=>{e.state?.equipoLocal&&e.state?.equipoVisita?(r(e.state),s(e.state.equipoLocal),c(e.state.equipoVisita),f(e.state.genero)):(console.warn("[Alineacion.jsx] No se recibieron datos de configuración del partido. Redirigiendo."),t("/partido/configurar"))},[e.state,t]);const P=(O,b)=>{const M=b==="local"?h[O]:v[O],V=b==="local"?h:v,F=b==="local"?i?.nombre:a?.nombre;T({tipo:b,index:O,jugador:M,jugadoresActuales:V,nombreEquipo:F,generoPartido:u})},k=(O,b,M)=>{const V=b==="local"?g:x,Q=[...b==="local"?h:v];Q[O]=M,V(Q),T(null)},j=async()=>{let O=null;try{const b=se=>se.every(le=>le.nombre.trim()!==""&&le.dorsal.trim()!=="");if(!b(h)||!b(v)){alert("Todos los jugadores deben tener nombre y dorsal antes de continuar.");return}const M=Ce(Te,"partidos");O=Ul(M).key;const[F,Q]=await Promise.all([ti(Ce(Te,`plantillas/${u.toLowerCase()}/${i.nombre.toLowerCase()}`)),ti(Ce(Te,`plantillas/${u.toLowerCase()}/${a.nombre.toLowerCase()}`))]),ae=F.exists()?F.val():R0[i.nombre.toLowerCase()]||[],re=Q.exists()?Q.val():R0[a.nombre.toLowerCase()]||[],pe={nombre:i.nombre,logo:i.escudo.split("/").pop(),jugadores:h.map(se=>({...se,enJuego:!0,haJugado:!0})),todosJugadores:ae},ne={nombre:a.nombre,logo:a.escudo.split("/").pop(),jugadores:v.map(se=>({...se,enJuego:!0,haJugado:!0})),todosJugadores:re};await At(Ce(Te,`partidos/${O}/alineacion`),{equipo1:pe,equipo2:ne,genero:u}),await At(Ce(Te,`partidos/${O}/marcador`),{equipo1:0,equipo2:0}),await At(Ce(Te,"partidoEnCurso"),{partidoId:O,equipo1:i.nombre,equipo2:a.nombre,timestamp:Date.now()}),t(`/control-partido/${O}`)}catch(b){alert("❌ ERROR al confirmar alineación: "+b.message),console.error("Error al confirmar alineación:",b)}},$=O=>`/EmproChampions-2025/camisas/camisa-${O.toLowerCase().replace(/\s+/g,"-")}.png`,B=O=>["don bosco","luz","emprosaurios"].includes(O.toLowerCase())?"#000":"#fff",L=[{top:"15%",left:"18%"},{top:"15%",left:"62%"},{top:"38%",left:"40%"},{top:"55%",left:"17%"},{top:"55%",left:"63%"},{top:"74%",left:"40%"}],N=(O,b,M,V)=>w.jsx(kW.div,{className:"absolute cursor-pointer",style:{top:L[b].top,left:L[b].left,transform:"translate(-50%, -50%)"},animate:{scale:_?.index===b&&_?.tipo===M?1.5:1},transition:{duration:.3},onClick:()=>P(b,M),children:w.jsxs("div",{className:"relative w-fit flex flex-col items-center",children:[w.jsx("div",{className:"absolute top-[12%] font-barcelona text-[24px] md:text-[30px] z-20 pointer-events-none",style:{color:B((M==="local"?i?.nombre:a?.nombre)||""),textShadow:"1px 1px 1px rgba(0,0,0,0.6)"},children:O.dorsal}),w.jsx("img",{src:V,className:"w-16 md:w-20 relative z-10",alt:`jugador-${M}`}),O.nombre&&w.jsx("div",{className:"absolute bottom-[-18px] font-barcelona text-[11px] text-white bg-black/80 px-2 py-[2px] rounded text-center z-20",children:O.nombre})]})},b);return!i||!a?null:w.jsxs("div",{className:"min-h-screen bg-cover bg-center font-qatar text-white",style:{backgroundImage:"url('/EmproChampions-2025/img/fondoempro-horizontal.png')"},children:[w.jsx(cr,{}),w.jsx("h1",{className:"text-3xl sm:text-5xl font-bold text-center mt-6 text-yellow-400 drop-shadow",children:"Alineación Inicial"}),w.jsxs("div",{className:"flex flex-col lg:flex-row items-center justify-center gap-4 lg:gap-8 p-2 lg:p-6",children:[w.jsxs("div",{className:"relative w-[300px] h-[510px] sm:w-[320px] sm:h-[540px] md:w-[400px] md:h-[640px]",children:[w.jsx("img",{src:"/EmproChampions-2025/img/cancha-vertical.svg",alt:"cancha local",className:"w-full h-full"}),h.map((O,b)=>N(O,b,"local",$(i.nombre)))]}),w.jsxs("div",{className:"flex flex-col items-center gap-4 my-4 lg:my-0",children:[w.jsx("img",{src:"/EmproChampions-2025/img/logo-empro.png",alt:"logo empro",className:"w-20 md:w-32"}),w.jsxs("div",{className:"flex items-center gap-4 md:gap-10",children:[w.jsx("img",{src:i.escudo,className:"w-20 h-20 md:w-24 md:h-24 object-contain",alt:"local logo"}),w.jsx("span",{className:"text-white text-3xl md:text-4xl font-black",children:"VS"}),w.jsx("img",{src:a.escudo,className:"w-20 h-20 md:w-24 md:h-24 object-contain",alt:"visita logo"})]}),w.jsx("button",{onClick:()=>t("/partido/configurar"),className:"bg-white/80 text-[#7a0026] font-bold px-6 py-2 rounded-full hover:bg-white transition",children:"⬅ Volver"})]}),w.jsxs("div",{className:"relative w-[300px] h-[510px] sm:w-[320px] sm:h-[540px] md:w-[400px] md:h-[640px]",children:[w.jsx("img",{src:"/EmproChampions-2025/img/cancha-vertical.svg",alt:"cancha visita",className:"w-full h-full"}),v.map((O,b)=>N(O,b,"visita",$(a.nombre)))]})]}),w.jsx("div",{className:"flex justify-center mt-6 pb-10",children:w.jsx("button",{onClick:j,className:"bg-[#FFD700] text-[#7a0026] font-bold px-10 py-3 rounded-full hover:bg-yellow-300 transition text-xl shadow-lg",children:"Confirmar Alineación"})}),w.jsx(zB,{children:_&&w.jsx(BU,{..._,onSave:k,onClose:()=>T(null),camiseta:$(_.tipo==="local"?i.nombre:a.nombre),dorsalColor:B(_.tipo==="local"?i.nombre:a.nombre)})}),w.jsx(ur,{})]})}function Aa(t){return t&&t.ownerDocument||document}function Jp(t){return Aa(t).defaultView||window}function IW(t=window){const e=t.document.documentElement.clientWidth;return t.innerWidth-e}function AW(t){const e=Aa(t);return e.body===t?Jp(t).innerWidth>e.documentElement.clientWidth:t.scrollHeight>t.clientHeight}function id(t,e){e?t.setAttribute("aria-hidden","true"):t.removeAttribute("aria-hidden")}function vT(t){return parseInt(Jp(t).getComputedStyle(t).paddingRight,10)||0}function RW(t){const n=["TEMPLATE","SCRIPT","STYLE","LINK","MAP","META","NOSCRIPT","PICTURE","COL","COLGROUP","PARAM","SLOT","SOURCE","TRACK"].includes(t.tagName),r=t.tagName==="INPUT"&&t.getAttribute("type")==="hidden";return n||r}function yT(t,e,n,r,i){const s=[e,n,...r];[].forEach.call(t.children,a=>{const c=!s.includes(a),u=!RW(a);c&&u&&id(a,i)})}function Sy(t,e){let n=-1;return t.some((r,i)=>e(r)?(n=i,!0):!1),n}function NW(t,e){const n=[],r=t.container;if(!e.disableScrollLock){if(AW(r)){const a=IW(Jp(r));n.push({value:r.style.paddingRight,property:"padding-right",el:r}),r.style.paddingRight=`${vT(r)+a}px`;const c=Aa(r).querySelectorAll(".mui-fixed");[].forEach.call(c,u=>{n.push({value:u.style.paddingRight,property:"padding-right",el:u}),u.style.paddingRight=`${vT(u)+a}px`})}let s;if(r.parentNode instanceof DocumentFragment)s=Aa(r).body;else{const a=r.parentElement,c=Jp(r);s=a?.nodeName==="HTML"&&c.getComputedStyle(a).overflowY==="scroll"?a:r}n.push({value:s.style.overflow,property:"overflow",el:s},{value:s.style.overflowX,property:"overflow-x",el:s},{value:s.style.overflowY,property:"overflow-y",el:s}),s.style.overflow="hidden"}return()=>{n.forEach(({value:s,el:a,property:c})=>{s?a.style.setProperty(c,s):a.style.removeProperty(c)})}}function OW(t){const e=[];return[].forEach.call(t.children,n=>{n.getAttribute("aria-hidden")==="true"&&e.push(n)}),e}class MW{constructor(){this.modals=[],this.containers=[]}add(e,n){let r=this.modals.indexOf(e);if(r!==-1)return r;r=this.modals.length,this.modals.push(e),e.modalRef&&id(e.modalRef,!1);const i=OW(n);yT(n,e.mount,e.modalRef,i,!0);const s=Sy(this.containers,a=>a.container===n);return s!==-1?(this.containers[s].modals.push(e),r):(this.containers.push({modals:[e],container:n,restore:null,hiddenSiblings:i}),r)}mount(e,n){const r=Sy(this.containers,s=>s.modals.includes(e)),i=this.containers[r];i.restore||(i.restore=NW(i,n))}remove(e,n=!0){const r=this.modals.indexOf(e);if(r===-1)return r;const i=Sy(this.containers,a=>a.modals.includes(e)),s=this.containers[i];if(s.modals.splice(s.modals.indexOf(e),1),this.modals.splice(r,1),s.modals.length===0)s.restore&&s.restore(),e.modalRef&&id(e.modalRef,n),yT(s.container,e.mount,e.modalRef,s.hiddenSiblings,!1),this.containers.splice(i,1);else{const a=s.modals[s.modals.length-1];a.modalRef&&id(a.modalRef,!1)}return r}isTopModal(e){return this.modals.length>0&&this.modals[this.modals.length-1]===e}}function $R(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=$R(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function lc(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=$R(t))&&(r&&(r+=" "),r+=e);return r}function UR(t,e,n=void 0){const r={};for(const i in t){const s=t[i];let a="",c=!0;for(let u=0;u<s.length;u+=1){const f=s[u];f&&(a+=(c===!0?"":" ")+e(f),c=!1,n&&n[f]&&(a+=" "+n[f]))}r[i]=a}return r}function cf(...t){const e=C.useRef(void 0),n=C.useCallback(r=>{const i=t.map(s=>{if(s==null)return null;if(typeof s=="function"){const a=s,c=a(r);return typeof c=="function"?c:()=>{a(null)}}return s.current=r,()=>{s.current=null}});return()=>{i.forEach(s=>s?.())}},t);return C.useMemo(()=>t.every(r=>r==null)?null:r=>{e.current&&(e.current(),e.current=void 0),r!=null&&(e.current=n(r))},t)}function xx(t){return parseInt(C.version,10)>=19?t?.props?.ref||null:t?.ref||null}const DW=["input","select","textarea","a[href]","button","[tabindex]","audio[controls]","video[controls]",'[contenteditable]:not([contenteditable="false"])'].join(",");function LW(t){const e=parseInt(t.getAttribute("tabindex")||"",10);return Number.isNaN(e)?t.contentEditable==="true"||(t.nodeName==="AUDIO"||t.nodeName==="VIDEO"||t.nodeName==="DETAILS")&&t.getAttribute("tabindex")===null?0:t.tabIndex:e}function jW(t){if(t.tagName!=="INPUT"||t.type!=="radio"||!t.name)return!1;const e=r=>t.ownerDocument.querySelector(`input[type="radio"]${r}`);let n=e(`[name="${t.name}"]:checked`);return n||(n=e(`[name="${t.name}"]`)),n!==t}function FW(t){return!(t.disabled||t.tagName==="INPUT"&&t.type==="hidden"||jW(t))}function $W(t){const e=[],n=[];return Array.from(t.querySelectorAll(DW)).forEach((r,i)=>{const s=LW(r);s===-1||!FW(r)||(s===0?e.push(r):n.push({documentOrder:i,tabIndex:s,node:r}))}),n.sort((r,i)=>r.tabIndex===i.tabIndex?r.documentOrder-i.documentOrder:r.tabIndex-i.tabIndex).map(r=>r.node).concat(e)}function UW(){return!0}function VW(t){const{children:e,disableAutoFocus:n=!1,disableEnforceFocus:r=!1,disableRestoreFocus:i=!1,getTabbable:s=$W,isEnabled:a=UW,open:c}=t,u=C.useRef(!1),f=C.useRef(null),h=C.useRef(null),g=C.useRef(null),v=C.useRef(null),x=C.useRef(!1),_=C.useRef(null),T=cf(xx(e),_),I=C.useRef(null);C.useEffect(()=>{!c||!_.current||(x.current=!n)},[n,c]),C.useEffect(()=>{if(!c||!_.current)return;const k=Aa(_.current);return _.current.contains(k.activeElement)||(_.current.hasAttribute("tabIndex")||_.current.setAttribute("tabIndex","-1"),x.current&&_.current.focus()),()=>{i||(g.current&&g.current.focus&&(u.current=!0,g.current.focus()),g.current=null)}},[c]),C.useEffect(()=>{if(!c||!_.current)return;const k=Aa(_.current),j=L=>{I.current=L,!(r||!a()||L.key!=="Tab")&&k.activeElement===_.current&&L.shiftKey&&(u.current=!0,h.current&&h.current.focus())},$=()=>{const L=_.current;if(L===null)return;if(!k.hasFocus()||!a()||u.current){u.current=!1;return}if(L.contains(k.activeElement)||r&&k.activeElement!==f.current&&k.activeElement!==h.current)return;if(k.activeElement!==v.current)v.current=null;else if(v.current!==null)return;if(!x.current)return;let N=[];if((k.activeElement===f.current||k.activeElement===h.current)&&(N=s(_.current)),N.length>0){const O=!!(I.current?.shiftKey&&I.current?.key==="Tab"),b=N[0],M=N[N.length-1];typeof b!="string"&&typeof M!="string"&&(O?M.focus():b.focus())}else L.focus()};k.addEventListener("focusin",$),k.addEventListener("keydown",j,!0);const B=setInterval(()=>{k.activeElement&&k.activeElement.tagName==="BODY"&&$()},50);return()=>{clearInterval(B),k.removeEventListener("focusin",$),k.removeEventListener("keydown",j,!0)}},[n,r,i,a,c,s]);const R=k=>{g.current===null&&(g.current=k.relatedTarget),x.current=!0,v.current=k.target;const j=e.props.onFocus;j&&j(k)},P=k=>{g.current===null&&(g.current=k.relatedTarget),x.current=!0};return w.jsxs(C.Fragment,{children:[w.jsx("div",{tabIndex:c?0:-1,onFocus:P,ref:f,"data-testid":"sentinelStart"}),C.cloneElement(e,{ref:T,onFocus:R}),w.jsx("div",{tabIndex:c?0:-1,onFocus:P,ref:h,"data-testid":"sentinelEnd"})]})}const Q0=typeof window<"u"?C.useLayoutEffect:C.useEffect;function wT(t,e){typeof t=="function"?t(e):t&&(t.current=e)}function BW(t){return typeof t=="function"?t():t}const zW=C.forwardRef(function(e,n){const{children:r,container:i,disablePortal:s=!1}=e,[a,c]=C.useState(null),u=cf(C.isValidElement(r)?xx(r):null,n);if(Q0(()=>{s||c(BW(i)||document.body)},[i,s]),Q0(()=>{if(a&&!s)return wT(n,a),()=>{wT(n,null)}},[n,a,s]),s){if(C.isValidElement(r)){const f={ref:u};return C.cloneElement(r,f)}return r}return a&&Cw.createPortal(r,a)});function Ra(t,...e){const n=new URL(`https://mui.com/production-error/?code=${t}`);return e.forEach(r=>n.searchParams.append("args[]",r)),`Minified MUI error #${t}; visit ${n} for the full message.`}function VR(t){if(typeof t!="string")throw new Error(Ra(7));return t.charAt(0).toUpperCase()+t.slice(1)}var Cy={exports:{}},Je={};/**
 * @license React
 * react-is.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _T;function HW(){if(_T)return Je;_T=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),s=Symbol.for("react.consumer"),a=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),f=Symbol.for("react.suspense_list"),h=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),v=Symbol.for("react.view_transition"),x=Symbol.for("react.client.reference");function _(T){if(typeof T=="object"&&T!==null){var I=T.$$typeof;switch(I){case t:switch(T=T.type,T){case n:case i:case r:case u:case f:case v:return T;default:switch(T=T&&T.$$typeof,T){case a:case c:case g:case h:return T;case s:return T;default:return I}}case e:return I}}}return Je.ContextConsumer=s,Je.ContextProvider=a,Je.Element=t,Je.ForwardRef=c,Je.Fragment=n,Je.Lazy=g,Je.Memo=h,Je.Portal=e,Je.Profiler=i,Je.StrictMode=r,Je.Suspense=u,Je.SuspenseList=f,Je.isContextConsumer=function(T){return _(T)===s},Je.isContextProvider=function(T){return _(T)===a},Je.isElement=function(T){return typeof T=="object"&&T!==null&&T.$$typeof===t},Je.isForwardRef=function(T){return _(T)===c},Je.isFragment=function(T){return _(T)===n},Je.isLazy=function(T){return _(T)===g},Je.isMemo=function(T){return _(T)===h},Je.isPortal=function(T){return _(T)===e},Je.isProfiler=function(T){return _(T)===i},Je.isStrictMode=function(T){return _(T)===r},Je.isSuspense=function(T){return _(T)===u},Je.isSuspenseList=function(T){return _(T)===f},Je.isValidElementType=function(T){return typeof T=="string"||typeof T=="function"||T===n||T===i||T===r||T===u||T===f||typeof T=="object"&&T!==null&&(T.$$typeof===g||T.$$typeof===h||T.$$typeof===a||T.$$typeof===s||T.$$typeof===c||T.$$typeof===x||T.getModuleId!==void 0)},Je.typeOf=_,Je}var xT;function WW(){return xT||(xT=1,Cy.exports=HW()),Cy.exports}var BR=WW();function xi(t){if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)}function zR(t){if(C.isValidElement(t)||BR.isValidElementType(t)||!xi(t))return t;const e={};return Object.keys(t).forEach(n=>{e[n]=zR(t[n])}),e}function or(t,e,n={clone:!0}){const r=n.clone?{...t}:t;return xi(t)&&xi(e)&&Object.keys(e).forEach(i=>{C.isValidElement(e[i])||BR.isValidElementType(e[i])?r[i]=e[i]:xi(e[i])&&Object.prototype.hasOwnProperty.call(t,i)&&xi(t[i])?r[i]=or(t[i],e[i],n):n.clone?r[i]=xi(e[i])?zR(e[i]):e[i]:r[i]=e[i]}),r}function sd(t,e){return e?or(t,e,{clone:!1}):t}function qW(t,e){if(!t.containerQueries)return e;const n=Object.keys(e).filter(r=>r.startsWith("@container")).sort((r,i)=>{const s=/min-width:\s*([0-9.]+)/;return+(r.match(s)?.[1]||0)-+(i.match(s)?.[1]||0)});return n.length?n.reduce((r,i)=>{const s=e[i];return delete r[i],r[i]=s,r},{...e}):e}function GW(t,e){return e==="@"||e.startsWith("@")&&(t.some(n=>e.startsWith(`@${n}`))||!!e.match(/^@\d/))}function KW(t,e){const n=e.match(/^@([^/]+)?\/?(.+)?$/);if(!n)return null;const[,r,i]=n,s=Number.isNaN(+r)?r||0:+r;return t.containerQueries(i).up(s)}function YW(t){const e=(s,a)=>s.replace("@media",a?`@container ${a}`:"@container");function n(s,a){s.up=(...c)=>e(t.breakpoints.up(...c),a),s.down=(...c)=>e(t.breakpoints.down(...c),a),s.between=(...c)=>e(t.breakpoints.between(...c),a),s.only=(...c)=>e(t.breakpoints.only(...c),a),s.not=(...c)=>{const u=e(t.breakpoints.not(...c),a);return u.includes("not all and")?u.replace("not all and ","").replace("min-width:","width<").replace("max-width:","width>").replace("and","or"):u}}const r={},i=s=>(n(r,s),r);return n(i),{...t,containerQueries:i}}const Um={xs:0,sm:600,md:900,lg:1200,xl:1536},bT={keys:["xs","sm","md","lg","xl"],up:t=>`@media (min-width:${Um[t]}px)`},XW={containerQueries:t=>({up:e=>{let n=typeof e=="number"?e:Um[e]||e;return typeof n=="number"&&(n=`${n}px`),t?`@container ${t} (min-width:${n})`:`@container (min-width:${n})`}})};function ys(t,e,n){const r=t.theme||{};if(Array.isArray(e)){const s=r.breakpoints||bT;return e.reduce((a,c,u)=>(a[s.up(s.keys[u])]=n(e[u]),a),{})}if(typeof e=="object"){const s=r.breakpoints||bT;return Object.keys(e).reduce((a,c)=>{if(GW(s.keys,c)){const u=KW(r.containerQueries?r:XW,c);u&&(a[u]=n(e[c],c))}else if(Object.keys(s.values||Um).includes(c)){const u=s.up(c);a[u]=n(e[c],c)}else{const u=c;a[u]=e[u]}return a},{})}return n(e)}function JW(t={}){return t.keys?.reduce((n,r)=>{const i=t.up(r);return n[i]={},n},{})||{}}function QW(t,e){return t.reduce((n,r)=>{const i=n[r];return(!i||Object.keys(i).length===0)&&delete n[r],n},e)}function Vm(t,e,n=!0){if(!e||typeof e!="string")return null;if(t&&t.vars&&n){const r=`vars.${e}`.split(".").reduce((i,s)=>i&&i[s]?i[s]:null,t);if(r!=null)return r}return e.split(".").reduce((r,i)=>r&&r[i]!=null?r[i]:null,t)}function Qp(t,e,n,r=n){let i;return typeof t=="function"?i=t(n):Array.isArray(t)?i=t[n]||r:i=Vm(t,n)||r,e&&(i=e(i,r,t)),i}function Rt(t){const{prop:e,cssProperty:n=t.prop,themeKey:r,transform:i}=t,s=a=>{if(a[e]==null)return null;const c=a[e],u=a.theme,f=Vm(u,r)||{};return ys(a,c,g=>{let v=Qp(f,i,g);return g===v&&typeof g=="string"&&(v=Qp(f,i,`${e}${g==="default"?"":VR(g)}`,g)),n===!1?v:{[n]:v}})};return s.propTypes={},s.filterProps=[e],s}function ZW(t){const e={};return n=>(e[n]===void 0&&(e[n]=t(n)),e[n])}const eq={m:"margin",p:"padding"},tq={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},ET={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},nq=ZW(t=>{if(t.length>2)if(ET[t])t=ET[t];else return[t];const[e,n]=t.split(""),r=eq[e],i=tq[n]||"";return Array.isArray(i)?i.map(s=>r+s):[r+i]}),bx=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],Ex=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"];[...bx,...Ex];function uf(t,e,n,r){const i=Vm(t,e,!0)??n;return typeof i=="number"||typeof i=="string"?s=>typeof s=="string"?s:typeof i=="string"?i.startsWith("var(")&&s===0?0:i.startsWith("var(")&&s===1?i:`calc(${s} * ${i})`:i*s:Array.isArray(i)?s=>{if(typeof s=="string")return s;const a=Math.abs(s),c=i[a];return s>=0?c:typeof c=="number"?-c:typeof c=="string"&&c.startsWith("var(")?`calc(-1 * ${c})`:`-${c}`}:typeof i=="function"?i:()=>{}}function Sx(t){return uf(t,"spacing",8)}function df(t,e){return typeof e=="string"||e==null?e:t(e)}function rq(t,e){return n=>t.reduce((r,i)=>(r[i]=df(e,n),r),{})}function iq(t,e,n,r){if(!e.includes(n))return null;const i=nq(n),s=rq(i,r),a=t[n];return ys(t,a,s)}function HR(t,e){const n=Sx(t.theme);return Object.keys(t).map(r=>iq(t,e,r,n)).reduce(sd,{})}function bt(t){return HR(t,bx)}bt.propTypes={};bt.filterProps=bx;function Et(t){return HR(t,Ex)}Et.propTypes={};Et.filterProps=Ex;function Bm(...t){const e=t.reduce((r,i)=>(i.filterProps.forEach(s=>{r[s]=i}),r),{}),n=r=>Object.keys(r).reduce((i,s)=>e[s]?sd(i,e[s](r)):i,{});return n.propTypes={},n.filterProps=t.reduce((r,i)=>r.concat(i.filterProps),[]),n}function Er(t){return typeof t!="number"?t:`${t}px solid`}function Ar(t,e){return Rt({prop:t,themeKey:"borders",transform:e})}const sq=Ar("border",Er),oq=Ar("borderTop",Er),aq=Ar("borderRight",Er),lq=Ar("borderBottom",Er),cq=Ar("borderLeft",Er),uq=Ar("borderColor"),dq=Ar("borderTopColor"),fq=Ar("borderRightColor"),hq=Ar("borderBottomColor"),pq=Ar("borderLeftColor"),mq=Ar("outline",Er),gq=Ar("outlineColor"),zm=t=>{if(t.borderRadius!==void 0&&t.borderRadius!==null){const e=uf(t.theme,"shape.borderRadius",4),n=r=>({borderRadius:df(e,r)});return ys(t,t.borderRadius,n)}return null};zm.propTypes={};zm.filterProps=["borderRadius"];Bm(sq,oq,aq,lq,cq,uq,dq,fq,hq,pq,zm,mq,gq);const Hm=t=>{if(t.gap!==void 0&&t.gap!==null){const e=uf(t.theme,"spacing",8),n=r=>({gap:df(e,r)});return ys(t,t.gap,n)}return null};Hm.propTypes={};Hm.filterProps=["gap"];const Wm=t=>{if(t.columnGap!==void 0&&t.columnGap!==null){const e=uf(t.theme,"spacing",8),n=r=>({columnGap:df(e,r)});return ys(t,t.columnGap,n)}return null};Wm.propTypes={};Wm.filterProps=["columnGap"];const qm=t=>{if(t.rowGap!==void 0&&t.rowGap!==null){const e=uf(t.theme,"spacing",8),n=r=>({rowGap:df(e,r)});return ys(t,t.rowGap,n)}return null};qm.propTypes={};qm.filterProps=["rowGap"];const vq=Rt({prop:"gridColumn"}),yq=Rt({prop:"gridRow"}),wq=Rt({prop:"gridAutoFlow"}),_q=Rt({prop:"gridAutoColumns"}),xq=Rt({prop:"gridAutoRows"}),bq=Rt({prop:"gridTemplateColumns"}),Eq=Rt({prop:"gridTemplateRows"}),Sq=Rt({prop:"gridTemplateAreas"}),Cq=Rt({prop:"gridArea"});Bm(Hm,Wm,qm,vq,yq,wq,_q,xq,bq,Eq,Sq,Cq);function Xl(t,e){return e==="grey"?e:t}const Tq=Rt({prop:"color",themeKey:"palette",transform:Xl}),kq=Rt({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette",transform:Xl}),Pq=Rt({prop:"backgroundColor",themeKey:"palette",transform:Xl});Bm(Tq,kq,Pq);function ir(t){return t<=1&&t!==0?`${t*100}%`:t}const Iq=Rt({prop:"width",transform:ir}),Cx=t=>{if(t.maxWidth!==void 0&&t.maxWidth!==null){const e=n=>{const r=t.theme?.breakpoints?.values?.[n]||Um[n];return r?t.theme?.breakpoints?.unit!=="px"?{maxWidth:`${r}${t.theme.breakpoints.unit}`}:{maxWidth:r}:{maxWidth:ir(n)}};return ys(t,t.maxWidth,e)}return null};Cx.filterProps=["maxWidth"];const Aq=Rt({prop:"minWidth",transform:ir}),Rq=Rt({prop:"height",transform:ir}),Nq=Rt({prop:"maxHeight",transform:ir}),Oq=Rt({prop:"minHeight",transform:ir});Rt({prop:"size",cssProperty:"width",transform:ir});Rt({prop:"size",cssProperty:"height",transform:ir});const Mq=Rt({prop:"boxSizing"});Bm(Iq,Cx,Aq,Rq,Nq,Oq,Mq);const ff={border:{themeKey:"borders",transform:Er},borderTop:{themeKey:"borders",transform:Er},borderRight:{themeKey:"borders",transform:Er},borderBottom:{themeKey:"borders",transform:Er},borderLeft:{themeKey:"borders",transform:Er},borderColor:{themeKey:"palette"},borderTopColor:{themeKey:"palette"},borderRightColor:{themeKey:"palette"},borderBottomColor:{themeKey:"palette"},borderLeftColor:{themeKey:"palette"},outline:{themeKey:"borders",transform:Er},outlineColor:{themeKey:"palette"},borderRadius:{themeKey:"shape.borderRadius",style:zm},color:{themeKey:"palette",transform:Xl},bgcolor:{themeKey:"palette",cssProperty:"backgroundColor",transform:Xl},backgroundColor:{themeKey:"palette",transform:Xl},p:{style:Et},pt:{style:Et},pr:{style:Et},pb:{style:Et},pl:{style:Et},px:{style:Et},py:{style:Et},padding:{style:Et},paddingTop:{style:Et},paddingRight:{style:Et},paddingBottom:{style:Et},paddingLeft:{style:Et},paddingX:{style:Et},paddingY:{style:Et},paddingInline:{style:Et},paddingInlineStart:{style:Et},paddingInlineEnd:{style:Et},paddingBlock:{style:Et},paddingBlockStart:{style:Et},paddingBlockEnd:{style:Et},m:{style:bt},mt:{style:bt},mr:{style:bt},mb:{style:bt},ml:{style:bt},mx:{style:bt},my:{style:bt},margin:{style:bt},marginTop:{style:bt},marginRight:{style:bt},marginBottom:{style:bt},marginLeft:{style:bt},marginX:{style:bt},marginY:{style:bt},marginInline:{style:bt},marginInlineStart:{style:bt},marginInlineEnd:{style:bt},marginBlock:{style:bt},marginBlockStart:{style:bt},marginBlockEnd:{style:bt},displayPrint:{cssProperty:!1,transform:t=>({"@media print":{display:t}})},display:{},overflow:{},textOverflow:{},visibility:{},whiteSpace:{},flexBasis:{},flexDirection:{},flexWrap:{},justifyContent:{},alignItems:{},alignContent:{},order:{},flex:{},flexGrow:{},flexShrink:{},alignSelf:{},justifyItems:{},justifySelf:{},gap:{style:Hm},rowGap:{style:qm},columnGap:{style:Wm},gridColumn:{},gridRow:{},gridAutoFlow:{},gridAutoColumns:{},gridAutoRows:{},gridTemplateColumns:{},gridTemplateRows:{},gridTemplateAreas:{},gridArea:{},position:{},zIndex:{themeKey:"zIndex"},top:{},right:{},bottom:{},left:{},boxShadow:{themeKey:"shadows"},width:{transform:ir},maxWidth:{style:Cx},minWidth:{transform:ir},height:{transform:ir},maxHeight:{transform:ir},minHeight:{transform:ir},boxSizing:{},font:{themeKey:"font"},fontFamily:{themeKey:"typography"},fontSize:{themeKey:"typography"},fontStyle:{themeKey:"typography"},fontWeight:{themeKey:"typography"},letterSpacing:{},textTransform:{},lineHeight:{},textAlign:{},typography:{cssProperty:!1,themeKey:"typography"}};function Dq(...t){const e=t.reduce((r,i)=>r.concat(Object.keys(i)),[]),n=new Set(e);return t.every(r=>n.size===Object.keys(r).length)}function Lq(t,e){return typeof t=="function"?t(e):t}function jq(){function t(n,r,i,s){const a={[n]:r,theme:i},c=s[n];if(!c)return{[n]:r};const{cssProperty:u=n,themeKey:f,transform:h,style:g}=c;if(r==null)return null;if(f==="typography"&&r==="inherit")return{[n]:r};const v=Vm(i,f)||{};return g?g(a):ys(a,r,_=>{let T=Qp(v,h,_);return _===T&&typeof _=="string"&&(T=Qp(v,h,`${n}${_==="default"?"":VR(_)}`,_)),u===!1?T:{[u]:T}})}function e(n){const{sx:r,theme:i={}}=n||{};if(!r)return null;const s=i.unstable_sxConfig??ff;function a(c){let u=c;if(typeof c=="function")u=c(i);else if(typeof c!="object")return c;if(!u)return null;const f=JW(i.breakpoints),h=Object.keys(f);let g=f;return Object.keys(u).forEach(v=>{const x=Lq(u[v],i);if(x!=null)if(typeof x=="object")if(s[v])g=sd(g,t(v,x,i,s));else{const _=ys({theme:i},x,T=>({[v]:T}));Dq(_,x)?g[v]=e({sx:x,theme:i}):g=sd(g,_)}else g=sd(g,t(v,x,i,s))}),qW(i,QW(h,g))}return Array.isArray(r)?r.map(a):a(r)}return e}const Na=jq();Na.filterProps=["sx"];const Fq=t=>{const e={systemProps:{},otherProps:{}},n=t?.theme?.unstable_sxConfig??ff;return Object.keys(t).forEach(r=>{n[r]?e.systemProps[r]=t[r]:e.otherProps[r]=t[r]}),e};function $q(t){const{sx:e,...n}=t,{systemProps:r,otherProps:i}=Fq(n);let s;return Array.isArray(e)?s=[r,...e]:typeof e=="function"?s=(...a)=>{const c=e(...a);return xi(c)?{...r,...c}:r}:s={...r,...e},{...i,sx:s}}function Z0(){return Z0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Z0.apply(null,arguments)}function Uq(t){if(t.sheet)return t.sheet;for(var e=0;e<document.styleSheets.length;e++)if(document.styleSheets[e].ownerNode===t)return document.styleSheets[e]}function Vq(t){var e=document.createElement("style");return e.setAttribute("data-emotion",t.key),t.nonce!==void 0&&e.setAttribute("nonce",t.nonce),e.appendChild(document.createTextNode("")),e.setAttribute("data-s",""),e}var Bq=function(){function t(n){var r=this;this._insertTag=function(i){var s;r.tags.length===0?r.insertionPoint?s=r.insertionPoint.nextSibling:r.prepend?s=r.container.firstChild:s=r.before:s=r.tags[r.tags.length-1].nextSibling,r.container.insertBefore(i,s),r.tags.push(i)},this.isSpeedy=n.speedy===void 0?!0:n.speedy,this.tags=[],this.ctr=0,this.nonce=n.nonce,this.key=n.key,this.container=n.container,this.prepend=n.prepend,this.insertionPoint=n.insertionPoint,this.before=null}var e=t.prototype;return e.hydrate=function(r){r.forEach(this._insertTag)},e.insert=function(r){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(Vq(this));var i=this.tags[this.tags.length-1];if(this.isSpeedy){var s=Uq(i);try{s.insertRule(r,s.cssRules.length)}catch{}}else i.appendChild(document.createTextNode(r));this.ctr++},e.flush=function(){this.tags.forEach(function(r){var i;return(i=r.parentNode)==null?void 0:i.removeChild(r)}),this.tags=[],this.ctr=0},t}(),pn="-ms-",Zp="-moz-",qe="-webkit-",WR="comm",Tx="rule",kx="decl",zq="@import",qR="@keyframes",Hq="@layer",Wq=Math.abs,Gm=String.fromCharCode,qq=Object.assign;function Gq(t,e){return an(t,0)^45?(((e<<2^an(t,0))<<2^an(t,1))<<2^an(t,2))<<2^an(t,3):0}function GR(t){return t.trim()}function Kq(t,e){return(t=e.exec(t))?t[0]:t}function Ge(t,e,n){return t.replace(e,n)}function ew(t,e){return t.indexOf(e)}function an(t,e){return t.charCodeAt(e)|0}function Dd(t,e,n){return t.slice(e,n)}function yi(t){return t.length}function Px(t){return t.length}function zh(t,e){return e.push(t),t}function Yq(t,e){return t.map(e).join("")}var Km=1,cc=1,KR=0,Kn=0,Ot=0,Tc="";function Ym(t,e,n,r,i,s,a){return{value:t,root:e,parent:n,type:r,props:i,children:s,line:Km,column:cc,length:a,return:""}}function Au(t,e){return qq(Ym("",null,null,"",null,null,0),t,{length:-t.length},e)}function Xq(){return Ot}function Jq(){return Ot=Kn>0?an(Tc,--Kn):0,cc--,Ot===10&&(cc=1,Km--),Ot}function ar(){return Ot=Kn<KR?an(Tc,Kn++):0,cc++,Ot===10&&(cc=1,Km++),Ot}function Pi(){return an(Tc,Kn)}function up(){return Kn}function hf(t,e){return Dd(Tc,t,e)}function Ld(t){switch(t){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function YR(t){return Km=cc=1,KR=yi(Tc=t),Kn=0,[]}function XR(t){return Tc="",t}function dp(t){return GR(hf(Kn-1,tw(t===91?t+2:t===40?t+1:t)))}function Qq(t){for(;(Ot=Pi())&&Ot<33;)ar();return Ld(t)>2||Ld(Ot)>3?"":" "}function Zq(t,e){for(;--e&&ar()&&!(Ot<48||Ot>102||Ot>57&&Ot<65||Ot>70&&Ot<97););return hf(t,up()+(e<6&&Pi()==32&&ar()==32))}function tw(t){for(;ar();)switch(Ot){case t:return Kn;case 34:case 39:t!==34&&t!==39&&tw(Ot);break;case 40:t===41&&tw(t);break;case 92:ar();break}return Kn}function eG(t,e){for(;ar()&&t+Ot!==57;)if(t+Ot===84&&Pi()===47)break;return"/*"+hf(e,Kn-1)+"*"+Gm(t===47?t:ar())}function tG(t){for(;!Ld(Pi());)ar();return hf(t,Kn)}function nG(t){return XR(fp("",null,null,null,[""],t=YR(t),0,[0],t))}function fp(t,e,n,r,i,s,a,c,u){for(var f=0,h=0,g=a,v=0,x=0,_=0,T=1,I=1,R=1,P=0,k="",j=i,$=s,B=r,L=k;I;)switch(_=P,P=ar()){case 40:if(_!=108&&an(L,g-1)==58){ew(L+=Ge(dp(P),"&","&\f"),"&\f")!=-1&&(R=-1);break}case 34:case 39:case 91:L+=dp(P);break;case 9:case 10:case 13:case 32:L+=Qq(_);break;case 92:L+=Zq(up()-1,7);continue;case 47:switch(Pi()){case 42:case 47:zh(rG(eG(ar(),up()),e,n),u);break;default:L+="/"}break;case 123*T:c[f++]=yi(L)*R;case 125*T:case 59:case 0:switch(P){case 0:case 125:I=0;case 59+h:R==-1&&(L=Ge(L,/\f/g,"")),x>0&&yi(L)-g&&zh(x>32?CT(L+";",r,n,g-1):CT(Ge(L," ","")+";",r,n,g-2),u);break;case 59:L+=";";default:if(zh(B=ST(L,e,n,f,h,i,c,k,j=[],$=[],g),s),P===123)if(h===0)fp(L,e,B,B,j,s,g,c,$);else switch(v===99&&an(L,3)===110?100:v){case 100:case 108:case 109:case 115:fp(t,B,B,r&&zh(ST(t,B,B,0,0,i,c,k,i,j=[],g),$),i,$,g,c,r?j:$);break;default:fp(L,B,B,B,[""],$,0,c,$)}}f=h=x=0,T=R=1,k=L="",g=a;break;case 58:g=1+yi(L),x=_;default:if(T<1){if(P==123)--T;else if(P==125&&T++==0&&Jq()==125)continue}switch(L+=Gm(P),P*T){case 38:R=h>0?1:(L+="\f",-1);break;case 44:c[f++]=(yi(L)-1)*R,R=1;break;case 64:Pi()===45&&(L+=dp(ar())),v=Pi(),h=g=yi(k=L+=tG(up())),P++;break;case 45:_===45&&yi(L)==2&&(T=0)}}return s}function ST(t,e,n,r,i,s,a,c,u,f,h){for(var g=i-1,v=i===0?s:[""],x=Px(v),_=0,T=0,I=0;_<r;++_)for(var R=0,P=Dd(t,g+1,g=Wq(T=a[_])),k=t;R<x;++R)(k=GR(T>0?v[R]+" "+P:Ge(P,/&\f/g,v[R])))&&(u[I++]=k);return Ym(t,e,n,i===0?Tx:c,u,f,h)}function rG(t,e,n){return Ym(t,e,n,WR,Gm(Xq()),Dd(t,2,-2),0)}function CT(t,e,n,r){return Ym(t,e,n,kx,Dd(t,0,r),Dd(t,r+1,-1),r)}function Jl(t,e){for(var n="",r=Px(t),i=0;i<r;i++)n+=e(t[i],i,t,e)||"";return n}function iG(t,e,n,r){switch(t.type){case Hq:if(t.children.length)break;case zq:case kx:return t.return=t.return||t.value;case WR:return"";case qR:return t.return=t.value+"{"+Jl(t.children,r)+"}";case Tx:t.value=t.props.join(",")}return yi(n=Jl(t.children,r))?t.return=t.value+"{"+n+"}":""}function sG(t){var e=Px(t);return function(n,r,i,s){for(var a="",c=0;c<e;c++)a+=t[c](n,r,i,s)||"";return a}}function oG(t){return function(e){e.root||(e=e.return)&&t(e)}}function JR(t){var e=Object.create(null);return function(n){return e[n]===void 0&&(e[n]=t(n)),e[n]}}var aG=function(e,n,r){for(var i=0,s=0;i=s,s=Pi(),i===38&&s===12&&(n[r]=1),!Ld(s);)ar();return hf(e,Kn)},lG=function(e,n){var r=-1,i=44;do switch(Ld(i)){case 0:i===38&&Pi()===12&&(n[r]=1),e[r]+=aG(Kn-1,n,r);break;case 2:e[r]+=dp(i);break;case 4:if(i===44){e[++r]=Pi()===58?"&\f":"",n[r]=e[r].length;break}default:e[r]+=Gm(i)}while(i=ar());return e},cG=function(e,n){return XR(lG(YR(e),n))},TT=new WeakMap,uG=function(e){if(!(e.type!=="rule"||!e.parent||e.length<1)){for(var n=e.value,r=e.parent,i=e.column===r.column&&e.line===r.line;r.type!=="rule";)if(r=r.parent,!r)return;if(!(e.props.length===1&&n.charCodeAt(0)!==58&&!TT.get(r))&&!i){TT.set(e,!0);for(var s=[],a=cG(n,s),c=r.props,u=0,f=0;u<a.length;u++)for(var h=0;h<c.length;h++,f++)e.props[f]=s[u]?a[u].replace(/&\f/g,c[h]):c[h]+" "+a[u]}}},dG=function(e){if(e.type==="decl"){var n=e.value;n.charCodeAt(0)===108&&n.charCodeAt(2)===98&&(e.return="",e.value="")}};function QR(t,e){switch(Gq(t,e)){case 5103:return qe+"print-"+t+t;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return qe+t+t;case 5349:case 4246:case 4810:case 6968:case 2756:return qe+t+Zp+t+pn+t+t;case 6828:case 4268:return qe+t+pn+t+t;case 6165:return qe+t+pn+"flex-"+t+t;case 5187:return qe+t+Ge(t,/(\w+).+(:[^]+)/,qe+"box-$1$2"+pn+"flex-$1$2")+t;case 5443:return qe+t+pn+"flex-item-"+Ge(t,/flex-|-self/,"")+t;case 4675:return qe+t+pn+"flex-line-pack"+Ge(t,/align-content|flex-|-self/,"")+t;case 5548:return qe+t+pn+Ge(t,"shrink","negative")+t;case 5292:return qe+t+pn+Ge(t,"basis","preferred-size")+t;case 6060:return qe+"box-"+Ge(t,"-grow","")+qe+t+pn+Ge(t,"grow","positive")+t;case 4554:return qe+Ge(t,/([^-])(transform)/g,"$1"+qe+"$2")+t;case 6187:return Ge(Ge(Ge(t,/(zoom-|grab)/,qe+"$1"),/(image-set)/,qe+"$1"),t,"")+t;case 5495:case 3959:return Ge(t,/(image-set\([^]*)/,qe+"$1$`$1");case 4968:return Ge(Ge(t,/(.+:)(flex-)?(.*)/,qe+"box-pack:$3"+pn+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+qe+t+t;case 4095:case 3583:case 4068:case 2532:return Ge(t,/(.+)-inline(.+)/,qe+"$1$2")+t;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(yi(t)-1-e>6)switch(an(t,e+1)){case 109:if(an(t,e+4)!==45)break;case 102:return Ge(t,/(.+:)(.+)-([^]+)/,"$1"+qe+"$2-$3$1"+Zp+(an(t,e+3)==108?"$3":"$2-$3"))+t;case 115:return~ew(t,"stretch")?QR(Ge(t,"stretch","fill-available"),e)+t:t}break;case 4949:if(an(t,e+1)!==115)break;case 6444:switch(an(t,yi(t)-3-(~ew(t,"!important")&&10))){case 107:return Ge(t,":",":"+qe)+t;case 101:return Ge(t,/(.+:)([^;!]+)(;|!.+)?/,"$1"+qe+(an(t,14)===45?"inline-":"")+"box$3$1"+qe+"$2$3$1"+pn+"$2box$3")+t}break;case 5936:switch(an(t,e+11)){case 114:return qe+t+pn+Ge(t,/[svh]\w+-[tblr]{2}/,"tb")+t;case 108:return qe+t+pn+Ge(t,/[svh]\w+-[tblr]{2}/,"tb-rl")+t;case 45:return qe+t+pn+Ge(t,/[svh]\w+-[tblr]{2}/,"lr")+t}return qe+t+pn+t+t}return t}var fG=function(e,n,r,i){if(e.length>-1&&!e.return)switch(e.type){case kx:e.return=QR(e.value,e.length);break;case qR:return Jl([Au(e,{value:Ge(e.value,"@","@"+qe)})],i);case Tx:if(e.length)return Yq(e.props,function(s){switch(Kq(s,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return Jl([Au(e,{props:[Ge(s,/:(read-\w+)/,":"+Zp+"$1")]})],i);case"::placeholder":return Jl([Au(e,{props:[Ge(s,/:(plac\w+)/,":"+qe+"input-$1")]}),Au(e,{props:[Ge(s,/:(plac\w+)/,":"+Zp+"$1")]}),Au(e,{props:[Ge(s,/:(plac\w+)/,pn+"input-$1")]})],i)}return""})}},hG=[fG],pG=function(e){var n=e.key;if(n==="css"){var r=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(r,function(T){var I=T.getAttribute("data-emotion");I.indexOf(" ")!==-1&&(document.head.appendChild(T),T.setAttribute("data-s",""))})}var i=e.stylisPlugins||hG,s={},a,c=[];a=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+n+' "]'),function(T){for(var I=T.getAttribute("data-emotion").split(" "),R=1;R<I.length;R++)s[I[R]]=!0;c.push(T)});var u,f=[uG,dG];{var h,g=[iG,oG(function(T){h.insert(T)})],v=sG(f.concat(i,g)),x=function(I){return Jl(nG(I),v)};u=function(I,R,P,k){h=P,x(I?I+"{"+R.styles+"}":R.styles),k&&(_.inserted[R.name]=!0)}}var _={key:n,sheet:new Bq({key:n,container:a,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:s,registered:{},insert:u};return _.sheet.hydrate(c),_},mG=!0;function gG(t,e,n){var r="";return n.split(" ").forEach(function(i){t[i]!==void 0?e.push(t[i]+";"):i&&(r+=i+" ")}),r}var ZR=function(e,n,r){var i=e.key+"-"+n.name;(r===!1||mG===!1)&&e.registered[i]===void 0&&(e.registered[i]=n.styles)},vG=function(e,n,r){ZR(e,n,r);var i=e.key+"-"+n.name;if(e.inserted[n.name]===void 0){var s=n;do e.insert(n===s?"."+i:"",s,e.sheet,!0),s=s.next;while(s!==void 0)}};function yG(t){for(var e=0,n,r=0,i=t.length;i>=4;++r,i-=4)n=t.charCodeAt(r)&255|(t.charCodeAt(++r)&255)<<8|(t.charCodeAt(++r)&255)<<16|(t.charCodeAt(++r)&255)<<24,n=(n&65535)*1540483477+((n>>>16)*59797<<16),n^=n>>>24,e=(n&65535)*1540483477+((n>>>16)*59797<<16)^(e&65535)*1540483477+((e>>>16)*59797<<16);switch(i){case 3:e^=(t.charCodeAt(r+2)&255)<<16;case 2:e^=(t.charCodeAt(r+1)&255)<<8;case 1:e^=t.charCodeAt(r)&255,e=(e&65535)*1540483477+((e>>>16)*59797<<16)}return e^=e>>>13,e=(e&65535)*1540483477+((e>>>16)*59797<<16),((e^e>>>15)>>>0).toString(36)}var wG={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,scale:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},_G=/[A-Z]|^ms/g,xG=/_EMO_([^_]+?)_([^]*?)_EMO_/g,eN=function(e){return e.charCodeAt(1)===45},kT=function(e){return e!=null&&typeof e!="boolean"},Ty=JR(function(t){return eN(t)?t:t.replace(_G,"-$&").toLowerCase()}),PT=function(e,n){switch(e){case"animation":case"animationName":if(typeof n=="string")return n.replace(xG,function(r,i,s){return wi={name:i,styles:s,next:wi},i})}return wG[e]!==1&&!eN(e)&&typeof n=="number"&&n!==0?n+"px":n};function jd(t,e,n){if(n==null)return"";var r=n;if(r.__emotion_styles!==void 0)return r;switch(typeof n){case"boolean":return"";case"object":{var i=n;if(i.anim===1)return wi={name:i.name,styles:i.styles,next:wi},i.name;var s=n;if(s.styles!==void 0){var a=s.next;if(a!==void 0)for(;a!==void 0;)wi={name:a.name,styles:a.styles,next:wi},a=a.next;var c=s.styles+";";return c}return bG(t,e,n)}case"function":{if(t!==void 0){var u=wi,f=n(t);return wi=u,jd(t,e,f)}break}}var h=n;if(e==null)return h;var g=e[h];return g!==void 0?g:h}function bG(t,e,n){var r="";if(Array.isArray(n))for(var i=0;i<n.length;i++)r+=jd(t,e,n[i])+";";else for(var s in n){var a=n[s];if(typeof a!="object"){var c=a;e!=null&&e[c]!==void 0?r+=s+"{"+e[c]+"}":kT(c)&&(r+=Ty(s)+":"+PT(s,c)+";")}else if(Array.isArray(a)&&typeof a[0]=="string"&&(e==null||e[a[0]]===void 0))for(var u=0;u<a.length;u++)kT(a[u])&&(r+=Ty(s)+":"+PT(s,a[u])+";");else{var f=jd(t,e,a);switch(s){case"animation":case"animationName":{r+=Ty(s)+":"+f+";";break}default:r+=s+"{"+f+"}"}}}return r}var IT=/label:\s*([^\s;{]+)\s*(;|$)/g,wi;function tN(t,e,n){if(t.length===1&&typeof t[0]=="object"&&t[0]!==null&&t[0].styles!==void 0)return t[0];var r=!0,i="";wi=void 0;var s=t[0];if(s==null||s.raw===void 0)r=!1,i+=jd(n,e,s);else{var a=s;i+=a[0]}for(var c=1;c<t.length;c++)if(i+=jd(n,e,t[c]),r){var u=s;i+=u[c]}IT.lastIndex=0;for(var f="",h;(h=IT.exec(i))!==null;)f+="-"+h[1];var g=yG(i)+f;return{name:g,styles:i,next:wi}}var EG=function(e){return e()},SG=mp.useInsertionEffect?mp.useInsertionEffect:!1,CG=SG||EG,nN=C.createContext(typeof HTMLElement<"u"?pG({key:"css"}):null);nN.Provider;var TG=function(e){return C.forwardRef(function(n,r){var i=C.useContext(nN);return e(n,i,r)})},rN=C.createContext({}),kG=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|disableRemotePlayback|download|draggable|encType|enterKeyHint|fetchpriority|fetchPriority|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,PG=JR(function(t){return kG.test(t)||t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)<91}),IG=PG,AG=function(e){return e!=="theme"},AT=function(e){return typeof e=="string"&&e.charCodeAt(0)>96?IG:AG},RT=function(e,n,r){var i;if(n){var s=n.shouldForwardProp;i=e.__emotion_forwardProp&&s?function(a){return e.__emotion_forwardProp(a)&&s(a)}:s}return typeof i!="function"&&r&&(i=e.__emotion_forwardProp),i},RG=function(e){var n=e.cache,r=e.serialized,i=e.isStringTag;return ZR(n,r,i),CG(function(){return vG(n,r,i)}),null},NG=function t(e,n){var r=e.__emotion_real===e,i=r&&e.__emotion_base||e,s,a;n!==void 0&&(s=n.label,a=n.target);var c=RT(e,n,r),u=c||AT(i),f=!u("as");return function(){var h=arguments,g=r&&e.__emotion_styles!==void 0?e.__emotion_styles.slice(0):[];if(s!==void 0&&g.push("label:"+s+";"),h[0]==null||h[0].raw===void 0)g.push.apply(g,h);else{var v=h[0];g.push(v[0]);for(var x=h.length,_=1;_<x;_++)g.push(h[_],v[_])}var T=TG(function(I,R,P){var k=f&&I.as||i,j="",$=[],B=I;if(I.theme==null){B={};for(var L in I)B[L]=I[L];B.theme=C.useContext(rN)}typeof I.className=="string"?j=gG(R.registered,$,I.className):I.className!=null&&(j=I.className+" ");var N=tN(g.concat($),R.registered,B);j+=R.key+"-"+N.name,a!==void 0&&(j+=" "+a);var O=f&&c===void 0?AT(k):u,b={};for(var M in I)f&&M==="as"||O(M)&&(b[M]=I[M]);return b.className=j,P&&(b.ref=P),C.createElement(C.Fragment,null,C.createElement(RG,{cache:R,serialized:N,isStringTag:typeof k=="string"}),C.createElement(k,b))});return T.displayName=s!==void 0?s:"Styled("+(typeof i=="string"?i:i.displayName||i.name||"Component")+")",T.defaultProps=e.defaultProps,T.__emotion_real=T,T.__emotion_base=i,T.__emotion_styles=g,T.__emotion_forwardProp=c,Object.defineProperty(T,"toString",{value:function(){return"."+a}}),T.withComponent=function(I,R){var P=t(I,Z0({},n,R,{shouldForwardProp:RT(T,R,!0)}));return P.apply(void 0,g)},T}},OG=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"],nw=NG.bind(null);OG.forEach(function(t){nw[t]=nw(t)});function iN(t,e){return nw(t,e)}function MG(t,e){Array.isArray(t.__emotion_styles)&&(t.__emotion_styles=e(t.__emotion_styles))}const NT=[];function OT(t){return NT[0]=t,tN(NT)}const DG=t=>{const e=Object.keys(t).map(n=>({key:n,val:t[n]}))||[];return e.sort((n,r)=>n.val-r.val),e.reduce((n,r)=>({...n,[r.key]:r.val}),{})};function LG(t){const{values:e={xs:0,sm:600,md:900,lg:1200,xl:1536},unit:n="px",step:r=5,...i}=t,s=DG(e),a=Object.keys(s);function c(v){return`@media (min-width:${typeof e[v]=="number"?e[v]:v}${n})`}function u(v){return`@media (max-width:${(typeof e[v]=="number"?e[v]:v)-r/100}${n})`}function f(v,x){const _=a.indexOf(x);return`@media (min-width:${typeof e[v]=="number"?e[v]:v}${n}) and (max-width:${(_!==-1&&typeof e[a[_]]=="number"?e[a[_]]:x)-r/100}${n})`}function h(v){return a.indexOf(v)+1<a.length?f(v,a[a.indexOf(v)+1]):c(v)}function g(v){const x=a.indexOf(v);return x===0?c(a[1]):x===a.length-1?u(a[x]):f(v,a[a.indexOf(v)+1]).replace("@media","@media not all and")}return{keys:a,values:s,up:c,down:u,between:f,only:h,not:g,unit:n,...i}}const jG={borderRadius:4};function sN(t=8,e=Sx({spacing:t})){if(t.mui)return t;const n=(...r)=>(r.length===0?[1]:r).map(s=>{const a=e(s);return typeof a=="number"?`${a}px`:a}).join(" ");return n.mui=!0,n}function FG(t,e){const n=this;if(n.vars){if(!n.colorSchemes?.[t]||typeof n.getColorSchemeSelector!="function")return{};let r=n.getColorSchemeSelector(t);return r==="&"?e:((r.includes("data-")||r.includes("."))&&(r=`*:where(${r.replace(/\s*&$/,"")}) &`),{[r]:e})}return n.palette.mode===t?e:{}}function Ix(t={},...e){const{breakpoints:n={},palette:r={},spacing:i,shape:s={},...a}=t,c=LG(n),u=sN(i);let f=or({breakpoints:c,direction:"ltr",components:{},palette:{mode:"light",...r},spacing:u,shape:{...jG,...s}},a);return f=YW(f),f.applyStyles=FG,f=e.reduce((h,g)=>or(h,g),f),f.unstable_sxConfig={...ff,...a?.unstable_sxConfig},f.unstable_sx=function(g){return Na({sx:g,theme:this})},f}function $G(t){return Object.keys(t).length===0}function UG(t=null){const e=C.useContext(rN);return!e||$G(e)?t:e}const VG=Ix();function oN(t=VG){return UG(t)}const MT=t=>t,BG=()=>{let t=MT;return{configure(e){t=e},generate(e){return t(e)},reset(){t=MT}}},aN=BG();function zG(t={}){const{themeId:e,defaultTheme:n,defaultClassName:r="MuiBox-root",generateClassName:i}=t,s=iN("div",{shouldForwardProp:c=>c!=="theme"&&c!=="sx"&&c!=="as"})(Na);return C.forwardRef(function(u,f){const h=oN(n),{className:g,component:v="div",...x}=$q(u);return w.jsx(s,{as:v,ref:f,className:lc(g,i?i(r):r),theme:e&&h[e]||h,...x})})}const HG={active:"active",checked:"checked",completed:"completed",disabled:"disabled",error:"error",expanded:"expanded",focused:"focused",focusVisible:"focusVisible",open:"open",readOnly:"readOnly",required:"required",selected:"selected"};function Ax(t,e,n="Mui"){const r=HG[e];return r?`${n}-${r}`:`${aN.generate(t)}-${e}`}function Rx(t,e,n="Mui"){const r={};return e.forEach(i=>{r[i]=Ax(t,i,n)}),r}function lN(t){const{variants:e,...n}=t,r={variants:e,style:OT(n),isProcessed:!0};return r.style===n||e&&e.forEach(i=>{typeof i.style!="function"&&(i.style=OT(i.style))}),r}const WG=Ix();function ky(t){return t!=="ownerState"&&t!=="theme"&&t!=="sx"&&t!=="as"}function qG(t){return t?(e,n)=>n[t]:null}function GG(t,e,n){t.theme=XG(t.theme)?n:t.theme[e]||t.theme}function hp(t,e){const n=typeof e=="function"?e(t):e;if(Array.isArray(n))return n.flatMap(r=>hp(t,r));if(Array.isArray(n?.variants)){let r;if(n.isProcessed)r=n.style;else{const{variants:i,...s}=n;r=s}return cN(t,n.variants,[r])}return n?.isProcessed?n.style:n}function cN(t,e,n=[]){let r;e:for(let i=0;i<e.length;i+=1){const s=e[i];if(typeof s.props=="function"){if(r??={...t,...t.ownerState,ownerState:t.ownerState},!s.props(r))continue}else for(const a in s.props)if(t[a]!==s.props[a]&&t.ownerState?.[a]!==s.props[a])continue e;typeof s.style=="function"?(r??={...t,...t.ownerState,ownerState:t.ownerState},n.push(s.style(r))):n.push(s.style)}return n}function KG(t={}){const{themeId:e,defaultTheme:n=WG,rootShouldForwardProp:r=ky,slotShouldForwardProp:i=ky}=t;function s(c){GG(c,e,n)}return(c,u={})=>{MG(c,$=>$.filter(B=>B!==Na));const{name:f,slot:h,skipVariantsResolver:g,skipSx:v,overridesResolver:x=qG(QG(h)),..._}=u,T=g!==void 0?g:h&&h!=="Root"&&h!=="root"||!1,I=v||!1;let R=ky;h==="Root"||h==="root"?R=r:h?R=i:JG(c)&&(R=void 0);const P=iN(c,{shouldForwardProp:R,label:YG(),..._}),k=$=>{if(typeof $=="function"&&$.__emotion_real!==$)return function(L){return hp(L,$)};if(xi($)){const B=lN($);return B.variants?function(N){return hp(N,B)}:B.style}return $},j=(...$)=>{const B=[],L=$.map(k),N=[];if(B.push(s),f&&x&&N.push(function(V){const Q=V.theme.components?.[f]?.styleOverrides;if(!Q)return null;const ae={};for(const re in Q)ae[re]=hp(V,Q[re]);return x(V,ae)}),f&&!T&&N.push(function(V){const Q=V.theme?.components?.[f]?.variants;return Q?cN(V,Q):null}),I||N.push(Na),Array.isArray(L[0])){const M=L.shift(),V=new Array(B.length).fill(""),F=new Array(N.length).fill("");let Q;Q=[...V,...M,...F],Q.raw=[...V,...M.raw,...F],B.unshift(Q)}const O=[...B,...L,...N],b=P(...O);return c.muiName&&(b.muiName=c.muiName),b};return P.withConfig&&(j.withConfig=P.withConfig),j}}function YG(t,e){return void 0}function XG(t){for(const e in t)return!1;return!0}function JG(t){return typeof t=="string"&&t.charCodeAt(0)>96}function QG(t){return t&&t.charAt(0).toLowerCase()+t.slice(1)}function rw(t,e){const n={...e};for(const r in t)if(Object.prototype.hasOwnProperty.call(t,r)){const i=r;if(i==="components"||i==="slots")n[i]={...t[i],...n[i]};else if(i==="componentsProps"||i==="slotProps"){const s=t[i],a=e[i];if(!a)n[i]=s||{};else if(!s)n[i]=a;else{n[i]={...a};for(const c in s)if(Object.prototype.hasOwnProperty.call(s,c)){const u=c;n[i][u]=rw(s[u],a[u])}}}else n[i]===void 0&&(n[i]=t[i])}return n}function ZG(t,e=Number.MIN_SAFE_INTEGER,n=Number.MAX_SAFE_INTEGER){return Math.max(e,Math.min(t,n))}function Nx(t,e=0,n=1){return ZG(t,e,n)}function eK(t){t=t.slice(1);const e=new RegExp(`.{1,${t.length>=6?2:1}}`,"g");let n=t.match(e);return n&&n[0].length===1&&(n=n.map(r=>r+r)),n?`rgb${n.length===4?"a":""}(${n.map((r,i)=>i<3?parseInt(r,16):Math.round(parseInt(r,16)/255*1e3)/1e3).join(", ")})`:""}function Eo(t){if(t.type)return t;if(t.charAt(0)==="#")return Eo(eK(t));const e=t.indexOf("("),n=t.substring(0,e);if(!["rgb","rgba","hsl","hsla","color"].includes(n))throw new Error(Ra(9,t));let r=t.substring(e+1,t.length-1),i;if(n==="color"){if(r=r.split(" "),i=r.shift(),r.length===4&&r[3].charAt(0)==="/"&&(r[3]=r[3].slice(1)),!["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].includes(i))throw new Error(Ra(10,i))}else r=r.split(",");return r=r.map(s=>parseFloat(s)),{type:n,values:r,colorSpace:i}}const tK=t=>{const e=Eo(t);return e.values.slice(0,3).map((n,r)=>e.type.includes("hsl")&&r!==0?`${n}%`:n).join(" ")},ju=(t,e)=>{try{return tK(t)}catch{return t}};function Xm(t){const{type:e,colorSpace:n}=t;let{values:r}=t;return e.includes("rgb")?r=r.map((i,s)=>s<3?parseInt(i,10):i):e.includes("hsl")&&(r[1]=`${r[1]}%`,r[2]=`${r[2]}%`),e.includes("color")?r=`${n} ${r.join(" ")}`:r=`${r.join(", ")}`,`${e}(${r})`}function uN(t){t=Eo(t);const{values:e}=t,n=e[0],r=e[1]/100,i=e[2]/100,s=r*Math.min(i,1-i),a=(f,h=(f+n/30)%12)=>i-s*Math.max(Math.min(h-3,9-h,1),-1);let c="rgb";const u=[Math.round(a(0)*255),Math.round(a(8)*255),Math.round(a(4)*255)];return t.type==="hsla"&&(c+="a",u.push(e[3])),Xm({type:c,values:u})}function iw(t){t=Eo(t);let e=t.type==="hsl"||t.type==="hsla"?Eo(uN(t)).values:t.values;return e=e.map(n=>(t.type!=="color"&&(n/=255),n<=.03928?n/12.92:((n+.055)/1.055)**2.4)),Number((.2126*e[0]+.7152*e[1]+.0722*e[2]).toFixed(3))}function nK(t,e){const n=iw(t),r=iw(e);return(Math.max(n,r)+.05)/(Math.min(n,r)+.05)}function rK(t,e){return t=Eo(t),e=Nx(e),(t.type==="rgb"||t.type==="hsl")&&(t.type+="a"),t.type==="color"?t.values[3]=`/${e}`:t.values[3]=e,Xm(t)}function Hh(t,e,n){try{return rK(t,e)}catch{return t}}function Ox(t,e){if(t=Eo(t),e=Nx(e),t.type.includes("hsl"))t.values[2]*=1-e;else if(t.type.includes("rgb")||t.type.includes("color"))for(let n=0;n<3;n+=1)t.values[n]*=1-e;return Xm(t)}function et(t,e,n){try{return Ox(t,e)}catch{return t}}function Mx(t,e){if(t=Eo(t),e=Nx(e),t.type.includes("hsl"))t.values[2]+=(100-t.values[2])*e;else if(t.type.includes("rgb"))for(let n=0;n<3;n+=1)t.values[n]+=(255-t.values[n])*e;else if(t.type.includes("color"))for(let n=0;n<3;n+=1)t.values[n]+=(1-t.values[n])*e;return Xm(t)}function tt(t,e,n){try{return Mx(t,e)}catch{return t}}function iK(t,e=.15){return iw(t)>.5?Ox(t,e):Mx(t,e)}function Wh(t,e,n){try{return iK(t,e)}catch{return t}}const sK=C.createContext(void 0);function oK(t){const{theme:e,name:n,props:r}=t;if(!e||!e.components||!e.components[n])return r;const i=e.components[n];return i.defaultProps?rw(i.defaultProps,r):!i.styleOverrides&&!i.variants?rw(i,r):r}function aK({props:t,name:e}){const n=C.useContext(sK);return oK({props:t,name:e,theme:{components:n}})}const DT={theme:void 0};function lK(t){let e,n;return function(i){let s=e;return(s===void 0||i.theme!==n)&&(DT.theme=i.theme,s=lN(t(DT)),e=s,n=i.theme),s}}function cK(t=""){function e(...r){if(!r.length)return"";const i=r[0];return typeof i=="string"&&!i.match(/(#|\(|\)|(-?(\d*\.)?\d+)(px|em|%|ex|ch|rem|vw|vh|vmin|vmax|cm|mm|in|pt|pc))|^(-?(\d*\.)?\d+)$|(\d+ \d+ \d+)/)?`, var(--${t?`${t}-`:""}${i}${e(...r.slice(1))})`:`, ${i}`}return(r,...i)=>`var(--${t?`${t}-`:""}${r}${e(...i)})`}const LT=(t,e,n,r=[])=>{let i=t;e.forEach((s,a)=>{a===e.length-1?Array.isArray(i)?i[Number(s)]=n:i&&typeof i=="object"&&(i[s]=n):i&&typeof i=="object"&&(i[s]||(i[s]=r.includes(s)?[]:{}),i=i[s])})},uK=(t,e,n)=>{function r(i,s=[],a=[]){Object.entries(i).forEach(([c,u])=>{(!n||n&&!n([...s,c]))&&u!=null&&(typeof u=="object"&&Object.keys(u).length>0?r(u,[...s,c],Array.isArray(u)?[...a,c]:a):e([...s,c],u,a))})}r(t)},dK=(t,e)=>typeof e=="number"?["lineHeight","fontWeight","opacity","zIndex"].some(r=>t.includes(r))||t[t.length-1].toLowerCase().includes("opacity")?e:`${e}px`:e;function Py(t,e){const{prefix:n,shouldSkipGeneratingVar:r}=e||{},i={},s={},a={};return uK(t,(c,u,f)=>{if((typeof u=="string"||typeof u=="number")&&(!r||!r(c,u))){const h=`--${n?`${n}-`:""}${c.join("-")}`,g=dK(c,u);Object.assign(i,{[h]:g}),LT(s,c,`var(${h})`,f),LT(a,c,`var(${h}, ${g})`,f)}},c=>c[0]==="vars"),{css:i,vars:s,varsWithDefaults:a}}function fK(t,e={}){const{getSelector:n=I,disableCssColorScheme:r,colorSchemeSelector:i}=e,{colorSchemes:s={},components:a,defaultColorScheme:c="light",...u}=t,{vars:f,css:h,varsWithDefaults:g}=Py(u,e);let v=g;const x={},{[c]:_,...T}=s;if(Object.entries(T||{}).forEach(([k,j])=>{const{vars:$,css:B,varsWithDefaults:L}=Py(j,e);v=or(v,L),x[k]={css:B,vars:$}}),_){const{css:k,vars:j,varsWithDefaults:$}=Py(_,e);v=or(v,$),x[c]={css:k,vars:j}}function I(k,j){let $=i;if(i==="class"&&($=".%s"),i==="data"&&($="[data-%s]"),i?.startsWith("data-")&&!i.includes("%s")&&($=`[${i}="%s"]`),k){if($==="media")return t.defaultColorScheme===k?":root":{[`@media (prefers-color-scheme: ${s[k]?.palette?.mode||k})`]:{":root":j}};if($)return t.defaultColorScheme===k?`:root, ${$.replace("%s",String(k))}`:$.replace("%s",String(k))}return":root"}return{vars:v,generateThemeVars:()=>{let k={...f};return Object.entries(x).forEach(([,{vars:j}])=>{k=or(k,j)}),k},generateStyleSheets:()=>{const k=[],j=t.defaultColorScheme||"light";function $(N,O){Object.keys(O).length&&k.push(typeof N=="string"?{[N]:{...O}}:N)}$(n(void 0,{...h}),h);const{[j]:B,...L}=x;if(B){const{css:N}=B,O=s[j]?.palette?.mode,b=!r&&O?{colorScheme:O,...N}:{...N};$(n(j,{...b}),b)}return Object.entries(L).forEach(([N,{css:O}])=>{const b=s[N]?.palette?.mode,M=!r&&b?{colorScheme:b,...O}:{...O};$(n(N,{...M}),M)}),k}}}function hK(t){return function(n){return t==="media"?`@media (prefers-color-scheme: ${n})`:t?t.startsWith("data-")&&!t.includes("%s")?`[${t}="${n}"] &`:t==="class"?`.${n} &`:t==="data"?`[data-${n}] &`:`${t.replace("%s",n)} &`:"&"}}const Fd={black:"#000",white:"#fff"},pK={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"},Rl={50:"#f3e5f5",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",700:"#7b1fa2"},Nl={300:"#e57373",400:"#ef5350",500:"#f44336",700:"#d32f2f",800:"#c62828"},Ru={300:"#ffb74d",400:"#ffa726",500:"#ff9800",700:"#f57c00",900:"#e65100"},Ol={50:"#e3f2fd",200:"#90caf9",400:"#42a5f5",700:"#1976d2",800:"#1565c0"},Ml={300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",700:"#0288d1",900:"#01579b"},Dl={300:"#81c784",400:"#66bb6a",500:"#4caf50",700:"#388e3c",800:"#2e7d32",900:"#1b5e20"};function dN(){return{text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:Fd.white,default:Fd.white},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}}}const mK=dN();function fN(){return{text:{primary:Fd.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:"#121212",default:"#121212"},action:{active:Fd.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}}}const jT=fN();function FT(t,e,n,r){const i=r.light||r,s=r.dark||r*1.5;t[e]||(t.hasOwnProperty(n)?t[e]=t[n]:e==="light"?t.light=Mx(t.main,i):e==="dark"&&(t.dark=Ox(t.main,s)))}function gK(t="light"){return t==="dark"?{main:Ol[200],light:Ol[50],dark:Ol[400]}:{main:Ol[700],light:Ol[400],dark:Ol[800]}}function vK(t="light"){return t==="dark"?{main:Rl[200],light:Rl[50],dark:Rl[400]}:{main:Rl[500],light:Rl[300],dark:Rl[700]}}function yK(t="light"){return t==="dark"?{main:Nl[500],light:Nl[300],dark:Nl[700]}:{main:Nl[700],light:Nl[400],dark:Nl[800]}}function wK(t="light"){return t==="dark"?{main:Ml[400],light:Ml[300],dark:Ml[700]}:{main:Ml[700],light:Ml[500],dark:Ml[900]}}function _K(t="light"){return t==="dark"?{main:Dl[400],light:Dl[300],dark:Dl[700]}:{main:Dl[800],light:Dl[500],dark:Dl[900]}}function xK(t="light"){return t==="dark"?{main:Ru[400],light:Ru[300],dark:Ru[700]}:{main:"#ed6c02",light:Ru[500],dark:Ru[900]}}function Dx(t){const{mode:e="light",contrastThreshold:n=3,tonalOffset:r=.2,...i}=t,s=t.primary||gK(e),a=t.secondary||vK(e),c=t.error||yK(e),u=t.info||wK(e),f=t.success||_K(e),h=t.warning||xK(e);function g(T){return nK(T,jT.text.primary)>=n?jT.text.primary:mK.text.primary}const v=({color:T,name:I,mainShade:R=500,lightShade:P=300,darkShade:k=700})=>{if(T={...T},!T.main&&T[R]&&(T.main=T[R]),!T.hasOwnProperty("main"))throw new Error(Ra(11,I?` (${I})`:"",R));if(typeof T.main!="string")throw new Error(Ra(12,I?` (${I})`:"",JSON.stringify(T.main)));return FT(T,"light",P,r),FT(T,"dark",k,r),T.contrastText||(T.contrastText=g(T.main)),T};let x;return e==="light"?x=dN():e==="dark"&&(x=fN()),or({common:{...Fd},mode:e,primary:v({color:s,name:"primary"}),secondary:v({color:a,name:"secondary",mainShade:"A400",lightShade:"A200",darkShade:"A700"}),error:v({color:c,name:"error"}),warning:v({color:h,name:"warning"}),info:v({color:u,name:"info"}),success:v({color:f,name:"success"}),grey:pK,contrastThreshold:n,getContrastText:g,augmentColor:v,tonalOffset:r,...x},i)}function bK(t){const e={};return Object.entries(t).forEach(r=>{const[i,s]=r;typeof s=="object"&&(e[i]=`${s.fontStyle?`${s.fontStyle} `:""}${s.fontVariant?`${s.fontVariant} `:""}${s.fontWeight?`${s.fontWeight} `:""}${s.fontStretch?`${s.fontStretch} `:""}${s.fontSize||""}${s.lineHeight?`/${s.lineHeight} `:""}${s.fontFamily||""}`)}),e}function EK(t,e){return{toolbar:{minHeight:56,[t.up("xs")]:{"@media (orientation: landscape)":{minHeight:48}},[t.up("sm")]:{minHeight:64}},...e}}function SK(t){return Math.round(t*1e5)/1e5}const $T={textTransform:"uppercase"},UT='"Roboto", "Helvetica", "Arial", sans-serif';function CK(t,e){const{fontFamily:n=UT,fontSize:r=14,fontWeightLight:i=300,fontWeightRegular:s=400,fontWeightMedium:a=500,fontWeightBold:c=700,htmlFontSize:u=16,allVariants:f,pxToRem:h,...g}=typeof e=="function"?e(t):e,v=r/14,x=h||(I=>`${I/u*v}rem`),_=(I,R,P,k,j)=>({fontFamily:n,fontWeight:I,fontSize:x(R),lineHeight:P,...n===UT?{letterSpacing:`${SK(k/R)}em`}:{},...j,...f}),T={h1:_(i,96,1.167,-1.5),h2:_(i,60,1.2,-.5),h3:_(s,48,1.167,0),h4:_(s,34,1.235,.25),h5:_(s,24,1.334,0),h6:_(a,20,1.6,.15),subtitle1:_(s,16,1.75,.15),subtitle2:_(a,14,1.57,.1),body1:_(s,16,1.5,.15),body2:_(s,14,1.43,.15),button:_(a,14,1.75,.4,$T),caption:_(s,12,1.66,.4),overline:_(s,12,2.66,1,$T),inherit:{fontFamily:"inherit",fontWeight:"inherit",fontSize:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}};return or({htmlFontSize:u,pxToRem:x,fontFamily:n,fontSize:r,fontWeightLight:i,fontWeightRegular:s,fontWeightMedium:a,fontWeightBold:c,...T},g,{clone:!1})}const TK=.2,kK=.14,PK=.12;function dt(...t){return[`${t[0]}px ${t[1]}px ${t[2]}px ${t[3]}px rgba(0,0,0,${TK})`,`${t[4]}px ${t[5]}px ${t[6]}px ${t[7]}px rgba(0,0,0,${kK})`,`${t[8]}px ${t[9]}px ${t[10]}px ${t[11]}px rgba(0,0,0,${PK})`].join(",")}const IK=["none",dt(0,2,1,-1,0,1,1,0,0,1,3,0),dt(0,3,1,-2,0,2,2,0,0,1,5,0),dt(0,3,3,-2,0,3,4,0,0,1,8,0),dt(0,2,4,-1,0,4,5,0,0,1,10,0),dt(0,3,5,-1,0,5,8,0,0,1,14,0),dt(0,3,5,-1,0,6,10,0,0,1,18,0),dt(0,4,5,-2,0,7,10,1,0,2,16,1),dt(0,5,5,-3,0,8,10,1,0,3,14,2),dt(0,5,6,-3,0,9,12,1,0,3,16,2),dt(0,6,6,-3,0,10,14,1,0,4,18,3),dt(0,6,7,-4,0,11,15,1,0,4,20,3),dt(0,7,8,-4,0,12,17,2,0,5,22,4),dt(0,7,8,-4,0,13,19,2,0,5,24,4),dt(0,7,9,-4,0,14,21,2,0,5,26,4),dt(0,8,9,-5,0,15,22,2,0,6,28,5),dt(0,8,10,-5,0,16,24,2,0,6,30,5),dt(0,8,11,-5,0,17,26,2,0,6,32,5),dt(0,9,11,-5,0,18,28,2,0,7,34,6),dt(0,9,12,-6,0,19,29,2,0,7,36,6),dt(0,10,13,-6,0,20,31,3,0,8,38,7),dt(0,10,13,-6,0,21,33,3,0,8,40,7),dt(0,10,14,-6,0,22,35,3,0,8,42,7),dt(0,11,14,-7,0,23,36,3,0,9,44,8),dt(0,11,15,-7,0,24,38,3,0,9,46,8)],AK={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},RK={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function VT(t){return`${Math.round(t)}ms`}function NK(t){if(!t)return 0;const e=t/36;return Math.min(Math.round((4+15*e**.25+e/5)*10),3e3)}function OK(t){const e={...AK,...t.easing},n={...RK,...t.duration};return{getAutoHeightDuration:NK,create:(i=["all"],s={})=>{const{duration:a=n.standard,easing:c=e.easeInOut,delay:u=0,...f}=s;return(Array.isArray(i)?i:[i]).map(h=>`${h} ${typeof a=="string"?a:VT(a)} ${c} ${typeof u=="string"?u:VT(u)}`).join(",")},...t,easing:e,duration:n}}const MK={mobileStepper:1e3,fab:1050,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500};function DK(t){return xi(t)||typeof t>"u"||typeof t=="string"||typeof t=="boolean"||typeof t=="number"||Array.isArray(t)}function hN(t={}){const e={...t};function n(r){const i=Object.entries(r);for(let s=0;s<i.length;s++){const[a,c]=i[s];!DK(c)||a.startsWith("unstable_")?delete r[a]:xi(c)&&(r[a]={...c},n(r[a]))}}return n(e),`import { unstable_createBreakpoints as createBreakpoints, createTransitions } from '@mui/material/styles';

const theme = ${JSON.stringify(e,null,2)};

theme.breakpoints = createBreakpoints(theme.breakpoints || {});
theme.transitions = createTransitions(theme.transitions || {});

export default theme;`}function sw(t={},...e){const{breakpoints:n,mixins:r={},spacing:i,palette:s={},transitions:a={},typography:c={},shape:u,...f}=t;if(t.vars&&t.generateThemeVars===void 0)throw new Error(Ra(20));const h=Dx(s),g=Ix(t);let v=or(g,{mixins:EK(g.breakpoints,r),palette:h,shadows:IK.slice(),typography:CK(h,c),transitions:OK(a),zIndex:{...MK}});return v=or(v,f),v=e.reduce((x,_)=>or(x,_),v),v.unstable_sxConfig={...ff,...f?.unstable_sxConfig},v.unstable_sx=function(_){return Na({sx:_,theme:this})},v.toRuntimeSource=hN,v}function LK(t){let e;return t<1?e=5.11916*t**2:e=4.5*Math.log(t+1)+2,Math.round(e*10)/1e3}const jK=[...Array(25)].map((t,e)=>{if(e===0)return"none";const n=LK(e);return`linear-gradient(rgba(255 255 255 / ${n}), rgba(255 255 255 / ${n}))`});function pN(t){return{inputPlaceholder:t==="dark"?.5:.42,inputUnderline:t==="dark"?.7:.42,switchTrackDisabled:t==="dark"?.2:.12,switchTrack:t==="dark"?.3:.38}}function mN(t){return t==="dark"?jK:[]}function FK(t){const{palette:e={mode:"light"},opacity:n,overlays:r,...i}=t,s=Dx(e);return{palette:s,opacity:{...pN(s.mode),...n},overlays:r||mN(s.mode),...i}}function $K(t){return!!t[0].match(/(cssVarPrefix|colorSchemeSelector|rootSelector|typography|mixins|breakpoints|direction|transitions)/)||!!t[0].match(/sxConfig$/)||t[0]==="palette"&&!!t[1]?.match(/(mode|contrastThreshold|tonalOffset)/)}const UK=t=>[...[...Array(25)].map((e,n)=>`--${t?`${t}-`:""}overlays-${n}`),`--${t?`${t}-`:""}palette-AppBar-darkBg`,`--${t?`${t}-`:""}palette-AppBar-darkColor`],VK=t=>(e,n)=>{const r=t.rootSelector||":root",i=t.colorSchemeSelector;let s=i;if(i==="class"&&(s=".%s"),i==="data"&&(s="[data-%s]"),i?.startsWith("data-")&&!i.includes("%s")&&(s=`[${i}="%s"]`),t.defaultColorScheme===e){if(e==="dark"){const a={};return UK(t.cssVarPrefix).forEach(c=>{a[c]=n[c],delete n[c]}),s==="media"?{[r]:n,"@media (prefers-color-scheme: dark)":{[r]:a}}:s?{[s.replace("%s",e)]:a,[`${r}, ${s.replace("%s",e)}`]:n}:{[r]:{...n,...a}}}if(s&&s!=="media")return`${r}, ${s.replace("%s",String(e))}`}else if(e){if(s==="media")return{[`@media (prefers-color-scheme: ${String(e)})`]:{[r]:n}};if(s)return s.replace("%s",String(e))}return r};function BK(t,e){e.forEach(n=>{t[n]||(t[n]={})})}function ee(t,e,n){!t[e]&&n&&(t[e]=n)}function Fu(t){return typeof t!="string"||!t.startsWith("hsl")?t:uN(t)}function Ji(t,e){`${e}Channel`in t||(t[`${e}Channel`]=ju(Fu(t[e])))}function zK(t){return typeof t=="number"?`${t}px`:typeof t=="string"||typeof t=="function"||Array.isArray(t)?t:"8px"}const gi=t=>{try{return t()}catch{}},HK=(t="mui")=>cK(t);function Iy(t,e,n,r){if(!e)return;e=e===!0?{}:e;const i=r==="dark"?"dark":"light";if(!n){t[r]=FK({...e,palette:{mode:i,...e?.palette}});return}const{palette:s,...a}=sw({...n,palette:{mode:i,...e?.palette}});return t[r]={...e,palette:s,opacity:{...pN(i),...e?.opacity},overlays:e?.overlays||mN(i)},a}function WK(t={},...e){const{colorSchemes:n={light:!0},defaultColorScheme:r,disableCssColorScheme:i=!1,cssVarPrefix:s="mui",shouldSkipGeneratingVar:a=$K,colorSchemeSelector:c=n.light&&n.dark?"media":void 0,rootSelector:u=":root",...f}=t,h=Object.keys(n)[0],g=r||(n.light&&h!=="light"?"light":h),v=HK(s),{[g]:x,light:_,dark:T,...I}=n,R={...I};let P=x;if((g==="dark"&&!("dark"in n)||g==="light"&&!("light"in n))&&(P=!0),!P)throw new Error(Ra(21,g));const k=Iy(R,P,f,g);_&&!R.light&&Iy(R,_,void 0,"light"),T&&!R.dark&&Iy(R,T,void 0,"dark");let j={defaultColorScheme:g,...k,cssVarPrefix:s,colorSchemeSelector:c,rootSelector:u,getCssVar:v,colorSchemes:R,font:{...bK(k.typography),...k.font},spacing:zK(f.spacing)};Object.keys(j.colorSchemes).forEach(O=>{const b=j.colorSchemes[O].palette,M=V=>{const F=V.split("-"),Q=F[1],ae=F[2];return v(V,b[Q][ae])};if(b.mode==="light"&&(ee(b.common,"background","#fff"),ee(b.common,"onBackground","#000")),b.mode==="dark"&&(ee(b.common,"background","#000"),ee(b.common,"onBackground","#fff")),BK(b,["Alert","AppBar","Avatar","Button","Chip","FilledInput","LinearProgress","Skeleton","Slider","SnackbarContent","SpeedDialAction","StepConnector","StepContent","Switch","TableCell","Tooltip"]),b.mode==="light"){ee(b.Alert,"errorColor",et(b.error.light,.6)),ee(b.Alert,"infoColor",et(b.info.light,.6)),ee(b.Alert,"successColor",et(b.success.light,.6)),ee(b.Alert,"warningColor",et(b.warning.light,.6)),ee(b.Alert,"errorFilledBg",M("palette-error-main")),ee(b.Alert,"infoFilledBg",M("palette-info-main")),ee(b.Alert,"successFilledBg",M("palette-success-main")),ee(b.Alert,"warningFilledBg",M("palette-warning-main")),ee(b.Alert,"errorFilledColor",gi(()=>b.getContrastText(b.error.main))),ee(b.Alert,"infoFilledColor",gi(()=>b.getContrastText(b.info.main))),ee(b.Alert,"successFilledColor",gi(()=>b.getContrastText(b.success.main))),ee(b.Alert,"warningFilledColor",gi(()=>b.getContrastText(b.warning.main))),ee(b.Alert,"errorStandardBg",tt(b.error.light,.9)),ee(b.Alert,"infoStandardBg",tt(b.info.light,.9)),ee(b.Alert,"successStandardBg",tt(b.success.light,.9)),ee(b.Alert,"warningStandardBg",tt(b.warning.light,.9)),ee(b.Alert,"errorIconColor",M("palette-error-main")),ee(b.Alert,"infoIconColor",M("palette-info-main")),ee(b.Alert,"successIconColor",M("palette-success-main")),ee(b.Alert,"warningIconColor",M("palette-warning-main")),ee(b.AppBar,"defaultBg",M("palette-grey-100")),ee(b.Avatar,"defaultBg",M("palette-grey-400")),ee(b.Button,"inheritContainedBg",M("palette-grey-300")),ee(b.Button,"inheritContainedHoverBg",M("palette-grey-A100")),ee(b.Chip,"defaultBorder",M("palette-grey-400")),ee(b.Chip,"defaultAvatarColor",M("palette-grey-700")),ee(b.Chip,"defaultIconColor",M("palette-grey-700")),ee(b.FilledInput,"bg","rgba(0, 0, 0, 0.06)"),ee(b.FilledInput,"hoverBg","rgba(0, 0, 0, 0.09)"),ee(b.FilledInput,"disabledBg","rgba(0, 0, 0, 0.12)"),ee(b.LinearProgress,"primaryBg",tt(b.primary.main,.62)),ee(b.LinearProgress,"secondaryBg",tt(b.secondary.main,.62)),ee(b.LinearProgress,"errorBg",tt(b.error.main,.62)),ee(b.LinearProgress,"infoBg",tt(b.info.main,.62)),ee(b.LinearProgress,"successBg",tt(b.success.main,.62)),ee(b.LinearProgress,"warningBg",tt(b.warning.main,.62)),ee(b.Skeleton,"bg",`rgba(${M("palette-text-primaryChannel")} / 0.11)`),ee(b.Slider,"primaryTrack",tt(b.primary.main,.62)),ee(b.Slider,"secondaryTrack",tt(b.secondary.main,.62)),ee(b.Slider,"errorTrack",tt(b.error.main,.62)),ee(b.Slider,"infoTrack",tt(b.info.main,.62)),ee(b.Slider,"successTrack",tt(b.success.main,.62)),ee(b.Slider,"warningTrack",tt(b.warning.main,.62));const V=Wh(b.background.default,.8);ee(b.SnackbarContent,"bg",V),ee(b.SnackbarContent,"color",gi(()=>b.getContrastText(V))),ee(b.SpeedDialAction,"fabHoverBg",Wh(b.background.paper,.15)),ee(b.StepConnector,"border",M("palette-grey-400")),ee(b.StepContent,"border",M("palette-grey-400")),ee(b.Switch,"defaultColor",M("palette-common-white")),ee(b.Switch,"defaultDisabledColor",M("palette-grey-100")),ee(b.Switch,"primaryDisabledColor",tt(b.primary.main,.62)),ee(b.Switch,"secondaryDisabledColor",tt(b.secondary.main,.62)),ee(b.Switch,"errorDisabledColor",tt(b.error.main,.62)),ee(b.Switch,"infoDisabledColor",tt(b.info.main,.62)),ee(b.Switch,"successDisabledColor",tt(b.success.main,.62)),ee(b.Switch,"warningDisabledColor",tt(b.warning.main,.62)),ee(b.TableCell,"border",tt(Hh(b.divider,1),.88)),ee(b.Tooltip,"bg",Hh(b.grey[700],.92))}if(b.mode==="dark"){ee(b.Alert,"errorColor",tt(b.error.light,.6)),ee(b.Alert,"infoColor",tt(b.info.light,.6)),ee(b.Alert,"successColor",tt(b.success.light,.6)),ee(b.Alert,"warningColor",tt(b.warning.light,.6)),ee(b.Alert,"errorFilledBg",M("palette-error-dark")),ee(b.Alert,"infoFilledBg",M("palette-info-dark")),ee(b.Alert,"successFilledBg",M("palette-success-dark")),ee(b.Alert,"warningFilledBg",M("palette-warning-dark")),ee(b.Alert,"errorFilledColor",gi(()=>b.getContrastText(b.error.dark))),ee(b.Alert,"infoFilledColor",gi(()=>b.getContrastText(b.info.dark))),ee(b.Alert,"successFilledColor",gi(()=>b.getContrastText(b.success.dark))),ee(b.Alert,"warningFilledColor",gi(()=>b.getContrastText(b.warning.dark))),ee(b.Alert,"errorStandardBg",et(b.error.light,.9)),ee(b.Alert,"infoStandardBg",et(b.info.light,.9)),ee(b.Alert,"successStandardBg",et(b.success.light,.9)),ee(b.Alert,"warningStandardBg",et(b.warning.light,.9)),ee(b.Alert,"errorIconColor",M("palette-error-main")),ee(b.Alert,"infoIconColor",M("palette-info-main")),ee(b.Alert,"successIconColor",M("palette-success-main")),ee(b.Alert,"warningIconColor",M("palette-warning-main")),ee(b.AppBar,"defaultBg",M("palette-grey-900")),ee(b.AppBar,"darkBg",M("palette-background-paper")),ee(b.AppBar,"darkColor",M("palette-text-primary")),ee(b.Avatar,"defaultBg",M("palette-grey-600")),ee(b.Button,"inheritContainedBg",M("palette-grey-800")),ee(b.Button,"inheritContainedHoverBg",M("palette-grey-700")),ee(b.Chip,"defaultBorder",M("palette-grey-700")),ee(b.Chip,"defaultAvatarColor",M("palette-grey-300")),ee(b.Chip,"defaultIconColor",M("palette-grey-300")),ee(b.FilledInput,"bg","rgba(255, 255, 255, 0.09)"),ee(b.FilledInput,"hoverBg","rgba(255, 255, 255, 0.13)"),ee(b.FilledInput,"disabledBg","rgba(255, 255, 255, 0.12)"),ee(b.LinearProgress,"primaryBg",et(b.primary.main,.5)),ee(b.LinearProgress,"secondaryBg",et(b.secondary.main,.5)),ee(b.LinearProgress,"errorBg",et(b.error.main,.5)),ee(b.LinearProgress,"infoBg",et(b.info.main,.5)),ee(b.LinearProgress,"successBg",et(b.success.main,.5)),ee(b.LinearProgress,"warningBg",et(b.warning.main,.5)),ee(b.Skeleton,"bg",`rgba(${M("palette-text-primaryChannel")} / 0.13)`),ee(b.Slider,"primaryTrack",et(b.primary.main,.5)),ee(b.Slider,"secondaryTrack",et(b.secondary.main,.5)),ee(b.Slider,"errorTrack",et(b.error.main,.5)),ee(b.Slider,"infoTrack",et(b.info.main,.5)),ee(b.Slider,"successTrack",et(b.success.main,.5)),ee(b.Slider,"warningTrack",et(b.warning.main,.5));const V=Wh(b.background.default,.98);ee(b.SnackbarContent,"bg",V),ee(b.SnackbarContent,"color",gi(()=>b.getContrastText(V))),ee(b.SpeedDialAction,"fabHoverBg",Wh(b.background.paper,.15)),ee(b.StepConnector,"border",M("palette-grey-600")),ee(b.StepContent,"border",M("palette-grey-600")),ee(b.Switch,"defaultColor",M("palette-grey-300")),ee(b.Switch,"defaultDisabledColor",M("palette-grey-600")),ee(b.Switch,"primaryDisabledColor",et(b.primary.main,.55)),ee(b.Switch,"secondaryDisabledColor",et(b.secondary.main,.55)),ee(b.Switch,"errorDisabledColor",et(b.error.main,.55)),ee(b.Switch,"infoDisabledColor",et(b.info.main,.55)),ee(b.Switch,"successDisabledColor",et(b.success.main,.55)),ee(b.Switch,"warningDisabledColor",et(b.warning.main,.55)),ee(b.TableCell,"border",et(Hh(b.divider,1),.68)),ee(b.Tooltip,"bg",Hh(b.grey[700],.92))}Ji(b.background,"default"),Ji(b.background,"paper"),Ji(b.common,"background"),Ji(b.common,"onBackground"),Ji(b,"divider"),Object.keys(b).forEach(V=>{const F=b[V];V!=="tonalOffset"&&F&&typeof F=="object"&&(F.main&&ee(b[V],"mainChannel",ju(Fu(F.main))),F.light&&ee(b[V],"lightChannel",ju(Fu(F.light))),F.dark&&ee(b[V],"darkChannel",ju(Fu(F.dark))),F.contrastText&&ee(b[V],"contrastTextChannel",ju(Fu(F.contrastText))),V==="text"&&(Ji(b[V],"primary"),Ji(b[V],"secondary")),V==="action"&&(F.active&&Ji(b[V],"active"),F.selected&&Ji(b[V],"selected")))})}),j=e.reduce((O,b)=>or(O,b),j);const $={prefix:s,disableCssColorScheme:i,shouldSkipGeneratingVar:a,getSelector:VK(j)},{vars:B,generateThemeVars:L,generateStyleSheets:N}=fK(j,$);return j.vars=B,Object.entries(j.colorSchemes[j.defaultColorScheme]).forEach(([O,b])=>{j[O]=b}),j.generateThemeVars=L,j.generateStyleSheets=N,j.generateSpacing=function(){return sN(f.spacing,Sx(this))},j.getColorSchemeSelector=hK(c),j.spacing=j.generateSpacing(),j.shouldSkipGeneratingVar=a,j.unstable_sxConfig={...ff,...f?.unstable_sxConfig},j.unstable_sx=function(b){return Na({sx:b,theme:this})},j.toRuntimeSource=hN,j}function BT(t,e,n){t.colorSchemes&&n&&(t.colorSchemes[e]={...n!==!0&&n,palette:Dx({...n===!0?{}:n.palette,mode:e})})}function gN(t={},...e){const{palette:n,cssVariables:r=!1,colorSchemes:i=n?void 0:{light:!0},defaultColorScheme:s=n?.mode,...a}=t,c=s||"light",u=i?.[c],f={...i,...n?{[c]:{...typeof u!="boolean"&&u,palette:n}}:void 0};if(r===!1){if(!("colorSchemes"in t))return sw(t,...e);let h=n;"palette"in t||f[c]&&(f[c]!==!0?h=f[c].palette:c==="dark"&&(h={mode:"dark"}));const g=sw({...t,palette:h},...e);return g.defaultColorScheme=c,g.colorSchemes=f,g.palette.mode==="light"&&(g.colorSchemes.light={...f.light!==!0&&f.light,palette:g.palette},BT(g,"dark",f.dark)),g.palette.mode==="dark"&&(g.colorSchemes.dark={...f.dark!==!0&&f.dark,palette:g.palette},BT(g,"light",f.light)),g}return!n&&!("light"in f)&&c==="light"&&(f.light=!0),WK({...a,colorSchemes:f,defaultColorScheme:c,...typeof r!="boolean"&&r},...e)}const vN=gN(),Lx="$$material";function qK(){const t=oN(vN);return t[Lx]||t}function GK(t){return t!=="ownerState"&&t!=="theme"&&t!=="sx"&&t!=="as"}const KK=t=>GK(t)&&t!=="classes",jx=KG({themeId:Lx,defaultTheme:vN,rootShouldForwardProp:KK}),YK=lK;function yN(t){return aK(t)}function XK(t){return typeof t=="string"}function JK(t,e,n){return t===void 0||XK(t)?e:{...e,ownerState:{...e.ownerState,...n}}}function QK(t,e,n){return typeof t=="function"?t(e,n):t}function wN(t,e=[]){if(t===void 0)return{};const n={};return Object.keys(t).filter(r=>r.match(/^on[A-Z]/)&&typeof t[r]=="function"&&!e.includes(r)).forEach(r=>{n[r]=t[r]}),n}function zT(t){if(t===void 0)return{};const e={};return Object.keys(t).filter(n=>!(n.match(/^on[A-Z]/)&&typeof t[n]=="function")).forEach(n=>{e[n]=t[n]}),e}function ZK(t){const{getSlotProps:e,additionalProps:n,externalSlotProps:r,externalForwardedProps:i,className:s}=t;if(!e){const x=lc(n?.className,s,i?.className,r?.className),_={...n?.style,...i?.style,...r?.style},T={...n,...i,...r};return x.length>0&&(T.className=x),Object.keys(_).length>0&&(T.style=_),{props:T,internalRef:void 0}}const a=wN({...i,...r}),c=zT(r),u=zT(i),f=e(a),h=lc(f?.className,n?.className,s,i?.className,r?.className),g={...f?.style,...n?.style,...i?.style,...r?.style},v={...f,...n,...u,...c};return h.length>0&&(v.className=h),Object.keys(g).length>0&&(v.style=g),{props:v,internalRef:f.ref}}function em(t,e){const{className:n,elementType:r,ownerState:i,externalForwardedProps:s,internalForwardedProps:a,shouldForwardComponentProp:c=!1,...u}=e,{component:f,slots:h={[t]:void 0},slotProps:g={[t]:void 0},...v}=s,x=h[t]||r,_=QK(g[t],i),{props:{component:T,...I},internalRef:R}=ZK({className:n,...u,externalForwardedProps:t==="root"?v:void 0,externalSlotProps:_}),P=cf(R,_?.ref,e.ref),k=t==="root"?T||f:T,j=JK(x,{...t==="root"&&!f&&!h[t]&&a,...t!=="root"&&!h[t]&&a,...I,...k&&!c&&{as:k},...k&&c&&{component:k},ref:P},i);return[x,j]}function eY(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function ow(t,e){return ow=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,r){return n.__proto__=r,n},ow(t,e)}function tY(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,ow(t,e)}const HT={disabled:!1},_N=me.createContext(null);var nY=function(e){return e.scrollTop},$u="unmounted",sa="exited",oa="entering",Fl="entered",aw="exiting",Cs=function(t){tY(e,t);function e(r,i){var s;s=t.call(this,r,i)||this;var a=i,c=a&&!a.isMounting?r.enter:r.appear,u;return s.appearStatus=null,r.in?c?(u=sa,s.appearStatus=oa):u=Fl:r.unmountOnExit||r.mountOnEnter?u=$u:u=sa,s.state={status:u},s.nextCallback=null,s}e.getDerivedStateFromProps=function(i,s){var a=i.in;return a&&s.status===$u?{status:sa}:null};var n=e.prototype;return n.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},n.componentDidUpdate=function(i){var s=null;if(i!==this.props){var a=this.state.status;this.props.in?a!==oa&&a!==Fl&&(s=oa):(a===oa||a===Fl)&&(s=aw)}this.updateStatus(!1,s)},n.componentWillUnmount=function(){this.cancelNextCallback()},n.getTimeouts=function(){var i=this.props.timeout,s,a,c;return s=a=c=i,i!=null&&typeof i!="number"&&(s=i.exit,a=i.enter,c=i.appear!==void 0?i.appear:a),{exit:s,enter:a,appear:c}},n.updateStatus=function(i,s){if(i===void 0&&(i=!1),s!==null)if(this.cancelNextCallback(),s===oa){if(this.props.unmountOnExit||this.props.mountOnEnter){var a=this.props.nodeRef?this.props.nodeRef.current:Nh.findDOMNode(this);a&&nY(a)}this.performEnter(i)}else this.performExit();else this.props.unmountOnExit&&this.state.status===sa&&this.setState({status:$u})},n.performEnter=function(i){var s=this,a=this.props.enter,c=this.context?this.context.isMounting:i,u=this.props.nodeRef?[c]:[Nh.findDOMNode(this),c],f=u[0],h=u[1],g=this.getTimeouts(),v=c?g.appear:g.enter;if(!i&&!a||HT.disabled){this.safeSetState({status:Fl},function(){s.props.onEntered(f)});return}this.props.onEnter(f,h),this.safeSetState({status:oa},function(){s.props.onEntering(f,h),s.onTransitionEnd(v,function(){s.safeSetState({status:Fl},function(){s.props.onEntered(f,h)})})})},n.performExit=function(){var i=this,s=this.props.exit,a=this.getTimeouts(),c=this.props.nodeRef?void 0:Nh.findDOMNode(this);if(!s||HT.disabled){this.safeSetState({status:sa},function(){i.props.onExited(c)});return}this.props.onExit(c),this.safeSetState({status:aw},function(){i.props.onExiting(c),i.onTransitionEnd(a.exit,function(){i.safeSetState({status:sa},function(){i.props.onExited(c)})})})},n.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},n.safeSetState=function(i,s){s=this.setNextCallback(s),this.setState(i,s)},n.setNextCallback=function(i){var s=this,a=!0;return this.nextCallback=function(c){a&&(a=!1,s.nextCallback=null,i(c))},this.nextCallback.cancel=function(){a=!1},this.nextCallback},n.onTransitionEnd=function(i,s){this.setNextCallback(s);var a=this.props.nodeRef?this.props.nodeRef.current:Nh.findDOMNode(this),c=i==null&&!this.props.addEndListener;if(!a||c){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var u=this.props.nodeRef?[this.nextCallback]:[a,this.nextCallback],f=u[0],h=u[1];this.props.addEndListener(f,h)}i!=null&&setTimeout(this.nextCallback,i)},n.render=function(){var i=this.state.status;if(i===$u)return null;var s=this.props,a=s.children;s.in,s.mountOnEnter,s.unmountOnExit,s.appear,s.enter,s.exit,s.timeout,s.addEndListener,s.onEnter,s.onEntering,s.onEntered,s.onExit,s.onExiting,s.onExited,s.nodeRef;var c=eY(s,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return me.createElement(_N.Provider,{value:null},typeof a=="function"?a(i,c):me.cloneElement(me.Children.only(a),c))},e}(me.Component);Cs.contextType=_N;Cs.propTypes={};function Ll(){}Cs.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:Ll,onEntering:Ll,onEntered:Ll,onExit:Ll,onExiting:Ll,onExited:Ll};Cs.UNMOUNTED=$u;Cs.EXITED=sa;Cs.ENTERING=oa;Cs.ENTERED=Fl;Cs.EXITING=aw;const rY=t=>t.scrollTop;function WT(t,e){const{timeout:n,easing:r,style:i={}}=t;return{duration:i.transitionDuration??(typeof n=="number"?n:n[e.mode]||0),easing:i.transitionTimingFunction??(typeof r=="object"?r[e.mode]:r),delay:i.transitionDelay}}const iY={entering:{opacity:1},entered:{opacity:1}},sY=C.forwardRef(function(e,n){const r=qK(),i={enter:r.transitions.duration.enteringScreen,exit:r.transitions.duration.leavingScreen},{addEndListener:s,appear:a=!0,children:c,easing:u,in:f,onEnter:h,onEntered:g,onEntering:v,onExit:x,onExited:_,onExiting:T,style:I,timeout:R=i,TransitionComponent:P=Cs,...k}=e,j=C.useRef(null),$=cf(j,xx(c),n),B=Q=>ae=>{if(Q){const re=j.current;ae===void 0?Q(re):Q(re,ae)}},L=B(v),N=B((Q,ae)=>{rY(Q);const re=WT({style:I,timeout:R,easing:u},{mode:"enter"});Q.style.webkitTransition=r.transitions.create("opacity",re),Q.style.transition=r.transitions.create("opacity",re),h&&h(Q,ae)}),O=B(g),b=B(T),M=B(Q=>{const ae=WT({style:I,timeout:R,easing:u},{mode:"exit"});Q.style.webkitTransition=r.transitions.create("opacity",ae),Q.style.transition=r.transitions.create("opacity",ae),x&&x(Q)}),V=B(_),F=Q=>{s&&s(j.current,Q)};return w.jsx(P,{appear:a,in:f,nodeRef:j,onEnter:N,onEntered:O,onEntering:L,onExit:M,onExited:V,onExiting:b,addEndListener:F,timeout:R,...k,children:(Q,{ownerState:ae,...re})=>C.cloneElement(c,{style:{opacity:0,visibility:Q==="exited"&&!f?"hidden":void 0,...iY[Q],...I,...c.props.style},ref:$,...re})})});function oY(t){return Ax("MuiBackdrop",t)}Rx("MuiBackdrop",["root","invisible"]);const aY=t=>{const{classes:e,invisible:n}=t;return UR({root:["root",n&&"invisible"]},oY,e)},lY=jx("div",{name:"MuiBackdrop",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.invisible&&e.invisible]}})({position:"fixed",display:"flex",alignItems:"center",justifyContent:"center",right:0,bottom:0,top:0,left:0,backgroundColor:"rgba(0, 0, 0, 0.5)",WebkitTapHighlightColor:"transparent",variants:[{props:{invisible:!0},style:{backgroundColor:"transparent"}}]}),cY=C.forwardRef(function(e,n){const r=yN({props:e,name:"MuiBackdrop"}),{children:i,className:s,component:a="div",invisible:c=!1,open:u,components:f={},componentsProps:h={},slotProps:g={},slots:v={},TransitionComponent:x,transitionDuration:_,...T}=r,I={...r,component:a,invisible:c},R=aY(I),P={transition:x,root:f.Root,...v},k={...h,...g},j={slots:P,slotProps:k},[$,B]=em("root",{elementType:lY,externalForwardedProps:j,className:lc(R.root,s),ownerState:I}),[L,N]=em("transition",{elementType:sY,externalForwardedProps:j,ownerState:I});return w.jsx(L,{in:u,timeout:_,...T,...N,children:w.jsx($,{"aria-hidden":!0,...B,classes:R,ref:n,children:i})})});function qT(t){const e=C.useRef(t);return Q0(()=>{e.current=t}),C.useRef((...n)=>(0,e.current)(...n)).current}function GT(...t){return t.reduce((e,n)=>n==null?e:function(...i){e.apply(this,i),n.apply(this,i)},()=>{})}function uY(t){return typeof t=="function"?t():t}function dY(t){return t?t.props.hasOwnProperty("in"):!1}const KT=()=>{},qh=new MW;function fY(t){const{container:e,disableEscapeKeyDown:n=!1,disableScrollLock:r=!1,closeAfterTransition:i=!1,onTransitionEnter:s,onTransitionExited:a,children:c,onClose:u,open:f,rootRef:h}=t,g=C.useRef({}),v=C.useRef(null),x=C.useRef(null),_=cf(x,h),[T,I]=C.useState(!f),R=dY(c);let P=!0;(t["aria-hidden"]==="false"||t["aria-hidden"]===!1)&&(P=!1);const k=()=>Aa(v.current),j=()=>(g.current.modalRef=x.current,g.current.mount=v.current,g.current),$=()=>{qh.mount(j(),{disableScrollLock:r}),x.current&&(x.current.scrollTop=0)},B=qT(()=>{const ae=uY(e)||k().body;qh.add(j(),ae),x.current&&$()}),L=()=>qh.isTopModal(j()),N=qT(ae=>{v.current=ae,ae&&(f&&L()?$():x.current&&id(x.current,P))}),O=C.useCallback(()=>{qh.remove(j(),P)},[P]);C.useEffect(()=>()=>{O()},[O]),C.useEffect(()=>{f?B():(!R||!i)&&O()},[f,O,R,i,B]);const b=ae=>re=>{ae.onKeyDown?.(re),!(re.key!=="Escape"||re.which===229||!L())&&(n||(re.stopPropagation(),u&&u(re,"escapeKeyDown")))},M=ae=>re=>{ae.onClick?.(re),re.target===re.currentTarget&&u&&u(re,"backdropClick")};return{getRootProps:(ae={})=>{const re=wN(t);delete re.onTransitionEnter,delete re.onTransitionExited;const pe={...re,...ae};return{role:"presentation",...pe,onKeyDown:b(pe),ref:_}},getBackdropProps:(ae={})=>{const re=ae;return{"aria-hidden":!0,...re,onClick:M(re),open:f}},getTransitionProps:()=>{const ae=()=>{I(!1),s&&s()},re=()=>{I(!0),a&&a(),i&&O()};return{onEnter:GT(ae,c?.props.onEnter??KT),onExited:GT(re,c?.props.onExited??KT)}},rootRef:_,portalRef:N,isTopModal:L,exited:T,hasTransition:R}}function hY(t){return Ax("MuiModal",t)}Rx("MuiModal",["root","hidden","backdrop"]);const pY=t=>{const{open:e,exited:n,classes:r}=t;return UR({root:["root",!e&&n&&"hidden"],backdrop:["backdrop"]},hY,r)},mY=jx("div",{name:"MuiModal",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,!n.open&&n.exited&&e.hidden]}})(YK(({theme:t})=>({position:"fixed",zIndex:(t.vars||t).zIndex.modal,right:0,bottom:0,top:0,left:0,variants:[{props:({ownerState:e})=>!e.open&&e.exited,style:{visibility:"hidden"}}]}))),gY=jx(cY,{name:"MuiModal",slot:"Backdrop"})({zIndex:-1}),xN=C.forwardRef(function(e,n){const r=yN({name:"MuiModal",props:e}),{BackdropComponent:i=gY,BackdropProps:s,classes:a,className:c,closeAfterTransition:u=!1,children:f,container:h,component:g,components:v={},componentsProps:x={},disableAutoFocus:_=!1,disableEnforceFocus:T=!1,disableEscapeKeyDown:I=!1,disablePortal:R=!1,disableRestoreFocus:P=!1,disableScrollLock:k=!1,hideBackdrop:j=!1,keepMounted:$=!1,onClose:B,onTransitionEnter:L,onTransitionExited:N,open:O,slotProps:b={},slots:M={},theme:V,...F}=r,Q={...r,closeAfterTransition:u,disableAutoFocus:_,disableEnforceFocus:T,disableEscapeKeyDown:I,disablePortal:R,disableRestoreFocus:P,disableScrollLock:k,hideBackdrop:j,keepMounted:$},{getRootProps:ae,getBackdropProps:re,getTransitionProps:pe,portalRef:ne,isTopModal:se,exited:le,hasTransition:q}=fY({...Q,rootRef:n}),te={...Q,exited:le},Z=pY(te),he={};if(f.props.tabIndex===void 0&&(he.tabIndex="-1"),q){const{onEnter:Be,onExited:$e}=pe();he.onEnter=Be,he.onExited=$e}const ve={slots:{root:v.Root,backdrop:v.Backdrop,...M},slotProps:{...x,...b}},[_e,xe]=em("root",{ref:n,elementType:mY,externalForwardedProps:{...ve,...F,component:g},getSlotProps:ae,ownerState:te,className:lc(c,Z?.root,!te.open&&te.exited&&Z?.hidden)}),[ke,Ee]=em("backdrop",{ref:s?.ref,elementType:i,externalForwardedProps:ve,shouldForwardComponentProp:!0,additionalProps:s,getSlotProps:Be=>re({...Be,onClick:$e=>{Be?.onClick&&Be.onClick($e)}}),className:lc(s?.className,Z?.backdrop),ownerState:te});return!$&&!O&&(!q||le)?null:w.jsx(zW,{ref:ne,container:h,disablePortal:R,children:w.jsxs(_e,{...xe,children:[!j&&i?w.jsx(ke,{...Ee}):null,w.jsx(VW,{disableEnforceFocus:T,disableAutoFocus:_,disableRestoreFocus:P,isEnabled:se,open:O,children:C.cloneElement(f,he)})]})})}),vY=Rx("MuiBox",["root"]),yY=gN(),bN=zG({themeId:Lx,defaultTheme:yY,defaultClassName:vY.root,generateClassName:aN.generate});var Ay,YT;function wY(){if(YT)return Ay;YT=1;var t=!1,e,n,r,i,s,a,c,u,f,h,g,v,x,_,T;function I(){if(!t){t=!0;var P=navigator.userAgent,k=/(?:MSIE.(\d+\.\d+))|(?:(?:Firefox|GranParadiso|Iceweasel).(\d+\.\d+))|(?:Opera(?:.+Version.|.)(\d+\.\d+))|(?:AppleWebKit.(\d+(?:\.\d+)?))|(?:Trident\/\d+\.\d+.*rv:(\d+\.\d+))/.exec(P),j=/(Mac OS X)|(Windows)|(Linux)/.exec(P);if(v=/\b(iPhone|iP[ao]d)/.exec(P),x=/\b(iP[ao]d)/.exec(P),h=/Android/i.exec(P),_=/FBAN\/\w+;/i.exec(P),T=/Mobile/i.exec(P),g=!!/Win64/.exec(P),k){e=k[1]?parseFloat(k[1]):k[5]?parseFloat(k[5]):NaN,e&&document&&document.documentMode&&(e=document.documentMode);var $=/(?:Trident\/(\d+.\d+))/.exec(P);a=$?parseFloat($[1])+4:e,n=k[2]?parseFloat(k[2]):NaN,r=k[3]?parseFloat(k[3]):NaN,i=k[4]?parseFloat(k[4]):NaN,i?(k=/(?:Chrome\/(\d+\.\d+))/.exec(P),s=k&&k[1]?parseFloat(k[1]):NaN):s=NaN}else e=n=r=s=i=NaN;if(j){if(j[1]){var B=/(?:Mac OS X (\d+(?:[._]\d+)?))/.exec(P);c=B?parseFloat(B[1].replace("_",".")):!0}else c=!1;u=!!j[2],f=!!j[3]}else c=u=f=!1}}var R={ie:function(){return I()||e},ieCompatibilityMode:function(){return I()||a>e},ie64:function(){return R.ie()&&g},firefox:function(){return I()||n},opera:function(){return I()||r},webkit:function(){return I()||i},safari:function(){return R.webkit()},chrome:function(){return I()||s},windows:function(){return I()||u},osx:function(){return I()||c},linux:function(){return I()||f},iphone:function(){return I()||v},mobile:function(){return I()||v||x||h||T},nativeApp:function(){return I()||_},android:function(){return I()||h},ipad:function(){return I()||x}};return Ay=R,Ay}var Ry,XT;function _Y(){if(XT)return Ry;XT=1;var t=!!(typeof window<"u"&&window.document&&window.document.createElement),e={canUseDOM:t,canUseWorkers:typeof Worker<"u",canUseEventListeners:t&&!!(window.addEventListener||window.attachEvent),canUseViewport:t&&!!window.screen,isInWorker:!t};return Ry=e,Ry}var Ny,JT;function xY(){if(JT)return Ny;JT=1;var t=_Y(),e;t.canUseDOM&&(e=document.implementation&&document.implementation.hasFeature&&document.implementation.hasFeature("","")!==!0);/**
 * Checks if an event is supported in the current execution environment.
 *
 * NOTE: This will not work correctly for non-generic events such as `change`,
 * `reset`, `load`, `error`, and `select`.
 *
 * Borrows from Modernizr.
 *
 * @param {string} eventNameSuffix Event name, e.g. "click".
 * @param {?boolean} capture Check if the capture phase is supported.
 * @return {boolean} True if the event is supported.
 * @internal
 * @license Modernizr 3.0.0pre (Custom Build) | MIT
 */function n(r,i){if(!t.canUseDOM||i&&!("addEventListener"in document))return!1;var s="on"+r,a=s in document;if(!a){var c=document.createElement("div");c.setAttribute(s,"return;"),a=typeof c[s]=="function"}return!a&&e&&r==="wheel"&&(a=document.implementation.hasFeature("Events.wheel","3.0")),a}return Ny=n,Ny}var Oy,QT;function bY(){if(QT)return Oy;QT=1;var t=wY(),e=xY(),n=10,r=40,i=800;function s(a){var c=0,u=0,f=0,h=0;return"detail"in a&&(u=a.detail),"wheelDelta"in a&&(u=-a.wheelDelta/120),"wheelDeltaY"in a&&(u=-a.wheelDeltaY/120),"wheelDeltaX"in a&&(c=-a.wheelDeltaX/120),"axis"in a&&a.axis===a.HORIZONTAL_AXIS&&(c=u,u=0),f=c*n,h=u*n,"deltaY"in a&&(h=a.deltaY),"deltaX"in a&&(f=a.deltaX),(f||h)&&a.deltaMode&&(a.deltaMode==1?(f*=r,h*=r):(f*=i,h*=i)),f&&!c&&(c=f<1?-1:1),h&&!u&&(u=h<1?-1:1),{spinX:c,spinY:u,pixelX:f,pixelY:h}}return s.getEventType=function(){return t.firefox()?"DOMMouseScroll":e("wheel")?"wheel":"mousewheel"},Oy=s,Oy}var My,ZT;function EY(){return ZT||(ZT=1,My=bY()),My}var SY=EY();const CY=um(SY);function TY(t,e,n,r,i,s){s===void 0&&(s=0);var a=uc(t,e,s),c=a.width,u=a.height,f=Math.min(c,n),h=Math.min(u,r);return f>h*i?{width:h*i,height:h}:{width:f,height:f/i}}function kY(t){return t.width>t.height?t.width/t.naturalWidth:t.height/t.naturalHeight}function Nu(t,e,n,r,i){i===void 0&&(i=0);var s=uc(e.width,e.height,i),a=s.width,c=s.height;return{x:e2(t.x,a,n.width,r),y:e2(t.y,c,n.height,r)}}function e2(t,e,n,r){var i=e*r/2-n/2;return Jm(t,-i,i)}function t2(t,e){return Math.sqrt(Math.pow(t.y-e.y,2)+Math.pow(t.x-e.x,2))}function n2(t,e){return Math.atan2(e.y-t.y,e.x-t.x)*180/Math.PI}function PY(t,e,n,r,i,s,a){s===void 0&&(s=0),a===void 0&&(a=!0);var c=a?IY:AY,u=uc(e.width,e.height,s),f=uc(e.naturalWidth,e.naturalHeight,s),h={x:c(100,((u.width-n.width/i)/2-t.x/i)/u.width*100),y:c(100,((u.height-n.height/i)/2-t.y/i)/u.height*100),width:c(100,n.width/u.width*100/i),height:c(100,n.height/u.height*100/i)},g=Math.round(c(f.width,h.width*f.width/100)),v=Math.round(c(f.height,h.height*f.height/100)),x=f.width>=f.height*r,_=x?{width:Math.round(v*r),height:v}:{width:g,height:Math.round(g/r)},T=Gt(Gt({},_),{x:Math.round(c(f.width-_.width,h.x*f.width/100)),y:Math.round(c(f.height-_.height,h.y*f.height/100))});return{croppedAreaPercentages:h,croppedAreaPixels:T}}function IY(t,e){return Math.min(t,Math.max(0,e))}function AY(t,e){return e}function RY(t,e,n,r,i,s){var a=uc(e.width,e.height,n),c=Jm(r.width/a.width*(100/t.width),i,s),u={x:c*a.width/2-r.width/2-a.width*c*(t.x/100),y:c*a.height/2-r.height/2-a.height*c*(t.y/100)};return{crop:u,zoom:c}}function NY(t,e,n){var r=kY(e);return n.height>n.width?n.height/(t.height*r):n.width/(t.width*r)}function OY(t,e,n,r,i,s){n===void 0&&(n=0);var a=uc(e.naturalWidth,e.naturalHeight,n),c=Jm(NY(t,e,r),i,s),u=r.height>r.width?r.height/t.height:r.width/t.width,f={x:((a.width-t.width)/2-t.x)*u,y:((a.height-t.height)/2-t.y)*u};return{crop:f,zoom:c}}function r2(t,e){return{x:(e.x+t.x)/2,y:(e.y+t.y)/2}}function MY(t){return t*Math.PI/180}function uc(t,e,n){var r=MY(n);return{width:Math.abs(Math.cos(r)*t)+Math.abs(Math.sin(r)*e),height:Math.abs(Math.sin(r)*t)+Math.abs(Math.cos(r)*e)}}function Jm(t,e,n){return Math.min(Math.max(t,e),n)}function Gh(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return t.filter(function(n){return typeof n=="string"&&n.length>0}).join(" ").trim()}var DY=`.reactEasyCrop_Container {
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  overflow: hidden;
  user-select: none;
  touch-action: none;
  cursor: move;
  display: flex;
  justify-content: center;
  align-items: center;
}

.reactEasyCrop_Image,
.reactEasyCrop_Video {
  will-change: transform; /* this improves performances and prevent painting issues on iOS Chrome */
}

.reactEasyCrop_Contain {
  max-width: 100%;
  max-height: 100%;
  margin: auto;
  position: absolute;
  top: 0;
  bottom: 0;
  left: 0;
  right: 0;
}
.reactEasyCrop_Cover_Horizontal {
  width: 100%;
  height: auto;
}
.reactEasyCrop_Cover_Vertical {
  width: auto;
  height: 100%;
}

.reactEasyCrop_CropArea {
  position: absolute;
  left: 50%;
  top: 50%;
  transform: translate(-50%, -50%);
  border: 1px solid rgba(255, 255, 255, 0.5);
  box-sizing: border-box;
  box-shadow: 0 0 0 9999em;
  color: rgba(0, 0, 0, 0.5);
  overflow: hidden;
}

.reactEasyCrop_CropAreaRound {
  border-radius: 50%;
}

.reactEasyCrop_CropAreaGrid::before {
  content: ' ';
  box-sizing: border-box;
  position: absolute;
  border: 1px solid rgba(255, 255, 255, 0.5);
  top: 0;
  bottom: 0;
  left: 33.33%;
  right: 33.33%;
  border-top: 0;
  border-bottom: 0;
}

.reactEasyCrop_CropAreaGrid::after {
  content: ' ';
  box-sizing: border-box;
  position: absolute;
  border: 1px solid rgba(255, 255, 255, 0.5);
  top: 33.33%;
  bottom: 33.33%;
  left: 0;
  right: 0;
  border-left: 0;
  border-right: 0;
}
`,LY=1,jY=3,FY=1,$Y=function(t){cj(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.cropperRef=C.createRef(),n.imageRef=C.createRef(),n.videoRef=C.createRef(),n.containerPosition={x:0,y:0},n.containerRef=null,n.styleRef=null,n.containerRect=null,n.mediaSize={width:0,height:0,naturalWidth:0,naturalHeight:0},n.dragStartPosition={x:0,y:0},n.dragStartCrop={x:0,y:0},n.gestureZoomStart=0,n.gestureRotationStart=0,n.isTouching=!1,n.lastPinchDistance=0,n.lastPinchRotation=0,n.rafDragTimeout=null,n.rafPinchTimeout=null,n.wheelTimer=null,n.currentDoc=typeof document<"u"?document:null,n.currentWindow=typeof window<"u"?window:null,n.resizeObserver=null,n.state={cropSize:null,hasWheelJustStarted:!1,mediaObjectFit:void 0},n.initResizeObserver=function(){if(!(typeof window.ResizeObserver>"u"||!n.containerRef)){var r=!0;n.resizeObserver=new window.ResizeObserver(function(i){if(r){r=!1;return}n.computeSizes()}),n.resizeObserver.observe(n.containerRef)}},n.preventZoomSafari=function(r){return r.preventDefault()},n.cleanEvents=function(){n.currentDoc&&(n.currentDoc.removeEventListener("mousemove",n.onMouseMove),n.currentDoc.removeEventListener("mouseup",n.onDragStopped),n.currentDoc.removeEventListener("touchmove",n.onTouchMove),n.currentDoc.removeEventListener("touchend",n.onDragStopped),n.currentDoc.removeEventListener("gesturemove",n.onGestureMove),n.currentDoc.removeEventListener("gestureend",n.onGestureEnd),n.currentDoc.removeEventListener("scroll",n.onScroll))},n.clearScrollEvent=function(){n.containerRef&&n.containerRef.removeEventListener("wheel",n.onWheel),n.wheelTimer&&clearTimeout(n.wheelTimer)},n.onMediaLoad=function(){var r=n.computeSizes();r&&(n.emitCropData(),n.setInitialCrop(r)),n.props.onMediaLoaded&&n.props.onMediaLoaded(n.mediaSize)},n.setInitialCrop=function(r){if(n.props.initialCroppedAreaPercentages){var i=RY(n.props.initialCroppedAreaPercentages,n.mediaSize,n.props.rotation,r,n.props.minZoom,n.props.maxZoom),s=i.crop,a=i.zoom;n.props.onCropChange(s),n.props.onZoomChange&&n.props.onZoomChange(a)}else if(n.props.initialCroppedAreaPixels){var c=OY(n.props.initialCroppedAreaPixels,n.mediaSize,n.props.rotation,r,n.props.minZoom,n.props.maxZoom),s=c.crop,a=c.zoom;n.props.onCropChange(s),n.props.onZoomChange&&n.props.onZoomChange(a)}},n.computeSizes=function(){var r,i,s,a,c,u,f=n.imageRef.current||n.videoRef.current;if(f&&n.containerRef){n.containerRect=n.containerRef.getBoundingClientRect(),n.saveContainerPosition();var h=n.containerRect.width/n.containerRect.height,g=((r=n.imageRef.current)===null||r===void 0?void 0:r.naturalWidth)||((i=n.videoRef.current)===null||i===void 0?void 0:i.videoWidth)||0,v=((s=n.imageRef.current)===null||s===void 0?void 0:s.naturalHeight)||((a=n.videoRef.current)===null||a===void 0?void 0:a.videoHeight)||0,x=f.offsetWidth<g||f.offsetHeight<v,_=g/v,T=void 0;if(x)switch(n.state.mediaObjectFit){default:case"contain":T=h>_?{width:n.containerRect.height*_,height:n.containerRect.height}:{width:n.containerRect.width,height:n.containerRect.width/_};break;case"horizontal-cover":T={width:n.containerRect.width,height:n.containerRect.width/_};break;case"vertical-cover":T={width:n.containerRect.height*_,height:n.containerRect.height};break}else T={width:f.offsetWidth,height:f.offsetHeight};n.mediaSize=Gt(Gt({},T),{naturalWidth:g,naturalHeight:v}),n.props.setMediaSize&&n.props.setMediaSize(n.mediaSize);var I=n.props.cropSize?n.props.cropSize:TY(n.mediaSize.width,n.mediaSize.height,n.containerRect.width,n.containerRect.height,n.props.aspect,n.props.rotation);return(((c=n.state.cropSize)===null||c===void 0?void 0:c.height)!==I.height||((u=n.state.cropSize)===null||u===void 0?void 0:u.width)!==I.width)&&n.props.onCropSizeChange&&n.props.onCropSizeChange(I),n.setState({cropSize:I},n.recomputeCropPosition),n.props.setCropSize&&n.props.setCropSize(I),I}},n.saveContainerPosition=function(){if(n.containerRef){var r=n.containerRef.getBoundingClientRect();n.containerPosition={x:r.left,y:r.top}}},n.onMouseDown=function(r){n.currentDoc&&(r.preventDefault(),n.currentDoc.addEventListener("mousemove",n.onMouseMove),n.currentDoc.addEventListener("mouseup",n.onDragStopped),n.saveContainerPosition(),n.onDragStart(e.getMousePoint(r)))},n.onMouseMove=function(r){return n.onDrag(e.getMousePoint(r))},n.onScroll=function(r){n.currentDoc&&(r.preventDefault(),n.saveContainerPosition())},n.onTouchStart=function(r){n.currentDoc&&(n.isTouching=!0,!(n.props.onTouchRequest&&!n.props.onTouchRequest(r))&&(n.currentDoc.addEventListener("touchmove",n.onTouchMove,{passive:!1}),n.currentDoc.addEventListener("touchend",n.onDragStopped),n.saveContainerPosition(),r.touches.length===2?n.onPinchStart(r):r.touches.length===1&&n.onDragStart(e.getTouchPoint(r.touches[0]))))},n.onTouchMove=function(r){r.preventDefault(),r.touches.length===2?n.onPinchMove(r):r.touches.length===1&&n.onDrag(e.getTouchPoint(r.touches[0]))},n.onGestureStart=function(r){n.currentDoc&&(r.preventDefault(),n.currentDoc.addEventListener("gesturechange",n.onGestureMove),n.currentDoc.addEventListener("gestureend",n.onGestureEnd),n.gestureZoomStart=n.props.zoom,n.gestureRotationStart=n.props.rotation)},n.onGestureMove=function(r){if(r.preventDefault(),!n.isTouching){var i=e.getMousePoint(r),s=n.gestureZoomStart-1+r.scale;if(n.setNewZoom(s,i,{shouldUpdatePosition:!0}),n.props.onRotationChange){var a=n.gestureRotationStart+r.rotation;n.props.onRotationChange(a)}}},n.onGestureEnd=function(r){n.cleanEvents()},n.onDragStart=function(r){var i,s,a=r.x,c=r.y;n.dragStartPosition={x:a,y:c},n.dragStartCrop=Gt({},n.props.crop),(s=(i=n.props).onInteractionStart)===null||s===void 0||s.call(i)},n.onDrag=function(r){var i=r.x,s=r.y;n.currentWindow&&(n.rafDragTimeout&&n.currentWindow.cancelAnimationFrame(n.rafDragTimeout),n.rafDragTimeout=n.currentWindow.requestAnimationFrame(function(){if(n.state.cropSize&&!(i===void 0||s===void 0)){var a=i-n.dragStartPosition.x,c=s-n.dragStartPosition.y,u={x:n.dragStartCrop.x+a,y:n.dragStartCrop.y+c},f=n.props.restrictPosition?Nu(u,n.mediaSize,n.state.cropSize,n.props.zoom,n.props.rotation):u;n.props.onCropChange(f)}}))},n.onDragStopped=function(){var r,i;n.isTouching=!1,n.cleanEvents(),n.emitCropData(),(i=(r=n.props).onInteractionEnd)===null||i===void 0||i.call(r)},n.onWheel=function(r){if(n.currentWindow&&!(n.props.onWheelRequest&&!n.props.onWheelRequest(r))){r.preventDefault();var i=e.getMousePoint(r),s=CY(r).pixelY,a=n.props.zoom-s*n.props.zoomSpeed/200;n.setNewZoom(a,i,{shouldUpdatePosition:!0}),n.state.hasWheelJustStarted||n.setState({hasWheelJustStarted:!0},function(){var c,u;return(u=(c=n.props).onInteractionStart)===null||u===void 0?void 0:u.call(c)}),n.wheelTimer&&clearTimeout(n.wheelTimer),n.wheelTimer=n.currentWindow.setTimeout(function(){return n.setState({hasWheelJustStarted:!1},function(){var c,u;return(u=(c=n.props).onInteractionEnd)===null||u===void 0?void 0:u.call(c)})},250)}},n.getPointOnContainer=function(r,i){var s=r.x,a=r.y;if(!n.containerRect)throw new Error("The Cropper is not mounted");return{x:n.containerRect.width/2-(s-i.x),y:n.containerRect.height/2-(a-i.y)}},n.getPointOnMedia=function(r){var i=r.x,s=r.y,a=n.props,c=a.crop,u=a.zoom;return{x:(i+c.x)/u,y:(s+c.y)/u}},n.setNewZoom=function(r,i,s){var a=s===void 0?{}:s,c=a.shouldUpdatePosition,u=c===void 0?!0:c;if(!(!n.state.cropSize||!n.props.onZoomChange)){var f=Jm(r,n.props.minZoom,n.props.maxZoom);if(u){var h=n.getPointOnContainer(i,n.containerPosition),g=n.getPointOnMedia(h),v={x:g.x*f-h.x,y:g.y*f-h.y},x=n.props.restrictPosition?Nu(v,n.mediaSize,n.state.cropSize,f,n.props.rotation):v;n.props.onCropChange(x)}n.props.onZoomChange(f)}},n.getCropData=function(){if(!n.state.cropSize)return null;var r=n.props.restrictPosition?Nu(n.props.crop,n.mediaSize,n.state.cropSize,n.props.zoom,n.props.rotation):n.props.crop;return PY(r,n.mediaSize,n.state.cropSize,n.getAspect(),n.props.zoom,n.props.rotation,n.props.restrictPosition)},n.emitCropData=function(){var r=n.getCropData();if(r){var i=r.croppedAreaPercentages,s=r.croppedAreaPixels;n.props.onCropComplete&&n.props.onCropComplete(i,s),n.props.onCropAreaChange&&n.props.onCropAreaChange(i,s)}},n.emitCropAreaChange=function(){var r=n.getCropData();if(r){var i=r.croppedAreaPercentages,s=r.croppedAreaPixels;n.props.onCropAreaChange&&n.props.onCropAreaChange(i,s)}},n.recomputeCropPosition=function(){if(n.state.cropSize){var r=n.props.restrictPosition?Nu(n.props.crop,n.mediaSize,n.state.cropSize,n.props.zoom,n.props.rotation):n.props.crop;n.props.onCropChange(r),n.emitCropData()}},n.onKeyDown=function(r){var i,s,a=n.props,c=a.crop,u=a.onCropChange,f=a.keyboardStep,h=a.zoom,g=a.rotation,v=f;if(n.state.cropSize){r.shiftKey&&(v*=.2);var x=Gt({},c);switch(r.key){case"ArrowUp":x.y-=v,r.preventDefault();break;case"ArrowDown":x.y+=v,r.preventDefault();break;case"ArrowLeft":x.x-=v,r.preventDefault();break;case"ArrowRight":x.x+=v,r.preventDefault();break;default:return}n.props.restrictPosition&&(x=Nu(x,n.mediaSize,n.state.cropSize,h,g)),r.repeat||(s=(i=n.props).onInteractionStart)===null||s===void 0||s.call(i),u(x)}},n.onKeyUp=function(r){var i,s;switch(r.key){case"ArrowUp":case"ArrowDown":case"ArrowLeft":case"ArrowRight":r.preventDefault();break;default:return}n.emitCropData(),(s=(i=n.props).onInteractionEnd)===null||s===void 0||s.call(i)},n}return e.prototype.componentDidMount=function(){!this.currentDoc||!this.currentWindow||(this.containerRef&&(this.containerRef.ownerDocument&&(this.currentDoc=this.containerRef.ownerDocument),this.currentDoc.defaultView&&(this.currentWindow=this.currentDoc.defaultView),this.initResizeObserver(),typeof window.ResizeObserver>"u"&&this.currentWindow.addEventListener("resize",this.computeSizes),this.props.zoomWithScroll&&this.containerRef.addEventListener("wheel",this.onWheel,{passive:!1}),this.containerRef.addEventListener("gesturestart",this.onGestureStart)),this.currentDoc.addEventListener("scroll",this.onScroll),this.props.disableAutomaticStylesInjection||(this.styleRef=this.currentDoc.createElement("style"),this.styleRef.setAttribute("type","text/css"),this.props.nonce&&this.styleRef.setAttribute("nonce",this.props.nonce),this.styleRef.innerHTML=DY,this.currentDoc.head.appendChild(this.styleRef)),this.imageRef.current&&this.imageRef.current.complete&&this.onMediaLoad(),this.props.setImageRef&&this.props.setImageRef(this.imageRef),this.props.setVideoRef&&this.props.setVideoRef(this.videoRef),this.props.setCropperRef&&this.props.setCropperRef(this.cropperRef))},e.prototype.componentWillUnmount=function(){var n,r;!this.currentDoc||!this.currentWindow||(typeof window.ResizeObserver>"u"&&this.currentWindow.removeEventListener("resize",this.computeSizes),(n=this.resizeObserver)===null||n===void 0||n.disconnect(),this.containerRef&&this.containerRef.removeEventListener("gesturestart",this.preventZoomSafari),this.styleRef&&((r=this.styleRef.parentNode)===null||r===void 0||r.removeChild(this.styleRef)),this.cleanEvents(),this.props.zoomWithScroll&&this.clearScrollEvent())},e.prototype.componentDidUpdate=function(n){var r,i,s,a,c,u,f,h,g;n.rotation!==this.props.rotation?(this.computeSizes(),this.recomputeCropPosition()):n.aspect!==this.props.aspect?this.computeSizes():n.objectFit!==this.props.objectFit?this.computeSizes():n.zoom!==this.props.zoom?this.recomputeCropPosition():((r=n.cropSize)===null||r===void 0?void 0:r.height)!==((i=this.props.cropSize)===null||i===void 0?void 0:i.height)||((s=n.cropSize)===null||s===void 0?void 0:s.width)!==((a=this.props.cropSize)===null||a===void 0?void 0:a.width)?this.computeSizes():(((c=n.crop)===null||c===void 0?void 0:c.x)!==((u=this.props.crop)===null||u===void 0?void 0:u.x)||((f=n.crop)===null||f===void 0?void 0:f.y)!==((h=this.props.crop)===null||h===void 0?void 0:h.y))&&this.emitCropAreaChange(),n.zoomWithScroll!==this.props.zoomWithScroll&&this.containerRef&&(this.props.zoomWithScroll?this.containerRef.addEventListener("wheel",this.onWheel,{passive:!1}):this.clearScrollEvent()),n.video!==this.props.video&&((g=this.videoRef.current)===null||g===void 0||g.load());var v=this.getObjectFit();v!==this.state.mediaObjectFit&&this.setState({mediaObjectFit:v},this.computeSizes)},e.prototype.getAspect=function(){var n=this.props,r=n.cropSize,i=n.aspect;return r?r.width/r.height:i},e.prototype.getObjectFit=function(){var n,r,i,s;if(this.props.objectFit==="cover"){var a=this.imageRef.current||this.videoRef.current;if(a&&this.containerRef){this.containerRect=this.containerRef.getBoundingClientRect();var c=this.containerRect.width/this.containerRect.height,u=((n=this.imageRef.current)===null||n===void 0?void 0:n.naturalWidth)||((r=this.videoRef.current)===null||r===void 0?void 0:r.videoWidth)||0,f=((i=this.imageRef.current)===null||i===void 0?void 0:i.naturalHeight)||((s=this.videoRef.current)===null||s===void 0?void 0:s.videoHeight)||0,h=u/f;return h<c?"horizontal-cover":"vertical-cover"}return"horizontal-cover"}return this.props.objectFit},e.prototype.onPinchStart=function(n){var r=e.getTouchPoint(n.touches[0]),i=e.getTouchPoint(n.touches[1]);this.lastPinchDistance=t2(r,i),this.lastPinchRotation=n2(r,i),this.onDragStart(r2(r,i))},e.prototype.onPinchMove=function(n){var r=this;if(!(!this.currentDoc||!this.currentWindow)){var i=e.getTouchPoint(n.touches[0]),s=e.getTouchPoint(n.touches[1]),a=r2(i,s);this.onDrag(a),this.rafPinchTimeout&&this.currentWindow.cancelAnimationFrame(this.rafPinchTimeout),this.rafPinchTimeout=this.currentWindow.requestAnimationFrame(function(){var c=t2(i,s),u=r.props.zoom*(c/r.lastPinchDistance);r.setNewZoom(u,a,{shouldUpdatePosition:!1}),r.lastPinchDistance=c;var f=n2(i,s),h=r.props.rotation+(f-r.lastPinchRotation);r.props.onRotationChange&&r.props.onRotationChange(h),r.lastPinchRotation=f})}},e.prototype.render=function(){var n=this,r,i=this.props,s=i.image,a=i.video,c=i.mediaProps,u=i.cropperProps,f=i.transform,h=i.crop,g=h.x,v=h.y,x=i.rotation,_=i.zoom,T=i.cropShape,I=i.showGrid,R=i.style,P=R.containerStyle,k=R.cropAreaStyle,j=R.mediaStyle,$=i.classes,B=$.containerClassName,L=$.cropAreaClassName,N=$.mediaClassName,O=(r=this.state.mediaObjectFit)!==null&&r!==void 0?r:this.getObjectFit();return C.createElement("div",{onMouseDown:this.onMouseDown,onTouchStart:this.onTouchStart,ref:function(M){return n.containerRef=M},"data-testid":"container",style:P,className:Gh("reactEasyCrop_Container",B)},s?C.createElement("img",Gt({alt:"",className:Gh("reactEasyCrop_Image",O==="contain"&&"reactEasyCrop_Contain",O==="horizontal-cover"&&"reactEasyCrop_Cover_Horizontal",O==="vertical-cover"&&"reactEasyCrop_Cover_Vertical",N)},c,{src:s,ref:this.imageRef,style:Gt(Gt({},j),{transform:f||"translate(".concat(g,"px, ").concat(v,"px) rotate(").concat(x,"deg) scale(").concat(_,")")}),onLoad:this.onMediaLoad})):a&&C.createElement("video",Gt({autoPlay:!0,playsInline:!0,loop:!0,muted:!0,className:Gh("reactEasyCrop_Video",O==="contain"&&"reactEasyCrop_Contain",O==="horizontal-cover"&&"reactEasyCrop_Cover_Horizontal",O==="vertical-cover"&&"reactEasyCrop_Cover_Vertical",N)},c,{ref:this.videoRef,onLoadedMetadata:this.onMediaLoad,style:Gt(Gt({},j),{transform:f||"translate(".concat(g,"px, ").concat(v,"px) rotate(").concat(x,"deg) scale(").concat(_,")")}),controls:!1}),(Array.isArray(a)?a:[{src:a}]).map(function(b){return C.createElement("source",Gt({key:b.src},b))})),this.state.cropSize&&C.createElement("div",Gt({ref:this.cropperRef,style:Gt(Gt({},k),{width:this.state.cropSize.width,height:this.state.cropSize.height}),tabIndex:0,onKeyDown:this.onKeyDown,onKeyUp:this.onKeyUp,"data-testid":"cropper",className:Gh("reactEasyCrop_CropArea",T==="round"&&"reactEasyCrop_CropAreaRound",I&&"reactEasyCrop_CropAreaGrid",L)},u)))},e.defaultProps={zoom:1,rotation:0,aspect:4/3,maxZoom:jY,minZoom:LY,cropShape:"rect",objectFit:"contain",showGrid:!0,style:{},classes:{},mediaProps:{},cropperProps:{},zoomSpeed:1,restrictPosition:!0,zoomWithScroll:!0,keyboardStep:FY},e.getMousePoint=function(n){return{x:Number(n.clientX),y:Number(n.clientY)}},e.getTouchPoint=function(n){return{x:Number(n.clientX),y:Number(n.clientY)}},e}(C.Component);const UY=t=>new Promise((e,n)=>{const r=new Image;r.addEventListener("load",()=>e(r)),r.addEventListener("error",i=>n(i)),r.setAttribute("crossOrigin","anonymous"),r.src=t});async function VY(t,e){const n=await UY(t),r=document.createElement("canvas"),i=r.getContext("2d");return r.width=e.width,r.height=e.height,i.drawImage(n,e.x,e.y,e.width,e.height,0,0,e.width,e.height),r}function BY({open:t,onClose:e,usuario:n,onUploadSuccess:r}){const[i,s]=C.useState(null),[a,c]=C.useState({x:0,y:0}),[u,f]=C.useState(1),[h,g]=C.useState(null),[v,x]=C.useState(!1),_=C.useCallback((R,P)=>{g(P)},[]),T=R=>{if(R.target.files&&R.target.files.length>0){const P=R.target.files[0],k=new FileReader;k.onload=()=>{s(k.result)},k.readAsDataURL(P)}},I=async()=>{x(!0);const P=(await VY(i,h)).toDataURL("image/jpeg");localStorage.setItem(`fotoPerfil_${n.uid}`,P),r(P),x(!1),e()};return w.jsx(xN,{open:t,onClose:e,children:w.jsxs(bN,{className:"bg-white rounded-lg p-4 shadow-lg w-full max-w-md mx-auto mt-32 max-h-[90vh] overflow-hidden",children:[w.jsx("h2",{className:"text-lg font-bold mb-4 text-center",children:"Editar Foto de Perfil"}),i?w.jsx("div",{className:"relative w-full h-[300px] bg-black",children:w.jsx($Y,{image:i,crop:a,zoom:u,aspect:1,onCropChange:c,onZoomChange:f,onCropComplete:_})}):w.jsx("input",{type:"file",accept:"image/*",onChange:T}),w.jsxs("div",{className:"flex justify-end mt-4 gap-2",children:[w.jsx("button",{onClick:e,className:"px-4 py-2 bg-gray-300 rounded hover:bg-gray-400",children:"Cancelar"}),i&&w.jsx("button",{onClick:I,disabled:v,className:"px-4 py-2 bg-green-600 text-white rounded hover:bg-green-700",children:v?"Subiendo...":"Guardar"})]})]})})}function zY(){const{user:t}=si(),[e,n]=C.useState(null),[r,i]=C.useState(!1),[s,a]=C.useState(""),[c,u]=C.useState(""),[f,h]=C.useState(!1),[g,v]=C.useState(!1),[x,_]=C.useState(!1),T=Pr(),I=(j,$)=>(j?.charAt(0).toUpperCase()||"")+($?.charAt(0).toUpperCase()||"");C.useEffect(()=>{if(t){const j=Ce(Te,`usuarios/${t.uid}`);ti(j).then(async $=>{const B=t.displayName||"",L=B.split(" ")[0]||"",N=B.split(" ")[1]||"",O=t.photoURL||null,M=localStorage.getItem(`fotoPerfil_${t.uid}`)||O||$.exists()&&$.val().foto||null,V={nombre:L,apellido:N,correo:t.email,rol:"usuario",iniciales:I(L,N),foto:M},F=!L||!N;if(h(F),i(F),a(L),u(N),!$.exists())await At(j,V),n(V);else{const Q=$.val(),ae={};Q.nombre||(ae.nombre=L),Q.apellido||(ae.apellido=N),!Q.foto&&M&&(ae.foto=M),Object.keys(ae).length>0?(await ms(j,ae),n({...Q,...ae,foto:M})):n({...Q,foto:M}),a(Q.nombre||L),u(Q.apellido||N)}})}},[t]);const R=async()=>{if(!t)return;const j=Ce(Te,`usuarios/${t.uid}`),$={nombre:s,apellido:c,iniciales:I(s,c)};await ms(j,$),i(!1),h(!1),alert("Datos actualizados correctamente")},P=async()=>{await Zk(so),T("/login")},k=j=>{n($=>({...$,foto:j}))};return e?w.jsxs("div",{className:"min-h-screen bg-cover bg-center text-white font-qatar",style:{backgroundImage:"url('/EmproChampions-2025/img/fondoempro-horizontal.png')"},children:[w.jsx(cr,{}),w.jsx("div",{className:"flex items-center justify-center px-4 py-10",children:w.jsxs("div",{className:"bg-white/90 rounded-2xl shadow-lg p-8 w-full max-w-md text-center text-black",children:[w.jsx("h1",{className:"text-3xl font-bold text-[#7a0026] mb-6",children:"Configuración de Cuenta"}),f&&w.jsx("div",{className:"mb-4 text-red-700 font-semibold",children:"Tu cuenta no tiene nombre ni foto. Por favor completa tu perfil 👇"}),w.jsxs("div",{className:"mb-4 relative w-24 h-24 mx-auto",children:[e.foto?w.jsx("img",{src:e.foto,alt:"Foto de perfil",className:"w-24 h-24 rounded-full object-cover"}):w.jsx("div",{className:"w-24 h-24 rounded-full bg-[#7a0026] text-white text-3xl flex items-center justify-center",children:I(s,c)||"U"}),w.jsx("button",{type:"button",onClick:()=>_(!0),className:"absolute bottom-0 right-0 bg-yellow-400 text-black rounded-full p-1 shadow-md hover:bg-yellow-500","aria-label":"Editar foto de perfil",children:"✏️"})]}),w.jsxs("div",{className:"space-y-4 text-left",children:[w.jsx("input",{type:"text",placeholder:"Nombre",value:s,onChange:j=>a(j.target.value),className:"w-full px-4 py-2 border border-[#7a0026] rounded-md",disabled:!r}),w.jsx("input",{type:"text",placeholder:"Apellido",value:c,onChange:j=>u(j.target.value),className:"w-full px-4 py-2 border border-[#7a0026] rounded-md",disabled:!r}),w.jsxs("p",{className:"text-gray-700 font-sans text-sm break-all",children:["Correo: ",e.correo]})]}),w.jsxs("div",{className:"mt-6",children:[r?w.jsx("button",{onClick:R,className:"w-full bg-[#FFD700] text-[#7a0026] font-bold py-2 rounded-md hover:bg-yellow-400 transition",children:"Guardar Cambios"}):w.jsx("button",{onClick:()=>i(!0),className:"w-full bg-blue-600 text-white font-bold py-2 rounded-md hover:bg-blue-700 transition",children:"Editar"}),w.jsx("button",{onClick:()=>v(!0),className:"mt-4 w-full bg-red-600 text-white font-bold py-2 rounded-md hover:bg-red-700 transition",children:"Cerrar sesión"})]})]})}),w.jsx(xN,{open:g,onClose:()=>v(!1),children:w.jsxs(bN,{sx:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:400,bgcolor:"background.paper",border:"2px solid #000",boxShadow:24,p:4,textAlign:"center"},children:[w.jsx("h2",{className:"text-xl font-bold mb-4 text-black",children:"¿Cerrar sesión?"}),w.jsxs("div",{className:"flex justify-center gap-4",children:[w.jsx("button",{className:"bg-gray-300 px-4 py-2 rounded hover:bg-gray-400",onClick:()=>v(!1),children:"Cancelar"}),w.jsx("button",{className:"bg-red-600 text-white px-4 py-2 rounded hover:bg-red-700",onClick:P,children:"Confirmar"})]})]})}),w.jsx(BY,{open:x,onClose:()=>_(!1),usuario:t,onUploadSuccess:k}),w.jsx(ur,{})]}):w.jsx("div",{className:"text-white text-center mt-10",children:"Cargando..."})}function HY(){const{partidoId:t}=_w(),e=Pr(),[n,r]=C.useState(null),[i,s]=C.useState([]),[a,c]=C.useState(!0),[u,f]=C.useState(!1);C.useEffect(()=>{if(!t){e("/");return}const v=Ce(Te,`partidos/${t}`),x=Jt(v,_=>{if(_.exists()){const T=_.val();r({id:_.key,...T});const I=T.eventos?.goles?Object.entries(T.eventos.goles).map(([R,P])=>({id:R,...P})):[];s(I)}else alert("El partido que intentas editar ya no existe."),e("/historial/masculino");c(!1)});return()=>Pa(v,"value",x)},[t,e]);const h=v=>{window.confirm("¿Estás seguro de que quieres eliminar este gol?")&&s(x=>x.filter(_=>_.id!==v))},g=async()=>{if(!(u||!n)){f(!0);try{const v=n.alineacion.genero,x=n.alineacion.equipo1,_=n.alineacion.equipo2,T=n.marcador||{equipo1:0,equipo2:0},I={equipo1:0,equipo2:0};i.forEach(M=>{M.equipo==="equipo1"&&I.equipo1++,M.equipo==="equipo2"&&I.equipo2++});const R=M$(Ce(Te,`historial/${v}`),R$("partidoId"),O$(t)),P=await ti(R);let k=null;P.exists()&&(k=Object.keys(P.val())[0]);const j=Ce(Te,`tablas/${v}`),B=(await ti(j)).val()||{},L=(M,V,F)=>{B[M]&&(B[M].PJ-=1,B[M].GF-=V,B[M].GC-=F,V>F?(B[M].PG-=1,B[M].PTS-=3):F>V?B[M].PP-=1:(B[M].PE-=1,B[M].PTS-=1))};L(x.nombre,T.equipo1,T.equipo2),L(_.nombre,T.equipo2,T.equipo1);const N=(M,V,F,Q)=>{B[M]||(B[M]={PJ:0,PG:0,PE:0,PP:0,GF:0,GC:0,PTS:0,logo:V}),B[M].PJ+=1,B[M].GF+=F,B[M].GC+=Q,F>Q?(B[M].PG+=1,B[M].PTS+=3):Q>F?B[M].PP+=1:(B[M].PE+=1,B[M].PTS+=1)};N(x.nombre,x.logo,I.equipo1,I.equipo2),N(_.nombre,_.logo,I.equipo2,I.equipo1);const O={},b=i.reduce((M,V)=>({...M,[V.id]:{equipo:V.equipo,jugador:V.jugador,minuto:V.minuto}}),{});O[`/partidos/${t}/eventos/goles`]=b,O[`/partidos/${t}/marcador`]=I,k&&(O[`/historial/${v}/${k}/goles`]=I),O[`/tablas/${v}`]=B,await ms(Ce(Te),O),alert("¡Éxito! El partido y las tablas han sido actualizados."),e(`/historial/${v}`)}catch(v){console.error("Error al guardar los cambios:",v),alert(`Hubo un error al guardar: ${v.message}`)}finally{f(!1)}}};return a?w.jsx("div",{className:"w-full min-h-screen bg-main-background text-white flex justify-center items-center",children:"Cargando datos..."}):w.jsxs("div",{className:"w-full min-h-screen bg-main-background text-white font-qatar flex flex-col",children:[w.jsx(cr,{}),w.jsxs("div",{className:"container mx-auto px-4 py-8 flex-grow",children:[w.jsx("h1",{className:"text-4xl md:text-5xl font-bold text-center text-yellow-400 drop-shadow-lg mb-2",children:"Editar Partido"}),w.jsxs("p",{className:"text-center text-gray-300 mb-8",children:[n?.alineacion?.equipo1?.nombre||"Equipo 1"," vs ",n?.alineacion?.equipo2?.nombre||"Equipo 2"]}),w.jsxs("div",{className:"max-w-2xl mx-auto bg-black/50 p-6 rounded-xl",children:[w.jsx("h2",{className:"text-2xl font-bold mb-4 text-yellow-300",children:"Goles Registrados"}),w.jsx("div",{className:"space-y-3",children:i.length>0?i.map(v=>w.jsxs("div",{className:"flex items-center justify-between bg-gray-800/50 p-3 rounded-lg",children:[w.jsxs("div",{children:[w.jsx("p",{className:"font-bold",children:v.jugador}),w.jsxs("p",{className:"text-sm opacity-70",children:["Minuto: ",v.minuto]})]}),w.jsx("button",{onClick:()=>h(v.id),className:"bg-red-600 hover:bg-red-500 text-white font-bold py-1 px-3 rounded text-sm",children:"Eliminar"})]},v.id)):w.jsx("p",{children:"No hay goles para editar."})}),w.jsxs("div",{className:"mt-8 pt-6 border-t border-yellow-400/20 flex justify-between items-center",children:[w.jsx("button",{onClick:()=>e(`/historial/${n.alineacion.genero}`),className:"bg-gray-500 hover:bg-gray-400 text-white font-bold py-2 px-6 rounded",children:"Cancelar"}),w.jsx("button",{onClick:g,disabled:u,className:"bg-green-600 hover:bg-green-500 text-white font-bold py-2 px-6 rounded disabled:bg-gray-400",children:u?"Guardando...":"Guardar y Recalcular"})]})]})]}),w.jsx(ur,{})]})}var WY=Object.defineProperty,qY=(t,e,n)=>e in t?WY(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Dy=(t,e,n)=>(qY(t,typeof e!="symbol"?e+"":e,n),n);let GY=class{constructor(){Dy(this,"current",this.detect()),Dy(this,"handoffState","pending"),Dy(this,"currentId",0)}set(e){this.current!==e&&(this.handoffState="pending",this.currentId=0,this.current=e)}reset(){this.set(this.detect())}nextId(){return++this.currentId}get isServer(){return this.current==="server"}get isClient(){return this.current==="client"}detect(){return typeof window>"u"||typeof document>"u"?"server":"client"}handoff(){this.handoffState==="pending"&&(this.handoffState="complete")}get isHandoffComplete(){return this.handoffState==="complete"}},_a=new GY;function Qm(t){var e,n;return _a.isServer?null:t?"ownerDocument"in t?t.ownerDocument:"current"in t?(n=(e=t.current)==null?void 0:e.ownerDocument)!=null?n:document:null:document}function Zm(t){typeof queueMicrotask=="function"?queueMicrotask(t):Promise.resolve().then(t).catch(e=>setTimeout(()=>{throw e}))}function Ts(){let t=[],e={addEventListener(n,r,i,s){return n.addEventListener(r,i,s),e.add(()=>n.removeEventListener(r,i,s))},requestAnimationFrame(...n){let r=requestAnimationFrame(...n);return e.add(()=>cancelAnimationFrame(r))},nextFrame(...n){return e.requestAnimationFrame(()=>e.requestAnimationFrame(...n))},setTimeout(...n){let r=setTimeout(...n);return e.add(()=>clearTimeout(r))},microTask(...n){let r={current:!0};return Zm(()=>{r.current&&n[0]()}),e.add(()=>{r.current=!1})},style(n,r,i){let s=n.style.getPropertyValue(r);return Object.assign(n.style,{[r]:i}),this.add(()=>{Object.assign(n.style,{[r]:s})})},group(n){let r=Ts();return n(r),this.add(()=>r.dispose())},add(n){return t.includes(n)||t.push(n),()=>{let r=t.indexOf(n);if(r>=0)for(let i of t.splice(r,1))i()}},dispose(){for(let n of t.splice(0))n()}};return e}function Fx(){let[t]=C.useState(Ts);return C.useEffect(()=>()=>t.dispose(),[t]),t}let wn=(t,e)=>{_a.isServer?C.useEffect(t,e):C.useLayoutEffect(t,e)};function Fa(t){let e=C.useRef(t);return wn(()=>{e.current=t},[t]),e}let nt=function(t){let e=Fa(t);return me.useCallback((...n)=>e.current(...n),[e])},KY=C.createContext(void 0);function YY(){return C.useContext(KY)}function lw(...t){return Array.from(new Set(t.flatMap(e=>typeof e=="string"?e.split(" "):[]))).filter(Boolean).join(" ")}function ws(t,e,...n){if(t in e){let i=e[t];return typeof i=="function"?i(...n):i}let r=new Error(`Tried to handle "${t}" but there is no handler defined. Only defined handlers are: ${Object.keys(e).map(i=>`"${i}"`).join(", ")}.`);throw Error.captureStackTrace&&Error.captureStackTrace(r,ws),r}var tm=(t=>(t[t.None=0]="None",t[t.RenderStrategy=1]="RenderStrategy",t[t.Static=2]="Static",t))(tm||{}),lo=(t=>(t[t.Unmount=0]="Unmount",t[t.Hidden=1]="Hidden",t))(lo||{});function Rr(){let t=JY();return C.useCallback(e=>XY({mergeRefs:t,...e}),[t])}function XY({ourProps:t,theirProps:e,slot:n,defaultTag:r,features:i,visible:s=!0,name:a,mergeRefs:c}){c=c??QY;let u=EN(e,t);if(s)return Kh(u,n,r,a,c);let f=i??0;if(f&2){let{static:h=!1,...g}=u;if(h)return Kh(g,n,r,a,c)}if(f&1){let{unmount:h=!0,...g}=u;return ws(h?0:1,{0(){return null},1(){return Kh({...g,hidden:!0,style:{display:"none"}},n,r,a,c)}})}return Kh(u,n,r,a,c)}function Kh(t,e={},n,r,i){let{as:s=n,children:a,refName:c="ref",...u}=Ly(t,["unmount","static"]),f=t.ref!==void 0?{[c]:t.ref}:{},h=typeof a=="function"?a(e):a;"className"in u&&u.className&&typeof u.className=="function"&&(u.className=u.className(e)),u["aria-labelledby"]&&u["aria-labelledby"]===u.id&&(u["aria-labelledby"]=void 0);let g={};if(e){let v=!1,x=[];for(let[_,T]of Object.entries(e))typeof T=="boolean"&&(v=!0),T===!0&&x.push(_.replace(/([A-Z])/g,I=>`-${I.toLowerCase()}`));if(v){g["data-headlessui-state"]=x.join(" ");for(let _ of x)g[`data-${_}`]=""}}if(s===C.Fragment&&(Object.keys(aa(u)).length>0||Object.keys(aa(g)).length>0))if(!C.isValidElement(h)||Array.isArray(h)&&h.length>1){if(Object.keys(aa(u)).length>0)throw new Error(['Passing props on "Fragment"!',"",`The current component <${r} /> is rendering a "Fragment".`,"However we need to passthrough the following props:",Object.keys(aa(u)).concat(Object.keys(aa(g))).map(v=>`  - ${v}`).join(`
`),"","You can apply a few solutions:",['Add an `as="..."` prop, to ensure that we render an actual element instead of a "Fragment".',"Render a single element as the child so that we can forward the props onto that element."].map(v=>`  - ${v}`).join(`
`)].join(`
`))}else{let v=h.props,x=v?.className,_=typeof x=="function"?(...R)=>lw(x(...R),u.className):lw(x,u.className),T=_?{className:_}:{},I=EN(h.props,aa(Ly(u,["ref"])));for(let R in g)R in I&&delete g[R];return C.cloneElement(h,Object.assign({},I,g,f,{ref:i(ZY(h),f.ref)},T))}return C.createElement(s,Object.assign({},Ly(u,["ref"]),s!==C.Fragment&&f,s!==C.Fragment&&g),h)}function JY(){let t=C.useRef([]),e=C.useCallback(n=>{for(let r of t.current)r!=null&&(typeof r=="function"?r(n):r.current=n)},[]);return(...n)=>{if(!n.every(r=>r==null))return t.current=n,e}}function QY(...t){return t.every(e=>e==null)?void 0:e=>{for(let n of t)n!=null&&(typeof n=="function"?n(e):n.current=e)}}function EN(...t){if(t.length===0)return{};if(t.length===1)return t[0];let e={},n={};for(let r of t)for(let i in r)i.startsWith("on")&&typeof r[i]=="function"?(n[i]!=null||(n[i]=[]),n[i].push(r[i])):e[i]=r[i];if(e.disabled||e["aria-disabled"])for(let r in n)/^(on(?:Click|Pointer|Mouse|Key)(?:Down|Up|Press)?)$/.test(r)&&(n[r]=[i=>{var s;return(s=i?.preventDefault)==null?void 0:s.call(i)}]);for(let r in n)Object.assign(e,{[r](i,...s){let a=n[r];for(let c of a){if((i instanceof Event||i?.nativeEvent instanceof Event)&&i.defaultPrevented)return;c(i,...s)}}});return e}function Yn(t){var e;return Object.assign(C.forwardRef(t),{displayName:(e=t.displayName)!=null?e:t.name})}function aa(t){let e=Object.assign({},t);for(let n in e)e[n]===void 0&&delete e[n];return e}function Ly(t,e=[]){let n=Object.assign({},t);for(let r of e)r in n&&delete n[r];return n}function ZY(t){return me.version.split(".")[0]>="19"?t.props.ref:t.ref}let eX="span";var nm=(t=>(t[t.None=1]="None",t[t.Focusable=2]="Focusable",t[t.Hidden=4]="Hidden",t))(nm||{});function tX(t,e){var n;let{features:r=1,...i}=t,s={ref:e,"aria-hidden":(r&2)===2?!0:(n=i["aria-hidden"])!=null?n:void 0,hidden:(r&4)===4?!0:void 0,style:{position:"fixed",top:1,left:1,width:1,height:0,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0",...(r&4)===4&&(r&2)!==2&&{display:"none"}}};return Rr()({ourProps:s,theirProps:i,slot:{},defaultTag:eX,name:"Hidden"})}let cw=Yn(tX);function SN(t){return typeof t!="object"||t===null?!1:"nodeType"in t}function mo(t){return SN(t)&&"tagName"in t}function Oa(t){return mo(t)&&"accessKey"in t}function co(t){return mo(t)&&"tabIndex"in t}function nX(t){return mo(t)&&"style"in t}function rX(t){return Oa(t)&&t.nodeName==="IFRAME"}function iX(t){return Oa(t)&&t.nodeName==="INPUT"}let CN=Symbol();function sX(t,e=!0){return Object.assign(t,{[CN]:e})}function Ni(...t){let e=C.useRef(t);C.useEffect(()=>{e.current=t},[t]);let n=nt(r=>{for(let i of e.current)i!=null&&(typeof i=="function"?i(r):i.current=r)});return t.every(r=>r==null||r?.[CN])?void 0:n}let $x=C.createContext(null);$x.displayName="DescriptionContext";function TN(){let t=C.useContext($x);if(t===null){let e=new Error("You used a <Description /> component, but it is not inside a relevant parent.");throw Error.captureStackTrace&&Error.captureStackTrace(e,TN),e}return t}function oX(){let[t,e]=C.useState([]);return[t.length>0?t.join(" "):void 0,C.useMemo(()=>function(n){let r=nt(s=>(e(a=>[...a,s]),()=>e(a=>{let c=a.slice(),u=c.indexOf(s);return u!==-1&&c.splice(u,1),c}))),i=C.useMemo(()=>({register:r,slot:n.slot,name:n.name,props:n.props,value:n.value}),[r,n.slot,n.name,n.props,n.value]);return me.createElement($x.Provider,{value:i},n.children)},[e])]}let aX="p";function lX(t,e){let n=C.useId(),r=YY(),{id:i=`headlessui-description-${n}`,...s}=t,a=TN(),c=Ni(e);wn(()=>a.register(i),[i,a.register]);let u=r||!1,f=C.useMemo(()=>({...a.slot,disabled:u}),[a.slot,u]),h={ref:c,...a.props,id:i};return Rr()({ourProps:h,theirProps:s,slot:f,defaultTag:aX,name:a.name||"Description"})}let cX=Yn(lX),uX=Object.assign(cX,{});var kN=(t=>(t.Space=" ",t.Enter="Enter",t.Escape="Escape",t.Backspace="Backspace",t.Delete="Delete",t.ArrowLeft="ArrowLeft",t.ArrowUp="ArrowUp",t.ArrowRight="ArrowRight",t.ArrowDown="ArrowDown",t.Home="Home",t.End="End",t.PageUp="PageUp",t.PageDown="PageDown",t.Tab="Tab",t))(kN||{});let dX=C.createContext(()=>{});function fX({value:t,children:e}){return me.createElement(dX.Provider,{value:t},e)}let PN=class extends Map{constructor(e){super(),this.factory=e}get(e){let n=super.get(e);return n===void 0&&(n=this.factory(e),this.set(e,n)),n}};var hX=Object.defineProperty,pX=(t,e,n)=>e in t?hX(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,mX=(t,e,n)=>(pX(t,e+"",n),n),IN=(t,e,n)=>{if(!e.has(t))throw TypeError("Cannot "+n)},xr=(t,e,n)=>(IN(t,e,"read from private field"),n?n.call(t):e.get(t)),jy=(t,e,n)=>{if(e.has(t))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(t):e.set(t,n)},i2=(t,e,n,r)=>(IN(t,e,"write to private field"),e.set(t,n),n),vi,Uu,Vu;let gX=class{constructor(e){jy(this,vi,{}),jy(this,Uu,new PN(()=>new Set)),jy(this,Vu,new Set),mX(this,"disposables",Ts()),i2(this,vi,e)}dispose(){this.disposables.dispose()}get state(){return xr(this,vi)}subscribe(e,n){let r={selector:e,callback:n,current:e(xr(this,vi))};return xr(this,Vu).add(r),this.disposables.add(()=>{xr(this,Vu).delete(r)})}on(e,n){return xr(this,Uu).get(e).add(n),this.disposables.add(()=>{xr(this,Uu).get(e).delete(n)})}send(e){let n=this.reduce(xr(this,vi),e);if(n!==xr(this,vi)){i2(this,vi,n);for(let r of xr(this,Vu)){let i=r.selector(xr(this,vi));AN(r.current,i)||(r.current=i,r.callback(i))}for(let r of xr(this,Uu).get(e.type))r(xr(this,vi),e)}}};vi=new WeakMap,Uu=new WeakMap,Vu=new WeakMap;function AN(t,e){return Object.is(t,e)?!0:typeof t!="object"||t===null||typeof e!="object"||e===null?!1:Array.isArray(t)&&Array.isArray(e)?t.length!==e.length?!1:Fy(t[Symbol.iterator](),e[Symbol.iterator]()):t instanceof Map&&e instanceof Map||t instanceof Set&&e instanceof Set?t.size!==e.size?!1:Fy(t.entries(),e.entries()):s2(t)&&s2(e)?Fy(Object.entries(t)[Symbol.iterator](),Object.entries(e)[Symbol.iterator]()):!1}function Fy(t,e){do{let n=t.next(),r=e.next();if(n.done&&r.done)return!0;if(n.done||r.done||!Object.is(n.value,r.value))return!1}while(!0)}function s2(t){if(Object.prototype.toString.call(t)!=="[object Object]")return!1;let e=Object.getPrototypeOf(t);return e===null||Object.getPrototypeOf(e)===null}var vX=Object.defineProperty,yX=(t,e,n)=>e in t?vX(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,o2=(t,e,n)=>(yX(t,typeof e!="symbol"?e+"":e,n),n),wX=(t=>(t[t.Push=0]="Push",t[t.Pop=1]="Pop",t))(wX||{});let _X={0(t,e){let n=e.id,r=t.stack,i=t.stack.indexOf(n);if(i!==-1){let s=t.stack.slice();return s.splice(i,1),s.push(n),r=s,{...t,stack:r}}return{...t,stack:[...t.stack,n]}},1(t,e){let n=e.id,r=t.stack.indexOf(n);if(r===-1)return t;let i=t.stack.slice();return i.splice(r,1),{...t,stack:i}}},xX=class RN extends gX{constructor(){super(...arguments),o2(this,"actions",{push:e=>this.send({type:0,id:e}),pop:e=>this.send({type:1,id:e})}),o2(this,"selectors",{isTop:(e,n)=>e.stack[e.stack.length-1]===n,inStack:(e,n)=>e.stack.includes(n)})}static new(){return new RN({stack:[]})}reduce(e,n){return ws(n.type,_X,e,n)}};const NN=new PN(()=>xX.new());var $y={exports:{}},Uy={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var a2;function bX(){if(a2)return Uy;a2=1;var t=dm();function e(u,f){return u===f&&(u!==0||1/u===1/f)||u!==u&&f!==f}var n=typeof Object.is=="function"?Object.is:e,r=t.useSyncExternalStore,i=t.useRef,s=t.useEffect,a=t.useMemo,c=t.useDebugValue;return Uy.useSyncExternalStoreWithSelector=function(u,f,h,g,v){var x=i(null);if(x.current===null){var _={hasValue:!1,value:null};x.current=_}else _=x.current;x=a(function(){function I($){if(!R){if(R=!0,P=$,$=g($),v!==void 0&&_.hasValue){var B=_.value;if(v(B,$))return k=B}return k=$}if(B=k,n(P,$))return B;var L=g($);return v!==void 0&&v(B,L)?(P=$,B):(P=$,k=L)}var R=!1,P,k,j=h===void 0?null:h;return[function(){return I(f())},j===null?void 0:function(){return I(j())}]},[f,h,g,v]);var T=r(u,x[0],x[1]);return s(function(){_.hasValue=!0,_.value=T},[T]),c(T),T},Uy}var l2;function EX(){return l2||(l2=1,$y.exports=bX()),$y.exports}var SX=EX();function ON(t,e,n=AN){return SX.useSyncExternalStoreWithSelector(nt(r=>t.subscribe(CX,r)),nt(()=>t.state),nt(()=>t.state),nt(e),n)}function CX(t){return t}function pf(t,e){let n=C.useId(),r=NN.get(e),[i,s]=ON(r,C.useCallback(a=>[r.selectors.isTop(a,n),r.selectors.inStack(a,n)],[r,n]));return wn(()=>{if(t)return r.actions.push(n),()=>r.actions.pop(n)},[r,t,n]),t?s?i:!0:!1}let uw=new Map,od=new Map;function c2(t){var e;let n=(e=od.get(t))!=null?e:0;return od.set(t,n+1),n!==0?()=>u2(t):(uw.set(t,{"aria-hidden":t.getAttribute("aria-hidden"),inert:t.inert}),t.setAttribute("aria-hidden","true"),t.inert=!0,()=>u2(t))}function u2(t){var e;let n=(e=od.get(t))!=null?e:1;if(n===1?od.delete(t):od.set(t,n-1),n!==1)return;let r=uw.get(t);r&&(r["aria-hidden"]===null?t.removeAttribute("aria-hidden"):t.setAttribute("aria-hidden",r["aria-hidden"]),t.inert=r.inert,uw.delete(t))}function TX(t,{allowed:e,disallowed:n}={}){let r=pf(t,"inert-others");wn(()=>{var i,s;if(!r)return;let a=Ts();for(let u of(i=n?.())!=null?i:[])u&&a.add(c2(u));let c=(s=e?.())!=null?s:[];for(let u of c){if(!u)continue;let f=Qm(u);if(!f)continue;let h=u.parentElement;for(;h&&h!==f.body;){for(let g of h.children)c.some(v=>g.contains(v))||a.add(c2(g));h=h.parentElement}}return a.dispose},[r,e,n])}function kX(t,e,n){let r=Fa(i=>{let s=i.getBoundingClientRect();s.x===0&&s.y===0&&s.width===0&&s.height===0&&n()});C.useEffect(()=>{if(!t)return;let i=e===null?null:Oa(e)?e:e.current;if(!i)return;let s=Ts();if(typeof ResizeObserver<"u"){let a=new ResizeObserver(()=>r.current(i));a.observe(i),s.add(()=>a.disconnect())}if(typeof IntersectionObserver<"u"){let a=new IntersectionObserver(()=>r.current(i));a.observe(i),s.add(()=>a.disconnect())}return()=>s.dispose()},[e,r,t])}let rm=["[contentEditable=true]","[tabindex]","a[href]","area[href]","button:not([disabled])","iframe","input:not([disabled])","select:not([disabled])","textarea:not([disabled])"].map(t=>`${t}:not([tabindex='-1'])`).join(","),PX=["[data-autofocus]"].map(t=>`${t}:not([tabindex='-1'])`).join(",");var ts=(t=>(t[t.First=1]="First",t[t.Previous=2]="Previous",t[t.Next=4]="Next",t[t.Last=8]="Last",t[t.WrapAround=16]="WrapAround",t[t.NoScroll=32]="NoScroll",t[t.AutoFocus=64]="AutoFocus",t))(ts||{}),dw=(t=>(t[t.Error=0]="Error",t[t.Overflow=1]="Overflow",t[t.Success=2]="Success",t[t.Underflow=3]="Underflow",t))(dw||{}),IX=(t=>(t[t.Previous=-1]="Previous",t[t.Next=1]="Next",t))(IX||{});function AX(t=document.body){return t==null?[]:Array.from(t.querySelectorAll(rm)).sort((e,n)=>Math.sign((e.tabIndex||Number.MAX_SAFE_INTEGER)-(n.tabIndex||Number.MAX_SAFE_INTEGER)))}function RX(t=document.body){return t==null?[]:Array.from(t.querySelectorAll(PX)).sort((e,n)=>Math.sign((e.tabIndex||Number.MAX_SAFE_INTEGER)-(n.tabIndex||Number.MAX_SAFE_INTEGER)))}var MN=(t=>(t[t.Strict=0]="Strict",t[t.Loose=1]="Loose",t))(MN||{});function NX(t,e=0){var n;return t===((n=Qm(t))==null?void 0:n.body)?!1:ws(e,{0(){return t.matches(rm)},1(){let r=t;for(;r!==null;){if(r.matches(rm))return!0;r=r.parentElement}return!1}})}var OX=(t=>(t[t.Keyboard=0]="Keyboard",t[t.Mouse=1]="Mouse",t))(OX||{});typeof window<"u"&&typeof document<"u"&&(document.addEventListener("keydown",t=>{t.metaKey||t.altKey||t.ctrlKey||(document.documentElement.dataset.headlessuiFocusVisible="")},!0),document.addEventListener("click",t=>{t.detail===1?delete document.documentElement.dataset.headlessuiFocusVisible:t.detail===0&&(document.documentElement.dataset.headlessuiFocusVisible="")},!0));function us(t){t?.focus({preventScroll:!0})}let MX=["textarea","input"].join(",");function DX(t){var e,n;return(n=(e=t?.matches)==null?void 0:e.call(t,MX))!=null?n:!1}function LX(t,e=n=>n){return t.slice().sort((n,r)=>{let i=e(n),s=e(r);if(i===null||s===null)return 0;let a=i.compareDocumentPosition(s);return a&Node.DOCUMENT_POSITION_FOLLOWING?-1:a&Node.DOCUMENT_POSITION_PRECEDING?1:0})}function ad(t,e,{sorted:n=!0,relativeTo:r=null,skipElements:i=[]}={}){let s=Array.isArray(t)?t.length>0?t[0].ownerDocument:document:t.ownerDocument,a=Array.isArray(t)?n?LX(t):t:e&64?RX(t):AX(t);i.length>0&&a.length>1&&(a=a.filter(x=>!i.some(_=>_!=null&&"current"in _?_?.current===x:_===x))),r=r??s.activeElement;let c=(()=>{if(e&5)return 1;if(e&10)return-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),u=(()=>{if(e&1)return 0;if(e&2)return Math.max(0,a.indexOf(r))-1;if(e&4)return Math.max(0,a.indexOf(r))+1;if(e&8)return a.length-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),f=e&32?{preventScroll:!0}:{},h=0,g=a.length,v;do{if(h>=g||h+g<=0)return 0;let x=u+h;if(e&16)x=(x+g)%g;else{if(x<0)return 3;if(x>=g)return 1}v=a[x],v?.focus(f),h+=c}while(v!==s.activeElement);return e&6&&DX(v)&&v.select(),2}function DN(){return/iPhone/gi.test(window.navigator.platform)||/Mac/gi.test(window.navigator.platform)&&window.navigator.maxTouchPoints>0}function jX(){return/Android/gi.test(window.navigator.userAgent)}function d2(){return DN()||jX()}function Yh(t,e,n,r){let i=Fa(n);C.useEffect(()=>{if(!t)return;function s(a){i.current(a)}return document.addEventListener(e,s,r),()=>document.removeEventListener(e,s,r)},[t,e,r])}function LN(t,e,n,r){let i=Fa(n);C.useEffect(()=>{if(!t)return;function s(a){i.current(a)}return window.addEventListener(e,s,r),()=>window.removeEventListener(e,s,r)},[t,e,r])}const f2=30;function FX(t,e,n){let r=Fa(n),i=C.useCallback(function(c,u){if(c.defaultPrevented)return;let f=u(c);if(f===null||!f.getRootNode().contains(f)||!f.isConnected)return;let h=function g(v){return typeof v=="function"?g(v()):Array.isArray(v)||v instanceof Set?v:[v]}(e);for(let g of h)if(g!==null&&(g.contains(f)||c.composed&&c.composedPath().includes(g)))return;return!NX(f,MN.Loose)&&f.tabIndex!==-1&&c.preventDefault(),r.current(c,f)},[r,e]),s=C.useRef(null);Yh(t,"pointerdown",c=>{var u,f;d2()||(s.current=((f=(u=c.composedPath)==null?void 0:u.call(c))==null?void 0:f[0])||c.target)},!0),Yh(t,"pointerup",c=>{if(d2()||!s.current)return;let u=s.current;return s.current=null,i(c,()=>u)},!0);let a=C.useRef({x:0,y:0});Yh(t,"touchstart",c=>{a.current.x=c.touches[0].clientX,a.current.y=c.touches[0].clientY},!0),Yh(t,"touchend",c=>{let u={x:c.changedTouches[0].clientX,y:c.changedTouches[0].clientY};if(!(Math.abs(u.x-a.current.x)>=f2||Math.abs(u.y-a.current.y)>=f2))return i(c,()=>co(c.target)?c.target:null)},!0),LN(t,"blur",c=>i(c,()=>rX(window.document.activeElement)?window.document.activeElement:null),!0)}function eg(...t){return C.useMemo(()=>Qm(...t),[...t])}function jN(t,e,n,r){let i=Fa(n);C.useEffect(()=>{t=t??window;function s(a){i.current(a)}return t.addEventListener(e,s,r),()=>t.removeEventListener(e,s,r)},[t,e,r])}function $X(t){return C.useSyncExternalStore(t.subscribe,t.getSnapshot,t.getSnapshot)}function UX(t,e){let n=t(),r=new Set;return{getSnapshot(){return n},subscribe(i){return r.add(i),()=>r.delete(i)},dispatch(i,...s){let a=e[i].call(n,...s);a&&(n=a,r.forEach(c=>c()))}}}function VX(){let t;return{before({doc:e}){var n;let r=e.documentElement,i=(n=e.defaultView)!=null?n:window;t=Math.max(0,i.innerWidth-r.clientWidth)},after({doc:e,d:n}){let r=e.documentElement,i=Math.max(0,r.clientWidth-r.offsetWidth),s=Math.max(0,t-i);n.style(r,"paddingRight",`${s}px`)}}}function BX(){return DN()?{before({doc:t,d:e,meta:n}){function r(i){return n.containers.flatMap(s=>s()).some(s=>s.contains(i))}e.microTask(()=>{var i;if(window.getComputedStyle(t.documentElement).scrollBehavior!=="auto"){let c=Ts();c.style(t.documentElement,"scrollBehavior","auto"),e.add(()=>e.microTask(()=>c.dispose()))}let s=(i=window.scrollY)!=null?i:window.pageYOffset,a=null;e.addEventListener(t,"click",c=>{if(co(c.target))try{let u=c.target.closest("a");if(!u)return;let{hash:f}=new URL(u.href),h=t.querySelector(f);co(h)&&!r(h)&&(a=h)}catch{}},!0),e.addEventListener(t,"touchstart",c=>{if(co(c.target)&&nX(c.target))if(r(c.target)){let u=c.target;for(;u.parentElement&&r(u.parentElement);)u=u.parentElement;e.style(u,"overscrollBehavior","contain")}else e.style(c.target,"touchAction","none")}),e.addEventListener(t,"touchmove",c=>{if(co(c.target)){if(iX(c.target))return;if(r(c.target)){let u=c.target;for(;u.parentElement&&u.dataset.headlessuiPortal!==""&&!(u.scrollHeight>u.clientHeight||u.scrollWidth>u.clientWidth);)u=u.parentElement;u.dataset.headlessuiPortal===""&&c.preventDefault()}else c.preventDefault()}},{passive:!1}),e.add(()=>{var c;let u=(c=window.scrollY)!=null?c:window.pageYOffset;s!==u&&window.scrollTo(0,s),a&&a.isConnected&&(a.scrollIntoView({block:"nearest"}),a=null)})})}}:{}}function zX(){return{before({doc:t,d:e}){e.style(t.documentElement,"overflow","hidden")}}}function HX(t){let e={};for(let n of t)Object.assign(e,n(e));return e}let pa=UX(()=>new Map,{PUSH(t,e){var n;let r=(n=this.get(t))!=null?n:{doc:t,count:0,d:Ts(),meta:new Set};return r.count++,r.meta.add(e),this.set(t,r),this},POP(t,e){let n=this.get(t);return n&&(n.count--,n.meta.delete(e)),this},SCROLL_PREVENT({doc:t,d:e,meta:n}){let r={doc:t,d:e,meta:HX(n)},i=[BX(),VX(),zX()];i.forEach(({before:s})=>s?.(r)),i.forEach(({after:s})=>s?.(r))},SCROLL_ALLOW({d:t}){t.dispose()},TEARDOWN({doc:t}){this.delete(t)}});pa.subscribe(()=>{let t=pa.getSnapshot(),e=new Map;for(let[n]of t)e.set(n,n.documentElement.style.overflow);for(let n of t.values()){let r=e.get(n.doc)==="hidden",i=n.count!==0;(i&&!r||!i&&r)&&pa.dispatch(n.count>0?"SCROLL_PREVENT":"SCROLL_ALLOW",n),n.count===0&&pa.dispatch("TEARDOWN",n)}});function WX(t,e,n=()=>({containers:[]})){let r=$X(pa),i=e?r.get(e):void 0,s=i?i.count>0:!1;return wn(()=>{if(!(!e||!t))return pa.dispatch("PUSH",e,n),()=>pa.dispatch("POP",e,n)},[t,e]),s}function qX(t,e,n=()=>[document.body]){let r=pf(t,"scroll-lock");WX(r,e,i=>{var s;return{containers:[...(s=i.containers)!=null?s:[],n]}})}function GX(t=0){let[e,n]=C.useState(t),r=C.useCallback(u=>n(u),[e]),i=C.useCallback(u=>n(f=>f|u),[e]),s=C.useCallback(u=>(e&u)===u,[e]),a=C.useCallback(u=>n(f=>f&~u),[n]),c=C.useCallback(u=>n(f=>f^u),[n]);return{flags:e,setFlag:r,addFlag:i,hasFlag:s,removeFlag:a,toggleFlag:c}}var KX={},h2,p2;typeof process<"u"&&typeof globalThis<"u"&&typeof Element<"u"&&((h2=process==null?void 0:KX)==null?void 0:h2.NODE_ENV)==="test"&&typeof((p2=Element?.prototype)==null?void 0:p2.getAnimations)>"u"&&(Element.prototype.getAnimations=function(){return console.warn(["Headless UI has polyfilled `Element.prototype.getAnimations` for your tests.","Please install a proper polyfill e.g. `jsdom-testing-mocks`, to silence these warnings.","","Example usage:","```js","import { mockAnimationsApi } from 'jsdom-testing-mocks'","mockAnimationsApi()","```"].join(`
`)),[]});var YX=(t=>(t[t.None=0]="None",t[t.Closed=1]="Closed",t[t.Enter=2]="Enter",t[t.Leave=4]="Leave",t))(YX||{});function XX(t){let e={};for(let n in t)t[n]===!0&&(e[`data-${n}`]="");return e}function JX(t,e,n,r){let[i,s]=C.useState(n),{hasFlag:a,addFlag:c,removeFlag:u}=GX(t&&i?3:0),f=C.useRef(!1),h=C.useRef(!1),g=Fx();return wn(()=>{var v;if(t){if(n&&s(!0),!e){n&&c(3);return}return(v=r?.start)==null||v.call(r,n),QX(e,{inFlight:f,prepare(){h.current?h.current=!1:h.current=f.current,f.current=!0,!h.current&&(n?(c(3),u(4)):(c(4),u(2)))},run(){h.current?n?(u(3),c(4)):(u(4),c(3)):n?u(1):c(1)},done(){var x;h.current&&typeof e.getAnimations=="function"&&e.getAnimations().length>0||(f.current=!1,u(7),n||s(!1),(x=r?.end)==null||x.call(r,n))}})}},[t,n,e,g]),t?[i,{closed:a(1),enter:a(2),leave:a(4),transition:a(2)||a(4)}]:[n,{closed:void 0,enter:void 0,leave:void 0,transition:void 0}]}function QX(t,{prepare:e,run:n,done:r,inFlight:i}){let s=Ts();return eJ(t,{prepare:e,inFlight:i}),s.nextFrame(()=>{n(),s.requestAnimationFrame(()=>{s.add(ZX(t,r))})}),s.dispose}function ZX(t,e){var n,r;let i=Ts();if(!t)return i.dispose;let s=!1;i.add(()=>{s=!0});let a=(r=(n=t.getAnimations)==null?void 0:n.call(t).filter(c=>c instanceof CSSTransition))!=null?r:[];return a.length===0?(e(),i.dispose):(Promise.allSettled(a.map(c=>c.finished)).then(()=>{s||e()}),i.dispose)}function eJ(t,{inFlight:e,prepare:n}){if(e!=null&&e.current){n();return}let r=t.style.transition;t.style.transition="none",n(),t.offsetHeight,t.style.transition=r}function Ux(t,e){let n=C.useRef([]),r=nt(t);C.useEffect(()=>{let i=[...n.current];for(let[s,a]of e.entries())if(n.current[s]!==a){let c=r(e,i);return n.current=e,c}},[r,...e])}let tg=C.createContext(null);tg.displayName="OpenClosedContext";var Qr=(t=>(t[t.Open=1]="Open",t[t.Closed=2]="Closed",t[t.Closing=4]="Closing",t[t.Opening=8]="Opening",t))(Qr||{});function ng(){return C.useContext(tg)}function tJ({value:t,children:e}){return me.createElement(tg.Provider,{value:t},e)}function nJ({children:t}){return me.createElement(tg.Provider,{value:null},t)}function rJ(t){function e(){document.readyState!=="loading"&&(t(),document.removeEventListener("DOMContentLoaded",e))}typeof window<"u"&&typeof document<"u"&&(document.addEventListener("DOMContentLoaded",e),e())}let oo=[];rJ(()=>{function t(e){if(!co(e.target)||e.target===document.body||oo[0]===e.target)return;let n=e.target;n=n.closest(rm),oo.unshift(n??e.target),oo=oo.filter(r=>r!=null&&r.isConnected),oo.splice(10)}window.addEventListener("click",t,{capture:!0}),window.addEventListener("mousedown",t,{capture:!0}),window.addEventListener("focus",t,{capture:!0}),document.body.addEventListener("click",t,{capture:!0}),document.body.addEventListener("mousedown",t,{capture:!0}),document.body.addEventListener("focus",t,{capture:!0})});function FN(t){let e=nt(t),n=C.useRef(!1);C.useEffect(()=>(n.current=!1,()=>{n.current=!0,Zm(()=>{n.current&&e()})}),[e])}function iJ(){let t=typeof document>"u";return"useSyncExternalStore"in mp?(e=>e.useSyncExternalStore)(mp)(()=>()=>{},()=>!1,()=>!t):!1}function mf(){let t=iJ(),[e,n]=C.useState(_a.isHandoffComplete);return e&&_a.isHandoffComplete===!1&&n(!1),C.useEffect(()=>{e!==!0&&n(!0)},[e]),C.useEffect(()=>_a.handoff(),[]),t?!1:e}let $N=C.createContext(!1);function sJ(){return C.useContext($N)}function m2(t){return me.createElement($N.Provider,{value:t.force},t.children)}function oJ(t){let e=sJ(),n=C.useContext(VN),[r,i]=C.useState(()=>{var s;if(!e&&n!==null)return(s=n.current)!=null?s:null;if(_a.isServer)return null;let a=t?.getElementById("headlessui-portal-root");if(a)return a;if(t===null)return null;let c=t.createElement("div");return c.setAttribute("id","headlessui-portal-root"),t.body.appendChild(c)});return C.useEffect(()=>{r!==null&&(t!=null&&t.body.contains(r)||t==null||t.body.appendChild(r))},[r,t]),C.useEffect(()=>{e||n!==null&&i(n.current)},[n,i,e]),r}let UN=C.Fragment,aJ=Yn(function(t,e){let{ownerDocument:n=null,...r}=t,i=C.useRef(null),s=Ni(sX(x=>{i.current=x}),e),a=eg(i),c=n??a,u=oJ(c),[f]=C.useState(()=>{var x;return _a.isServer?null:(x=c?.createElement("div"))!=null?x:null}),h=C.useContext(fw),g=mf();wn(()=>{!u||!f||u.contains(f)||(f.setAttribute("data-headlessui-portal",""),u.appendChild(f))},[u,f]),wn(()=>{if(f&&h)return h.register(f)},[h,f]),FN(()=>{var x;!u||!f||(SN(f)&&u.contains(f)&&u.removeChild(f),u.childNodes.length<=0&&((x=u.parentElement)==null||x.removeChild(u)))});let v=Rr();return g?!u||!f?null:Cw.createPortal(v({ourProps:{ref:s},theirProps:r,slot:{},defaultTag:UN,name:"Portal"}),f):null});function lJ(t,e){let n=Ni(e),{enabled:r=!0,ownerDocument:i,...s}=t,a=Rr();return r?me.createElement(aJ,{...s,ownerDocument:i,ref:n}):a({ourProps:{ref:n},theirProps:s,slot:{},defaultTag:UN,name:"Portal"})}let cJ=C.Fragment,VN=C.createContext(null);function uJ(t,e){let{target:n,...r}=t,i={ref:Ni(e)},s=Rr();return me.createElement(VN.Provider,{value:n},s({ourProps:i,theirProps:r,defaultTag:cJ,name:"Popover.Group"}))}let fw=C.createContext(null);function dJ(){let t=C.useContext(fw),e=C.useRef([]),n=nt(s=>(e.current.push(s),t&&t.register(s),()=>r(s))),r=nt(s=>{let a=e.current.indexOf(s);a!==-1&&e.current.splice(a,1),t&&t.unregister(s)}),i=C.useMemo(()=>({register:n,unregister:r,portals:e}),[n,r,e]);return[e,C.useMemo(()=>function({children:s}){return me.createElement(fw.Provider,{value:i},s)},[i])]}let fJ=Yn(lJ),BN=Yn(uJ),hJ=Object.assign(fJ,{Group:BN});function pJ(t,e=typeof document<"u"?document.defaultView:null,n){let r=pf(t,"escape");jN(e,"keydown",i=>{r&&(i.defaultPrevented||i.key===kN.Escape&&n(i))})}function mJ(){var t;let[e]=C.useState(()=>typeof window<"u"&&typeof window.matchMedia=="function"?window.matchMedia("(pointer: coarse)"):null),[n,r]=C.useState((t=e?.matches)!=null?t:!1);return wn(()=>{if(!e)return;function i(s){r(s.matches)}return e.addEventListener("change",i),()=>e.removeEventListener("change",i)},[e]),n}function gJ({defaultContainers:t=[],portals:e,mainTreeNode:n}={}){let r=eg(n),i=nt(()=>{var s,a;let c=[];for(let u of t)u!==null&&(mo(u)?c.push(u):"current"in u&&mo(u.current)&&c.push(u.current));if(e!=null&&e.current)for(let u of e.current)c.push(u);for(let u of(s=r?.querySelectorAll("html > *, body > *"))!=null?s:[])u!==document.body&&u!==document.head&&mo(u)&&u.id!=="headlessui-portal-root"&&(n&&(u.contains(n)||u.contains((a=n?.getRootNode())==null?void 0:a.host))||c.some(f=>u.contains(f))||c.push(u));return c});return{resolveContainers:i,contains:nt(s=>i().some(a=>a.contains(s)))}}let zN=C.createContext(null);function g2({children:t,node:e}){let[n,r]=C.useState(null),i=HN(e??n);return me.createElement(zN.Provider,{value:i},t,i===null&&me.createElement(cw,{features:nm.Hidden,ref:s=>{var a,c;if(s){for(let u of(c=(a=Qm(s))==null?void 0:a.querySelectorAll("html > *, body > *"))!=null?c:[])if(u!==document.body&&u!==document.head&&mo(u)&&u!=null&&u.contains(s)){r(u);break}}}}))}function HN(t=null){var e;return(e=C.useContext(zN))!=null?e:t}function Vx(){let t=C.useRef(!1);return wn(()=>(t.current=!0,()=>{t.current=!1}),[]),t}var Bu=(t=>(t[t.Forwards=0]="Forwards",t[t.Backwards=1]="Backwards",t))(Bu||{});function vJ(){let t=C.useRef(0);return LN(!0,"keydown",e=>{e.key==="Tab"&&(t.current=e.shiftKey?1:0)},!0),t}function WN(t){if(!t)return new Set;if(typeof t=="function")return new Set(t());let e=new Set;for(let n of t.current)mo(n.current)&&e.add(n.current);return e}let yJ="div";var la=(t=>(t[t.None=0]="None",t[t.InitialFocus=1]="InitialFocus",t[t.TabLock=2]="TabLock",t[t.FocusLock=4]="FocusLock",t[t.RestoreFocus=8]="RestoreFocus",t[t.AutoFocus=16]="AutoFocus",t))(la||{});function wJ(t,e){let n=C.useRef(null),r=Ni(n,e),{initialFocus:i,initialFocusFallback:s,containers:a,features:c=15,...u}=t;mf()||(c=0);let f=eg(n);EJ(c,{ownerDocument:f});let h=SJ(c,{ownerDocument:f,container:n,initialFocus:i,initialFocusFallback:s});CJ(c,{ownerDocument:f,container:n,containers:a,previousActiveElement:h});let g=vJ(),v=nt(P=>{if(!Oa(n.current))return;let k=n.current;(j=>j())(()=>{ws(g.current,{[Bu.Forwards]:()=>{ad(k,ts.First,{skipElements:[P.relatedTarget,s]})},[Bu.Backwards]:()=>{ad(k,ts.Last,{skipElements:[P.relatedTarget,s]})}})})}),x=pf(!!(c&2),"focus-trap#tab-lock"),_=Fx(),T=C.useRef(!1),I={ref:r,onKeyDown(P){P.key=="Tab"&&(T.current=!0,_.requestAnimationFrame(()=>{T.current=!1}))},onBlur(P){if(!(c&4))return;let k=WN(a);Oa(n.current)&&k.add(n.current);let j=P.relatedTarget;co(j)&&j.dataset.headlessuiFocusGuard!=="true"&&(qN(k,j)||(T.current?ad(n.current,ws(g.current,{[Bu.Forwards]:()=>ts.Next,[Bu.Backwards]:()=>ts.Previous})|ts.WrapAround,{relativeTo:P.target}):co(P.target)&&us(P.target)))}},R=Rr();return me.createElement(me.Fragment,null,x&&me.createElement(cw,{as:"button",type:"button","data-headlessui-focus-guard":!0,onFocus:v,features:nm.Focusable}),R({ourProps:I,theirProps:u,defaultTag:yJ,name:"FocusTrap"}),x&&me.createElement(cw,{as:"button",type:"button","data-headlessui-focus-guard":!0,onFocus:v,features:nm.Focusable}))}let _J=Yn(wJ),xJ=Object.assign(_J,{features:la});function bJ(t=!0){let e=C.useRef(oo.slice());return Ux(([n],[r])=>{r===!0&&n===!1&&Zm(()=>{e.current.splice(0)}),r===!1&&n===!0&&(e.current=oo.slice())},[t,oo,e]),nt(()=>{var n;return(n=e.current.find(r=>r!=null&&r.isConnected))!=null?n:null})}function EJ(t,{ownerDocument:e}){let n=!!(t&8),r=bJ(n);Ux(()=>{n||e?.activeElement===e?.body&&us(r())},[n]),FN(()=>{n&&us(r())})}function SJ(t,{ownerDocument:e,container:n,initialFocus:r,initialFocusFallback:i}){let s=C.useRef(null),a=pf(!!(t&1),"focus-trap#initial-focus"),c=Vx();return Ux(()=>{if(t===0)return;if(!a){i!=null&&i.current&&us(i.current);return}let u=n.current;u&&Zm(()=>{if(!c.current)return;let f=e?.activeElement;if(r!=null&&r.current){if(r?.current===f){s.current=f;return}}else if(u.contains(f)){s.current=f;return}if(r!=null&&r.current)us(r.current);else{if(t&16){if(ad(u,ts.First|ts.AutoFocus)!==dw.Error)return}else if(ad(u,ts.First)!==dw.Error)return;if(i!=null&&i.current&&(us(i.current),e?.activeElement===i.current))return;console.warn("There are no focusable elements inside the <FocusTrap />")}s.current=e?.activeElement})},[i,a,t]),s}function CJ(t,{ownerDocument:e,container:n,containers:r,previousActiveElement:i}){let s=Vx(),a=!!(t&4);jN(e?.defaultView,"focus",c=>{if(!a||!s.current)return;let u=WN(r);Oa(n.current)&&u.add(n.current);let f=i.current;if(!f)return;let h=c.target;Oa(h)?qN(u,h)?(i.current=h,us(h)):(c.preventDefault(),c.stopPropagation(),us(f)):us(i.current)},!0)}function qN(t,e){for(let n of t)if(n.contains(e))return!0;return!1}function GN(t){var e;return!!(t.enter||t.enterFrom||t.enterTo||t.leave||t.leaveFrom||t.leaveTo)||((e=t.as)!=null?e:YN)!==C.Fragment||me.Children.count(t.children)===1}let rg=C.createContext(null);rg.displayName="TransitionContext";var TJ=(t=>(t.Visible="visible",t.Hidden="hidden",t))(TJ||{});function kJ(){let t=C.useContext(rg);if(t===null)throw new Error("A <Transition.Child /> is used but it is missing a parent <Transition /> or <Transition.Root />.");return t}function PJ(){let t=C.useContext(ig);if(t===null)throw new Error("A <Transition.Child /> is used but it is missing a parent <Transition /> or <Transition.Root />.");return t}let ig=C.createContext(null);ig.displayName="NestingContext";function sg(t){return"children"in t?sg(t.children):t.current.filter(({el:e})=>e.current!==null).filter(({state:e})=>e==="visible").length>0}function KN(t,e){let n=Fa(t),r=C.useRef([]),i=Vx(),s=Fx(),a=nt((x,_=lo.Hidden)=>{let T=r.current.findIndex(({el:I})=>I===x);T!==-1&&(ws(_,{[lo.Unmount](){r.current.splice(T,1)},[lo.Hidden](){r.current[T].state="hidden"}}),s.microTask(()=>{var I;!sg(r)&&i.current&&((I=n.current)==null||I.call(n))}))}),c=nt(x=>{let _=r.current.find(({el:T})=>T===x);return _?_.state!=="visible"&&(_.state="visible"):r.current.push({el:x,state:"visible"}),()=>a(x,lo.Unmount)}),u=C.useRef([]),f=C.useRef(Promise.resolve()),h=C.useRef({enter:[],leave:[]}),g=nt((x,_,T)=>{u.current.splice(0),e&&(e.chains.current[_]=e.chains.current[_].filter(([I])=>I!==x)),e?.chains.current[_].push([x,new Promise(I=>{u.current.push(I)})]),e?.chains.current[_].push([x,new Promise(I=>{Promise.all(h.current[_].map(([R,P])=>P)).then(()=>I())})]),_==="enter"?f.current=f.current.then(()=>e?.wait.current).then(()=>T(_)):T(_)}),v=nt((x,_,T)=>{Promise.all(h.current[_].splice(0).map(([I,R])=>R)).then(()=>{var I;(I=u.current.shift())==null||I()}).then(()=>T(_))});return C.useMemo(()=>({children:r,register:c,unregister:a,onStart:g,onStop:v,wait:f,chains:h}),[c,a,r,g,v,h,f])}let YN=C.Fragment,XN=tm.RenderStrategy;function IJ(t,e){var n,r;let{transition:i=!0,beforeEnter:s,afterEnter:a,beforeLeave:c,afterLeave:u,enter:f,enterFrom:h,enterTo:g,entered:v,leave:x,leaveFrom:_,leaveTo:T,...I}=t,[R,P]=C.useState(null),k=C.useRef(null),j=GN(t),$=Ni(...j?[k,e,P]:e===null?[]:[e]),B=(n=I.unmount)==null||n?lo.Unmount:lo.Hidden,{show:L,appear:N,initial:O}=kJ(),[b,M]=C.useState(L?"visible":"hidden"),V=PJ(),{register:F,unregister:Q}=V;wn(()=>F(k),[F,k]),wn(()=>{if(B===lo.Hidden&&k.current){if(L&&b!=="visible"){M("visible");return}return ws(b,{hidden:()=>Q(k),visible:()=>F(k)})}},[b,k,F,Q,L,B]);let ae=mf();wn(()=>{if(j&&ae&&b==="visible"&&k.current===null)throw new Error("Did you forget to passthrough the `ref` to the actual DOM node?")},[k,b,ae,j]);let re=O&&!N,pe=N&&L&&O,ne=C.useRef(!1),se=KN(()=>{ne.current||(M("hidden"),Q(k))},V),le=nt(xe=>{ne.current=!0;let ke=xe?"enter":"leave";se.onStart(k,ke,Ee=>{Ee==="enter"?s?.():Ee==="leave"&&c?.()})}),q=nt(xe=>{let ke=xe?"enter":"leave";ne.current=!1,se.onStop(k,ke,Ee=>{Ee==="enter"?a?.():Ee==="leave"&&u?.()}),ke==="leave"&&!sg(se)&&(M("hidden"),Q(k))});C.useEffect(()=>{j&&i||(le(L),q(L))},[L,j,i]);let te=!(!i||!j||!ae||re),[,Z]=JX(te,R,L,{start:le,end:q}),he=aa({ref:$,className:((r=lw(I.className,pe&&f,pe&&h,Z.enter&&f,Z.enter&&Z.closed&&h,Z.enter&&!Z.closed&&g,Z.leave&&x,Z.leave&&!Z.closed&&_,Z.leave&&Z.closed&&T,!Z.transition&&L&&v))==null?void 0:r.trim())||void 0,...XX(Z)}),ve=0;b==="visible"&&(ve|=Qr.Open),b==="hidden"&&(ve|=Qr.Closed),L&&b==="hidden"&&(ve|=Qr.Opening),!L&&b==="visible"&&(ve|=Qr.Closing);let _e=Rr();return me.createElement(ig.Provider,{value:se},me.createElement(tJ,{value:ve},_e({ourProps:he,theirProps:I,defaultTag:YN,features:XN,visible:b==="visible",name:"Transition.Child"})))}function AJ(t,e){let{show:n,appear:r=!1,unmount:i=!0,...s}=t,a=C.useRef(null),c=GN(t),u=Ni(...c?[a,e]:e===null?[]:[e]);mf();let f=ng();if(n===void 0&&f!==null&&(n=(f&Qr.Open)===Qr.Open),n===void 0)throw new Error("A <Transition /> is used but it is missing a `show={true | false}` prop.");let[h,g]=C.useState(n?"visible":"hidden"),v=KN(()=>{n||g("hidden")}),[x,_]=C.useState(!0),T=C.useRef([n]);wn(()=>{x!==!1&&T.current[T.current.length-1]!==n&&(T.current.push(n),_(!1))},[T,n]);let I=C.useMemo(()=>({show:n,appear:r,initial:x}),[n,r,x]);wn(()=>{n?g("visible"):!sg(v)&&a.current!==null&&g("hidden")},[n,v]);let R={unmount:i},P=nt(()=>{var $;x&&_(!1),($=t.beforeEnter)==null||$.call(t)}),k=nt(()=>{var $;x&&_(!1),($=t.beforeLeave)==null||$.call(t)}),j=Rr();return me.createElement(ig.Provider,{value:v},me.createElement(rg.Provider,{value:I},j({ourProps:{...R,as:C.Fragment,children:me.createElement(JN,{ref:u,...R,...s,beforeEnter:P,beforeLeave:k})},theirProps:{},defaultTag:C.Fragment,features:XN,visible:h==="visible",name:"Transition"})))}function RJ(t,e){let n=C.useContext(rg)!==null,r=ng()!==null;return me.createElement(me.Fragment,null,!n&&r?me.createElement(hw,{ref:e,...t}):me.createElement(JN,{ref:e,...t}))}let hw=Yn(AJ),JN=Yn(IJ),Bx=Yn(RJ),NJ=Object.assign(hw,{Child:Bx,Root:hw});var OJ=(t=>(t[t.Open=0]="Open",t[t.Closed=1]="Closed",t))(OJ||{}),MJ=(t=>(t[t.SetTitleId=0]="SetTitleId",t))(MJ||{});let DJ={0(t,e){return t.titleId===e.id?t:{...t,titleId:e.id}}},zx=C.createContext(null);zx.displayName="DialogContext";function og(t){let e=C.useContext(zx);if(e===null){let n=new Error(`<${t} /> is missing a parent <Dialog /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,og),n}return e}function LJ(t,e){return ws(e.type,DJ,t,e)}let v2=Yn(function(t,e){let n=C.useId(),{id:r=`headlessui-dialog-${n}`,open:i,onClose:s,initialFocus:a,role:c="dialog",autoFocus:u=!0,__demoMode:f=!1,unmount:h=!1,...g}=t,v=C.useRef(!1);c=function(){return c==="dialog"||c==="alertdialog"?c:(v.current||(v.current=!0,console.warn(`Invalid role [${c}] passed to <Dialog />. Only \`dialog\` and and \`alertdialog\` are supported. Using \`dialog\` instead.`)),"dialog")}();let x=ng();i===void 0&&x!==null&&(i=(x&Qr.Open)===Qr.Open);let _=C.useRef(null),T=Ni(_,e),I=eg(_),R=i?0:1,[P,k]=C.useReducer(LJ,{titleId:null,descriptionId:null,panelRef:C.createRef()}),j=nt(()=>s(!1)),$=nt(Z=>k({type:0,id:Z})),B=mf()?R===0:!1,[L,N]=dJ(),O={get current(){var Z;return(Z=P.panelRef.current)!=null?Z:_.current}},b=HN(),{resolveContainers:M}=gJ({mainTreeNode:b,portals:L,defaultContainers:[O]}),V=x!==null?(x&Qr.Closing)===Qr.Closing:!1;TX(f||V?!1:B,{allowed:nt(()=>{var Z,he;return[(he=(Z=_.current)==null?void 0:Z.closest("[data-headlessui-portal]"))!=null?he:null]}),disallowed:nt(()=>{var Z;return[(Z=b?.closest("body > *:not(#headlessui-portal-root)"))!=null?Z:null]})});let F=NN.get(null);wn(()=>{if(B)return F.actions.push(r),()=>F.actions.pop(r)},[F,r,B]);let Q=ON(F,C.useCallback(Z=>F.selectors.isTop(Z,r),[F,r]));FX(Q,M,Z=>{Z.preventDefault(),j()}),pJ(Q,I?.defaultView,Z=>{Z.preventDefault(),Z.stopPropagation(),document.activeElement&&"blur"in document.activeElement&&typeof document.activeElement.blur=="function"&&document.activeElement.blur(),j()}),qX(f||V?!1:B,I,M),kX(B,_,j);let[ae,re]=oX(),pe=C.useMemo(()=>[{dialogState:R,close:j,setTitleId:$,unmount:h},P],[R,P,j,$,h]),ne=C.useMemo(()=>({open:R===0}),[R]),se={ref:T,id:r,role:c,tabIndex:-1,"aria-modal":f?void 0:R===0?!0:void 0,"aria-labelledby":P.titleId,"aria-describedby":ae,unmount:h},le=!mJ(),q=la.None;B&&!f&&(q|=la.RestoreFocus,q|=la.TabLock,u&&(q|=la.AutoFocus),le&&(q|=la.InitialFocus));let te=Rr();return me.createElement(nJ,null,me.createElement(m2,{force:!0},me.createElement(hJ,null,me.createElement(zx.Provider,{value:pe},me.createElement(BN,{target:_},me.createElement(m2,{force:!1},me.createElement(re,{slot:ne},me.createElement(N,null,me.createElement(xJ,{initialFocus:a,initialFocusFallback:_,containers:M,features:q},me.createElement(fX,{value:j},te({ourProps:se,theirProps:g,slot:ne,defaultTag:jJ,features:FJ,visible:R===0,name:"Dialog"})))))))))))}),jJ="div",FJ=tm.RenderStrategy|tm.Static;function $J(t,e){let{transition:n=!1,open:r,...i}=t,s=ng(),a=t.hasOwnProperty("open")||s!==null,c=t.hasOwnProperty("onClose");if(!a&&!c)throw new Error("You have to provide an `open` and an `onClose` prop to the `Dialog` component.");if(!a)throw new Error("You provided an `onClose` prop to the `Dialog`, but forgot an `open` prop.");if(!c)throw new Error("You provided an `open` prop to the `Dialog`, but forgot an `onClose` prop.");if(!s&&typeof t.open!="boolean")throw new Error(`You provided an \`open\` prop to the \`Dialog\`, but the value is not a boolean. Received: ${t.open}`);if(typeof t.onClose!="function")throw new Error(`You provided an \`onClose\` prop to the \`Dialog\`, but the value is not a function. Received: ${t.onClose}`);return(r!==void 0||n)&&!i.static?me.createElement(g2,null,me.createElement(NJ,{show:r,transition:n,unmount:i.unmount},me.createElement(v2,{ref:e,...i}))):me.createElement(g2,null,me.createElement(v2,{ref:e,open:r,...i}))}let UJ="div";function VJ(t,e){let n=C.useId(),{id:r=`headlessui-dialog-panel-${n}`,transition:i=!1,...s}=t,[{dialogState:a,unmount:c},u]=og("Dialog.Panel"),f=Ni(e,u.panelRef),h=C.useMemo(()=>({open:a===0}),[a]),g=nt(I=>{I.stopPropagation()}),v={ref:f,id:r,onClick:g},x=i?Bx:C.Fragment,_=i?{unmount:c}:{},T=Rr();return me.createElement(x,{..._},T({ourProps:v,theirProps:s,slot:h,defaultTag:UJ,name:"Dialog.Panel"}))}let BJ="div";function zJ(t,e){let{transition:n=!1,...r}=t,[{dialogState:i,unmount:s}]=og("Dialog.Backdrop"),a=C.useMemo(()=>({open:i===0}),[i]),c={ref:e,"aria-hidden":!0},u=n?Bx:C.Fragment,f=n?{unmount:s}:{},h=Rr();return me.createElement(u,{...f},h({ourProps:c,theirProps:r,slot:a,defaultTag:BJ,name:"Dialog.Backdrop"}))}let HJ="h2";function WJ(t,e){let n=C.useId(),{id:r=`headlessui-dialog-title-${n}`,...i}=t,[{dialogState:s,setTitleId:a}]=og("Dialog.Title"),c=Ni(e);C.useEffect(()=>(a(r),()=>a(null)),[r,a]);let u=C.useMemo(()=>({open:s===0}),[s]),f={ref:c,id:r};return Rr()({ourProps:f,theirProps:i,slot:u,defaultTag:HJ,name:"Dialog.Title"})}let qJ=Yn($J),GJ=Yn(VJ);Yn(zJ);let KJ=Yn(WJ),ld=Object.assign(qJ,{Panel:GJ,Title:KJ,Description:uX});/**
 * @license lucide-react v0.523.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YJ=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),XJ=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,r)=>r?r.toUpperCase():n.toLowerCase()),y2=t=>{const e=XJ(t);return e.charAt(0).toUpperCase()+e.slice(1)},QN=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim(),JJ=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.523.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var QJ={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.523.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZJ=C.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:i="",children:s,iconNode:a,...c},u)=>C.createElement("svg",{ref:u,...QJ,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:QN("lucide",i),...!s&&!JJ(c)&&{"aria-hidden":"true"},...c},[...a.map(([f,h])=>C.createElement(f,h)),...Array.isArray(s)?s:[s]]));/**
 * @license lucide-react v0.523.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eQ=(t,e)=>{const n=C.forwardRef(({className:r,...i},s)=>C.createElement(ZJ,{ref:s,iconNode:e,className:QN(`lucide-${YJ(y2(t))}`,`lucide-${t}`,r),...i}));return n.displayName=y2(t),n};/**
 * @license lucide-react v0.523.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tQ=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],nQ=eQ("x",tQ);function rQ({open:t,onClose:e,letra:n,genero:r,asignacionActual:i,todasLasAsignaciones:s,equiposYaAsignados:a={}}){const[c,u]=C.useState("");Object.values(zp.plantillas[r]||{});const f=Object.keys(zp.plantillas[r]||{});C.useEffect(()=>{u(i||"")},[i]);const h=async()=>{if(!c){alert("Seleccioná un equipo");return}try{const v=Ce(Te,`calendario/${r}/asignaciones`);await ms(v,{[n]:c}),e()}catch(v){console.error("Error al guardar asignación:",v),alert("Hubo un problema al guardar. Intentalo de nuevo.")}},g=f.filter(v=>v===i||!Object.values(a).includes(v));return w.jsx(ld,{open:t,onClose:e,className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50",children:w.jsxs(ld.Panel,{className:"bg-white text-black rounded-2xl p-6 w-full max-w-md shadow-xl relative",children:[w.jsx("button",{onClick:e,className:"absolute top-2 right-2 text-gray-600 hover:text-gray-800",children:w.jsx(nQ,{size:20})}),w.jsxs(ld.Title,{className:"text-xl font-semibold text-center mb-4",children:["Asignar equipo a la letra ",n]}),w.jsxs("div",{className:"mb-6",children:[w.jsx("label",{className:"block font-medium mb-2",children:"Equipo:"}),w.jsxs("select",{value:c,onChange:v=>u(v.target.value),className:"w-full border border-gray-300 rounded px-3 py-2",children:[w.jsx("option",{value:"",children:"Seleccionar equipo"}),g.map(v=>w.jsx("option",{value:v,children:v},v))]})]}),w.jsx("button",{onClick:h,className:"w-full bg-yellow-400 text-black font-bold py-2 rounded hover:bg-yellow-300",children:"Guardar"})]})})}function iQ({partido:t,asignaciones:e,plantillas:n,equiposInfo:r}){const i=h=>{if(e&&e[h])return e[h];const g=h.match(/^(\d)(er|do|to) Lugar$/);if(g&&r){const v=parseInt(g[1]),x=Object.entries(r).sort((_,T)=>T[1].puntos-_[1].puntos);if(x[v-1])return x[v-1][0]}return h},s=h=>{if(n[h]?.logo)return n[h].logo;const g=Object.entries(n).find(([v])=>v.toLowerCase().includes(h.toLowerCase()));return/ganador|perdedor|finalista/i.test(h)?"logo-empro.png":g?.[1]?.logo||"logo-empro.png"},a=i(t.equipo1),c=i(t.equipo2),u=`/EmproChampions-2025/img/escudos/${s(a)}`,f=`/EmproChampions-2025/img/escudos/${s(c)}`;return w.jsxs("div",{className:"bg-black/50 rounded-xl p-4 flex flex-col items-center shadow-lg border border-white/10 h-full",children:[w.jsxs("div",{className:"text-center text-xs text-yellow-300 mb-3 font-semibold tracking-wider",children:[w.jsx("span",{children:t.fecha}),t.cancha&&w.jsx("span",{className:"mx-2 text-gray-500",children:"|"}),t.cancha&&w.jsxs("span",{children:["CANCHA ",t.cancha]}),t.nombre&&w.jsx("span",{className:"mx-2 text-gray-500",children:"|"}),t.nombre&&w.jsx("span",{className:"text-red-400 font-bold",children:t.nombre.toUpperCase()})]}),w.jsxs("div",{className:"flex justify-between items-center w-full px-2",children:[w.jsxs("div",{className:"flex flex-col items-center text-center w-2/5",children:[w.jsx("img",{src:u,alt:`Logo ${a}`,className:"h-14 w-14 md:h-16 md:w-16 object-contain mb-2"}),w.jsx("span",{className:"font-bold text-sm text-white",children:a})]}),w.jsx("span",{className:"text-2xl font-bold text-gray-400",children:"VS"}),w.jsxs("div",{className:"flex flex-col items-center text-center w-2/5",children:[w.jsx("img",{src:f,alt:`Logo ${c}`,className:"h-14 w-14 md:h-16 md:w-16 object-contain mb-2"}),w.jsx("span",{className:"font-bold text-sm text-white",children:c})]})]})]})}function sQ({open:t,onClose:e,genero:n,onGuardar:r=()=>{}}){const[i,s]=C.useState([]),[a,c]=C.useState({equipo1:"",equipo2:""}),[u,f]=C.useState({equipo1:"",equipo2:""});C.useEffect(()=>{const _=Ce(Te,`tablas/${n}`);return Jt(_,T=>{if(T.exists()){const I=T.val(),P=Object.entries(I).map(([k,j])=>({nombre:k,puntos:j.puntos??0,logo:j.logo??""})).sort((k,j)=>j.puntos-k.puntos).slice(0,4);s(P)}})},[n]);const h=new Set([a.equipo1,a.equipo2,u.equipo1,u.equipo2]),g=_=>i.filter(T=>T.nombre===_||!h.has(T.nombre)),v=(_,T,I,R)=>w.jsxs("div",{className:"mb-6",children:[w.jsx("h3",{className:"text-yellow-400 text-2xl font-bold mb-3 text-center",children:_}),w.jsxs("div",{className:"flex items-center justify-center gap-4",children:[w.jsxs("select",{value:T,onChange:P=>R(k=>({...k,equipo1:P.target.value})),className:"bg-gray-700 text-white px-4 py-2 rounded-lg w-40 text-lg",children:[w.jsx("option",{value:"",children:"Equipo 1"}),g(T).map(P=>w.jsx("option",{value:P.nombre,children:P.nombre},P.nombre))]}),w.jsx("span",{className:"text-white text-xl font-bold",children:"VS"}),w.jsxs("select",{value:I,onChange:P=>R(k=>({...k,equipo2:P.target.value})),className:"bg-gray-700 text-white px-4 py-2 rounded-lg w-40 text-lg",children:[w.jsx("option",{value:"",children:"Equipo 2"}),g(I).map(P=>w.jsx("option",{value:P.nombre,children:P.nombre},P.nombre))]})]})]}),x=()=>{if(!a.equipo1||!a.equipo2||!u.equipo1||!u.equipo2){alert("Seleccioná todos los equipos");return}r({granFinal:[a.equipo1,a.equipo2],tercerLugar:[u.equipo1,u.equipo2]}),e()};return w.jsx(ld,{open:t,onClose:e,className:"fixed inset-0 bg-black/70 z-50 flex justify-center items-center p-4 font-qatar",children:w.jsxs(ld.Panel,{className:"bg-gray-800 rounded-2xl shadow-xl w-full max-w-xl p-6 border border-yellow-400/30 text-white",children:[w.jsx("h2",{className:"text-center text-3xl font-bold text-yellow-400 mb-6",children:"Seleccionar Finalistas"}),v("Gran Final",a.equipo1,a.equipo2,c),v("Tercer Lugar",u.equipo1,u.equipo2,f),w.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 pt-4 border-t border-gray-600/50 mt-6",children:[w.jsx("button",{onClick:e,className:"w-full bg-red-600 hover:bg-red-500 text-white font-bold py-3 px-4 rounded-lg text-lg transition-colors",children:"Cancelar"}),w.jsx("button",{onClick:x,className:"w-full bg-green-600 hover:bg-green-500 text-white font-bold py-3 px-4 rounded-lg text-lg transition-colors",children:"Guardar"})]})]})})}const oQ=t=>t.startsWith("jornada")?`JORNADA ${t.replace("jornada","")}`:t.startsWith("semifinales")?"SEMIFINALES":t.startsWith("finales")?"FINALES":t.toUpperCase();function aQ(){const{user:t,rol:e}=si(),[n,r]=C.useState("masculino"),[i,s]=C.useState({calendario:null,equiposInfo:{}}),[a,c]=C.useState(!1),[u,f]=C.useState({letra:"",asignacionActual:""}),[h,g]=C.useState(!1),[v,x]=C.useState(!1);C.useEffect(()=>{const $=Ce(Te,`calendario/${n}`),B=Ce(Te,`tablas/${n}`),L=Jt($,async O=>{if(!O.exists()&&!v){const b=zp.calendario[n];b&&(await At(Ce(Te,`calendario/${n}`),{asignaciones:{},partidos:b}),x(!0))}s(b=>({...b,calendario:O.exists()?O.val():null}))}),N=Jt(B,O=>{s(b=>({...b,equiposInfo:O.exists()?O.val():{}}))});return()=>{Pa($,"value",L),Pa(B,"value",N)}},[n]);const _=($,B)=>{f({letra:$,asignacionActual:B}),c(!0)},T=({granFinal:$,tercerLugar:B})=>{const L=Ce(Te,"calendario/masculino/partidos/finales");At(L,{granFinal:$,tercerLugar:B}).then(()=>{alert("Finalistas guardados correctamente"),setModalAbierto(!1)}).catch(N=>{console.error("Error al guardar:",N),alert("Error al guardar finalistas")})},I=i.calendario||{},R=I.asignaciones||{},P=I.partidos||{},k=zp.plantillas[n]||{},j=i.equiposInfo||{};return[...new Set((P?.semifinales||[]).flatMap($=>[$.equipo1,$.equipo2]).map($=>R[$]||$).filter($=>$&&!$.toLowerCase().includes("lugar")&&$!=="undefined"))],w.jsxs("div",{className:"w-full min-h-screen bg-main-background text-white font-qatar flex flex-col",children:[w.jsx(cr,{}),w.jsxs("div",{className:"container mx-auto px-4 py-8 flex-grow",children:[w.jsx("h1",{className:"text-4xl md:text-5xl font-bold text-center text-yellow-400 drop-shadow-lg mb-6",children:"Calendario de Partidos"}),w.jsxs("div",{className:"flex justify-center mb-8 bg-black/30 rounded-full p-1 max-w-sm mx-auto",children:[w.jsx("button",{onClick:()=>r("masculino"),className:`w-1/2 py-2 rounded-full font-bold transition-colors ${n==="masculino"?"bg-yellow-400 text-black":"hover:bg-white/10"}`,children:"Masculino"}),w.jsx("button",{onClick:()=>r("femenino"),className:`w-1/2 py-2 rounded-full font-bold transition-colors ${n==="femenino"?"bg-yellow-400 text-black":"hover:bg-white/10"}`,children:"Femenino"})]}),w.jsx("div",{className:"flex flex-wrap justify-center gap-4 mb-8",children:Object.entries(R).map(([$,B])=>w.jsxs("div",{className:"bg-white text-black px-4 py-2 rounded-xl shadow-md font-bold flex items-center gap-2",children:[w.jsxs("span",{className:"text-red-600",children:[$,":"]}),w.jsx("span",{children:B||`Equipo ${$}`}),(e==="admin"||e==="superadmin")&&w.jsx("button",{onClick:()=>_($,B),className:"text-blue-600 hover:underline text-sm",children:"Editar"})]},$))}),!P||Object.keys(P).length===0?w.jsx("p",{className:"text-center",children:"Cargando..."}):w.jsx("div",{className:"max-w-4xl mx-auto",children:w.jsx("div",{className:"space-y-8",children:Object.entries(P).map(([$,B])=>w.jsxs("div",{children:[w.jsxs("div",{className:"flex justify-between items-center mb-4 border-b-2 border-yellow-400/20 pb-2",children:[w.jsx("h2",{className:"text-2xl font-bold text-yellow-300",children:oQ($)}),e==="admin"&&$==="finales"&&w.jsx("button",{onClick:()=>g(!0),className:"bg-red-600 text-white font-bold px-3 py-1 rounded-lg text-sm hover:bg-red-500",children:"Seleccionar Finalistas"}),e==="admin"&&$==="semifinales"&&w.jsx("button",{onClick:async()=>{const L=Object.entries(j).sort(([,F],[,Q])=>Q.puntos-F.puntos).slice(0,4);if(L.length<4){alert("Se necesitan al menos 4 equipos para generar las semifinales.");return}const[N,O,b,M]=L.map(([F])=>F),V=Ce(Te,`calendario/${n}/partidos/semifinales`);await At(V,[{cancha:"1",equipo1:N,equipo2:M,fecha:"Domingo 29 Jun - 03:00 PM"},{cancha:"2",equipo1:O,equipo2:b,fecha:"Domingo 29 Jun - 03:00 PM"}]),alert("Semifinales generadas correctamente.")},className:"bg-green-600 text-white font-bold px-3 py-1 rounded-lg text-sm hover:bg-green-500",children:"Generar Semifinales"})]}),w.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:Array.isArray(B)&&B.length>0?B.map((L,N)=>w.jsx(iQ,{partido:L,asignaciones:R,plantillas:k,equiposInfo:j},N)):w.jsx("p",{className:"col-span-full text-center text-sm text-gray-400",children:"No hay partidos disponibles."})})]},$))})})]}),w.jsx(ur,{}),w.jsx(rQ,{open:a,onClose:()=>c(!1),letra:u.letra,genero:n,asignacionActual:u.asignacionActual,todasLasAsignaciones:R,equiposYaAsignados:R}),w.jsx(sQ,{open:h,onClose:()=>g(!1),genero:"masculino",onGuardar:T})]})}var Vy,w2;function lQ(){if(w2)return Vy;w2=1;var t={linear:function(e,n,r,i){var s=r-n;return s*e/i+n},easeInQuad:function(e,n,r,i){var s=r-n;return s*(e/=i)*e+n},easeOutQuad:function(e,n,r,i){var s=r-n;return-s*(e/=i)*(e-2)+n},easeInOutQuad:function(e,n,r,i){var s=r-n;return(e/=i/2)<1?s/2*e*e+n:-s/2*(--e*(e-2)-1)+n},easeInCubic:function(e,n,r,i){var s=r-n;return s*(e/=i)*e*e+n},easeOutCubic:function(e,n,r,i){var s=r-n;return s*((e=e/i-1)*e*e+1)+n},easeInOutCubic:function(e,n,r,i){var s=r-n;return(e/=i/2)<1?s/2*e*e*e+n:s/2*((e-=2)*e*e+2)+n},easeInQuart:function(e,n,r,i){var s=r-n;return s*(e/=i)*e*e*e+n},easeOutQuart:function(e,n,r,i){var s=r-n;return-s*((e=e/i-1)*e*e*e-1)+n},easeInOutQuart:function(e,n,r,i){var s=r-n;return(e/=i/2)<1?s/2*e*e*e*e+n:-s/2*((e-=2)*e*e*e-2)+n},easeInQuint:function(e,n,r,i){var s=r-n;return s*(e/=i)*e*e*e*e+n},easeOutQuint:function(e,n,r,i){var s=r-n;return s*((e=e/i-1)*e*e*e*e+1)+n},easeInOutQuint:function(e,n,r,i){var s=r-n;return(e/=i/2)<1?s/2*e*e*e*e*e+n:s/2*((e-=2)*e*e*e*e+2)+n},easeInSine:function(e,n,r,i){var s=r-n;return-s*Math.cos(e/i*(Math.PI/2))+s+n},easeOutSine:function(e,n,r,i){var s=r-n;return s*Math.sin(e/i*(Math.PI/2))+n},easeInOutSine:function(e,n,r,i){var s=r-n;return-s/2*(Math.cos(Math.PI*e/i)-1)+n},easeInExpo:function(e,n,r,i){var s=r-n;return e==0?n:s*Math.pow(2,10*(e/i-1))+n},easeOutExpo:function(e,n,r,i){var s=r-n;return e==i?n+s:s*(-Math.pow(2,-10*e/i)+1)+n},easeInOutExpo:function(e,n,r,i){var s=r-n;return e===0?n:e===i?n+s:(e/=i/2)<1?s/2*Math.pow(2,10*(e-1))+n:s/2*(-Math.pow(2,-10*--e)+2)+n},easeInCirc:function(e,n,r,i){var s=r-n;return-s*(Math.sqrt(1-(e/=i)*e)-1)+n},easeOutCirc:function(e,n,r,i){var s=r-n;return s*Math.sqrt(1-(e=e/i-1)*e)+n},easeInOutCirc:function(e,n,r,i){var s=r-n;return(e/=i/2)<1?-s/2*(Math.sqrt(1-e*e)-1)+n:s/2*(Math.sqrt(1-(e-=2)*e)+1)+n},easeInElastic:function(e,n,r,i){var s=r-n,a,c,u;return u=1.70158,c=0,a=s,e===0?n:(e/=i)===1?n+s:(c||(c=i*.3),a<Math.abs(s)?(a=s,u=c/4):u=c/(2*Math.PI)*Math.asin(s/a),-(a*Math.pow(2,10*(e-=1))*Math.sin((e*i-u)*(2*Math.PI)/c))+n)},easeOutElastic:function(e,n,r,i){var s=r-n,a,c,u;return u=1.70158,c=0,a=s,e===0?n:(e/=i)===1?n+s:(c||(c=i*.3),a<Math.abs(s)?(a=s,u=c/4):u=c/(2*Math.PI)*Math.asin(s/a),a*Math.pow(2,-10*e)*Math.sin((e*i-u)*(2*Math.PI)/c)+s+n)},easeInOutElastic:function(e,n,r,i){var s=r-n,a,c,u;return u=1.70158,c=0,a=s,e===0?n:(e/=i/2)===2?n+s:(c||(c=i*(.3*1.5)),a<Math.abs(s)?(a=s,u=c/4):u=c/(2*Math.PI)*Math.asin(s/a),e<1?-.5*(a*Math.pow(2,10*(e-=1))*Math.sin((e*i-u)*(2*Math.PI)/c))+n:a*Math.pow(2,-10*(e-=1))*Math.sin((e*i-u)*(2*Math.PI)/c)*.5+s+n)},easeInBack:function(e,n,r,i,s){var a=r-n;return s===void 0&&(s=1.70158),a*(e/=i)*e*((s+1)*e-s)+n},easeOutBack:function(e,n,r,i,s){var a=r-n;return s===void 0&&(s=1.70158),a*((e=e/i-1)*e*((s+1)*e+s)+1)+n},easeInOutBack:function(e,n,r,i,s){var a=r-n;return s===void 0&&(s=1.70158),(e/=i/2)<1?a/2*(e*e*(((s*=1.525)+1)*e-s))+n:a/2*((e-=2)*e*(((s*=1.525)+1)*e+s)+2)+n},easeInBounce:function(e,n,r,i){var s=r-n,a;return a=t.easeOutBounce(i-e,0,s,i),s-a+n},easeOutBounce:function(e,n,r,i){var s=r-n;return(e/=i)<1/2.75?s*(7.5625*e*e)+n:e<2/2.75?s*(7.5625*(e-=1.5/2.75)*e+.75)+n:e<2.5/2.75?s*(7.5625*(e-=2.25/2.75)*e+.9375)+n:s*(7.5625*(e-=2.625/2.75)*e+.984375)+n},easeInOutBounce:function(e,n,r,i){var s=r-n,a;return e<i/2?(a=t.easeInBounce(e*2,0,s,i),a*.5+n):(a=t.easeOutBounce(e*2-i,0,s,i),a*.5+s*.5+n)}};return Vy=t,Vy}var cQ=lQ();function uQ(t){return t*Math.PI/180}function nr(t,e){return t+Math.random()*(e-t)}function dQ(t,e){return Math.floor(t+Math.random()*(e-t+1))}var cd;(function(t){t[t.Circle=0]="Circle",t[t.Square=1]="Square",t[t.Strip=2]="Strip"})(cd||(cd={}));var eo;(function(t){t[t.Positive=1]="Positive",t[t.Negative=-1]="Negative"})(eo||(eo={}));const fQ=1e3/60;class hQ{constructor(e,n,r,i){this.getOptions=n;const{colors:s,initialVelocityX:a,initialVelocityY:c}=this.getOptions();this.context=e,this.x=r,this.y=i,this.w=nr(5,20),this.h=nr(5,20),this.radius=nr(5,10),this.vx=typeof a=="number"?nr(-a,a):nr(a.min,a.max),this.vy=typeof c=="number"?nr(-c,0):nr(c.min,c.max),this.shape=dQ(0,2),this.angle=uQ(nr(0,360)),this.angularSpin=nr(-.2,.2),this.color=s[Math.floor(Math.random()*s.length)],this.rotateY=nr(0,1),this.rotationDirection=nr(0,1)?eo.Positive:eo.Negative}update(e){const{gravity:n,wind:r,friction:i,opacity:s,drawShape:a}=this.getOptions(),c=e/fQ;this.x+=this.vx*c,this.y+=this.vy*c,this.vy+=n*c,this.vx+=r*c,this.vx*=i**c,this.vy*=i**c,this.rotateY>=1&&this.rotationDirection===eo.Positive?this.rotationDirection=eo.Negative:this.rotateY<=-1&&this.rotationDirection===eo.Negative&&(this.rotationDirection=eo.Positive);const u=.1*this.rotationDirection*c;if(this.rotateY+=u,this.angle+=this.angularSpin,this.context.save(),this.context.translate(this.x,this.y),this.context.rotate(this.angle),this.context.scale(1,this.rotateY),this.context.rotate(this.angle),this.context.beginPath(),this.context.fillStyle=this.color,this.context.strokeStyle=this.color,this.context.globalAlpha=s,this.context.lineCap="round",this.context.lineWidth=2,a&&typeof a=="function")a.call(this,this.context);else switch(this.shape){case cd.Circle:{this.context.beginPath(),this.context.arc(0,0,this.radius,0,2*Math.PI),this.context.fill();break}case cd.Square:{this.context.fillRect(-this.w/2,-this.h/2,this.w,this.h);break}case cd.Strip:{this.context.fillRect(-this.w/6,-this.h/2,this.w/3,this.h);break}}this.context.closePath(),this.context.restore()}}class pQ{constructor(e,n){this.x=0,this.y=0,this.w=0,this.h=0,this.lastNumberOfPieces=0,this.tweenProgress=0,this.tweenFrom=0,this.particles=[],this.particlesGenerated=0,this.removeParticleAt=i=>{this.particles.splice(i,1)},this.getParticle=()=>{const i=nr(this.x,this.w+this.x),s=nr(this.y,this.h+this.y);return new hQ(this.context,this.getOptions,i,s)},this.animate=i=>{const{canvas:s,context:a,particlesGenerated:c,lastNumberOfPieces:u}=this,{run:f,recycle:h,numberOfPieces:g,debug:v,tweenFunction:x,tweenDuration:_}=this.getOptions();if(!f)return!1;const T=this.particles.length,I=h?T:c;if(I<g){u!==g&&(this.tweenProgress=0,this.tweenFrom=I,this.lastNumberOfPieces=g),this.tweenProgress=Math.min(_,Math.max(0,this.tweenProgress+i));const R=x(this.tweenProgress,this.tweenFrom,g,_),P=Math.round(R-I);for(let k=0;k<P;k++)this.particles.push(this.getParticle());this.particlesGenerated+=P}v&&(a.font="12px sans-serif",a.fillStyle="#333",a.textAlign="right",a.fillText(`Particles: ${T}`,s.width-10,s.height-20));for(let R=this.particles.length-1;R>=0;R--){const P=this.particles[R];P.update(i),(P.y>s.height||P.y<-100||P.x>s.width+100||P.x<-100)&&(h&&I<=g?this.particles[R]=this.getParticle():this.removeParticleAt(R))}return T>0||I<g},this.canvas=e;const r=this.canvas.getContext("2d");if(!r)throw new Error("Could not get canvas context");this.context=r,this.getOptions=n}}const Hx={width:typeof window<"u"?window.innerWidth:300,height:typeof window<"u"?window.innerHeight:200,numberOfPieces:200,friction:.99,wind:0,gravity:.1,initialVelocityX:4,initialVelocityY:10,colors:["#f44336","#e91e63","#9c27b0","#673ab7","#3f51b5","#2196f3","#03a9f4","#00bcd4","#009688","#4CAF50","#8BC34A","#CDDC39","#FFEB3B","#FFC107","#FF9800","#FF5722","#795548"],opacity:1,debug:!1,tweenFunction:cQ.easeInOutQuad,tweenDuration:5e3,recycle:!0,run:!0};class mQ{constructor(e,n){this.lastFrameTime=0,this.setOptionsWithDefaults=i=>{const s={confettiSource:{x:0,y:0,w:this.canvas.width,h:0}};this._options={...s,...Hx,...i},Object.assign(this,i.confettiSource)},this.update=(i=0)=>{const{options:{run:s,onConfettiComplete:a,frameRate:c},canvas:u,context:f}=this,h=Math.min(i-this.lastFrameTime,50);if(c&&h<1e3/c){this.rafId=requestAnimationFrame(this.update);return}this.lastFrameTime=i-(c?h%c:0),s&&(f.fillStyle="white",f.clearRect(0,0,u.width,u.height)),this.generator.animate(h)?this.rafId=requestAnimationFrame(this.update):(a&&typeof a=="function"&&this.generator.particlesGenerated>0&&a.call(this,this),this._options.run=!1)},this.reset=()=>{this.generator&&this.generator.particlesGenerated>0&&(this.generator.particlesGenerated=0,this.generator.particles=[],this.generator.lastNumberOfPieces=0)},this.stop=()=>{this.options={run:!1},this.rafId&&(cancelAnimationFrame(this.rafId),this.rafId=void 0)},this.canvas=e;const r=this.canvas.getContext("2d");if(!r)throw new Error("Could not get canvas context");this.context=r,this.generator=new pQ(this.canvas,()=>this.options),this.options=n,this.update()}get options(){return this._options}set options(e){const n=this._options?.run,r=this._options?.recycle;this.setOptionsWithDefaults(e),this.generator&&(Object.assign(this.generator,this.options.confettiSource),typeof e.recycle=="boolean"&&e.recycle&&r===!1&&(this.generator.lastNumberOfPieces=this.generator.particles.length)),typeof e.run=="boolean"&&e.run&&n===!1&&this.update()}}const gQ=me.createRef();class Wx extends me.Component{constructor(e){super(e),this.canvas=me.createRef(),this.canvas=e.canvasRef||gQ}componentDidMount(){if(this.canvas.current){const e=By(this.props)[0];this.confetti=new mQ(this.canvas.current,e)}}componentDidUpdate(){const e=By(this.props)[0];this.confetti&&(this.confetti.options=e)}componentWillUnmount(){this.confetti&&this.confetti.stop(),this.confetti=void 0}render(){const[e,n]=By(this.props),r={zIndex:2,position:"absolute",pointerEvents:"none",top:0,left:0,bottom:0,right:0,...n.style};return w.jsx("canvas",{width:e.width,height:e.height,ref:this.canvas,...n,style:r})}}Wx.defaultProps={...Hx};Wx.displayName="ReactConfetti";function By(t){const e={},n={},r={},i=[...Object.keys(Hx),"confettiSource","drawShape","onConfettiComplete","frameRate"],s=["canvasRef"];for(const a in t){const c=t[a];i.includes(a)?e[a]=c:s.includes(a)?s[a]=c:r[a]=c}return[e,r,n]}const vQ=me.forwardRef((t,e)=>w.jsx(Wx,{canvasRef:e,...t})),yQ=t=>{const e=C.useRef(t);return C.useEffect(()=>{e.current=t}),e},wQ=(t,e=100,n=!1)=>{const r=yQ(t),i=C.useRef(),s=[e,n,r];function a(){i.current&&clearTimeout(i.current),i.current=void 0}C.useEffect(()=>a,s);function c(){i.current=void 0}return C.useCallback(function(){const u=arguments,{current:f}=i;if(f===void 0&&n)return i.current=setTimeout(c,e),r.current.apply(null,u);f&&clearTimeout(f),i.current=setTimeout(()=>{i.current=void 0,r.current.apply(null,u)},e)},s)},_Q=(t,e,n)=>{const r=C.useState(t);return[r[0],wQ(r[1],e,n)]};function zy(t,e,n,r){const i=C.useRef(n),s=C.useRef(r);C.useEffect(()=>{i.current=n,s.current=r}),C.useEffect(()=>{const a=t&&"current"in t?t.current:t;if(!a)return;let c=0;function u(...h){c||i.current.apply(this,h)}a.addEventListener(e,u);const f=s.current;return()=>{c=1,a.removeEventListener(e,u),f&&f()}},[t,e])}const xQ={},ud=typeof window>"u"?null:window,bQ=ud&&typeof ud.visualViewport<"u"?ud.visualViewport:null,_2=()=>[document.documentElement.clientWidth,document.documentElement.clientHeight],EQ=function(t){t===void 0&&(t=xQ);const{wait:e,leading:n,initialWidth:r=0,initialHeight:i=0}=t,[s,a]=_Q(typeof document>"u"?[r,i]:_2,e,n),c=()=>a(_2);return zy(ud,"resize",c),zy(bQ,"resize",c),zy(ud,"orientationchange",c),s};function SQ(){const{partidoId:t}=_w(),[e,n]=C.useState({equipo1:0,equipo2:0}),[r,i]=C.useState(null),[s,a]=C.useState([]),[c,u]=C.useState("00:00"),[f,h]=C.useState("activo"),[g,v]=C.useState(!1),[x,_]=EQ(),T=Pr();if(C.useEffect(()=>{const R=Ce(Te,`partidos/${t}/marcador`),P=Ce(Te,`partidos/${t}/alineacion`),k=Ce(Te,`partidos/${t}/eventos`),j=Ce(Te,`partidos/${t}/cronometro/tiempo`),$=Ce(Te,`partidos/${t}/estado`),B=Jt(R,M=>{M.exists()&&n(M.val())}),L=Jt(P,M=>{M.exists()&&i(M.val())}),N=Jt(k,M=>{const V=M.val();if(V){const F=[],Q=ae=>{for(const re in ae)F.push({id:re,...ae[re]})};V.goles&&Q(V.goles),V.tarjetas&&Q(V.tarjetas),V.cambios&&Q(V.cambios),F.sort((ae,re)=>{const[pe,ne]=ae.minuto?.split(":").map(Number)||[0,0],[se,le]=re.minuto?.split(":").map(Number)||[0,0];return pe*60+ne-(se*60+le)}),a(F)}}),O=Jt(j,M=>{M.exists()&&u(M.val())}),b=Jt($,M=>{if(M.exists()){const V=M.val();h(V),V==="finalizado"&&v(!0)}});return()=>{B(),L(),N(),O(),b()}},[t]),!r)return w.jsx("div",{className:"text-white text-center p-6",children:"Cargando partido..."});const I=e.equipo1>e.equipo2?r.equipo1.nombre:e.equipo2>e.equipo1?r.equipo2.nombre:"Empate";return w.jsxs("div",{className:"min-h-screen bg-cover bg-center font-qatar text-white px-4",style:{backgroundImage:"url('/EmproChampions-2025/img/fondoempro-horizontal.png')"},children:[w.jsx(cr,{}),w.jsx("h1",{className:"text-4xl font-bold text-center mt-6 text-yellow-400 drop-shadow",children:"Partido en curso"}),w.jsxs("div",{className:"text-center mt-4 text-2xl",children:["⏱ ",c]}),w.jsxs("div",{className:"flex justify-center items-center gap-4 mt-4",children:[w.jsx("img",{src:`/EmproChampions-2025/img/escudos/${r.equipo1.logo}`,className:"w-16 h-16 object-contain"}),w.jsxs("span",{className:"text-4xl font-extrabold",children:[e.equipo1," - ",e.equipo2]}),w.jsx("img",{src:`/EmproChampions-2025/img/escudos/${r.equipo2.logo}`,className:"w-16 h-16 object-contain"})]}),w.jsxs("div",{className:"max-w-3xl mx-auto bg-black/50 p-4 mt-6 mb-20 rounded-xl",children:[w.jsx("h2",{className:"text-yellow-400 font-bold text-xl mb-2",children:"Eventos del partido"}),s.length===0?w.jsx("p",{className:"text-gray-300",children:"Sin eventos todavía."}):w.jsx(lA,{eventos:s})]}),w.jsx(ur,{}),g&&w.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-80 flex justify-center items-center z-50 p-4",children:w.jsxs("div",{className:"bg-gray-900 rounded-2xl shadow-2xl w-full max-w-lg p-8 text-center border-2 border-yellow-400 relative",children:[w.jsx("h2",{className:"text-4xl font-extrabold text-yellow-400 mb-6 animate-bounce",children:"¡Partido Finalizado!"}),I!=="Empate"?w.jsxs(w.Fragment,{children:[w.jsx("img",{src:`/EmproChampions-2025/img/escudos/${I===r?.equipo1?.nombre?r?.equipo1?.logo:r?.equipo2?.logo}`,alt:"Escudo ganador",className:"w-36 h-36 mx-auto mb-6 drop-shadow-xl"}),w.jsxs("p",{className:"text-white text-5xl md:text-6xl font-extrabold",children:["🏆 ",I]})]}):w.jsx("p",{className:"text-4xl text-white",children:"🤝 El partido terminó en empate"}),w.jsx("button",{onClick:()=>T("/"),className:"mt-6 bg-green-600 hover:bg-green-500 text-white font-bold py-2 px-6 rounded-full text-lg shadow-lg",children:"Cerrar"}),I!=="Empate"&&w.jsx(vQ,{width:x,height:_,numberOfPieces:500,gravity:.3,recycle:!1})]})})]})}function CQ({open:t,onClose:e}){const{user:n}=si(),[r,i]=C.useState(null),[s,a]=C.useState(0),[c,u]=C.useState(""),[f,h]=C.useState(!1),g=_=>{const T=_.target.files[0];T&&T.type.startsWith("image/")?(i(T),u("")):(i(null),u("Por favor, selecciona un archivo de imagen válido."))},v=()=>{if(!r||!n)return;h(!0);const _=GI(),T=CI(),I=t8(_,`galeria/${Date.now()}_${r.name}`),R=Z9(I,r);R.on("state_changed",P=>{const k=P.bytesTransferred/P.totalBytes*100;a(k)},P=>{console.error("Error al subir imagen:",P),u("Ocurrió un error al subir la imagen."),h(!1)},()=>{e8(R.snapshot.ref).then(P=>{const k=Ce(T,"galeria"),j={imageUrl:P,timestamp:H$(),uploadedBy:n.uid,likes:{},visible:!0};Ul(k,j),x()})})},x=()=>{i(null),a(0),u(""),h(!1),e()};return t?w.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-75 flex justify-center items-center z-50",children:w.jsxs("div",{className:"bg-gray-800 p-6 rounded-lg shadow-xl w-full max-w-md",children:[w.jsx("h2",{className:"text-2xl font-bold text-yellow-400 mb-4",children:"Subir Nueva Foto"}),w.jsx("input",{type:"file",accept:"image/*",onChange:g,className:"block w-full text-sm text-gray-400 file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-sm file:font-semibold file:bg-yellow-500 file:text-black hover:file:bg-yellow-400"}),r&&w.jsxs("p",{className:"text-sm mt-2 text-gray-300",children:["Archivo seleccionado: ",r.name]}),c&&w.jsx("p",{className:"text-red-500 text-sm mt-2",children:c}),f&&w.jsx("div",{className:"w-full bg-gray-600 rounded-full h-2.5 mt-4",children:w.jsx("div",{className:"bg-green-500 h-2.5 rounded-full",style:{width:`${s}%`}})}),w.jsxs("div",{className:"flex justify-end gap-4 mt-6",children:[w.jsx("button",{onClick:x,disabled:f,className:"px-4 py-2 rounded-lg bg-gray-600 hover:bg-gray-500 disabled:opacity-50",children:"Cancelar"}),w.jsx("button",{onClick:v,disabled:!r||f,className:"px-4 py-2 rounded-lg bg-green-600 hover:bg-green-500 disabled:bg-gray-400 disabled:cursor-not-allowed",children:f?"Subiendo...":"Subir"})]})]})}):null}function TQ({title:t,titleId:e,...n},r){return C.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?C.createElement("title",{id:e},t):null,C.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.98 8.223A10.477 10.477 0 0 0 1.934 12C3.226 16.338 7.244 19.5 12 19.5c.993 0 1.953-.138 2.863-.395M6.228 6.228A10.451 10.451 0 0 1 12 4.5c4.756 0 8.773 3.162 10.065 7.498a10.522 10.522 0 0 1-4.293 5.774M6.228 6.228 3 3m3.228 3.228 3.65 3.65m7.894 7.894L21 21m-3.228-3.228-3.65-3.65m0 0a3 3 0 1 0-4.243-4.243m4.242 4.242L9.88 9.88"}))}const kQ=C.forwardRef(TQ);function PQ({foto:t,onImageClick:e,onBorrarClick:n,esAdmin:r}){const{user:i}=si(),s=t.likes?Object.values(t.likes).filter(Boolean).length:0,a=i&&t.likes&&t.likes[i.uid];return w.jsxs("div",{className:"group relative aspect-square bg-gray-800 rounded-lg overflow-hidden cursor-pointer shadow-lg",onClick:()=>e(t),children:[w.jsx("img",{src:t.imageUrl,alt:"Foto de la galería",className:"w-full h-full object-cover transition-transform duration-300 group-hover:scale-110"}),w.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/60 via-black/20 to-transparent p-2 flex flex-col justify-end",children:w.jsxs("div",{className:"flex items-center gap-1 text-white opacity-0 group-hover:opacity-100 transition-opacity duration-300",children:[a?w.jsx(P0,{className:"h-5 w-5 text-red-500"}):w.jsx(P0,{className:"h-5 w-5 text-white"}),w.jsx("span",{className:"font-bold text-sm drop-shadow-md",children:s})]})}),r&&w.jsx("button",{onClick:c=>{c.stopPropagation(),n(t.id)},className:"absolute top-2 right-2 bg-red-600/80 text-white rounded-full w-8 h-8 flex items-center justify-center opacity-0 group-hover:opacity-100 transition-all duration-300 hover:bg-red-500 hover:scale-110",title:"Ocultar foto",children:w.jsx(kQ,{className:"w-5 h-5"})})]})}function x2(t){return t!==null&&typeof t=="object"&&"constructor"in t&&t.constructor===Object}function qx(t,e){t===void 0&&(t={}),e===void 0&&(e={});const n=["__proto__","constructor","prototype"];Object.keys(e).filter(r=>n.indexOf(r)<0).forEach(r=>{typeof t[r]>"u"?t[r]=e[r]:x2(e[r])&&x2(t[r])&&Object.keys(e[r]).length>0&&qx(t[r],e[r])})}const ZN={body:{},addEventListener(){},removeEventListener(){},activeElement:{blur(){},nodeName:""},querySelector(){return null},querySelectorAll(){return[]},getElementById(){return null},createEvent(){return{initEvent(){}}},createElement(){return{children:[],childNodes:[],style:{},setAttribute(){},getElementsByTagName(){return[]}}},createElementNS(){return{}},importNode(){return null},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""}};function $a(){const t=typeof document<"u"?document:{};return qx(t,ZN),t}const IQ={document:ZN,navigator:{userAgent:""},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""},history:{replaceState(){},pushState(){},go(){},back(){}},CustomEvent:function(){return this},addEventListener(){},removeEventListener(){},getComputedStyle(){return{getPropertyValue(){return""}}},Image(){},Date(){},screen:{},setTimeout(){},clearTimeout(){},matchMedia(){return{}},requestAnimationFrame(t){return typeof setTimeout>"u"?(t(),null):setTimeout(t,0)},cancelAnimationFrame(t){typeof setTimeout>"u"||clearTimeout(t)}};function Rn(){const t=typeof window<"u"?window:{};return qx(t,IQ),t}function AQ(t){return t===void 0&&(t=""),t.trim().split(" ").filter(e=>!!e.trim())}function RQ(t){const e=t;Object.keys(e).forEach(n=>{try{e[n]=null}catch{}try{delete e[n]}catch{}})}function eO(t,e){return e===void 0&&(e=0),setTimeout(t,e)}function im(){return Date.now()}function NQ(t){const e=Rn();let n;return e.getComputedStyle&&(n=e.getComputedStyle(t,null)),!n&&t.currentStyle&&(n=t.currentStyle),n||(n=t.style),n}function OQ(t,e){e===void 0&&(e="x");const n=Rn();let r,i,s;const a=NQ(t);return n.WebKitCSSMatrix?(i=a.transform||a.webkitTransform,i.split(",").length>6&&(i=i.split(", ").map(c=>c.replace(",",".")).join(", ")),s=new n.WebKitCSSMatrix(i==="none"?"":i)):(s=a.MozTransform||a.OTransform||a.MsTransform||a.msTransform||a.transform||a.getPropertyValue("transform").replace("translate(","matrix(1, 0, 0, 1,"),r=s.toString().split(",")),e==="x"&&(n.WebKitCSSMatrix?i=s.m41:r.length===16?i=parseFloat(r[12]):i=parseFloat(r[4])),e==="y"&&(n.WebKitCSSMatrix?i=s.m42:r.length===16?i=parseFloat(r[13]):i=parseFloat(r[5])),i||0}function Xh(t){return typeof t=="object"&&t!==null&&t.constructor&&Object.prototype.toString.call(t).slice(8,-1)==="Object"}function MQ(t){return typeof window<"u"&&typeof window.HTMLElement<"u"?t instanceof HTMLElement:t&&(t.nodeType===1||t.nodeType===11)}function rr(){const t=Object(arguments.length<=0?void 0:arguments[0]),e=["__proto__","constructor","prototype"];for(let n=1;n<arguments.length;n+=1){const r=n<0||arguments.length<=n?void 0:arguments[n];if(r!=null&&!MQ(r)){const i=Object.keys(Object(r)).filter(s=>e.indexOf(s)<0);for(let s=0,a=i.length;s<a;s+=1){const c=i[s],u=Object.getOwnPropertyDescriptor(r,c);u!==void 0&&u.enumerable&&(Xh(t[c])&&Xh(r[c])?r[c].__swiper__?t[c]=r[c]:rr(t[c],r[c]):!Xh(t[c])&&Xh(r[c])?(t[c]={},r[c].__swiper__?t[c]=r[c]:rr(t[c],r[c])):t[c]=r[c])}}}return t}function Jh(t,e,n){t.style.setProperty(e,n)}function tO(t){let{swiper:e,targetPosition:n,side:r}=t;const i=Rn(),s=-e.translate;let a=null,c;const u=e.params.speed;e.wrapperEl.style.scrollSnapType="none",i.cancelAnimationFrame(e.cssModeFrameID);const f=n>s?"next":"prev",h=(v,x)=>f==="next"&&v>=x||f==="prev"&&v<=x,g=()=>{c=new Date().getTime(),a===null&&(a=c);const v=Math.max(Math.min((c-a)/u,1),0),x=.5-Math.cos(v*Math.PI)/2;let _=s+x*(n-s);if(h(_,n)&&(_=n),e.wrapperEl.scrollTo({[r]:_}),h(_,n)){e.wrapperEl.style.overflow="hidden",e.wrapperEl.style.scrollSnapType="",setTimeout(()=>{e.wrapperEl.style.overflow="",e.wrapperEl.scrollTo({[r]:_})}),i.cancelAnimationFrame(e.cssModeFrameID);return}e.cssModeFrameID=i.requestAnimationFrame(g)};g()}function Ei(t,e){e===void 0&&(e="");const n=Rn(),r=[...t.children];return n.HTMLSlotElement&&t instanceof HTMLSlotElement&&r.push(...t.assignedElements()),e?r.filter(i=>i.matches(e)):r}function DQ(t,e){const n=[e];for(;n.length>0;){const r=n.shift();if(t===r)return!0;n.push(...r.children,...r.shadowRoot?r.shadowRoot.children:[],...r.assignedElements?r.assignedElements():[])}}function LQ(t,e){const n=Rn();let r=e.contains(t);return!r&&n.HTMLSlotElement&&e instanceof HTMLSlotElement&&(r=[...e.assignedElements()].includes(t),r||(r=DQ(t,e))),r}function sm(t){try{console.warn(t);return}catch{}}function om(t,e){e===void 0&&(e=[]);const n=document.createElement(t);return n.classList.add(...Array.isArray(e)?e:AQ(e)),n}function jQ(t,e){const n=[];for(;t.previousElementSibling;){const r=t.previousElementSibling;e?r.matches(e)&&n.push(r):n.push(r),t=r}return n}function FQ(t,e){const n=[];for(;t.nextElementSibling;){const r=t.nextElementSibling;e?r.matches(e)&&n.push(r):n.push(r),t=r}return n}function uo(t,e){return Rn().getComputedStyle(t,null).getPropertyValue(e)}function am(t){let e=t,n;if(e){for(n=0;(e=e.previousSibling)!==null;)e.nodeType===1&&(n+=1);return n}}function nO(t,e){const n=[];let r=t.parentElement;for(;r;)e?r.matches(e)&&n.push(r):n.push(r),r=r.parentElement;return n}function pw(t,e,n){const r=Rn();return t[e==="width"?"offsetWidth":"offsetHeight"]+parseFloat(r.getComputedStyle(t,null).getPropertyValue(e==="width"?"margin-right":"margin-top"))+parseFloat(r.getComputedStyle(t,null).getPropertyValue(e==="width"?"margin-left":"margin-bottom"))}function Yt(t){return(Array.isArray(t)?t:[t]).filter(e=>!!e)}function lm(t,e){e===void 0&&(e=""),typeof trustedTypes<"u"?t.innerHTML=trustedTypes.createPolicy("html",{createHTML:n=>n}).createHTML(e):t.innerHTML=e}let Hy;function $Q(){const t=Rn(),e=$a();return{smoothScroll:e.documentElement&&e.documentElement.style&&"scrollBehavior"in e.documentElement.style,touch:!!("ontouchstart"in t||t.DocumentTouch&&e instanceof t.DocumentTouch)}}function rO(){return Hy||(Hy=$Q()),Hy}let Wy;function UQ(t){let{userAgent:e}=t===void 0?{}:t;const n=rO(),r=Rn(),i=r.navigator.platform,s=e||r.navigator.userAgent,a={ios:!1,android:!1},c=r.screen.width,u=r.screen.height,f=s.match(/(Android);?[\s\/]+([\d.]+)?/);let h=s.match(/(iPad).*OS\s([\d_]+)/);const g=s.match(/(iPod)(.*OS\s([\d_]+))?/),v=!h&&s.match(/(iPhone\sOS|iOS)\s([\d_]+)/),x=i==="Win32";let _=i==="MacIntel";const T=["1024x1366","1366x1024","834x1194","1194x834","834x1112","1112x834","768x1024","1024x768","820x1180","1180x820","810x1080","1080x810"];return!h&&_&&n.touch&&T.indexOf(`${c}x${u}`)>=0&&(h=s.match(/(Version)\/([\d.]+)/),h||(h=[0,1,"13_0_0"]),_=!1),f&&!x&&(a.os="android",a.android=!0),(h||v||g)&&(a.os="ios",a.ios=!0),a}function iO(t){return t===void 0&&(t={}),Wy||(Wy=UQ(t)),Wy}let qy;function VQ(){const t=Rn(),e=iO();let n=!1;function r(){const c=t.navigator.userAgent.toLowerCase();return c.indexOf("safari")>=0&&c.indexOf("chrome")<0&&c.indexOf("android")<0}if(r()){const c=String(t.navigator.userAgent);if(c.includes("Version/")){const[u,f]=c.split("Version/")[1].split(" ")[0].split(".").map(h=>Number(h));n=u<16||u===16&&f<2}}const i=/(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/i.test(t.navigator.userAgent),s=r(),a=s||i&&e.ios;return{isSafari:n||s,needPerspectiveFix:n,need3dFix:a,isWebView:i}}function sO(){return qy||(qy=VQ()),qy}function BQ(t){let{swiper:e,on:n,emit:r}=t;const i=Rn();let s=null,a=null;const c=()=>{!e||e.destroyed||!e.initialized||(r("beforeResize"),r("resize"))},u=()=>{!e||e.destroyed||!e.initialized||(s=new ResizeObserver(g=>{a=i.requestAnimationFrame(()=>{const{width:v,height:x}=e;let _=v,T=x;g.forEach(I=>{let{contentBoxSize:R,contentRect:P,target:k}=I;k&&k!==e.el||(_=P?P.width:(R[0]||R).inlineSize,T=P?P.height:(R[0]||R).blockSize)}),(_!==v||T!==x)&&c()})}),s.observe(e.el))},f=()=>{a&&i.cancelAnimationFrame(a),s&&s.unobserve&&e.el&&(s.unobserve(e.el),s=null)},h=()=>{!e||e.destroyed||!e.initialized||r("orientationchange")};n("init",()=>{if(e.params.resizeObserver&&typeof i.ResizeObserver<"u"){u();return}i.addEventListener("resize",c),i.addEventListener("orientationchange",h)}),n("destroy",()=>{f(),i.removeEventListener("resize",c),i.removeEventListener("orientationchange",h)})}function zQ(t){let{swiper:e,extendParams:n,on:r,emit:i}=t;const s=[],a=Rn(),c=function(h,g){g===void 0&&(g={});const v=a.MutationObserver||a.WebkitMutationObserver,x=new v(_=>{if(e.__preventObserver__)return;if(_.length===1){i("observerUpdate",_[0]);return}const T=function(){i("observerUpdate",_[0])};a.requestAnimationFrame?a.requestAnimationFrame(T):a.setTimeout(T,0)});x.observe(h,{attributes:typeof g.attributes>"u"?!0:g.attributes,childList:e.isElement||(typeof g.childList>"u"?!0:g).childList,characterData:typeof g.characterData>"u"?!0:g.characterData}),s.push(x)},u=()=>{if(e.params.observer){if(e.params.observeParents){const h=nO(e.hostEl);for(let g=0;g<h.length;g+=1)c(h[g])}c(e.hostEl,{childList:e.params.observeSlideChildren}),c(e.wrapperEl,{attributes:!1})}},f=()=>{s.forEach(h=>{h.disconnect()}),s.splice(0,s.length)};n({observer:!1,observeParents:!1,observeSlideChildren:!1}),r("init",u),r("destroy",f)}var HQ={on(t,e,n){const r=this;if(!r.eventsListeners||r.destroyed||typeof e!="function")return r;const i=n?"unshift":"push";return t.split(" ").forEach(s=>{r.eventsListeners[s]||(r.eventsListeners[s]=[]),r.eventsListeners[s][i](e)}),r},once(t,e,n){const r=this;if(!r.eventsListeners||r.destroyed||typeof e!="function")return r;function i(){r.off(t,i),i.__emitterProxy&&delete i.__emitterProxy;for(var s=arguments.length,a=new Array(s),c=0;c<s;c++)a[c]=arguments[c];e.apply(r,a)}return i.__emitterProxy=e,r.on(t,i,n)},onAny(t,e){const n=this;if(!n.eventsListeners||n.destroyed||typeof t!="function")return n;const r=e?"unshift":"push";return n.eventsAnyListeners.indexOf(t)<0&&n.eventsAnyListeners[r](t),n},offAny(t){const e=this;if(!e.eventsListeners||e.destroyed||!e.eventsAnyListeners)return e;const n=e.eventsAnyListeners.indexOf(t);return n>=0&&e.eventsAnyListeners.splice(n,1),e},off(t,e){const n=this;return!n.eventsListeners||n.destroyed||!n.eventsListeners||t.split(" ").forEach(r=>{typeof e>"u"?n.eventsListeners[r]=[]:n.eventsListeners[r]&&n.eventsListeners[r].forEach((i,s)=>{(i===e||i.__emitterProxy&&i.__emitterProxy===e)&&n.eventsListeners[r].splice(s,1)})}),n},emit(){const t=this;if(!t.eventsListeners||t.destroyed||!t.eventsListeners)return t;let e,n,r;for(var i=arguments.length,s=new Array(i),a=0;a<i;a++)s[a]=arguments[a];return typeof s[0]=="string"||Array.isArray(s[0])?(e=s[0],n=s.slice(1,s.length),r=t):(e=s[0].events,n=s[0].data,r=s[0].context||t),n.unshift(r),(Array.isArray(e)?e:e.split(" ")).forEach(u=>{t.eventsAnyListeners&&t.eventsAnyListeners.length&&t.eventsAnyListeners.forEach(f=>{f.apply(r,[u,...n])}),t.eventsListeners&&t.eventsListeners[u]&&t.eventsListeners[u].forEach(f=>{f.apply(r,n)})}),t}};function WQ(){const t=this;let e,n;const r=t.el;typeof t.params.width<"u"&&t.params.width!==null?e=t.params.width:e=r.clientWidth,typeof t.params.height<"u"&&t.params.height!==null?n=t.params.height:n=r.clientHeight,!(e===0&&t.isHorizontal()||n===0&&t.isVertical())&&(e=e-parseInt(uo(r,"padding-left")||0,10)-parseInt(uo(r,"padding-right")||0,10),n=n-parseInt(uo(r,"padding-top")||0,10)-parseInt(uo(r,"padding-bottom")||0,10),Number.isNaN(e)&&(e=0),Number.isNaN(n)&&(n=0),Object.assign(t,{width:e,height:n,size:t.isHorizontal()?e:n}))}function qQ(){const t=this;function e(b,M){return parseFloat(b.getPropertyValue(t.getDirectionLabel(M))||0)}const n=t.params,{wrapperEl:r,slidesEl:i,size:s,rtlTranslate:a,wrongRTL:c}=t,u=t.virtual&&n.virtual.enabled,f=u?t.virtual.slides.length:t.slides.length,h=Ei(i,`.${t.params.slideClass}, swiper-slide`),g=u?t.virtual.slides.length:h.length;let v=[];const x=[],_=[];let T=n.slidesOffsetBefore;typeof T=="function"&&(T=n.slidesOffsetBefore.call(t));let I=n.slidesOffsetAfter;typeof I=="function"&&(I=n.slidesOffsetAfter.call(t));const R=t.snapGrid.length,P=t.slidesGrid.length;let k=n.spaceBetween,j=-T,$=0,B=0;if(typeof s>"u")return;typeof k=="string"&&k.indexOf("%")>=0?k=parseFloat(k.replace("%",""))/100*s:typeof k=="string"&&(k=parseFloat(k)),t.virtualSize=-k,h.forEach(b=>{a?b.style.marginLeft="":b.style.marginRight="",b.style.marginBottom="",b.style.marginTop=""}),n.centeredSlides&&n.cssMode&&(Jh(r,"--swiper-centered-offset-before",""),Jh(r,"--swiper-centered-offset-after",""));const L=n.grid&&n.grid.rows>1&&t.grid;L?t.grid.initSlides(h):t.grid&&t.grid.unsetSlides();let N;const O=n.slidesPerView==="auto"&&n.breakpoints&&Object.keys(n.breakpoints).filter(b=>typeof n.breakpoints[b].slidesPerView<"u").length>0;for(let b=0;b<g;b+=1){N=0;let M;if(h[b]&&(M=h[b]),L&&t.grid.updateSlide(b,M,h),!(h[b]&&uo(M,"display")==="none")){if(n.slidesPerView==="auto"){O&&(h[b].style[t.getDirectionLabel("width")]="");const V=getComputedStyle(M),F=M.style.transform,Q=M.style.webkitTransform;if(F&&(M.style.transform="none"),Q&&(M.style.webkitTransform="none"),n.roundLengths)N=t.isHorizontal()?pw(M,"width"):pw(M,"height");else{const ae=e(V,"width"),re=e(V,"padding-left"),pe=e(V,"padding-right"),ne=e(V,"margin-left"),se=e(V,"margin-right"),le=V.getPropertyValue("box-sizing");if(le&&le==="border-box")N=ae+ne+se;else{const{clientWidth:q,offsetWidth:te}=M;N=ae+re+pe+ne+se+(te-q)}}F&&(M.style.transform=F),Q&&(M.style.webkitTransform=Q),n.roundLengths&&(N=Math.floor(N))}else N=(s-(n.slidesPerView-1)*k)/n.slidesPerView,n.roundLengths&&(N=Math.floor(N)),h[b]&&(h[b].style[t.getDirectionLabel("width")]=`${N}px`);h[b]&&(h[b].swiperSlideSize=N),_.push(N),n.centeredSlides?(j=j+N/2+$/2+k,$===0&&b!==0&&(j=j-s/2-k),b===0&&(j=j-s/2-k),Math.abs(j)<1/1e3&&(j=0),n.roundLengths&&(j=Math.floor(j)),B%n.slidesPerGroup===0&&v.push(j),x.push(j)):(n.roundLengths&&(j=Math.floor(j)),(B-Math.min(t.params.slidesPerGroupSkip,B))%t.params.slidesPerGroup===0&&v.push(j),x.push(j),j=j+N+k),t.virtualSize+=N+k,$=N,B+=1}}if(t.virtualSize=Math.max(t.virtualSize,s)+I,a&&c&&(n.effect==="slide"||n.effect==="coverflow")&&(r.style.width=`${t.virtualSize+k}px`),n.setWrapperSize&&(r.style[t.getDirectionLabel("width")]=`${t.virtualSize+k}px`),L&&t.grid.updateWrapperSize(N,v),!n.centeredSlides){const b=[];for(let M=0;M<v.length;M+=1){let V=v[M];n.roundLengths&&(V=Math.floor(V)),v[M]<=t.virtualSize-s&&b.push(V)}v=b,Math.floor(t.virtualSize-s)-Math.floor(v[v.length-1])>1&&v.push(t.virtualSize-s)}if(u&&n.loop){const b=_[0]+k;if(n.slidesPerGroup>1){const M=Math.ceil((t.virtual.slidesBefore+t.virtual.slidesAfter)/n.slidesPerGroup),V=b*n.slidesPerGroup;for(let F=0;F<M;F+=1)v.push(v[v.length-1]+V)}for(let M=0;M<t.virtual.slidesBefore+t.virtual.slidesAfter;M+=1)n.slidesPerGroup===1&&v.push(v[v.length-1]+b),x.push(x[x.length-1]+b),t.virtualSize+=b}if(v.length===0&&(v=[0]),k!==0){const b=t.isHorizontal()&&a?"marginLeft":t.getDirectionLabel("marginRight");h.filter((M,V)=>!n.cssMode||n.loop?!0:V!==h.length-1).forEach(M=>{M.style[b]=`${k}px`})}if(n.centeredSlides&&n.centeredSlidesBounds){let b=0;_.forEach(V=>{b+=V+(k||0)}),b-=k;const M=b>s?b-s:0;v=v.map(V=>V<=0?-T:V>M?M+I:V)}if(n.centerInsufficientSlides){let b=0;_.forEach(V=>{b+=V+(k||0)}),b-=k;const M=(n.slidesOffsetBefore||0)+(n.slidesOffsetAfter||0);if(b+M<s){const V=(s-b-M)/2;v.forEach((F,Q)=>{v[Q]=F-V}),x.forEach((F,Q)=>{x[Q]=F+V})}}if(Object.assign(t,{slides:h,snapGrid:v,slidesGrid:x,slidesSizesGrid:_}),n.centeredSlides&&n.cssMode&&!n.centeredSlidesBounds){Jh(r,"--swiper-centered-offset-before",`${-v[0]}px`),Jh(r,"--swiper-centered-offset-after",`${t.size/2-_[_.length-1]/2}px`);const b=-t.snapGrid[0],M=-t.slidesGrid[0];t.snapGrid=t.snapGrid.map(V=>V+b),t.slidesGrid=t.slidesGrid.map(V=>V+M)}if(g!==f&&t.emit("slidesLengthChange"),v.length!==R&&(t.params.watchOverflow&&t.checkOverflow(),t.emit("snapGridLengthChange")),x.length!==P&&t.emit("slidesGridLengthChange"),n.watchSlidesProgress&&t.updateSlidesOffset(),t.emit("slidesUpdated"),!u&&!n.cssMode&&(n.effect==="slide"||n.effect==="fade")){const b=`${n.containerModifierClass}backface-hidden`,M=t.el.classList.contains(b);g<=n.maxBackfaceHiddenSlides?M||t.el.classList.add(b):M&&t.el.classList.remove(b)}}function GQ(t){const e=this,n=[],r=e.virtual&&e.params.virtual.enabled;let i=0,s;typeof t=="number"?e.setTransition(t):t===!0&&e.setTransition(e.params.speed);const a=c=>r?e.slides[e.getSlideIndexByData(c)]:e.slides[c];if(e.params.slidesPerView!=="auto"&&e.params.slidesPerView>1)if(e.params.centeredSlides)(e.visibleSlides||[]).forEach(c=>{n.push(c)});else for(s=0;s<Math.ceil(e.params.slidesPerView);s+=1){const c=e.activeIndex+s;if(c>e.slides.length&&!r)break;n.push(a(c))}else n.push(a(e.activeIndex));for(s=0;s<n.length;s+=1)if(typeof n[s]<"u"){const c=n[s].offsetHeight;i=c>i?c:i}(i||i===0)&&(e.wrapperEl.style.height=`${i}px`)}function KQ(){const t=this,e=t.slides,n=t.isElement?t.isHorizontal()?t.wrapperEl.offsetLeft:t.wrapperEl.offsetTop:0;for(let r=0;r<e.length;r+=1)e[r].swiperSlideOffset=(t.isHorizontal()?e[r].offsetLeft:e[r].offsetTop)-n-t.cssOverflowAdjustment()}const b2=(t,e,n)=>{e&&!t.classList.contains(n)?t.classList.add(n):!e&&t.classList.contains(n)&&t.classList.remove(n)};function YQ(t){t===void 0&&(t=this&&this.translate||0);const e=this,n=e.params,{slides:r,rtlTranslate:i,snapGrid:s}=e;if(r.length===0)return;typeof r[0].swiperSlideOffset>"u"&&e.updateSlidesOffset();let a=-t;i&&(a=t),e.visibleSlidesIndexes=[],e.visibleSlides=[];let c=n.spaceBetween;typeof c=="string"&&c.indexOf("%")>=0?c=parseFloat(c.replace("%",""))/100*e.size:typeof c=="string"&&(c=parseFloat(c));for(let u=0;u<r.length;u+=1){const f=r[u];let h=f.swiperSlideOffset;n.cssMode&&n.centeredSlides&&(h-=r[0].swiperSlideOffset);const g=(a+(n.centeredSlides?e.minTranslate():0)-h)/(f.swiperSlideSize+c),v=(a-s[0]+(n.centeredSlides?e.minTranslate():0)-h)/(f.swiperSlideSize+c),x=-(a-h),_=x+e.slidesSizesGrid[u],T=x>=0&&x<=e.size-e.slidesSizesGrid[u],I=x>=0&&x<e.size-1||_>1&&_<=e.size||x<=0&&_>=e.size;I&&(e.visibleSlides.push(f),e.visibleSlidesIndexes.push(u)),b2(f,I,n.slideVisibleClass),b2(f,T,n.slideFullyVisibleClass),f.progress=i?-g:g,f.originalProgress=i?-v:v}}function XQ(t){const e=this;if(typeof t>"u"){const h=e.rtlTranslate?-1:1;t=e&&e.translate&&e.translate*h||0}const n=e.params,r=e.maxTranslate()-e.minTranslate();let{progress:i,isBeginning:s,isEnd:a,progressLoop:c}=e;const u=s,f=a;if(r===0)i=0,s=!0,a=!0;else{i=(t-e.minTranslate())/r;const h=Math.abs(t-e.minTranslate())<1,g=Math.abs(t-e.maxTranslate())<1;s=h||i<=0,a=g||i>=1,h&&(i=0),g&&(i=1)}if(n.loop){const h=e.getSlideIndexByData(0),g=e.getSlideIndexByData(e.slides.length-1),v=e.slidesGrid[h],x=e.slidesGrid[g],_=e.slidesGrid[e.slidesGrid.length-1],T=Math.abs(t);T>=v?c=(T-v)/_:c=(T+_-x)/_,c>1&&(c-=1)}Object.assign(e,{progress:i,progressLoop:c,isBeginning:s,isEnd:a}),(n.watchSlidesProgress||n.centeredSlides&&n.autoHeight)&&e.updateSlidesProgress(t),s&&!u&&e.emit("reachBeginning toEdge"),a&&!f&&e.emit("reachEnd toEdge"),(u&&!s||f&&!a)&&e.emit("fromEdge"),e.emit("progress",i)}const Gy=(t,e,n)=>{e&&!t.classList.contains(n)?t.classList.add(n):!e&&t.classList.contains(n)&&t.classList.remove(n)};function JQ(){const t=this,{slides:e,params:n,slidesEl:r,activeIndex:i}=t,s=t.virtual&&n.virtual.enabled,a=t.grid&&n.grid&&n.grid.rows>1,c=g=>Ei(r,`.${n.slideClass}${g}, swiper-slide${g}`)[0];let u,f,h;if(s)if(n.loop){let g=i-t.virtual.slidesBefore;g<0&&(g=t.virtual.slides.length+g),g>=t.virtual.slides.length&&(g-=t.virtual.slides.length),u=c(`[data-swiper-slide-index="${g}"]`)}else u=c(`[data-swiper-slide-index="${i}"]`);else a?(u=e.find(g=>g.column===i),h=e.find(g=>g.column===i+1),f=e.find(g=>g.column===i-1)):u=e[i];u&&(a||(h=FQ(u,`.${n.slideClass}, swiper-slide`)[0],n.loop&&!h&&(h=e[0]),f=jQ(u,`.${n.slideClass}, swiper-slide`)[0],n.loop&&!f===0&&(f=e[e.length-1]))),e.forEach(g=>{Gy(g,g===u,n.slideActiveClass),Gy(g,g===h,n.slideNextClass),Gy(g,g===f,n.slidePrevClass)}),t.emitSlidesClasses()}const pp=(t,e)=>{if(!t||t.destroyed||!t.params)return;const n=()=>t.isElement?"swiper-slide":`.${t.params.slideClass}`,r=e.closest(n());if(r){let i=r.querySelector(`.${t.params.lazyPreloaderClass}`);!i&&t.isElement&&(r.shadowRoot?i=r.shadowRoot.querySelector(`.${t.params.lazyPreloaderClass}`):requestAnimationFrame(()=>{r.shadowRoot&&(i=r.shadowRoot.querySelector(`.${t.params.lazyPreloaderClass}`),i&&i.remove())})),i&&i.remove()}},Ky=(t,e)=>{if(!t.slides[e])return;const n=t.slides[e].querySelector('[loading="lazy"]');n&&n.removeAttribute("loading")},mw=t=>{if(!t||t.destroyed||!t.params)return;let e=t.params.lazyPreloadPrevNext;const n=t.slides.length;if(!n||!e||e<0)return;e=Math.min(e,n);const r=t.params.slidesPerView==="auto"?t.slidesPerViewDynamic():Math.ceil(t.params.slidesPerView),i=t.activeIndex;if(t.params.grid&&t.params.grid.rows>1){const a=i,c=[a-e];c.push(...Array.from({length:e}).map((u,f)=>a+r+f)),t.slides.forEach((u,f)=>{c.includes(u.column)&&Ky(t,f)});return}const s=i+r-1;if(t.params.rewind||t.params.loop)for(let a=i-e;a<=s+e;a+=1){const c=(a%n+n)%n;(c<i||c>s)&&Ky(t,c)}else for(let a=Math.max(i-e,0);a<=Math.min(s+e,n-1);a+=1)a!==i&&(a>s||a<i)&&Ky(t,a)};function QQ(t){const{slidesGrid:e,params:n}=t,r=t.rtlTranslate?t.translate:-t.translate;let i;for(let s=0;s<e.length;s+=1)typeof e[s+1]<"u"?r>=e[s]&&r<e[s+1]-(e[s+1]-e[s])/2?i=s:r>=e[s]&&r<e[s+1]&&(i=s+1):r>=e[s]&&(i=s);return n.normalizeSlideIndex&&(i<0||typeof i>"u")&&(i=0),i}function ZQ(t){const e=this,n=e.rtlTranslate?e.translate:-e.translate,{snapGrid:r,params:i,activeIndex:s,realIndex:a,snapIndex:c}=e;let u=t,f;const h=x=>{let _=x-e.virtual.slidesBefore;return _<0&&(_=e.virtual.slides.length+_),_>=e.virtual.slides.length&&(_-=e.virtual.slides.length),_};if(typeof u>"u"&&(u=QQ(e)),r.indexOf(n)>=0)f=r.indexOf(n);else{const x=Math.min(i.slidesPerGroupSkip,u);f=x+Math.floor((u-x)/i.slidesPerGroup)}if(f>=r.length&&(f=r.length-1),u===s&&!e.params.loop){f!==c&&(e.snapIndex=f,e.emit("snapIndexChange"));return}if(u===s&&e.params.loop&&e.virtual&&e.params.virtual.enabled){e.realIndex=h(u);return}const g=e.grid&&i.grid&&i.grid.rows>1;let v;if(e.virtual&&i.virtual.enabled&&i.loop)v=h(u);else if(g){const x=e.slides.find(T=>T.column===u);let _=parseInt(x.getAttribute("data-swiper-slide-index"),10);Number.isNaN(_)&&(_=Math.max(e.slides.indexOf(x),0)),v=Math.floor(_/i.grid.rows)}else if(e.slides[u]){const x=e.slides[u].getAttribute("data-swiper-slide-index");x?v=parseInt(x,10):v=u}else v=u;Object.assign(e,{previousSnapIndex:c,snapIndex:f,previousRealIndex:a,realIndex:v,previousIndex:s,activeIndex:u}),e.initialized&&mw(e),e.emit("activeIndexChange"),e.emit("snapIndexChange"),(e.initialized||e.params.runCallbacksOnInit)&&(a!==v&&e.emit("realIndexChange"),e.emit("slideChange"))}function eZ(t,e){const n=this,r=n.params;let i=t.closest(`.${r.slideClass}, swiper-slide`);!i&&n.isElement&&e&&e.length>1&&e.includes(t)&&[...e.slice(e.indexOf(t)+1,e.length)].forEach(c=>{!i&&c.matches&&c.matches(`.${r.slideClass}, swiper-slide`)&&(i=c)});let s=!1,a;if(i){for(let c=0;c<n.slides.length;c+=1)if(n.slides[c]===i){s=!0,a=c;break}}if(i&&s)n.clickedSlide=i,n.virtual&&n.params.virtual.enabled?n.clickedIndex=n.getSlideIndexWhenGrid(parseInt(i.getAttribute("data-swiper-slide-index"),10)):n.clickedIndex=n.getSlideIndexWhenGrid(a);else{n.clickedSlide=void 0,n.clickedIndex=void 0;return}r.slideToClickedSlide&&n.clickedIndex!==void 0&&n.clickedIndex!==n.activeIndex&&n.slideToClickedSlide()}var tZ={updateSize:WQ,updateSlides:qQ,updateAutoHeight:GQ,updateSlidesOffset:KQ,updateSlidesProgress:YQ,updateProgress:XQ,updateSlidesClasses:JQ,updateActiveIndex:ZQ,updateClickedSlide:eZ};function nZ(t){t===void 0&&(t=this.isHorizontal()?"x":"y");const e=this,{params:n,rtlTranslate:r,translate:i,wrapperEl:s}=e;if(n.virtualTranslate)return r?-i:i;if(n.cssMode)return i;let a=OQ(s,t);return a+=e.cssOverflowAdjustment(),r&&(a=-a),a||0}function rZ(t,e){const n=this,{rtlTranslate:r,params:i,wrapperEl:s,progress:a}=n;let c=0,u=0;const f=0;n.isHorizontal()?c=r?-t:t:u=t,i.roundLengths&&(c=Math.floor(c),u=Math.floor(u)),n.previousTranslate=n.translate,n.translate=n.isHorizontal()?c:u,i.cssMode?s[n.isHorizontal()?"scrollLeft":"scrollTop"]=n.isHorizontal()?-c:-u:i.virtualTranslate||(n.isHorizontal()?c-=n.cssOverflowAdjustment():u-=n.cssOverflowAdjustment(),s.style.transform=`translate3d(${c}px, ${u}px, ${f}px)`);let h;const g=n.maxTranslate()-n.minTranslate();g===0?h=0:h=(t-n.minTranslate())/g,h!==a&&n.updateProgress(t),n.emit("setTranslate",n.translate,e)}function iZ(){return-this.snapGrid[0]}function sZ(){return-this.snapGrid[this.snapGrid.length-1]}function oZ(t,e,n,r,i){t===void 0&&(t=0),e===void 0&&(e=this.params.speed),n===void 0&&(n=!0),r===void 0&&(r=!0);const s=this,{params:a,wrapperEl:c}=s;if(s.animating&&a.preventInteractionOnTransition)return!1;const u=s.minTranslate(),f=s.maxTranslate();let h;if(r&&t>u?h=u:r&&t<f?h=f:h=t,s.updateProgress(h),a.cssMode){const g=s.isHorizontal();if(e===0)c[g?"scrollLeft":"scrollTop"]=-h;else{if(!s.support.smoothScroll)return tO({swiper:s,targetPosition:-h,side:g?"left":"top"}),!0;c.scrollTo({[g?"left":"top"]:-h,behavior:"smooth"})}return!0}return e===0?(s.setTransition(0),s.setTranslate(h),n&&(s.emit("beforeTransitionStart",e,i),s.emit("transitionEnd"))):(s.setTransition(e),s.setTranslate(h),n&&(s.emit("beforeTransitionStart",e,i),s.emit("transitionStart")),s.animating||(s.animating=!0,s.onTranslateToWrapperTransitionEnd||(s.onTranslateToWrapperTransitionEnd=function(v){!s||s.destroyed||v.target===this&&(s.wrapperEl.removeEventListener("transitionend",s.onTranslateToWrapperTransitionEnd),s.onTranslateToWrapperTransitionEnd=null,delete s.onTranslateToWrapperTransitionEnd,s.animating=!1,n&&s.emit("transitionEnd"))}),s.wrapperEl.addEventListener("transitionend",s.onTranslateToWrapperTransitionEnd))),!0}var aZ={getTranslate:nZ,setTranslate:rZ,minTranslate:iZ,maxTranslate:sZ,translateTo:oZ};function lZ(t,e){const n=this;n.params.cssMode||(n.wrapperEl.style.transitionDuration=`${t}ms`,n.wrapperEl.style.transitionDelay=t===0?"0ms":""),n.emit("setTransition",t,e)}function oO(t){let{swiper:e,runCallbacks:n,direction:r,step:i}=t;const{activeIndex:s,previousIndex:a}=e;let c=r;c||(s>a?c="next":s<a?c="prev":c="reset"),e.emit(`transition${i}`),n&&c==="reset"?e.emit(`slideResetTransition${i}`):n&&s!==a&&(e.emit(`slideChangeTransition${i}`),c==="next"?e.emit(`slideNextTransition${i}`):e.emit(`slidePrevTransition${i}`))}function cZ(t,e){t===void 0&&(t=!0);const n=this,{params:r}=n;r.cssMode||(r.autoHeight&&n.updateAutoHeight(),oO({swiper:n,runCallbacks:t,direction:e,step:"Start"}))}function uZ(t,e){t===void 0&&(t=!0);const n=this,{params:r}=n;n.animating=!1,!r.cssMode&&(n.setTransition(0),oO({swiper:n,runCallbacks:t,direction:e,step:"End"}))}var dZ={setTransition:lZ,transitionStart:cZ,transitionEnd:uZ};function fZ(t,e,n,r,i){t===void 0&&(t=0),n===void 0&&(n=!0),typeof t=="string"&&(t=parseInt(t,10));const s=this;let a=t;a<0&&(a=0);const{params:c,snapGrid:u,slidesGrid:f,previousIndex:h,activeIndex:g,rtlTranslate:v,wrapperEl:x,enabled:_}=s;if(!_&&!r&&!i||s.destroyed||s.animating&&c.preventInteractionOnTransition)return!1;typeof e>"u"&&(e=s.params.speed);const T=Math.min(s.params.slidesPerGroupSkip,a);let I=T+Math.floor((a-T)/s.params.slidesPerGroup);I>=u.length&&(I=u.length-1);const R=-u[I];if(c.normalizeSlideIndex)for(let L=0;L<f.length;L+=1){const N=-Math.floor(R*100),O=Math.floor(f[L]*100),b=Math.floor(f[L+1]*100);typeof f[L+1]<"u"?N>=O&&N<b-(b-O)/2?a=L:N>=O&&N<b&&(a=L+1):N>=O&&(a=L)}if(s.initialized&&a!==g&&(!s.allowSlideNext&&(v?R>s.translate&&R>s.minTranslate():R<s.translate&&R<s.minTranslate())||!s.allowSlidePrev&&R>s.translate&&R>s.maxTranslate()&&(g||0)!==a))return!1;a!==(h||0)&&n&&s.emit("beforeSlideChangeStart"),s.updateProgress(R);let P;a>g?P="next":a<g?P="prev":P="reset";const k=s.virtual&&s.params.virtual.enabled;if(!(k&&i)&&(v&&-R===s.translate||!v&&R===s.translate))return s.updateActiveIndex(a),c.autoHeight&&s.updateAutoHeight(),s.updateSlidesClasses(),c.effect!=="slide"&&s.setTranslate(R),P!=="reset"&&(s.transitionStart(n,P),s.transitionEnd(n,P)),!1;if(c.cssMode){const L=s.isHorizontal(),N=v?R:-R;if(e===0)k&&(s.wrapperEl.style.scrollSnapType="none",s._immediateVirtual=!0),k&&!s._cssModeVirtualInitialSet&&s.params.initialSlide>0?(s._cssModeVirtualInitialSet=!0,requestAnimationFrame(()=>{x[L?"scrollLeft":"scrollTop"]=N})):x[L?"scrollLeft":"scrollTop"]=N,k&&requestAnimationFrame(()=>{s.wrapperEl.style.scrollSnapType="",s._immediateVirtual=!1});else{if(!s.support.smoothScroll)return tO({swiper:s,targetPosition:N,side:L?"left":"top"}),!0;x.scrollTo({[L?"left":"top"]:N,behavior:"smooth"})}return!0}const B=sO().isSafari;return k&&!i&&B&&s.isElement&&s.virtual.update(!1,!1,a),s.setTransition(e),s.setTranslate(R),s.updateActiveIndex(a),s.updateSlidesClasses(),s.emit("beforeTransitionStart",e,r),s.transitionStart(n,P),e===0?s.transitionEnd(n,P):s.animating||(s.animating=!0,s.onSlideToWrapperTransitionEnd||(s.onSlideToWrapperTransitionEnd=function(N){!s||s.destroyed||N.target===this&&(s.wrapperEl.removeEventListener("transitionend",s.onSlideToWrapperTransitionEnd),s.onSlideToWrapperTransitionEnd=null,delete s.onSlideToWrapperTransitionEnd,s.transitionEnd(n,P))}),s.wrapperEl.addEventListener("transitionend",s.onSlideToWrapperTransitionEnd)),!0}function hZ(t,e,n,r){t===void 0&&(t=0),n===void 0&&(n=!0),typeof t=="string"&&(t=parseInt(t,10));const i=this;if(i.destroyed)return;typeof e>"u"&&(e=i.params.speed);const s=i.grid&&i.params.grid&&i.params.grid.rows>1;let a=t;if(i.params.loop)if(i.virtual&&i.params.virtual.enabled)a=a+i.virtual.slidesBefore;else{let c;if(s){const v=a*i.params.grid.rows;c=i.slides.find(x=>x.getAttribute("data-swiper-slide-index")*1===v).column}else c=i.getSlideIndexByData(a);const u=s?Math.ceil(i.slides.length/i.params.grid.rows):i.slides.length,{centeredSlides:f}=i.params;let h=i.params.slidesPerView;h==="auto"?h=i.slidesPerViewDynamic():(h=Math.ceil(parseFloat(i.params.slidesPerView,10)),f&&h%2===0&&(h=h+1));let g=u-c<h;if(f&&(g=g||c<Math.ceil(h/2)),r&&f&&i.params.slidesPerView!=="auto"&&!s&&(g=!1),g){const v=f?c<i.activeIndex?"prev":"next":c-i.activeIndex-1<i.params.slidesPerView?"next":"prev";i.loopFix({direction:v,slideTo:!0,activeSlideIndex:v==="next"?c+1:c-u+1,slideRealIndex:v==="next"?i.realIndex:void 0})}if(s){const v=a*i.params.grid.rows;a=i.slides.find(x=>x.getAttribute("data-swiper-slide-index")*1===v).column}else a=i.getSlideIndexByData(a)}return requestAnimationFrame(()=>{i.slideTo(a,e,n,r)}),i}function pZ(t,e,n){e===void 0&&(e=!0);const r=this,{enabled:i,params:s,animating:a}=r;if(!i||r.destroyed)return r;typeof t>"u"&&(t=r.params.speed);let c=s.slidesPerGroup;s.slidesPerView==="auto"&&s.slidesPerGroup===1&&s.slidesPerGroupAuto&&(c=Math.max(r.slidesPerViewDynamic("current",!0),1));const u=r.activeIndex<s.slidesPerGroupSkip?1:c,f=r.virtual&&s.virtual.enabled;if(s.loop){if(a&&!f&&s.loopPreventsSliding)return!1;if(r.loopFix({direction:"next"}),r._clientLeft=r.wrapperEl.clientLeft,r.activeIndex===r.slides.length-1&&s.cssMode)return requestAnimationFrame(()=>{r.slideTo(r.activeIndex+u,t,e,n)}),!0}return s.rewind&&r.isEnd?r.slideTo(0,t,e,n):r.slideTo(r.activeIndex+u,t,e,n)}function mZ(t,e,n){e===void 0&&(e=!0);const r=this,{params:i,snapGrid:s,slidesGrid:a,rtlTranslate:c,enabled:u,animating:f}=r;if(!u||r.destroyed)return r;typeof t>"u"&&(t=r.params.speed);const h=r.virtual&&i.virtual.enabled;if(i.loop){if(f&&!h&&i.loopPreventsSliding)return!1;r.loopFix({direction:"prev"}),r._clientLeft=r.wrapperEl.clientLeft}const g=c?r.translate:-r.translate;function v(P){return P<0?-Math.floor(Math.abs(P)):Math.floor(P)}const x=v(g),_=s.map(P=>v(P)),T=i.freeMode&&i.freeMode.enabled;let I=s[_.indexOf(x)-1];if(typeof I>"u"&&(i.cssMode||T)){let P;s.forEach((k,j)=>{x>=k&&(P=j)}),typeof P<"u"&&(I=T?s[P]:s[P>0?P-1:P])}let R=0;if(typeof I<"u"&&(R=a.indexOf(I),R<0&&(R=r.activeIndex-1),i.slidesPerView==="auto"&&i.slidesPerGroup===1&&i.slidesPerGroupAuto&&(R=R-r.slidesPerViewDynamic("previous",!0)+1,R=Math.max(R,0))),i.rewind&&r.isBeginning){const P=r.params.virtual&&r.params.virtual.enabled&&r.virtual?r.virtual.slides.length-1:r.slides.length-1;return r.slideTo(P,t,e,n)}else if(i.loop&&r.activeIndex===0&&i.cssMode)return requestAnimationFrame(()=>{r.slideTo(R,t,e,n)}),!0;return r.slideTo(R,t,e,n)}function gZ(t,e,n){e===void 0&&(e=!0);const r=this;if(!r.destroyed)return typeof t>"u"&&(t=r.params.speed),r.slideTo(r.activeIndex,t,e,n)}function vZ(t,e,n,r){e===void 0&&(e=!0),r===void 0&&(r=.5);const i=this;if(i.destroyed)return;typeof t>"u"&&(t=i.params.speed);let s=i.activeIndex;const a=Math.min(i.params.slidesPerGroupSkip,s),c=a+Math.floor((s-a)/i.params.slidesPerGroup),u=i.rtlTranslate?i.translate:-i.translate;if(u>=i.snapGrid[c]){const f=i.snapGrid[c],h=i.snapGrid[c+1];u-f>(h-f)*r&&(s+=i.params.slidesPerGroup)}else{const f=i.snapGrid[c-1],h=i.snapGrid[c];u-f<=(h-f)*r&&(s-=i.params.slidesPerGroup)}return s=Math.max(s,0),s=Math.min(s,i.slidesGrid.length-1),i.slideTo(s,t,e,n)}function yZ(){const t=this;if(t.destroyed)return;const{params:e,slidesEl:n}=t,r=e.slidesPerView==="auto"?t.slidesPerViewDynamic():e.slidesPerView;let i=t.clickedIndex,s;const a=t.isElement?"swiper-slide":`.${e.slideClass}`,c=t.grid&&t.params.grid&&t.params.grid.rows>1;if(e.loop){if(t.animating)return;s=parseInt(t.clickedSlide.getAttribute("data-swiper-slide-index"),10),e.centeredSlides?t.slideToLoop(s):(i>c?(t.slides.length-r)/2-(t.params.grid.rows-1):t.slides.length-r)?(t.loopFix(),i=t.getSlideIndex(Ei(n,`${a}[data-swiper-slide-index="${s}"]`)[0]),eO(()=>{t.slideTo(i)})):t.slideTo(i)}else t.slideTo(i)}var wZ={slideTo:fZ,slideToLoop:hZ,slideNext:pZ,slidePrev:mZ,slideReset:gZ,slideToClosest:vZ,slideToClickedSlide:yZ};function _Z(t,e){const n=this,{params:r,slidesEl:i}=n;if(!r.loop||n.virtual&&n.params.virtual.enabled)return;const s=()=>{Ei(i,`.${r.slideClass}, swiper-slide`).forEach((x,_)=>{x.setAttribute("data-swiper-slide-index",_)})},a=()=>{const v=Ei(i,`.${r.slideBlankClass}`);v.forEach(x=>{x.remove()}),v.length>0&&(n.recalcSlides(),n.updateSlides())},c=n.grid&&r.grid&&r.grid.rows>1;r.loopAddBlankSlides&&(r.slidesPerGroup>1||c)&&a();const u=r.slidesPerGroup*(c?r.grid.rows:1),f=n.slides.length%u!==0,h=c&&n.slides.length%r.grid.rows!==0,g=v=>{for(let x=0;x<v;x+=1){const _=n.isElement?om("swiper-slide",[r.slideBlankClass]):om("div",[r.slideClass,r.slideBlankClass]);n.slidesEl.append(_)}};if(f){if(r.loopAddBlankSlides){const v=u-n.slides.length%u;g(v),n.recalcSlides(),n.updateSlides()}else sm("Swiper Loop Warning: The number of slides is not even to slidesPerGroup, loop mode may not function properly. You need to add more slides (or make duplicates, or empty slides)");s()}else if(h){if(r.loopAddBlankSlides){const v=r.grid.rows-n.slides.length%r.grid.rows;g(v),n.recalcSlides(),n.updateSlides()}else sm("Swiper Loop Warning: The number of slides is not even to grid.rows, loop mode may not function properly. You need to add more slides (or make duplicates, or empty slides)");s()}else s();n.loopFix({slideRealIndex:t,direction:r.centeredSlides?void 0:"next",initial:e})}function xZ(t){let{slideRealIndex:e,slideTo:n=!0,direction:r,setTranslate:i,activeSlideIndex:s,initial:a,byController:c,byMousewheel:u}=t===void 0?{}:t;const f=this;if(!f.params.loop)return;f.emit("beforeLoopFix");const{slides:h,allowSlidePrev:g,allowSlideNext:v,slidesEl:x,params:_}=f,{centeredSlides:T,initialSlide:I}=_;if(f.allowSlidePrev=!0,f.allowSlideNext=!0,f.virtual&&_.virtual.enabled){n&&(!_.centeredSlides&&f.snapIndex===0?f.slideTo(f.virtual.slides.length,0,!1,!0):_.centeredSlides&&f.snapIndex<_.slidesPerView?f.slideTo(f.virtual.slides.length+f.snapIndex,0,!1,!0):f.snapIndex===f.snapGrid.length-1&&f.slideTo(f.virtual.slidesBefore,0,!1,!0)),f.allowSlidePrev=g,f.allowSlideNext=v,f.emit("loopFix");return}let R=_.slidesPerView;R==="auto"?R=f.slidesPerViewDynamic():(R=Math.ceil(parseFloat(_.slidesPerView,10)),T&&R%2===0&&(R=R+1));const P=_.slidesPerGroupAuto?R:_.slidesPerGroup;let k=T?Math.max(P,Math.ceil(R/2)):P;k%P!==0&&(k+=P-k%P),k+=_.loopAdditionalSlides,f.loopedSlides=k;const j=f.grid&&_.grid&&_.grid.rows>1;h.length<R+k||f.params.effect==="cards"&&h.length<R+k*2?sm("Swiper Loop Warning: The number of slides is not enough for loop mode, it will be disabled or not function properly. You need to add more slides (or make duplicates) or lower the values of slidesPerView and slidesPerGroup parameters"):j&&_.grid.fill==="row"&&sm("Swiper Loop Warning: Loop mode is not compatible with grid.fill = `row`");const $=[],B=[],L=j?Math.ceil(h.length/_.grid.rows):h.length,N=a&&L-I<R&&!T;let O=N?I:f.activeIndex;typeof s>"u"?s=f.getSlideIndex(h.find(re=>re.classList.contains(_.slideActiveClass))):O=s;const b=r==="next"||!r,M=r==="prev"||!r;let V=0,F=0;const ae=(j?h[s].column:s)+(T&&typeof i>"u"?-R/2+.5:0);if(ae<k){V=Math.max(k-ae,P);for(let re=0;re<k-ae;re+=1){const pe=re-Math.floor(re/L)*L;if(j){const ne=L-pe-1;for(let se=h.length-1;se>=0;se-=1)h[se].column===ne&&$.push(se)}else $.push(L-pe-1)}}else if(ae+R>L-k){F=Math.max(ae-(L-k*2),P),N&&(F=Math.max(F,R-L+I+1));for(let re=0;re<F;re+=1){const pe=re-Math.floor(re/L)*L;j?h.forEach((ne,se)=>{ne.column===pe&&B.push(se)}):B.push(pe)}}if(f.__preventObserver__=!0,requestAnimationFrame(()=>{f.__preventObserver__=!1}),f.params.effect==="cards"&&h.length<R+k*2&&(B.includes(s)&&B.splice(B.indexOf(s),1),$.includes(s)&&$.splice($.indexOf(s),1)),M&&$.forEach(re=>{h[re].swiperLoopMoveDOM=!0,x.prepend(h[re]),h[re].swiperLoopMoveDOM=!1}),b&&B.forEach(re=>{h[re].swiperLoopMoveDOM=!0,x.append(h[re]),h[re].swiperLoopMoveDOM=!1}),f.recalcSlides(),_.slidesPerView==="auto"?f.updateSlides():j&&($.length>0&&M||B.length>0&&b)&&f.slides.forEach((re,pe)=>{f.grid.updateSlide(pe,re,f.slides)}),_.watchSlidesProgress&&f.updateSlidesOffset(),n){if($.length>0&&M){if(typeof e>"u"){const re=f.slidesGrid[O],ne=f.slidesGrid[O+V]-re;u?f.setTranslate(f.translate-ne):(f.slideTo(O+Math.ceil(V),0,!1,!0),i&&(f.touchEventsData.startTranslate=f.touchEventsData.startTranslate-ne,f.touchEventsData.currentTranslate=f.touchEventsData.currentTranslate-ne))}else if(i){const re=j?$.length/_.grid.rows:$.length;f.slideTo(f.activeIndex+re,0,!1,!0),f.touchEventsData.currentTranslate=f.translate}}else if(B.length>0&&b)if(typeof e>"u"){const re=f.slidesGrid[O],ne=f.slidesGrid[O-F]-re;u?f.setTranslate(f.translate-ne):(f.slideTo(O-F,0,!1,!0),i&&(f.touchEventsData.startTranslate=f.touchEventsData.startTranslate-ne,f.touchEventsData.currentTranslate=f.touchEventsData.currentTranslate-ne))}else{const re=j?B.length/_.grid.rows:B.length;f.slideTo(f.activeIndex-re,0,!1,!0)}}if(f.allowSlidePrev=g,f.allowSlideNext=v,f.controller&&f.controller.control&&!c){const re={slideRealIndex:e,direction:r,setTranslate:i,activeSlideIndex:s,byController:!0};Array.isArray(f.controller.control)?f.controller.control.forEach(pe=>{!pe.destroyed&&pe.params.loop&&pe.loopFix({...re,slideTo:pe.params.slidesPerView===_.slidesPerView?n:!1})}):f.controller.control instanceof f.constructor&&f.controller.control.params.loop&&f.controller.control.loopFix({...re,slideTo:f.controller.control.params.slidesPerView===_.slidesPerView?n:!1})}f.emit("loopFix")}function bZ(){const t=this,{params:e,slidesEl:n}=t;if(!e.loop||!n||t.virtual&&t.params.virtual.enabled)return;t.recalcSlides();const r=[];t.slides.forEach(i=>{const s=typeof i.swiperSlideIndex>"u"?i.getAttribute("data-swiper-slide-index")*1:i.swiperSlideIndex;r[s]=i}),t.slides.forEach(i=>{i.removeAttribute("data-swiper-slide-index")}),r.forEach(i=>{n.append(i)}),t.recalcSlides(),t.slideTo(t.realIndex,0)}var EZ={loopCreate:_Z,loopFix:xZ,loopDestroy:bZ};function SZ(t){const e=this;if(!e.params.simulateTouch||e.params.watchOverflow&&e.isLocked||e.params.cssMode)return;const n=e.params.touchEventsTarget==="container"?e.el:e.wrapperEl;e.isElement&&(e.__preventObserver__=!0),n.style.cursor="move",n.style.cursor=t?"grabbing":"grab",e.isElement&&requestAnimationFrame(()=>{e.__preventObserver__=!1})}function CZ(){const t=this;t.params.watchOverflow&&t.isLocked||t.params.cssMode||(t.isElement&&(t.__preventObserver__=!0),t[t.params.touchEventsTarget==="container"?"el":"wrapperEl"].style.cursor="",t.isElement&&requestAnimationFrame(()=>{t.__preventObserver__=!1}))}var TZ={setGrabCursor:SZ,unsetGrabCursor:CZ};function kZ(t,e){e===void 0&&(e=this);function n(r){if(!r||r===$a()||r===Rn())return null;r.assignedSlot&&(r=r.assignedSlot);const i=r.closest(t);return!i&&!r.getRootNode?null:i||n(r.getRootNode().host)}return n(e)}function E2(t,e,n){const r=Rn(),{params:i}=t,s=i.edgeSwipeDetection,a=i.edgeSwipeThreshold;return s&&(n<=a||n>=r.innerWidth-a)?s==="prevent"?(e.preventDefault(),!0):!1:!0}function PZ(t){const e=this,n=$a();let r=t;r.originalEvent&&(r=r.originalEvent);const i=e.touchEventsData;if(r.type==="pointerdown"){if(i.pointerId!==null&&i.pointerId!==r.pointerId)return;i.pointerId=r.pointerId}else r.type==="touchstart"&&r.targetTouches.length===1&&(i.touchId=r.targetTouches[0].identifier);if(r.type==="touchstart"){E2(e,r,r.targetTouches[0].pageX);return}const{params:s,touches:a,enabled:c}=e;if(!c||!s.simulateTouch&&r.pointerType==="mouse"||e.animating&&s.preventInteractionOnTransition)return;!e.animating&&s.cssMode&&s.loop&&e.loopFix();let u=r.target;if(s.touchEventsTarget==="wrapper"&&!LQ(u,e.wrapperEl)||"which"in r&&r.which===3||"button"in r&&r.button>0||i.isTouched&&i.isMoved)return;const f=!!s.noSwipingClass&&s.noSwipingClass!=="",h=r.composedPath?r.composedPath():r.path;f&&r.target&&r.target.shadowRoot&&h&&(u=h[0]);const g=s.noSwipingSelector?s.noSwipingSelector:`.${s.noSwipingClass}`,v=!!(r.target&&r.target.shadowRoot);if(s.noSwiping&&(v?kZ(g,u):u.closest(g))){e.allowClick=!0;return}if(s.swipeHandler&&!u.closest(s.swipeHandler))return;a.currentX=r.pageX,a.currentY=r.pageY;const x=a.currentX,_=a.currentY;if(!E2(e,r,x))return;Object.assign(i,{isTouched:!0,isMoved:!1,allowTouchCallbacks:!0,isScrolling:void 0,startMoving:void 0}),a.startX=x,a.startY=_,i.touchStartTime=im(),e.allowClick=!0,e.updateSize(),e.swipeDirection=void 0,s.threshold>0&&(i.allowThresholdMove=!1);let T=!0;u.matches(i.focusableElements)&&(T=!1,u.nodeName==="SELECT"&&(i.isTouched=!1)),n.activeElement&&n.activeElement.matches(i.focusableElements)&&n.activeElement!==u&&(r.pointerType==="mouse"||r.pointerType!=="mouse"&&!u.matches(i.focusableElements))&&n.activeElement.blur();const I=T&&e.allowTouchMove&&s.touchStartPreventDefault;(s.touchStartForcePreventDefault||I)&&!u.isContentEditable&&r.preventDefault(),s.freeMode&&s.freeMode.enabled&&e.freeMode&&e.animating&&!s.cssMode&&e.freeMode.onTouchStart(),e.emit("touchStart",r)}function IZ(t){const e=$a(),n=this,r=n.touchEventsData,{params:i,touches:s,rtlTranslate:a,enabled:c}=n;if(!c||!i.simulateTouch&&t.pointerType==="mouse")return;let u=t;if(u.originalEvent&&(u=u.originalEvent),u.type==="pointermove"&&(r.touchId!==null||u.pointerId!==r.pointerId))return;let f;if(u.type==="touchmove"){if(f=[...u.changedTouches].find($=>$.identifier===r.touchId),!f||f.identifier!==r.touchId)return}else f=u;if(!r.isTouched){r.startMoving&&r.isScrolling&&n.emit("touchMoveOpposite",u);return}const h=f.pageX,g=f.pageY;if(u.preventedByNestedSwiper){s.startX=h,s.startY=g;return}if(!n.allowTouchMove){u.target.matches(r.focusableElements)||(n.allowClick=!1),r.isTouched&&(Object.assign(s,{startX:h,startY:g,currentX:h,currentY:g}),r.touchStartTime=im());return}if(i.touchReleaseOnEdges&&!i.loop)if(n.isVertical()){if(g<s.startY&&n.translate<=n.maxTranslate()||g>s.startY&&n.translate>=n.minTranslate()){r.isTouched=!1,r.isMoved=!1;return}}else{if(a&&(h>s.startX&&-n.translate<=n.maxTranslate()||h<s.startX&&-n.translate>=n.minTranslate()))return;if(!a&&(h<s.startX&&n.translate<=n.maxTranslate()||h>s.startX&&n.translate>=n.minTranslate()))return}if(e.activeElement&&e.activeElement.matches(r.focusableElements)&&e.activeElement!==u.target&&u.pointerType!=="mouse"&&e.activeElement.blur(),e.activeElement&&u.target===e.activeElement&&u.target.matches(r.focusableElements)){r.isMoved=!0,n.allowClick=!1;return}r.allowTouchCallbacks&&n.emit("touchMove",u),s.previousX=s.currentX,s.previousY=s.currentY,s.currentX=h,s.currentY=g;const v=s.currentX-s.startX,x=s.currentY-s.startY;if(n.params.threshold&&Math.sqrt(v**2+x**2)<n.params.threshold)return;if(typeof r.isScrolling>"u"){let $;n.isHorizontal()&&s.currentY===s.startY||n.isVertical()&&s.currentX===s.startX?r.isScrolling=!1:v*v+x*x>=25&&($=Math.atan2(Math.abs(x),Math.abs(v))*180/Math.PI,r.isScrolling=n.isHorizontal()?$>i.touchAngle:90-$>i.touchAngle)}if(r.isScrolling&&n.emit("touchMoveOpposite",u),typeof r.startMoving>"u"&&(s.currentX!==s.startX||s.currentY!==s.startY)&&(r.startMoving=!0),r.isScrolling||u.type==="touchmove"&&r.preventTouchMoveFromPointerMove){r.isTouched=!1;return}if(!r.startMoving)return;n.allowClick=!1,!i.cssMode&&u.cancelable&&u.preventDefault(),i.touchMoveStopPropagation&&!i.nested&&u.stopPropagation();let _=n.isHorizontal()?v:x,T=n.isHorizontal()?s.currentX-s.previousX:s.currentY-s.previousY;i.oneWayMovement&&(_=Math.abs(_)*(a?1:-1),T=Math.abs(T)*(a?1:-1)),s.diff=_,_*=i.touchRatio,a&&(_=-_,T=-T);const I=n.touchesDirection;n.swipeDirection=_>0?"prev":"next",n.touchesDirection=T>0?"prev":"next";const R=n.params.loop&&!i.cssMode,P=n.touchesDirection==="next"&&n.allowSlideNext||n.touchesDirection==="prev"&&n.allowSlidePrev;if(!r.isMoved){if(R&&P&&n.loopFix({direction:n.swipeDirection}),r.startTranslate=n.getTranslate(),n.setTransition(0),n.animating){const $=new window.CustomEvent("transitionend",{bubbles:!0,cancelable:!0,detail:{bySwiperTouchMove:!0}});n.wrapperEl.dispatchEvent($)}r.allowMomentumBounce=!1,i.grabCursor&&(n.allowSlideNext===!0||n.allowSlidePrev===!0)&&n.setGrabCursor(!0),n.emit("sliderFirstMove",u)}if(new Date().getTime(),i._loopSwapReset!==!1&&r.isMoved&&r.allowThresholdMove&&I!==n.touchesDirection&&R&&P&&Math.abs(_)>=1){Object.assign(s,{startX:h,startY:g,currentX:h,currentY:g,startTranslate:r.currentTranslate}),r.loopSwapReset=!0,r.startTranslate=r.currentTranslate;return}n.emit("sliderMove",u),r.isMoved=!0,r.currentTranslate=_+r.startTranslate;let k=!0,j=i.resistanceRatio;if(i.touchReleaseOnEdges&&(j=0),_>0?(R&&P&&r.allowThresholdMove&&r.currentTranslate>(i.centeredSlides?n.minTranslate()-n.slidesSizesGrid[n.activeIndex+1]-(i.slidesPerView!=="auto"&&n.slides.length-i.slidesPerView>=2?n.slidesSizesGrid[n.activeIndex+1]+n.params.spaceBetween:0)-n.params.spaceBetween:n.minTranslate())&&n.loopFix({direction:"prev",setTranslate:!0,activeSlideIndex:0}),r.currentTranslate>n.minTranslate()&&(k=!1,i.resistance&&(r.currentTranslate=n.minTranslate()-1+(-n.minTranslate()+r.startTranslate+_)**j))):_<0&&(R&&P&&r.allowThresholdMove&&r.currentTranslate<(i.centeredSlides?n.maxTranslate()+n.slidesSizesGrid[n.slidesSizesGrid.length-1]+n.params.spaceBetween+(i.slidesPerView!=="auto"&&n.slides.length-i.slidesPerView>=2?n.slidesSizesGrid[n.slidesSizesGrid.length-1]+n.params.spaceBetween:0):n.maxTranslate())&&n.loopFix({direction:"next",setTranslate:!0,activeSlideIndex:n.slides.length-(i.slidesPerView==="auto"?n.slidesPerViewDynamic():Math.ceil(parseFloat(i.slidesPerView,10)))}),r.currentTranslate<n.maxTranslate()&&(k=!1,i.resistance&&(r.currentTranslate=n.maxTranslate()+1-(n.maxTranslate()-r.startTranslate-_)**j))),k&&(u.preventedByNestedSwiper=!0),!n.allowSlideNext&&n.swipeDirection==="next"&&r.currentTranslate<r.startTranslate&&(r.currentTranslate=r.startTranslate),!n.allowSlidePrev&&n.swipeDirection==="prev"&&r.currentTranslate>r.startTranslate&&(r.currentTranslate=r.startTranslate),!n.allowSlidePrev&&!n.allowSlideNext&&(r.currentTranslate=r.startTranslate),i.threshold>0)if(Math.abs(_)>i.threshold||r.allowThresholdMove){if(!r.allowThresholdMove){r.allowThresholdMove=!0,s.startX=s.currentX,s.startY=s.currentY,r.currentTranslate=r.startTranslate,s.diff=n.isHorizontal()?s.currentX-s.startX:s.currentY-s.startY;return}}else{r.currentTranslate=r.startTranslate;return}!i.followFinger||i.cssMode||((i.freeMode&&i.freeMode.enabled&&n.freeMode||i.watchSlidesProgress)&&(n.updateActiveIndex(),n.updateSlidesClasses()),i.freeMode&&i.freeMode.enabled&&n.freeMode&&n.freeMode.onTouchMove(),n.updateProgress(r.currentTranslate),n.setTranslate(r.currentTranslate))}function AZ(t){const e=this,n=e.touchEventsData;let r=t;r.originalEvent&&(r=r.originalEvent);let i;if(r.type==="touchend"||r.type==="touchcancel"){if(i=[...r.changedTouches].find($=>$.identifier===n.touchId),!i||i.identifier!==n.touchId)return}else{if(n.touchId!==null||r.pointerId!==n.pointerId)return;i=r}if(["pointercancel","pointerout","pointerleave","contextmenu"].includes(r.type)&&!(["pointercancel","contextmenu"].includes(r.type)&&(e.browser.isSafari||e.browser.isWebView)))return;n.pointerId=null,n.touchId=null;const{params:a,touches:c,rtlTranslate:u,slidesGrid:f,enabled:h}=e;if(!h||!a.simulateTouch&&r.pointerType==="mouse")return;if(n.allowTouchCallbacks&&e.emit("touchEnd",r),n.allowTouchCallbacks=!1,!n.isTouched){n.isMoved&&a.grabCursor&&e.setGrabCursor(!1),n.isMoved=!1,n.startMoving=!1;return}a.grabCursor&&n.isMoved&&n.isTouched&&(e.allowSlideNext===!0||e.allowSlidePrev===!0)&&e.setGrabCursor(!1);const g=im(),v=g-n.touchStartTime;if(e.allowClick){const $=r.path||r.composedPath&&r.composedPath();e.updateClickedSlide($&&$[0]||r.target,$),e.emit("tap click",r),v<300&&g-n.lastClickTime<300&&e.emit("doubleTap doubleClick",r)}if(n.lastClickTime=im(),eO(()=>{e.destroyed||(e.allowClick=!0)}),!n.isTouched||!n.isMoved||!e.swipeDirection||c.diff===0&&!n.loopSwapReset||n.currentTranslate===n.startTranslate&&!n.loopSwapReset){n.isTouched=!1,n.isMoved=!1,n.startMoving=!1;return}n.isTouched=!1,n.isMoved=!1,n.startMoving=!1;let x;if(a.followFinger?x=u?e.translate:-e.translate:x=-n.currentTranslate,a.cssMode)return;if(a.freeMode&&a.freeMode.enabled){e.freeMode.onTouchEnd({currentPos:x});return}const _=x>=-e.maxTranslate()&&!e.params.loop;let T=0,I=e.slidesSizesGrid[0];for(let $=0;$<f.length;$+=$<a.slidesPerGroupSkip?1:a.slidesPerGroup){const B=$<a.slidesPerGroupSkip-1?1:a.slidesPerGroup;typeof f[$+B]<"u"?(_||x>=f[$]&&x<f[$+B])&&(T=$,I=f[$+B]-f[$]):(_||x>=f[$])&&(T=$,I=f[f.length-1]-f[f.length-2])}let R=null,P=null;a.rewind&&(e.isBeginning?P=a.virtual&&a.virtual.enabled&&e.virtual?e.virtual.slides.length-1:e.slides.length-1:e.isEnd&&(R=0));const k=(x-f[T])/I,j=T<a.slidesPerGroupSkip-1?1:a.slidesPerGroup;if(v>a.longSwipesMs){if(!a.longSwipes){e.slideTo(e.activeIndex);return}e.swipeDirection==="next"&&(k>=a.longSwipesRatio?e.slideTo(a.rewind&&e.isEnd?R:T+j):e.slideTo(T)),e.swipeDirection==="prev"&&(k>1-a.longSwipesRatio?e.slideTo(T+j):P!==null&&k<0&&Math.abs(k)>a.longSwipesRatio?e.slideTo(P):e.slideTo(T))}else{if(!a.shortSwipes){e.slideTo(e.activeIndex);return}e.navigation&&(r.target===e.navigation.nextEl||r.target===e.navigation.prevEl)?r.target===e.navigation.nextEl?e.slideTo(T+j):e.slideTo(T):(e.swipeDirection==="next"&&e.slideTo(R!==null?R:T+j),e.swipeDirection==="prev"&&e.slideTo(P!==null?P:T))}}function S2(){const t=this,{params:e,el:n}=t;if(n&&n.offsetWidth===0)return;e.breakpoints&&t.setBreakpoint();const{allowSlideNext:r,allowSlidePrev:i,snapGrid:s}=t,a=t.virtual&&t.params.virtual.enabled;t.allowSlideNext=!0,t.allowSlidePrev=!0,t.updateSize(),t.updateSlides(),t.updateSlidesClasses();const c=a&&e.loop;(e.slidesPerView==="auto"||e.slidesPerView>1)&&t.isEnd&&!t.isBeginning&&!t.params.centeredSlides&&!c?t.slideTo(t.slides.length-1,0,!1,!0):t.params.loop&&!a?t.slideToLoop(t.realIndex,0,!1,!0):t.slideTo(t.activeIndex,0,!1,!0),t.autoplay&&t.autoplay.running&&t.autoplay.paused&&(clearTimeout(t.autoplay.resizeTimeout),t.autoplay.resizeTimeout=setTimeout(()=>{t.autoplay&&t.autoplay.running&&t.autoplay.paused&&t.autoplay.resume()},500)),t.allowSlidePrev=i,t.allowSlideNext=r,t.params.watchOverflow&&s!==t.snapGrid&&t.checkOverflow()}function RZ(t){const e=this;e.enabled&&(e.allowClick||(e.params.preventClicks&&t.preventDefault(),e.params.preventClicksPropagation&&e.animating&&(t.stopPropagation(),t.stopImmediatePropagation())))}function NZ(){const t=this,{wrapperEl:e,rtlTranslate:n,enabled:r}=t;if(!r)return;t.previousTranslate=t.translate,t.isHorizontal()?t.translate=-e.scrollLeft:t.translate=-e.scrollTop,t.translate===0&&(t.translate=0),t.updateActiveIndex(),t.updateSlidesClasses();let i;const s=t.maxTranslate()-t.minTranslate();s===0?i=0:i=(t.translate-t.minTranslate())/s,i!==t.progress&&t.updateProgress(n?-t.translate:t.translate),t.emit("setTranslate",t.translate,!1)}function OZ(t){const e=this;pp(e,t.target),!(e.params.cssMode||e.params.slidesPerView!=="auto"&&!e.params.autoHeight)&&e.update()}function MZ(){const t=this;t.documentTouchHandlerProceeded||(t.documentTouchHandlerProceeded=!0,t.params.touchReleaseOnEdges&&(t.el.style.touchAction="auto"))}const aO=(t,e)=>{const n=$a(),{params:r,el:i,wrapperEl:s,device:a}=t,c=!!r.nested,u=e==="on"?"addEventListener":"removeEventListener",f=e;!i||typeof i=="string"||(n[u]("touchstart",t.onDocumentTouchStart,{passive:!1,capture:c}),i[u]("touchstart",t.onTouchStart,{passive:!1}),i[u]("pointerdown",t.onTouchStart,{passive:!1}),n[u]("touchmove",t.onTouchMove,{passive:!1,capture:c}),n[u]("pointermove",t.onTouchMove,{passive:!1,capture:c}),n[u]("touchend",t.onTouchEnd,{passive:!0}),n[u]("pointerup",t.onTouchEnd,{passive:!0}),n[u]("pointercancel",t.onTouchEnd,{passive:!0}),n[u]("touchcancel",t.onTouchEnd,{passive:!0}),n[u]("pointerout",t.onTouchEnd,{passive:!0}),n[u]("pointerleave",t.onTouchEnd,{passive:!0}),n[u]("contextmenu",t.onTouchEnd,{passive:!0}),(r.preventClicks||r.preventClicksPropagation)&&i[u]("click",t.onClick,!0),r.cssMode&&s[u]("scroll",t.onScroll),r.updateOnWindowResize?t[f](a.ios||a.android?"resize orientationchange observerUpdate":"resize observerUpdate",S2,!0):t[f]("observerUpdate",S2,!0),i[u]("load",t.onLoad,{capture:!0}))};function DZ(){const t=this,{params:e}=t;t.onTouchStart=PZ.bind(t),t.onTouchMove=IZ.bind(t),t.onTouchEnd=AZ.bind(t),t.onDocumentTouchStart=MZ.bind(t),e.cssMode&&(t.onScroll=NZ.bind(t)),t.onClick=RZ.bind(t),t.onLoad=OZ.bind(t),aO(t,"on")}function LZ(){aO(this,"off")}var jZ={attachEvents:DZ,detachEvents:LZ};const C2=(t,e)=>t.grid&&e.grid&&e.grid.rows>1;function FZ(){const t=this,{realIndex:e,initialized:n,params:r,el:i}=t,s=r.breakpoints;if(!s||s&&Object.keys(s).length===0)return;const a=$a(),c=r.breakpointsBase==="window"||!r.breakpointsBase?r.breakpointsBase:"container",u=["window","container"].includes(r.breakpointsBase)||!r.breakpointsBase?t.el:a.querySelector(r.breakpointsBase),f=t.getBreakpoint(s,c,u);if(!f||t.currentBreakpoint===f)return;const g=(f in s?s[f]:void 0)||t.originalParams,v=C2(t,r),x=C2(t,g),_=t.params.grabCursor,T=g.grabCursor,I=r.enabled;v&&!x?(i.classList.remove(`${r.containerModifierClass}grid`,`${r.containerModifierClass}grid-column`),t.emitContainerClasses()):!v&&x&&(i.classList.add(`${r.containerModifierClass}grid`),(g.grid.fill&&g.grid.fill==="column"||!g.grid.fill&&r.grid.fill==="column")&&i.classList.add(`${r.containerModifierClass}grid-column`),t.emitContainerClasses()),_&&!T?t.unsetGrabCursor():!_&&T&&t.setGrabCursor(),["navigation","pagination","scrollbar"].forEach(B=>{if(typeof g[B]>"u")return;const L=r[B]&&r[B].enabled,N=g[B]&&g[B].enabled;L&&!N&&t[B].disable(),!L&&N&&t[B].enable()});const R=g.direction&&g.direction!==r.direction,P=r.loop&&(g.slidesPerView!==r.slidesPerView||R),k=r.loop;R&&n&&t.changeDirection(),rr(t.params,g);const j=t.params.enabled,$=t.params.loop;Object.assign(t,{allowTouchMove:t.params.allowTouchMove,allowSlideNext:t.params.allowSlideNext,allowSlidePrev:t.params.allowSlidePrev}),I&&!j?t.disable():!I&&j&&t.enable(),t.currentBreakpoint=f,t.emit("_beforeBreakpoint",g),n&&(P?(t.loopDestroy(),t.loopCreate(e),t.updateSlides()):!k&&$?(t.loopCreate(e),t.updateSlides()):k&&!$&&t.loopDestroy()),t.emit("breakpoint",g)}function $Z(t,e,n){if(e===void 0&&(e="window"),!t||e==="container"&&!n)return;let r=!1;const i=Rn(),s=e==="window"?i.innerHeight:n.clientHeight,a=Object.keys(t).map(c=>{if(typeof c=="string"&&c.indexOf("@")===0){const u=parseFloat(c.substr(1));return{value:s*u,point:c}}return{value:c,point:c}});a.sort((c,u)=>parseInt(c.value,10)-parseInt(u.value,10));for(let c=0;c<a.length;c+=1){const{point:u,value:f}=a[c];e==="window"?i.matchMedia(`(min-width: ${f}px)`).matches&&(r=u):f<=n.clientWidth&&(r=u)}return r||"max"}var UZ={setBreakpoint:FZ,getBreakpoint:$Z};function VZ(t,e){const n=[];return t.forEach(r=>{typeof r=="object"?Object.keys(r).forEach(i=>{r[i]&&n.push(e+i)}):typeof r=="string"&&n.push(e+r)}),n}function BZ(){const t=this,{classNames:e,params:n,rtl:r,el:i,device:s}=t,a=VZ(["initialized",n.direction,{"free-mode":t.params.freeMode&&n.freeMode.enabled},{autoheight:n.autoHeight},{rtl:r},{grid:n.grid&&n.grid.rows>1},{"grid-column":n.grid&&n.grid.rows>1&&n.grid.fill==="column"},{android:s.android},{ios:s.ios},{"css-mode":n.cssMode},{centered:n.cssMode&&n.centeredSlides},{"watch-progress":n.watchSlidesProgress}],n.containerModifierClass);e.push(...a),i.classList.add(...e),t.emitContainerClasses()}function zZ(){const t=this,{el:e,classNames:n}=t;!e||typeof e=="string"||(e.classList.remove(...n),t.emitContainerClasses())}var HZ={addClasses:BZ,removeClasses:zZ};function WZ(){const t=this,{isLocked:e,params:n}=t,{slidesOffsetBefore:r}=n;if(r){const i=t.slides.length-1,s=t.slidesGrid[i]+t.slidesSizesGrid[i]+r*2;t.isLocked=t.size>s}else t.isLocked=t.snapGrid.length===1;n.allowSlideNext===!0&&(t.allowSlideNext=!t.isLocked),n.allowSlidePrev===!0&&(t.allowSlidePrev=!t.isLocked),e&&e!==t.isLocked&&(t.isEnd=!1),e!==t.isLocked&&t.emit(t.isLocked?"lock":"unlock")}var qZ={checkOverflow:WZ},gw={init:!0,direction:"horizontal",oneWayMovement:!1,swiperElementNodeName:"SWIPER-CONTAINER",touchEventsTarget:"wrapper",initialSlide:0,speed:300,cssMode:!1,updateOnWindowResize:!0,resizeObserver:!0,nested:!1,createElements:!1,eventsPrefix:"swiper",enabled:!0,focusableElements:"input, select, option, textarea, button, video, label",width:null,height:null,preventInteractionOnTransition:!1,userAgent:null,url:null,edgeSwipeDetection:!1,edgeSwipeThreshold:20,autoHeight:!1,setWrapperSize:!1,virtualTranslate:!1,effect:"slide",breakpoints:void 0,breakpointsBase:"window",spaceBetween:0,slidesPerView:1,slidesPerGroup:1,slidesPerGroupSkip:0,slidesPerGroupAuto:!1,centeredSlides:!1,centeredSlidesBounds:!1,slidesOffsetBefore:0,slidesOffsetAfter:0,normalizeSlideIndex:!0,centerInsufficientSlides:!1,watchOverflow:!0,roundLengths:!1,touchRatio:1,touchAngle:45,simulateTouch:!0,shortSwipes:!0,longSwipes:!0,longSwipesRatio:.5,longSwipesMs:300,followFinger:!0,allowTouchMove:!0,threshold:5,touchMoveStopPropagation:!1,touchStartPreventDefault:!0,touchStartForcePreventDefault:!1,touchReleaseOnEdges:!1,uniqueNavElements:!0,resistance:!0,resistanceRatio:.85,watchSlidesProgress:!1,grabCursor:!1,preventClicks:!0,preventClicksPropagation:!0,slideToClickedSlide:!1,loop:!1,loopAddBlankSlides:!0,loopAdditionalSlides:0,loopPreventsSliding:!0,rewind:!1,allowSlidePrev:!0,allowSlideNext:!0,swipeHandler:null,noSwiping:!0,noSwipingClass:"swiper-no-swiping",noSwipingSelector:null,passiveListeners:!0,maxBackfaceHiddenSlides:10,containerModifierClass:"swiper-",slideClass:"swiper-slide",slideBlankClass:"swiper-slide-blank",slideActiveClass:"swiper-slide-active",slideVisibleClass:"swiper-slide-visible",slideFullyVisibleClass:"swiper-slide-fully-visible",slideNextClass:"swiper-slide-next",slidePrevClass:"swiper-slide-prev",wrapperClass:"swiper-wrapper",lazyPreloaderClass:"swiper-lazy-preloader",lazyPreloadPrevNext:0,runCallbacksOnInit:!0,_emitClasses:!1};function GZ(t,e){return function(r){r===void 0&&(r={});const i=Object.keys(r)[0],s=r[i];if(typeof s!="object"||s===null){rr(e,r);return}if(t[i]===!0&&(t[i]={enabled:!0}),i==="navigation"&&t[i]&&t[i].enabled&&!t[i].prevEl&&!t[i].nextEl&&(t[i].auto=!0),["pagination","scrollbar"].indexOf(i)>=0&&t[i]&&t[i].enabled&&!t[i].el&&(t[i].auto=!0),!(i in t&&"enabled"in s)){rr(e,r);return}typeof t[i]=="object"&&!("enabled"in t[i])&&(t[i].enabled=!0),t[i]||(t[i]={enabled:!1}),rr(e,r)}}const Yy={eventsEmitter:HQ,update:tZ,translate:aZ,transition:dZ,slide:wZ,loop:EZ,grabCursor:TZ,events:jZ,breakpoints:UZ,checkOverflow:qZ,classes:HZ},Xy={};let Gx=class Zi{constructor(){let e,n;for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];i.length===1&&i[0].constructor&&Object.prototype.toString.call(i[0]).slice(8,-1)==="Object"?n=i[0]:[e,n]=i,n||(n={}),n=rr({},n),e&&!n.el&&(n.el=e);const a=$a();if(n.el&&typeof n.el=="string"&&a.querySelectorAll(n.el).length>1){const h=[];return a.querySelectorAll(n.el).forEach(g=>{const v=rr({},n,{el:g});h.push(new Zi(v))}),h}const c=this;c.__swiper__=!0,c.support=rO(),c.device=iO({userAgent:n.userAgent}),c.browser=sO(),c.eventsListeners={},c.eventsAnyListeners=[],c.modules=[...c.__modules__],n.modules&&Array.isArray(n.modules)&&c.modules.push(...n.modules);const u={};c.modules.forEach(h=>{h({params:n,swiper:c,extendParams:GZ(n,u),on:c.on.bind(c),once:c.once.bind(c),off:c.off.bind(c),emit:c.emit.bind(c)})});const f=rr({},gw,u);return c.params=rr({},f,Xy,n),c.originalParams=rr({},c.params),c.passedParams=rr({},n),c.params&&c.params.on&&Object.keys(c.params.on).forEach(h=>{c.on(h,c.params.on[h])}),c.params&&c.params.onAny&&c.onAny(c.params.onAny),Object.assign(c,{enabled:c.params.enabled,el:e,classNames:[],slides:[],slidesGrid:[],snapGrid:[],slidesSizesGrid:[],isHorizontal(){return c.params.direction==="horizontal"},isVertical(){return c.params.direction==="vertical"},activeIndex:0,realIndex:0,isBeginning:!0,isEnd:!1,translate:0,previousTranslate:0,progress:0,velocity:0,animating:!1,cssOverflowAdjustment(){return Math.trunc(this.translate/2**23)*2**23},allowSlideNext:c.params.allowSlideNext,allowSlidePrev:c.params.allowSlidePrev,touchEventsData:{isTouched:void 0,isMoved:void 0,allowTouchCallbacks:void 0,touchStartTime:void 0,isScrolling:void 0,currentTranslate:void 0,startTranslate:void 0,allowThresholdMove:void 0,focusableElements:c.params.focusableElements,lastClickTime:0,clickTimeout:void 0,velocities:[],allowMomentumBounce:void 0,startMoving:void 0,pointerId:null,touchId:null},allowClick:!0,allowTouchMove:c.params.allowTouchMove,touches:{startX:0,startY:0,currentX:0,currentY:0,diff:0},imagesToLoad:[],imagesLoaded:0}),c.emit("_swiper"),c.params.init&&c.init(),c}getDirectionLabel(e){return this.isHorizontal()?e:{width:"height","margin-top":"margin-left","margin-bottom ":"margin-right","margin-left":"margin-top","margin-right":"margin-bottom","padding-left":"padding-top","padding-right":"padding-bottom",marginRight:"marginBottom"}[e]}getSlideIndex(e){const{slidesEl:n,params:r}=this,i=Ei(n,`.${r.slideClass}, swiper-slide`),s=am(i[0]);return am(e)-s}getSlideIndexByData(e){return this.getSlideIndex(this.slides.find(n=>n.getAttribute("data-swiper-slide-index")*1===e))}getSlideIndexWhenGrid(e){return this.grid&&this.params.grid&&this.params.grid.rows>1&&(this.params.grid.fill==="column"?e=Math.floor(e/this.params.grid.rows):this.params.grid.fill==="row"&&(e=e%Math.ceil(this.slides.length/this.params.grid.rows))),e}recalcSlides(){const e=this,{slidesEl:n,params:r}=e;e.slides=Ei(n,`.${r.slideClass}, swiper-slide`)}enable(){const e=this;e.enabled||(e.enabled=!0,e.params.grabCursor&&e.setGrabCursor(),e.emit("enable"))}disable(){const e=this;e.enabled&&(e.enabled=!1,e.params.grabCursor&&e.unsetGrabCursor(),e.emit("disable"))}setProgress(e,n){const r=this;e=Math.min(Math.max(e,0),1);const i=r.minTranslate(),a=(r.maxTranslate()-i)*e+i;r.translateTo(a,typeof n>"u"?0:n),r.updateActiveIndex(),r.updateSlidesClasses()}emitContainerClasses(){const e=this;if(!e.params._emitClasses||!e.el)return;const n=e.el.className.split(" ").filter(r=>r.indexOf("swiper")===0||r.indexOf(e.params.containerModifierClass)===0);e.emit("_containerClasses",n.join(" "))}getSlideClasses(e){const n=this;return n.destroyed?"":e.className.split(" ").filter(r=>r.indexOf("swiper-slide")===0||r.indexOf(n.params.slideClass)===0).join(" ")}emitSlidesClasses(){const e=this;if(!e.params._emitClasses||!e.el)return;const n=[];e.slides.forEach(r=>{const i=e.getSlideClasses(r);n.push({slideEl:r,classNames:i}),e.emit("_slideClass",r,i)}),e.emit("_slideClasses",n)}slidesPerViewDynamic(e,n){e===void 0&&(e="current"),n===void 0&&(n=!1);const r=this,{params:i,slides:s,slidesGrid:a,slidesSizesGrid:c,size:u,activeIndex:f}=r;let h=1;if(typeof i.slidesPerView=="number")return i.slidesPerView;if(i.centeredSlides){let g=s[f]?Math.ceil(s[f].swiperSlideSize):0,v;for(let x=f+1;x<s.length;x+=1)s[x]&&!v&&(g+=Math.ceil(s[x].swiperSlideSize),h+=1,g>u&&(v=!0));for(let x=f-1;x>=0;x-=1)s[x]&&!v&&(g+=s[x].swiperSlideSize,h+=1,g>u&&(v=!0))}else if(e==="current")for(let g=f+1;g<s.length;g+=1)(n?a[g]+c[g]-a[f]<u:a[g]-a[f]<u)&&(h+=1);else for(let g=f-1;g>=0;g-=1)a[f]-a[g]<u&&(h+=1);return h}update(){const e=this;if(!e||e.destroyed)return;const{snapGrid:n,params:r}=e;r.breakpoints&&e.setBreakpoint(),[...e.el.querySelectorAll('[loading="lazy"]')].forEach(a=>{a.complete&&pp(e,a)}),e.updateSize(),e.updateSlides(),e.updateProgress(),e.updateSlidesClasses();function i(){const a=e.rtlTranslate?e.translate*-1:e.translate,c=Math.min(Math.max(a,e.maxTranslate()),e.minTranslate());e.setTranslate(c),e.updateActiveIndex(),e.updateSlidesClasses()}let s;if(r.freeMode&&r.freeMode.enabled&&!r.cssMode)i(),r.autoHeight&&e.updateAutoHeight();else{if((r.slidesPerView==="auto"||r.slidesPerView>1)&&e.isEnd&&!r.centeredSlides){const a=e.virtual&&r.virtual.enabled?e.virtual.slides:e.slides;s=e.slideTo(a.length-1,0,!1,!0)}else s=e.slideTo(e.activeIndex,0,!1,!0);s||i()}r.watchOverflow&&n!==e.snapGrid&&e.checkOverflow(),e.emit("update")}changeDirection(e,n){n===void 0&&(n=!0);const r=this,i=r.params.direction;return e||(e=i==="horizontal"?"vertical":"horizontal"),e===i||e!=="horizontal"&&e!=="vertical"||(r.el.classList.remove(`${r.params.containerModifierClass}${i}`),r.el.classList.add(`${r.params.containerModifierClass}${e}`),r.emitContainerClasses(),r.params.direction=e,r.slides.forEach(s=>{e==="vertical"?s.style.width="":s.style.height=""}),r.emit("changeDirection"),n&&r.update()),r}changeLanguageDirection(e){const n=this;n.rtl&&e==="rtl"||!n.rtl&&e==="ltr"||(n.rtl=e==="rtl",n.rtlTranslate=n.params.direction==="horizontal"&&n.rtl,n.rtl?(n.el.classList.add(`${n.params.containerModifierClass}rtl`),n.el.dir="rtl"):(n.el.classList.remove(`${n.params.containerModifierClass}rtl`),n.el.dir="ltr"),n.update())}mount(e){const n=this;if(n.mounted)return!0;let r=e||n.params.el;if(typeof r=="string"&&(r=document.querySelector(r)),!r)return!1;r.swiper=n,r.parentNode&&r.parentNode.host&&r.parentNode.host.nodeName===n.params.swiperElementNodeName.toUpperCase()&&(n.isElement=!0);const i=()=>`.${(n.params.wrapperClass||"").trim().split(" ").join(".")}`;let a=r&&r.shadowRoot&&r.shadowRoot.querySelector?r.shadowRoot.querySelector(i()):Ei(r,i())[0];return!a&&n.params.createElements&&(a=om("div",n.params.wrapperClass),r.append(a),Ei(r,`.${n.params.slideClass}`).forEach(c=>{a.append(c)})),Object.assign(n,{el:r,wrapperEl:a,slidesEl:n.isElement&&!r.parentNode.host.slideSlots?r.parentNode.host:a,hostEl:n.isElement?r.parentNode.host:r,mounted:!0,rtl:r.dir.toLowerCase()==="rtl"||uo(r,"direction")==="rtl",rtlTranslate:n.params.direction==="horizontal"&&(r.dir.toLowerCase()==="rtl"||uo(r,"direction")==="rtl"),wrongRTL:uo(a,"display")==="-webkit-box"}),!0}init(e){const n=this;if(n.initialized||n.mount(e)===!1)return n;n.emit("beforeInit"),n.params.breakpoints&&n.setBreakpoint(),n.addClasses(),n.updateSize(),n.updateSlides(),n.params.watchOverflow&&n.checkOverflow(),n.params.grabCursor&&n.enabled&&n.setGrabCursor(),n.params.loop&&n.virtual&&n.params.virtual.enabled?n.slideTo(n.params.initialSlide+n.virtual.slidesBefore,0,n.params.runCallbacksOnInit,!1,!0):n.slideTo(n.params.initialSlide,0,n.params.runCallbacksOnInit,!1,!0),n.params.loop&&n.loopCreate(void 0,!0),n.attachEvents();const i=[...n.el.querySelectorAll('[loading="lazy"]')];return n.isElement&&i.push(...n.hostEl.querySelectorAll('[loading="lazy"]')),i.forEach(s=>{s.complete?pp(n,s):s.addEventListener("load",a=>{pp(n,a.target)})}),mw(n),n.initialized=!0,mw(n),n.emit("init"),n.emit("afterInit"),n}destroy(e,n){e===void 0&&(e=!0),n===void 0&&(n=!0);const r=this,{params:i,el:s,wrapperEl:a,slides:c}=r;return typeof r.params>"u"||r.destroyed||(r.emit("beforeDestroy"),r.initialized=!1,r.detachEvents(),i.loop&&r.loopDestroy(),n&&(r.removeClasses(),s&&typeof s!="string"&&s.removeAttribute("style"),a&&a.removeAttribute("style"),c&&c.length&&c.forEach(u=>{u.classList.remove(i.slideVisibleClass,i.slideFullyVisibleClass,i.slideActiveClass,i.slideNextClass,i.slidePrevClass),u.removeAttribute("style"),u.removeAttribute("data-swiper-slide-index")})),r.emit("destroy"),Object.keys(r.eventsListeners).forEach(u=>{r.off(u)}),e!==!1&&(r.el&&typeof r.el!="string"&&(r.el.swiper=null),RQ(r)),r.destroyed=!0),null}static extendDefaults(e){rr(Xy,e)}static get extendedDefaults(){return Xy}static get defaults(){return gw}static installModule(e){Zi.prototype.__modules__||(Zi.prototype.__modules__=[]);const n=Zi.prototype.__modules__;typeof e=="function"&&n.indexOf(e)<0&&n.push(e)}static use(e){return Array.isArray(e)?(e.forEach(n=>Zi.installModule(n)),Zi):(Zi.installModule(e),Zi)}};Object.keys(Yy).forEach(t=>{Object.keys(Yy[t]).forEach(e=>{Gx.prototype[e]=Yy[t][e]})});Gx.use([BQ,zQ]);const lO=["eventsPrefix","injectStyles","injectStylesUrls","modules","init","_direction","oneWayMovement","swiperElementNodeName","touchEventsTarget","initialSlide","_speed","cssMode","updateOnWindowResize","resizeObserver","nested","focusableElements","_enabled","_width","_height","preventInteractionOnTransition","userAgent","url","_edgeSwipeDetection","_edgeSwipeThreshold","_freeMode","_autoHeight","setWrapperSize","virtualTranslate","_effect","breakpoints","breakpointsBase","_spaceBetween","_slidesPerView","maxBackfaceHiddenSlides","_grid","_slidesPerGroup","_slidesPerGroupSkip","_slidesPerGroupAuto","_centeredSlides","_centeredSlidesBounds","_slidesOffsetBefore","_slidesOffsetAfter","normalizeSlideIndex","_centerInsufficientSlides","_watchOverflow","roundLengths","touchRatio","touchAngle","simulateTouch","_shortSwipes","_longSwipes","longSwipesRatio","longSwipesMs","_followFinger","allowTouchMove","_threshold","touchMoveStopPropagation","touchStartPreventDefault","touchStartForcePreventDefault","touchReleaseOnEdges","uniqueNavElements","_resistance","_resistanceRatio","_watchSlidesProgress","_grabCursor","preventClicks","preventClicksPropagation","_slideToClickedSlide","_loop","loopAdditionalSlides","loopAddBlankSlides","loopPreventsSliding","_rewind","_allowSlidePrev","_allowSlideNext","_swipeHandler","_noSwiping","noSwipingClass","noSwipingSelector","passiveListeners","containerModifierClass","slideClass","slideActiveClass","slideVisibleClass","slideFullyVisibleClass","slideNextClass","slidePrevClass","slideBlankClass","wrapperClass","lazyPreloaderClass","lazyPreloadPrevNext","runCallbacksOnInit","observer","observeParents","observeSlideChildren","a11y","_autoplay","_controller","coverflowEffect","cubeEffect","fadeEffect","flipEffect","creativeEffect","cardsEffect","hashNavigation","history","keyboard","mousewheel","_navigation","_pagination","parallax","_scrollbar","_thumbs","virtual","zoom","control"];function Ma(t){return typeof t=="object"&&t!==null&&t.constructor&&Object.prototype.toString.call(t).slice(8,-1)==="Object"&&!t.__swiper__}function Ql(t,e){const n=["__proto__","constructor","prototype"];Object.keys(e).filter(r=>n.indexOf(r)<0).forEach(r=>{typeof t[r]>"u"?t[r]=e[r]:Ma(e[r])&&Ma(t[r])&&Object.keys(e[r]).length>0?e[r].__swiper__?t[r]=e[r]:Ql(t[r],e[r]):t[r]=e[r]})}function cO(t){return t===void 0&&(t={}),t.navigation&&typeof t.navigation.nextEl>"u"&&typeof t.navigation.prevEl>"u"}function uO(t){return t===void 0&&(t={}),t.pagination&&typeof t.pagination.el>"u"}function dO(t){return t===void 0&&(t={}),t.scrollbar&&typeof t.scrollbar.el>"u"}function fO(t){t===void 0&&(t="");const e=t.split(" ").map(r=>r.trim()).filter(r=>!!r),n=[];return e.forEach(r=>{n.indexOf(r)<0&&n.push(r)}),n.join(" ")}function KZ(t){return t===void 0&&(t=""),t?t.includes("swiper-wrapper")?t:`swiper-wrapper ${t}`:"swiper-wrapper"}function YZ(t){let{swiper:e,slides:n,passedParams:r,changedParams:i,nextEl:s,prevEl:a,scrollbarEl:c,paginationEl:u}=t;const f=i.filter(O=>O!=="children"&&O!=="direction"&&O!=="wrapperClass"),{params:h,pagination:g,navigation:v,scrollbar:x,virtual:_,thumbs:T}=e;let I,R,P,k,j,$,B,L;i.includes("thumbs")&&r.thumbs&&r.thumbs.swiper&&!r.thumbs.swiper.destroyed&&h.thumbs&&(!h.thumbs.swiper||h.thumbs.swiper.destroyed)&&(I=!0),i.includes("controller")&&r.controller&&r.controller.control&&h.controller&&!h.controller.control&&(R=!0),i.includes("pagination")&&r.pagination&&(r.pagination.el||u)&&(h.pagination||h.pagination===!1)&&g&&!g.el&&(P=!0),i.includes("scrollbar")&&r.scrollbar&&(r.scrollbar.el||c)&&(h.scrollbar||h.scrollbar===!1)&&x&&!x.el&&(k=!0),i.includes("navigation")&&r.navigation&&(r.navigation.prevEl||a)&&(r.navigation.nextEl||s)&&(h.navigation||h.navigation===!1)&&v&&!v.prevEl&&!v.nextEl&&(j=!0);const N=O=>{e[O]&&(e[O].destroy(),O==="navigation"?(e.isElement&&(e[O].prevEl.remove(),e[O].nextEl.remove()),h[O].prevEl=void 0,h[O].nextEl=void 0,e[O].prevEl=void 0,e[O].nextEl=void 0):(e.isElement&&e[O].el.remove(),h[O].el=void 0,e[O].el=void 0))};i.includes("loop")&&e.isElement&&(h.loop&&!r.loop?$=!0:!h.loop&&r.loop?B=!0:L=!0),f.forEach(O=>{if(Ma(h[O])&&Ma(r[O]))Object.assign(h[O],r[O]),(O==="navigation"||O==="pagination"||O==="scrollbar")&&"enabled"in r[O]&&!r[O].enabled&&N(O);else{const b=r[O];(b===!0||b===!1)&&(O==="navigation"||O==="pagination"||O==="scrollbar")?b===!1&&N(O):h[O]=r[O]}}),f.includes("controller")&&!R&&e.controller&&e.controller.control&&h.controller&&h.controller.control&&(e.controller.control=h.controller.control),i.includes("children")&&n&&_&&h.virtual.enabled?(_.slides=n,_.update(!0)):i.includes("virtual")&&_&&h.virtual.enabled&&(n&&(_.slides=n),_.update(!0)),i.includes("children")&&n&&h.loop&&(L=!0),I&&T.init()&&T.update(!0),R&&(e.controller.control=h.controller.control),P&&(e.isElement&&(!u||typeof u=="string")&&(u=document.createElement("div"),u.classList.add("swiper-pagination"),u.part.add("pagination"),e.el.appendChild(u)),u&&(h.pagination.el=u),g.init(),g.render(),g.update()),k&&(e.isElement&&(!c||typeof c=="string")&&(c=document.createElement("div"),c.classList.add("swiper-scrollbar"),c.part.add("scrollbar"),e.el.appendChild(c)),c&&(h.scrollbar.el=c),x.init(),x.updateSize(),x.setTranslate()),j&&(e.isElement&&((!s||typeof s=="string")&&(s=document.createElement("div"),s.classList.add("swiper-button-next"),lm(s,e.hostEl.constructor.nextButtonSvg),s.part.add("button-next"),e.el.appendChild(s)),(!a||typeof a=="string")&&(a=document.createElement("div"),a.classList.add("swiper-button-prev"),lm(a,e.hostEl.constructor.prevButtonSvg),a.part.add("button-prev"),e.el.appendChild(a))),s&&(h.navigation.nextEl=s),a&&(h.navigation.prevEl=a),v.init(),v.update()),i.includes("allowSlideNext")&&(e.allowSlideNext=r.allowSlideNext),i.includes("allowSlidePrev")&&(e.allowSlidePrev=r.allowSlidePrev),i.includes("direction")&&e.changeDirection(r.direction,!1),($||L)&&e.loopDestroy(),(B||L)&&e.loopCreate(),e.update()}function XZ(t,e){t===void 0&&(t={}),e===void 0&&(e=!0);const n={on:{}},r={},i={};Ql(n,gw),n._emitClasses=!0,n.init=!1;const s={},a=lO.map(u=>u.replace(/_/,"")),c=Object.assign({},t);return Object.keys(c).forEach(u=>{typeof t[u]>"u"||(a.indexOf(u)>=0?Ma(t[u])?(n[u]={},i[u]={},Ql(n[u],t[u]),Ql(i[u],t[u])):(n[u]=t[u],i[u]=t[u]):u.search(/on[A-Z]/)===0&&typeof t[u]=="function"?e?r[`${u[2].toLowerCase()}${u.substr(3)}`]=t[u]:n.on[`${u[2].toLowerCase()}${u.substr(3)}`]=t[u]:s[u]=t[u])}),["navigation","pagination","scrollbar"].forEach(u=>{n[u]===!0&&(n[u]={}),n[u]===!1&&delete n[u]}),{params:n,passedParams:i,rest:s,events:r}}function JZ(t,e){let{el:n,nextEl:r,prevEl:i,paginationEl:s,scrollbarEl:a,swiper:c}=t;cO(e)&&r&&i&&(c.params.navigation.nextEl=r,c.originalParams.navigation.nextEl=r,c.params.navigation.prevEl=i,c.originalParams.navigation.prevEl=i),uO(e)&&s&&(c.params.pagination.el=s,c.originalParams.pagination.el=s),dO(e)&&a&&(c.params.scrollbar.el=a,c.originalParams.scrollbar.el=a),c.init(n)}function QZ(t,e,n,r,i){const s=[];if(!e)return s;const a=u=>{s.indexOf(u)<0&&s.push(u)};if(n&&r){const u=r.map(i),f=n.map(i);u.join("")!==f.join("")&&a("children"),r.length!==n.length&&a("children")}return lO.filter(u=>u[0]==="_").map(u=>u.replace(/_/,"")).forEach(u=>{if(u in t&&u in e)if(Ma(t[u])&&Ma(e[u])){const f=Object.keys(t[u]),h=Object.keys(e[u]);f.length!==h.length?a(u):(f.forEach(g=>{t[u][g]!==e[u][g]&&a(u)}),h.forEach(g=>{t[u][g]!==e[u][g]&&a(u)}))}else t[u]!==e[u]&&a(u)}),s}const ZZ=t=>{!t||t.destroyed||!t.params.virtual||t.params.virtual&&!t.params.virtual.enabled||(t.updateSlides(),t.updateProgress(),t.updateSlidesClasses(),t.emit("_virtualUpdated"),t.parallax&&t.params.parallax&&t.params.parallax.enabled&&t.parallax.setTranslate())};function cm(){return cm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},cm.apply(this,arguments)}function hO(t){return t.type&&t.type.displayName&&t.type.displayName.includes("SwiperSlide")}function pO(t){const e=[];return me.Children.toArray(t).forEach(n=>{hO(n)?e.push(n):n.props&&n.props.children&&pO(n.props.children).forEach(r=>e.push(r))}),e}function eee(t){const e=[],n={"container-start":[],"container-end":[],"wrapper-start":[],"wrapper-end":[]};return me.Children.toArray(t).forEach(r=>{if(hO(r))e.push(r);else if(r.props&&r.props.slot&&n[r.props.slot])n[r.props.slot].push(r);else if(r.props&&r.props.children){const i=pO(r.props.children);i.length>0?i.forEach(s=>e.push(s)):n["container-end"].push(r)}else n["container-end"].push(r)}),{slides:e,slots:n}}function tee(t,e,n){if(!n)return null;const r=h=>{let g=h;return h<0?g=e.length+h:g>=e.length&&(g=g-e.length),g},i=t.isHorizontal()?{[t.rtlTranslate?"right":"left"]:`${n.offset}px`}:{top:`${n.offset}px`},{from:s,to:a}=n,c=t.params.loop?-e.length:0,u=t.params.loop?e.length*2:e.length,f=[];for(let h=c;h<u;h+=1)h>=s&&h<=a&&f.push(e[r(h)]);return f.map((h,g)=>me.cloneElement(h,{swiper:t,style:i,key:h.props.virtualIndex||h.key||`slide-${g}`}))}function dd(t,e){return typeof window>"u"?C.useEffect(t,e):C.useLayoutEffect(t,e)}const T2=C.createContext(null),nee=C.createContext(null),mO=C.forwardRef(function(t,e){let{className:n,tag:r="div",wrapperTag:i="div",children:s,onSwiper:a,...c}=t===void 0?{}:t,u=!1;const[f,h]=C.useState("swiper"),[g,v]=C.useState(null),[x,_]=C.useState(!1),T=C.useRef(!1),I=C.useRef(null),R=C.useRef(null),P=C.useRef(null),k=C.useRef(null),j=C.useRef(null),$=C.useRef(null),B=C.useRef(null),L=C.useRef(null),{params:N,passedParams:O,rest:b,events:M}=XZ(c),{slides:V,slots:F}=eee(s),Q=()=>{_(!x)};Object.assign(N.on,{_containerClasses(se,le){h(le)}});const ae=()=>{Object.assign(N.on,M),u=!0;const se={...N};if(delete se.wrapperClass,R.current=new Gx(se),R.current.virtual&&R.current.params.virtual.enabled){R.current.virtual.slides=V;const le={cache:!1,slides:V,renderExternal:v,renderExternalUpdate:!1};Ql(R.current.params.virtual,le),Ql(R.current.originalParams.virtual,le)}};I.current||ae(),R.current&&R.current.on("_beforeBreakpoint",Q);const re=()=>{u||!M||!R.current||Object.keys(M).forEach(se=>{R.current.on(se,M[se])})},pe=()=>{!M||!R.current||Object.keys(M).forEach(se=>{R.current.off(se,M[se])})};C.useEffect(()=>()=>{R.current&&R.current.off("_beforeBreakpoint",Q)}),C.useEffect(()=>{!T.current&&R.current&&(R.current.emitSlidesClasses(),T.current=!0)}),dd(()=>{if(e&&(e.current=I.current),!!I.current)return R.current.destroyed&&ae(),JZ({el:I.current,nextEl:j.current,prevEl:$.current,paginationEl:B.current,scrollbarEl:L.current,swiper:R.current},N),a&&!R.current.destroyed&&a(R.current),()=>{R.current&&!R.current.destroyed&&R.current.destroy(!0,!1)}},[]),dd(()=>{re();const se=QZ(O,P.current,V,k.current,le=>le.key);return P.current=O,k.current=V,se.length&&R.current&&!R.current.destroyed&&YZ({swiper:R.current,slides:V,passedParams:O,changedParams:se,nextEl:j.current,prevEl:$.current,scrollbarEl:L.current,paginationEl:B.current}),()=>{pe()}}),dd(()=>{ZZ(R.current)},[g]);function ne(){return N.virtual?tee(R.current,V,g):V.map((se,le)=>me.cloneElement(se,{swiper:R.current,swiperSlideIndex:le}))}return me.createElement(r,cm({ref:I,className:fO(`${f}${n?` ${n}`:""}`)},b),me.createElement(nee.Provider,{value:R.current},F["container-start"],me.createElement(i,{className:KZ(N.wrapperClass)},F["wrapper-start"],ne(),F["wrapper-end"]),cO(N)&&me.createElement(me.Fragment,null,me.createElement("div",{ref:$,className:"swiper-button-prev"}),me.createElement("div",{ref:j,className:"swiper-button-next"})),dO(N)&&me.createElement("div",{ref:L,className:"swiper-scrollbar"}),uO(N)&&me.createElement("div",{ref:B,className:"swiper-pagination"}),F["container-end"]))});mO.displayName="Swiper";const gO=C.forwardRef(function(t,e){let{tag:n="div",children:r,className:i="",swiper:s,zoom:a,lazy:c,virtualIndex:u,swiperSlideIndex:f,...h}=t===void 0?{}:t;const g=C.useRef(null),[v,x]=C.useState("swiper-slide"),[_,T]=C.useState(!1);function I(j,$,B){$===g.current&&x(B)}dd(()=>{if(typeof f<"u"&&(g.current.swiperSlideIndex=f),e&&(e.current=g.current),!(!g.current||!s)){if(s.destroyed){v!=="swiper-slide"&&x("swiper-slide");return}return s.on("_slideClass",I),()=>{s&&s.off("_slideClass",I)}}}),dd(()=>{s&&g.current&&!s.destroyed&&x(s.getSlideClasses(g.current))},[s]);const R={isActive:v.indexOf("swiper-slide-active")>=0,isVisible:v.indexOf("swiper-slide-visible")>=0,isPrev:v.indexOf("swiper-slide-prev")>=0,isNext:v.indexOf("swiper-slide-next")>=0},P=()=>typeof r=="function"?r(R):r,k=()=>{T(!0)};return me.createElement(n,cm({ref:g,className:fO(`${v}${i?` ${i}`:""}`),"data-swiper-slide-index":u,onLoad:k},h),a&&me.createElement(T2.Provider,{value:R},me.createElement("div",{className:"swiper-zoom-container","data-swiper-zoom":typeof a=="number"?a:void 0},P(),c&&!_&&me.createElement("div",{className:"swiper-lazy-preloader"}))),!a&&me.createElement(T2.Provider,{value:R},P(),c&&!_&&me.createElement("div",{className:"swiper-lazy-preloader"})))});gO.displayName="SwiperSlide";function vO(t,e,n,r){return t.params.createElements&&Object.keys(r).forEach(i=>{if(!n[i]&&n.auto===!0){let s=Ei(t.el,`.${r[i]}`)[0];s||(s=om("div",r[i]),s.className=r[i],t.el.append(s)),n[i]=s,e[i]=s}}),n}function ree(t){let{swiper:e,extendParams:n,on:r,emit:i}=t;n({navigation:{nextEl:null,prevEl:null,hideOnClick:!1,disabledClass:"swiper-button-disabled",hiddenClass:"swiper-button-hidden",lockClass:"swiper-button-lock",navigationDisabledClass:"swiper-navigation-disabled"}}),e.navigation={nextEl:null,prevEl:null};function s(_){let T;return _&&typeof _=="string"&&e.isElement&&(T=e.el.querySelector(_)||e.hostEl.querySelector(_),T)?T:(_&&(typeof _=="string"&&(T=[...document.querySelectorAll(_)]),e.params.uniqueNavElements&&typeof _=="string"&&T&&T.length>1&&e.el.querySelectorAll(_).length===1?T=e.el.querySelector(_):T&&T.length===1&&(T=T[0])),_&&!T?_:T)}function a(_,T){const I=e.params.navigation;_=Yt(_),_.forEach(R=>{R&&(R.classList[T?"add":"remove"](...I.disabledClass.split(" ")),R.tagName==="BUTTON"&&(R.disabled=T),e.params.watchOverflow&&e.enabled&&R.classList[e.isLocked?"add":"remove"](I.lockClass))})}function c(){const{nextEl:_,prevEl:T}=e.navigation;if(e.params.loop){a(T,!1),a(_,!1);return}a(T,e.isBeginning&&!e.params.rewind),a(_,e.isEnd&&!e.params.rewind)}function u(_){_.preventDefault(),!(e.isBeginning&&!e.params.loop&&!e.params.rewind)&&(e.slidePrev(),i("navigationPrev"))}function f(_){_.preventDefault(),!(e.isEnd&&!e.params.loop&&!e.params.rewind)&&(e.slideNext(),i("navigationNext"))}function h(){const _=e.params.navigation;if(e.params.navigation=vO(e,e.originalParams.navigation,e.params.navigation,{nextEl:"swiper-button-next",prevEl:"swiper-button-prev"}),!(_.nextEl||_.prevEl))return;let T=s(_.nextEl),I=s(_.prevEl);Object.assign(e.navigation,{nextEl:T,prevEl:I}),T=Yt(T),I=Yt(I);const R=(P,k)=>{P&&P.addEventListener("click",k==="next"?f:u),!e.enabled&&P&&P.classList.add(..._.lockClass.split(" "))};T.forEach(P=>R(P,"next")),I.forEach(P=>R(P,"prev"))}function g(){let{nextEl:_,prevEl:T}=e.navigation;_=Yt(_),T=Yt(T);const I=(R,P)=>{R.removeEventListener("click",P==="next"?f:u),R.classList.remove(...e.params.navigation.disabledClass.split(" "))};_.forEach(R=>I(R,"next")),T.forEach(R=>I(R,"prev"))}r("init",()=>{e.params.navigation.enabled===!1?x():(h(),c())}),r("toEdge fromEdge lock unlock",()=>{c()}),r("destroy",()=>{g()}),r("enable disable",()=>{let{nextEl:_,prevEl:T}=e.navigation;if(_=Yt(_),T=Yt(T),e.enabled){c();return}[..._,...T].filter(I=>!!I).forEach(I=>I.classList.add(e.params.navigation.lockClass))}),r("click",(_,T)=>{let{nextEl:I,prevEl:R}=e.navigation;I=Yt(I),R=Yt(R);const P=T.target;let k=R.includes(P)||I.includes(P);if(e.isElement&&!k){const j=T.path||T.composedPath&&T.composedPath();j&&(k=j.find($=>I.includes($)||R.includes($)))}if(e.params.navigation.hideOnClick&&!k){if(e.pagination&&e.params.pagination&&e.params.pagination.clickable&&(e.pagination.el===P||e.pagination.el.contains(P)))return;let j;I.length?j=I[0].classList.contains(e.params.navigation.hiddenClass):R.length&&(j=R[0].classList.contains(e.params.navigation.hiddenClass)),i(j===!0?"navigationShow":"navigationHide"),[...I,...R].filter($=>!!$).forEach($=>$.classList.toggle(e.params.navigation.hiddenClass))}});const v=()=>{e.el.classList.remove(...e.params.navigation.navigationDisabledClass.split(" ")),h(),c()},x=()=>{e.el.classList.add(...e.params.navigation.navigationDisabledClass.split(" ")),g()};Object.assign(e.navigation,{enable:v,disable:x,update:c,init:h,destroy:g})}function Ou(t){return t===void 0&&(t=""),`.${t.trim().replace(/([\.:!+\/()[\]])/g,"\\$1").replace(/ /g,".")}`}function iee(t){let{swiper:e,extendParams:n,on:r,emit:i}=t;const s="swiper-pagination";n({pagination:{el:null,bulletElement:"span",clickable:!1,hideOnClick:!1,renderBullet:null,renderProgressbar:null,renderFraction:null,renderCustom:null,progressbarOpposite:!1,type:"bullets",dynamicBullets:!1,dynamicMainBullets:1,formatFractionCurrent:P=>P,formatFractionTotal:P=>P,bulletClass:`${s}-bullet`,bulletActiveClass:`${s}-bullet-active`,modifierClass:`${s}-`,currentClass:`${s}-current`,totalClass:`${s}-total`,hiddenClass:`${s}-hidden`,progressbarFillClass:`${s}-progressbar-fill`,progressbarOppositeClass:`${s}-progressbar-opposite`,clickableClass:`${s}-clickable`,lockClass:`${s}-lock`,horizontalClass:`${s}-horizontal`,verticalClass:`${s}-vertical`,paginationDisabledClass:`${s}-disabled`}}),e.pagination={el:null,bullets:[]};let a,c=0;function u(){return!e.params.pagination.el||!e.pagination.el||Array.isArray(e.pagination.el)&&e.pagination.el.length===0}function f(P,k){const{bulletActiveClass:j}=e.params.pagination;P&&(P=P[`${k==="prev"?"previous":"next"}ElementSibling`],P&&(P.classList.add(`${j}-${k}`),P=P[`${k==="prev"?"previous":"next"}ElementSibling`],P&&P.classList.add(`${j}-${k}-${k}`)))}function h(P,k,j){if(P=P%j,k=k%j,k===P+1)return"next";if(k===P-1)return"previous"}function g(P){const k=P.target.closest(Ou(e.params.pagination.bulletClass));if(!k)return;P.preventDefault();const j=am(k)*e.params.slidesPerGroup;if(e.params.loop){if(e.realIndex===j)return;const $=h(e.realIndex,j,e.slides.length);$==="next"?e.slideNext():$==="previous"?e.slidePrev():e.slideToLoop(j)}else e.slideTo(j)}function v(){const P=e.rtl,k=e.params.pagination;if(u())return;let j=e.pagination.el;j=Yt(j);let $,B;const L=e.virtual&&e.params.virtual.enabled?e.virtual.slides.length:e.slides.length,N=e.params.loop?Math.ceil(L/e.params.slidesPerGroup):e.snapGrid.length;if(e.params.loop?(B=e.previousRealIndex||0,$=e.params.slidesPerGroup>1?Math.floor(e.realIndex/e.params.slidesPerGroup):e.realIndex):typeof e.snapIndex<"u"?($=e.snapIndex,B=e.previousSnapIndex):(B=e.previousIndex||0,$=e.activeIndex||0),k.type==="bullets"&&e.pagination.bullets&&e.pagination.bullets.length>0){const O=e.pagination.bullets;let b,M,V;if(k.dynamicBullets&&(a=pw(O[0],e.isHorizontal()?"width":"height"),j.forEach(F=>{F.style[e.isHorizontal()?"width":"height"]=`${a*(k.dynamicMainBullets+4)}px`}),k.dynamicMainBullets>1&&B!==void 0&&(c+=$-(B||0),c>k.dynamicMainBullets-1?c=k.dynamicMainBullets-1:c<0&&(c=0)),b=Math.max($-c,0),M=b+(Math.min(O.length,k.dynamicMainBullets)-1),V=(M+b)/2),O.forEach(F=>{const Q=[...["","-next","-next-next","-prev","-prev-prev","-main"].map(ae=>`${k.bulletActiveClass}${ae}`)].map(ae=>typeof ae=="string"&&ae.includes(" ")?ae.split(" "):ae).flat();F.classList.remove(...Q)}),j.length>1)O.forEach(F=>{const Q=am(F);Q===$?F.classList.add(...k.bulletActiveClass.split(" ")):e.isElement&&F.setAttribute("part","bullet"),k.dynamicBullets&&(Q>=b&&Q<=M&&F.classList.add(...`${k.bulletActiveClass}-main`.split(" ")),Q===b&&f(F,"prev"),Q===M&&f(F,"next"))});else{const F=O[$];if(F&&F.classList.add(...k.bulletActiveClass.split(" ")),e.isElement&&O.forEach((Q,ae)=>{Q.setAttribute("part",ae===$?"bullet-active":"bullet")}),k.dynamicBullets){const Q=O[b],ae=O[M];for(let re=b;re<=M;re+=1)O[re]&&O[re].classList.add(...`${k.bulletActiveClass}-main`.split(" "));f(Q,"prev"),f(ae,"next")}}if(k.dynamicBullets){const F=Math.min(O.length,k.dynamicMainBullets+4),Q=(a*F-a)/2-V*a,ae=P?"right":"left";O.forEach(re=>{re.style[e.isHorizontal()?ae:"top"]=`${Q}px`})}}j.forEach((O,b)=>{if(k.type==="fraction"&&(O.querySelectorAll(Ou(k.currentClass)).forEach(M=>{M.textContent=k.formatFractionCurrent($+1)}),O.querySelectorAll(Ou(k.totalClass)).forEach(M=>{M.textContent=k.formatFractionTotal(N)})),k.type==="progressbar"){let M;k.progressbarOpposite?M=e.isHorizontal()?"vertical":"horizontal":M=e.isHorizontal()?"horizontal":"vertical";const V=($+1)/N;let F=1,Q=1;M==="horizontal"?F=V:Q=V,O.querySelectorAll(Ou(k.progressbarFillClass)).forEach(ae=>{ae.style.transform=`translate3d(0,0,0) scaleX(${F}) scaleY(${Q})`,ae.style.transitionDuration=`${e.params.speed}ms`})}k.type==="custom"&&k.renderCustom?(lm(O,k.renderCustom(e,$+1,N)),b===0&&i("paginationRender",O)):(b===0&&i("paginationRender",O),i("paginationUpdate",O)),e.params.watchOverflow&&e.enabled&&O.classList[e.isLocked?"add":"remove"](k.lockClass)})}function x(){const P=e.params.pagination;if(u())return;const k=e.virtual&&e.params.virtual.enabled?e.virtual.slides.length:e.grid&&e.params.grid.rows>1?e.slides.length/Math.ceil(e.params.grid.rows):e.slides.length;let j=e.pagination.el;j=Yt(j);let $="";if(P.type==="bullets"){let B=e.params.loop?Math.ceil(k/e.params.slidesPerGroup):e.snapGrid.length;e.params.freeMode&&e.params.freeMode.enabled&&B>k&&(B=k);for(let L=0;L<B;L+=1)P.renderBullet?$+=P.renderBullet.call(e,L,P.bulletClass):$+=`<${P.bulletElement} ${e.isElement?'part="bullet"':""} class="${P.bulletClass}"></${P.bulletElement}>`}P.type==="fraction"&&(P.renderFraction?$=P.renderFraction.call(e,P.currentClass,P.totalClass):$=`<span class="${P.currentClass}"></span> / <span class="${P.totalClass}"></span>`),P.type==="progressbar"&&(P.renderProgressbar?$=P.renderProgressbar.call(e,P.progressbarFillClass):$=`<span class="${P.progressbarFillClass}"></span>`),e.pagination.bullets=[],j.forEach(B=>{P.type!=="custom"&&lm(B,$||""),P.type==="bullets"&&e.pagination.bullets.push(...B.querySelectorAll(Ou(P.bulletClass)))}),P.type!=="custom"&&i("paginationRender",j[0])}function _(){e.params.pagination=vO(e,e.originalParams.pagination,e.params.pagination,{el:"swiper-pagination"});const P=e.params.pagination;if(!P.el)return;let k;typeof P.el=="string"&&e.isElement&&(k=e.el.querySelector(P.el)),!k&&typeof P.el=="string"&&(k=[...document.querySelectorAll(P.el)]),k||(k=P.el),!(!k||k.length===0)&&(e.params.uniqueNavElements&&typeof P.el=="string"&&Array.isArray(k)&&k.length>1&&(k=[...e.el.querySelectorAll(P.el)],k.length>1&&(k=k.find(j=>nO(j,".swiper")[0]===e.el))),Array.isArray(k)&&k.length===1&&(k=k[0]),Object.assign(e.pagination,{el:k}),k=Yt(k),k.forEach(j=>{P.type==="bullets"&&P.clickable&&j.classList.add(...(P.clickableClass||"").split(" ")),j.classList.add(P.modifierClass+P.type),j.classList.add(e.isHorizontal()?P.horizontalClass:P.verticalClass),P.type==="bullets"&&P.dynamicBullets&&(j.classList.add(`${P.modifierClass}${P.type}-dynamic`),c=0,P.dynamicMainBullets<1&&(P.dynamicMainBullets=1)),P.type==="progressbar"&&P.progressbarOpposite&&j.classList.add(P.progressbarOppositeClass),P.clickable&&j.addEventListener("click",g),e.enabled||j.classList.add(P.lockClass)}))}function T(){const P=e.params.pagination;if(u())return;let k=e.pagination.el;k&&(k=Yt(k),k.forEach(j=>{j.classList.remove(P.hiddenClass),j.classList.remove(P.modifierClass+P.type),j.classList.remove(e.isHorizontal()?P.horizontalClass:P.verticalClass),P.clickable&&(j.classList.remove(...(P.clickableClass||"").split(" ")),j.removeEventListener("click",g))})),e.pagination.bullets&&e.pagination.bullets.forEach(j=>j.classList.remove(...P.bulletActiveClass.split(" ")))}r("changeDirection",()=>{if(!e.pagination||!e.pagination.el)return;const P=e.params.pagination;let{el:k}=e.pagination;k=Yt(k),k.forEach(j=>{j.classList.remove(P.horizontalClass,P.verticalClass),j.classList.add(e.isHorizontal()?P.horizontalClass:P.verticalClass)})}),r("init",()=>{e.params.pagination.enabled===!1?R():(_(),x(),v())}),r("activeIndexChange",()=>{typeof e.snapIndex>"u"&&v()}),r("snapIndexChange",()=>{v()}),r("snapGridLengthChange",()=>{x(),v()}),r("destroy",()=>{T()}),r("enable disable",()=>{let{el:P}=e.pagination;P&&(P=Yt(P),P.forEach(k=>k.classList[e.enabled?"remove":"add"](e.params.pagination.lockClass)))}),r("lock unlock",()=>{v()}),r("click",(P,k)=>{const j=k.target,$=Yt(e.pagination.el);if(e.params.pagination.el&&e.params.pagination.hideOnClick&&$&&$.length>0&&!j.classList.contains(e.params.pagination.bulletClass)){if(e.navigation&&(e.navigation.nextEl&&j===e.navigation.nextEl||e.navigation.prevEl&&j===e.navigation.prevEl))return;const B=$[0].classList.contains(e.params.pagination.hiddenClass);i(B===!0?"paginationShow":"paginationHide"),$.forEach(L=>L.classList.toggle(e.params.pagination.hiddenClass))}});const I=()=>{e.el.classList.remove(e.params.pagination.paginationDisabledClass);let{el:P}=e.pagination;P&&(P=Yt(P),P.forEach(k=>k.classList.remove(e.params.pagination.paginationDisabledClass))),_(),x(),v()},R=()=>{e.el.classList.add(e.params.pagination.paginationDisabledClass);let{el:P}=e.pagination;P&&(P=Yt(P),P.forEach(k=>k.classList.add(e.params.pagination.paginationDisabledClass))),T()};Object.assign(e.pagination,{enable:I,disable:R,render:x,update:v,init:_,destroy:T})}const see=({foto:t,user:e})=>{const[n,r]=C.useState(!1),i=C.useRef(0),s=()=>{if(!e)return;const c=Ce(Te,`galeria/${t.id}/likes`),u=t.likes&&t.likes[e.uid];ms(c,{[e.uid]:u?null:!0})},a=()=>{const c=Date.now(),u=c-i.current;u<300&&u>0&&(t.likes&&t.likes[e.uid]||s(),r(!0),setTimeout(()=>r(!1),1e3)),i.current=c};return w.jsxs("div",{className:"w-full h-full flex justify-center items-center",onTouchStart:a,onDoubleClick:a,children:[w.jsx("img",{src:t.imageUrl,alt:"Vista detallada",className:"block object-contain max-w-full max-h-full"}),n&&w.jsx("div",{className:"absolute inset-0 flex justify-center items-center pointer-events-none",children:w.jsx(P0,{className:"w-28 h-28 text-white/90 drop-shadow-lg animate-like-heart"})})]})};function oee({fotos:t,indiceInicial:e,onClose:n,user:r}){return!t||t.length===0?null:w.jsxs("div",{className:"fixed inset-0 bg-black/90 flex justify-center items-center z-50 animate-fade-in",children:[w.jsx("button",{onClick:n,className:"absolute top-4 right-4 bg-white/20 text-white rounded-full w-10 h-10 flex items-center justify-center text-2xl font-bold z-20 hover:bg-white/30","aria-label":"Cerrar",children:"×"}),w.jsx(mO,{modules:[ree,iee],initialSlide:e,navigation:!0,pagination:{clickable:!0},className:"w-full h-full",children:t.map(i=>w.jsx(gO,{children:w.jsx(see,{foto:i,user:r})},i.id))})]})}function aee(){const{user:t,rol:e}=si(),[n,r]=C.useState(!1),[i,s]=C.useState([]),[a,c]=C.useState(!0),[u,f]=C.useState({abierto:!1,indiceInicial:0});C.useEffect(()=>{const x=Ce(Te,"galeria"),_=Jt(x,T=>{const I=T.val(),P=(I?Object.keys(I).map(k=>({id:k,...I[k]})):[]).filter(k=>k.visible!==!1);s(P.sort((k,j)=>j.timestamp-k.timestamp)),c(!1)});return()=>_()},[]);const h=x=>{f({abierto:!0,indiceInicial:x})},g=()=>{f({abierto:!1,indiceInicial:0})},v=x=>{if(window.confirm("¿Seguro que quieres ocultar esta foto de la galería?")){const _=Ce(Te,`galeria/${x}`);ms(_,{visible:!1})}};return w.jsxs("div",{className:"w-full min-h-screen bg-main-background text-white font-qatar flex flex-col",children:[w.jsx(cr,{}),w.jsxs("div",{className:"container mx-auto px-4 py-8 flex-grow",children:[w.jsxs("div",{className:"flex justify-between items-center mb-6",children:[w.jsx("h1",{className:"text-4xl md:text-5xl font-bold text-yellow-400 drop-shadow-lg",children:"Galería"}),(e==="admin"||e==="superadmin")&&w.jsx("button",{onClick:()=>r(!0),className:"bg-yellow-500 text-black rounded-full w-12 h-12 flex items-center justify-center shadow-lg hover:bg-yellow-400 transition-transform duration-200 hover:scale-110","aria-label":"Subir Foto",children:w.jsx(iA,{className:"w-7 h-7"})})]}),a?w.jsx("p",{className:"text-center text-xl",children:"Cargando galería..."}):i.length>0?w.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 gap-3 md:gap-4",children:i.map((x,_)=>w.jsx(PQ,{foto:x,onImageClick:()=>h(_),onBorrarClick:()=>v(x.id),esAdmin:e==="admin"||e==="superadmin"},x.id))}):w.jsx("p",{className:"text-center text-xl",children:"Aún no hay fotos en la galería. ¡Sube la primera!"})]}),w.jsx(ur,{}),w.jsx(CQ,{open:n,onClose:()=>r(!1)}),u.abierto&&w.jsx(oee,{fotos:i,indiceInicial:u.indiceInicial,onClose:g,user:t,esAdmin:e==="admin"||e==="superadmin",onBorrarClick:v})]})}function lee({mvps:t,onSelect:e,onClose:n,jugadoresYaSeleccionados:r=[]}){if(!t)return null;const i=t.filter(s=>!r.some(a=>a?.nombre===s.nombre));return w.jsx("div",{className:"fixed inset-0 flex items-center justify-center z-50 bg-black/80 p-4 font-qatar",children:w.jsxs("div",{className:"bg-gray-800 border border-yellow-500/30 rounded-xl shadow-2xl w-full max-w-md mx-auto",children:[w.jsxs("div",{className:"flex justify-between items-center p-4 border-b border-gray-700",children:[w.jsx("h2",{className:"text-xl font-bold text-yellow-400",children:"Seleccionar Jugador Estrella"}),w.jsx("button",{onClick:n,className:"text-gray-400 hover:text-white text-2xl",children:"×"})]}),w.jsx("div",{className:"p-4 max-h-[60vh] overflow-y-auto",children:i.length>0?w.jsx("ul",{className:"space-y-2",children:i.map((s,a)=>w.jsxs("li",{className:"bg-gray-700 p-3 rounded-lg flex items-center justify-between",children:[w.jsxs("div",{children:[w.jsx("p",{className:"font-bold text-white",children:s.nombre}),w.jsxs("p",{className:"text-sm text-gray-400",children:[s.equipo," - ",s.genero]})]}),w.jsx("button",{onClick:()=>e(s),className:"bg-green-600 text-white p-2 rounded-full hover:bg-green-500 transition-transform hover:scale-110",title:`Seleccionar a ${s.nombre}`,children:w.jsx(G8,{className:"w-5 h-5"})})]},a))}):w.jsx("p",{className:"text-center text-gray-400 py-8",children:"No hay nuevos MVPs disponibles o ya han sido seleccionados."})})]})})}const cee=t=>t?`/EmproChampions-2025/camisas/camisa-${t.toLowerCase().replace(/\s+/g,"-")}.png`:"/EmproChampions-2025/camisas/camisa-default.png",uee=t=>t&&["don bosco","luz","emprosaurios"].includes(t.toLowerCase())?"#000":"#fff",dee=t=>t?`/EmproChampions-2025/img/escudos/${t.toLowerCase().replace(/\s+/g,"")}.png`:"",fee=[{top:"15%",left:"50%"},{top:"35%",left:"25%"},{top:"35%",left:"75%"},{top:"65%",left:"25%"},{top:"65%",left:"75%"},{top:"85%",left:"50%"}];function k2({titulo:t,jugadores:e,onSlotClick:n,isAdmin:r,onDeleteSlot:i}){return w.jsxs("div",{className:"flex flex-col items-center",children:[w.jsx("h2",{className:"text-3xl font-bold text-yellow-400 mb-4",children:t}),w.jsxs("div",{className:"relative w-[300px] h-[510px] sm:w-[400px] sm:h-[680px]",children:[w.jsx("img",{src:"/EmproChampions-2025/img/cancha-vertical.svg",alt:"cancha",className:"w-full h-full"}),e.map((s,a)=>w.jsx("div",{className:`absolute group ${r?"cursor-pointer hover:scale-110 transition-transform":""}`,style:{...fee[a],transform:"translate(-50%, -50%)"},onClick:()=>r&&n(a),children:s?w.jsxs("div",{className:"relative w-fit flex flex-col items-center text-center",children:[r&&w.jsx("button",{onClick:c=>{c.stopPropagation(),i(a)},className:"absolute -top-2 -right-2 z-30 text-red-500 bg-white rounded-full opacity-0 group-hover:opacity-100 transition-opacity",title:"Quitar jugador",children:w.jsx(Y8,{className:"w-6 h-6"})}),w.jsxs("div",{className:"relative",children:[w.jsx("img",{src:cee(s.equipo),className:"w-16 md:w-20 relative z-10 drop-shadow-lg",alt:`Camiseta de ${s.equipo}`}),w.jsx("div",{className:"absolute top-[12%] font-barcelona text-[24px] md:text-[30px] z-20 pointer-events-none w-full",style:{color:uee(s.equipo),textShadow:"1px 1px 2px rgba(0,0,0,0.6)"},children:s.dorsal})]}),w.jsxs("div",{className:"absolute bottom-[-25px] flex items-center gap-2 font-barcelona text-[12px] text-white bg-black/80 px-2 py-1 rounded z-20 whitespace-nowrap",children:[w.jsx("img",{src:dee(s.equipo),alt:s.equipo,className:"w-4 h-4"}),w.jsx("span",{children:s.nombre})]})]}):w.jsx("div",{className:"w-16 h-16 bg-black/50 rounded-full flex items-center justify-center text-white text-4xl border-2 border-dashed border-gray-500",children:r&&"+"})},a))]})]})}function hee(){const{rol:t}=si(),e=t==="admin"||t==="superadmin",[n,r]=C.useState(Array(6).fill(null)),[i,s]=C.useState(Array(6).fill(null)),[a,c]=C.useState(""),[u,f]=C.useState(""),[h,g]=C.useState([]),[v,x]=C.useState(!0),[_,T]=C.useState(!1),[I,R]=C.useState(null);C.useEffect(()=>{const N=Ce(Te,"equipoIdeal/masculino"),O=Ce(Te,"equipoIdeal/femenino"),b=Jt(N,V=>{const F=V.val();c(F?.jornadaInfo||"Equipo Masculino");const Q=F?.jugadores||[];for(;Q.length<6;)Q.push(null);r(Q)}),M=Jt(O,V=>{const F=V.val();f(F?.jornadaInfo||"Equipo Femenino");const Q=F?.jugadores||[];for(;Q.length<6;)Q.push(null);s(Q)});return e&&(async()=>{const F=Ce(Te,"mvps_registrados"),Q=await ti(F);if(Q.exists()){const ae=Q.val(),re=Object.values(ae);g(re)}})(),x(!1),()=>{b(),M()}},[e]);const P=(N,O)=>{R({genero:N,index:O}),T(!0)},k=N=>{if(!I)return;const{genero:O,index:b}=I;if(O==="masculino"){const M=[...n];M[b]=N,r(M)}else{const M=[...i];M[b]=N,s(M)}T(!1)},j=(N,O)=>{if(N==="masculino"){const b=[...n];b[O]=null,r(b)}else{const b=[...i];b[O]=null,s(b)}},$=async()=>{try{await At(Ce(Te,"equipoIdeal/masculino"),{jornadaInfo:a,jugadores:n.filter(N=>N!=null)}),await At(Ce(Te,"equipoIdeal/femenino"),{jornadaInfo:u,jugadores:i.filter(N=>N!=null)}),alert("¡Equipos Ideales guardados con éxito!")}catch(N){console.error("Error al guardar:",N),alert("Error al guardar los cambios.")}},B=h.filter(N=>N.genero===I?.genero),L=I?.genero==="masculino"?n:i;return v?w.jsx("div",{className:"w-full h-screen bg-main-background flex justify-center items-center text-white text-2xl",children:"Cargando..."}):w.jsxs("div",{className:"w-full min-h-screen bg-main-background text-white font-qatar flex flex-col",children:[w.jsx(cr,{}),w.jsxs("div",{className:"container mx-auto px-4 py-8 flex-grow",children:[w.jsx("div",{className:"text-center mb-12",children:w.jsxs("h1",{className:"text-4xl md:text-5xl font-bold text-yellow-400 drop-shadow-lg flex items-center justify-center gap-4",children:[w.jsx(I0,{className:"w-10 h-10"}),"Equipo Ideal del Torneo",w.jsx(I0,{className:"w-10 h-10"})]})}),w.jsxs("div",{className:"flex flex-col lg:flex-row justify-center items-start gap-8 lg:gap-16",children:[w.jsx(k2,{titulo:e?w.jsx("input",{type:"text",value:a,onChange:N=>c(N.target.value),className:"text-3xl font-bold text-yellow-400 bg-transparent text-center outline-none w-full"}):a,jugadores:n,onSlotClick:N=>P("masculino",N),onDeleteSlot:N=>j("masculino",N),isAdmin:e}),w.jsx(k2,{titulo:e?w.jsx("input",{type:"text",value:u,onChange:N=>f(N.target.value),className:"text-3xl font-bold text-yellow-400 bg-transparent text-center outline-none w-full"}):u,jugadores:i,onSlotClick:N=>P("femenino",N),onDeleteSlot:N=>j("femenino",N),isAdmin:e})]}),e&&w.jsx("div",{className:"text-center mt-12",children:w.jsx("button",{onClick:$,className:"bg-green-600 text-white font-bold px-8 py-3 rounded-lg text-xl hover:bg-green-500 transition-transform hover:scale-105",children:"Guardar Cambios"})})]}),w.jsx(ur,{}),_&&w.jsx(lee,{mvps:B,onSelect:k,onClose:()=>T(!1),jugadoresYaSeleccionados:L})]})}function Qi({children:t}){const{user:e,loading:n}=si();return n?w.jsx("div",{className:"text-white flex justify-center items-center h-screen",children:"Cargando aplicación..."}):e?t:w.jsx(Qy,{to:"/login",replace:!0})}function Qh({children:t}){const{user:e,rol:n,loading:r}=si();return r?w.jsx("div",{className:"text-white flex justify-center items-center h-screen",children:"Cargando aplicación..."}):e?n!=="admin"&&n!=="superadmin"?w.jsx(Qy,{to:"/",replace:!0}):t:w.jsx(Qy,{to:"/login",replace:!0})}function pee(){const[t,e]=C.useState(!1),[n,r]=C.useState({title:"",body:""});return C.useEffect(()=>{},[]),C.useEffect(()=>{if("serviceWorker"in navigator&&"PushManager"in window){const i=Fw(To),s=oj(i,a=>{r({title:a.notification.title,body:a.notification.body}),e(!0)});return navigator.serviceWorker.register("/EmproChampions-2025/firebase-messaging-sw.js").then(a=>{console.log("✅ Service Worker registrado:",a)}).catch(a=>{console.error("❌ Error al registrar Service Worker:",a)}),()=>s()}},[]),w.jsx(S8,{children:w.jsxs(WM,{basename:"/EmproChampions-2025",children:[t&&w.jsx(aA,{title:n.title,body:n.body,onClose:()=>e(!1)}),w.jsxs(xM,{children:[w.jsx(sn,{path:"/login",element:w.jsx(C8,{})}),w.jsx(sn,{path:"/registro",element:w.jsx(T8,{})}),w.jsx(sn,{path:"/",element:w.jsx(Qi,{children:w.jsx(bU,{})})}),w.jsx(sn,{path:"/partido/configurar",element:w.jsx(Qh,{children:w.jsx(iC,{})})}),w.jsx(sn,{path:"/partido/alineacion",element:w.jsx(Qh,{children:w.jsx(PW,{})})}),w.jsx(sn,{path:"/control-partido/:partidoId",element:w.jsx(Qh,{children:w.jsx(AU,{})})}),w.jsx(sn,{path:"/match/:partidoId",element:w.jsx(Qi,{children:w.jsx(iC,{modo:"ver"})})}),w.jsx(sn,{path:"/goleadores/:genero",element:w.jsx(Qi,{children:w.jsx(RU,{})})}),w.jsx(sn,{path:"/historial/:genero",element:w.jsx(Qi,{children:w.jsx(OU,{})})}),w.jsx(sn,{path:"/configuracion",element:w.jsx(Qi,{children:w.jsx(zY,{})})}),w.jsx(sn,{path:"/partido/editar/:partidoId",element:w.jsx(Qh,{children:w.jsx(HY,{})})}),w.jsx(sn,{path:"/calendario/:genero",element:w.jsx(Qi,{children:w.jsx(aQ,{})})}),w.jsx(sn,{path:"/partido/en-vivo/:partidoId",element:w.jsx(Qi,{children:w.jsx(SQ,{})})}),w.jsx(sn,{path:"/galeria",element:w.jsx(Qi,{children:w.jsx(aee,{})})}),w.jsx(sn,{path:"/equipo-ideal",element:w.jsx(Qi,{children:w.jsx(hee,{})})}),w.jsx(sn,{path:"*",element:w.jsx("div",{className:"text-white text-center p-8",children:w.jsx("h2",{children:"404: Página no encontrada"})})})]})]})})}const ta=sessionStorage.getItem("redirect");sessionStorage.removeItem("redirect");if(ta&&ta!==window.location.pathname.replace("/EmproChampions-2025","")){let t=ta;const e="/EmproChampions-2025";ta.startsWith(e)?(t=ta.substring(e.length),t.startsWith("/")||(t="/"+t)):ta.startsWith("/")||(t="/"+ta),t!==window.location.pathname.replace(e,"")&&(window.history.replaceState(null,null,e+(t==="/"?"":t)),console.log("Redirecting to:",e+(t==="/"?"":t)))}A5.createRoot(document.getElementById("root")).render(w.jsx(me.StrictMode,{children:w.jsx(pee,{})}));if("serviceWorker"in navigator){const t="/EmproChampions-2025/firebase-messaging-sw.js";navigator.serviceWorker.register(t,{scope:"/EmproChampions-2025/"}).then(e=>{console.log("Service Worker registrado:",e,"con ruta:",t,"y scope:",e.scope)}).catch(e=>{console.error("Fallo el registro del Service Worker:",e,"con ruta:",t)})}
