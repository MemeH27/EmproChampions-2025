function wN(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();function Hy(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var KS={exports:{}},Vh={},YS={exports:{}},ce={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ac=Symbol.for("react.element"),xN=Symbol.for("react.portal"),EN=Symbol.for("react.fragment"),CN=Symbol.for("react.strict_mode"),SN=Symbol.for("react.profiler"),bN=Symbol.for("react.provider"),TN=Symbol.for("react.context"),kN=Symbol.for("react.forward_ref"),IN=Symbol.for("react.suspense"),PN=Symbol.for("react.memo"),AN=Symbol.for("react.lazy"),Yw=Symbol.iterator;function RN(t){return t===null||typeof t!="object"?null:(t=Yw&&t[Yw]||t["@@iterator"],typeof t=="function"?t:null)}var XS={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},JS=Object.assign,QS={};function ha(t,e,n){this.props=t,this.context=e,this.refs=QS,this.updater=n||XS}ha.prototype.isReactComponent={};ha.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};ha.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function ZS(){}ZS.prototype=ha.prototype;function qy(t,e,n){this.props=t,this.context=e,this.refs=QS,this.updater=n||XS}var Gy=qy.prototype=new ZS;Gy.constructor=qy;JS(Gy,ha.prototype);Gy.isPureReactComponent=!0;var Xw=Array.isArray,eb=Object.prototype.hasOwnProperty,Ky={current:null},tb={key:!0,ref:!0,__self:!0,__source:!0};function nb(t,e,n){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)eb.call(e,r)&&!tb.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];i.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:Ac,type:t,key:s,ref:o,props:i,_owner:Ky.current}}function NN(t,e){return{$$typeof:Ac,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Yy(t){return typeof t=="object"&&t!==null&&t.$$typeof===Ac}function DN(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var Jw=/\/+/g;function wp(t,e){return typeof t=="object"&&t!==null&&t.key!=null?DN(""+t.key):e.toString(36)}function ed(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case Ac:case xN:o=!0}}if(o)return o=t,i=i(o),t=r===""?"."+wp(o,0):r,Xw(i)?(n="",t!=null&&(n=t.replace(Jw,"$&/")+"/"),ed(i,e,n,"",function(c){return c})):i!=null&&(Yy(i)&&(i=NN(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(Jw,"$&/")+"/")+t)),e.push(i)),1;if(o=0,r=r===""?".":r+":",Xw(t))for(var a=0;a<t.length;a++){s=t[a];var l=r+wp(s,a);o+=ed(s,e,n,l,i)}else if(l=RN(t),typeof l=="function")for(t=l.call(t),a=0;!(s=t.next()).done;)s=s.value,l=r+wp(s,a++),o+=ed(s,e,n,l,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function _u(t,e,n){if(t==null)return t;var r=[],i=0;return ed(t,r,"","",function(s){return e.call(n,s,i++)}),r}function ON(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Wt={current:null},td={transition:null},MN={ReactCurrentDispatcher:Wt,ReactCurrentBatchConfig:td,ReactCurrentOwner:Ky};function rb(){throw Error("act(...) is not supported in production builds of React.")}ce.Children={map:_u,forEach:function(t,e,n){_u(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return _u(t,function(){e++}),e},toArray:function(t){return _u(t,function(e){return e})||[]},only:function(t){if(!Yy(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};ce.Component=ha;ce.Fragment=EN;ce.Profiler=SN;ce.PureComponent=qy;ce.StrictMode=CN;ce.Suspense=IN;ce.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=MN;ce.act=rb;ce.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=JS({},t.props),i=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=Ky.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)eb.call(e,l)&&!tb.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];r.children=a}return{$$typeof:Ac,type:t.type,key:i,ref:s,props:r,_owner:o}};ce.createContext=function(t){return t={$$typeof:TN,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:bN,_context:t},t.Consumer=t};ce.createElement=nb;ce.createFactory=function(t){var e=nb.bind(null,t);return e.type=t,e};ce.createRef=function(){return{current:null}};ce.forwardRef=function(t){return{$$typeof:kN,render:t}};ce.isValidElement=Yy;ce.lazy=function(t){return{$$typeof:AN,_payload:{_status:-1,_result:t},_init:ON}};ce.memo=function(t,e){return{$$typeof:PN,type:t,compare:e===void 0?null:e}};ce.startTransition=function(t){var e=td.transition;td.transition={};try{t()}finally{td.transition=e}};ce.unstable_act=rb;ce.useCallback=function(t,e){return Wt.current.useCallback(t,e)};ce.useContext=function(t){return Wt.current.useContext(t)};ce.useDebugValue=function(){};ce.useDeferredValue=function(t){return Wt.current.useDeferredValue(t)};ce.useEffect=function(t,e){return Wt.current.useEffect(t,e)};ce.useId=function(){return Wt.current.useId()};ce.useImperativeHandle=function(t,e,n){return Wt.current.useImperativeHandle(t,e,n)};ce.useInsertionEffect=function(t,e){return Wt.current.useInsertionEffect(t,e)};ce.useLayoutEffect=function(t,e){return Wt.current.useLayoutEffect(t,e)};ce.useMemo=function(t,e){return Wt.current.useMemo(t,e)};ce.useReducer=function(t,e,n){return Wt.current.useReducer(t,e,n)};ce.useRef=function(t){return Wt.current.useRef(t)};ce.useState=function(t){return Wt.current.useState(t)};ce.useSyncExternalStore=function(t,e,n){return Wt.current.useSyncExternalStore(t,e,n)};ce.useTransition=function(){return Wt.current.useTransition()};ce.version="18.3.1";YS.exports=ce;var T=YS.exports;const hs=Hy(T),Qw=wN({__proto__:null,default:hs},[T]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var LN=T,jN=Symbol.for("react.element"),FN=Symbol.for("react.fragment"),$N=Object.prototype.hasOwnProperty,UN=LN.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,VN={key:!0,ref:!0,__self:!0,__source:!0};function ib(t,e,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)$N.call(e,r)&&!VN.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:jN,type:t,key:s,ref:o,props:i,_owner:UN.current}}Vh.Fragment=FN;Vh.jsx=ib;Vh.jsxs=ib;KS.exports=Vh;var m=KS.exports,Om={},sb={exports:{}},yn={},ob={exports:{}},ab={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e($,K){var X=$.length;$.push(K);e:for(;0<X;){var _e=X-1>>>1,ne=$[_e];if(0<i(ne,K))$[_e]=K,$[X]=ne,X=_e;else break e}}function n($){return $.length===0?null:$[0]}function r($){if($.length===0)return null;var K=$[0],X=$.pop();if(X!==K){$[0]=X;e:for(var _e=0,ne=$.length,ee=ne>>>1;_e<ee;){var J=2*(_e+1)-1,ue=$[J],de=J+1,re=$[de];if(0>i(ue,X))de<ne&&0>i(re,ue)?($[_e]=re,$[de]=X,_e=de):($[_e]=ue,$[J]=X,_e=J);else if(de<ne&&0>i(re,X))$[_e]=re,$[de]=X,_e=de;else break e}}return K}function i($,K){var X=$.sortIndex-K.sortIndex;return X!==0?X:$.id-K.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],c=[],d=1,h=null,f=3,y=!1,_=!1,S=!1,P=typeof setTimeout=="function"?setTimeout:null,w=typeof clearTimeout=="function"?clearTimeout:null,C=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function E($){for(var K=n(c);K!==null;){if(K.callback===null)r(c);else if(K.startTime<=$)r(c),K.sortIndex=K.expirationTime,e(l,K);else break;K=n(c)}}function A($){if(S=!1,E($),!_)if(n(l)!==null)_=!0,G(D);else{var K=n(c);K!==null&&q(A,K.startTime-$)}}function D($,K){_=!1,S&&(S=!1,w(x),x=-1),y=!0;var X=f;try{for(E(K),h=n(l);h!==null&&(!(h.expirationTime>K)||$&&!R());){var _e=h.callback;if(typeof _e=="function"){h.callback=null,f=h.priorityLevel;var ne=_e(h.expirationTime<=K);K=t.unstable_now(),typeof ne=="function"?h.callback=ne:h===n(l)&&r(l),E(K)}else r(l);h=n(l)}if(h!==null)var ee=!0;else{var J=n(c);J!==null&&q(A,J.startTime-K),ee=!1}return ee}finally{h=null,f=X,y=!1}}var M=!1,b=null,x=-1,I=5,g=-1;function R(){return!(t.unstable_now()-g<I)}function O(){if(b!==null){var $=t.unstable_now();g=$;var K=!0;try{K=b(!0,$)}finally{K?N():(M=!1,b=null)}}else M=!1}var N;if(typeof C=="function")N=function(){C(O)};else if(typeof MessageChannel<"u"){var U=new MessageChannel,W=U.port2;U.port1.onmessage=O,N=function(){W.postMessage(null)}}else N=function(){P(O,0)};function G($){b=$,M||(M=!0,N())}function q($,K){x=P(function(){$(t.unstable_now())},K)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function($){$.callback=null},t.unstable_continueExecution=function(){_||y||(_=!0,G(D))},t.unstable_forceFrameRate=function($){0>$||125<$?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<$?Math.floor(1e3/$):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function($){switch(f){case 1:case 2:case 3:var K=3;break;default:K=f}var X=f;f=K;try{return $()}finally{f=X}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function($,K){switch($){case 1:case 2:case 3:case 4:case 5:break;default:$=3}var X=f;f=$;try{return K()}finally{f=X}},t.unstable_scheduleCallback=function($,K,X){var _e=t.unstable_now();switch(typeof X=="object"&&X!==null?(X=X.delay,X=typeof X=="number"&&0<X?_e+X:_e):X=_e,$){case 1:var ne=-1;break;case 2:ne=250;break;case 5:ne=1073741823;break;case 4:ne=1e4;break;default:ne=5e3}return ne=X+ne,$={id:d++,callback:K,priorityLevel:$,startTime:X,expirationTime:ne,sortIndex:-1},X>_e?($.sortIndex=X,e(c,$),n(l)===null&&$===n(c)&&(S?(w(x),x=-1):S=!0,q(A,X-_e))):($.sortIndex=ne,e(l,$),_||y||(_=!0,G(D))),$},t.unstable_shouldYield=R,t.unstable_wrapCallback=function($){var K=f;return function(){var X=f;f=K;try{return $.apply(this,arguments)}finally{f=X}}}})(ab);ob.exports=ab;var BN=ob.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zN=T,mn=BN;function V(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var lb=new Set,Vl={};function Vs(t,e){zo(t,e),zo(t+"Capture",e)}function zo(t,e){for(Vl[t]=e,t=0;t<e.length;t++)lb.add(e[t])}var qr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Mm=Object.prototype.hasOwnProperty,WN=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Zw={},e1={};function HN(t){return Mm.call(e1,t)?!0:Mm.call(Zw,t)?!1:WN.test(t)?e1[t]=!0:(Zw[t]=!0,!1)}function qN(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function GN(t,e,n,r){if(e===null||typeof e>"u"||qN(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Ht(t,e,n,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var wt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){wt[t]=new Ht(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];wt[e]=new Ht(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){wt[t]=new Ht(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){wt[t]=new Ht(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){wt[t]=new Ht(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){wt[t]=new Ht(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){wt[t]=new Ht(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){wt[t]=new Ht(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){wt[t]=new Ht(t,5,!1,t.toLowerCase(),null,!1,!1)});var Xy=/[\-:]([a-z])/g;function Jy(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Xy,Jy);wt[e]=new Ht(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Xy,Jy);wt[e]=new Ht(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Xy,Jy);wt[e]=new Ht(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){wt[t]=new Ht(t,1,!1,t.toLowerCase(),null,!1,!1)});wt.xlinkHref=new Ht("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){wt[t]=new Ht(t,1,!1,t.toLowerCase(),null,!0,!0)});function Qy(t,e,n,r){var i=wt.hasOwnProperty(e)?wt[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(GN(e,n,i,r)&&(n=null),r||i===null?HN(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var ri=zN.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,wu=Symbol.for("react.element"),uo=Symbol.for("react.portal"),ho=Symbol.for("react.fragment"),Zy=Symbol.for("react.strict_mode"),Lm=Symbol.for("react.profiler"),cb=Symbol.for("react.provider"),ub=Symbol.for("react.context"),e0=Symbol.for("react.forward_ref"),jm=Symbol.for("react.suspense"),Fm=Symbol.for("react.suspense_list"),t0=Symbol.for("react.memo"),mi=Symbol.for("react.lazy"),db=Symbol.for("react.offscreen"),t1=Symbol.iterator;function za(t){return t===null||typeof t!="object"?null:(t=t1&&t[t1]||t["@@iterator"],typeof t=="function"?t:null)}var Ue=Object.assign,xp;function al(t){if(xp===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);xp=e&&e[1]||""}return`
`+xp+t}var Ep=!1;function Cp(t,e){if(!t||Ep)return"";Ep=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var r=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){r=c}t.call(e.prototype)}else{try{throw Error()}catch(c){r=c}t()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var i=c.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var l=`
`+i[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{Ep=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?al(t):""}function KN(t){switch(t.tag){case 5:return al(t.type);case 16:return al("Lazy");case 13:return al("Suspense");case 19:return al("SuspenseList");case 0:case 2:case 15:return t=Cp(t.type,!1),t;case 11:return t=Cp(t.type.render,!1),t;case 1:return t=Cp(t.type,!0),t;default:return""}}function $m(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case ho:return"Fragment";case uo:return"Portal";case Lm:return"Profiler";case Zy:return"StrictMode";case jm:return"Suspense";case Fm:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case ub:return(t.displayName||"Context")+".Consumer";case cb:return(t._context.displayName||"Context")+".Provider";case e0:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case t0:return e=t.displayName||null,e!==null?e:$m(t.type)||"Memo";case mi:e=t._payload,t=t._init;try{return $m(t(e))}catch{}}return null}function YN(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return $m(e);case 8:return e===Zy?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function ji(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function hb(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function XN(t){var e=hb(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function xu(t){t._valueTracker||(t._valueTracker=XN(t))}function fb(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=hb(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Ad(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Um(t,e){var n=e.checked;return Ue({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function n1(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=ji(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function pb(t,e){e=e.checked,e!=null&&Qy(t,"checked",e,!1)}function Vm(t,e){pb(t,e);var n=ji(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Bm(t,e.type,n):e.hasOwnProperty("defaultValue")&&Bm(t,e.type,ji(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function r1(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Bm(t,e,n){(e!=="number"||Ad(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var ll=Array.isArray;function Po(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+ji(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function zm(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(V(91));return Ue({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function i1(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(V(92));if(ll(n)){if(1<n.length)throw Error(V(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:ji(n)}}function mb(t,e){var n=ji(e.value),r=ji(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function s1(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function gb(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Wm(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?gb(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Eu,yb=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Eu=Eu||document.createElement("div"),Eu.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Eu.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Bl(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var yl={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},JN=["Webkit","ms","Moz","O"];Object.keys(yl).forEach(function(t){JN.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),yl[e]=yl[t]})});function vb(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||yl.hasOwnProperty(t)&&yl[t]?(""+e).trim():e+"px"}function _b(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=vb(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var QN=Ue({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Hm(t,e){if(e){if(QN[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(V(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(V(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(V(61))}if(e.style!=null&&typeof e.style!="object")throw Error(V(62))}}function qm(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Gm=null;function n0(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Km=null,Ao=null,Ro=null;function o1(t){if(t=Dc(t)){if(typeof Km!="function")throw Error(V(280));var e=t.stateNode;e&&(e=qh(e),Km(t.stateNode,t.type,e))}}function wb(t){Ao?Ro?Ro.push(t):Ro=[t]:Ao=t}function xb(){if(Ao){var t=Ao,e=Ro;if(Ro=Ao=null,o1(t),e)for(t=0;t<e.length;t++)o1(e[t])}}function Eb(t,e){return t(e)}function Cb(){}var Sp=!1;function Sb(t,e,n){if(Sp)return t(e,n);Sp=!0;try{return Eb(t,e,n)}finally{Sp=!1,(Ao!==null||Ro!==null)&&(Cb(),xb())}}function zl(t,e){var n=t.stateNode;if(n===null)return null;var r=qh(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(V(231,e,typeof n));return n}var Ym=!1;if(qr)try{var Wa={};Object.defineProperty(Wa,"passive",{get:function(){Ym=!0}}),window.addEventListener("test",Wa,Wa),window.removeEventListener("test",Wa,Wa)}catch{Ym=!1}function ZN(t,e,n,r,i,s,o,a,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(d){this.onError(d)}}var vl=!1,Rd=null,Nd=!1,Xm=null,eD={onError:function(t){vl=!0,Rd=t}};function tD(t,e,n,r,i,s,o,a,l){vl=!1,Rd=null,ZN.apply(eD,arguments)}function nD(t,e,n,r,i,s,o,a,l){if(tD.apply(this,arguments),vl){if(vl){var c=Rd;vl=!1,Rd=null}else throw Error(V(198));Nd||(Nd=!0,Xm=c)}}function Bs(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function bb(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function a1(t){if(Bs(t)!==t)throw Error(V(188))}function rD(t){var e=t.alternate;if(!e){if(e=Bs(t),e===null)throw Error(V(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return a1(i),t;if(s===r)return a1(i),e;s=s.sibling}throw Error(V(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o)throw Error(V(189))}}if(n.alternate!==r)throw Error(V(190))}if(n.tag!==3)throw Error(V(188));return n.stateNode.current===n?t:e}function Tb(t){return t=rD(t),t!==null?kb(t):null}function kb(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=kb(t);if(e!==null)return e;t=t.sibling}return null}var Ib=mn.unstable_scheduleCallback,l1=mn.unstable_cancelCallback,iD=mn.unstable_shouldYield,sD=mn.unstable_requestPaint,Xe=mn.unstable_now,oD=mn.unstable_getCurrentPriorityLevel,r0=mn.unstable_ImmediatePriority,Pb=mn.unstable_UserBlockingPriority,Dd=mn.unstable_NormalPriority,aD=mn.unstable_LowPriority,Ab=mn.unstable_IdlePriority,Bh=null,hr=null;function lD(t){if(hr&&typeof hr.onCommitFiberRoot=="function")try{hr.onCommitFiberRoot(Bh,t,void 0,(t.current.flags&128)===128)}catch{}}var Xn=Math.clz32?Math.clz32:dD,cD=Math.log,uD=Math.LN2;function dD(t){return t>>>=0,t===0?32:31-(cD(t)/uD|0)|0}var Cu=64,Su=4194304;function cl(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Od(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~i;a!==0?r=cl(a):(s&=o,s!==0&&(r=cl(s)))}else o=n&~i,o!==0?r=cl(o):s!==0&&(r=cl(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Xn(e),i=1<<n,r|=t[n],e&=~i;return r}function hD(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function fD(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-Xn(s),a=1<<o,l=i[o];l===-1?(!(a&n)||a&r)&&(i[o]=hD(a,e)):l<=e&&(t.expiredLanes|=a),s&=~a}}function Jm(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function Rb(){var t=Cu;return Cu<<=1,!(Cu&4194240)&&(Cu=64),t}function bp(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Rc(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Xn(e),t[e]=n}function pD(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-Xn(n),s=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~s}}function i0(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Xn(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var we=0;function Nb(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var Db,s0,Ob,Mb,Lb,Qm=!1,bu=[],Ti=null,ki=null,Ii=null,Wl=new Map,Hl=new Map,yi=[],mD="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function c1(t,e){switch(t){case"focusin":case"focusout":Ti=null;break;case"dragenter":case"dragleave":ki=null;break;case"mouseover":case"mouseout":Ii=null;break;case"pointerover":case"pointerout":Wl.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Hl.delete(e.pointerId)}}function Ha(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=Dc(e),e!==null&&s0(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function gD(t,e,n,r,i){switch(e){case"focusin":return Ti=Ha(Ti,t,e,n,r,i),!0;case"dragenter":return ki=Ha(ki,t,e,n,r,i),!0;case"mouseover":return Ii=Ha(Ii,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return Wl.set(s,Ha(Wl.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,Hl.set(s,Ha(Hl.get(s)||null,t,e,n,r,i)),!0}return!1}function jb(t){var e=fs(t.target);if(e!==null){var n=Bs(e);if(n!==null){if(e=n.tag,e===13){if(e=bb(n),e!==null){t.blockedOn=e,Lb(t.priority,function(){Ob(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function nd(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Zm(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Gm=r,n.target.dispatchEvent(r),Gm=null}else return e=Dc(n),e!==null&&s0(e),t.blockedOn=n,!1;e.shift()}return!0}function u1(t,e,n){nd(t)&&n.delete(e)}function yD(){Qm=!1,Ti!==null&&nd(Ti)&&(Ti=null),ki!==null&&nd(ki)&&(ki=null),Ii!==null&&nd(Ii)&&(Ii=null),Wl.forEach(u1),Hl.forEach(u1)}function qa(t,e){t.blockedOn===e&&(t.blockedOn=null,Qm||(Qm=!0,mn.unstable_scheduleCallback(mn.unstable_NormalPriority,yD)))}function ql(t){function e(i){return qa(i,t)}if(0<bu.length){qa(bu[0],t);for(var n=1;n<bu.length;n++){var r=bu[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Ti!==null&&qa(Ti,t),ki!==null&&qa(ki,t),Ii!==null&&qa(Ii,t),Wl.forEach(e),Hl.forEach(e),n=0;n<yi.length;n++)r=yi[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<yi.length&&(n=yi[0],n.blockedOn===null);)jb(n),n.blockedOn===null&&yi.shift()}var No=ri.ReactCurrentBatchConfig,Md=!0;function vD(t,e,n,r){var i=we,s=No.transition;No.transition=null;try{we=1,o0(t,e,n,r)}finally{we=i,No.transition=s}}function _D(t,e,n,r){var i=we,s=No.transition;No.transition=null;try{we=4,o0(t,e,n,r)}finally{we=i,No.transition=s}}function o0(t,e,n,r){if(Md){var i=Zm(t,e,n,r);if(i===null)Mp(t,e,r,Ld,n),c1(t,r);else if(gD(i,t,e,n,r))r.stopPropagation();else if(c1(t,r),e&4&&-1<mD.indexOf(t)){for(;i!==null;){var s=Dc(i);if(s!==null&&Db(s),s=Zm(t,e,n,r),s===null&&Mp(t,e,r,Ld,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else Mp(t,e,r,null,n)}}var Ld=null;function Zm(t,e,n,r){if(Ld=null,t=n0(r),t=fs(t),t!==null)if(e=Bs(t),e===null)t=null;else if(n=e.tag,n===13){if(t=bb(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Ld=t,null}function Fb(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(oD()){case r0:return 1;case Pb:return 4;case Dd:case aD:return 16;case Ab:return 536870912;default:return 16}default:return 16}}var Ci=null,a0=null,rd=null;function $b(){if(rd)return rd;var t,e=a0,n=e.length,r,i="value"in Ci?Ci.value:Ci.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===i[s-r];r++);return rd=i.slice(t,1<r?1-r:void 0)}function id(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Tu(){return!0}function d1(){return!1}function vn(t){function e(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Tu:d1,this.isPropagationStopped=d1,this}return Ue(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Tu)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Tu)},persist:function(){},isPersistent:Tu}),e}var fa={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},l0=vn(fa),Nc=Ue({},fa,{view:0,detail:0}),wD=vn(Nc),Tp,kp,Ga,zh=Ue({},Nc,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:c0,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Ga&&(Ga&&t.type==="mousemove"?(Tp=t.screenX-Ga.screenX,kp=t.screenY-Ga.screenY):kp=Tp=0,Ga=t),Tp)},movementY:function(t){return"movementY"in t?t.movementY:kp}}),h1=vn(zh),xD=Ue({},zh,{dataTransfer:0}),ED=vn(xD),CD=Ue({},Nc,{relatedTarget:0}),Ip=vn(CD),SD=Ue({},fa,{animationName:0,elapsedTime:0,pseudoElement:0}),bD=vn(SD),TD=Ue({},fa,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),kD=vn(TD),ID=Ue({},fa,{data:0}),f1=vn(ID),PD={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},AD={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},RD={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ND(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=RD[t])?!!e[t]:!1}function c0(){return ND}var DD=Ue({},Nc,{key:function(t){if(t.key){var e=PD[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=id(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?AD[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:c0,charCode:function(t){return t.type==="keypress"?id(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?id(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),OD=vn(DD),MD=Ue({},zh,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),p1=vn(MD),LD=Ue({},Nc,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:c0}),jD=vn(LD),FD=Ue({},fa,{propertyName:0,elapsedTime:0,pseudoElement:0}),$D=vn(FD),UD=Ue({},zh,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),VD=vn(UD),BD=[9,13,27,32],u0=qr&&"CompositionEvent"in window,_l=null;qr&&"documentMode"in document&&(_l=document.documentMode);var zD=qr&&"TextEvent"in window&&!_l,Ub=qr&&(!u0||_l&&8<_l&&11>=_l),m1=String.fromCharCode(32),g1=!1;function Vb(t,e){switch(t){case"keyup":return BD.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Bb(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var fo=!1;function WD(t,e){switch(t){case"compositionend":return Bb(e);case"keypress":return e.which!==32?null:(g1=!0,m1);case"textInput":return t=e.data,t===m1&&g1?null:t;default:return null}}function HD(t,e){if(fo)return t==="compositionend"||!u0&&Vb(t,e)?(t=$b(),rd=a0=Ci=null,fo=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return Ub&&e.locale!=="ko"?null:e.data;default:return null}}var qD={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function y1(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!qD[t.type]:e==="textarea"}function zb(t,e,n,r){wb(r),e=jd(e,"onChange"),0<e.length&&(n=new l0("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var wl=null,Gl=null;function GD(t){eT(t,0)}function Wh(t){var e=go(t);if(fb(e))return t}function KD(t,e){if(t==="change")return e}var Wb=!1;if(qr){var Pp;if(qr){var Ap="oninput"in document;if(!Ap){var v1=document.createElement("div");v1.setAttribute("oninput","return;"),Ap=typeof v1.oninput=="function"}Pp=Ap}else Pp=!1;Wb=Pp&&(!document.documentMode||9<document.documentMode)}function _1(){wl&&(wl.detachEvent("onpropertychange",Hb),Gl=wl=null)}function Hb(t){if(t.propertyName==="value"&&Wh(Gl)){var e=[];zb(e,Gl,t,n0(t)),Sb(GD,e)}}function YD(t,e,n){t==="focusin"?(_1(),wl=e,Gl=n,wl.attachEvent("onpropertychange",Hb)):t==="focusout"&&_1()}function XD(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Wh(Gl)}function JD(t,e){if(t==="click")return Wh(e)}function QD(t,e){if(t==="input"||t==="change")return Wh(e)}function ZD(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var er=typeof Object.is=="function"?Object.is:ZD;function Kl(t,e){if(er(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!Mm.call(e,i)||!er(t[i],e[i]))return!1}return!0}function w1(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function x1(t,e){var n=w1(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=w1(n)}}function qb(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?qb(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function Gb(){for(var t=window,e=Ad();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Ad(t.document)}return e}function d0(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function eO(t){var e=Gb(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&qb(n.ownerDocument.documentElement,n)){if(r!==null&&d0(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!t.extend&&s>r&&(i=r,r=s,s=i),i=x1(n,s);var o=x1(n,r);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var tO=qr&&"documentMode"in document&&11>=document.documentMode,po=null,eg=null,xl=null,tg=!1;function E1(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;tg||po==null||po!==Ad(r)||(r=po,"selectionStart"in r&&d0(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),xl&&Kl(xl,r)||(xl=r,r=jd(eg,"onSelect"),0<r.length&&(e=new l0("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=po)))}function ku(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var mo={animationend:ku("Animation","AnimationEnd"),animationiteration:ku("Animation","AnimationIteration"),animationstart:ku("Animation","AnimationStart"),transitionend:ku("Transition","TransitionEnd")},Rp={},Kb={};qr&&(Kb=document.createElement("div").style,"AnimationEvent"in window||(delete mo.animationend.animation,delete mo.animationiteration.animation,delete mo.animationstart.animation),"TransitionEvent"in window||delete mo.transitionend.transition);function Hh(t){if(Rp[t])return Rp[t];if(!mo[t])return t;var e=mo[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in Kb)return Rp[t]=e[n];return t}var Yb=Hh("animationend"),Xb=Hh("animationiteration"),Jb=Hh("animationstart"),Qb=Hh("transitionend"),Zb=new Map,C1="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function qi(t,e){Zb.set(t,e),Vs(e,[t])}for(var Np=0;Np<C1.length;Np++){var Dp=C1[Np],nO=Dp.toLowerCase(),rO=Dp[0].toUpperCase()+Dp.slice(1);qi(nO,"on"+rO)}qi(Yb,"onAnimationEnd");qi(Xb,"onAnimationIteration");qi(Jb,"onAnimationStart");qi("dblclick","onDoubleClick");qi("focusin","onFocus");qi("focusout","onBlur");qi(Qb,"onTransitionEnd");zo("onMouseEnter",["mouseout","mouseover"]);zo("onMouseLeave",["mouseout","mouseover"]);zo("onPointerEnter",["pointerout","pointerover"]);zo("onPointerLeave",["pointerout","pointerover"]);Vs("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Vs("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Vs("onBeforeInput",["compositionend","keypress","textInput","paste"]);Vs("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Vs("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Vs("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ul="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),iO=new Set("cancel close invalid load scroll toggle".split(" ").concat(ul));function S1(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,nD(r,e,void 0,t),t.currentTarget=null}function eT(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==s&&i.isPropagationStopped())break e;S1(i,a,c),s=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,c=a.currentTarget,a=a.listener,l!==s&&i.isPropagationStopped())break e;S1(i,a,c),s=l}}}if(Nd)throw t=Xm,Nd=!1,Xm=null,t}function Ae(t,e){var n=e[og];n===void 0&&(n=e[og]=new Set);var r=t+"__bubble";n.has(r)||(tT(e,t,2,!1),n.add(r))}function Op(t,e,n){var r=0;e&&(r|=4),tT(n,t,r,e)}var Iu="_reactListening"+Math.random().toString(36).slice(2);function Yl(t){if(!t[Iu]){t[Iu]=!0,lb.forEach(function(n){n!=="selectionchange"&&(iO.has(n)||Op(n,!1,t),Op(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Iu]||(e[Iu]=!0,Op("selectionchange",!1,e))}}function tT(t,e,n,r){switch(Fb(e)){case 1:var i=vD;break;case 4:i=_D;break;default:i=o0}n=i.bind(null,e,n,t),i=void 0,!Ym||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function Mp(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;o=o.return}for(;a!==null;){if(o=fs(a),o===null)return;if(l=o.tag,l===5||l===6){r=s=o;continue e}a=a.parentNode}}r=r.return}Sb(function(){var c=s,d=n0(n),h=[];e:{var f=Zb.get(t);if(f!==void 0){var y=l0,_=t;switch(t){case"keypress":if(id(n)===0)break e;case"keydown":case"keyup":y=OD;break;case"focusin":_="focus",y=Ip;break;case"focusout":_="blur",y=Ip;break;case"beforeblur":case"afterblur":y=Ip;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":y=h1;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":y=ED;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":y=jD;break;case Yb:case Xb:case Jb:y=bD;break;case Qb:y=$D;break;case"scroll":y=wD;break;case"wheel":y=VD;break;case"copy":case"cut":case"paste":y=kD;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":y=p1}var S=(e&4)!==0,P=!S&&t==="scroll",w=S?f!==null?f+"Capture":null:f;S=[];for(var C=c,E;C!==null;){E=C;var A=E.stateNode;if(E.tag===5&&A!==null&&(E=A,w!==null&&(A=zl(C,w),A!=null&&S.push(Xl(C,A,E)))),P)break;C=C.return}0<S.length&&(f=new y(f,_,null,n,d),h.push({event:f,listeners:S}))}}if(!(e&7)){e:{if(f=t==="mouseover"||t==="pointerover",y=t==="mouseout"||t==="pointerout",f&&n!==Gm&&(_=n.relatedTarget||n.fromElement)&&(fs(_)||_[Gr]))break e;if((y||f)&&(f=d.window===d?d:(f=d.ownerDocument)?f.defaultView||f.parentWindow:window,y?(_=n.relatedTarget||n.toElement,y=c,_=_?fs(_):null,_!==null&&(P=Bs(_),_!==P||_.tag!==5&&_.tag!==6)&&(_=null)):(y=null,_=c),y!==_)){if(S=h1,A="onMouseLeave",w="onMouseEnter",C="mouse",(t==="pointerout"||t==="pointerover")&&(S=p1,A="onPointerLeave",w="onPointerEnter",C="pointer"),P=y==null?f:go(y),E=_==null?f:go(_),f=new S(A,C+"leave",y,n,d),f.target=P,f.relatedTarget=E,A=null,fs(d)===c&&(S=new S(w,C+"enter",_,n,d),S.target=E,S.relatedTarget=P,A=S),P=A,y&&_)t:{for(S=y,w=_,C=0,E=S;E;E=eo(E))C++;for(E=0,A=w;A;A=eo(A))E++;for(;0<C-E;)S=eo(S),C--;for(;0<E-C;)w=eo(w),E--;for(;C--;){if(S===w||w!==null&&S===w.alternate)break t;S=eo(S),w=eo(w)}S=null}else S=null;y!==null&&b1(h,f,y,S,!1),_!==null&&P!==null&&b1(h,P,_,S,!0)}}e:{if(f=c?go(c):window,y=f.nodeName&&f.nodeName.toLowerCase(),y==="select"||y==="input"&&f.type==="file")var D=KD;else if(y1(f))if(Wb)D=QD;else{D=XD;var M=YD}else(y=f.nodeName)&&y.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(D=JD);if(D&&(D=D(t,c))){zb(h,D,n,d);break e}M&&M(t,f,c),t==="focusout"&&(M=f._wrapperState)&&M.controlled&&f.type==="number"&&Bm(f,"number",f.value)}switch(M=c?go(c):window,t){case"focusin":(y1(M)||M.contentEditable==="true")&&(po=M,eg=c,xl=null);break;case"focusout":xl=eg=po=null;break;case"mousedown":tg=!0;break;case"contextmenu":case"mouseup":case"dragend":tg=!1,E1(h,n,d);break;case"selectionchange":if(tO)break;case"keydown":case"keyup":E1(h,n,d)}var b;if(u0)e:{switch(t){case"compositionstart":var x="onCompositionStart";break e;case"compositionend":x="onCompositionEnd";break e;case"compositionupdate":x="onCompositionUpdate";break e}x=void 0}else fo?Vb(t,n)&&(x="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(x="onCompositionStart");x&&(Ub&&n.locale!=="ko"&&(fo||x!=="onCompositionStart"?x==="onCompositionEnd"&&fo&&(b=$b()):(Ci=d,a0="value"in Ci?Ci.value:Ci.textContent,fo=!0)),M=jd(c,x),0<M.length&&(x=new f1(x,t,null,n,d),h.push({event:x,listeners:M}),b?x.data=b:(b=Bb(n),b!==null&&(x.data=b)))),(b=zD?WD(t,n):HD(t,n))&&(c=jd(c,"onBeforeInput"),0<c.length&&(d=new f1("onBeforeInput","beforeinput",null,n,d),h.push({event:d,listeners:c}),d.data=b))}eT(h,e)})}function Xl(t,e,n){return{instance:t,listener:e,currentTarget:n}}function jd(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=zl(t,n),s!=null&&r.unshift(Xl(t,s,i)),s=zl(t,e),s!=null&&r.push(Xl(t,s,i))),t=t.return}return r}function eo(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function b1(t,e,n,r,i){for(var s=e._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,c=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&c!==null&&(a=c,i?(l=zl(n,s),l!=null&&o.unshift(Xl(n,l,a))):i||(l=zl(n,s),l!=null&&o.push(Xl(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var sO=/\r\n?/g,oO=/\u0000|\uFFFD/g;function T1(t){return(typeof t=="string"?t:""+t).replace(sO,`
`).replace(oO,"")}function Pu(t,e,n){if(e=T1(e),T1(t)!==e&&n)throw Error(V(425))}function Fd(){}var ng=null,rg=null;function ig(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var sg=typeof setTimeout=="function"?setTimeout:void 0,aO=typeof clearTimeout=="function"?clearTimeout:void 0,k1=typeof Promise=="function"?Promise:void 0,lO=typeof queueMicrotask=="function"?queueMicrotask:typeof k1<"u"?function(t){return k1.resolve(null).then(t).catch(cO)}:sg;function cO(t){setTimeout(function(){throw t})}function Lp(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),ql(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);ql(e)}function Pi(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function I1(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var pa=Math.random().toString(36).slice(2),cr="__reactFiber$"+pa,Jl="__reactProps$"+pa,Gr="__reactContainer$"+pa,og="__reactEvents$"+pa,uO="__reactListeners$"+pa,dO="__reactHandles$"+pa;function fs(t){var e=t[cr];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Gr]||n[cr]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=I1(t);t!==null;){if(n=t[cr])return n;t=I1(t)}return e}t=n,n=t.parentNode}return null}function Dc(t){return t=t[cr]||t[Gr],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function go(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(V(33))}function qh(t){return t[Jl]||null}var ag=[],yo=-1;function Gi(t){return{current:t}}function Re(t){0>yo||(t.current=ag[yo],ag[yo]=null,yo--)}function Ie(t,e){yo++,ag[yo]=t.current,t.current=e}var Fi={},Ot=Gi(Fi),nn=Gi(!1),Ts=Fi;function Wo(t,e){var n=t.type.contextTypes;if(!n)return Fi;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function rn(t){return t=t.childContextTypes,t!=null}function $d(){Re(nn),Re(Ot)}function P1(t,e,n){if(Ot.current!==Fi)throw Error(V(168));Ie(Ot,e),Ie(nn,n)}function nT(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(V(108,YN(t)||"Unknown",i));return Ue({},n,r)}function Ud(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Fi,Ts=Ot.current,Ie(Ot,t),Ie(nn,nn.current),!0}function A1(t,e,n){var r=t.stateNode;if(!r)throw Error(V(169));n?(t=nT(t,e,Ts),r.__reactInternalMemoizedMergedChildContext=t,Re(nn),Re(Ot),Ie(Ot,t)):Re(nn),Ie(nn,n)}var Or=null,Gh=!1,jp=!1;function rT(t){Or===null?Or=[t]:Or.push(t)}function hO(t){Gh=!0,rT(t)}function Ki(){if(!jp&&Or!==null){jp=!0;var t=0,e=we;try{var n=Or;for(we=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Or=null,Gh=!1}catch(i){throw Or!==null&&(Or=Or.slice(t+1)),Ib(r0,Ki),i}finally{we=e,jp=!1}}return null}var vo=[],_o=0,Vd=null,Bd=0,En=[],Cn=0,ks=null,Mr=1,Lr="";function is(t,e){vo[_o++]=Bd,vo[_o++]=Vd,Vd=t,Bd=e}function iT(t,e,n){En[Cn++]=Mr,En[Cn++]=Lr,En[Cn++]=ks,ks=t;var r=Mr;t=Lr;var i=32-Xn(r)-1;r&=~(1<<i),n+=1;var s=32-Xn(e)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Mr=1<<32-Xn(e)+i|n<<i|r,Lr=s+t}else Mr=1<<s|n<<i|r,Lr=t}function h0(t){t.return!==null&&(is(t,1),iT(t,1,0))}function f0(t){for(;t===Vd;)Vd=vo[--_o],vo[_o]=null,Bd=vo[--_o],vo[_o]=null;for(;t===ks;)ks=En[--Cn],En[Cn]=null,Lr=En[--Cn],En[Cn]=null,Mr=En[--Cn],En[Cn]=null}var hn=null,dn=null,De=!1,Wn=null;function sT(t,e){var n=bn(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function R1(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,hn=t,dn=Pi(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,hn=t,dn=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=ks!==null?{id:Mr,overflow:Lr}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=bn(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,hn=t,dn=null,!0):!1;default:return!1}}function lg(t){return(t.mode&1)!==0&&(t.flags&128)===0}function cg(t){if(De){var e=dn;if(e){var n=e;if(!R1(t,e)){if(lg(t))throw Error(V(418));e=Pi(n.nextSibling);var r=hn;e&&R1(t,e)?sT(r,n):(t.flags=t.flags&-4097|2,De=!1,hn=t)}}else{if(lg(t))throw Error(V(418));t.flags=t.flags&-4097|2,De=!1,hn=t}}}function N1(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;hn=t}function Au(t){if(t!==hn)return!1;if(!De)return N1(t),De=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!ig(t.type,t.memoizedProps)),e&&(e=dn)){if(lg(t))throw oT(),Error(V(418));for(;e;)sT(t,e),e=Pi(e.nextSibling)}if(N1(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(V(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){dn=Pi(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}dn=null}}else dn=hn?Pi(t.stateNode.nextSibling):null;return!0}function oT(){for(var t=dn;t;)t=Pi(t.nextSibling)}function Ho(){dn=hn=null,De=!1}function p0(t){Wn===null?Wn=[t]:Wn.push(t)}var fO=ri.ReactCurrentBatchConfig;function Ka(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(V(309));var r=n.stateNode}if(!r)throw Error(V(147,t));var i=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var a=i.refs;o===null?delete a[s]:a[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error(V(284));if(!n._owner)throw Error(V(290,t))}return t}function Ru(t,e){throw t=Object.prototype.toString.call(e),Error(V(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function D1(t){var e=t._init;return e(t._payload)}function aT(t){function e(w,C){if(t){var E=w.deletions;E===null?(w.deletions=[C],w.flags|=16):E.push(C)}}function n(w,C){if(!t)return null;for(;C!==null;)e(w,C),C=C.sibling;return null}function r(w,C){for(w=new Map;C!==null;)C.key!==null?w.set(C.key,C):w.set(C.index,C),C=C.sibling;return w}function i(w,C){return w=Di(w,C),w.index=0,w.sibling=null,w}function s(w,C,E){return w.index=E,t?(E=w.alternate,E!==null?(E=E.index,E<C?(w.flags|=2,C):E):(w.flags|=2,C)):(w.flags|=1048576,C)}function o(w){return t&&w.alternate===null&&(w.flags|=2),w}function a(w,C,E,A){return C===null||C.tag!==6?(C=Wp(E,w.mode,A),C.return=w,C):(C=i(C,E),C.return=w,C)}function l(w,C,E,A){var D=E.type;return D===ho?d(w,C,E.props.children,A,E.key):C!==null&&(C.elementType===D||typeof D=="object"&&D!==null&&D.$$typeof===mi&&D1(D)===C.type)?(A=i(C,E.props),A.ref=Ka(w,C,E),A.return=w,A):(A=dd(E.type,E.key,E.props,null,w.mode,A),A.ref=Ka(w,C,E),A.return=w,A)}function c(w,C,E,A){return C===null||C.tag!==4||C.stateNode.containerInfo!==E.containerInfo||C.stateNode.implementation!==E.implementation?(C=Hp(E,w.mode,A),C.return=w,C):(C=i(C,E.children||[]),C.return=w,C)}function d(w,C,E,A,D){return C===null||C.tag!==7?(C=Es(E,w.mode,A,D),C.return=w,C):(C=i(C,E),C.return=w,C)}function h(w,C,E){if(typeof C=="string"&&C!==""||typeof C=="number")return C=Wp(""+C,w.mode,E),C.return=w,C;if(typeof C=="object"&&C!==null){switch(C.$$typeof){case wu:return E=dd(C.type,C.key,C.props,null,w.mode,E),E.ref=Ka(w,null,C),E.return=w,E;case uo:return C=Hp(C,w.mode,E),C.return=w,C;case mi:var A=C._init;return h(w,A(C._payload),E)}if(ll(C)||za(C))return C=Es(C,w.mode,E,null),C.return=w,C;Ru(w,C)}return null}function f(w,C,E,A){var D=C!==null?C.key:null;if(typeof E=="string"&&E!==""||typeof E=="number")return D!==null?null:a(w,C,""+E,A);if(typeof E=="object"&&E!==null){switch(E.$$typeof){case wu:return E.key===D?l(w,C,E,A):null;case uo:return E.key===D?c(w,C,E,A):null;case mi:return D=E._init,f(w,C,D(E._payload),A)}if(ll(E)||za(E))return D!==null?null:d(w,C,E,A,null);Ru(w,E)}return null}function y(w,C,E,A,D){if(typeof A=="string"&&A!==""||typeof A=="number")return w=w.get(E)||null,a(C,w,""+A,D);if(typeof A=="object"&&A!==null){switch(A.$$typeof){case wu:return w=w.get(A.key===null?E:A.key)||null,l(C,w,A,D);case uo:return w=w.get(A.key===null?E:A.key)||null,c(C,w,A,D);case mi:var M=A._init;return y(w,C,E,M(A._payload),D)}if(ll(A)||za(A))return w=w.get(E)||null,d(C,w,A,D,null);Ru(C,A)}return null}function _(w,C,E,A){for(var D=null,M=null,b=C,x=C=0,I=null;b!==null&&x<E.length;x++){b.index>x?(I=b,b=null):I=b.sibling;var g=f(w,b,E[x],A);if(g===null){b===null&&(b=I);break}t&&b&&g.alternate===null&&e(w,b),C=s(g,C,x),M===null?D=g:M.sibling=g,M=g,b=I}if(x===E.length)return n(w,b),De&&is(w,x),D;if(b===null){for(;x<E.length;x++)b=h(w,E[x],A),b!==null&&(C=s(b,C,x),M===null?D=b:M.sibling=b,M=b);return De&&is(w,x),D}for(b=r(w,b);x<E.length;x++)I=y(b,w,x,E[x],A),I!==null&&(t&&I.alternate!==null&&b.delete(I.key===null?x:I.key),C=s(I,C,x),M===null?D=I:M.sibling=I,M=I);return t&&b.forEach(function(R){return e(w,R)}),De&&is(w,x),D}function S(w,C,E,A){var D=za(E);if(typeof D!="function")throw Error(V(150));if(E=D.call(E),E==null)throw Error(V(151));for(var M=D=null,b=C,x=C=0,I=null,g=E.next();b!==null&&!g.done;x++,g=E.next()){b.index>x?(I=b,b=null):I=b.sibling;var R=f(w,b,g.value,A);if(R===null){b===null&&(b=I);break}t&&b&&R.alternate===null&&e(w,b),C=s(R,C,x),M===null?D=R:M.sibling=R,M=R,b=I}if(g.done)return n(w,b),De&&is(w,x),D;if(b===null){for(;!g.done;x++,g=E.next())g=h(w,g.value,A),g!==null&&(C=s(g,C,x),M===null?D=g:M.sibling=g,M=g);return De&&is(w,x),D}for(b=r(w,b);!g.done;x++,g=E.next())g=y(b,w,x,g.value,A),g!==null&&(t&&g.alternate!==null&&b.delete(g.key===null?x:g.key),C=s(g,C,x),M===null?D=g:M.sibling=g,M=g);return t&&b.forEach(function(O){return e(w,O)}),De&&is(w,x),D}function P(w,C,E,A){if(typeof E=="object"&&E!==null&&E.type===ho&&E.key===null&&(E=E.props.children),typeof E=="object"&&E!==null){switch(E.$$typeof){case wu:e:{for(var D=E.key,M=C;M!==null;){if(M.key===D){if(D=E.type,D===ho){if(M.tag===7){n(w,M.sibling),C=i(M,E.props.children),C.return=w,w=C;break e}}else if(M.elementType===D||typeof D=="object"&&D!==null&&D.$$typeof===mi&&D1(D)===M.type){n(w,M.sibling),C=i(M,E.props),C.ref=Ka(w,M,E),C.return=w,w=C;break e}n(w,M);break}else e(w,M);M=M.sibling}E.type===ho?(C=Es(E.props.children,w.mode,A,E.key),C.return=w,w=C):(A=dd(E.type,E.key,E.props,null,w.mode,A),A.ref=Ka(w,C,E),A.return=w,w=A)}return o(w);case uo:e:{for(M=E.key;C!==null;){if(C.key===M)if(C.tag===4&&C.stateNode.containerInfo===E.containerInfo&&C.stateNode.implementation===E.implementation){n(w,C.sibling),C=i(C,E.children||[]),C.return=w,w=C;break e}else{n(w,C);break}else e(w,C);C=C.sibling}C=Hp(E,w.mode,A),C.return=w,w=C}return o(w);case mi:return M=E._init,P(w,C,M(E._payload),A)}if(ll(E))return _(w,C,E,A);if(za(E))return S(w,C,E,A);Ru(w,E)}return typeof E=="string"&&E!==""||typeof E=="number"?(E=""+E,C!==null&&C.tag===6?(n(w,C.sibling),C=i(C,E),C.return=w,w=C):(n(w,C),C=Wp(E,w.mode,A),C.return=w,w=C),o(w)):n(w,C)}return P}var qo=aT(!0),lT=aT(!1),zd=Gi(null),Wd=null,wo=null,m0=null;function g0(){m0=wo=Wd=null}function y0(t){var e=zd.current;Re(zd),t._currentValue=e}function ug(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Do(t,e){Wd=t,m0=wo=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Qt=!0),t.firstContext=null)}function An(t){var e=t._currentValue;if(m0!==t)if(t={context:t,memoizedValue:e,next:null},wo===null){if(Wd===null)throw Error(V(308));wo=t,Wd.dependencies={lanes:0,firstContext:t}}else wo=wo.next=t;return e}var ps=null;function v0(t){ps===null?ps=[t]:ps.push(t)}function cT(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,v0(e)):(n.next=i.next,i.next=n),e.interleaved=n,Kr(t,r)}function Kr(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var gi=!1;function _0(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function uT(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Ur(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Ai(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,fe&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,Kr(t,n)}return i=r.interleaved,i===null?(e.next=e,v0(r)):(e.next=i.next,i.next=e),r.interleaved=e,Kr(t,n)}function sd(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,i0(t,n)}}function O1(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Hd(t,e,n,r){var i=t.updateQueue;gi=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,c=l.next;l.next=null,o===null?s=c:o.next=c,o=l;var d=t.alternate;d!==null&&(d=d.updateQueue,a=d.lastBaseUpdate,a!==o&&(a===null?d.firstBaseUpdate=c:a.next=c,d.lastBaseUpdate=l))}if(s!==null){var h=i.baseState;o=0,d=c=l=null,a=s;do{var f=a.lane,y=a.eventTime;if((r&f)===f){d!==null&&(d=d.next={eventTime:y,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var _=t,S=a;switch(f=e,y=n,S.tag){case 1:if(_=S.payload,typeof _=="function"){h=_.call(y,h,f);break e}h=_;break e;case 3:_.flags=_.flags&-65537|128;case 0:if(_=S.payload,f=typeof _=="function"?_.call(y,h,f):_,f==null)break e;h=Ue({},h,f);break e;case 2:gi=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,f=i.effects,f===null?i.effects=[a]:f.push(a))}else y={eventTime:y,lane:f,tag:a.tag,payload:a.payload,callback:a.callback,next:null},d===null?(c=d=y,l=h):d=d.next=y,o|=f;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;f=a,a=f.next,f.next=null,i.lastBaseUpdate=f,i.shared.pending=null}}while(1);if(d===null&&(l=h),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=d,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);Ps|=o,t.lanes=o,t.memoizedState=h}}function M1(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(V(191,i));i.call(r)}}}var Oc={},fr=Gi(Oc),Ql=Gi(Oc),Zl=Gi(Oc);function ms(t){if(t===Oc)throw Error(V(174));return t}function w0(t,e){switch(Ie(Zl,e),Ie(Ql,t),Ie(fr,Oc),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Wm(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Wm(e,t)}Re(fr),Ie(fr,e)}function Go(){Re(fr),Re(Ql),Re(Zl)}function dT(t){ms(Zl.current);var e=ms(fr.current),n=Wm(e,t.type);e!==n&&(Ie(Ql,t),Ie(fr,n))}function x0(t){Ql.current===t&&(Re(fr),Re(Ql))}var Le=Gi(0);function qd(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Fp=[];function E0(){for(var t=0;t<Fp.length;t++)Fp[t]._workInProgressVersionPrimary=null;Fp.length=0}var od=ri.ReactCurrentDispatcher,$p=ri.ReactCurrentBatchConfig,Is=0,Fe=null,et=null,lt=null,Gd=!1,El=!1,ec=0,pO=0;function bt(){throw Error(V(321))}function C0(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!er(t[n],e[n]))return!1;return!0}function S0(t,e,n,r,i,s){if(Is=s,Fe=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,od.current=t===null||t.memoizedState===null?vO:_O,t=n(r,i),El){s=0;do{if(El=!1,ec=0,25<=s)throw Error(V(301));s+=1,lt=et=null,e.updateQueue=null,od.current=wO,t=n(r,i)}while(El)}if(od.current=Kd,e=et!==null&&et.next!==null,Is=0,lt=et=Fe=null,Gd=!1,e)throw Error(V(300));return t}function b0(){var t=ec!==0;return ec=0,t}function or(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return lt===null?Fe.memoizedState=lt=t:lt=lt.next=t,lt}function Rn(){if(et===null){var t=Fe.alternate;t=t!==null?t.memoizedState:null}else t=et.next;var e=lt===null?Fe.memoizedState:lt.next;if(e!==null)lt=e,et=t;else{if(t===null)throw Error(V(310));et=t,t={memoizedState:et.memoizedState,baseState:et.baseState,baseQueue:et.baseQueue,queue:et.queue,next:null},lt===null?Fe.memoizedState=lt=t:lt=lt.next=t}return lt}function tc(t,e){return typeof e=="function"?e(t):e}function Up(t){var e=Rn(),n=e.queue;if(n===null)throw Error(V(311));n.lastRenderedReducer=t;var r=et,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var a=o=null,l=null,c=s;do{var d=c.lane;if((Is&d)===d)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:t(r,c.action);else{var h={lane:d,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(a=l=h,o=r):l=l.next=h,Fe.lanes|=d,Ps|=d}c=c.next}while(c!==null&&c!==s);l===null?o=r:l.next=a,er(r,e.memoizedState)||(Qt=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do s=i.lane,Fe.lanes|=s,Ps|=s,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Vp(t){var e=Rn(),n=e.queue;if(n===null)throw Error(V(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=t(s,o.action),o=o.next;while(o!==i);er(s,e.memoizedState)||(Qt=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function hT(){}function fT(t,e){var n=Fe,r=Rn(),i=e(),s=!er(r.memoizedState,i);if(s&&(r.memoizedState=i,Qt=!0),r=r.queue,T0(gT.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||lt!==null&&lt.memoizedState.tag&1){if(n.flags|=2048,nc(9,mT.bind(null,n,r,i,e),void 0,null),ut===null)throw Error(V(349));Is&30||pT(n,e,i)}return i}function pT(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Fe.updateQueue,e===null?(e={lastEffect:null,stores:null},Fe.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function mT(t,e,n,r){e.value=n,e.getSnapshot=r,yT(e)&&vT(t)}function gT(t,e,n){return n(function(){yT(e)&&vT(t)})}function yT(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!er(t,n)}catch{return!0}}function vT(t){var e=Kr(t,1);e!==null&&Jn(e,t,1,-1)}function L1(t){var e=or();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:tc,lastRenderedState:t},e.queue=t,t=t.dispatch=yO.bind(null,Fe,t),[e.memoizedState,t]}function nc(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Fe.updateQueue,e===null?(e={lastEffect:null,stores:null},Fe.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function _T(){return Rn().memoizedState}function ad(t,e,n,r){var i=or();Fe.flags|=t,i.memoizedState=nc(1|e,n,void 0,r===void 0?null:r)}function Kh(t,e,n,r){var i=Rn();r=r===void 0?null:r;var s=void 0;if(et!==null){var o=et.memoizedState;if(s=o.destroy,r!==null&&C0(r,o.deps)){i.memoizedState=nc(e,n,s,r);return}}Fe.flags|=t,i.memoizedState=nc(1|e,n,s,r)}function j1(t,e){return ad(8390656,8,t,e)}function T0(t,e){return Kh(2048,8,t,e)}function wT(t,e){return Kh(4,2,t,e)}function xT(t,e){return Kh(4,4,t,e)}function ET(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function CT(t,e,n){return n=n!=null?n.concat([t]):null,Kh(4,4,ET.bind(null,e,t),n)}function k0(){}function ST(t,e){var n=Rn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&C0(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function bT(t,e){var n=Rn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&C0(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function TT(t,e,n){return Is&21?(er(n,e)||(n=Rb(),Fe.lanes|=n,Ps|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Qt=!0),t.memoizedState=n)}function mO(t,e){var n=we;we=n!==0&&4>n?n:4,t(!0);var r=$p.transition;$p.transition={};try{t(!1),e()}finally{we=n,$p.transition=r}}function kT(){return Rn().memoizedState}function gO(t,e,n){var r=Ni(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},IT(t))PT(e,n);else if(n=cT(t,e,n,r),n!==null){var i=Vt();Jn(n,t,r,i),AT(n,e,r)}}function yO(t,e,n){var r=Ni(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(IT(t))PT(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,n);if(i.hasEagerState=!0,i.eagerState=a,er(a,o)){var l=e.interleaved;l===null?(i.next=i,v0(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=cT(t,e,i,r),n!==null&&(i=Vt(),Jn(n,t,r,i),AT(n,e,r))}}function IT(t){var e=t.alternate;return t===Fe||e!==null&&e===Fe}function PT(t,e){El=Gd=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function AT(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,i0(t,n)}}var Kd={readContext:An,useCallback:bt,useContext:bt,useEffect:bt,useImperativeHandle:bt,useInsertionEffect:bt,useLayoutEffect:bt,useMemo:bt,useReducer:bt,useRef:bt,useState:bt,useDebugValue:bt,useDeferredValue:bt,useTransition:bt,useMutableSource:bt,useSyncExternalStore:bt,useId:bt,unstable_isNewReconciler:!1},vO={readContext:An,useCallback:function(t,e){return or().memoizedState=[t,e===void 0?null:e],t},useContext:An,useEffect:j1,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,ad(4194308,4,ET.bind(null,e,t),n)},useLayoutEffect:function(t,e){return ad(4194308,4,t,e)},useInsertionEffect:function(t,e){return ad(4,2,t,e)},useMemo:function(t,e){var n=or();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=or();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=gO.bind(null,Fe,t),[r.memoizedState,t]},useRef:function(t){var e=or();return t={current:t},e.memoizedState=t},useState:L1,useDebugValue:k0,useDeferredValue:function(t){return or().memoizedState=t},useTransition:function(){var t=L1(!1),e=t[0];return t=mO.bind(null,t[1]),or().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=Fe,i=or();if(De){if(n===void 0)throw Error(V(407));n=n()}else{if(n=e(),ut===null)throw Error(V(349));Is&30||pT(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,j1(gT.bind(null,r,s,t),[t]),r.flags|=2048,nc(9,mT.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=or(),e=ut.identifierPrefix;if(De){var n=Lr,r=Mr;n=(r&~(1<<32-Xn(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=ec++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=pO++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},_O={readContext:An,useCallback:ST,useContext:An,useEffect:T0,useImperativeHandle:CT,useInsertionEffect:wT,useLayoutEffect:xT,useMemo:bT,useReducer:Up,useRef:_T,useState:function(){return Up(tc)},useDebugValue:k0,useDeferredValue:function(t){var e=Rn();return TT(e,et.memoizedState,t)},useTransition:function(){var t=Up(tc)[0],e=Rn().memoizedState;return[t,e]},useMutableSource:hT,useSyncExternalStore:fT,useId:kT,unstable_isNewReconciler:!1},wO={readContext:An,useCallback:ST,useContext:An,useEffect:T0,useImperativeHandle:CT,useInsertionEffect:wT,useLayoutEffect:xT,useMemo:bT,useReducer:Vp,useRef:_T,useState:function(){return Vp(tc)},useDebugValue:k0,useDeferredValue:function(t){var e=Rn();return et===null?e.memoizedState=t:TT(e,et.memoizedState,t)},useTransition:function(){var t=Vp(tc)[0],e=Rn().memoizedState;return[t,e]},useMutableSource:hT,useSyncExternalStore:fT,useId:kT,unstable_isNewReconciler:!1};function Vn(t,e){if(t&&t.defaultProps){e=Ue({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function dg(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Ue({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Yh={isMounted:function(t){return(t=t._reactInternals)?Bs(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Vt(),i=Ni(t),s=Ur(r,i);s.payload=e,n!=null&&(s.callback=n),e=Ai(t,s,i),e!==null&&(Jn(e,t,i,r),sd(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Vt(),i=Ni(t),s=Ur(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=Ai(t,s,i),e!==null&&(Jn(e,t,i,r),sd(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Vt(),r=Ni(t),i=Ur(n,r);i.tag=2,e!=null&&(i.callback=e),e=Ai(t,i,r),e!==null&&(Jn(e,t,r,n),sd(e,t,r))}};function F1(t,e,n,r,i,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!Kl(n,r)||!Kl(i,s):!0}function RT(t,e,n){var r=!1,i=Fi,s=e.contextType;return typeof s=="object"&&s!==null?s=An(s):(i=rn(e)?Ts:Ot.current,r=e.contextTypes,s=(r=r!=null)?Wo(t,i):Fi),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Yh,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function $1(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Yh.enqueueReplaceState(e,e.state,null)}function hg(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},_0(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=An(s):(s=rn(e)?Ts:Ot.current,i.context=Wo(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(dg(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&Yh.enqueueReplaceState(i,i.state,null),Hd(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function Ko(t,e){try{var n="",r=e;do n+=KN(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function Bp(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function fg(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var xO=typeof WeakMap=="function"?WeakMap:Map;function NT(t,e,n){n=Ur(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Xd||(Xd=!0,Cg=r),fg(t,e)},n}function DT(t,e,n){n=Ur(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){fg(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){fg(t,e),typeof r!="function"&&(Ri===null?Ri=new Set([this]):Ri.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function U1(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new xO;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=MO.bind(null,t,e,n),e.then(t,t))}function V1(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function B1(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Ur(-1,1),e.tag=2,Ai(n,e,1))),n.lanes|=1),t)}var EO=ri.ReactCurrentOwner,Qt=!1;function jt(t,e,n,r){e.child=t===null?lT(e,null,n,r):qo(e,t.child,n,r)}function z1(t,e,n,r,i){n=n.render;var s=e.ref;return Do(e,i),r=S0(t,e,n,r,s,i),n=b0(),t!==null&&!Qt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Yr(t,e,i)):(De&&n&&h0(e),e.flags|=1,jt(t,e,r,i),e.child)}function W1(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!M0(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,OT(t,e,s,r,i)):(t=dd(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:Kl,n(o,r)&&t.ref===e.ref)return Yr(t,e,i)}return e.flags|=1,t=Di(s,r),t.ref=e.ref,t.return=e,e.child=t}function OT(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if(Kl(s,r)&&t.ref===e.ref)if(Qt=!1,e.pendingProps=r=s,(t.lanes&i)!==0)t.flags&131072&&(Qt=!0);else return e.lanes=t.lanes,Yr(t,e,i)}return pg(t,e,n,r,i)}function MT(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ie(Eo,cn),cn|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Ie(Eo,cn),cn|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,Ie(Eo,cn),cn|=r}else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,Ie(Eo,cn),cn|=r;return jt(t,e,i,n),e.child}function LT(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function pg(t,e,n,r,i){var s=rn(n)?Ts:Ot.current;return s=Wo(e,s),Do(e,i),n=S0(t,e,n,r,s,i),r=b0(),t!==null&&!Qt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Yr(t,e,i)):(De&&r&&h0(e),e.flags|=1,jt(t,e,n,i),e.child)}function H1(t,e,n,r,i){if(rn(n)){var s=!0;Ud(e)}else s=!1;if(Do(e,i),e.stateNode===null)ld(t,e),RT(e,n,r),hg(e,n,r,i),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,c=n.contextType;typeof c=="object"&&c!==null?c=An(c):(c=rn(n)?Ts:Ot.current,c=Wo(e,c));var d=n.getDerivedStateFromProps,h=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==c)&&$1(e,o,r,c),gi=!1;var f=e.memoizedState;o.state=f,Hd(e,r,o,i),l=e.memoizedState,a!==r||f!==l||nn.current||gi?(typeof d=="function"&&(dg(e,n,d,r),l=e.memoizedState),(a=gi||F1(e,n,a,r,f,l,c))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=c,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,uT(t,e),a=e.memoizedProps,c=e.type===e.elementType?a:Vn(e.type,a),o.props=c,h=e.pendingProps,f=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=An(l):(l=rn(n)?Ts:Ot.current,l=Wo(e,l));var y=n.getDerivedStateFromProps;(d=typeof y=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==h||f!==l)&&$1(e,o,r,l),gi=!1,f=e.memoizedState,o.state=f,Hd(e,r,o,i);var _=e.memoizedState;a!==h||f!==_||nn.current||gi?(typeof y=="function"&&(dg(e,n,y,r),_=e.memoizedState),(c=gi||F1(e,n,c,r,f,_,l)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,_,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,_,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=_),o.props=r,o.state=_,o.context=l,r=c):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),r=!1)}return mg(t,e,n,r,s,i)}function mg(t,e,n,r,i,s){LT(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&A1(e,n,!1),Yr(t,e,s);r=e.stateNode,EO.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=qo(e,t.child,null,s),e.child=qo(e,null,a,s)):jt(t,e,a,s),e.memoizedState=r.state,i&&A1(e,n,!0),e.child}function jT(t){var e=t.stateNode;e.pendingContext?P1(t,e.pendingContext,e.pendingContext!==e.context):e.context&&P1(t,e.context,!1),w0(t,e.containerInfo)}function q1(t,e,n,r,i){return Ho(),p0(i),e.flags|=256,jt(t,e,n,r),e.child}var gg={dehydrated:null,treeContext:null,retryLane:0};function yg(t){return{baseLanes:t,cachePool:null,transitions:null}}function FT(t,e,n){var r=e.pendingProps,i=Le.current,s=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),Ie(Le,i&1),t===null)return cg(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,s?(r=e.mode,s=e.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=Qh(o,r,0,null),t=Es(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=yg(n),e.memoizedState=gg,t):I0(e,o));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return CO(t,e,o,r,a,i,n);if(s){s=r.fallback,o=e.mode,i=t.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=Di(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=Di(a,s):(s=Es(s,o,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,o=t.child.memoizedState,o=o===null?yg(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~n,e.memoizedState=gg,r}return s=t.child,t=s.sibling,r=Di(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function I0(t,e){return e=Qh({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Nu(t,e,n,r){return r!==null&&p0(r),qo(e,t.child,null,n),t=I0(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function CO(t,e,n,r,i,s,o){if(n)return e.flags&256?(e.flags&=-257,r=Bp(Error(V(422))),Nu(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=Qh({mode:"visible",children:r.children},i,0,null),s=Es(s,i,o,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&qo(e,t.child,null,o),e.child.memoizedState=yg(o),e.memoizedState=gg,s);if(!(e.mode&1))return Nu(t,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,s=Error(V(419)),r=Bp(s,r,void 0),Nu(t,e,o,r)}if(a=(o&t.childLanes)!==0,Qt||a){if(r=ut,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,Kr(t,i),Jn(r,t,i,-1))}return O0(),r=Bp(Error(V(421))),Nu(t,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=LO.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,dn=Pi(i.nextSibling),hn=e,De=!0,Wn=null,t!==null&&(En[Cn++]=Mr,En[Cn++]=Lr,En[Cn++]=ks,Mr=t.id,Lr=t.overflow,ks=e),e=I0(e,r.children),e.flags|=4096,e)}function G1(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),ug(t.return,e,n)}function zp(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function $T(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(jt(t,e,r.children,n),r=Le.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&G1(t,n,e);else if(t.tag===19)G1(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Ie(Le,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&qd(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),zp(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&qd(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}zp(e,!0,n,null,s);break;case"together":zp(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function ld(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Yr(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Ps|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(V(153));if(e.child!==null){for(t=e.child,n=Di(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Di(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function SO(t,e,n){switch(e.tag){case 3:jT(e),Ho();break;case 5:dT(e);break;case 1:rn(e.type)&&Ud(e);break;case 4:w0(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;Ie(zd,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Ie(Le,Le.current&1),e.flags|=128,null):n&e.child.childLanes?FT(t,e,n):(Ie(Le,Le.current&1),t=Yr(t,e,n),t!==null?t.sibling:null);Ie(Le,Le.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return $T(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ie(Le,Le.current),r)break;return null;case 22:case 23:return e.lanes=0,MT(t,e,n)}return Yr(t,e,n)}var UT,vg,VT,BT;UT=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};vg=function(){};VT=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,ms(fr.current);var s=null;switch(n){case"input":i=Um(t,i),r=Um(t,r),s=[];break;case"select":i=Ue({},i,{value:void 0}),r=Ue({},r,{value:void 0}),s=[];break;case"textarea":i=zm(t,i),r=zm(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Fd)}Hm(n,r);var o;n=null;for(c in i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&i[c]!=null)if(c==="style"){var a=i[c];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(Vl.hasOwnProperty(c)?s||(s=[]):(s=s||[]).push(c,null));for(c in r){var l=r[c];if(a=i!=null?i[c]:void 0,r.hasOwnProperty(c)&&l!==a&&(l!=null||a!=null))if(c==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(s||(s=[]),s.push(c,n)),n=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(Vl.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&Ae("scroll",t),s||a===l||(s=[])):(s=s||[]).push(c,l))}n&&(s=s||[]).push("style",n);var c=s;(e.updateQueue=c)&&(e.flags|=4)}};BT=function(t,e,n,r){n!==r&&(e.flags|=4)};function Ya(t,e){if(!De)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Tt(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function bO(t,e,n){var r=e.pendingProps;switch(f0(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Tt(e),null;case 1:return rn(e.type)&&$d(),Tt(e),null;case 3:return r=e.stateNode,Go(),Re(nn),Re(Ot),E0(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Au(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Wn!==null&&(Tg(Wn),Wn=null))),vg(t,e),Tt(e),null;case 5:x0(e);var i=ms(Zl.current);if(n=e.type,t!==null&&e.stateNode!=null)VT(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(V(166));return Tt(e),null}if(t=ms(fr.current),Au(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[cr]=e,r[Jl]=s,t=(e.mode&1)!==0,n){case"dialog":Ae("cancel",r),Ae("close",r);break;case"iframe":case"object":case"embed":Ae("load",r);break;case"video":case"audio":for(i=0;i<ul.length;i++)Ae(ul[i],r);break;case"source":Ae("error",r);break;case"img":case"image":case"link":Ae("error",r),Ae("load",r);break;case"details":Ae("toggle",r);break;case"input":n1(r,s),Ae("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},Ae("invalid",r);break;case"textarea":i1(r,s),Ae("invalid",r)}Hm(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?r.textContent!==a&&(s.suppressHydrationWarning!==!0&&Pu(r.textContent,a,t),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&Pu(r.textContent,a,t),i=["children",""+a]):Vl.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&Ae("scroll",r)}switch(n){case"input":xu(r),r1(r,s,!0);break;case"textarea":xu(r),s1(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=Fd)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=gb(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[cr]=e,t[Jl]=r,UT(t,e,!1,!1),e.stateNode=t;e:{switch(o=qm(n,r),n){case"dialog":Ae("cancel",t),Ae("close",t),i=r;break;case"iframe":case"object":case"embed":Ae("load",t),i=r;break;case"video":case"audio":for(i=0;i<ul.length;i++)Ae(ul[i],t);i=r;break;case"source":Ae("error",t),i=r;break;case"img":case"image":case"link":Ae("error",t),Ae("load",t),i=r;break;case"details":Ae("toggle",t),i=r;break;case"input":n1(t,r),i=Um(t,r),Ae("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=Ue({},r,{value:void 0}),Ae("invalid",t);break;case"textarea":i1(t,r),i=zm(t,r),Ae("invalid",t);break;default:i=r}Hm(n,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?_b(t,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&yb(t,l)):s==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&Bl(t,l):typeof l=="number"&&Bl(t,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(Vl.hasOwnProperty(s)?l!=null&&s==="onScroll"&&Ae("scroll",t):l!=null&&Qy(t,s,l,o))}switch(n){case"input":xu(t),r1(t,r,!1);break;case"textarea":xu(t),s1(t);break;case"option":r.value!=null&&t.setAttribute("value",""+ji(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?Po(t,!!r.multiple,s,!1):r.defaultValue!=null&&Po(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=Fd)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Tt(e),null;case 6:if(t&&e.stateNode!=null)BT(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(V(166));if(n=ms(Zl.current),ms(fr.current),Au(e)){if(r=e.stateNode,n=e.memoizedProps,r[cr]=e,(s=r.nodeValue!==n)&&(t=hn,t!==null))switch(t.tag){case 3:Pu(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Pu(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[cr]=e,e.stateNode=r}return Tt(e),null;case 13:if(Re(Le),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(De&&dn!==null&&e.mode&1&&!(e.flags&128))oT(),Ho(),e.flags|=98560,s=!1;else if(s=Au(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error(V(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(V(317));s[cr]=e}else Ho(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Tt(e),s=!1}else Wn!==null&&(Tg(Wn),Wn=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||Le.current&1?rt===0&&(rt=3):O0())),e.updateQueue!==null&&(e.flags|=4),Tt(e),null);case 4:return Go(),vg(t,e),t===null&&Yl(e.stateNode.containerInfo),Tt(e),null;case 10:return y0(e.type._context),Tt(e),null;case 17:return rn(e.type)&&$d(),Tt(e),null;case 19:if(Re(Le),s=e.memoizedState,s===null)return Tt(e),null;if(r=(e.flags&128)!==0,o=s.rendering,o===null)if(r)Ya(s,!1);else{if(rt!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=qd(t),o!==null){for(e.flags|=128,Ya(s,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Ie(Le,Le.current&1|2),e.child}t=t.sibling}s.tail!==null&&Xe()>Yo&&(e.flags|=128,r=!0,Ya(s,!1),e.lanes=4194304)}else{if(!r)if(t=qd(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Ya(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!De)return Tt(e),null}else 2*Xe()-s.renderingStartTime>Yo&&n!==1073741824&&(e.flags|=128,r=!0,Ya(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(n=s.last,n!==null?n.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=Xe(),e.sibling=null,n=Le.current,Ie(Le,r?n&1|2:n&1),e):(Tt(e),null);case 22:case 23:return D0(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?cn&1073741824&&(Tt(e),e.subtreeFlags&6&&(e.flags|=8192)):Tt(e),null;case 24:return null;case 25:return null}throw Error(V(156,e.tag))}function TO(t,e){switch(f0(e),e.tag){case 1:return rn(e.type)&&$d(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Go(),Re(nn),Re(Ot),E0(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return x0(e),null;case 13:if(Re(Le),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(V(340));Ho()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Re(Le),null;case 4:return Go(),null;case 10:return y0(e.type._context),null;case 22:case 23:return D0(),null;case 24:return null;default:return null}}var Du=!1,Pt=!1,kO=typeof WeakSet=="function"?WeakSet:Set,H=null;function xo(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){He(t,e,r)}else n.current=null}function _g(t,e,n){try{n()}catch(r){He(t,e,r)}}var K1=!1;function IO(t,e){if(ng=Md,t=Gb(),d0(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,c=0,d=0,h=t,f=null;t:for(;;){for(var y;h!==n||i!==0&&h.nodeType!==3||(a=o+i),h!==s||r!==0&&h.nodeType!==3||(l=o+r),h.nodeType===3&&(o+=h.nodeValue.length),(y=h.firstChild)!==null;)f=h,h=y;for(;;){if(h===t)break t;if(f===n&&++c===i&&(a=o),f===s&&++d===r&&(l=o),(y=h.nextSibling)!==null)break;h=f,f=h.parentNode}h=y}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(rg={focusedElem:t,selectionRange:n},Md=!1,H=e;H!==null;)if(e=H,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,H=t;else for(;H!==null;){e=H;try{var _=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(_!==null){var S=_.memoizedProps,P=_.memoizedState,w=e.stateNode,C=w.getSnapshotBeforeUpdate(e.elementType===e.type?S:Vn(e.type,S),P);w.__reactInternalSnapshotBeforeUpdate=C}break;case 3:var E=e.stateNode.containerInfo;E.nodeType===1?E.textContent="":E.nodeType===9&&E.documentElement&&E.removeChild(E.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(V(163))}}catch(A){He(e,e.return,A)}if(t=e.sibling,t!==null){t.return=e.return,H=t;break}H=e.return}return _=K1,K1=!1,_}function Cl(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&_g(e,n,s)}i=i.next}while(i!==r)}}function Xh(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function wg(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function zT(t){var e=t.alternate;e!==null&&(t.alternate=null,zT(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[cr],delete e[Jl],delete e[og],delete e[uO],delete e[dO])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function WT(t){return t.tag===5||t.tag===3||t.tag===4}function Y1(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||WT(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function xg(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Fd));else if(r!==4&&(t=t.child,t!==null))for(xg(t,e,n),t=t.sibling;t!==null;)xg(t,e,n),t=t.sibling}function Eg(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(Eg(t,e,n),t=t.sibling;t!==null;)Eg(t,e,n),t=t.sibling}var mt=null,Bn=!1;function hi(t,e,n){for(n=n.child;n!==null;)HT(t,e,n),n=n.sibling}function HT(t,e,n){if(hr&&typeof hr.onCommitFiberUnmount=="function")try{hr.onCommitFiberUnmount(Bh,n)}catch{}switch(n.tag){case 5:Pt||xo(n,e);case 6:var r=mt,i=Bn;mt=null,hi(t,e,n),mt=r,Bn=i,mt!==null&&(Bn?(t=mt,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):mt.removeChild(n.stateNode));break;case 18:mt!==null&&(Bn?(t=mt,n=n.stateNode,t.nodeType===8?Lp(t.parentNode,n):t.nodeType===1&&Lp(t,n),ql(t)):Lp(mt,n.stateNode));break;case 4:r=mt,i=Bn,mt=n.stateNode.containerInfo,Bn=!0,hi(t,e,n),mt=r,Bn=i;break;case 0:case 11:case 14:case 15:if(!Pt&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&_g(n,e,o),i=i.next}while(i!==r)}hi(t,e,n);break;case 1:if(!Pt&&(xo(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){He(n,e,a)}hi(t,e,n);break;case 21:hi(t,e,n);break;case 22:n.mode&1?(Pt=(r=Pt)||n.memoizedState!==null,hi(t,e,n),Pt=r):hi(t,e,n);break;default:hi(t,e,n)}}function X1(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new kO),e.forEach(function(r){var i=jO.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function $n(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:mt=a.stateNode,Bn=!1;break e;case 3:mt=a.stateNode.containerInfo,Bn=!0;break e;case 4:mt=a.stateNode.containerInfo,Bn=!0;break e}a=a.return}if(mt===null)throw Error(V(160));HT(s,o,i),mt=null,Bn=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(c){He(i,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)qT(e,t),e=e.sibling}function qT(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if($n(e,t),ir(t),r&4){try{Cl(3,t,t.return),Xh(3,t)}catch(S){He(t,t.return,S)}try{Cl(5,t,t.return)}catch(S){He(t,t.return,S)}}break;case 1:$n(e,t),ir(t),r&512&&n!==null&&xo(n,n.return);break;case 5:if($n(e,t),ir(t),r&512&&n!==null&&xo(n,n.return),t.flags&32){var i=t.stateNode;try{Bl(i,"")}catch(S){He(t,t.return,S)}}if(r&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,o=n!==null?n.memoizedProps:s,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&pb(i,s),qm(a,o);var c=qm(a,s);for(o=0;o<l.length;o+=2){var d=l[o],h=l[o+1];d==="style"?_b(i,h):d==="dangerouslySetInnerHTML"?yb(i,h):d==="children"?Bl(i,h):Qy(i,d,h,c)}switch(a){case"input":Vm(i,s);break;case"textarea":mb(i,s);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var y=s.value;y!=null?Po(i,!!s.multiple,y,!1):f!==!!s.multiple&&(s.defaultValue!=null?Po(i,!!s.multiple,s.defaultValue,!0):Po(i,!!s.multiple,s.multiple?[]:"",!1))}i[Jl]=s}catch(S){He(t,t.return,S)}}break;case 6:if($n(e,t),ir(t),r&4){if(t.stateNode===null)throw Error(V(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(S){He(t,t.return,S)}}break;case 3:if($n(e,t),ir(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{ql(e.containerInfo)}catch(S){He(t,t.return,S)}break;case 4:$n(e,t),ir(t);break;case 13:$n(e,t),ir(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(R0=Xe())),r&4&&X1(t);break;case 22:if(d=n!==null&&n.memoizedState!==null,t.mode&1?(Pt=(c=Pt)||d,$n(e,t),Pt=c):$n(e,t),ir(t),r&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!d&&t.mode&1)for(H=t,d=t.child;d!==null;){for(h=H=d;H!==null;){switch(f=H,y=f.child,f.tag){case 0:case 11:case 14:case 15:Cl(4,f,f.return);break;case 1:xo(f,f.return);var _=f.stateNode;if(typeof _.componentWillUnmount=="function"){r=f,n=f.return;try{e=r,_.props=e.memoizedProps,_.state=e.memoizedState,_.componentWillUnmount()}catch(S){He(r,n,S)}}break;case 5:xo(f,f.return);break;case 22:if(f.memoizedState!==null){Q1(h);continue}}y!==null?(y.return=f,H=y):Q1(h)}d=d.sibling}e:for(d=null,h=t;;){if(h.tag===5){if(d===null){d=h;try{i=h.stateNode,c?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=h.stateNode,l=h.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=vb("display",o))}catch(S){He(t,t.return,S)}}}else if(h.tag===6){if(d===null)try{h.stateNode.nodeValue=c?"":h.memoizedProps}catch(S){He(t,t.return,S)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===t)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===t)break e;for(;h.sibling===null;){if(h.return===null||h.return===t)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:$n(e,t),ir(t),r&4&&X1(t);break;case 21:break;default:$n(e,t),ir(t)}}function ir(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(WT(n)){var r=n;break e}n=n.return}throw Error(V(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Bl(i,""),r.flags&=-33);var s=Y1(t);Eg(t,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,a=Y1(t);xg(t,a,o);break;default:throw Error(V(161))}}catch(l){He(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function PO(t,e,n){H=t,GT(t)}function GT(t,e,n){for(var r=(t.mode&1)!==0;H!==null;){var i=H,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||Du;if(!o){var a=i.alternate,l=a!==null&&a.memoizedState!==null||Pt;a=Du;var c=Pt;if(Du=o,(Pt=l)&&!c)for(H=i;H!==null;)o=H,l=o.child,o.tag===22&&o.memoizedState!==null?Z1(i):l!==null?(l.return=o,H=l):Z1(i);for(;s!==null;)H=s,GT(s),s=s.sibling;H=i,Du=a,Pt=c}J1(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,H=s):J1(t)}}function J1(t){for(;H!==null;){var e=H;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Pt||Xh(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Pt)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:Vn(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&M1(e,s,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}M1(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var d=c.memoizedState;if(d!==null){var h=d.dehydrated;h!==null&&ql(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(V(163))}Pt||e.flags&512&&wg(e)}catch(f){He(e,e.return,f)}}if(e===t){H=null;break}if(n=e.sibling,n!==null){n.return=e.return,H=n;break}H=e.return}}function Q1(t){for(;H!==null;){var e=H;if(e===t){H=null;break}var n=e.sibling;if(n!==null){n.return=e.return,H=n;break}H=e.return}}function Z1(t){for(;H!==null;){var e=H;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Xh(4,e)}catch(l){He(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){He(e,i,l)}}var s=e.return;try{wg(e)}catch(l){He(e,s,l)}break;case 5:var o=e.return;try{wg(e)}catch(l){He(e,o,l)}}}catch(l){He(e,e.return,l)}if(e===t){H=null;break}var a=e.sibling;if(a!==null){a.return=e.return,H=a;break}H=e.return}}var AO=Math.ceil,Yd=ri.ReactCurrentDispatcher,P0=ri.ReactCurrentOwner,kn=ri.ReactCurrentBatchConfig,fe=0,ut=null,Ze=null,_t=0,cn=0,Eo=Gi(0),rt=0,rc=null,Ps=0,Jh=0,A0=0,Sl=null,Yt=null,R0=0,Yo=1/0,Nr=null,Xd=!1,Cg=null,Ri=null,Ou=!1,Si=null,Jd=0,bl=0,Sg=null,cd=-1,ud=0;function Vt(){return fe&6?Xe():cd!==-1?cd:cd=Xe()}function Ni(t){return t.mode&1?fe&2&&_t!==0?_t&-_t:fO.transition!==null?(ud===0&&(ud=Rb()),ud):(t=we,t!==0||(t=window.event,t=t===void 0?16:Fb(t.type)),t):1}function Jn(t,e,n,r){if(50<bl)throw bl=0,Sg=null,Error(V(185));Rc(t,n,r),(!(fe&2)||t!==ut)&&(t===ut&&(!(fe&2)&&(Jh|=n),rt===4&&vi(t,_t)),sn(t,r),n===1&&fe===0&&!(e.mode&1)&&(Yo=Xe()+500,Gh&&Ki()))}function sn(t,e){var n=t.callbackNode;fD(t,e);var r=Od(t,t===ut?_t:0);if(r===0)n!==null&&l1(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&l1(n),e===1)t.tag===0?hO(ex.bind(null,t)):rT(ex.bind(null,t)),lO(function(){!(fe&6)&&Ki()}),n=null;else{switch(Nb(r)){case 1:n=r0;break;case 4:n=Pb;break;case 16:n=Dd;break;case 536870912:n=Ab;break;default:n=Dd}n=tk(n,KT.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function KT(t,e){if(cd=-1,ud=0,fe&6)throw Error(V(327));var n=t.callbackNode;if(Oo()&&t.callbackNode!==n)return null;var r=Od(t,t===ut?_t:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Qd(t,r);else{e=r;var i=fe;fe|=2;var s=XT();(ut!==t||_t!==e)&&(Nr=null,Yo=Xe()+500,xs(t,e));do try{DO();break}catch(a){YT(t,a)}while(1);g0(),Yd.current=s,fe=i,Ze!==null?e=0:(ut=null,_t=0,e=rt)}if(e!==0){if(e===2&&(i=Jm(t),i!==0&&(r=i,e=bg(t,i))),e===1)throw n=rc,xs(t,0),vi(t,r),sn(t,Xe()),n;if(e===6)vi(t,r);else{if(i=t.current.alternate,!(r&30)&&!RO(i)&&(e=Qd(t,r),e===2&&(s=Jm(t),s!==0&&(r=s,e=bg(t,s))),e===1))throw n=rc,xs(t,0),vi(t,r),sn(t,Xe()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(V(345));case 2:ss(t,Yt,Nr);break;case 3:if(vi(t,r),(r&130023424)===r&&(e=R0+500-Xe(),10<e)){if(Od(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){Vt(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=sg(ss.bind(null,t,Yt,Nr),e);break}ss(t,Yt,Nr);break;case 4:if(vi(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var o=31-Xn(r);s=1<<o,o=e[o],o>i&&(i=o),r&=~s}if(r=i,r=Xe()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*AO(r/1960))-r,10<r){t.timeoutHandle=sg(ss.bind(null,t,Yt,Nr),r);break}ss(t,Yt,Nr);break;case 5:ss(t,Yt,Nr);break;default:throw Error(V(329))}}}return sn(t,Xe()),t.callbackNode===n?KT.bind(null,t):null}function bg(t,e){var n=Sl;return t.current.memoizedState.isDehydrated&&(xs(t,e).flags|=256),t=Qd(t,e),t!==2&&(e=Yt,Yt=n,e!==null&&Tg(e)),t}function Tg(t){Yt===null?Yt=t:Yt.push.apply(Yt,t)}function RO(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!er(s(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function vi(t,e){for(e&=~A0,e&=~Jh,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Xn(e),r=1<<n;t[n]=-1,e&=~r}}function ex(t){if(fe&6)throw Error(V(327));Oo();var e=Od(t,0);if(!(e&1))return sn(t,Xe()),null;var n=Qd(t,e);if(t.tag!==0&&n===2){var r=Jm(t);r!==0&&(e=r,n=bg(t,r))}if(n===1)throw n=rc,xs(t,0),vi(t,e),sn(t,Xe()),n;if(n===6)throw Error(V(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,ss(t,Yt,Nr),sn(t,Xe()),null}function N0(t,e){var n=fe;fe|=1;try{return t(e)}finally{fe=n,fe===0&&(Yo=Xe()+500,Gh&&Ki())}}function As(t){Si!==null&&Si.tag===0&&!(fe&6)&&Oo();var e=fe;fe|=1;var n=kn.transition,r=we;try{if(kn.transition=null,we=1,t)return t()}finally{we=r,kn.transition=n,fe=e,!(fe&6)&&Ki()}}function D0(){cn=Eo.current,Re(Eo)}function xs(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,aO(n)),Ze!==null)for(n=Ze.return;n!==null;){var r=n;switch(f0(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&$d();break;case 3:Go(),Re(nn),Re(Ot),E0();break;case 5:x0(r);break;case 4:Go();break;case 13:Re(Le);break;case 19:Re(Le);break;case 10:y0(r.type._context);break;case 22:case 23:D0()}n=n.return}if(ut=t,Ze=t=Di(t.current,null),_t=cn=e,rt=0,rc=null,A0=Jh=Ps=0,Yt=Sl=null,ps!==null){for(e=0;e<ps.length;e++)if(n=ps[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}ps=null}return t}function YT(t,e){do{var n=Ze;try{if(g0(),od.current=Kd,Gd){for(var r=Fe.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Gd=!1}if(Is=0,lt=et=Fe=null,El=!1,ec=0,P0.current=null,n===null||n.return===null){rt=1,rc=e,Ze=null;break}e:{var s=t,o=n.return,a=n,l=e;if(e=_t,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,d=a,h=d.tag;if(!(d.mode&1)&&(h===0||h===11||h===15)){var f=d.alternate;f?(d.updateQueue=f.updateQueue,d.memoizedState=f.memoizedState,d.lanes=f.lanes):(d.updateQueue=null,d.memoizedState=null)}var y=V1(o);if(y!==null){y.flags&=-257,B1(y,o,a,s,e),y.mode&1&&U1(s,c,e),e=y,l=c;var _=e.updateQueue;if(_===null){var S=new Set;S.add(l),e.updateQueue=S}else _.add(l);break e}else{if(!(e&1)){U1(s,c,e),O0();break e}l=Error(V(426))}}else if(De&&a.mode&1){var P=V1(o);if(P!==null){!(P.flags&65536)&&(P.flags|=256),B1(P,o,a,s,e),p0(Ko(l,a));break e}}s=l=Ko(l,a),rt!==4&&(rt=2),Sl===null?Sl=[s]:Sl.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var w=NT(s,l,e);O1(s,w);break e;case 1:a=l;var C=s.type,E=s.stateNode;if(!(s.flags&128)&&(typeof C.getDerivedStateFromError=="function"||E!==null&&typeof E.componentDidCatch=="function"&&(Ri===null||!Ri.has(E)))){s.flags|=65536,e&=-e,s.lanes|=e;var A=DT(s,a,e);O1(s,A);break e}}s=s.return}while(s!==null)}QT(n)}catch(D){e=D,Ze===n&&n!==null&&(Ze=n=n.return);continue}break}while(1)}function XT(){var t=Yd.current;return Yd.current=Kd,t===null?Kd:t}function O0(){(rt===0||rt===3||rt===2)&&(rt=4),ut===null||!(Ps&268435455)&&!(Jh&268435455)||vi(ut,_t)}function Qd(t,e){var n=fe;fe|=2;var r=XT();(ut!==t||_t!==e)&&(Nr=null,xs(t,e));do try{NO();break}catch(i){YT(t,i)}while(1);if(g0(),fe=n,Yd.current=r,Ze!==null)throw Error(V(261));return ut=null,_t=0,rt}function NO(){for(;Ze!==null;)JT(Ze)}function DO(){for(;Ze!==null&&!iD();)JT(Ze)}function JT(t){var e=ek(t.alternate,t,cn);t.memoizedProps=t.pendingProps,e===null?QT(t):Ze=e,P0.current=null}function QT(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=TO(n,e),n!==null){n.flags&=32767,Ze=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{rt=6,Ze=null;return}}else if(n=bO(n,e,cn),n!==null){Ze=n;return}if(e=e.sibling,e!==null){Ze=e;return}Ze=e=t}while(e!==null);rt===0&&(rt=5)}function ss(t,e,n){var r=we,i=kn.transition;try{kn.transition=null,we=1,OO(t,e,n,r)}finally{kn.transition=i,we=r}return null}function OO(t,e,n,r){do Oo();while(Si!==null);if(fe&6)throw Error(V(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(V(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(pD(t,s),t===ut&&(Ze=ut=null,_t=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Ou||(Ou=!0,tk(Dd,function(){return Oo(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=kn.transition,kn.transition=null;var o=we;we=1;var a=fe;fe|=4,P0.current=null,IO(t,n),qT(n,t),eO(rg),Md=!!ng,rg=ng=null,t.current=n,PO(n),sD(),fe=a,we=o,kn.transition=s}else t.current=n;if(Ou&&(Ou=!1,Si=t,Jd=i),s=t.pendingLanes,s===0&&(Ri=null),lD(n.stateNode),sn(t,Xe()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Xd)throw Xd=!1,t=Cg,Cg=null,t;return Jd&1&&t.tag!==0&&Oo(),s=t.pendingLanes,s&1?t===Sg?bl++:(bl=0,Sg=t):bl=0,Ki(),null}function Oo(){if(Si!==null){var t=Nb(Jd),e=kn.transition,n=we;try{if(kn.transition=null,we=16>t?16:t,Si===null)var r=!1;else{if(t=Si,Si=null,Jd=0,fe&6)throw Error(V(331));var i=fe;for(fe|=4,H=t.current;H!==null;){var s=H,o=s.child;if(H.flags&16){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var c=a[l];for(H=c;H!==null;){var d=H;switch(d.tag){case 0:case 11:case 15:Cl(8,d,s)}var h=d.child;if(h!==null)h.return=d,H=h;else for(;H!==null;){d=H;var f=d.sibling,y=d.return;if(zT(d),d===c){H=null;break}if(f!==null){f.return=y,H=f;break}H=y}}}var _=s.alternate;if(_!==null){var S=_.child;if(S!==null){_.child=null;do{var P=S.sibling;S.sibling=null,S=P}while(S!==null)}}H=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,H=o;else e:for(;H!==null;){if(s=H,s.flags&2048)switch(s.tag){case 0:case 11:case 15:Cl(9,s,s.return)}var w=s.sibling;if(w!==null){w.return=s.return,H=w;break e}H=s.return}}var C=t.current;for(H=C;H!==null;){o=H;var E=o.child;if(o.subtreeFlags&2064&&E!==null)E.return=o,H=E;else e:for(o=C;H!==null;){if(a=H,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Xh(9,a)}}catch(D){He(a,a.return,D)}if(a===o){H=null;break e}var A=a.sibling;if(A!==null){A.return=a.return,H=A;break e}H=a.return}}if(fe=i,Ki(),hr&&typeof hr.onPostCommitFiberRoot=="function")try{hr.onPostCommitFiberRoot(Bh,t)}catch{}r=!0}return r}finally{we=n,kn.transition=e}}return!1}function tx(t,e,n){e=Ko(n,e),e=NT(t,e,1),t=Ai(t,e,1),e=Vt(),t!==null&&(Rc(t,1,e),sn(t,e))}function He(t,e,n){if(t.tag===3)tx(t,t,n);else for(;e!==null;){if(e.tag===3){tx(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Ri===null||!Ri.has(r))){t=Ko(n,t),t=DT(e,t,1),e=Ai(e,t,1),t=Vt(),e!==null&&(Rc(e,1,t),sn(e,t));break}}e=e.return}}function MO(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Vt(),t.pingedLanes|=t.suspendedLanes&n,ut===t&&(_t&n)===n&&(rt===4||rt===3&&(_t&130023424)===_t&&500>Xe()-R0?xs(t,0):A0|=n),sn(t,e)}function ZT(t,e){e===0&&(t.mode&1?(e=Su,Su<<=1,!(Su&130023424)&&(Su=4194304)):e=1);var n=Vt();t=Kr(t,e),t!==null&&(Rc(t,e,n),sn(t,n))}function LO(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),ZT(t,n)}function jO(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(V(314))}r!==null&&r.delete(e),ZT(t,n)}var ek;ek=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||nn.current)Qt=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Qt=!1,SO(t,e,n);Qt=!!(t.flags&131072)}else Qt=!1,De&&e.flags&1048576&&iT(e,Bd,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;ld(t,e),t=e.pendingProps;var i=Wo(e,Ot.current);Do(e,n),i=S0(null,e,r,t,i,n);var s=b0();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,rn(r)?(s=!0,Ud(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,_0(e),i.updater=Yh,e.stateNode=i,i._reactInternals=e,hg(e,r,t,n),e=mg(null,e,r,!0,s,n)):(e.tag=0,De&&s&&h0(e),jt(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(ld(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=$O(r),t=Vn(r,t),i){case 0:e=pg(null,e,r,t,n);break e;case 1:e=H1(null,e,r,t,n);break e;case 11:e=z1(null,e,r,t,n);break e;case 14:e=W1(null,e,r,Vn(r.type,t),n);break e}throw Error(V(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Vn(r,i),pg(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Vn(r,i),H1(t,e,r,i,n);case 3:e:{if(jT(e),t===null)throw Error(V(387));r=e.pendingProps,s=e.memoizedState,i=s.element,uT(t,e),Hd(e,r,null,n);var o=e.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=Ko(Error(V(423)),e),e=q1(t,e,r,n,i);break e}else if(r!==i){i=Ko(Error(V(424)),e),e=q1(t,e,r,n,i);break e}else for(dn=Pi(e.stateNode.containerInfo.firstChild),hn=e,De=!0,Wn=null,n=lT(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Ho(),r===i){e=Yr(t,e,n);break e}jt(t,e,r,n)}e=e.child}return e;case 5:return dT(e),t===null&&cg(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,o=i.children,ig(r,i)?o=null:s!==null&&ig(r,s)&&(e.flags|=32),LT(t,e),jt(t,e,o,n),e.child;case 6:return t===null&&cg(e),null;case 13:return FT(t,e,n);case 4:return w0(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=qo(e,null,r,n):jt(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Vn(r,i),z1(t,e,r,i,n);case 7:return jt(t,e,e.pendingProps,n),e.child;case 8:return jt(t,e,e.pendingProps.children,n),e.child;case 12:return jt(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,Ie(zd,r._currentValue),r._currentValue=o,s!==null)if(er(s.value,o)){if(s.children===i.children&&!nn.current){e=Yr(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(s.tag===1){l=Ur(-1,n&-n),l.tag=2;var c=s.updateQueue;if(c!==null){c=c.shared;var d=c.pending;d===null?l.next=l:(l.next=d.next,d.next=l),c.pending=l}}s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),ug(s.return,n,e),a.lanes|=n;break}l=l.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(V(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),ug(o,n,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}jt(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,Do(e,n),i=An(i),r=r(i),e.flags|=1,jt(t,e,r,n),e.child;case 14:return r=e.type,i=Vn(r,e.pendingProps),i=Vn(r.type,i),W1(t,e,r,i,n);case 15:return OT(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Vn(r,i),ld(t,e),e.tag=1,rn(r)?(t=!0,Ud(e)):t=!1,Do(e,n),RT(e,r,i),hg(e,r,i,n),mg(null,e,r,!0,t,n);case 19:return $T(t,e,n);case 22:return MT(t,e,n)}throw Error(V(156,e.tag))};function tk(t,e){return Ib(t,e)}function FO(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function bn(t,e,n,r){return new FO(t,e,n,r)}function M0(t){return t=t.prototype,!(!t||!t.isReactComponent)}function $O(t){if(typeof t=="function")return M0(t)?1:0;if(t!=null){if(t=t.$$typeof,t===e0)return 11;if(t===t0)return 14}return 2}function Di(t,e){var n=t.alternate;return n===null?(n=bn(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function dd(t,e,n,r,i,s){var o=2;if(r=t,typeof t=="function")M0(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case ho:return Es(n.children,i,s,e);case Zy:o=8,i|=8;break;case Lm:return t=bn(12,n,e,i|2),t.elementType=Lm,t.lanes=s,t;case jm:return t=bn(13,n,e,i),t.elementType=jm,t.lanes=s,t;case Fm:return t=bn(19,n,e,i),t.elementType=Fm,t.lanes=s,t;case db:return Qh(n,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case cb:o=10;break e;case ub:o=9;break e;case e0:o=11;break e;case t0:o=14;break e;case mi:o=16,r=null;break e}throw Error(V(130,t==null?t:typeof t,""))}return e=bn(o,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function Es(t,e,n,r){return t=bn(7,t,r,e),t.lanes=n,t}function Qh(t,e,n,r){return t=bn(22,t,r,e),t.elementType=db,t.lanes=n,t.stateNode={isHidden:!1},t}function Wp(t,e,n){return t=bn(6,t,null,e),t.lanes=n,t}function Hp(t,e,n){return e=bn(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function UO(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=bp(0),this.expirationTimes=bp(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=bp(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function L0(t,e,n,r,i,s,o,a,l){return t=new UO(t,e,n,a,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=bn(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},_0(s),t}function VO(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:uo,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function nk(t){if(!t)return Fi;t=t._reactInternals;e:{if(Bs(t)!==t||t.tag!==1)throw Error(V(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(rn(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(V(171))}if(t.tag===1){var n=t.type;if(rn(n))return nT(t,n,e)}return e}function rk(t,e,n,r,i,s,o,a,l){return t=L0(n,r,!0,t,i,s,o,a,l),t.context=nk(null),n=t.current,r=Vt(),i=Ni(n),s=Ur(r,i),s.callback=e??null,Ai(n,s,i),t.current.lanes=i,Rc(t,i,r),sn(t,r),t}function Zh(t,e,n,r){var i=e.current,s=Vt(),o=Ni(i);return n=nk(n),e.context===null?e.context=n:e.pendingContext=n,e=Ur(s,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Ai(i,e,o),t!==null&&(Jn(t,i,o,s),sd(t,i,o)),o}function Zd(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function nx(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function j0(t,e){nx(t,e),(t=t.alternate)&&nx(t,e)}function BO(){return null}var ik=typeof reportError=="function"?reportError:function(t){console.error(t)};function F0(t){this._internalRoot=t}ef.prototype.render=F0.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(V(409));Zh(t,e,null,null)};ef.prototype.unmount=F0.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;As(function(){Zh(null,t,null,null)}),e[Gr]=null}};function ef(t){this._internalRoot=t}ef.prototype.unstable_scheduleHydration=function(t){if(t){var e=Mb();t={blockedOn:null,target:t,priority:e};for(var n=0;n<yi.length&&e!==0&&e<yi[n].priority;n++);yi.splice(n,0,t),n===0&&jb(t)}};function $0(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function tf(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function rx(){}function zO(t,e,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var c=Zd(o);s.call(c)}}var o=rk(e,r,t,0,null,!1,!1,"",rx);return t._reactRootContainer=o,t[Gr]=o.current,Yl(t.nodeType===8?t.parentNode:t),As(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var c=Zd(l);a.call(c)}}var l=L0(t,0,!1,null,null,!1,!1,"",rx);return t._reactRootContainer=l,t[Gr]=l.current,Yl(t.nodeType===8?t.parentNode:t),As(function(){Zh(e,l,n,r)}),l}function nf(t,e,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var l=Zd(o);a.call(l)}}Zh(e,o,t,i)}else o=zO(n,e,t,i,r);return Zd(o)}Db=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=cl(e.pendingLanes);n!==0&&(i0(e,n|1),sn(e,Xe()),!(fe&6)&&(Yo=Xe()+500,Ki()))}break;case 13:As(function(){var r=Kr(t,1);if(r!==null){var i=Vt();Jn(r,t,1,i)}}),j0(t,1)}};s0=function(t){if(t.tag===13){var e=Kr(t,134217728);if(e!==null){var n=Vt();Jn(e,t,134217728,n)}j0(t,134217728)}};Ob=function(t){if(t.tag===13){var e=Ni(t),n=Kr(t,e);if(n!==null){var r=Vt();Jn(n,t,e,r)}j0(t,e)}};Mb=function(){return we};Lb=function(t,e){var n=we;try{return we=t,e()}finally{we=n}};Km=function(t,e,n){switch(e){case"input":if(Vm(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=qh(r);if(!i)throw Error(V(90));fb(r),Vm(r,i)}}}break;case"textarea":mb(t,n);break;case"select":e=n.value,e!=null&&Po(t,!!n.multiple,e,!1)}};Eb=N0;Cb=As;var WO={usingClientEntryPoint:!1,Events:[Dc,go,qh,wb,xb,N0]},Xa={findFiberByHostInstance:fs,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},HO={bundleType:Xa.bundleType,version:Xa.version,rendererPackageName:Xa.rendererPackageName,rendererConfig:Xa.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ri.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=Tb(t),t===null?null:t.stateNode},findFiberByHostInstance:Xa.findFiberByHostInstance||BO,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Mu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Mu.isDisabled&&Mu.supportsFiber)try{Bh=Mu.inject(HO),hr=Mu}catch{}}yn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=WO;yn.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!$0(e))throw Error(V(200));return VO(t,e,null,n)};yn.createRoot=function(t,e){if(!$0(t))throw Error(V(299));var n=!1,r="",i=ik;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=L0(t,1,!1,null,null,n,!1,r,i),t[Gr]=e.current,Yl(t.nodeType===8?t.parentNode:t),new F0(e)};yn.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(V(188)):(t=Object.keys(t).join(","),Error(V(268,t)));return t=Tb(e),t=t===null?null:t.stateNode,t};yn.flushSync=function(t){return As(t)};yn.hydrate=function(t,e,n){if(!tf(e))throw Error(V(200));return nf(null,t,e,!0,n)};yn.hydrateRoot=function(t,e,n){if(!$0(t))throw Error(V(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=ik;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=rk(e,null,t,1,n??null,i,!1,s,o),t[Gr]=e.current,Yl(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new ef(e)};yn.render=function(t,e,n){if(!tf(e))throw Error(V(200));return nf(null,t,e,!1,n)};yn.unmountComponentAtNode=function(t){if(!tf(t))throw Error(V(40));return t._reactRootContainer?(As(function(){nf(null,null,t,!1,function(){t._reactRootContainer=null,t[Gr]=null})}),!0):!1};yn.unstable_batchedUpdates=N0;yn.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!tf(n))throw Error(V(200));if(t==null||t._reactInternals===void 0)throw Error(V(38));return nf(t,e,n,!1,r)};yn.version="18.3.1-next-f1338f8080-20240426";function sk(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(sk)}catch(t){console.error(t)}}sk(),sb.exports=yn;var U0=sb.exports;const Lu=Hy(U0);var ix=U0;Om.createRoot=ix.createRoot,Om.hydrateRoot=ix.hydrateRoot;const qO="modulepreload",GO=function(t){return"/EmproChampions-2025/"+t},sx={},KO=function(e,n,r){if(!n||n.length===0)return e();const i=document.getElementsByTagName("link");return Promise.all(n.map(s=>{if(s=GO(s),s in sx)return;sx[s]=!0;const o=s.endsWith(".css"),a=o?'[rel="stylesheet"]':"";if(!!r)for(let d=i.length-1;d>=0;d--){const h=i[d];if(h.href===s&&(!o||h.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${s}"]${a}`))return;const c=document.createElement("link");if(c.rel=o?"stylesheet":qO,o||(c.as="script",c.crossOrigin=""),c.href=s,document.head.appendChild(c),o)return new Promise((d,h)=>{c.addEventListener("load",d),c.addEventListener("error",()=>h(new Error(`Unable to preload CSS for ${s}`)))})})).then(()=>e()).catch(s=>{const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=s,window.dispatchEvent(o),!o.defaultPrevented)throw s})};var V0={};Object.defineProperty(V0,"__esModule",{value:!0});V0.parse=tM;V0.serialize=nM;const YO=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,XO=/^[\u0021-\u003A\u003C-\u007E]*$/,JO=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,QO=/^[\u0020-\u003A\u003D-\u007E]*$/,ZO=Object.prototype.toString,eM=(()=>{const t=function(){};return t.prototype=Object.create(null),t})();function tM(t,e){const n=new eM,r=t.length;if(r<2)return n;const i=(e==null?void 0:e.decode)||rM;let s=0;do{const o=t.indexOf("=",s);if(o===-1)break;const a=t.indexOf(";",s),l=a===-1?r:a;if(o>l){s=t.lastIndexOf(";",o-1)+1;continue}const c=ox(t,s,o),d=ax(t,o,c),h=t.slice(c,d);if(n[h]===void 0){let f=ox(t,o+1,l),y=ax(t,l,f);const _=i(t.slice(f,y));n[h]=_}s=l+1}while(s<r);return n}function ox(t,e,n){do{const r=t.charCodeAt(e);if(r!==32&&r!==9)return e}while(++e<n);return n}function ax(t,e,n){for(;e>n;){const r=t.charCodeAt(--e);if(r!==32&&r!==9)return e+1}return n}function nM(t,e,n){const r=(n==null?void 0:n.encode)||encodeURIComponent;if(!YO.test(t))throw new TypeError(`argument name is invalid: ${t}`);const i=r(e);if(!XO.test(i))throw new TypeError(`argument val is invalid: ${e}`);let s=t+"="+i;if(!n)return s;if(n.maxAge!==void 0){if(!Number.isInteger(n.maxAge))throw new TypeError(`option maxAge is invalid: ${n.maxAge}`);s+="; Max-Age="+n.maxAge}if(n.domain){if(!JO.test(n.domain))throw new TypeError(`option domain is invalid: ${n.domain}`);s+="; Domain="+n.domain}if(n.path){if(!QO.test(n.path))throw new TypeError(`option path is invalid: ${n.path}`);s+="; Path="+n.path}if(n.expires){if(!iM(n.expires)||!Number.isFinite(n.expires.valueOf()))throw new TypeError(`option expires is invalid: ${n.expires}`);s+="; Expires="+n.expires.toUTCString()}if(n.httpOnly&&(s+="; HttpOnly"),n.secure&&(s+="; Secure"),n.partitioned&&(s+="; Partitioned"),n.priority)switch(typeof n.priority=="string"?n.priority.toLowerCase():void 0){case"low":s+="; Priority=Low";break;case"medium":s+="; Priority=Medium";break;case"high":s+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${n.priority}`)}if(n.sameSite)switch(typeof n.sameSite=="string"?n.sameSite.toLowerCase():n.sameSite){case!0:case"strict":s+="; SameSite=Strict";break;case"lax":s+="; SameSite=Lax";break;case"none":s+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${n.sameSite}`)}return s}function rM(t){if(t.indexOf("%")===-1)return t;try{return decodeURIComponent(t)}catch{return t}}function iM(t){return ZO.call(t)==="[object Date]"}var lx="popstate";function sM(t={}){function e(r,i){let{pathname:s,search:o,hash:a}=r.location;return kg("",{pathname:s,search:o,hash:a},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:ic(i)}return aM(e,n,null,t)}function Oe(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function tr(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function oM(){return Math.random().toString(36).substring(2,10)}function cx(t,e){return{usr:t.state,key:t.key,idx:e}}function kg(t,e,n=null,r){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?ma(e):e,state:n,key:e&&e.key||r||oM()}}function ic({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function ma(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substring(r),t=t.substring(0,r)),t&&(e.pathname=t)}return e}function aM(t,e,n,r={}){let{window:i=document.defaultView,v5Compat:s=!1}=r,o=i.history,a="POP",l=null,c=d();c==null&&(c=0,o.replaceState({...o.state,idx:c},""));function d(){return(o.state||{idx:null}).idx}function h(){a="POP";let P=d(),w=P==null?null:P-c;c=P,l&&l({action:a,location:S.location,delta:w})}function f(P,w){a="PUSH";let C=kg(S.location,P,w);n&&n(C,P),c=d()+1;let E=cx(C,c),A=S.createHref(C);try{o.pushState(E,"",A)}catch(D){if(D instanceof DOMException&&D.name==="DataCloneError")throw D;i.location.assign(A)}s&&l&&l({action:a,location:S.location,delta:1})}function y(P,w){a="REPLACE";let C=kg(S.location,P,w);n&&n(C,P),c=d();let E=cx(C,c),A=S.createHref(C);o.replaceState(E,"",A),s&&l&&l({action:a,location:S.location,delta:0})}function _(P){return lM(P)}let S={get action(){return a},get location(){return t(i,o)},listen(P){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(lx,h),l=P,()=>{i.removeEventListener(lx,h),l=null}},createHref(P){return e(i,P)},createURL:_,encodeLocation(P){let w=_(P);return{pathname:w.pathname,search:w.search,hash:w.hash}},push:f,replace:y,go(P){return o.go(P)}};return S}function lM(t,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),Oe(n,"No window.location.(origin|href) available to create URL");let r=typeof t=="string"?t:ic(t);return r=r.replace(/ $/,"%20"),!e&&r.startsWith("//")&&(r=n+r),new URL(r,n)}function ok(t,e,n="/"){return cM(t,e,n,!1)}function cM(t,e,n,r){let i=typeof e=="string"?ma(e):e,s=Xr(i.pathname||"/",n);if(s==null)return null;let o=ak(t);uM(o);let a=null;for(let l=0;a==null&&l<o.length;++l){let c=xM(s);a=_M(o[l],c,r)}return a}function ak(t,e=[],n=[],r=""){let i=(s,o,a)=>{let l={relativePath:a===void 0?s.path||"":a,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};l.relativePath.startsWith("/")&&(Oe(l.relativePath.startsWith(r),`Absolute route path "${l.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),l.relativePath=l.relativePath.slice(r.length));let c=Vr([r,l.relativePath]),d=n.concat(l);s.children&&s.children.length>0&&(Oe(s.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${c}".`),ak(s.children,e,d,c)),!(s.path==null&&!s.index)&&e.push({path:c,score:yM(c,s.index),routesMeta:d})};return t.forEach((s,o)=>{var a;if(s.path===""||!((a=s.path)!=null&&a.includes("?")))i(s,o);else for(let l of lk(s.path))i(s,o,l)}),e}function lk(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let o=lk(r.join("/")),a=[];return a.push(...o.map(l=>l===""?s:[s,l].join("/"))),i&&a.push(...o),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function uM(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:vM(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var dM=/^:[\w-]+$/,hM=3,fM=2,pM=1,mM=10,gM=-2,ux=t=>t==="*";function yM(t,e){let n=t.split("/"),r=n.length;return n.some(ux)&&(r+=gM),e&&(r+=fM),n.filter(i=>!ux(i)).reduce((i,s)=>i+(dM.test(s)?hM:s===""?pM:mM),r)}function vM(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function _M(t,e,n=!1){let{routesMeta:r}=t,i={},s="/",o=[];for(let a=0;a<r.length;++a){let l=r[a],c=a===r.length-1,d=s==="/"?e:e.slice(s.length)||"/",h=eh({path:l.relativePath,caseSensitive:l.caseSensitive,end:c},d),f=l.route;if(!h&&c&&n&&!r[r.length-1].route.index&&(h=eh({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},d)),!h)return null;Object.assign(i,h.params),o.push({params:i,pathname:Vr([s,h.pathname]),pathnameBase:bM(Vr([s,h.pathnameBase])),route:f}),h.pathnameBase!=="/"&&(s=Vr([s,h.pathnameBase]))}return o}function eh(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=wM(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((c,{paramName:d,isOptional:h},f)=>{if(d==="*"){let _=a[f]||"";o=s.slice(0,s.length-_.length).replace(/(.)\/+$/,"$1")}const y=a[f];return h&&!y?c[d]=void 0:c[d]=(y||"").replace(/%2F/g,"/"),c},{}),pathname:s,pathnameBase:o,pattern:t}}function wM(t,e=!1,n=!0){tr(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,l)=>(r.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function xM(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return tr(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function Xr(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function EM(t,e="/"){let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?ma(t):t;return{pathname:n?n.startsWith("/")?n:CM(n,e):e,search:TM(r),hash:kM(i)}}function CM(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function qp(t,e,n,r){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function SM(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function B0(t){let e=SM(t);return e.map((n,r)=>r===e.length-1?n.pathname:n.pathnameBase)}function z0(t,e,n,r=!1){let i;typeof t=="string"?i=ma(t):(i={...t},Oe(!i.pathname||!i.pathname.includes("?"),qp("?","pathname","search",i)),Oe(!i.pathname||!i.pathname.includes("#"),qp("#","pathname","hash",i)),Oe(!i.search||!i.search.includes("#"),qp("#","search","hash",i)));let s=t===""||i.pathname==="",o=s?"/":i.pathname,a;if(o==null)a=n;else{let h=e.length-1;if(!r&&o.startsWith("..")){let f=o.split("/");for(;f[0]==="..";)f.shift(),h-=1;i.pathname=f.join("/")}a=h>=0?e[h]:"/"}let l=EM(i,a),c=o&&o!=="/"&&o.endsWith("/"),d=(s||o===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(c||d)&&(l.pathname+="/"),l}var Vr=t=>t.join("/").replace(/\/\/+/g,"/"),bM=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),TM=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,kM=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function IM(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}var ck=["POST","PUT","PATCH","DELETE"];new Set(ck);var PM=["GET",...ck];new Set(PM);var ga=T.createContext(null);ga.displayName="DataRouter";var rf=T.createContext(null);rf.displayName="DataRouterState";var uk=T.createContext({isTransitioning:!1});uk.displayName="ViewTransition";var AM=T.createContext(new Map);AM.displayName="Fetchers";var RM=T.createContext(null);RM.displayName="Await";var nr=T.createContext(null);nr.displayName="Navigation";var Mc=T.createContext(null);Mc.displayName="Location";var rr=T.createContext({outlet:null,matches:[],isDataRoute:!1});rr.displayName="Route";var W0=T.createContext(null);W0.displayName="RouteError";function NM(t,{relative:e}={}){Oe(ya(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=T.useContext(nr),{hash:i,pathname:s,search:o}=Lc(t,{relative:e}),a=s;return n!=="/"&&(a=s==="/"?n:Vr([n,s])),r.createHref({pathname:a,search:o,hash:i})}function ya(){return T.useContext(Mc)!=null}function Er(){return Oe(ya(),"useLocation() may be used only in the context of a <Router> component."),T.useContext(Mc).location}var dk="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function hk(t){T.useContext(nr).static||T.useLayoutEffect(t)}function Cr(){let{isDataRoute:t}=T.useContext(rr);return t?HM():DM()}function DM(){Oe(ya(),"useNavigate() may be used only in the context of a <Router> component.");let t=T.useContext(ga),{basename:e,navigator:n}=T.useContext(nr),{matches:r}=T.useContext(rr),{pathname:i}=Er(),s=JSON.stringify(B0(r)),o=T.useRef(!1);return hk(()=>{o.current=!0}),T.useCallback((l,c={})=>{if(tr(o.current,dk),!o.current)return;if(typeof l=="number"){n.go(l);return}let d=z0(l,JSON.parse(s),i,c.relative==="path");t==null&&e!=="/"&&(d.pathname=d.pathname==="/"?e:Vr([e,d.pathname])),(c.replace?n.replace:n.push)(d,c.state,c)},[e,n,s,i,t])}T.createContext(null);function fk(){let{matches:t}=T.useContext(rr),e=t[t.length-1];return e?e.params:{}}function Lc(t,{relative:e}={}){let{matches:n}=T.useContext(rr),{pathname:r}=Er(),i=JSON.stringify(B0(n));return T.useMemo(()=>z0(t,JSON.parse(i),r,e==="path"),[t,i,r,e])}function OM(t,e){return pk(t,e)}function pk(t,e,n,r){var C;Oe(ya(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:i,static:s}=T.useContext(nr),{matches:o}=T.useContext(rr),a=o[o.length-1],l=a?a.params:{},c=a?a.pathname:"/",d=a?a.pathnameBase:"/",h=a&&a.route;{let E=h&&h.path||"";mk(c,!h||E.endsWith("*")||E.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${c}" (under <Route path="${E}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${E}"> to <Route path="${E==="/"?"*":`${E}/*`}">.`)}let f=Er(),y;if(e){let E=typeof e=="string"?ma(e):e;Oe(d==="/"||((C=E.pathname)==null?void 0:C.startsWith(d)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${d}" but pathname "${E.pathname}" was given in the \`location\` prop.`),y=E}else y=f;let _=y.pathname||"/",S=_;if(d!=="/"){let E=d.replace(/^\//,"").split("/");S="/"+_.replace(/^\//,"").split("/").slice(E.length).join("/")}let P=!s&&n&&n.matches&&n.matches.length>0?n.matches:ok(t,{pathname:S});tr(h||P!=null,`No routes matched location "${y.pathname}${y.search}${y.hash}" `),tr(P==null||P[P.length-1].route.element!==void 0||P[P.length-1].route.Component!==void 0||P[P.length-1].route.lazy!==void 0,`Matched leaf route at location "${y.pathname}${y.search}${y.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let w=$M(P&&P.map(E=>Object.assign({},E,{params:Object.assign({},l,E.params),pathname:Vr([d,i.encodeLocation?i.encodeLocation(E.pathname).pathname:E.pathname]),pathnameBase:E.pathnameBase==="/"?d:Vr([d,i.encodeLocation?i.encodeLocation(E.pathnameBase).pathname:E.pathnameBase])})),o,n,r);return e&&w?T.createElement(Mc.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...y},navigationType:"POP"}},w):w}function MM(){let t=WM(),e=IM(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,r="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:r},s={padding:"2px 4px",backgroundColor:r},o=null;return console.error("Error handled by React Router default ErrorBoundary:",t),o=T.createElement(T.Fragment,null,T.createElement("p",null,"💿 Hey developer 👋"),T.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",T.createElement("code",{style:s},"ErrorBoundary")," or"," ",T.createElement("code",{style:s},"errorElement")," prop on your route.")),T.createElement(T.Fragment,null,T.createElement("h2",null,"Unexpected Application Error!"),T.createElement("h3",{style:{fontStyle:"italic"}},e),n?T.createElement("pre",{style:i},n):null,o)}var LM=T.createElement(MM,null),jM=class extends T.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){console.error("React Router caught the following error during render",t,e)}render(){return this.state.error!==void 0?T.createElement(rr.Provider,{value:this.props.routeContext},T.createElement(W0.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function FM({routeContext:t,match:e,children:n}){let r=T.useContext(ga);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),T.createElement(rr.Provider,{value:t},n)}function $M(t,e=[],n=null,r=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let i=t,s=n==null?void 0:n.errors;if(s!=null){let l=i.findIndex(c=>c.route.id&&(s==null?void 0:s[c.route.id])!==void 0);Oe(l>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(s).join(",")}`),i=i.slice(0,Math.min(i.length,l+1))}let o=!1,a=-1;if(n)for(let l=0;l<i.length;l++){let c=i[l];if((c.route.HydrateFallback||c.route.hydrateFallbackElement)&&(a=l),c.route.id){let{loaderData:d,errors:h}=n,f=c.route.loader&&!d.hasOwnProperty(c.route.id)&&(!h||h[c.route.id]===void 0);if(c.route.lazy||f){o=!0,a>=0?i=i.slice(0,a+1):i=[i[0]];break}}}return i.reduceRight((l,c,d)=>{let h,f=!1,y=null,_=null;n&&(h=s&&c.route.id?s[c.route.id]:void 0,y=c.route.errorElement||LM,o&&(a<0&&d===0?(mk("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),f=!0,_=null):a===d&&(f=!0,_=c.route.hydrateFallbackElement||null)));let S=e.concat(i.slice(0,d+1)),P=()=>{let w;return h?w=y:f?w=_:c.route.Component?w=T.createElement(c.route.Component,null):c.route.element?w=c.route.element:w=l,T.createElement(FM,{match:c,routeContext:{outlet:l,matches:S,isDataRoute:n!=null},children:w})};return n&&(c.route.ErrorBoundary||c.route.errorElement||d===0)?T.createElement(jM,{location:n.location,revalidation:n.revalidation,component:y,error:h,children:P(),routeContext:{outlet:null,matches:S,isDataRoute:!0}}):P()},null)}function H0(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function UM(t){let e=T.useContext(ga);return Oe(e,H0(t)),e}function VM(t){let e=T.useContext(rf);return Oe(e,H0(t)),e}function BM(t){let e=T.useContext(rr);return Oe(e,H0(t)),e}function q0(t){let e=BM(t),n=e.matches[e.matches.length-1];return Oe(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function zM(){return q0("useRouteId")}function WM(){var r;let t=T.useContext(W0),e=VM("useRouteError"),n=q0("useRouteError");return t!==void 0?t:(r=e.errors)==null?void 0:r[n]}function HM(){let{router:t}=UM("useNavigate"),e=q0("useNavigate"),n=T.useRef(!1);return hk(()=>{n.current=!0}),T.useCallback(async(i,s={})=>{tr(n.current,dk),n.current&&(typeof i=="number"?t.navigate(i):await t.navigate(i,{fromRouteId:e,...s}))},[t,e])}var dx={};function mk(t,e,n){!e&&!dx[t]&&(dx[t]=!0,tr(!1,n))}T.memo(qM);function qM({routes:t,future:e,state:n}){return pk(t,void 0,n,e)}function Ig({to:t,replace:e,state:n,relative:r}){Oe(ya(),"<Navigate> may be used only in the context of a <Router> component.");let{static:i}=T.useContext(nr);tr(!i,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:s}=T.useContext(rr),{pathname:o}=Er(),a=Cr(),l=z0(t,B0(s),o,r==="path"),c=JSON.stringify(l);return T.useEffect(()=>{a(JSON.parse(c),{replace:e,state:n,relative:r})},[a,c,r,e,n]),null}function Kt(t){Oe(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function GM({basename:t="/",children:e=null,location:n,navigationType:r="POP",navigator:i,static:s=!1}){Oe(!ya(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let o=t.replace(/^\/*/,"/"),a=T.useMemo(()=>({basename:o,navigator:i,static:s,future:{}}),[o,i,s]);typeof n=="string"&&(n=ma(n));let{pathname:l="/",search:c="",hash:d="",state:h=null,key:f="default"}=n,y=T.useMemo(()=>{let _=Xr(l,o);return _==null?null:{location:{pathname:_,search:c,hash:d,state:h,key:f},navigationType:r}},[o,l,c,d,h,f,r]);return tr(y!=null,`<Router basename="${o}"> is not able to match the URL "${l}${c}${d}" because it does not start with the basename, so the <Router> won't render anything.`),y==null?null:T.createElement(nr.Provider,{value:a},T.createElement(Mc.Provider,{children:e,value:y}))}function KM({children:t,location:e}){return OM(Pg(t),e)}function Pg(t,e=[]){let n=[];return T.Children.forEach(t,(r,i)=>{if(!T.isValidElement(r))return;let s=[...e,i];if(r.type===T.Fragment){n.push.apply(n,Pg(r.props.children,s));return}Oe(r.type===Kt,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Oe(!r.props.index||!r.props.children,"An index route cannot have child routes.");let o={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=Pg(r.props.children,s)),n.push(o)}),n}var hd="get",fd="application/x-www-form-urlencoded";function sf(t){return t!=null&&typeof t.tagName=="string"}function YM(t){return sf(t)&&t.tagName.toLowerCase()==="button"}function XM(t){return sf(t)&&t.tagName.toLowerCase()==="form"}function JM(t){return sf(t)&&t.tagName.toLowerCase()==="input"}function QM(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function ZM(t,e){return t.button===0&&(!e||e==="_self")&&!QM(t)}var ju=null;function e4(){if(ju===null)try{new FormData(document.createElement("form"),0),ju=!1}catch{ju=!0}return ju}var t4=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Gp(t){return t!=null&&!t4.has(t)?(tr(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${fd}"`),null):t}function n4(t,e){let n,r,i,s,o;if(XM(t)){let a=t.getAttribute("action");r=a?Xr(a,e):null,n=t.getAttribute("method")||hd,i=Gp(t.getAttribute("enctype"))||fd,s=new FormData(t)}else if(YM(t)||JM(t)&&(t.type==="submit"||t.type==="image")){let a=t.form;if(a==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let l=t.getAttribute("formaction")||a.getAttribute("action");if(r=l?Xr(l,e):null,n=t.getAttribute("formmethod")||a.getAttribute("method")||hd,i=Gp(t.getAttribute("formenctype"))||Gp(a.getAttribute("enctype"))||fd,s=new FormData(a,t),!e4()){let{name:c,type:d,value:h}=t;if(d==="image"){let f=c?`${c}.`:"";s.append(`${f}x`,"0"),s.append(`${f}y`,"0")}else c&&s.append(c,h)}}else{if(sf(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=hd,r=null,i=fd,o=t}return s&&i==="text/plain"&&(o=s,s=void 0),{action:r,method:n.toLowerCase(),encType:i,formData:s,body:o}}function G0(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}async function r4(t,e){if(t.id in e)return e[t.id];try{let n=await KO(()=>import(t.module),[]);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function i4(t){return t!=null&&typeof t.page=="string"}function s4(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function o4(t,e,n){let r=await Promise.all(t.map(async i=>{let s=e.routes[i.route.id];if(s){let o=await r4(s,n);return o.links?o.links():[]}return[]}));return u4(r.flat(1).filter(s4).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function hx(t,e,n,r,i,s){let o=(l,c)=>n[c]?l.route.id!==n[c].route.id:!0,a=(l,c)=>{var d;return n[c].pathname!==l.pathname||((d=n[c].route.path)==null?void 0:d.endsWith("*"))&&n[c].params["*"]!==l.params["*"]};return s==="assets"?e.filter((l,c)=>o(l,c)||a(l,c)):s==="data"?e.filter((l,c)=>{var h;let d=r.routes[l.route.id];if(!d||!d.hasLoader)return!1;if(o(l,c)||a(l,c))return!0;if(l.route.shouldRevalidate){let f=l.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:((h=n[0])==null?void 0:h.params)||{},nextUrl:new URL(t,window.origin),nextParams:l.params,defaultShouldRevalidate:!0});if(typeof f=="boolean")return f}return!0}):[]}function a4(t,e,{includeHydrateFallback:n}={}){return l4(t.map(r=>{let i=e.routes[r.route.id];if(!i)return[];let s=[i.module];return i.clientActionModule&&(s=s.concat(i.clientActionModule)),i.clientLoaderModule&&(s=s.concat(i.clientLoaderModule)),n&&i.hydrateFallbackModule&&(s=s.concat(i.hydrateFallbackModule)),i.imports&&(s=s.concat(i.imports)),s}).flat(1))}function l4(t){return[...new Set(t)]}function c4(t){let e={},n=Object.keys(t).sort();for(let r of n)e[r]=t[r];return e}function u4(t,e){let n=new Set,r=new Set(e);return t.reduce((i,s)=>{if(e&&!i4(s)&&s.as==="script"&&s.href&&r.has(s.href))return i;let a=JSON.stringify(c4(s));return n.has(a)||(n.add(a),i.push({key:a,link:s})),i},[])}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var d4=new Set([100,101,204,205]);function h4(t,e){let n=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return n.pathname==="/"?n.pathname="_root.data":e&&Xr(n.pathname,e)==="/"?n.pathname=`${e.replace(/\/$/,"")}/_root.data`:n.pathname=`${n.pathname.replace(/\/$/,"")}.data`,n}function gk(){let t=T.useContext(ga);return G0(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function f4(){let t=T.useContext(rf);return G0(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var K0=T.createContext(void 0);K0.displayName="FrameworkContext";function yk(){let t=T.useContext(K0);return G0(t,"You must render this element inside a <HydratedRouter> element"),t}function p4(t,e){let n=T.useContext(K0),[r,i]=T.useState(!1),[s,o]=T.useState(!1),{onFocus:a,onBlur:l,onMouseEnter:c,onMouseLeave:d,onTouchStart:h}=e,f=T.useRef(null);T.useEffect(()=>{if(t==="render"&&o(!0),t==="viewport"){let S=w=>{w.forEach(C=>{o(C.isIntersecting)})},P=new IntersectionObserver(S,{threshold:.5});return f.current&&P.observe(f.current),()=>{P.disconnect()}}},[t]),T.useEffect(()=>{if(r){let S=setTimeout(()=>{o(!0)},100);return()=>{clearTimeout(S)}}},[r]);let y=()=>{i(!0)},_=()=>{i(!1),o(!1)};return n?t!=="intent"?[s,f,{}]:[s,f,{onFocus:Ja(a,y),onBlur:Ja(l,_),onMouseEnter:Ja(c,y),onMouseLeave:Ja(d,_),onTouchStart:Ja(h,y)}]:[!1,f,{}]}function Ja(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function m4({page:t,...e}){let{router:n}=gk(),r=T.useMemo(()=>ok(n.routes,t,n.basename),[n.routes,t,n.basename]);return r?T.createElement(y4,{page:t,matches:r,...e}):null}function g4(t){let{manifest:e,routeModules:n}=yk(),[r,i]=T.useState([]);return T.useEffect(()=>{let s=!1;return o4(t,e,n).then(o=>{s||i(o)}),()=>{s=!0}},[t,e,n]),r}function y4({page:t,matches:e,...n}){let r=Er(),{manifest:i,routeModules:s}=yk(),{basename:o}=gk(),{loaderData:a,matches:l}=f4(),c=T.useMemo(()=>hx(t,e,l,i,r,"data"),[t,e,l,i,r]),d=T.useMemo(()=>hx(t,e,l,i,r,"assets"),[t,e,l,i,r]),h=T.useMemo(()=>{if(t===r.pathname+r.search+r.hash)return[];let _=new Set,S=!1;if(e.forEach(w=>{var E;let C=i.routes[w.route.id];!C||!C.hasLoader||(!c.some(A=>A.route.id===w.route.id)&&w.route.id in a&&((E=s[w.route.id])!=null&&E.shouldRevalidate)||C.hasClientLoader?S=!0:_.add(w.route.id))}),_.size===0)return[];let P=h4(t,o);return S&&_.size>0&&P.searchParams.set("_routes",e.filter(w=>_.has(w.route.id)).map(w=>w.route.id).join(",")),[P.pathname+P.search]},[o,a,r,i,c,e,t,s]),f=T.useMemo(()=>a4(d,i),[d,i]),y=g4(d);return T.createElement(T.Fragment,null,h.map(_=>T.createElement("link",{key:_,rel:"prefetch",as:"fetch",href:_,...n})),f.map(_=>T.createElement("link",{key:_,rel:"modulepreload",href:_,...n})),y.map(({key:_,link:S})=>T.createElement("link",{key:_,...S})))}function v4(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var vk=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{vk&&(window.__reactRouterVersion="7.6.0")}catch{}function _4({basename:t,children:e,window:n}){let r=T.useRef();r.current==null&&(r.current=sM({window:n,v5Compat:!0}));let i=r.current,[s,o]=T.useState({action:i.action,location:i.location}),a=T.useCallback(l=>{T.startTransition(()=>o(l))},[o]);return T.useLayoutEffect(()=>i.listen(a),[i,a]),T.createElement(GM,{basename:t,children:e,location:s.location,navigationType:s.action,navigator:i})}var _k=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,zn=T.forwardRef(function({onClick:e,discover:n="render",prefetch:r="none",relative:i,reloadDocument:s,replace:o,state:a,target:l,to:c,preventScrollReset:d,viewTransition:h,...f},y){let{basename:_}=T.useContext(nr),S=typeof c=="string"&&_k.test(c),P,w=!1;if(typeof c=="string"&&S&&(P=c,vk))try{let I=new URL(window.location.href),g=c.startsWith("//")?new URL(I.protocol+c):new URL(c),R=Xr(g.pathname,_);g.origin===I.origin&&R!=null?c=R+g.search+g.hash:w=!0}catch{tr(!1,`<Link to="${c}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let C=NM(c,{relative:i}),[E,A,D]=p4(r,f),M=C4(c,{replace:o,state:a,target:l,preventScrollReset:d,relative:i,viewTransition:h});function b(I){e&&e(I),I.defaultPrevented||M(I)}let x=T.createElement("a",{...f,...D,href:P||C,onClick:w||s?e:b,ref:v4(y,A),target:l,"data-discover":!S&&n==="render"?"true":void 0});return E&&!S?T.createElement(T.Fragment,null,x,T.createElement(m4,{page:C})):x});zn.displayName="Link";var w4=T.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:r="",end:i=!1,style:s,to:o,viewTransition:a,children:l,...c},d){let h=Lc(o,{relative:c.relative}),f=Er(),y=T.useContext(rf),{navigator:_,basename:S}=T.useContext(nr),P=y!=null&&I4(h)&&a===!0,w=_.encodeLocation?_.encodeLocation(h).pathname:h.pathname,C=f.pathname,E=y&&y.navigation&&y.navigation.location?y.navigation.location.pathname:null;n||(C=C.toLowerCase(),E=E?E.toLowerCase():null,w=w.toLowerCase()),E&&S&&(E=Xr(E,S)||E);const A=w!=="/"&&w.endsWith("/")?w.length-1:w.length;let D=C===w||!i&&C.startsWith(w)&&C.charAt(A)==="/",M=E!=null&&(E===w||!i&&E.startsWith(w)&&E.charAt(w.length)==="/"),b={isActive:D,isPending:M,isTransitioning:P},x=D?e:void 0,I;typeof r=="function"?I=r(b):I=[r,D?"active":null,M?"pending":null,P?"transitioning":null].filter(Boolean).join(" ");let g=typeof s=="function"?s(b):s;return T.createElement(zn,{...c,"aria-current":x,className:I,ref:d,style:g,to:o,viewTransition:a},typeof l=="function"?l(b):l)});w4.displayName="NavLink";var x4=T.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:r,replace:i,state:s,method:o=hd,action:a,onSubmit:l,relative:c,preventScrollReset:d,viewTransition:h,...f},y)=>{let _=T4(),S=k4(a,{relative:c}),P=o.toLowerCase()==="get"?"get":"post",w=typeof a=="string"&&_k.test(a),C=E=>{if(l&&l(E),E.defaultPrevented)return;E.preventDefault();let A=E.nativeEvent.submitter,D=(A==null?void 0:A.getAttribute("formmethod"))||o;_(A||E.currentTarget,{fetcherKey:e,method:D,navigate:n,replace:i,state:s,relative:c,preventScrollReset:d,viewTransition:h})};return T.createElement("form",{ref:y,method:P,action:S,onSubmit:r?l:C,...f,"data-discover":!w&&t==="render"?"true":void 0})});x4.displayName="Form";function E4(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function wk(t){let e=T.useContext(ga);return Oe(e,E4(t)),e}function C4(t,{target:e,replace:n,state:r,preventScrollReset:i,relative:s,viewTransition:o}={}){let a=Cr(),l=Er(),c=Lc(t,{relative:s});return T.useCallback(d=>{if(ZM(d,e)){d.preventDefault();let h=n!==void 0?n:ic(l)===ic(c);a(t,{replace:h,state:r,preventScrollReset:i,relative:s,viewTransition:o})}},[l,a,c,n,r,e,t,i,s,o])}var S4=0,b4=()=>`__${String(++S4)}__`;function T4(){let{router:t}=wk("useSubmit"),{basename:e}=T.useContext(nr),n=zM();return T.useCallback(async(r,i={})=>{let{action:s,method:o,encType:a,formData:l,body:c}=n4(r,e);if(i.navigate===!1){let d=i.fetcherKey||b4();await t.fetch(d,n,i.action||s,{preventScrollReset:i.preventScrollReset,formData:l,body:c,formMethod:i.method||o,formEncType:i.encType||a,flushSync:i.flushSync})}else await t.navigate(i.action||s,{preventScrollReset:i.preventScrollReset,formData:l,body:c,formMethod:i.method||o,formEncType:i.encType||a,replace:i.replace,state:i.state,fromRouteId:n,flushSync:i.flushSync,viewTransition:i.viewTransition})},[t,e,n])}function k4(t,{relative:e}={}){let{basename:n}=T.useContext(nr),r=T.useContext(rr);Oe(r,"useFormAction must be used inside a RouteContext");let[i]=r.matches.slice(-1),s={...Lc(t||".",{relative:e})},o=Er();if(t==null){s.search=o.search;let a=new URLSearchParams(s.search),l=a.getAll("index");if(l.some(d=>d==="")){a.delete("index"),l.filter(h=>h).forEach(h=>a.append("index",h));let d=a.toString();s.search=d?`?${d}`:""}}return(!t||t===".")&&i.route.index&&(s.search=s.search?s.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(s.pathname=s.pathname==="/"?n:Vr([n,s.pathname])),ic(s)}function I4(t,e={}){let n=T.useContext(uk);Oe(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=wk("useViewTransitionState"),i=Lc(t,{relative:e.relative});if(!n.isTransitioning)return!1;let s=Xr(n.currentLocation.pathname,r)||n.currentLocation.pathname,o=Xr(n.nextLocation.pathname,r)||n.nextLocation.pathname;return eh(i.pathname,o)!=null||eh(i.pathname,s)!=null}[...d4];const P4=()=>{};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xk={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B=function(t,e){if(!t)throw va(e)},va=function(t){return new Error("Firebase Database ("+xk.SDK_VERSION+") INTERNAL ASSERT FAILED: "+t)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ek=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},A4=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],o=t[n++],a=t[n++],l=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},Y0={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,a=o?t[i+1]:0,l=i+2<t.length,c=l?t[i+2]:0,d=s>>2,h=(s&3)<<4|a>>4;let f=(a&15)<<2|c>>6,y=c&63;l||(y=64,o||(f=64)),r.push(n[d],n[h],n[f],n[y])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(Ek(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):A4(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const c=i<t.length?n[t.charAt(i)]:64;++i;const h=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||a==null||c==null||h==null)throw new R4;const f=s<<2|a>>4;if(r.push(f),c!==64){const y=a<<4&240|c>>2;if(r.push(y),h!==64){const _=c<<6&192|h;r.push(_)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class R4 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Ck=function(t){const e=Ek(t);return Y0.encodeByteArray(e,!0)},th=function(t){return Ck(t).replace(/\./g,"")},nh=function(t){try{return Y0.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function N4(t){return Sk(void 0,t)}function Sk(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const n=e;return new Date(n.getTime());case Object:t===void 0&&(t={});break;case Array:t=[];break;default:return e}for(const n in e)!e.hasOwnProperty(n)||!D4(n)||(t[n]=Sk(t[n],e[n]));return t}function D4(t){return t!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function O4(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M4=()=>O4().__FIREBASE_DEFAULTS__,L4=()=>{if(typeof process>"u"||typeof process.env>"u")return;const t={}.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},j4=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&nh(t[1]);return e&&JSON.parse(e)},X0=()=>{try{return P4()||M4()||L4()||j4()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},bk=t=>{var e,n;return(n=(e=X0())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},of=t=>{const e=bk(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},Tk=()=>{var t;return(t=X0())===null||t===void 0?void 0:t.config},kk=t=>{var e;return(e=X0())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jc{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yi(t){return t.endsWith(".cloudworkstations.dev")}async function Fc(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function J0(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t),a="";return[th(JSON.stringify(n)),th(JSON.stringify(o)),a].join(".")}const Tl={};function F4(){const t={prod:[],emulator:[]};for(const e of Object.keys(Tl))Tl[e]?t.emulator.push(e):t.prod.push(e);return t}function $4(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let fx=!1;function Sr(t,e){if(typeof window>"u"||typeof document>"u"||!Yi(window.location.host)||Tl[t]===e||Tl[t]||fx)return;Tl[t]=e;function n(f){return`__firebase__banner__${f}`}const r="__firebase__banner",s=F4().prod.length>0;function o(){const f=document.getElementById(r);f&&f.remove()}function a(f){f.style.display="flex",f.style.background="#7faaf0",f.style.position="fixed",f.style.bottom="5px",f.style.left="5px",f.style.padding=".5em",f.style.borderRadius="5px",f.style.alignItems="center"}function l(f,y){f.setAttribute("width","24"),f.setAttribute("id",y),f.setAttribute("height","24"),f.setAttribute("viewBox","0 0 24 24"),f.setAttribute("fill","none"),f.style.marginLeft="-6px"}function c(){const f=document.createElement("span");return f.style.cursor="pointer",f.style.marginLeft="16px",f.style.fontSize="24px",f.innerHTML=" &times;",f.onclick=()=>{fx=!0,o()},f}function d(f,y){f.setAttribute("id",y),f.innerText="Learn more",f.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",f.setAttribute("target","__blank"),f.style.paddingLeft="5px",f.style.textDecoration="underline"}function h(){const f=$4(r),y=n("text"),_=document.getElementById(y)||document.createElement("span"),S=n("learnmore"),P=document.getElementById(S)||document.createElement("a"),w=n("preprendIcon"),C=document.getElementById(w)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(f.created){const E=f.element;a(E),d(P,S);const A=c();l(C,w),E.append(C,_,P,A),document.body.appendChild(E)}s?(_.innerText="Preview backend disconnected.",C.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(C.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,_.innerText="Preview backend running in this workspace."),_.setAttribute("id",y)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",h):h()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Q0(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(zt())}function U4(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function V4(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function Ik(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function B4(){const t=zt();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function Pk(){return xk.NODE_ADMIN===!0}function Ak(){try{return typeof indexedDB=="object"}catch{return!1}}function Rk(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}function z4(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W4="FirebaseError";class On extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=W4,Object.setPrototypeOf(this,On.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,zs.prototype.create)}}class zs{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?H4(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new On(i,a,r)}}function H4(t,e){return t.replace(q4,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const q4=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sc(t){return JSON.parse(t)}function nt(t){return JSON.stringify(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nk=function(t){let e={},n={},r={},i="";try{const s=t.split(".");e=sc(nh(s[0])||""),n=sc(nh(s[1])||""),i=s[2],r=n.d||{},delete n.d}catch{}return{header:e,claims:n,data:r,signature:i}},G4=function(t){const e=Nk(t),n=e.claims;return!!n&&typeof n=="object"&&n.hasOwnProperty("iat")},K4=function(t){const e=Nk(t).claims;return typeof e=="object"&&e.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function br(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function Xo(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]}function Ag(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function rh(t,e,n){const r={};for(const i in t)Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=e.call(n,t[i],i,t));return r}function $i(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(px(s)&&px(o)){if(!$i(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function px(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _a(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function dl(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function hl(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y4{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,n){n||(n=0);const r=this.W_;if(typeof e=="string")for(let h=0;h<16;h++)r[h]=e.charCodeAt(n)<<24|e.charCodeAt(n+1)<<16|e.charCodeAt(n+2)<<8|e.charCodeAt(n+3),n+=4;else for(let h=0;h<16;h++)r[h]=e[n]<<24|e[n+1]<<16|e[n+2]<<8|e[n+3],n+=4;for(let h=16;h<80;h++){const f=r[h-3]^r[h-8]^r[h-14]^r[h-16];r[h]=(f<<1|f>>>31)&4294967295}let i=this.chain_[0],s=this.chain_[1],o=this.chain_[2],a=this.chain_[3],l=this.chain_[4],c,d;for(let h=0;h<80;h++){h<40?h<20?(c=a^s&(o^a),d=1518500249):(c=s^o^a,d=1859775393):h<60?(c=s&o|a&(s|o),d=2400959708):(c=s^o^a,d=3395469782);const f=(i<<5|i>>>27)+c+l+d+r[h]&4294967295;l=a,a=o,o=(s<<30|s>>>2)&4294967295,s=i,i=f}this.chain_[0]=this.chain_[0]+i&4294967295,this.chain_[1]=this.chain_[1]+s&4294967295,this.chain_[2]=this.chain_[2]+o&4294967295,this.chain_[3]=this.chain_[3]+a&4294967295,this.chain_[4]=this.chain_[4]+l&4294967295}update(e,n){if(e==null)return;n===void 0&&(n=e.length);const r=n-this.blockSize;let i=0;const s=this.buf_;let o=this.inbuf_;for(;i<n;){if(o===0)for(;i<=r;)this.compress_(e,i),i+=this.blockSize;if(typeof e=="string"){for(;i<n;)if(s[o]=e.charCodeAt(i),++o,++i,o===this.blockSize){this.compress_(s),o=0;break}}else for(;i<n;)if(s[o]=e[i],++o,++i,o===this.blockSize){this.compress_(s),o=0;break}}this.inbuf_=o,this.total_+=n}digest(){const e=[];let n=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let i=this.blockSize-1;i>=56;i--)this.buf_[i]=n&255,n/=256;this.compress_(this.buf_);let r=0;for(let i=0;i<5;i++)for(let s=24;s>=0;s-=8)e[r]=this.chain_[i]>>s&255,++r;return e}}function X4(t,e){const n=new J4(t,e);return n.subscribe.bind(n)}class J4{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");Q4(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=Kp),i.error===void 0&&(i.error=Kp),i.complete===void 0&&(i.complete=Kp);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Q4(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Kp(){}function af(t,e){return`${t} failed: ${e} argument `}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z4=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);if(i>=55296&&i<=56319){const s=i-55296;r++,B(r<t.length,"Surrogate pair missing trail surrogate.");const o=t.charCodeAt(r)-56320;i=65536+(s<<10)+o}i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):i<65536?(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},lf=function(t){let e=0;for(let n=0;n<t.length;n++){const r=t.charCodeAt(n);r<128?e++:r<2048?e+=2:r>=55296&&r<=56319?(e+=4,n++):e+=3}return e};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Me(t){return t&&t._delegate?t._delegate:t}class on{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const os="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eL{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new jc;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(nL(e))try{this.getOrInitializeService({instanceIdentifier:os})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=os){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=os){return this.instances.has(e)}getOptions(e=os){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:tL(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=os){return this.component?this.component.multipleInstances?e:os:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function tL(t){return t===os?void 0:t}function nL(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rL{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new eL(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ve;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(ve||(ve={}));const iL={debug:ve.DEBUG,verbose:ve.VERBOSE,info:ve.INFO,warn:ve.WARN,error:ve.ERROR,silent:ve.SILENT},sL=ve.INFO,oL={[ve.DEBUG]:"log",[ve.VERBOSE]:"log",[ve.INFO]:"info",[ve.WARN]:"warn",[ve.ERROR]:"error"},aL=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=oL[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class cf{constructor(e){this.name=e,this._logLevel=sL,this._logHandler=aL,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ve))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?iL[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ve.DEBUG,...e),this._logHandler(this,ve.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ve.VERBOSE,...e),this._logHandler(this,ve.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ve.INFO,...e),this._logHandler(this,ve.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ve.WARN,...e),this._logHandler(this,ve.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ve.ERROR,...e),this._logHandler(this,ve.ERROR,...e)}}const lL=(t,e)=>e.some(n=>t instanceof n);let mx,gx;function cL(){return mx||(mx=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function uL(){return gx||(gx=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Dk=new WeakMap,Rg=new WeakMap,Ok=new WeakMap,Yp=new WeakMap,Z0=new WeakMap;function dL(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(Br(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&Dk.set(n,t)}).catch(()=>{}),Z0.set(e,t),e}function hL(t){if(Rg.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});Rg.set(t,e)}let Ng={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Rg.get(t);if(e==="objectStoreNames")return t.objectStoreNames||Ok.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Br(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function fL(t){Ng=t(Ng)}function pL(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Xp(this),e,...n);return Ok.set(r,e.sort?e.sort():[e]),Br(r)}:uL().includes(t)?function(...e){return t.apply(Xp(this),e),Br(Dk.get(this))}:function(...e){return Br(t.apply(Xp(this),e))}}function mL(t){return typeof t=="function"?pL(t):(t instanceof IDBTransaction&&hL(t),lL(t,cL())?new Proxy(t,Ng):t)}function Br(t){if(t instanceof IDBRequest)return dL(t);if(Yp.has(t))return Yp.get(t);const e=mL(t);return e!==t&&(Yp.set(t,e),Z0.set(e,t)),e}const Xp=t=>Z0.get(t);function uf(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=Br(o);return r&&o.addEventListener("upgradeneeded",l=>{r(Br(o.result),l.oldVersion,l.newVersion,Br(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{s&&l.addEventListener("close",()=>s()),i&&l.addEventListener("versionchange",c=>i(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}function Jp(t,{blocked:e}={}){const n=indexedDB.deleteDatabase(t);return e&&n.addEventListener("blocked",r=>e(r.oldVersion,r)),Br(n).then(()=>{})}const gL=["get","getKey","getAll","getAllKeys","count"],yL=["put","add","delete","clear"],Qp=new Map;function yx(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Qp.get(e))return Qp.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=yL.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||gL.includes(n)))return;const s=async function(o,...a){const l=this.transaction(o,i?"readwrite":"readonly");let c=l.store;return r&&(c=c.index(a.shift())),(await Promise.all([c[n](...a),i&&l.done]))[0]};return Qp.set(e,s),s}fL(t=>({...t,get:(e,n,r)=>yx(e,n)||t.get(e,n,r),has:(e,n)=>!!yx(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vL{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(_L(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function _L(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Dg="@firebase/app",vx="0.12.3";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jr=new cf("@firebase/app"),wL="@firebase/app-compat",xL="@firebase/analytics-compat",EL="@firebase/analytics",CL="@firebase/app-check-compat",SL="@firebase/app-check",bL="@firebase/auth",TL="@firebase/auth-compat",kL="@firebase/database",IL="@firebase/data-connect",PL="@firebase/database-compat",AL="@firebase/functions",RL="@firebase/functions-compat",NL="@firebase/installations",DL="@firebase/installations-compat",OL="@firebase/messaging",ML="@firebase/messaging-compat",LL="@firebase/performance",jL="@firebase/performance-compat",FL="@firebase/remote-config",$L="@firebase/remote-config-compat",UL="@firebase/storage",VL="@firebase/storage-compat",BL="@firebase/firestore",zL="@firebase/vertexai",WL="@firebase/firestore-compat",HL="firebase",qL="11.7.3";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Og="[DEFAULT]",GL={[Dg]:"fire-core",[wL]:"fire-core-compat",[EL]:"fire-analytics",[xL]:"fire-analytics-compat",[SL]:"fire-app-check",[CL]:"fire-app-check-compat",[bL]:"fire-auth",[TL]:"fire-auth-compat",[kL]:"fire-rtdb",[IL]:"fire-data-connect",[PL]:"fire-rtdb-compat",[AL]:"fire-fn",[RL]:"fire-fn-compat",[NL]:"fire-iid",[DL]:"fire-iid-compat",[OL]:"fire-fcm",[ML]:"fire-fcm-compat",[LL]:"fire-perf",[jL]:"fire-perf-compat",[FL]:"fire-rc",[$L]:"fire-rc-compat",[UL]:"fire-gcs",[VL]:"fire-gcs-compat",[BL]:"fire-fst",[WL]:"fire-fst-compat",[zL]:"fire-vertex","fire-js":"fire-js",[HL]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ih=new Map,KL=new Map,Mg=new Map;function _x(t,e){try{t.container.addComponent(e)}catch(n){Jr.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function gn(t){const e=t.name;if(Mg.has(e))return Jr.debug(`There were multiple attempts to register component ${e}.`),!1;Mg.set(e,t);for(const n of ih.values())_x(n,t);for(const n of KL.values())_x(n,t);return!0}function ii(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Rt(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YL={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Oi=new zs("app","Firebase",YL);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XL{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new on("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Oi.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xi=qL;function Mk(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:Og,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw Oi.create("bad-app-name",{appName:String(i)});if(n||(n=Tk()),!n)throw Oi.create("no-options");const s=ih.get(i);if(s){if($i(n,s.options)&&$i(r,s.config))return s;throw Oi.create("duplicate-app",{appName:i})}const o=new rL(i);for(const l of Mg.values())o.addComponent(l);const a=new XL(n,r,o);return ih.set(i,a),a}function wa(t=Og){const e=ih.get(t);if(!e&&t===Og&&Tk())return Mk();if(!e)throw Oi.create("no-app",{appName:t});return e}function dt(t,e,n){var r;let i=(r=GL[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${e}":`];s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Jr.warn(a.join(" "));return}gn(new on(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JL="firebase-heartbeat-database",QL=1,oc="firebase-heartbeat-store";let Zp=null;function Lk(){return Zp||(Zp=uf(JL,QL,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(oc)}catch(n){console.warn(n)}}}}).catch(t=>{throw Oi.create("idb-open",{originalErrorMessage:t.message})})),Zp}async function ZL(t){try{const n=(await Lk()).transaction(oc),r=await n.objectStore(oc).get(jk(t));return await n.done,r}catch(e){if(e instanceof On)Jr.warn(e.message);else{const n=Oi.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Jr.warn(n.message)}}}async function wx(t,e){try{const r=(await Lk()).transaction(oc,"readwrite");await r.objectStore(oc).put(e,jk(t)),await r.done}catch(n){if(n instanceof On)Jr.warn(n.message);else{const r=Oi.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Jr.warn(r.message)}}}function jk(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ej=1024,tj=30;class nj{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new ij(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=xx();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats.length>tj){const o=sj(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){Jr.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=xx(),{heartbeatsToSend:r,unsentEntries:i}=rj(this._heartbeatsCache.heartbeats),s=th(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(n){return Jr.warn(n),""}}}function xx(){return new Date().toISOString().substring(0,10)}function rj(t,e=ej){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),Ex(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),Ex(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class ij{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Ak()?Rk().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await ZL(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return wx(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return wx(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function Ex(t){return th(JSON.stringify({version:2,heartbeats:t})).length}function sj(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oj(t){gn(new on("platform-logger",e=>new vL(e),"PRIVATE")),gn(new on("heartbeat",e=>new nj(e),"PRIVATE")),dt(Dg,vx,t),dt(Dg,vx,"esm2017"),dt("fire-js","")}oj("");const Fk="@firebase/installations",ev="0.6.16";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $k=1e4,Uk=`w:${ev}`,Vk="FIS_v2",aj="https://firebaseinstallations.googleapis.com/v1",lj=60*60*1e3,cj="installations",uj="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dj={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},Rs=new zs(cj,uj,dj);function Bk(t){return t instanceof On&&t.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zk({projectId:t}){return`${aj}/projects/${t}/installations`}function Wk(t){return{token:t.token,requestStatus:2,expiresIn:fj(t.expiresIn),creationTime:Date.now()}}async function Hk(t,e){const r=(await e.json()).error;return Rs.create("request-failed",{requestName:t,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})}function qk({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function hj(t,{refreshToken:e}){const n=qk(t);return n.append("Authorization",pj(e)),n}async function Gk(t){const e=await t();return e.status>=500&&e.status<600?t():e}function fj(t){return Number(t.replace("s","000"))}function pj(t){return`${Vk} ${t}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mj({appConfig:t,heartbeatServiceProvider:e},{fid:n}){const r=zk(t),i=qk(t),s=e.getImmediate({optional:!0});if(s){const c=await s.getHeartbeatsHeader();c&&i.append("x-firebase-client",c)}const o={fid:n,authVersion:Vk,appId:t.appId,sdkVersion:Uk},a={method:"POST",headers:i,body:JSON.stringify(o)},l=await Gk(()=>fetch(r,a));if(l.ok){const c=await l.json();return{fid:c.fid||n,registrationStatus:2,refreshToken:c.refreshToken,authToken:Wk(c.authToken)}}else throw await Hk("Create Installation",l)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kk(t){return new Promise(e=>{setTimeout(e,t)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gj(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yj=/^[cdef][\w-]{21}$/,Lg="";function vj(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const n=_j(t);return yj.test(n)?n:Lg}catch{return Lg}}function _j(t){return gj(t).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function df(t){return`${t.appName}!${t.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yk=new Map;function Xk(t,e){const n=df(t);Jk(n,e),wj(n,e)}function Jk(t,e){const n=Yk.get(t);if(n)for(const r of n)r(e)}function wj(t,e){const n=xj();n&&n.postMessage({key:t,fid:e}),Ej()}let gs=null;function xj(){return!gs&&"BroadcastChannel"in self&&(gs=new BroadcastChannel("[Firebase] FID Change"),gs.onmessage=t=>{Jk(t.data.key,t.data.fid)}),gs}function Ej(){Yk.size===0&&gs&&(gs.close(),gs=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cj="firebase-installations-database",Sj=1,Ns="firebase-installations-store";let em=null;function tv(){return em||(em=uf(Cj,Sj,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(Ns)}}})),em}async function sh(t,e){const n=df(t),i=(await tv()).transaction(Ns,"readwrite"),s=i.objectStore(Ns),o=await s.get(n);return await s.put(e,n),await i.done,(!o||o.fid!==e.fid)&&Xk(t,e.fid),e}async function Qk(t){const e=df(t),r=(await tv()).transaction(Ns,"readwrite");await r.objectStore(Ns).delete(e),await r.done}async function hf(t,e){const n=df(t),i=(await tv()).transaction(Ns,"readwrite"),s=i.objectStore(Ns),o=await s.get(n),a=e(o);return a===void 0?await s.delete(n):await s.put(a,n),await i.done,a&&(!o||o.fid!==a.fid)&&Xk(t,a.fid),a}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nv(t){let e;const n=await hf(t.appConfig,r=>{const i=bj(r),s=Tj(t,i);return e=s.registrationPromise,s.installationEntry});return n.fid===Lg?{installationEntry:await e}:{installationEntry:n,registrationPromise:e}}function bj(t){const e=t||{fid:vj(),registrationStatus:0};return Zk(e)}function Tj(t,e){if(e.registrationStatus===0){if(!navigator.onLine){const i=Promise.reject(Rs.create("app-offline"));return{installationEntry:e,registrationPromise:i}}const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=kj(t,n);return{installationEntry:n,registrationPromise:r}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:Ij(t)}:{installationEntry:e}}async function kj(t,e){try{const n=await mj(t,e);return sh(t.appConfig,n)}catch(n){throw Bk(n)&&n.customData.serverCode===409?await Qk(t.appConfig):await sh(t.appConfig,{fid:e.fid,registrationStatus:0}),n}}async function Ij(t){let e=await Cx(t.appConfig);for(;e.registrationStatus===1;)await Kk(100),e=await Cx(t.appConfig);if(e.registrationStatus===0){const{installationEntry:n,registrationPromise:r}=await nv(t);return r||n}return e}function Cx(t){return hf(t,e=>{if(!e)throw Rs.create("installation-not-found");return Zk(e)})}function Zk(t){return Pj(t)?{fid:t.fid,registrationStatus:0}:t}function Pj(t){return t.registrationStatus===1&&t.registrationTime+$k<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Aj({appConfig:t,heartbeatServiceProvider:e},n){const r=Rj(t,n),i=hj(t,n),s=e.getImmediate({optional:!0});if(s){const c=await s.getHeartbeatsHeader();c&&i.append("x-firebase-client",c)}const o={installation:{sdkVersion:Uk,appId:t.appId}},a={method:"POST",headers:i,body:JSON.stringify(o)},l=await Gk(()=>fetch(r,a));if(l.ok){const c=await l.json();return Wk(c)}else throw await Hk("Generate Auth Token",l)}function Rj(t,{fid:e}){return`${zk(t)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rv(t,e=!1){let n;const r=await hf(t.appConfig,s=>{if(!eI(s))throw Rs.create("not-registered");const o=s.authToken;if(!e&&Oj(o))return s;if(o.requestStatus===1)return n=Nj(t,e),s;{if(!navigator.onLine)throw Rs.create("app-offline");const a=Lj(s);return n=Dj(t,a),a}});return n?await n:r.authToken}async function Nj(t,e){let n=await Sx(t.appConfig);for(;n.authToken.requestStatus===1;)await Kk(100),n=await Sx(t.appConfig);const r=n.authToken;return r.requestStatus===0?rv(t,e):r}function Sx(t){return hf(t,e=>{if(!eI(e))throw Rs.create("not-registered");const n=e.authToken;return jj(n)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}async function Dj(t,e){try{const n=await Aj(t,e),r=Object.assign(Object.assign({},e),{authToken:n});return await sh(t.appConfig,r),n}catch(n){if(Bk(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await Qk(t.appConfig);else{const r=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});await sh(t.appConfig,r)}throw n}}function eI(t){return t!==void 0&&t.registrationStatus===2}function Oj(t){return t.requestStatus===2&&!Mj(t)}function Mj(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+lj}function Lj(t){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},t),{authToken:e})}function jj(t){return t.requestStatus===1&&t.requestTime+$k<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Fj(t){const e=t,{installationEntry:n,registrationPromise:r}=await nv(e);return r?r.catch(console.error):rv(e).catch(console.error),n.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $j(t,e=!1){const n=t;return await Uj(n),(await rv(n,e)).token}async function Uj(t){const{registrationPromise:e}=await nv(t);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vj(t){if(!t||!t.options)throw tm("App Configuration");if(!t.name)throw tm("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!t.options[n])throw tm(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}function tm(t){return Rs.create("missing-app-config-values",{valueName:t})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tI="installations",Bj="installations-internal",zj=t=>{const e=t.getProvider("app").getImmediate(),n=Vj(e),r=ii(e,"heartbeat");return{app:e,appConfig:n,heartbeatServiceProvider:r,_delete:()=>Promise.resolve()}},Wj=t=>{const e=t.getProvider("app").getImmediate(),n=ii(e,tI).getImmediate();return{getId:()=>Fj(n),getToken:i=>$j(n,i)}};function Hj(){gn(new on(tI,zj,"PUBLIC")),gn(new on(Bj,Wj,"PRIVATE"))}Hj();dt(Fk,ev);dt(Fk,ev,"esm2017");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qj="/firebase-messaging-sw.js",Gj="/firebase-cloud-messaging-push-scope",nI="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",Kj="https://fcmregistrations.googleapis.com/v1",rI="google.c.a.c_id",Yj="google.c.a.c_l",Xj="google.c.a.ts",Jj="google.c.a.e",bx=1e4;var Tx;(function(t){t[t.DATA_MESSAGE=1]="DATA_MESSAGE",t[t.DISPLAY_NOTIFICATION=3]="DISPLAY_NOTIFICATION"})(Tx||(Tx={}));/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License"); you may not use this file except
 * in compliance with the License. You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software distributed under the License
 * is distributed on an "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express
 * or implied. See the License for the specific language governing permissions and limitations under
 * the License.
 */var ac;(function(t){t.PUSH_RECEIVED="push-received",t.NOTIFICATION_CLICKED="notification-clicked"})(ac||(ac={}));/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dr(t){const e=new Uint8Array(t);return btoa(String.fromCharCode(...e)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function Qj(t){const e="=".repeat((4-t.length%4)%4),n=(t+e).replace(/\-/g,"+").replace(/_/g,"/"),r=atob(n),i=new Uint8Array(r.length);for(let s=0;s<r.length;++s)i[s]=r.charCodeAt(s);return i}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nm="fcm_token_details_db",Zj=5,kx="fcm_token_object_Store";async function e5(t){if("databases"in indexedDB&&!(await indexedDB.databases()).map(s=>s.name).includes(nm))return null;let e=null;return(await uf(nm,Zj,{upgrade:async(r,i,s,o)=>{var a;if(i<2||!r.objectStoreNames.contains(kx))return;const l=o.objectStore(kx),c=await l.index("fcmSenderId").get(t);if(await l.clear(),!!c){if(i===2){const d=c;if(!d.auth||!d.p256dh||!d.endpoint)return;e={token:d.fcmToken,createTime:(a=d.createTime)!==null&&a!==void 0?a:Date.now(),subscriptionOptions:{auth:d.auth,p256dh:d.p256dh,endpoint:d.endpoint,swScope:d.swScope,vapidKey:typeof d.vapidKey=="string"?d.vapidKey:Dr(d.vapidKey)}}}else if(i===3){const d=c;e={token:d.fcmToken,createTime:d.createTime,subscriptionOptions:{auth:Dr(d.auth),p256dh:Dr(d.p256dh),endpoint:d.endpoint,swScope:d.swScope,vapidKey:Dr(d.vapidKey)}}}else if(i===4){const d=c;e={token:d.fcmToken,createTime:d.createTime,subscriptionOptions:{auth:Dr(d.auth),p256dh:Dr(d.p256dh),endpoint:d.endpoint,swScope:d.swScope,vapidKey:Dr(d.vapidKey)}}}}}})).close(),await Jp(nm),await Jp("fcm_vapid_details_db"),await Jp("undefined"),t5(e)?e:null}function t5(t){if(!t||!t.subscriptionOptions)return!1;const{subscriptionOptions:e}=t;return typeof t.createTime=="number"&&t.createTime>0&&typeof t.token=="string"&&t.token.length>0&&typeof e.auth=="string"&&e.auth.length>0&&typeof e.p256dh=="string"&&e.p256dh.length>0&&typeof e.endpoint=="string"&&e.endpoint.length>0&&typeof e.swScope=="string"&&e.swScope.length>0&&typeof e.vapidKey=="string"&&e.vapidKey.length>0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n5="firebase-messaging-database",r5=1,lc="firebase-messaging-store";let rm=null;function iI(){return rm||(rm=uf(n5,r5,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(lc)}}})),rm}async function i5(t){const e=sI(t),r=await(await iI()).transaction(lc).objectStore(lc).get(e);if(r)return r;{const i=await e5(t.appConfig.senderId);if(i)return await iv(t,i),i}}async function iv(t,e){const n=sI(t),i=(await iI()).transaction(lc,"readwrite");return await i.objectStore(lc).put(e,n),await i.done,e}function sI({appConfig:t}){return t.appId}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s5={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."},Dt=new zs("messaging","Messaging",s5);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function o5(t,e){const n=await ov(t),r=oI(e),i={method:"POST",headers:n,body:JSON.stringify(r)};let s;try{s=await(await fetch(sv(t.appConfig),i)).json()}catch(o){throw Dt.create("token-subscribe-failed",{errorInfo:o==null?void 0:o.toString()})}if(s.error){const o=s.error.message;throw Dt.create("token-subscribe-failed",{errorInfo:o})}if(!s.token)throw Dt.create("token-subscribe-no-token");return s.token}async function a5(t,e){const n=await ov(t),r=oI(e.subscriptionOptions),i={method:"PATCH",headers:n,body:JSON.stringify(r)};let s;try{s=await(await fetch(`${sv(t.appConfig)}/${e.token}`,i)).json()}catch(o){throw Dt.create("token-update-failed",{errorInfo:o==null?void 0:o.toString()})}if(s.error){const o=s.error.message;throw Dt.create("token-update-failed",{errorInfo:o})}if(!s.token)throw Dt.create("token-update-no-token");return s.token}async function l5(t,e){const r={method:"DELETE",headers:await ov(t)};try{const s=await(await fetch(`${sv(t.appConfig)}/${e}`,r)).json();if(s.error){const o=s.error.message;throw Dt.create("token-unsubscribe-failed",{errorInfo:o})}}catch(i){throw Dt.create("token-unsubscribe-failed",{errorInfo:i==null?void 0:i.toString()})}}function sv({projectId:t}){return`${Kj}/projects/${t}/registrations`}async function ov({appConfig:t,installations:e}){const n=await e.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t.apiKey,"x-goog-firebase-installations-auth":`FIS ${n}`})}function oI({p256dh:t,auth:e,endpoint:n,vapidKey:r}){const i={web:{endpoint:n,auth:e,p256dh:t}};return r!==nI&&(i.web.applicationPubKey=r),i}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c5=7*24*60*60*1e3;async function u5(t){const e=await h5(t.swRegistration,t.vapidKey),n={vapidKey:t.vapidKey,swScope:t.swRegistration.scope,endpoint:e.endpoint,auth:Dr(e.getKey("auth")),p256dh:Dr(e.getKey("p256dh"))},r=await i5(t.firebaseDependencies);if(r){if(f5(r.subscriptionOptions,n))return Date.now()>=r.createTime+c5?d5(t,{token:r.token,createTime:Date.now(),subscriptionOptions:n}):r.token;try{await l5(t.firebaseDependencies,r.token)}catch(i){console.warn(i)}return Ix(t.firebaseDependencies,n)}else return Ix(t.firebaseDependencies,n)}async function d5(t,e){try{const n=await a5(t.firebaseDependencies,e),r=Object.assign(Object.assign({},e),{token:n,createTime:Date.now()});return await iv(t.firebaseDependencies,r),n}catch(n){throw n}}async function Ix(t,e){const r={token:await o5(t,e),createTime:Date.now(),subscriptionOptions:e};return await iv(t,r),r.token}async function h5(t,e){const n=await t.pushManager.getSubscription();return n||t.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:Qj(e)})}function f5(t,e){const n=e.vapidKey===t.vapidKey,r=e.endpoint===t.endpoint,i=e.auth===t.auth,s=e.p256dh===t.p256dh;return n&&r&&i&&s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Px(t){const e={from:t.from,collapseKey:t.collapse_key,messageId:t.fcmMessageId};return p5(e,t),m5(e,t),g5(e,t),e}function p5(t,e){if(!e.notification)return;t.notification={};const n=e.notification.title;n&&(t.notification.title=n);const r=e.notification.body;r&&(t.notification.body=r);const i=e.notification.image;i&&(t.notification.image=i);const s=e.notification.icon;s&&(t.notification.icon=s)}function m5(t,e){e.data&&(t.data=e.data)}function g5(t,e){var n,r,i,s,o;if(!e.fcmOptions&&!(!((n=e.notification)===null||n===void 0)&&n.click_action))return;t.fcmOptions={};const a=(i=(r=e.fcmOptions)===null||r===void 0?void 0:r.link)!==null&&i!==void 0?i:(s=e.notification)===null||s===void 0?void 0:s.click_action;a&&(t.fcmOptions.link=a);const l=(o=e.fcmOptions)===null||o===void 0?void 0:o.analytics_label;l&&(t.fcmOptions.analyticsLabel=l)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function y5(t){return typeof t=="object"&&!!t&&rI in t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */v5("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");function v5(t,e){const n=[];for(let r=0;r<t.length;r++)n.push(t.charAt(r)),r<e.length&&n.push(e.charAt(r));return n.join("")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _5(t){if(!t||!t.options)throw im("App Configuration Object");if(!t.name)throw im("App Name");const e=["projectId","apiKey","appId","messagingSenderId"],{options:n}=t;for(const r of e)if(!n[r])throw im(r);return{appName:t.name,projectId:n.projectId,apiKey:n.apiKey,appId:n.appId,senderId:n.messagingSenderId}}function im(t){return Dt.create("missing-app-config-values",{valueName:t})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w5{constructor(e,n,r){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const i=_5(e);this.firebaseDependencies={app:e,appConfig:i,installations:n,analyticsProvider:r}}_delete(){return Promise.resolve()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function x5(t){try{t.swRegistration=await navigator.serviceWorker.register(qj,{scope:Gj}),t.swRegistration.update().catch(()=>{}),await E5(t.swRegistration)}catch(e){throw Dt.create("failed-service-worker-registration",{browserErrorMessage:e==null?void 0:e.message})}}async function E5(t){return new Promise((e,n)=>{const r=setTimeout(()=>n(new Error(`Service worker not registered after ${bx} ms`)),bx),i=t.installing||t.waiting;t.active?(clearTimeout(r),e()):i?i.onstatechange=s=>{var o;((o=s.target)===null||o===void 0?void 0:o.state)==="activated"&&(i.onstatechange=null,clearTimeout(r),e())}:(clearTimeout(r),n(new Error("No incoming service worker found.")))})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function C5(t,e){if(!e&&!t.swRegistration&&await x5(t),!(!e&&t.swRegistration)){if(!(e instanceof ServiceWorkerRegistration))throw Dt.create("invalid-sw-registration");t.swRegistration=e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function S5(t,e){e?t.vapidKey=e:t.vapidKey||(t.vapidKey=nI)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function aI(t,e){if(!navigator)throw Dt.create("only-available-in-window");if(Notification.permission==="default"&&await Notification.requestPermission(),Notification.permission!=="granted")throw Dt.create("permission-blocked");return await S5(t,e==null?void 0:e.vapidKey),await C5(t,e==null?void 0:e.serviceWorkerRegistration),u5(t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function b5(t,e,n){const r=T5(e);(await t.firebaseDependencies.analyticsProvider.get()).logEvent(r,{message_id:n[rI],message_name:n[Yj],message_time:n[Xj],message_device_time:Math.floor(Date.now()/1e3)})}function T5(t){switch(t){case ac.NOTIFICATION_CLICKED:return"notification_open";case ac.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function k5(t,e){const n=e.data;if(!n.isFirebaseMessaging)return;t.onMessageHandler&&n.messageType===ac.PUSH_RECEIVED&&(typeof t.onMessageHandler=="function"?t.onMessageHandler(Px(n)):t.onMessageHandler.next(Px(n)));const r=n.data;y5(r)&&r[Jj]==="1"&&await b5(t,n.messageType,r)}const Ax="@firebase/messaging",Rx="0.12.20";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I5=t=>{const e=new w5(t.getProvider("app").getImmediate(),t.getProvider("installations-internal").getImmediate(),t.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",n=>k5(e,n)),e},P5=t=>{const e=t.getProvider("messaging").getImmediate();return{getToken:r=>aI(e,r)}};function A5(){gn(new on("messaging",I5,"PUBLIC")),gn(new on("messaging-internal",P5,"PRIVATE")),dt(Ax,Rx),dt(Ax,Rx,"esm2017")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function R5(){try{await Rk()}catch{return!1}return typeof window<"u"&&Ak()&&z4()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function N5(t,e){if(!navigator)throw Dt.create("only-available-in-window");return t.onMessageHandler=e,()=>{t.onMessageHandler=null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jg(t=wa()){return R5().then(e=>{if(!e)throw Dt.create("unsupported-browser")},e=>{throw Dt.create("indexed-db-unsupported")}),ii(Me(t),"messaging").getImmediate()}async function D5(t,e){return t=Me(t),aI(t,e)}function O5(t,e){return t=Me(t),N5(t,e)}A5();var M5="firebase",L5="11.7.3";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */dt(M5,L5,"app");var Fg=function(t,e){return Fg=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(n[i]=r[i])},Fg(t,e)};function j5(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");Fg(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}var ot=function(){return ot=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},ot.apply(this,arguments)};function av(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function lI(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const F5=lI,cI=new zs("auth","Firebase",lI());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oh=new cf("@firebase/auth");function $5(t,...e){oh.logLevel<=ve.WARN&&oh.warn(`Auth (${Xi}): ${t}`,...e)}function pd(t,...e){oh.logLevel<=ve.ERROR&&oh.error(`Auth (${Xi}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nn(t,...e){throw cv(t,...e)}function Qn(t,...e){return cv(t,...e)}function lv(t,e,n){const r=Object.assign(Object.assign({},F5()),{[e]:n});return new zs("auth","Firebase",r).create(e,{appName:t.name})}function zr(t){return lv(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function U5(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&Nn(t,"argument-error"),lv(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function cv(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return cI.create(t,...e)}function Y(t,e,...n){if(!t)throw cv(e,...n)}function jr(t){const e="INTERNAL ASSERTION FAILED: "+t;throw pd(e),new Error(e)}function Qr(t,e){t||jr(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $g(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function V5(){return Nx()==="http:"||Nx()==="https:"}function Nx(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function B5(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(V5()||V4()||"connection"in navigator)?navigator.onLine:!0}function z5(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $c{constructor(e,n){this.shortDelay=e,this.longDelay=n,Qr(n>e,"Short delay should be less than long delay!"),this.isMobile=Q0()||Ik()}get(){return B5()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uv(t,e){Qr(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uI{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;jr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;jr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;jr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W5={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H5=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],q5=new $c(3e4,6e4);function si(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function oi(t,e,n,r,i={}){return dI(t,i,async()=>{let s={},o={};r&&(e==="GET"?o=r:s={body:JSON.stringify(r)});const a=_a(Object.assign({key:t.config.apiKey},o)).slice(1),l=await t._getAdditionalHeaders();l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode);const c=Object.assign({method:e,headers:l},s);return U4()||(c.referrerPolicy="no-referrer"),t.emulatorConfig&&Yi(t.emulatorConfig.host)&&(c.credentials="include"),uI.fetch()(await hI(t,t.config.apiHost,n,a),c)})}async function dI(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},W5),e);try{const i=new K5(t),s=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=await s.json();if("needConfirmation"in o)throw Fu(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[l,c]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw Fu(t,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw Fu(t,"email-already-in-use",o);if(l==="USER_DISABLED")throw Fu(t,"user-disabled",o);const d=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw lv(t,d,c);Nn(t,d)}}catch(i){if(i instanceof On)throw i;Nn(t,"network-request-failed",{message:String(i)})}}async function Uc(t,e,n,r,i={}){const s=await oi(t,e,n,r,i);return"mfaPendingCredential"in s&&Nn(t,"multi-factor-auth-required",{_serverResponse:s}),s}async function hI(t,e,n,r){const i=`${e}${n}?${r}`,s=t,o=s.config.emulator?uv(t.config,i):`${t.config.apiScheme}://${i}`;return H5.includes(n)&&(await s._persistenceManagerAvailable,s._getPersistenceType()==="COOKIE")?s._getPersistence()._getFinalTarget(o).toString():o}function G5(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class K5{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Qn(this.auth,"network-request-failed")),q5.get())})}}function Fu(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Qn(t,e,r);return i.customData._tokenResponse=n,i}function Dx(t){return t!==void 0&&t.enterprise!==void 0}class Y5{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return G5(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function X5(t,e){return oi(t,"GET","/v2/recaptchaConfig",si(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function J5(t,e){return oi(t,"POST","/v1/accounts:delete",e)}async function ah(t,e){return oi(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kl(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function Q5(t,e=!1){const n=Me(t),r=await n.getIdToken(e),i=dv(r);Y(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,o=s==null?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:kl(sm(i.auth_time)),issuedAtTime:kl(sm(i.iat)),expirationTime:kl(sm(i.exp)),signInProvider:o||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function sm(t){return Number(t)*1e3}function dv(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return pd("JWT malformed, contained fewer than 3 sections"),null;try{const i=nh(n);return i?JSON.parse(i):(pd("Failed to decode base64 JWT payload"),null)}catch(i){return pd("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function Ox(t){const e=dv(t);return Y(e,"internal-error"),Y(typeof e.exp<"u","internal-error"),Y(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cc(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof On&&Z5(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function Z5({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e3{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ug{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=kl(this.lastLoginAt),this.creationTime=kl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lh(t){var e;const n=t.auth,r=await t.getIdToken(),i=await cc(t,ah(n,{idToken:r}));Y(i==null?void 0:i.users.length,n,"internal-error");const s=i.users[0];t._notifyReloadListener(s);const o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?fI(s.providerUserInfo):[],a=n3(t.providerData,o),l=t.isAnonymous,c=!(t.email&&s.passwordHash)&&!(a!=null&&a.length),d=l?c:!1,h={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new Ug(s.createdAt,s.lastLoginAt),isAnonymous:d};Object.assign(t,h)}async function t3(t){const e=Me(t);await lh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function n3(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function fI(t){return t.map(e=>{var{providerId:n}=e,r=av(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function r3(t,e){const n=await dI(t,{},async()=>{const r=_a({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=await hI(t,i,"/v1/token",`key=${s}`),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",uI.fetch()(o,{method:"POST",headers:a,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function i3(t,e){return oi(t,"POST","/v2/accounts:revokeToken",si(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Y(e.idToken,"internal-error"),Y(typeof e.idToken<"u","internal-error"),Y(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Ox(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Y(e.length!==0,"internal-error");const n=Ox(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Y(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:s}=await r3(e,n);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new Mo;return r&&(Y(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(Y(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(Y(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Mo,this.toJSON())}_performRefresh(){return jr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fi(t,e){Y(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class qn{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=av(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new e3(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new Ug(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await cc(this,this.stsTokenManager.getToken(this.auth,e));return Y(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return Q5(this,e)}reload(){return t3(this)}_assign(e){this!==e&&(Y(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new qn(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){Y(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await lh(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Rt(this.auth.app))return Promise.reject(zr(this.auth));const e=await this.getIdToken();return await cc(this,J5(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,a,l,c,d;const h=(r=n.displayName)!==null&&r!==void 0?r:void 0,f=(i=n.email)!==null&&i!==void 0?i:void 0,y=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,_=(o=n.photoURL)!==null&&o!==void 0?o:void 0,S=(a=n.tenantId)!==null&&a!==void 0?a:void 0,P=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,w=(c=n.createdAt)!==null&&c!==void 0?c:void 0,C=(d=n.lastLoginAt)!==null&&d!==void 0?d:void 0,{uid:E,emailVerified:A,isAnonymous:D,providerData:M,stsTokenManager:b}=n;Y(E&&b,e,"internal-error");const x=Mo.fromJSON(this.name,b);Y(typeof E=="string",e,"internal-error"),fi(h,e.name),fi(f,e.name),Y(typeof A=="boolean",e,"internal-error"),Y(typeof D=="boolean",e,"internal-error"),fi(y,e.name),fi(_,e.name),fi(S,e.name),fi(P,e.name),fi(w,e.name),fi(C,e.name);const I=new qn({uid:E,auth:e,email:f,emailVerified:A,displayName:h,isAnonymous:D,photoURL:_,phoneNumber:y,tenantId:S,stsTokenManager:x,createdAt:w,lastLoginAt:C});return M&&Array.isArray(M)&&(I.providerData=M.map(g=>Object.assign({},g))),P&&(I._redirectEventId=P),I}static async _fromIdTokenResponse(e,n,r=!1){const i=new Mo;i.updateFromServerResponse(n);const s=new qn({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await lh(s),s}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];Y(i.localId!==void 0,"internal-error");const s=i.providerUserInfo!==void 0?fI(i.providerUserInfo):[],o=!(i.email&&i.passwordHash)&&!(s!=null&&s.length),a=new Mo;a.updateFromIdToken(r);const l=new qn({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:o}),c={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new Ug(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(s!=null&&s.length)};return Object.assign(l,c),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mx=new Map;function Fr(t){Qr(t instanceof Function,"Expected a class definition");let e=Mx.get(t);return e?(Qr(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,Mx.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pI{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}pI.type="NONE";const Lx=pI;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function md(t,e,n){return`firebase:${t}:${e}:${n}`}class Lo{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=md(this.userKey,i.apiKey,s),this.fullPersistenceKey=md("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await ah(this.auth,{idToken:e}).catch(()=>{});return n?qn._fromGetAccountInfoResponse(this.auth,n,e):null}return qn._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Lo(Fr(Lx),e,r);const i=(await Promise.all(n.map(async c=>{if(await c._isAvailable())return c}))).filter(c=>c);let s=i[0]||Fr(Lx);const o=md(r,e.config.apiKey,e.name);let a=null;for(const c of n)try{const d=await c._get(o);if(d){let h;if(typeof d=="string"){const f=await ah(e,{idToken:d}).catch(()=>{});if(!f)break;h=await qn._fromGetAccountInfoResponse(e,f,d)}else h=qn._fromJSON(e,d);c!==s&&(a=h),s=c;break}}catch{}const l=i.filter(c=>c._shouldAllowMigration);return!s._shouldAllowMigration||!l.length?new Lo(s,e,r):(s=l[0],a&&await s._set(o,a.toJSON()),await Promise.all(n.map(async c=>{if(c!==s)try{await c._remove(o)}catch{}})),new Lo(s,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jx(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(vI(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(mI(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(wI(e))return"Blackberry";if(xI(e))return"Webos";if(gI(e))return"Safari";if((e.includes("chrome/")||yI(e))&&!e.includes("edge/"))return"Chrome";if(_I(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function mI(t=zt()){return/firefox\//i.test(t)}function gI(t=zt()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function yI(t=zt()){return/crios\//i.test(t)}function vI(t=zt()){return/iemobile/i.test(t)}function _I(t=zt()){return/android/i.test(t)}function wI(t=zt()){return/blackberry/i.test(t)}function xI(t=zt()){return/webos/i.test(t)}function hv(t=zt()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function s3(t=zt()){var e;return hv(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function o3(){return B4()&&document.documentMode===10}function EI(t=zt()){return hv(t)||_I(t)||xI(t)||wI(t)||/windows phone/i.test(t)||vI(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CI(t,e=[]){let n;switch(t){case"Browser":n=jx(zt());break;case"Worker":n=`${jx(zt())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Xi}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a3{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((o,a)=>{try{const l=e(s);o(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function l3(t,e={}){return oi(t,"GET","/v2/passwordPolicy",si(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c3=6;class u3{constructor(e){var n,r,i,s;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:c3,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,s,o,a;const l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=(n=l.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),l.isValid&&(l.isValid=(r=l.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(i=l.containsLowercaseLetter)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(s=l.containsUppercaseLetter)!==null&&s!==void 0?s:!0),l.isValid&&(l.isValid=(o=l.containsNumericCharacter)!==null&&o!==void 0?o:!0),l.isValid&&(l.isValid=(a=l.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),l}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d3{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Fx(this),this.idTokenSubscription=new Fx(this),this.beforeStateQueue=new a3(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=cI,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(s=>this._resolvePersistenceManagerAvailable=s)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Fr(n)),this._initializationPromise=this.queue(async()=>{var r,i,s;if(!this._deleted&&(this.persistenceManager=await Lo.create(this,e),(r=this._resolvePersistenceManagerAvailable)===null||r===void 0||r.call(this),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((s=this.currentUser)===null||s===void 0?void 0:s.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await ah(this,{idToken:e}),r=await qn._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(Rt(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let i=r,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i==null?void 0:i._redirectEventId,l=await this.tryRedirectSignIn(e);(!o||o===a)&&(l!=null&&l.user)&&(i=l.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return Y(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await lh(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=z5()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Rt(this.app))return Promise.reject(zr(this));const n=e?Me(e):null;return n&&Y(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Y(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Rt(this.app)?Promise.reject(zr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Rt(this.app)?Promise.reject(zr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Fr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await l3(this),n=new u3(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new zs("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await i3(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Fr(e)||this._popupRedirectResolver;Y(n,this,"argument-error"),this.redirectPersistenceManager=await Lo.create(this,[Fr(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(Y(a,this,"internal-error"),a.then(()=>{o||s(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,r,i);return()=>{o=!0,l()}}else{const l=e.addObserver(n);return()=>{o=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Y(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=CI(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;if(Rt(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&$5(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function Ji(t){return Me(t)}class Fx{constructor(e){this.auth=e,this.observer=null,this.addObserver=X4(n=>this.observer=n)}get next(){return Y(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ff={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function h3(t){ff=t}function SI(t){return ff.loadJS(t)}function f3(){return ff.recaptchaEnterpriseScript}function p3(){return ff.gapiScript}function m3(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class g3{constructor(){this.enterprise=new y3}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class y3{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const v3="recaptcha-enterprise",bI="NO_RECAPTCHA";class _3{constructor(e){this.type=v3,this.auth=Ji(e)}async verify(e="verify",n=!1){async function r(s){if(!n){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise(async(o,a)=>{X5(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const c=new Y5(l);return s.tenantId==null?s._agentRecaptchaConfig=c:s._tenantRecaptchaConfigs[s.tenantId]=c,o(c.siteKey)}}).catch(l=>{a(l)})})}function i(s,o,a){const l=window.grecaptcha;Dx(l)?l.enterprise.ready(()=>{l.enterprise.execute(s,{action:e}).then(c=>{o(c)}).catch(()=>{o(bI)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new g3().execute("siteKey",{action:"verify"}):new Promise((s,o)=>{r(this.auth).then(a=>{if(!n&&Dx(window.grecaptcha))i(a,s,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let l=f3();l.length!==0&&(l+=a),SI(l).then(()=>{i(a,s,o)}).catch(c=>{o(c)})}}).catch(a=>{o(a)})})}}async function Qa(t,e,n,r=!1,i=!1){const s=new _3(t);let o;if(i)o=bI;else try{o=await s.verify(n)}catch{o=await s.verify(n,!0)}const a=Object.assign({},e);if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in a){const l=a.phoneEnrollmentInfo.phoneNumber,c=a.phoneEnrollmentInfo.recaptchaToken;Object.assign(a,{phoneEnrollmentInfo:{phoneNumber:l,recaptchaToken:c,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in a){const l=a.phoneSignInInfo.recaptchaToken;Object.assign(a,{phoneSignInInfo:{recaptchaToken:l,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return a}return r?Object.assign(a,{captchaResp:o}):Object.assign(a,{captchaResponse:o}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a}async function Vg(t,e,n,r,i){var s,o;if(i==="EMAIL_PASSWORD_PROVIDER")if(!((s=t._getRecaptchaConfig())===null||s===void 0)&&s.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const a=await Qa(t,e,n,n==="getOobCode");return r(t,a)}else return r(t,e).catch(async a=>{if(a.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const l=await Qa(t,e,n,n==="getOobCode");return r(t,l)}else return Promise.reject(a)});else if(i==="PHONE_PROVIDER")if(!((o=t._getRecaptchaConfig())===null||o===void 0)&&o.isProviderEnabled("PHONE_PROVIDER")){const a=await Qa(t,e,n);return r(t,a).catch(async l=>{var c;if(((c=t._getRecaptchaConfig())===null||c===void 0?void 0:c.getProviderEnforcementState("PHONE_PROVIDER"))==="AUDIT"&&(l.code==="auth/missing-recaptcha-token"||l.code==="auth/invalid-app-credential")){console.log(`Failed to verify with reCAPTCHA Enterprise. Automatically triggering the reCAPTCHA v2 flow to complete the ${n} flow.`);const d=await Qa(t,e,n,!1,!0);return r(t,d)}return Promise.reject(l)})}else{const a=await Qa(t,e,n,!1,!0);return r(t,a)}else return Promise.reject(i+" provider is not supported.")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function w3(t,e){const n=ii(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),s=n.getOptions();if($i(s,e??{}))return i;Nn(i,"already-initialized")}return n.initialize({options:e})}function x3(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Fr);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function TI(t,e,n){const r=Ji(t);Y(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!!(n!=null&&n.disableWarnings),s=kI(e),{host:o,port:a}=E3(e),l=a===null?"":`:${a}`,c={url:`${s}//${o}${l}/`},d=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){Y(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),Y($i(c,r.config.emulator)&&$i(d,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=c,r.emulatorConfig=d,r.settings.appVerificationDisabledForTesting=!0,Yi(o)?(Sr("Auth",!0),Fc(`${s}//${o}${l}`)):i||C3()}function kI(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function E3(t){const e=kI(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:$x(r.substr(s.length+1))}}else{const[s,o]=r.split(":");return{host:s,port:$x(o)}}}function $x(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function C3(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fv{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return jr("not implemented")}_getIdTokenResponse(e){return jr("not implemented")}_linkToIdToken(e,n){return jr("not implemented")}_getReauthenticationResolver(e){return jr("not implemented")}}async function S3(t,e){return oi(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function b3(t,e){return Uc(t,"POST","/v1/accounts:signInWithPassword",si(t,e))}async function T3(t,e){return oi(t,"POST","/v1/accounts:sendOobCode",si(t,e))}async function k3(t,e){return T3(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function I3(t,e){return Uc(t,"POST","/v1/accounts:signInWithEmailLink",si(t,e))}async function P3(t,e){return Uc(t,"POST","/v1/accounts:signInWithEmailLink",si(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uc extends fv{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new uc(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new uc(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Vg(e,n,"signInWithPassword",b3,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return I3(e,{email:this._email,oobCode:this._password});default:Nn(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Vg(e,r,"signUpPassword",S3,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return P3(e,{idToken:n,email:this._email,oobCode:this._password});default:Nn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jo(t,e){return Uc(t,"POST","/v1/accounts:signInWithIdp",si(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A3="http://localhost";class Ds extends fv{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Ds(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Nn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,s=av(n,["providerId","signInMethod"]);if(!r||!i)return null;const o=new Ds(r,i);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return jo(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,jo(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,jo(e,n)}buildRequest(){const e={requestUri:A3,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=_a(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function R3(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function N3(t){const e=dl(hl(t)).link,n=e?dl(hl(e)).deep_link_id:null,r=dl(hl(t)).deep_link_id;return(r?dl(hl(r)).link:null)||r||n||e||t}class pv{constructor(e){var n,r,i,s,o,a;const l=dl(hl(e)),c=(n=l.apiKey)!==null&&n!==void 0?n:null,d=(r=l.oobCode)!==null&&r!==void 0?r:null,h=R3((i=l.mode)!==null&&i!==void 0?i:null);Y(c&&d&&h,"argument-error"),this.apiKey=c,this.operation=h,this.code=d,this.continueUrl=(s=l.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(o=l.lang)!==null&&o!==void 0?o:null,this.tenantId=(a=l.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){const n=N3(e);try{return new pv(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xa{constructor(){this.providerId=xa.PROVIDER_ID}static credential(e,n){return uc._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=pv.parseLink(n);return Y(r,"argument-error"),uc._fromEmailAndCode(e,r.code,r.tenantId)}}xa.PROVIDER_ID="password";xa.EMAIL_PASSWORD_SIGN_IN_METHOD="password";xa.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mv{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vc extends mv{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _i extends Vc{constructor(){super("facebook.com")}static credential(e){return Ds._fromParams({providerId:_i.PROVIDER_ID,signInMethod:_i.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return _i.credentialFromTaggedObject(e)}static credentialFromError(e){return _i.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return _i.credential(e.oauthAccessToken)}catch{return null}}}_i.FACEBOOK_SIGN_IN_METHOD="facebook.com";_i.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ur extends Vc{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Ds._fromParams({providerId:ur.PROVIDER_ID,signInMethod:ur.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return ur.credentialFromTaggedObject(e)}static credentialFromError(e){return ur.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return ur.credential(n,r)}catch{return null}}}ur.GOOGLE_SIGN_IN_METHOD="google.com";ur.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wi extends Vc{constructor(){super("github.com")}static credential(e){return Ds._fromParams({providerId:wi.PROVIDER_ID,signInMethod:wi.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return wi.credentialFromTaggedObject(e)}static credentialFromError(e){return wi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return wi.credential(e.oauthAccessToken)}catch{return null}}}wi.GITHUB_SIGN_IN_METHOD="github.com";wi.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xi extends Vc{constructor(){super("twitter.com")}static credential(e,n){return Ds._fromParams({providerId:xi.PROVIDER_ID,signInMethod:xi.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return xi.credentialFromTaggedObject(e)}static credentialFromError(e){return xi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return xi.credential(n,r)}catch{return null}}}xi.TWITTER_SIGN_IN_METHOD="twitter.com";xi.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function D3(t,e){return Uc(t,"POST","/v1/accounts:signUp",si(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Os{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const s=await qn._fromIdTokenResponse(e,r,i),o=Ux(r);return new Os({user:s,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=Ux(r);return new Os({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function Ux(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ch extends On{constructor(e,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,ch.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new ch(e,n,r,i)}}function II(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?ch._fromErrorAndOperation(t,s,e,r):s})}async function O3(t,e,n=!1){const r=await cc(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Os._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function M3(t,e,n=!1){const{auth:r}=t;if(Rt(r.app))return Promise.reject(zr(r));const i="reauthenticate";try{const s=await cc(t,II(r,i,e,t),n);Y(s.idToken,r,"internal-error");const o=dv(s.idToken);Y(o,r,"internal-error");const{sub:a}=o;return Y(t.uid===a,r,"user-mismatch"),Os._forOperation(t,i,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&Nn(r,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function PI(t,e,n=!1){if(Rt(t.app))return Promise.reject(zr(t));const r="signIn",i=await II(t,r,e),s=await Os._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(s.user),s}async function L3(t,e){return PI(Ji(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function j3(t,e,n){var r;Y(((r=n.url)===null||r===void 0?void 0:r.length)>0,t,"invalid-continue-uri"),Y(typeof n.dynamicLinkDomain>"u"||n.dynamicLinkDomain.length>0,t,"invalid-dynamic-link-domain"),Y(typeof n.linkDomain>"u"||n.linkDomain.length>0,t,"invalid-hosting-link-domain"),e.continueUrl=n.url,e.dynamicLinkDomain=n.dynamicLinkDomain,e.linkDomain=n.linkDomain,e.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(Y(n.iOS.bundleId.length>0,t,"missing-ios-bundle-id"),e.iOSBundleId=n.iOS.bundleId),n.android&&(Y(n.android.packageName.length>0,t,"missing-android-pkg-name"),e.androidInstallApp=n.android.installApp,e.androidMinimumVersionCode=n.android.minimumVersion,e.androidPackageName=n.android.packageName)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function AI(t){const e=Ji(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function RI(t,e,n){if(Rt(t.app))return Promise.reject(zr(t));const r=Ji(t),o=await Vg(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",D3,"EMAIL_PASSWORD_PROVIDER").catch(l=>{throw l.code==="auth/password-does-not-meet-requirements"&&AI(t),l}),a=await Os._fromIdTokenResponse(r,"signIn",o);return await r._updateCurrentUser(a.user),a}function F3(t,e,n){return Rt(t.app)?Promise.reject(zr(t)):L3(Me(t),xa.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&AI(t),r})}async function $3(t,e){const n=Me(t),i={requestType:"VERIFY_EMAIL",idToken:await t.getIdToken()};e&&j3(n.auth,i,e);const{email:s}=await k3(n.auth,i);s!==t.email&&await t.reload()}function U3(t,e,n,r){return Me(t).onIdTokenChanged(e,n,r)}function V3(t,e,n){return Me(t).beforeAuthStateChanged(e,n)}function B3(t,e,n,r){return Me(t).onAuthStateChanged(e,n,r)}function NI(t){return Me(t).signOut()}const uh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DI{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(uh,"1"),this.storage.removeItem(uh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z3=1e3,W3=10;class OI extends DI{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=EI(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,l)=>{this.notifyListeners(o,l)});return}const r=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},s=this.storage.getItem(r);o3()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,W3):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},z3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}OI.type="LOCAL";const H3=OI;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MI extends DI{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}MI.type="SESSION";const LI=MI;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function q3(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pf{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new pf(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:s}=n.data,o=this.handlersMap[i];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const a=Array.from(o).map(async c=>c(n.origin,s)),l=await q3(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}pf.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gv(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G3{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((a,l)=>{const c=gv("",20);i.port1.start();const d=setTimeout(()=>{l(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(h){const f=h;if(f.data.eventId===c)switch(f.data.status){case"ack":clearTimeout(d),s=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(f.data.response);break;default:clearTimeout(d),clearTimeout(s),l(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:c,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pr(){return window}function K3(t){pr().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jI(){return typeof pr().WorkerGlobalScope<"u"&&typeof pr().importScripts=="function"}async function Y3(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function X3(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function J3(){return jI()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FI="firebaseLocalStorageDb",Q3=1,dh="firebaseLocalStorage",$I="fbase_key";class Bc{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function mf(t,e){return t.transaction([dh],e?"readwrite":"readonly").objectStore(dh)}function Z3(){const t=indexedDB.deleteDatabase(FI);return new Bc(t).toPromise()}function Bg(){const t=indexedDB.open(FI,Q3);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(dh,{keyPath:$I})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(dh)?e(r):(r.close(),await Z3(),e(await Bg()))})})}async function Vx(t,e,n){const r=mf(t,!0).put({[$I]:e,value:n});return new Bc(r).toPromise()}async function eF(t,e){const n=mf(t,!1).get(e),r=await new Bc(n).toPromise();return r===void 0?null:r.value}function Bx(t,e){const n=mf(t,!0).delete(e);return new Bc(n).toPromise()}const tF=800,nF=3;class UI{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Bg(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>nF)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return jI()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=pf._getInstance(J3()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await Y3(),!this.activeServiceWorker)return;this.sender=new G3(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||X3()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Bg();return await Vx(e,uh,"1"),await Bx(e,uh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>Vx(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>eF(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>Bx(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=mf(i,!1).getAll();return new Bc(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:s}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),tF)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}UI.type="LOCAL";const rF=UI;new $c(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VI(t,e){return e?Fr(e):(Y(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yv extends fv{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return jo(e,this._buildIdpRequest())}_linkToIdToken(e,n){return jo(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return jo(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function iF(t){return PI(t.auth,new yv(t),t.bypassAuthState)}function sF(t){const{auth:e,user:n}=t;return Y(n,e,"internal-error"),M3(n,new yv(t),t.bypassAuthState)}async function oF(t){const{auth:e,user:n}=t;return Y(n,e,"internal-error"),O3(n,new yv(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BI{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:o,type:a}=e;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(c){this.reject(c)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return iF;case"linkViaPopup":case"linkViaRedirect":return oF;case"reauthViaPopup":case"reauthViaRedirect":return sF;default:Nn(this.auth,"internal-error")}}resolve(e){Qr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Qr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aF=new $c(2e3,1e4);async function lF(t,e,n){if(Rt(t.app))return Promise.reject(Qn(t,"operation-not-supported-in-this-environment"));const r=Ji(t);U5(t,e,mv);const i=VI(r,n);return new ys(r,"signInViaPopup",e,i).executeNotNull()}class ys extends BI{constructor(e,n,r,i,s){super(e,n,i,s),this.provider=r,this.authWindow=null,this.pollId=null,ys.currentPopupAction&&ys.currentPopupAction.cancel(),ys.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Y(e,this.auth,"internal-error"),e}async onExecution(){Qr(this.filter.length===1,"Popup operations only handle one event");const e=gv();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Qn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Qn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,ys.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Qn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,aF.get())};e()}}ys.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cF="pendingRedirect",gd=new Map;class uF extends BI{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=gd.get(this.auth._key());if(!e){try{const r=await dF(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}gd.set(this.auth._key(),e)}return this.bypassAuthState||gd.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function dF(t,e){const n=pF(e),r=fF(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function hF(t,e){gd.set(t._key(),e)}function fF(t){return Fr(t._redirectPersistence)}function pF(t){return md(cF,t.config.apiKey,t.name)}async function mF(t,e,n=!1){if(Rt(t.app))return Promise.reject(zr(t));const r=Ji(t),i=VI(r,e),o=await new uF(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gF=10*60*1e3;class yF{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!vF(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!zI(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(Qn(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=gF&&this.cachedEventUids.clear(),this.cachedEventUids.has(zx(e))}saveEventToCache(e){this.cachedEventUids.add(zx(e)),this.lastProcessedEventTime=Date.now()}}function zx(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function zI({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function vF(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return zI(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _F(t,e={}){return oi(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wF=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,xF=/^https?/;async function EF(t){if(t.config.emulator)return;const{authorizedDomains:e}=await _F(t);for(const n of e)try{if(CF(n))return}catch{}Nn(t,"unauthorized-domain")}function CF(t){const e=$g(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!xF.test(n))return!1;if(wF.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SF=new $c(3e4,6e4);function Wx(){const t=pr().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function bF(t){return new Promise((e,n)=>{var r,i,s;function o(){Wx(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Wx(),n(Qn(t,"network-request-failed"))},timeout:SF.get()})}if(!((i=(r=pr().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=pr().gapi)===null||s===void 0)&&s.load)o();else{const a=m3("iframefcb");return pr()[a]=()=>{gapi.load?o():n(Qn(t,"network-request-failed"))},SI(`${p3()}?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw yd=null,e})}let yd=null;function TF(t){return yd=yd||bF(t),yd}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kF=new $c(5e3,15e3),IF="__/auth/iframe",PF="emulator/auth/iframe",AF={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},RF=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function NF(t){const e=t.config;Y(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?uv(e,PF):`https://${t.config.authDomain}/${IF}`,r={apiKey:e.apiKey,appName:t.name,v:Xi},i=RF.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${_a(r).slice(1)}`}async function DF(t){const e=await TF(t),n=pr().gapi;return Y(n,t,"internal-error"),e.open({where:document.body,url:NF(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:AF,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const o=Qn(t,"network-request-failed"),a=pr().setTimeout(()=>{s(o)},kF.get());function l(){pr().clearTimeout(a),i(r)}r.ping(l).then(l,()=>{s(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OF={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},MF=500,LF=600,jF="_blank",FF="http://localhost";class Hx{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function $F(t,e,n,r=MF,i=LF){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=Object.assign(Object.assign({},OF),{width:r.toString(),height:i.toString(),top:s,left:o}),c=zt().toLowerCase();n&&(a=yI(c)?jF:n),mI(c)&&(e=e||FF,l.scrollbars="yes");const d=Object.entries(l).reduce((f,[y,_])=>`${f}${y}=${_},`,"");if(s3(c)&&a!=="_self")return UF(e||"",a),new Hx(null);const h=window.open(e||"",a,d);Y(h,t,"popup-blocked");try{h.focus()}catch{}return new Hx(h)}function UF(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VF="__/auth/handler",BF="emulator/auth/handler",zF=encodeURIComponent("fac");async function qx(t,e,n,r,i,s){Y(t.config.authDomain,t,"auth-domain-config-required"),Y(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Xi,eventId:i};if(e instanceof mv){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",Ag(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[d,h]of Object.entries(s||{}))o[d]=h}if(e instanceof Vc){const d=e.getScopes().filter(h=>h!=="");d.length>0&&(o.scopes=d.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const d of Object.keys(a))a[d]===void 0&&delete a[d];const l=await t._getAppCheckToken(),c=l?`#${zF}=${encodeURIComponent(l)}`:"";return`${WF(t)}?${_a(a).slice(1)}${c}`}function WF({config:t}){return t.emulator?uv(t,BF):`https://${t.authDomain}/${VF}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const om="webStorageSupport";class HF{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=LI,this._completeRedirectFn=mF,this._overrideRedirectResult=hF}async _openPopup(e,n,r,i){var s;Qr((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const o=await qx(e,n,r,$g(),i);return $F(e,o,gv())}async _openRedirect(e,n,r,i){await this._originValidation(e);const s=await qx(e,n,r,$g(),i);return K3(s),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(Qr(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await DF(e),r=new yF(e);return n.register("authEvent",i=>(Y(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(om,{type:om},i=>{var s;const o=(s=i==null?void 0:i[0])===null||s===void 0?void 0:s[om];o!==void 0&&n(!!o),Nn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=EF(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return EI()||gI()||hv()}}const qF=HF;var Gx="@firebase/auth",Kx="1.10.4";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GF{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Y(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KF(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function YF(t){gn(new on("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;Y(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:CI(t)},c=new d3(r,i,s,l);return x3(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),gn(new on("auth-internal",e=>{const n=Ji(e.getProvider("auth").getImmediate());return(r=>new GF(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),dt(Gx,Kx,KF(t)),dt(Gx,Kx,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XF=5*60,JF=kk("authIdTokenMaxAge")||XF;let Yx=null;const QF=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>JF)return;const i=n==null?void 0:n.token;Yx!==i&&(Yx=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function ZF(t=wa()){const e=ii(t,"auth");if(e.isInitialized())return e.getImmediate();const n=w3(t,{popupRedirectResolver:qF,persistence:[rF,H3,LI]}),r=kk("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const s=new URL(r,location.origin);if(location.origin===s.origin){const o=QF(s.toString());V3(n,o,()=>o(n.currentUser)),U3(n,a=>o(a))}}const i=bk("auth");return i?TI(n,`http://${i}`):Sr("Auth",!1),n}function e6(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}h3({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=Qn("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",e6().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});YF("Browser");const Xx="@firebase/database",Jx="1.0.17";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let WI="";function t6(t){WI=t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n6{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,n){n==null?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),nt(n))}get(e){const n=this.domStorage_.getItem(this.prefixedName_(e));return n==null?null:sc(n)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r6{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,n){n==null?delete this.cache_[e]:this.cache_[e]=n}get(e){return br(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HI=function(t){try{if(typeof window<"u"&&typeof window[t]<"u"){const e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new n6(e)}}catch{}return new r6},vs=HI("localStorage"),zg=HI("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fo=new cf("@firebase/database"),i6=function(){let t=1;return function(){return t++}}(),qI=function(t){const e=Z4(t),n=new Y4;n.update(e);const r=n.digest();return Y0.encodeByteArray(r)},zc=function(...t){let e="";for(let n=0;n<t.length;n++){const r=t[n];Array.isArray(r)||r&&typeof r=="object"&&typeof r.length=="number"?e+=zc.apply(null,r):typeof r=="object"?e+=nt(r):e+=r,e+=" "}return e};let Cs=null,Qx=!0;const s6=function(t,e){B(!e||t===!0||t===!1,"Can't turn on custom loggers persistently."),t===!0?(Fo.logLevel=ve.VERBOSE,Cs=Fo.log.bind(Fo),e&&zg.set("logging_enabled",!0)):typeof t=="function"?Cs=t:(Cs=null,zg.remove("logging_enabled"))},vt=function(...t){if(Qx===!0&&(Qx=!1,Cs===null&&zg.get("logging_enabled")===!0&&s6(!0)),Cs){const e=zc.apply(null,t);Cs(e)}},Wc=function(t){return function(...e){vt(t,...e)}},Wg=function(...t){const e="FIREBASE INTERNAL ERROR: "+zc(...t);Fo.error(e)},Zr=function(...t){const e=`FIREBASE FATAL ERROR: ${zc(...t)}`;throw Fo.error(e),new Error(e)},Bt=function(...t){const e="FIREBASE WARNING: "+zc(...t);Fo.warn(e)},o6=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&Bt("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},vv=function(t){return typeof t=="number"&&(t!==t||t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY)},a6=function(t){if(document.readyState==="complete")t();else{let e=!1;const n=function(){if(!document.body){setTimeout(n,Math.floor(10));return}e||(e=!0,t())};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&n()}),window.attachEvent("onload",n))}},Jo="[MIN_NAME]",Ms="[MAX_NAME]",Ws=function(t,e){if(t===e)return 0;if(t===Jo||e===Ms)return-1;if(e===Jo||t===Ms)return 1;{const n=Zx(t),r=Zx(e);return n!==null?r!==null?n-r===0?t.length-e.length:n-r:-1:r!==null?1:t<e?-1:1}},l6=function(t,e){return t===e?0:t<e?-1:1},Za=function(t,e){if(e&&t in e)return e[t];throw new Error("Missing required key ("+t+") in object: "+nt(e))},_v=function(t){if(typeof t!="object"||t===null)return nt(t);const e=[];for(const r in t)e.push(r);e.sort();let n="{";for(let r=0;r<e.length;r++)r!==0&&(n+=","),n+=nt(e[r]),n+=":",n+=_v(t[e[r]]);return n+="}",n},GI=function(t,e){const n=t.length;if(n<=e)return[t];const r=[];for(let i=0;i<n;i+=e)i+e>n?r.push(t.substring(i,n)):r.push(t.substring(i,i+e));return r};function xt(t,e){for(const n in t)t.hasOwnProperty(n)&&e(n,t[n])}const KI=function(t){B(!vv(t),"Invalid JSON number");const e=11,n=52,r=(1<<e-1)-1;let i,s,o,a,l;t===0?(s=0,o=0,i=1/t===-1/0?1:0):(i=t<0,t=Math.abs(t),t>=Math.pow(2,1-r)?(a=Math.min(Math.floor(Math.log(t)/Math.LN2),r),s=a+r,o=Math.round(t*Math.pow(2,n-a)-Math.pow(2,n))):(s=0,o=Math.round(t/Math.pow(2,1-r-n))));const c=[];for(l=n;l;l-=1)c.push(o%2?1:0),o=Math.floor(o/2);for(l=e;l;l-=1)c.push(s%2?1:0),s=Math.floor(s/2);c.push(i?1:0),c.reverse();const d=c.join("");let h="";for(l=0;l<64;l+=8){let f=parseInt(d.substr(l,8),2).toString(16);f.length===1&&(f="0"+f),h=h+f}return h.toLowerCase()},c6=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},u6=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function d6(t,e){let n="Unknown Error";t==="too_big"?n="The data requested exceeds the maximum size that can be accessed with a single request.":t==="permission_denied"?n="Client doesn't have permission to access the desired data.":t==="unavailable"&&(n="The service is unavailable");const r=new Error(t+" at "+e._path.toString()+": "+n);return r.code=t.toUpperCase(),r}const h6=new RegExp("^-?(0*)\\d{1,10}$"),f6=-2147483648,p6=2147483647,Zx=function(t){if(h6.test(t)){const e=Number(t);if(e>=f6&&e<=p6)return e}return null},Ea=function(t){try{t()}catch(e){setTimeout(()=>{const n=e.stack||"";throw Bt("Exception was thrown by user callback.",n),e},Math.floor(0))}},m6=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},Il=function(t,e){const n=setTimeout(t,e);return typeof n=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(n):typeof n=="object"&&n.unref&&n.unref(),n};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g6{constructor(e,n){this.appCheckProvider=n,this.appName=e.name,Rt(e)&&e.settings.appCheckToken&&(this.serverAppAppCheckToken=e.settings.appCheckToken),this.appCheck=n==null?void 0:n.getImmediate({optional:!0}),this.appCheck||n==null||n.get().then(r=>this.appCheck=r)}getToken(e){if(this.serverAppAppCheckToken){if(e)throw new Error("Attempted reuse of `FirebaseServerApp.appCheckToken` after previous usage failed.");return Promise.resolve({token:this.serverAppAppCheckToken})}return this.appCheck?this.appCheck.getToken(e):new Promise((n,r)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){var n;(n=this.appCheckProvider)===null||n===void 0||n.get().then(r=>r.addTokenListener(e))}notifyForInvalidToken(){Bt(`Provided AppCheck credentials for the app named "${this.appName}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y6{constructor(e,n,r){this.appName_=e,this.firebaseOptions_=n,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit(i=>this.auth_=i)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(n=>n&&n.code==="auth/token-not-initialized"?(vt("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(n)):new Promise((n,r)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(n=>n.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(n=>n.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',Bt(e)}}class $o{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}$o.OWNER="owner";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wv="5",YI="v",XI="s",JI="r",QI="f",ZI=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,eP="ls",tP="p",Hg="ac",nP="websocket",rP="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iP{constructor(e,n,r,i,s=!1,o="",a=!1,l=!1,c=null){this.secure=n,this.namespace=r,this.webSocketOnly=i,this.nodeAdmin=s,this.persistenceKey=o,this.includeNamespaceInQueryParams=a,this.isUsingEmulator=l,this.emulatorOptions=c,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=vs.get("host:"+e)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&vs.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){const e=this.secure?"https://":"http://",n=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${e}${this.host}/${n}`}}function v6(t){return t.host!==t.internalHost||t.isCustomHost()||t.includeNamespaceInQueryParams}function sP(t,e,n){B(typeof e=="string","typeof type must == string"),B(typeof n=="object","typeof params must == object");let r;if(e===nP)r=(t.secure?"wss://":"ws://")+t.internalHost+"/.ws?";else if(e===rP)r=(t.secure?"https://":"http://")+t.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+e);v6(t)&&(n.ns=t.namespace);const i=[];return xt(n,(s,o)=>{i.push(s+"="+o)}),r+i.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _6{constructor(){this.counters_={}}incrementCounter(e,n=1){br(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=n}get(){return N4(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const am={},lm={};function xv(t){const e=t.toString();return am[e]||(am[e]=new _6),am[e]}function w6(t,e){const n=t.toString();return lm[n]||(lm[n]=e()),lm[n]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x6{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,n){this.closeAfterResponse=e,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,n){for(this.pendingResponses[e]=n;this.pendingResponses[this.currentResponseNum];){const r=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let i=0;i<r.length;++i)r[i]&&Ea(()=>{this.onMessage_(r[i])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eE="start",E6="close",C6="pLPCommand",S6="pRTLPCB",oP="id",aP="pw",lP="ser",b6="cb",T6="seg",k6="ts",I6="d",P6="dframe",cP=1870,uP=30,A6=cP-uP,R6=25e3,N6=3e4;class Co{constructor(e,n,r,i,s,o,a){this.connId=e,this.repoInfo=n,this.applicationId=r,this.appCheckToken=i,this.authToken=s,this.transportSessionId=o,this.lastSessionId=a,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Wc(e),this.stats_=xv(n),this.urlFn=l=>(this.appCheckToken&&(l[Hg]=this.appCheckToken),sP(n,rP,l))}open(e,n){this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new x6(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(N6)),a6(()=>{if(this.isClosed_)return;this.scriptTagHolder=new Ev((...s)=>{const[o,a,l,c,d]=s;if(this.incrementIncomingBytes_(s),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,o===eE)this.id=a,this.password=l;else if(o===E6)a?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(a,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+o)},(...s)=>{const[o,a]=s;this.incrementIncomingBytes_(s),this.myPacketOrderer.handleResponse(o,a)},()=>{this.onClosed_()},this.urlFn);const r={};r[eE]="t",r[lP]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(r[b6]=this.scriptTagHolder.uniqueCallbackIdentifier),r[YI]=wv,this.transportSessionId&&(r[XI]=this.transportSessionId),this.lastSessionId&&(r[eP]=this.lastSessionId),this.applicationId&&(r[tP]=this.applicationId),this.appCheckToken&&(r[Hg]=this.appCheckToken),typeof location<"u"&&location.hostname&&ZI.test(location.hostname)&&(r[JI]=QI);const i=this.urlFn(r);this.log_("Connecting via long-poll to "+i),this.scriptTagHolder.addTag(i,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){Co.forceAllow_=!0}static forceDisallow(){Co.forceDisallow_=!0}static isAvailable(){return Co.forceAllow_?!0:!Co.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!c6()&&!u6()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const n=nt(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=Ck(n),i=GI(r,A6);for(let s=0;s<i.length;s++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,i.length,i[s]),this.curSegmentNum++}addDisconnectPingFrame(e,n){this.myDisconnFrame=document.createElement("iframe");const r={};r[P6]="t",r[oP]=e,r[aP]=n,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const n=nt(e).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)}}class Ev{constructor(e,n,r,i){this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=i6(),window[C6+this.uniqueCallbackIdentifier]=e,window[S6+this.uniqueCallbackIdentifier]=n,this.myIFrame=Ev.createIFrame_();let s="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(s='<script>document.domain="'+document.domain+'";<\/script>');const o="<html><body>"+s+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(o),this.myIFrame.doc.close()}catch(a){vt("frame writing exception"),a.stack&&vt(a.stack),vt(a)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",document.body){document.body.appendChild(e);try{e.contentWindow.document||vt("No IE domain setting required")}catch{const r=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,n){for(this.myID=e,this.myPW=n,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e[oP]=this.myID,e[aP]=this.myPW,e[lP]=this.currentSerial;let n=this.urlFn(e),r="",i=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+uP+r.length<=cP;){const o=this.pendingSegs.shift();r=r+"&"+T6+i+"="+o.seg+"&"+k6+i+"="+o.ts+"&"+I6+i+"="+o.d,i++}return n=n+r,this.addLongPollTag_(n,this.currentSerial),!0}else return!1}enqueueSegment(e,n,r){this.pendingSegs.push({seg:e,ts:n,d:r}),this.alive&&this.newRequest_()}addLongPollTag_(e,n){this.outstandingRequests.add(n);const r=()=>{this.outstandingRequests.delete(n),this.newRequest_()},i=setTimeout(r,Math.floor(R6)),s=()=>{clearTimeout(i),r()};this.addTag(e,s)}addTag(e,n){setTimeout(()=>{try{if(!this.sendNewPolls)return;const r=this.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=e,r.onload=r.onreadystatechange=function(){const i=r.readyState;(!i||i==="loaded"||i==="complete")&&(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),n())},r.onerror=()=>{vt("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(r)}catch{}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D6=16384,O6=45e3;let hh=null;typeof MozWebSocket<"u"?hh=MozWebSocket:typeof WebSocket<"u"&&(hh=WebSocket);class Hn{constructor(e,n,r,i,s,o,a){this.connId=e,this.applicationId=r,this.appCheckToken=i,this.authToken=s,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Wc(this.connId),this.stats_=xv(n),this.connURL=Hn.connectionURL_(n,o,a,i,r),this.nodeAdmin=n.nodeAdmin}static connectionURL_(e,n,r,i,s){const o={};return o[YI]=wv,typeof location<"u"&&location.hostname&&ZI.test(location.hostname)&&(o[JI]=QI),n&&(o[XI]=n),r&&(o[eP]=r),i&&(o[Hg]=i),s&&(o[tP]=s),sP(e,nP,o)}open(e,n){this.onDisconnect=n,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,vs.set("previous_websocket_failure",!0);try{let r;Pk(),this.mySock=new hh(this.connURL,[],r)}catch(r){this.log_("Error instantiating WebSocket.");const i=r.message||r.data;i&&this.log_(i),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=r=>{this.handleIncomingFrame(r)},this.mySock.onerror=r=>{this.log_("WebSocket error.  Closing connection.");const i=r.message||r.data;i&&this.log_(i),this.onClosed_()}}start(){}static forceDisallow(){Hn.forceDisallow_=!0}static isAvailable(){let e=!1;if(typeof navigator<"u"&&navigator.userAgent){const n=/Android ([0-9]{0,}\.[0-9]{0,})/,r=navigator.userAgent.match(n);r&&r.length>1&&parseFloat(r[1])<4.4&&(e=!0)}return!e&&hh!==null&&!Hn.forceDisallow_}static previouslyFailed(){return vs.isInMemoryStorage||vs.get("previous_websocket_failure")===!0}markConnectionHealthy(){vs.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const n=this.frames.join("");this.frames=null;const r=sc(n);this.onMessage(r)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if(B(this.frames===null,"We already have a frame buffer"),e.length<=6){const n=Number(e);if(!isNaN(n))return this.handleNewFrameCount_(n),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(this.mySock===null)return;const n=e.data;if(this.bytesReceived+=n.length,this.stats_.incrementCounter("bytes_received",n.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(n);else{const r=this.extractFrameCount_(n);r!==null&&this.appendFrame_(r)}}send(e){this.resetKeepAlive();const n=nt(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=GI(n,D6);r.length>1&&this.sendString_(String(r.length));for(let i=0;i<r.length;i++)this.sendString_(r[i])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(O6))}sendString_(e){try{this.mySock.send(e)}catch(n){this.log_("Exception thrown from WebSocket.send():",n.message||n.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}Hn.responsesRequiredToBeHealthy=2;Hn.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dc{static get ALL_TRANSPORTS(){return[Co,Hn]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}constructor(e){this.initTransports_(e)}initTransports_(e){const n=Hn&&Hn.isAvailable();let r=n&&!Hn.previouslyFailed();if(e.webSocketOnly&&(n||Bt("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[Hn];else{const i=this.transports_=[];for(const s of dc.ALL_TRANSPORTS)s&&s.isAvailable()&&i.push(s);dc.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}dc.globalTransportInitialized_=!1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M6=6e4,L6=5e3,j6=10*1024,F6=100*1024,cm="t",tE="d",$6="s",nE="r",U6="e",rE="o",iE="a",sE="n",oE="p",V6="h";class B6{constructor(e,n,r,i,s,o,a,l,c,d){this.id=e,this.repoInfo_=n,this.applicationId_=r,this.appCheckToken_=i,this.authToken_=s,this.onMessage_=o,this.onReady_=a,this.onDisconnect_=l,this.onKill_=c,this.lastSessionId=d,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Wc("c:"+this.id+":"),this.transportManager_=new dc(n),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(n,r)},Math.floor(0));const i=e.healthyTimeout||0;i>0&&(this.healthyTimeout_=Il(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>F6?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>j6?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(i)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return n=>{e===this.conn_?this.onConnectionLost_(n):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return n=>{this.state_!==2&&(e===this.rx_?this.onPrimaryMessageReceived_(n):e===this.secondaryConn_?this.onSecondaryMessageReceived_(n):this.log_("message on old connection"))}}sendRequest(e){const n={t:"d",d:e};this.sendData_(n)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if(cm in e){const n=e[cm];n===iE?this.upgradeIfSecondaryHealthy_():n===nE?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):n===rE&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const n=Za("t",e),r=Za("d",e);if(n==="c")this.onSecondaryControl_(r);else if(n==="d")this.pendingDataMessages.push(r);else throw new Error("Unknown protocol layer: "+n)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:oE,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:iE,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:sE,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const n=Za("t",e),r=Za("d",e);n==="c"?this.onControl_(r):n==="d"&&this.onDataMessage_(r)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const n=Za(cm,e);if(tE in e){const r=e[tE];if(n===V6){const i=Object.assign({},r);this.repoInfo_.isUsingEmulator&&(i.h=this.repoInfo_.host),this.onHandshake_(i)}else if(n===sE){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let i=0;i<this.pendingDataMessages.length;++i)this.onDataMessage_(this.pendingDataMessages[i]);this.pendingDataMessages=[],this.tryCleanupConnection()}else n===$6?this.onConnectionShutdown_(r):n===nE?this.onReset_(r):n===U6?Wg("Server Error: "+r):n===rE?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):Wg("Unknown control packet command: "+n)}}onHandshake_(e){const n=e.ts,r=e.v,i=e.h;this.sessionId=e.s,this.repoInfo_.host=i,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),wv!==r&&Bt("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),Il(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(M6))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,n){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Il(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(L6))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:oE,d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,!e&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(vs.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(e)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dP{put(e,n,r,i){}merge(e,n,r,i){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,n,r){}onDisconnectMerge(e,n,r){}onDisconnectCancel(e,n){}reportStats(e){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hP{constructor(e){this.allowedEvents_=e,this.listeners_={},B(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...n){if(Array.isArray(this.listeners_[e])){const r=[...this.listeners_[e]];for(let i=0;i<r.length;i++)r[i].callback.apply(r[i].context,n)}}on(e,n,r){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:n,context:r});const i=this.getInitialEvent(e);i&&n.apply(r,i)}off(e,n,r){this.validateEventType_(e);const i=this.listeners_[e]||[];for(let s=0;s<i.length;s++)if(i[s].callback===n&&(!r||r===i[s].context)){i.splice(s,1);return}}validateEventType_(e){B(this.allowedEvents_.find(n=>n===e),"Unknown event: "+e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fh extends hP{static getInstance(){return new fh}constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!Q0()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}getInitialEvent(e){return B(e==="online","Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aE=32,lE=768;class xe{constructor(e,n){if(n===void 0){this.pieces_=e.split("/");let r=0;for(let i=0;i<this.pieces_.length;i++)this.pieces_[i].length>0&&(this.pieces_[r]=this.pieces_[i],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=n}toString(){let e="";for(let n=this.pieceNum_;n<this.pieces_.length;n++)this.pieces_[n]!==""&&(e+="/"+this.pieces_[n]);return e||"/"}}function me(){return new xe("")}function se(t){return t.pieceNum_>=t.pieces_.length?null:t.pieces_[t.pieceNum_]}function Ui(t){return t.pieces_.length-t.pieceNum_}function ke(t){let e=t.pieceNum_;return e<t.pieces_.length&&e++,new xe(t.pieces_,e)}function Cv(t){return t.pieceNum_<t.pieces_.length?t.pieces_[t.pieces_.length-1]:null}function z6(t){let e="";for(let n=t.pieceNum_;n<t.pieces_.length;n++)t.pieces_[n]!==""&&(e+="/"+encodeURIComponent(String(t.pieces_[n])));return e||"/"}function hc(t,e=0){return t.pieces_.slice(t.pieceNum_+e)}function fP(t){if(t.pieceNum_>=t.pieces_.length)return null;const e=[];for(let n=t.pieceNum_;n<t.pieces_.length-1;n++)e.push(t.pieces_[n]);return new xe(e,0)}function qe(t,e){const n=[];for(let r=t.pieceNum_;r<t.pieces_.length;r++)n.push(t.pieces_[r]);if(e instanceof xe)for(let r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);else{const r=e.split("/");for(let i=0;i<r.length;i++)r[i].length>0&&n.push(r[i])}return new xe(n,0)}function le(t){return t.pieceNum_>=t.pieces_.length}function $t(t,e){const n=se(t),r=se(e);if(n===null)return e;if(n===r)return $t(ke(t),ke(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+t+")")}function W6(t,e){const n=hc(t,0),r=hc(e,0);for(let i=0;i<n.length&&i<r.length;i++){const s=Ws(n[i],r[i]);if(s!==0)return s}return n.length===r.length?0:n.length<r.length?-1:1}function Sv(t,e){if(Ui(t)!==Ui(e))return!1;for(let n=t.pieceNum_,r=e.pieceNum_;n<=t.pieces_.length;n++,r++)if(t.pieces_[n]!==e.pieces_[r])return!1;return!0}function Tn(t,e){let n=t.pieceNum_,r=e.pieceNum_;if(Ui(t)>Ui(e))return!1;for(;n<t.pieces_.length;){if(t.pieces_[n]!==e.pieces_[r])return!1;++n,++r}return!0}class H6{constructor(e,n){this.errorPrefix_=n,this.parts_=hc(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let r=0;r<this.parts_.length;r++)this.byteLength_+=lf(this.parts_[r]);pP(this)}}function q6(t,e){t.parts_.length>0&&(t.byteLength_+=1),t.parts_.push(e),t.byteLength_+=lf(e),pP(t)}function G6(t){const e=t.parts_.pop();t.byteLength_-=lf(e),t.parts_.length>0&&(t.byteLength_-=1)}function pP(t){if(t.byteLength_>lE)throw new Error(t.errorPrefix_+"has a key path longer than "+lE+" bytes ("+t.byteLength_+").");if(t.parts_.length>aE)throw new Error(t.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+aE+") or object contains a cycle "+as(t))}function as(t){return t.parts_.length===0?"":"in property '"+t.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bv extends hP{static getInstance(){return new bv}constructor(){super(["visible"]);let e,n;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(n="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(n="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(n="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(n="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,n&&document.addEventListener(n,()=>{const r=!document[e];r!==this.visible_&&(this.visible_=r,this.trigger("visible",r))},!1)}getInitialEvent(e){return B(e==="visible","Unknown event type: "+e),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const el=1e3,K6=60*5*1e3,cE=30*1e3,Y6=1.3,X6=3e4,J6="server_kill",uE=3;class Wr extends dP{constructor(e,n,r,i,s,o,a,l){if(super(),this.repoInfo_=e,this.applicationId_=n,this.onDataUpdate_=r,this.onConnectStatus_=i,this.onServerInfoUpdate_=s,this.authTokenProvider_=o,this.appCheckTokenProvider_=a,this.authOverride_=l,this.id=Wr.nextPersistentConnectionId_++,this.log_=Wc("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=el,this.maxReconnectDelay_=K6,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,l&&!Pk())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");bv.getInstance().on("visible",this.onVisible_,this),e.host.indexOf("fblocal")===-1&&fh.getInstance().on("online",this.onOnline_,this)}sendRequest(e,n,r){const i=++this.requestNumber_,s={r:i,a:e,b:n};this.log_(nt(s)),B(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(s),r&&(this.requestCBHash_[i]=r)}get(e){this.initConnection_();const n=new jc,i={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:o=>{const a=o.d;o.s==="ok"?n.resolve(a):n.reject(a)}};this.outstandingGets_.push(i),this.outstandingGetCount_++;const s=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(s),n.promise}listen(e,n,r,i){this.initConnection_();const s=e._queryIdentifier,o=e._path.toString();this.log_("Listen called for "+o+" "+s),this.listens.has(o)||this.listens.set(o,new Map),B(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),B(!this.listens.get(o).has(s),"listen() called twice for same path/queryId.");const a={onComplete:i,hashFn:n,query:e,tag:r};this.listens.get(o).set(s,a),this.connected_&&this.sendListen_(a)}sendGet_(e){const n=this.outstandingGets_[e];this.sendRequest("g",n.request,r=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),n.onComplete&&n.onComplete(r)})}sendListen_(e){const n=e.query,r=n._path.toString(),i=n._queryIdentifier;this.log_("Listen on "+r+" for "+i);const s={p:r},o="q";e.tag&&(s.q=n._queryObject,s.t=e.tag),s.h=e.hashFn(),this.sendRequest(o,s,a=>{const l=a.d,c=a.s;Wr.warnOnListenWarnings_(l,n),(this.listens.get(r)&&this.listens.get(r).get(i))===e&&(this.log_("listen response",a),c!=="ok"&&this.removeListen_(r,i),e.onComplete&&e.onComplete(c,l))})}static warnOnListenWarnings_(e,n){if(e&&typeof e=="object"&&br(e,"w")){const r=Xo(e,"w");if(Array.isArray(r)&&~r.indexOf("no_index")){const i='".indexOn": "'+n._queryParams.getIndex().toString()+'"',s=n._path.toString();Bt(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${i} at ${s} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&e.length===40||K4(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=cE)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,n=G4(e)?"auth":"gauth",r={cred:e};this.authOverride_===null?r.noauth=!0:typeof this.authOverride_=="object"&&(r.authvar=this.authOverride_),this.sendRequest(n,r,i=>{const s=i.s,o=i.d||"error";this.authToken_===e&&(s==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(s,o))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const n=e.s,r=e.d||"error";n==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(n,r)})}unlisten(e,n){const r=e._path.toString(),i=e._queryIdentifier;this.log_("Unlisten called for "+r+" "+i),B(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(r,i)&&this.connected_&&this.sendUnlisten_(r,i,e._queryObject,n)}sendUnlisten_(e,n,r,i){this.log_("Unlisten on "+e+" for "+n);const s={p:e},o="n";i&&(s.q=r,s.t=i),this.sendRequest(o,s)}onDisconnectPut(e,n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,n,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:n,onComplete:r})}onDisconnectMerge(e,n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,n,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:n,onComplete:r})}onDisconnectCancel(e,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:n})}sendOnDisconnect_(e,n,r,i){const s={p:n,d:r};this.log_("onDisconnect "+e,s),this.sendRequest(e,s,o=>{i&&setTimeout(()=>{i(o.s,o.d)},Math.floor(0))})}put(e,n,r,i){this.putInternal("p",e,n,r,i)}merge(e,n,r,i){this.putInternal("m",e,n,r,i)}putInternal(e,n,r,i,s){this.initConnection_();const o={p:n,d:r};s!==void 0&&(o.h=s),this.outstandingPuts_.push({action:e,request:o,onComplete:i}),this.outstandingPutCount_++;const a=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(a):this.log_("Buffering put: "+n)}sendPut_(e){const n=this.outstandingPuts_[e].action,r=this.outstandingPuts_[e].request,i=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(n,r,s=>{this.log_(n+" response",s),delete this.outstandingPuts_[e],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),i&&i(s.s,s.d)})}reportStats(e){if(this.connected_){const n={c:e};this.log_("reportStats",n),this.sendRequest("s",n,r=>{if(r.s!=="ok"){const s=r.d;this.log_("reportStats","Error sending stats: "+s)}})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+nt(e));const n=e.r,r=this.requestCBHash_[n];r&&(delete this.requestCBHash_[n],r(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,n){this.log_("handleServerMessage",e,n),e==="d"?this.onDataUpdate_(n.p,n.d,!1,n.t):e==="m"?this.onDataUpdate_(n.p,n.d,!0,n.t):e==="c"?this.onListenRevoked_(n.p,n.q):e==="ac"?this.onAuthRevoked_(n.s,n.d):e==="apc"?this.onAppCheckRevoked_(n.s,n.d):e==="sd"?this.onSecurityDebugPacket_(n):Wg("Unrecognized action received from server: "+nt(e)+`
Are you using the latest client?`)}onReady_(e,n){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(e),this.lastSessionId=n,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){B(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=el,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=el,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>X6&&(this.reconnectDelay_=el),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const e=Math.max(0,new Date().getTime()-this.lastConnectionAttemptTime_);let n=Math.max(0,this.reconnectDelay_-e);n=Math.random()*n,this.log_("Trying to reconnect in "+n+"ms"),this.scheduleConnect_(n),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*Y6)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const e=this.onDataMessage_.bind(this),n=this.onReady_.bind(this),r=this.onRealtimeDisconnect_.bind(this),i=this.id+":"+Wr.nextConnectionId_++,s=this.lastSessionId;let o=!1,a=null;const l=function(){a?a.close():(o=!0,r())},c=function(h){B(a,"sendRequest call when we're not connected not allowed."),a.sendRequest(h)};this.realtime_={close:l,sendRequest:c};const d=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[h,f]=await Promise.all([this.authTokenProvider_.getToken(d),this.appCheckTokenProvider_.getToken(d)]);o?vt("getToken() completed but was canceled"):(vt("getToken() completed. Creating connection."),this.authToken_=h&&h.accessToken,this.appCheckToken_=f&&f.token,a=new B6(i,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,n,r,y=>{Bt(y+" ("+this.repoInfo_.toString()+")"),this.interrupt(J6)},s))}catch(h){this.log_("Failed to get token: "+h),o||(this.repoInfo_.nodeAdmin&&Bt(h),l())}}}interrupt(e){vt("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){vt("Resuming connection for reason: "+e),delete this.interruptReasons_[e],Ag(this.interruptReasons_)&&(this.reconnectDelay_=el,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const n=e-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:n})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const n=this.outstandingPuts_[e];n&&"h"in n.request&&n.queued&&(n.onComplete&&n.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(e,n){let r;n?r=n.map(s=>_v(s)).join("$"):r="default";const i=this.removeListen_(e,r);i&&i.onComplete&&i.onComplete("permission_denied")}removeListen_(e,n){const r=new xe(e).toString();let i;if(this.listens.has(r)){const s=this.listens.get(r);i=s.get(n),s.delete(n),s.size===0&&this.listens.delete(r)}else i=void 0;return i}onAuthRevoked_(e,n){vt("Auth token revoked: "+e+"/"+n),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(e==="invalid_token"||e==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=uE&&(this.reconnectDelay_=cE,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,n){vt("App check token revoked: "+e+"/"+n),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(e==="invalid_token"||e==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=uE&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const n of e.values())this.sendListen_(n);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let n="js";e["sdk."+n+"."+WI.replace(/\./g,"-")]=1,Q0()?e["framework.cordova"]=1:Ik()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=fh.getInstance().currentlyOnline();return Ag(this.interruptReasons_)&&e}}Wr.nextPersistentConnectionId_=0;Wr.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oe{constructor(e,n){this.name=e,this.node=n}static Wrap(e,n){return new oe(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gf{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,n){const r=new oe(Jo,e),i=new oe(Jo,n);return this.compare(r,i)!==0}minPost(){return oe.MIN}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let $u;class mP extends gf{static get __EMPTY_NODE(){return $u}static set __EMPTY_NODE(e){$u=e}compare(e,n){return Ws(e.name,n.name)}isDefinedOn(e){throw va("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,n){return!1}minPost(){return oe.MIN}maxPost(){return new oe(Ms,$u)}makePost(e,n){return B(typeof e=="string","KeyIndex indexValue must always be a string."),new oe(e,$u)}toString(){return".key"}}const Uo=new mP;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uu{constructor(e,n,r,i,s=null){this.isReverse_=i,this.resultGenerator_=s,this.nodeStack_=[];let o=1;for(;!e.isEmpty();)if(e=e,o=n?r(e.key,n):1,i&&(o*=-1),o<0)this.isReverse_?e=e.left:e=e.right;else if(o===0){this.nodeStack_.push(e);break}else this.nodeStack_.push(e),this.isReverse_?e=e.right:e=e.left}getNext(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_.pop(),n;if(this.resultGenerator_?n=this.resultGenerator_(e.key,e.value):n={key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return n}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}class ct{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??ct.RED,this.left=i??Zt.EMPTY_NODE,this.right=s??Zt.EMPTY_NODE}copy(e,n,r,i,s){return new ct(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return s<0?i=i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i=i.copy(null,n,null,null,null):i=i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp_()}removeMin_(){if(this.left.isEmpty())return Zt.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,n){let r,i;if(r=this,n(e,r.key)<0)!r.left.isEmpty()&&!r.left.isRed_()&&!r.left.left.isRed_()&&(r=r.moveRedLeft_()),r=r.copy(null,null,null,r.left.remove(e,n),null);else{if(r.left.isRed_()&&(r=r.rotateRight_()),!r.right.isEmpty()&&!r.right.isRed_()&&!r.right.left.isRed_()&&(r=r.moveRedRight_()),n(e,r.key)===0){if(r.right.isEmpty())return Zt.EMPTY_NODE;i=r.right.min_(),r=r.copy(i.key,i.value,null,null,r.right.removeMin_())}r=r.copy(null,null,null,null,r.right.remove(e,n))}return r.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,ct.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,ct.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}ct.RED=!0;ct.BLACK=!1;class Q6{copy(e,n,r,i,s){return this}insert(e,n,r){return new ct(e,n,null)}remove(e,n){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class Zt{constructor(e,n=Zt.EMPTY_NODE){this.comparator_=e,this.root_=n}insert(e,n){return new Zt(this.comparator_,this.root_.insert(e,n,this.comparator_).copy(null,null,ct.BLACK,null,null))}remove(e){return new Zt(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,ct.BLACK,null,null))}get(e){let n,r=this.root_;for(;!r.isEmpty();){if(n=this.comparator_(e,r.key),n===0)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}getPredecessorKey(e){let n,r=this.root_,i=null;for(;!r.isEmpty();)if(n=this.comparator_(e,r.key),n===0){if(r.left.isEmpty())return i?i.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}else n<0?r=r.left:n>0&&(i=r,r=r.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new Uu(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,n){return new Uu(this.root_,e,this.comparator_,!1,n)}getReverseIteratorFrom(e,n){return new Uu(this.root_,e,this.comparator_,!0,n)}getReverseIterator(e){return new Uu(this.root_,null,this.comparator_,!0,e)}}Zt.EMPTY_NODE=new Q6;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Z6(t,e){return Ws(t.name,e.name)}function Tv(t,e){return Ws(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let qg;function e$(t){qg=t}const gP=function(t){return typeof t=="number"?"number:"+KI(t):"string:"+t},yP=function(t){if(t.isLeafNode()){const e=t.val();B(typeof e=="string"||typeof e=="number"||typeof e=="object"&&br(e,".sv"),"Priority must be a string or number.")}else B(t===qg||t.isEmpty(),"priority of unexpected type.");B(t===qg||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let dE;class at{static set __childrenNodeConstructor(e){dE=e}static get __childrenNodeConstructor(){return dE}constructor(e,n=at.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=n,this.lazyHash_=null,B(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),yP(this.priorityNode_)}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new at(this.value_,e)}getImmediateChild(e){return e===".priority"?this.priorityNode_:at.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return le(e)?this:se(e)===".priority"?this.priorityNode_:at.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,n){return null}updateImmediateChild(e,n){return e===".priority"?this.updatePriority(n):n.isEmpty()&&e!==".priority"?this:at.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,n).updatePriority(this.priorityNode_)}updateChild(e,n){const r=se(e);return r===null?n:n.isEmpty()&&r!==".priority"?this:(B(r!==".priority"||Ui(e)===1,".priority must be the last token in a path"),this.updateImmediateChild(r,at.__childrenNodeConstructor.EMPTY_NODE.updateChild(ke(e),n)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,n){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+gP(this.priorityNode_.val())+":");const n=typeof this.value_;e+=n+":",n==="number"?e+=KI(this.value_):e+=this.value_,this.lazyHash_=qI(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===at.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof at.__childrenNodeConstructor?-1:(B(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const n=typeof e.value_,r=typeof this.value_,i=at.VALUE_TYPE_ORDER.indexOf(n),s=at.VALUE_TYPE_ORDER.indexOf(r);return B(i>=0,"Unknown leaf type: "+n),B(s>=0,"Unknown leaf type: "+r),i===s?r==="object"?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:s-i}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const n=e;return this.value_===n.value_&&this.priorityNode_.equals(n.priorityNode_)}else return!1}}at.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let vP,_P;function t$(t){vP=t}function n$(t){_P=t}class r$ extends gf{compare(e,n){const r=e.node.getPriority(),i=n.node.getPriority(),s=r.compareTo(i);return s===0?Ws(e.name,n.name):s}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,n){return!e.getPriority().equals(n.getPriority())}minPost(){return oe.MIN}maxPost(){return new oe(Ms,new at("[PRIORITY-POST]",_P))}makePost(e,n){const r=vP(e);return new oe(n,new at("[PRIORITY-POST]",r))}toString(){return".priority"}}const Ge=new r$;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i$=Math.log(2);class s${constructor(e){const n=s=>parseInt(Math.log(s)/i$,10),r=s=>parseInt(Array(s+1).join("1"),2);this.count=n(e+1),this.current_=this.count-1;const i=r(this.count);this.bits_=e+1&i}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const ph=function(t,e,n,r){t.sort(e);const i=function(l,c){const d=c-l;let h,f;if(d===0)return null;if(d===1)return h=t[l],f=n?n(h):h,new ct(f,h.node,ct.BLACK,null,null);{const y=parseInt(d/2,10)+l,_=i(l,y),S=i(y+1,c);return h=t[y],f=n?n(h):h,new ct(f,h.node,ct.BLACK,_,S)}},s=function(l){let c=null,d=null,h=t.length;const f=function(_,S){const P=h-_,w=h;h-=_;const C=i(P+1,w),E=t[P],A=n?n(E):E;y(new ct(A,E.node,S,null,C))},y=function(_){c?(c.left=_,c=_):(d=_,c=_)};for(let _=0;_<l.count;++_){const S=l.nextBitIsOne(),P=Math.pow(2,l.count-(_+1));S?f(P,ct.BLACK):(f(P,ct.BLACK),f(P,ct.RED))}return d},o=new s$(t.length),a=s(o);return new Zt(r||e,a)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let um;const to={};class $r{static get Default(){return B(to&&Ge,"ChildrenNode.ts has not been loaded"),um=um||new $r({".priority":to},{".priority":Ge}),um}constructor(e,n){this.indexes_=e,this.indexSet_=n}get(e){const n=Xo(this.indexes_,e);if(!n)throw new Error("No index defined for "+e);return n instanceof Zt?n:null}hasIndex(e){return br(this.indexSet_,e.toString())}addIndex(e,n){B(e!==Uo,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const r=[];let i=!1;const s=n.getIterator(oe.Wrap);let o=s.getNext();for(;o;)i=i||e.isDefinedOn(o.node),r.push(o),o=s.getNext();let a;i?a=ph(r,e.getCompare()):a=to;const l=e.toString(),c=Object.assign({},this.indexSet_);c[l]=e;const d=Object.assign({},this.indexes_);return d[l]=a,new $r(d,c)}addToIndexes(e,n){const r=rh(this.indexes_,(i,s)=>{const o=Xo(this.indexSet_,s);if(B(o,"Missing index implementation for "+s),i===to)if(o.isDefinedOn(e.node)){const a=[],l=n.getIterator(oe.Wrap);let c=l.getNext();for(;c;)c.name!==e.name&&a.push(c),c=l.getNext();return a.push(e),ph(a,o.getCompare())}else return to;else{const a=n.get(e.name);let l=i;return a&&(l=l.remove(new oe(e.name,a))),l.insert(e,e.node)}});return new $r(r,this.indexSet_)}removeFromIndexes(e,n){const r=rh(this.indexes_,i=>{if(i===to)return i;{const s=n.get(e.name);return s?i.remove(new oe(e.name,s)):i}});return new $r(r,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let tl;class Q{static get EMPTY_NODE(){return tl||(tl=new Q(new Zt(Tv),null,$r.Default))}constructor(e,n,r){this.children_=e,this.priorityNode_=n,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&yP(this.priorityNode_),this.children_.isEmpty()&&B(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}isLeafNode(){return!1}getPriority(){return this.priorityNode_||tl}updatePriority(e){return this.children_.isEmpty()?this:new Q(this.children_,e,this.indexMap_)}getImmediateChild(e){if(e===".priority")return this.getPriority();{const n=this.children_.get(e);return n===null?tl:n}}getChild(e){const n=se(e);return n===null?this:this.getImmediateChild(n).getChild(ke(e))}hasChild(e){return this.children_.get(e)!==null}updateImmediateChild(e,n){if(B(n,"We should always be passing snapshot nodes"),e===".priority")return this.updatePriority(n);{const r=new oe(e,n);let i,s;n.isEmpty()?(i=this.children_.remove(e),s=this.indexMap_.removeFromIndexes(r,this.children_)):(i=this.children_.insert(e,n),s=this.indexMap_.addToIndexes(r,this.children_));const o=i.isEmpty()?tl:this.priorityNode_;return new Q(i,o,s)}}updateChild(e,n){const r=se(e);if(r===null)return n;{B(se(e)!==".priority"||Ui(e)===1,".priority must be the last token in a path");const i=this.getImmediateChild(r).updateChild(ke(e),n);return this.updateImmediateChild(r,i)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const n={};let r=0,i=0,s=!0;if(this.forEachChild(Ge,(o,a)=>{n[o]=a.val(e),r++,s&&Q.INTEGER_REGEXP_.test(o)?i=Math.max(i,Number(o)):s=!1}),!e&&s&&i<2*r){const o=[];for(const a in n)o[a]=n[a];return o}else return e&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n}hash(){if(this.lazyHash_===null){let e="";this.getPriority().isEmpty()||(e+="priority:"+gP(this.getPriority().val())+":"),this.forEachChild(Ge,(n,r)=>{const i=r.hash();i!==""&&(e+=":"+n+":"+i)}),this.lazyHash_=e===""?"":qI(e)}return this.lazyHash_}getPredecessorChildName(e,n,r){const i=this.resolveIndex_(r);if(i){const s=i.getPredecessorKey(new oe(e,n));return s?s.name:null}else return this.children_.getPredecessorKey(e)}getFirstChildName(e){const n=this.resolveIndex_(e);if(n){const r=n.minKey();return r&&r.name}else return this.children_.minKey()}getFirstChild(e){const n=this.getFirstChildName(e);return n?new oe(n,this.children_.get(n)):null}getLastChildName(e){const n=this.resolveIndex_(e);if(n){const r=n.maxKey();return r&&r.name}else return this.children_.maxKey()}getLastChild(e){const n=this.getLastChildName(e);return n?new oe(n,this.children_.get(n)):null}forEachChild(e,n){const r=this.resolveIndex_(e);return r?r.inorderTraversal(i=>n(i.name,i.node)):this.children_.inorderTraversal(n)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,n){const r=this.resolveIndex_(n);if(r)return r.getIteratorFrom(e,i=>i);{const i=this.children_.getIteratorFrom(e.name,oe.Wrap);let s=i.peek();for(;s!=null&&n.compare(s,e)<0;)i.getNext(),s=i.peek();return i}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,n){const r=this.resolveIndex_(n);if(r)return r.getReverseIteratorFrom(e,i=>i);{const i=this.children_.getReverseIteratorFrom(e.name,oe.Wrap);let s=i.peek();for(;s!=null&&n.compare(s,e)>0;)i.getNext(),s=i.peek();return i}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===Hc?-1:0}withIndex(e){if(e===Uo||this.indexMap_.hasIndex(e))return this;{const n=this.indexMap_.addIndex(e,this.children_);return new Q(this.children_,this.priorityNode_,n)}}isIndexed(e){return e===Uo||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const n=e;if(this.getPriority().equals(n.getPriority()))if(this.children_.count()===n.children_.count()){const r=this.getIterator(Ge),i=n.getIterator(Ge);let s=r.getNext(),o=i.getNext();for(;s&&o;){if(s.name!==o.name||!s.node.equals(o.node))return!1;s=r.getNext(),o=i.getNext()}return s===null&&o===null}else return!1;else return!1}}resolveIndex_(e){return e===Uo?null:this.indexMap_.get(e.toString())}}Q.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class o$ extends Q{constructor(){super(new Zt(Tv),Q.EMPTY_NODE,$r.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return Q.EMPTY_NODE}isEmpty(){return!1}}const Hc=new o$;Object.defineProperties(oe,{MIN:{value:new oe(Jo,Q.EMPTY_NODE)},MAX:{value:new oe(Ms,Hc)}});mP.__EMPTY_NODE=Q.EMPTY_NODE;at.__childrenNodeConstructor=Q;e$(Hc);n$(Hc);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a$=!0;function tt(t,e=null){if(t===null)return Q.EMPTY_NODE;if(typeof t=="object"&&".priority"in t&&(e=t[".priority"]),B(e===null||typeof e=="string"||typeof e=="number"||typeof e=="object"&&".sv"in e,"Invalid priority type found: "+typeof e),typeof t=="object"&&".value"in t&&t[".value"]!==null&&(t=t[".value"]),typeof t!="object"||".sv"in t){const n=t;return new at(n,tt(e))}if(!(t instanceof Array)&&a$){const n=[];let r=!1;if(xt(t,(o,a)=>{if(o.substring(0,1)!=="."){const l=tt(a);l.isEmpty()||(r=r||!l.getPriority().isEmpty(),n.push(new oe(o,l)))}}),n.length===0)return Q.EMPTY_NODE;const s=ph(n,Z6,o=>o.name,Tv);if(r){const o=ph(n,Ge.getCompare());return new Q(s,tt(e),new $r({".priority":o},{".priority":Ge}))}else return new Q(s,tt(e),$r.Default)}else{let n=Q.EMPTY_NODE;return xt(t,(r,i)=>{if(br(t,r)&&r.substring(0,1)!=="."){const s=tt(i);(s.isLeafNode()||!s.isEmpty())&&(n=n.updateImmediateChild(r,s))}}),n.updatePriority(tt(e))}}t$(tt);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l$ extends gf{constructor(e){super(),this.indexPath_=e,B(!le(e)&&se(e)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,n){const r=this.extractChild(e.node),i=this.extractChild(n.node),s=r.compareTo(i);return s===0?Ws(e.name,n.name):s}makePost(e,n){const r=tt(e),i=Q.EMPTY_NODE.updateChild(this.indexPath_,r);return new oe(n,i)}maxPost(){const e=Q.EMPTY_NODE.updateChild(this.indexPath_,Hc);return new oe(Ms,e)}toString(){return hc(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c$ extends gf{compare(e,n){const r=e.node.compareTo(n.node);return r===0?Ws(e.name,n.name):r}isDefinedOn(e){return!0}indexedValueChanged(e,n){return!e.equals(n)}minPost(){return oe.MIN}maxPost(){return oe.MAX}makePost(e,n){const r=tt(e);return new oe(n,r)}toString(){return".value"}}const u$=new c$;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wP(t){return{type:"value",snapshotNode:t}}function Qo(t,e){return{type:"child_added",snapshotNode:e,childName:t}}function fc(t,e){return{type:"child_removed",snapshotNode:e,childName:t}}function pc(t,e,n){return{type:"child_changed",snapshotNode:e,childName:t,oldSnap:n}}function d$(t,e){return{type:"child_moved",snapshotNode:e,childName:t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kv{constructor(e){this.index_=e}updateChild(e,n,r,i,s,o){B(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");const a=e.getImmediateChild(n);return a.getChild(i).equals(r.getChild(i))&&a.isEmpty()===r.isEmpty()||(o!=null&&(r.isEmpty()?e.hasChild(n)?o.trackChildChange(fc(n,a)):B(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):a.isEmpty()?o.trackChildChange(Qo(n,r)):o.trackChildChange(pc(n,r,a))),e.isLeafNode()&&r.isEmpty())?e:e.updateImmediateChild(n,r).withIndex(this.index_)}updateFullNode(e,n,r){return r!=null&&(e.isLeafNode()||e.forEachChild(Ge,(i,s)=>{n.hasChild(i)||r.trackChildChange(fc(i,s))}),n.isLeafNode()||n.forEachChild(Ge,(i,s)=>{if(e.hasChild(i)){const o=e.getImmediateChild(i);o.equals(s)||r.trackChildChange(pc(i,s,o))}else r.trackChildChange(Qo(i,s))})),n.withIndex(this.index_)}updatePriority(e,n){return e.isEmpty()?Q.EMPTY_NODE:e.updatePriority(n)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mc{constructor(e){this.indexedFilter_=new kv(e.getIndex()),this.index_=e.getIndex(),this.startPost_=mc.getStartPost_(e),this.endPost_=mc.getEndPost_(e),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(e){const n=this.startIsInclusive_?this.index_.compare(this.getStartPost(),e)<=0:this.index_.compare(this.getStartPost(),e)<0,r=this.endIsInclusive_?this.index_.compare(e,this.getEndPost())<=0:this.index_.compare(e,this.getEndPost())<0;return n&&r}updateChild(e,n,r,i,s,o){return this.matches(new oe(n,r))||(r=Q.EMPTY_NODE),this.indexedFilter_.updateChild(e,n,r,i,s,o)}updateFullNode(e,n,r){n.isLeafNode()&&(n=Q.EMPTY_NODE);let i=n.withIndex(this.index_);i=i.updatePriority(Q.EMPTY_NODE);const s=this;return n.forEachChild(Ge,(o,a)=>{s.matches(new oe(o,a))||(i=i.updateImmediateChild(o,Q.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(e,i,r)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(e){if(e.hasStart()){const n=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),n)}else return e.getIndex().minPost()}static getEndPost_(e){if(e.hasEnd()){const n=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),n)}else return e.getIndex().maxPost()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h${constructor(e){this.withinDirectionalStart=n=>this.reverse_?this.withinEndPost(n):this.withinStartPost(n),this.withinDirectionalEnd=n=>this.reverse_?this.withinStartPost(n):this.withinEndPost(n),this.withinStartPost=n=>{const r=this.index_.compare(this.rangedFilter_.getStartPost(),n);return this.startIsInclusive_?r<=0:r<0},this.withinEndPost=n=>{const r=this.index_.compare(n,this.rangedFilter_.getEndPost());return this.endIsInclusive_?r<=0:r<0},this.rangedFilter_=new mc(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft(),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}updateChild(e,n,r,i,s,o){return this.rangedFilter_.matches(new oe(n,r))||(r=Q.EMPTY_NODE),e.getImmediateChild(n).equals(r)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,n,r,i,s,o):this.fullLimitUpdateChild_(e,n,r,s,o)}updateFullNode(e,n,r){let i;if(n.isLeafNode()||n.isEmpty())i=Q.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<n.numChildren()&&n.isIndexed(this.index_)){i=Q.EMPTY_NODE.withIndex(this.index_);let s;this.reverse_?s=n.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):s=n.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let o=0;for(;s.hasNext()&&o<this.limit_;){const a=s.getNext();if(this.withinDirectionalStart(a))if(this.withinDirectionalEnd(a))i=i.updateImmediateChild(a.name,a.node),o++;else break;else continue}}else{i=n.withIndex(this.index_),i=i.updatePriority(Q.EMPTY_NODE);let s;this.reverse_?s=i.getReverseIterator(this.index_):s=i.getIterator(this.index_);let o=0;for(;s.hasNext();){const a=s.getNext();o<this.limit_&&this.withinDirectionalStart(a)&&this.withinDirectionalEnd(a)?o++:i=i.updateImmediateChild(a.name,Q.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,i,r)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(e,n,r,i,s){let o;if(this.reverse_){const h=this.index_.getCompare();o=(f,y)=>h(y,f)}else o=this.index_.getCompare();const a=e;B(a.numChildren()===this.limit_,"");const l=new oe(n,r),c=this.reverse_?a.getFirstChild(this.index_):a.getLastChild(this.index_),d=this.rangedFilter_.matches(l);if(a.hasChild(n)){const h=a.getImmediateChild(n);let f=i.getChildAfterChild(this.index_,c,this.reverse_);for(;f!=null&&(f.name===n||a.hasChild(f.name));)f=i.getChildAfterChild(this.index_,f,this.reverse_);const y=f==null?1:o(f,l);if(d&&!r.isEmpty()&&y>=0)return s!=null&&s.trackChildChange(pc(n,r,h)),a.updateImmediateChild(n,r);{s!=null&&s.trackChildChange(fc(n,h));const S=a.updateImmediateChild(n,Q.EMPTY_NODE);return f!=null&&this.rangedFilter_.matches(f)?(s!=null&&s.trackChildChange(Qo(f.name,f.node)),S.updateImmediateChild(f.name,f.node)):S}}else return r.isEmpty()?e:d&&o(c,l)>=0?(s!=null&&(s.trackChildChange(fc(c.name,c.node)),s.trackChildChange(Qo(n,r))),a.updateImmediateChild(n,r).updateImmediateChild(c.name,Q.EMPTY_NODE)):e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iv{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Ge}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return B(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return B(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Jo}hasEnd(){return this.endSet_}getIndexEndValue(){return B(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return B(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:Ms}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return B(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===Ge}copy(){const e=new Iv;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function f$(t){return t.loadsAllData()?new kv(t.getIndex()):t.hasLimit()?new h$(t):new mc(t)}function hE(t){const e={};if(t.isDefault())return e;let n;if(t.index_===Ge?n="$priority":t.index_===u$?n="$value":t.index_===Uo?n="$key":(B(t.index_ instanceof l$,"Unrecognized index type!"),n=t.index_.toString()),e.orderBy=nt(n),t.startSet_){const r=t.startAfterSet_?"startAfter":"startAt";e[r]=nt(t.indexStartValue_),t.startNameSet_&&(e[r]+=","+nt(t.indexStartName_))}if(t.endSet_){const r=t.endBeforeSet_?"endBefore":"endAt";e[r]=nt(t.indexEndValue_),t.endNameSet_&&(e[r]+=","+nt(t.indexEndName_))}return t.limitSet_&&(t.isViewFromLeft()?e.limitToFirst=t.limit_:e.limitToLast=t.limit_),e}function fE(t){const e={};if(t.startSet_&&(e.sp=t.indexStartValue_,t.startNameSet_&&(e.sn=t.indexStartName_),e.sin=!t.startAfterSet_),t.endSet_&&(e.ep=t.indexEndValue_,t.endNameSet_&&(e.en=t.indexEndName_),e.ein=!t.endBeforeSet_),t.limitSet_){e.l=t.limit_;let n=t.viewFrom_;n===""&&(t.isViewFromLeft()?n="l":n="r"),e.vf=n}return t.index_!==Ge&&(e.i=t.index_.toString()),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mh extends dP{reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,n){return n!==void 0?"tag$"+n:(B(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}constructor(e,n,r,i){super(),this.repoInfo_=e,this.onDataUpdate_=n,this.authTokenProvider_=r,this.appCheckTokenProvider_=i,this.log_=Wc("p:rest:"),this.listens_={}}listen(e,n,r,i){const s=e._path.toString();this.log_("Listen called for "+s+" "+e._queryIdentifier);const o=mh.getListenId_(e,r),a={};this.listens_[o]=a;const l=hE(e._queryParams);this.restRequest_(s+".json",l,(c,d)=>{let h=d;if(c===404&&(h=null,c=null),c===null&&this.onDataUpdate_(s,h,!1,r),Xo(this.listens_,o)===a){let f;c?c===401?f="permission_denied":f="rest_error:"+c:f="ok",i(f,null)}})}unlisten(e,n){const r=mh.getListenId_(e,n);delete this.listens_[r]}get(e){const n=hE(e._queryParams),r=e._path.toString(),i=new jc;return this.restRequest_(r+".json",n,(s,o)=>{let a=o;s===404&&(a=null,s=null),s===null?(this.onDataUpdate_(r,a,!1,null),i.resolve(a)):i.reject(new Error(a))}),i.promise}refreshAuthToken(e){}restRequest_(e,n={},r){return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([i,s])=>{i&&i.accessToken&&(n.auth=i.accessToken),s&&s.token&&(n.ac=s.token);const o=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+_a(n);this.log_("Sending REST request for "+o);const a=new XMLHttpRequest;a.onreadystatechange=()=>{if(r&&a.readyState===4){this.log_("REST Response for "+o+" received. status:",a.status,"response:",a.responseText);let l=null;if(a.status>=200&&a.status<300){try{l=sc(a.responseText)}catch{Bt("Failed to parse JSON response for "+o+": "+a.responseText)}r(null,l)}else a.status!==401&&a.status!==404&&Bt("Got unsuccessful REST response for "+o+" Status: "+a.status),r(a.status);r=null}},a.open("GET",o,!0),a.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p${constructor(){this.rootNode_=Q.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,n){this.rootNode_=this.rootNode_.updateChild(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gh(){return{value:null,children:new Map}}function xP(t,e,n){if(le(e))t.value=n,t.children.clear();else if(t.value!==null)t.value=t.value.updateChild(e,n);else{const r=se(e);t.children.has(r)||t.children.set(r,gh());const i=t.children.get(r);e=ke(e),xP(i,e,n)}}function Gg(t,e,n){t.value!==null?n(e,t.value):m$(t,(r,i)=>{const s=new xe(e.toString()+"/"+r);Gg(i,s,n)})}function m$(t,e){t.children.forEach((n,r)=>{e(r,n)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g${constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),n=Object.assign({},e);return this.last_&&xt(this.last_,(r,i)=>{n[r]=n[r]-i}),this.last_=e,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pE=10*1e3,y$=30*1e3,v$=5*60*1e3;class _${constructor(e,n){this.server_=n,this.statsToReport_={},this.statsListener_=new g$(e);const r=pE+(y$-pE)*Math.random();Il(this.reportStats_.bind(this),Math.floor(r))}reportStats_(){const e=this.statsListener_.get(),n={};let r=!1;xt(e,(i,s)=>{s>0&&br(this.statsToReport_,i)&&(n[i]=s,r=!0)}),r&&this.server_.reportStats(n),Il(this.reportStats_.bind(this),Math.floor(Math.random()*2*v$))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Gn;(function(t){t[t.OVERWRITE=0]="OVERWRITE",t[t.MERGE=1]="MERGE",t[t.ACK_USER_WRITE=2]="ACK_USER_WRITE",t[t.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(Gn||(Gn={}));function Pv(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function Av(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function Rv(t){return{fromUser:!1,fromServer:!0,queryId:t,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yh{constructor(e,n,r){this.path=e,this.affectedTree=n,this.revert=r,this.type=Gn.ACK_USER_WRITE,this.source=Pv()}operationForChild(e){if(le(this.path)){if(this.affectedTree.value!=null)return B(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const n=this.affectedTree.subtree(new xe(e));return new yh(me(),n,this.revert)}}else return B(se(this.path)===e,"operationForChild called for unrelated child."),new yh(ke(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gc{constructor(e,n){this.source=e,this.path=n,this.type=Gn.LISTEN_COMPLETE}operationForChild(e){return le(this.path)?new gc(this.source,me()):new gc(this.source,ke(this.path))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ls{constructor(e,n,r){this.source=e,this.path=n,this.snap=r,this.type=Gn.OVERWRITE}operationForChild(e){return le(this.path)?new Ls(this.source,me(),this.snap.getImmediateChild(e)):new Ls(this.source,ke(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zo{constructor(e,n,r){this.source=e,this.path=n,this.children=r,this.type=Gn.MERGE}operationForChild(e){if(le(this.path)){const n=this.children.subtree(new xe(e));return n.isEmpty()?null:n.value?new Ls(this.source,me(),n.value):new Zo(this.source,me(),n)}else return B(se(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new Zo(this.source,ke(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vi{constructor(e,n,r){this.node_=e,this.fullyInitialized_=n,this.filtered_=r}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(le(e))return this.isFullyInitialized()&&!this.filtered_;const n=se(e);return this.isCompleteForChild(n)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w${constructor(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}}function x$(t,e,n,r){const i=[],s=[];return e.forEach(o=>{o.type==="child_changed"&&t.index_.indexedValueChanged(o.oldSnap,o.snapshotNode)&&s.push(d$(o.childName,o.snapshotNode))}),nl(t,i,"child_removed",e,r,n),nl(t,i,"child_added",e,r,n),nl(t,i,"child_moved",s,r,n),nl(t,i,"child_changed",e,r,n),nl(t,i,"value",e,r,n),i}function nl(t,e,n,r,i,s){const o=r.filter(a=>a.type===n);o.sort((a,l)=>C$(t,a,l)),o.forEach(a=>{const l=E$(t,a,s);i.forEach(c=>{c.respondsTo(a.type)&&e.push(c.createEvent(l,t.query_))})})}function E$(t,e,n){return e.type==="value"||e.type==="child_removed"||(e.prevName=n.getPredecessorChildName(e.childName,e.snapshotNode,t.index_)),e}function C$(t,e,n){if(e.childName==null||n.childName==null)throw va("Should only compare child_ events.");const r=new oe(e.childName,e.snapshotNode),i=new oe(n.childName,n.snapshotNode);return t.index_.compare(r,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yf(t,e){return{eventCache:t,serverCache:e}}function Pl(t,e,n,r){return yf(new Vi(e,n,r),t.serverCache)}function EP(t,e,n,r){return yf(t.eventCache,new Vi(e,n,r))}function vh(t){return t.eventCache.isFullyInitialized()?t.eventCache.getNode():null}function js(t){return t.serverCache.isFullyInitialized()?t.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let dm;const S$=()=>(dm||(dm=new Zt(l6)),dm);class Te{static fromObject(e){let n=new Te(null);return xt(e,(r,i)=>{n=n.set(new xe(r),i)}),n}constructor(e,n=S$()){this.value=e,this.children=n}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,n){if(this.value!=null&&n(this.value))return{path:me(),value:this.value};if(le(e))return null;{const r=se(e),i=this.children.get(r);if(i!==null){const s=i.findRootMostMatchingPathAndValue(ke(e),n);return s!=null?{path:qe(new xe(r),s.path),value:s.value}:null}else return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(le(e))return this;{const n=se(e),r=this.children.get(n);return r!==null?r.subtree(ke(e)):new Te(null)}}set(e,n){if(le(e))return new Te(n,this.children);{const r=se(e),s=(this.children.get(r)||new Te(null)).set(ke(e),n),o=this.children.insert(r,s);return new Te(this.value,o)}}remove(e){if(le(e))return this.children.isEmpty()?new Te(null):new Te(null,this.children);{const n=se(e),r=this.children.get(n);if(r){const i=r.remove(ke(e));let s;return i.isEmpty()?s=this.children.remove(n):s=this.children.insert(n,i),this.value===null&&s.isEmpty()?new Te(null):new Te(this.value,s)}else return this}}get(e){if(le(e))return this.value;{const n=se(e),r=this.children.get(n);return r?r.get(ke(e)):null}}setTree(e,n){if(le(e))return n;{const r=se(e),s=(this.children.get(r)||new Te(null)).setTree(ke(e),n);let o;return s.isEmpty()?o=this.children.remove(r):o=this.children.insert(r,s),new Te(this.value,o)}}fold(e){return this.fold_(me(),e)}fold_(e,n){const r={};return this.children.inorderTraversal((i,s)=>{r[i]=s.fold_(qe(e,i),n)}),n(e,this.value,r)}findOnPath(e,n){return this.findOnPath_(e,me(),n)}findOnPath_(e,n,r){const i=this.value?r(n,this.value):!1;if(i)return i;if(le(e))return null;{const s=se(e),o=this.children.get(s);return o?o.findOnPath_(ke(e),qe(n,s),r):null}}foreachOnPath(e,n){return this.foreachOnPath_(e,me(),n)}foreachOnPath_(e,n,r){if(le(e))return this;{this.value&&r(n,this.value);const i=se(e),s=this.children.get(i);return s?s.foreachOnPath_(ke(e),qe(n,i),r):new Te(null)}}foreach(e){this.foreach_(me(),e)}foreach_(e,n){this.children.inorderTraversal((r,i)=>{i.foreach_(qe(e,r),n)}),this.value&&n(e,this.value)}foreachChild(e){this.children.inorderTraversal((n,r)=>{r.value&&e(n,r.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zn{constructor(e){this.writeTree_=e}static empty(){return new Zn(new Te(null))}}function Al(t,e,n){if(le(e))return new Zn(new Te(n));{const r=t.writeTree_.findRootMostValueAndPath(e);if(r!=null){const i=r.path;let s=r.value;const o=$t(i,e);return s=s.updateChild(o,n),new Zn(t.writeTree_.set(i,s))}else{const i=new Te(n),s=t.writeTree_.setTree(e,i);return new Zn(s)}}}function Kg(t,e,n){let r=t;return xt(n,(i,s)=>{r=Al(r,qe(e,i),s)}),r}function mE(t,e){if(le(e))return Zn.empty();{const n=t.writeTree_.setTree(e,new Te(null));return new Zn(n)}}function Yg(t,e){return Hs(t,e)!=null}function Hs(t,e){const n=t.writeTree_.findRootMostValueAndPath(e);return n!=null?t.writeTree_.get(n.path).getChild($t(n.path,e)):null}function gE(t){const e=[],n=t.writeTree_.value;return n!=null?n.isLeafNode()||n.forEachChild(Ge,(r,i)=>{e.push(new oe(r,i))}):t.writeTree_.children.inorderTraversal((r,i)=>{i.value!=null&&e.push(new oe(r,i.value))}),e}function Mi(t,e){if(le(e))return t;{const n=Hs(t,e);return n!=null?new Zn(new Te(n)):new Zn(t.writeTree_.subtree(e))}}function Xg(t){return t.writeTree_.isEmpty()}function ea(t,e){return CP(me(),t.writeTree_,e)}function CP(t,e,n){if(e.value!=null)return n.updateChild(t,e.value);{let r=null;return e.children.inorderTraversal((i,s)=>{i===".priority"?(B(s.value!==null,"Priority writes must always be leaf nodes"),r=s.value):n=CP(qe(t,i),s,n)}),!n.getChild(t).isEmpty()&&r!==null&&(n=n.updateChild(qe(t,".priority"),r)),n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vf(t,e){return kP(e,t)}function b$(t,e,n,r,i){B(r>t.lastWriteId,"Stacking an older write on top of newer ones"),i===void 0&&(i=!0),t.allWrites.push({path:e,snap:n,writeId:r,visible:i}),i&&(t.visibleWrites=Al(t.visibleWrites,e,n)),t.lastWriteId=r}function T$(t,e,n,r){B(r>t.lastWriteId,"Stacking an older merge on top of newer ones"),t.allWrites.push({path:e,children:n,writeId:r,visible:!0}),t.visibleWrites=Kg(t.visibleWrites,e,n),t.lastWriteId=r}function k$(t,e){for(let n=0;n<t.allWrites.length;n++){const r=t.allWrites[n];if(r.writeId===e)return r}return null}function I$(t,e){const n=t.allWrites.findIndex(a=>a.writeId===e);B(n>=0,"removeWrite called with nonexistent writeId.");const r=t.allWrites[n];t.allWrites.splice(n,1);let i=r.visible,s=!1,o=t.allWrites.length-1;for(;i&&o>=0;){const a=t.allWrites[o];a.visible&&(o>=n&&P$(a,r.path)?i=!1:Tn(r.path,a.path)&&(s=!0)),o--}if(i){if(s)return A$(t),!0;if(r.snap)t.visibleWrites=mE(t.visibleWrites,r.path);else{const a=r.children;xt(a,l=>{t.visibleWrites=mE(t.visibleWrites,qe(r.path,l))})}return!0}else return!1}function P$(t,e){if(t.snap)return Tn(t.path,e);for(const n in t.children)if(t.children.hasOwnProperty(n)&&Tn(qe(t.path,n),e))return!0;return!1}function A$(t){t.visibleWrites=SP(t.allWrites,R$,me()),t.allWrites.length>0?t.lastWriteId=t.allWrites[t.allWrites.length-1].writeId:t.lastWriteId=-1}function R$(t){return t.visible}function SP(t,e,n){let r=Zn.empty();for(let i=0;i<t.length;++i){const s=t[i];if(e(s)){const o=s.path;let a;if(s.snap)Tn(n,o)?(a=$t(n,o),r=Al(r,a,s.snap)):Tn(o,n)&&(a=$t(o,n),r=Al(r,me(),s.snap.getChild(a)));else if(s.children){if(Tn(n,o))a=$t(n,o),r=Kg(r,a,s.children);else if(Tn(o,n))if(a=$t(o,n),le(a))r=Kg(r,me(),s.children);else{const l=Xo(s.children,se(a));if(l){const c=l.getChild(ke(a));r=Al(r,me(),c)}}}else throw va("WriteRecord should have .snap or .children")}}return r}function bP(t,e,n,r,i){if(!r&&!i){const s=Hs(t.visibleWrites,e);if(s!=null)return s;{const o=Mi(t.visibleWrites,e);if(Xg(o))return n;if(n==null&&!Yg(o,me()))return null;{const a=n||Q.EMPTY_NODE;return ea(o,a)}}}else{const s=Mi(t.visibleWrites,e);if(!i&&Xg(s))return n;if(!i&&n==null&&!Yg(s,me()))return null;{const o=function(c){return(c.visible||i)&&(!r||!~r.indexOf(c.writeId))&&(Tn(c.path,e)||Tn(e,c.path))},a=SP(t.allWrites,o,e),l=n||Q.EMPTY_NODE;return ea(a,l)}}}function N$(t,e,n){let r=Q.EMPTY_NODE;const i=Hs(t.visibleWrites,e);if(i)return i.isLeafNode()||i.forEachChild(Ge,(s,o)=>{r=r.updateImmediateChild(s,o)}),r;if(n){const s=Mi(t.visibleWrites,e);return n.forEachChild(Ge,(o,a)=>{const l=ea(Mi(s,new xe(o)),a);r=r.updateImmediateChild(o,l)}),gE(s).forEach(o=>{r=r.updateImmediateChild(o.name,o.node)}),r}else{const s=Mi(t.visibleWrites,e);return gE(s).forEach(o=>{r=r.updateImmediateChild(o.name,o.node)}),r}}function D$(t,e,n,r,i){B(r||i,"Either existingEventSnap or existingServerSnap must exist");const s=qe(e,n);if(Yg(t.visibleWrites,s))return null;{const o=Mi(t.visibleWrites,s);return Xg(o)?i.getChild(n):ea(o,i.getChild(n))}}function O$(t,e,n,r){const i=qe(e,n),s=Hs(t.visibleWrites,i);if(s!=null)return s;if(r.isCompleteForChild(n)){const o=Mi(t.visibleWrites,i);return ea(o,r.getNode().getImmediateChild(n))}else return null}function M$(t,e){return Hs(t.visibleWrites,e)}function L$(t,e,n,r,i,s,o){let a;const l=Mi(t.visibleWrites,e),c=Hs(l,me());if(c!=null)a=c;else if(n!=null)a=ea(l,n);else return[];if(a=a.withIndex(o),!a.isEmpty()&&!a.isLeafNode()){const d=[],h=o.getCompare(),f=s?a.getReverseIteratorFrom(r,o):a.getIteratorFrom(r,o);let y=f.getNext();for(;y&&d.length<i;)h(y,r)!==0&&d.push(y),y=f.getNext();return d}else return[]}function j$(){return{visibleWrites:Zn.empty(),allWrites:[],lastWriteId:-1}}function _h(t,e,n,r){return bP(t.writeTree,t.treePath,e,n,r)}function Nv(t,e){return N$(t.writeTree,t.treePath,e)}function yE(t,e,n,r){return D$(t.writeTree,t.treePath,e,n,r)}function wh(t,e){return M$(t.writeTree,qe(t.treePath,e))}function F$(t,e,n,r,i,s){return L$(t.writeTree,t.treePath,e,n,r,i,s)}function Dv(t,e,n){return O$(t.writeTree,t.treePath,e,n)}function TP(t,e){return kP(qe(t.treePath,e),t.writeTree)}function kP(t,e){return{treePath:t,writeTree:e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $${constructor(){this.changeMap=new Map}trackChildChange(e){const n=e.type,r=e.childName;B(n==="child_added"||n==="child_changed"||n==="child_removed","Only child changes supported for tracking"),B(r!==".priority","Only non-priority child changes can be tracked.");const i=this.changeMap.get(r);if(i){const s=i.type;if(n==="child_added"&&s==="child_removed")this.changeMap.set(r,pc(r,e.snapshotNode,i.snapshotNode));else if(n==="child_removed"&&s==="child_added")this.changeMap.delete(r);else if(n==="child_removed"&&s==="child_changed")this.changeMap.set(r,fc(r,i.oldSnap));else if(n==="child_changed"&&s==="child_added")this.changeMap.set(r,Qo(r,e.snapshotNode));else if(n==="child_changed"&&s==="child_changed")this.changeMap.set(r,pc(r,e.snapshotNode,i.oldSnap));else throw va("Illegal combination of changes: "+e+" occurred after "+i)}else this.changeMap.set(r,e)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U${getCompleteChild(e){return null}getChildAfterChild(e,n,r){return null}}const IP=new U$;class Ov{constructor(e,n,r=null){this.writes_=e,this.viewCache_=n,this.optCompleteServerCache_=r}getCompleteChild(e){const n=this.viewCache_.eventCache;if(n.isCompleteForChild(e))return n.getNode().getImmediateChild(e);{const r=this.optCompleteServerCache_!=null?new Vi(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return Dv(this.writes_,e,r)}}getChildAfterChild(e,n,r){const i=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:js(this.viewCache_),s=F$(this.writes_,i,n,1,r,e);return s.length===0?null:s[0]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function V$(t){return{filter:t}}function B$(t,e){B(e.eventCache.getNode().isIndexed(t.filter.getIndex()),"Event snap not indexed"),B(e.serverCache.getNode().isIndexed(t.filter.getIndex()),"Server snap not indexed")}function z$(t,e,n,r,i){const s=new $$;let o,a;if(n.type===Gn.OVERWRITE){const c=n;c.source.fromUser?o=Jg(t,e,c.path,c.snap,r,i,s):(B(c.source.fromServer,"Unknown source."),a=c.source.tagged||e.serverCache.isFiltered()&&!le(c.path),o=xh(t,e,c.path,c.snap,r,i,a,s))}else if(n.type===Gn.MERGE){const c=n;c.source.fromUser?o=H$(t,e,c.path,c.children,r,i,s):(B(c.source.fromServer,"Unknown source."),a=c.source.tagged||e.serverCache.isFiltered(),o=Qg(t,e,c.path,c.children,r,i,a,s))}else if(n.type===Gn.ACK_USER_WRITE){const c=n;c.revert?o=K$(t,e,c.path,r,i,s):o=q$(t,e,c.path,c.affectedTree,r,i,s)}else if(n.type===Gn.LISTEN_COMPLETE)o=G$(t,e,n.path,r,s);else throw va("Unknown operation type: "+n.type);const l=s.getChanges();return W$(e,o,l),{viewCache:o,changes:l}}function W$(t,e,n){const r=e.eventCache;if(r.isFullyInitialized()){const i=r.getNode().isLeafNode()||r.getNode().isEmpty(),s=vh(t);(n.length>0||!t.eventCache.isFullyInitialized()||i&&!r.getNode().equals(s)||!r.getNode().getPriority().equals(s.getPriority()))&&n.push(wP(vh(e)))}}function PP(t,e,n,r,i,s){const o=e.eventCache;if(wh(r,n)!=null)return e;{let a,l;if(le(n))if(B(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const c=js(e),d=c instanceof Q?c:Q.EMPTY_NODE,h=Nv(r,d);a=t.filter.updateFullNode(e.eventCache.getNode(),h,s)}else{const c=_h(r,js(e));a=t.filter.updateFullNode(e.eventCache.getNode(),c,s)}else{const c=se(n);if(c===".priority"){B(Ui(n)===1,"Can't have a priority with additional path components");const d=o.getNode();l=e.serverCache.getNode();const h=yE(r,n,d,l);h!=null?a=t.filter.updatePriority(d,h):a=o.getNode()}else{const d=ke(n);let h;if(o.isCompleteForChild(c)){l=e.serverCache.getNode();const f=yE(r,n,o.getNode(),l);f!=null?h=o.getNode().getImmediateChild(c).updateChild(d,f):h=o.getNode().getImmediateChild(c)}else h=Dv(r,c,e.serverCache);h!=null?a=t.filter.updateChild(o.getNode(),c,h,d,i,s):a=o.getNode()}}return Pl(e,a,o.isFullyInitialized()||le(n),t.filter.filtersNodes())}}function xh(t,e,n,r,i,s,o,a){const l=e.serverCache;let c;const d=o?t.filter:t.filter.getIndexedFilter();if(le(n))c=d.updateFullNode(l.getNode(),r,null);else if(d.filtersNodes()&&!l.isFiltered()){const y=l.getNode().updateChild(n,r);c=d.updateFullNode(l.getNode(),y,null)}else{const y=se(n);if(!l.isCompleteForPath(n)&&Ui(n)>1)return e;const _=ke(n),P=l.getNode().getImmediateChild(y).updateChild(_,r);y===".priority"?c=d.updatePriority(l.getNode(),P):c=d.updateChild(l.getNode(),y,P,_,IP,null)}const h=EP(e,c,l.isFullyInitialized()||le(n),d.filtersNodes()),f=new Ov(i,h,s);return PP(t,h,n,i,f,a)}function Jg(t,e,n,r,i,s,o){const a=e.eventCache;let l,c;const d=new Ov(i,e,s);if(le(n))c=t.filter.updateFullNode(e.eventCache.getNode(),r,o),l=Pl(e,c,!0,t.filter.filtersNodes());else{const h=se(n);if(h===".priority")c=t.filter.updatePriority(e.eventCache.getNode(),r),l=Pl(e,c,a.isFullyInitialized(),a.isFiltered());else{const f=ke(n),y=a.getNode().getImmediateChild(h);let _;if(le(f))_=r;else{const S=d.getCompleteChild(h);S!=null?Cv(f)===".priority"&&S.getChild(fP(f)).isEmpty()?_=S:_=S.updateChild(f,r):_=Q.EMPTY_NODE}if(y.equals(_))l=e;else{const S=t.filter.updateChild(a.getNode(),h,_,f,d,o);l=Pl(e,S,a.isFullyInitialized(),t.filter.filtersNodes())}}}return l}function vE(t,e){return t.eventCache.isCompleteForChild(e)}function H$(t,e,n,r,i,s,o){let a=e;return r.foreach((l,c)=>{const d=qe(n,l);vE(e,se(d))&&(a=Jg(t,a,d,c,i,s,o))}),r.foreach((l,c)=>{const d=qe(n,l);vE(e,se(d))||(a=Jg(t,a,d,c,i,s,o))}),a}function _E(t,e,n){return n.foreach((r,i)=>{e=e.updateChild(r,i)}),e}function Qg(t,e,n,r,i,s,o,a){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let l=e,c;le(n)?c=r:c=new Te(null).setTree(n,r);const d=e.serverCache.getNode();return c.children.inorderTraversal((h,f)=>{if(d.hasChild(h)){const y=e.serverCache.getNode().getImmediateChild(h),_=_E(t,y,f);l=xh(t,l,new xe(h),_,i,s,o,a)}}),c.children.inorderTraversal((h,f)=>{const y=!e.serverCache.isCompleteForChild(h)&&f.value===null;if(!d.hasChild(h)&&!y){const _=e.serverCache.getNode().getImmediateChild(h),S=_E(t,_,f);l=xh(t,l,new xe(h),S,i,s,o,a)}}),l}function q$(t,e,n,r,i,s,o){if(wh(i,n)!=null)return e;const a=e.serverCache.isFiltered(),l=e.serverCache;if(r.value!=null){if(le(n)&&l.isFullyInitialized()||l.isCompleteForPath(n))return xh(t,e,n,l.getNode().getChild(n),i,s,a,o);if(le(n)){let c=new Te(null);return l.getNode().forEachChild(Uo,(d,h)=>{c=c.set(new xe(d),h)}),Qg(t,e,n,c,i,s,a,o)}else return e}else{let c=new Te(null);return r.foreach((d,h)=>{const f=qe(n,d);l.isCompleteForPath(f)&&(c=c.set(d,l.getNode().getChild(f)))}),Qg(t,e,n,c,i,s,a,o)}}function G$(t,e,n,r,i){const s=e.serverCache,o=EP(e,s.getNode(),s.isFullyInitialized()||le(n),s.isFiltered());return PP(t,o,n,r,IP,i)}function K$(t,e,n,r,i,s){let o;if(wh(r,n)!=null)return e;{const a=new Ov(r,e,i),l=e.eventCache.getNode();let c;if(le(n)||se(n)===".priority"){let d;if(e.serverCache.isFullyInitialized())d=_h(r,js(e));else{const h=e.serverCache.getNode();B(h instanceof Q,"serverChildren would be complete if leaf node"),d=Nv(r,h)}d=d,c=t.filter.updateFullNode(l,d,s)}else{const d=se(n);let h=Dv(r,d,e.serverCache);h==null&&e.serverCache.isCompleteForChild(d)&&(h=l.getImmediateChild(d)),h!=null?c=t.filter.updateChild(l,d,h,ke(n),a,s):e.eventCache.getNode().hasChild(d)?c=t.filter.updateChild(l,d,Q.EMPTY_NODE,ke(n),a,s):c=l,c.isEmpty()&&e.serverCache.isFullyInitialized()&&(o=_h(r,js(e)),o.isLeafNode()&&(c=t.filter.updateFullNode(c,o,s)))}return o=e.serverCache.isFullyInitialized()||wh(r,me())!=null,Pl(e,c,o,t.filter.filtersNodes())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y${constructor(e,n){this.query_=e,this.eventRegistrations_=[];const r=this.query_._queryParams,i=new kv(r.getIndex()),s=f$(r);this.processor_=V$(s);const o=n.serverCache,a=n.eventCache,l=i.updateFullNode(Q.EMPTY_NODE,o.getNode(),null),c=s.updateFullNode(Q.EMPTY_NODE,a.getNode(),null),d=new Vi(l,o.isFullyInitialized(),i.filtersNodes()),h=new Vi(c,a.isFullyInitialized(),s.filtersNodes());this.viewCache_=yf(h,d),this.eventGenerator_=new w$(this.query_)}get query(){return this.query_}}function X$(t){return t.viewCache_.serverCache.getNode()}function J$(t){return vh(t.viewCache_)}function Q$(t,e){const n=js(t.viewCache_);return n&&(t.query._queryParams.loadsAllData()||!le(e)&&!n.getImmediateChild(se(e)).isEmpty())?n.getChild(e):null}function wE(t){return t.eventRegistrations_.length===0}function Z$(t,e){t.eventRegistrations_.push(e)}function xE(t,e,n){const r=[];if(n){B(e==null,"A cancel should cancel all event registrations.");const i=t.query._path;t.eventRegistrations_.forEach(s=>{const o=s.createCancelEvent(n,i);o&&r.push(o)})}if(e){let i=[];for(let s=0;s<t.eventRegistrations_.length;++s){const o=t.eventRegistrations_[s];if(!o.matches(e))i.push(o);else if(e.hasAnyCallback()){i=i.concat(t.eventRegistrations_.slice(s+1));break}}t.eventRegistrations_=i}else t.eventRegistrations_=[];return r}function EE(t,e,n,r){e.type===Gn.MERGE&&e.source.queryId!==null&&(B(js(t.viewCache_),"We should always have a full cache before handling merges"),B(vh(t.viewCache_),"Missing event cache, even though we have a server cache"));const i=t.viewCache_,s=z$(t.processor_,i,e,n,r);return B$(t.processor_,s.viewCache),B(s.viewCache.serverCache.isFullyInitialized()||!i.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),t.viewCache_=s.viewCache,AP(t,s.changes,s.viewCache.eventCache.getNode(),null)}function e9(t,e){const n=t.viewCache_.eventCache,r=[];return n.getNode().isLeafNode()||n.getNode().forEachChild(Ge,(s,o)=>{r.push(Qo(s,o))}),n.isFullyInitialized()&&r.push(wP(n.getNode())),AP(t,r,n.getNode(),e)}function AP(t,e,n,r){const i=r?[r]:t.eventRegistrations_;return x$(t.eventGenerator_,e,n,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Eh;class RP{constructor(){this.views=new Map}}function t9(t){B(!Eh,"__referenceConstructor has already been defined"),Eh=t}function n9(){return B(Eh,"Reference.ts has not been loaded"),Eh}function r9(t){return t.views.size===0}function Mv(t,e,n,r){const i=e.source.queryId;if(i!==null){const s=t.views.get(i);return B(s!=null,"SyncTree gave us an op for an invalid query."),EE(s,e,n,r)}else{let s=[];for(const o of t.views.values())s=s.concat(EE(o,e,n,r));return s}}function NP(t,e,n,r,i){const s=e._queryIdentifier,o=t.views.get(s);if(!o){let a=_h(n,i?r:null),l=!1;a?l=!0:r instanceof Q?(a=Nv(n,r),l=!1):(a=Q.EMPTY_NODE,l=!1);const c=yf(new Vi(a,l,!1),new Vi(r,i,!1));return new Y$(e,c)}return o}function i9(t,e,n,r,i,s){const o=NP(t,e,r,i,s);return t.views.has(e._queryIdentifier)||t.views.set(e._queryIdentifier,o),Z$(o,n),e9(o,n)}function s9(t,e,n,r){const i=e._queryIdentifier,s=[];let o=[];const a=Bi(t);if(i==="default")for(const[l,c]of t.views.entries())o=o.concat(xE(c,n,r)),wE(c)&&(t.views.delete(l),c.query._queryParams.loadsAllData()||s.push(c.query));else{const l=t.views.get(i);l&&(o=o.concat(xE(l,n,r)),wE(l)&&(t.views.delete(i),l.query._queryParams.loadsAllData()||s.push(l.query)))}return a&&!Bi(t)&&s.push(new(n9())(e._repo,e._path)),{removed:s,events:o}}function DP(t){const e=[];for(const n of t.views.values())n.query._queryParams.loadsAllData()||e.push(n);return e}function Li(t,e){let n=null;for(const r of t.views.values())n=n||Q$(r,e);return n}function OP(t,e){if(e._queryParams.loadsAllData())return _f(t);{const r=e._queryIdentifier;return t.views.get(r)}}function MP(t,e){return OP(t,e)!=null}function Bi(t){return _f(t)!=null}function _f(t){for(const e of t.views.values())if(e.query._queryParams.loadsAllData())return e;return null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ch;function o9(t){B(!Ch,"__referenceConstructor has already been defined"),Ch=t}function a9(){return B(Ch,"Reference.ts has not been loaded"),Ch}let l9=1;class CE{constructor(e){this.listenProvider_=e,this.syncPointTree_=new Te(null),this.pendingWriteTree_=j$(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function LP(t,e,n,r,i){return b$(t.pendingWriteTree_,e,n,r,i),i?Ca(t,new Ls(Pv(),e,n)):[]}function c9(t,e,n,r){T$(t.pendingWriteTree_,e,n,r);const i=Te.fromObject(n);return Ca(t,new Zo(Pv(),e,i))}function bi(t,e,n=!1){const r=k$(t.pendingWriteTree_,e);if(I$(t.pendingWriteTree_,e)){let s=new Te(null);return r.snap!=null?s=s.set(me(),!0):xt(r.children,o=>{s=s.set(new xe(o),!0)}),Ca(t,new yh(r.path,s,n))}else return[]}function qc(t,e,n){return Ca(t,new Ls(Av(),e,n))}function u9(t,e,n){const r=Te.fromObject(n);return Ca(t,new Zo(Av(),e,r))}function d9(t,e){return Ca(t,new gc(Av(),e))}function h9(t,e,n){const r=jv(t,n);if(r){const i=Fv(r),s=i.path,o=i.queryId,a=$t(s,e),l=new gc(Rv(o),a);return $v(t,s,l)}else return[]}function Sh(t,e,n,r,i=!1){const s=e._path,o=t.syncPointTree_.get(s);let a=[];if(o&&(e._queryIdentifier==="default"||MP(o,e))){const l=s9(o,e,n,r);r9(o)&&(t.syncPointTree_=t.syncPointTree_.remove(s));const c=l.removed;if(a=l.events,!i){const d=c.findIndex(f=>f._queryParams.loadsAllData())!==-1,h=t.syncPointTree_.findOnPath(s,(f,y)=>Bi(y));if(d&&!h){const f=t.syncPointTree_.subtree(s);if(!f.isEmpty()){const y=m9(f);for(let _=0;_<y.length;++_){const S=y[_],P=S.query,w=UP(t,S);t.listenProvider_.startListening(Rl(P),yc(t,P),w.hashFn,w.onComplete)}}}!h&&c.length>0&&!r&&(d?t.listenProvider_.stopListening(Rl(e),null):c.forEach(f=>{const y=t.queryToTagMap.get(wf(f));t.listenProvider_.stopListening(Rl(f),y)}))}g9(t,c)}return a}function jP(t,e,n,r){const i=jv(t,r);if(i!=null){const s=Fv(i),o=s.path,a=s.queryId,l=$t(o,e),c=new Ls(Rv(a),l,n);return $v(t,o,c)}else return[]}function f9(t,e,n,r){const i=jv(t,r);if(i){const s=Fv(i),o=s.path,a=s.queryId,l=$t(o,e),c=Te.fromObject(n),d=new Zo(Rv(a),l,c);return $v(t,o,d)}else return[]}function Zg(t,e,n,r=!1){const i=e._path;let s=null,o=!1;t.syncPointTree_.foreachOnPath(i,(f,y)=>{const _=$t(f,i);s=s||Li(y,_),o=o||Bi(y)});let a=t.syncPointTree_.get(i);a?(o=o||Bi(a),s=s||Li(a,me())):(a=new RP,t.syncPointTree_=t.syncPointTree_.set(i,a));let l;s!=null?l=!0:(l=!1,s=Q.EMPTY_NODE,t.syncPointTree_.subtree(i).foreachChild((y,_)=>{const S=Li(_,me());S&&(s=s.updateImmediateChild(y,S))}));const c=MP(a,e);if(!c&&!e._queryParams.loadsAllData()){const f=wf(e);B(!t.queryToTagMap.has(f),"View does not exist, but we have a tag");const y=y9();t.queryToTagMap.set(f,y),t.tagToQueryMap.set(y,f)}const d=vf(t.pendingWriteTree_,i);let h=i9(a,e,n,d,s,l);if(!c&&!o&&!r){const f=OP(a,e);h=h.concat(v9(t,e,f))}return h}function Lv(t,e,n){const i=t.pendingWriteTree_,s=t.syncPointTree_.findOnPath(e,(o,a)=>{const l=$t(o,e),c=Li(a,l);if(c)return c});return bP(i,e,s,n,!0)}function p9(t,e){const n=e._path;let r=null;t.syncPointTree_.foreachOnPath(n,(c,d)=>{const h=$t(c,n);r=r||Li(d,h)});let i=t.syncPointTree_.get(n);i?r=r||Li(i,me()):(i=new RP,t.syncPointTree_=t.syncPointTree_.set(n,i));const s=r!=null,o=s?new Vi(r,!0,!1):null,a=vf(t.pendingWriteTree_,e._path),l=NP(i,e,a,s?o.getNode():Q.EMPTY_NODE,s);return J$(l)}function Ca(t,e){return FP(e,t.syncPointTree_,null,vf(t.pendingWriteTree_,me()))}function FP(t,e,n,r){if(le(t.path))return $P(t,e,n,r);{const i=e.get(me());n==null&&i!=null&&(n=Li(i,me()));let s=[];const o=se(t.path),a=t.operationForChild(o),l=e.children.get(o);if(l&&a){const c=n?n.getImmediateChild(o):null,d=TP(r,o);s=s.concat(FP(a,l,c,d))}return i&&(s=s.concat(Mv(i,t,r,n))),s}}function $P(t,e,n,r){const i=e.get(me());n==null&&i!=null&&(n=Li(i,me()));let s=[];return e.children.inorderTraversal((o,a)=>{const l=n?n.getImmediateChild(o):null,c=TP(r,o),d=t.operationForChild(o);d&&(s=s.concat($P(d,a,l,c)))}),i&&(s=s.concat(Mv(i,t,r,n))),s}function UP(t,e){const n=e.query,r=yc(t,n);return{hashFn:()=>(X$(e)||Q.EMPTY_NODE).hash(),onComplete:i=>{if(i==="ok")return r?h9(t,n._path,r):d9(t,n._path);{const s=d6(i,n);return Sh(t,n,null,s)}}}}function yc(t,e){const n=wf(e);return t.queryToTagMap.get(n)}function wf(t){return t._path.toString()+"$"+t._queryIdentifier}function jv(t,e){return t.tagToQueryMap.get(e)}function Fv(t){const e=t.indexOf("$");return B(e!==-1&&e<t.length-1,"Bad queryKey."),{queryId:t.substr(e+1),path:new xe(t.substr(0,e))}}function $v(t,e,n){const r=t.syncPointTree_.get(e);B(r,"Missing sync point for query tag that we're tracking");const i=vf(t.pendingWriteTree_,e);return Mv(r,n,i,null)}function m9(t){return t.fold((e,n,r)=>{if(n&&Bi(n))return[_f(n)];{let i=[];return n&&(i=DP(n)),xt(r,(s,o)=>{i=i.concat(o)}),i}})}function Rl(t){return t._queryParams.loadsAllData()&&!t._queryParams.isDefault()?new(a9())(t._repo,t._path):t}function g9(t,e){for(let n=0;n<e.length;++n){const r=e[n];if(!r._queryParams.loadsAllData()){const i=wf(r),s=t.queryToTagMap.get(i);t.queryToTagMap.delete(i),t.tagToQueryMap.delete(s)}}}function y9(){return l9++}function v9(t,e,n){const r=e._path,i=yc(t,e),s=UP(t,n),o=t.listenProvider_.startListening(Rl(e),i,s.hashFn,s.onComplete),a=t.syncPointTree_.subtree(r);if(i)B(!Bi(a.value),"If we're adding a query, it shouldn't be shadowed");else{const l=a.fold((c,d,h)=>{if(!le(c)&&d&&Bi(d))return[_f(d).query];{let f=[];return d&&(f=f.concat(DP(d).map(y=>y.query))),xt(h,(y,_)=>{f=f.concat(_)}),f}});for(let c=0;c<l.length;++c){const d=l[c];t.listenProvider_.stopListening(Rl(d),yc(t,d))}}return o}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uv{constructor(e){this.node_=e}getImmediateChild(e){const n=this.node_.getImmediateChild(e);return new Uv(n)}node(){return this.node_}}class Vv{constructor(e,n){this.syncTree_=e,this.path_=n}getImmediateChild(e){const n=qe(this.path_,e);return new Vv(this.syncTree_,n)}node(){return Lv(this.syncTree_,this.path_)}}const _9=function(t){return t=t||{},t.timestamp=t.timestamp||new Date().getTime(),t},SE=function(t,e,n){if(!t||typeof t!="object")return t;if(B(".sv"in t,"Unexpected leaf node or priority contents"),typeof t[".sv"]=="string")return w9(t[".sv"],e,n);if(typeof t[".sv"]=="object")return x9(t[".sv"],e);B(!1,"Unexpected server value: "+JSON.stringify(t,null,2))},w9=function(t,e,n){switch(t){case"timestamp":return n.timestamp;default:B(!1,"Unexpected server value: "+t)}},x9=function(t,e,n){t.hasOwnProperty("increment")||B(!1,"Unexpected server value: "+JSON.stringify(t,null,2));const r=t.increment;typeof r!="number"&&B(!1,"Unexpected increment value: "+r);const i=e.node();if(B(i!==null&&typeof i<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;const o=i.getValue();return typeof o!="number"?r:o+r},VP=function(t,e,n,r){return Bv(e,new Vv(n,t),r)},BP=function(t,e,n){return Bv(t,new Uv(e),n)};function Bv(t,e,n){const r=t.getPriority().val(),i=SE(r,e.getImmediateChild(".priority"),n);let s;if(t.isLeafNode()){const o=t,a=SE(o.getValue(),e,n);return a!==o.getValue()||i!==o.getPriority().val()?new at(a,tt(i)):t}else{const o=t;return s=o,i!==o.getPriority().val()&&(s=s.updatePriority(new at(i))),o.forEachChild(Ge,(a,l)=>{const c=Bv(l,e.getImmediateChild(a),n);c!==l&&(s=s.updateImmediateChild(a,c))}),s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zv{constructor(e="",n=null,r={children:{},childCount:0}){this.name=e,this.parent=n,this.node=r}}function Wv(t,e){let n=e instanceof xe?e:new xe(e),r=t,i=se(n);for(;i!==null;){const s=Xo(r.node.children,i)||{children:{},childCount:0};r=new zv(i,r,s),n=ke(n),i=se(n)}return r}function Sa(t){return t.node.value}function zP(t,e){t.node.value=e,ey(t)}function WP(t){return t.node.childCount>0}function E9(t){return Sa(t)===void 0&&!WP(t)}function xf(t,e){xt(t.node.children,(n,r)=>{e(new zv(n,t,r))})}function HP(t,e,n,r){n&&!r&&e(t),xf(t,i=>{HP(i,e,!0,r)}),n&&r&&e(t)}function C9(t,e,n){let r=n?t:t.parent;for(;r!==null;){if(e(r))return!0;r=r.parent}return!1}function Gc(t){return new xe(t.parent===null?t.name:Gc(t.parent)+"/"+t.name)}function ey(t){t.parent!==null&&S9(t.parent,t.name,t)}function S9(t,e,n){const r=E9(n),i=br(t.node.children,e);r&&i?(delete t.node.children[e],t.node.childCount--,ey(t)):!r&&!i&&(t.node.children[e]=n.node,t.node.childCount++,ey(t))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b9=/[\[\].#$\/\u0000-\u001F\u007F]/,T9=/[\[\].#$\u0000-\u001F\u007F]/,hm=10*1024*1024,Hv=function(t){return typeof t=="string"&&t.length!==0&&!b9.test(t)},qP=function(t){return typeof t=="string"&&t.length!==0&&!T9.test(t)},k9=function(t){return t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),qP(t)},I9=function(t){return t===null||typeof t=="string"||typeof t=="number"&&!vv(t)||t&&typeof t=="object"&&br(t,".sv")},GP=function(t,e,n,r){r&&e===void 0||Ef(af(t,"value"),e,n)},Ef=function(t,e,n){const r=n instanceof xe?new H6(n,t):n;if(e===void 0)throw new Error(t+"contains undefined "+as(r));if(typeof e=="function")throw new Error(t+"contains a function "+as(r)+" with contents = "+e.toString());if(vv(e))throw new Error(t+"contains "+e.toString()+" "+as(r));if(typeof e=="string"&&e.length>hm/3&&lf(e)>hm)throw new Error(t+"contains a string greater than "+hm+" utf8 bytes "+as(r)+" ('"+e.substring(0,50)+"...')");if(e&&typeof e=="object"){let i=!1,s=!1;if(xt(e,(o,a)=>{if(o===".value")i=!0;else if(o!==".priority"&&o!==".sv"&&(s=!0,!Hv(o)))throw new Error(t+" contains an invalid key ("+o+") "+as(r)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);q6(r,o),Ef(t,a,r),G6(r)}),i&&s)throw new Error(t+' contains ".value" child '+as(r)+" in addition to actual children.")}},P9=function(t,e){let n,r;for(n=0;n<e.length;n++){r=e[n];const s=hc(r);for(let o=0;o<s.length;o++)if(!(s[o]===".priority"&&o===s.length-1)){if(!Hv(s[o]))throw new Error(t+"contains an invalid key ("+s[o]+") in path "+r.toString()+`. Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`)}}e.sort(W6);let i=null;for(n=0;n<e.length;n++){if(r=e[n],i!==null&&Tn(i,r))throw new Error(t+"contains a path "+i.toString()+" that is ancestor of another path "+r.toString());i=r}},A9=function(t,e,n,r){if(r&&e===void 0)return;const i=af(t,"values");if(!(e&&typeof e=="object")||Array.isArray(e))throw new Error(i+" must be an object containing the children to replace.");const s=[];xt(e,(o,a)=>{const l=new xe(o);if(Ef(i,a,qe(n,l)),Cv(l)===".priority"&&!I9(a))throw new Error(i+"contains an invalid value for '"+l.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");s.push(l)}),P9(i,s)},KP=function(t,e,n,r){if(!(r&&n===void 0)&&!qP(n))throw new Error(af(t,e)+'was an invalid path = "'+n+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},R9=function(t,e,n,r){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),KP(t,e,n,r)},YP=function(t,e){if(se(e)===".info")throw new Error(t+" failed = Can't modify data under /.info/")},N9=function(t,e){const n=e.path.toString();if(typeof e.repoInfo.host!="string"||e.repoInfo.host.length===0||!Hv(e.repoInfo.namespace)&&e.repoInfo.host.split(":")[0]!=="localhost"||n.length!==0&&!k9(n))throw new Error(af(t,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D9{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function Cf(t,e){let n=null;for(let r=0;r<e.length;r++){const i=e[r],s=i.getPath();n!==null&&!Sv(s,n.path)&&(t.eventLists_.push(n),n=null),n===null&&(n={events:[],path:s}),n.events.push(i)}n&&t.eventLists_.push(n)}function XP(t,e,n){Cf(t,n),JP(t,r=>Sv(r,e))}function Dn(t,e,n){Cf(t,n),JP(t,r=>Tn(r,e)||Tn(e,r))}function JP(t,e){t.recursionDepth_++;let n=!0;for(let r=0;r<t.eventLists_.length;r++){const i=t.eventLists_[r];if(i){const s=i.path;e(s)?(O9(t.eventLists_[r]),t.eventLists_[r]=null):n=!1}}n&&(t.eventLists_=[]),t.recursionDepth_--}function O9(t){for(let e=0;e<t.events.length;e++){const n=t.events[e];if(n!==null){t.events[e]=null;const r=n.getEventRunner();Cs&&vt("event: "+n.toString()),Ea(r)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M9="repo_interrupt",L9=25;class j9{constructor(e,n,r,i){this.repoInfo_=e,this.forceRestClient_=n,this.authTokenProvider_=r,this.appCheckProvider_=i,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new D9,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=gh(),this.transactionQueueTree_=new zv,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function F9(t,e,n){if(t.stats_=xv(t.repoInfo_),t.forceRestClient_||m6())t.server_=new mh(t.repoInfo_,(r,i,s,o)=>{bE(t,r,i,s,o)},t.authTokenProvider_,t.appCheckProvider_),setTimeout(()=>TE(t,!0),0);else{if(typeof n<"u"&&n!==null){if(typeof n!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{nt(n)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}t.persistentConnection_=new Wr(t.repoInfo_,e,(r,i,s,o)=>{bE(t,r,i,s,o)},r=>{TE(t,r)},r=>{$9(t,r)},t.authTokenProvider_,t.appCheckProvider_,n),t.server_=t.persistentConnection_}t.authTokenProvider_.addTokenChangeListener(r=>{t.server_.refreshAuthToken(r)}),t.appCheckProvider_.addTokenChangeListener(r=>{t.server_.refreshAppCheckToken(r.token)}),t.statsReporter_=w6(t.repoInfo_,()=>new _$(t.stats_,t.server_)),t.infoData_=new p$,t.infoSyncTree_=new CE({startListening:(r,i,s,o)=>{let a=[];const l=t.infoData_.getNode(r._path);return l.isEmpty()||(a=qc(t.infoSyncTree_,r._path,l),setTimeout(()=>{o("ok")},0)),a},stopListening:()=>{}}),qv(t,"connected",!1),t.serverSyncTree_=new CE({startListening:(r,i,s,o)=>(t.server_.listen(r,s,i,(a,l)=>{const c=o(a,l);Dn(t.eventQueue_,r._path,c)}),[]),stopListening:(r,i)=>{t.server_.unlisten(r,i)}})}function QP(t){const n=t.infoData_.getNode(new xe(".info/serverTimeOffset")).val()||0;return new Date().getTime()+n}function Sf(t){return _9({timestamp:QP(t)})}function bE(t,e,n,r,i){t.dataUpdateCount++;const s=new xe(e);n=t.interceptServerDataCallback_?t.interceptServerDataCallback_(e,n):n;let o=[];if(i)if(r){const l=rh(n,c=>tt(c));o=f9(t.serverSyncTree_,s,l,i)}else{const l=tt(n);o=jP(t.serverSyncTree_,s,l,i)}else if(r){const l=rh(n,c=>tt(c));o=u9(t.serverSyncTree_,s,l)}else{const l=tt(n);o=qc(t.serverSyncTree_,s,l)}let a=s;o.length>0&&(a=ta(t,s)),Dn(t.eventQueue_,a,o)}function TE(t,e){qv(t,"connected",e),e===!1&&z9(t)}function $9(t,e){xt(e,(n,r)=>{qv(t,n,r)})}function qv(t,e,n){const r=new xe("/.info/"+e),i=tt(n);t.infoData_.updateSnapshot(r,i);const s=qc(t.infoSyncTree_,r,i);Dn(t.eventQueue_,r,s)}function Gv(t){return t.nextWriteId_++}function U9(t,e,n){const r=p9(t.serverSyncTree_,e);return r!=null?Promise.resolve(r):t.server_.get(e).then(i=>{const s=tt(i).withIndex(e._queryParams.getIndex());Zg(t.serverSyncTree_,e,n,!0);let o;if(e._queryParams.loadsAllData())o=qc(t.serverSyncTree_,e._path,s);else{const a=yc(t.serverSyncTree_,e);o=jP(t.serverSyncTree_,e._path,s,a)}return Dn(t.eventQueue_,e._path,o),Sh(t.serverSyncTree_,e,n,null,!0),s},i=>(Kc(t,"get for query "+nt(e)+" failed: "+i),Promise.reject(new Error(i))))}function V9(t,e,n,r,i){Kc(t,"set",{path:e.toString(),value:n,priority:r});const s=Sf(t),o=tt(n,r),a=Lv(t.serverSyncTree_,e),l=BP(o,a,s),c=Gv(t),d=LP(t.serverSyncTree_,e,l,c,!0);Cf(t.eventQueue_,d),t.server_.put(e.toString(),o.val(!0),(f,y)=>{const _=f==="ok";_||Bt("set at "+e+" failed: "+f);const S=bi(t.serverSyncTree_,c,!_);Dn(t.eventQueue_,e,S),ny(t,i,f,y)});const h=Yv(t,e);ta(t,h),Dn(t.eventQueue_,h,[])}function B9(t,e,n,r){Kc(t,"update",{path:e.toString(),value:n});let i=!0;const s=Sf(t),o={};if(xt(n,(a,l)=>{i=!1,o[a]=VP(qe(e,a),tt(l),t.serverSyncTree_,s)}),i)vt("update() called with empty data.  Don't do anything."),ny(t,r,"ok",void 0);else{const a=Gv(t),l=c9(t.serverSyncTree_,e,o,a);Cf(t.eventQueue_,l),t.server_.merge(e.toString(),n,(c,d)=>{const h=c==="ok";h||Bt("update at "+e+" failed: "+c);const f=bi(t.serverSyncTree_,a,!h),y=f.length>0?ta(t,e):e;Dn(t.eventQueue_,y,f),ny(t,r,c,d)}),xt(n,c=>{const d=Yv(t,qe(e,c));ta(t,d)}),Dn(t.eventQueue_,e,[])}}function z9(t){Kc(t,"onDisconnectEvents");const e=Sf(t),n=gh();Gg(t.onDisconnect_,me(),(i,s)=>{const o=VP(i,s,t.serverSyncTree_,e);xP(n,i,o)});let r=[];Gg(n,me(),(i,s)=>{r=r.concat(qc(t.serverSyncTree_,i,s));const o=Yv(t,i);ta(t,o)}),t.onDisconnect_=gh(),Dn(t.eventQueue_,me(),r)}function W9(t,e,n){let r;se(e._path)===".info"?r=Zg(t.infoSyncTree_,e,n):r=Zg(t.serverSyncTree_,e,n),XP(t.eventQueue_,e._path,r)}function ty(t,e,n){let r;se(e._path)===".info"?r=Sh(t.infoSyncTree_,e,n):r=Sh(t.serverSyncTree_,e,n),XP(t.eventQueue_,e._path,r)}function H9(t){t.persistentConnection_&&t.persistentConnection_.interrupt(M9)}function Kc(t,...e){let n="";t.persistentConnection_&&(n=t.persistentConnection_.id+":"),vt(n,...e)}function ny(t,e,n,r){e&&Ea(()=>{if(n==="ok")e(null);else{const i=(n||"error").toUpperCase();let s=i;r&&(s+=": "+r);const o=new Error(s);o.code=i,e(o)}})}function ZP(t,e,n){return Lv(t.serverSyncTree_,e,n)||Q.EMPTY_NODE}function Kv(t,e=t.transactionQueueTree_){if(e||bf(t,e),Sa(e)){const n=tA(t,e);B(n.length>0,"Sending zero length transaction queue"),n.every(i=>i.status===0)&&q9(t,Gc(e),n)}else WP(e)&&xf(e,n=>{Kv(t,n)})}function q9(t,e,n){const r=n.map(c=>c.currentWriteId),i=ZP(t,e,r);let s=i;const o=i.hash();for(let c=0;c<n.length;c++){const d=n[c];B(d.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),d.status=1,d.retryCount++;const h=$t(e,d.path);s=s.updateChild(h,d.currentOutputSnapshotRaw)}const a=s.val(!0),l=e;t.server_.put(l.toString(),a,c=>{Kc(t,"transaction put response",{path:l.toString(),status:c});let d=[];if(c==="ok"){const h=[];for(let f=0;f<n.length;f++)n[f].status=2,d=d.concat(bi(t.serverSyncTree_,n[f].currentWriteId)),n[f].onComplete&&h.push(()=>n[f].onComplete(null,!0,n[f].currentOutputSnapshotResolved)),n[f].unwatcher();bf(t,Wv(t.transactionQueueTree_,e)),Kv(t,t.transactionQueueTree_),Dn(t.eventQueue_,e,d);for(let f=0;f<h.length;f++)Ea(h[f])}else{if(c==="datastale")for(let h=0;h<n.length;h++)n[h].status===3?n[h].status=4:n[h].status=0;else{Bt("transaction at "+l.toString()+" failed: "+c);for(let h=0;h<n.length;h++)n[h].status=4,n[h].abortReason=c}ta(t,e)}},o)}function ta(t,e){const n=eA(t,e),r=Gc(n),i=tA(t,n);return G9(t,i,r),r}function G9(t,e,n){if(e.length===0)return;const r=[];let i=[];const o=e.filter(a=>a.status===0).map(a=>a.currentWriteId);for(let a=0;a<e.length;a++){const l=e[a],c=$t(n,l.path);let d=!1,h;if(B(c!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),l.status===4)d=!0,h=l.abortReason,i=i.concat(bi(t.serverSyncTree_,l.currentWriteId,!0));else if(l.status===0)if(l.retryCount>=L9)d=!0,h="maxretry",i=i.concat(bi(t.serverSyncTree_,l.currentWriteId,!0));else{const f=ZP(t,l.path,o);l.currentInputSnapshot=f;const y=e[a].update(f.val());if(y!==void 0){Ef("transaction failed: Data returned ",y,l.path);let _=tt(y);typeof y=="object"&&y!=null&&br(y,".priority")||(_=_.updatePriority(f.getPriority()));const P=l.currentWriteId,w=Sf(t),C=BP(_,f,w);l.currentOutputSnapshotRaw=_,l.currentOutputSnapshotResolved=C,l.currentWriteId=Gv(t),o.splice(o.indexOf(P),1),i=i.concat(LP(t.serverSyncTree_,l.path,C,l.currentWriteId,l.applyLocally)),i=i.concat(bi(t.serverSyncTree_,P,!0))}else d=!0,h="nodata",i=i.concat(bi(t.serverSyncTree_,l.currentWriteId,!0))}Dn(t.eventQueue_,n,i),i=[],d&&(e[a].status=2,function(f){setTimeout(f,Math.floor(0))}(e[a].unwatcher),e[a].onComplete&&(h==="nodata"?r.push(()=>e[a].onComplete(null,!1,e[a].currentInputSnapshot)):r.push(()=>e[a].onComplete(new Error(h),!1,null))))}bf(t,t.transactionQueueTree_);for(let a=0;a<r.length;a++)Ea(r[a]);Kv(t,t.transactionQueueTree_)}function eA(t,e){let n,r=t.transactionQueueTree_;for(n=se(e);n!==null&&Sa(r)===void 0;)r=Wv(r,n),e=ke(e),n=se(e);return r}function tA(t,e){const n=[];return nA(t,e,n),n.sort((r,i)=>r.order-i.order),n}function nA(t,e,n){const r=Sa(e);if(r)for(let i=0;i<r.length;i++)n.push(r[i]);xf(e,i=>{nA(t,i,n)})}function bf(t,e){const n=Sa(e);if(n){let r=0;for(let i=0;i<n.length;i++)n[i].status!==2&&(n[r]=n[i],r++);n.length=r,zP(e,n.length>0?n:void 0)}xf(e,r=>{bf(t,r)})}function Yv(t,e){const n=Gc(eA(t,e)),r=Wv(t.transactionQueueTree_,e);return C9(r,i=>{fm(t,i)}),fm(t,r),HP(r,i=>{fm(t,i)}),n}function fm(t,e){const n=Sa(e);if(n){const r=[];let i=[],s=-1;for(let o=0;o<n.length;o++)n[o].status===3||(n[o].status===1?(B(s===o-1,"All SENT items should be at beginning of queue."),s=o,n[o].status=3,n[o].abortReason="set"):(B(n[o].status===0,"Unexpected transaction status in abort"),n[o].unwatcher(),i=i.concat(bi(t.serverSyncTree_,n[o].currentWriteId,!0)),n[o].onComplete&&r.push(n[o].onComplete.bind(null,new Error("set"),!1,null))));s===-1?zP(e,void 0):n.length=s+1,Dn(t.eventQueue_,Gc(e),i);for(let o=0;o<r.length;o++)Ea(r[o])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function K9(t){let e="";const n=t.split("/");for(let r=0;r<n.length;r++)if(n[r].length>0){let i=n[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch{}e+="/"+i}return e}function Y9(t){const e={};t.charAt(0)==="?"&&(t=t.substring(1));for(const n of t.split("&")){if(n.length===0)continue;const r=n.split("=");r.length===2?e[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):Bt(`Invalid query segment '${n}' in query '${t}'`)}return e}const kE=function(t,e){const n=X9(t),r=n.namespace;n.domain==="firebase.com"&&Zr(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||r==="undefined")&&n.domain!=="localhost"&&Zr("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||o6();const i=n.scheme==="ws"||n.scheme==="wss";return{repoInfo:new iP(n.host,n.secure,r,i,e,"",r!==n.subdomain),path:new xe(n.pathString)}},X9=function(t){let e="",n="",r="",i="",s="",o=!0,a="https",l=443;if(typeof t=="string"){let c=t.indexOf("//");c>=0&&(a=t.substring(0,c-1),t=t.substring(c+2));let d=t.indexOf("/");d===-1&&(d=t.length);let h=t.indexOf("?");h===-1&&(h=t.length),e=t.substring(0,Math.min(d,h)),d<h&&(i=K9(t.substring(d,h)));const f=Y9(t.substring(Math.min(t.length,h)));c=e.indexOf(":"),c>=0?(o=a==="https"||a==="wss",l=parseInt(e.substring(c+1),10)):c=e.length;const y=e.slice(0,c);if(y.toLowerCase()==="localhost")n="localhost";else if(y.split(".").length<=2)n=y;else{const _=e.indexOf(".");r=e.substring(0,_).toLowerCase(),n=e.substring(_+1),s=r}"ns"in f&&(s=f.ns)}return{host:e,port:l,domain:n,subdomain:r,secure:o,scheme:a,pathString:i,namespace:s}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IE="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",J9=function(){let t=0;const e=[];return function(n){const r=n===t;t=n;let i;const s=new Array(8);for(i=7;i>=0;i--)s[i]=IE.charAt(n%64),n=Math.floor(n/64);B(n===0,"Cannot push at time == 0");let o=s.join("");if(r){for(i=11;i>=0&&e[i]===63;i--)e[i]=0;e[i]++}else for(i=0;i<12;i++)e[i]=Math.floor(Math.random()*64);for(i=0;i<12;i++)o+=IE.charAt(e[i]);return B(o.length===20,"nextPushId: Length should be 20."),o}}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rA{constructor(e,n,r,i){this.eventType=e,this.eventRegistration=n,this.snapshot=r,this.prevName=i}getPath(){const e=this.snapshot.ref;return this.eventType==="value"?e._path:e.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+nt(this.snapshot.exportVal())}}class iA{constructor(e,n,r){this.eventRegistration=e,this.error=n,this.path=r}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xv{constructor(e,n){this.snapshotCallback=e,this.cancelCallback=n}onValue(e,n){this.snapshotCallback.call(null,e,n)}onCancel(e){return B(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}get hasCancelCallback(){return!!this.cancelCallback}matches(e){return this.snapshotCallback===e.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jv{constructor(e,n,r,i){this._repo=e,this._path=n,this._queryParams=r,this._orderByCalled=i}get key(){return le(this._path)?null:Cv(this._path)}get ref(){return new Tr(this._repo,this._path)}get _queryIdentifier(){const e=fE(this._queryParams),n=_v(e);return n==="{}"?"default":n}get _queryObject(){return fE(this._queryParams)}isEqual(e){if(e=Me(e),!(e instanceof Jv))return!1;const n=this._repo===e._repo,r=Sv(this._path,e._path),i=this._queryIdentifier===e._queryIdentifier;return n&&r&&i}toJSON(){return this.toString()}toString(){return this._repo.toString()+z6(this._path)}}class Tr extends Jv{constructor(e,n){super(e,n,new Iv,!1)}get parent(){const e=fP(this._path);return e===null?null:new Tr(this._repo,e)}get root(){let e=this;for(;e.parent!==null;)e=e.parent;return e}}class na{constructor(e,n,r){this._node=e,this.ref=n,this._index=r}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(e){const n=new xe(e),r=ra(this.ref,e);return new na(this._node.getChild(n),r,Ge)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(e){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(r,i)=>e(new na(i,ra(this.ref,r),Ge)))}hasChild(e){const n=new xe(e);return!this._node.getChild(n).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function ae(t,e){return t=Me(t),t._checkNotDeleted("ref"),e!==void 0?ra(t._root,e):t._root}function ra(t,e){return t=Me(t),se(t._path)===null?R9("child","path",e,!1):KP("child","path",e,!1),new Tr(t._repo,qe(t._path,e))}function vd(t,e){t=Me(t),YP("push",t._path),GP("push",e,t._path,!0);const n=QP(t._repo),r=J9(n),i=ra(t,r),s=ra(t,r);let o;return e!=null?o=At(s,e).then(()=>s):o=Promise.resolve(s),i.then=o.then.bind(o),i.catch=o.then.bind(o,void 0),i}function At(t,e){t=Me(t),YP("set",t._path),GP("set",e,t._path,!1);const n=new jc;return V9(t._repo,t._path,e,null,n.wrapCallback(()=>{})),n.promise}function bh(t,e){A9("update",e,t._path,!1);const n=new jc;return B9(t._repo,t._path,e,n.wrapCallback(()=>{})),n.promise}function In(t){t=Me(t);const e=new Xv(()=>{}),n=new Yc(e);return U9(t._repo,t,n).then(r=>new na(r,new Tr(t._repo,t._path),t._queryParams.getIndex()))}class Yc{constructor(e){this.callbackContext=e}respondsTo(e){return e==="value"}createEvent(e,n){const r=n._queryParams.getIndex();return new rA("value",this,new na(e.snapshotNode,new Tr(n._repo,n._path),r))}getEventRunner(e){return e.getEventType()==="cancel"?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,null)}createCancelEvent(e,n){return this.callbackContext.hasCancelCallback?new iA(this,e,n):null}matches(e){return e instanceof Yc?!e.callbackContext||!this.callbackContext?!0:e.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}}class Tf{constructor(e,n){this.eventType=e,this.callbackContext=n}respondsTo(e){let n=e==="children_added"?"child_added":e;return n=n==="children_removed"?"child_removed":n,this.eventType===n}createCancelEvent(e,n){return this.callbackContext.hasCancelCallback?new iA(this,e,n):null}createEvent(e,n){B(e.childName!=null,"Child events should have a childName.");const r=ra(new Tr(n._repo,n._path),e.childName),i=n._queryParams.getIndex();return new rA(e.type,this,new na(e.snapshotNode,r,i),e.prevName)}getEventRunner(e){return e.getEventType()==="cancel"?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,e.prevName)}matches(e){return e instanceof Tf?this.eventType===e.eventType&&(!this.callbackContext||!e.callbackContext||this.callbackContext.matches(e.callbackContext)):!1}hasAnyCallback(){return!!this.callbackContext}}function Q9(t,e,n,r,i){let s;if(typeof r=="object"&&(s=void 0,i=r),typeof r=="function"&&(s=r),i&&i.onlyOnce){const l=n,c=(d,h)=>{ty(t._repo,t,a),l(d,h)};c.userCallback=n.userCallback,c.context=n.context,n=c}const o=new Xv(n,s||void 0),a=e==="value"?new Yc(o):new Tf(e,o);return W9(t._repo,t,a),()=>ty(t._repo,t,a)}function Hr(t,e,n,r){return Q9(t,"value",e,n,r)}function vc(t,e,n){let r=null;const i=n?new Xv(n):null;e==="value"?r=new Yc(i):e&&(r=new Tf(e,i)),ty(t._repo,t,r)}t9(Tr);o9(Tr);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z9="FIREBASE_DATABASE_EMULATOR_HOST",ry={};let eU=!1;function tU(t,e,n,r){const i=e.lastIndexOf(":"),s=e.substring(0,i),o=Yi(s);t.repoInfo_=new iP(e,o,t.repoInfo_.namespace,t.repoInfo_.webSocketOnly,t.repoInfo_.nodeAdmin,t.repoInfo_.persistenceKey,t.repoInfo_.includeNamespaceInQueryParams,!0,n),r&&(t.authTokenProvider_=r)}function nU(t,e,n,r,i){let s=r||t.options.databaseURL;s===void 0&&(t.options.projectId||Zr("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),vt("Using default host for project ",t.options.projectId),s=`${t.options.projectId}-default-rtdb.firebaseio.com`);let o=kE(s,i),a=o.repoInfo,l,c;typeof process<"u"&&process.env&&(c=process.env[Z9]),c?(l=!0,s=`http://${c}?ns=${a.namespace}`,o=kE(s,i),a=o.repoInfo):l=!o.repoInfo.secure;const d=i&&l?new $o($o.OWNER):new y6(t.name,t.options,e);N9("Invalid Firebase Database URL",o),le(o.path)||Zr("Database URL must point to the root of a Firebase Database (not including a child path).");const h=iU(a,t,d,new g6(t,n));return new sU(h,t)}function rU(t,e){const n=ry[e];(!n||n[t.key]!==t)&&Zr(`Database ${e}(${t.repoInfo_}) has already been deleted.`),H9(t),delete n[t.key]}function iU(t,e,n,r){let i=ry[e.name];i||(i={},ry[e.name]=i);let s=i[t.toURLString()];return s&&Zr("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),s=new j9(t,eU,n,r),i[t.toURLString()]=s,s}class sU{constructor(e,n){this._repoInternal=e,this.app=n,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(F9(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0,Sr("Database",this._repo.repoInfo_.emulatorOptions!==null)),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new Tr(this._repo,me())),this._rootInternal}_delete(){return this._rootInternal!==null&&(rU(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){this._rootInternal===null&&Zr("Cannot call "+e+" on a deleted database.")}}function oU(t=wa(),e){const n=ii(t,"database").getImmediate({identifier:e});if(!n._instanceStarted){const r=of("database");r&&sA(n,...r)}return n}function sA(t,e,n,r={}){t=Me(t),t._checkNotDeleted("useEmulator");const i=`${e}:${n}`,s=t._repoInternal;if(t._instanceStarted){if(i===t._repoInternal.repoInfo_.host&&$i(r,s.repoInfo_.emulatorOptions))return;Zr("connectDatabaseEmulator() cannot initialize or alter the emulator configuration after the database instance has started.")}let o;if(s.repoInfo_.nodeAdmin)r.mockUserToken&&Zr('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),o=new $o($o.OWNER);else if(r.mockUserToken){const a=typeof r.mockUserToken=="string"?r.mockUserToken:J0(r.mockUserToken,t.app.options.projectId);o=new $o(a)}Yi(e)&&(Fc(e),Sr("Database",!0)),tU(s,i,r,o)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aU(t){t6(Xi),gn(new on("database",(e,{instanceIdentifier:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal"),s=e.getProvider("app-check-internal");return nU(r,i,s,n)},"PUBLIC").setMultipleInstances(!0)),dt(Xx,Jx,t),dt(Xx,Jx,"esm2017")}Wr.prototype.simpleListen=function(t,e){this.sendRequest("q",{p:t},e)};Wr.prototype.echo=function(t,e){this.sendRequest("echo",{d:t},e)};aU();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oA="firebasestorage.googleapis.com",lU="storageBucket",cU=2*60*1e3,uU=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kr extends On{constructor(e,n,r=0){super(pm(e),`Firebase Storage: ${n} (${pm(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,kr.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return pm(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var _r;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(_r||(_r={}));function pm(t){return"storage/"+t}function dU(){const t="An unknown error occurred, please check the error payload for server response.";return new kr(_r.UNKNOWN,t)}function hU(){return new kr(_r.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function fU(){return new kr(_r.CANCELED,"User canceled the upload/download.")}function pU(t){return new kr(_r.INVALID_URL,"Invalid URL '"+t+"'.")}function mU(t){return new kr(_r.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function PE(t){return new kr(_r.INVALID_ARGUMENT,t)}function aA(){return new kr(_r.APP_DELETED,"The Firebase app was deleted.")}function gU(t){return new kr(_r.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kn{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=Kn.makeFromUrl(e,n)}catch{return new Kn(e,"")}if(r.path==="")return r;throw mU(e)}static makeFromUrl(e,n){let r=null;const i="([A-Za-z0-9.\\-_]+)";function s(A){A.path.charAt(A.path.length-1)==="/"&&(A.path_=A.path_.slice(0,-1))}const o="(/(.*))?$",a=new RegExp("^gs://"+i+o,"i"),l={bucket:1,path:3};function c(A){A.path_=decodeURIComponent(A.path)}const d="v[A-Za-z0-9_]+",h=n.replace(/[.]/g,"\\."),f="(/([^?#]*).*)?$",y=new RegExp(`^https?://${h}/${d}/b/${i}/o${f}`,"i"),_={bucket:1,path:3},S=n===oA?"(?:storage.googleapis.com|storage.cloud.google.com)":n,P="([^?#]*)",w=new RegExp(`^https?://${S}/${i}/${P}`,"i"),E=[{regex:a,indices:l,postModify:s},{regex:y,indices:_,postModify:c},{regex:w,indices:{bucket:1,path:2},postModify:c}];for(let A=0;A<E.length;A++){const D=E[A],M=D.regex.exec(e);if(M){const b=M[D.indices.bucket];let x=M[D.indices.path];x||(x=""),r=new Kn(b,x),D.postModify(r);break}}if(r==null)throw pU(e);return r}}class yU{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vU(t,e,n){let r=1,i=null,s=null,o=!1,a=0;function l(){return a===2}let c=!1;function d(...P){c||(c=!0,e.apply(null,P))}function h(P){i=setTimeout(()=>{i=null,t(y,l())},P)}function f(){s&&clearTimeout(s)}function y(P,...w){if(c){f();return}if(P){f(),d.call(null,P,...w);return}if(l()||o){f(),d.call(null,P,...w);return}r<64&&(r*=2);let E;a===1?(a=2,E=0):E=(r+Math.random())*1e3,h(E)}let _=!1;function S(P){_||(_=!0,f(),!c&&(i!==null?(P||(a=2),clearTimeout(i),h(0)):P||(a=1)))}return h(0),s=setTimeout(()=>{o=!0,S(!0)},n),S}function _U(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wU(t){return t!==void 0}function AE(t,e,n,r){if(r<e)throw PE(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw PE(`Invalid value for '${t}'. Expected ${n} or less.`)}function xU(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const i=e(r)+"="+e(t[r]);n=n+i+"&"}return n=n.slice(0,-1),n}var Th;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(Th||(Th={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EU(t,e){const n=t>=500&&t<600,i=[408,429].indexOf(t)!==-1,s=e.indexOf(t)!==-1;return n||i||s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CU{constructor(e,n,r,i,s,o,a,l,c,d,h,f=!0,y=!1){this.url_=e,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=s,this.additionalRetryCodes_=o,this.callback_=a,this.errorCallback_=l,this.timeout_=c,this.progressCallback_=d,this.connectionFactory_=h,this.retry=f,this.isUsingEmulator=y,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((_,S)=>{this.resolve_=_,this.reject_=S,this.start_()})}start_(){const e=(r,i)=>{if(i){r(!1,new Vu(!1,null,!0));return}const s=this.connectionFactory_();this.pendingConnection_=s;const o=a=>{const l=a.loaded,c=a.lengthComputable?a.total:-1;this.progressCallback_!==null&&this.progressCallback_(l,c)};this.progressCallback_!==null&&s.addUploadProgressListener(o),s.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&s.removeUploadProgressListener(o),this.pendingConnection_=null;const a=s.getErrorCode()===Th.NO_ERROR,l=s.getStatus();if(!a||EU(l,this.additionalRetryCodes_)&&this.retry){const d=s.getErrorCode()===Th.ABORT;r(!1,new Vu(!1,null,d));return}const c=this.successCodes_.indexOf(l)!==-1;r(!0,new Vu(c,s))})},n=(r,i)=>{const s=this.resolve_,o=this.reject_,a=i.connection;if(i.wasSuccessCode)try{const l=this.callback_(a,a.getResponse());wU(l)?s(l):s()}catch(l){o(l)}else if(a!==null){const l=dU();l.serverResponse=a.getErrorText(),this.errorCallback_?o(this.errorCallback_(a,l)):o(l)}else if(i.canceled){const l=this.appDelete_?aA():fU();o(l)}else{const l=hU();o(l)}};this.canceled_?n(!1,new Vu(!1,null,!0)):this.backoffId_=vU(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&_U(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Vu{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function SU(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function bU(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function TU(t,e){e&&(t["X-Firebase-GMPID"]=e)}function kU(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function IU(t,e,n,r,i,s,o=!0,a=!1){const l=xU(t.urlParams),c=t.url+l,d=Object.assign({},t.headers);return TU(d,e),SU(d,n),bU(d,s),kU(d,r),new CU(c,t.method,d,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i,o,a)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PU(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function AU(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kh{constructor(e,n){this._service=e,n instanceof Kn?this._location=n:this._location=Kn.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new kh(e,n)}get root(){const e=new Kn(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return AU(this._location.path)}get storage(){return this._service}get parent(){const e=PU(this._location.path);if(e===null)return null;const n=new Kn(this._location.bucket,e);return new kh(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw gU(e)}}function RE(t,e){const n=e==null?void 0:e[lU];return n==null?null:Kn.makeFromBucketSpec(n,t)}function RU(t,e,n,r={}){t.host=`${e}:${n}`;const i=Yi(e);i&&(Fc(`https://${t.host}`),Sr("Storage",!0)),t._isUsingEmulator=!0,t._protocol=i?"https":"http";const{mockUserToken:s}=r;s&&(t._overrideAuthToken=typeof s=="string"?s:J0(s,t.app.options.projectId))}class NU{constructor(e,n,r,i,s,o=!1){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=s,this._isUsingEmulator=o,this._bucket=null,this._host=oA,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=cU,this._maxUploadRetryTime=uU,this._requests=new Set,i!=null?this._bucket=Kn.makeFromBucketSpec(i,this._host):this._bucket=RE(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Kn.makeFromBucketSpec(this._url,e):this._bucket=RE(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){AE("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){AE("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(Rt(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new kh(this,e)}_makeRequest(e,n,r,i,s=!0){if(this._deleted)return new yU(aA());{const o=IU(e,this._appId,r,i,n,this._firebaseVersion,s,this._isUsingEmulator);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}async makeRequestWithTokens(e,n){const[r,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,i).getPromise()}}const NE="@firebase/storage",DE="0.13.10";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lA="storage";function DU(t=wa(),e){t=Me(t),Sr("Storage",!1);const r=ii(t,lA).getImmediate({identifier:e}),i=of("storage");return i&&cA(r,...i),r}function cA(t,e,n,r={}){RU(t,e,n,r)}function OU(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),i=t.getProvider("app-check-internal");return new NU(n,r,i,e,Xi)}function MU(){gn(new on(lA,OU,"PUBLIC").setMultipleInstances(!0)),dt(NE,DE,""),dt(NE,DE,"esm2017")}MU();var OE=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var uA;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(b,x){function I(){}I.prototype=x.prototype,b.D=x.prototype,b.prototype=new I,b.prototype.constructor=b,b.C=function(g,R,O){for(var N=Array(arguments.length-2),U=2;U<arguments.length;U++)N[U-2]=arguments[U];return x.prototype[R].apply(g,N)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(b,x,I){I||(I=0);var g=Array(16);if(typeof x=="string")for(var R=0;16>R;++R)g[R]=x.charCodeAt(I++)|x.charCodeAt(I++)<<8|x.charCodeAt(I++)<<16|x.charCodeAt(I++)<<24;else for(R=0;16>R;++R)g[R]=x[I++]|x[I++]<<8|x[I++]<<16|x[I++]<<24;x=b.g[0],I=b.g[1],R=b.g[2];var O=b.g[3],N=x+(O^I&(R^O))+g[0]+3614090360&4294967295;x=I+(N<<7&4294967295|N>>>25),N=O+(R^x&(I^R))+g[1]+3905402710&4294967295,O=x+(N<<12&4294967295|N>>>20),N=R+(I^O&(x^I))+g[2]+606105819&4294967295,R=O+(N<<17&4294967295|N>>>15),N=I+(x^R&(O^x))+g[3]+3250441966&4294967295,I=R+(N<<22&4294967295|N>>>10),N=x+(O^I&(R^O))+g[4]+4118548399&4294967295,x=I+(N<<7&4294967295|N>>>25),N=O+(R^x&(I^R))+g[5]+1200080426&4294967295,O=x+(N<<12&4294967295|N>>>20),N=R+(I^O&(x^I))+g[6]+2821735955&4294967295,R=O+(N<<17&4294967295|N>>>15),N=I+(x^R&(O^x))+g[7]+4249261313&4294967295,I=R+(N<<22&4294967295|N>>>10),N=x+(O^I&(R^O))+g[8]+1770035416&4294967295,x=I+(N<<7&4294967295|N>>>25),N=O+(R^x&(I^R))+g[9]+2336552879&4294967295,O=x+(N<<12&4294967295|N>>>20),N=R+(I^O&(x^I))+g[10]+4294925233&4294967295,R=O+(N<<17&4294967295|N>>>15),N=I+(x^R&(O^x))+g[11]+2304563134&4294967295,I=R+(N<<22&4294967295|N>>>10),N=x+(O^I&(R^O))+g[12]+1804603682&4294967295,x=I+(N<<7&4294967295|N>>>25),N=O+(R^x&(I^R))+g[13]+4254626195&4294967295,O=x+(N<<12&4294967295|N>>>20),N=R+(I^O&(x^I))+g[14]+2792965006&4294967295,R=O+(N<<17&4294967295|N>>>15),N=I+(x^R&(O^x))+g[15]+1236535329&4294967295,I=R+(N<<22&4294967295|N>>>10),N=x+(R^O&(I^R))+g[1]+4129170786&4294967295,x=I+(N<<5&4294967295|N>>>27),N=O+(I^R&(x^I))+g[6]+3225465664&4294967295,O=x+(N<<9&4294967295|N>>>23),N=R+(x^I&(O^x))+g[11]+643717713&4294967295,R=O+(N<<14&4294967295|N>>>18),N=I+(O^x&(R^O))+g[0]+3921069994&4294967295,I=R+(N<<20&4294967295|N>>>12),N=x+(R^O&(I^R))+g[5]+3593408605&4294967295,x=I+(N<<5&4294967295|N>>>27),N=O+(I^R&(x^I))+g[10]+38016083&4294967295,O=x+(N<<9&4294967295|N>>>23),N=R+(x^I&(O^x))+g[15]+3634488961&4294967295,R=O+(N<<14&4294967295|N>>>18),N=I+(O^x&(R^O))+g[4]+3889429448&4294967295,I=R+(N<<20&4294967295|N>>>12),N=x+(R^O&(I^R))+g[9]+568446438&4294967295,x=I+(N<<5&4294967295|N>>>27),N=O+(I^R&(x^I))+g[14]+3275163606&4294967295,O=x+(N<<9&4294967295|N>>>23),N=R+(x^I&(O^x))+g[3]+4107603335&4294967295,R=O+(N<<14&4294967295|N>>>18),N=I+(O^x&(R^O))+g[8]+1163531501&4294967295,I=R+(N<<20&4294967295|N>>>12),N=x+(R^O&(I^R))+g[13]+2850285829&4294967295,x=I+(N<<5&4294967295|N>>>27),N=O+(I^R&(x^I))+g[2]+4243563512&4294967295,O=x+(N<<9&4294967295|N>>>23),N=R+(x^I&(O^x))+g[7]+1735328473&4294967295,R=O+(N<<14&4294967295|N>>>18),N=I+(O^x&(R^O))+g[12]+2368359562&4294967295,I=R+(N<<20&4294967295|N>>>12),N=x+(I^R^O)+g[5]+4294588738&4294967295,x=I+(N<<4&4294967295|N>>>28),N=O+(x^I^R)+g[8]+2272392833&4294967295,O=x+(N<<11&4294967295|N>>>21),N=R+(O^x^I)+g[11]+1839030562&4294967295,R=O+(N<<16&4294967295|N>>>16),N=I+(R^O^x)+g[14]+4259657740&4294967295,I=R+(N<<23&4294967295|N>>>9),N=x+(I^R^O)+g[1]+2763975236&4294967295,x=I+(N<<4&4294967295|N>>>28),N=O+(x^I^R)+g[4]+1272893353&4294967295,O=x+(N<<11&4294967295|N>>>21),N=R+(O^x^I)+g[7]+4139469664&4294967295,R=O+(N<<16&4294967295|N>>>16),N=I+(R^O^x)+g[10]+3200236656&4294967295,I=R+(N<<23&4294967295|N>>>9),N=x+(I^R^O)+g[13]+681279174&4294967295,x=I+(N<<4&4294967295|N>>>28),N=O+(x^I^R)+g[0]+3936430074&4294967295,O=x+(N<<11&4294967295|N>>>21),N=R+(O^x^I)+g[3]+3572445317&4294967295,R=O+(N<<16&4294967295|N>>>16),N=I+(R^O^x)+g[6]+76029189&4294967295,I=R+(N<<23&4294967295|N>>>9),N=x+(I^R^O)+g[9]+3654602809&4294967295,x=I+(N<<4&4294967295|N>>>28),N=O+(x^I^R)+g[12]+3873151461&4294967295,O=x+(N<<11&4294967295|N>>>21),N=R+(O^x^I)+g[15]+530742520&4294967295,R=O+(N<<16&4294967295|N>>>16),N=I+(R^O^x)+g[2]+3299628645&4294967295,I=R+(N<<23&4294967295|N>>>9),N=x+(R^(I|~O))+g[0]+4096336452&4294967295,x=I+(N<<6&4294967295|N>>>26),N=O+(I^(x|~R))+g[7]+1126891415&4294967295,O=x+(N<<10&4294967295|N>>>22),N=R+(x^(O|~I))+g[14]+2878612391&4294967295,R=O+(N<<15&4294967295|N>>>17),N=I+(O^(R|~x))+g[5]+4237533241&4294967295,I=R+(N<<21&4294967295|N>>>11),N=x+(R^(I|~O))+g[12]+1700485571&4294967295,x=I+(N<<6&4294967295|N>>>26),N=O+(I^(x|~R))+g[3]+2399980690&4294967295,O=x+(N<<10&4294967295|N>>>22),N=R+(x^(O|~I))+g[10]+4293915773&4294967295,R=O+(N<<15&4294967295|N>>>17),N=I+(O^(R|~x))+g[1]+2240044497&4294967295,I=R+(N<<21&4294967295|N>>>11),N=x+(R^(I|~O))+g[8]+1873313359&4294967295,x=I+(N<<6&4294967295|N>>>26),N=O+(I^(x|~R))+g[15]+4264355552&4294967295,O=x+(N<<10&4294967295|N>>>22),N=R+(x^(O|~I))+g[6]+2734768916&4294967295,R=O+(N<<15&4294967295|N>>>17),N=I+(O^(R|~x))+g[13]+1309151649&4294967295,I=R+(N<<21&4294967295|N>>>11),N=x+(R^(I|~O))+g[4]+4149444226&4294967295,x=I+(N<<6&4294967295|N>>>26),N=O+(I^(x|~R))+g[11]+3174756917&4294967295,O=x+(N<<10&4294967295|N>>>22),N=R+(x^(O|~I))+g[2]+718787259&4294967295,R=O+(N<<15&4294967295|N>>>17),N=I+(O^(R|~x))+g[9]+3951481745&4294967295,b.g[0]=b.g[0]+x&4294967295,b.g[1]=b.g[1]+(R+(N<<21&4294967295|N>>>11))&4294967295,b.g[2]=b.g[2]+R&4294967295,b.g[3]=b.g[3]+O&4294967295}r.prototype.u=function(b,x){x===void 0&&(x=b.length);for(var I=x-this.blockSize,g=this.B,R=this.h,O=0;O<x;){if(R==0)for(;O<=I;)i(this,b,O),O+=this.blockSize;if(typeof b=="string"){for(;O<x;)if(g[R++]=b.charCodeAt(O++),R==this.blockSize){i(this,g),R=0;break}}else for(;O<x;)if(g[R++]=b[O++],R==this.blockSize){i(this,g),R=0;break}}this.h=R,this.o+=x},r.prototype.v=function(){var b=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);b[0]=128;for(var x=1;x<b.length-8;++x)b[x]=0;var I=8*this.o;for(x=b.length-8;x<b.length;++x)b[x]=I&255,I/=256;for(this.u(b),b=Array(16),x=I=0;4>x;++x)for(var g=0;32>g;g+=8)b[I++]=this.g[x]>>>g&255;return b};function s(b,x){var I=a;return Object.prototype.hasOwnProperty.call(I,b)?I[b]:I[b]=x(b)}function o(b,x){this.h=x;for(var I=[],g=!0,R=b.length-1;0<=R;R--){var O=b[R]|0;g&&O==x||(I[R]=O,g=!1)}this.g=I}var a={};function l(b){return-128<=b&&128>b?s(b,function(x){return new o([x|0],0>x?-1:0)}):new o([b|0],0>b?-1:0)}function c(b){if(isNaN(b)||!isFinite(b))return h;if(0>b)return P(c(-b));for(var x=[],I=1,g=0;b>=I;g++)x[g]=b/I|0,I*=4294967296;return new o(x,0)}function d(b,x){if(b.length==0)throw Error("number format error: empty string");if(x=x||10,2>x||36<x)throw Error("radix out of range: "+x);if(b.charAt(0)=="-")return P(d(b.substring(1),x));if(0<=b.indexOf("-"))throw Error('number format error: interior "-" character');for(var I=c(Math.pow(x,8)),g=h,R=0;R<b.length;R+=8){var O=Math.min(8,b.length-R),N=parseInt(b.substring(R,R+O),x);8>O?(O=c(Math.pow(x,O)),g=g.j(O).add(c(N))):(g=g.j(I),g=g.add(c(N)))}return g}var h=l(0),f=l(1),y=l(16777216);t=o.prototype,t.m=function(){if(S(this))return-P(this).m();for(var b=0,x=1,I=0;I<this.g.length;I++){var g=this.i(I);b+=(0<=g?g:4294967296+g)*x,x*=4294967296}return b},t.toString=function(b){if(b=b||10,2>b||36<b)throw Error("radix out of range: "+b);if(_(this))return"0";if(S(this))return"-"+P(this).toString(b);for(var x=c(Math.pow(b,6)),I=this,g="";;){var R=A(I,x).g;I=w(I,R.j(x));var O=((0<I.g.length?I.g[0]:I.h)>>>0).toString(b);if(I=R,_(I))return O+g;for(;6>O.length;)O="0"+O;g=O+g}},t.i=function(b){return 0>b?0:b<this.g.length?this.g[b]:this.h};function _(b){if(b.h!=0)return!1;for(var x=0;x<b.g.length;x++)if(b.g[x]!=0)return!1;return!0}function S(b){return b.h==-1}t.l=function(b){return b=w(this,b),S(b)?-1:_(b)?0:1};function P(b){for(var x=b.g.length,I=[],g=0;g<x;g++)I[g]=~b.g[g];return new o(I,~b.h).add(f)}t.abs=function(){return S(this)?P(this):this},t.add=function(b){for(var x=Math.max(this.g.length,b.g.length),I=[],g=0,R=0;R<=x;R++){var O=g+(this.i(R)&65535)+(b.i(R)&65535),N=(O>>>16)+(this.i(R)>>>16)+(b.i(R)>>>16);g=N>>>16,O&=65535,N&=65535,I[R]=N<<16|O}return new o(I,I[I.length-1]&-2147483648?-1:0)};function w(b,x){return b.add(P(x))}t.j=function(b){if(_(this)||_(b))return h;if(S(this))return S(b)?P(this).j(P(b)):P(P(this).j(b));if(S(b))return P(this.j(P(b)));if(0>this.l(y)&&0>b.l(y))return c(this.m()*b.m());for(var x=this.g.length+b.g.length,I=[],g=0;g<2*x;g++)I[g]=0;for(g=0;g<this.g.length;g++)for(var R=0;R<b.g.length;R++){var O=this.i(g)>>>16,N=this.i(g)&65535,U=b.i(R)>>>16,W=b.i(R)&65535;I[2*g+2*R]+=N*W,C(I,2*g+2*R),I[2*g+2*R+1]+=O*W,C(I,2*g+2*R+1),I[2*g+2*R+1]+=N*U,C(I,2*g+2*R+1),I[2*g+2*R+2]+=O*U,C(I,2*g+2*R+2)}for(g=0;g<x;g++)I[g]=I[2*g+1]<<16|I[2*g];for(g=x;g<2*x;g++)I[g]=0;return new o(I,0)};function C(b,x){for(;(b[x]&65535)!=b[x];)b[x+1]+=b[x]>>>16,b[x]&=65535,x++}function E(b,x){this.g=b,this.h=x}function A(b,x){if(_(x))throw Error("division by zero");if(_(b))return new E(h,h);if(S(b))return x=A(P(b),x),new E(P(x.g),P(x.h));if(S(x))return x=A(b,P(x)),new E(P(x.g),x.h);if(30<b.g.length){if(S(b)||S(x))throw Error("slowDivide_ only works with positive integers.");for(var I=f,g=x;0>=g.l(b);)I=D(I),g=D(g);var R=M(I,1),O=M(g,1);for(g=M(g,2),I=M(I,2);!_(g);){var N=O.add(g);0>=N.l(b)&&(R=R.add(I),O=N),g=M(g,1),I=M(I,1)}return x=w(b,R.j(x)),new E(R,x)}for(R=h;0<=b.l(x);){for(I=Math.max(1,Math.floor(b.m()/x.m())),g=Math.ceil(Math.log(I)/Math.LN2),g=48>=g?1:Math.pow(2,g-48),O=c(I),N=O.j(x);S(N)||0<N.l(b);)I-=g,O=c(I),N=O.j(x);_(O)&&(O=f),R=R.add(O),b=w(b,N)}return new E(R,b)}t.A=function(b){return A(this,b).h},t.and=function(b){for(var x=Math.max(this.g.length,b.g.length),I=[],g=0;g<x;g++)I[g]=this.i(g)&b.i(g);return new o(I,this.h&b.h)},t.or=function(b){for(var x=Math.max(this.g.length,b.g.length),I=[],g=0;g<x;g++)I[g]=this.i(g)|b.i(g);return new o(I,this.h|b.h)},t.xor=function(b){for(var x=Math.max(this.g.length,b.g.length),I=[],g=0;g<x;g++)I[g]=this.i(g)^b.i(g);return new o(I,this.h^b.h)};function D(b){for(var x=b.g.length+1,I=[],g=0;g<x;g++)I[g]=b.i(g)<<1|b.i(g-1)>>>31;return new o(I,b.h)}function M(b,x){var I=x>>5;x%=32;for(var g=b.g.length-I,R=[],O=0;O<g;O++)R[O]=0<x?b.i(O+I)>>>x|b.i(O+I+1)<<32-x:b.i(O+I);return new o(R,b.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=c,o.fromString=d,uA=o}).apply(typeof OE<"u"?OE:typeof self<"u"?self:typeof window<"u"?window:{});var Bu=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(u,p,v){return u==Array.prototype||u==Object.prototype||(u[p]=v.value),u};function n(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof Bu=="object"&&Bu];for(var p=0;p<u.length;++p){var v=u[p];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var r=n(this);function i(u,p){if(p)e:{var v=r;u=u.split(".");for(var k=0;k<u.length-1;k++){var L=u[k];if(!(L in v))break e;v=v[L]}u=u[u.length-1],k=v[u],p=p(k),p!=k&&p!=null&&e(v,u,{configurable:!0,writable:!0,value:p})}}function s(u,p){u instanceof String&&(u+="");var v=0,k=!1,L={next:function(){if(!k&&v<u.length){var j=v++;return{value:p(j,u[j]),done:!1}}return k=!0,{done:!0,value:void 0}}};return L[Symbol.iterator]=function(){return L},L}i("Array.prototype.values",function(u){return u||function(){return s(this,function(p,v){return v})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},a=this||self;function l(u){var p=typeof u;return p=p!="object"?p:u?Array.isArray(u)?"array":p:"null",p=="array"||p=="object"&&typeof u.length=="number"}function c(u){var p=typeof u;return p=="object"&&u!=null||p=="function"}function d(u,p,v){return u.call.apply(u.bind,arguments)}function h(u,p,v){if(!u)throw Error();if(2<arguments.length){var k=Array.prototype.slice.call(arguments,2);return function(){var L=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(L,k),u.apply(p,L)}}return function(){return u.apply(p,arguments)}}function f(u,p,v){return f=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?d:h,f.apply(null,arguments)}function y(u,p){var v=Array.prototype.slice.call(arguments,1);return function(){var k=v.slice();return k.push.apply(k,arguments),u.apply(this,k)}}function _(u,p){function v(){}v.prototype=p.prototype,u.aa=p.prototype,u.prototype=new v,u.prototype.constructor=u,u.Qb=function(k,L,j){for(var z=Array(arguments.length-2),Ee=2;Ee<arguments.length;Ee++)z[Ee-2]=arguments[Ee];return p.prototype[L].apply(k,z)}}function S(u){const p=u.length;if(0<p){const v=Array(p);for(let k=0;k<p;k++)v[k]=u[k];return v}return[]}function P(u,p){for(let v=1;v<arguments.length;v++){const k=arguments[v];if(l(k)){const L=u.length||0,j=k.length||0;u.length=L+j;for(let z=0;z<j;z++)u[L+z]=k[z]}else u.push(k)}}class w{constructor(p,v){this.i=p,this.j=v,this.h=0,this.g=null}get(){let p;return 0<this.h?(this.h--,p=this.g,this.g=p.next,p.next=null):p=this.i(),p}}function C(u){return/^[\s\xa0]*$/.test(u)}function E(){var u=a.navigator;return u&&(u=u.userAgent)?u:""}function A(u){return A[" "](u),u}A[" "]=function(){};var D=E().indexOf("Gecko")!=-1&&!(E().toLowerCase().indexOf("webkit")!=-1&&E().indexOf("Edge")==-1)&&!(E().indexOf("Trident")!=-1||E().indexOf("MSIE")!=-1)&&E().indexOf("Edge")==-1;function M(u,p,v){for(const k in u)p.call(v,u[k],k,u)}function b(u,p){for(const v in u)p.call(void 0,u[v],v,u)}function x(u){const p={};for(const v in u)p[v]=u[v];return p}const I="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function g(u,p){let v,k;for(let L=1;L<arguments.length;L++){k=arguments[L];for(v in k)u[v]=k[v];for(let j=0;j<I.length;j++)v=I[j],Object.prototype.hasOwnProperty.call(k,v)&&(u[v]=k[v])}}function R(u){var p=1;u=u.split(":");const v=[];for(;0<p&&u.length;)v.push(u.shift()),p--;return u.length&&v.push(u.join(":")),v}function O(u){a.setTimeout(()=>{throw u},0)}function N(){var u=K;let p=null;return u.g&&(p=u.g,u.g=u.g.next,u.g||(u.h=null),p.next=null),p}class U{constructor(){this.h=this.g=null}add(p,v){const k=W.get();k.set(p,v),this.h?this.h.next=k:this.g=k,this.h=k}}var W=new w(()=>new G,u=>u.reset());class G{constructor(){this.next=this.g=this.h=null}set(p,v){this.h=p,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let q,$=!1,K=new U,X=()=>{const u=a.Promise.resolve(void 0);q=()=>{u.then(_e)}};var _e=()=>{for(var u;u=N();){try{u.h.call(u.g)}catch(v){O(v)}var p=W;p.j(u),100>p.h&&(p.h++,u.next=p.g,p.g=u)}$=!1};function ne(){this.s=this.s,this.C=this.C}ne.prototype.s=!1,ne.prototype.ma=function(){this.s||(this.s=!0,this.N())},ne.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ee(u,p){this.type=u,this.g=this.target=p,this.defaultPrevented=!1}ee.prototype.h=function(){this.defaultPrevented=!0};var J=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var u=!1,p=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const v=()=>{};a.addEventListener("test",v,p),a.removeEventListener("test",v,p)}catch{}return u}();function ue(u,p){if(ee.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u){var v=this.type=u.type,k=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;if(this.target=u.target||u.srcElement,this.g=p,p=u.relatedTarget){if(D){e:{try{A(p.nodeName);var L=!0;break e}catch{}L=!1}L||(p=null)}}else v=="mouseover"?p=u.fromElement:v=="mouseout"&&(p=u.toElement);this.relatedTarget=p,k?(this.clientX=k.clientX!==void 0?k.clientX:k.pageX,this.clientY=k.clientY!==void 0?k.clientY:k.pageY,this.screenX=k.screenX||0,this.screenY=k.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=typeof u.pointerType=="string"?u.pointerType:de[u.pointerType]||"",this.state=u.state,this.i=u,u.defaultPrevented&&ue.aa.h.call(this)}}_(ue,ee);var de={2:"touch",3:"pen",4:"mouse"};ue.prototype.h=function(){ue.aa.h.call(this);var u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var re="closure_listenable_"+(1e6*Math.random()|0),it=0;function ht(u,p,v,k,L){this.listener=u,this.proxy=null,this.src=p,this.type=v,this.capture=!!k,this.ha=L,this.key=++it,this.da=this.fa=!1}function Ve(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function ft(u){this.src=u,this.g={},this.h=0}ft.prototype.add=function(u,p,v,k,L){var j=u.toString();u=this.g[j],u||(u=this.g[j]=[],this.h++);var z=Ir(u,p,k,L);return-1<z?(p=u[z],v||(p.fa=!1)):(p=new ht(p,this.src,j,!!k,L),p.fa=v,u.push(p)),p};function te(u,p){var v=p.type;if(v in u.g){var k=u.g[v],L=Array.prototype.indexOf.call(k,p,void 0),j;(j=0<=L)&&Array.prototype.splice.call(k,L,1),j&&(Ve(p),u.g[v].length==0&&(delete u.g[v],u.h--))}}function Ir(u,p,v,k){for(var L=0;L<u.length;++L){var j=u[L];if(!j.da&&j.listener==p&&j.capture==!!v&&j.ha==k)return L}return-1}var Gs="closure_lm_"+(1e6*Math.random()|0),jn={};function Ks(u,p,v,k,L){if(k&&k.once)return Pa(u,p,v,k,L);if(Array.isArray(p)){for(var j=0;j<p.length;j++)Ks(u,p[j],v,k,L);return null}return v=tp(v),u&&u[re]?u.K(p,v,c(k)?!!k.capture:!!k,L):st(u,p,v,!1,k,L)}function st(u,p,v,k,L,j){if(!p)throw Error("Invalid event type");var z=c(L)?!!L.capture:!!L,Ee=Zf(u);if(Ee||(u[Gs]=Ee=new ft(u)),v=Ee.add(p,v,k,z,j),v.proxy)return v;if(k=li(),v.proxy=k,k.src=u,k.listener=v,u.addEventListener)J||(L=z),L===void 0&&(L=!1),u.addEventListener(p.toString(),k,L);else if(u.attachEvent)u.attachEvent(tw(p.toString()),k);else if(u.addListener&&u.removeListener)u.addListener(k);else throw Error("addEventListener and attachEvent are unavailable.");return v}function li(){function u(v){return p.call(u.src,u.listener,v)}const p=HR;return u}function Pa(u,p,v,k,L){if(Array.isArray(p)){for(var j=0;j<p.length;j++)Pa(u,p[j],v,k,L);return null}return v=tp(v),u&&u[re]?u.L(p,v,c(k)?!!k.capture:!!k,L):st(u,p,v,!0,k,L)}function qt(u,p,v,k,L){if(Array.isArray(p))for(var j=0;j<p.length;j++)qt(u,p[j],v,k,L);else k=c(k)?!!k.capture:!!k,v=tp(v),u&&u[re]?(u=u.i,p=String(p).toString(),p in u.g&&(j=u.g[p],v=Ir(j,v,k,L),-1<v&&(Ve(j[v]),Array.prototype.splice.call(j,v,1),j.length==0&&(delete u.g[p],u.h--)))):u&&(u=Zf(u))&&(p=u.g[p.toString()],u=-1,p&&(u=Ir(p,v,k,L)),(v=-1<u?p[u]:null)&&ln(v))}function ln(u){if(typeof u!="number"&&u&&!u.da){var p=u.src;if(p&&p[re])te(p.i,u);else{var v=u.type,k=u.proxy;p.removeEventListener?p.removeEventListener(v,k,u.capture):p.detachEvent?p.detachEvent(tw(v),k):p.addListener&&p.removeListener&&p.removeListener(k),(v=Zf(p))?(te(v,u),v.h==0&&(v.src=null,p[Gs]=null)):Ve(u)}}}function tw(u){return u in jn?jn[u]:jn[u]="on"+u}function HR(u,p){if(u.da)u=!0;else{p=new ue(p,this);var v=u.listener,k=u.ha||u.src;u.fa&&ln(u),u=v.call(k,p)}return u}function Zf(u){return u=u[Gs],u instanceof ft?u:null}var ep="__closure_events_fn_"+(1e9*Math.random()>>>0);function tp(u){return typeof u=="function"?u:(u[ep]||(u[ep]=function(p){return u.handleEvent(p)}),u[ep])}function Et(){ne.call(this),this.i=new ft(this),this.M=this,this.F=null}_(Et,ne),Et.prototype[re]=!0,Et.prototype.removeEventListener=function(u,p,v,k){qt(this,u,p,v,k)};function Mt(u,p){var v,k=u.F;if(k)for(v=[];k;k=k.F)v.push(k);if(u=u.M,k=p.type||p,typeof p=="string")p=new ee(p,u);else if(p instanceof ee)p.target=p.target||u;else{var L=p;p=new ee(k,u),g(p,L)}if(L=!0,v)for(var j=v.length-1;0<=j;j--){var z=p.g=v[j];L=ou(z,k,!0,p)&&L}if(z=p.g=u,L=ou(z,k,!0,p)&&L,L=ou(z,k,!1,p)&&L,v)for(j=0;j<v.length;j++)z=p.g=v[j],L=ou(z,k,!1,p)&&L}Et.prototype.N=function(){if(Et.aa.N.call(this),this.i){var u=this.i,p;for(p in u.g){for(var v=u.g[p],k=0;k<v.length;k++)Ve(v[k]);delete u.g[p],u.h--}}this.F=null},Et.prototype.K=function(u,p,v,k){return this.i.add(String(u),p,!1,v,k)},Et.prototype.L=function(u,p,v,k){return this.i.add(String(u),p,!0,v,k)};function ou(u,p,v,k){if(p=u.i.g[String(p)],!p)return!0;p=p.concat();for(var L=!0,j=0;j<p.length;++j){var z=p[j];if(z&&!z.da&&z.capture==v){var Ee=z.listener,pt=z.ha||z.src;z.fa&&te(u.i,z),L=Ee.call(pt,k)!==!1&&L}}return L&&!k.defaultPrevented}function nw(u,p,v){if(typeof u=="function")v&&(u=f(u,v));else if(u&&typeof u.handleEvent=="function")u=f(u.handleEvent,u);else throw Error("Invalid listener argument");return 2147483647<Number(p)?-1:a.setTimeout(u,p||0)}function rw(u){u.g=nw(()=>{u.g=null,u.i&&(u.i=!1,rw(u))},u.l);const p=u.h;u.h=null,u.m.apply(null,p)}class qR extends ne{constructor(p,v){super(),this.m=p,this.l=v,this.h=null,this.i=!1,this.g=null}j(p){this.h=arguments,this.g?this.i=!0:rw(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Aa(u){ne.call(this),this.h=u,this.g={}}_(Aa,ne);var iw=[];function sw(u){M(u.g,function(p,v){this.g.hasOwnProperty(v)&&ln(p)},u),u.g={}}Aa.prototype.N=function(){Aa.aa.N.call(this),sw(this)},Aa.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var np=a.JSON.stringify,GR=a.JSON.parse,KR=class{stringify(u){return a.JSON.stringify(u,void 0)}parse(u){return a.JSON.parse(u,void 0)}};function rp(){}rp.prototype.h=null;function ow(u){return u.h||(u.h=u.i())}function YR(){}var Ra={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function ip(){ee.call(this,"d")}_(ip,ee);function sp(){ee.call(this,"c")}_(sp,ee);var Ys={},aw=null;function op(){return aw=aw||new Et}Ys.La="serverreachability";function lw(u){ee.call(this,Ys.La,u)}_(lw,ee);function Na(u){const p=op();Mt(p,new lw(p))}Ys.STAT_EVENT="statevent";function cw(u,p){ee.call(this,Ys.STAT_EVENT,u),this.stat=p}_(cw,ee);function Lt(u){const p=op();Mt(p,new cw(p,u))}Ys.Ma="timingevent";function uw(u,p){ee.call(this,Ys.Ma,u),this.size=p}_(uw,ee);function Da(u,p){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){u()},p)}function Oa(){this.g=!0}Oa.prototype.xa=function(){this.g=!1};function XR(u,p,v,k,L,j){u.info(function(){if(u.g)if(j)for(var z="",Ee=j.split("&"),pt=0;pt<Ee.length;pt++){var pe=Ee[pt].split("=");if(1<pe.length){var Ct=pe[0];pe=pe[1];var St=Ct.split("_");z=2<=St.length&&St[1]=="type"?z+(Ct+"="+pe+"&"):z+(Ct+"=redacted&")}}else z=null;else z=j;return"XMLHTTP REQ ("+k+") [attempt "+L+"]: "+p+`
`+v+`
`+z})}function JR(u,p,v,k,L,j,z){u.info(function(){return"XMLHTTP RESP ("+k+") [ attempt "+L+"]: "+p+`
`+v+`
`+j+" "+z})}function Xs(u,p,v,k){u.info(function(){return"XMLHTTP TEXT ("+p+"): "+ZR(u,v)+(k?" "+k:"")})}function QR(u,p){u.info(function(){return"TIMEOUT: "+p})}Oa.prototype.info=function(){};function ZR(u,p){if(!u.g)return p;if(!p)return null;try{var v=JSON.parse(p);if(v){for(u=0;u<v.length;u++)if(Array.isArray(v[u])){var k=v[u];if(!(2>k.length)){var L=k[1];if(Array.isArray(L)&&!(1>L.length)){var j=L[0];if(j!="noop"&&j!="stop"&&j!="close")for(var z=1;z<L.length;z++)L[z]=""}}}}return np(v)}catch{return p}}var ap={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},eN={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},lp;function au(){}_(au,rp),au.prototype.g=function(){return new XMLHttpRequest},au.prototype.i=function(){return{}},lp=new au;function ci(u,p,v,k){this.j=u,this.i=p,this.l=v,this.R=k||1,this.U=new Aa(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new dw}function dw(){this.i=null,this.g="",this.h=!1}var hw={},cp={};function up(u,p,v){u.L=1,u.v=du(Pr(p)),u.m=v,u.P=!0,fw(u,null)}function fw(u,p){u.F=Date.now(),lu(u),u.A=Pr(u.v);var v=u.A,k=u.R;Array.isArray(k)||(k=[String(k)]),kw(v.i,"t",k),u.C=0,v=u.j.J,u.h=new dw,u.g=Hw(u.j,v?p:null,!u.m),0<u.O&&(u.M=new qR(f(u.Y,u,u.g),u.O)),p=u.U,v=u.g,k=u.ca;var L="readystatechange";Array.isArray(L)||(L&&(iw[0]=L.toString()),L=iw);for(var j=0;j<L.length;j++){var z=Ks(v,L[j],k||p.handleEvent,!1,p.h||p);if(!z)break;p.g[z.key]=z}p=u.H?x(u.H):{},u.m?(u.u||(u.u="POST"),p["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.A,u.u,u.m,p)):(u.u="GET",u.g.ea(u.A,u.u,null,p)),Na(),XR(u.i,u.u,u.A,u.l,u.R,u.m)}ci.prototype.ca=function(u){u=u.target;const p=this.M;p&&Ar(u)==3?p.j():this.Y(u)},ci.prototype.Y=function(u){try{if(u==this.g)e:{const St=Ar(this.g);var p=this.g.Ba();const Zs=this.g.Z();if(!(3>St)&&(St!=3||this.g&&(this.h.h||this.g.oa()||Ow(this.g)))){this.J||St!=4||p==7||(p==8||0>=Zs?Na(3):Na(2)),dp(this);var v=this.g.Z();this.X=v;t:if(pw(this)){var k=Ow(this.g);u="";var L=k.length,j=Ar(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Zi(this),Ma(this);var z="";break t}this.h.i=new a.TextDecoder}for(p=0;p<L;p++)this.h.h=!0,u+=this.h.i.decode(k[p],{stream:!(j&&p==L-1)});k.length=0,this.h.g+=u,this.C=0,z=this.h.g}else z=this.g.oa();if(this.o=v==200,JR(this.i,this.u,this.A,this.l,this.R,St,v),this.o){if(this.T&&!this.K){t:{if(this.g){var Ee,pt=this.g;if((Ee=pt.g?pt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!C(Ee)){var pe=Ee;break t}}pe=null}if(v=pe)Xs(this.i,this.l,v,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,hp(this,v);else{this.o=!1,this.s=3,Lt(12),Zi(this),Ma(this);break e}}if(this.P){v=!0;let Fn;for(;!this.J&&this.C<z.length;)if(Fn=tN(this,z),Fn==cp){St==4&&(this.s=4,Lt(14),v=!1),Xs(this.i,this.l,null,"[Incomplete Response]");break}else if(Fn==hw){this.s=4,Lt(15),Xs(this.i,this.l,z,"[Invalid Chunk]"),v=!1;break}else Xs(this.i,this.l,Fn,null),hp(this,Fn);if(pw(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),St!=4||z.length!=0||this.h.h||(this.s=1,Lt(16),v=!1),this.o=this.o&&v,!v)Xs(this.i,this.l,z,"[Invalid Chunked Response]"),Zi(this),Ma(this);else if(0<z.length&&!this.W){this.W=!0;var Ct=this.j;Ct.g==this&&Ct.ba&&!Ct.M&&(Ct.j.info("Great, no buffering proxy detected. Bytes received: "+z.length),vp(Ct),Ct.M=!0,Lt(11))}}else Xs(this.i,this.l,z,null),hp(this,z);St==4&&Zi(this),this.o&&!this.J&&(St==4?Vw(this.j,this):(this.o=!1,lu(this)))}else vN(this.g),v==400&&0<z.indexOf("Unknown SID")?(this.s=3,Lt(12)):(this.s=0,Lt(13)),Zi(this),Ma(this)}}}catch{}finally{}};function pw(u){return u.g?u.u=="GET"&&u.L!=2&&u.j.Ca:!1}function tN(u,p){var v=u.C,k=p.indexOf(`
`,v);return k==-1?cp:(v=Number(p.substring(v,k)),isNaN(v)?hw:(k+=1,k+v>p.length?cp:(p=p.slice(k,k+v),u.C=k+v,p)))}ci.prototype.cancel=function(){this.J=!0,Zi(this)};function lu(u){u.S=Date.now()+u.I,mw(u,u.I)}function mw(u,p){if(u.B!=null)throw Error("WatchDog timer not null");u.B=Da(f(u.ba,u),p)}function dp(u){u.B&&(a.clearTimeout(u.B),u.B=null)}ci.prototype.ba=function(){this.B=null;const u=Date.now();0<=u-this.S?(QR(this.i,this.A),this.L!=2&&(Na(),Lt(17)),Zi(this),this.s=2,Ma(this)):mw(this,this.S-u)};function Ma(u){u.j.G==0||u.J||Vw(u.j,u)}function Zi(u){dp(u);var p=u.M;p&&typeof p.ma=="function"&&p.ma(),u.M=null,sw(u.U),u.g&&(p=u.g,u.g=null,p.abort(),p.ma())}function hp(u,p){try{var v=u.j;if(v.G!=0&&(v.g==u||fp(v.h,u))){if(!u.K&&fp(v.h,u)&&v.G==3){try{var k=v.Da.g.parse(p)}catch{k=null}if(Array.isArray(k)&&k.length==3){var L=k;if(L[0]==0){e:if(!v.u){if(v.g)if(v.g.F+3e3<u.F)yu(v),mu(v);else break e;yp(v),Lt(18)}}else v.za=L[1],0<v.za-v.T&&37500>L[2]&&v.F&&v.v==0&&!v.C&&(v.C=Da(f(v.Za,v),6e3));if(1>=vw(v.h)&&v.ca){try{v.ca()}catch{}v.ca=void 0}}else ts(v,11)}else if((u.K||v.g==u)&&yu(v),!C(p))for(L=v.Da.g.parse(p),p=0;p<L.length;p++){let pe=L[p];if(v.T=pe[0],pe=pe[1],v.G==2)if(pe[0]=="c"){v.K=pe[1],v.ia=pe[2];const Ct=pe[3];Ct!=null&&(v.la=Ct,v.j.info("VER="+v.la));const St=pe[4];St!=null&&(v.Aa=St,v.j.info("SVER="+v.Aa));const Zs=pe[5];Zs!=null&&typeof Zs=="number"&&0<Zs&&(k=1.5*Zs,v.L=k,v.j.info("backChannelRequestTimeoutMs_="+k)),k=v;const Fn=u.g;if(Fn){const vu=Fn.g?Fn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(vu){var j=k.h;j.g||vu.indexOf("spdy")==-1&&vu.indexOf("quic")==-1&&vu.indexOf("h2")==-1||(j.j=j.l,j.g=new Set,j.h&&(pp(j,j.h),j.h=null))}if(k.D){const _p=Fn.g?Fn.g.getResponseHeader("X-HTTP-Session-Id"):null;_p&&(k.ya=_p,Pe(k.I,k.D,_p))}}v.G=3,v.l&&v.l.ua(),v.ba&&(v.R=Date.now()-u.F,v.j.info("Handshake RTT: "+v.R+"ms")),k=v;var z=u;if(k.qa=Ww(k,k.J?k.ia:null,k.W),z.K){_w(k.h,z);var Ee=z,pt=k.L;pt&&(Ee.I=pt),Ee.B&&(dp(Ee),lu(Ee)),k.g=z}else $w(k);0<v.i.length&&gu(v)}else pe[0]!="stop"&&pe[0]!="close"||ts(v,7);else v.G==3&&(pe[0]=="stop"||pe[0]=="close"?pe[0]=="stop"?ts(v,7):gp(v):pe[0]!="noop"&&v.l&&v.l.ta(pe),v.v=0)}}Na(4)}catch{}}var nN=class{constructor(u,p){this.g=u,this.map=p}};function gw(u){this.l=u||10,a.PerformanceNavigationTiming?(u=a.performance.getEntriesByType("navigation"),u=0<u.length&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function yw(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function vw(u){return u.h?1:u.g?u.g.size:0}function fp(u,p){return u.h?u.h==p:u.g?u.g.has(p):!1}function pp(u,p){u.g?u.g.add(p):u.h=p}function _w(u,p){u.h&&u.h==p?u.h=null:u.g&&u.g.has(p)&&u.g.delete(p)}gw.prototype.cancel=function(){if(this.i=ww(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function ww(u){if(u.h!=null)return u.i.concat(u.h.D);if(u.g!=null&&u.g.size!==0){let p=u.i;for(const v of u.g.values())p=p.concat(v.D);return p}return S(u.i)}function rN(u){if(u.V&&typeof u.V=="function")return u.V();if(typeof Map<"u"&&u instanceof Map||typeof Set<"u"&&u instanceof Set)return Array.from(u.values());if(typeof u=="string")return u.split("");if(l(u)){for(var p=[],v=u.length,k=0;k<v;k++)p.push(u[k]);return p}p=[],v=0;for(k in u)p[v++]=u[k];return p}function iN(u){if(u.na&&typeof u.na=="function")return u.na();if(!u.V||typeof u.V!="function"){if(typeof Map<"u"&&u instanceof Map)return Array.from(u.keys());if(!(typeof Set<"u"&&u instanceof Set)){if(l(u)||typeof u=="string"){var p=[];u=u.length;for(var v=0;v<u;v++)p.push(v);return p}p=[],v=0;for(const k in u)p[v++]=k;return p}}}function xw(u,p){if(u.forEach&&typeof u.forEach=="function")u.forEach(p,void 0);else if(l(u)||typeof u=="string")Array.prototype.forEach.call(u,p,void 0);else for(var v=iN(u),k=rN(u),L=k.length,j=0;j<L;j++)p.call(void 0,k[j],v&&v[j],u)}var Ew=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function sN(u,p){if(u){u=u.split("&");for(var v=0;v<u.length;v++){var k=u[v].indexOf("="),L=null;if(0<=k){var j=u[v].substring(0,k);L=u[v].substring(k+1)}else j=u[v];p(j,L?decodeURIComponent(L.replace(/\+/g," ")):"")}}}function es(u){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,u instanceof es){this.h=u.h,cu(this,u.j),this.o=u.o,this.g=u.g,uu(this,u.s),this.l=u.l;var p=u.i,v=new Fa;v.i=p.i,p.g&&(v.g=new Map(p.g),v.h=p.h),Cw(this,v),this.m=u.m}else u&&(p=String(u).match(Ew))?(this.h=!1,cu(this,p[1]||"",!0),this.o=La(p[2]||""),this.g=La(p[3]||"",!0),uu(this,p[4]),this.l=La(p[5]||"",!0),Cw(this,p[6]||"",!0),this.m=La(p[7]||"")):(this.h=!1,this.i=new Fa(null,this.h))}es.prototype.toString=function(){var u=[],p=this.j;p&&u.push(ja(p,Sw,!0),":");var v=this.g;return(v||p=="file")&&(u.push("//"),(p=this.o)&&u.push(ja(p,Sw,!0),"@"),u.push(encodeURIComponent(String(v)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.s,v!=null&&u.push(":",String(v))),(v=this.l)&&(this.g&&v.charAt(0)!="/"&&u.push("/"),u.push(ja(v,v.charAt(0)=="/"?lN:aN,!0))),(v=this.i.toString())&&u.push("?",v),(v=this.m)&&u.push("#",ja(v,uN)),u.join("")};function Pr(u){return new es(u)}function cu(u,p,v){u.j=v?La(p,!0):p,u.j&&(u.j=u.j.replace(/:$/,""))}function uu(u,p){if(p){if(p=Number(p),isNaN(p)||0>p)throw Error("Bad port number "+p);u.s=p}else u.s=null}function Cw(u,p,v){p instanceof Fa?(u.i=p,dN(u.i,u.h)):(v||(p=ja(p,cN)),u.i=new Fa(p,u.h))}function Pe(u,p,v){u.i.set(p,v)}function du(u){return Pe(u,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),u}function La(u,p){return u?p?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function ja(u,p,v){return typeof u=="string"?(u=encodeURI(u).replace(p,oN),v&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function oN(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var Sw=/[#\/\?@]/g,aN=/[#\?:]/g,lN=/[#\?]/g,cN=/[#\?@]/g,uN=/#/g;function Fa(u,p){this.h=this.g=null,this.i=u||null,this.j=!!p}function ui(u){u.g||(u.g=new Map,u.h=0,u.i&&sN(u.i,function(p,v){u.add(decodeURIComponent(p.replace(/\+/g," ")),v)}))}t=Fa.prototype,t.add=function(u,p){ui(this),this.i=null,u=Js(this,u);var v=this.g.get(u);return v||this.g.set(u,v=[]),v.push(p),this.h+=1,this};function bw(u,p){ui(u),p=Js(u,p),u.g.has(p)&&(u.i=null,u.h-=u.g.get(p).length,u.g.delete(p))}function Tw(u,p){return ui(u),p=Js(u,p),u.g.has(p)}t.forEach=function(u,p){ui(this),this.g.forEach(function(v,k){v.forEach(function(L){u.call(p,L,k,this)},this)},this)},t.na=function(){ui(this);const u=Array.from(this.g.values()),p=Array.from(this.g.keys()),v=[];for(let k=0;k<p.length;k++){const L=u[k];for(let j=0;j<L.length;j++)v.push(p[k])}return v},t.V=function(u){ui(this);let p=[];if(typeof u=="string")Tw(this,u)&&(p=p.concat(this.g.get(Js(this,u))));else{u=Array.from(this.g.values());for(let v=0;v<u.length;v++)p=p.concat(u[v])}return p},t.set=function(u,p){return ui(this),this.i=null,u=Js(this,u),Tw(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[p]),this.h+=1,this},t.get=function(u,p){return u?(u=this.V(u),0<u.length?String(u[0]):p):p};function kw(u,p,v){bw(u,p),0<v.length&&(u.i=null,u.g.set(Js(u,p),S(v)),u.h+=v.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],p=Array.from(this.g.keys());for(var v=0;v<p.length;v++){var k=p[v];const j=encodeURIComponent(String(k)),z=this.V(k);for(k=0;k<z.length;k++){var L=j;z[k]!==""&&(L+="="+encodeURIComponent(String(z[k]))),u.push(L)}}return this.i=u.join("&")};function Js(u,p){return p=String(p),u.j&&(p=p.toLowerCase()),p}function dN(u,p){p&&!u.j&&(ui(u),u.i=null,u.g.forEach(function(v,k){var L=k.toLowerCase();k!=L&&(bw(this,k),kw(this,L,v))},u)),u.j=p}function hN(u,p){const v=new Oa;if(a.Image){const k=new Image;k.onload=y(di,v,"TestLoadImage: loaded",!0,p,k),k.onerror=y(di,v,"TestLoadImage: error",!1,p,k),k.onabort=y(di,v,"TestLoadImage: abort",!1,p,k),k.ontimeout=y(di,v,"TestLoadImage: timeout",!1,p,k),a.setTimeout(function(){k.ontimeout&&k.ontimeout()},1e4),k.src=u}else p(!1)}function fN(u,p){const v=new Oa,k=new AbortController,L=setTimeout(()=>{k.abort(),di(v,"TestPingServer: timeout",!1,p)},1e4);fetch(u,{signal:k.signal}).then(j=>{clearTimeout(L),j.ok?di(v,"TestPingServer: ok",!0,p):di(v,"TestPingServer: server error",!1,p)}).catch(()=>{clearTimeout(L),di(v,"TestPingServer: error",!1,p)})}function di(u,p,v,k,L){try{L&&(L.onload=null,L.onerror=null,L.onabort=null,L.ontimeout=null),k(v)}catch{}}function pN(){this.g=new KR}function mN(u,p,v){const k=v||"";try{xw(u,function(L,j){let z=L;c(L)&&(z=np(L)),p.push(k+j+"="+encodeURIComponent(z))})}catch(L){throw p.push(k+"type="+encodeURIComponent("_badmap")),L}}function hu(u){this.l=u.Ub||null,this.j=u.eb||!1}_(hu,rp),hu.prototype.g=function(){return new fu(this.l,this.j)},hu.prototype.i=function(u){return function(){return u}}({});function fu(u,p){Et.call(this),this.D=u,this.o=p,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}_(fu,Et),t=fu.prototype,t.open=function(u,p){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=u,this.A=p,this.readyState=1,Ua(this)},t.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const p={headers:this.u,method:this.B,credentials:this.m,cache:void 0};u&&(p.body=u),(this.D||a).fetch(new Request(this.A,p)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,$a(this)),this.readyState=0},t.Sa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,Ua(this)),this.g&&(this.readyState=3,Ua(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Iw(this)}else u.text().then(this.Ra.bind(this),this.ga.bind(this))};function Iw(u){u.j.read().then(u.Pa.bind(u)).catch(u.ga.bind(u))}t.Pa=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var p=u.value?u.value:new Uint8Array(0);(p=this.v.decode(p,{stream:!u.done}))&&(this.response=this.responseText+=p)}u.done?$a(this):Ua(this),this.readyState==3&&Iw(this)}},t.Ra=function(u){this.g&&(this.response=this.responseText=u,$a(this))},t.Qa=function(u){this.g&&(this.response=u,$a(this))},t.ga=function(){this.g&&$a(this)};function $a(u){u.readyState=4,u.l=null,u.j=null,u.v=null,Ua(u)}t.setRequestHeader=function(u,p){this.u.append(u,p)},t.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],p=this.h.entries();for(var v=p.next();!v.done;)v=v.value,u.push(v[0]+": "+v[1]),v=p.next();return u.join(`\r
`)};function Ua(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(fu.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function Pw(u){let p="";return M(u,function(v,k){p+=k,p+=":",p+=v,p+=`\r
`}),p}function mp(u,p,v){e:{for(k in v){var k=!1;break e}k=!0}k||(v=Pw(v),typeof u=="string"?v!=null&&encodeURIComponent(String(v)):Pe(u,p,v))}function Ke(u){Et.call(this),this.headers=new Map,this.o=u||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}_(Ke,Et);var gN=/^https?$/i,yN=["POST","PUT"];t=Ke.prototype,t.Ha=function(u){this.J=u},t.ea=function(u,p,v,k){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);p=p?p.toUpperCase():"GET",this.D=u,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():lp.g(),this.v=this.o?ow(this.o):ow(lp),this.g.onreadystatechange=f(this.Ea,this);try{this.B=!0,this.g.open(p,String(u),!0),this.B=!1}catch(j){Aw(this,j);return}if(u=v||"",v=new Map(this.headers),k)if(Object.getPrototypeOf(k)===Object.prototype)for(var L in k)v.set(L,k[L]);else if(typeof k.keys=="function"&&typeof k.get=="function")for(const j of k.keys())v.set(j,k.get(j));else throw Error("Unknown input type for opt_headers: "+String(k));k=Array.from(v.keys()).find(j=>j.toLowerCase()=="content-type"),L=a.FormData&&u instanceof a.FormData,!(0<=Array.prototype.indexOf.call(yN,p,void 0))||k||L||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[j,z]of v)this.g.setRequestHeader(j,z);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Dw(this),this.u=!0,this.g.send(u),this.u=!1}catch(j){Aw(this,j)}};function Aw(u,p){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=p,u.m=5,Rw(u),pu(u)}function Rw(u){u.A||(u.A=!0,Mt(u,"complete"),Mt(u,"error"))}t.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=u||7,Mt(this,"complete"),Mt(this,"abort"),pu(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),pu(this,!0)),Ke.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?Nw(this):this.bb())},t.bb=function(){Nw(this)};function Nw(u){if(u.h&&typeof o<"u"&&(!u.v[1]||Ar(u)!=4||u.Z()!=2)){if(u.u&&Ar(u)==4)nw(u.Ea,0,u);else if(Mt(u,"readystatechange"),Ar(u)==4){u.h=!1;try{const z=u.Z();e:switch(z){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var p=!0;break e;default:p=!1}var v;if(!(v=p)){var k;if(k=z===0){var L=String(u.D).match(Ew)[1]||null;!L&&a.self&&a.self.location&&(L=a.self.location.protocol.slice(0,-1)),k=!gN.test(L?L.toLowerCase():"")}v=k}if(v)Mt(u,"complete"),Mt(u,"success");else{u.m=6;try{var j=2<Ar(u)?u.g.statusText:""}catch{j=""}u.l=j+" ["+u.Z()+"]",Rw(u)}}finally{pu(u)}}}}function pu(u,p){if(u.g){Dw(u);const v=u.g,k=u.v[0]?()=>{}:null;u.g=null,u.v=null,p||Mt(u,"ready");try{v.onreadystatechange=k}catch{}}}function Dw(u){u.I&&(a.clearTimeout(u.I),u.I=null)}t.isActive=function(){return!!this.g};function Ar(u){return u.g?u.g.readyState:0}t.Z=function(){try{return 2<Ar(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(u){if(this.g){var p=this.g.responseText;return u&&p.indexOf(u)==0&&(p=p.substring(u.length)),GR(p)}};function Ow(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.H){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function vN(u){const p={};u=(u.g&&2<=Ar(u)&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let k=0;k<u.length;k++){if(C(u[k]))continue;var v=R(u[k]);const L=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const j=p[L]||[];p[L]=j,j.push(v)}b(p,function(k){return k.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Va(u,p,v){return v&&v.internalChannelParams&&v.internalChannelParams[u]||p}function Mw(u){this.Aa=0,this.i=[],this.j=new Oa,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Va("failFast",!1,u),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Va("baseRetryDelayMs",5e3,u),this.cb=Va("retryDelaySeedMs",1e4,u),this.Wa=Va("forwardChannelMaxRetries",2,u),this.wa=Va("forwardChannelRequestTimeoutMs",2e4,u),this.pa=u&&u.xmlHttpFactory||void 0,this.Xa=u&&u.Tb||void 0,this.Ca=u&&u.useFetchStreams||!1,this.L=void 0,this.J=u&&u.supportsCrossDomainXhr||!1,this.K="",this.h=new gw(u&&u.concurrentRequestLimit),this.Da=new pN,this.P=u&&u.fastHandshake||!1,this.O=u&&u.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=u&&u.Rb||!1,u&&u.xa&&this.j.xa(),u&&u.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&u&&u.detectBufferingProxy||!1,this.ja=void 0,u&&u.longPollingTimeout&&0<u.longPollingTimeout&&(this.ja=u.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=Mw.prototype,t.la=8,t.G=1,t.connect=function(u,p,v,k){Lt(0),this.W=u,this.H=p||{},v&&k!==void 0&&(this.H.OSID=v,this.H.OAID=k),this.F=this.X,this.I=Ww(this,null,this.W),gu(this)};function gp(u){if(Lw(u),u.G==3){var p=u.U++,v=Pr(u.I);if(Pe(v,"SID",u.K),Pe(v,"RID",p),Pe(v,"TYPE","terminate"),Ba(u,v),p=new ci(u,u.j,p),p.L=2,p.v=du(Pr(v)),v=!1,a.navigator&&a.navigator.sendBeacon)try{v=a.navigator.sendBeacon(p.v.toString(),"")}catch{}!v&&a.Image&&(new Image().src=p.v,v=!0),v||(p.g=Hw(p.j,null),p.g.ea(p.v)),p.F=Date.now(),lu(p)}zw(u)}function mu(u){u.g&&(vp(u),u.g.cancel(),u.g=null)}function Lw(u){mu(u),u.u&&(a.clearTimeout(u.u),u.u=null),yu(u),u.h.cancel(),u.s&&(typeof u.s=="number"&&a.clearTimeout(u.s),u.s=null)}function gu(u){if(!yw(u.h)&&!u.s){u.s=!0;var p=u.Ga;q||X(),$||(q(),$=!0),K.add(p,u),u.B=0}}function _N(u,p){return vw(u.h)>=u.h.j-(u.s?1:0)?!1:u.s?(u.i=p.D.concat(u.i),!0):u.G==1||u.G==2||u.B>=(u.Va?0:u.Wa)?!1:(u.s=Da(f(u.Ga,u,p),Bw(u,u.B)),u.B++,!0)}t.Ga=function(u){if(this.s)if(this.s=null,this.G==1){if(!u){this.U=Math.floor(1e5*Math.random()),u=this.U++;const L=new ci(this,this.j,u);let j=this.o;if(this.S&&(j?(j=x(j),g(j,this.S)):j=this.S),this.m!==null||this.O||(L.H=j,j=null),this.P)e:{for(var p=0,v=0;v<this.i.length;v++){t:{var k=this.i[v];if("__data__"in k.map&&(k=k.map.__data__,typeof k=="string")){k=k.length;break t}k=void 0}if(k===void 0)break;if(p+=k,4096<p){p=v;break e}if(p===4096||v===this.i.length-1){p=v+1;break e}}p=1e3}else p=1e3;p=Fw(this,L,p),v=Pr(this.I),Pe(v,"RID",u),Pe(v,"CVER",22),this.D&&Pe(v,"X-HTTP-Session-Id",this.D),Ba(this,v),j&&(this.O?p="headers="+encodeURIComponent(String(Pw(j)))+"&"+p:this.m&&mp(v,this.m,j)),pp(this.h,L),this.Ua&&Pe(v,"TYPE","init"),this.P?(Pe(v,"$req",p),Pe(v,"SID","null"),L.T=!0,up(L,v,null)):up(L,v,p),this.G=2}}else this.G==3&&(u?jw(this,u):this.i.length==0||yw(this.h)||jw(this))};function jw(u,p){var v;p?v=p.l:v=u.U++;const k=Pr(u.I);Pe(k,"SID",u.K),Pe(k,"RID",v),Pe(k,"AID",u.T),Ba(u,k),u.m&&u.o&&mp(k,u.m,u.o),v=new ci(u,u.j,v,u.B+1),u.m===null&&(v.H=u.o),p&&(u.i=p.D.concat(u.i)),p=Fw(u,v,1e3),v.I=Math.round(.5*u.wa)+Math.round(.5*u.wa*Math.random()),pp(u.h,v),up(v,k,p)}function Ba(u,p){u.H&&M(u.H,function(v,k){Pe(p,k,v)}),u.l&&xw({},function(v,k){Pe(p,k,v)})}function Fw(u,p,v){v=Math.min(u.i.length,v);var k=u.l?f(u.l.Na,u.l,u):null;e:{var L=u.i;let j=-1;for(;;){const z=["count="+v];j==-1?0<v?(j=L[0].g,z.push("ofs="+j)):j=0:z.push("ofs="+j);let Ee=!0;for(let pt=0;pt<v;pt++){let pe=L[pt].g;const Ct=L[pt].map;if(pe-=j,0>pe)j=Math.max(0,L[pt].g-100),Ee=!1;else try{mN(Ct,z,"req"+pe+"_")}catch{k&&k(Ct)}}if(Ee){k=z.join("&");break e}}}return u=u.i.splice(0,v),p.D=u,k}function $w(u){if(!u.g&&!u.u){u.Y=1;var p=u.Fa;q||X(),$||(q(),$=!0),K.add(p,u),u.v=0}}function yp(u){return u.g||u.u||3<=u.v?!1:(u.Y++,u.u=Da(f(u.Fa,u),Bw(u,u.v)),u.v++,!0)}t.Fa=function(){if(this.u=null,Uw(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var u=2*this.R;this.j.info("BP detection timer enabled: "+u),this.A=Da(f(this.ab,this),u)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Lt(10),mu(this),Uw(this))};function vp(u){u.A!=null&&(a.clearTimeout(u.A),u.A=null)}function Uw(u){u.g=new ci(u,u.j,"rpc",u.Y),u.m===null&&(u.g.H=u.o),u.g.O=0;var p=Pr(u.qa);Pe(p,"RID","rpc"),Pe(p,"SID",u.K),Pe(p,"AID",u.T),Pe(p,"CI",u.F?"0":"1"),!u.F&&u.ja&&Pe(p,"TO",u.ja),Pe(p,"TYPE","xmlhttp"),Ba(u,p),u.m&&u.o&&mp(p,u.m,u.o),u.L&&(u.g.I=u.L);var v=u.g;u=u.ia,v.L=1,v.v=du(Pr(p)),v.m=null,v.P=!0,fw(v,u)}t.Za=function(){this.C!=null&&(this.C=null,mu(this),yp(this),Lt(19))};function yu(u){u.C!=null&&(a.clearTimeout(u.C),u.C=null)}function Vw(u,p){var v=null;if(u.g==p){yu(u),vp(u),u.g=null;var k=2}else if(fp(u.h,p))v=p.D,_w(u.h,p),k=1;else return;if(u.G!=0){if(p.o)if(k==1){v=p.m?p.m.length:0,p=Date.now()-p.F;var L=u.B;k=op(),Mt(k,new uw(k,v)),gu(u)}else $w(u);else if(L=p.s,L==3||L==0&&0<p.X||!(k==1&&_N(u,p)||k==2&&yp(u)))switch(v&&0<v.length&&(p=u.h,p.i=p.i.concat(v)),L){case 1:ts(u,5);break;case 4:ts(u,10);break;case 3:ts(u,6);break;default:ts(u,2)}}}function Bw(u,p){let v=u.Ta+Math.floor(Math.random()*u.cb);return u.isActive()||(v*=2),v*p}function ts(u,p){if(u.j.info("Error code "+p),p==2){var v=f(u.fb,u),k=u.Xa;const L=!k;k=new es(k||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||cu(k,"https"),du(k),L?hN(k.toString(),v):fN(k.toString(),v)}else Lt(2);u.G=0,u.l&&u.l.sa(p),zw(u),Lw(u)}t.fb=function(u){u?(this.j.info("Successfully pinged google.com"),Lt(2)):(this.j.info("Failed to ping google.com"),Lt(1))};function zw(u){if(u.G=0,u.ka=[],u.l){const p=ww(u.h);(p.length!=0||u.i.length!=0)&&(P(u.ka,p),P(u.ka,u.i),u.h.i.length=0,S(u.i),u.i.length=0),u.l.ra()}}function Ww(u,p,v){var k=v instanceof es?Pr(v):new es(v);if(k.g!="")p&&(k.g=p+"."+k.g),uu(k,k.s);else{var L=a.location;k=L.protocol,p=p?p+"."+L.hostname:L.hostname,L=+L.port;var j=new es(null);k&&cu(j,k),p&&(j.g=p),L&&uu(j,L),v&&(j.l=v),k=j}return v=u.D,p=u.ya,v&&p&&Pe(k,v,p),Pe(k,"VER",u.la),Ba(u,k),k}function Hw(u,p,v){if(p&&!u.J)throw Error("Can't create secondary domain capable XhrIo object.");return p=u.Ca&&!u.pa?new Ke(new hu({eb:v})):new Ke(u.pa),p.Ha(u.J),p}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function qw(){}t=qw.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function _n(u,p){Et.call(this),this.g=new Mw(p),this.l=u,this.h=p&&p.messageUrlParams||null,u=p&&p.messageHeaders||null,p&&p.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=p&&p.initMessageHeaders||null,p&&p.messageContentType&&(u?u["X-WebChannel-Content-Type"]=p.messageContentType:u={"X-WebChannel-Content-Type":p.messageContentType}),p&&p.va&&(u?u["X-WebChannel-Client-Profile"]=p.va:u={"X-WebChannel-Client-Profile":p.va}),this.g.S=u,(u=p&&p.Sb)&&!C(u)&&(this.g.m=u),this.v=p&&p.supportsCrossDomainXhr||!1,this.u=p&&p.sendRawJson||!1,(p=p&&p.httpSessionIdParam)&&!C(p)&&(this.g.D=p,u=this.h,u!==null&&p in u&&(u=this.h,p in u&&delete u[p])),this.j=new Qs(this)}_(_n,Et),_n.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},_n.prototype.close=function(){gp(this.g)},_n.prototype.o=function(u){var p=this.g;if(typeof u=="string"){var v={};v.__data__=u,u=v}else this.u&&(v={},v.__data__=np(u),u=v);p.i.push(new nN(p.Ya++,u)),p.G==3&&gu(p)},_n.prototype.N=function(){this.g.l=null,delete this.j,gp(this.g),delete this.g,_n.aa.N.call(this)};function Gw(u){ip.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var p=u.__sm__;if(p){e:{for(const v in p){u=v;break e}u=void 0}(this.i=u)&&(u=this.i,p=p!==null&&u in p?p[u]:void 0),this.data=p}else this.data=u}_(Gw,ip);function Kw(){sp.call(this),this.status=1}_(Kw,sp);function Qs(u){this.g=u}_(Qs,qw),Qs.prototype.ua=function(){Mt(this.g,"a")},Qs.prototype.ta=function(u){Mt(this.g,new Gw(u))},Qs.prototype.sa=function(u){Mt(this.g,new Kw)},Qs.prototype.ra=function(){Mt(this.g,"b")},_n.prototype.send=_n.prototype.o,_n.prototype.open=_n.prototype.m,_n.prototype.close=_n.prototype.close,ap.NO_ERROR=0,ap.TIMEOUT=8,ap.HTTP_ERROR=6,eN.COMPLETE="complete",YR.EventType=Ra,Ra.OPEN="a",Ra.CLOSE="b",Ra.ERROR="c",Ra.MESSAGE="d",Et.prototype.listen=Et.prototype.K,Ke.prototype.listenOnce=Ke.prototype.L,Ke.prototype.getLastError=Ke.prototype.Ka,Ke.prototype.getLastErrorCode=Ke.prototype.Ba,Ke.prototype.getStatus=Ke.prototype.Z,Ke.prototype.getResponseJson=Ke.prototype.Oa,Ke.prototype.getResponseText=Ke.prototype.oa,Ke.prototype.send=Ke.prototype.ea,Ke.prototype.setWithCredentials=Ke.prototype.Ha}).apply(typeof Bu<"u"?Bu:typeof self<"u"?self:typeof window<"u"?window:{});const ME="@firebase/firestore",LE="4.7.14";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ft{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Ft.UNAUTHENTICATED=new Ft(null),Ft.GOOGLE_CREDENTIALS=new Ft("google-credentials-uid"),Ft.FIRST_PARTY=new Ft("first-party-uid"),Ft.MOCK_USER=new Ft("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Xc="11.7.3";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ia=new cf("@firebase/firestore");function Yn(t,...e){if(ia.logLevel<=ve.DEBUG){const n=e.map(Qv);ia.debug(`Firestore (${Xc}): ${t}`,...n)}}function dA(t,...e){if(ia.logLevel<=ve.ERROR){const n=e.map(Qv);ia.error(`Firestore (${Xc}): ${t}`,...n)}}function LU(t,...e){if(ia.logLevel<=ve.WARN){const n=e.map(Qv);ia.warn(`Firestore (${Xc}): ${t}`,...n)}}function Qv(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hA(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,fA(t,r,n)}function fA(t,e,n){let r=`FIRESTORE (${Xc}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw dA(r),new Error(r)}function Nl(t,e,n,r){let i="Unexpected state";typeof n=="string"?i=n:r=n,t||fA(e,i,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xt={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Jt extends On{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dl{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pA{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class jU{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Ft.UNAUTHENTICATED))}shutdown(){}}class FU{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class $U{constructor(e){this.t=e,this.currentUser=Ft.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Nl(this.o===void 0,42304);let r=this.i;const i=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let s=new Dl;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Dl,e.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const l=s;e.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},a=l=>{Yn("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(Yn("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Dl)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(Yn("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Nl(typeof r.accessToken=="string",31837,{l:r}),new pA(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Nl(e===null||typeof e=="string",2055,{h:e}),new Ft(e)}}class UU{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=Ft.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class VU{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new UU(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(Ft.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class jE{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class BU{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Rt(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Nl(this.o===void 0,3512);const r=s=>{s.error!=null&&Yn("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.m;return this.m=s.token,Yn("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{Yn("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.V.getImmediate({optional:!0});s?i(s):Yn("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new jE(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Nl(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new jE(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function zU(t){return t.name==="IndexedDbTransactionError"}const iy="(default)";class Ih{constructor(e,n){this.projectId=e,this.database=n||iy}static empty(){return new Ih("","")}get isDefaultDatabase(){return this.database===iy}isEqual(e){return e instanceof Ih&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var FE,he;(he=FE||(FE={}))[he.OK=0]="OK",he[he.CANCELLED=1]="CANCELLED",he[he.UNKNOWN=2]="UNKNOWN",he[he.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",he[he.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",he[he.NOT_FOUND=5]="NOT_FOUND",he[he.ALREADY_EXISTS=6]="ALREADY_EXISTS",he[he.PERMISSION_DENIED=7]="PERMISSION_DENIED",he[he.UNAUTHENTICATED=16]="UNAUTHENTICATED",he[he.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",he[he.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",he[he.ABORTED=10]="ABORTED",he[he.OUT_OF_RANGE=11]="OUT_OF_RANGE",he[he.UNIMPLEMENTED=12]="UNIMPLEMENTED",he[he.INTERNAL=13]="INTERNAL",he[he.UNAVAILABLE=14]="UNAVAILABLE",he[he.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */new uA([4294967295,4294967295],0);/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WU=41943040;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HU=1048576;function mm(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qU{constructor(e,n,r=1e3,i=1.5,s=6e4){this.bi=e,this.timerId=n,this.u_=r,this.c_=i,this.l_=s,this.h_=0,this.P_=null,this.T_=Date.now(),this.reset()}reset(){this.h_=0}I_(){this.h_=this.l_}E_(e){this.cancel();const n=Math.floor(this.h_+this.d_()),r=Math.max(0,Date.now()-this.T_),i=Math.max(0,n-r);i>0&&Yn("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.h_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.P_=this.bi.enqueueAfterDelay(this.timerId,i,()=>(this.T_=Date.now(),e())),this.h_*=this.c_,this.h_<this.u_&&(this.h_=this.u_),this.h_>this.l_&&(this.h_=this.l_)}A_(){this.P_!==null&&(this.P_.skipDelay(),this.P_=null)}cancel(){this.P_!==null&&(this.P_.cancel(),this.P_=null)}d_(){return(Math.random()-.5)*this.h_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zv{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new Dl,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){const o=Date.now()+r,a=new Zv(e,n,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Jt(Xt.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}var $E,UE;(UE=$E||($E={})).ya="default",UE.Cache="cache";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GU(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VE=new Map;function KU(t,e,n,r){if(e===!0&&r===!0)throw new Jt(Xt.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function YU(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":hA(12329,{type:typeof t})}function XU(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Jt(Xt.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=YU(t);throw new Jt(Xt.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mA="firestore.googleapis.com",BE=!0;class zE{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new Jt(Xt.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=mA,this.ssl=BE}else this.host=e.host,this.ssl=(n=e.ssl)!==null&&n!==void 0?n:BE;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=WU;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<HU)throw new Jt(Xt.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}KU("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=GU((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new Jt(Xt.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new Jt(Xt.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new Jt(Xt.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class gA{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new zE({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Jt(Xt.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Jt(Xt.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new zE(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new jU;switch(r.type){case"firstParty":return new VU(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new Jt(Xt.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,Sr("Firestore",this._settings.isUsingEmulator),this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=VE.get(n);r&&(Yn("ComponentProvider","Removing Datastore"),VE.delete(n),r.terminate())}(this),Promise.resolve()}}function yA(t,e,n,r={}){var i;t=XU(t,gA);const s=Yi(e),o=t._getSettings(),a=Object.assign(Object.assign({},o),{emulatorOptions:t._getEmulatorOptions()}),l=`${e}:${n}`;o.host!==mA&&o.host!==l&&LU("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const c=Object.assign(Object.assign({},o),{host:l,ssl:s,emulatorOptions:r});if(!$i(c,a)&&(t._setSettings(c),s&&(Fc(`https://${l}`),Sr("Firestore",!0)),r.mockUserToken)){let d,h;if(typeof r.mockUserToken=="string")d=r.mockUserToken,h=Ft.MOCK_USER;else{d=J0(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const f=r.mockUserToken.sub||r.mockUserToken.user_id;if(!f)throw new Jt(Xt.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");h=new Ft(f)}t._authCredentials=new FU(new pA(d,h))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WE="AsyncQueue";class HE{constructor(e=Promise.resolve()){this.Qu=[],this.$u=!1,this.Uu=[],this.Ku=null,this.Wu=!1,this.Gu=!1,this.zu=[],this.y_=new qU(this,"async_queue_retry"),this.ju=()=>{const r=mm();r&&Yn(WE,"Visibility state changed to "+r.visibilityState),this.y_.A_()},this.Hu=e;const n=mm();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.ju)}get isShuttingDown(){return this.$u}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Ju(),this.Yu(e)}enterRestrictedMode(e){if(!this.$u){this.$u=!0,this.Gu=e||!1;const n=mm();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.ju)}}enqueue(e){if(this.Ju(),this.$u)return new Promise(()=>{});const n=new Dl;return this.Yu(()=>this.$u&&this.Gu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Qu.push(e),this.Zu()))}async Zu(){if(this.Qu.length!==0){try{await this.Qu[0](),this.Qu.shift(),this.y_.reset()}catch(e){if(!zU(e))throw e;Yn(WE,"Operation failed with retryable error: "+e)}this.Qu.length>0&&this.y_.E_(()=>this.Zu())}}Yu(e){const n=this.Hu.then(()=>(this.Wu=!0,e().catch(r=>{throw this.Ku=r,this.Wu=!1,dA("INTERNAL UNHANDLED ERROR: ",qE(r)),r}).then(r=>(this.Wu=!1,r))));return this.Hu=n,n}enqueueAfterDelay(e,n,r){this.Ju(),this.zu.indexOf(e)>-1&&(n=0);const i=Zv.createAndSchedule(this,e,n,r,s=>this.Xu(s));return this.Uu.push(i),i}Ju(){this.Ku&&hA(47125,{ec:qE(this.Ku)})}verifyOperationInProgress(){}async tc(){let e;do e=this.Hu,await e;while(e!==this.Hu)}nc(e){for(const n of this.Uu)if(n.timerId===e)return!0;return!1}rc(e){return this.tc().then(()=>{this.Uu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.Uu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.tc()})}sc(e){this.zu.push(e)}Xu(e){const n=this.Uu.indexOf(e);this.Uu.splice(n,1)}}function qE(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class JU extends gA{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new HE,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new HE(e),this._firestoreClient=void 0,await e}}}function QU(t,e){const n=typeof t=="object"?t:wa(),r=typeof t=="string"?t:e||iy,i=ii(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const s=of("firestore");s&&yA(i,...s)}return i}(function(e,n=!0){(function(i){Xc=i})(Xi),gn(new on("firestore",(r,{instanceIdentifier:i,options:s})=>{const o=r.getProvider("app").getImmediate(),a=new JU(new $U(r.getProvider("auth-internal")),new BU(o,r.getProvider("app-check-internal")),function(c,d){if(!Object.prototype.hasOwnProperty.apply(c.options,["projectId"]))throw new Jt(Xt.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ih(c.options.projectId,d)}(o,i),o);return s=Object.assign({useFetchStreams:n},s),a._setSettings(s),a},"PUBLIC").setMultipleInstances(!0)),dt(ME,LE,e),dt(ME,LE,"esm2017")})();const ZU={apiKey:"AIzaSyD9cpSfGG212h80iXofJetw-B-arEEcOvI",authDomain:"emprochampions2025.firebaseapp.com",databaseURL:"https://emprochampions2025-default-rtdb.firebaseio.com",projectId:"emprochampions2025",storageBucket:"emprochampions2025.appspot.com",messagingSenderId:"683206087538",appId:"1:683206087538:web:8a1473aec968bd6ab543eb",measurementId:"G-3TX5J3NDT5"},Fs=Mk(ZU),Ei=ZF(Fs),ie=oU(Fs),eV=DU(Fs),tV=QU(Fs);jg(Fs);new ur;window.location.hostname==="localhost"&&(TI(Ei,"http://localhost:9099"),sA(ie,"localhost",9e3),cA(eV,"localhost",9199),yA(tV,"localhost",8080),console.log("Conectado a emuladores de Firebase"));const vA=T.createContext(),qs=()=>{const t=T.useContext(vA);if(!t)throw new Error("useAuth must be used within an AuthProvider");return t};function nV({children:t}){const[e,n]=T.useState(null),[r,i]=T.useState(null),[s,o]=T.useState(!0),a=(h,f)=>RI(Ei,h,f),l=(h,f)=>F3(Ei,h,f),c=()=>NI(Ei),d=()=>{const h=new ur;return h.setCustomParameters({prompt:"select_account"}),lF(Ei,h)};return T.useEffect(()=>{const h=B3(Ei,async f=>{var y,_;if(f){const P=["yayirobe2305@gmail.com","gersonespino@gmail.com","andiescobar8@gmail.com","rodriguezmerary42@gmail.com"].includes(f.email)?"admin":"usuario";i(P),n(f);const w=ae(ie,`usuarios/${f.uid}`),C=await In(w);if(C.exists())C.val().rol!==P&&await bh(w,{rol:P});else{const E={correo:f.email,rol:P,nombre:((y=f.displayName)==null?void 0:y.split(" ")[0])||"",apellido:((_=f.displayName)==null?void 0:_.split(" ")[1])||""};await At(w,E)}}else n(null),i(null);o(!1)});return()=>h()},[]),m.jsx(vA.Provider,{value:{user:e,rol:r,loading:s,signup:a,login:l,logout:c,loginWithGoogle:d},children:t})}function rV(){const[t,e]=T.useState(""),[n,r]=T.useState(""),[i,s]=T.useState(""),o=Cr(),{login:a,loginWithGoogle:l}=qs(),c=async h=>{h.preventDefault(),s("");try{await a(t,n),o("/")}catch(f){s("Credenciales incorrectas. Verifica tu correo y contraseña."),console.error("Error en login:",f.message)}},d=async()=>{s("");try{await l(),o("/")}catch(h){s("Error al iniciar sesión con Google."),console.error("Error en login con Google:",h.message)}};return m.jsx("div",{className:"min-h-screen bg-cover bg-center flex items-center justify-center",style:{backgroundImage:"url('/EmproChampions-2025/img/fondoempro-horizontal.png')"},children:m.jsxs("div",{className:"bg-white/90 rounded-2xl shadow-lg p-8 w-full max-w-md text-center",children:[m.jsx("img",{src:"/EmproChampions-2025/img/logo-empro.png",alt:"Logo Empro",className:"w-32 md:w-40 mx-auto mb-4"}),m.jsx("h1",{className:"text-3xl font-bold text-[#7a0026] mb-6",children:"Empro Champions 2025"}),i&&m.jsx("p",{className:"bg-red-500 text-white p-2 rounded-md mb-4",children:i}),m.jsxs("form",{onSubmit:c,className:"space-y-4",children:[m.jsx("h2",{className:"text-lg text-[#7a0026] font-bold",children:"¡HOLA, INICIA SESIÓN!"}),m.jsx("input",{type:"email",placeholder:"CORREO",value:t,onChange:h=>e(h.target.value),required:!0,className:"w-full px-4 py-2 border border-[#7a0026] rounded-md focus:outline-none focus:ring-2 focus:ring-[#FFD700]",autoComplete:"email"}),m.jsx("input",{type:"password",placeholder:"CONTRASEÑA",value:n,onChange:h=>r(h.target.value),required:!0,className:"w-full px-4 py-2 border border-[#7a0026] rounded-md focus:outline-none focus:ring-2 focus:ring-[#FFD700]",autoComplete:"current-password"}),m.jsx("button",{type:"submit",className:"w-full bg-[#FFD700] text-[#7a0026] font-bold py-2 rounded-md hover:bg-yellow-400 transition",children:"INICIAR SESIÓN"})]}),m.jsx("div",{className:"my-4 text-[#7a0026] font-semibold",children:"o"}),m.jsx("button",{onClick:d,className:"w-full bg-blue-600 text-white font-bold py-2 rounded-md hover:bg-blue-700 transition",children:"INGRESA CON GOOGLE"}),m.jsxs("p",{className:"mt-4 text-sm text-[#7a0026]",children:["¿No tienes cuenta?"," ",m.jsx(zn,{to:"/registro",className:"font-bold underline",children:"Crea una"})]})]})})}function iV(){const[t,e]=T.useState(""),[n,r]=T.useState(""),[i,s]=T.useState(""),[o,a]=T.useState(""),l=Cr(),c=(h,f)=>{const y=(h==null?void 0:h.charAt(0).toUpperCase())||"",_=(f==null?void 0:f.charAt(0).toUpperCase())||"";return`${y}${_}`},d=async h=>{h.preventDefault();try{const f=await RI(Ei,i,o),y=f.user.uid,_={nombre:t,apellido:n,correo:i,rol:"usuario",iniciales:c(t,n),foto:null};await At(ae(ie,`usuarios/${y}`),_),await $3(f.user),alert("¡Cuenta creada exitosamente! Se ha enviado un correo de verificación a tu dirección de email. Por favor, verifica tu correo para activar tu cuenta."),l("/login")}catch(f){console.error("Error al crear la cuenta:",f),f.code==="auth/email-already-in-use"?alert("Este correo electrónico ya está registrado. Por favor, intenta con otro o inicia sesión."):f.code==="auth/weak-password"?alert("La contraseña es demasiado débil. Debe tener al menos 6 caracteres."):alert("Error al crear la cuenta. Por favor, inténtalo de nuevo. Detalles: "+f.message)}};return m.jsx("div",{className:"min-h-screen bg-cover bg-center flex items-center justify-center",style:{backgroundImage:"url('/EmproChampions-2025/img/fondoempro-horizontal.png')"},children:m.jsxs("div",{className:"bg-white/90 rounded-2xl shadow-lg p-8 w-full max-w-md text-center",children:[m.jsx("img",{src:"/EmproChampions-2025/img/logo-empro.png",alt:"Logo Empro",className:"w-24 mx-auto mb-4"}),m.jsx("h1",{className:"text-3xl font-bold text-[#7a0026] mb-6",children:"Crear Cuenta"}),m.jsxs("form",{onSubmit:d,className:"space-y-4",children:[m.jsx("input",{type:"text",placeholder:"Nombre",value:t,onChange:h=>e(h.target.value),required:!0,className:"w-full px-4 py-2 border border-[#7a0026] rounded-md focus:outline-none focus:ring-2 focus:ring-[#FFD700]"}),m.jsx("input",{type:"text",placeholder:"Apellido",value:n,onChange:h=>r(h.target.value),required:!0,className:"w-full px-4 py-2 border border-[#7a0026] rounded-md focus:outline-none focus:ring-2 focus:ring-[#FFD700]"}),m.jsx("input",{type:"email",placeholder:"Correo",value:i,onChange:h=>s(h.target.value),required:!0,className:"w-full px-4 py-2 border border-[#7a0026] rounded-md focus:outline-none focus:ring-2 focus:ring-[#FFD700]"}),m.jsx("input",{type:"password",placeholder:"Contraseña (mín. 6 caracteres)",value:o,onChange:h=>a(h.target.value),required:!0,className:"w-full px-4 py-2 border border-[#7a0026] rounded-md focus:outline-none focus:ring-2 focus:ring-[#FFD700]"}),m.jsx("button",{type:"submit",className:"w-full bg-[#FFD700] text-[#7a0026] font-bold py-2 rounded-md hover:bg-yellow-400 transition",children:"Registrarme"})]}),m.jsxs("p",{className:"mt-4 text-sm text-[#7a0026]",children:["¿Ya tienes cuenta?"," ",m.jsx(zn,{to:"/login",className:"font-bold underline",children:"Inicia sesión"})]})]})})}function wr(){const[t,e]=T.useState(!1),{user:n,rol:r,loading:i}=qs(),s=Er();if(i||s.pathname==="/login"||s.pathname==="/registro")return null;const o=r==="admin"||r==="superadmin";return m.jsx("nav",{className:"bg-[#7a0026] text-white px-4 py-3 shadow-md sticky top-0 z-50",children:m.jsxs("div",{className:"max-w-6xl mx-auto flex justify-between items-center",children:[m.jsx(zn,{to:"/",className:"text-2xl font-bold font-qatar",children:"🏆 Empro"}),m.jsx("button",{className:"md:hidden transition-transform",onClick:()=>e(!t),children:m.jsx("svg",{className:`w-7 h-7 transition-transform duration-300 ${t?"rotate-90":""}`,fill:"none",stroke:"currentColor",strokeWidth:2,viewBox:"0 0 24 24",children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:t?"M6 18L18 6M6 6l12 12":"M4 6h16M4 12h16M4 18h16"})})}),m.jsxs("ul",{className:`md:flex gap-6 text-lg font-bold absolute md:static top-16 left-0 w-full md:w-auto bg-[#7a0026] md:bg-transparent transition-all duration-300 ease-in-out ${t?"block":"hidden"}`,children:[m.jsx("li",{className:"p-3 md:p-0 text-center",children:m.jsx(zn,{to:"/",className:"hover:text-yellow-400",onClick:()=>e(!1),children:"Tabla"})}),m.jsx("li",{className:"p-3 md:p-0 text-center",children:m.jsx(zn,{to:"/goleadores",className:"hover:text-yellow-400",onClick:()=>e(!1),children:"Goleadores"})}),m.jsx("li",{className:"p-3 md:p-0 text-center",children:m.jsx(zn,{to:"/historial",className:"hover:text-yellow-400",onClick:()=>e(!1),children:"Historial"})}),m.jsx("li",{className:"p-3 md:p-0 text-center",children:m.jsx(zn,{to:"/calendario",className:"hover:text-yellow-400",onClick:()=>e(!1),children:"Calendario"})}),m.jsx("li",{className:"p-3 md:p-0 text-center",children:m.jsx(zn,{to:"/configuracion",className:"hover:text-yellow-400",onClick:()=>e(!1),children:"Cuenta"})}),o&&m.jsx("li",{className:"p-3 md:p-0 text-center",children:m.jsx(zn,{to:"/partido/configurar",className:"hover:text-yellow-400",onClick:()=>e(!1),children:"➕ Nuevo Partido"})})]})]})})}const GE=["pillarh.png","municipalidad.png","mercaditoladespensa.png","Multibox.png","celtec.png","asopilar.png","mrecords.png","Pepsi_2023.svg","pipos.png"],sV=[...GE,...GE];function oV(){return m.jsx("div",{className:"w-full bg-gray-100 py-4 mt-8 overflow-hidden backdrop-blur-sm border-y border-yellow-400/20",children:m.jsx("div",{className:"animate-scroll flex items-center",children:sV.map((t,e)=>m.jsx("div",{className:"flex-shrink-0 mx-10",children:m.jsx("img",{src:`/EmproChampions-2025/img/sponsors/${t}`,alt:`Patrocinador ${e+1}`,className:"h-10 md:h-12 max-w-none"})},e))})})}function xr(){const t=new Date().getFullYear(),e="https://www.facebook.com/elmer.hernandez.516479",n="https://www.instagram.com/hernandezsuarez_27/";return m.jsx("footer",{className:"bg-black/50 text-white font-qatar backdrop-blur-sm mt-auto border-t border-yellow-400/20",children:m.jsxs("div",{className:"mx-auto max-w-5xl px-4 pt-16 pb-8 sm:px-6 lg:px-8",children:[m.jsxs("div",{className:"mx-auto max-w-3xl text-center",children:[m.jsx("p",{className:"leading-relaxed text-gray-300",children:"Evento deportivo de las Comunidades del Centro Guia Santa Rosa de Lima con el objetivo de unir los lazos de amistad y fomentar los buenos valores inculcados en el movimiento."}),m.jsx("p",{className:"mt-6 text-lg italic text-yellow-400",children:'"Porque un verdadero Emproista es aquel que ve el trabajo no como una carga, sino como un privilegio"'})]}),m.jsxs("ul",{className:"mt-12 flex justify-center gap-6 md:gap-8",children:[m.jsx("li",{children:m.jsxs("a",{href:e,rel:"noreferrer",target:"_blank",className:"text-gray-400 transition hover:text-yellow-400","aria-label":"Facebook de Elmer Hernandez",children:[m.jsx("span",{className:"sr-only",children:"Facebook"}),m.jsx("svg",{className:"h-7 w-7",fill:"currentColor",viewBox:"0 0 24 24","aria-hidden":"true",children:m.jsx("path",{fillRule:"evenodd",d:"M22 12c0-5.523-4.477-10-10-10S2 6.477 2 12c0 4.991 3.657 9.128 8.438 9.878v-6.987h-2.54V12h2.54V9.797c0-2.506 1.492-3.89 3.777-3.89 1.094 0 2.238.195 2.238.195v2.46h-1.26c-1.243 0-1.63.771-1.63 1.562V12h2.773l-.443 2.89h-2.33v6.988C18.343 21.128 22 16.991 22 12z",clipRule:"evenodd"})})]})}),m.jsx("li",{children:m.jsxs("a",{href:n,rel:"noreferrer",target:"_blank",className:"text-gray-400 transition hover:text-yellow-400","aria-label":"Instagram de Elmer Hernandez",children:[m.jsx("span",{className:"sr-only",children:"Instagram"}),m.jsx("svg",{className:"h-7 w-7",fill:"currentColor",viewBox:"0 0 24 24","aria-hidden":"true",children:m.jsx("path",{fillRule:"evenodd",d:"M12.315 2c2.43 0 2.784.013 3.808.06 1.064.049 1.791.218 2.427.465a4.902 4.902 0 011.772 1.153 4.902 4.902 0 011.153 1.772c.247.636.416 1.363.465 2.427.048 1.067.06 1.407.06 4.123v.08c0 2.643-.012 2.987-.06 4.043-.049 1.064-.218 1.791-.465 2.427a4.902 4.902 0 01-1.153 1.772 4.902 4.902 0 01-1.772 1.153c-.636.247-1.363.416-2.427.465-1.067.048-1.407.06-4.123.06h-.08c-2.643 0-2.987-.012-4.043-.06-1.064-.049-1.791-.218-2.427-.465a4.902 4.902 0 01-1.772-1.153 4.902 4.902 0 01-1.153-1.772c-.247-.636-.416-1.363-.465-2.427-.047-1.024-.06-1.379-.06-3.808v-.63c0-2.43.013-2.784.06-3.808.049-1.064.218-1.791.465-2.427a4.902 4.902 0 011.153-1.772A4.902 4.902 0 015.45 2.525c.636-.247 1.363-.416 2.427-.465C8.901 2.013 9.256 2 11.685 2h.63zm-.081 1.802h-.468c-2.456 0-2.784.011-3.807.058-.975.045-1.504.207-1.857.344-.467.182-.8.398-1.15.748-.35.35-.566.683-.748 1.15-.137.353-.3.882-.344 1.857-.047 1.023-.058 1.351-.058 3.807v.468c0 2.456.011 2.784.058 3.807.045.975.207 1.504.344 1.857.182.466.399.8.748 1.15.35.35.683.566 1.15.748.353.137.882.3 1.857.344 1.054.048 1.37.058 4.041.058h.08c2.597 0 2.917-.01 3.96-.058.976-.045 1.505-.207 1.858-.344.466-.182.8-.398 1.15-.748.35-.35.566-.683.748-1.15.137-.353.3-.882.344-1.857.048-1.055.058-1.37.058-4.041v-.08c0-2.597-.01-2.917-.058-3.96-.045-.976-.207-1.505-.344-1.858a3.097 3.097 0 00-.748-1.15 3.098 3.098 0 00-1.15-.748c-.353-.137-.882-.3-1.857-.344-1.023-.047-1.351-.058-3.807-.058zM12 6.865a5.135 5.135 0 110 10.27 5.135 5.135 0 010-10.27zm0 1.802a3.333 3.333 0 100 6.666 3.333 3.333 0 000-6.666zm5.338-3.205a1.2 1.2 0 110 2.4 1.2 1.2 0 010-2.4z",clipRule:"evenodd"})})]})})]}),m.jsxs("div",{className:"mt-12 border-t border-yellow-400/20 pt-8 text-center",children:[m.jsxs("p",{className:"text-sm text-gray-400",children:["Copyright © ",t,". EmproChampions. Todos los derechos reservados."]}),m.jsxs("p",{className:"text-sm text-gray-400 mt-2",children:["Diseñado por ",m.jsx("a",{href:n,target:"_blank",rel:"noopener noreferrer",className:"text-yellow-400 hover:underline",children:"Elmer Hernandez"})]})]})]})})}function aV(){const[t,e]=T.useState([]),[n,r]=T.useState([]),[i,s]=T.useState("masculino");T.useEffect(()=>{const a=(l,c)=>{const d=ae(ie,`tablas/${l}`);Hr(d,h=>{const f=h.val();if(f){const y=Object.keys(f).map(_=>({nombre:_,...f[_]})).sort((_,S)=>S.puntos-_.puntos||S.gf-S.gc-(_.gf-_.gc));c(y)}})};a("masculino",e),a("femenino",r)},[]);const o=i==="masculino"?t:n;return m.jsxs("div",{className:"w-full min-h-screen bg-cover bg-center text-white font-qatar bg-main-background",children:[m.jsx(wr,{}),m.jsxs("div",{className:"container mx-auto px-4 py-8",children:[m.jsx("h1",{className:"text-5xl font-bold text-center text-yellow-400 drop-shadow-lg mb-6",children:"Tabla de Posiciones"}),m.jsxs("div",{className:"flex justify-center mb-8 bg-black/30 rounded-full p-1 max-w-sm mx-auto",children:[m.jsx("button",{onClick:()=>s("masculino"),className:`w-1/2 py-2 rounded-full font-bold transition-colors ${i==="masculino"?"bg-yellow-400 text-black":"hover:bg-white/10"}`,children:"Masculino"}),m.jsx("button",{onClick:()=>s("femenino"),className:`w-1/2 py-2 rounded-full font-bold transition-colors ${i==="femenino"?"bg-yellow-400 text-black":"hover:bg-white/10"}`,children:"Femenino"})]}),m.jsxs("div",{className:"bg-black/50 backdrop-blur-sm rounded-xl overflow-hidden shadow-2xl",children:[m.jsxs("div",{className:"grid grid-cols-10 md:grid-cols-12 text-center font-bold text-yellow-400 p-4 border-b border-yellow-400/20",children:[m.jsx("div",{className:"col-span-4 md:col-span-5 text-left pl-3",children:"Club"}),m.jsx("div",{className:"hidden md:block",children:"PJ"}),m.jsx("div",{className:"hidden md:block",children:"PG"}),m.jsx("div",{className:"hidden md:block",children:"PE"}),m.jsx("div",{className:"hidden md:block",children:"PP"}),m.jsx("div",{className:"col-span-2 md:col-span-1",children:"GF"}),m.jsx("div",{className:"col-span-2 md:col-span-1",children:"GC"}),m.jsx("div",{className:"col-span-2 md:col-span-1",children:"Pts"})]}),m.jsx("div",{children:o.map((a,l)=>m.jsxs("div",{className:"grid grid-cols-10 md:grid-cols-12 items-center text-center p-3 border-b border-gray-700/50 hover:bg-white/5 transition-colors",children:[m.jsxs("div",{className:"col-span-4 md:col-span-5 flex items-center gap-3 text-left",children:[m.jsx("span",{className:"font-bold text-lg w-6 text-center text-gray-400",children:l+1}),m.jsx("img",{src:`/EmproChampions-2025/img/escudos/${a.logo}`,alt:a.nombre,className:"w-8 h-8 md:w-10 md:h-10 object-contain"}),m.jsx("span",{className:"font-bold text-base md:text-lg",children:a.nombre})]}),m.jsx("div",{className:"hidden md:block",children:a.pj}),m.jsx("div",{className:"hidden md:block",children:a.pg}),m.jsx("div",{className:"hidden md:block",children:a.pe}),m.jsx("div",{className:"hidden md:block",children:a.pp}),m.jsx("div",{className:"col-span-2 md:col-span-1",children:a.gf}),m.jsx("div",{className:"col-span-2 md:col-span-1",children:a.gc}),m.jsx("div",{className:"col-span-2 md:col-span-1 font-extrabold text-lg",children:a.puntos})]},a.nombre))})]})]}),m.jsx(oV,{}),m.jsx(xr,{})]})}function lV({equipo:t,jugadores:e,minuto:n,onSeleccion:r,onClose:i}){const[s,o]=T.useState(""),a=()=>{s&&r({nombre:s,minuto:n})};return m.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-70 flex justify-center items-center z-50",children:m.jsxs("div",{className:"bg-white text-black p-6 rounded-lg w-full max-w-md space-y-4",children:[m.jsx("h2",{className:"text-2xl font-bold text-center",children:"Registrar Gol"}),m.jsxs("div",{children:[m.jsx("label",{className:"block font-semibold mb-1",children:"¿Quién anotó?"}),m.jsxs("select",{value:s,onChange:l=>o(l.target.value),className:"w-full border border-gray-300 rounded px-4 py-2",children:[m.jsx("option",{value:"",children:"Seleccionar jugador"}),e.map((l,c)=>m.jsx("option",{value:l.nombre,children:l.nombre},c))]})]}),m.jsxs("div",{className:"flex justify-end gap-4",children:[m.jsx("button",{onClick:i,className:"bg-gray-300 px-4 py-2 rounded font-bold",children:"Cancelar"}),m.jsx("button",{onClick:a,className:"bg-green-500 text-white px-4 py-2 rounded font-bold",children:"Confirmar"})]})]})})}function cV({equipo:t,jugadores:e,minuto:n,onConfirm:r,onClose:i}){const[s,o]=T.useState(""),[a,l]=T.useState(""),c=()=>{!s||!a||r({jugador:s,tipo:a,minuto:n})};return m.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-70 flex justify-center items-center z-50",children:m.jsxs("div",{className:"bg-white text-black p-6 rounded-lg w-full max-w-md space-y-4",children:[m.jsx("h2",{className:"text-2xl font-bold text-center",children:"Registrar Tarjeta"}),m.jsxs("div",{children:[m.jsx("label",{className:"block font-semibold mb-1",children:"Jugador"}),m.jsxs("select",{value:s,onChange:d=>o(d.target.value),className:"w-full border border-gray-300 rounded px-4 py-2",children:[m.jsx("option",{value:"",children:"Seleccionar jugador"}),e.map((d,h)=>m.jsx("option",{value:d.nombre,children:d.nombre},h))]})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block font-semibold mb-1",children:"Tipo de tarjeta"}),m.jsxs("div",{className:"flex gap-4",children:[m.jsxs("label",{className:"flex items-center",children:[m.jsx("input",{type:"radio",value:"amarilla",checked:a==="amarilla",onChange:()=>l("amarilla")}),m.jsx("span",{className:"ml-2",children:"🟨 Amarilla"})]}),m.jsxs("label",{className:"flex items-center",children:[m.jsx("input",{type:"radio",value:"roja",checked:a==="roja",onChange:()=>l("roja")}),m.jsx("span",{className:"ml-2",children:"🟥 Roja"})]})]})]}),m.jsxs("div",{className:"flex justify-end gap-4",children:[m.jsx("button",{onClick:i,className:"bg-gray-300 px-4 py-2 rounded font-bold",children:"Cancelar"}),m.jsx("button",{onClick:c,className:"bg-yellow-500 px-4 py-2 rounded font-bold",children:"Confirmar"})]})]})})}function uV({equipo:t,jugadores:e,minuto:n,onConfirm:r,onClose:i}){const[s,o]=T.useState(""),[a,l]=T.useState(""),c=()=>{!s||!a.trim()||r(s,a.trim(),n)};return m.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-70 flex justify-center items-center z-50",children:m.jsxs("div",{className:"bg-white text-black p-6 rounded-lg w-full max-w-md space-y-4",children:[m.jsx("h2",{className:"text-2xl font-bold text-center",children:"Realizar Cambio"}),m.jsxs("div",{children:[m.jsx("label",{className:"block font-semibold mb-1",children:"Titular que sale"}),m.jsxs("select",{value:s,onChange:d=>o(d.target.value),className:"w-full border border-gray-300 rounded px-4 py-2",children:[m.jsx("option",{value:"",children:"Seleccionar"}),e.map((d,h)=>m.jsx("option",{value:d.nombre,children:d.nombre},h))]})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block font-semibold mb-1",children:"Suplente que entra"}),m.jsx("input",{type:"text",placeholder:"Escribí el nombre",value:a,onChange:d=>l(d.target.value),className:"w-full border border-gray-300 rounded px-4 py-2"})]}),m.jsxs("div",{className:"flex justify-end gap-4",children:[m.jsx("button",{onClick:i,className:"bg-gray-300 px-4 py-2 rounded font-bold",children:"Cancelar"}),m.jsx("button",{onClick:c,className:"bg-blue-500 text-white px-4 py-2 rounded font-bold",children:"Confirmar Cambio"})]})]})})}function dV({equipoGanador:t,equipo1:e,equipo2:n,onClose:r}){const[i,s]=T.useState(null),o=((e==null?void 0:e.jugadores)||[]).filter(h=>h.haJugado),a=((n==null?void 0:n.jugadores)||[]).filter(h=>h.haJugado),l=h=>{s(h)},c=()=>{r(i||null)},d=({jugador:h})=>m.jsxs("div",{onClick:()=>l(h),className:`p-3 rounded-lg cursor-pointer transition-all duration-200 text-center ${(i==null?void 0:i.nombre)===h.nombre?"bg-yellow-400 text-black scale-105 ring-2 ring-white":"bg-gray-700 text-white hover:bg-gray-600"}`,children:[m.jsx("span",{className:"font-bold text-base",children:h.nombre}),m.jsxs("span",{className:"block text-sm opacity-80 mt-1",children:["#",h.dorsal]})]},h.nombre);return m.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-70 flex justify-center items-center z-50 p-4 font-qatar",children:m.jsxs("div",{className:"bg-gray-800 rounded-2xl shadow-xl w-full max-w-2xl p-6 border border-yellow-400/30",children:[m.jsxs("div",{className:"text-center",children:[t.nombre!=="Empate"?m.jsx("img",{src:`/EmproChampions-2025/img/escudos/${t.logo}`,alt:t.nombre,className:"w-28 h-28 mx-auto mb-4 object-contain"}):m.jsx("div",{className:"w-28 h-28 mx-auto mb-4 flex items-center justify-center bg-gray-700 rounded-full",children:m.jsx("span",{className:"text-5xl",role:"img","aria-label":"empate",children:"🤝"})}),m.jsx("h2",{className:"text-4xl font-extrabold text-yellow-400",children:"¡Partido Finalizado!"}),m.jsx("p",{className:"text-white mt-2 text-xl",children:t.nombre!=="Empate"?`Ganador: ${t.nombre}`:"El partido terminó en empate"}),m.jsx("p",{className:"text-white mt-5 font-bold text-2xl",children:"Selecciona al MVP del partido"})]}),m.jsxs("div",{className:"my-6 flex flex-row gap-4 md:gap-6",children:[m.jsxs("div",{className:"w-1/2",children:[m.jsx("h3",{className:"text-center font-bold text-white mb-4 text-xl",children:e.nombre}),m.jsx("div",{className:"max-h-[35vh] overflow-y-auto grid grid-cols-1 md:grid-cols-2 gap-3 pr-2",children:o.map(h=>m.jsx(d,{jugador:h},h.nombre))})]}),m.jsx("div",{className:"w-px bg-gray-600/50"}),m.jsxs("div",{className:"w-1/2",children:[m.jsx("h3",{className:"text-center font-bold text-white mb-4 text-xl",children:n.nombre}),m.jsx("div",{className:"max-h-[35vh] overflow-y-auto grid grid-cols-1 md:grid-cols-2 gap-3 pr-2",children:a.map(h=>m.jsx(d,{jugador:h},h.nombre))})]})]}),m.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 pt-4 border-t border-gray-600/50",children:[m.jsx("button",{onClick:()=>r(null),className:"w-full bg-gray-600 hover:bg-gray-500 text-white font-bold py-3 px-4 rounded-lg transition-colors text-lg",children:"Cancelar"}),m.jsx("button",{onClick:c,disabled:!i,className:"w-full bg-green-600 hover:bg-green-500 text-white font-bold py-3 px-4 rounded-lg transition-colors disabled:bg-gray-500 disabled:cursor-not-allowed text-lg",children:"Confirmar MVP y Guardar"})]})]})})}function _A({mensaje:t,tipo:e="info"}){const n={info:"bg-blue-600 text-white",gol:"bg-green-500 text-white",tarjeta:"bg-yellow-400 text-black",roja:"bg-red-600 text-white",success:"bg-emerald-500 text-white"};return m.jsx("div",{className:"fixed bottom-6 left-1/2 -translate-x-1/2 z-[9999]",children:m.jsx("div",{className:`px-6 py-3 rounded-full shadow-lg animate-fade-in-out transition duration-500 ${n[e]||n.info}`,children:m.jsx("p",{className:"text-sm font-bold",children:t})})})}function hV(){const[t,e]=T.useState(0),[n,r]=T.useState(!1),i=T.useRef(null),s=()=>{n||(r(!0),i.current=setInterval(()=>{e(l=>l+1)},1e3))},o=()=>{r(!1),clearInterval(i.current)},a=()=>{e(0),o()};return T.useEffect(()=>()=>clearInterval(i.current),[]),{tiempo:t,enMarcha:n,iniciar:s,pausar:o,reiniciar:a}}const fV=({equipo1:t,equipo2:e,goles:n,minuto:r})=>m.jsx("div",{className:"bg-gray-900 bg-opacity-60 backdrop-blur-sm rounded-xl p-4 shadow-lg text-white font-qatar",children:m.jsxs("div",{className:"flex justify-between items-center",children:[m.jsxs("div",{className:"flex flex-col items-center w-1/3 text-center",children:[m.jsx("img",{src:`/EmproChampions-2025/img/escudos/${t.logo}`,alt:t.nombre,className:"h-16 w-16 md:h-24 md:w-24 object-contain"}),m.jsx("span",{className:"mt-2 text-sm md:text-lg font-bold",children:t.nombre})]}),m.jsxs("div",{className:"flex flex-col items-center w-1/3 text-center",children:[m.jsxs("div",{className:"text-4xl md:text-6xl font-black tracking-wider",children:[m.jsx("span",{children:n.equipo1}),m.jsx("span",{className:"mx-2 text-yellow-400",children:"-"}),m.jsx("span",{children:n.equipo2})]}),m.jsx("div",{className:"text-lg md:text-2xl mt-2 font-semibold bg-black/50 px-3 py-1 rounded-md",children:r})]}),m.jsxs("div",{className:"flex flex-col items-center w-1/3 text-center",children:[m.jsx("img",{src:`/EmproChampions-2025/img/escudos/${e.logo}`,alt:e.nombre,className:"h-16 w-16 md:h-24 md:w-24 object-contain"}),m.jsx("span",{className:"mt-2 text-sm md:text-lg font-bold",children:e.nombre})]})]})}),pV=t=>{const e="/EmproChampions-2025/";let n="";return t.tipo.includes("gol")?n="pelota.svg":t.tipo.includes("amarilla")?n="amarilla.svg":t.tipo.includes("roja")?n="roja.svg":t.tipo.includes("cambio")&&(n="cambio.svg"),n?`${e}img/${n}`:null},mV=({eventos:t})=>!t||t.length===0?m.jsx("div",{className:"text-center text-white text-opacity-70 mt-8 py-10",children:"El partido está por comenzar."}):m.jsxs("div",{className:"relative mt-8 py-5 font-barcelona",children:[m.jsx("div",{className:"absolute top-0 left-1/2 w-0.5 h-full bg-gray-500/30"}),t.map((e,n)=>{const r=e.equipo==="equipo1",i=pV(e),s=()=>m.jsxs("div",{className:`flex items-center gap-3 w-full ${r?"flex-row-reverse":"flex-row"}`,children:[m.jsx("span",{className:"font-bold text-sm text-white truncate max-w-[150px] md:max-w-xs",children:e.jugador||`${e.titular} ➜ ${e.suplente}`}),i&&m.jsx("img",{src:i,alt:e.tipo,className:"w-5 h-5"})]});return m.jsxs("div",{className:"relative flex items-center justify-center my-6 h-6",children:[m.jsx("div",{className:"w-1/2 pr-8 flex justify-end",children:r&&m.jsx(s,{})}),m.jsx("div",{className:"absolute z-10 bg-[#1a1d23] px-1.5 py-0.5 rounded-full border border-gray-600/50",children:m.jsxs("span",{className:"text-yellow-400 font-bold text-xs",children:[e.minuto,"'"]})}),m.jsx("div",{className:"w-1/2 pl-8 flex justify-start",children:!r&&m.jsx(s,{})})]},e.id||n)})]});function gV(){const{partidoId:t}=fk(),e=Cr(),[n,r]=T.useState(null),[i,s]=T.useState(null),[o,a]=T.useState({equipo1:0,equipo2:0}),[l,c]=T.useState([]),[d,h]=T.useState([]),[f,y]=T.useState([]),[_,S]=T.useState([]),[P,w]=T.useState(null),[C,E]=T.useState(null),[A,D]=T.useState(null),[M,b]=T.useState(!1),[x,I]=T.useState(null),[g,R]=T.useState(!1),O=hV();T.useEffect(()=>{if(!t)return;const J={alineacion:ae(ie,`partidos/${t}/alineacion`),marcador:ae(ie,`partidos/${t}/marcador`),eventos:ae(ie,`partidos/${t}/eventos`)},ue=[Hr(J.alineacion,de=>{de.exists()&&(r(de.val().equipo1),s(de.val().equipo2))}),Hr(J.marcador,de=>{de.exists()&&a(de.val())}),Hr(J.eventos,de=>{if(!de.exists()){S([]);return}const re=de.val(),it=[],ht=[],Ve=[],ft=[];for(const te in re.goles)ht.push({...re.goles[te],id:te}),it.push({...re.goles[te],id:te});for(const te in re.tarjetas)Ve.push({...re.tarjetas[te],id:te}),it.push({...re.tarjetas[te],id:te});for(const te in re.cambios)ft.push({...re.cambios[te],id:te}),it.push({...re.cambios[te],id:te});c(ht),h(Ve),y(ft),it.sort((te,Ir)=>{if(!te.minuto||!Ir.minuto)return 0;const[Gs,jn]=te.minuto.split(":").map(Number),[Ks,st]=Ir.minuto.split(":").map(Number);return Gs*60+jn-(Ks*60+st)}),S(it)})];return()=>{Object.keys(J).forEach((de,re)=>{ue[re]&&vc(J[de],"value",ue[re])})}},[t]);const N=(J,ue="info")=>{I({mensaje:J,tipo:ue}),setTimeout(()=>I(null),4e3)},U=()=>{const J=String(Math.floor(O.tiempo/60)).padStart(2,"0"),ue=String(O.tiempo%60).padStart(2,"0");return`${J}:${ue}`},W=J=>{if(!O.enMarcha){N("El cronómetro debe estar en marcha","error");return}O.pausar(),w(J)},G=J=>E(J),q=J=>D(J),$=async J=>{const ue=P,de=ae(ie,`partidos/${t}/marcador`),re={...o,[ue]:(o[ue]||0)+1};await At(de,re);const it=ae(ie,`partidos/${t}/eventos/goles`);await vd(it,{tipo:"gol",equipo:ue,jugador:J.nombre,minuto:U()}),w(null),O.iniciar(),N("¡Gol registrado!","success")},K=async({jugador:J,tipo:ue,minuto:de})=>{const re=C,it=ae(ie,`partidos/${t}/eventos/tarjetas`);await vd(it,{tipo:ue,equipo:re,jugador:J,minuto:de}),E(null),N(`Tarjeta ${ue} a ${J} (${de})`,ue==="roja"?"roja":"tarjeta")},X=async(J,ue,de)=>{const re=A;let it=re==="equipo1"?n:i,ht=it.jugadores.map(te=>te.nombre===J?{...te,enJuego:!1,haJugado:!0}:te),Ve=it.todosJugadores.find(te=>te.nombre===ue)||{nombre:ue,dorsal:"?",enJuego:!0,haJugado:!0};Ve={...Ve,enJuego:!0,haJugado:!0},ht.some(te=>te.nombre===Ve.nombre)?ht=ht.map(te=>te.nombre===Ve.nombre?{...te,enJuego:!0,haJugado:!0}:te):ht.push(Ve),await At(ae(ie,`partidos/${t}/alineacion/${re}/jugadores`),ht),re==="equipo1"?r({...n,jugadores:ht}):s({...i,jugadores:ht});const ft=ae(ie,`partidos/${t}/eventos/cambios`);await vd(ft,{tipo:"cambio",equipo:re,titular:J,suplente:ue,minuto:de}),D(null),N(`Cambio: sale ${J}, entra ${ue} (${de})`,"info")},_e=()=>{O.pausar(),b(!0),N("Partido finalizado. Selecciona el MVP","success")},ne=async J=>{var ue;if(g){console.log("Guardado ya en progreso. Evitando doble ejecución.");return}if(R(!0),!J){console.log("Guardado cancelado porque no se seleccionó MVP."),b(!1),R(!1);return}console.log("Iniciando guardado final del partido...");try{const re=((ue=(await In(ae(ie,`partidos/${t}/alineacion`))).val())==null?void 0:ue.genero)||"masculino",it={marcador:o,mvp:J,terminado:!0,timestamp:Date.now()};await At(ae(ie,`partidos/${t}/resultado`),it),console.log("Paso 1/4: Resultado del partido guardado.");const ht=ae(ie,`tablas/${re}`),ft=(await In(ht)).val()||{},te=(st,li,Pa,qt)=>{if(!st||!st.nombre)return;const ln=ft[st.nombre]||{pj:0,pg:0,pe:0,pp:0,gf:0,gc:0,puntos:0,logo:st.logo};ln.pj++,ln.gf+=li,ln.gc+=Pa,qt==="victoria"?(ln.pg++,ln.puntos+=3):qt==="empate"?(ln.pe++,ln.puntos+=1):ln.pp++,ft[st.nombre]=ln};o.equipo1>o.equipo2?(te(n,o.equipo1,o.equipo2,"victoria"),te(i,o.equipo2,o.equipo1,"derrota")):o.equipo2>o.equipo1?(te(n,o.equipo1,o.equipo2,"derrota"),te(i,o.equipo2,o.equipo1,"victoria")):(te(n,o.equipo1,o.equipo2,"empate"),te(i,o.equipo2,o.equipo1,"empate")),await At(ht,ft),console.log("Paso 2/4: Tabla de posiciones actualizada.");const Ir=ae(ie,`goleadoresDetalles/${re}`),jn=(await In(Ir)).val()||{};for(const st of l){if(!st.jugador)continue;const li=st.jugador.replace(/[.#$[\]]/g,"_");if(jn[li]||(jn[li]=[]),!jn[li].some(qt=>qt.idDelGol===st.id)){const qt=st.equipo==="equipo1"?n:i;jn[li].push({idDelGol:st.id,minuto:st.minuto,partidoId:t,partidoNombre:`${(n==null?void 0:n.nombre)||"Equipo 1"} vs ${(i==null?void 0:i.nombre)||"Equipo 2"}`,fecha:new Date().toLocaleDateString("es-HN"),equipo:(qt==null?void 0:qt.nombre)||"",logo:(qt==null?void 0:qt.logo)||"",jugador:st.jugador})}}await At(Ir,jn),console.log("Paso 3/4: Detalles de goleadores actualizados.");const Ks=ae(ie,`historial/${re}/${t}`);await At(Ks,{fecha:new Date().toLocaleDateString("es-HN"),equipo1:(n==null?void 0:n.nombre)||"Equipo 1",equipo2:(i==null?void 0:i.nombre)||"Equipo 2",logo1:(n==null?void 0:n.logo)||"",logo2:(i==null?void 0:i.logo)||"",goles1:o.equipo1,goles2:o.equipo2,mvp:(J==null?void 0:J.nombre)||"No definido"}),console.log("Paso 4/4: Historial de partidos actualizado."),b(!1),N("Partido guardado correctamente","success"),console.log("¡Éxito! Redirigiendo..."),setTimeout(()=>e("/"),1500)}catch(de){console.error("ERROR AL GUARDAR EL PARTIDO:",de),N("Error al guardar. Revisa la consola.","error"),R(!1)}},ee=()=>o.equipo1>o.equipo2?n:o.equipo2>o.equipo1?i:{nombre:"Empate",logo:"logo-empro.png"};return!n||!i?m.jsxs("div",{className:"w-full min-h-screen bg-cover bg-center text-white flex flex-col bg-main-background",children:[m.jsx(wr,{}),m.jsx("div",{className:"flex-grow flex items-center justify-center text-center p-4",children:m.jsx("div",{children:m.jsx("h2",{className:"text-3xl font-bold",children:"Cargando datos del partido..."})})}),m.jsx(xr,{})]}):m.jsxs("div",{className:"w-full min-h-screen bg-cover bg-center text-white font-qatar px-2 md:px-8 py-4 bg-main-background flex flex-col",children:[m.jsx(wr,{}),m.jsxs("div",{className:"container mx-auto flex-grow",children:[m.jsx(fV,{equipo1:n,equipo2:i,goles:o,minuto:U()}),m.jsxs("div",{className:"flex justify-center gap-4 my-6",children:[m.jsx("button",{onClick:O.iniciar,disabled:O.enMarcha,className:"bg-green-500 hover:bg-green-600 text-white font-bold py-2 px-4 rounded disabled:bg-gray-500",children:"▶️ Iniciar"}),m.jsx("button",{onClick:O.pausar,disabled:!O.enMarcha,className:"bg-yellow-500 hover:bg-yellow-600 text-white font-bold py-2 px-4 rounded disabled:bg-gray-500",children:"⏸️ Pausar"}),m.jsx("button",{onClick:O.reiniciar,className:"bg-red-500 hover:bg-red-600 text-white font-bold py-2 px-4 rounded",children:"🔁 Reiniciar"})]}),m.jsxs("div",{className:"bg-black/40 backdrop-blur-sm p-4 rounded-lg flex flex-wrap justify-center gap-x-6 gap-y-3 shadow-lg",children:[m.jsxs("button",{onClick:()=>W("equipo1"),className:"text-white font-semibold hover:text-green-400 transition-colors",children:["Gol ",n.nombre]}),m.jsxs("button",{onClick:()=>G("equipo1"),className:"text-white font-semibold hover:text-yellow-400 transition-colors",children:["Tarjeta ",n.nombre]}),m.jsxs("button",{onClick:()=>q("equipo1"),className:"text-white font-semibold hover:text-blue-400 transition-colors",children:["Cambio ",n.nombre]}),m.jsx("div",{className:"w-full md:w-auto h-px md:h-auto md:w-px bg-white/20"}),m.jsxs("button",{onClick:()=>W("equipo2"),className:"text-white font-semibold hover:text-green-400 transition-colors",children:["Gol ",i.nombre]}),m.jsxs("button",{onClick:()=>G("equipo2"),className:"text-white font-semibold hover:text-yellow-400 transition-colors",children:["Tarjeta ",i.nombre]}),m.jsxs("button",{onClick:()=>q("equipo2"),className:"text-white font-semibold hover:text-blue-400 transition-colors",children:["Cambio ",i.nombre]})]}),m.jsx(mV,{eventos:_}),m.jsx("div",{className:"text-center mt-12",children:m.jsx("button",{onClick:_e,className:"bg-yellow-500 hover:bg-yellow-600 text-black font-extrabold text-2xl px-12 py-4 rounded-full shadow-xl",children:"Finalizar Partido"})})]}),P&&m.jsx(lV,{equipo:P,jugadores:(P==="equipo1"?n.jugadores:i.jugadores).filter(J=>J.enJuego!==!1),minuto:U(),onSeleccion:$,onClose:()=>{w(null),O.iniciar()}}),C&&m.jsx(cV,{equipo:C,jugadores:(C==="equipo1"?n.jugadores:i.jugadores).filter(J=>J.enJuego!==!1),minuto:U(),onConfirm:K,onClose:()=>E(null)}),A&&m.jsx(uV,{equipo:A,jugadores:A==="equipo1"?n.todosJugadores:i.todosJugadores,minuto:U(),onConfirm:X,onClose:()=>D(null)}),M&&m.jsx(dV,{equipoGanador:ee(),equipo1:n,equipo2:i,onClose:ne}),x&&m.jsx(_A,{mensaje:x.mensaje,tipo:x.tipo}),m.jsx(xr,{})]})}function yV(){const[t,e]=T.useState([]),[n,r]=T.useState("masculino"),[i,s]=T.useState(null);T.useEffect(()=>{const a=ae(ie,`goleadores/${n}`);Hr(a,l=>{const c=l.val();if(c){const d=Object.values(c).sort((h,f)=>f.goles-h.goles);e(d)}else e([])})},[n]);const o=a=>{s(i===a?null:a)};return m.jsxs("div",{className:"w-full min-h-screen bg-cover bg-center text-white font-qatar bg-main-background flex flex-col",children:[m.jsx(wr,{}),m.jsxs("div",{className:"container mx-auto px-4 py-8 flex-grow",children:[m.jsx("h1",{className:"text-5xl font-bold text-center text-yellow-400 drop-shadow-lg mb-6",children:"Tabla de Goleadores"}),m.jsxs("div",{className:"flex justify-center mb-8 bg-black/30 rounded-full p-1 max-w-sm mx-auto",children:[m.jsx("button",{onClick:()=>r("masculino"),className:`w-1/2 py-2 rounded-full font-bold transition-colors ${n==="masculino"?"bg-yellow-400 text-black":"hover:bg-white/10"}`,children:"Masculino"}),m.jsx("button",{onClick:()=>r("femenino"),className:`w-1/2 py-2 rounded-full font-bold transition-colors ${n==="femenino"?"bg-yellow-400 text-black":"hover:bg-white/10"}`,children:"Femenino"})]}),m.jsx("div",{className:"space-y-4 max-w-4xl mx-auto",children:t.map((a,l)=>m.jsxs("div",{className:"bg-black/50 backdrop-blur-sm rounded-xl shadow-lg p-4 transition-all duration-300",children:[m.jsxs("div",{className:"flex items-center gap-4",children:[m.jsx("span",{className:"text-3xl font-bold text-yellow-400 w-8 text-center",children:l+1}),m.jsx("img",{src:`/EmproChampions-2025/img/escudos/${a.logo}`,alt:a.equipo,className:"w-12 h-12 object-contain"}),m.jsxs("div",{className:"flex-grow",children:[m.jsx("h2",{className:"text-2xl font-bold",children:a.nombre}),m.jsx("p",{className:"text-sm opacity-80",children:a.equipo})]}),m.jsxs("div",{className:"text-right flex items-center gap-4",children:[m.jsxs("div",{children:[m.jsx("p",{className:"text-4xl font-extrabold",children:a.goles}),m.jsx("p",{className:"text-sm opacity-80 -mt-1",children:"Goles"})]}),m.jsx("button",{onClick:()=>o(a.nombre),className:"bg-yellow-400 text-black font-bold h-10 px-4 rounded-lg text-sm transition hover:bg-yellow-300",children:"Detalles"})]})]}),i===a.nombre&&m.jsxs("div",{className:"pl-14 mt-4 border-t border-white/10 pt-3",children:[m.jsx("h4",{className:"font-bold text-yellow-300 mb-2 text-sm",children:"DETALLE DE GOLES:"}),a.detalles&&a.detalles.length>0?a.detalles.map((c,d)=>{var h;return m.jsxs("div",{className:"flex items-center gap-2 text-sm opacity-90 mt-1",children:[m.jsx("span",{children:"⚽"}),m.jsxs("span",{children:["vs ",(h=c.partidoNombre)==null?void 0:h.replace(a.equipo,"").replace("vs","").trim()]}),m.jsxs("span",{className:"ml-auto font-mono bg-white/10 px-2 rounded",children:[c.minuto,"'"]})]},d)}):m.jsx("p",{className:"text-sm opacity-70",children:"No hay detalles de goles disponibles."})]})]},a.nombre))})]}),m.jsx(xr,{})]})}const vV=({partidoId:t,onClose:e})=>{var s,o,a,l,c,d,h,f,y;const[n,r]=T.useState(null);if(T.useEffect(()=>{const _=ae(ie,`partidos/${t}`);In(_).then(S=>{var P,w,C,E;if(S.exists()){const A=S.val(),D={marcador:(P=A.resultado)==null?void 0:P.marcador,mvp:(w=A.resultado)==null?void 0:w.mvp,equipo1:(C=A.alineacion)==null?void 0:C.equipo1,equipo2:(E=A.alineacion)==null?void 0:E.equipo2,eventos:A.eventos||{}};r(D)}})},[t]),!n)return m.jsx("div",{className:"fixed inset-0 bg-black/70 flex items-center justify-center z-50",children:m.jsx("p",{className:"text-white text-xl",children:"Cargando detalles..."})});const i=[];return n.eventos.goles&&Object.values(n.eventos.goles).forEach(_=>i.push({..._,tipoVisual:"⚽ Gol"})),i.sort((_,S)=>(_.minuto||"00:00").localeCompare(S.minuto||"00:00")),m.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-80 flex justify-center items-center z-50 p-4 font-qatar",onClick:e,children:m.jsxs("div",{className:"bg-gray-800 rounded-xl w-full max-w-md p-6",onClick:_=>_.stopPropagation(),children:[m.jsx("h2",{className:"text-2xl font-bold text-yellow-400 text-center mb-4",children:"Detalles del Partido"}),m.jsxs("div",{className:"flex justify-between items-center mb-4",children:[m.jsxs("div",{className:"flex items-center gap-2 text-lg font-bold w-2/5",children:[m.jsx("img",{src:`/EmproChampions-2025/img/escudos/${(s=n.equipo1)==null?void 0:s.logo}`,className:"w-8 h-8 object-contain",alt:(o=n.equipo1)==null?void 0:o.nombre}),m.jsx("span",{children:(a=n.equipo1)==null?void 0:a.nombre})]}),m.jsxs("span",{className:"font-bold text-2xl",children:[(l=n.marcador)==null?void 0:l.equipo1," - ",(c=n.marcador)==null?void 0:c.equipo2]}),m.jsxs("div",{className:"flex items-center justify-end gap-2 text-lg font-bold w-2/5",children:[m.jsx("span",{className:"text-right",children:(d=n.equipo2)==null?void 0:d.nombre}),m.jsx("img",{src:`/EmproChampions-2025/img/escudos/${(h=n.equipo2)==null?void 0:h.logo}`,className:"w-8 h-8 object-contain",alt:(f=n.equipo2)==null?void 0:f.nombre})]})]}),((y=n.mvp)==null?void 0:y.nombre)&&m.jsxs("p",{className:"text-center mb-4 text-sm",children:["MVP: ",m.jsx("span",{className:"font-bold text-yellow-300",children:n.mvp.nombre})]}),m.jsx("div",{className:"max-h-64 overflow-y-auto space-y-2 border-t border-white/10 pt-3",children:i.map((_,S)=>m.jsxs("div",{className:"flex items-center text-sm p-2 bg-white/5 rounded",children:[m.jsxs("span",{className:"font-mono w-12",children:[_.minuto,"'"]}),m.jsx("span",{className:"w-24",children:_.tipoVisual}),m.jsx("span",{className:"font-bold flex-grow",children:_.jugador})]},S))}),m.jsx("button",{onClick:e,className:"w-full mt-6 bg-yellow-400 text-black font-bold py-2 rounded-lg",children:"Cerrar"})]})})};function _V(){const{user:t}=qs(),e=Cr(),[n,r]=T.useState([]),[i,s]=T.useState("masculino"),[o,a]=T.useState(null);return T.useEffect(()=>{const l=ae(ie,`historial/${i}`),c=Hr(l,d=>{if(d.exists()){const h=Object.entries(d.val()).map(([f,y])=>({id:f,...y})).reverse();r(h)}else r([])});return()=>{vc(l,"value",c)}},[i]),m.jsxs("div",{className:"w-full min-h-screen bg-cover bg-center text-white font-qatar bg-main-background",children:[m.jsx(wr,{}),m.jsxs("div",{className:"container mx-auto px-4 py-8",children:[m.jsx("h1",{className:"text-5xl font-bold text-center text-yellow-400 drop-shadow-lg mb-6",children:"Historial de Partidos"}),m.jsxs("div",{className:"flex justify-center mb-8 bg-black/30 rounded-full p-1 max-w-sm mx-auto",children:[m.jsx("button",{onClick:()=>s("masculino"),className:`w-1/2 py-2 rounded-full font-bold transition-colors ${i==="masculino"?"bg-yellow-400 text-black":"hover:bg-white/10"}`,children:"Masculino"}),m.jsx("button",{onClick:()=>s("femenino"),className:`w-1/2 py-2 rounded-full font-bold transition-colors ${i==="femenino"?"bg-yellow-400 text-black":"hover:bg-white/10"}`,children:"Femenino"})]}),m.jsx("div",{className:"space-y-4 max-w-4xl mx-auto",children:n.map(l=>m.jsx("div",{className:"bg-black/50 backdrop-blur-sm rounded-xl shadow-lg p-4",children:m.jsxs("div",{className:"flex items-center w-full",children:[m.jsxs("div",{className:"flex-grow space-y-2",children:[m.jsxs("div",{className:"flex items-center gap-3",children:[m.jsx("img",{src:`/EmproChampions-2025/img/escudos/${l.logo1}`,className:"w-8 h-8 object-contain",alt:l.equipo1}),m.jsx("span",{children:l.equipo1})]}),m.jsxs("div",{className:"flex items-center gap-3",children:[m.jsx("img",{src:`/EmproChampions-2025/img/escudos/${l.logo2}`,className:"w-8 h-8 object-contain",alt:l.equipo2}),m.jsx("span",{children:l.equipo2})]})]}),m.jsxs("div",{className:"px-6 text-center",children:[m.jsxs("p",{className:"text-4xl font-extrabold",children:[l.goles1," - ",l.goles2]}),m.jsx("p",{className:"text-xs opacity-70",children:l.fecha})]}),m.jsxs("div",{className:"flex items-center gap-2 ml-auto",children:[t&&m.jsx("button",{onClick:()=>e(`/partido/editar/${l.id}`),className:"bg-blue-500 hover:bg-blue-400 text-white font-bold h-10 px-4 rounded-lg text-sm transition",children:"Editar"}),m.jsx("button",{onClick:()=>a(l.id),className:"bg-yellow-400 text-black font-bold h-10 px-4 rounded-lg text-sm transition hover:bg-yellow-300",children:"Detalles"})]})]})},l.id))})]}),o&&m.jsx(vV,{partidoId:o,onClose:()=>a(null)}),m.jsx(xr,{})]})}const wV=[{nombre:"Atrapados",escudo:"/EmproChampions-2025/img/escudos/atrapados.png"},{nombre:"Bosco",escudo:"/EmproChampions-2025/img/escudos/bosco.png"},{nombre:"Emprosaurios",escudo:"/EmproChampions-2025/img/escudos/emprosaurios.png"},{nombre:"Huellas",escudo:"/EmproChampions-2025/img/escudos/huellas.png"},{nombre:"Luz",escudo:"/EmproChampions-2025/img/escudos/luz.png"},{nombre:"Mensajeros",escudo:"/EmproChampions-2025/img/escudos/mensajeros.png"}],xV=[{nombre:"Atrapados",escudo:"/EmproChampions-2025/img/escudos/atrapados.png"},{nombre:"Bosco",escudo:"/EmproChampions-2025/img/escudos/bosco.png"},{nombre:"Huellas",escudo:"/EmproChampions-2025/img/escudos/huellas.png"},{nombre:"Luz",escudo:"/EmproChampions-2025/img/escudos/luz.png"},{nombre:"Mensajeros",escudo:"/EmproChampions-2025/img/escudos/mensajeros.png"}];function KE(){const[t,e]=T.useState("masculino"),n=Cr(),r=t==="masculino"?wV:xV,[i,s]=T.useState(0),[o,a]=T.useState(1),[l,c]=T.useState(!0),[d,h]=T.useState(!0),f=(_,S)=>{const P=r.length;_==="local"?(c(!1),setTimeout(()=>{s(w=>(w+S+P)%P),c(!0)},150)):(h(!1),setTimeout(()=>{a(w=>(w+S+P)%P),h(!0)},150))},y=async()=>{const _=r[i],S=r[o];if(_.nombre===S.nombre){alert("El equipo local y visitante no pueden ser el mismo.");return}await At(ae(ie,"selecciones/equipoLocal"),_),await At(ae(ie,"selecciones/equipoVisita"),S),await At(ae(ie,"selecciones/generoPartido"),t),n("/partido/alineacion",{state:{equipoLocal:_,equipoVisita:S,genero:t,fecha:Date.now()}})};return m.jsxs("div",{className:"min-h-screen bg-cover bg-center font-qatar text-white flex flex-col",style:{backgroundImage:"url('/EmproChampions-2025/img/fondoempro-horizontal.png')"},children:[m.jsx(wr,{}),m.jsxs("div",{className:"flex justify-center gap-4 mt-6",children:[m.jsx("button",{onClick:()=>{e("masculino"),s(0),a(1)},className:`px-4 py-2 font-bold rounded-full border-2 ${t==="masculino"?"bg-[#FFD700] text-[#7a0026] border-yellow-400":"bg-transparent border-white text-white"} transition`,children:"Masculino"}),m.jsx("button",{onClick:()=>{e("femenino"),s(0),a(1)},className:`px-4 py-2 font-bold rounded-full border-2 ${t==="femenino"?"bg-[#FFD700] text-[#7a0026] border-yellow-400":"bg-transparent border-white text-white"} transition`,children:"Femenino"})]}),m.jsx("h1",{className:"text-3xl sm:text-4xl font-bold text-center mt-6 text-yellow-400 drop-shadow",children:"Selección de Equipos"}),m.jsx("div",{className:"flex flex-col items-center justify-center px-6",children:m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-10 mt-6 mx-auto px-4 max-w-6xl",children:[m.jsxs("div",{className:"flex flex-col bg-white/90 rounded-2xl p-8 w-full max-w-[460px] text-[#7a0026] shadow-xl transition-all duration-300 min-h-[460px] justify-center items-center",children:[m.jsx("h2",{className:"font-bold text-2xl mb-4",children:"Equipo Local"}),m.jsxs("div",{className:`flex flex-col items-center transition-opacity duration-300 ease-in-out ${l?"opacity-100":"opacity-0"}`,children:[m.jsx("img",{src:r[i].escudo,alt:r[i].nombre,className:"w-32 h-32 object-contain mb-4 drop-shadow-md"}),m.jsx("p",{className:"text-3xl font-black",children:r[i].nombre})]}),m.jsxs("div",{className:"flex gap-10 mt-6",children:[m.jsx("button",{onClick:()=>f("local",-1),className:"text-4xl text-[#FFD700] hover:scale-110 transition",children:"◀"}),m.jsx("button",{onClick:()=>f("local",1),className:"text-4xl text-[#FFD700] hover:scale-110 transition",children:"▶"})]})]}),m.jsxs("div",{className:"flex flex-col bg-white/90 rounded-2xl p-8 w-full max-w-[460px] text-[#7a0026] shadow-xl transition-all duration-300 min-h-[460px] justify-center items-center",children:[m.jsx("h2",{className:"font-bold text-2xl mb-4",children:"Equipo Visitante"}),m.jsxs("div",{className:`flex flex-col items-center transition-opacity duration-300 ease-in-out ${d?"opacity-100":"opacity-0"}`,children:[m.jsx("img",{src:r[o].escudo,alt:r[o].nombre,className:"w-32 h-32 object-contain mb-4 drop-shadow-md"}),m.jsx("p",{className:"text-3xl font-black",children:r[o].nombre})]}),m.jsxs("div",{className:"flex gap-10 mt-6",children:[m.jsx("button",{onClick:()=>f("visita",-1),className:"text-4xl text-[#FFD700] hover:scale-110 transition",children:"◀"}),m.jsx("button",{onClick:()=>f("visita",1),className:"text-4xl text-[#FFD700] hover:scale-110 transition",children:"▶"})]})]})]})}),m.jsx("div",{className:"flex justify-center mt-12 mb-20",children:m.jsx("button",{onClick:y,className:"bg-[#FFD700] text-[#7a0026] font-bold px-10 py-4 rounded-full hover:bg-yellow-300 transition text-xl shadow-lg",children:"Siguiente"})}),m.jsx(xr,{})]})}const EV=[{nombre:"Juan Pérez",dorsal:7,genero:"masculino"},{nombre:"Carlos Torres",dorsal:10,genero:"masculino"},{nombre:"Luis López",dorsal:5,genero:"masculino"},{nombre:"Mario Paz",dorsal:11,genero:"masculino"},{nombre:"Erick Rodríguez",dorsal:2,genero:"masculino"},{nombre:"Erick 2",dorsal:0,genero:"masculino"},{nombre:"Antonio Díaz",dorsal:4,genero:"masculino"},{nombre:"Sofia García",dorsal:1,genero:"femenino"},{nombre:"Valeria Castro",dorsal:9,genero:"femenino"}],CV=[{nombre:"Andrés Gutiérrez",dorsal:3,genero:"masculino"},{nombre:"David Martínez",dorsal:1,genero:"masculino"},{nombre:"Pedro Ramírez",dorsal:8,genero:"masculino"},{nombre:"Fernando Vargas",dorsal:9,genero:"masculino"},{nombre:"Raúl Cruz",dorsal:6,genero:"masculino"},{nombre:"Erick Rodríguez",dorsal:2,genero:"masculino"},{nombre:"Mauricio Salinas",dorsal:14,genero:"masculino"},{nombre:"Ana López",dorsal:2,genero:"femenino"},{nombre:"María Pérez",dorsal:10,genero:"femenino"}],SV=[{nombre:"Saurio Uno",dorsal:21,genero:"masculino"},{nombre:"Saurio Dos",dorsal:22,genero:"masculino"},{nombre:"Saurio Tres",dorsal:23,genero:"masculino"},{nombre:"Saurio Cuatro",dorsal:24,genero:"masculino"},{nombre:"Saurio Cinco",dorsal:25,genero:"masculino"},{nombre:"Saurio Seis",dorsal:26,genero:"masculino"}],bV=[{nombre:"Diego Muñoz",dorsal:2,genero:"masculino"},{nombre:"Bryan Mejía",dorsal:5,genero:"masculino"},{nombre:"Samuel Rivera",dorsal:8,genero:"masculino"},{nombre:"Kevin Palacios",dorsal:7,genero:"masculino"},{nombre:"José Martínez",dorsal:13,genero:"masculino"},{nombre:"Ricardo Castillo",dorsal:17,genero:"masculino"},{nombre:"Laura Ruiz",dorsal:3,genero:"femenino"},{nombre:"Andrea Soto",dorsal:6,genero:"femenino"}],TV=[{nombre:"Oscar Varela",dorsal:4,genero:"masculino"},{nombre:"David Salgado",dorsal:12,genero:"masculino"},{nombre:"Enrique Orellana",dorsal:9,genero:"masculino"},{nombre:"Manuel Molina",dorsal:3,genero:"masculino"},{nombre:"Javier Castro",dorsal:16,genero:"masculino"},{nombre:"Julio Soto",dorsal:18,genero:"masculino"},{nombre:"Daniela Paz",dorsal:4,genero:"femenino"},{nombre:"Camila Vargas",dorsal:11,genero:"femenino"}],kV=[{nombre:"Cristian Ayala",dorsal:19,genero:"masculino"},{nombre:"Luis Méndez",dorsal:6,genero:"masculino"},{nombre:"Álvaro Salinas",dorsal:11,genero:"masculino"},{nombre:"Sergio Paz",dorsal:8,genero:"masculino"},{nombre:"Oscar Aguilar",dorsal:20,genero:"masculino"},{nombre:"Juan Martínez",dorsal:15,genero:"masculino"},{nombre:"Natalia Díaz",dorsal:5,genero:"femenino"},{nombre:"Paula Mejía",dorsal:8,genero:"femenino"}],sy={atrapados:EV,bosco:CV,emprosaurios:SV,huellas:bV,luz:TV,mensajeros:kV};function IV({tipo:t,index:e,jugador:n,onSave:r,onClose:i,camiseta:s,dorsalColor:o,jugadoresActuales:a,nombreEquipo:l}){const c=l==null?void 0:l.toLowerCase(),d=sy[c]||[],h=a.filter((w,C)=>C!==e&&w.nombre).map(w=>w.nombre),f=d.filter(w=>!h.includes(w.nombre)),y=n&&n.nombre&&n.dorsal?`${n.nombre}|${n.dorsal}`:"",[_,S]=T.useState(y),P=()=>{if(!_)return;const[w,C]=_.split("|");r(e,t,{nombre:w,dorsal:C})};return m.jsx("div",{className:"fixed inset-0 flex items-center justify-center z-50 bg-black/50",children:m.jsxs("div",{className:"bg-white rounded-xl shadow-xl p-6 text-black relative w-80 md:w-96 mx-auto",children:[m.jsx("button",{onClick:i,className:"absolute top-3 right-3 text-[#7a0026] font-bold text-xl",title:"Cerrar",children:"×"}),m.jsx("div",{className:"flex flex-col items-center mb-4",children:m.jsx("img",{src:s,alt:"camiseta",className:"w-16 h-16 mb-2"})}),m.jsx("label",{className:"block font-bold mb-1 text-[#7a0026]",children:"Jugador"}),m.jsxs("select",{className:"w-full px-4 py-2 border rounded",value:_,onChange:w=>S(w.target.value),children:[m.jsx("option",{value:"",children:"Selecciona un jugador"}),f.map(w=>m.jsxs("option",{value:`${w.nombre}|${w.dorsal}`,children:[w.nombre," (#",w.dorsal,")"]},w.dorsal+w.nombre))]}),m.jsx("button",{disabled:!_,onClick:P,className:"w-full bg-[#FFD700] text-[#7a0026] font-bold py-2 rounded mt-4 hover:bg-yellow-400 transition disabled:bg-gray-400",children:"Guardar"}),m.jsx("button",{onClick:i,className:"w-full bg-gray-300 text-[#7a0026] font-bold py-2 rounded mt-2 hover:bg-gray-400 transition",children:"Cancelar"})]})})}const e_=T.createContext({});function t_(t){const e=T.useRef(null);return e.current===null&&(e.current=t()),e.current}const n_=typeof window<"u",wA=n_?T.useLayoutEffect:T.useEffect,kf=T.createContext(null);function r_(t,e){t.indexOf(e)===-1&&t.push(e)}function i_(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const ei=(t,e,n)=>n>e?e:n<t?t:n;let s_=()=>{};const ti={},xA=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t);function EA(t){return typeof t=="object"&&t!==null}const CA=t=>/^0[^.\s]+$/u.test(t);function o_(t){let e;return()=>(e===void 0&&(e=t()),e)}const Pn=t=>t,PV=(t,e)=>n=>e(t(n)),Jc=(...t)=>t.reduce(PV),_c=(t,e,n)=>{const r=e-t;return r===0?1:(n-t)/r};class a_{constructor(){this.subscriptions=[]}add(e){return r_(this.subscriptions,e),()=>i_(this.subscriptions,e)}notify(e,n,r){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](e,n,r);else for(let s=0;s<i;s++){const o=this.subscriptions[s];o&&o(e,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const mr=t=>t*1e3,gr=t=>t/1e3;function SA(t,e){return e?t*(1e3/e):0}const bA=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,AV=1e-7,RV=12;function NV(t,e,n,r,i){let s,o,a=0;do o=e+(n-e)/2,s=bA(o,r,i)-t,s>0?n=o:e=o;while(Math.abs(s)>AV&&++a<RV);return o}function Qc(t,e,n,r){if(t===e&&n===r)return Pn;const i=s=>NV(s,0,1,t,n);return s=>s===0||s===1?s:bA(i(s),e,r)}const TA=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,kA=t=>e=>1-t(1-e),IA=Qc(.33,1.53,.69,.99),l_=kA(IA),PA=TA(l_),AA=t=>(t*=2)<1?.5*l_(t):.5*(2-Math.pow(2,-10*(t-1))),c_=t=>1-Math.sin(Math.acos(t)),RA=kA(c_),NA=TA(c_),DV=Qc(.42,0,1,1),OV=Qc(0,0,.58,1),DA=Qc(.42,0,.58,1),MV=t=>Array.isArray(t)&&typeof t[0]!="number",OA=t=>Array.isArray(t)&&typeof t[0]=="number",LV={linear:Pn,easeIn:DV,easeInOut:DA,easeOut:OV,circIn:c_,circInOut:NA,circOut:RA,backIn:l_,backInOut:PA,backOut:IA,anticipate:AA},jV=t=>typeof t=="string",YE=t=>{if(OA(t)){s_(t.length===4);const[e,n,r,i]=t;return Qc(e,n,r,i)}else if(jV(t))return LV[t];return t},zu=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"],XE={value:null,addProjectionMetrics:null};function FV(t,e){let n=new Set,r=new Set,i=!1,s=!1;const o=new WeakSet;let a={delta:0,timestamp:0,isProcessing:!1},l=0;function c(h){o.has(h)&&(d.schedule(h),t()),l++,h(a)}const d={schedule:(h,f=!1,y=!1)=>{const S=y&&i?n:r;return f&&o.add(h),S.has(h)||S.add(h),h},cancel:h=>{r.delete(h),o.delete(h)},process:h=>{if(a=h,i){s=!0;return}i=!0,[n,r]=[r,n],n.forEach(c),e&&XE.value&&XE.value.frameloop[e].push(l),l=0,n.clear(),i=!1,s&&(s=!1,d.process(h))}};return d}const $V=40;function MA(t,e){let n=!1,r=!0;const i={delta:0,timestamp:0,isProcessing:!1},s=()=>n=!0,o=zu.reduce((E,A)=>(E[A]=FV(s,e?A:void 0),E),{}),{setup:a,read:l,resolveKeyframes:c,preUpdate:d,update:h,preRender:f,render:y,postRender:_}=o,S=()=>{const E=ti.useManualTiming?i.timestamp:performance.now();n=!1,ti.useManualTiming||(i.delta=r?1e3/60:Math.max(Math.min(E-i.timestamp,$V),1)),i.timestamp=E,i.isProcessing=!0,a.process(i),l.process(i),c.process(i),d.process(i),h.process(i),f.process(i),y.process(i),_.process(i),i.isProcessing=!1,n&&e&&(r=!1,t(S))},P=()=>{n=!0,r=!0,i.isProcessing||t(S)};return{schedule:zu.reduce((E,A)=>{const D=o[A];return E[A]=(M,b=!1,x=!1)=>(n||P(),D.schedule(M,b,x)),E},{}),cancel:E=>{for(let A=0;A<zu.length;A++)o[zu[A]].cancel(E)},state:i,steps:o}}const{schedule:$e,cancel:zi,state:gt,steps:gm}=MA(typeof requestAnimationFrame<"u"?requestAnimationFrame:Pn,!0);let _d;function UV(){_d=void 0}const en={now:()=>(_d===void 0&&en.set(gt.isProcessing||ti.useManualTiming?gt.timestamp:performance.now()),_d),set:t=>{_d=t,queueMicrotask(UV)}},LA=t=>e=>typeof e=="string"&&e.startsWith(t),u_=LA("--"),VV=LA("var(--"),d_=t=>VV(t)?BV.test(t.split("/*")[0].trim()):!1,BV=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,ba={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},wc={...ba,transform:t=>ei(0,1,t)},Wu={...ba,default:1},Ol=t=>Math.round(t*1e5)/1e5,h_=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function zV(t){return t==null}const WV=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,f_=(t,e)=>n=>!!(typeof n=="string"&&WV.test(n)&&n.startsWith(t)||e&&!zV(n)&&Object.prototype.hasOwnProperty.call(n,e)),jA=(t,e,n)=>r=>{if(typeof r!="string")return r;const[i,s,o,a]=r.match(h_);return{[t]:parseFloat(i),[e]:parseFloat(s),[n]:parseFloat(o),alpha:a!==void 0?parseFloat(a):1}},HV=t=>ei(0,255,t),ym={...ba,transform:t=>Math.round(HV(t))},_s={test:f_("rgb","red"),parse:jA("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:r=1})=>"rgba("+ym.transform(t)+", "+ym.transform(e)+", "+ym.transform(n)+", "+Ol(wc.transform(r))+")"};function qV(t){let e="",n="",r="",i="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),r=t.substring(5,7),i=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),r=t.substring(3,4),i=t.substring(4,5),e+=e,n+=n,r+=r,i+=i),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}}const oy={test:f_("#"),parse:qV,transform:_s.transform},Zc=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),pi=Zc("deg"),yr=Zc("%"),Z=Zc("px"),GV=Zc("vh"),KV=Zc("vw"),JE=(()=>({...yr,parse:t=>yr.parse(t)/100,transform:t=>yr.transform(t*100)}))(),So={test:f_("hsl","hue"),parse:jA("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:r=1})=>"hsla("+Math.round(t)+", "+yr.transform(Ol(e))+", "+yr.transform(Ol(n))+", "+Ol(wc.transform(r))+")"},It={test:t=>_s.test(t)||oy.test(t)||So.test(t),parse:t=>_s.test(t)?_s.parse(t):So.test(t)?So.parse(t):oy.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?_s.transform(t):So.transform(t)},YV=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function XV(t){var e,n;return isNaN(t)&&typeof t=="string"&&(((e=t.match(h_))==null?void 0:e.length)||0)+(((n=t.match(YV))==null?void 0:n.length)||0)>0}const FA="number",$A="color",JV="var",QV="var(",QE="${}",ZV=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function xc(t){const e=t.toString(),n=[],r={color:[],number:[],var:[]},i=[];let s=0;const a=e.replace(ZV,l=>(It.test(l)?(r.color.push(s),i.push($A),n.push(It.parse(l))):l.startsWith(QV)?(r.var.push(s),i.push(JV),n.push(l)):(r.number.push(s),i.push(FA),n.push(parseFloat(l))),++s,QE)).split(QE);return{values:n,split:a,indexes:r,types:i}}function UA(t){return xc(t).values}function VA(t){const{split:e,types:n}=xc(t),r=e.length;return i=>{let s="";for(let o=0;o<r;o++)if(s+=e[o],i[o]!==void 0){const a=n[o];a===FA?s+=Ol(i[o]):a===$A?s+=It.transform(i[o]):s+=i[o]}return s}}const eB=t=>typeof t=="number"?0:t;function tB(t){const e=UA(t);return VA(t)(e.map(eB))}const Wi={test:XV,parse:UA,createTransformer:VA,getAnimatableNone:tB};function vm(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function nB({hue:t,saturation:e,lightness:n,alpha:r}){t/=360,e/=100,n/=100;let i=0,s=0,o=0;if(!e)i=s=o=n;else{const a=n<.5?n*(1+e):n+e-n*e,l=2*n-a;i=vm(l,a,t+1/3),s=vm(l,a,t),o=vm(l,a,t-1/3)}return{red:Math.round(i*255),green:Math.round(s*255),blue:Math.round(o*255),alpha:r}}function Ph(t,e){return n=>n>0?e:t}const je=(t,e,n)=>t+(e-t)*n,_m=(t,e,n)=>{const r=t*t,i=n*(e*e-r)+r;return i<0?0:Math.sqrt(i)},rB=[oy,_s,So],iB=t=>rB.find(e=>e.test(t));function ZE(t){const e=iB(t);if(!e)return!1;let n=e.parse(t);return e===So&&(n=nB(n)),n}const eC=(t,e)=>{const n=ZE(t),r=ZE(e);if(!n||!r)return Ph(t,e);const i={...n};return s=>(i.red=_m(n.red,r.red,s),i.green=_m(n.green,r.green,s),i.blue=_m(n.blue,r.blue,s),i.alpha=je(n.alpha,r.alpha,s),_s.transform(i))},ay=new Set(["none","hidden"]);function sB(t,e){return ay.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function oB(t,e){return n=>je(t,e,n)}function p_(t){return typeof t=="number"?oB:typeof t=="string"?d_(t)?Ph:It.test(t)?eC:cB:Array.isArray(t)?BA:typeof t=="object"?It.test(t)?eC:aB:Ph}function BA(t,e){const n=[...t],r=n.length,i=t.map((s,o)=>p_(s)(s,e[o]));return s=>{for(let o=0;o<r;o++)n[o]=i[o](s);return n}}function aB(t,e){const n={...t,...e},r={};for(const i in n)t[i]!==void 0&&e[i]!==void 0&&(r[i]=p_(t[i])(t[i],e[i]));return i=>{for(const s in r)n[s]=r[s](i);return n}}function lB(t,e){const n=[],r={color:0,var:0,number:0};for(let i=0;i<e.values.length;i++){const s=e.types[i],o=t.indexes[s][r[s]],a=t.values[o]??0;n[i]=a,r[s]++}return n}const cB=(t,e)=>{const n=Wi.createTransformer(e),r=xc(t),i=xc(e);return r.indexes.var.length===i.indexes.var.length&&r.indexes.color.length===i.indexes.color.length&&r.indexes.number.length>=i.indexes.number.length?ay.has(t)&&!i.values.length||ay.has(e)&&!r.values.length?sB(t,e):Jc(BA(lB(r,i),i.values),n):Ph(t,e)};function zA(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?je(t,e,n):p_(t)(t,e)}const uB=t=>{const e=({timestamp:n})=>t(n);return{start:(n=!0)=>$e.update(e,n),stop:()=>zi(e),now:()=>gt.isProcessing?gt.timestamp:en.now()}},WA=(t,e,n=10)=>{let r="";const i=Math.max(Math.round(e/n),2);for(let s=0;s<i;s++)r+=t(s/(i-1))+", ";return`linear(${r.substring(0,r.length-2)})`},Ah=2e4;function m_(t){let e=0;const n=50;let r=t.next(e);for(;!r.done&&e<Ah;)e+=n,r=t.next(e);return e>=Ah?1/0:e}function dB(t,e=100,n){const r=n({...t,keyframes:[0,e]}),i=Math.min(m_(r),Ah);return{type:"keyframes",ease:s=>r.next(i*s).value/e,duration:gr(i)}}const hB=5;function HA(t,e,n){const r=Math.max(e-hB,0);return SA(n-t(r),e-r)}const We={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},wm=.001;function fB({duration:t=We.duration,bounce:e=We.bounce,velocity:n=We.velocity,mass:r=We.mass}){let i,s,o=1-e;o=ei(We.minDamping,We.maxDamping,o),t=ei(We.minDuration,We.maxDuration,gr(t)),o<1?(i=c=>{const d=c*o,h=d*t,f=d-n,y=ly(c,o),_=Math.exp(-h);return wm-f/y*_},s=c=>{const h=c*o*t,f=h*n+n,y=Math.pow(o,2)*Math.pow(c,2)*t,_=Math.exp(-h),S=ly(Math.pow(c,2),o);return(-i(c)+wm>0?-1:1)*((f-y)*_)/S}):(i=c=>{const d=Math.exp(-c*t),h=(c-n)*t+1;return-wm+d*h},s=c=>{const d=Math.exp(-c*t),h=(n-c)*(t*t);return d*h});const a=5/t,l=mB(i,s,a);if(t=mr(t),isNaN(l))return{stiffness:We.stiffness,damping:We.damping,duration:t};{const c=Math.pow(l,2)*r;return{stiffness:c,damping:o*2*Math.sqrt(r*c),duration:t}}}const pB=12;function mB(t,e,n){let r=n;for(let i=1;i<pB;i++)r=r-t(r)/e(r);return r}function ly(t,e){return t*Math.sqrt(1-e*e)}const gB=["duration","bounce"],yB=["stiffness","damping","mass"];function tC(t,e){return e.some(n=>t[n]!==void 0)}function vB(t){let e={velocity:We.velocity,stiffness:We.stiffness,damping:We.damping,mass:We.mass,isResolvedFromDuration:!1,...t};if(!tC(t,yB)&&tC(t,gB))if(t.visualDuration){const n=t.visualDuration,r=2*Math.PI/(n*1.2),i=r*r,s=2*ei(.05,1,1-(t.bounce||0))*Math.sqrt(i);e={...e,mass:We.mass,stiffness:i,damping:s}}else{const n=fB(t);e={...e,...n,mass:We.mass},e.isResolvedFromDuration=!0}return e}function Rh(t=We.visualDuration,e=We.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:r,restDelta:i}=n;const s=n.keyframes[0],o=n.keyframes[n.keyframes.length-1],a={done:!1,value:s},{stiffness:l,damping:c,mass:d,duration:h,velocity:f,isResolvedFromDuration:y}=vB({...n,velocity:-gr(n.velocity||0)}),_=f||0,S=c/(2*Math.sqrt(l*d)),P=o-s,w=gr(Math.sqrt(l/d)),C=Math.abs(P)<5;r||(r=C?We.restSpeed.granular:We.restSpeed.default),i||(i=C?We.restDelta.granular:We.restDelta.default);let E;if(S<1){const D=ly(w,S);E=M=>{const b=Math.exp(-S*w*M);return o-b*((_+S*w*P)/D*Math.sin(D*M)+P*Math.cos(D*M))}}else if(S===1)E=D=>o-Math.exp(-w*D)*(P+(_+w*P)*D);else{const D=w*Math.sqrt(S*S-1);E=M=>{const b=Math.exp(-S*w*M),x=Math.min(D*M,300);return o-b*((_+S*w*P)*Math.sinh(x)+D*P*Math.cosh(x))/D}}const A={calculatedDuration:y&&h||null,next:D=>{const M=E(D);if(y)a.done=D>=h;else{let b=D===0?_:0;S<1&&(b=D===0?mr(_):HA(E,D,M));const x=Math.abs(b)<=r,I=Math.abs(o-M)<=i;a.done=x&&I}return a.value=a.done?o:M,a},toString:()=>{const D=Math.min(m_(A),Ah),M=WA(b=>A.next(D*b).value,D,30);return D+"ms "+M},toTransition:()=>{}};return A}Rh.applyToOptions=t=>{const e=dB(t,100,Rh);return t.ease=e.ease,t.duration=mr(e.duration),t.type="keyframes",t};function cy({keyframes:t,velocity:e=0,power:n=.8,timeConstant:r=325,bounceDamping:i=10,bounceStiffness:s=500,modifyTarget:o,min:a,max:l,restDelta:c=.5,restSpeed:d}){const h=t[0],f={done:!1,value:h},y=x=>a!==void 0&&x<a||l!==void 0&&x>l,_=x=>a===void 0?l:l===void 0||Math.abs(a-x)<Math.abs(l-x)?a:l;let S=n*e;const P=h+S,w=o===void 0?P:o(P);w!==P&&(S=w-h);const C=x=>-S*Math.exp(-x/r),E=x=>w+C(x),A=x=>{const I=C(x),g=E(x);f.done=Math.abs(I)<=c,f.value=f.done?w:g};let D,M;const b=x=>{y(f.value)&&(D=x,M=Rh({keyframes:[f.value,_(f.value)],velocity:HA(E,x,f.value),damping:i,stiffness:s,restDelta:c,restSpeed:d}))};return b(0),{calculatedDuration:null,next:x=>{let I=!1;return!M&&D===void 0&&(I=!0,A(x),b(x)),D!==void 0&&x>=D?M.next(x-D):(!I&&A(x),f)}}}function _B(t,e,n){const r=[],i=n||ti.mix||zA,s=t.length-1;for(let o=0;o<s;o++){let a=i(t[o],t[o+1]);if(e){const l=Array.isArray(e)?e[o]||Pn:e;a=Jc(l,a)}r.push(a)}return r}function wB(t,e,{clamp:n=!0,ease:r,mixer:i}={}){const s=t.length;if(s_(s===e.length),s===1)return()=>e[0];if(s===2&&e[0]===e[1])return()=>e[1];const o=t[0]===t[1];t[0]>t[s-1]&&(t=[...t].reverse(),e=[...e].reverse());const a=_B(e,r,i),l=a.length,c=d=>{if(o&&d<t[0])return e[0];let h=0;if(l>1)for(;h<t.length-2&&!(d<t[h+1]);h++);const f=_c(t[h],t[h+1],d);return a[h](f)};return n?d=>c(ei(t[0],t[s-1],d)):c}function xB(t,e){const n=t[t.length-1];for(let r=1;r<=e;r++){const i=_c(0,e,r);t.push(je(n,1,i))}}function EB(t){const e=[0];return xB(e,t.length-1),e}function CB(t,e){return t.map(n=>n*e)}function SB(t,e){return t.map(()=>e||DA).splice(0,t.length-1)}function Ml({duration:t=300,keyframes:e,times:n,ease:r="easeInOut"}){const i=MV(r)?r.map(YE):YE(r),s={done:!1,value:e[0]},o=CB(n&&n.length===e.length?n:EB(e),t),a=wB(o,e,{ease:Array.isArray(i)?i:SB(e,i)});return{calculatedDuration:t,next:l=>(s.value=a(l),s.done=l>=t,s)}}const bB=t=>t!==null;function g_(t,{repeat:e,repeatType:n="loop"},r,i=1){const s=t.filter(bB),a=i<0||e&&n!=="loop"&&e%2===1?0:s.length-1;return!a||r===void 0?s[a]:r}const TB={decay:cy,inertia:cy,tween:Ml,keyframes:Ml,spring:Rh};function qA(t){typeof t.type=="string"&&(t.type=TB[t.type])}class y_{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,n){return this.finished.then(e,n)}}const kB=t=>t/100;class v_ extends y_{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=(n=!0)=>{var r,i;if(n){const{motionValue:s}=this.options;s&&s.updatedAt!==en.now()&&this.tick(en.now())}this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(i=(r=this.options).onStop)==null||i.call(r))},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;qA(e);const{type:n=Ml,repeat:r=0,repeatDelay:i=0,repeatType:s,velocity:o=0}=e;let{keyframes:a}=e;const l=n||Ml;l!==Ml&&typeof a[0]!="number"&&(this.mixKeyframes=Jc(kB,zA(a[0],a[1])),a=[0,100]);const c=l({...e,keyframes:a});s==="mirror"&&(this.mirroredGenerator=l({...e,keyframes:[...a].reverse(),velocity:-o})),c.calculatedDuration===null&&(c.calculatedDuration=m_(c));const{calculatedDuration:d}=c;this.calculatedDuration=d,this.resolvedDuration=d+i,this.totalDuration=this.resolvedDuration*(r+1)-i,this.generator=c}updateTime(e){const n=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(e,n=!1){const{generator:r,totalDuration:i,mixKeyframes:s,mirroredGenerator:o,resolvedDuration:a,calculatedDuration:l}=this;if(this.startTime===null)return r.next(0);const{delay:c=0,keyframes:d,repeat:h,repeatType:f,repeatDelay:y,type:_,onUpdate:S,finalKeyframe:P}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-i/this.speed,this.startTime)),n?this.currentTime=e:this.updateTime(e);const w=this.currentTime-c*(this.playbackSpeed>=0?1:-1),C=this.playbackSpeed>=0?w<0:w>i;this.currentTime=Math.max(w,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=i);let E=this.currentTime,A=r;if(h){const x=Math.min(this.currentTime,i)/a;let I=Math.floor(x),g=x%1;!g&&x>=1&&(g=1),g===1&&I--,I=Math.min(I,h+1),!!(I%2)&&(f==="reverse"?(g=1-g,y&&(g-=y/a)):f==="mirror"&&(A=o)),E=ei(0,1,g)*a}const D=C?{done:!1,value:d[0]}:A.next(E);s&&(D.value=s(D.value));let{done:M}=D;!C&&l!==null&&(M=this.playbackSpeed>=0?this.currentTime>=i:this.currentTime<=0);const b=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&M);return b&&_!==cy&&(D.value=g_(d,this.options,P,this.speed)),S&&S(D.value),b&&this.finish(),D}then(e,n){return this.finished.then(e,n)}get duration(){return gr(this.calculatedDuration)}get time(){return gr(this.currentTime)}set time(e){var n;e=mr(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),(n=this.driver)==null||n.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(en.now());const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=gr(this.currentTime))}play(){var i,s;if(this.isStopped)return;const{driver:e=uB,startTime:n}=this.options;this.driver||(this.driver=e(o=>this.tick(o))),(s=(i=this.options).onPlay)==null||s.call(i);const r=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=r):this.holdTime!==null?this.startTime=r-this.holdTime:this.startTime||(this.startTime=n??r),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(en.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var e,n;this.notifyFinished(),this.teardown(),this.state="finished",(n=(e=this.options).onComplete)==null||n.call(e)}cancel(){var e,n;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(n=(e=this.options).onCancel)==null||n.call(e)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){var n;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(n=this.driver)==null||n.stop(),e.observe(this)}}function IB(t){for(let e=1;e<t.length;e++)t[e]??(t[e]=t[e-1])}const ws=t=>t*180/Math.PI,uy=t=>{const e=ws(Math.atan2(t[1],t[0]));return dy(e)},PB={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:uy,rotateZ:uy,skewX:t=>ws(Math.atan(t[1])),skewY:t=>ws(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},dy=t=>(t=t%360,t<0&&(t+=360),t),nC=uy,rC=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),iC=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),AB={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:rC,scaleY:iC,scale:t=>(rC(t)+iC(t))/2,rotateX:t=>dy(ws(Math.atan2(t[6],t[5]))),rotateY:t=>dy(ws(Math.atan2(-t[2],t[0]))),rotateZ:nC,rotate:nC,skewX:t=>ws(Math.atan(t[4])),skewY:t=>ws(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function hy(t){return t.includes("scale")?1:0}function fy(t,e){if(!t||t==="none")return hy(e);const n=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let r,i;if(n)r=AB,i=n;else{const a=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);r=PB,i=a}if(!i)return hy(e);const s=r[e],o=i[1].split(",").map(NB);return typeof s=="function"?s(o):o[s]}const RB=(t,e)=>{const{transform:n="none"}=getComputedStyle(t);return fy(n,e)};function NB(t){return parseFloat(t.trim())}const Ta=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],ka=(()=>new Set(Ta))(),sC=t=>t===ba||t===Z,DB=new Set(["x","y","z"]),OB=Ta.filter(t=>!DB.has(t));function MB(t){const e=[];return OB.forEach(n=>{const r=t.getValue(n);r!==void 0&&(e.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),e}const Ss={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:(t,{transform:e})=>fy(e,"x"),y:(t,{transform:e})=>fy(e,"y")};Ss.translateX=Ss.x;Ss.translateY=Ss.y;const bs=new Set;let py=!1,my=!1,gy=!1;function GA(){if(my){const t=Array.from(bs).filter(r=>r.needsMeasurement),e=new Set(t.map(r=>r.element)),n=new Map;e.forEach(r=>{const i=MB(r);i.length&&(n.set(r,i),r.render())}),t.forEach(r=>r.measureInitialState()),e.forEach(r=>{r.render();const i=n.get(r);i&&i.forEach(([s,o])=>{var a;(a=r.getValue(s))==null||a.set(o)})}),t.forEach(r=>r.measureEndState()),t.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}my=!1,py=!1,bs.forEach(t=>t.complete(gy)),bs.clear()}function KA(){bs.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(my=!0)})}function LB(){gy=!0,KA(),GA(),gy=!1}class __{constructor(e,n,r,i,s,o=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=r,this.motionValue=i,this.element=s,this.isAsync=o}scheduleResolve(){this.state="scheduled",this.isAsync?(bs.add(this),py||(py=!0,$e.read(KA),$e.resolveKeyframes(GA))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:r,motionValue:i}=this;if(e[0]===null){const s=i==null?void 0:i.get(),o=e[e.length-1];if(s!==void 0)e[0]=s;else if(r&&n){const a=r.readValue(n,o);a!=null&&(e[0]=a)}e[0]===void 0&&(e[0]=o),i&&s===void 0&&i.set(e[0])}IB(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),bs.delete(this)}cancel(){this.state==="scheduled"&&(bs.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const jB=t=>t.startsWith("--");function FB(t,e,n){jB(e)?t.style.setProperty(e,n):t.style[e]=n}const $B=o_(()=>window.ScrollTimeline!==void 0),UB={};function VB(t,e){const n=o_(t);return()=>UB[e]??n()}const YA=VB(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),fl=([t,e,n,r])=>`cubic-bezier(${t}, ${e}, ${n}, ${r})`,oC={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:fl([0,.65,.55,1]),circOut:fl([.55,0,1,.45]),backIn:fl([.31,.01,.66,-.59]),backOut:fl([.33,1.53,.69,.99])};function XA(t,e){if(t)return typeof t=="function"?YA()?WA(t,e):"ease-out":OA(t)?fl(t):Array.isArray(t)?t.map(n=>XA(n,e)||oC.easeOut):oC[t]}function BB(t,e,n,{delay:r=0,duration:i=300,repeat:s=0,repeatType:o="loop",ease:a="easeOut",times:l}={},c=void 0){const d={[e]:n};l&&(d.offset=l);const h=XA(a,i);Array.isArray(h)&&(d.easing=h);const f={delay:r,duration:i,easing:Array.isArray(h)?"linear":h,fill:"both",iterations:s+1,direction:o==="reverse"?"alternate":"normal"};return c&&(f.pseudoElement=c),t.animate(d,f)}function JA(t){return typeof t=="function"&&"applyToOptions"in t}function zB({type:t,...e}){return JA(t)&&YA()?t.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class WB extends y_{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,!e)return;const{element:n,name:r,keyframes:i,pseudoElement:s,allowFlatten:o=!1,finalKeyframe:a,onComplete:l}=e;this.isPseudoElement=!!s,this.allowFlatten=o,this.options=e,s_(typeof e.type!="string");const c=zB(e);this.animation=BB(n,r,i,c,s),c.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!s){const d=g_(i,this.options,a,this.speed);this.updateMotionValue?this.updateMotionValue(d):FB(n,r,d),this.animation.cancel()}l==null||l(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var e,n;(n=(e=this.animation).finish)==null||n.call(e)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var e,n;this.isPseudoElement||(n=(e=this.animation).commitStyles)==null||n.call(e)}get duration(){var n,r;const e=((r=(n=this.animation.effect)==null?void 0:n.getComputedTiming)==null?void 0:r.call(n).duration)||0;return gr(Number(e))}get time(){return gr(Number(this.animation.currentTime)||0)}set time(e){this.finishedTime=null,this.animation.currentTime=mr(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(e){this.animation.startTime=e}attachTimeline({timeline:e,observe:n}){var r;return this.allowFlatten&&((r=this.animation.effect)==null||r.updateTiming({easing:"linear"})),this.animation.onfinish=null,e&&$B()?(this.animation.timeline=e,Pn):n(this)}}const QA={anticipate:AA,backInOut:PA,circInOut:NA};function HB(t){return t in QA}function qB(t){typeof t.ease=="string"&&HB(t.ease)&&(t.ease=QA[t.ease])}const aC=10;class GB extends WB{constructor(e){qB(e),qA(e),super(e),e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:n,onUpdate:r,onComplete:i,element:s,...o}=this.options;if(!n)return;if(e!==void 0){n.set(e);return}const a=new v_({...o,autoplay:!1}),l=mr(this.finishedTime??this.time);n.setWithVelocity(a.sample(l-aC).value,a.sample(l).value,aC),a.stop()}}const lC=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(Wi.test(t)||t==="0")&&!t.startsWith("url("));function KB(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function YB(t,e,n,r){const i=t[0];if(i===null)return!1;if(e==="display"||e==="visibility")return!0;const s=t[t.length-1],o=lC(i,e),a=lC(s,e);return!o||!a?!1:KB(t)||(n==="spring"||JA(n))&&r}function w_(t){return EA(t)&&"offsetHeight"in t}const XB=new Set(["opacity","clipPath","filter","transform"]),JB=o_(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function QB(t){var c;const{motionValue:e,name:n,repeatDelay:r,repeatType:i,damping:s,type:o}=t;if(!w_((c=e==null?void 0:e.owner)==null?void 0:c.current))return!1;const{onUpdate:a,transformTemplate:l}=e.owner.getProps();return JB()&&n&&XB.has(n)&&(n!=="transform"||!l)&&!a&&!r&&i!=="mirror"&&s!==0&&o!=="inertia"}const ZB=40;class e8 extends y_{constructor({autoplay:e=!0,delay:n=0,type:r="keyframes",repeat:i=0,repeatDelay:s=0,repeatType:o="loop",keyframes:a,name:l,motionValue:c,element:d,...h}){var _;super(),this.stop=()=>{var S,P;this._animation&&(this._animation.stop(),(S=this.stopTimeline)==null||S.call(this)),(P=this.keyframeResolver)==null||P.cancel()},this.createdAt=en.now();const f={autoplay:e,delay:n,type:r,repeat:i,repeatDelay:s,repeatType:o,name:l,motionValue:c,element:d,...h},y=(d==null?void 0:d.KeyframeResolver)||__;this.keyframeResolver=new y(a,(S,P,w)=>this.onKeyframesResolved(S,P,f,!w),l,c,d),(_=this.keyframeResolver)==null||_.scheduleResolve()}onKeyframesResolved(e,n,r,i){this.keyframeResolver=void 0;const{name:s,type:o,velocity:a,delay:l,isHandoff:c,onUpdate:d}=r;this.resolvedAt=en.now(),YB(e,s,o,a)||((ti.instantAnimations||!l)&&(d==null||d(g_(e,r,n))),e[0]=e[e.length-1],r.duration=0,r.repeat=0);const f={startTime:i?this.resolvedAt?this.resolvedAt-this.createdAt>ZB?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...r,keyframes:e},y=!c&&QB(f)?new GB({...f,element:f.motionValue.owner.current}):new v_(f);y.finished.then(()=>this.notifyFinished()).catch(Pn),this.pendingTimeline&&(this.stopTimeline=y.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=y}get finished(){return this._animation?this.animation.finished:this._finished}then(e,n){return this.finished.finally(e).then(()=>{})}get animation(){var e;return this._animation||((e=this.keyframeResolver)==null||e.resume(),LB()),this._animation}get duration(){return this.animation.duration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var e;this._animation&&this.animation.cancel(),(e=this.keyframeResolver)==null||e.cancel()}}const t8=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function n8(t){const e=t8.exec(t);if(!e)return[,];const[,n,r,i]=e;return[`--${n??r}`,i]}function ZA(t,e,n=1){const[r,i]=n8(t);if(!r)return;const s=window.getComputedStyle(e).getPropertyValue(r);if(s){const o=s.trim();return xA(o)?parseFloat(o):o}return d_(i)?ZA(i,e,n+1):i}function x_(t,e){return(t==null?void 0:t[e])??(t==null?void 0:t.default)??t}const e2=new Set(["width","height","top","left","right","bottom",...Ta]),r8={test:t=>t==="auto",parse:t=>t},t2=t=>e=>e.test(t),n2=[ba,Z,yr,pi,KV,GV,r8],cC=t=>n2.find(t2(t));function i8(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||CA(t):!0}const s8=new Set(["brightness","contrast","saturate","opacity"]);function o8(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[r]=n.match(h_)||[];if(!r)return t;const i=n.replace(r,"");let s=s8.has(e)?1:0;return r!==n&&(s*=100),e+"("+s+i+")"}const a8=/\b([a-z-]*)\(.*?\)/gu,yy={...Wi,getAnimatableNone:t=>{const e=t.match(a8);return e?e.map(o8).join(" "):t}},uC={...ba,transform:Math.round},l8={rotate:pi,rotateX:pi,rotateY:pi,rotateZ:pi,scale:Wu,scaleX:Wu,scaleY:Wu,scaleZ:Wu,skew:pi,skewX:pi,skewY:pi,distance:Z,translateX:Z,translateY:Z,translateZ:Z,x:Z,y:Z,z:Z,perspective:Z,transformPerspective:Z,opacity:wc,originX:JE,originY:JE,originZ:Z},E_={borderWidth:Z,borderTopWidth:Z,borderRightWidth:Z,borderBottomWidth:Z,borderLeftWidth:Z,borderRadius:Z,radius:Z,borderTopLeftRadius:Z,borderTopRightRadius:Z,borderBottomRightRadius:Z,borderBottomLeftRadius:Z,width:Z,maxWidth:Z,height:Z,maxHeight:Z,top:Z,right:Z,bottom:Z,left:Z,padding:Z,paddingTop:Z,paddingRight:Z,paddingBottom:Z,paddingLeft:Z,margin:Z,marginTop:Z,marginRight:Z,marginBottom:Z,marginLeft:Z,backgroundPositionX:Z,backgroundPositionY:Z,...l8,zIndex:uC,fillOpacity:wc,strokeOpacity:wc,numOctaves:uC},c8={...E_,color:It,backgroundColor:It,outlineColor:It,fill:It,stroke:It,borderColor:It,borderTopColor:It,borderRightColor:It,borderBottomColor:It,borderLeftColor:It,filter:yy,WebkitFilter:yy},r2=t=>c8[t];function i2(t,e){let n=r2(t);return n!==yy&&(n=Wi),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const u8=new Set(["auto","none","0"]);function d8(t,e,n){let r=0,i;for(;r<t.length&&!i;){const s=t[r];typeof s=="string"&&!u8.has(s)&&xc(s).values.length&&(i=t[r]),r++}if(i&&n)for(const s of e)t[s]=i2(n,i)}class h8 extends __{constructor(e,n,r,i,s){super(e,n,r,i,s,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let l=0;l<e.length;l++){let c=e[l];if(typeof c=="string"&&(c=c.trim(),d_(c))){const d=ZA(c,n.current);d!==void 0&&(e[l]=d),l===e.length-1&&(this.finalKeyframe=c)}}if(this.resolveNoneKeyframes(),!e2.has(r)||e.length!==2)return;const[i,s]=e,o=cC(i),a=cC(s);if(o!==a)if(sC(o)&&sC(a))for(let l=0;l<e.length;l++){const c=e[l];typeof c=="string"&&(e[l]=parseFloat(c))}else Ss[r]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,r=[];for(let i=0;i<e.length;i++)(e[i]===null||i8(e[i]))&&r.push(i);r.length&&d8(e,r,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:r}=this;if(!e||!e.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Ss[r](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const i=n[n.length-1];i!==void 0&&e.getValue(r,i).jump(i,!1)}measureEndState(){var a;const{element:e,name:n,unresolvedKeyframes:r}=this;if(!e||!e.current)return;const i=e.getValue(n);i&&i.jump(this.measuredOrigin,!1);const s=r.length-1,o=r[s];r[s]=Ss[n](e.measureViewportBox(),window.getComputedStyle(e.current)),o!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=o),(a=this.removedTransforms)!=null&&a.length&&this.removedTransforms.forEach(([l,c])=>{e.getValue(l).set(c)}),this.resolveNoneKeyframes()}}function f8(t,e,n){if(t instanceof EventTarget)return[t];if(typeof t=="string"){let r=document;e&&(r=e.current);const i=(n==null?void 0:n[t])??r.querySelectorAll(t);return i?Array.from(i):[]}return Array.from(t)}const dC=30,p8=t=>!isNaN(parseFloat(t));class m8{constructor(e,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=(r,i=!0)=>{var o,a;const s=en.now();if(this.updatedAt!==s&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&((o=this.events.change)==null||o.notify(this.current),this.dependents))for(const l of this.dependents)l.dirty();i&&((a=this.events.renderRequest)==null||a.notify(this.current))},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=en.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=p8(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new a_);const r=this.events[e].add(n);return e==="change"?()=>{r(),$e.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e,n=!0){!n||!this.passiveEffect?this.updateAndNotify(e,n):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-r}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var e;(e=this.events.change)==null||e.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=en.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>dC)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,dC);return SA(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var e,n;(e=this.dependents)==null||e.clear(),(n=this.events.destroy)==null||n.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function sa(t,e){return new m8(t,e)}const s2=(t,e)=>e&&typeof t=="number"?e.transform(t):t,{schedule:C_,cancel:jY}=MA(queueMicrotask,!1),Un={x:!1,y:!1};function o2(){return Un.x||Un.y}function g8(t){return t==="x"||t==="y"?Un[t]?null:(Un[t]=!0,()=>{Un[t]=!1}):Un.x||Un.y?null:(Un.x=Un.y=!0,()=>{Un.x=Un.y=!1})}function a2(t,e){const n=f8(t),r=new AbortController,i={passive:!0,...e,signal:r.signal};return[n,i,()=>r.abort()]}function hC(t){return!(t.pointerType==="touch"||o2())}function y8(t,e,n={}){const[r,i,s]=a2(t,n),o=a=>{if(!hC(a))return;const{target:l}=a,c=e(l,a);if(typeof c!="function"||!l)return;const d=h=>{hC(h)&&(c(h),l.removeEventListener("pointerleave",d))};l.addEventListener("pointerleave",d,i)};return r.forEach(a=>{a.addEventListener("pointerenter",o,i)}),s}const l2=(t,e)=>e?t===e?!0:l2(t,e.parentElement):!1,S_=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,v8=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function _8(t){return v8.has(t.tagName)||t.tabIndex!==-1}const wd=new WeakSet;function fC(t){return e=>{e.key==="Enter"&&t(e)}}function xm(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const w8=(t,e)=>{const n=t.currentTarget;if(!n)return;const r=fC(()=>{if(wd.has(n))return;xm(n,"down");const i=fC(()=>{xm(n,"up")}),s=()=>xm(n,"cancel");n.addEventListener("keyup",i,e),n.addEventListener("blur",s,e)});n.addEventListener("keydown",r,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),e)};function pC(t){return S_(t)&&!o2()}function x8(t,e,n={}){const[r,i,s]=a2(t,n),o=a=>{const l=a.currentTarget;if(!pC(a))return;wd.add(l);const c=e(l,a),d=(y,_)=>{window.removeEventListener("pointerup",h),window.removeEventListener("pointercancel",f),wd.has(l)&&wd.delete(l),pC(y)&&typeof c=="function"&&c(y,{success:_})},h=y=>{d(y,l===window||l===document||n.useGlobalTarget||l2(l,y.target))},f=y=>{d(y,!1)};window.addEventListener("pointerup",h,i),window.addEventListener("pointercancel",f,i)};return r.forEach(a=>{(n.useGlobalTarget?window:a).addEventListener("pointerdown",o,i),w_(a)&&(a.addEventListener("focus",c=>w8(c,i)),!_8(a)&&!a.hasAttribute("tabindex")&&(a.tabIndex=0))}),s}function c2(t){return EA(t)&&"ownerSVGElement"in t}function E8(t){return c2(t)&&t.tagName==="svg"}const Nt=t=>!!(t&&t.getVelocity),C8=[...n2,It,Wi],S8=t=>C8.find(t2(t)),b_=T.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});class b8 extends T.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const r=n.offsetParent,i=w_(r)&&r.offsetWidth||0,s=this.props.sizeRef.current;s.height=n.offsetHeight||0,s.width=n.offsetWidth||0,s.top=n.offsetTop,s.left=n.offsetLeft,s.right=i-s.width-s.left}return null}componentDidUpdate(){}render(){return this.props.children}}function T8({children:t,isPresent:e,anchorX:n}){const r=T.useId(),i=T.useRef(null),s=T.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:o}=T.useContext(b_);return T.useInsertionEffect(()=>{const{width:a,height:l,top:c,left:d,right:h}=s.current;if(e||!i.current||!a||!l)return;const f=n==="left"?`left: ${d}`:`right: ${h}`;i.current.dataset.motionPopId=r;const y=document.createElement("style");return o&&(y.nonce=o),document.head.appendChild(y),y.sheet&&y.sheet.insertRule(`
          [data-motion-pop-id="${r}"] {
            position: absolute !important;
            width: ${a}px !important;
            height: ${l}px !important;
            ${f}px !important;
            top: ${c}px !important;
          }
        `),()=>{document.head.contains(y)&&document.head.removeChild(y)}},[e]),m.jsx(b8,{isPresent:e,childRef:i,sizeRef:s,children:T.cloneElement(t,{ref:i})})}const k8=({children:t,initial:e,isPresent:n,onExitComplete:r,custom:i,presenceAffectsLayout:s,mode:o,anchorX:a})=>{const l=t_(I8),c=T.useId();let d=!0,h=T.useMemo(()=>(d=!1,{id:c,initial:e,isPresent:n,custom:i,onExitComplete:f=>{l.set(f,!0);for(const y of l.values())if(!y)return;r&&r()},register:f=>(l.set(f,!1),()=>l.delete(f))}),[n,l,r]);return s&&d&&(h={...h}),T.useMemo(()=>{l.forEach((f,y)=>l.set(y,!1))},[n]),T.useEffect(()=>{!n&&!l.size&&r&&r()},[n]),o==="popLayout"&&(t=m.jsx(T8,{isPresent:n,anchorX:a,children:t})),m.jsx(kf.Provider,{value:h,children:t})};function I8(){return new Map}function u2(t=!0){const e=T.useContext(kf);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:r,register:i}=e,s=T.useId();T.useEffect(()=>{if(t)return i(s)},[t]);const o=T.useCallback(()=>t&&r&&r(s),[s,r,t]);return!n&&r?[!1,o]:[!0]}const Hu=t=>t.key||"";function mC(t){const e=[];return T.Children.forEach(t,n=>{T.isValidElement(n)&&e.push(n)}),e}const P8=({children:t,custom:e,initial:n=!0,onExitComplete:r,presenceAffectsLayout:i=!0,mode:s="sync",propagate:o=!1,anchorX:a="left"})=>{const[l,c]=u2(o),d=T.useMemo(()=>mC(t),[t]),h=o&&!l?[]:d.map(Hu),f=T.useRef(!0),y=T.useRef(d),_=t_(()=>new Map),[S,P]=T.useState(d),[w,C]=T.useState(d);wA(()=>{f.current=!1,y.current=d;for(let D=0;D<w.length;D++){const M=Hu(w[D]);h.includes(M)?_.delete(M):_.get(M)!==!0&&_.set(M,!1)}},[w,h.length,h.join("-")]);const E=[];if(d!==S){let D=[...d];for(let M=0;M<w.length;M++){const b=w[M],x=Hu(b);h.includes(x)||(D.splice(M,0,b),E.push(b))}return s==="wait"&&E.length&&(D=E),C(mC(D)),P(d),null}const{forceRender:A}=T.useContext(e_);return m.jsx(m.Fragment,{children:w.map(D=>{const M=Hu(D),b=o&&!l?!1:d===w||h.includes(M),x=()=>{if(_.has(M))_.set(M,!0);else return;let I=!0;_.forEach(g=>{g||(I=!1)}),I&&(A==null||A(),C(y.current),o&&(c==null||c()),r&&r())};return m.jsx(k8,{isPresent:b,initial:!f.current||n?void 0:!1,custom:e,presenceAffectsLayout:i,mode:s,onExitComplete:b?void 0:x,anchorX:a,children:D},M)})})},d2=T.createContext({strict:!1}),gC={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},oa={};for(const t in gC)oa[t]={isEnabled:e=>gC[t].some(n=>!!e[n])};function A8(t){for(const e in t)oa[e]={...oa[e],...t[e]}}const R8=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Nh(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||R8.has(t)}let h2=t=>!Nh(t);function N8(t){t&&(h2=e=>e.startsWith("on")?!Nh(e):t(e))}try{N8(require("@emotion/is-prop-valid").default)}catch{}function D8(t,e,n){const r={};for(const i in t)i==="values"&&typeof t.values=="object"||(h2(i)||n===!0&&Nh(i)||!e&&!Nh(i)||t.draggable&&i.startsWith("onDrag"))&&(r[i]=t[i]);return r}function O8(t){if(typeof Proxy>"u")return t;const e=new Map,n=(...r)=>t(...r);return new Proxy(n,{get:(r,i)=>i==="create"?t:(e.has(i)||e.set(i,t(i)),e.get(i))})}const If=T.createContext({});function Pf(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function Ec(t){return typeof t=="string"||Array.isArray(t)}const T_=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],k_=["initial",...T_];function Af(t){return Pf(t.animate)||k_.some(e=>Ec(t[e]))}function f2(t){return!!(Af(t)||t.variants)}function M8(t,e){if(Af(t)){const{initial:n,animate:r}=t;return{initial:n===!1||Ec(n)?n:void 0,animate:Ec(r)?r:void 0}}return t.inherit!==!1?e:{}}function L8(t){const{initial:e,animate:n}=M8(t,T.useContext(If));return T.useMemo(()=>({initial:e,animate:n}),[yC(e),yC(n)])}function yC(t){return Array.isArray(t)?t.join(" "):t}const j8=Symbol.for("motionComponentSymbol");function bo(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function F8(t,e,n){return T.useCallback(r=>{r&&t.onMount&&t.onMount(r),e&&(r?e.mount(r):e.unmount()),n&&(typeof n=="function"?n(r):bo(n)&&(n.current=r))},[e])}const I_=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),$8="framerAppearId",p2="data-"+I_($8),m2=T.createContext({});function U8(t,e,n,r,i){var S,P;const{visualElement:s}=T.useContext(If),o=T.useContext(d2),a=T.useContext(kf),l=T.useContext(b_).reducedMotion,c=T.useRef(null);r=r||o.renderer,!c.current&&r&&(c.current=r(t,{visualState:e,parent:s,props:n,presenceContext:a,blockInitialAnimation:a?a.initial===!1:!1,reducedMotionConfig:l}));const d=c.current,h=T.useContext(m2);d&&!d.projection&&i&&(d.type==="html"||d.type==="svg")&&V8(c.current,n,i,h);const f=T.useRef(!1);T.useInsertionEffect(()=>{d&&f.current&&d.update(n,a)});const y=n[p2],_=T.useRef(!!y&&!((S=window.MotionHandoffIsComplete)!=null&&S.call(window,y))&&((P=window.MotionHasOptimisedAnimation)==null?void 0:P.call(window,y)));return wA(()=>{d&&(f.current=!0,window.MotionIsMounted=!0,d.updateFeatures(),C_.render(d.render),_.current&&d.animationState&&d.animationState.animateChanges())}),T.useEffect(()=>{d&&(!_.current&&d.animationState&&d.animationState.animateChanges(),_.current&&(queueMicrotask(()=>{var w;(w=window.MotionHandoffMarkAsComplete)==null||w.call(window,y)}),_.current=!1))}),d}function V8(t,e,n,r){const{layoutId:i,layout:s,drag:o,dragConstraints:a,layoutScroll:l,layoutRoot:c,layoutCrossfade:d}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:g2(t.parent)),t.projection.setOptions({layoutId:i,layout:s,alwaysMeasureLayout:!!o||a&&bo(a),visualElement:t,animationType:typeof s=="string"?s:"both",initialPromotionConfig:r,crossfade:d,layoutScroll:l,layoutRoot:c})}function g2(t){if(t)return t.options.allowProjection!==!1?t.projection:g2(t.parent)}function B8({preloadedFeatures:t,createVisualElement:e,useRender:n,useVisualState:r,Component:i}){t&&A8(t);function s(a,l){let c;const d={...T.useContext(b_),...a,layoutId:z8(a)},{isStatic:h}=d,f=L8(a),y=r(a,h);if(!h&&n_){W8();const _=H8(d);c=_.MeasureLayout,f.visualElement=U8(i,y,d,e,_.ProjectionNode)}return m.jsxs(If.Provider,{value:f,children:[c&&f.visualElement?m.jsx(c,{visualElement:f.visualElement,...d}):null,n(i,a,F8(y,f.visualElement,l),y,h,f.visualElement)]})}s.displayName=`motion.${typeof i=="string"?i:`create(${i.displayName??i.name??""})`}`;const o=T.forwardRef(s);return o[j8]=i,o}function z8({layoutId:t}){const e=T.useContext(e_).id;return e&&t!==void 0?e+"-"+t:t}function W8(t,e){T.useContext(d2).strict}function H8(t){const{drag:e,layout:n}=oa;if(!e&&!n)return{};const r={...e,...n};return{MeasureLayout:e!=null&&e.isEnabled(t)||n!=null&&n.isEnabled(t)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}const Cc={};function q8(t){for(const e in t)Cc[e]=t[e],u_(e)&&(Cc[e].isCSSVariable=!0)}function y2(t,{layout:e,layoutId:n}){return ka.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!Cc[t]||t==="opacity")}const G8={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},K8=Ta.length;function Y8(t,e,n){let r="",i=!0;for(let s=0;s<K8;s++){const o=Ta[s],a=t[o];if(a===void 0)continue;let l=!0;if(typeof a=="number"?l=a===(o.startsWith("scale")?1:0):l=parseFloat(a)===0,!l||n){const c=s2(a,E_[o]);if(!l){i=!1;const d=G8[o]||o;r+=`${d}(${c}) `}n&&(e[o]=c)}}return r=r.trim(),n?r=n(e,i?"":r):i&&(r="none"),r}function P_(t,e,n){const{style:r,vars:i,transformOrigin:s}=t;let o=!1,a=!1;for(const l in e){const c=e[l];if(ka.has(l)){o=!0;continue}else if(u_(l)){i[l]=c;continue}else{const d=s2(c,E_[l]);l.startsWith("origin")?(a=!0,s[l]=d):r[l]=d}}if(e.transform||(o||n?r.transform=Y8(e,t.transform,n):r.transform&&(r.transform="none")),a){const{originX:l="50%",originY:c="50%",originZ:d=0}=s;r.transformOrigin=`${l} ${c} ${d}`}}const A_=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function v2(t,e,n){for(const r in e)!Nt(e[r])&&!y2(r,n)&&(t[r]=e[r])}function X8({transformTemplate:t},e){return T.useMemo(()=>{const n=A_();return P_(n,e,t),Object.assign({},n.vars,n.style)},[e])}function J8(t,e){const n=t.style||{},r={};return v2(r,n,t),Object.assign(r,X8(t,e)),r}function Q8(t,e){const n={},r=J8(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=r,n}const Z8={offset:"stroke-dashoffset",array:"stroke-dasharray"},e7={offset:"strokeDashoffset",array:"strokeDasharray"};function t7(t,e,n=1,r=0,i=!0){t.pathLength=1;const s=i?Z8:e7;t[s.offset]=Z.transform(-r);const o=Z.transform(e),a=Z.transform(n);t[s.array]=`${o} ${a}`}function _2(t,{attrX:e,attrY:n,attrScale:r,pathLength:i,pathSpacing:s=1,pathOffset:o=0,...a},l,c,d){if(P_(t,a,c),l){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:h,style:f}=t;h.transform&&(f.transform=h.transform,delete h.transform),(f.transform||h.transformOrigin)&&(f.transformOrigin=h.transformOrigin??"50% 50%",delete h.transformOrigin),f.transform&&(f.transformBox=(d==null?void 0:d.transformBox)??"fill-box",delete h.transformBox),e!==void 0&&(h.x=e),n!==void 0&&(h.y=n),r!==void 0&&(h.scale=r),i!==void 0&&t7(h,i,s,o,!1)}const w2=()=>({...A_(),attrs:{}}),x2=t=>typeof t=="string"&&t.toLowerCase()==="svg";function n7(t,e,n,r){const i=T.useMemo(()=>{const s=w2();return _2(s,e,x2(r),t.transformTemplate,t.style),{...s.attrs,style:{...s.style}}},[e]);if(t.style){const s={};v2(s,t.style,t),i.style={...s,...i.style}}return i}const r7=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function R_(t){return typeof t!="string"||t.includes("-")?!1:!!(r7.indexOf(t)>-1||/[A-Z]/u.test(t))}function i7(t=!1){return(n,r,i,{latestValues:s},o)=>{const l=(R_(n)?n7:Q8)(r,s,o,n),c=D8(r,typeof n=="string",t),d=n!==T.Fragment?{...c,...l,ref:i}:{},{children:h}=r,f=T.useMemo(()=>Nt(h)?h.get():h,[h]);return T.createElement(n,{...d,children:f})}}function vC(t){const e=[{},{}];return t==null||t.values.forEach((n,r)=>{e[0][r]=n.get(),e[1][r]=n.getVelocity()}),e}function N_(t,e,n,r){if(typeof e=="function"){const[i,s]=vC(r);e=e(n!==void 0?n:t.custom,i,s)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[i,s]=vC(r);e=e(n!==void 0?n:t.custom,i,s)}return e}function xd(t){return Nt(t)?t.get():t}function s7({scrapeMotionValuesFromProps:t,createRenderState:e},n,r,i){return{latestValues:o7(n,r,i,t),renderState:e()}}const E2=t=>(e,n)=>{const r=T.useContext(If),i=T.useContext(kf),s=()=>s7(t,e,r,i);return n?s():t_(s)};function o7(t,e,n,r){const i={},s=r(t,{});for(const f in s)i[f]=xd(s[f]);let{initial:o,animate:a}=t;const l=Af(t),c=f2(t);e&&c&&!l&&t.inherit!==!1&&(o===void 0&&(o=e.initial),a===void 0&&(a=e.animate));let d=n?n.initial===!1:!1;d=d||o===!1;const h=d?a:o;if(h&&typeof h!="boolean"&&!Pf(h)){const f=Array.isArray(h)?h:[h];for(let y=0;y<f.length;y++){const _=N_(t,f[y]);if(_){const{transitionEnd:S,transition:P,...w}=_;for(const C in w){let E=w[C];if(Array.isArray(E)){const A=d?E.length-1:0;E=E[A]}E!==null&&(i[C]=E)}for(const C in S)i[C]=S[C]}}}return i}function D_(t,e,n){var s;const{style:r}=t,i={};for(const o in r)(Nt(r[o])||e.style&&Nt(e.style[o])||y2(o,t)||((s=n==null?void 0:n.getValue(o))==null?void 0:s.liveStyle)!==void 0)&&(i[o]=r[o]);return i}const a7={useVisualState:E2({scrapeMotionValuesFromProps:D_,createRenderState:A_})};function C2(t,e,n){const r=D_(t,e,n);for(const i in t)if(Nt(t[i])||Nt(e[i])){const s=Ta.indexOf(i)!==-1?"attr"+i.charAt(0).toUpperCase()+i.substring(1):i;r[s]=t[i]}return r}const l7={useVisualState:E2({scrapeMotionValuesFromProps:C2,createRenderState:w2})};function c7(t,e){return function(r,{forwardMotionProps:i}={forwardMotionProps:!1}){const o={...R_(r)?l7:a7,preloadedFeatures:t,useRender:i7(i),createVisualElement:e,Component:r};return B8(o)}}function Sc(t,e,n){const r=t.getProps();return N_(r,e,n!==void 0?n:r.custom,t)}const vy=t=>Array.isArray(t);function u7(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,sa(n))}function d7(t){return vy(t)?t[t.length-1]||0:t}function h7(t,e){const n=Sc(t,e);let{transitionEnd:r={},transition:i={},...s}=n||{};s={...s,...r};for(const o in s){const a=d7(s[o]);u7(t,o,a)}}function f7(t){return!!(Nt(t)&&t.add)}function _y(t,e){const n=t.getValue("willChange");if(f7(n))return n.add(e);if(!n&&ti.WillChange){const r=new ti.WillChange("auto");t.addValue("willChange",r),r.add(e)}}function S2(t){return t.props[p2]}const p7=t=>t!==null;function m7(t,{repeat:e,repeatType:n="loop"},r){const i=t.filter(p7),s=e&&n!=="loop"&&e%2===1?0:i.length-1;return!s||r===void 0?i[s]:r}const g7={type:"spring",stiffness:500,damping:25,restSpeed:10},y7=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),v7={type:"keyframes",duration:.8},_7={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},w7=(t,{keyframes:e})=>e.length>2?v7:ka.has(t)?t.startsWith("scale")?y7(e[1]):g7:_7;function x7({when:t,delay:e,delayChildren:n,staggerChildren:r,staggerDirection:i,repeat:s,repeatType:o,repeatDelay:a,from:l,elapsed:c,...d}){return!!Object.keys(d).length}const O_=(t,e,n,r={},i,s)=>o=>{const a=x_(r,t)||{},l=a.delay||r.delay||0;let{elapsed:c=0}=r;c=c-mr(l);const d={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...a,delay:-c,onUpdate:f=>{e.set(f),a.onUpdate&&a.onUpdate(f)},onComplete:()=>{o(),a.onComplete&&a.onComplete()},name:t,motionValue:e,element:s?void 0:i};x7(a)||Object.assign(d,w7(t,d)),d.duration&&(d.duration=mr(d.duration)),d.repeatDelay&&(d.repeatDelay=mr(d.repeatDelay)),d.from!==void 0&&(d.keyframes[0]=d.from);let h=!1;if((d.type===!1||d.duration===0&&!d.repeatDelay)&&(d.duration=0,d.delay===0&&(h=!0)),(ti.instantAnimations||ti.skipAnimations)&&(h=!0,d.duration=0,d.delay=0),d.allowFlatten=!a.type&&!a.ease,h&&!s&&e.get()!==void 0){const f=m7(d.keyframes,a);if(f!==void 0){$e.update(()=>{d.onUpdate(f),d.onComplete()});return}}return a.isSync?new v_(d):new e8(d)};function E7({protectedKeys:t,needsAnimating:e},n){const r=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,r}function b2(t,e,{delay:n=0,transitionOverride:r,type:i}={}){let{transition:s=t.getDefaultTransition(),transitionEnd:o,...a}=e;r&&(s=r);const l=[],c=i&&t.animationState&&t.animationState.getState()[i];for(const d in a){const h=t.getValue(d,t.latestValues[d]??null),f=a[d];if(f===void 0||c&&E7(c,d))continue;const y={delay:n,...x_(s||{},d)},_=h.get();if(_!==void 0&&!h.isAnimating&&!Array.isArray(f)&&f===_&&!y.velocity)continue;let S=!1;if(window.MotionHandoffAnimation){const w=S2(t);if(w){const C=window.MotionHandoffAnimation(w,d,$e);C!==null&&(y.startTime=C,S=!0)}}_y(t,d),h.start(O_(d,h,f,t.shouldReduceMotion&&e2.has(d)?{type:!1}:y,t,S));const P=h.animation;P&&l.push(P)}return o&&Promise.all(l).then(()=>{$e.update(()=>{o&&h7(t,o)})}),l}function wy(t,e,n={}){var l;const r=Sc(t,e,n.type==="exit"?(l=t.presenceContext)==null?void 0:l.custom:void 0);let{transition:i=t.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(i=n.transitionOverride);const s=r?()=>Promise.all(b2(t,r,n)):()=>Promise.resolve(),o=t.variantChildren&&t.variantChildren.size?(c=0)=>{const{delayChildren:d=0,staggerChildren:h,staggerDirection:f}=i;return C7(t,e,d+c,h,f,n)}:()=>Promise.resolve(),{when:a}=i;if(a){const[c,d]=a==="beforeChildren"?[s,o]:[o,s];return c().then(()=>d())}else return Promise.all([s(),o(n.delay)])}function C7(t,e,n=0,r=0,i=1,s){const o=[],a=(t.variantChildren.size-1)*r,l=i===1?(c=0)=>c*r:(c=0)=>a-c*r;return Array.from(t.variantChildren).sort(S7).forEach((c,d)=>{c.notify("AnimationStart",e),o.push(wy(c,e,{...s,delay:n+l(d)}).then(()=>c.notify("AnimationComplete",e)))}),Promise.all(o)}function S7(t,e){return t.sortNodePosition(e)}function b7(t,e,n={}){t.notify("AnimationStart",e);let r;if(Array.isArray(e)){const i=e.map(s=>wy(t,s,n));r=Promise.all(i)}else if(typeof e=="string")r=wy(t,e,n);else{const i=typeof e=="function"?Sc(t,e,n.custom):e;r=Promise.all(b2(t,i,n))}return r.then(()=>{t.notify("AnimationComplete",e)})}function T2(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}const T7=k_.length;function k2(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?k2(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<T7;n++){const r=k_[n],i=t.props[r];(Ec(i)||i===!1)&&(e[r]=i)}return e}const k7=[...T_].reverse(),I7=T_.length;function P7(t){return e=>Promise.all(e.map(({animation:n,options:r})=>b7(t,n,r)))}function A7(t){let e=P7(t),n=_C(),r=!0;const i=l=>(c,d)=>{var f;const h=Sc(t,d,l==="exit"?(f=t.presenceContext)==null?void 0:f.custom:void 0);if(h){const{transition:y,transitionEnd:_,...S}=h;c={...c,...S,..._}}return c};function s(l){e=l(t)}function o(l){const{props:c}=t,d=k2(t.parent)||{},h=[],f=new Set;let y={},_=1/0;for(let P=0;P<I7;P++){const w=k7[P],C=n[w],E=c[w]!==void 0?c[w]:d[w],A=Ec(E),D=w===l?C.isActive:null;D===!1&&(_=P);let M=E===d[w]&&E!==c[w]&&A;if(M&&r&&t.manuallyAnimateOnMount&&(M=!1),C.protectedKeys={...y},!C.isActive&&D===null||!E&&!C.prevProp||Pf(E)||typeof E=="boolean")continue;const b=R7(C.prevProp,E);let x=b||w===l&&C.isActive&&!M&&A||P>_&&A,I=!1;const g=Array.isArray(E)?E:[E];let R=g.reduce(i(w),{});D===!1&&(R={});const{prevResolvedValues:O={}}=C,N={...O,...R},U=q=>{x=!0,f.has(q)&&(I=!0,f.delete(q)),C.needsAnimating[q]=!0;const $=t.getValue(q);$&&($.liveStyle=!1)};for(const q in N){const $=R[q],K=O[q];if(y.hasOwnProperty(q))continue;let X=!1;vy($)&&vy(K)?X=!T2($,K):X=$!==K,X?$!=null?U(q):f.add(q):$!==void 0&&f.has(q)?U(q):C.protectedKeys[q]=!0}C.prevProp=E,C.prevResolvedValues=R,C.isActive&&(y={...y,...R}),r&&t.blockInitialAnimation&&(x=!1),x&&(!(M&&b)||I)&&h.push(...g.map(q=>({animation:q,options:{type:w}})))}if(f.size){const P={};if(typeof c.initial!="boolean"){const w=Sc(t,Array.isArray(c.initial)?c.initial[0]:c.initial);w&&w.transition&&(P.transition=w.transition)}f.forEach(w=>{const C=t.getBaseTarget(w),E=t.getValue(w);E&&(E.liveStyle=!0),P[w]=C??null}),h.push({animation:P})}let S=!!h.length;return r&&(c.initial===!1||c.initial===c.animate)&&!t.manuallyAnimateOnMount&&(S=!1),r=!1,S?e(h):Promise.resolve()}function a(l,c){var h;if(n[l].isActive===c)return Promise.resolve();(h=t.variantChildren)==null||h.forEach(f=>{var y;return(y=f.animationState)==null?void 0:y.setActive(l,c)}),n[l].isActive=c;const d=o(l);for(const f in n)n[f].protectedKeys={};return d}return{animateChanges:o,setActive:a,setAnimateFunction:s,getState:()=>n,reset:()=>{n=_C(),r=!0}}}function R7(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!T2(e,t):!1}function ns(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function _C(){return{animate:ns(!0),whileInView:ns(),whileHover:ns(),whileTap:ns(),whileDrag:ns(),whileFocus:ns(),exit:ns()}}class Qi{constructor(e){this.isMounted=!1,this.node=e}update(){}}class N7 extends Qi{constructor(e){super(e),e.animationState||(e.animationState=A7(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();Pf(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)==null||e.call(this)}}let D7=0;class O7 extends Qi{constructor(){super(...arguments),this.id=D7++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const i=this.node.animationState.setActive("exit",!e);n&&!e&&i.then(()=>{n(this.id)})}mount(){const{register:e,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const M7={animation:{Feature:N7},exit:{Feature:O7}};function bc(t,e,n,r={passive:!0}){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n)}function eu(t){return{point:{x:t.pageX,y:t.pageY}}}const L7=t=>e=>S_(e)&&t(e,eu(e));function Ll(t,e,n,r){return bc(t,e,L7(n),r)}function I2({top:t,left:e,right:n,bottom:r}){return{x:{min:e,max:n},y:{min:t,max:r}}}function j7({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function F7(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),r=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}const P2=1e-4,$7=1-P2,U7=1+P2,A2=.01,V7=0-A2,B7=0+A2;function Ut(t){return t.max-t.min}function z7(t,e,n){return Math.abs(t-e)<=n}function wC(t,e,n,r=.5){t.origin=r,t.originPoint=je(e.min,e.max,t.origin),t.scale=Ut(n)/Ut(e),t.translate=je(n.min,n.max,t.origin)-t.originPoint,(t.scale>=$7&&t.scale<=U7||isNaN(t.scale))&&(t.scale=1),(t.translate>=V7&&t.translate<=B7||isNaN(t.translate))&&(t.translate=0)}function jl(t,e,n,r){wC(t.x,e.x,n.x,r?r.originX:void 0),wC(t.y,e.y,n.y,r?r.originY:void 0)}function xC(t,e,n){t.min=n.min+e.min,t.max=t.min+Ut(e)}function W7(t,e,n){xC(t.x,e.x,n.x),xC(t.y,e.y,n.y)}function EC(t,e,n){t.min=e.min-n.min,t.max=t.min+Ut(e)}function Fl(t,e,n){EC(t.x,e.x,n.x),EC(t.y,e.y,n.y)}const CC=()=>({translate:0,scale:1,origin:0,originPoint:0}),To=()=>({x:CC(),y:CC()}),SC=()=>({min:0,max:0}),Ye=()=>({x:SC(),y:SC()});function xn(t){return[t("x"),t("y")]}function Em(t){return t===void 0||t===1}function xy({scale:t,scaleX:e,scaleY:n}){return!Em(t)||!Em(e)||!Em(n)}function ls(t){return xy(t)||R2(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function R2(t){return bC(t.x)||bC(t.y)}function bC(t){return t&&t!=="0%"}function Dh(t,e,n){const r=t-n,i=e*r;return n+i}function TC(t,e,n,r,i){return i!==void 0&&(t=Dh(t,i,r)),Dh(t,n,r)+e}function Ey(t,e=0,n=1,r,i){t.min=TC(t.min,e,n,r,i),t.max=TC(t.max,e,n,r,i)}function N2(t,{x:e,y:n}){Ey(t.x,e.translate,e.scale,e.originPoint),Ey(t.y,n.translate,n.scale,n.originPoint)}const kC=.999999999999,IC=1.0000000000001;function H7(t,e,n,r=!1){const i=n.length;if(!i)return;e.x=e.y=1;let s,o;for(let a=0;a<i;a++){s=n[a],o=s.projectionDelta;const{visualElement:l}=s.options;l&&l.props.style&&l.props.style.display==="contents"||(r&&s.options.layoutScroll&&s.scroll&&s!==s.root&&Io(t,{x:-s.scroll.offset.x,y:-s.scroll.offset.y}),o&&(e.x*=o.x.scale,e.y*=o.y.scale,N2(t,o)),r&&ls(s.latestValues)&&Io(t,s.latestValues))}e.x<IC&&e.x>kC&&(e.x=1),e.y<IC&&e.y>kC&&(e.y=1)}function ko(t,e){t.min=t.min+e,t.max=t.max+e}function PC(t,e,n,r,i=.5){const s=je(t.min,t.max,i);Ey(t,e,n,s,r)}function Io(t,e){PC(t.x,e.x,e.scaleX,e.scale,e.originX),PC(t.y,e.y,e.scaleY,e.scale,e.originY)}function D2(t,e){return I2(F7(t.getBoundingClientRect(),e))}function q7(t,e,n){const r=D2(t,n),{scroll:i}=e;return i&&(ko(r.x,i.offset.x),ko(r.y,i.offset.y)),r}const O2=({current:t})=>t?t.ownerDocument.defaultView:null,AC=(t,e)=>Math.abs(t-e);function G7(t,e){const n=AC(t.x,e.x),r=AC(t.y,e.y);return Math.sqrt(n**2+r**2)}class M2{constructor(e,n,{transformPagePoint:r,contextWindow:i,dragSnapToOrigin:s=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const h=Sm(this.lastMoveEventInfo,this.history),f=this.startEvent!==null,y=G7(h.offset,{x:0,y:0})>=3;if(!f&&!y)return;const{point:_}=h,{timestamp:S}=gt;this.history.push({..._,timestamp:S});const{onStart:P,onMove:w}=this.handlers;f||(P&&P(this.lastMoveEvent,h),this.startEvent=this.lastMoveEvent),w&&w(this.lastMoveEvent,h)},this.handlePointerMove=(h,f)=>{this.lastMoveEvent=h,this.lastMoveEventInfo=Cm(f,this.transformPagePoint),$e.update(this.updatePoint,!0)},this.handlePointerUp=(h,f)=>{this.end();const{onEnd:y,onSessionEnd:_,resumeAnimation:S}=this.handlers;if(this.dragSnapToOrigin&&S&&S(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const P=Sm(h.type==="pointercancel"?this.lastMoveEventInfo:Cm(f,this.transformPagePoint),this.history);this.startEvent&&y&&y(h,P),_&&_(h,P)},!S_(e))return;this.dragSnapToOrigin=s,this.handlers=n,this.transformPagePoint=r,this.contextWindow=i||window;const o=eu(e),a=Cm(o,this.transformPagePoint),{point:l}=a,{timestamp:c}=gt;this.history=[{...l,timestamp:c}];const{onSessionStart:d}=n;d&&d(e,Sm(a,this.history)),this.removeListeners=Jc(Ll(this.contextWindow,"pointermove",this.handlePointerMove),Ll(this.contextWindow,"pointerup",this.handlePointerUp),Ll(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),zi(this.updatePoint)}}function Cm(t,e){return e?{point:e(t.point)}:t}function RC(t,e){return{x:t.x-e.x,y:t.y-e.y}}function Sm({point:t},e){return{point:t,delta:RC(t,L2(e)),offset:RC(t,K7(e)),velocity:Y7(e,.1)}}function K7(t){return t[0]}function L2(t){return t[t.length-1]}function Y7(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,r=null;const i=L2(t);for(;n>=0&&(r=t[n],!(i.timestamp-r.timestamp>mr(e)));)n--;if(!r)return{x:0,y:0};const s=gr(i.timestamp-r.timestamp);if(s===0)return{x:0,y:0};const o={x:(i.x-r.x)/s,y:(i.y-r.y)/s};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function X7(t,{min:e,max:n},r){return e!==void 0&&t<e?t=r?je(e,t,r.min):Math.max(t,e):n!==void 0&&t>n&&(t=r?je(n,t,r.max):Math.min(t,n)),t}function NC(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function J7(t,{top:e,left:n,bottom:r,right:i}){return{x:NC(t.x,n,i),y:NC(t.y,e,r)}}function DC(t,e){let n=e.min-t.min,r=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,r]=[r,n]),{min:n,max:r}}function Q7(t,e){return{x:DC(t.x,e.x),y:DC(t.y,e.y)}}function Z7(t,e){let n=.5;const r=Ut(t),i=Ut(e);return i>r?n=_c(e.min,e.max-r,t.min):r>i&&(n=_c(t.min,t.max-i,e.min)),ei(0,1,n)}function ez(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const Cy=.35;function tz(t=Cy){return t===!1?t=0:t===!0&&(t=Cy),{x:OC(t,"left","right"),y:OC(t,"top","bottom")}}function OC(t,e,n){return{min:MC(t,e),max:MC(t,n)}}function MC(t,e){return typeof t=="number"?t:t[e]||0}const nz=new WeakMap;class rz{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Ye(),this.visualElement=e}start(e,{snapToCursor:n=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const i=d=>{const{dragSnapToOrigin:h}=this.getProps();h?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(eu(d).point)},s=(d,h)=>{const{drag:f,dragPropagation:y,onDragStart:_}=this.getProps();if(f&&!y&&(this.openDragLock&&this.openDragLock(),this.openDragLock=g8(f),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),xn(P=>{let w=this.getAxisMotionValue(P).get()||0;if(yr.test(w)){const{projection:C}=this.visualElement;if(C&&C.layout){const E=C.layout.layoutBox[P];E&&(w=Ut(E)*(parseFloat(w)/100))}}this.originPoint[P]=w}),_&&$e.postRender(()=>_(d,h)),_y(this.visualElement,"transform");const{animationState:S}=this.visualElement;S&&S.setActive("whileDrag",!0)},o=(d,h)=>{const{dragPropagation:f,dragDirectionLock:y,onDirectionLock:_,onDrag:S}=this.getProps();if(!f&&!this.openDragLock)return;const{offset:P}=h;if(y&&this.currentDirection===null){this.currentDirection=iz(P),this.currentDirection!==null&&_&&_(this.currentDirection);return}this.updateAxis("x",h.point,P),this.updateAxis("y",h.point,P),this.visualElement.render(),S&&S(d,h)},a=(d,h)=>this.stop(d,h),l=()=>xn(d=>{var h;return this.getAnimationState(d)==="paused"&&((h=this.getAxisMotionValue(d).animation)==null?void 0:h.play())}),{dragSnapToOrigin:c}=this.getProps();this.panSession=new M2(e,{onSessionStart:i,onStart:s,onMove:o,onSessionEnd:a,resumeAnimation:l},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:c,contextWindow:O2(this.visualElement)})}stop(e,n){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:i}=n;this.startAnimation(i);const{onDragEnd:s}=this.getProps();s&&$e.postRender(()=>s(e,n))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,r){const{drag:i}=this.getProps();if(!r||!qu(e,i,this.currentDirection))return;const s=this.getAxisMotionValue(e);let o=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(o=X7(o,this.constraints[e],this.elastic[e])),s.set(o)}resolveConstraints(){var s;const{dragConstraints:e,dragElastic:n}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(s=this.visualElement.projection)==null?void 0:s.layout,i=this.constraints;e&&bo(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&r?this.constraints=J7(r.layoutBox,e):this.constraints=!1,this.elastic=tz(n),i!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&xn(o=>{this.constraints!==!1&&this.getAxisMotionValue(o)&&(this.constraints[o]=ez(r.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!bo(e))return!1;const r=e.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const s=q7(r,i.root,this.visualElement.getTransformPagePoint());let o=Q7(i.layout.layoutBox,s);if(n){const a=n(j7(o));this.hasMutatedConstraints=!!a,a&&(o=I2(a))}return o}startAnimation(e){const{drag:n,dragMomentum:r,dragElastic:i,dragTransition:s,dragSnapToOrigin:o,onDragTransitionEnd:a}=this.getProps(),l=this.constraints||{},c=xn(d=>{if(!qu(d,n,this.currentDirection))return;let h=l&&l[d]||{};o&&(h={min:0,max:0});const f=i?200:1e6,y=i?40:1e7,_={type:"inertia",velocity:r?e[d]:0,bounceStiffness:f,bounceDamping:y,timeConstant:750,restDelta:1,restSpeed:10,...s,...h};return this.startAxisValueAnimation(d,_)});return Promise.all(c).then(a)}startAxisValueAnimation(e,n){const r=this.getAxisMotionValue(e);return _y(this.visualElement,e),r.start(O_(e,r,0,n,this.visualElement,!1))}stopAnimation(){xn(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){xn(e=>{var n;return(n=this.getAxisMotionValue(e).animation)==null?void 0:n.pause()})}getAnimationState(e){var n;return(n=this.getAxisMotionValue(e).animation)==null?void 0:n.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,r=this.visualElement.getProps(),i=r[n];return i||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){xn(n=>{const{drag:r}=this.getProps();if(!qu(n,r,this.currentDirection))return;const{projection:i}=this.visualElement,s=this.getAxisMotionValue(n);if(i&&i.layout){const{min:o,max:a}=i.layout.layoutBox[n];s.set(e[n]-je(o,a,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!bo(n)||!r||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};xn(o=>{const a=this.getAxisMotionValue(o);if(a&&this.constraints!==!1){const l=a.get();i[o]=Z7({min:l,max:l},this.constraints[o])}});const{transformTemplate:s}=this.visualElement.getProps();this.visualElement.current.style.transform=s?s({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),xn(o=>{if(!qu(o,e,null))return;const a=this.getAxisMotionValue(o),{min:l,max:c}=this.constraints[o];a.set(je(l,c,i[o]))})}addListeners(){if(!this.visualElement.current)return;nz.set(this.visualElement,this);const e=this.visualElement.current,n=Ll(e,"pointerdown",l=>{const{drag:c,dragListener:d=!0}=this.getProps();c&&d&&this.start(l)}),r=()=>{const{dragConstraints:l}=this.getProps();bo(l)&&l.current&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,s=i.addEventListener("measure",r);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),$e.read(r);const o=bc(window,"resize",()=>this.scalePositionWithinConstraints()),a=i.addEventListener("didUpdate",({delta:l,hasLayoutChanged:c})=>{this.isDragging&&c&&(xn(d=>{const h=this.getAxisMotionValue(d);h&&(this.originPoint[d]+=l[d].translate,h.set(h.get()+l[d].translate))}),this.visualElement.render())});return()=>{o(),n(),s(),a&&a()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:i=!1,dragConstraints:s=!1,dragElastic:o=Cy,dragMomentum:a=!0}=e;return{...e,drag:n,dragDirectionLock:r,dragPropagation:i,dragConstraints:s,dragElastic:o,dragMomentum:a}}}function qu(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function iz(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class sz extends Qi{constructor(e){super(e),this.removeGroupControls=Pn,this.removeListeners=Pn,this.controls=new rz(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Pn}unmount(){this.removeGroupControls(),this.removeListeners()}}const LC=t=>(e,n)=>{t&&$e.postRender(()=>t(e,n))};class oz extends Qi{constructor(){super(...arguments),this.removePointerDownListener=Pn}onPointerDown(e){this.session=new M2(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:O2(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:r,onPanEnd:i}=this.node.getProps();return{onSessionStart:LC(e),onStart:LC(n),onMove:r,onEnd:(s,o)=>{delete this.session,i&&$e.postRender(()=>i(s,o))}}}mount(){this.removePointerDownListener=Ll(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Ed={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function jC(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const rl={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(Z.test(t))t=parseFloat(t);else return t;const n=jC(t,e.target.x),r=jC(t,e.target.y);return`${n}% ${r}%`}},az={correct:(t,{treeScale:e,projectionDelta:n})=>{const r=t,i=Wi.parse(t);if(i.length>5)return r;const s=Wi.createTransformer(t),o=typeof i[0]!="number"?1:0,a=n.x.scale*e.x,l=n.y.scale*e.y;i[0+o]/=a,i[1+o]/=l;const c=je(a,l,.5);return typeof i[2+o]=="number"&&(i[2+o]/=c),typeof i[3+o]=="number"&&(i[3+o]/=c),s(i)}};class lz extends T.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r,layoutId:i}=this.props,{projection:s}=e;q8(cz),s&&(n.group&&n.group.add(s),r&&r.register&&i&&r.register(s),s.root.didUpdate(),s.addEventListener("animationComplete",()=>{this.safeToRemove()}),s.setOptions({...s.options,onExitComplete:()=>this.safeToRemove()})),Ed.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:r,drag:i,isPresent:s}=this.props,{projection:o}=r;return o&&(o.isPresent=s,i||e.layoutDependency!==n||n===void 0||e.isPresent!==s?o.willUpdate():this.safeToRemove(),e.isPresent!==s&&(s?o.promote():o.relegate()||$e.postRender(()=>{const a=o.getStack();(!a||!a.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),C_.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:i}=e;i&&(i.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(i),r&&r.deregister&&r.deregister(i))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function j2(t){const[e,n]=u2(),r=T.useContext(e_);return m.jsx(lz,{...t,layoutGroup:r,switchLayoutGroup:T.useContext(m2),isPresent:e,safeToRemove:n})}const cz={borderRadius:{...rl,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:rl,borderTopRightRadius:rl,borderBottomLeftRadius:rl,borderBottomRightRadius:rl,boxShadow:az};function uz(t,e,n){const r=Nt(t)?t:sa(t);return r.start(O_("",r,e,n)),r.animation}const dz=(t,e)=>t.depth-e.depth;class hz{constructor(){this.children=[],this.isDirty=!1}add(e){r_(this.children,e),this.isDirty=!0}remove(e){i_(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(dz),this.isDirty=!1,this.children.forEach(e)}}function fz(t,e){const n=en.now(),r=({timestamp:i})=>{const s=i-n;s>=e&&(zi(r),t(s-e))};return $e.setup(r,!0),()=>zi(r)}const F2=["TopLeft","TopRight","BottomLeft","BottomRight"],pz=F2.length,FC=t=>typeof t=="string"?parseFloat(t):t,$C=t=>typeof t=="number"||Z.test(t);function mz(t,e,n,r,i,s){i?(t.opacity=je(0,n.opacity??1,gz(r)),t.opacityExit=je(e.opacity??1,0,yz(r))):s&&(t.opacity=je(e.opacity??1,n.opacity??1,r));for(let o=0;o<pz;o++){const a=`border${F2[o]}Radius`;let l=UC(e,a),c=UC(n,a);if(l===void 0&&c===void 0)continue;l||(l=0),c||(c=0),l===0||c===0||$C(l)===$C(c)?(t[a]=Math.max(je(FC(l),FC(c),r),0),(yr.test(c)||yr.test(l))&&(t[a]+="%")):t[a]=c}(e.rotate||n.rotate)&&(t.rotate=je(e.rotate||0,n.rotate||0,r))}function UC(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const gz=$2(0,.5,RA),yz=$2(.5,.95,Pn);function $2(t,e,n){return r=>r<t?0:r>e?1:n(_c(t,e,r))}function VC(t,e){t.min=e.min,t.max=e.max}function wn(t,e){VC(t.x,e.x),VC(t.y,e.y)}function BC(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function zC(t,e,n,r,i){return t-=e,t=Dh(t,1/n,r),i!==void 0&&(t=Dh(t,1/i,r)),t}function vz(t,e=0,n=1,r=.5,i,s=t,o=t){if(yr.test(e)&&(e=parseFloat(e),e=je(o.min,o.max,e/100)-o.min),typeof e!="number")return;let a=je(s.min,s.max,r);t===s&&(a-=e),t.min=zC(t.min,e,n,a,i),t.max=zC(t.max,e,n,a,i)}function WC(t,e,[n,r,i],s,o){vz(t,e[n],e[r],e[i],e.scale,s,o)}const _z=["x","scaleX","originX"],wz=["y","scaleY","originY"];function HC(t,e,n,r){WC(t.x,e,_z,n?n.x:void 0,r?r.x:void 0),WC(t.y,e,wz,n?n.y:void 0,r?r.y:void 0)}function qC(t){return t.translate===0&&t.scale===1}function U2(t){return qC(t.x)&&qC(t.y)}function GC(t,e){return t.min===e.min&&t.max===e.max}function xz(t,e){return GC(t.x,e.x)&&GC(t.y,e.y)}function KC(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function V2(t,e){return KC(t.x,e.x)&&KC(t.y,e.y)}function YC(t){return Ut(t.x)/Ut(t.y)}function XC(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class Ez{constructor(){this.members=[]}add(e){r_(this.members,e),e.scheduleRender()}remove(e){if(i_(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(i=>e===i);if(n===0)return!1;let r;for(let i=n;i>=0;i--){const s=this.members[i];if(s.isPresent!==!1){r=s;break}}return r?(this.promote(r),!0):!1}promote(e,n){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,n&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:i}=e.options;i===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:r}=e;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function Cz(t,e,n){let r="";const i=t.x.translate/e.x,s=t.y.translate/e.y,o=(n==null?void 0:n.z)||0;if((i||s||o)&&(r=`translate3d(${i}px, ${s}px, ${o}px) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:c,rotate:d,rotateX:h,rotateY:f,skewX:y,skewY:_}=n;c&&(r=`perspective(${c}px) ${r}`),d&&(r+=`rotate(${d}deg) `),h&&(r+=`rotateX(${h}deg) `),f&&(r+=`rotateY(${f}deg) `),y&&(r+=`skewX(${y}deg) `),_&&(r+=`skewY(${_}deg) `)}const a=t.x.scale*e.x,l=t.y.scale*e.y;return(a!==1||l!==1)&&(r+=`scale(${a}, ${l})`),r||"none"}const bm=["","X","Y","Z"],Sz={visibility:"hidden"},bz=1e3;let Tz=0;function Tm(t,e,n,r){const{latestValues:i}=e;i[t]&&(n[t]=i[t],e.setStaticValue(t,0),r&&(r[t]=0))}function B2(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=S2(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:i,layoutId:s}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",$e,!(i||s))}const{parent:r}=t;r&&!r.hasCheckedOptimisedAppear&&B2(r)}function z2({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:r,resetTransform:i}){return class{constructor(o={},a=e==null?void 0:e()){this.id=Tz++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(Pz),this.nodes.forEach(Oz),this.nodes.forEach(Mz),this.nodes.forEach(Az)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=a?a.root||a:this,this.path=a?[...a.path,a]:[],this.parent=a,this.depth=a?a.depth+1:0;for(let l=0;l<this.path.length;l++)this.path[l].shouldResetTransform=!0;this.root===this&&(this.nodes=new hz)}addEventListener(o,a){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new a_),this.eventHandlers.get(o).add(a)}notifyListeners(o,...a){const l=this.eventHandlers.get(o);l&&l.notify(...a)}hasListeners(o){return this.eventHandlers.has(o)}mount(o){if(this.instance)return;this.isSVG=c2(o)&&!E8(o),this.instance=o;const{layoutId:a,layout:l,visualElement:c}=this.options;if(c&&!c.current&&c.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(l||a)&&(this.isLayoutDirty=!0),t){let d;const h=()=>this.root.updateBlockedByResize=!1;t(o,()=>{this.root.updateBlockedByResize=!0,d&&d(),d=fz(h,250),Ed.hasAnimatedSinceResize&&(Ed.hasAnimatedSinceResize=!1,this.nodes.forEach(QC))})}a&&this.root.registerSharedNode(a,this),this.options.animate!==!1&&c&&(a||l)&&this.addEventListener("didUpdate",({delta:d,hasLayoutChanged:h,hasRelativeLayoutChanged:f,layout:y})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const _=this.options.transition||c.getDefaultTransition()||Uz,{onLayoutAnimationStart:S,onLayoutAnimationComplete:P}=c.getProps(),w=!this.targetLayout||!V2(this.targetLayout,y),C=!h&&f;if(this.options.layoutRoot||this.resumeFrom||C||h&&(w||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(d,C);const E={...x_(_,"layout"),onPlay:S,onComplete:P};(c.shouldReduceMotion||this.options.layoutRoot)&&(E.delay=0,E.type=!1),this.startAnimation(E)}else h||QC(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=y})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),zi(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(Lz),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&B2(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let d=0;d<this.path.length;d++){const h=this.path[d];h.shouldResetTransform=!0,h.updateScroll("snapshot"),h.options.layoutRoot&&h.willUpdate(!1)}const{layoutId:a,layout:l}=this.options;if(a===void 0&&!l)return;const c=this.getTransformTemplate();this.prevTransformTemplateValue=c?c(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(JC);return}this.isUpdating||this.nodes.forEach(Nz),this.isUpdating=!1,this.nodes.forEach(Dz),this.nodes.forEach(kz),this.nodes.forEach(Iz),this.clearAllSnapshots();const a=en.now();gt.delta=ei(0,1e3/60,a-gt.timestamp),gt.timestamp=a,gt.isProcessing=!0,gm.update.process(gt),gm.preRender.process(gt),gm.render.process(gt),gt.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,C_.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(Rz),this.sharedNodes.forEach(jz)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,$e.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){$e.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!Ut(this.snapshot.measuredBox.x)&&!Ut(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let l=0;l<this.path.length;l++)this.path[l].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Ye(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:a}=this.options;a&&a.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let a=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(a=!1),a&&this.instance){const l=r(this.instance);this.scroll={animationId:this.root.animationId,phase:o,isRoot:l,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:l}}}resetTransform(){if(!i)return;const o=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,a=this.projectionDelta&&!U2(this.projectionDelta),l=this.getTransformTemplate(),c=l?l(this.latestValues,""):void 0,d=c!==this.prevTransformTemplateValue;o&&this.instance&&(a||ls(this.latestValues)||d)&&(i(this.instance,c),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const a=this.measurePageBox();let l=this.removeElementScroll(a);return o&&(l=this.removeTransform(l)),Vz(l),{animationId:this.root.animationId,measuredBox:a,layoutBox:l,latestValues:{},source:this.id}}measurePageBox(){var c;const{visualElement:o}=this.options;if(!o)return Ye();const a=o.measureViewportBox();if(!(((c=this.scroll)==null?void 0:c.wasRoot)||this.path.some(Bz))){const{scroll:d}=this.root;d&&(ko(a.x,d.offset.x),ko(a.y,d.offset.y))}return a}removeElementScroll(o){var l;const a=Ye();if(wn(a,o),(l=this.scroll)!=null&&l.wasRoot)return a;for(let c=0;c<this.path.length;c++){const d=this.path[c],{scroll:h,options:f}=d;d!==this.root&&h&&f.layoutScroll&&(h.wasRoot&&wn(a,o),ko(a.x,h.offset.x),ko(a.y,h.offset.y))}return a}applyTransform(o,a=!1){const l=Ye();wn(l,o);for(let c=0;c<this.path.length;c++){const d=this.path[c];!a&&d.options.layoutScroll&&d.scroll&&d!==d.root&&Io(l,{x:-d.scroll.offset.x,y:-d.scroll.offset.y}),ls(d.latestValues)&&Io(l,d.latestValues)}return ls(this.latestValues)&&Io(l,this.latestValues),l}removeTransform(o){const a=Ye();wn(a,o);for(let l=0;l<this.path.length;l++){const c=this.path[l];if(!c.instance||!ls(c.latestValues))continue;xy(c.latestValues)&&c.updateSnapshot();const d=Ye(),h=c.measurePageBox();wn(d,h),HC(a,c.latestValues,c.snapshot?c.snapshot.layoutBox:void 0,d)}return ls(this.latestValues)&&HC(a,this.latestValues),a}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==gt.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var f;const a=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=a.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=a.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=a.isSharedProjectionDirty);const l=!!this.resumingFrom||this!==a;if(!(o||l&&this.isSharedProjectionDirty||this.isProjectionDirty||(f=this.parent)!=null&&f.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:d,layoutId:h}=this.options;if(!(!this.layout||!(d||h))){if(this.resolvedRelativeTargetAt=gt.timestamp,!this.targetDelta&&!this.relativeTarget){const y=this.getClosestProjectingParent();y&&y.layout&&this.animationProgress!==1?(this.relativeParent=y,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Ye(),this.relativeTargetOrigin=Ye(),Fl(this.relativeTargetOrigin,this.layout.layoutBox,y.layout.layoutBox),wn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=Ye(),this.targetWithTransforms=Ye()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),W7(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):wn(this.target,this.layout.layoutBox),N2(this.target,this.targetDelta)):wn(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const y=this.getClosestProjectingParent();y&&!!y.resumingFrom==!!this.resumingFrom&&!y.options.layoutScroll&&y.target&&this.animationProgress!==1?(this.relativeParent=y,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Ye(),this.relativeTargetOrigin=Ye(),Fl(this.relativeTargetOrigin,this.target,y.target),wn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||xy(this.parent.latestValues)||R2(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var _;const o=this.getLead(),a=!!this.resumingFrom||this!==o;let l=!0;if((this.isProjectionDirty||(_=this.parent)!=null&&_.isProjectionDirty)&&(l=!1),a&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(l=!1),this.resolvedRelativeTargetAt===gt.timestamp&&(l=!1),l)return;const{layout:c,layoutId:d}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(c||d))return;wn(this.layoutCorrected,this.layout.layoutBox);const h=this.treeScale.x,f=this.treeScale.y;H7(this.layoutCorrected,this.treeScale,this.path,a),o.layout&&!o.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(o.target=o.layout.layoutBox,o.targetWithTransforms=Ye());const{target:y}=o;if(!y){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(BC(this.prevProjectionDelta.x,this.projectionDelta.x),BC(this.prevProjectionDelta.y,this.projectionDelta.y)),jl(this.projectionDelta,this.layoutCorrected,y,this.latestValues),(this.treeScale.x!==h||this.treeScale.y!==f||!XC(this.projectionDelta.x,this.prevProjectionDelta.x)||!XC(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",y))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){var a;if((a=this.options.visualElement)==null||a.scheduleRender(),o){const l=this.getStack();l&&l.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=To(),this.projectionDelta=To(),this.projectionDeltaWithTransform=To()}setAnimationOrigin(o,a=!1){const l=this.snapshot,c=l?l.latestValues:{},d={...this.latestValues},h=To();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!a;const f=Ye(),y=l?l.source:void 0,_=this.layout?this.layout.source:void 0,S=y!==_,P=this.getStack(),w=!P||P.members.length<=1,C=!!(S&&!w&&this.options.crossfade===!0&&!this.path.some($z));this.animationProgress=0;let E;this.mixTargetDelta=A=>{const D=A/1e3;ZC(h.x,o.x,D),ZC(h.y,o.y,D),this.setTargetDelta(h),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Fl(f,this.layout.layoutBox,this.relativeParent.layout.layoutBox),Fz(this.relativeTarget,this.relativeTargetOrigin,f,D),E&&xz(this.relativeTarget,E)&&(this.isProjectionDirty=!1),E||(E=Ye()),wn(E,this.relativeTarget)),S&&(this.animationValues=d,mz(d,c,this.latestValues,D,C,w)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=D},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){var a,l,c;this.notifyListeners("animationStart"),(a=this.currentAnimation)==null||a.stop(!1),(c=(l=this.resumingFrom)==null?void 0:l.currentAnimation)==null||c.stop(!1),this.pendingAnimation&&(zi(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=$e.update(()=>{Ed.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=sa(0)),this.currentAnimation=uz(this.motionValue,[0,1e3],{...o,isSync:!0,onUpdate:d=>{this.mixTargetDelta(d),o.onUpdate&&o.onUpdate(d)},onStop:()=>{},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(bz),this.currentAnimation.stop(!1)),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:a,target:l,layout:c,latestValues:d}=o;if(!(!a||!l||!c)){if(this!==o&&this.layout&&c&&W2(this.options.animationType,this.layout.layoutBox,c.layoutBox)){l=this.target||Ye();const h=Ut(this.layout.layoutBox.x);l.x.min=o.target.x.min,l.x.max=l.x.min+h;const f=Ut(this.layout.layoutBox.y);l.y.min=o.target.y.min,l.y.max=l.y.min+f}wn(a,l),Io(a,d),jl(this.projectionDeltaWithTransform,this.layoutCorrected,a,d)}}registerSharedNode(o,a){this.sharedNodes.has(o)||this.sharedNodes.set(o,new Ez),this.sharedNodes.get(o).add(a);const c=a.options.initialPromotionConfig;a.promote({transition:c?c.transition:void 0,preserveFollowOpacity:c&&c.shouldPreserveFollowOpacity?c.shouldPreserveFollowOpacity(a):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var a;const{layoutId:o}=this.options;return o?((a=this.getStack())==null?void 0:a.lead)||this:this}getPrevLead(){var a;const{layoutId:o}=this.options;return o?(a=this.getStack())==null?void 0:a.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:a,preserveFollowOpacity:l}={}){const c=this.getStack();c&&c.promote(this,l),o&&(this.projectionDelta=void 0,this.needsReset=!0),a&&this.setOptions({transition:a})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetSkewAndRotation(){const{visualElement:o}=this.options;if(!o)return;let a=!1;const{latestValues:l}=o;if((l.z||l.rotate||l.rotateX||l.rotateY||l.rotateZ||l.skewX||l.skewY)&&(a=!0),!a)return;const c={};l.z&&Tm("z",o,c,this.animationValues);for(let d=0;d<bm.length;d++)Tm(`rotate${bm[d]}`,o,c,this.animationValues),Tm(`skew${bm[d]}`,o,c,this.animationValues);o.render();for(const d in c)o.setStaticValue(d,c[d]),this.animationValues&&(this.animationValues[d]=c[d]);o.scheduleRender()}getProjectionStyles(o){if(!this.instance||this.isSVG)return;if(!this.isVisible)return Sz;const a={visibility:""},l=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,a.opacity="",a.pointerEvents=xd(o==null?void 0:o.pointerEvents)||"",a.transform=l?l(this.latestValues,""):"none",a;const c=this.getLead();if(!this.projectionDelta||!this.layout||!c.target){const y={};return this.options.layoutId&&(y.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,y.pointerEvents=xd(o==null?void 0:o.pointerEvents)||""),this.hasProjected&&!ls(this.latestValues)&&(y.transform=l?l({},""):"none",this.hasProjected=!1),y}const d=c.animationValues||c.latestValues;this.applyTransformsToTarget(),a.transform=Cz(this.projectionDeltaWithTransform,this.treeScale,d),l&&(a.transform=l(d,a.transform));const{x:h,y:f}=this.projectionDelta;a.transformOrigin=`${h.origin*100}% ${f.origin*100}% 0`,c.animationValues?a.opacity=c===this?d.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:d.opacityExit:a.opacity=c===this?d.opacity!==void 0?d.opacity:"":d.opacityExit!==void 0?d.opacityExit:0;for(const y in Cc){if(d[y]===void 0)continue;const{correct:_,applyTo:S,isCSSVariable:P}=Cc[y],w=a.transform==="none"?d[y]:_(d[y],c);if(S){const C=S.length;for(let E=0;E<C;E++)a[S[E]]=w}else P?this.options.visualElement.renderState.vars[y]=w:a[y]=w}return this.options.layoutId&&(a.pointerEvents=c===this?xd(o==null?void 0:o.pointerEvents)||"":"none"),a}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var a;return(a=o.currentAnimation)==null?void 0:a.stop(!1)}),this.root.nodes.forEach(JC),this.root.sharedNodes.clear()}}}function kz(t){t.updateLayout()}function Iz(t){var n;const e=((n=t.resumeFrom)==null?void 0:n.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&e&&t.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:i}=t.layout,{animationType:s}=t.options,o=e.source!==t.layout.source;s==="size"?xn(h=>{const f=o?e.measuredBox[h]:e.layoutBox[h],y=Ut(f);f.min=r[h].min,f.max=f.min+y}):W2(s,e.layoutBox,r)&&xn(h=>{const f=o?e.measuredBox[h]:e.layoutBox[h],y=Ut(r[h]);f.max=f.min+y,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[h].max=t.relativeTarget[h].min+y)});const a=To();jl(a,r,e.layoutBox);const l=To();o?jl(l,t.applyTransform(i,!0),e.measuredBox):jl(l,r,e.layoutBox);const c=!U2(a);let d=!1;if(!t.resumeFrom){const h=t.getClosestProjectingParent();if(h&&!h.resumeFrom){const{snapshot:f,layout:y}=h;if(f&&y){const _=Ye();Fl(_,e.layoutBox,f.layoutBox);const S=Ye();Fl(S,r,y.layoutBox),V2(_,S)||(d=!0),h.options.layoutRoot&&(t.relativeTarget=S,t.relativeTargetOrigin=_,t.relativeParent=h)}}}t.notifyListeners("didUpdate",{layout:r,snapshot:e,delta:l,layoutDelta:a,hasLayoutChanged:c,hasRelativeLayoutChanged:d})}else if(t.isLead()){const{onExitComplete:r}=t.options;r&&r()}t.options.transition=void 0}function Pz(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function Az(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function Rz(t){t.clearSnapshot()}function JC(t){t.clearMeasurements()}function Nz(t){t.isLayoutDirty=!1}function Dz(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function QC(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function Oz(t){t.resolveTargetDelta()}function Mz(t){t.calcProjection()}function Lz(t){t.resetSkewAndRotation()}function jz(t){t.removeLeadSnapshot()}function ZC(t,e,n){t.translate=je(e.translate,0,n),t.scale=je(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function eS(t,e,n,r){t.min=je(e.min,n.min,r),t.max=je(e.max,n.max,r)}function Fz(t,e,n,r){eS(t.x,e.x,n.x,r),eS(t.y,e.y,n.y,r)}function $z(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const Uz={duration:.45,ease:[.4,0,.1,1]},tS=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),nS=tS("applewebkit/")&&!tS("chrome/")?Math.round:Pn;function rS(t){t.min=nS(t.min),t.max=nS(t.max)}function Vz(t){rS(t.x),rS(t.y)}function W2(t,e,n){return t==="position"||t==="preserve-aspect"&&!z7(YC(e),YC(n),.2)}function Bz(t){var e;return t!==t.root&&((e=t.scroll)==null?void 0:e.wasRoot)}const zz=z2({attachResizeListener:(t,e)=>bc(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),km={current:void 0},H2=z2({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!km.current){const t=new zz({});t.mount(window),t.setOptions({layoutScroll:!0}),km.current=t}return km.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),Wz={pan:{Feature:oz},drag:{Feature:sz,ProjectionNode:H2,MeasureLayout:j2}};function iS(t,e,n){const{props:r}=t;t.animationState&&r.whileHover&&t.animationState.setActive("whileHover",n==="Start");const i="onHover"+n,s=r[i];s&&$e.postRender(()=>s(e,eu(e)))}class Hz extends Qi{mount(){const{current:e}=this.node;e&&(this.unmount=y8(e,(n,r)=>(iS(this.node,r,"Start"),i=>iS(this.node,i,"End"))))}unmount(){}}class qz extends Qi{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Jc(bc(this.node.current,"focus",()=>this.onFocus()),bc(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function sS(t,e,n){const{props:r}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&r.whileTap&&t.animationState.setActive("whileTap",n==="Start");const i="onTap"+(n==="End"?"":n),s=r[i];s&&$e.postRender(()=>s(e,eu(e)))}class Gz extends Qi{mount(){const{current:e}=this.node;e&&(this.unmount=x8(e,(n,r)=>(sS(this.node,r,"Start"),(i,{success:s})=>sS(this.node,i,s?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const Sy=new WeakMap,Im=new WeakMap,Kz=t=>{const e=Sy.get(t.target);e&&e(t)},Yz=t=>{t.forEach(Kz)};function Xz({root:t,...e}){const n=t||document;Im.has(n)||Im.set(n,{});const r=Im.get(n),i=JSON.stringify(e);return r[i]||(r[i]=new IntersectionObserver(Yz,{root:t,...e})),r[i]}function Jz(t,e,n){const r=Xz(e);return Sy.set(t,n),r.observe(t),()=>{Sy.delete(t),r.unobserve(t)}}const Qz={some:0,all:1};class Zz extends Qi{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:r,amount:i="some",once:s}=e,o={root:n?n.current:void 0,rootMargin:r,threshold:typeof i=="number"?i:Qz[i]},a=l=>{const{isIntersecting:c}=l;if(this.isInView===c||(this.isInView=c,s&&!c&&this.hasEnteredView))return;c&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",c);const{onViewportEnter:d,onViewportLeave:h}=this.node.getProps(),f=c?d:h;f&&f(l)};return Jz(this.node.current,o,a)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(eW(e,n))&&this.startObserver()}unmount(){}}function eW({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const tW={inView:{Feature:Zz},tap:{Feature:Gz},focus:{Feature:qz},hover:{Feature:Hz}},nW={layout:{ProjectionNode:H2,MeasureLayout:j2}},by={current:null},q2={current:!1};function rW(){if(q2.current=!0,!!n_)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>by.current=t.matches;t.addListener(e),e()}else by.current=!1}const iW=new WeakMap;function sW(t,e,n){for(const r in e){const i=e[r],s=n[r];if(Nt(i))t.addValue(r,i);else if(Nt(s))t.addValue(r,sa(i,{owner:t}));else if(s!==i)if(t.hasValue(r)){const o=t.getValue(r);o.liveStyle===!0?o.jump(i):o.hasAnimated||o.set(i)}else{const o=t.getStaticValue(r);t.addValue(r,sa(o!==void 0?o:i,{owner:t}))}}for(const r in n)e[r]===void 0&&t.removeValue(r);return e}const oS=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class oW{scrapeMotionValuesFromProps(e,n,r){return{}}constructor({parent:e,props:n,presenceContext:r,reducedMotionConfig:i,blockInitialAnimation:s,visualState:o},a={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=__,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const f=en.now();this.renderScheduledAt<f&&(this.renderScheduledAt=f,$e.render(this.render,!1,!0))};const{latestValues:l,renderState:c}=o;this.latestValues=l,this.baseTarget={...l},this.initialValues=n.initial?{...l}:{},this.renderState=c,this.parent=e,this.props=n,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=i,this.options=a,this.blockInitialAnimation=!!s,this.isControllingVariants=Af(n),this.isVariantNode=f2(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:d,...h}=this.scrapeMotionValuesFromProps(n,{},this);for(const f in h){const y=h[f];l[f]!==void 0&&Nt(y)&&y.set(l[f],!1)}}mount(e){this.current=e,iW.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),q2.current||rW(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:by.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),zi(this.notifyUpdate),zi(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const n=this.features[e];n&&(n.unmount(),n.isMounted=!1)}this.current=null}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const r=ka.has(e);r&&this.onBindTransform&&this.onBindTransform();const i=n.on("change",a=>{this.latestValues[e]=a,this.props.onUpdate&&$e.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0)}),s=n.on("renderRequest",this.scheduleRender);let o;window.MotionCheckAppearSync&&(o=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{i(),s(),o&&o(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in oa){const n=oa[e];if(!n)continue;const{isEnabled:r,Feature:i}=n;if(!this.features[e]&&i&&r(this.props)&&(this.features[e]=new i(this)),this.features[e]){const s=this.features[e];s.isMounted?s.update():(s.mount(),s.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Ye()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<oS.length;r++){const i=oS[r];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const s="on"+i,o=e[s];o&&(this.propEventSubscriptions[i]=this.on(i,o))}this.prevMotionValues=sW(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const r=this.values.get(e);n!==r&&(r&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&n!==void 0&&(r=sa(n===null?void 0:n,{owner:this}),this.addValue(e,r)),r}readValue(e,n){let r=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return r!=null&&(typeof r=="string"&&(xA(r)||CA(r))?r=parseFloat(r):!S8(r)&&Wi.test(n)&&(r=i2(e,n)),this.setBaseTarget(e,Nt(r)?r.get():r)),Nt(r)?r.get():r}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var s;const{initial:n}=this.props;let r;if(typeof n=="string"||typeof n=="object"){const o=N_(this.props,n,(s=this.presenceContext)==null?void 0:s.custom);o&&(r=o[e])}if(n&&r!==void 0)return r;const i=this.getBaseTargetFromProps(this.props,e);return i!==void 0&&!Nt(i)?i:this.initialValues[e]!==void 0&&r===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new a_),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}}class G2 extends oW{constructor(){super(...arguments),this.KeyframeResolver=h8}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:r}){delete n[e],delete r[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;Nt(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function K2(t,{style:e,vars:n},r,i){Object.assign(t.style,e,i&&i.getProjectionStyles(r));for(const s in n)t.style.setProperty(s,n[s])}function aW(t){return window.getComputedStyle(t)}class lW extends G2{constructor(){super(...arguments),this.type="html",this.renderInstance=K2}readValueFromInstance(e,n){var r;if(ka.has(n))return(r=this.projection)!=null&&r.isProjecting?hy(n):RB(e,n);{const i=aW(e),s=(u_(n)?i.getPropertyValue(n):i[n])||0;return typeof s=="string"?s.trim():s}}measureInstanceViewportBox(e,{transformPagePoint:n}){return D2(e,n)}build(e,n,r){P_(e,n,r.transformTemplate)}scrapeMotionValuesFromProps(e,n,r){return D_(e,n,r)}}const Y2=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function cW(t,e,n,r){K2(t,e,void 0,r);for(const i in e.attrs)t.setAttribute(Y2.has(i)?i:I_(i),e.attrs[i])}class uW extends G2{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Ye}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(ka.has(n)){const r=r2(n);return r&&r.default||0}return n=Y2.has(n)?n:I_(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,r){return C2(e,n,r)}build(e,n,r){_2(e,n,this.isSVGTag,r.transformTemplate,r.style)}renderInstance(e,n,r,i){cW(e,n,r,i)}mount(e){this.isSVGTag=x2(e.tagName),super.mount(e)}}const dW=(t,e)=>R_(t)?new uW(e):new lW(e,{allowProjection:t!==T.Fragment}),hW=c7({...M7,...tW,...Wz,...nW},dW),fW=O8(hW);function pW(){const t=Cr(),e=Er(),[n,r]=T.useState(null),[i,s]=T.useState(null),[o,a]=T.useState(null),[l,c]=T.useState(null),[d,h]=T.useState(Array(6).fill({nombre:"",dorsal:""})),[f,y]=T.useState(Array(6).fill({nombre:"",dorsal:""})),[_,S]=T.useState(null);T.useState(!1),T.useEffect(()=>{var b,x;(b=e.state)!=null&&b.equipoLocal&&((x=e.state)!=null&&x.equipoVisita)?(r(e.state),s(e.state.equipoLocal),a(e.state.equipoVisita),c(e.state.genero)):(console.warn("[Alineacion.jsx] No se recibieron datos de configuración del partido. Redirigiendo."),t("/partido/configurar"))},[e.state,t]);const P=(b,x)=>{const I=x==="local"?d[b]:f[b],g=x==="local"?d:f,R=x==="local"?i==null?void 0:i.nombre:o==null?void 0:o.nombre;S({tipo:x,index:b,jugador:I,jugadoresActuales:g,nombreEquipo:R,generoPartido:l})},w=(b,x,I)=>{const g=x==="local"?h:y,O=[...x==="local"?d:f];O[b]=I,g(O),S(null)},C=async()=>{let b=null;try{const x=q=>q.every($=>$.nombre.trim()!==""&&$.dorsal.trim()!=="");if(!x(d)||!x(f)){alert("Todos los jugadores deben tener nombre y dorsal antes de continuar.");return}const I=ae(ie,"partidos");b=vd(I).key;const[R,O]=await Promise.all([In(ae(ie,`plantillas/${l.toLowerCase()}/${i.nombre.toLowerCase()}`)),In(ae(ie,`plantillas/${l.toLowerCase()}/${o.nombre.toLowerCase()}`))]),N=R.exists()?R.val():sy[i.nombre.toLowerCase()]||[],U=O.exists()?O.val():sy[o.nombre.toLowerCase()]||[],W={nombre:i.nombre,logo:i.escudo.split("/").pop(),jugadores:d.map(q=>({...q,enJuego:!0,haJugado:!0})),todosJugadores:N},G={nombre:o.nombre,logo:o.escudo.split("/").pop(),jugadores:f.map(q=>({...q,enJuego:!0,haJugado:!0})),todosJugadores:U};await At(ae(ie,`partidos/${b}/alineacion`),{equipo1:W,equipo2:G,genero:l}),await At(ae(ie,`partidos/${b}/marcador`),{equipo1:0,equipo2:0}),t(`/control-partido/${b}`)}catch(x){alert("❌ ERROR al confirmar alineación: "+x.message),console.error("Error al confirmar alineación:",x)}},E=b=>`/EmproChampions-2025/camisas/camisa-${b.toLowerCase().replace(/\s+/g,"-")}.png`,A=b=>["don bosco","luz","emprosaurios"].includes(b.toLowerCase())?"#000":"#fff",D=[{top:"15%",left:"18%"},{top:"15%",left:"62%"},{top:"38%",left:"40%"},{top:"55%",left:"17%"},{top:"55%",left:"63%"},{top:"74%",left:"40%"}],M=(b,x,I,g)=>m.jsx(fW.div,{className:"absolute cursor-pointer",style:{top:D[x].top,left:D[x].left,transform:"translate(-50%, -50%)"},animate:{scale:(_==null?void 0:_.index)===x&&(_==null?void 0:_.tipo)===I?1.5:1},transition:{duration:.3},onClick:()=>P(x,I),children:m.jsxs("div",{className:"relative w-fit flex flex-col items-center",children:[m.jsx("div",{className:"absolute top-[12%] font-barcelona text-[24px] md:text-[30px] z-20 pointer-events-none",style:{color:A((I==="local"?i==null?void 0:i.nombre:o==null?void 0:o.nombre)||""),textShadow:"1px 1px 1px rgba(0,0,0,0.6)"},children:b.dorsal}),m.jsx("img",{src:g,className:"w-16 md:w-20 relative z-10",alt:`jugador-${I}`}),b.nombre&&m.jsx("div",{className:"absolute bottom-[-18px] font-barcelona text-[11px] text-white bg-black/80 px-2 py-[2px] rounded text-center z-20",children:b.nombre})]})},x);return!i||!o?null:m.jsxs("div",{className:"min-h-screen bg-cover bg-center font-qatar text-white",style:{backgroundImage:"url('/EmproChampions-2025/img/fondoempro-horizontal.png')"},children:[m.jsx(wr,{}),m.jsx("h1",{className:"text-3xl sm:text-5xl font-bold text-center mt-6 text-yellow-400 drop-shadow",children:"Alineación Inicial"}),m.jsxs("div",{className:"flex flex-col lg:flex-row items-center justify-center gap-4 lg:gap-8 p-2 lg:p-6",children:[m.jsxs("div",{className:"relative w-[300px] h-[510px] sm:w-[320px] sm:h-[540px] md:w-[400px] md:h-[640px]",children:[m.jsx("img",{src:"/EmproChampions-2025/img/cancha-vertical.svg",alt:"cancha local",className:"w-full h-full"}),d.map((b,x)=>M(b,x,"local",E(i.nombre)))]}),m.jsxs("div",{className:"flex flex-col items-center gap-4 my-4 lg:my-0",children:[m.jsx("img",{src:"/img/logo-empro.png",alt:"logo empro",className:"w-20 md:w-32"}),m.jsxs("div",{className:"flex items-center gap-4 md:gap-10",children:[m.jsx("img",{src:i.escudo,className:"w-20 h-20 md:w-24 md:h-24 object-contain",alt:"local logo"}),m.jsx("span",{className:"text-white text-3xl md:text-4xl font-black",children:"VS"}),m.jsx("img",{src:o.escudo,className:"w-20 h-20 md:w-24 md:h-24 object-contain",alt:"visita logo"})]}),m.jsx("button",{onClick:()=>t("/partido/configurar"),className:"bg-white/80 text-[#7a0026] font-bold px-6 py-2 rounded-full hover:bg-white transition",children:"⬅ Volver"})]}),m.jsxs("div",{className:"relative w-[300px] h-[510px] sm:w-[320px] sm:h-[540px] md:w-[400px] md:h-[640px]",children:[m.jsx("img",{src:"/EmproChampions-2025/img/cancha-vertical.svg",alt:"cancha visita",className:"w-full h-full"}),f.map((b,x)=>M(b,x,"visita",E(o.nombre)))]})]}),m.jsx("div",{className:"flex justify-center mt-6 pb-10",children:m.jsx("button",{onClick:C,className:"bg-[#FFD700] text-[#7a0026] font-bold px-10 py-3 rounded-full hover:bg-yellow-300 transition text-xl shadow-lg",children:"Confirmar Alineación"})}),m.jsx(P8,{children:_&&m.jsx(IV,{..._,onSave:w,onClose:()=>S(null),camiseta:E(_.tipo==="local"?i.nombre:o.nombre),dorsalColor:A(_.tipo==="local"?i.nombre:o.nombre)})}),m.jsx(xr,{})]})}const Oh={calendario:{femenino:{asignaciones:{A:"Equipo A",B:"Equipo B",C:"Equipo C",D:"Equipo D",E:"Equipo E"},partidos:{jornada1:[{cancha:"1",equipo1:"A",equipo2:"B",fecha:"Sábado 28 Jun - 08:00 AM"},{cancha:"2",equipo1:"C",equipo2:"D",fecha:"Sábado 28 Jun - 08:00 AM"}],jornada2:[{cancha:"1",equipo1:"A",equipo2:"C",fecha:"Sábado 28 Jun - 09:00 AM"},{cancha:"2",equipo1:"B",equipo2:"E",fecha:"Sábado 28 Jun - 09:00 AM"}],jornada3:[{cancha:"1",equipo1:"A",equipo2:"D",fecha:"Sábado 28 Jun - 10:00 AM"},{cancha:"2",equipo1:"C",equipo2:"E",fecha:"Sábado 28 Jun - 10:00 AM"}],jornada4:[{cancha:"1",equipo1:"A",equipo2:"E",fecha:"Sábado 28 Jun - 11:00 AM"},{cancha:"2",equipo1:"B",equipo2:"D",fecha:"Sábado 28 Jun - 11:00 AM"}],jornada5:[{cancha:"1",equipo1:"B",equipo2:"C",fecha:"Sábado 28 Jun - 12:00 PM"},{cancha:"2",equipo1:"D",equipo2:"E",fecha:"Sábado 28 Jun - 12:00 PM"}],semifinales:[{cancha:"1",equipo1:"1er Lugar",equipo2:"4to Lugar",fecha:"Domingo 29 Jun - 09:00 AM"},{cancha:"2",equipo1:"2do Lugar",equipo2:"3er Lugar",fecha:"Domingo 29 Jun - 09:00 AM"}],finales:[{cancha:"2",equipo1:"Perdedor Semi 1",equipo2:"Perdedor Semi 2",fecha:"Domingo 29 Jun - 11:00 AM",nombre:"Tercer Lugar"},{cancha:"1",equipo1:"Ganador Semi 1",equipo2:"Ganador Semi 2",fecha:"Domingo 29 Jun - 12:00 PM",nombre:"Gran Final"}]}},masculino:{asignaciones:{A:"Equipo A",B:"Equipo B",C:"Equipo C",D:"Equipo D",E:"Equipo E",F:"Equipo F"},partidos:{jornada1:[{cancha:"1",equipo1:"A",equipo2:"F",fecha:"Sábado 28 Jun - 02:00 PM"},{cancha:"2",equipo1:"B",equipo2:"E",fecha:"Sábado 28 Jun - 02:00 PM"},{cancha:"1",equipo1:"C",equipo2:"D",fecha:"Sábado 28 Jun - 03:00 PM"}],jornada2:[{cancha:"2",equipo1:"A",equipo2:"E",fecha:"Sábado 28 Jun - 03:00 PM"},{cancha:"1",equipo1:"B",equipo2:"D",fecha:"Sábado 28 Jun - 04:00 PM"},{cancha:"2",equipo1:"C",equipo2:"F",fecha:"Sábado 28 Jun - 04:00 PM"}],jornada3:[{cancha:"1",equipo1:"A",equipo2:"D",fecha:"Domingo 29 Jun - 08:00 AM"},{cancha:"2",equipo1:"B",equipo2:"C",fecha:"Domingo 29 Jun - 08:00 AM"},{cancha:"1",equipo1:"E",equipo2:"F",fecha:"Domingo 29 Jun - 10:00 AM"}],jornada4:[{cancha:"2",equipo1:"A",equipo2:"C",fecha:"Domingo 29 Jun - 10:00 AM"},{cancha:"1",equipo1:"B",equipo2:"F",fecha:"Domingo 29 Jun - 11:00 AM"},{cancha:"2",equipo1:"D",equipo2:"E",fecha:"Domingo 29 Jun - 11:00 AM"}],jornada5:[{cancha:"1",equipo1:"A",equipo2:"B",fecha:"Domingo 29 Jun - 01:00 PM"},{cancha:"2",equipo1:"C",equipo2:"E",fecha:"Domingo 29 Jun - 01:00 PM"},{cancha:"1",equipo1:"D",equipo2:"F",fecha:"Domingo 29 Jun - 02:00 PM"}],semifinales:[{cancha:"1",equipo1:"1er Lugar",equipo2:"4to Lugar",fecha:"Domingo 29 Jun - 03:00 PM"},{cancha:"2",equipo1:"2do Lugar",equipo2:"3er Lugar",fecha:"Domingo 29 Jun - 03:00 PM"}],finales:[{cancha:"2",equipo1:"Perdedor Semi 1",equipo2:"Perdedor Semi 2",fecha:"Domingo 29 Jun - 04:00 PM",nombre:"Tercer Lugar"},{cancha:"1",equipo1:"Ganador Semi 1",equipo2:"Ganador Semi 2",fecha:"Domingo 29 Jun - 05:00 PM",nombre:"Gran Final"}]}}},plantillas:{femenino:{"Don Bosco":{logo:"bosco.png",jugadores:[]},"Atrapados en su Red":{logo:"atrapados.png",jugadores:[]},"Luz en mi Camino":{logo:"luz.png",jugadores:[]},"Mensajeros de Paz":{logo:"mensajeros.png",jugadores:[]},"Huellas de Jesus":{logo:"huellas.png",jugadores:[]}},masculino:{"Don Bosco":{logo:"bosco.png",jugadores:[]},"Atrapados en su Red":{logo:"atrapados.png",jugadores:[]},"Luz en mi Camino":{logo:"luz.png",jugadores:[]},"Mensajeros de Paz":{logo:"mensajeros.png",jugadores:[]},"Huellas de Jesus":{logo:"huellas.png",jugadores:[]},Emprosaurios:{logo:"emprosaurios.png",jugadores:[]}}}};function $s(t){return t&&t.ownerDocument||document}function Mh(t){return $s(t).defaultView||window}function mW(t=window){const e=t.document.documentElement.clientWidth;return t.innerWidth-e}function gW(t){const e=$s(t);return e.body===t?Mh(t).innerWidth>e.documentElement.clientWidth:t.scrollHeight>t.clientHeight}function $l(t,e){e?t.setAttribute("aria-hidden","true"):t.removeAttribute("aria-hidden")}function aS(t){return parseInt(Mh(t).getComputedStyle(t).paddingRight,10)||0}function yW(t){const n=["TEMPLATE","SCRIPT","STYLE","LINK","MAP","META","NOSCRIPT","PICTURE","COL","COLGROUP","PARAM","SLOT","SOURCE","TRACK"].includes(t.tagName),r=t.tagName==="INPUT"&&t.getAttribute("type")==="hidden";return n||r}function lS(t,e,n,r,i){const s=[e,n,...r];[].forEach.call(t.children,o=>{const a=!s.includes(o),l=!yW(o);a&&l&&$l(o,i)})}function Pm(t,e){let n=-1;return t.some((r,i)=>e(r)?(n=i,!0):!1),n}function vW(t,e){const n=[],r=t.container;if(!e.disableScrollLock){if(gW(r)){const o=mW(Mh(r));n.push({value:r.style.paddingRight,property:"padding-right",el:r}),r.style.paddingRight=`${aS(r)+o}px`;const a=$s(r).querySelectorAll(".mui-fixed");[].forEach.call(a,l=>{n.push({value:l.style.paddingRight,property:"padding-right",el:l}),l.style.paddingRight=`${aS(l)+o}px`})}let s;if(r.parentNode instanceof DocumentFragment)s=$s(r).body;else{const o=r.parentElement,a=Mh(r);s=(o==null?void 0:o.nodeName)==="HTML"&&a.getComputedStyle(o).overflowY==="scroll"?o:r}n.push({value:s.style.overflow,property:"overflow",el:s},{value:s.style.overflowX,property:"overflow-x",el:s},{value:s.style.overflowY,property:"overflow-y",el:s}),s.style.overflow="hidden"}return()=>{n.forEach(({value:s,el:o,property:a})=>{s?o.style.setProperty(a,s):o.style.removeProperty(a)})}}function _W(t){const e=[];return[].forEach.call(t.children,n=>{n.getAttribute("aria-hidden")==="true"&&e.push(n)}),e}class wW{constructor(){this.modals=[],this.containers=[]}add(e,n){let r=this.modals.indexOf(e);if(r!==-1)return r;r=this.modals.length,this.modals.push(e),e.modalRef&&$l(e.modalRef,!1);const i=_W(n);lS(n,e.mount,e.modalRef,i,!0);const s=Pm(this.containers,o=>o.container===n);return s!==-1?(this.containers[s].modals.push(e),r):(this.containers.push({modals:[e],container:n,restore:null,hiddenSiblings:i}),r)}mount(e,n){const r=Pm(this.containers,s=>s.modals.includes(e)),i=this.containers[r];i.restore||(i.restore=vW(i,n))}remove(e,n=!0){const r=this.modals.indexOf(e);if(r===-1)return r;const i=Pm(this.containers,o=>o.modals.includes(e)),s=this.containers[i];if(s.modals.splice(s.modals.indexOf(e),1),this.modals.splice(r,1),s.modals.length===0)s.restore&&s.restore(),e.modalRef&&$l(e.modalRef,n),lS(s.container,e.mount,e.modalRef,s.hiddenSiblings,!1),this.containers.splice(i,1);else{const o=s.modals[s.modals.length-1];o.modalRef&&$l(o.modalRef,!1)}return r}isTopModal(e){return this.modals.length>0&&this.modals[this.modals.length-1]===e}}function X2(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=X2(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function aa(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=X2(t))&&(r&&(r+=" "),r+=e);return r}function J2(t,e,n=void 0){const r={};for(const i in t){const s=t[i];let o="",a=!0;for(let l=0;l<s.length;l+=1){const c=s[l];c&&(o+=(a===!0?"":" ")+e(c),a=!1,n&&n[c]&&(o+=" "+n[c]))}r[i]=o}return r}function tu(...t){const e=T.useRef(void 0),n=T.useCallback(r=>{const i=t.map(s=>{if(s==null)return null;if(typeof s=="function"){const o=s,a=o(r);return typeof a=="function"?a:()=>{o(null)}}return s.current=r,()=>{s.current=null}});return()=>{i.forEach(s=>s==null?void 0:s())}},t);return T.useMemo(()=>t.every(r=>r==null)?null:r=>{e.current&&(e.current(),e.current=void 0),r!=null&&(e.current=n(r))},t)}function M_(t){var e;return parseInt(T.version,10)>=19?((e=t==null?void 0:t.props)==null?void 0:e.ref)||null:(t==null?void 0:t.ref)||null}const xW=["input","select","textarea","a[href]","button","[tabindex]","audio[controls]","video[controls]",'[contenteditable]:not([contenteditable="false"])'].join(",");function EW(t){const e=parseInt(t.getAttribute("tabindex")||"",10);return Number.isNaN(e)?t.contentEditable==="true"||(t.nodeName==="AUDIO"||t.nodeName==="VIDEO"||t.nodeName==="DETAILS")&&t.getAttribute("tabindex")===null?0:t.tabIndex:e}function CW(t){if(t.tagName!=="INPUT"||t.type!=="radio"||!t.name)return!1;const e=r=>t.ownerDocument.querySelector(`input[type="radio"]${r}`);let n=e(`[name="${t.name}"]:checked`);return n||(n=e(`[name="${t.name}"]`)),n!==t}function SW(t){return!(t.disabled||t.tagName==="INPUT"&&t.type==="hidden"||CW(t))}function bW(t){const e=[],n=[];return Array.from(t.querySelectorAll(xW)).forEach((r,i)=>{const s=EW(r);s===-1||!SW(r)||(s===0?e.push(r):n.push({documentOrder:i,tabIndex:s,node:r}))}),n.sort((r,i)=>r.tabIndex===i.tabIndex?r.documentOrder-i.documentOrder:r.tabIndex-i.tabIndex).map(r=>r.node).concat(e)}function TW(){return!0}function kW(t){const{children:e,disableAutoFocus:n=!1,disableEnforceFocus:r=!1,disableRestoreFocus:i=!1,getTabbable:s=bW,isEnabled:o=TW,open:a}=t,l=T.useRef(!1),c=T.useRef(null),d=T.useRef(null),h=T.useRef(null),f=T.useRef(null),y=T.useRef(!1),_=T.useRef(null),S=tu(M_(e),_),P=T.useRef(null);T.useEffect(()=>{!a||!_.current||(y.current=!n)},[n,a]),T.useEffect(()=>{if(!a||!_.current)return;const E=$s(_.current);return _.current.contains(E.activeElement)||(_.current.hasAttribute("tabIndex")||_.current.setAttribute("tabIndex","-1"),y.current&&_.current.focus()),()=>{i||(h.current&&h.current.focus&&(l.current=!0,h.current.focus()),h.current=null)}},[a]),T.useEffect(()=>{if(!a||!_.current)return;const E=$s(_.current),A=b=>{P.current=b,!(r||!o()||b.key!=="Tab")&&E.activeElement===_.current&&b.shiftKey&&(l.current=!0,d.current&&d.current.focus())},D=()=>{var I,g;const b=_.current;if(b===null)return;if(!E.hasFocus()||!o()||l.current){l.current=!1;return}if(b.contains(E.activeElement)||r&&E.activeElement!==c.current&&E.activeElement!==d.current)return;if(E.activeElement!==f.current)f.current=null;else if(f.current!==null)return;if(!y.current)return;let x=[];if((E.activeElement===c.current||E.activeElement===d.current)&&(x=s(_.current)),x.length>0){const R=!!((I=P.current)!=null&&I.shiftKey&&((g=P.current)==null?void 0:g.key)==="Tab"),O=x[0],N=x[x.length-1];typeof O!="string"&&typeof N!="string"&&(R?N.focus():O.focus())}else b.focus()};E.addEventListener("focusin",D),E.addEventListener("keydown",A,!0);const M=setInterval(()=>{E.activeElement&&E.activeElement.tagName==="BODY"&&D()},50);return()=>{clearInterval(M),E.removeEventListener("focusin",D),E.removeEventListener("keydown",A,!0)}},[n,r,i,o,a,s]);const w=E=>{h.current===null&&(h.current=E.relatedTarget),y.current=!0,f.current=E.target;const A=e.props.onFocus;A&&A(E)},C=E=>{h.current===null&&(h.current=E.relatedTarget),y.current=!0};return m.jsxs(T.Fragment,{children:[m.jsx("div",{tabIndex:a?0:-1,onFocus:C,ref:c,"data-testid":"sentinelStart"}),T.cloneElement(e,{ref:S,onFocus:w}),m.jsx("div",{tabIndex:a?0:-1,onFocus:C,ref:d,"data-testid":"sentinelEnd"})]})}const IW=typeof window<"u"?T.useLayoutEffect:T.useEffect,Ty=IW;function cS(t,e){typeof t=="function"?t(e):t&&(t.current=e)}function PW(t){return typeof t=="function"?t():t}const AW=T.forwardRef(function(e,n){const{children:r,container:i,disablePortal:s=!1}=e,[o,a]=T.useState(null),l=tu(T.isValidElement(r)?M_(r):null,n);if(Ty(()=>{s||a(PW(i)||document.body)},[i,s]),Ty(()=>{if(o&&!s)return cS(n,o),()=>{cS(n,null)}},[n,o,s]),s){if(T.isValidElement(r)){const c={ref:l};return T.cloneElement(r,c)}return r}return o&&U0.createPortal(r,o)}),RW=AW;function Us(t,...e){const n=new URL(`https://mui.com/production-error/?code=${t}`);return e.forEach(r=>n.searchParams.append("args[]",r)),`Minified MUI error #${t}; visit ${n} for the full message.`}function Q2(t){if(typeof t!="string")throw new Error(Us(7));return t.charAt(0).toUpperCase()+t.slice(1)}var Z2={exports:{}},be={};/**
 * @license React
 * react-is.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var L_=Symbol.for("react.transitional.element"),j_=Symbol.for("react.portal"),Rf=Symbol.for("react.fragment"),Nf=Symbol.for("react.strict_mode"),Df=Symbol.for("react.profiler"),Of=Symbol.for("react.consumer"),Mf=Symbol.for("react.context"),Lf=Symbol.for("react.forward_ref"),jf=Symbol.for("react.suspense"),Ff=Symbol.for("react.suspense_list"),$f=Symbol.for("react.memo"),Uf=Symbol.for("react.lazy"),NW=Symbol.for("react.view_transition"),DW=Symbol.for("react.client.reference");function Mn(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case L_:switch(t=t.type,t){case Rf:case Df:case Nf:case jf:case Ff:case NW:return t;default:switch(t=t&&t.$$typeof,t){case Mf:case Lf:case Uf:case $f:return t;case Of:return t;default:return e}}case j_:return e}}}be.ContextConsumer=Of;be.ContextProvider=Mf;be.Element=L_;be.ForwardRef=Lf;be.Fragment=Rf;be.Lazy=Uf;be.Memo=$f;be.Portal=j_;be.Profiler=Df;be.StrictMode=Nf;be.Suspense=jf;be.SuspenseList=Ff;be.isContextConsumer=function(t){return Mn(t)===Of};be.isContextProvider=function(t){return Mn(t)===Mf};be.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===L_};be.isForwardRef=function(t){return Mn(t)===Lf};be.isFragment=function(t){return Mn(t)===Rf};be.isLazy=function(t){return Mn(t)===Uf};be.isMemo=function(t){return Mn(t)===$f};be.isPortal=function(t){return Mn(t)===j_};be.isProfiler=function(t){return Mn(t)===Df};be.isStrictMode=function(t){return Mn(t)===Nf};be.isSuspense=function(t){return Mn(t)===jf};be.isSuspenseList=function(t){return Mn(t)===Ff};be.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===Rf||t===Df||t===Nf||t===jf||t===Ff||typeof t=="object"&&t!==null&&(t.$$typeof===Uf||t.$$typeof===$f||t.$$typeof===Mf||t.$$typeof===Of||t.$$typeof===Lf||t.$$typeof===DW||t.getModuleId!==void 0)};be.typeOf=Mn;Z2.exports=be;var eR=Z2.exports;function dr(t){if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)}function tR(t){if(T.isValidElement(t)||eR.isValidElementType(t)||!dr(t))return t;const e={};return Object.keys(t).forEach(n=>{e[n]=tR(t[n])}),e}function fn(t,e,n={clone:!0}){const r=n.clone?{...t}:t;return dr(t)&&dr(e)&&Object.keys(e).forEach(i=>{T.isValidElement(e[i])||eR.isValidElementType(e[i])?r[i]=e[i]:dr(e[i])&&Object.prototype.hasOwnProperty.call(t,i)&&dr(t[i])?r[i]=fn(t[i],e[i],n):n.clone?r[i]=dr(e[i])?tR(e[i]):e[i]:r[i]=e[i]}),r}function Ul(t,e){return e?fn(t,e,{clone:!1}):t}function OW(t,e){if(!t.containerQueries)return e;const n=Object.keys(e).filter(r=>r.startsWith("@container")).sort((r,i)=>{var o,a;const s=/min-width:\s*([0-9.]+)/;return+(((o=r.match(s))==null?void 0:o[1])||0)-+(((a=i.match(s))==null?void 0:a[1])||0)});return n.length?n.reduce((r,i)=>{const s=e[i];return delete r[i],r[i]=s,r},{...e}):e}function MW(t,e){return e==="@"||e.startsWith("@")&&(t.some(n=>e.startsWith(`@${n}`))||!!e.match(/^@\d/))}function LW(t,e){const n=e.match(/^@([^/]+)?\/?(.+)?$/);if(!n)return null;const[,r,i]=n,s=Number.isNaN(+r)?r||0:+r;return t.containerQueries(i).up(s)}function jW(t){const e=(s,o)=>s.replace("@media",o?`@container ${o}`:"@container");function n(s,o){s.up=(...a)=>e(t.breakpoints.up(...a),o),s.down=(...a)=>e(t.breakpoints.down(...a),o),s.between=(...a)=>e(t.breakpoints.between(...a),o),s.only=(...a)=>e(t.breakpoints.only(...a),o),s.not=(...a)=>{const l=e(t.breakpoints.not(...a),o);return l.includes("not all and")?l.replace("not all and ","").replace("min-width:","width<").replace("max-width:","width>").replace("and","or"):l}}const r={},i=s=>(n(r,s),r);return n(i),{...t,containerQueries:i}}const Vf={xs:0,sm:600,md:900,lg:1200,xl:1536},uS={keys:["xs","sm","md","lg","xl"],up:t=>`@media (min-width:${Vf[t]}px)`},FW={containerQueries:t=>({up:e=>{let n=typeof e=="number"?e:Vf[e]||e;return typeof n=="number"&&(n=`${n}px`),t?`@container ${t} (min-width:${n})`:`@container (min-width:${n})`}})};function ni(t,e,n){const r=t.theme||{};if(Array.isArray(e)){const s=r.breakpoints||uS;return e.reduce((o,a,l)=>(o[s.up(s.keys[l])]=n(e[l]),o),{})}if(typeof e=="object"){const s=r.breakpoints||uS;return Object.keys(e).reduce((o,a)=>{if(MW(s.keys,a)){const l=LW(r.containerQueries?r:FW,a);l&&(o[l]=n(e[a],a))}else if(Object.keys(s.values||Vf).includes(a)){const l=s.up(a);o[l]=n(e[a],a)}else{const l=a;o[l]=e[l]}return o},{})}return n(e)}function $W(t={}){var n;return((n=t.keys)==null?void 0:n.reduce((r,i)=>{const s=t.up(i);return r[s]={},r},{}))||{}}function UW(t,e){return t.reduce((n,r)=>{const i=n[r];return(!i||Object.keys(i).length===0)&&delete n[r],n},e)}function Bf(t,e,n=!0){if(!e||typeof e!="string")return null;if(t&&t.vars&&n){const r=`vars.${e}`.split(".").reduce((i,s)=>i&&i[s]?i[s]:null,t);if(r!=null)return r}return e.split(".").reduce((r,i)=>r&&r[i]!=null?r[i]:null,t)}function Lh(t,e,n,r=n){let i;return typeof t=="function"?i=t(n):Array.isArray(t)?i=t[n]||r:i=Bf(t,n)||r,e&&(i=e(i,r,t)),i}function Je(t){const{prop:e,cssProperty:n=t.prop,themeKey:r,transform:i}=t,s=o=>{if(o[e]==null)return null;const a=o[e],l=o.theme,c=Bf(l,r)||{};return ni(o,a,h=>{let f=Lh(c,i,h);return h===f&&typeof h=="string"&&(f=Lh(c,i,`${e}${h==="default"?"":Q2(h)}`,h)),n===!1?f:{[n]:f}})};return s.propTypes={},s.filterProps=[e],s}function VW(t){const e={};return n=>(e[n]===void 0&&(e[n]=t(n)),e[n])}const BW={m:"margin",p:"padding"},zW={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},dS={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},WW=VW(t=>{if(t.length>2)if(dS[t])t=dS[t];else return[t];const[e,n]=t.split(""),r=BW[e],i=zW[n]||"";return Array.isArray(i)?i.map(s=>r+s):[r+i]}),F_=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],$_=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"];[...F_,...$_];function nu(t,e,n,r){const i=Bf(t,e,!0)??n;return typeof i=="number"||typeof i=="string"?s=>typeof s=="string"?s:typeof i=="string"?i.startsWith("var(")&&s===0?0:i.startsWith("var(")&&s===1?i:`calc(${s} * ${i})`:i*s:Array.isArray(i)?s=>{if(typeof s=="string")return s;const o=Math.abs(s),a=i[o];return s>=0?a:typeof a=="number"?-a:typeof a=="string"&&a.startsWith("var(")?`calc(-1 * ${a})`:`-${a}`}:typeof i=="function"?i:()=>{}}function U_(t){return nu(t,"spacing",8)}function ru(t,e){return typeof e=="string"||e==null?e:t(e)}function HW(t,e){return n=>t.reduce((r,i)=>(r[i]=ru(e,n),r),{})}function qW(t,e,n,r){if(!e.includes(n))return null;const i=WW(n),s=HW(i,r),o=t[n];return ni(t,o,s)}function nR(t,e){const n=U_(t.theme);return Object.keys(t).map(r=>qW(t,e,r,n)).reduce(Ul,{})}function Be(t){return nR(t,F_)}Be.propTypes={};Be.filterProps=F_;function ze(t){return nR(t,$_)}ze.propTypes={};ze.filterProps=$_;function zf(...t){const e=t.reduce((r,i)=>(i.filterProps.forEach(s=>{r[s]=i}),r),{}),n=r=>Object.keys(r).reduce((i,s)=>e[s]?Ul(i,e[s](r)):i,{});return n.propTypes={},n.filterProps=t.reduce((r,i)=>r.concat(i.filterProps),[]),n}function Sn(t){return typeof t!="number"?t:`${t}px solid`}function Ln(t,e){return Je({prop:t,themeKey:"borders",transform:e})}const GW=Ln("border",Sn),KW=Ln("borderTop",Sn),YW=Ln("borderRight",Sn),XW=Ln("borderBottom",Sn),JW=Ln("borderLeft",Sn),QW=Ln("borderColor"),ZW=Ln("borderTopColor"),eH=Ln("borderRightColor"),tH=Ln("borderBottomColor"),nH=Ln("borderLeftColor"),rH=Ln("outline",Sn),iH=Ln("outlineColor"),Wf=t=>{if(t.borderRadius!==void 0&&t.borderRadius!==null){const e=nu(t.theme,"shape.borderRadius",4),n=r=>({borderRadius:ru(e,r)});return ni(t,t.borderRadius,n)}return null};Wf.propTypes={};Wf.filterProps=["borderRadius"];zf(GW,KW,YW,XW,JW,QW,ZW,eH,tH,nH,Wf,rH,iH);const Hf=t=>{if(t.gap!==void 0&&t.gap!==null){const e=nu(t.theme,"spacing",8),n=r=>({gap:ru(e,r)});return ni(t,t.gap,n)}return null};Hf.propTypes={};Hf.filterProps=["gap"];const qf=t=>{if(t.columnGap!==void 0&&t.columnGap!==null){const e=nu(t.theme,"spacing",8),n=r=>({columnGap:ru(e,r)});return ni(t,t.columnGap,n)}return null};qf.propTypes={};qf.filterProps=["columnGap"];const Gf=t=>{if(t.rowGap!==void 0&&t.rowGap!==null){const e=nu(t.theme,"spacing",8),n=r=>({rowGap:ru(e,r)});return ni(t,t.rowGap,n)}return null};Gf.propTypes={};Gf.filterProps=["rowGap"];const sH=Je({prop:"gridColumn"}),oH=Je({prop:"gridRow"}),aH=Je({prop:"gridAutoFlow"}),lH=Je({prop:"gridAutoColumns"}),cH=Je({prop:"gridAutoRows"}),uH=Je({prop:"gridTemplateColumns"}),dH=Je({prop:"gridTemplateRows"}),hH=Je({prop:"gridTemplateAreas"}),fH=Je({prop:"gridArea"});zf(Hf,qf,Gf,sH,oH,aH,lH,cH,uH,dH,hH,fH);function Vo(t,e){return e==="grey"?e:t}const pH=Je({prop:"color",themeKey:"palette",transform:Vo}),mH=Je({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette",transform:Vo}),gH=Je({prop:"backgroundColor",themeKey:"palette",transform:Vo});zf(pH,mH,gH);function un(t){return t<=1&&t!==0?`${t*100}%`:t}const yH=Je({prop:"width",transform:un}),V_=t=>{if(t.maxWidth!==void 0&&t.maxWidth!==null){const e=n=>{var i,s,o,a,l;const r=((o=(s=(i=t.theme)==null?void 0:i.breakpoints)==null?void 0:s.values)==null?void 0:o[n])||Vf[n];return r?((l=(a=t.theme)==null?void 0:a.breakpoints)==null?void 0:l.unit)!=="px"?{maxWidth:`${r}${t.theme.breakpoints.unit}`}:{maxWidth:r}:{maxWidth:un(n)}};return ni(t,t.maxWidth,e)}return null};V_.filterProps=["maxWidth"];const vH=Je({prop:"minWidth",transform:un}),_H=Je({prop:"height",transform:un}),wH=Je({prop:"maxHeight",transform:un}),xH=Je({prop:"minHeight",transform:un});Je({prop:"size",cssProperty:"width",transform:un});Je({prop:"size",cssProperty:"height",transform:un});const EH=Je({prop:"boxSizing"});zf(yH,V_,vH,_H,wH,xH,EH);const CH={border:{themeKey:"borders",transform:Sn},borderTop:{themeKey:"borders",transform:Sn},borderRight:{themeKey:"borders",transform:Sn},borderBottom:{themeKey:"borders",transform:Sn},borderLeft:{themeKey:"borders",transform:Sn},borderColor:{themeKey:"palette"},borderTopColor:{themeKey:"palette"},borderRightColor:{themeKey:"palette"},borderBottomColor:{themeKey:"palette"},borderLeftColor:{themeKey:"palette"},outline:{themeKey:"borders",transform:Sn},outlineColor:{themeKey:"palette"},borderRadius:{themeKey:"shape.borderRadius",style:Wf},color:{themeKey:"palette",transform:Vo},bgcolor:{themeKey:"palette",cssProperty:"backgroundColor",transform:Vo},backgroundColor:{themeKey:"palette",transform:Vo},p:{style:ze},pt:{style:ze},pr:{style:ze},pb:{style:ze},pl:{style:ze},px:{style:ze},py:{style:ze},padding:{style:ze},paddingTop:{style:ze},paddingRight:{style:ze},paddingBottom:{style:ze},paddingLeft:{style:ze},paddingX:{style:ze},paddingY:{style:ze},paddingInline:{style:ze},paddingInlineStart:{style:ze},paddingInlineEnd:{style:ze},paddingBlock:{style:ze},paddingBlockStart:{style:ze},paddingBlockEnd:{style:ze},m:{style:Be},mt:{style:Be},mr:{style:Be},mb:{style:Be},ml:{style:Be},mx:{style:Be},my:{style:Be},margin:{style:Be},marginTop:{style:Be},marginRight:{style:Be},marginBottom:{style:Be},marginLeft:{style:Be},marginX:{style:Be},marginY:{style:Be},marginInline:{style:Be},marginInlineStart:{style:Be},marginInlineEnd:{style:Be},marginBlock:{style:Be},marginBlockStart:{style:Be},marginBlockEnd:{style:Be},displayPrint:{cssProperty:!1,transform:t=>({"@media print":{display:t}})},display:{},overflow:{},textOverflow:{},visibility:{},whiteSpace:{},flexBasis:{},flexDirection:{},flexWrap:{},justifyContent:{},alignItems:{},alignContent:{},order:{},flex:{},flexGrow:{},flexShrink:{},alignSelf:{},justifyItems:{},justifySelf:{},gap:{style:Hf},rowGap:{style:Gf},columnGap:{style:qf},gridColumn:{},gridRow:{},gridAutoFlow:{},gridAutoColumns:{},gridAutoRows:{},gridTemplateColumns:{},gridTemplateRows:{},gridTemplateAreas:{},gridArea:{},position:{},zIndex:{themeKey:"zIndex"},top:{},right:{},bottom:{},left:{},boxShadow:{themeKey:"shadows"},width:{transform:un},maxWidth:{style:V_},minWidth:{transform:un},height:{transform:un},maxHeight:{transform:un},minHeight:{transform:un},boxSizing:{},font:{themeKey:"font"},fontFamily:{themeKey:"typography"},fontSize:{themeKey:"typography"},fontStyle:{themeKey:"typography"},fontWeight:{themeKey:"typography"},letterSpacing:{},textTransform:{},lineHeight:{},textAlign:{},typography:{cssProperty:!1,themeKey:"typography"}},iu=CH;function SH(...t){const e=t.reduce((r,i)=>r.concat(Object.keys(i)),[]),n=new Set(e);return t.every(r=>n.size===Object.keys(r).length)}function bH(t,e){return typeof t=="function"?t(e):t}function TH(){function t(n,r,i,s){const o={[n]:r,theme:i},a=s[n];if(!a)return{[n]:r};const{cssProperty:l=n,themeKey:c,transform:d,style:h}=a;if(r==null)return null;if(c==="typography"&&r==="inherit")return{[n]:r};const f=Bf(i,c)||{};return h?h(o):ni(o,r,_=>{let S=Lh(f,d,_);return _===S&&typeof _=="string"&&(S=Lh(f,d,`${n}${_==="default"?"":Q2(_)}`,_)),l===!1?S:{[l]:S}})}function e(n){const{sx:r,theme:i={}}=n||{};if(!r)return null;const s=i.unstable_sxConfig??iu;function o(a){let l=a;if(typeof a=="function")l=a(i);else if(typeof a!="object")return a;if(!l)return null;const c=$W(i.breakpoints),d=Object.keys(c);let h=c;return Object.keys(l).forEach(f=>{const y=bH(l[f],i);if(y!=null)if(typeof y=="object")if(s[f])h=Ul(h,t(f,y,i,s));else{const _=ni({theme:i},y,S=>({[f]:S}));SH(_,y)?h[f]=e({sx:y,theme:i}):h=Ul(h,_)}else h=Ul(h,t(f,y,i,s))}),OW(i,UW(d,h))}return Array.isArray(r)?r.map(o):o(r)}return e}const rR=TH();rR.filterProps=["sx"];const la=rR,kH=t=>{var r;const e={systemProps:{},otherProps:{}},n=((r=t==null?void 0:t.theme)==null?void 0:r.unstable_sxConfig)??iu;return Object.keys(t).forEach(i=>{n[i]?e.systemProps[i]=t[i]:e.otherProps[i]=t[i]}),e};function IH(t){const{sx:e,...n}=t,{systemProps:r,otherProps:i}=kH(n);let s;return Array.isArray(e)?s=[r,...e]:typeof e=="function"?s=(...o)=>{const a=e(...o);return dr(a)?{...r,...a}:r}:s={...r,...e},{...i,sx:s}}function ky(){return ky=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ky.apply(null,arguments)}var PH=!1;function AH(t){if(t.sheet)return t.sheet;for(var e=0;e<document.styleSheets.length;e++)if(document.styleSheets[e].ownerNode===t)return document.styleSheets[e]}function RH(t){var e=document.createElement("style");return e.setAttribute("data-emotion",t.key),t.nonce!==void 0&&e.setAttribute("nonce",t.nonce),e.appendChild(document.createTextNode("")),e.setAttribute("data-s",""),e}var NH=function(){function t(n){var r=this;this._insertTag=function(i){var s;r.tags.length===0?r.insertionPoint?s=r.insertionPoint.nextSibling:r.prepend?s=r.container.firstChild:s=r.before:s=r.tags[r.tags.length-1].nextSibling,r.container.insertBefore(i,s),r.tags.push(i)},this.isSpeedy=n.speedy===void 0?!PH:n.speedy,this.tags=[],this.ctr=0,this.nonce=n.nonce,this.key=n.key,this.container=n.container,this.prepend=n.prepend,this.insertionPoint=n.insertionPoint,this.before=null}var e=t.prototype;return e.hydrate=function(r){r.forEach(this._insertTag)},e.insert=function(r){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(RH(this));var i=this.tags[this.tags.length-1];if(this.isSpeedy){var s=AH(i);try{s.insertRule(r,s.cssRules.length)}catch{}}else i.appendChild(document.createTextNode(r));this.ctr++},e.flush=function(){this.tags.forEach(function(r){var i;return(i=r.parentNode)==null?void 0:i.removeChild(r)}),this.tags=[],this.ctr=0},t}(),kt="-ms-",jh="-moz-",ge="-webkit-",iR="comm",B_="rule",z_="decl",DH="@import",sR="@keyframes",OH="@layer",MH=Math.abs,Kf=String.fromCharCode,LH=Object.assign;function jH(t,e){return yt(t,0)^45?(((e<<2^yt(t,0))<<2^yt(t,1))<<2^yt(t,2))<<2^yt(t,3):0}function oR(t){return t.trim()}function FH(t,e){return(t=e.exec(t))?t[0]:t}function ye(t,e,n){return t.replace(e,n)}function Iy(t,e){return t.indexOf(e)}function yt(t,e){return t.charCodeAt(e)|0}function Tc(t,e,n){return t.slice(e,n)}function ar(t){return t.length}function W_(t){return t.length}function Gu(t,e){return e.push(t),t}function $H(t,e){return t.map(e).join("")}var Yf=1,ca=1,aR=0,an=0,Qe=0,Ia="";function Xf(t,e,n,r,i,s,o){return{value:t,root:e,parent:n,type:r,props:i,children:s,line:Yf,column:ca,length:o,return:""}}function il(t,e){return LH(Xf("",null,null,"",null,null,0),t,{length:-t.length},e)}function UH(){return Qe}function VH(){return Qe=an>0?yt(Ia,--an):0,ca--,Qe===10&&(ca=1,Yf--),Qe}function pn(){return Qe=an<aR?yt(Ia,an++):0,ca++,Qe===10&&(ca=1,Yf++),Qe}function vr(){return yt(Ia,an)}function Cd(){return an}function su(t,e){return Tc(Ia,t,e)}function kc(t){switch(t){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function lR(t){return Yf=ca=1,aR=ar(Ia=t),an=0,[]}function cR(t){return Ia="",t}function Sd(t){return oR(su(an-1,Py(t===91?t+2:t===40?t+1:t)))}function BH(t){for(;(Qe=vr())&&Qe<33;)pn();return kc(t)>2||kc(Qe)>3?"":" "}function zH(t,e){for(;--e&&pn()&&!(Qe<48||Qe>102||Qe>57&&Qe<65||Qe>70&&Qe<97););return su(t,Cd()+(e<6&&vr()==32&&pn()==32))}function Py(t){for(;pn();)switch(Qe){case t:return an;case 34:case 39:t!==34&&t!==39&&Py(Qe);break;case 40:t===41&&Py(t);break;case 92:pn();break}return an}function WH(t,e){for(;pn()&&t+Qe!==47+10;)if(t+Qe===42+42&&vr()===47)break;return"/*"+su(e,an-1)+"*"+Kf(t===47?t:pn())}function HH(t){for(;!kc(vr());)pn();return su(t,an)}function qH(t){return cR(bd("",null,null,null,[""],t=lR(t),0,[0],t))}function bd(t,e,n,r,i,s,o,a,l){for(var c=0,d=0,h=o,f=0,y=0,_=0,S=1,P=1,w=1,C=0,E="",A=i,D=s,M=r,b=E;P;)switch(_=C,C=pn()){case 40:if(_!=108&&yt(b,h-1)==58){Iy(b+=ye(Sd(C),"&","&\f"),"&\f")!=-1&&(w=-1);break}case 34:case 39:case 91:b+=Sd(C);break;case 9:case 10:case 13:case 32:b+=BH(_);break;case 92:b+=zH(Cd()-1,7);continue;case 47:switch(vr()){case 42:case 47:Gu(GH(WH(pn(),Cd()),e,n),l);break;default:b+="/"}break;case 123*S:a[c++]=ar(b)*w;case 125*S:case 59:case 0:switch(C){case 0:case 125:P=0;case 59+d:w==-1&&(b=ye(b,/\f/g,"")),y>0&&ar(b)-h&&Gu(y>32?fS(b+";",r,n,h-1):fS(ye(b," ","")+";",r,n,h-2),l);break;case 59:b+=";";default:if(Gu(M=hS(b,e,n,c,d,i,a,E,A=[],D=[],h),s),C===123)if(d===0)bd(b,e,M,M,A,s,h,a,D);else switch(f===99&&yt(b,3)===110?100:f){case 100:case 108:case 109:case 115:bd(t,M,M,r&&Gu(hS(t,M,M,0,0,i,a,E,i,A=[],h),D),i,D,h,a,r?A:D);break;default:bd(b,M,M,M,[""],D,0,a,D)}}c=d=y=0,S=w=1,E=b="",h=o;break;case 58:h=1+ar(b),y=_;default:if(S<1){if(C==123)--S;else if(C==125&&S++==0&&VH()==125)continue}switch(b+=Kf(C),C*S){case 38:w=d>0?1:(b+="\f",-1);break;case 44:a[c++]=(ar(b)-1)*w,w=1;break;case 64:vr()===45&&(b+=Sd(pn())),f=vr(),d=h=ar(E=b+=HH(Cd())),C++;break;case 45:_===45&&ar(b)==2&&(S=0)}}return s}function hS(t,e,n,r,i,s,o,a,l,c,d){for(var h=i-1,f=i===0?s:[""],y=W_(f),_=0,S=0,P=0;_<r;++_)for(var w=0,C=Tc(t,h+1,h=MH(S=o[_])),E=t;w<y;++w)(E=oR(S>0?f[w]+" "+C:ye(C,/&\f/g,f[w])))&&(l[P++]=E);return Xf(t,e,n,i===0?B_:a,l,c,d)}function GH(t,e,n){return Xf(t,e,n,iR,Kf(UH()),Tc(t,2,-2),0)}function fS(t,e,n,r){return Xf(t,e,n,z_,Tc(t,0,r),Tc(t,r+1,-1),r)}function Bo(t,e){for(var n="",r=W_(t),i=0;i<r;i++)n+=e(t[i],i,t,e)||"";return n}function KH(t,e,n,r){switch(t.type){case OH:if(t.children.length)break;case DH:case z_:return t.return=t.return||t.value;case iR:return"";case sR:return t.return=t.value+"{"+Bo(t.children,r)+"}";case B_:t.value=t.props.join(",")}return ar(n=Bo(t.children,r))?t.return=t.value+"{"+n+"}":""}function YH(t){var e=W_(t);return function(n,r,i,s){for(var o="",a=0;a<e;a++)o+=t[a](n,r,i,s)||"";return o}}function XH(t){return function(e){e.root||(e=e.return)&&t(e)}}function uR(t){var e=Object.create(null);return function(n){return e[n]===void 0&&(e[n]=t(n)),e[n]}}var JH=function(e,n,r){for(var i=0,s=0;i=s,s=vr(),i===38&&s===12&&(n[r]=1),!kc(s);)pn();return su(e,an)},QH=function(e,n){var r=-1,i=44;do switch(kc(i)){case 0:i===38&&vr()===12&&(n[r]=1),e[r]+=JH(an-1,n,r);break;case 2:e[r]+=Sd(i);break;case 4:if(i===44){e[++r]=vr()===58?"&\f":"",n[r]=e[r].length;break}default:e[r]+=Kf(i)}while(i=pn());return e},ZH=function(e,n){return cR(QH(lR(e),n))},pS=new WeakMap,eq=function(e){if(!(e.type!=="rule"||!e.parent||e.length<1)){for(var n=e.value,r=e.parent,i=e.column===r.column&&e.line===r.line;r.type!=="rule";)if(r=r.parent,!r)return;if(!(e.props.length===1&&n.charCodeAt(0)!==58&&!pS.get(r))&&!i){pS.set(e,!0);for(var s=[],o=ZH(n,s),a=r.props,l=0,c=0;l<o.length;l++)for(var d=0;d<a.length;d++,c++)e.props[c]=s[l]?o[l].replace(/&\f/g,a[d]):a[d]+" "+o[l]}}},tq=function(e){if(e.type==="decl"){var n=e.value;n.charCodeAt(0)===108&&n.charCodeAt(2)===98&&(e.return="",e.value="")}};function dR(t,e){switch(jH(t,e)){case 5103:return ge+"print-"+t+t;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return ge+t+t;case 5349:case 4246:case 4810:case 6968:case 2756:return ge+t+jh+t+kt+t+t;case 6828:case 4268:return ge+t+kt+t+t;case 6165:return ge+t+kt+"flex-"+t+t;case 5187:return ge+t+ye(t,/(\w+).+(:[^]+)/,ge+"box-$1$2"+kt+"flex-$1$2")+t;case 5443:return ge+t+kt+"flex-item-"+ye(t,/flex-|-self/,"")+t;case 4675:return ge+t+kt+"flex-line-pack"+ye(t,/align-content|flex-|-self/,"")+t;case 5548:return ge+t+kt+ye(t,"shrink","negative")+t;case 5292:return ge+t+kt+ye(t,"basis","preferred-size")+t;case 6060:return ge+"box-"+ye(t,"-grow","")+ge+t+kt+ye(t,"grow","positive")+t;case 4554:return ge+ye(t,/([^-])(transform)/g,"$1"+ge+"$2")+t;case 6187:return ye(ye(ye(t,/(zoom-|grab)/,ge+"$1"),/(image-set)/,ge+"$1"),t,"")+t;case 5495:case 3959:return ye(t,/(image-set\([^]*)/,ge+"$1$`$1");case 4968:return ye(ye(t,/(.+:)(flex-)?(.*)/,ge+"box-pack:$3"+kt+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+ge+t+t;case 4095:case 3583:case 4068:case 2532:return ye(t,/(.+)-inline(.+)/,ge+"$1$2")+t;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(ar(t)-1-e>6)switch(yt(t,e+1)){case 109:if(yt(t,e+4)!==45)break;case 102:return ye(t,/(.+:)(.+)-([^]+)/,"$1"+ge+"$2-$3$1"+jh+(yt(t,e+3)==108?"$3":"$2-$3"))+t;case 115:return~Iy(t,"stretch")?dR(ye(t,"stretch","fill-available"),e)+t:t}break;case 4949:if(yt(t,e+1)!==115)break;case 6444:switch(yt(t,ar(t)-3-(~Iy(t,"!important")&&10))){case 107:return ye(t,":",":"+ge)+t;case 101:return ye(t,/(.+:)([^;!]+)(;|!.+)?/,"$1"+ge+(yt(t,14)===45?"inline-":"")+"box$3$1"+ge+"$2$3$1"+kt+"$2box$3")+t}break;case 5936:switch(yt(t,e+11)){case 114:return ge+t+kt+ye(t,/[svh]\w+-[tblr]{2}/,"tb")+t;case 108:return ge+t+kt+ye(t,/[svh]\w+-[tblr]{2}/,"tb-rl")+t;case 45:return ge+t+kt+ye(t,/[svh]\w+-[tblr]{2}/,"lr")+t}return ge+t+kt+t+t}return t}var nq=function(e,n,r,i){if(e.length>-1&&!e.return)switch(e.type){case z_:e.return=dR(e.value,e.length);break;case sR:return Bo([il(e,{value:ye(e.value,"@","@"+ge)})],i);case B_:if(e.length)return $H(e.props,function(s){switch(FH(s,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return Bo([il(e,{props:[ye(s,/:(read-\w+)/,":"+jh+"$1")]})],i);case"::placeholder":return Bo([il(e,{props:[ye(s,/:(plac\w+)/,":"+ge+"input-$1")]}),il(e,{props:[ye(s,/:(plac\w+)/,":"+jh+"$1")]}),il(e,{props:[ye(s,/:(plac\w+)/,kt+"input-$1")]})],i)}return""})}},rq=[nq],iq=function(e){var n=e.key;if(n==="css"){var r=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(r,function(S){var P=S.getAttribute("data-emotion");P.indexOf(" ")!==-1&&(document.head.appendChild(S),S.setAttribute("data-s",""))})}var i=e.stylisPlugins||rq,s={},o,a=[];o=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+n+' "]'),function(S){for(var P=S.getAttribute("data-emotion").split(" "),w=1;w<P.length;w++)s[P[w]]=!0;a.push(S)});var l,c=[eq,tq];{var d,h=[KH,XH(function(S){d.insert(S)})],f=YH(c.concat(i,h)),y=function(P){return Bo(qH(P),f)};l=function(P,w,C,E){d=C,y(P?P+"{"+w.styles+"}":w.styles),E&&(_.inserted[w.name]=!0)}}var _={key:n,sheet:new NH({key:n,container:o,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:s,registered:{},insert:l};return _.sheet.hydrate(a),_},sq=!0;function oq(t,e,n){var r="";return n.split(" ").forEach(function(i){t[i]!==void 0?e.push(t[i]+";"):i&&(r+=i+" ")}),r}var hR=function(e,n,r){var i=e.key+"-"+n.name;(r===!1||sq===!1)&&e.registered[i]===void 0&&(e.registered[i]=n.styles)},aq=function(e,n,r){hR(e,n,r);var i=e.key+"-"+n.name;if(e.inserted[n.name]===void 0){var s=n;do e.insert(n===s?"."+i:"",s,e.sheet,!0),s=s.next;while(s!==void 0)}};function lq(t){for(var e=0,n,r=0,i=t.length;i>=4;++r,i-=4)n=t.charCodeAt(r)&255|(t.charCodeAt(++r)&255)<<8|(t.charCodeAt(++r)&255)<<16|(t.charCodeAt(++r)&255)<<24,n=(n&65535)*1540483477+((n>>>16)*59797<<16),n^=n>>>24,e=(n&65535)*1540483477+((n>>>16)*59797<<16)^(e&65535)*1540483477+((e>>>16)*59797<<16);switch(i){case 3:e^=(t.charCodeAt(r+2)&255)<<16;case 2:e^=(t.charCodeAt(r+1)&255)<<8;case 1:e^=t.charCodeAt(r)&255,e=(e&65535)*1540483477+((e>>>16)*59797<<16)}return e^=e>>>13,e=(e&65535)*1540483477+((e>>>16)*59797<<16),((e^e>>>15)>>>0).toString(36)}var cq={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,scale:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},uq=!1,dq=/[A-Z]|^ms/g,hq=/_EMO_([^_]+?)_([^]*?)_EMO_/g,fR=function(e){return e.charCodeAt(1)===45},mS=function(e){return e!=null&&typeof e!="boolean"},Am=uR(function(t){return fR(t)?t:t.replace(dq,"-$&").toLowerCase()}),gS=function(e,n){switch(e){case"animation":case"animationName":if(typeof n=="string")return n.replace(hq,function(r,i,s){return lr={name:i,styles:s,next:lr},i})}return cq[e]!==1&&!fR(e)&&typeof n=="number"&&n!==0?n+"px":n},fq="Component selectors can only be used in conjunction with @emotion/babel-plugin, the swc Emotion plugin, or another Emotion-aware compiler transform.";function Ic(t,e,n){if(n==null)return"";var r=n;if(r.__emotion_styles!==void 0)return r;switch(typeof n){case"boolean":return"";case"object":{var i=n;if(i.anim===1)return lr={name:i.name,styles:i.styles,next:lr},i.name;var s=n;if(s.styles!==void 0){var o=s.next;if(o!==void 0)for(;o!==void 0;)lr={name:o.name,styles:o.styles,next:lr},o=o.next;var a=s.styles+";";return a}return pq(t,e,n)}case"function":{if(t!==void 0){var l=lr,c=n(t);return lr=l,Ic(t,e,c)}break}}var d=n;if(e==null)return d;var h=e[d];return h!==void 0?h:d}function pq(t,e,n){var r="";if(Array.isArray(n))for(var i=0;i<n.length;i++)r+=Ic(t,e,n[i])+";";else for(var s in n){var o=n[s];if(typeof o!="object"){var a=o;e!=null&&e[a]!==void 0?r+=s+"{"+e[a]+"}":mS(a)&&(r+=Am(s)+":"+gS(s,a)+";")}else{if(s==="NO_COMPONENT_SELECTOR"&&uq)throw new Error(fq);if(Array.isArray(o)&&typeof o[0]=="string"&&(e==null||e[o[0]]===void 0))for(var l=0;l<o.length;l++)mS(o[l])&&(r+=Am(s)+":"+gS(s,o[l])+";");else{var c=Ic(t,e,o);switch(s){case"animation":case"animationName":{r+=Am(s)+":"+c+";";break}default:r+=s+"{"+c+"}"}}}}return r}var yS=/label:\s*([^\s;{]+)\s*(;|$)/g,lr;function pR(t,e,n){if(t.length===1&&typeof t[0]=="object"&&t[0]!==null&&t[0].styles!==void 0)return t[0];var r=!0,i="";lr=void 0;var s=t[0];if(s==null||s.raw===void 0)r=!1,i+=Ic(n,e,s);else{var o=s;i+=o[0]}for(var a=1;a<t.length;a++)if(i+=Ic(n,e,t[a]),r){var l=s;i+=l[a]}yS.lastIndex=0;for(var c="",d;(d=yS.exec(i))!==null;)c+="-"+d[1];var h=lq(i)+c;return{name:h,styles:i,next:lr}}var mq=function(e){return e()},gq=Qw["useInsertionEffect"]?Qw["useInsertionEffect"]:!1,yq=gq||mq,mR=T.createContext(typeof HTMLElement<"u"?iq({key:"css"}):null);mR.Provider;var vq=function(e){return T.forwardRef(function(n,r){var i=T.useContext(mR);return e(n,i,r)})},gR=T.createContext({}),_q=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|disableRemotePlayback|download|draggable|encType|enterKeyHint|fetchpriority|fetchPriority|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,wq=uR(function(t){return _q.test(t)||t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)<91}),xq=!1,Eq=wq,Cq=function(e){return e!=="theme"},vS=function(e){return typeof e=="string"&&e.charCodeAt(0)>96?Eq:Cq},_S=function(e,n,r){var i;if(n){var s=n.shouldForwardProp;i=e.__emotion_forwardProp&&s?function(o){return e.__emotion_forwardProp(o)&&s(o)}:s}return typeof i!="function"&&r&&(i=e.__emotion_forwardProp),i},Sq=function(e){var n=e.cache,r=e.serialized,i=e.isStringTag;return hR(n,r,i),yq(function(){return aq(n,r,i)}),null},bq=function t(e,n){var r=e.__emotion_real===e,i=r&&e.__emotion_base||e,s,o;n!==void 0&&(s=n.label,o=n.target);var a=_S(e,n,r),l=a||vS(i),c=!l("as");return function(){var d=arguments,h=r&&e.__emotion_styles!==void 0?e.__emotion_styles.slice(0):[];if(s!==void 0&&h.push("label:"+s+";"),d[0]==null||d[0].raw===void 0)h.push.apply(h,d);else{var f=d[0];h.push(f[0]);for(var y=d.length,_=1;_<y;_++)h.push(d[_],f[_])}var S=vq(function(P,w,C){var E=c&&P.as||i,A="",D=[],M=P;if(P.theme==null){M={};for(var b in P)M[b]=P[b];M.theme=T.useContext(gR)}typeof P.className=="string"?A=oq(w.registered,D,P.className):P.className!=null&&(A=P.className+" ");var x=pR(h.concat(D),w.registered,M);A+=w.key+"-"+x.name,o!==void 0&&(A+=" "+o);var I=c&&a===void 0?vS(E):l,g={};for(var R in P)c&&R==="as"||I(R)&&(g[R]=P[R]);return g.className=A,C&&(g.ref=C),T.createElement(T.Fragment,null,T.createElement(Sq,{cache:w,serialized:x,isStringTag:typeof E=="string"}),T.createElement(E,g))});return S.displayName=s!==void 0?s:"Styled("+(typeof i=="string"?i:i.displayName||i.name||"Component")+")",S.defaultProps=e.defaultProps,S.__emotion_real=S,S.__emotion_base=i,S.__emotion_styles=h,S.__emotion_forwardProp=a,Object.defineProperty(S,"toString",{value:function(){return o===void 0&&xq?"NO_COMPONENT_SELECTOR":"."+o}}),S.withComponent=function(P,w){var C=t(P,ky({},n,w,{shouldForwardProp:_S(S,w,!0)}));return C.apply(void 0,h)},S}},Tq=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"],Ay=bq.bind(null);Tq.forEach(function(t){Ay[t]=Ay(t)});/**
 * @mui/styled-engine v7.1.0
 *
 * @license MIT
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */function yR(t,e){return Ay(t,e)}function kq(t,e){Array.isArray(t.__emotion_styles)&&(t.__emotion_styles=e(t.__emotion_styles))}const wS=[];function xS(t){return wS[0]=t,pR(wS)}const Iq=t=>{const e=Object.keys(t).map(n=>({key:n,val:t[n]}))||[];return e.sort((n,r)=>n.val-r.val),e.reduce((n,r)=>({...n,[r.key]:r.val}),{})};function Pq(t){const{values:e={xs:0,sm:600,md:900,lg:1200,xl:1536},unit:n="px",step:r=5,...i}=t,s=Iq(e),o=Object.keys(s);function a(f){return`@media (min-width:${typeof e[f]=="number"?e[f]:f}${n})`}function l(f){return`@media (max-width:${(typeof e[f]=="number"?e[f]:f)-r/100}${n})`}function c(f,y){const _=o.indexOf(y);return`@media (min-width:${typeof e[f]=="number"?e[f]:f}${n}) and (max-width:${(_!==-1&&typeof e[o[_]]=="number"?e[o[_]]:y)-r/100}${n})`}function d(f){return o.indexOf(f)+1<o.length?c(f,o[o.indexOf(f)+1]):a(f)}function h(f){const y=o.indexOf(f);return y===0?a(o[1]):y===o.length-1?l(o[y]):c(f,o[o.indexOf(f)+1]).replace("@media","@media not all and")}return{keys:o,values:s,up:a,down:l,between:c,only:d,not:h,unit:n,...i}}const Aq={borderRadius:4},Rq=Aq;function vR(t=8,e=U_({spacing:t})){if(t.mui)return t;const n=(...r)=>(r.length===0?[1]:r).map(s=>{const o=e(s);return typeof o=="number"?`${o}px`:o}).join(" ");return n.mui=!0,n}function Nq(t,e){var r;const n=this;if(n.vars){if(!((r=n.colorSchemes)!=null&&r[t])||typeof n.getColorSchemeSelector!="function")return{};let i=n.getColorSchemeSelector(t);return i==="&"?e:((i.includes("data-")||i.includes("."))&&(i=`*:where(${i.replace(/\s*&$/,"")}) &`),{[i]:e})}return n.palette.mode===t?e:{}}function H_(t={},...e){const{breakpoints:n={},palette:r={},spacing:i,shape:s={},...o}=t,a=Pq(n),l=vR(i);let c=fn({breakpoints:a,direction:"ltr",components:{},palette:{mode:"light",...r},spacing:l,shape:{...Rq,...s}},o);return c=jW(c),c.applyStyles=Nq,c=e.reduce((d,h)=>fn(d,h),c),c.unstable_sxConfig={...iu,...o==null?void 0:o.unstable_sxConfig},c.unstable_sx=function(h){return la({sx:h,theme:this})},c}function Dq(t){return Object.keys(t).length===0}function Oq(t=null){const e=T.useContext(gR);return!e||Dq(e)?t:e}const Mq=H_();function _R(t=Mq){return Oq(t)}const ES=t=>t,Lq=()=>{let t=ES;return{configure(e){t=e},generate(e){return t(e)},reset(){t=ES}}},jq=Lq(),wR=jq;function Fq(t={}){const{themeId:e,defaultTheme:n,defaultClassName:r="MuiBox-root",generateClassName:i}=t,s=yR("div",{shouldForwardProp:a=>a!=="theme"&&a!=="sx"&&a!=="as"})(la);return T.forwardRef(function(l,c){const d=_R(n),{className:h,component:f="div",...y}=IH(l);return m.jsx(s,{as:f,ref:c,className:aa(h,i?i(r):r),theme:e&&d[e]||d,...y})})}const $q={active:"active",checked:"checked",completed:"completed",disabled:"disabled",error:"error",expanded:"expanded",focused:"focused",focusVisible:"focusVisible",open:"open",readOnly:"readOnly",required:"required",selected:"selected"};function q_(t,e,n="Mui"){const r=$q[e];return r?`${n}-${r}`:`${wR.generate(t)}-${e}`}function G_(t,e,n="Mui"){const r={};return e.forEach(i=>{r[i]=q_(t,i,n)}),r}function xR(t){const{variants:e,...n}=t,r={variants:e,style:xS(n),isProcessed:!0};return r.style===n||e&&e.forEach(i=>{typeof i.style!="function"&&(i.style=xS(i.style))}),r}const Uq=H_();function Rm(t){return t!=="ownerState"&&t!=="theme"&&t!=="sx"&&t!=="as"}function Vq(t){return t?(e,n)=>n[t]:null}function Bq(t,e,n){t.theme=Hq(t.theme)?n:t.theme[e]||t.theme}function Td(t,e){const n=typeof e=="function"?e(t):e;if(Array.isArray(n))return n.flatMap(r=>Td(t,r));if(Array.isArray(n==null?void 0:n.variants)){let r;if(n.isProcessed)r=n.style;else{const{variants:i,...s}=n;r=s}return ER(t,n.variants,[r])}return n!=null&&n.isProcessed?n.style:n}function ER(t,e,n=[]){var i;let r;e:for(let s=0;s<e.length;s+=1){const o=e[s];if(typeof o.props=="function"){if(r??(r={...t,...t.ownerState,ownerState:t.ownerState}),!o.props(r))continue}else for(const a in o.props)if(t[a]!==o.props[a]&&((i=t.ownerState)==null?void 0:i[a])!==o.props[a])continue e;typeof o.style=="function"?(r??(r={...t,...t.ownerState,ownerState:t.ownerState}),n.push(o.style(r))):n.push(o.style)}return n}function zq(t={}){const{themeId:e,defaultTheme:n=Uq,rootShouldForwardProp:r=Rm,slotShouldForwardProp:i=Rm}=t;function s(a){Bq(a,e,n)}return(a,l={})=>{kq(a,D=>D.filter(M=>M!==la));const{name:c,slot:d,skipVariantsResolver:h,skipSx:f,overridesResolver:y=Vq(Gq(d)),..._}=l,S=h!==void 0?h:d&&d!=="Root"&&d!=="root"||!1,P=f||!1;let w=Rm;d==="Root"||d==="root"?w=r:d?w=i:qq(a)&&(w=void 0);const C=yR(a,{shouldForwardProp:w,label:Wq(),..._}),E=D=>{if(typeof D=="function"&&D.__emotion_real!==D)return function(b){return Td(b,D)};if(dr(D)){const M=xR(D);return M.variants?function(x){return Td(x,M)}:M.style}return D},A=(...D)=>{const M=[],b=D.map(E),x=[];if(M.push(s),c&&y&&x.push(function(O){var G,q;const U=(q=(G=O.theme.components)==null?void 0:G[c])==null?void 0:q.styleOverrides;if(!U)return null;const W={};for(const $ in U)W[$]=Td(O,U[$]);return y(O,W)}),c&&!S&&x.push(function(O){var W,G;const N=O.theme,U=(G=(W=N==null?void 0:N.components)==null?void 0:W[c])==null?void 0:G.variants;return U?ER(O,U):null}),P||x.push(la),Array.isArray(b[0])){const R=b.shift(),O=new Array(M.length).fill(""),N=new Array(x.length).fill("");let U;U=[...O,...R,...N],U.raw=[...O,...R.raw,...N],M.unshift(U)}const I=[...M,...b,...x],g=C(...I);return a.muiName&&(g.muiName=a.muiName),g};return C.withConfig&&(A.withConfig=C.withConfig),A}}function Wq(t,e){let n;return n}function Hq(t){for(const e in t)return!1;return!0}function qq(t){return typeof t=="string"&&t.charCodeAt(0)>96}function Gq(t){return t&&t.charAt(0).toLowerCase()+t.slice(1)}function Ry(t,e){const n={...e};for(const r in t)if(Object.prototype.hasOwnProperty.call(t,r)){const i=r;if(i==="components"||i==="slots")n[i]={...t[i],...n[i]};else if(i==="componentsProps"||i==="slotProps"){const s=t[i],o=e[i];if(!o)n[i]=s||{};else if(!s)n[i]=o;else{n[i]={...o};for(const a in s)if(Object.prototype.hasOwnProperty.call(s,a)){const l=a;n[i][l]=Ry(s[l],o[l])}}}else n[i]===void 0&&(n[i]=t[i])}return n}function Kq(t,e=Number.MIN_SAFE_INTEGER,n=Number.MAX_SAFE_INTEGER){return Math.max(e,Math.min(t,n))}function K_(t,e=0,n=1){return Kq(t,e,n)}function Yq(t){t=t.slice(1);const e=new RegExp(`.{1,${t.length>=6?2:1}}`,"g");let n=t.match(e);return n&&n[0].length===1&&(n=n.map(r=>r+r)),n?`rgb${n.length===4?"a":""}(${n.map((r,i)=>i<3?parseInt(r,16):Math.round(parseInt(r,16)/255*1e3)/1e3).join(", ")})`:""}function Hi(t){if(t.type)return t;if(t.charAt(0)==="#")return Hi(Yq(t));const e=t.indexOf("("),n=t.substring(0,e);if(!["rgb","rgba","hsl","hsla","color"].includes(n))throw new Error(Us(9,t));let r=t.substring(e+1,t.length-1),i;if(n==="color"){if(r=r.split(" "),i=r.shift(),r.length===4&&r[3].charAt(0)==="/"&&(r[3]=r[3].slice(1)),!["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].includes(i))throw new Error(Us(10,i))}else r=r.split(",");return r=r.map(s=>parseFloat(s)),{type:n,values:r,colorSpace:i}}const Xq=t=>{const e=Hi(t);return e.values.slice(0,3).map((n,r)=>e.type.includes("hsl")&&r!==0?`${n}%`:n).join(" ")},pl=(t,e)=>{try{return Xq(t)}catch{return t}};function Jf(t){const{type:e,colorSpace:n}=t;let{values:r}=t;return e.includes("rgb")?r=r.map((i,s)=>s<3?parseInt(i,10):i):e.includes("hsl")&&(r[1]=`${r[1]}%`,r[2]=`${r[2]}%`),e.includes("color")?r=`${n} ${r.join(" ")}`:r=`${r.join(", ")}`,`${e}(${r})`}function CR(t){t=Hi(t);const{values:e}=t,n=e[0],r=e[1]/100,i=e[2]/100,s=r*Math.min(i,1-i),o=(c,d=(c+n/30)%12)=>i-s*Math.max(Math.min(d-3,9-d,1),-1);let a="rgb";const l=[Math.round(o(0)*255),Math.round(o(8)*255),Math.round(o(4)*255)];return t.type==="hsla"&&(a+="a",l.push(e[3])),Jf({type:a,values:l})}function Ny(t){t=Hi(t);let e=t.type==="hsl"||t.type==="hsla"?Hi(CR(t)).values:t.values;return e=e.map(n=>(t.type!=="color"&&(n/=255),n<=.03928?n/12.92:((n+.055)/1.055)**2.4)),Number((.2126*e[0]+.7152*e[1]+.0722*e[2]).toFixed(3))}function Jq(t,e){const n=Ny(t),r=Ny(e);return(Math.max(n,r)+.05)/(Math.min(n,r)+.05)}function Qq(t,e){return t=Hi(t),e=K_(e),(t.type==="rgb"||t.type==="hsl")&&(t.type+="a"),t.type==="color"?t.values[3]=`/${e}`:t.values[3]=e,Jf(t)}function Ku(t,e,n){try{return Qq(t,e)}catch{return t}}function Y_(t,e){if(t=Hi(t),e=K_(e),t.type.includes("hsl"))t.values[2]*=1-e;else if(t.type.includes("rgb")||t.type.includes("color"))for(let n=0;n<3;n+=1)t.values[n]*=1-e;return Jf(t)}function Ce(t,e,n){try{return Y_(t,e)}catch{return t}}function X_(t,e){if(t=Hi(t),e=K_(e),t.type.includes("hsl"))t.values[2]+=(100-t.values[2])*e;else if(t.type.includes("rgb"))for(let n=0;n<3;n+=1)t.values[n]+=(255-t.values[n])*e;else if(t.type.includes("color"))for(let n=0;n<3;n+=1)t.values[n]+=(1-t.values[n])*e;return Jf(t)}function Se(t,e,n){try{return X_(t,e)}catch{return t}}function Zq(t,e=.15){return Ny(t)>.5?Y_(t,e):X_(t,e)}function Yu(t,e,n){try{return Zq(t,e)}catch{return t}}const eG=T.createContext(void 0);function tG(t){const{theme:e,name:n,props:r}=t;if(!e||!e.components||!e.components[n])return r;const i=e.components[n];return i.defaultProps?Ry(i.defaultProps,r):!i.styleOverrides&&!i.variants?Ry(i,r):r}function nG({props:t,name:e}){const n=T.useContext(eG);return tG({props:t,name:e,theme:{components:n}})}const CS={theme:void 0};function rG(t){let e,n;return function(i){let s=e;return(s===void 0||i.theme!==n)&&(CS.theme=i.theme,s=xR(t(CS)),e=s,n=i.theme),s}}function iG(t=""){function e(...r){if(!r.length)return"";const i=r[0];return typeof i=="string"&&!i.match(/(#|\(|\)|(-?(\d*\.)?\d+)(px|em|%|ex|ch|rem|vw|vh|vmin|vmax|cm|mm|in|pt|pc))|^(-?(\d*\.)?\d+)$|(\d+ \d+ \d+)/)?`, var(--${t?`${t}-`:""}${i}${e(...r.slice(1))})`:`, ${i}`}return(r,...i)=>`var(--${t?`${t}-`:""}${r}${e(...i)})`}const SS=(t,e,n,r=[])=>{let i=t;e.forEach((s,o)=>{o===e.length-1?Array.isArray(i)?i[Number(s)]=n:i&&typeof i=="object"&&(i[s]=n):i&&typeof i=="object"&&(i[s]||(i[s]=r.includes(s)?[]:{}),i=i[s])})},sG=(t,e,n)=>{function r(i,s=[],o=[]){Object.entries(i).forEach(([a,l])=>{(!n||n&&!n([...s,a]))&&l!=null&&(typeof l=="object"&&Object.keys(l).length>0?r(l,[...s,a],Array.isArray(l)?[...o,a]:o):e([...s,a],l,o))})}r(t)},oG=(t,e)=>typeof e=="number"?["lineHeight","fontWeight","opacity","zIndex"].some(r=>t.includes(r))||t[t.length-1].toLowerCase().includes("opacity")?e:`${e}px`:e;function Nm(t,e){const{prefix:n,shouldSkipGeneratingVar:r}=e||{},i={},s={},o={};return sG(t,(a,l,c)=>{if((typeof l=="string"||typeof l=="number")&&(!r||!r(a,l))){const d=`--${n?`${n}-`:""}${a.join("-")}`,h=oG(a,l);Object.assign(i,{[d]:h}),SS(s,a,`var(${d})`,c),SS(o,a,`var(${d}, ${h})`,c)}},a=>a[0]==="vars"),{css:i,vars:s,varsWithDefaults:o}}function aG(t,e={}){const{getSelector:n=P,disableCssColorScheme:r,colorSchemeSelector:i}=e,{colorSchemes:s={},components:o,defaultColorScheme:a="light",...l}=t,{vars:c,css:d,varsWithDefaults:h}=Nm(l,e);let f=h;const y={},{[a]:_,...S}=s;if(Object.entries(S||{}).forEach(([E,A])=>{const{vars:D,css:M,varsWithDefaults:b}=Nm(A,e);f=fn(f,b),y[E]={css:M,vars:D}}),_){const{css:E,vars:A,varsWithDefaults:D}=Nm(_,e);f=fn(f,D),y[a]={css:E,vars:A}}function P(E,A){var M,b;let D=i;if(i==="class"&&(D=".%s"),i==="data"&&(D="[data-%s]"),i!=null&&i.startsWith("data-")&&!i.includes("%s")&&(D=`[${i}="%s"]`),E){if(D==="media")return t.defaultColorScheme===E?":root":{[`@media (prefers-color-scheme: ${((b=(M=s[E])==null?void 0:M.palette)==null?void 0:b.mode)||E})`]:{":root":A}};if(D)return t.defaultColorScheme===E?`:root, ${D.replace("%s",String(E))}`:D.replace("%s",String(E))}return":root"}return{vars:f,generateThemeVars:()=>{let E={...c};return Object.entries(y).forEach(([,{vars:A}])=>{E=fn(E,A)}),E},generateStyleSheets:()=>{var x,I;const E=[],A=t.defaultColorScheme||"light";function D(g,R){Object.keys(R).length&&E.push(typeof g=="string"?{[g]:{...R}}:g)}D(n(void 0,{...d}),d);const{[A]:M,...b}=y;if(M){const{css:g}=M,R=(I=(x=s[A])==null?void 0:x.palette)==null?void 0:I.mode,O=!r&&R?{colorScheme:R,...g}:{...g};D(n(A,{...O}),O)}return Object.entries(b).forEach(([g,{css:R}])=>{var U,W;const O=(W=(U=s[g])==null?void 0:U.palette)==null?void 0:W.mode,N=!r&&O?{colorScheme:O,...R}:{...R};D(n(g,{...N}),N)}),E}}}function lG(t){return function(n){return t==="media"?`@media (prefers-color-scheme: ${n})`:t?t.startsWith("data-")&&!t.includes("%s")?`[${t}="${n}"] &`:t==="class"?`.${n} &`:t==="data"?`[data-${n}] &`:`${t.replace("%s",n)} &`:"&"}}const cG={black:"#000",white:"#fff"},Pc=cG,uG={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"},dG=uG,hG={50:"#f3e5f5",100:"#e1bee7",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",600:"#8e24aa",700:"#7b1fa2",800:"#6a1b9a",900:"#4a148c",A100:"#ea80fc",A200:"#e040fb",A400:"#d500f9",A700:"#aa00ff"},no=hG,fG={50:"#ffebee",100:"#ffcdd2",200:"#ef9a9a",300:"#e57373",400:"#ef5350",500:"#f44336",600:"#e53935",700:"#d32f2f",800:"#c62828",900:"#b71c1c",A100:"#ff8a80",A200:"#ff5252",A400:"#ff1744",A700:"#d50000"},ro=fG,pG={50:"#fff3e0",100:"#ffe0b2",200:"#ffcc80",300:"#ffb74d",400:"#ffa726",500:"#ff9800",600:"#fb8c00",700:"#f57c00",800:"#ef6c00",900:"#e65100",A100:"#ffd180",A200:"#ffab40",A400:"#ff9100",A700:"#ff6d00"},sl=pG,mG={50:"#e3f2fd",100:"#bbdefb",200:"#90caf9",300:"#64b5f6",400:"#42a5f5",500:"#2196f3",600:"#1e88e5",700:"#1976d2",800:"#1565c0",900:"#0d47a1",A100:"#82b1ff",A200:"#448aff",A400:"#2979ff",A700:"#2962ff"},io=mG,gG={50:"#e1f5fe",100:"#b3e5fc",200:"#81d4fa",300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",600:"#039be5",700:"#0288d1",800:"#0277bd",900:"#01579b",A100:"#80d8ff",A200:"#40c4ff",A400:"#00b0ff",A700:"#0091ea"},so=gG,yG={50:"#e8f5e9",100:"#c8e6c9",200:"#a5d6a7",300:"#81c784",400:"#66bb6a",500:"#4caf50",600:"#43a047",700:"#388e3c",800:"#2e7d32",900:"#1b5e20",A100:"#b9f6ca",A200:"#69f0ae",A400:"#00e676",A700:"#00c853"},oo=yG;function SR(){return{text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:Pc.white,default:Pc.white},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}}}const vG=SR();function bR(){return{text:{primary:Pc.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:"#121212",default:"#121212"},action:{active:Pc.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}}}const bS=bR();function TS(t,e,n,r){const i=r.light||r,s=r.dark||r*1.5;t[e]||(t.hasOwnProperty(n)?t[e]=t[n]:e==="light"?t.light=X_(t.main,i):e==="dark"&&(t.dark=Y_(t.main,s)))}function _G(t="light"){return t==="dark"?{main:io[200],light:io[50],dark:io[400]}:{main:io[700],light:io[400],dark:io[800]}}function wG(t="light"){return t==="dark"?{main:no[200],light:no[50],dark:no[400]}:{main:no[500],light:no[300],dark:no[700]}}function xG(t="light"){return t==="dark"?{main:ro[500],light:ro[300],dark:ro[700]}:{main:ro[700],light:ro[400],dark:ro[800]}}function EG(t="light"){return t==="dark"?{main:so[400],light:so[300],dark:so[700]}:{main:so[700],light:so[500],dark:so[900]}}function CG(t="light"){return t==="dark"?{main:oo[400],light:oo[300],dark:oo[700]}:{main:oo[800],light:oo[500],dark:oo[900]}}function SG(t="light"){return t==="dark"?{main:sl[400],light:sl[300],dark:sl[700]}:{main:"#ed6c02",light:sl[500],dark:sl[900]}}function J_(t){const{mode:e="light",contrastThreshold:n=3,tonalOffset:r=.2,...i}=t,s=t.primary||_G(e),o=t.secondary||wG(e),a=t.error||xG(e),l=t.info||EG(e),c=t.success||CG(e),d=t.warning||SG(e);function h(S){return Jq(S,bS.text.primary)>=n?bS.text.primary:vG.text.primary}const f=({color:S,name:P,mainShade:w=500,lightShade:C=300,darkShade:E=700})=>{if(S={...S},!S.main&&S[w]&&(S.main=S[w]),!S.hasOwnProperty("main"))throw new Error(Us(11,P?` (${P})`:"",w));if(typeof S.main!="string")throw new Error(Us(12,P?` (${P})`:"",JSON.stringify(S.main)));return TS(S,"light",C,r),TS(S,"dark",E,r),S.contrastText||(S.contrastText=h(S.main)),S};let y;return e==="light"?y=SR():e==="dark"&&(y=bR()),fn({common:{...Pc},mode:e,primary:f({color:s,name:"primary"}),secondary:f({color:o,name:"secondary",mainShade:"A400",lightShade:"A200",darkShade:"A700"}),error:f({color:a,name:"error"}),warning:f({color:d,name:"warning"}),info:f({color:l,name:"info"}),success:f({color:c,name:"success"}),grey:dG,contrastThreshold:n,getContrastText:h,augmentColor:f,tonalOffset:r,...y},i)}function bG(t){const e={};return Object.entries(t).forEach(r=>{const[i,s]=r;typeof s=="object"&&(e[i]=`${s.fontStyle?`${s.fontStyle} `:""}${s.fontVariant?`${s.fontVariant} `:""}${s.fontWeight?`${s.fontWeight} `:""}${s.fontStretch?`${s.fontStretch} `:""}${s.fontSize||""}${s.lineHeight?`/${s.lineHeight} `:""}${s.fontFamily||""}`)}),e}function TG(t,e){return{toolbar:{minHeight:56,[t.up("xs")]:{"@media (orientation: landscape)":{minHeight:48}},[t.up("sm")]:{minHeight:64}},...e}}function kG(t){return Math.round(t*1e5)/1e5}const kS={textTransform:"uppercase"},IS='"Roboto", "Helvetica", "Arial", sans-serif';function IG(t,e){const{fontFamily:n=IS,fontSize:r=14,fontWeightLight:i=300,fontWeightRegular:s=400,fontWeightMedium:o=500,fontWeightBold:a=700,htmlFontSize:l=16,allVariants:c,pxToRem:d,...h}=typeof e=="function"?e(t):e,f=r/14,y=d||(P=>`${P/l*f}rem`),_=(P,w,C,E,A)=>({fontFamily:n,fontWeight:P,fontSize:y(w),lineHeight:C,...n===IS?{letterSpacing:`${kG(E/w)}em`}:{},...A,...c}),S={h1:_(i,96,1.167,-1.5),h2:_(i,60,1.2,-.5),h3:_(s,48,1.167,0),h4:_(s,34,1.235,.25),h5:_(s,24,1.334,0),h6:_(o,20,1.6,.15),subtitle1:_(s,16,1.75,.15),subtitle2:_(o,14,1.57,.1),body1:_(s,16,1.5,.15),body2:_(s,14,1.43,.15),button:_(o,14,1.75,.4,kS),caption:_(s,12,1.66,.4),overline:_(s,12,2.66,1,kS),inherit:{fontFamily:"inherit",fontWeight:"inherit",fontSize:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}};return fn({htmlFontSize:l,pxToRem:y,fontFamily:n,fontSize:r,fontWeightLight:i,fontWeightRegular:s,fontWeightMedium:o,fontWeightBold:a,...S},h,{clone:!1})}const PG=.2,AG=.14,RG=.12;function Ne(...t){return[`${t[0]}px ${t[1]}px ${t[2]}px ${t[3]}px rgba(0,0,0,${PG})`,`${t[4]}px ${t[5]}px ${t[6]}px ${t[7]}px rgba(0,0,0,${AG})`,`${t[8]}px ${t[9]}px ${t[10]}px ${t[11]}px rgba(0,0,0,${RG})`].join(",")}const NG=["none",Ne(0,2,1,-1,0,1,1,0,0,1,3,0),Ne(0,3,1,-2,0,2,2,0,0,1,5,0),Ne(0,3,3,-2,0,3,4,0,0,1,8,0),Ne(0,2,4,-1,0,4,5,0,0,1,10,0),Ne(0,3,5,-1,0,5,8,0,0,1,14,0),Ne(0,3,5,-1,0,6,10,0,0,1,18,0),Ne(0,4,5,-2,0,7,10,1,0,2,16,1),Ne(0,5,5,-3,0,8,10,1,0,3,14,2),Ne(0,5,6,-3,0,9,12,1,0,3,16,2),Ne(0,6,6,-3,0,10,14,1,0,4,18,3),Ne(0,6,7,-4,0,11,15,1,0,4,20,3),Ne(0,7,8,-4,0,12,17,2,0,5,22,4),Ne(0,7,8,-4,0,13,19,2,0,5,24,4),Ne(0,7,9,-4,0,14,21,2,0,5,26,4),Ne(0,8,9,-5,0,15,22,2,0,6,28,5),Ne(0,8,10,-5,0,16,24,2,0,6,30,5),Ne(0,8,11,-5,0,17,26,2,0,6,32,5),Ne(0,9,11,-5,0,18,28,2,0,7,34,6),Ne(0,9,12,-6,0,19,29,2,0,7,36,6),Ne(0,10,13,-6,0,20,31,3,0,8,38,7),Ne(0,10,13,-6,0,21,33,3,0,8,40,7),Ne(0,10,14,-6,0,22,35,3,0,8,42,7),Ne(0,11,14,-7,0,23,36,3,0,9,44,8),Ne(0,11,15,-7,0,24,38,3,0,9,46,8)],DG=NG,OG={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},MG={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function PS(t){return`${Math.round(t)}ms`}function LG(t){if(!t)return 0;const e=t/36;return Math.min(Math.round((4+15*e**.25+e/5)*10),3e3)}function jG(t){const e={...OG,...t.easing},n={...MG,...t.duration};return{getAutoHeightDuration:LG,create:(i=["all"],s={})=>{const{duration:o=n.standard,easing:a=e.easeInOut,delay:l=0,...c}=s;return(Array.isArray(i)?i:[i]).map(d=>`${d} ${typeof o=="string"?o:PS(o)} ${a} ${typeof l=="string"?l:PS(l)}`).join(",")},...t,easing:e,duration:n}}const FG={mobileStepper:1e3,fab:1050,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500},$G=FG;function UG(t){return dr(t)||typeof t>"u"||typeof t=="string"||typeof t=="boolean"||typeof t=="number"||Array.isArray(t)}function TR(t={}){const e={...t};function n(r){const i=Object.entries(r);for(let s=0;s<i.length;s++){const[o,a]=i[s];!UG(a)||o.startsWith("unstable_")?delete r[o]:dr(a)&&(r[o]={...a},n(r[o]))}}return n(e),`import { unstable_createBreakpoints as createBreakpoints, createTransitions } from '@mui/material/styles';

const theme = ${JSON.stringify(e,null,2)};

theme.breakpoints = createBreakpoints(theme.breakpoints || {});
theme.transitions = createTransitions(theme.transitions || {});

export default theme;`}function Dy(t={},...e){const{breakpoints:n,mixins:r={},spacing:i,palette:s={},transitions:o={},typography:a={},shape:l,...c}=t;if(t.vars&&t.generateThemeVars===void 0)throw new Error(Us(20));const d=J_(s),h=H_(t);let f=fn(h,{mixins:TG(h.breakpoints,r),palette:d,shadows:DG.slice(),typography:IG(d,a),transitions:jG(o),zIndex:{...$G}});return f=fn(f,c),f=e.reduce((y,_)=>fn(y,_),f),f.unstable_sxConfig={...iu,...c==null?void 0:c.unstable_sxConfig},f.unstable_sx=function(_){return la({sx:_,theme:this})},f.toRuntimeSource=TR,f}function VG(t){let e;return t<1?e=5.11916*t**2:e=4.5*Math.log(t+1)+2,Math.round(e*10)/1e3}const BG=[...Array(25)].map((t,e)=>{if(e===0)return"none";const n=VG(e);return`linear-gradient(rgba(255 255 255 / ${n}), rgba(255 255 255 / ${n}))`});function kR(t){return{inputPlaceholder:t==="dark"?.5:.42,inputUnderline:t==="dark"?.7:.42,switchTrackDisabled:t==="dark"?.2:.12,switchTrack:t==="dark"?.3:.38}}function IR(t){return t==="dark"?BG:[]}function zG(t){const{palette:e={mode:"light"},opacity:n,overlays:r,...i}=t,s=J_(e);return{palette:s,opacity:{...kR(s.mode),...n},overlays:r||IR(s.mode),...i}}function WG(t){var e;return!!t[0].match(/(cssVarPrefix|colorSchemeSelector|rootSelector|typography|mixins|breakpoints|direction|transitions)/)||!!t[0].match(/sxConfig$/)||t[0]==="palette"&&!!((e=t[1])!=null&&e.match(/(mode|contrastThreshold|tonalOffset)/))}const HG=t=>[...[...Array(25)].map((e,n)=>`--${t?`${t}-`:""}overlays-${n}`),`--${t?`${t}-`:""}palette-AppBar-darkBg`,`--${t?`${t}-`:""}palette-AppBar-darkColor`],qG=HG,GG=t=>(e,n)=>{const r=t.rootSelector||":root",i=t.colorSchemeSelector;let s=i;if(i==="class"&&(s=".%s"),i==="data"&&(s="[data-%s]"),i!=null&&i.startsWith("data-")&&!i.includes("%s")&&(s=`[${i}="%s"]`),t.defaultColorScheme===e){if(e==="dark"){const o={};return qG(t.cssVarPrefix).forEach(a=>{o[a]=n[a],delete n[a]}),s==="media"?{[r]:n,"@media (prefers-color-scheme: dark)":{[r]:o}}:s?{[s.replace("%s",e)]:o,[`${r}, ${s.replace("%s",e)}`]:n}:{[r]:{...n,...o}}}if(s&&s!=="media")return`${r}, ${s.replace("%s",String(e))}`}else if(e){if(s==="media")return{[`@media (prefers-color-scheme: ${String(e)})`]:{[r]:n}};if(s)return s.replace("%s",String(e))}return r};function KG(t,e){e.forEach(n=>{t[n]||(t[n]={})})}function F(t,e,n){!t[e]&&n&&(t[e]=n)}function ml(t){return typeof t!="string"||!t.startsWith("hsl")?t:CR(t)}function Rr(t,e){`${e}Channel`in t||(t[`${e}Channel`]=pl(ml(t[e]),`MUI: Can't create \`palette.${e}Channel\` because \`palette.${e}\` is not one of these formats: #nnn, #nnnnnn, rgb(), rgba(), hsl(), hsla(), color().
To suppress this warning, you need to explicitly provide the \`palette.${e}Channel\` as a string (in rgb format, for example "12 12 12") or undefined if you want to remove the channel token.`))}function YG(t){return typeof t=="number"?`${t}px`:typeof t=="string"||typeof t=="function"||Array.isArray(t)?t:"8px"}const sr=t=>{try{return t()}catch{}},XG=(t="mui")=>iG(t);function Dm(t,e,n,r){if(!e)return;e=e===!0?{}:e;const i=r==="dark"?"dark":"light";if(!n){t[r]=zG({...e,palette:{mode:i,...e==null?void 0:e.palette}});return}const{palette:s,...o}=Dy({...n,palette:{mode:i,...e==null?void 0:e.palette}});return t[r]={...e,palette:s,opacity:{...kR(i),...e==null?void 0:e.opacity},overlays:(e==null?void 0:e.overlays)||IR(i)},o}function JG(t={},...e){const{colorSchemes:n={light:!0},defaultColorScheme:r,disableCssColorScheme:i=!1,cssVarPrefix:s="mui",shouldSkipGeneratingVar:o=WG,colorSchemeSelector:a=n.light&&n.dark?"media":void 0,rootSelector:l=":root",...c}=t,d=Object.keys(n)[0],h=r||(n.light&&d!=="light"?"light":d),f=XG(s),{[h]:y,light:_,dark:S,...P}=n,w={...P};let C=y;if((h==="dark"&&!("dark"in n)||h==="light"&&!("light"in n))&&(C=!0),!C)throw new Error(Us(21,h));const E=Dm(w,C,c,h);_&&!w.light&&Dm(w,_,void 0,"light"),S&&!w.dark&&Dm(w,S,void 0,"dark");let A={defaultColorScheme:h,...E,cssVarPrefix:s,colorSchemeSelector:a,rootSelector:l,getCssVar:f,colorSchemes:w,font:{...bG(E.typography),...E.font},spacing:YG(c.spacing)};Object.keys(A.colorSchemes).forEach(I=>{const g=A.colorSchemes[I].palette,R=O=>{const N=O.split("-"),U=N[1],W=N[2];return f(O,g[U][W])};if(g.mode==="light"&&(F(g.common,"background","#fff"),F(g.common,"onBackground","#000")),g.mode==="dark"&&(F(g.common,"background","#000"),F(g.common,"onBackground","#fff")),KG(g,["Alert","AppBar","Avatar","Button","Chip","FilledInput","LinearProgress","Skeleton","Slider","SnackbarContent","SpeedDialAction","StepConnector","StepContent","Switch","TableCell","Tooltip"]),g.mode==="light"){F(g.Alert,"errorColor",Ce(g.error.light,.6)),F(g.Alert,"infoColor",Ce(g.info.light,.6)),F(g.Alert,"successColor",Ce(g.success.light,.6)),F(g.Alert,"warningColor",Ce(g.warning.light,.6)),F(g.Alert,"errorFilledBg",R("palette-error-main")),F(g.Alert,"infoFilledBg",R("palette-info-main")),F(g.Alert,"successFilledBg",R("palette-success-main")),F(g.Alert,"warningFilledBg",R("palette-warning-main")),F(g.Alert,"errorFilledColor",sr(()=>g.getContrastText(g.error.main))),F(g.Alert,"infoFilledColor",sr(()=>g.getContrastText(g.info.main))),F(g.Alert,"successFilledColor",sr(()=>g.getContrastText(g.success.main))),F(g.Alert,"warningFilledColor",sr(()=>g.getContrastText(g.warning.main))),F(g.Alert,"errorStandardBg",Se(g.error.light,.9)),F(g.Alert,"infoStandardBg",Se(g.info.light,.9)),F(g.Alert,"successStandardBg",Se(g.success.light,.9)),F(g.Alert,"warningStandardBg",Se(g.warning.light,.9)),F(g.Alert,"errorIconColor",R("palette-error-main")),F(g.Alert,"infoIconColor",R("palette-info-main")),F(g.Alert,"successIconColor",R("palette-success-main")),F(g.Alert,"warningIconColor",R("palette-warning-main")),F(g.AppBar,"defaultBg",R("palette-grey-100")),F(g.Avatar,"defaultBg",R("palette-grey-400")),F(g.Button,"inheritContainedBg",R("palette-grey-300")),F(g.Button,"inheritContainedHoverBg",R("palette-grey-A100")),F(g.Chip,"defaultBorder",R("palette-grey-400")),F(g.Chip,"defaultAvatarColor",R("palette-grey-700")),F(g.Chip,"defaultIconColor",R("palette-grey-700")),F(g.FilledInput,"bg","rgba(0, 0, 0, 0.06)"),F(g.FilledInput,"hoverBg","rgba(0, 0, 0, 0.09)"),F(g.FilledInput,"disabledBg","rgba(0, 0, 0, 0.12)"),F(g.LinearProgress,"primaryBg",Se(g.primary.main,.62)),F(g.LinearProgress,"secondaryBg",Se(g.secondary.main,.62)),F(g.LinearProgress,"errorBg",Se(g.error.main,.62)),F(g.LinearProgress,"infoBg",Se(g.info.main,.62)),F(g.LinearProgress,"successBg",Se(g.success.main,.62)),F(g.LinearProgress,"warningBg",Se(g.warning.main,.62)),F(g.Skeleton,"bg",`rgba(${R("palette-text-primaryChannel")} / 0.11)`),F(g.Slider,"primaryTrack",Se(g.primary.main,.62)),F(g.Slider,"secondaryTrack",Se(g.secondary.main,.62)),F(g.Slider,"errorTrack",Se(g.error.main,.62)),F(g.Slider,"infoTrack",Se(g.info.main,.62)),F(g.Slider,"successTrack",Se(g.success.main,.62)),F(g.Slider,"warningTrack",Se(g.warning.main,.62));const O=Yu(g.background.default,.8);F(g.SnackbarContent,"bg",O),F(g.SnackbarContent,"color",sr(()=>g.getContrastText(O))),F(g.SpeedDialAction,"fabHoverBg",Yu(g.background.paper,.15)),F(g.StepConnector,"border",R("palette-grey-400")),F(g.StepContent,"border",R("palette-grey-400")),F(g.Switch,"defaultColor",R("palette-common-white")),F(g.Switch,"defaultDisabledColor",R("palette-grey-100")),F(g.Switch,"primaryDisabledColor",Se(g.primary.main,.62)),F(g.Switch,"secondaryDisabledColor",Se(g.secondary.main,.62)),F(g.Switch,"errorDisabledColor",Se(g.error.main,.62)),F(g.Switch,"infoDisabledColor",Se(g.info.main,.62)),F(g.Switch,"successDisabledColor",Se(g.success.main,.62)),F(g.Switch,"warningDisabledColor",Se(g.warning.main,.62)),F(g.TableCell,"border",Se(Ku(g.divider,1),.88)),F(g.Tooltip,"bg",Ku(g.grey[700],.92))}if(g.mode==="dark"){F(g.Alert,"errorColor",Se(g.error.light,.6)),F(g.Alert,"infoColor",Se(g.info.light,.6)),F(g.Alert,"successColor",Se(g.success.light,.6)),F(g.Alert,"warningColor",Se(g.warning.light,.6)),F(g.Alert,"errorFilledBg",R("palette-error-dark")),F(g.Alert,"infoFilledBg",R("palette-info-dark")),F(g.Alert,"successFilledBg",R("palette-success-dark")),F(g.Alert,"warningFilledBg",R("palette-warning-dark")),F(g.Alert,"errorFilledColor",sr(()=>g.getContrastText(g.error.dark))),F(g.Alert,"infoFilledColor",sr(()=>g.getContrastText(g.info.dark))),F(g.Alert,"successFilledColor",sr(()=>g.getContrastText(g.success.dark))),F(g.Alert,"warningFilledColor",sr(()=>g.getContrastText(g.warning.dark))),F(g.Alert,"errorStandardBg",Ce(g.error.light,.9)),F(g.Alert,"infoStandardBg",Ce(g.info.light,.9)),F(g.Alert,"successStandardBg",Ce(g.success.light,.9)),F(g.Alert,"warningStandardBg",Ce(g.warning.light,.9)),F(g.Alert,"errorIconColor",R("palette-error-main")),F(g.Alert,"infoIconColor",R("palette-info-main")),F(g.Alert,"successIconColor",R("palette-success-main")),F(g.Alert,"warningIconColor",R("palette-warning-main")),F(g.AppBar,"defaultBg",R("palette-grey-900")),F(g.AppBar,"darkBg",R("palette-background-paper")),F(g.AppBar,"darkColor",R("palette-text-primary")),F(g.Avatar,"defaultBg",R("palette-grey-600")),F(g.Button,"inheritContainedBg",R("palette-grey-800")),F(g.Button,"inheritContainedHoverBg",R("palette-grey-700")),F(g.Chip,"defaultBorder",R("palette-grey-700")),F(g.Chip,"defaultAvatarColor",R("palette-grey-300")),F(g.Chip,"defaultIconColor",R("palette-grey-300")),F(g.FilledInput,"bg","rgba(255, 255, 255, 0.09)"),F(g.FilledInput,"hoverBg","rgba(255, 255, 255, 0.13)"),F(g.FilledInput,"disabledBg","rgba(255, 255, 255, 0.12)"),F(g.LinearProgress,"primaryBg",Ce(g.primary.main,.5)),F(g.LinearProgress,"secondaryBg",Ce(g.secondary.main,.5)),F(g.LinearProgress,"errorBg",Ce(g.error.main,.5)),F(g.LinearProgress,"infoBg",Ce(g.info.main,.5)),F(g.LinearProgress,"successBg",Ce(g.success.main,.5)),F(g.LinearProgress,"warningBg",Ce(g.warning.main,.5)),F(g.Skeleton,"bg",`rgba(${R("palette-text-primaryChannel")} / 0.13)`),F(g.Slider,"primaryTrack",Ce(g.primary.main,.5)),F(g.Slider,"secondaryTrack",Ce(g.secondary.main,.5)),F(g.Slider,"errorTrack",Ce(g.error.main,.5)),F(g.Slider,"infoTrack",Ce(g.info.main,.5)),F(g.Slider,"successTrack",Ce(g.success.main,.5)),F(g.Slider,"warningTrack",Ce(g.warning.main,.5));const O=Yu(g.background.default,.98);F(g.SnackbarContent,"bg",O),F(g.SnackbarContent,"color",sr(()=>g.getContrastText(O))),F(g.SpeedDialAction,"fabHoverBg",Yu(g.background.paper,.15)),F(g.StepConnector,"border",R("palette-grey-600")),F(g.StepContent,"border",R("palette-grey-600")),F(g.Switch,"defaultColor",R("palette-grey-300")),F(g.Switch,"defaultDisabledColor",R("palette-grey-600")),F(g.Switch,"primaryDisabledColor",Ce(g.primary.main,.55)),F(g.Switch,"secondaryDisabledColor",Ce(g.secondary.main,.55)),F(g.Switch,"errorDisabledColor",Ce(g.error.main,.55)),F(g.Switch,"infoDisabledColor",Ce(g.info.main,.55)),F(g.Switch,"successDisabledColor",Ce(g.success.main,.55)),F(g.Switch,"warningDisabledColor",Ce(g.warning.main,.55)),F(g.TableCell,"border",Ce(Ku(g.divider,1),.68)),F(g.Tooltip,"bg",Ku(g.grey[700],.92))}Rr(g.background,"default"),Rr(g.background,"paper"),Rr(g.common,"background"),Rr(g.common,"onBackground"),Rr(g,"divider"),Object.keys(g).forEach(O=>{const N=g[O];O!=="tonalOffset"&&N&&typeof N=="object"&&(N.main&&F(g[O],"mainChannel",pl(ml(N.main))),N.light&&F(g[O],"lightChannel",pl(ml(N.light))),N.dark&&F(g[O],"darkChannel",pl(ml(N.dark))),N.contrastText&&F(g[O],"contrastTextChannel",pl(ml(N.contrastText))),O==="text"&&(Rr(g[O],"primary"),Rr(g[O],"secondary")),O==="action"&&(N.active&&Rr(g[O],"active"),N.selected&&Rr(g[O],"selected")))})}),A=e.reduce((I,g)=>fn(I,g),A);const D={prefix:s,disableCssColorScheme:i,shouldSkipGeneratingVar:o,getSelector:GG(A)},{vars:M,generateThemeVars:b,generateStyleSheets:x}=aG(A,D);return A.vars=M,Object.entries(A.colorSchemes[A.defaultColorScheme]).forEach(([I,g])=>{A[I]=g}),A.generateThemeVars=b,A.generateStyleSheets=x,A.generateSpacing=function(){return vR(c.spacing,U_(this))},A.getColorSchemeSelector=lG(a),A.spacing=A.generateSpacing(),A.shouldSkipGeneratingVar=o,A.unstable_sxConfig={...iu,...c==null?void 0:c.unstable_sxConfig},A.unstable_sx=function(g){return la({sx:g,theme:this})},A.toRuntimeSource=TR,A}function AS(t,e,n){t.colorSchemes&&n&&(t.colorSchemes[e]={...n!==!0&&n,palette:J_({...n===!0?{}:n.palette,mode:e})})}function PR(t={},...e){const{palette:n,cssVariables:r=!1,colorSchemes:i=n?void 0:{light:!0},defaultColorScheme:s=n==null?void 0:n.mode,...o}=t,a=s||"light",l=i==null?void 0:i[a],c={...i,...n?{[a]:{...typeof l!="boolean"&&l,palette:n}}:void 0};if(r===!1){if(!("colorSchemes"in t))return Dy(t,...e);let d=n;"palette"in t||c[a]&&(c[a]!==!0?d=c[a].palette:a==="dark"&&(d={mode:"dark"}));const h=Dy({...t,palette:d},...e);return h.defaultColorScheme=a,h.colorSchemes=c,h.palette.mode==="light"&&(h.colorSchemes.light={...c.light!==!0&&c.light,palette:h.palette},AS(h,"dark",c.dark)),h.palette.mode==="dark"&&(h.colorSchemes.dark={...c.dark!==!0&&c.dark,palette:h.palette},AS(h,"light",c.light)),h}return!n&&!("light"in c)&&a==="light"&&(c.light=!0),JG({...o,colorSchemes:c,defaultColorScheme:a,...typeof r!="boolean"&&r},...e)}const QG=PR(),AR=QG,Q_="$$material";function ZG(){const t=_R(AR);return t[Q_]||t}function eK(t){return t!=="ownerState"&&t!=="theme"&&t!=="sx"&&t!=="as"}const tK=t=>eK(t)&&t!=="classes",nK=tK,rK=zq({themeId:Q_,defaultTheme:AR,rootShouldForwardProp:nK}),Z_=rK,iK=rG,sK=iK;function RR(t){return nG(t)}function oK(t){return typeof t=="string"}function aK(t,e,n){return t===void 0||oK(t)?e:{...e,ownerState:{...e.ownerState,...n}}}function lK(t,e,n){return typeof t=="function"?t(e,n):t}function NR(t,e=[]){if(t===void 0)return{};const n={};return Object.keys(t).filter(r=>r.match(/^on[A-Z]/)&&typeof t[r]=="function"&&!e.includes(r)).forEach(r=>{n[r]=t[r]}),n}function RS(t){if(t===void 0)return{};const e={};return Object.keys(t).filter(n=>!(n.match(/^on[A-Z]/)&&typeof t[n]=="function")).forEach(n=>{e[n]=t[n]}),e}function cK(t){const{getSlotProps:e,additionalProps:n,externalSlotProps:r,externalForwardedProps:i,className:s}=t;if(!e){const y=aa(n==null?void 0:n.className,s,i==null?void 0:i.className,r==null?void 0:r.className),_={...n==null?void 0:n.style,...i==null?void 0:i.style,...r==null?void 0:r.style},S={...n,...i,...r};return y.length>0&&(S.className=y),Object.keys(_).length>0&&(S.style=_),{props:S,internalRef:void 0}}const o=NR({...i,...r}),a=RS(r),l=RS(i),c=e(o),d=aa(c==null?void 0:c.className,n==null?void 0:n.className,s,i==null?void 0:i.className,r==null?void 0:r.className),h={...c==null?void 0:c.style,...n==null?void 0:n.style,...i==null?void 0:i.style,...r==null?void 0:r.style},f={...c,...n,...l,...a};return d.length>0&&(f.className=d),Object.keys(h).length>0&&(f.style=h),{props:f,internalRef:c.ref}}function Fh(t,e){const{className:n,elementType:r,ownerState:i,externalForwardedProps:s,internalForwardedProps:o,shouldForwardComponentProp:a=!1,...l}=e,{component:c,slots:d={[t]:void 0},slotProps:h={[t]:void 0},...f}=s,y=d[t]||r,_=lK(h[t],i),{props:{component:S,...P},internalRef:w}=cK({className:n,...l,externalForwardedProps:t==="root"?f:void 0,externalSlotProps:_}),C=tu(w,_==null?void 0:_.ref,e.ref),E=t==="root"?S||c:S,A=aK(y,{...t==="root"&&!c&&!d[t]&&o,...t!=="root"&&!d[t]&&o,...P,...E&&!a&&{as:E},...E&&a&&{component:E},ref:C},i);return[y,A]}function uK(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function Oy(t,e){return Oy=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,r){return n.__proto__=r,n},Oy(t,e)}function dK(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,Oy(t,e)}const NS={disabled:!1},DR=hs.createContext(null);var hK=function(e){return e.scrollTop},gl="unmounted",cs="exited",us="entering",co="entered",My="exiting",ai=function(t){dK(e,t);function e(r,i){var s;s=t.call(this,r,i)||this;var o=i,a=o&&!o.isMounting?r.enter:r.appear,l;return s.appearStatus=null,r.in?a?(l=cs,s.appearStatus=us):l=co:r.unmountOnExit||r.mountOnEnter?l=gl:l=cs,s.state={status:l},s.nextCallback=null,s}e.getDerivedStateFromProps=function(i,s){var o=i.in;return o&&s.status===gl?{status:cs}:null};var n=e.prototype;return n.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},n.componentDidUpdate=function(i){var s=null;if(i!==this.props){var o=this.state.status;this.props.in?o!==us&&o!==co&&(s=us):(o===us||o===co)&&(s=My)}this.updateStatus(!1,s)},n.componentWillUnmount=function(){this.cancelNextCallback()},n.getTimeouts=function(){var i=this.props.timeout,s,o,a;return s=o=a=i,i!=null&&typeof i!="number"&&(s=i.exit,o=i.enter,a=i.appear!==void 0?i.appear:o),{exit:s,enter:o,appear:a}},n.updateStatus=function(i,s){if(i===void 0&&(i=!1),s!==null)if(this.cancelNextCallback(),s===us){if(this.props.unmountOnExit||this.props.mountOnEnter){var o=this.props.nodeRef?this.props.nodeRef.current:Lu.findDOMNode(this);o&&hK(o)}this.performEnter(i)}else this.performExit();else this.props.unmountOnExit&&this.state.status===cs&&this.setState({status:gl})},n.performEnter=function(i){var s=this,o=this.props.enter,a=this.context?this.context.isMounting:i,l=this.props.nodeRef?[a]:[Lu.findDOMNode(this),a],c=l[0],d=l[1],h=this.getTimeouts(),f=a?h.appear:h.enter;if(!i&&!o||NS.disabled){this.safeSetState({status:co},function(){s.props.onEntered(c)});return}this.props.onEnter(c,d),this.safeSetState({status:us},function(){s.props.onEntering(c,d),s.onTransitionEnd(f,function(){s.safeSetState({status:co},function(){s.props.onEntered(c,d)})})})},n.performExit=function(){var i=this,s=this.props.exit,o=this.getTimeouts(),a=this.props.nodeRef?void 0:Lu.findDOMNode(this);if(!s||NS.disabled){this.safeSetState({status:cs},function(){i.props.onExited(a)});return}this.props.onExit(a),this.safeSetState({status:My},function(){i.props.onExiting(a),i.onTransitionEnd(o.exit,function(){i.safeSetState({status:cs},function(){i.props.onExited(a)})})})},n.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},n.safeSetState=function(i,s){s=this.setNextCallback(s),this.setState(i,s)},n.setNextCallback=function(i){var s=this,o=!0;return this.nextCallback=function(a){o&&(o=!1,s.nextCallback=null,i(a))},this.nextCallback.cancel=function(){o=!1},this.nextCallback},n.onTransitionEnd=function(i,s){this.setNextCallback(s);var o=this.props.nodeRef?this.props.nodeRef.current:Lu.findDOMNode(this),a=i==null&&!this.props.addEndListener;if(!o||a){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var l=this.props.nodeRef?[this.nextCallback]:[o,this.nextCallback],c=l[0],d=l[1];this.props.addEndListener(c,d)}i!=null&&setTimeout(this.nextCallback,i)},n.render=function(){var i=this.state.status;if(i===gl)return null;var s=this.props,o=s.children;s.in,s.mountOnEnter,s.unmountOnExit,s.appear,s.enter,s.exit,s.timeout,s.addEndListener,s.onEnter,s.onEntering,s.onEntered,s.onExit,s.onExiting,s.onExited,s.nodeRef;var a=uK(s,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return hs.createElement(DR.Provider,{value:null},typeof o=="function"?o(i,a):hs.cloneElement(hs.Children.only(o),a))},e}(hs.Component);ai.contextType=DR;ai.propTypes={};function ao(){}ai.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:ao,onEntering:ao,onEntered:ao,onExit:ao,onExiting:ao,onExited:ao};ai.UNMOUNTED=gl;ai.EXITED=cs;ai.ENTERING=us;ai.ENTERED=co;ai.EXITING=My;const fK=ai,pK=t=>t.scrollTop;function DS(t,e){const{timeout:n,easing:r,style:i={}}=t;return{duration:i.transitionDuration??(typeof n=="number"?n:n[e.mode]||0),easing:i.transitionTimingFunction??(typeof r=="object"?r[e.mode]:r),delay:i.transitionDelay}}const mK={entering:{opacity:1},entered:{opacity:1}},gK=T.forwardRef(function(e,n){const r=ZG(),i={enter:r.transitions.duration.enteringScreen,exit:r.transitions.duration.leavingScreen},{addEndListener:s,appear:o=!0,children:a,easing:l,in:c,onEnter:d,onEntered:h,onEntering:f,onExit:y,onExited:_,onExiting:S,style:P,timeout:w=i,TransitionComponent:C=fK,...E}=e,A=T.useRef(null),D=tu(A,M_(a),n),M=U=>W=>{if(U){const G=A.current;W===void 0?U(G):U(G,W)}},b=M(f),x=M((U,W)=>{pK(U);const G=DS({style:P,timeout:w,easing:l},{mode:"enter"});U.style.webkitTransition=r.transitions.create("opacity",G),U.style.transition=r.transitions.create("opacity",G),d&&d(U,W)}),I=M(h),g=M(S),R=M(U=>{const W=DS({style:P,timeout:w,easing:l},{mode:"exit"});U.style.webkitTransition=r.transitions.create("opacity",W),U.style.transition=r.transitions.create("opacity",W),y&&y(U)}),O=M(_),N=U=>{s&&s(A.current,U)};return m.jsx(C,{appear:o,in:c,nodeRef:A,onEnter:x,onEntered:I,onEntering:b,onExit:R,onExited:O,onExiting:g,addEndListener:N,timeout:w,...E,children:(U,{ownerState:W,...G})=>T.cloneElement(a,{style:{opacity:0,visibility:U==="exited"&&!c?"hidden":void 0,...mK[U],...P,...a.props.style},ref:D,...G})})}),yK=gK;function vK(t){return q_("MuiBackdrop",t)}G_("MuiBackdrop",["root","invisible"]);const _K=t=>{const{classes:e,invisible:n}=t;return J2({root:["root",n&&"invisible"]},vK,e)},wK=Z_("div",{name:"MuiBackdrop",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.invisible&&e.invisible]}})({position:"fixed",display:"flex",alignItems:"center",justifyContent:"center",right:0,bottom:0,top:0,left:0,backgroundColor:"rgba(0, 0, 0, 0.5)",WebkitTapHighlightColor:"transparent",variants:[{props:{invisible:!0},style:{backgroundColor:"transparent"}}]}),xK=T.forwardRef(function(e,n){const r=RR({props:e,name:"MuiBackdrop"}),{children:i,className:s,component:o="div",invisible:a=!1,open:l,components:c={},componentsProps:d={},slotProps:h={},slots:f={},TransitionComponent:y,transitionDuration:_,...S}=r,P={...r,component:o,invisible:a},w=_K(P),C={transition:y,root:c.Root,...f},E={...d,...h},A={slots:C,slotProps:E},[D,M]=Fh("root",{elementType:wK,externalForwardedProps:A,className:aa(w.root,s),ownerState:P}),[b,x]=Fh("transition",{elementType:yK,externalForwardedProps:A,ownerState:P});return m.jsx(b,{in:l,timeout:_,...S,...x,children:m.jsx(D,{"aria-hidden":!0,...M,classes:w,ref:n,children:i})})}),EK=xK;function OS(t){const e=T.useRef(t);return Ty(()=>{e.current=t}),T.useRef((...n)=>(0,e.current)(...n)).current}function MS(...t){return t.reduce((e,n)=>n==null?e:function(...i){e.apply(this,i),n.apply(this,i)},()=>{})}function CK(t){return typeof t=="function"?t():t}function SK(t){return t?t.props.hasOwnProperty("in"):!1}const LS=()=>{},Xu=new wW;function bK(t){const{container:e,disableEscapeKeyDown:n=!1,disableScrollLock:r=!1,closeAfterTransition:i=!1,onTransitionEnter:s,onTransitionExited:o,children:a,onClose:l,open:c,rootRef:d}=t,h=T.useRef({}),f=T.useRef(null),y=T.useRef(null),_=tu(y,d),[S,P]=T.useState(!c),w=SK(a);let C=!0;(t["aria-hidden"]==="false"||t["aria-hidden"]===!1)&&(C=!1);const E=()=>$s(f.current),A=()=>(h.current.modalRef=y.current,h.current.mount=f.current,h.current),D=()=>{Xu.mount(A(),{disableScrollLock:r}),y.current&&(y.current.scrollTop=0)},M=OS(()=>{const W=CK(e)||E().body;Xu.add(A(),W),y.current&&D()}),b=()=>Xu.isTopModal(A()),x=OS(W=>{f.current=W,W&&(c&&b()?D():y.current&&$l(y.current,C))}),I=T.useCallback(()=>{Xu.remove(A(),C)},[C]);T.useEffect(()=>()=>{I()},[I]),T.useEffect(()=>{c?M():(!w||!i)&&I()},[c,I,w,i,M]);const g=W=>G=>{var q;(q=W.onKeyDown)==null||q.call(W,G),!(G.key!=="Escape"||G.which===229||!b())&&(n||(G.stopPropagation(),l&&l(G,"escapeKeyDown")))},R=W=>G=>{var q;(q=W.onClick)==null||q.call(W,G),G.target===G.currentTarget&&l&&l(G,"backdropClick")};return{getRootProps:(W={})=>{const G=NR(t);delete G.onTransitionEnter,delete G.onTransitionExited;const q={...G,...W};return{role:"presentation",...q,onKeyDown:g(q),ref:_}},getBackdropProps:(W={})=>{const G=W;return{"aria-hidden":!0,...G,onClick:R(G),open:c}},getTransitionProps:()=>{const W=()=>{P(!1),s&&s()},G=()=>{P(!0),o&&o(),i&&I()};return{onEnter:MS(W,(a==null?void 0:a.props.onEnter)??LS),onExited:MS(G,(a==null?void 0:a.props.onExited)??LS)}},rootRef:_,portalRef:x,isTopModal:b,exited:S,hasTransition:w}}function TK(t){return q_("MuiModal",t)}G_("MuiModal",["root","hidden","backdrop"]);const kK=t=>{const{open:e,exited:n,classes:r}=t;return J2({root:["root",!e&&n&&"hidden"],backdrop:["backdrop"]},TK,r)},IK=Z_("div",{name:"MuiModal",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,!n.open&&n.exited&&e.hidden]}})(sK(({theme:t})=>({position:"fixed",zIndex:(t.vars||t).zIndex.modal,right:0,bottom:0,top:0,left:0,variants:[{props:({ownerState:e})=>!e.open&&e.exited,style:{visibility:"hidden"}}]}))),PK=Z_(EK,{name:"MuiModal",slot:"Backdrop"})({zIndex:-1}),AK=T.forwardRef(function(e,n){const r=RR({name:"MuiModal",props:e}),{BackdropComponent:i=PK,BackdropProps:s,classes:o,className:a,closeAfterTransition:l=!1,children:c,container:d,component:h,components:f={},componentsProps:y={},disableAutoFocus:_=!1,disableEnforceFocus:S=!1,disableEscapeKeyDown:P=!1,disablePortal:w=!1,disableRestoreFocus:C=!1,disableScrollLock:E=!1,hideBackdrop:A=!1,keepMounted:D=!1,onClose:M,onTransitionEnter:b,onTransitionExited:x,open:I,slotProps:g={},slots:R={},theme:O,...N}=r,U={...r,closeAfterTransition:l,disableAutoFocus:_,disableEnforceFocus:S,disableEscapeKeyDown:P,disablePortal:w,disableRestoreFocus:C,disableScrollLock:E,hideBackdrop:A,keepMounted:D},{getRootProps:W,getBackdropProps:G,getTransitionProps:q,portalRef:$,isTopModal:K,exited:X,hasTransition:_e}=bK({...U,rootRef:n}),ne={...U,exited:X},ee=kK(ne),J={};if(c.props.tabIndex===void 0&&(J.tabIndex="-1"),_e){const{onEnter:Ve,onExited:ft}=q();J.onEnter=Ve,J.onExited=ft}const ue={slots:{root:f.Root,backdrop:f.Backdrop,...R},slotProps:{...y,...g}},[de,re]=Fh("root",{ref:n,elementType:IK,externalForwardedProps:{...ue,...N,component:h},getSlotProps:W,ownerState:ne,className:aa(a,ee==null?void 0:ee.root,!ne.open&&ne.exited&&(ee==null?void 0:ee.hidden))}),[it,ht]=Fh("backdrop",{ref:s==null?void 0:s.ref,elementType:i,externalForwardedProps:ue,shouldForwardComponentProp:!0,additionalProps:s,getSlotProps:Ve=>G({...Ve,onClick:ft=>{Ve!=null&&Ve.onClick&&Ve.onClick(ft)}}),className:aa(s==null?void 0:s.className,ee==null?void 0:ee.backdrop),ownerState:ne});return!D&&!I&&(!_e||X)?null:m.jsx(RW,{ref:$,container:d,disablePortal:w,children:m.jsxs(de,{...re,children:[!A&&i?m.jsx(it,{...ht}):null,m.jsx(kW,{disableEnforceFocus:S,disableAutoFocus:_,disableRestoreFocus:C,isEnabled:K,open:I,children:T.cloneElement(c,J)})]})})}),OR=AK,RK=G_("MuiBox",["root"]),NK=RK,DK=PR(),OK=Fq({themeId:Q_,defaultTheme:DK,defaultClassName:NK.root,generateClassName:wR.generate}),MR=OK;var jS=!1,ds,Ly,jy,kd,Id,LR,Pd,Fy,$y,Uy,jR,Vy,By,FR,$R;function Gt(){if(!jS){jS=!0;var t=navigator.userAgent,e=/(?:MSIE.(\d+\.\d+))|(?:(?:Firefox|GranParadiso|Iceweasel).(\d+\.\d+))|(?:Opera(?:.+Version.|.)(\d+\.\d+))|(?:AppleWebKit.(\d+(?:\.\d+)?))|(?:Trident\/\d+\.\d+.*rv:(\d+\.\d+))/.exec(t),n=/(Mac OS X)|(Windows)|(Linux)/.exec(t);if(Vy=/\b(iPhone|iP[ao]d)/.exec(t),By=/\b(iP[ao]d)/.exec(t),Uy=/Android/i.exec(t),FR=/FBAN\/\w+;/i.exec(t),$R=/Mobile/i.exec(t),jR=!!/Win64/.exec(t),e){ds=e[1]?parseFloat(e[1]):e[5]?parseFloat(e[5]):NaN,ds&&document&&document.documentMode&&(ds=document.documentMode);var r=/(?:Trident\/(\d+.\d+))/.exec(t);LR=r?parseFloat(r[1])+4:ds,Ly=e[2]?parseFloat(e[2]):NaN,jy=e[3]?parseFloat(e[3]):NaN,kd=e[4]?parseFloat(e[4]):NaN,kd?(e=/(?:Chrome\/(\d+\.\d+))/.exec(t),Id=e&&e[1]?parseFloat(e[1]):NaN):Id=NaN}else ds=Ly=jy=Id=kd=NaN;if(n){if(n[1]){var i=/(?:Mac OS X (\d+(?:[._]\d+)?))/.exec(t);Pd=i?parseFloat(i[1].replace("_",".")):!0}else Pd=!1;Fy=!!n[2],$y=!!n[3]}else Pd=Fy=$y=!1}}var zy={ie:function(){return Gt()||ds},ieCompatibilityMode:function(){return Gt()||LR>ds},ie64:function(){return zy.ie()&&jR},firefox:function(){return Gt()||Ly},opera:function(){return Gt()||jy},webkit:function(){return Gt()||kd},safari:function(){return zy.webkit()},chrome:function(){return Gt()||Id},windows:function(){return Gt()||Fy},osx:function(){return Gt()||Pd},linux:function(){return Gt()||$y},iphone:function(){return Gt()||Vy},mobile:function(){return Gt()||Vy||By||Uy||$R},nativeApp:function(){return Gt()||FR},android:function(){return Gt()||Uy},ipad:function(){return Gt()||By}},MK=zy,Ju=!!(typeof window<"u"&&window.document&&window.document.createElement),LK={canUseDOM:Ju,canUseWorkers:typeof Worker<"u",canUseEventListeners:Ju&&!!(window.addEventListener||window.attachEvent),canUseViewport:Ju&&!!window.screen,isInWorker:!Ju},jK=LK,UR=jK,VR;UR.canUseDOM&&(VR=document.implementation&&document.implementation.hasFeature&&document.implementation.hasFeature("","")!==!0);/**
 * Checks if an event is supported in the current execution environment.
 *
 * NOTE: This will not work correctly for non-generic events such as `change`,
 * `reset`, `load`, `error`, and `select`.
 *
 * Borrows from Modernizr.
 *
 * @param {string} eventNameSuffix Event name, e.g. "click".
 * @param {?boolean} capture Check if the capture phase is supported.
 * @return {boolean} True if the event is supported.
 * @internal
 * @license Modernizr 3.0.0pre (Custom Build) | MIT
 */function FK(t,e){if(!UR.canUseDOM||e&&!("addEventListener"in document))return!1;var n="on"+t,r=n in document;if(!r){var i=document.createElement("div");i.setAttribute(n,"return;"),r=typeof i[n]=="function"}return!r&&VR&&t==="wheel"&&(r=document.implementation.hasFeature("Events.wheel","3.0")),r}var $K=FK,UK=MK,VK=$K,FS=10,$S=40,US=800;function BR(t){var e=0,n=0,r=0,i=0;return"detail"in t&&(n=t.detail),"wheelDelta"in t&&(n=-t.wheelDelta/120),"wheelDeltaY"in t&&(n=-t.wheelDeltaY/120),"wheelDeltaX"in t&&(e=-t.wheelDeltaX/120),"axis"in t&&t.axis===t.HORIZONTAL_AXIS&&(e=n,n=0),r=e*FS,i=n*FS,"deltaY"in t&&(i=t.deltaY),"deltaX"in t&&(r=t.deltaX),(r||i)&&t.deltaMode&&(t.deltaMode==1?(r*=$S,i*=$S):(r*=US,i*=US)),r&&!e&&(e=r<1?-1:1),i&&!n&&(n=i<1?-1:1),{spinX:e,spinY:n,pixelX:r,pixelY:i}}BR.getEventType=function(){return UK.firefox()?"DOMMouseScroll":VK("wheel")?"wheel":"mousewheel"};var BK=BR,zK=BK;const WK=Hy(zK);function HK(t,e,n,r,i,s){s===void 0&&(s=0);var o=ua(t,e,s),a=o.width,l=o.height,c=Math.min(a,n),d=Math.min(l,r);return c>d*i?{width:d*i,height:d}:{width:c,height:c/i}}function qK(t){return t.width>t.height?t.width/t.naturalWidth:t.height/t.naturalHeight}function ol(t,e,n,r,i){i===void 0&&(i=0);var s=ua(e.width,e.height,i),o=s.width,a=s.height;return{x:VS(t.x,o,n.width,r),y:VS(t.y,a,n.height,r)}}function VS(t,e,n,r){var i=e*r/2-n/2;return Qf(t,-i,i)}function BS(t,e){return Math.sqrt(Math.pow(t.y-e.y,2)+Math.pow(t.x-e.x,2))}function zS(t,e){return Math.atan2(e.y-t.y,e.x-t.x)*180/Math.PI}function GK(t,e,n,r,i,s,o){s===void 0&&(s=0),o===void 0&&(o=!0);var a=o?KK:YK,l=ua(e.width,e.height,s),c=ua(e.naturalWidth,e.naturalHeight,s),d={x:a(100,((l.width-n.width/i)/2-t.x/i)/l.width*100),y:a(100,((l.height-n.height/i)/2-t.y/i)/l.height*100),width:a(100,n.width/l.width*100/i),height:a(100,n.height/l.height*100/i)},h=Math.round(a(c.width,d.width*c.width/100)),f=Math.round(a(c.height,d.height*c.height/100)),y=c.width>=c.height*r,_=y?{width:Math.round(f*r),height:f}:{width:h,height:Math.round(h/r)},S=ot(ot({},_),{x:Math.round(a(c.width-_.width,d.x*c.width/100)),y:Math.round(a(c.height-_.height,d.y*c.height/100))});return{croppedAreaPercentages:d,croppedAreaPixels:S}}function KK(t,e){return Math.min(t,Math.max(0,e))}function YK(t,e){return e}function XK(t,e,n,r,i,s){var o=ua(e.width,e.height,n),a=Qf(r.width/o.width*(100/t.width),i,s),l={x:a*o.width/2-r.width/2-o.width*a*(t.x/100),y:a*o.height/2-r.height/2-o.height*a*(t.y/100)};return{crop:l,zoom:a}}function JK(t,e,n){var r=qK(e);return n.height>n.width?n.height/(t.height*r):n.width/(t.width*r)}function QK(t,e,n,r,i,s){n===void 0&&(n=0);var o=ua(e.naturalWidth,e.naturalHeight,n),a=Qf(JK(t,e,r),i,s),l=r.height>r.width?r.height/t.height:r.width/t.width,c={x:((o.width-t.width)/2-t.x)*l,y:((o.height-t.height)/2-t.y)*l};return{crop:c,zoom:a}}function WS(t,e){return{x:(e.x+t.x)/2,y:(e.y+t.y)/2}}function ZK(t){return t*Math.PI/180}function ua(t,e,n){var r=ZK(n);return{width:Math.abs(Math.cos(r)*t)+Math.abs(Math.sin(r)*e),height:Math.abs(Math.sin(r)*t)+Math.abs(Math.cos(r)*e)}}function Qf(t,e,n){return Math.min(Math.max(t,e),n)}function Qu(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return t.filter(function(n){return typeof n=="string"&&n.length>0}).join(" ").trim()}var eY=`.reactEasyCrop_Container {
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  overflow: hidden;
  user-select: none;
  touch-action: none;
  cursor: move;
  display: flex;
  justify-content: center;
  align-items: center;
}

.reactEasyCrop_Image,
.reactEasyCrop_Video {
  will-change: transform; /* this improves performances and prevent painting issues on iOS Chrome */
}

.reactEasyCrop_Contain {
  max-width: 100%;
  max-height: 100%;
  margin: auto;
  position: absolute;
  top: 0;
  bottom: 0;
  left: 0;
  right: 0;
}
.reactEasyCrop_Cover_Horizontal {
  width: 100%;
  height: auto;
}
.reactEasyCrop_Cover_Vertical {
  width: auto;
  height: 100%;
}

.reactEasyCrop_CropArea {
  position: absolute;
  left: 50%;
  top: 50%;
  transform: translate(-50%, -50%);
  border: 1px solid rgba(255, 255, 255, 0.5);
  box-sizing: border-box;
  box-shadow: 0 0 0 9999em;
  color: rgba(0, 0, 0, 0.5);
  overflow: hidden;
}

.reactEasyCrop_CropAreaRound {
  border-radius: 50%;
}

.reactEasyCrop_CropAreaGrid::before {
  content: ' ';
  box-sizing: border-box;
  position: absolute;
  border: 1px solid rgba(255, 255, 255, 0.5);
  top: 0;
  bottom: 0;
  left: 33.33%;
  right: 33.33%;
  border-top: 0;
  border-bottom: 0;
}

.reactEasyCrop_CropAreaGrid::after {
  content: ' ';
  box-sizing: border-box;
  position: absolute;
  border: 1px solid rgba(255, 255, 255, 0.5);
  top: 33.33%;
  bottom: 33.33%;
  left: 0;
  right: 0;
  border-left: 0;
  border-right: 0;
}
`,tY=1,nY=3,rY=1,iY=function(t){j5(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.cropperRef=T.createRef(),n.imageRef=T.createRef(),n.videoRef=T.createRef(),n.containerPosition={x:0,y:0},n.containerRef=null,n.styleRef=null,n.containerRect=null,n.mediaSize={width:0,height:0,naturalWidth:0,naturalHeight:0},n.dragStartPosition={x:0,y:0},n.dragStartCrop={x:0,y:0},n.gestureZoomStart=0,n.gestureRotationStart=0,n.isTouching=!1,n.lastPinchDistance=0,n.lastPinchRotation=0,n.rafDragTimeout=null,n.rafPinchTimeout=null,n.wheelTimer=null,n.currentDoc=typeof document<"u"?document:null,n.currentWindow=typeof window<"u"?window:null,n.resizeObserver=null,n.state={cropSize:null,hasWheelJustStarted:!1,mediaObjectFit:void 0},n.initResizeObserver=function(){if(!(typeof window.ResizeObserver>"u"||!n.containerRef)){var r=!0;n.resizeObserver=new window.ResizeObserver(function(i){if(r){r=!1;return}n.computeSizes()}),n.resizeObserver.observe(n.containerRef)}},n.preventZoomSafari=function(r){return r.preventDefault()},n.cleanEvents=function(){n.currentDoc&&(n.currentDoc.removeEventListener("mousemove",n.onMouseMove),n.currentDoc.removeEventListener("mouseup",n.onDragStopped),n.currentDoc.removeEventListener("touchmove",n.onTouchMove),n.currentDoc.removeEventListener("touchend",n.onDragStopped),n.currentDoc.removeEventListener("gesturemove",n.onGestureMove),n.currentDoc.removeEventListener("gestureend",n.onGestureEnd),n.currentDoc.removeEventListener("scroll",n.onScroll))},n.clearScrollEvent=function(){n.containerRef&&n.containerRef.removeEventListener("wheel",n.onWheel),n.wheelTimer&&clearTimeout(n.wheelTimer)},n.onMediaLoad=function(){var r=n.computeSizes();r&&(n.emitCropData(),n.setInitialCrop(r)),n.props.onMediaLoaded&&n.props.onMediaLoaded(n.mediaSize)},n.setInitialCrop=function(r){if(n.props.initialCroppedAreaPercentages){var i=XK(n.props.initialCroppedAreaPercentages,n.mediaSize,n.props.rotation,r,n.props.minZoom,n.props.maxZoom),s=i.crop,o=i.zoom;n.props.onCropChange(s),n.props.onZoomChange&&n.props.onZoomChange(o)}else if(n.props.initialCroppedAreaPixels){var a=QK(n.props.initialCroppedAreaPixels,n.mediaSize,n.props.rotation,r,n.props.minZoom,n.props.maxZoom),s=a.crop,o=a.zoom;n.props.onCropChange(s),n.props.onZoomChange&&n.props.onZoomChange(o)}},n.computeSizes=function(){var r,i,s,o,a,l,c=n.imageRef.current||n.videoRef.current;if(c&&n.containerRef){n.containerRect=n.containerRef.getBoundingClientRect(),n.saveContainerPosition();var d=n.containerRect.width/n.containerRect.height,h=((r=n.imageRef.current)===null||r===void 0?void 0:r.naturalWidth)||((i=n.videoRef.current)===null||i===void 0?void 0:i.videoWidth)||0,f=((s=n.imageRef.current)===null||s===void 0?void 0:s.naturalHeight)||((o=n.videoRef.current)===null||o===void 0?void 0:o.videoHeight)||0,y=c.offsetWidth<h||c.offsetHeight<f,_=h/f,S=void 0;if(y)switch(n.state.mediaObjectFit){default:case"contain":S=d>_?{width:n.containerRect.height*_,height:n.containerRect.height}:{width:n.containerRect.width,height:n.containerRect.width/_};break;case"horizontal-cover":S={width:n.containerRect.width,height:n.containerRect.width/_};break;case"vertical-cover":S={width:n.containerRect.height*_,height:n.containerRect.height};break}else S={width:c.offsetWidth,height:c.offsetHeight};n.mediaSize=ot(ot({},S),{naturalWidth:h,naturalHeight:f}),n.props.setMediaSize&&n.props.setMediaSize(n.mediaSize);var P=n.props.cropSize?n.props.cropSize:HK(n.mediaSize.width,n.mediaSize.height,n.containerRect.width,n.containerRect.height,n.props.aspect,n.props.rotation);return(((a=n.state.cropSize)===null||a===void 0?void 0:a.height)!==P.height||((l=n.state.cropSize)===null||l===void 0?void 0:l.width)!==P.width)&&n.props.onCropSizeChange&&n.props.onCropSizeChange(P),n.setState({cropSize:P},n.recomputeCropPosition),n.props.setCropSize&&n.props.setCropSize(P),P}},n.saveContainerPosition=function(){if(n.containerRef){var r=n.containerRef.getBoundingClientRect();n.containerPosition={x:r.left,y:r.top}}},n.onMouseDown=function(r){n.currentDoc&&(r.preventDefault(),n.currentDoc.addEventListener("mousemove",n.onMouseMove),n.currentDoc.addEventListener("mouseup",n.onDragStopped),n.saveContainerPosition(),n.onDragStart(e.getMousePoint(r)))},n.onMouseMove=function(r){return n.onDrag(e.getMousePoint(r))},n.onScroll=function(r){n.currentDoc&&(r.preventDefault(),n.saveContainerPosition())},n.onTouchStart=function(r){n.currentDoc&&(n.isTouching=!0,!(n.props.onTouchRequest&&!n.props.onTouchRequest(r))&&(n.currentDoc.addEventListener("touchmove",n.onTouchMove,{passive:!1}),n.currentDoc.addEventListener("touchend",n.onDragStopped),n.saveContainerPosition(),r.touches.length===2?n.onPinchStart(r):r.touches.length===1&&n.onDragStart(e.getTouchPoint(r.touches[0]))))},n.onTouchMove=function(r){r.preventDefault(),r.touches.length===2?n.onPinchMove(r):r.touches.length===1&&n.onDrag(e.getTouchPoint(r.touches[0]))},n.onGestureStart=function(r){n.currentDoc&&(r.preventDefault(),n.currentDoc.addEventListener("gesturechange",n.onGestureMove),n.currentDoc.addEventListener("gestureend",n.onGestureEnd),n.gestureZoomStart=n.props.zoom,n.gestureRotationStart=n.props.rotation)},n.onGestureMove=function(r){if(r.preventDefault(),!n.isTouching){var i=e.getMousePoint(r),s=n.gestureZoomStart-1+r.scale;if(n.setNewZoom(s,i,{shouldUpdatePosition:!0}),n.props.onRotationChange){var o=n.gestureRotationStart+r.rotation;n.props.onRotationChange(o)}}},n.onGestureEnd=function(r){n.cleanEvents()},n.onDragStart=function(r){var i,s,o=r.x,a=r.y;n.dragStartPosition={x:o,y:a},n.dragStartCrop=ot({},n.props.crop),(s=(i=n.props).onInteractionStart)===null||s===void 0||s.call(i)},n.onDrag=function(r){var i=r.x,s=r.y;n.currentWindow&&(n.rafDragTimeout&&n.currentWindow.cancelAnimationFrame(n.rafDragTimeout),n.rafDragTimeout=n.currentWindow.requestAnimationFrame(function(){if(n.state.cropSize&&!(i===void 0||s===void 0)){var o=i-n.dragStartPosition.x,a=s-n.dragStartPosition.y,l={x:n.dragStartCrop.x+o,y:n.dragStartCrop.y+a},c=n.props.restrictPosition?ol(l,n.mediaSize,n.state.cropSize,n.props.zoom,n.props.rotation):l;n.props.onCropChange(c)}}))},n.onDragStopped=function(){var r,i;n.isTouching=!1,n.cleanEvents(),n.emitCropData(),(i=(r=n.props).onInteractionEnd)===null||i===void 0||i.call(r)},n.onWheel=function(r){if(n.currentWindow&&!(n.props.onWheelRequest&&!n.props.onWheelRequest(r))){r.preventDefault();var i=e.getMousePoint(r),s=WK(r).pixelY,o=n.props.zoom-s*n.props.zoomSpeed/200;n.setNewZoom(o,i,{shouldUpdatePosition:!0}),n.state.hasWheelJustStarted||n.setState({hasWheelJustStarted:!0},function(){var a,l;return(l=(a=n.props).onInteractionStart)===null||l===void 0?void 0:l.call(a)}),n.wheelTimer&&clearTimeout(n.wheelTimer),n.wheelTimer=n.currentWindow.setTimeout(function(){return n.setState({hasWheelJustStarted:!1},function(){var a,l;return(l=(a=n.props).onInteractionEnd)===null||l===void 0?void 0:l.call(a)})},250)}},n.getPointOnContainer=function(r,i){var s=r.x,o=r.y;if(!n.containerRect)throw new Error("The Cropper is not mounted");return{x:n.containerRect.width/2-(s-i.x),y:n.containerRect.height/2-(o-i.y)}},n.getPointOnMedia=function(r){var i=r.x,s=r.y,o=n.props,a=o.crop,l=o.zoom;return{x:(i+a.x)/l,y:(s+a.y)/l}},n.setNewZoom=function(r,i,s){var o=s===void 0?{}:s,a=o.shouldUpdatePosition,l=a===void 0?!0:a;if(!(!n.state.cropSize||!n.props.onZoomChange)){var c=Qf(r,n.props.minZoom,n.props.maxZoom);if(l){var d=n.getPointOnContainer(i,n.containerPosition),h=n.getPointOnMedia(d),f={x:h.x*c-d.x,y:h.y*c-d.y},y=n.props.restrictPosition?ol(f,n.mediaSize,n.state.cropSize,c,n.props.rotation):f;n.props.onCropChange(y)}n.props.onZoomChange(c)}},n.getCropData=function(){if(!n.state.cropSize)return null;var r=n.props.restrictPosition?ol(n.props.crop,n.mediaSize,n.state.cropSize,n.props.zoom,n.props.rotation):n.props.crop;return GK(r,n.mediaSize,n.state.cropSize,n.getAspect(),n.props.zoom,n.props.rotation,n.props.restrictPosition)},n.emitCropData=function(){var r=n.getCropData();if(r){var i=r.croppedAreaPercentages,s=r.croppedAreaPixels;n.props.onCropComplete&&n.props.onCropComplete(i,s),n.props.onCropAreaChange&&n.props.onCropAreaChange(i,s)}},n.emitCropAreaChange=function(){var r=n.getCropData();if(r){var i=r.croppedAreaPercentages,s=r.croppedAreaPixels;n.props.onCropAreaChange&&n.props.onCropAreaChange(i,s)}},n.recomputeCropPosition=function(){if(n.state.cropSize){var r=n.props.restrictPosition?ol(n.props.crop,n.mediaSize,n.state.cropSize,n.props.zoom,n.props.rotation):n.props.crop;n.props.onCropChange(r),n.emitCropData()}},n.onKeyDown=function(r){var i,s,o=n.props,a=o.crop,l=o.onCropChange,c=o.keyboardStep,d=o.zoom,h=o.rotation,f=c;if(n.state.cropSize){r.shiftKey&&(f*=.2);var y=ot({},a);switch(r.key){case"ArrowUp":y.y-=f,r.preventDefault();break;case"ArrowDown":y.y+=f,r.preventDefault();break;case"ArrowLeft":y.x-=f,r.preventDefault();break;case"ArrowRight":y.x+=f,r.preventDefault();break;default:return}n.props.restrictPosition&&(y=ol(y,n.mediaSize,n.state.cropSize,d,h)),r.repeat||(s=(i=n.props).onInteractionStart)===null||s===void 0||s.call(i),l(y)}},n.onKeyUp=function(r){var i,s;switch(r.key){case"ArrowUp":case"ArrowDown":case"ArrowLeft":case"ArrowRight":r.preventDefault();break;default:return}n.emitCropData(),(s=(i=n.props).onInteractionEnd)===null||s===void 0||s.call(i)},n}return e.prototype.componentDidMount=function(){!this.currentDoc||!this.currentWindow||(this.containerRef&&(this.containerRef.ownerDocument&&(this.currentDoc=this.containerRef.ownerDocument),this.currentDoc.defaultView&&(this.currentWindow=this.currentDoc.defaultView),this.initResizeObserver(),typeof window.ResizeObserver>"u"&&this.currentWindow.addEventListener("resize",this.computeSizes),this.props.zoomWithScroll&&this.containerRef.addEventListener("wheel",this.onWheel,{passive:!1}),this.containerRef.addEventListener("gesturestart",this.onGestureStart)),this.currentDoc.addEventListener("scroll",this.onScroll),this.props.disableAutomaticStylesInjection||(this.styleRef=this.currentDoc.createElement("style"),this.styleRef.setAttribute("type","text/css"),this.props.nonce&&this.styleRef.setAttribute("nonce",this.props.nonce),this.styleRef.innerHTML=eY,this.currentDoc.head.appendChild(this.styleRef)),this.imageRef.current&&this.imageRef.current.complete&&this.onMediaLoad(),this.props.setImageRef&&this.props.setImageRef(this.imageRef),this.props.setVideoRef&&this.props.setVideoRef(this.videoRef),this.props.setCropperRef&&this.props.setCropperRef(this.cropperRef))},e.prototype.componentWillUnmount=function(){var n,r;!this.currentDoc||!this.currentWindow||(typeof window.ResizeObserver>"u"&&this.currentWindow.removeEventListener("resize",this.computeSizes),(n=this.resizeObserver)===null||n===void 0||n.disconnect(),this.containerRef&&this.containerRef.removeEventListener("gesturestart",this.preventZoomSafari),this.styleRef&&((r=this.styleRef.parentNode)===null||r===void 0||r.removeChild(this.styleRef)),this.cleanEvents(),this.props.zoomWithScroll&&this.clearScrollEvent())},e.prototype.componentDidUpdate=function(n){var r,i,s,o,a,l,c,d,h;n.rotation!==this.props.rotation?(this.computeSizes(),this.recomputeCropPosition()):n.aspect!==this.props.aspect?this.computeSizes():n.objectFit!==this.props.objectFit?this.computeSizes():n.zoom!==this.props.zoom?this.recomputeCropPosition():((r=n.cropSize)===null||r===void 0?void 0:r.height)!==((i=this.props.cropSize)===null||i===void 0?void 0:i.height)||((s=n.cropSize)===null||s===void 0?void 0:s.width)!==((o=this.props.cropSize)===null||o===void 0?void 0:o.width)?this.computeSizes():(((a=n.crop)===null||a===void 0?void 0:a.x)!==((l=this.props.crop)===null||l===void 0?void 0:l.x)||((c=n.crop)===null||c===void 0?void 0:c.y)!==((d=this.props.crop)===null||d===void 0?void 0:d.y))&&this.emitCropAreaChange(),n.zoomWithScroll!==this.props.zoomWithScroll&&this.containerRef&&(this.props.zoomWithScroll?this.containerRef.addEventListener("wheel",this.onWheel,{passive:!1}):this.clearScrollEvent()),n.video!==this.props.video&&((h=this.videoRef.current)===null||h===void 0||h.load());var f=this.getObjectFit();f!==this.state.mediaObjectFit&&this.setState({mediaObjectFit:f},this.computeSizes)},e.prototype.getAspect=function(){var n=this.props,r=n.cropSize,i=n.aspect;return r?r.width/r.height:i},e.prototype.getObjectFit=function(){var n,r,i,s;if(this.props.objectFit==="cover"){var o=this.imageRef.current||this.videoRef.current;if(o&&this.containerRef){this.containerRect=this.containerRef.getBoundingClientRect();var a=this.containerRect.width/this.containerRect.height,l=((n=this.imageRef.current)===null||n===void 0?void 0:n.naturalWidth)||((r=this.videoRef.current)===null||r===void 0?void 0:r.videoWidth)||0,c=((i=this.imageRef.current)===null||i===void 0?void 0:i.naturalHeight)||((s=this.videoRef.current)===null||s===void 0?void 0:s.videoHeight)||0,d=l/c;return d<a?"horizontal-cover":"vertical-cover"}return"horizontal-cover"}return this.props.objectFit},e.prototype.onPinchStart=function(n){var r=e.getTouchPoint(n.touches[0]),i=e.getTouchPoint(n.touches[1]);this.lastPinchDistance=BS(r,i),this.lastPinchRotation=zS(r,i),this.onDragStart(WS(r,i))},e.prototype.onPinchMove=function(n){var r=this;if(!(!this.currentDoc||!this.currentWindow)){var i=e.getTouchPoint(n.touches[0]),s=e.getTouchPoint(n.touches[1]),o=WS(i,s);this.onDrag(o),this.rafPinchTimeout&&this.currentWindow.cancelAnimationFrame(this.rafPinchTimeout),this.rafPinchTimeout=this.currentWindow.requestAnimationFrame(function(){var a=BS(i,s),l=r.props.zoom*(a/r.lastPinchDistance);r.setNewZoom(l,o,{shouldUpdatePosition:!1}),r.lastPinchDistance=a;var c=zS(i,s),d=r.props.rotation+(c-r.lastPinchRotation);r.props.onRotationChange&&r.props.onRotationChange(d),r.lastPinchRotation=c})}},e.prototype.render=function(){var n=this,r,i=this.props,s=i.image,o=i.video,a=i.mediaProps,l=i.cropperProps,c=i.transform,d=i.crop,h=d.x,f=d.y,y=i.rotation,_=i.zoom,S=i.cropShape,P=i.showGrid,w=i.style,C=w.containerStyle,E=w.cropAreaStyle,A=w.mediaStyle,D=i.classes,M=D.containerClassName,b=D.cropAreaClassName,x=D.mediaClassName,I=(r=this.state.mediaObjectFit)!==null&&r!==void 0?r:this.getObjectFit();return T.createElement("div",{onMouseDown:this.onMouseDown,onTouchStart:this.onTouchStart,ref:function(R){return n.containerRef=R},"data-testid":"container",style:C,className:Qu("reactEasyCrop_Container",M)},s?T.createElement("img",ot({alt:"",className:Qu("reactEasyCrop_Image",I==="contain"&&"reactEasyCrop_Contain",I==="horizontal-cover"&&"reactEasyCrop_Cover_Horizontal",I==="vertical-cover"&&"reactEasyCrop_Cover_Vertical",x)},a,{src:s,ref:this.imageRef,style:ot(ot({},A),{transform:c||"translate(".concat(h,"px, ").concat(f,"px) rotate(").concat(y,"deg) scale(").concat(_,")")}),onLoad:this.onMediaLoad})):o&&T.createElement("video",ot({autoPlay:!0,playsInline:!0,loop:!0,muted:!0,className:Qu("reactEasyCrop_Video",I==="contain"&&"reactEasyCrop_Contain",I==="horizontal-cover"&&"reactEasyCrop_Cover_Horizontal",I==="vertical-cover"&&"reactEasyCrop_Cover_Vertical",x)},a,{ref:this.videoRef,onLoadedMetadata:this.onMediaLoad,style:ot(ot({},A),{transform:c||"translate(".concat(h,"px, ").concat(f,"px) rotate(").concat(y,"deg) scale(").concat(_,")")}),controls:!1}),(Array.isArray(o)?o:[{src:o}]).map(function(g){return T.createElement("source",ot({key:g.src},g))})),this.state.cropSize&&T.createElement("div",ot({ref:this.cropperRef,style:ot(ot({},E),{width:this.state.cropSize.width,height:this.state.cropSize.height}),tabIndex:0,onKeyDown:this.onKeyDown,onKeyUp:this.onKeyUp,"data-testid":"cropper",className:Qu("reactEasyCrop_CropArea",S==="round"&&"reactEasyCrop_CropAreaRound",P&&"reactEasyCrop_CropAreaGrid",b)},l)))},e.defaultProps={zoom:1,rotation:0,aspect:4/3,maxZoom:nY,minZoom:tY,cropShape:"rect",objectFit:"contain",showGrid:!0,style:{},classes:{},mediaProps:{},cropperProps:{},zoomSpeed:1,restrictPosition:!0,zoomWithScroll:!0,keyboardStep:rY},e.getMousePoint=function(n){return{x:Number(n.clientX),y:Number(n.clientY)}},e.getTouchPoint=function(n){return{x:Number(n.clientX),y:Number(n.clientY)}},e}(T.Component);const sY=t=>new Promise((e,n)=>{const r=new Image;r.addEventListener("load",()=>e(r)),r.addEventListener("error",i=>n(i)),r.setAttribute("crossOrigin","anonymous"),r.src=t});async function oY(t,e){const n=await sY(t),r=document.createElement("canvas"),i=r.getContext("2d");return r.width=e.width,r.height=e.height,i.drawImage(n,e.x,e.y,e.width,e.height,0,0,e.width,e.height),r}function aY({open:t,onClose:e,usuario:n,onUploadSuccess:r}){const[i,s]=T.useState(null),[o,a]=T.useState({x:0,y:0}),[l,c]=T.useState(1),[d,h]=T.useState(null),[f,y]=T.useState(!1),_=T.useCallback((w,C)=>{h(C)},[]),S=w=>{if(w.target.files&&w.target.files.length>0){const C=w.target.files[0],E=new FileReader;E.onload=()=>{s(E.result)},E.readAsDataURL(C)}},P=async()=>{y(!0);const C=(await oY(i,d)).toDataURL("image/jpeg");localStorage.setItem(`fotoPerfil_${n.uid}`,C),r(C),y(!1),e()};return m.jsx(OR,{open:t,onClose:e,children:m.jsxs(MR,{className:"bg-white rounded-lg p-4 shadow-lg w-full max-w-md mx-auto mt-32 max-h-[90vh] overflow-hidden",children:[m.jsx("h2",{className:"text-lg font-bold mb-4 text-center",children:"Editar Foto de Perfil"}),i?m.jsx("div",{className:"relative w-full h-[300px] bg-black",children:m.jsx(iY,{image:i,crop:o,zoom:l,aspect:1,onCropChange:a,onZoomChange:c,onCropComplete:_})}):m.jsx("input",{type:"file",accept:"image/*",onChange:S}),m.jsxs("div",{className:"flex justify-end mt-4 gap-2",children:[m.jsx("button",{onClick:e,className:"px-4 py-2 bg-gray-300 rounded hover:bg-gray-400",children:"Cancelar"}),i&&m.jsx("button",{onClick:P,disabled:f,className:"px-4 py-2 bg-green-600 text-white rounded hover:bg-green-700",children:f?"Subiendo...":"Guardar"})]})]})})}function lY(){const{user:t}=qs(),[e,n]=T.useState(null),[r,i]=T.useState(!1),[s,o]=T.useState(""),[a,l]=T.useState(""),[c,d]=T.useState(!1),[h,f]=T.useState(!1),[y,_]=T.useState(!1),S=Cr(),P=(A,D)=>((A==null?void 0:A.charAt(0).toUpperCase())||"")+((D==null?void 0:D.charAt(0).toUpperCase())||"");T.useEffect(()=>{if(t){const A=ae(ie,`usuarios/${t.uid}`);In(A).then(async D=>{const M=t.displayName||"",b=M.split(" ")[0]||"",x=M.split(" ")[1]||"",I=t.photoURL||null,R=localStorage.getItem(`fotoPerfil_${t.uid}`)||I||D.exists()&&D.val().foto||null,O={nombre:b,apellido:x,correo:t.email,rol:"usuario",iniciales:P(b,x),foto:R},N=!b||!x;if(d(N),i(N),o(b),l(x),!D.exists())await At(A,O),n(O);else{const U=D.val(),W={};U.nombre||(W.nombre=b),U.apellido||(W.apellido=x),!U.foto&&R&&(W.foto=R),Object.keys(W).length>0?(await bh(A,W),n({...U,...W,foto:R})):n({...U,foto:R}),o(U.nombre||b),l(U.apellido||x)}})}},[t]);const w=async()=>{if(!t)return;const A=ae(ie,`usuarios/${t.uid}`),D={nombre:s,apellido:a,iniciales:P(s,a)};await bh(A,D),i(!1),d(!1),alert("Datos actualizados correctamente")},C=async()=>{await NI(Ei),S("/login")},E=A=>{n(D=>({...D,foto:A}))};return e?m.jsxs("div",{className:"min-h-screen bg-cover bg-center text-white font-qatar",style:{backgroundImage:"url('/EmproChampions-2025/img/fondoempro-horizontal.png')"},children:[m.jsx(wr,{}),m.jsx("div",{className:"flex items-center justify-center px-4 py-10",children:m.jsxs("div",{className:"bg-white/90 rounded-2xl shadow-lg p-8 w-full max-w-md text-center text-black",children:[m.jsx("h1",{className:"text-3xl font-bold text-[#7a0026] mb-6",children:"Configuración de Cuenta"}),c&&m.jsx("div",{className:"mb-4 text-red-700 font-semibold",children:"Tu cuenta no tiene nombre ni foto. Por favor completa tu perfil 👇"}),m.jsxs("div",{className:"mb-4 relative w-24 h-24 mx-auto",children:[e.foto?m.jsx("img",{src:e.foto,alt:"Foto de perfil",className:"w-24 h-24 rounded-full object-cover"}):m.jsx("div",{className:"w-24 h-24 rounded-full bg-[#7a0026] text-white text-3xl flex items-center justify-center",children:P(s,a)||"U"}),m.jsx("button",{type:"button",onClick:()=>_(!0),className:"absolute bottom-0 right-0 bg-yellow-400 text-black rounded-full p-1 shadow-md hover:bg-yellow-500","aria-label":"Editar foto de perfil",children:"✏️"})]}),m.jsxs("div",{className:"space-y-4 text-left",children:[m.jsx("input",{type:"text",placeholder:"Nombre",value:s,onChange:A=>o(A.target.value),className:"w-full px-4 py-2 border border-[#7a0026] rounded-md",disabled:!r}),m.jsx("input",{type:"text",placeholder:"Apellido",value:a,onChange:A=>l(A.target.value),className:"w-full px-4 py-2 border border-[#7a0026] rounded-md",disabled:!r}),m.jsxs("p",{className:"text-gray-700 font-sans text-sm break-all",children:["Correo: ",e.correo]})]}),m.jsxs("div",{className:"mt-6",children:[r?m.jsx("button",{onClick:w,className:"w-full bg-[#FFD700] text-[#7a0026] font-bold py-2 rounded-md hover:bg-yellow-400 transition",children:"Guardar Cambios"}):m.jsx("button",{onClick:()=>i(!0),className:"w-full bg-blue-600 text-white font-bold py-2 rounded-md hover:bg-blue-700 transition",children:"Editar"}),m.jsx("button",{onClick:()=>f(!0),className:"mt-4 w-full bg-red-600 text-white font-bold py-2 rounded-md hover:bg-red-700 transition",children:"Cerrar sesión"})]})]})}),m.jsx(OR,{open:h,onClose:()=>f(!1),children:m.jsxs(MR,{sx:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:400,bgcolor:"background.paper",border:"2px solid #000",boxShadow:24,p:4,textAlign:"center"},children:[m.jsx("h2",{className:"text-xl font-bold mb-4 text-black",children:"¿Cerrar sesión?"}),m.jsxs("div",{className:"flex justify-center gap-4",children:[m.jsx("button",{className:"bg-gray-300 px-4 py-2 rounded hover:bg-gray-400",onClick:()=>f(!1),children:"Cancelar"}),m.jsx("button",{className:"bg-red-600 text-white px-4 py-2 rounded hover:bg-red-700",onClick:C,children:"Confirmar"})]})]})}),m.jsx(aY,{open:y,onClose:()=>_(!1),usuario:t,onUploadSuccess:E}),m.jsx(xr,{})]}):m.jsx("div",{className:"text-white text-center mt-10",children:"Cargando..."})}function cY(){var f,y,_,S;const{partidoId:t}=fk(),e=Cr(),[n,r]=T.useState(null),[i,s]=T.useState([]),[o,a]=T.useState(!0),[l,c]=T.useState(!1);T.useEffect(()=>{if(!t){e("/");return}const P=ae(ie,`partidos/${t}`),w=Hr(P,C=>{var E;if(C.exists()){const A=C.val();r(A);const D=(E=A.eventos)!=null&&E.goles?Object.entries(A.eventos.goles).map(([M,b])=>({id:M,...b})):[];s(D)}else e("/historial");a(!1)});return()=>vc(P,"value",w)},[t,e]);const d=P=>{window.confirm("¿Estás seguro de que quieres eliminar este gol?")&&(s(w=>w.filter(C=>C.id!==P)),alert("Gol eliminado de la lista de edición. Recuerda guardar los cambios para que sea permanente."))},h=T.useCallback(async()=>{var P,w;if(!((P=n==null?void 0:n.alineacion)!=null&&P.equipo1)||!((w=n==null?void 0:n.alineacion)!=null&&w.equipo2)){alert("Error: Faltan datos de alineación en este partido. No se pueden recalcular las estadísticas."),c(!1);return}if(!l){c(!0),alert("Procesando... Esto puede tardar unos segundos. Por favor, espera.");try{const C=n.alineacion.genero,E=n.alineacion.equipo1,A=n.alineacion.equipo2,D=(await In(ae(ie,`historial/${C}/${t}`))).val();let b=(await In(ae(ie,`tablas/${C}`))).val()||{};if(D){const{equipo1:U,equipo2:W,goles1:G,goles2:q}=D,$=(K,X,_e,ne)=>{if(!b[K])return;let ee={...b[K]};ee.pj-=1,ee.gf-=X,ee.gc-=_e,ne==="victoria"?(ee.pg-=1,ee.puntos-=3):ne==="empate"?(ee.pe-=1,ee.puntos-=1):ee.pp-=1,b[K]=ee};G>q?($(U,G,q,"victoria"),$(W,q,G,"derrota")):q>G?($(U,G,q,"derrota"),$(W,q,G,"victoria")):($(U,G,q,"empate"),$(W,q,G,"empate"))}const x={equipo1:0,equipo2:0};i.forEach(U=>{U.equipo==="equipo1"&&x.equipo1++,U.equipo==="equipo2"&&x.equipo2++});const I=(U,W,G,q)=>{if(!(U!=null&&U.nombre))return;let $=b[U.nombre]||{pj:0,pg:0,pe:0,pp:0,gf:0,gc:0,puntos:0,logo:U.logo};$.pj=($.pj||0)+1,$.gf=($.gf||0)+W,$.gc=($.gc||0)+G,q==="victoria"?($.pg=($.pg||0)+1,$.puntos=($.puntos||0)+3):q==="empate"?($.pe=($.pe||0)+1,$.puntos=($.puntos||0)+1):$.pp=($.pp||0)+1,b[U.nombre]=$};x.equipo1>x.equipo2?(I(E,x.equipo1,x.equipo2,"victoria"),I(A,x.equipo2,x.equipo1,"derrota")):x.equipo2>x.equipo1?(I(E,x.equipo1,x.equipo2,"derrota"),I(A,x.equipo2,x.equipo1,"victoria")):(I(E,x.equipo1,x.equipo2,"empate"),I(A,x.equipo2,x.equipo1,"empate"));const g={},R=i.reduce((U,W)=>({...U,[W.id]:{equipo:W.equipo,jugador:W.jugador,minuto:W.minuto,tipo:W.tipo}}),{});g[`/partidos/${t}/eventos/goles`]=R,g[`/partidos/${t}/resultado/marcador`]=x,g[`/historial/${C}/${t}/goles1`]=x.equipo1,g[`/historial/${C}/${t}/goles2`]=x.equipo2,g[`/tablas/${C}`]=b;let N=(await In(ae(ie,`goleadoresDetalles/${C}`))).val()||{};Object.keys(N).forEach(U=>{N[U]=N[U].filter(W=>W.partidoId!==t),N[U].length===0&&delete N[U]}),i.forEach(U=>{const W=U.jugador.replace(/[.#$[\]]/g,"_");N[W]||(N[W]=[]),N[W].push({idDelGol:U.id,minuto:U.minuto,partidoId:t,partidoNombre:`${E.nombre} vs ${A.nombre}`,fecha:(D==null?void 0:D.fecha)||new Date().toLocaleDateString("es-HN"),equipo:U.equipo==="equipo1"?E.nombre:A.nombre,logo:U.equipo==="equipo1"?E.logo:A.logo,jugador:U.jugador})}),g[`/goleadoresDetalles/${C}`]=N,await bh(ae(ie),g),alert("¡Éxito! Todas las tablas han sido recalculadas y actualizadas."),e("/historial")}catch(C){console.error("Error al guardar los cambios:",C),alert(`Hubo un error al guardar: ${C.message}`)}finally{c(!1)}}},[n,i,t,e,l]);return o?m.jsx("div",{className:"w-full min-h-screen bg-main-background text-white flex justify-center items-center",children:"Cargando datos..."}):m.jsxs("div",{className:"w-full min-h-screen bg-main-background text-white font-qatar flex flex-col",children:[m.jsx(wr,{}),m.jsxs("div",{className:"container mx-auto px-4 py-8 flex-grow",children:[m.jsx("h1",{className:"text-4xl md:text-5xl font-bold text-center text-yellow-400 drop-shadow-lg mb-2",children:"Editar Partido"}),m.jsxs("p",{className:"text-center text-gray-300 mb-8",children:[((y=(f=n.alineacion)==null?void 0:f.equipo1)==null?void 0:y.nombre)||"Equipo 1"," vs ",((S=(_=n.alineacion)==null?void 0:_.equipo2)==null?void 0:S.nombre)||"Equipo 2"]}),m.jsxs("div",{className:"max-w-2xl mx-auto bg-black/50 p-6 rounded-xl",children:[m.jsx("h2",{className:"text-2xl font-bold mb-4 text-yellow-300",children:"Eventos del Partido"}),m.jsx("div",{className:"space-y-3",children:i.length>0?i.map(P=>m.jsxs("div",{className:"flex items-center justify-between bg-gray-800/50 p-3 rounded-lg",children:[m.jsxs("div",{children:[m.jsxs("p",{className:"font-bold",children:[P.jugador," (Gol)"]}),m.jsxs("p",{className:"text-sm opacity-70",children:["Minuto: ",P.minuto]})]}),m.jsx("button",{onClick:()=>d(P.id),className:"bg-red-600 hover:bg-red-500 text-white font-bold py-1 px-3 rounded text-sm",children:"Eliminar"})]},P.id)):m.jsx("p",{children:"No hay goles para editar."})}),m.jsxs("div",{className:"mt-8 pt-6 border-t border-yellow-400/20 flex justify-between items-center",children:[m.jsx("button",{onClick:()=>e("/historial"),className:"bg-gray-500 hover:bg-gray-400 text-white font-bold py-2 px-6 rounded",children:"Cancelar"}),m.jsx("button",{onClick:h,disabled:l,className:"bg-green-600 hover:bg-green-500 text-white font-bold py-2 px-6 rounded disabled:bg-gray-400",children:l?"Guardando...":"Guardar Cambios y Recalcular"})]})]})]}),m.jsx(xr,{})]})}function uY({open:t,onClose:e,letra:n,genero:r,asignacionActual:i}){const[s,o]=T.useState([]),[a,l]=T.useState(""),[c,d]=T.useState(!1);T.useEffect(()=>{if(t){const f=Oh.plantillas[r];f&&o(Object.keys(f)),l(i)}},[t,r,i]);const h=async()=>{if(!a){alert("Por favor, selecciona un equipo.");return}d(!0);const f=ae(ie,`calendario/${r}`);try{const y=await In(f);let _;y.exists()?_=y.val():_=Oh.calendario[r],_.asignaciones||(_.asignaciones={}),_.asignaciones[n]=a,await At(f,_),alert("Asignación guardada correctamente."),e()}catch(y){alert("Error al guardar: "+y.message),console.error("Error en handleSave:",y)}finally{d(!1)}};return t?m.jsx("div",{className:"fixed inset-0 bg-black/70 flex items-center justify-center z-50 p-4",children:m.jsxs("div",{className:"bg-gray-800 text-white rounded-xl w-full max-w-sm p-6",children:[m.jsxs("h2",{className:"text-2xl font-bold text-yellow-400 mb-4",children:['Asignar Equipo a la Letra "',n,'"']}),m.jsxs("select",{value:a,onChange:f=>l(f.target.value),className:"w-full p-3 bg-gray-700 rounded-lg text-white mb-6",children:[m.jsx("option",{value:"",children:"Selecciona un equipo"}),s.map(f=>m.jsx("option",{value:f,children:f},f))]}),m.jsxs("div",{className:"flex justify-between gap-4",children:[m.jsx("button",{onClick:e,className:"w-1/2 bg-gray-600 hover:bg-gray-500 font-bold py-2 rounded-lg transition",children:"Cancelar"}),m.jsx("button",{onClick:h,disabled:c,className:"w-1/2 bg-green-600 hover:bg-green-500 font-bold py-2 rounded-lg transition disabled:bg-gray-400",children:c?"Guardando...":"Guardar"})]})]})}):null}function dY({partido:t,asignaciones:e,plantillas:n}){const r=e[t.equipo1]||t.equipo1,i=e[t.equipo2]||t.equipo2,s=n[r]||{},o=n[i]||{},a=s.logo?`/EmproChampions-2025/img/escudos/${s.logo}`:"/EmproChampions-2025/img/logo-empro.png",l=o.logo?`/EmproChampions-2025/img/escudos/${o.logo}`:"/EmproChampions-2025/img/logo-empro.png";return m.jsxs("div",{className:"bg-black/50 rounded-xl p-4 flex flex-col items-center shadow-lg border border-white/10 h-full",children:[m.jsxs("div",{className:"text-center text-xs text-yellow-300 mb-3 font-semibold tracking-wider",children:[m.jsx("span",{children:t.fecha}),t.cancha&&m.jsx("span",{className:"mx-2 text-gray-500",children:"|"}),t.cancha&&m.jsxs("span",{children:["CANCHA ",t.cancha]}),t.nombre&&m.jsx("span",{className:"mx-2 text-gray-500",children:"|"}),t.nombre&&m.jsx("span",{className:"text-red-400 font-bold",children:t.nombre.toUpperCase()})]}),m.jsxs("div",{className:"flex justify-between items-center w-full px-2",children:[m.jsxs("div",{className:"flex flex-col items-center text-center w-2/5",children:[m.jsx("img",{src:a,alt:`Logo ${r}`,className:"h-14 w-14 md:h-16 md:w-16 object-contain mb-2"}),m.jsx("span",{className:"font-bold text-sm truncate w-full",children:r})]}),m.jsx("span",{className:"text-2xl font-bold text-gray-400",children:"VS"}),m.jsxs("div",{className:"flex flex-col items-center text-center w-2/5",children:[m.jsx("img",{src:l,alt:`Logo ${i}`,className:"h-14 w-14 md:h-16 md:w-16 object-contain mb-2"}),m.jsx("span",{className:"font-bold text-sm truncate w-full",children:i})]})]})]})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hY="type.googleapis.com/google.protobuf.Int64Value",fY="type.googleapis.com/google.protobuf.UInt64Value";function zR(t,e){const n={};for(const r in t)t.hasOwnProperty(r)&&(n[r]=e(t[r]));return n}function $h(t){if(t==null)return null;if(t instanceof Number&&(t=t.valueOf()),typeof t=="number"&&isFinite(t)||t===!0||t===!1||Object.prototype.toString.call(t)==="[object String]")return t;if(t instanceof Date)return t.toISOString();if(Array.isArray(t))return t.map(e=>$h(e));if(typeof t=="function"||typeof t=="object")return zR(t,e=>$h(e));throw new Error("Data cannot be encoded in JSON: "+t)}function da(t){if(t==null)return t;if(t["@type"])switch(t["@type"]){case hY:case fY:{const e=Number(t.value);if(isNaN(e))throw new Error("Data cannot be decoded from JSON: "+t);return e}default:throw new Error("Data cannot be decoded from JSON: "+t)}return Array.isArray(t)?t.map(e=>da(e)):typeof t=="function"||typeof t=="object"?zR(t,e=>da(e)):t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ew="functions";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HS={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class tn extends On{constructor(e,n,r){super(`${ew}/${e}`,n||""),this.details=r,Object.setPrototypeOf(this,tn.prototype)}}function pY(t){if(t>=200&&t<300)return"ok";switch(t){case 0:return"internal";case 400:return"invalid-argument";case 401:return"unauthenticated";case 403:return"permission-denied";case 404:return"not-found";case 409:return"aborted";case 429:return"resource-exhausted";case 499:return"cancelled";case 500:return"internal";case 501:return"unimplemented";case 503:return"unavailable";case 504:return"deadline-exceeded"}return"unknown"}function Uh(t,e){let n=pY(t),r=n,i;try{const s=e&&e.error;if(s){const o=s.status;if(typeof o=="string"){if(!HS[o])return new tn("internal","internal");n=HS[o],r=o}const a=s.message;typeof a=="string"&&(r=a),i=s.details,i!==void 0&&(i=da(i))}}catch{}return n==="ok"?null:new tn(n,r,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mY{constructor(e,n,r,i){this.app=e,this.auth=null,this.messaging=null,this.appCheck=null,this.serverAppAppCheckToken=null,Rt(e)&&e.settings.appCheckToken&&(this.serverAppAppCheckToken=e.settings.appCheckToken),this.auth=n.getImmediate({optional:!0}),this.messaging=r.getImmediate({optional:!0}),this.auth||n.get().then(s=>this.auth=s,()=>{}),this.messaging||r.get().then(s=>this.messaging=s,()=>{}),this.appCheck||i==null||i.get().then(s=>this.appCheck=s,()=>{})}async getAuthToken(){if(this.auth)try{const e=await this.auth.getToken();return e==null?void 0:e.accessToken}catch{return}}async getMessagingToken(){if(!(!this.messaging||!("Notification"in self)||Notification.permission!=="granted"))try{return await this.messaging.getToken()}catch{return}}async getAppCheckToken(e){if(this.serverAppAppCheckToken)return this.serverAppAppCheckToken;if(this.appCheck){const n=e?await this.appCheck.getLimitedUseToken():await this.appCheck.getToken();return n.error?null:n.token}return null}async getContext(e){const n=await this.getAuthToken(),r=await this.getMessagingToken(),i=await this.getAppCheckToken(e);return{authToken:n,messagingToken:r,appCheckToken:i}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wy="us-central1",gY=/^data: (.*?)(?:\n|$)/;function yY(t){let e=null;return{promise:new Promise((n,r)=>{e=setTimeout(()=>{r(new tn("deadline-exceeded","deadline-exceeded"))},t)}),cancel:()=>{e&&clearTimeout(e)}}}class vY{constructor(e,n,r,i,s=Wy,o=(...a)=>fetch(...a)){this.app=e,this.fetchImpl=o,this.emulatorOrigin=null,this.contextProvider=new mY(e,n,r,i),this.cancelAllRequests=new Promise(a=>{this.deleteService=()=>Promise.resolve(a())});try{const a=new URL(s);this.customDomain=a.origin+(a.pathname==="/"?"":a.pathname),this.region=Wy}catch{this.customDomain=null,this.region=s}}_delete(){return this.deleteService()}_url(e){const n=this.app.options.projectId;return this.emulatorOrigin!==null?`${this.emulatorOrigin}/${n}/${this.region}/${e}`:this.customDomain!==null?`${this.customDomain}/${e}`:`https://${this.region}-${n}.cloudfunctions.net/${e}`}}function _Y(t,e,n){const r=Yi(e);t.emulatorOrigin=`http${r?"s":""}://${e}:${n}`,r&&(Fc(t.emulatorOrigin),Sr("Functions",!0))}function wY(t,e,n){const r=i=>EY(t,e,i,n||{});return r.stream=(i,s)=>SY(t,e,i,s),r}async function xY(t,e,n,r){n["Content-Type"]="application/json";let i;try{i=await r(t,{method:"POST",body:JSON.stringify(e),headers:n})}catch{return{status:0,json:null}}let s=null;try{s=await i.json()}catch{}return{status:i.status,json:s}}async function WR(t,e){const n={},r=await t.contextProvider.getContext(e.limitedUseAppCheckTokens);return r.authToken&&(n.Authorization="Bearer "+r.authToken),r.messagingToken&&(n["Firebase-Instance-ID-Token"]=r.messagingToken),r.appCheckToken!==null&&(n["X-Firebase-AppCheck"]=r.appCheckToken),n}function EY(t,e,n,r){const i=t._url(e);return CY(t,i,n,r)}async function CY(t,e,n,r){n=$h(n);const i={data:n},s=await WR(t,r),o=r.timeout||7e4,a=yY(o),l=await Promise.race([xY(e,i,s,t.fetchImpl),a.promise,t.cancelAllRequests]);if(a.cancel(),!l)throw new tn("cancelled","Firebase Functions instance was deleted.");const c=Uh(l.status,l.json);if(c)throw c;if(!l.json)throw new tn("internal","Response is not valid JSON object.");let d=l.json.data;if(typeof d>"u"&&(d=l.json.result),typeof d>"u")throw new tn("internal","Response is missing data field.");return{data:da(d)}}function SY(t,e,n,r){const i=t._url(e);return bY(t,i,n,r||{})}async function bY(t,e,n,r){var i;n=$h(n);const s={data:n},o=await WR(t,r);o["Content-Type"]="application/json",o.Accept="text/event-stream";let a;try{a=await t.fetchImpl(e,{method:"POST",body:JSON.stringify(s),headers:o,signal:r==null?void 0:r.signal})}catch(y){if(y instanceof Error&&y.name==="AbortError"){const S=new tn("cancelled","Request was cancelled.");return{data:Promise.reject(S),stream:{[Symbol.asyncIterator](){return{next(){return Promise.reject(S)}}}}}}const _=Uh(0,null);return{data:Promise.reject(_),stream:{[Symbol.asyncIterator](){return{next(){return Promise.reject(_)}}}}}}let l,c;const d=new Promise((y,_)=>{l=y,c=_});(i=r==null?void 0:r.signal)===null||i===void 0||i.addEventListener("abort",()=>{const y=new tn("cancelled","Request was cancelled.");c(y)});const h=a.body.getReader(),f=TY(h,l,c,r==null?void 0:r.signal);return{stream:{[Symbol.asyncIterator](){const y=f.getReader();return{async next(){const{value:_,done:S}=await y.read();return{value:_,done:S}},async return(){return await y.cancel(),{done:!0,value:void 0}}}}},data:d}}function TY(t,e,n,r){const i=(o,a)=>{const l=o.match(gY);if(!l)return;const c=l[1];try{const d=JSON.parse(c);if("result"in d){e(da(d.result));return}if("message"in d){a.enqueue(da(d.message));return}if("error"in d){const h=Uh(0,d);a.error(h),n(h);return}}catch(d){if(d instanceof tn){a.error(d),n(d);return}}},s=new TextDecoder;return new ReadableStream({start(o){let a="";return l();async function l(){if(r!=null&&r.aborted){const c=new tn("cancelled","Request was cancelled");return o.error(c),n(c),Promise.resolve()}try{const{value:c,done:d}=await t.read();if(d){a.trim()&&i(a.trim(),o),o.close();return}if(r!=null&&r.aborted){const f=new tn("cancelled","Request was cancelled");o.error(f),n(f),await t.cancel();return}a+=s.decode(c,{stream:!0});const h=a.split(`
`);a=h.pop()||"";for(const f of h)f.trim()&&i(f.trim(),o);return l()}catch(c){const d=c instanceof tn?c:Uh(0,null);o.error(d),n(d)}}},cancel(){return t.cancel()}})}const qS="@firebase/functions",GS="0.12.6";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kY="auth-internal",IY="app-check-internal",PY="messaging-internal";function AY(t){const e=(n,{instanceIdentifier:r})=>{const i=n.getProvider("app").getImmediate(),s=n.getProvider(kY),o=n.getProvider(PY),a=n.getProvider(IY);return new vY(i,s,o,a,r)};gn(new on(ew,e,"PUBLIC").setMultipleInstances(!0)),dt(qS,GS,t),dt(qS,GS,"esm2017")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RY(t=wa(),e=Wy){Sr("Functions",!1);const r=ii(Me(t),ew).getImmediate({identifier:e}),i=of("functions");return i&&NY(r,...i),r}function NY(t,e,n){_Y(Me(t),e,n)}function DY(t,e,n){return wY(Me(t),e,n)}AY();const OY=t=>t.startsWith("jornada")?`JORNADA ${t.replace("jornada","")}`:t.startsWith("semifinales")?"SEMIFINALES":t.startsWith("finales")?"FINALES":t.toUpperCase();function MY(){const{user:t,rol:e}=qs(),[n,r]=T.useState("masculino"),[i,s]=T.useState({calendario:null,equiposInfo:{}}),[o,a]=T.useState(!1),[l,c]=T.useState({letra:"",asignacionActual:""}),[d,h]=T.useState(!1);T.useEffect(()=>{const S=ae(ie,`calendario/${n}`),P=ae(ie,`tablas/${n}`),w=Hr(S,E=>{s(A=>({...A,calendario:E.exists()?E.val():null}))}),C=Hr(P,E=>{s(A=>({...A,equiposInfo:E.exists()?E.val():{}}))});return()=>{vc(S,"value",w),vc(P,"value",C)}},[n]);const f=async()=>{if(window.confirm(`¿Estás seguro de generar las semifinales para la categoría ${n}? Esta acción se basará en la tabla de posiciones actual.`)){h(!0);try{const S=RY(),w=await DY(S,"generarFasesFinales")({genero:n});alert(`¡Éxito! Semifinales generadas:
${w.data.enfrentamientos.join(`
`)}`)}catch(S){console.error("Error al llamar a la función:",S),alert(`Error al generar fases: ${S.message}`)}finally{h(!1)}}},y=i.calendario||Oh.calendario[n],_=Oh.plantillas[n]||{};return i.equiposInfo,m.jsxs("div",{className:"w-full min-h-screen bg-main-background text-white font-qatar flex flex-col",children:[m.jsx(wr,{}),m.jsxs("div",{className:"container mx-auto px-4 py-8 flex-grow",children:[m.jsx("h1",{className:"text-4xl md:text-5xl font-bold text-center text-yellow-400 drop-shadow-lg mb-6",children:"Calendario de Partidos"}),y?m.jsx("div",{className:"max-w-4xl mx-auto",children:m.jsx("div",{className:"space-y-8",children:y.partidos&&Object.entries(y.partidos).map(([S,P])=>m.jsxs("div",{children:[m.jsxs("div",{className:"flex justify-between items-center mb-4 border-b-2 border-yellow-400/20 pb-2",children:[m.jsx("h2",{className:"text-2xl font-bold text-yellow-300",children:OY(S)}),S==="semifinales"&&(e==="admin"||e==="superadmin")&&m.jsx("button",{onClick:f,disabled:d,className:"bg-green-600 text-white font-bold px-3 py-1 rounded-lg text-sm hover:bg-green-500 disabled:bg-gray-500 disabled:cursor-not-allowed",children:d?"Calculando...":"Generar Semis"})]}),m.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:P.map((w,C)=>m.jsx(dY,{partido:w,asignaciones:y.asignaciones,plantillas:_},C))})]},S))})}):m.jsx("p",{className:"text-center",children:"Cargando..."})]}),m.jsx(xr,{}),m.jsx(uY,{open:o,onClose:()=>a(!1),letra:l.letra,genero:n,asignacionActual:l.asignacionActual,todasLasAsignaciones:y.asignaciones})]})}function lo({children:t}){const{user:e,loading:n}=qs();return n?m.jsx("div",{children:"Cargando aplicación..."}):e?t:m.jsx(Ig,{to:"/login",replace:!0})}function Zu({children:t}){const{user:e,rol:n,loading:r}=qs();return r?m.jsx("div",{children:"Cargando aplicación..."}):e?n!=="admin"&&n!=="superadmin"?m.jsx(Ig,{to:"/",replace:!0}):t:m.jsx(Ig,{to:"/login",replace:!0})}function LY(){const[t,e]=T.useState(!1),[n,r]=T.useState({title:"",body:""});return T.useEffect(()=>{(async()=>{try{if(await Notification.requestPermission()==="granted"){console.log("Notification permission granted.");const l=jg(Fs),c=await D5(l,{vapidKey:"BGq64U5eNzfqCtAtHTqnz9mh2oaeLpOZiJHMMama_1L9h_K1I9qScieLNbW8uHvEnRFlNVR2ZSBqAc61dtaW0Mc"});c?console.log("FCM Token:",c):console.log("No registration token available.")}else console.log("Unable to get permission to notify.")}catch(a){console.error("An error occurred while requesting permission or getting token. ",a)}})();const s=jg(Fs),o=O5(s,a=>{console.log("Message received. ",a),r({title:a.notification.title,body:a.notification.body}),e(!0)});return()=>{o()}},[]),m.jsx(nV,{children:m.jsxs(_4,{basename:"/EmproChampions-2025",children:[t&&m.jsx(_A,{title:n.title,body:n.body,image:n.image,onClose:()=>e(!1)}),m.jsxs(KM,{children:[m.jsx(Kt,{path:"/login",element:m.jsx(rV,{})}),m.jsx(Kt,{path:"/registro",element:m.jsx(iV,{})}),m.jsx(Kt,{path:"/",element:m.jsx(lo,{children:m.jsx(aV,{})})}),m.jsx(Kt,{path:"/partido/configurar",element:m.jsx(Zu,{children:m.jsx(KE,{})})}),m.jsx(Kt,{path:"/partido/alineacion",element:m.jsx(Zu,{children:m.jsx(pW,{})})}),m.jsx(Kt,{path:"/control-partido/:partidoId",element:m.jsx(Zu,{children:m.jsx(gV,{})})}),m.jsx(Kt,{path:"/match/:partidoId",element:m.jsx(lo,{children:m.jsx(KE,{modo:"ver"})})}),m.jsx(Kt,{path:"/goleadores",element:m.jsx(lo,{children:m.jsx(yV,{})})}),m.jsx(Kt,{path:"/historial",element:m.jsx(lo,{children:m.jsx(_V,{})})}),m.jsx(Kt,{path:"/configuracion",element:m.jsx(lo,{children:m.jsx(lY,{})})}),m.jsx(Kt,{path:"/partido/editar/:partidoId",element:m.jsx(Zu,{children:m.jsx(cY,{})})}),m.jsx(Kt,{path:"*",element:m.jsx("div",{children:"Página no encontrada"})}),m.jsx(Kt,{path:"/calendario",element:m.jsx(lo,{children:m.jsx(MY,{})})})]})]})})}const rs=sessionStorage.getItem("redirect");sessionStorage.removeItem("redirect");if(rs&&rs!==window.location.pathname.replace("/EmproChampions-2025","")){let t=rs;const e="/EmproChampions-2025";rs.startsWith(e)?(t=rs.substring(e.length),t.startsWith("/")||(t="/"+t)):rs.startsWith("/")||(t="/"+rs),t!==window.location.pathname.replace(e,"")&&(window.history.replaceState(null,null,e+(t==="/"?"":t)),console.log("Redirecting to:",e+(t==="/"?"":t)))}Om.createRoot(document.getElementById("root")).render(m.jsx(hs.StrictMode,{children:m.jsx(LY,{})}));if("serviceWorker"in navigator){const t="/EmproChampions-2025/firebase-messaging-sw.js";navigator.serviceWorker.register(t,{scope:"/EmproChampions-2025/"}).then(e=>{console.log("Service Worker registrado:",e,"con ruta:",t,"y scope:",e.scope)}).catch(e=>{console.error("Fallo el registro del Service Worker:",e,"con ruta:",t)})}
