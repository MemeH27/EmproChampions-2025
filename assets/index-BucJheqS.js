function s5(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const o=Object.getOwnPropertyDescriptor(r,i);o&&Object.defineProperty(t,i,o.get?o:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const l of o.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();function jp(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var oy={exports:{}},au={},ay={exports:{}},Me={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hb;function o5(){if(hb)return Me;hb=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),o=Symbol.for("react.provider"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),g=Symbol.iterator;function y(q){return q===null||typeof q!="object"?null:(q=g&&q[g]||q["@@iterator"],typeof q=="function"?q:null)}var C={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},S=Object.assign,k={};function P(q,ee,Q){this.props=q,this.context=ee,this.refs=k,this.updater=Q||C}P.prototype.isReactComponent={},P.prototype.setState=function(q,ee){if(typeof q!="object"&&typeof q!="function"&&q!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,q,ee,"setState")},P.prototype.forceUpdate=function(q){this.updater.enqueueForceUpdate(this,q,"forceUpdate")};function N(){}N.prototype=P.prototype;function M(q,ee,Q){this.props=q,this.context=ee,this.refs=k,this.updater=Q||C}var O=M.prototype=new N;O.constructor=M,S(O,P.prototype),O.isPureReactComponent=!0;var U=Array.isArray,B=Object.prototype.hasOwnProperty,H={current:null},D={key:!0,ref:!0,__self:!0,__source:!0};function I(q,ee,Q){var de,ve={},Ee=null,Se=null;if(ee!=null)for(de in ee.ref!==void 0&&(Se=ee.ref),ee.key!==void 0&&(Ee=""+ee.key),ee)B.call(ee,de)&&!D.hasOwnProperty(de)&&(ve[de]=ee[de]);var Te=arguments.length-2;if(Te===1)ve.children=Q;else if(1<Te){for(var _e=Array(Te),Be=0;Be<Te;Be++)_e[Be]=arguments[Be+2];ve.children=_e}if(q&&q.defaultProps)for(de in Te=q.defaultProps,Te)ve[de]===void 0&&(ve[de]=Te[de]);return{$$typeof:t,type:q,key:Ee,ref:Se,props:ve,_owner:H.current}}function A(q,ee){return{$$typeof:t,type:q.type,key:ee,ref:q.ref,props:q.props,_owner:q._owner}}function E(q){return typeof q=="object"&&q!==null&&q.$$typeof===t}function L(q){var ee={"=":"=0",":":"=2"};return"$"+q.replace(/[=:]/g,function(Q){return ee[Q]})}var $=/\/+/g;function F(q,ee){return typeof q=="object"&&q!==null&&q.key!=null?L(""+q.key):ee.toString(36)}function re(q,ee,Q,de,ve){var Ee=typeof q;(Ee==="undefined"||Ee==="boolean")&&(q=null);var Se=!1;if(q===null)Se=!0;else switch(Ee){case"string":case"number":Se=!0;break;case"object":switch(q.$$typeof){case t:case e:Se=!0}}if(Se)return Se=q,ve=ve(Se),q=de===""?"."+F(Se,0):de,U(ve)?(Q="",q!=null&&(Q=q.replace($,"$&/")+"/"),re(ve,ee,Q,"",function(Be){return Be})):ve!=null&&(E(ve)&&(ve=A(ve,Q+(!ve.key||Se&&Se.key===ve.key?"":(""+ve.key).replace($,"$&/")+"/")+q)),ee.push(ve)),1;if(Se=0,de=de===""?".":de+":",U(q))for(var Te=0;Te<q.length;Te++){Ee=q[Te];var _e=de+F(Ee,Te);Se+=re(Ee,ee,Q,_e,ve)}else if(_e=y(q),typeof _e=="function")for(q=_e.call(q),Te=0;!(Ee=q.next()).done;)Ee=Ee.value,_e=de+F(Ee,Te++),Se+=re(Ee,ee,Q,_e,ve);else if(Ee==="object")throw ee=String(q),Error("Objects are not valid as a React child (found: "+(ee==="[object Object]"?"object with keys {"+Object.keys(q).join(", ")+"}":ee)+"). If you meant to render a collection of children, use an array instead.");return Se}function he(q,ee,Q){if(q==null)return q;var de=[],ve=0;return re(q,de,"","",function(Ee){return ee.call(Q,Ee,ve++)}),de}function me(q){if(q._status===-1){var ee=q._result;ee=ee(),ee.then(function(Q){(q._status===0||q._status===-1)&&(q._status=1,q._result=Q)},function(Q){(q._status===0||q._status===-1)&&(q._status=2,q._result=Q)}),q._status===-1&&(q._status=0,q._result=ee)}if(q._status===1)return q._result.default;throw q._result}var fe={current:null},te={transition:null},ue={ReactCurrentDispatcher:fe,ReactCurrentBatchConfig:te,ReactCurrentOwner:H};function ae(){throw Error("act(...) is not supported in production builds of React.")}return Me.Children={map:he,forEach:function(q,ee,Q){he(q,function(){ee.apply(this,arguments)},Q)},count:function(q){var ee=0;return he(q,function(){ee++}),ee},toArray:function(q){return he(q,function(ee){return ee})||[]},only:function(q){if(!E(q))throw Error("React.Children.only expected to receive a single React element child.");return q}},Me.Component=P,Me.Fragment=n,Me.Profiler=i,Me.PureComponent=M,Me.StrictMode=r,Me.Suspense=d,Me.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ue,Me.act=ae,Me.cloneElement=function(q,ee,Q){if(q==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+q+".");var de=S({},q.props),ve=q.key,Ee=q.ref,Se=q._owner;if(ee!=null){if(ee.ref!==void 0&&(Ee=ee.ref,Se=H.current),ee.key!==void 0&&(ve=""+ee.key),q.type&&q.type.defaultProps)var Te=q.type.defaultProps;for(_e in ee)B.call(ee,_e)&&!D.hasOwnProperty(_e)&&(de[_e]=ee[_e]===void 0&&Te!==void 0?Te[_e]:ee[_e])}var _e=arguments.length-2;if(_e===1)de.children=Q;else if(1<_e){Te=Array(_e);for(var Be=0;Be<_e;Be++)Te[Be]=arguments[Be+2];de.children=Te}return{$$typeof:t,type:q.type,key:ve,ref:Ee,props:de,_owner:Se}},Me.createContext=function(q){return q={$$typeof:l,_currentValue:q,_currentValue2:q,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},q.Provider={$$typeof:o,_context:q},q.Consumer=q},Me.createElement=I,Me.createFactory=function(q){var ee=I.bind(null,q);return ee.type=q,ee},Me.createRef=function(){return{current:null}},Me.forwardRef=function(q){return{$$typeof:c,render:q}},Me.isValidElement=E,Me.lazy=function(q){return{$$typeof:m,_payload:{_status:-1,_result:q},_init:me}},Me.memo=function(q,ee){return{$$typeof:f,type:q,compare:ee===void 0?null:ee}},Me.startTransition=function(q){var ee=te.transition;te.transition={};try{q()}finally{te.transition=ee}},Me.unstable_act=ae,Me.useCallback=function(q,ee){return fe.current.useCallback(q,ee)},Me.useContext=function(q){return fe.current.useContext(q)},Me.useDebugValue=function(){},Me.useDeferredValue=function(q){return fe.current.useDeferredValue(q)},Me.useEffect=function(q,ee){return fe.current.useEffect(q,ee)},Me.useId=function(){return fe.current.useId()},Me.useImperativeHandle=function(q,ee,Q){return fe.current.useImperativeHandle(q,ee,Q)},Me.useInsertionEffect=function(q,ee){return fe.current.useInsertionEffect(q,ee)},Me.useLayoutEffect=function(q,ee){return fe.current.useLayoutEffect(q,ee)},Me.useMemo=function(q,ee){return fe.current.useMemo(q,ee)},Me.useReducer=function(q,ee,Q){return fe.current.useReducer(q,ee,Q)},Me.useRef=function(q){return fe.current.useRef(q)},Me.useState=function(q){return fe.current.useState(q)},Me.useSyncExternalStore=function(q,ee,Q){return fe.current.useSyncExternalStore(q,ee,Q)},Me.useTransition=function(){return fe.current.useTransition()},Me.version="18.3.1",Me}var fb;function Fp(){return fb||(fb=1,ay.exports=o5()),ay.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var pb;function a5(){if(pb)return au;pb=1;var t=Fp(),e=Symbol.for("react.element"),n=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,i=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,o={key:!0,ref:!0,__self:!0,__source:!0};function l(c,d,f){var m,g={},y=null,C=null;f!==void 0&&(y=""+f),d.key!==void 0&&(y=""+d.key),d.ref!==void 0&&(C=d.ref);for(m in d)r.call(d,m)&&!o.hasOwnProperty(m)&&(g[m]=d[m]);if(c&&c.defaultProps)for(m in d=c.defaultProps,d)g[m]===void 0&&(g[m]=d[m]);return{$$typeof:e,type:c,key:y,ref:C,props:g,_owner:i.current}}return au.Fragment=n,au.jsx=l,au.jsxs=l,au}var mb;function l5(){return mb||(mb=1,oy.exports=a5()),oy.exports}var w=l5(),b=Fp();const ke=jp(b),Xf=s5({__proto__:null,default:ke},[b]);var pf={},ly={exports:{}},Dn={},cy={exports:{}},uy={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gb;function c5(){return gb||(gb=1,function(t){function e(te,ue){var ae=te.length;te.push(ue);e:for(;0<ae;){var q=ae-1>>>1,ee=te[q];if(0<i(ee,ue))te[q]=ue,te[ae]=ee,ae=q;else break e}}function n(te){return te.length===0?null:te[0]}function r(te){if(te.length===0)return null;var ue=te[0],ae=te.pop();if(ae!==ue){te[0]=ae;e:for(var q=0,ee=te.length,Q=ee>>>1;q<Q;){var de=2*(q+1)-1,ve=te[de],Ee=de+1,Se=te[Ee];if(0>i(ve,ae))Ee<ee&&0>i(Se,ve)?(te[q]=Se,te[Ee]=ae,q=Ee):(te[q]=ve,te[de]=ae,q=de);else if(Ee<ee&&0>i(Se,ae))te[q]=Se,te[Ee]=ae,q=Ee;else break e}}return ue}function i(te,ue){var ae=te.sortIndex-ue.sortIndex;return ae!==0?ae:te.id-ue.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var l=Date,c=l.now();t.unstable_now=function(){return l.now()-c}}var d=[],f=[],m=1,g=null,y=3,C=!1,S=!1,k=!1,P=typeof setTimeout=="function"?setTimeout:null,N=typeof clearTimeout=="function"?clearTimeout:null,M=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function O(te){for(var ue=n(f);ue!==null;){if(ue.callback===null)r(f);else if(ue.startTime<=te)r(f),ue.sortIndex=ue.expirationTime,e(d,ue);else break;ue=n(f)}}function U(te){if(k=!1,O(te),!S)if(n(d)!==null)S=!0,me(B);else{var ue=n(f);ue!==null&&fe(U,ue.startTime-te)}}function B(te,ue){S=!1,k&&(k=!1,N(I),I=-1),C=!0;var ae=y;try{for(O(ue),g=n(d);g!==null&&(!(g.expirationTime>ue)||te&&!L());){var q=g.callback;if(typeof q=="function"){g.callback=null,y=g.priorityLevel;var ee=q(g.expirationTime<=ue);ue=t.unstable_now(),typeof ee=="function"?g.callback=ee:g===n(d)&&r(d),O(ue)}else r(d);g=n(d)}if(g!==null)var Q=!0;else{var de=n(f);de!==null&&fe(U,de.startTime-ue),Q=!1}return Q}finally{g=null,y=ae,C=!1}}var H=!1,D=null,I=-1,A=5,E=-1;function L(){return!(t.unstable_now()-E<A)}function $(){if(D!==null){var te=t.unstable_now();E=te;var ue=!0;try{ue=D(!0,te)}finally{ue?F():(H=!1,D=null)}}else H=!1}var F;if(typeof M=="function")F=function(){M($)};else if(typeof MessageChannel<"u"){var re=new MessageChannel,he=re.port2;re.port1.onmessage=$,F=function(){he.postMessage(null)}}else F=function(){P($,0)};function me(te){D=te,H||(H=!0,F())}function fe(te,ue){I=P(function(){te(t.unstable_now())},ue)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(te){te.callback=null},t.unstable_continueExecution=function(){S||C||(S=!0,me(B))},t.unstable_forceFrameRate=function(te){0>te||125<te?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<te?Math.floor(1e3/te):5},t.unstable_getCurrentPriorityLevel=function(){return y},t.unstable_getFirstCallbackNode=function(){return n(d)},t.unstable_next=function(te){switch(y){case 1:case 2:case 3:var ue=3;break;default:ue=y}var ae=y;y=ue;try{return te()}finally{y=ae}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(te,ue){switch(te){case 1:case 2:case 3:case 4:case 5:break;default:te=3}var ae=y;y=te;try{return ue()}finally{y=ae}},t.unstable_scheduleCallback=function(te,ue,ae){var q=t.unstable_now();switch(typeof ae=="object"&&ae!==null?(ae=ae.delay,ae=typeof ae=="number"&&0<ae?q+ae:q):ae=q,te){case 1:var ee=-1;break;case 2:ee=250;break;case 5:ee=1073741823;break;case 4:ee=1e4;break;default:ee=5e3}return ee=ae+ee,te={id:m++,callback:ue,priorityLevel:te,startTime:ae,expirationTime:ee,sortIndex:-1},ae>q?(te.sortIndex=ae,e(f,te),n(d)===null&&te===n(f)&&(k?(N(I),I=-1):k=!0,fe(U,ae-q))):(te.sortIndex=ee,e(d,te),S||C||(S=!0,me(B))),te},t.unstable_shouldYield=L,t.unstable_wrapCallback=function(te){var ue=y;return function(){var ae=y;y=ue;try{return te.apply(this,arguments)}finally{y=ae}}}}(uy)),uy}var yb;function u5(){return yb||(yb=1,cy.exports=c5()),cy.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vb;function d5(){if(vb)return Dn;vb=1;var t=Fp(),e=u5();function n(s){for(var a="https://reactjs.org/docs/error-decoder.html?invariant="+s,u=1;u<arguments.length;u++)a+="&args[]="+encodeURIComponent(arguments[u]);return"Minified React error #"+s+"; visit "+a+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,i={};function o(s,a){l(s,a),l(s+"Capture",a)}function l(s,a){for(i[s]=a,s=0;s<a.length;s++)r.add(a[s])}var c=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),d=Object.prototype.hasOwnProperty,f=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,m={},g={};function y(s){return d.call(g,s)?!0:d.call(m,s)?!1:f.test(s)?g[s]=!0:(m[s]=!0,!1)}function C(s,a,u,p){if(u!==null&&u.type===0)return!1;switch(typeof a){case"function":case"symbol":return!0;case"boolean":return p?!1:u!==null?!u.acceptsBooleans:(s=s.toLowerCase().slice(0,5),s!=="data-"&&s!=="aria-");default:return!1}}function S(s,a,u,p){if(a===null||typeof a>"u"||C(s,a,u,p))return!0;if(p)return!1;if(u!==null)switch(u.type){case 3:return!a;case 4:return a===!1;case 5:return isNaN(a);case 6:return isNaN(a)||1>a}return!1}function k(s,a,u,p,v,x,R){this.acceptsBooleans=a===2||a===3||a===4,this.attributeName=p,this.attributeNamespace=v,this.mustUseProperty=u,this.propertyName=s,this.type=a,this.sanitizeURL=x,this.removeEmptyString=R}var P={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(s){P[s]=new k(s,0,!1,s,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(s){var a=s[0];P[a]=new k(a,1,!1,s[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(s){P[s]=new k(s,2,!1,s.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(s){P[s]=new k(s,2,!1,s,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(s){P[s]=new k(s,3,!1,s.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(s){P[s]=new k(s,3,!0,s,null,!1,!1)}),["capture","download"].forEach(function(s){P[s]=new k(s,4,!1,s,null,!1,!1)}),["cols","rows","size","span"].forEach(function(s){P[s]=new k(s,6,!1,s,null,!1,!1)}),["rowSpan","start"].forEach(function(s){P[s]=new k(s,5,!1,s.toLowerCase(),null,!1,!1)});var N=/[\-:]([a-z])/g;function M(s){return s[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(s){var a=s.replace(N,M);P[a]=new k(a,1,!1,s,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(s){var a=s.replace(N,M);P[a]=new k(a,1,!1,s,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(s){var a=s.replace(N,M);P[a]=new k(a,1,!1,s,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(s){P[s]=new k(s,1,!1,s.toLowerCase(),null,!1,!1)}),P.xlinkHref=new k("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(s){P[s]=new k(s,1,!1,s.toLowerCase(),null,!0,!0)});function O(s,a,u,p){var v=P.hasOwnProperty(a)?P[a]:null;(v!==null?v.type!==0:p||!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(S(a,u,v,p)&&(u=null),p||v===null?y(a)&&(u===null?s.removeAttribute(a):s.setAttribute(a,""+u)):v.mustUseProperty?s[v.propertyName]=u===null?v.type===3?!1:"":u:(a=v.attributeName,p=v.attributeNamespace,u===null?s.removeAttribute(a):(v=v.type,u=v===3||v===4&&u===!0?"":""+u,p?s.setAttributeNS(p,a,u):s.setAttribute(a,u))))}var U=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,B=Symbol.for("react.element"),H=Symbol.for("react.portal"),D=Symbol.for("react.fragment"),I=Symbol.for("react.strict_mode"),A=Symbol.for("react.profiler"),E=Symbol.for("react.provider"),L=Symbol.for("react.context"),$=Symbol.for("react.forward_ref"),F=Symbol.for("react.suspense"),re=Symbol.for("react.suspense_list"),he=Symbol.for("react.memo"),me=Symbol.for("react.lazy"),fe=Symbol.for("react.offscreen"),te=Symbol.iterator;function ue(s){return s===null||typeof s!="object"?null:(s=te&&s[te]||s["@@iterator"],typeof s=="function"?s:null)}var ae=Object.assign,q;function ee(s){if(q===void 0)try{throw Error()}catch(u){var a=u.stack.trim().match(/\n( *(at )?)/);q=a&&a[1]||""}return`
`+q+s}var Q=!1;function de(s,a){if(!s||Q)return"";Q=!0;var u=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(a)if(a=function(){throw Error()},Object.defineProperty(a.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(a,[])}catch(X){var p=X}Reflect.construct(s,[],a)}else{try{a.call()}catch(X){p=X}s.call(a.prototype)}else{try{throw Error()}catch(X){p=X}s()}}catch(X){if(X&&p&&typeof X.stack=="string"){for(var v=X.stack.split(`
`),x=p.stack.split(`
`),R=v.length-1,V=x.length-1;1<=R&&0<=V&&v[R]!==x[V];)V--;for(;1<=R&&0<=V;R--,V--)if(v[R]!==x[V]){if(R!==1||V!==1)do if(R--,V--,0>V||v[R]!==x[V]){var z=`
`+v[R].replace(" at new "," at ");return s.displayName&&z.includes("<anonymous>")&&(z=z.replace("<anonymous>",s.displayName)),z}while(1<=R&&0<=V);break}}}finally{Q=!1,Error.prepareStackTrace=u}return(s=s?s.displayName||s.name:"")?ee(s):""}function ve(s){switch(s.tag){case 5:return ee(s.type);case 16:return ee("Lazy");case 13:return ee("Suspense");case 19:return ee("SuspenseList");case 0:case 2:case 15:return s=de(s.type,!1),s;case 11:return s=de(s.type.render,!1),s;case 1:return s=de(s.type,!0),s;default:return""}}function Ee(s){if(s==null)return null;if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case D:return"Fragment";case H:return"Portal";case A:return"Profiler";case I:return"StrictMode";case F:return"Suspense";case re:return"SuspenseList"}if(typeof s=="object")switch(s.$$typeof){case L:return(s.displayName||"Context")+".Consumer";case E:return(s._context.displayName||"Context")+".Provider";case $:var a=s.render;return s=s.displayName,s||(s=a.displayName||a.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case he:return a=s.displayName||null,a!==null?a:Ee(s.type)||"Memo";case me:a=s._payload,s=s._init;try{return Ee(s(a))}catch{}}return null}function Se(s){var a=s.type;switch(s.tag){case 24:return"Cache";case 9:return(a.displayName||"Context")+".Consumer";case 10:return(a._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return s=a.render,s=s.displayName||s.name||"",a.displayName||(s!==""?"ForwardRef("+s+")":"ForwardRef");case 7:return"Fragment";case 5:return a;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Ee(a);case 8:return a===I?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof a=="function")return a.displayName||a.name||null;if(typeof a=="string")return a}return null}function Te(s){switch(typeof s){case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function _e(s){var a=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(a==="checkbox"||a==="radio")}function Be(s){var a=_e(s)?"checked":"value",u=Object.getOwnPropertyDescriptor(s.constructor.prototype,a),p=""+s[a];if(!s.hasOwnProperty(a)&&typeof u<"u"&&typeof u.get=="function"&&typeof u.set=="function"){var v=u.get,x=u.set;return Object.defineProperty(s,a,{configurable:!0,get:function(){return v.call(this)},set:function(R){p=""+R,x.call(this,R)}}),Object.defineProperty(s,a,{enumerable:u.enumerable}),{getValue:function(){return p},setValue:function(R){p=""+R},stopTracking:function(){s._valueTracker=null,delete s[a]}}}}function De(s){s._valueTracker||(s._valueTracker=Be(s))}function At(s){if(!s)return!1;var a=s._valueTracker;if(!a)return!0;var u=a.getValue(),p="";return s&&(p=_e(s)?s.checked?"true":"false":s.value),s=p,s!==u?(a.setValue(s),!0):!1}function rr(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}function Ei(s,a){var u=a.checked;return ae({},a,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:u??s._wrapperState.initialChecked})}function Ca(s,a){var u=a.defaultValue==null?"":a.defaultValue,p=a.checked!=null?a.checked:a.defaultChecked;u=Te(a.value!=null?a.value:u),s._wrapperState={initialChecked:p,initialValue:u,controlled:a.type==="checkbox"||a.type==="radio"?a.checked!=null:a.value!=null}}function dc(s,a){a=a.checked,a!=null&&O(s,"checked",a,!1)}function hc(s,a){dc(s,a);var u=Te(a.value),p=a.type;if(u!=null)p==="number"?(u===0&&s.value===""||s.value!=u)&&(s.value=""+u):s.value!==""+u&&(s.value=""+u);else if(p==="submit"||p==="reset"){s.removeAttribute("value");return}a.hasOwnProperty("value")?Ta(s,a.type,u):a.hasOwnProperty("defaultValue")&&Ta(s,a.type,Te(a.defaultValue)),a.checked==null&&a.defaultChecked!=null&&(s.defaultChecked=!!a.defaultChecked)}function Zd(s,a,u){if(a.hasOwnProperty("value")||a.hasOwnProperty("defaultValue")){var p=a.type;if(!(p!=="submit"&&p!=="reset"||a.value!==void 0&&a.value!==null))return;a=""+s._wrapperState.initialValue,u||a===s.value||(s.value=a),s.defaultValue=a}u=s.name,u!==""&&(s.name=""),s.defaultChecked=!!s._wrapperState.initialChecked,u!==""&&(s.name=u)}function Ta(s,a,u){(a!=="number"||rr(s.ownerDocument)!==s)&&(u==null?s.defaultValue=""+s._wrapperState.initialValue:s.defaultValue!==""+u&&(s.defaultValue=""+u))}var Si=Array.isArray;function Ci(s,a,u,p){if(s=s.options,a){a={};for(var v=0;v<u.length;v++)a["$"+u[v]]=!0;for(u=0;u<s.length;u++)v=a.hasOwnProperty("$"+s[u].value),s[u].selected!==v&&(s[u].selected=v),v&&p&&(s[u].defaultSelected=!0)}else{for(u=""+Te(u),a=null,v=0;v<s.length;v++){if(s[v].value===u){s[v].selected=!0,p&&(s[v].defaultSelected=!0);return}a!==null||s[v].disabled||(a=s[v])}a!==null&&(a.selected=!0)}}function fc(s,a){if(a.dangerouslySetInnerHTML!=null)throw Error(n(91));return ae({},a,{value:void 0,defaultValue:void 0,children:""+s._wrapperState.initialValue})}function ka(s,a){var u=a.value;if(u==null){if(u=a.children,a=a.defaultValue,u!=null){if(a!=null)throw Error(n(92));if(Si(u)){if(1<u.length)throw Error(n(93));u=u[0]}a=u}a==null&&(a=""),u=a}s._wrapperState={initialValue:Te(u)}}function Ia(s,a){var u=Te(a.value),p=Te(a.defaultValue);u!=null&&(u=""+u,u!==s.value&&(s.value=u),a.defaultValue==null&&s.defaultValue!==u&&(s.defaultValue=u)),p!=null&&(s.defaultValue=""+p)}function pc(s){var a=s.textContent;a===s._wrapperState.initialValue&&a!==""&&a!==null&&(s.value=a)}function Dt(s){switch(s){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Mt(s,a){return s==null||s==="http://www.w3.org/1999/xhtml"?Dt(a):s==="http://www.w3.org/2000/svg"&&a==="foreignObject"?"http://www.w3.org/1999/xhtml":s}var Ti,mc=function(s){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(a,u,p,v){MSApp.execUnsafeLocalFunction(function(){return s(a,u,p,v)})}:s}(function(s,a){if(s.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in s)s.innerHTML=a;else{for(Ti=Ti||document.createElement("div"),Ti.innerHTML="<svg>"+a.valueOf().toString()+"</svg>",a=Ti.firstChild;s.firstChild;)s.removeChild(s.firstChild);for(;a.firstChild;)s.appendChild(a.firstChild)}});function ms(s,a){if(a){var u=s.firstChild;if(u&&u===s.lastChild&&u.nodeType===3){u.nodeValue=a;return}}s.textContent=a}var yo={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},vo=["Webkit","ms","Moz","O"];Object.keys(yo).forEach(function(s){vo.forEach(function(a){a=a+s.charAt(0).toUpperCase()+s.substring(1),yo[a]=yo[s]})});function gc(s,a,u){return a==null||typeof a=="boolean"||a===""?"":u||typeof a!="number"||a===0||yo.hasOwnProperty(s)&&yo[s]?(""+a).trim():a+"px"}function yc(s,a){s=s.style;for(var u in a)if(a.hasOwnProperty(u)){var p=u.indexOf("--")===0,v=gc(u,a[u],p);u==="float"&&(u="cssFloat"),p?s.setProperty(u,v):s[u]=v}}var vc=ae({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function wc(s,a){if(a){if(vc[s]&&(a.children!=null||a.dangerouslySetInnerHTML!=null))throw Error(n(137,s));if(a.dangerouslySetInnerHTML!=null){if(a.children!=null)throw Error(n(60));if(typeof a.dangerouslySetInnerHTML!="object"||!("__html"in a.dangerouslySetInnerHTML))throw Error(n(61))}if(a.style!=null&&typeof a.style!="object")throw Error(n(62))}}function _c(s,a){if(s.indexOf("-")===-1)return typeof a.is=="string";switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var wo=null;function Pa(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var xc=null,ir=null,Qr=null;function Ra(s){if(s=qc(s)){if(typeof xc!="function")throw Error(n(280));var a=s.stateNode;a&&(a=Ih(a),xc(s.stateNode,s.type,a))}}function ki(s){ir?Qr?Qr.push(s):Qr=[s]:ir=s}function bc(){if(ir){var s=ir,a=Qr;if(Qr=ir=null,Ra(s),a)for(s=0;s<a.length;s++)Ra(a[s])}}function Aa(s,a){return s(a)}function Ec(){}var Ii=!1;function Sc(s,a,u){if(Ii)return s(a,u);Ii=!0;try{return Aa(s,a,u)}finally{Ii=!1,(ir!==null||Qr!==null)&&(Ec(),bc())}}function Tt(s,a){var u=s.stateNode;if(u===null)return null;var p=Ih(u);if(p===null)return null;u=p[a];e:switch(a){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(p=!p.disabled)||(s=s.type,p=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!p;break e;default:s=!1}if(s)return null;if(u&&typeof u!="function")throw Error(n(231,a,typeof u));return u}var Na=!1;if(c)try{var Sr={};Object.defineProperty(Sr,"passive",{get:function(){Na=!0}}),window.addEventListener("test",Sr,Sr),window.removeEventListener("test",Sr,Sr)}catch{Na=!1}function _o(s,a,u,p,v,x,R,V,z){var X=Array.prototype.slice.call(arguments,3);try{a.apply(u,X)}catch(ie){this.onError(ie)}}var xo=!1,Oa=null,Cr=!1,Cc=null,Om={onError:function(s){xo=!0,Oa=s}};function Tc(s,a,u,p,v,x,R,V,z){xo=!1,Oa=null,_o.apply(Om,arguments)}function Dm(s,a,u,p,v,x,R,V,z){if(Tc.apply(this,arguments),xo){if(xo){var X=Oa;xo=!1,Oa=null}else throw Error(n(198));Cr||(Cr=!0,Cc=X)}}function Tr(s){var a=s,u=s;if(s.alternate)for(;a.return;)a=a.return;else{s=a;do a=s,(a.flags&4098)!==0&&(u=a.return),s=a.return;while(s)}return a.tag===3?u:null}function bo(s){if(s.tag===13){var a=s.memoizedState;if(a===null&&(s=s.alternate,s!==null&&(a=s.memoizedState)),a!==null)return a.dehydrated}return null}function kr(s){if(Tr(s)!==s)throw Error(n(188))}function eh(s){var a=s.alternate;if(!a){if(a=Tr(s),a===null)throw Error(n(188));return a!==s?null:s}for(var u=s,p=a;;){var v=u.return;if(v===null)break;var x=v.alternate;if(x===null){if(p=v.return,p!==null){u=p;continue}break}if(v.child===x.child){for(x=v.child;x;){if(x===u)return kr(v),s;if(x===p)return kr(v),a;x=x.sibling}throw Error(n(188))}if(u.return!==p.return)u=v,p=x;else{for(var R=!1,V=v.child;V;){if(V===u){R=!0,u=v,p=x;break}if(V===p){R=!0,p=v,u=x;break}V=V.sibling}if(!R){for(V=x.child;V;){if(V===u){R=!0,u=x,p=v;break}if(V===p){R=!0,p=x,u=v;break}V=V.sibling}if(!R)throw Error(n(189))}}if(u.alternate!==p)throw Error(n(190))}if(u.tag!==3)throw Error(n(188));return u.stateNode.current===u?s:a}function kc(s){return s=eh(s),s!==null?Da(s):null}function Da(s){if(s.tag===5||s.tag===6)return s;for(s=s.child;s!==null;){var a=Da(s);if(a!==null)return a;s=s.sibling}return null}var Ma=e.unstable_scheduleCallback,Ic=e.unstable_cancelCallback,th=e.unstable_shouldYield,Mm=e.unstable_requestPaint,nt=e.unstable_now,nh=e.unstable_getCurrentPriorityLevel,Eo=e.unstable_ImmediatePriority,gs=e.unstable_UserBlockingPriority,sr=e.unstable_NormalPriority,Pc=e.unstable_LowPriority,rh=e.unstable_IdlePriority,So=null,zn=null;function ih(s){if(zn&&typeof zn.onCommitFiberRoot=="function")try{zn.onCommitFiberRoot(So,s,void 0,(s.current.flags&128)===128)}catch{}}var yn=Math.clz32?Math.clz32:oh,Rc=Math.log,sh=Math.LN2;function oh(s){return s>>>=0,s===0?32:31-(Rc(s)/sh|0)|0}var La=64,ja=4194304;function ys(s){switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return s&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return s}}function Co(s,a){var u=s.pendingLanes;if(u===0)return 0;var p=0,v=s.suspendedLanes,x=s.pingedLanes,R=u&268435455;if(R!==0){var V=R&~v;V!==0?p=ys(V):(x&=R,x!==0&&(p=ys(x)))}else R=u&~v,R!==0?p=ys(R):x!==0&&(p=ys(x));if(p===0)return 0;if(a!==0&&a!==p&&(a&v)===0&&(v=p&-p,x=a&-a,v>=x||v===16&&(x&4194240)!==0))return a;if((p&4)!==0&&(p|=u&16),a=s.entangledLanes,a!==0)for(s=s.entanglements,a&=p;0<a;)u=31-yn(a),v=1<<u,p|=s[u],a&=~v;return p}function Lm(s,a){switch(s){case 1:case 2:case 4:return a+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Pi(s,a){for(var u=s.suspendedLanes,p=s.pingedLanes,v=s.expirationTimes,x=s.pendingLanes;0<x;){var R=31-yn(x),V=1<<R,z=v[R];z===-1?((V&u)===0||(V&p)!==0)&&(v[R]=Lm(V,a)):z<=a&&(s.expiredLanes|=V),x&=~V}}function Wn(s){return s=s.pendingLanes&-1073741825,s!==0?s:s&1073741824?1073741824:0}function To(){var s=La;return La<<=1,(La&4194240)===0&&(La=64),s}function vs(s){for(var a=[],u=0;31>u;u++)a.push(s);return a}function ws(s,a,u){s.pendingLanes|=a,a!==536870912&&(s.suspendedLanes=0,s.pingedLanes=0),s=s.eventTimes,a=31-yn(a),s[a]=u}function Qe(s,a){var u=s.pendingLanes&~a;s.pendingLanes=a,s.suspendedLanes=0,s.pingedLanes=0,s.expiredLanes&=a,s.mutableReadLanes&=a,s.entangledLanes&=a,a=s.entanglements;var p=s.eventTimes;for(s=s.expirationTimes;0<u;){var v=31-yn(u),x=1<<v;a[v]=0,p[v]=-1,s[v]=-1,u&=~x}}function _s(s,a){var u=s.entangledLanes|=a;for(s=s.entanglements;u;){var p=31-yn(u),v=1<<p;v&a|s[p]&a&&(s[p]|=a),u&=~v}}var $e=0;function xs(s){return s&=-s,1<s?4<s?(s&268435455)!==0?16:536870912:4:1}var ah,Fa,lh,ch,uh,Ac=!1,Zr=[],Xt=null,Ir=null,Pr=null,bs=new Map,or=new Map,ei=[],jm="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function dh(s,a){switch(s){case"focusin":case"focusout":Xt=null;break;case"dragenter":case"dragleave":Ir=null;break;case"mouseover":case"mouseout":Pr=null;break;case"pointerover":case"pointerout":bs.delete(a.pointerId);break;case"gotpointercapture":case"lostpointercapture":or.delete(a.pointerId)}}function Tn(s,a,u,p,v,x){return s===null||s.nativeEvent!==x?(s={blockedOn:a,domEventName:u,eventSystemFlags:p,nativeEvent:x,targetContainers:[v]},a!==null&&(a=qc(a),a!==null&&Fa(a)),s):(s.eventSystemFlags|=p,a=s.targetContainers,v!==null&&a.indexOf(v)===-1&&a.push(v),s)}function Fm(s,a,u,p,v){switch(a){case"focusin":return Xt=Tn(Xt,s,a,u,p,v),!0;case"dragenter":return Ir=Tn(Ir,s,a,u,p,v),!0;case"mouseover":return Pr=Tn(Pr,s,a,u,p,v),!0;case"pointerover":var x=v.pointerId;return bs.set(x,Tn(bs.get(x)||null,s,a,u,p,v)),!0;case"gotpointercapture":return x=v.pointerId,or.set(x,Tn(or.get(x)||null,s,a,u,p,v)),!0}return!1}function hh(s){var a=Ro(s.target);if(a!==null){var u=Tr(a);if(u!==null){if(a=u.tag,a===13){if(a=bo(u),a!==null){s.blockedOn=a,uh(s.priority,function(){lh(u)});return}}else if(a===3&&u.stateNode.current.memoizedState.isDehydrated){s.blockedOn=u.tag===3?u.stateNode.containerInfo:null;return}}}s.blockedOn=null}function Ri(s){if(s.blockedOn!==null)return!1;for(var a=s.targetContainers;0<a.length;){var u=$a(s.domEventName,s.eventSystemFlags,a[0],s.nativeEvent);if(u===null){u=s.nativeEvent;var p=new u.constructor(u.type,u);wo=p,u.target.dispatchEvent(p),wo=null}else return a=qc(u),a!==null&&Fa(a),s.blockedOn=u,!1;a.shift()}return!0}function ko(s,a,u){Ri(s)&&u.delete(a)}function fh(){Ac=!1,Xt!==null&&Ri(Xt)&&(Xt=null),Ir!==null&&Ri(Ir)&&(Ir=null),Pr!==null&&Ri(Pr)&&(Pr=null),bs.forEach(ko),or.forEach(ko)}function Rr(s,a){s.blockedOn===a&&(s.blockedOn=null,Ac||(Ac=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,fh)))}function Ar(s){function a(v){return Rr(v,s)}if(0<Zr.length){Rr(Zr[0],s);for(var u=1;u<Zr.length;u++){var p=Zr[u];p.blockedOn===s&&(p.blockedOn=null)}}for(Xt!==null&&Rr(Xt,s),Ir!==null&&Rr(Ir,s),Pr!==null&&Rr(Pr,s),bs.forEach(a),or.forEach(a),u=0;u<ei.length;u++)p=ei[u],p.blockedOn===s&&(p.blockedOn=null);for(;0<ei.length&&(u=ei[0],u.blockedOn===null);)hh(u),u.blockedOn===null&&ei.shift()}var Ai=U.ReactCurrentBatchConfig,Es=!0;function ft(s,a,u,p){var v=$e,x=Ai.transition;Ai.transition=null;try{$e=1,Nc(s,a,u,p)}finally{$e=v,Ai.transition=x}}function $m(s,a,u,p){var v=$e,x=Ai.transition;Ai.transition=null;try{$e=4,Nc(s,a,u,p)}finally{$e=v,Ai.transition=x}}function Nc(s,a,u,p){if(Es){var v=$a(s,a,u,p);if(v===null)Xm(s,a,p,Io,u),dh(s,p);else if(Fm(v,s,a,u,p))p.stopPropagation();else if(dh(s,p),a&4&&-1<jm.indexOf(s)){for(;v!==null;){var x=qc(v);if(x!==null&&ah(x),x=$a(s,a,u,p),x===null&&Xm(s,a,p,Io,u),x===v)break;v=x}v!==null&&p.stopPropagation()}else Xm(s,a,p,null,u)}}var Io=null;function $a(s,a,u,p){if(Io=null,s=Pa(p),s=Ro(s),s!==null)if(a=Tr(s),a===null)s=null;else if(u=a.tag,u===13){if(s=bo(a),s!==null)return s;s=null}else if(u===3){if(a.stateNode.current.memoizedState.isDehydrated)return a.tag===3?a.stateNode.containerInfo:null;s=null}else a!==s&&(s=null);return Io=s,null}function Oc(s){switch(s){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(nh()){case Eo:return 1;case gs:return 4;case sr:case Pc:return 16;case rh:return 536870912;default:return 16}default:return 16}}var Hn=null,Ua=null,kn=null;function Dc(){if(kn)return kn;var s,a=Ua,u=a.length,p,v="value"in Hn?Hn.value:Hn.textContent,x=v.length;for(s=0;s<u&&a[s]===v[s];s++);var R=u-s;for(p=1;p<=R&&a[u-p]===v[x-p];p++);return kn=v.slice(s,1<p?1-p:void 0)}function Va(s){var a=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&a===13&&(s=13)):s=a,s===10&&(s=13),32<=s||s===13?s:0}function ti(){return!0}function Mc(){return!1}function Jt(s){function a(u,p,v,x,R){this._reactName=u,this._targetInst=v,this.type=p,this.nativeEvent=x,this.target=R,this.currentTarget=null;for(var V in s)s.hasOwnProperty(V)&&(u=s[V],this[V]=u?u(x):x[V]);return this.isDefaultPrevented=(x.defaultPrevented!=null?x.defaultPrevented:x.returnValue===!1)?ti:Mc,this.isPropagationStopped=Mc,this}return ae(a.prototype,{preventDefault:function(){this.defaultPrevented=!0;var u=this.nativeEvent;u&&(u.preventDefault?u.preventDefault():typeof u.returnValue!="unknown"&&(u.returnValue=!1),this.isDefaultPrevented=ti)},stopPropagation:function(){var u=this.nativeEvent;u&&(u.stopPropagation?u.stopPropagation():typeof u.cancelBubble!="unknown"&&(u.cancelBubble=!0),this.isPropagationStopped=ti)},persist:function(){},isPersistent:ti}),a}var Nr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ba=Jt(Nr),ni=ae({},Nr,{view:0,detail:0}),Um=Jt(ni),za,Ni,Ss,Po=ae({},ni,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:h,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==Ss&&(Ss&&s.type==="mousemove"?(za=s.screenX-Ss.screenX,Ni=s.screenY-Ss.screenY):Ni=za=0,Ss=s),za)},movementY:function(s){return"movementY"in s?s.movementY:Ni}}),Wa=Jt(Po),Lc=ae({},Po,{dataTransfer:0}),ph=Jt(Lc),Ha=ae({},ni,{relatedTarget:0}),qa=Jt(Ha),mh=ae({},Nr,{animationName:0,elapsedTime:0,pseudoElement:0}),Oi=Jt(mh),gh=ae({},Nr,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),yh=Jt(gh),vh=ae({},Nr,{data:0}),jc=Jt(vh),In={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},wh={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},_h={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Cs(s){var a=this.nativeEvent;return a.getModifierState?a.getModifierState(s):(s=_h[s])?!!a[s]:!1}function h(){return Cs}var _=ae({},ni,{key:function(s){if(s.key){var a=In[s.key]||s.key;if(a!=="Unidentified")return a}return s.type==="keypress"?(s=Va(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?wh[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:h,charCode:function(s){return s.type==="keypress"?Va(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?Va(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),T=Jt(_),j=ae({},Po,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),G=Jt(j),J=ae({},ni,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:h}),ce=Jt(J),Ye=ae({},Nr,{propertyName:0,elapsedTime:0,pseudoElement:0}),Lt=Jt(Ye),Ue=ae({},Po,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),Vt=Jt(Ue),Bt=[9,13,27,32],ri=c&&"CompositionEvent"in window,Qt=null;c&&"documentMode"in document&&(Qt=document.documentMode);var Ga=c&&"TextEvent"in window&&!Qt,Ka=c&&(!ri||Qt&&8<Qt&&11>=Qt),s1=" ",o1=!1;function a1(s,a){switch(s){case"keyup":return Bt.indexOf(a.keyCode)!==-1;case"keydown":return a.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function l1(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var Ya=!1;function nN(s,a){switch(s){case"compositionend":return l1(a);case"keypress":return a.which!==32?null:(o1=!0,s1);case"textInput":return s=a.data,s===s1&&o1?null:s;default:return null}}function rN(s,a){if(Ya)return s==="compositionend"||!ri&&a1(s,a)?(s=Dc(),kn=Ua=Hn=null,Ya=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(a.ctrlKey||a.altKey||a.metaKey)||a.ctrlKey&&a.altKey){if(a.char&&1<a.char.length)return a.char;if(a.which)return String.fromCharCode(a.which)}return null;case"compositionend":return Ka&&a.locale!=="ko"?null:a.data;default:return null}}var iN={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function c1(s){var a=s&&s.nodeName&&s.nodeName.toLowerCase();return a==="input"?!!iN[s.type]:a==="textarea"}function u1(s,a,u,p){ki(p),a=Ch(a,"onChange"),0<a.length&&(u=new Ba("onChange","change",null,u,p),s.push({event:u,listeners:a}))}var Fc=null,$c=null;function sN(s){I1(s,0)}function xh(s){var a=el(s);if(At(a))return s}function oN(s,a){if(s==="change")return a}var d1=!1;if(c){var Vm;if(c){var Bm="oninput"in document;if(!Bm){var h1=document.createElement("div");h1.setAttribute("oninput","return;"),Bm=typeof h1.oninput=="function"}Vm=Bm}else Vm=!1;d1=Vm&&(!document.documentMode||9<document.documentMode)}function f1(){Fc&&(Fc.detachEvent("onpropertychange",p1),$c=Fc=null)}function p1(s){if(s.propertyName==="value"&&xh($c)){var a=[];u1(a,$c,s,Pa(s)),Sc(sN,a)}}function aN(s,a,u){s==="focusin"?(f1(),Fc=a,$c=u,Fc.attachEvent("onpropertychange",p1)):s==="focusout"&&f1()}function lN(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return xh($c)}function cN(s,a){if(s==="click")return xh(a)}function uN(s,a){if(s==="input"||s==="change")return xh(a)}function dN(s,a){return s===a&&(s!==0||1/s===1/a)||s!==s&&a!==a}var Or=typeof Object.is=="function"?Object.is:dN;function Uc(s,a){if(Or(s,a))return!0;if(typeof s!="object"||s===null||typeof a!="object"||a===null)return!1;var u=Object.keys(s),p=Object.keys(a);if(u.length!==p.length)return!1;for(p=0;p<u.length;p++){var v=u[p];if(!d.call(a,v)||!Or(s[v],a[v]))return!1}return!0}function m1(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function g1(s,a){var u=m1(s);s=0;for(var p;u;){if(u.nodeType===3){if(p=s+u.textContent.length,s<=a&&p>=a)return{node:u,offset:a-s};s=p}e:{for(;u;){if(u.nextSibling){u=u.nextSibling;break e}u=u.parentNode}u=void 0}u=m1(u)}}function y1(s,a){return s&&a?s===a?!0:s&&s.nodeType===3?!1:a&&a.nodeType===3?y1(s,a.parentNode):"contains"in s?s.contains(a):s.compareDocumentPosition?!!(s.compareDocumentPosition(a)&16):!1:!1}function v1(){for(var s=window,a=rr();a instanceof s.HTMLIFrameElement;){try{var u=typeof a.contentWindow.location.href=="string"}catch{u=!1}if(u)s=a.contentWindow;else break;a=rr(s.document)}return a}function zm(s){var a=s&&s.nodeName&&s.nodeName.toLowerCase();return a&&(a==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||a==="textarea"||s.contentEditable==="true")}function hN(s){var a=v1(),u=s.focusedElem,p=s.selectionRange;if(a!==u&&u&&u.ownerDocument&&y1(u.ownerDocument.documentElement,u)){if(p!==null&&zm(u)){if(a=p.start,s=p.end,s===void 0&&(s=a),"selectionStart"in u)u.selectionStart=a,u.selectionEnd=Math.min(s,u.value.length);else if(s=(a=u.ownerDocument||document)&&a.defaultView||window,s.getSelection){s=s.getSelection();var v=u.textContent.length,x=Math.min(p.start,v);p=p.end===void 0?x:Math.min(p.end,v),!s.extend&&x>p&&(v=p,p=x,x=v),v=g1(u,x);var R=g1(u,p);v&&R&&(s.rangeCount!==1||s.anchorNode!==v.node||s.anchorOffset!==v.offset||s.focusNode!==R.node||s.focusOffset!==R.offset)&&(a=a.createRange(),a.setStart(v.node,v.offset),s.removeAllRanges(),x>p?(s.addRange(a),s.extend(R.node,R.offset)):(a.setEnd(R.node,R.offset),s.addRange(a)))}}for(a=[],s=u;s=s.parentNode;)s.nodeType===1&&a.push({element:s,left:s.scrollLeft,top:s.scrollTop});for(typeof u.focus=="function"&&u.focus(),u=0;u<a.length;u++)s=a[u],s.element.scrollLeft=s.left,s.element.scrollTop=s.top}}var fN=c&&"documentMode"in document&&11>=document.documentMode,Xa=null,Wm=null,Vc=null,Hm=!1;function w1(s,a,u){var p=u.window===u?u.document:u.nodeType===9?u:u.ownerDocument;Hm||Xa==null||Xa!==rr(p)||(p=Xa,"selectionStart"in p&&zm(p)?p={start:p.selectionStart,end:p.selectionEnd}:(p=(p.ownerDocument&&p.ownerDocument.defaultView||window).getSelection(),p={anchorNode:p.anchorNode,anchorOffset:p.anchorOffset,focusNode:p.focusNode,focusOffset:p.focusOffset}),Vc&&Uc(Vc,p)||(Vc=p,p=Ch(Wm,"onSelect"),0<p.length&&(a=new Ba("onSelect","select",null,a,u),s.push({event:a,listeners:p}),a.target=Xa)))}function bh(s,a){var u={};return u[s.toLowerCase()]=a.toLowerCase(),u["Webkit"+s]="webkit"+a,u["Moz"+s]="moz"+a,u}var Ja={animationend:bh("Animation","AnimationEnd"),animationiteration:bh("Animation","AnimationIteration"),animationstart:bh("Animation","AnimationStart"),transitionend:bh("Transition","TransitionEnd")},qm={},_1={};c&&(_1=document.createElement("div").style,"AnimationEvent"in window||(delete Ja.animationend.animation,delete Ja.animationiteration.animation,delete Ja.animationstart.animation),"TransitionEvent"in window||delete Ja.transitionend.transition);function Eh(s){if(qm[s])return qm[s];if(!Ja[s])return s;var a=Ja[s],u;for(u in a)if(a.hasOwnProperty(u)&&u in _1)return qm[s]=a[u];return s}var x1=Eh("animationend"),b1=Eh("animationiteration"),E1=Eh("animationstart"),S1=Eh("transitionend"),C1=new Map,T1="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ts(s,a){C1.set(s,a),o(a,[s])}for(var Gm=0;Gm<T1.length;Gm++){var Km=T1[Gm],pN=Km.toLowerCase(),mN=Km[0].toUpperCase()+Km.slice(1);Ts(pN,"on"+mN)}Ts(x1,"onAnimationEnd"),Ts(b1,"onAnimationIteration"),Ts(E1,"onAnimationStart"),Ts("dblclick","onDoubleClick"),Ts("focusin","onFocus"),Ts("focusout","onBlur"),Ts(S1,"onTransitionEnd"),l("onMouseEnter",["mouseout","mouseover"]),l("onMouseLeave",["mouseout","mouseover"]),l("onPointerEnter",["pointerout","pointerover"]),l("onPointerLeave",["pointerout","pointerover"]),o("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),o("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),o("onBeforeInput",["compositionend","keypress","textInput","paste"]),o("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),o("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),o("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Bc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),gN=new Set("cancel close invalid load scroll toggle".split(" ").concat(Bc));function k1(s,a,u){var p=s.type||"unknown-event";s.currentTarget=u,Dm(p,a,void 0,s),s.currentTarget=null}function I1(s,a){a=(a&4)!==0;for(var u=0;u<s.length;u++){var p=s[u],v=p.event;p=p.listeners;e:{var x=void 0;if(a)for(var R=p.length-1;0<=R;R--){var V=p[R],z=V.instance,X=V.currentTarget;if(V=V.listener,z!==x&&v.isPropagationStopped())break e;k1(v,V,X),x=z}else for(R=0;R<p.length;R++){if(V=p[R],z=V.instance,X=V.currentTarget,V=V.listener,z!==x&&v.isPropagationStopped())break e;k1(v,V,X),x=z}}}if(Cr)throw s=Cc,Cr=!1,Cc=null,s}function ot(s,a){var u=a[ng];u===void 0&&(u=a[ng]=new Set);var p=s+"__bubble";u.has(p)||(P1(a,s,2,!1),u.add(p))}function Ym(s,a,u){var p=0;a&&(p|=4),P1(u,s,p,a)}var Sh="_reactListening"+Math.random().toString(36).slice(2);function zc(s){if(!s[Sh]){s[Sh]=!0,r.forEach(function(u){u!=="selectionchange"&&(gN.has(u)||Ym(u,!1,s),Ym(u,!0,s))});var a=s.nodeType===9?s:s.ownerDocument;a===null||a[Sh]||(a[Sh]=!0,Ym("selectionchange",!1,a))}}function P1(s,a,u,p){switch(Oc(a)){case 1:var v=ft;break;case 4:v=$m;break;default:v=Nc}u=v.bind(null,a,u,s),v=void 0,!Na||a!=="touchstart"&&a!=="touchmove"&&a!=="wheel"||(v=!0),p?v!==void 0?s.addEventListener(a,u,{capture:!0,passive:v}):s.addEventListener(a,u,!0):v!==void 0?s.addEventListener(a,u,{passive:v}):s.addEventListener(a,u,!1)}function Xm(s,a,u,p,v){var x=p;if((a&1)===0&&(a&2)===0&&p!==null)e:for(;;){if(p===null)return;var R=p.tag;if(R===3||R===4){var V=p.stateNode.containerInfo;if(V===v||V.nodeType===8&&V.parentNode===v)break;if(R===4)for(R=p.return;R!==null;){var z=R.tag;if((z===3||z===4)&&(z=R.stateNode.containerInfo,z===v||z.nodeType===8&&z.parentNode===v))return;R=R.return}for(;V!==null;){if(R=Ro(V),R===null)return;if(z=R.tag,z===5||z===6){p=x=R;continue e}V=V.parentNode}}p=p.return}Sc(function(){var X=x,ie=Pa(u),se=[];e:{var ne=C1.get(s);if(ne!==void 0){var pe=Ba,ye=s;switch(s){case"keypress":if(Va(u)===0)break e;case"keydown":case"keyup":pe=T;break;case"focusin":ye="focus",pe=qa;break;case"focusout":ye="blur",pe=qa;break;case"beforeblur":case"afterblur":pe=qa;break;case"click":if(u.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":pe=Wa;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":pe=ph;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":pe=ce;break;case x1:case b1:case E1:pe=Oi;break;case S1:pe=Lt;break;case"scroll":pe=Um;break;case"wheel":pe=Vt;break;case"copy":case"cut":case"paste":pe=yh;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":pe=G}var we=(a&4)!==0,kt=!we&&s==="scroll",K=we?ne!==null?ne+"Capture":null:ne;we=[];for(var W=X,Y;W!==null;){Y=W;var oe=Y.stateNode;if(Y.tag===5&&oe!==null&&(Y=oe,K!==null&&(oe=Tt(W,K),oe!=null&&we.push(Wc(W,oe,Y)))),kt)break;W=W.return}0<we.length&&(ne=new pe(ne,ye,null,u,ie),se.push({event:ne,listeners:we}))}}if((a&7)===0){e:{if(ne=s==="mouseover"||s==="pointerover",pe=s==="mouseout"||s==="pointerout",ne&&u!==wo&&(ye=u.relatedTarget||u.fromElement)&&(Ro(ye)||ye[Di]))break e;if((pe||ne)&&(ne=ie.window===ie?ie:(ne=ie.ownerDocument)?ne.defaultView||ne.parentWindow:window,pe?(ye=u.relatedTarget||u.toElement,pe=X,ye=ye?Ro(ye):null,ye!==null&&(kt=Tr(ye),ye!==kt||ye.tag!==5&&ye.tag!==6)&&(ye=null)):(pe=null,ye=X),pe!==ye)){if(we=Wa,oe="onMouseLeave",K="onMouseEnter",W="mouse",(s==="pointerout"||s==="pointerover")&&(we=G,oe="onPointerLeave",K="onPointerEnter",W="pointer"),kt=pe==null?ne:el(pe),Y=ye==null?ne:el(ye),ne=new we(oe,W+"leave",pe,u,ie),ne.target=kt,ne.relatedTarget=Y,oe=null,Ro(ie)===X&&(we=new we(K,W+"enter",ye,u,ie),we.target=Y,we.relatedTarget=kt,oe=we),kt=oe,pe&&ye)t:{for(we=pe,K=ye,W=0,Y=we;Y;Y=Qa(Y))W++;for(Y=0,oe=K;oe;oe=Qa(oe))Y++;for(;0<W-Y;)we=Qa(we),W--;for(;0<Y-W;)K=Qa(K),Y--;for(;W--;){if(we===K||K!==null&&we===K.alternate)break t;we=Qa(we),K=Qa(K)}we=null}else we=null;pe!==null&&R1(se,ne,pe,we,!1),ye!==null&&kt!==null&&R1(se,kt,ye,we,!0)}}e:{if(ne=X?el(X):window,pe=ne.nodeName&&ne.nodeName.toLowerCase(),pe==="select"||pe==="input"&&ne.type==="file")var xe=oN;else if(c1(ne))if(d1)xe=uN;else{xe=lN;var Ie=aN}else(pe=ne.nodeName)&&pe.toLowerCase()==="input"&&(ne.type==="checkbox"||ne.type==="radio")&&(xe=cN);if(xe&&(xe=xe(s,X))){u1(se,xe,u,ie);break e}Ie&&Ie(s,ne,X),s==="focusout"&&(Ie=ne._wrapperState)&&Ie.controlled&&ne.type==="number"&&Ta(ne,"number",ne.value)}switch(Ie=X?el(X):window,s){case"focusin":(c1(Ie)||Ie.contentEditable==="true")&&(Xa=Ie,Wm=X,Vc=null);break;case"focusout":Vc=Wm=Xa=null;break;case"mousedown":Hm=!0;break;case"contextmenu":case"mouseup":case"dragend":Hm=!1,w1(se,u,ie);break;case"selectionchange":if(fN)break;case"keydown":case"keyup":w1(se,u,ie)}var Pe;if(ri)e:{switch(s){case"compositionstart":var Oe="onCompositionStart";break e;case"compositionend":Oe="onCompositionEnd";break e;case"compositionupdate":Oe="onCompositionUpdate";break e}Oe=void 0}else Ya?a1(s,u)&&(Oe="onCompositionEnd"):s==="keydown"&&u.keyCode===229&&(Oe="onCompositionStart");Oe&&(Ka&&u.locale!=="ko"&&(Ya||Oe!=="onCompositionStart"?Oe==="onCompositionEnd"&&Ya&&(Pe=Dc()):(Hn=ie,Ua="value"in Hn?Hn.value:Hn.textContent,Ya=!0)),Ie=Ch(X,Oe),0<Ie.length&&(Oe=new jc(Oe,s,null,u,ie),se.push({event:Oe,listeners:Ie}),Pe?Oe.data=Pe:(Pe=l1(u),Pe!==null&&(Oe.data=Pe)))),(Pe=Ga?nN(s,u):rN(s,u))&&(X=Ch(X,"onBeforeInput"),0<X.length&&(ie=new jc("onBeforeInput","beforeinput",null,u,ie),se.push({event:ie,listeners:X}),ie.data=Pe))}I1(se,a)})}function Wc(s,a,u){return{instance:s,listener:a,currentTarget:u}}function Ch(s,a){for(var u=a+"Capture",p=[];s!==null;){var v=s,x=v.stateNode;v.tag===5&&x!==null&&(v=x,x=Tt(s,u),x!=null&&p.unshift(Wc(s,x,v)),x=Tt(s,a),x!=null&&p.push(Wc(s,x,v))),s=s.return}return p}function Qa(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5);return s||null}function R1(s,a,u,p,v){for(var x=a._reactName,R=[];u!==null&&u!==p;){var V=u,z=V.alternate,X=V.stateNode;if(z!==null&&z===p)break;V.tag===5&&X!==null&&(V=X,v?(z=Tt(u,x),z!=null&&R.unshift(Wc(u,z,V))):v||(z=Tt(u,x),z!=null&&R.push(Wc(u,z,V)))),u=u.return}R.length!==0&&s.push({event:a,listeners:R})}var yN=/\r\n?/g,vN=/\u0000|\uFFFD/g;function A1(s){return(typeof s=="string"?s:""+s).replace(yN,`
`).replace(vN,"")}function Th(s,a,u){if(a=A1(a),A1(s)!==a&&u)throw Error(n(425))}function kh(){}var Jm=null,Qm=null;function Zm(s,a){return s==="textarea"||s==="noscript"||typeof a.children=="string"||typeof a.children=="number"||typeof a.dangerouslySetInnerHTML=="object"&&a.dangerouslySetInnerHTML!==null&&a.dangerouslySetInnerHTML.__html!=null}var eg=typeof setTimeout=="function"?setTimeout:void 0,wN=typeof clearTimeout=="function"?clearTimeout:void 0,N1=typeof Promise=="function"?Promise:void 0,_N=typeof queueMicrotask=="function"?queueMicrotask:typeof N1<"u"?function(s){return N1.resolve(null).then(s).catch(xN)}:eg;function xN(s){setTimeout(function(){throw s})}function tg(s,a){var u=a,p=0;do{var v=u.nextSibling;if(s.removeChild(u),v&&v.nodeType===8)if(u=v.data,u==="/$"){if(p===0){s.removeChild(v),Ar(a);return}p--}else u!=="$"&&u!=="$?"&&u!=="$!"||p++;u=v}while(u);Ar(a)}function ks(s){for(;s!=null;s=s.nextSibling){var a=s.nodeType;if(a===1||a===3)break;if(a===8){if(a=s.data,a==="$"||a==="$!"||a==="$?")break;if(a==="/$")return null}}return s}function O1(s){s=s.previousSibling;for(var a=0;s;){if(s.nodeType===8){var u=s.data;if(u==="$"||u==="$!"||u==="$?"){if(a===0)return s;a--}else u==="/$"&&a++}s=s.previousSibling}return null}var Za=Math.random().toString(36).slice(2),ii="__reactFiber$"+Za,Hc="__reactProps$"+Za,Di="__reactContainer$"+Za,ng="__reactEvents$"+Za,bN="__reactListeners$"+Za,EN="__reactHandles$"+Za;function Ro(s){var a=s[ii];if(a)return a;for(var u=s.parentNode;u;){if(a=u[Di]||u[ii]){if(u=a.alternate,a.child!==null||u!==null&&u.child!==null)for(s=O1(s);s!==null;){if(u=s[ii])return u;s=O1(s)}return a}s=u,u=s.parentNode}return null}function qc(s){return s=s[ii]||s[Di],!s||s.tag!==5&&s.tag!==6&&s.tag!==13&&s.tag!==3?null:s}function el(s){if(s.tag===5||s.tag===6)return s.stateNode;throw Error(n(33))}function Ih(s){return s[Hc]||null}var rg=[],tl=-1;function Is(s){return{current:s}}function at(s){0>tl||(s.current=rg[tl],rg[tl]=null,tl--)}function rt(s,a){tl++,rg[tl]=s.current,s.current=a}var Ps={},an=Is(Ps),Pn=Is(!1),Ao=Ps;function nl(s,a){var u=s.type.contextTypes;if(!u)return Ps;var p=s.stateNode;if(p&&p.__reactInternalMemoizedUnmaskedChildContext===a)return p.__reactInternalMemoizedMaskedChildContext;var v={},x;for(x in u)v[x]=a[x];return p&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=a,s.__reactInternalMemoizedMaskedChildContext=v),v}function Rn(s){return s=s.childContextTypes,s!=null}function Ph(){at(Pn),at(an)}function D1(s,a,u){if(an.current!==Ps)throw Error(n(168));rt(an,a),rt(Pn,u)}function M1(s,a,u){var p=s.stateNode;if(a=a.childContextTypes,typeof p.getChildContext!="function")return u;p=p.getChildContext();for(var v in p)if(!(v in a))throw Error(n(108,Se(s)||"Unknown",v));return ae({},u,p)}function Rh(s){return s=(s=s.stateNode)&&s.__reactInternalMemoizedMergedChildContext||Ps,Ao=an.current,rt(an,s),rt(Pn,Pn.current),!0}function L1(s,a,u){var p=s.stateNode;if(!p)throw Error(n(169));u?(s=M1(s,a,Ao),p.__reactInternalMemoizedMergedChildContext=s,at(Pn),at(an),rt(an,s)):at(Pn),rt(Pn,u)}var Mi=null,Ah=!1,ig=!1;function j1(s){Mi===null?Mi=[s]:Mi.push(s)}function SN(s){Ah=!0,j1(s)}function Rs(){if(!ig&&Mi!==null){ig=!0;var s=0,a=$e;try{var u=Mi;for($e=1;s<u.length;s++){var p=u[s];do p=p(!0);while(p!==null)}Mi=null,Ah=!1}catch(v){throw Mi!==null&&(Mi=Mi.slice(s+1)),Ma(Eo,Rs),v}finally{$e=a,ig=!1}}return null}var rl=[],il=0,Nh=null,Oh=0,ar=[],lr=0,No=null,Li=1,ji="";function Oo(s,a){rl[il++]=Oh,rl[il++]=Nh,Nh=s,Oh=a}function F1(s,a,u){ar[lr++]=Li,ar[lr++]=ji,ar[lr++]=No,No=s;var p=Li;s=ji;var v=32-yn(p)-1;p&=~(1<<v),u+=1;var x=32-yn(a)+v;if(30<x){var R=v-v%5;x=(p&(1<<R)-1).toString(32),p>>=R,v-=R,Li=1<<32-yn(a)+v|u<<v|p,ji=x+s}else Li=1<<x|u<<v|p,ji=s}function sg(s){s.return!==null&&(Oo(s,1),F1(s,1,0))}function og(s){for(;s===Nh;)Nh=rl[--il],rl[il]=null,Oh=rl[--il],rl[il]=null;for(;s===No;)No=ar[--lr],ar[lr]=null,ji=ar[--lr],ar[lr]=null,Li=ar[--lr],ar[lr]=null}var qn=null,Gn=null,ct=!1,Dr=null;function $1(s,a){var u=hr(5,null,null,0);u.elementType="DELETED",u.stateNode=a,u.return=s,a=s.deletions,a===null?(s.deletions=[u],s.flags|=16):a.push(u)}function U1(s,a){switch(s.tag){case 5:var u=s.type;return a=a.nodeType!==1||u.toLowerCase()!==a.nodeName.toLowerCase()?null:a,a!==null?(s.stateNode=a,qn=s,Gn=ks(a.firstChild),!0):!1;case 6:return a=s.pendingProps===""||a.nodeType!==3?null:a,a!==null?(s.stateNode=a,qn=s,Gn=null,!0):!1;case 13:return a=a.nodeType!==8?null:a,a!==null?(u=No!==null?{id:Li,overflow:ji}:null,s.memoizedState={dehydrated:a,treeContext:u,retryLane:1073741824},u=hr(18,null,null,0),u.stateNode=a,u.return=s,s.child=u,qn=s,Gn=null,!0):!1;default:return!1}}function ag(s){return(s.mode&1)!==0&&(s.flags&128)===0}function lg(s){if(ct){var a=Gn;if(a){var u=a;if(!U1(s,a)){if(ag(s))throw Error(n(418));a=ks(u.nextSibling);var p=qn;a&&U1(s,a)?$1(p,u):(s.flags=s.flags&-4097|2,ct=!1,qn=s)}}else{if(ag(s))throw Error(n(418));s.flags=s.flags&-4097|2,ct=!1,qn=s}}}function V1(s){for(s=s.return;s!==null&&s.tag!==5&&s.tag!==3&&s.tag!==13;)s=s.return;qn=s}function Dh(s){if(s!==qn)return!1;if(!ct)return V1(s),ct=!0,!1;var a;if((a=s.tag!==3)&&!(a=s.tag!==5)&&(a=s.type,a=a!=="head"&&a!=="body"&&!Zm(s.type,s.memoizedProps)),a&&(a=Gn)){if(ag(s))throw B1(),Error(n(418));for(;a;)$1(s,a),a=ks(a.nextSibling)}if(V1(s),s.tag===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(n(317));e:{for(s=s.nextSibling,a=0;s;){if(s.nodeType===8){var u=s.data;if(u==="/$"){if(a===0){Gn=ks(s.nextSibling);break e}a--}else u!=="$"&&u!=="$!"&&u!=="$?"||a++}s=s.nextSibling}Gn=null}}else Gn=qn?ks(s.stateNode.nextSibling):null;return!0}function B1(){for(var s=Gn;s;)s=ks(s.nextSibling)}function sl(){Gn=qn=null,ct=!1}function cg(s){Dr===null?Dr=[s]:Dr.push(s)}var CN=U.ReactCurrentBatchConfig;function Gc(s,a,u){if(s=u.ref,s!==null&&typeof s!="function"&&typeof s!="object"){if(u._owner){if(u=u._owner,u){if(u.tag!==1)throw Error(n(309));var p=u.stateNode}if(!p)throw Error(n(147,s));var v=p,x=""+s;return a!==null&&a.ref!==null&&typeof a.ref=="function"&&a.ref._stringRef===x?a.ref:(a=function(R){var V=v.refs;R===null?delete V[x]:V[x]=R},a._stringRef=x,a)}if(typeof s!="string")throw Error(n(284));if(!u._owner)throw Error(n(290,s))}return s}function Mh(s,a){throw s=Object.prototype.toString.call(a),Error(n(31,s==="[object Object]"?"object with keys {"+Object.keys(a).join(", ")+"}":s))}function z1(s){var a=s._init;return a(s._payload)}function W1(s){function a(K,W){if(s){var Y=K.deletions;Y===null?(K.deletions=[W],K.flags|=16):Y.push(W)}}function u(K,W){if(!s)return null;for(;W!==null;)a(K,W),W=W.sibling;return null}function p(K,W){for(K=new Map;W!==null;)W.key!==null?K.set(W.key,W):K.set(W.index,W),W=W.sibling;return K}function v(K,W){return K=Fs(K,W),K.index=0,K.sibling=null,K}function x(K,W,Y){return K.index=Y,s?(Y=K.alternate,Y!==null?(Y=Y.index,Y<W?(K.flags|=2,W):Y):(K.flags|=2,W)):(K.flags|=1048576,W)}function R(K){return s&&K.alternate===null&&(K.flags|=2),K}function V(K,W,Y,oe){return W===null||W.tag!==6?(W=ey(Y,K.mode,oe),W.return=K,W):(W=v(W,Y),W.return=K,W)}function z(K,W,Y,oe){var xe=Y.type;return xe===D?ie(K,W,Y.props.children,oe,Y.key):W!==null&&(W.elementType===xe||typeof xe=="object"&&xe!==null&&xe.$$typeof===me&&z1(xe)===W.type)?(oe=v(W,Y.props),oe.ref=Gc(K,W,Y),oe.return=K,oe):(oe=of(Y.type,Y.key,Y.props,null,K.mode,oe),oe.ref=Gc(K,W,Y),oe.return=K,oe)}function X(K,W,Y,oe){return W===null||W.tag!==4||W.stateNode.containerInfo!==Y.containerInfo||W.stateNode.implementation!==Y.implementation?(W=ty(Y,K.mode,oe),W.return=K,W):(W=v(W,Y.children||[]),W.return=K,W)}function ie(K,W,Y,oe,xe){return W===null||W.tag!==7?(W=Vo(Y,K.mode,oe,xe),W.return=K,W):(W=v(W,Y),W.return=K,W)}function se(K,W,Y){if(typeof W=="string"&&W!==""||typeof W=="number")return W=ey(""+W,K.mode,Y),W.return=K,W;if(typeof W=="object"&&W!==null){switch(W.$$typeof){case B:return Y=of(W.type,W.key,W.props,null,K.mode,Y),Y.ref=Gc(K,null,W),Y.return=K,Y;case H:return W=ty(W,K.mode,Y),W.return=K,W;case me:var oe=W._init;return se(K,oe(W._payload),Y)}if(Si(W)||ue(W))return W=Vo(W,K.mode,Y,null),W.return=K,W;Mh(K,W)}return null}function ne(K,W,Y,oe){var xe=W!==null?W.key:null;if(typeof Y=="string"&&Y!==""||typeof Y=="number")return xe!==null?null:V(K,W,""+Y,oe);if(typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case B:return Y.key===xe?z(K,W,Y,oe):null;case H:return Y.key===xe?X(K,W,Y,oe):null;case me:return xe=Y._init,ne(K,W,xe(Y._payload),oe)}if(Si(Y)||ue(Y))return xe!==null?null:ie(K,W,Y,oe,null);Mh(K,Y)}return null}function pe(K,W,Y,oe,xe){if(typeof oe=="string"&&oe!==""||typeof oe=="number")return K=K.get(Y)||null,V(W,K,""+oe,xe);if(typeof oe=="object"&&oe!==null){switch(oe.$$typeof){case B:return K=K.get(oe.key===null?Y:oe.key)||null,z(W,K,oe,xe);case H:return K=K.get(oe.key===null?Y:oe.key)||null,X(W,K,oe,xe);case me:var Ie=oe._init;return pe(K,W,Y,Ie(oe._payload),xe)}if(Si(oe)||ue(oe))return K=K.get(Y)||null,ie(W,K,oe,xe,null);Mh(W,oe)}return null}function ye(K,W,Y,oe){for(var xe=null,Ie=null,Pe=W,Oe=W=0,Ht=null;Pe!==null&&Oe<Y.length;Oe++){Pe.index>Oe?(Ht=Pe,Pe=null):Ht=Pe.sibling;var We=ne(K,Pe,Y[Oe],oe);if(We===null){Pe===null&&(Pe=Ht);break}s&&Pe&&We.alternate===null&&a(K,Pe),W=x(We,W,Oe),Ie===null?xe=We:Ie.sibling=We,Ie=We,Pe=Ht}if(Oe===Y.length)return u(K,Pe),ct&&Oo(K,Oe),xe;if(Pe===null){for(;Oe<Y.length;Oe++)Pe=se(K,Y[Oe],oe),Pe!==null&&(W=x(Pe,W,Oe),Ie===null?xe=Pe:Ie.sibling=Pe,Ie=Pe);return ct&&Oo(K,Oe),xe}for(Pe=p(K,Pe);Oe<Y.length;Oe++)Ht=pe(Pe,K,Oe,Y[Oe],oe),Ht!==null&&(s&&Ht.alternate!==null&&Pe.delete(Ht.key===null?Oe:Ht.key),W=x(Ht,W,Oe),Ie===null?xe=Ht:Ie.sibling=Ht,Ie=Ht);return s&&Pe.forEach(function($s){return a(K,$s)}),ct&&Oo(K,Oe),xe}function we(K,W,Y,oe){var xe=ue(Y);if(typeof xe!="function")throw Error(n(150));if(Y=xe.call(Y),Y==null)throw Error(n(151));for(var Ie=xe=null,Pe=W,Oe=W=0,Ht=null,We=Y.next();Pe!==null&&!We.done;Oe++,We=Y.next()){Pe.index>Oe?(Ht=Pe,Pe=null):Ht=Pe.sibling;var $s=ne(K,Pe,We.value,oe);if($s===null){Pe===null&&(Pe=Ht);break}s&&Pe&&$s.alternate===null&&a(K,Pe),W=x($s,W,Oe),Ie===null?xe=$s:Ie.sibling=$s,Ie=$s,Pe=Ht}if(We.done)return u(K,Pe),ct&&Oo(K,Oe),xe;if(Pe===null){for(;!We.done;Oe++,We=Y.next())We=se(K,We.value,oe),We!==null&&(W=x(We,W,Oe),Ie===null?xe=We:Ie.sibling=We,Ie=We);return ct&&Oo(K,Oe),xe}for(Pe=p(K,Pe);!We.done;Oe++,We=Y.next())We=pe(Pe,K,Oe,We.value,oe),We!==null&&(s&&We.alternate!==null&&Pe.delete(We.key===null?Oe:We.key),W=x(We,W,Oe),Ie===null?xe=We:Ie.sibling=We,Ie=We);return s&&Pe.forEach(function(i5){return a(K,i5)}),ct&&Oo(K,Oe),xe}function kt(K,W,Y,oe){if(typeof Y=="object"&&Y!==null&&Y.type===D&&Y.key===null&&(Y=Y.props.children),typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case B:e:{for(var xe=Y.key,Ie=W;Ie!==null;){if(Ie.key===xe){if(xe=Y.type,xe===D){if(Ie.tag===7){u(K,Ie.sibling),W=v(Ie,Y.props.children),W.return=K,K=W;break e}}else if(Ie.elementType===xe||typeof xe=="object"&&xe!==null&&xe.$$typeof===me&&z1(xe)===Ie.type){u(K,Ie.sibling),W=v(Ie,Y.props),W.ref=Gc(K,Ie,Y),W.return=K,K=W;break e}u(K,Ie);break}else a(K,Ie);Ie=Ie.sibling}Y.type===D?(W=Vo(Y.props.children,K.mode,oe,Y.key),W.return=K,K=W):(oe=of(Y.type,Y.key,Y.props,null,K.mode,oe),oe.ref=Gc(K,W,Y),oe.return=K,K=oe)}return R(K);case H:e:{for(Ie=Y.key;W!==null;){if(W.key===Ie)if(W.tag===4&&W.stateNode.containerInfo===Y.containerInfo&&W.stateNode.implementation===Y.implementation){u(K,W.sibling),W=v(W,Y.children||[]),W.return=K,K=W;break e}else{u(K,W);break}else a(K,W);W=W.sibling}W=ty(Y,K.mode,oe),W.return=K,K=W}return R(K);case me:return Ie=Y._init,kt(K,W,Ie(Y._payload),oe)}if(Si(Y))return ye(K,W,Y,oe);if(ue(Y))return we(K,W,Y,oe);Mh(K,Y)}return typeof Y=="string"&&Y!==""||typeof Y=="number"?(Y=""+Y,W!==null&&W.tag===6?(u(K,W.sibling),W=v(W,Y),W.return=K,K=W):(u(K,W),W=ey(Y,K.mode,oe),W.return=K,K=W),R(K)):u(K,W)}return kt}var ol=W1(!0),H1=W1(!1),Lh=Is(null),jh=null,al=null,ug=null;function dg(){ug=al=jh=null}function hg(s){var a=Lh.current;at(Lh),s._currentValue=a}function fg(s,a,u){for(;s!==null;){var p=s.alternate;if((s.childLanes&a)!==a?(s.childLanes|=a,p!==null&&(p.childLanes|=a)):p!==null&&(p.childLanes&a)!==a&&(p.childLanes|=a),s===u)break;s=s.return}}function ll(s,a){jh=s,ug=al=null,s=s.dependencies,s!==null&&s.firstContext!==null&&((s.lanes&a)!==0&&(An=!0),s.firstContext=null)}function cr(s){var a=s._currentValue;if(ug!==s)if(s={context:s,memoizedValue:a,next:null},al===null){if(jh===null)throw Error(n(308));al=s,jh.dependencies={lanes:0,firstContext:s}}else al=al.next=s;return a}var Do=null;function pg(s){Do===null?Do=[s]:Do.push(s)}function q1(s,a,u,p){var v=a.interleaved;return v===null?(u.next=u,pg(a)):(u.next=v.next,v.next=u),a.interleaved=u,Fi(s,p)}function Fi(s,a){s.lanes|=a;var u=s.alternate;for(u!==null&&(u.lanes|=a),u=s,s=s.return;s!==null;)s.childLanes|=a,u=s.alternate,u!==null&&(u.childLanes|=a),u=s,s=s.return;return u.tag===3?u.stateNode:null}var As=!1;function mg(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function G1(s,a){s=s.updateQueue,a.updateQueue===s&&(a.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,effects:s.effects})}function $i(s,a){return{eventTime:s,lane:a,tag:0,payload:null,callback:null,next:null}}function Ns(s,a,u){var p=s.updateQueue;if(p===null)return null;if(p=p.shared,(ze&2)!==0){var v=p.pending;return v===null?a.next=a:(a.next=v.next,v.next=a),p.pending=a,Fi(s,u)}return v=p.interleaved,v===null?(a.next=a,pg(p)):(a.next=v.next,v.next=a),p.interleaved=a,Fi(s,u)}function Fh(s,a,u){if(a=a.updateQueue,a!==null&&(a=a.shared,(u&4194240)!==0)){var p=a.lanes;p&=s.pendingLanes,u|=p,a.lanes=u,_s(s,u)}}function K1(s,a){var u=s.updateQueue,p=s.alternate;if(p!==null&&(p=p.updateQueue,u===p)){var v=null,x=null;if(u=u.firstBaseUpdate,u!==null){do{var R={eventTime:u.eventTime,lane:u.lane,tag:u.tag,payload:u.payload,callback:u.callback,next:null};x===null?v=x=R:x=x.next=R,u=u.next}while(u!==null);x===null?v=x=a:x=x.next=a}else v=x=a;u={baseState:p.baseState,firstBaseUpdate:v,lastBaseUpdate:x,shared:p.shared,effects:p.effects},s.updateQueue=u;return}s=u.lastBaseUpdate,s===null?u.firstBaseUpdate=a:s.next=a,u.lastBaseUpdate=a}function $h(s,a,u,p){var v=s.updateQueue;As=!1;var x=v.firstBaseUpdate,R=v.lastBaseUpdate,V=v.shared.pending;if(V!==null){v.shared.pending=null;var z=V,X=z.next;z.next=null,R===null?x=X:R.next=X,R=z;var ie=s.alternate;ie!==null&&(ie=ie.updateQueue,V=ie.lastBaseUpdate,V!==R&&(V===null?ie.firstBaseUpdate=X:V.next=X,ie.lastBaseUpdate=z))}if(x!==null){var se=v.baseState;R=0,ie=X=z=null,V=x;do{var ne=V.lane,pe=V.eventTime;if((p&ne)===ne){ie!==null&&(ie=ie.next={eventTime:pe,lane:0,tag:V.tag,payload:V.payload,callback:V.callback,next:null});e:{var ye=s,we=V;switch(ne=a,pe=u,we.tag){case 1:if(ye=we.payload,typeof ye=="function"){se=ye.call(pe,se,ne);break e}se=ye;break e;case 3:ye.flags=ye.flags&-65537|128;case 0:if(ye=we.payload,ne=typeof ye=="function"?ye.call(pe,se,ne):ye,ne==null)break e;se=ae({},se,ne);break e;case 2:As=!0}}V.callback!==null&&V.lane!==0&&(s.flags|=64,ne=v.effects,ne===null?v.effects=[V]:ne.push(V))}else pe={eventTime:pe,lane:ne,tag:V.tag,payload:V.payload,callback:V.callback,next:null},ie===null?(X=ie=pe,z=se):ie=ie.next=pe,R|=ne;if(V=V.next,V===null){if(V=v.shared.pending,V===null)break;ne=V,V=ne.next,ne.next=null,v.lastBaseUpdate=ne,v.shared.pending=null}}while(!0);if(ie===null&&(z=se),v.baseState=z,v.firstBaseUpdate=X,v.lastBaseUpdate=ie,a=v.shared.interleaved,a!==null){v=a;do R|=v.lane,v=v.next;while(v!==a)}else x===null&&(v.shared.lanes=0);jo|=R,s.lanes=R,s.memoizedState=se}}function Y1(s,a,u){if(s=a.effects,a.effects=null,s!==null)for(a=0;a<s.length;a++){var p=s[a],v=p.callback;if(v!==null){if(p.callback=null,p=u,typeof v!="function")throw Error(n(191,v));v.call(p)}}}var Kc={},si=Is(Kc),Yc=Is(Kc),Xc=Is(Kc);function Mo(s){if(s===Kc)throw Error(n(174));return s}function gg(s,a){switch(rt(Xc,a),rt(Yc,s),rt(si,Kc),s=a.nodeType,s){case 9:case 11:a=(a=a.documentElement)?a.namespaceURI:Mt(null,"");break;default:s=s===8?a.parentNode:a,a=s.namespaceURI||null,s=s.tagName,a=Mt(a,s)}at(si),rt(si,a)}function cl(){at(si),at(Yc),at(Xc)}function X1(s){Mo(Xc.current);var a=Mo(si.current),u=Mt(a,s.type);a!==u&&(rt(Yc,s),rt(si,u))}function yg(s){Yc.current===s&&(at(si),at(Yc))}var pt=Is(0);function Uh(s){for(var a=s;a!==null;){if(a.tag===13){var u=a.memoizedState;if(u!==null&&(u=u.dehydrated,u===null||u.data==="$?"||u.data==="$!"))return a}else if(a.tag===19&&a.memoizedProps.revealOrder!==void 0){if((a.flags&128)!==0)return a}else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===s)break;for(;a.sibling===null;){if(a.return===null||a.return===s)return null;a=a.return}a.sibling.return=a.return,a=a.sibling}return null}var vg=[];function wg(){for(var s=0;s<vg.length;s++)vg[s]._workInProgressVersionPrimary=null;vg.length=0}var Vh=U.ReactCurrentDispatcher,_g=U.ReactCurrentBatchConfig,Lo=0,mt=null,jt=null,zt=null,Bh=!1,Jc=!1,Qc=0,TN=0;function ln(){throw Error(n(321))}function xg(s,a){if(a===null)return!1;for(var u=0;u<a.length&&u<s.length;u++)if(!Or(s[u],a[u]))return!1;return!0}function bg(s,a,u,p,v,x){if(Lo=x,mt=a,a.memoizedState=null,a.updateQueue=null,a.lanes=0,Vh.current=s===null||s.memoizedState===null?RN:AN,s=u(p,v),Jc){x=0;do{if(Jc=!1,Qc=0,25<=x)throw Error(n(301));x+=1,zt=jt=null,a.updateQueue=null,Vh.current=NN,s=u(p,v)}while(Jc)}if(Vh.current=Hh,a=jt!==null&&jt.next!==null,Lo=0,zt=jt=mt=null,Bh=!1,a)throw Error(n(300));return s}function Eg(){var s=Qc!==0;return Qc=0,s}function oi(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return zt===null?mt.memoizedState=zt=s:zt=zt.next=s,zt}function ur(){if(jt===null){var s=mt.alternate;s=s!==null?s.memoizedState:null}else s=jt.next;var a=zt===null?mt.memoizedState:zt.next;if(a!==null)zt=a,jt=s;else{if(s===null)throw Error(n(310));jt=s,s={memoizedState:jt.memoizedState,baseState:jt.baseState,baseQueue:jt.baseQueue,queue:jt.queue,next:null},zt===null?mt.memoizedState=zt=s:zt=zt.next=s}return zt}function Zc(s,a){return typeof a=="function"?a(s):a}function Sg(s){var a=ur(),u=a.queue;if(u===null)throw Error(n(311));u.lastRenderedReducer=s;var p=jt,v=p.baseQueue,x=u.pending;if(x!==null){if(v!==null){var R=v.next;v.next=x.next,x.next=R}p.baseQueue=v=x,u.pending=null}if(v!==null){x=v.next,p=p.baseState;var V=R=null,z=null,X=x;do{var ie=X.lane;if((Lo&ie)===ie)z!==null&&(z=z.next={lane:0,action:X.action,hasEagerState:X.hasEagerState,eagerState:X.eagerState,next:null}),p=X.hasEagerState?X.eagerState:s(p,X.action);else{var se={lane:ie,action:X.action,hasEagerState:X.hasEagerState,eagerState:X.eagerState,next:null};z===null?(V=z=se,R=p):z=z.next=se,mt.lanes|=ie,jo|=ie}X=X.next}while(X!==null&&X!==x);z===null?R=p:z.next=V,Or(p,a.memoizedState)||(An=!0),a.memoizedState=p,a.baseState=R,a.baseQueue=z,u.lastRenderedState=p}if(s=u.interleaved,s!==null){v=s;do x=v.lane,mt.lanes|=x,jo|=x,v=v.next;while(v!==s)}else v===null&&(u.lanes=0);return[a.memoizedState,u.dispatch]}function Cg(s){var a=ur(),u=a.queue;if(u===null)throw Error(n(311));u.lastRenderedReducer=s;var p=u.dispatch,v=u.pending,x=a.memoizedState;if(v!==null){u.pending=null;var R=v=v.next;do x=s(x,R.action),R=R.next;while(R!==v);Or(x,a.memoizedState)||(An=!0),a.memoizedState=x,a.baseQueue===null&&(a.baseState=x),u.lastRenderedState=x}return[x,p]}function J1(){}function Q1(s,a){var u=mt,p=ur(),v=a(),x=!Or(p.memoizedState,v);if(x&&(p.memoizedState=v,An=!0),p=p.queue,Tg(tx.bind(null,u,p,s),[s]),p.getSnapshot!==a||x||zt!==null&&zt.memoizedState.tag&1){if(u.flags|=2048,eu(9,ex.bind(null,u,p,v,a),void 0,null),Wt===null)throw Error(n(349));(Lo&30)!==0||Z1(u,a,v)}return v}function Z1(s,a,u){s.flags|=16384,s={getSnapshot:a,value:u},a=mt.updateQueue,a===null?(a={lastEffect:null,stores:null},mt.updateQueue=a,a.stores=[s]):(u=a.stores,u===null?a.stores=[s]:u.push(s))}function ex(s,a,u,p){a.value=u,a.getSnapshot=p,nx(a)&&rx(s)}function tx(s,a,u){return u(function(){nx(a)&&rx(s)})}function nx(s){var a=s.getSnapshot;s=s.value;try{var u=a();return!Or(s,u)}catch{return!0}}function rx(s){var a=Fi(s,1);a!==null&&Fr(a,s,1,-1)}function ix(s){var a=oi();return typeof s=="function"&&(s=s()),a.memoizedState=a.baseState=s,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Zc,lastRenderedState:s},a.queue=s,s=s.dispatch=PN.bind(null,mt,s),[a.memoizedState,s]}function eu(s,a,u,p){return s={tag:s,create:a,destroy:u,deps:p,next:null},a=mt.updateQueue,a===null?(a={lastEffect:null,stores:null},mt.updateQueue=a,a.lastEffect=s.next=s):(u=a.lastEffect,u===null?a.lastEffect=s.next=s:(p=u.next,u.next=s,s.next=p,a.lastEffect=s)),s}function sx(){return ur().memoizedState}function zh(s,a,u,p){var v=oi();mt.flags|=s,v.memoizedState=eu(1|a,u,void 0,p===void 0?null:p)}function Wh(s,a,u,p){var v=ur();p=p===void 0?null:p;var x=void 0;if(jt!==null){var R=jt.memoizedState;if(x=R.destroy,p!==null&&xg(p,R.deps)){v.memoizedState=eu(a,u,x,p);return}}mt.flags|=s,v.memoizedState=eu(1|a,u,x,p)}function ox(s,a){return zh(8390656,8,s,a)}function Tg(s,a){return Wh(2048,8,s,a)}function ax(s,a){return Wh(4,2,s,a)}function lx(s,a){return Wh(4,4,s,a)}function cx(s,a){if(typeof a=="function")return s=s(),a(s),function(){a(null)};if(a!=null)return s=s(),a.current=s,function(){a.current=null}}function ux(s,a,u){return u=u!=null?u.concat([s]):null,Wh(4,4,cx.bind(null,a,s),u)}function kg(){}function dx(s,a){var u=ur();a=a===void 0?null:a;var p=u.memoizedState;return p!==null&&a!==null&&xg(a,p[1])?p[0]:(u.memoizedState=[s,a],s)}function hx(s,a){var u=ur();a=a===void 0?null:a;var p=u.memoizedState;return p!==null&&a!==null&&xg(a,p[1])?p[0]:(s=s(),u.memoizedState=[s,a],s)}function fx(s,a,u){return(Lo&21)===0?(s.baseState&&(s.baseState=!1,An=!0),s.memoizedState=u):(Or(u,a)||(u=To(),mt.lanes|=u,jo|=u,s.baseState=!0),a)}function kN(s,a){var u=$e;$e=u!==0&&4>u?u:4,s(!0);var p=_g.transition;_g.transition={};try{s(!1),a()}finally{$e=u,_g.transition=p}}function px(){return ur().memoizedState}function IN(s,a,u){var p=Ls(s);if(u={lane:p,action:u,hasEagerState:!1,eagerState:null,next:null},mx(s))gx(a,u);else if(u=q1(s,a,u,p),u!==null){var v=wn();Fr(u,s,p,v),yx(u,a,p)}}function PN(s,a,u){var p=Ls(s),v={lane:p,action:u,hasEagerState:!1,eagerState:null,next:null};if(mx(s))gx(a,v);else{var x=s.alternate;if(s.lanes===0&&(x===null||x.lanes===0)&&(x=a.lastRenderedReducer,x!==null))try{var R=a.lastRenderedState,V=x(R,u);if(v.hasEagerState=!0,v.eagerState=V,Or(V,R)){var z=a.interleaved;z===null?(v.next=v,pg(a)):(v.next=z.next,z.next=v),a.interleaved=v;return}}catch{}finally{}u=q1(s,a,v,p),u!==null&&(v=wn(),Fr(u,s,p,v),yx(u,a,p))}}function mx(s){var a=s.alternate;return s===mt||a!==null&&a===mt}function gx(s,a){Jc=Bh=!0;var u=s.pending;u===null?a.next=a:(a.next=u.next,u.next=a),s.pending=a}function yx(s,a,u){if((u&4194240)!==0){var p=a.lanes;p&=s.pendingLanes,u|=p,a.lanes=u,_s(s,u)}}var Hh={readContext:cr,useCallback:ln,useContext:ln,useEffect:ln,useImperativeHandle:ln,useInsertionEffect:ln,useLayoutEffect:ln,useMemo:ln,useReducer:ln,useRef:ln,useState:ln,useDebugValue:ln,useDeferredValue:ln,useTransition:ln,useMutableSource:ln,useSyncExternalStore:ln,useId:ln,unstable_isNewReconciler:!1},RN={readContext:cr,useCallback:function(s,a){return oi().memoizedState=[s,a===void 0?null:a],s},useContext:cr,useEffect:ox,useImperativeHandle:function(s,a,u){return u=u!=null?u.concat([s]):null,zh(4194308,4,cx.bind(null,a,s),u)},useLayoutEffect:function(s,a){return zh(4194308,4,s,a)},useInsertionEffect:function(s,a){return zh(4,2,s,a)},useMemo:function(s,a){var u=oi();return a=a===void 0?null:a,s=s(),u.memoizedState=[s,a],s},useReducer:function(s,a,u){var p=oi();return a=u!==void 0?u(a):a,p.memoizedState=p.baseState=a,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:a},p.queue=s,s=s.dispatch=IN.bind(null,mt,s),[p.memoizedState,s]},useRef:function(s){var a=oi();return s={current:s},a.memoizedState=s},useState:ix,useDebugValue:kg,useDeferredValue:function(s){return oi().memoizedState=s},useTransition:function(){var s=ix(!1),a=s[0];return s=kN.bind(null,s[1]),oi().memoizedState=s,[a,s]},useMutableSource:function(){},useSyncExternalStore:function(s,a,u){var p=mt,v=oi();if(ct){if(u===void 0)throw Error(n(407));u=u()}else{if(u=a(),Wt===null)throw Error(n(349));(Lo&30)!==0||Z1(p,a,u)}v.memoizedState=u;var x={value:u,getSnapshot:a};return v.queue=x,ox(tx.bind(null,p,x,s),[s]),p.flags|=2048,eu(9,ex.bind(null,p,x,u,a),void 0,null),u},useId:function(){var s=oi(),a=Wt.identifierPrefix;if(ct){var u=ji,p=Li;u=(p&~(1<<32-yn(p)-1)).toString(32)+u,a=":"+a+"R"+u,u=Qc++,0<u&&(a+="H"+u.toString(32)),a+=":"}else u=TN++,a=":"+a+"r"+u.toString(32)+":";return s.memoizedState=a},unstable_isNewReconciler:!1},AN={readContext:cr,useCallback:dx,useContext:cr,useEffect:Tg,useImperativeHandle:ux,useInsertionEffect:ax,useLayoutEffect:lx,useMemo:hx,useReducer:Sg,useRef:sx,useState:function(){return Sg(Zc)},useDebugValue:kg,useDeferredValue:function(s){var a=ur();return fx(a,jt.memoizedState,s)},useTransition:function(){var s=Sg(Zc)[0],a=ur().memoizedState;return[s,a]},useMutableSource:J1,useSyncExternalStore:Q1,useId:px,unstable_isNewReconciler:!1},NN={readContext:cr,useCallback:dx,useContext:cr,useEffect:Tg,useImperativeHandle:ux,useInsertionEffect:ax,useLayoutEffect:lx,useMemo:hx,useReducer:Cg,useRef:sx,useState:function(){return Cg(Zc)},useDebugValue:kg,useDeferredValue:function(s){var a=ur();return jt===null?a.memoizedState=s:fx(a,jt.memoizedState,s)},useTransition:function(){var s=Cg(Zc)[0],a=ur().memoizedState;return[s,a]},useMutableSource:J1,useSyncExternalStore:Q1,useId:px,unstable_isNewReconciler:!1};function Mr(s,a){if(s&&s.defaultProps){a=ae({},a),s=s.defaultProps;for(var u in s)a[u]===void 0&&(a[u]=s[u]);return a}return a}function Ig(s,a,u,p){a=s.memoizedState,u=u(p,a),u=u==null?a:ae({},a,u),s.memoizedState=u,s.lanes===0&&(s.updateQueue.baseState=u)}var qh={isMounted:function(s){return(s=s._reactInternals)?Tr(s)===s:!1},enqueueSetState:function(s,a,u){s=s._reactInternals;var p=wn(),v=Ls(s),x=$i(p,v);x.payload=a,u!=null&&(x.callback=u),a=Ns(s,x,v),a!==null&&(Fr(a,s,v,p),Fh(a,s,v))},enqueueReplaceState:function(s,a,u){s=s._reactInternals;var p=wn(),v=Ls(s),x=$i(p,v);x.tag=1,x.payload=a,u!=null&&(x.callback=u),a=Ns(s,x,v),a!==null&&(Fr(a,s,v,p),Fh(a,s,v))},enqueueForceUpdate:function(s,a){s=s._reactInternals;var u=wn(),p=Ls(s),v=$i(u,p);v.tag=2,a!=null&&(v.callback=a),a=Ns(s,v,p),a!==null&&(Fr(a,s,p,u),Fh(a,s,p))}};function vx(s,a,u,p,v,x,R){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(p,x,R):a.prototype&&a.prototype.isPureReactComponent?!Uc(u,p)||!Uc(v,x):!0}function wx(s,a,u){var p=!1,v=Ps,x=a.contextType;return typeof x=="object"&&x!==null?x=cr(x):(v=Rn(a)?Ao:an.current,p=a.contextTypes,x=(p=p!=null)?nl(s,v):Ps),a=new a(u,x),s.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,a.updater=qh,s.stateNode=a,a._reactInternals=s,p&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=v,s.__reactInternalMemoizedMaskedChildContext=x),a}function _x(s,a,u,p){s=a.state,typeof a.componentWillReceiveProps=="function"&&a.componentWillReceiveProps(u,p),typeof a.UNSAFE_componentWillReceiveProps=="function"&&a.UNSAFE_componentWillReceiveProps(u,p),a.state!==s&&qh.enqueueReplaceState(a,a.state,null)}function Pg(s,a,u,p){var v=s.stateNode;v.props=u,v.state=s.memoizedState,v.refs={},mg(s);var x=a.contextType;typeof x=="object"&&x!==null?v.context=cr(x):(x=Rn(a)?Ao:an.current,v.context=nl(s,x)),v.state=s.memoizedState,x=a.getDerivedStateFromProps,typeof x=="function"&&(Ig(s,a,x,u),v.state=s.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof v.getSnapshotBeforeUpdate=="function"||typeof v.UNSAFE_componentWillMount!="function"&&typeof v.componentWillMount!="function"||(a=v.state,typeof v.componentWillMount=="function"&&v.componentWillMount(),typeof v.UNSAFE_componentWillMount=="function"&&v.UNSAFE_componentWillMount(),a!==v.state&&qh.enqueueReplaceState(v,v.state,null),$h(s,u,v,p),v.state=s.memoizedState),typeof v.componentDidMount=="function"&&(s.flags|=4194308)}function ul(s,a){try{var u="",p=a;do u+=ve(p),p=p.return;while(p);var v=u}catch(x){v=`
Error generating stack: `+x.message+`
`+x.stack}return{value:s,source:a,stack:v,digest:null}}function Rg(s,a,u){return{value:s,source:null,stack:u??null,digest:a??null}}function Ag(s,a){try{console.error(a.value)}catch(u){setTimeout(function(){throw u})}}var ON=typeof WeakMap=="function"?WeakMap:Map;function xx(s,a,u){u=$i(-1,u),u.tag=3,u.payload={element:null};var p=a.value;return u.callback=function(){Zh||(Zh=!0,qg=p),Ag(s,a)},u}function bx(s,a,u){u=$i(-1,u),u.tag=3;var p=s.type.getDerivedStateFromError;if(typeof p=="function"){var v=a.value;u.payload=function(){return p(v)},u.callback=function(){Ag(s,a)}}var x=s.stateNode;return x!==null&&typeof x.componentDidCatch=="function"&&(u.callback=function(){Ag(s,a),typeof p!="function"&&(Ds===null?Ds=new Set([this]):Ds.add(this));var R=a.stack;this.componentDidCatch(a.value,{componentStack:R!==null?R:""})}),u}function Ex(s,a,u){var p=s.pingCache;if(p===null){p=s.pingCache=new ON;var v=new Set;p.set(a,v)}else v=p.get(a),v===void 0&&(v=new Set,p.set(a,v));v.has(u)||(v.add(u),s=GN.bind(null,s,a,u),a.then(s,s))}function Sx(s){do{var a;if((a=s.tag===13)&&(a=s.memoizedState,a=a!==null?a.dehydrated!==null:!0),a)return s;s=s.return}while(s!==null);return null}function Cx(s,a,u,p,v){return(s.mode&1)===0?(s===a?s.flags|=65536:(s.flags|=128,u.flags|=131072,u.flags&=-52805,u.tag===1&&(u.alternate===null?u.tag=17:(a=$i(-1,1),a.tag=2,Ns(u,a,1))),u.lanes|=1),s):(s.flags|=65536,s.lanes=v,s)}var DN=U.ReactCurrentOwner,An=!1;function vn(s,a,u,p){a.child=s===null?H1(a,null,u,p):ol(a,s.child,u,p)}function Tx(s,a,u,p,v){u=u.render;var x=a.ref;return ll(a,v),p=bg(s,a,u,p,x,v),u=Eg(),s!==null&&!An?(a.updateQueue=s.updateQueue,a.flags&=-2053,s.lanes&=~v,Ui(s,a,v)):(ct&&u&&sg(a),a.flags|=1,vn(s,a,p,v),a.child)}function kx(s,a,u,p,v){if(s===null){var x=u.type;return typeof x=="function"&&!Zg(x)&&x.defaultProps===void 0&&u.compare===null&&u.defaultProps===void 0?(a.tag=15,a.type=x,Ix(s,a,x,p,v)):(s=of(u.type,null,p,a,a.mode,v),s.ref=a.ref,s.return=a,a.child=s)}if(x=s.child,(s.lanes&v)===0){var R=x.memoizedProps;if(u=u.compare,u=u!==null?u:Uc,u(R,p)&&s.ref===a.ref)return Ui(s,a,v)}return a.flags|=1,s=Fs(x,p),s.ref=a.ref,s.return=a,a.child=s}function Ix(s,a,u,p,v){if(s!==null){var x=s.memoizedProps;if(Uc(x,p)&&s.ref===a.ref)if(An=!1,a.pendingProps=p=x,(s.lanes&v)!==0)(s.flags&131072)!==0&&(An=!0);else return a.lanes=s.lanes,Ui(s,a,v)}return Ng(s,a,u,p,v)}function Px(s,a,u){var p=a.pendingProps,v=p.children,x=s!==null?s.memoizedState:null;if(p.mode==="hidden")if((a.mode&1)===0)a.memoizedState={baseLanes:0,cachePool:null,transitions:null},rt(hl,Kn),Kn|=u;else{if((u&1073741824)===0)return s=x!==null?x.baseLanes|u:u,a.lanes=a.childLanes=1073741824,a.memoizedState={baseLanes:s,cachePool:null,transitions:null},a.updateQueue=null,rt(hl,Kn),Kn|=s,null;a.memoizedState={baseLanes:0,cachePool:null,transitions:null},p=x!==null?x.baseLanes:u,rt(hl,Kn),Kn|=p}else x!==null?(p=x.baseLanes|u,a.memoizedState=null):p=u,rt(hl,Kn),Kn|=p;return vn(s,a,v,u),a.child}function Rx(s,a){var u=a.ref;(s===null&&u!==null||s!==null&&s.ref!==u)&&(a.flags|=512,a.flags|=2097152)}function Ng(s,a,u,p,v){var x=Rn(u)?Ao:an.current;return x=nl(a,x),ll(a,v),u=bg(s,a,u,p,x,v),p=Eg(),s!==null&&!An?(a.updateQueue=s.updateQueue,a.flags&=-2053,s.lanes&=~v,Ui(s,a,v)):(ct&&p&&sg(a),a.flags|=1,vn(s,a,u,v),a.child)}function Ax(s,a,u,p,v){if(Rn(u)){var x=!0;Rh(a)}else x=!1;if(ll(a,v),a.stateNode===null)Kh(s,a),wx(a,u,p),Pg(a,u,p,v),p=!0;else if(s===null){var R=a.stateNode,V=a.memoizedProps;R.props=V;var z=R.context,X=u.contextType;typeof X=="object"&&X!==null?X=cr(X):(X=Rn(u)?Ao:an.current,X=nl(a,X));var ie=u.getDerivedStateFromProps,se=typeof ie=="function"||typeof R.getSnapshotBeforeUpdate=="function";se||typeof R.UNSAFE_componentWillReceiveProps!="function"&&typeof R.componentWillReceiveProps!="function"||(V!==p||z!==X)&&_x(a,R,p,X),As=!1;var ne=a.memoizedState;R.state=ne,$h(a,p,R,v),z=a.memoizedState,V!==p||ne!==z||Pn.current||As?(typeof ie=="function"&&(Ig(a,u,ie,p),z=a.memoizedState),(V=As||vx(a,u,V,p,ne,z,X))?(se||typeof R.UNSAFE_componentWillMount!="function"&&typeof R.componentWillMount!="function"||(typeof R.componentWillMount=="function"&&R.componentWillMount(),typeof R.UNSAFE_componentWillMount=="function"&&R.UNSAFE_componentWillMount()),typeof R.componentDidMount=="function"&&(a.flags|=4194308)):(typeof R.componentDidMount=="function"&&(a.flags|=4194308),a.memoizedProps=p,a.memoizedState=z),R.props=p,R.state=z,R.context=X,p=V):(typeof R.componentDidMount=="function"&&(a.flags|=4194308),p=!1)}else{R=a.stateNode,G1(s,a),V=a.memoizedProps,X=a.type===a.elementType?V:Mr(a.type,V),R.props=X,se=a.pendingProps,ne=R.context,z=u.contextType,typeof z=="object"&&z!==null?z=cr(z):(z=Rn(u)?Ao:an.current,z=nl(a,z));var pe=u.getDerivedStateFromProps;(ie=typeof pe=="function"||typeof R.getSnapshotBeforeUpdate=="function")||typeof R.UNSAFE_componentWillReceiveProps!="function"&&typeof R.componentWillReceiveProps!="function"||(V!==se||ne!==z)&&_x(a,R,p,z),As=!1,ne=a.memoizedState,R.state=ne,$h(a,p,R,v);var ye=a.memoizedState;V!==se||ne!==ye||Pn.current||As?(typeof pe=="function"&&(Ig(a,u,pe,p),ye=a.memoizedState),(X=As||vx(a,u,X,p,ne,ye,z)||!1)?(ie||typeof R.UNSAFE_componentWillUpdate!="function"&&typeof R.componentWillUpdate!="function"||(typeof R.componentWillUpdate=="function"&&R.componentWillUpdate(p,ye,z),typeof R.UNSAFE_componentWillUpdate=="function"&&R.UNSAFE_componentWillUpdate(p,ye,z)),typeof R.componentDidUpdate=="function"&&(a.flags|=4),typeof R.getSnapshotBeforeUpdate=="function"&&(a.flags|=1024)):(typeof R.componentDidUpdate!="function"||V===s.memoizedProps&&ne===s.memoizedState||(a.flags|=4),typeof R.getSnapshotBeforeUpdate!="function"||V===s.memoizedProps&&ne===s.memoizedState||(a.flags|=1024),a.memoizedProps=p,a.memoizedState=ye),R.props=p,R.state=ye,R.context=z,p=X):(typeof R.componentDidUpdate!="function"||V===s.memoizedProps&&ne===s.memoizedState||(a.flags|=4),typeof R.getSnapshotBeforeUpdate!="function"||V===s.memoizedProps&&ne===s.memoizedState||(a.flags|=1024),p=!1)}return Og(s,a,u,p,x,v)}function Og(s,a,u,p,v,x){Rx(s,a);var R=(a.flags&128)!==0;if(!p&&!R)return v&&L1(a,u,!1),Ui(s,a,x);p=a.stateNode,DN.current=a;var V=R&&typeof u.getDerivedStateFromError!="function"?null:p.render();return a.flags|=1,s!==null&&R?(a.child=ol(a,s.child,null,x),a.child=ol(a,null,V,x)):vn(s,a,V,x),a.memoizedState=p.state,v&&L1(a,u,!0),a.child}function Nx(s){var a=s.stateNode;a.pendingContext?D1(s,a.pendingContext,a.pendingContext!==a.context):a.context&&D1(s,a.context,!1),gg(s,a.containerInfo)}function Ox(s,a,u,p,v){return sl(),cg(v),a.flags|=256,vn(s,a,u,p),a.child}var Dg={dehydrated:null,treeContext:null,retryLane:0};function Mg(s){return{baseLanes:s,cachePool:null,transitions:null}}function Dx(s,a,u){var p=a.pendingProps,v=pt.current,x=!1,R=(a.flags&128)!==0,V;if((V=R)||(V=s!==null&&s.memoizedState===null?!1:(v&2)!==0),V?(x=!0,a.flags&=-129):(s===null||s.memoizedState!==null)&&(v|=1),rt(pt,v&1),s===null)return lg(a),s=a.memoizedState,s!==null&&(s=s.dehydrated,s!==null)?((a.mode&1)===0?a.lanes=1:s.data==="$!"?a.lanes=8:a.lanes=1073741824,null):(R=p.children,s=p.fallback,x?(p=a.mode,x=a.child,R={mode:"hidden",children:R},(p&1)===0&&x!==null?(x.childLanes=0,x.pendingProps=R):x=af(R,p,0,null),s=Vo(s,p,u,null),x.return=a,s.return=a,x.sibling=s,a.child=x,a.child.memoizedState=Mg(u),a.memoizedState=Dg,s):Lg(a,R));if(v=s.memoizedState,v!==null&&(V=v.dehydrated,V!==null))return MN(s,a,R,p,V,v,u);if(x){x=p.fallback,R=a.mode,v=s.child,V=v.sibling;var z={mode:"hidden",children:p.children};return(R&1)===0&&a.child!==v?(p=a.child,p.childLanes=0,p.pendingProps=z,a.deletions=null):(p=Fs(v,z),p.subtreeFlags=v.subtreeFlags&14680064),V!==null?x=Fs(V,x):(x=Vo(x,R,u,null),x.flags|=2),x.return=a,p.return=a,p.sibling=x,a.child=p,p=x,x=a.child,R=s.child.memoizedState,R=R===null?Mg(u):{baseLanes:R.baseLanes|u,cachePool:null,transitions:R.transitions},x.memoizedState=R,x.childLanes=s.childLanes&~u,a.memoizedState=Dg,p}return x=s.child,s=x.sibling,p=Fs(x,{mode:"visible",children:p.children}),(a.mode&1)===0&&(p.lanes=u),p.return=a,p.sibling=null,s!==null&&(u=a.deletions,u===null?(a.deletions=[s],a.flags|=16):u.push(s)),a.child=p,a.memoizedState=null,p}function Lg(s,a){return a=af({mode:"visible",children:a},s.mode,0,null),a.return=s,s.child=a}function Gh(s,a,u,p){return p!==null&&cg(p),ol(a,s.child,null,u),s=Lg(a,a.pendingProps.children),s.flags|=2,a.memoizedState=null,s}function MN(s,a,u,p,v,x,R){if(u)return a.flags&256?(a.flags&=-257,p=Rg(Error(n(422))),Gh(s,a,R,p)):a.memoizedState!==null?(a.child=s.child,a.flags|=128,null):(x=p.fallback,v=a.mode,p=af({mode:"visible",children:p.children},v,0,null),x=Vo(x,v,R,null),x.flags|=2,p.return=a,x.return=a,p.sibling=x,a.child=p,(a.mode&1)!==0&&ol(a,s.child,null,R),a.child.memoizedState=Mg(R),a.memoizedState=Dg,x);if((a.mode&1)===0)return Gh(s,a,R,null);if(v.data==="$!"){if(p=v.nextSibling&&v.nextSibling.dataset,p)var V=p.dgst;return p=V,x=Error(n(419)),p=Rg(x,p,void 0),Gh(s,a,R,p)}if(V=(R&s.childLanes)!==0,An||V){if(p=Wt,p!==null){switch(R&-R){case 4:v=2;break;case 16:v=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:v=32;break;case 536870912:v=268435456;break;default:v=0}v=(v&(p.suspendedLanes|R))!==0?0:v,v!==0&&v!==x.retryLane&&(x.retryLane=v,Fi(s,v),Fr(p,s,v,-1))}return Qg(),p=Rg(Error(n(421))),Gh(s,a,R,p)}return v.data==="$?"?(a.flags|=128,a.child=s.child,a=KN.bind(null,s),v._reactRetry=a,null):(s=x.treeContext,Gn=ks(v.nextSibling),qn=a,ct=!0,Dr=null,s!==null&&(ar[lr++]=Li,ar[lr++]=ji,ar[lr++]=No,Li=s.id,ji=s.overflow,No=a),a=Lg(a,p.children),a.flags|=4096,a)}function Mx(s,a,u){s.lanes|=a;var p=s.alternate;p!==null&&(p.lanes|=a),fg(s.return,a,u)}function jg(s,a,u,p,v){var x=s.memoizedState;x===null?s.memoizedState={isBackwards:a,rendering:null,renderingStartTime:0,last:p,tail:u,tailMode:v}:(x.isBackwards=a,x.rendering=null,x.renderingStartTime=0,x.last=p,x.tail=u,x.tailMode=v)}function Lx(s,a,u){var p=a.pendingProps,v=p.revealOrder,x=p.tail;if(vn(s,a,p.children,u),p=pt.current,(p&2)!==0)p=p&1|2,a.flags|=128;else{if(s!==null&&(s.flags&128)!==0)e:for(s=a.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&Mx(s,u,a);else if(s.tag===19)Mx(s,u,a);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===a)break e;for(;s.sibling===null;){if(s.return===null||s.return===a)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}p&=1}if(rt(pt,p),(a.mode&1)===0)a.memoizedState=null;else switch(v){case"forwards":for(u=a.child,v=null;u!==null;)s=u.alternate,s!==null&&Uh(s)===null&&(v=u),u=u.sibling;u=v,u===null?(v=a.child,a.child=null):(v=u.sibling,u.sibling=null),jg(a,!1,v,u,x);break;case"backwards":for(u=null,v=a.child,a.child=null;v!==null;){if(s=v.alternate,s!==null&&Uh(s)===null){a.child=v;break}s=v.sibling,v.sibling=u,u=v,v=s}jg(a,!0,u,null,x);break;case"together":jg(a,!1,null,null,void 0);break;default:a.memoizedState=null}return a.child}function Kh(s,a){(a.mode&1)===0&&s!==null&&(s.alternate=null,a.alternate=null,a.flags|=2)}function Ui(s,a,u){if(s!==null&&(a.dependencies=s.dependencies),jo|=a.lanes,(u&a.childLanes)===0)return null;if(s!==null&&a.child!==s.child)throw Error(n(153));if(a.child!==null){for(s=a.child,u=Fs(s,s.pendingProps),a.child=u,u.return=a;s.sibling!==null;)s=s.sibling,u=u.sibling=Fs(s,s.pendingProps),u.return=a;u.sibling=null}return a.child}function LN(s,a,u){switch(a.tag){case 3:Nx(a),sl();break;case 5:X1(a);break;case 1:Rn(a.type)&&Rh(a);break;case 4:gg(a,a.stateNode.containerInfo);break;case 10:var p=a.type._context,v=a.memoizedProps.value;rt(Lh,p._currentValue),p._currentValue=v;break;case 13:if(p=a.memoizedState,p!==null)return p.dehydrated!==null?(rt(pt,pt.current&1),a.flags|=128,null):(u&a.child.childLanes)!==0?Dx(s,a,u):(rt(pt,pt.current&1),s=Ui(s,a,u),s!==null?s.sibling:null);rt(pt,pt.current&1);break;case 19:if(p=(u&a.childLanes)!==0,(s.flags&128)!==0){if(p)return Lx(s,a,u);a.flags|=128}if(v=a.memoizedState,v!==null&&(v.rendering=null,v.tail=null,v.lastEffect=null),rt(pt,pt.current),p)break;return null;case 22:case 23:return a.lanes=0,Px(s,a,u)}return Ui(s,a,u)}var jx,Fg,Fx,$x;jx=function(s,a){for(var u=a.child;u!==null;){if(u.tag===5||u.tag===6)s.appendChild(u.stateNode);else if(u.tag!==4&&u.child!==null){u.child.return=u,u=u.child;continue}if(u===a)break;for(;u.sibling===null;){if(u.return===null||u.return===a)return;u=u.return}u.sibling.return=u.return,u=u.sibling}},Fg=function(){},Fx=function(s,a,u,p){var v=s.memoizedProps;if(v!==p){s=a.stateNode,Mo(si.current);var x=null;switch(u){case"input":v=Ei(s,v),p=Ei(s,p),x=[];break;case"select":v=ae({},v,{value:void 0}),p=ae({},p,{value:void 0}),x=[];break;case"textarea":v=fc(s,v),p=fc(s,p),x=[];break;default:typeof v.onClick!="function"&&typeof p.onClick=="function"&&(s.onclick=kh)}wc(u,p);var R;u=null;for(X in v)if(!p.hasOwnProperty(X)&&v.hasOwnProperty(X)&&v[X]!=null)if(X==="style"){var V=v[X];for(R in V)V.hasOwnProperty(R)&&(u||(u={}),u[R]="")}else X!=="dangerouslySetInnerHTML"&&X!=="children"&&X!=="suppressContentEditableWarning"&&X!=="suppressHydrationWarning"&&X!=="autoFocus"&&(i.hasOwnProperty(X)?x||(x=[]):(x=x||[]).push(X,null));for(X in p){var z=p[X];if(V=v?.[X],p.hasOwnProperty(X)&&z!==V&&(z!=null||V!=null))if(X==="style")if(V){for(R in V)!V.hasOwnProperty(R)||z&&z.hasOwnProperty(R)||(u||(u={}),u[R]="");for(R in z)z.hasOwnProperty(R)&&V[R]!==z[R]&&(u||(u={}),u[R]=z[R])}else u||(x||(x=[]),x.push(X,u)),u=z;else X==="dangerouslySetInnerHTML"?(z=z?z.__html:void 0,V=V?V.__html:void 0,z!=null&&V!==z&&(x=x||[]).push(X,z)):X==="children"?typeof z!="string"&&typeof z!="number"||(x=x||[]).push(X,""+z):X!=="suppressContentEditableWarning"&&X!=="suppressHydrationWarning"&&(i.hasOwnProperty(X)?(z!=null&&X==="onScroll"&&ot("scroll",s),x||V===z||(x=[])):(x=x||[]).push(X,z))}u&&(x=x||[]).push("style",u);var X=x;(a.updateQueue=X)&&(a.flags|=4)}},$x=function(s,a,u,p){u!==p&&(a.flags|=4)};function tu(s,a){if(!ct)switch(s.tailMode){case"hidden":a=s.tail;for(var u=null;a!==null;)a.alternate!==null&&(u=a),a=a.sibling;u===null?s.tail=null:u.sibling=null;break;case"collapsed":u=s.tail;for(var p=null;u!==null;)u.alternate!==null&&(p=u),u=u.sibling;p===null?a||s.tail===null?s.tail=null:s.tail.sibling=null:p.sibling=null}}function cn(s){var a=s.alternate!==null&&s.alternate.child===s.child,u=0,p=0;if(a)for(var v=s.child;v!==null;)u|=v.lanes|v.childLanes,p|=v.subtreeFlags&14680064,p|=v.flags&14680064,v.return=s,v=v.sibling;else for(v=s.child;v!==null;)u|=v.lanes|v.childLanes,p|=v.subtreeFlags,p|=v.flags,v.return=s,v=v.sibling;return s.subtreeFlags|=p,s.childLanes=u,a}function jN(s,a,u){var p=a.pendingProps;switch(og(a),a.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return cn(a),null;case 1:return Rn(a.type)&&Ph(),cn(a),null;case 3:return p=a.stateNode,cl(),at(Pn),at(an),wg(),p.pendingContext&&(p.context=p.pendingContext,p.pendingContext=null),(s===null||s.child===null)&&(Dh(a)?a.flags|=4:s===null||s.memoizedState.isDehydrated&&(a.flags&256)===0||(a.flags|=1024,Dr!==null&&(Yg(Dr),Dr=null))),Fg(s,a),cn(a),null;case 5:yg(a);var v=Mo(Xc.current);if(u=a.type,s!==null&&a.stateNode!=null)Fx(s,a,u,p,v),s.ref!==a.ref&&(a.flags|=512,a.flags|=2097152);else{if(!p){if(a.stateNode===null)throw Error(n(166));return cn(a),null}if(s=Mo(si.current),Dh(a)){p=a.stateNode,u=a.type;var x=a.memoizedProps;switch(p[ii]=a,p[Hc]=x,s=(a.mode&1)!==0,u){case"dialog":ot("cancel",p),ot("close",p);break;case"iframe":case"object":case"embed":ot("load",p);break;case"video":case"audio":for(v=0;v<Bc.length;v++)ot(Bc[v],p);break;case"source":ot("error",p);break;case"img":case"image":case"link":ot("error",p),ot("load",p);break;case"details":ot("toggle",p);break;case"input":Ca(p,x),ot("invalid",p);break;case"select":p._wrapperState={wasMultiple:!!x.multiple},ot("invalid",p);break;case"textarea":ka(p,x),ot("invalid",p)}wc(u,x),v=null;for(var R in x)if(x.hasOwnProperty(R)){var V=x[R];R==="children"?typeof V=="string"?p.textContent!==V&&(x.suppressHydrationWarning!==!0&&Th(p.textContent,V,s),v=["children",V]):typeof V=="number"&&p.textContent!==""+V&&(x.suppressHydrationWarning!==!0&&Th(p.textContent,V,s),v=["children",""+V]):i.hasOwnProperty(R)&&V!=null&&R==="onScroll"&&ot("scroll",p)}switch(u){case"input":De(p),Zd(p,x,!0);break;case"textarea":De(p),pc(p);break;case"select":case"option":break;default:typeof x.onClick=="function"&&(p.onclick=kh)}p=v,a.updateQueue=p,p!==null&&(a.flags|=4)}else{R=v.nodeType===9?v:v.ownerDocument,s==="http://www.w3.org/1999/xhtml"&&(s=Dt(u)),s==="http://www.w3.org/1999/xhtml"?u==="script"?(s=R.createElement("div"),s.innerHTML="<script><\/script>",s=s.removeChild(s.firstChild)):typeof p.is=="string"?s=R.createElement(u,{is:p.is}):(s=R.createElement(u),u==="select"&&(R=s,p.multiple?R.multiple=!0:p.size&&(R.size=p.size))):s=R.createElementNS(s,u),s[ii]=a,s[Hc]=p,jx(s,a,!1,!1),a.stateNode=s;e:{switch(R=_c(u,p),u){case"dialog":ot("cancel",s),ot("close",s),v=p;break;case"iframe":case"object":case"embed":ot("load",s),v=p;break;case"video":case"audio":for(v=0;v<Bc.length;v++)ot(Bc[v],s);v=p;break;case"source":ot("error",s),v=p;break;case"img":case"image":case"link":ot("error",s),ot("load",s),v=p;break;case"details":ot("toggle",s),v=p;break;case"input":Ca(s,p),v=Ei(s,p),ot("invalid",s);break;case"option":v=p;break;case"select":s._wrapperState={wasMultiple:!!p.multiple},v=ae({},p,{value:void 0}),ot("invalid",s);break;case"textarea":ka(s,p),v=fc(s,p),ot("invalid",s);break;default:v=p}wc(u,v),V=v;for(x in V)if(V.hasOwnProperty(x)){var z=V[x];x==="style"?yc(s,z):x==="dangerouslySetInnerHTML"?(z=z?z.__html:void 0,z!=null&&mc(s,z)):x==="children"?typeof z=="string"?(u!=="textarea"||z!=="")&&ms(s,z):typeof z=="number"&&ms(s,""+z):x!=="suppressContentEditableWarning"&&x!=="suppressHydrationWarning"&&x!=="autoFocus"&&(i.hasOwnProperty(x)?z!=null&&x==="onScroll"&&ot("scroll",s):z!=null&&O(s,x,z,R))}switch(u){case"input":De(s),Zd(s,p,!1);break;case"textarea":De(s),pc(s);break;case"option":p.value!=null&&s.setAttribute("value",""+Te(p.value));break;case"select":s.multiple=!!p.multiple,x=p.value,x!=null?Ci(s,!!p.multiple,x,!1):p.defaultValue!=null&&Ci(s,!!p.multiple,p.defaultValue,!0);break;default:typeof v.onClick=="function"&&(s.onclick=kh)}switch(u){case"button":case"input":case"select":case"textarea":p=!!p.autoFocus;break e;case"img":p=!0;break e;default:p=!1}}p&&(a.flags|=4)}a.ref!==null&&(a.flags|=512,a.flags|=2097152)}return cn(a),null;case 6:if(s&&a.stateNode!=null)$x(s,a,s.memoizedProps,p);else{if(typeof p!="string"&&a.stateNode===null)throw Error(n(166));if(u=Mo(Xc.current),Mo(si.current),Dh(a)){if(p=a.stateNode,u=a.memoizedProps,p[ii]=a,(x=p.nodeValue!==u)&&(s=qn,s!==null))switch(s.tag){case 3:Th(p.nodeValue,u,(s.mode&1)!==0);break;case 5:s.memoizedProps.suppressHydrationWarning!==!0&&Th(p.nodeValue,u,(s.mode&1)!==0)}x&&(a.flags|=4)}else p=(u.nodeType===9?u:u.ownerDocument).createTextNode(p),p[ii]=a,a.stateNode=p}return cn(a),null;case 13:if(at(pt),p=a.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(ct&&Gn!==null&&(a.mode&1)!==0&&(a.flags&128)===0)B1(),sl(),a.flags|=98560,x=!1;else if(x=Dh(a),p!==null&&p.dehydrated!==null){if(s===null){if(!x)throw Error(n(318));if(x=a.memoizedState,x=x!==null?x.dehydrated:null,!x)throw Error(n(317));x[ii]=a}else sl(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;cn(a),x=!1}else Dr!==null&&(Yg(Dr),Dr=null),x=!0;if(!x)return a.flags&65536?a:null}return(a.flags&128)!==0?(a.lanes=u,a):(p=p!==null,p!==(s!==null&&s.memoizedState!==null)&&p&&(a.child.flags|=8192,(a.mode&1)!==0&&(s===null||(pt.current&1)!==0?Ft===0&&(Ft=3):Qg())),a.updateQueue!==null&&(a.flags|=4),cn(a),null);case 4:return cl(),Fg(s,a),s===null&&zc(a.stateNode.containerInfo),cn(a),null;case 10:return hg(a.type._context),cn(a),null;case 17:return Rn(a.type)&&Ph(),cn(a),null;case 19:if(at(pt),x=a.memoizedState,x===null)return cn(a),null;if(p=(a.flags&128)!==0,R=x.rendering,R===null)if(p)tu(x,!1);else{if(Ft!==0||s!==null&&(s.flags&128)!==0)for(s=a.child;s!==null;){if(R=Uh(s),R!==null){for(a.flags|=128,tu(x,!1),p=R.updateQueue,p!==null&&(a.updateQueue=p,a.flags|=4),a.subtreeFlags=0,p=u,u=a.child;u!==null;)x=u,s=p,x.flags&=14680066,R=x.alternate,R===null?(x.childLanes=0,x.lanes=s,x.child=null,x.subtreeFlags=0,x.memoizedProps=null,x.memoizedState=null,x.updateQueue=null,x.dependencies=null,x.stateNode=null):(x.childLanes=R.childLanes,x.lanes=R.lanes,x.child=R.child,x.subtreeFlags=0,x.deletions=null,x.memoizedProps=R.memoizedProps,x.memoizedState=R.memoizedState,x.updateQueue=R.updateQueue,x.type=R.type,s=R.dependencies,x.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),u=u.sibling;return rt(pt,pt.current&1|2),a.child}s=s.sibling}x.tail!==null&&nt()>fl&&(a.flags|=128,p=!0,tu(x,!1),a.lanes=4194304)}else{if(!p)if(s=Uh(R),s!==null){if(a.flags|=128,p=!0,u=s.updateQueue,u!==null&&(a.updateQueue=u,a.flags|=4),tu(x,!0),x.tail===null&&x.tailMode==="hidden"&&!R.alternate&&!ct)return cn(a),null}else 2*nt()-x.renderingStartTime>fl&&u!==1073741824&&(a.flags|=128,p=!0,tu(x,!1),a.lanes=4194304);x.isBackwards?(R.sibling=a.child,a.child=R):(u=x.last,u!==null?u.sibling=R:a.child=R,x.last=R)}return x.tail!==null?(a=x.tail,x.rendering=a,x.tail=a.sibling,x.renderingStartTime=nt(),a.sibling=null,u=pt.current,rt(pt,p?u&1|2:u&1),a):(cn(a),null);case 22:case 23:return Jg(),p=a.memoizedState!==null,s!==null&&s.memoizedState!==null!==p&&(a.flags|=8192),p&&(a.mode&1)!==0?(Kn&1073741824)!==0&&(cn(a),a.subtreeFlags&6&&(a.flags|=8192)):cn(a),null;case 24:return null;case 25:return null}throw Error(n(156,a.tag))}function FN(s,a){switch(og(a),a.tag){case 1:return Rn(a.type)&&Ph(),s=a.flags,s&65536?(a.flags=s&-65537|128,a):null;case 3:return cl(),at(Pn),at(an),wg(),s=a.flags,(s&65536)!==0&&(s&128)===0?(a.flags=s&-65537|128,a):null;case 5:return yg(a),null;case 13:if(at(pt),s=a.memoizedState,s!==null&&s.dehydrated!==null){if(a.alternate===null)throw Error(n(340));sl()}return s=a.flags,s&65536?(a.flags=s&-65537|128,a):null;case 19:return at(pt),null;case 4:return cl(),null;case 10:return hg(a.type._context),null;case 22:case 23:return Jg(),null;case 24:return null;default:return null}}var Yh=!1,un=!1,$N=typeof WeakSet=="function"?WeakSet:Set,ge=null;function dl(s,a){var u=s.ref;if(u!==null)if(typeof u=="function")try{u(null)}catch(p){wt(s,a,p)}else u.current=null}function $g(s,a,u){try{u()}catch(p){wt(s,a,p)}}var Ux=!1;function UN(s,a){if(Jm=Es,s=v1(),zm(s)){if("selectionStart"in s)var u={start:s.selectionStart,end:s.selectionEnd};else e:{u=(u=s.ownerDocument)&&u.defaultView||window;var p=u.getSelection&&u.getSelection();if(p&&p.rangeCount!==0){u=p.anchorNode;var v=p.anchorOffset,x=p.focusNode;p=p.focusOffset;try{u.nodeType,x.nodeType}catch{u=null;break e}var R=0,V=-1,z=-1,X=0,ie=0,se=s,ne=null;t:for(;;){for(var pe;se!==u||v!==0&&se.nodeType!==3||(V=R+v),se!==x||p!==0&&se.nodeType!==3||(z=R+p),se.nodeType===3&&(R+=se.nodeValue.length),(pe=se.firstChild)!==null;)ne=se,se=pe;for(;;){if(se===s)break t;if(ne===u&&++X===v&&(V=R),ne===x&&++ie===p&&(z=R),(pe=se.nextSibling)!==null)break;se=ne,ne=se.parentNode}se=pe}u=V===-1||z===-1?null:{start:V,end:z}}else u=null}u=u||{start:0,end:0}}else u=null;for(Qm={focusedElem:s,selectionRange:u},Es=!1,ge=a;ge!==null;)if(a=ge,s=a.child,(a.subtreeFlags&1028)!==0&&s!==null)s.return=a,ge=s;else for(;ge!==null;){a=ge;try{var ye=a.alternate;if((a.flags&1024)!==0)switch(a.tag){case 0:case 11:case 15:break;case 1:if(ye!==null){var we=ye.memoizedProps,kt=ye.memoizedState,K=a.stateNode,W=K.getSnapshotBeforeUpdate(a.elementType===a.type?we:Mr(a.type,we),kt);K.__reactInternalSnapshotBeforeUpdate=W}break;case 3:var Y=a.stateNode.containerInfo;Y.nodeType===1?Y.textContent="":Y.nodeType===9&&Y.documentElement&&Y.removeChild(Y.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(oe){wt(a,a.return,oe)}if(s=a.sibling,s!==null){s.return=a.return,ge=s;break}ge=a.return}return ye=Ux,Ux=!1,ye}function nu(s,a,u){var p=a.updateQueue;if(p=p!==null?p.lastEffect:null,p!==null){var v=p=p.next;do{if((v.tag&s)===s){var x=v.destroy;v.destroy=void 0,x!==void 0&&$g(a,u,x)}v=v.next}while(v!==p)}}function Xh(s,a){if(a=a.updateQueue,a=a!==null?a.lastEffect:null,a!==null){var u=a=a.next;do{if((u.tag&s)===s){var p=u.create;u.destroy=p()}u=u.next}while(u!==a)}}function Ug(s){var a=s.ref;if(a!==null){var u=s.stateNode;switch(s.tag){case 5:s=u;break;default:s=u}typeof a=="function"?a(s):a.current=s}}function Vx(s){var a=s.alternate;a!==null&&(s.alternate=null,Vx(a)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(a=s.stateNode,a!==null&&(delete a[ii],delete a[Hc],delete a[ng],delete a[bN],delete a[EN])),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}function Bx(s){return s.tag===5||s.tag===3||s.tag===4}function zx(s){e:for(;;){for(;s.sibling===null;){if(s.return===null||Bx(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.flags&2||s.child===null||s.tag===4)continue e;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function Vg(s,a,u){var p=s.tag;if(p===5||p===6)s=s.stateNode,a?u.nodeType===8?u.parentNode.insertBefore(s,a):u.insertBefore(s,a):(u.nodeType===8?(a=u.parentNode,a.insertBefore(s,u)):(a=u,a.appendChild(s)),u=u._reactRootContainer,u!=null||a.onclick!==null||(a.onclick=kh));else if(p!==4&&(s=s.child,s!==null))for(Vg(s,a,u),s=s.sibling;s!==null;)Vg(s,a,u),s=s.sibling}function Bg(s,a,u){var p=s.tag;if(p===5||p===6)s=s.stateNode,a?u.insertBefore(s,a):u.appendChild(s);else if(p!==4&&(s=s.child,s!==null))for(Bg(s,a,u),s=s.sibling;s!==null;)Bg(s,a,u),s=s.sibling}var Zt=null,Lr=!1;function Os(s,a,u){for(u=u.child;u!==null;)Wx(s,a,u),u=u.sibling}function Wx(s,a,u){if(zn&&typeof zn.onCommitFiberUnmount=="function")try{zn.onCommitFiberUnmount(So,u)}catch{}switch(u.tag){case 5:un||dl(u,a);case 6:var p=Zt,v=Lr;Zt=null,Os(s,a,u),Zt=p,Lr=v,Zt!==null&&(Lr?(s=Zt,u=u.stateNode,s.nodeType===8?s.parentNode.removeChild(u):s.removeChild(u)):Zt.removeChild(u.stateNode));break;case 18:Zt!==null&&(Lr?(s=Zt,u=u.stateNode,s.nodeType===8?tg(s.parentNode,u):s.nodeType===1&&tg(s,u),Ar(s)):tg(Zt,u.stateNode));break;case 4:p=Zt,v=Lr,Zt=u.stateNode.containerInfo,Lr=!0,Os(s,a,u),Zt=p,Lr=v;break;case 0:case 11:case 14:case 15:if(!un&&(p=u.updateQueue,p!==null&&(p=p.lastEffect,p!==null))){v=p=p.next;do{var x=v,R=x.destroy;x=x.tag,R!==void 0&&((x&2)!==0||(x&4)!==0)&&$g(u,a,R),v=v.next}while(v!==p)}Os(s,a,u);break;case 1:if(!un&&(dl(u,a),p=u.stateNode,typeof p.componentWillUnmount=="function"))try{p.props=u.memoizedProps,p.state=u.memoizedState,p.componentWillUnmount()}catch(V){wt(u,a,V)}Os(s,a,u);break;case 21:Os(s,a,u);break;case 22:u.mode&1?(un=(p=un)||u.memoizedState!==null,Os(s,a,u),un=p):Os(s,a,u);break;default:Os(s,a,u)}}function Hx(s){var a=s.updateQueue;if(a!==null){s.updateQueue=null;var u=s.stateNode;u===null&&(u=s.stateNode=new $N),a.forEach(function(p){var v=YN.bind(null,s,p);u.has(p)||(u.add(p),p.then(v,v))})}}function jr(s,a){var u=a.deletions;if(u!==null)for(var p=0;p<u.length;p++){var v=u[p];try{var x=s,R=a,V=R;e:for(;V!==null;){switch(V.tag){case 5:Zt=V.stateNode,Lr=!1;break e;case 3:Zt=V.stateNode.containerInfo,Lr=!0;break e;case 4:Zt=V.stateNode.containerInfo,Lr=!0;break e}V=V.return}if(Zt===null)throw Error(n(160));Wx(x,R,v),Zt=null,Lr=!1;var z=v.alternate;z!==null&&(z.return=null),v.return=null}catch(X){wt(v,a,X)}}if(a.subtreeFlags&12854)for(a=a.child;a!==null;)qx(a,s),a=a.sibling}function qx(s,a){var u=s.alternate,p=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:if(jr(a,s),ai(s),p&4){try{nu(3,s,s.return),Xh(3,s)}catch(we){wt(s,s.return,we)}try{nu(5,s,s.return)}catch(we){wt(s,s.return,we)}}break;case 1:jr(a,s),ai(s),p&512&&u!==null&&dl(u,u.return);break;case 5:if(jr(a,s),ai(s),p&512&&u!==null&&dl(u,u.return),s.flags&32){var v=s.stateNode;try{ms(v,"")}catch(we){wt(s,s.return,we)}}if(p&4&&(v=s.stateNode,v!=null)){var x=s.memoizedProps,R=u!==null?u.memoizedProps:x,V=s.type,z=s.updateQueue;if(s.updateQueue=null,z!==null)try{V==="input"&&x.type==="radio"&&x.name!=null&&dc(v,x),_c(V,R);var X=_c(V,x);for(R=0;R<z.length;R+=2){var ie=z[R],se=z[R+1];ie==="style"?yc(v,se):ie==="dangerouslySetInnerHTML"?mc(v,se):ie==="children"?ms(v,se):O(v,ie,se,X)}switch(V){case"input":hc(v,x);break;case"textarea":Ia(v,x);break;case"select":var ne=v._wrapperState.wasMultiple;v._wrapperState.wasMultiple=!!x.multiple;var pe=x.value;pe!=null?Ci(v,!!x.multiple,pe,!1):ne!==!!x.multiple&&(x.defaultValue!=null?Ci(v,!!x.multiple,x.defaultValue,!0):Ci(v,!!x.multiple,x.multiple?[]:"",!1))}v[Hc]=x}catch(we){wt(s,s.return,we)}}break;case 6:if(jr(a,s),ai(s),p&4){if(s.stateNode===null)throw Error(n(162));v=s.stateNode,x=s.memoizedProps;try{v.nodeValue=x}catch(we){wt(s,s.return,we)}}break;case 3:if(jr(a,s),ai(s),p&4&&u!==null&&u.memoizedState.isDehydrated)try{Ar(a.containerInfo)}catch(we){wt(s,s.return,we)}break;case 4:jr(a,s),ai(s);break;case 13:jr(a,s),ai(s),v=s.child,v.flags&8192&&(x=v.memoizedState!==null,v.stateNode.isHidden=x,!x||v.alternate!==null&&v.alternate.memoizedState!==null||(Hg=nt())),p&4&&Hx(s);break;case 22:if(ie=u!==null&&u.memoizedState!==null,s.mode&1?(un=(X=un)||ie,jr(a,s),un=X):jr(a,s),ai(s),p&8192){if(X=s.memoizedState!==null,(s.stateNode.isHidden=X)&&!ie&&(s.mode&1)!==0)for(ge=s,ie=s.child;ie!==null;){for(se=ge=ie;ge!==null;){switch(ne=ge,pe=ne.child,ne.tag){case 0:case 11:case 14:case 15:nu(4,ne,ne.return);break;case 1:dl(ne,ne.return);var ye=ne.stateNode;if(typeof ye.componentWillUnmount=="function"){p=ne,u=ne.return;try{a=p,ye.props=a.memoizedProps,ye.state=a.memoizedState,ye.componentWillUnmount()}catch(we){wt(p,u,we)}}break;case 5:dl(ne,ne.return);break;case 22:if(ne.memoizedState!==null){Yx(se);continue}}pe!==null?(pe.return=ne,ge=pe):Yx(se)}ie=ie.sibling}e:for(ie=null,se=s;;){if(se.tag===5){if(ie===null){ie=se;try{v=se.stateNode,X?(x=v.style,typeof x.setProperty=="function"?x.setProperty("display","none","important"):x.display="none"):(V=se.stateNode,z=se.memoizedProps.style,R=z!=null&&z.hasOwnProperty("display")?z.display:null,V.style.display=gc("display",R))}catch(we){wt(s,s.return,we)}}}else if(se.tag===6){if(ie===null)try{se.stateNode.nodeValue=X?"":se.memoizedProps}catch(we){wt(s,s.return,we)}}else if((se.tag!==22&&se.tag!==23||se.memoizedState===null||se===s)&&se.child!==null){se.child.return=se,se=se.child;continue}if(se===s)break e;for(;se.sibling===null;){if(se.return===null||se.return===s)break e;ie===se&&(ie=null),se=se.return}ie===se&&(ie=null),se.sibling.return=se.return,se=se.sibling}}break;case 19:jr(a,s),ai(s),p&4&&Hx(s);break;case 21:break;default:jr(a,s),ai(s)}}function ai(s){var a=s.flags;if(a&2){try{e:{for(var u=s.return;u!==null;){if(Bx(u)){var p=u;break e}u=u.return}throw Error(n(160))}switch(p.tag){case 5:var v=p.stateNode;p.flags&32&&(ms(v,""),p.flags&=-33);var x=zx(s);Bg(s,x,v);break;case 3:case 4:var R=p.stateNode.containerInfo,V=zx(s);Vg(s,V,R);break;default:throw Error(n(161))}}catch(z){wt(s,s.return,z)}s.flags&=-3}a&4096&&(s.flags&=-4097)}function VN(s,a,u){ge=s,Gx(s)}function Gx(s,a,u){for(var p=(s.mode&1)!==0;ge!==null;){var v=ge,x=v.child;if(v.tag===22&&p){var R=v.memoizedState!==null||Yh;if(!R){var V=v.alternate,z=V!==null&&V.memoizedState!==null||un;V=Yh;var X=un;if(Yh=R,(un=z)&&!X)for(ge=v;ge!==null;)R=ge,z=R.child,R.tag===22&&R.memoizedState!==null?Xx(v):z!==null?(z.return=R,ge=z):Xx(v);for(;x!==null;)ge=x,Gx(x),x=x.sibling;ge=v,Yh=V,un=X}Kx(s)}else(v.subtreeFlags&8772)!==0&&x!==null?(x.return=v,ge=x):Kx(s)}}function Kx(s){for(;ge!==null;){var a=ge;if((a.flags&8772)!==0){var u=a.alternate;try{if((a.flags&8772)!==0)switch(a.tag){case 0:case 11:case 15:un||Xh(5,a);break;case 1:var p=a.stateNode;if(a.flags&4&&!un)if(u===null)p.componentDidMount();else{var v=a.elementType===a.type?u.memoizedProps:Mr(a.type,u.memoizedProps);p.componentDidUpdate(v,u.memoizedState,p.__reactInternalSnapshotBeforeUpdate)}var x=a.updateQueue;x!==null&&Y1(a,x,p);break;case 3:var R=a.updateQueue;if(R!==null){if(u=null,a.child!==null)switch(a.child.tag){case 5:u=a.child.stateNode;break;case 1:u=a.child.stateNode}Y1(a,R,u)}break;case 5:var V=a.stateNode;if(u===null&&a.flags&4){u=V;var z=a.memoizedProps;switch(a.type){case"button":case"input":case"select":case"textarea":z.autoFocus&&u.focus();break;case"img":z.src&&(u.src=z.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(a.memoizedState===null){var X=a.alternate;if(X!==null){var ie=X.memoizedState;if(ie!==null){var se=ie.dehydrated;se!==null&&Ar(se)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}un||a.flags&512&&Ug(a)}catch(ne){wt(a,a.return,ne)}}if(a===s){ge=null;break}if(u=a.sibling,u!==null){u.return=a.return,ge=u;break}ge=a.return}}function Yx(s){for(;ge!==null;){var a=ge;if(a===s){ge=null;break}var u=a.sibling;if(u!==null){u.return=a.return,ge=u;break}ge=a.return}}function Xx(s){for(;ge!==null;){var a=ge;try{switch(a.tag){case 0:case 11:case 15:var u=a.return;try{Xh(4,a)}catch(z){wt(a,u,z)}break;case 1:var p=a.stateNode;if(typeof p.componentDidMount=="function"){var v=a.return;try{p.componentDidMount()}catch(z){wt(a,v,z)}}var x=a.return;try{Ug(a)}catch(z){wt(a,x,z)}break;case 5:var R=a.return;try{Ug(a)}catch(z){wt(a,R,z)}}}catch(z){wt(a,a.return,z)}if(a===s){ge=null;break}var V=a.sibling;if(V!==null){V.return=a.return,ge=V;break}ge=a.return}}var BN=Math.ceil,Jh=U.ReactCurrentDispatcher,zg=U.ReactCurrentOwner,dr=U.ReactCurrentBatchConfig,ze=0,Wt=null,Nt=null,en=0,Kn=0,hl=Is(0),Ft=0,ru=null,jo=0,Qh=0,Wg=0,iu=null,Nn=null,Hg=0,fl=1/0,Vi=null,Zh=!1,qg=null,Ds=null,ef=!1,Ms=null,tf=0,su=0,Gg=null,nf=-1,rf=0;function wn(){return(ze&6)!==0?nt():nf!==-1?nf:nf=nt()}function Ls(s){return(s.mode&1)===0?1:(ze&2)!==0&&en!==0?en&-en:CN.transition!==null?(rf===0&&(rf=To()),rf):(s=$e,s!==0||(s=window.event,s=s===void 0?16:Oc(s.type)),s)}function Fr(s,a,u,p){if(50<su)throw su=0,Gg=null,Error(n(185));ws(s,u,p),((ze&2)===0||s!==Wt)&&(s===Wt&&((ze&2)===0&&(Qh|=u),Ft===4&&js(s,en)),On(s,p),u===1&&ze===0&&(a.mode&1)===0&&(fl=nt()+500,Ah&&Rs()))}function On(s,a){var u=s.callbackNode;Pi(s,a);var p=Co(s,s===Wt?en:0);if(p===0)u!==null&&Ic(u),s.callbackNode=null,s.callbackPriority=0;else if(a=p&-p,s.callbackPriority!==a){if(u!=null&&Ic(u),a===1)s.tag===0?SN(Qx.bind(null,s)):j1(Qx.bind(null,s)),_N(function(){(ze&6)===0&&Rs()}),u=null;else{switch(xs(p)){case 1:u=Eo;break;case 4:u=gs;break;case 16:u=sr;break;case 536870912:u=rh;break;default:u=sr}u=ob(u,Jx.bind(null,s))}s.callbackPriority=a,s.callbackNode=u}}function Jx(s,a){if(nf=-1,rf=0,(ze&6)!==0)throw Error(n(327));var u=s.callbackNode;if(pl()&&s.callbackNode!==u)return null;var p=Co(s,s===Wt?en:0);if(p===0)return null;if((p&30)!==0||(p&s.expiredLanes)!==0||a)a=sf(s,p);else{a=p;var v=ze;ze|=2;var x=eb();(Wt!==s||en!==a)&&(Vi=null,fl=nt()+500,$o(s,a));do try{HN();break}catch(V){Zx(s,V)}while(!0);dg(),Jh.current=x,ze=v,Nt!==null?a=0:(Wt=null,en=0,a=Ft)}if(a!==0){if(a===2&&(v=Wn(s),v!==0&&(p=v,a=Kg(s,v))),a===1)throw u=ru,$o(s,0),js(s,p),On(s,nt()),u;if(a===6)js(s,p);else{if(v=s.current.alternate,(p&30)===0&&!zN(v)&&(a=sf(s,p),a===2&&(x=Wn(s),x!==0&&(p=x,a=Kg(s,x))),a===1))throw u=ru,$o(s,0),js(s,p),On(s,nt()),u;switch(s.finishedWork=v,s.finishedLanes=p,a){case 0:case 1:throw Error(n(345));case 2:Uo(s,Nn,Vi);break;case 3:if(js(s,p),(p&130023424)===p&&(a=Hg+500-nt(),10<a)){if(Co(s,0)!==0)break;if(v=s.suspendedLanes,(v&p)!==p){wn(),s.pingedLanes|=s.suspendedLanes&v;break}s.timeoutHandle=eg(Uo.bind(null,s,Nn,Vi),a);break}Uo(s,Nn,Vi);break;case 4:if(js(s,p),(p&4194240)===p)break;for(a=s.eventTimes,v=-1;0<p;){var R=31-yn(p);x=1<<R,R=a[R],R>v&&(v=R),p&=~x}if(p=v,p=nt()-p,p=(120>p?120:480>p?480:1080>p?1080:1920>p?1920:3e3>p?3e3:4320>p?4320:1960*BN(p/1960))-p,10<p){s.timeoutHandle=eg(Uo.bind(null,s,Nn,Vi),p);break}Uo(s,Nn,Vi);break;case 5:Uo(s,Nn,Vi);break;default:throw Error(n(329))}}}return On(s,nt()),s.callbackNode===u?Jx.bind(null,s):null}function Kg(s,a){var u=iu;return s.current.memoizedState.isDehydrated&&($o(s,a).flags|=256),s=sf(s,a),s!==2&&(a=Nn,Nn=u,a!==null&&Yg(a)),s}function Yg(s){Nn===null?Nn=s:Nn.push.apply(Nn,s)}function zN(s){for(var a=s;;){if(a.flags&16384){var u=a.updateQueue;if(u!==null&&(u=u.stores,u!==null))for(var p=0;p<u.length;p++){var v=u[p],x=v.getSnapshot;v=v.value;try{if(!Or(x(),v))return!1}catch{return!1}}}if(u=a.child,a.subtreeFlags&16384&&u!==null)u.return=a,a=u;else{if(a===s)break;for(;a.sibling===null;){if(a.return===null||a.return===s)return!0;a=a.return}a.sibling.return=a.return,a=a.sibling}}return!0}function js(s,a){for(a&=~Wg,a&=~Qh,s.suspendedLanes|=a,s.pingedLanes&=~a,s=s.expirationTimes;0<a;){var u=31-yn(a),p=1<<u;s[u]=-1,a&=~p}}function Qx(s){if((ze&6)!==0)throw Error(n(327));pl();var a=Co(s,0);if((a&1)===0)return On(s,nt()),null;var u=sf(s,a);if(s.tag!==0&&u===2){var p=Wn(s);p!==0&&(a=p,u=Kg(s,p))}if(u===1)throw u=ru,$o(s,0),js(s,a),On(s,nt()),u;if(u===6)throw Error(n(345));return s.finishedWork=s.current.alternate,s.finishedLanes=a,Uo(s,Nn,Vi),On(s,nt()),null}function Xg(s,a){var u=ze;ze|=1;try{return s(a)}finally{ze=u,ze===0&&(fl=nt()+500,Ah&&Rs())}}function Fo(s){Ms!==null&&Ms.tag===0&&(ze&6)===0&&pl();var a=ze;ze|=1;var u=dr.transition,p=$e;try{if(dr.transition=null,$e=1,s)return s()}finally{$e=p,dr.transition=u,ze=a,(ze&6)===0&&Rs()}}function Jg(){Kn=hl.current,at(hl)}function $o(s,a){s.finishedWork=null,s.finishedLanes=0;var u=s.timeoutHandle;if(u!==-1&&(s.timeoutHandle=-1,wN(u)),Nt!==null)for(u=Nt.return;u!==null;){var p=u;switch(og(p),p.tag){case 1:p=p.type.childContextTypes,p!=null&&Ph();break;case 3:cl(),at(Pn),at(an),wg();break;case 5:yg(p);break;case 4:cl();break;case 13:at(pt);break;case 19:at(pt);break;case 10:hg(p.type._context);break;case 22:case 23:Jg()}u=u.return}if(Wt=s,Nt=s=Fs(s.current,null),en=Kn=a,Ft=0,ru=null,Wg=Qh=jo=0,Nn=iu=null,Do!==null){for(a=0;a<Do.length;a++)if(u=Do[a],p=u.interleaved,p!==null){u.interleaved=null;var v=p.next,x=u.pending;if(x!==null){var R=x.next;x.next=v,p.next=R}u.pending=p}Do=null}return s}function Zx(s,a){do{var u=Nt;try{if(dg(),Vh.current=Hh,Bh){for(var p=mt.memoizedState;p!==null;){var v=p.queue;v!==null&&(v.pending=null),p=p.next}Bh=!1}if(Lo=0,zt=jt=mt=null,Jc=!1,Qc=0,zg.current=null,u===null||u.return===null){Ft=1,ru=a,Nt=null;break}e:{var x=s,R=u.return,V=u,z=a;if(a=en,V.flags|=32768,z!==null&&typeof z=="object"&&typeof z.then=="function"){var X=z,ie=V,se=ie.tag;if((ie.mode&1)===0&&(se===0||se===11||se===15)){var ne=ie.alternate;ne?(ie.updateQueue=ne.updateQueue,ie.memoizedState=ne.memoizedState,ie.lanes=ne.lanes):(ie.updateQueue=null,ie.memoizedState=null)}var pe=Sx(R);if(pe!==null){pe.flags&=-257,Cx(pe,R,V,x,a),pe.mode&1&&Ex(x,X,a),a=pe,z=X;var ye=a.updateQueue;if(ye===null){var we=new Set;we.add(z),a.updateQueue=we}else ye.add(z);break e}else{if((a&1)===0){Ex(x,X,a),Qg();break e}z=Error(n(426))}}else if(ct&&V.mode&1){var kt=Sx(R);if(kt!==null){(kt.flags&65536)===0&&(kt.flags|=256),Cx(kt,R,V,x,a),cg(ul(z,V));break e}}x=z=ul(z,V),Ft!==4&&(Ft=2),iu===null?iu=[x]:iu.push(x),x=R;do{switch(x.tag){case 3:x.flags|=65536,a&=-a,x.lanes|=a;var K=xx(x,z,a);K1(x,K);break e;case 1:V=z;var W=x.type,Y=x.stateNode;if((x.flags&128)===0&&(typeof W.getDerivedStateFromError=="function"||Y!==null&&typeof Y.componentDidCatch=="function"&&(Ds===null||!Ds.has(Y)))){x.flags|=65536,a&=-a,x.lanes|=a;var oe=bx(x,V,a);K1(x,oe);break e}}x=x.return}while(x!==null)}nb(u)}catch(xe){a=xe,Nt===u&&u!==null&&(Nt=u=u.return);continue}break}while(!0)}function eb(){var s=Jh.current;return Jh.current=Hh,s===null?Hh:s}function Qg(){(Ft===0||Ft===3||Ft===2)&&(Ft=4),Wt===null||(jo&268435455)===0&&(Qh&268435455)===0||js(Wt,en)}function sf(s,a){var u=ze;ze|=2;var p=eb();(Wt!==s||en!==a)&&(Vi=null,$o(s,a));do try{WN();break}catch(v){Zx(s,v)}while(!0);if(dg(),ze=u,Jh.current=p,Nt!==null)throw Error(n(261));return Wt=null,en=0,Ft}function WN(){for(;Nt!==null;)tb(Nt)}function HN(){for(;Nt!==null&&!th();)tb(Nt)}function tb(s){var a=sb(s.alternate,s,Kn);s.memoizedProps=s.pendingProps,a===null?nb(s):Nt=a,zg.current=null}function nb(s){var a=s;do{var u=a.alternate;if(s=a.return,(a.flags&32768)===0){if(u=jN(u,a,Kn),u!==null){Nt=u;return}}else{if(u=FN(u,a),u!==null){u.flags&=32767,Nt=u;return}if(s!==null)s.flags|=32768,s.subtreeFlags=0,s.deletions=null;else{Ft=6,Nt=null;return}}if(a=a.sibling,a!==null){Nt=a;return}Nt=a=s}while(a!==null);Ft===0&&(Ft=5)}function Uo(s,a,u){var p=$e,v=dr.transition;try{dr.transition=null,$e=1,qN(s,a,u,p)}finally{dr.transition=v,$e=p}return null}function qN(s,a,u,p){do pl();while(Ms!==null);if((ze&6)!==0)throw Error(n(327));u=s.finishedWork;var v=s.finishedLanes;if(u===null)return null;if(s.finishedWork=null,s.finishedLanes=0,u===s.current)throw Error(n(177));s.callbackNode=null,s.callbackPriority=0;var x=u.lanes|u.childLanes;if(Qe(s,x),s===Wt&&(Nt=Wt=null,en=0),(u.subtreeFlags&2064)===0&&(u.flags&2064)===0||ef||(ef=!0,ob(sr,function(){return pl(),null})),x=(u.flags&15990)!==0,(u.subtreeFlags&15990)!==0||x){x=dr.transition,dr.transition=null;var R=$e;$e=1;var V=ze;ze|=4,zg.current=null,UN(s,u),qx(u,s),hN(Qm),Es=!!Jm,Qm=Jm=null,s.current=u,VN(u),Mm(),ze=V,$e=R,dr.transition=x}else s.current=u;if(ef&&(ef=!1,Ms=s,tf=v),x=s.pendingLanes,x===0&&(Ds=null),ih(u.stateNode),On(s,nt()),a!==null)for(p=s.onRecoverableError,u=0;u<a.length;u++)v=a[u],p(v.value,{componentStack:v.stack,digest:v.digest});if(Zh)throw Zh=!1,s=qg,qg=null,s;return(tf&1)!==0&&s.tag!==0&&pl(),x=s.pendingLanes,(x&1)!==0?s===Gg?su++:(su=0,Gg=s):su=0,Rs(),null}function pl(){if(Ms!==null){var s=xs(tf),a=dr.transition,u=$e;try{if(dr.transition=null,$e=16>s?16:s,Ms===null)var p=!1;else{if(s=Ms,Ms=null,tf=0,(ze&6)!==0)throw Error(n(331));var v=ze;for(ze|=4,ge=s.current;ge!==null;){var x=ge,R=x.child;if((ge.flags&16)!==0){var V=x.deletions;if(V!==null){for(var z=0;z<V.length;z++){var X=V[z];for(ge=X;ge!==null;){var ie=ge;switch(ie.tag){case 0:case 11:case 15:nu(8,ie,x)}var se=ie.child;if(se!==null)se.return=ie,ge=se;else for(;ge!==null;){ie=ge;var ne=ie.sibling,pe=ie.return;if(Vx(ie),ie===X){ge=null;break}if(ne!==null){ne.return=pe,ge=ne;break}ge=pe}}}var ye=x.alternate;if(ye!==null){var we=ye.child;if(we!==null){ye.child=null;do{var kt=we.sibling;we.sibling=null,we=kt}while(we!==null)}}ge=x}}if((x.subtreeFlags&2064)!==0&&R!==null)R.return=x,ge=R;else e:for(;ge!==null;){if(x=ge,(x.flags&2048)!==0)switch(x.tag){case 0:case 11:case 15:nu(9,x,x.return)}var K=x.sibling;if(K!==null){K.return=x.return,ge=K;break e}ge=x.return}}var W=s.current;for(ge=W;ge!==null;){R=ge;var Y=R.child;if((R.subtreeFlags&2064)!==0&&Y!==null)Y.return=R,ge=Y;else e:for(R=W;ge!==null;){if(V=ge,(V.flags&2048)!==0)try{switch(V.tag){case 0:case 11:case 15:Xh(9,V)}}catch(xe){wt(V,V.return,xe)}if(V===R){ge=null;break e}var oe=V.sibling;if(oe!==null){oe.return=V.return,ge=oe;break e}ge=V.return}}if(ze=v,Rs(),zn&&typeof zn.onPostCommitFiberRoot=="function")try{zn.onPostCommitFiberRoot(So,s)}catch{}p=!0}return p}finally{$e=u,dr.transition=a}}return!1}function rb(s,a,u){a=ul(u,a),a=xx(s,a,1),s=Ns(s,a,1),a=wn(),s!==null&&(ws(s,1,a),On(s,a))}function wt(s,a,u){if(s.tag===3)rb(s,s,u);else for(;a!==null;){if(a.tag===3){rb(a,s,u);break}else if(a.tag===1){var p=a.stateNode;if(typeof a.type.getDerivedStateFromError=="function"||typeof p.componentDidCatch=="function"&&(Ds===null||!Ds.has(p))){s=ul(u,s),s=bx(a,s,1),a=Ns(a,s,1),s=wn(),a!==null&&(ws(a,1,s),On(a,s));break}}a=a.return}}function GN(s,a,u){var p=s.pingCache;p!==null&&p.delete(a),a=wn(),s.pingedLanes|=s.suspendedLanes&u,Wt===s&&(en&u)===u&&(Ft===4||Ft===3&&(en&130023424)===en&&500>nt()-Hg?$o(s,0):Wg|=u),On(s,a)}function ib(s,a){a===0&&((s.mode&1)===0?a=1:(a=ja,ja<<=1,(ja&130023424)===0&&(ja=4194304)));var u=wn();s=Fi(s,a),s!==null&&(ws(s,a,u),On(s,u))}function KN(s){var a=s.memoizedState,u=0;a!==null&&(u=a.retryLane),ib(s,u)}function YN(s,a){var u=0;switch(s.tag){case 13:var p=s.stateNode,v=s.memoizedState;v!==null&&(u=v.retryLane);break;case 19:p=s.stateNode;break;default:throw Error(n(314))}p!==null&&p.delete(a),ib(s,u)}var sb;sb=function(s,a,u){if(s!==null)if(s.memoizedProps!==a.pendingProps||Pn.current)An=!0;else{if((s.lanes&u)===0&&(a.flags&128)===0)return An=!1,LN(s,a,u);An=(s.flags&131072)!==0}else An=!1,ct&&(a.flags&1048576)!==0&&F1(a,Oh,a.index);switch(a.lanes=0,a.tag){case 2:var p=a.type;Kh(s,a),s=a.pendingProps;var v=nl(a,an.current);ll(a,u),v=bg(null,a,p,s,v,u);var x=Eg();return a.flags|=1,typeof v=="object"&&v!==null&&typeof v.render=="function"&&v.$$typeof===void 0?(a.tag=1,a.memoizedState=null,a.updateQueue=null,Rn(p)?(x=!0,Rh(a)):x=!1,a.memoizedState=v.state!==null&&v.state!==void 0?v.state:null,mg(a),v.updater=qh,a.stateNode=v,v._reactInternals=a,Pg(a,p,s,u),a=Og(null,a,p,!0,x,u)):(a.tag=0,ct&&x&&sg(a),vn(null,a,v,u),a=a.child),a;case 16:p=a.elementType;e:{switch(Kh(s,a),s=a.pendingProps,v=p._init,p=v(p._payload),a.type=p,v=a.tag=JN(p),s=Mr(p,s),v){case 0:a=Ng(null,a,p,s,u);break e;case 1:a=Ax(null,a,p,s,u);break e;case 11:a=Tx(null,a,p,s,u);break e;case 14:a=kx(null,a,p,Mr(p.type,s),u);break e}throw Error(n(306,p,""))}return a;case 0:return p=a.type,v=a.pendingProps,v=a.elementType===p?v:Mr(p,v),Ng(s,a,p,v,u);case 1:return p=a.type,v=a.pendingProps,v=a.elementType===p?v:Mr(p,v),Ax(s,a,p,v,u);case 3:e:{if(Nx(a),s===null)throw Error(n(387));p=a.pendingProps,x=a.memoizedState,v=x.element,G1(s,a),$h(a,p,null,u);var R=a.memoizedState;if(p=R.element,x.isDehydrated)if(x={element:p,isDehydrated:!1,cache:R.cache,pendingSuspenseBoundaries:R.pendingSuspenseBoundaries,transitions:R.transitions},a.updateQueue.baseState=x,a.memoizedState=x,a.flags&256){v=ul(Error(n(423)),a),a=Ox(s,a,p,u,v);break e}else if(p!==v){v=ul(Error(n(424)),a),a=Ox(s,a,p,u,v);break e}else for(Gn=ks(a.stateNode.containerInfo.firstChild),qn=a,ct=!0,Dr=null,u=H1(a,null,p,u),a.child=u;u;)u.flags=u.flags&-3|4096,u=u.sibling;else{if(sl(),p===v){a=Ui(s,a,u);break e}vn(s,a,p,u)}a=a.child}return a;case 5:return X1(a),s===null&&lg(a),p=a.type,v=a.pendingProps,x=s!==null?s.memoizedProps:null,R=v.children,Zm(p,v)?R=null:x!==null&&Zm(p,x)&&(a.flags|=32),Rx(s,a),vn(s,a,R,u),a.child;case 6:return s===null&&lg(a),null;case 13:return Dx(s,a,u);case 4:return gg(a,a.stateNode.containerInfo),p=a.pendingProps,s===null?a.child=ol(a,null,p,u):vn(s,a,p,u),a.child;case 11:return p=a.type,v=a.pendingProps,v=a.elementType===p?v:Mr(p,v),Tx(s,a,p,v,u);case 7:return vn(s,a,a.pendingProps,u),a.child;case 8:return vn(s,a,a.pendingProps.children,u),a.child;case 12:return vn(s,a,a.pendingProps.children,u),a.child;case 10:e:{if(p=a.type._context,v=a.pendingProps,x=a.memoizedProps,R=v.value,rt(Lh,p._currentValue),p._currentValue=R,x!==null)if(Or(x.value,R)){if(x.children===v.children&&!Pn.current){a=Ui(s,a,u);break e}}else for(x=a.child,x!==null&&(x.return=a);x!==null;){var V=x.dependencies;if(V!==null){R=x.child;for(var z=V.firstContext;z!==null;){if(z.context===p){if(x.tag===1){z=$i(-1,u&-u),z.tag=2;var X=x.updateQueue;if(X!==null){X=X.shared;var ie=X.pending;ie===null?z.next=z:(z.next=ie.next,ie.next=z),X.pending=z}}x.lanes|=u,z=x.alternate,z!==null&&(z.lanes|=u),fg(x.return,u,a),V.lanes|=u;break}z=z.next}}else if(x.tag===10)R=x.type===a.type?null:x.child;else if(x.tag===18){if(R=x.return,R===null)throw Error(n(341));R.lanes|=u,V=R.alternate,V!==null&&(V.lanes|=u),fg(R,u,a),R=x.sibling}else R=x.child;if(R!==null)R.return=x;else for(R=x;R!==null;){if(R===a){R=null;break}if(x=R.sibling,x!==null){x.return=R.return,R=x;break}R=R.return}x=R}vn(s,a,v.children,u),a=a.child}return a;case 9:return v=a.type,p=a.pendingProps.children,ll(a,u),v=cr(v),p=p(v),a.flags|=1,vn(s,a,p,u),a.child;case 14:return p=a.type,v=Mr(p,a.pendingProps),v=Mr(p.type,v),kx(s,a,p,v,u);case 15:return Ix(s,a,a.type,a.pendingProps,u);case 17:return p=a.type,v=a.pendingProps,v=a.elementType===p?v:Mr(p,v),Kh(s,a),a.tag=1,Rn(p)?(s=!0,Rh(a)):s=!1,ll(a,u),wx(a,p,v),Pg(a,p,v,u),Og(null,a,p,!0,s,u);case 19:return Lx(s,a,u);case 22:return Px(s,a,u)}throw Error(n(156,a.tag))};function ob(s,a){return Ma(s,a)}function XN(s,a,u,p){this.tag=s,this.key=u,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=a,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=p,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function hr(s,a,u,p){return new XN(s,a,u,p)}function Zg(s){return s=s.prototype,!(!s||!s.isReactComponent)}function JN(s){if(typeof s=="function")return Zg(s)?1:0;if(s!=null){if(s=s.$$typeof,s===$)return 11;if(s===he)return 14}return 2}function Fs(s,a){var u=s.alternate;return u===null?(u=hr(s.tag,a,s.key,s.mode),u.elementType=s.elementType,u.type=s.type,u.stateNode=s.stateNode,u.alternate=s,s.alternate=u):(u.pendingProps=a,u.type=s.type,u.flags=0,u.subtreeFlags=0,u.deletions=null),u.flags=s.flags&14680064,u.childLanes=s.childLanes,u.lanes=s.lanes,u.child=s.child,u.memoizedProps=s.memoizedProps,u.memoizedState=s.memoizedState,u.updateQueue=s.updateQueue,a=s.dependencies,u.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext},u.sibling=s.sibling,u.index=s.index,u.ref=s.ref,u}function of(s,a,u,p,v,x){var R=2;if(p=s,typeof s=="function")Zg(s)&&(R=1);else if(typeof s=="string")R=5;else e:switch(s){case D:return Vo(u.children,v,x,a);case I:R=8,v|=8;break;case A:return s=hr(12,u,a,v|2),s.elementType=A,s.lanes=x,s;case F:return s=hr(13,u,a,v),s.elementType=F,s.lanes=x,s;case re:return s=hr(19,u,a,v),s.elementType=re,s.lanes=x,s;case fe:return af(u,v,x,a);default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case E:R=10;break e;case L:R=9;break e;case $:R=11;break e;case he:R=14;break e;case me:R=16,p=null;break e}throw Error(n(130,s==null?s:typeof s,""))}return a=hr(R,u,a,v),a.elementType=s,a.type=p,a.lanes=x,a}function Vo(s,a,u,p){return s=hr(7,s,p,a),s.lanes=u,s}function af(s,a,u,p){return s=hr(22,s,p,a),s.elementType=fe,s.lanes=u,s.stateNode={isHidden:!1},s}function ey(s,a,u){return s=hr(6,s,null,a),s.lanes=u,s}function ty(s,a,u){return a=hr(4,s.children!==null?s.children:[],s.key,a),a.lanes=u,a.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},a}function QN(s,a,u,p,v){this.tag=a,this.containerInfo=s,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=vs(0),this.expirationTimes=vs(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=vs(0),this.identifierPrefix=p,this.onRecoverableError=v,this.mutableSourceEagerHydrationData=null}function ny(s,a,u,p,v,x,R,V,z){return s=new QN(s,a,u,V,z),a===1?(a=1,x===!0&&(a|=8)):a=0,x=hr(3,null,null,a),s.current=x,x.stateNode=s,x.memoizedState={element:p,isDehydrated:u,cache:null,transitions:null,pendingSuspenseBoundaries:null},mg(x),s}function ZN(s,a,u){var p=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:H,key:p==null?null:""+p,children:s,containerInfo:a,implementation:u}}function ab(s){if(!s)return Ps;s=s._reactInternals;e:{if(Tr(s)!==s||s.tag!==1)throw Error(n(170));var a=s;do{switch(a.tag){case 3:a=a.stateNode.context;break e;case 1:if(Rn(a.type)){a=a.stateNode.__reactInternalMemoizedMergedChildContext;break e}}a=a.return}while(a!==null);throw Error(n(171))}if(s.tag===1){var u=s.type;if(Rn(u))return M1(s,u,a)}return a}function lb(s,a,u,p,v,x,R,V,z){return s=ny(u,p,!0,s,v,x,R,V,z),s.context=ab(null),u=s.current,p=wn(),v=Ls(u),x=$i(p,v),x.callback=a??null,Ns(u,x,v),s.current.lanes=v,ws(s,v,p),On(s,p),s}function lf(s,a,u,p){var v=a.current,x=wn(),R=Ls(v);return u=ab(u),a.context===null?a.context=u:a.pendingContext=u,a=$i(x,R),a.payload={element:s},p=p===void 0?null:p,p!==null&&(a.callback=p),s=Ns(v,a,R),s!==null&&(Fr(s,v,R,x),Fh(s,v,R)),R}function cf(s){if(s=s.current,!s.child)return null;switch(s.child.tag){case 5:return s.child.stateNode;default:return s.child.stateNode}}function cb(s,a){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var u=s.retryLane;s.retryLane=u!==0&&u<a?u:a}}function ry(s,a){cb(s,a),(s=s.alternate)&&cb(s,a)}function e5(){return null}var ub=typeof reportError=="function"?reportError:function(s){console.error(s)};function iy(s){this._internalRoot=s}uf.prototype.render=iy.prototype.render=function(s){var a=this._internalRoot;if(a===null)throw Error(n(409));lf(s,a,null,null)},uf.prototype.unmount=iy.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var a=s.containerInfo;Fo(function(){lf(null,s,null,null)}),a[Di]=null}};function uf(s){this._internalRoot=s}uf.prototype.unstable_scheduleHydration=function(s){if(s){var a=ch();s={blockedOn:null,target:s,priority:a};for(var u=0;u<ei.length&&a!==0&&a<ei[u].priority;u++);ei.splice(u,0,s),u===0&&hh(s)}};function sy(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function df(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11&&(s.nodeType!==8||s.nodeValue!==" react-mount-point-unstable "))}function db(){}function t5(s,a,u,p,v){if(v){if(typeof p=="function"){var x=p;p=function(){var X=cf(R);x.call(X)}}var R=lb(a,p,s,0,null,!1,!1,"",db);return s._reactRootContainer=R,s[Di]=R.current,zc(s.nodeType===8?s.parentNode:s),Fo(),R}for(;v=s.lastChild;)s.removeChild(v);if(typeof p=="function"){var V=p;p=function(){var X=cf(z);V.call(X)}}var z=ny(s,0,!1,null,null,!1,!1,"",db);return s._reactRootContainer=z,s[Di]=z.current,zc(s.nodeType===8?s.parentNode:s),Fo(function(){lf(a,z,u,p)}),z}function hf(s,a,u,p,v){var x=u._reactRootContainer;if(x){var R=x;if(typeof v=="function"){var V=v;v=function(){var z=cf(R);V.call(z)}}lf(a,R,s,v)}else R=t5(u,a,s,v,p);return cf(R)}ah=function(s){switch(s.tag){case 3:var a=s.stateNode;if(a.current.memoizedState.isDehydrated){var u=ys(a.pendingLanes);u!==0&&(_s(a,u|1),On(a,nt()),(ze&6)===0&&(fl=nt()+500,Rs()))}break;case 13:Fo(function(){var p=Fi(s,1);if(p!==null){var v=wn();Fr(p,s,1,v)}}),ry(s,1)}},Fa=function(s){if(s.tag===13){var a=Fi(s,134217728);if(a!==null){var u=wn();Fr(a,s,134217728,u)}ry(s,134217728)}},lh=function(s){if(s.tag===13){var a=Ls(s),u=Fi(s,a);if(u!==null){var p=wn();Fr(u,s,a,p)}ry(s,a)}},ch=function(){return $e},uh=function(s,a){var u=$e;try{return $e=s,a()}finally{$e=u}},xc=function(s,a,u){switch(a){case"input":if(hc(s,u),a=u.name,u.type==="radio"&&a!=null){for(u=s;u.parentNode;)u=u.parentNode;for(u=u.querySelectorAll("input[name="+JSON.stringify(""+a)+'][type="radio"]'),a=0;a<u.length;a++){var p=u[a];if(p!==s&&p.form===s.form){var v=Ih(p);if(!v)throw Error(n(90));At(p),hc(p,v)}}}break;case"textarea":Ia(s,u);break;case"select":a=u.value,a!=null&&Ci(s,!!u.multiple,a,!1)}},Aa=Xg,Ec=Fo;var n5={usingClientEntryPoint:!1,Events:[qc,el,Ih,ki,bc,Xg]},ou={findFiberByHostInstance:Ro,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},r5={bundleType:ou.bundleType,version:ou.version,rendererPackageName:ou.rendererPackageName,rendererConfig:ou.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:U.ReactCurrentDispatcher,findHostInstanceByFiber:function(s){return s=kc(s),s===null?null:s.stateNode},findFiberByHostInstance:ou.findFiberByHostInstance||e5,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ff=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ff.isDisabled&&ff.supportsFiber)try{So=ff.inject(r5),zn=ff}catch{}}return Dn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=n5,Dn.createPortal=function(s,a){var u=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!sy(a))throw Error(n(200));return ZN(s,a,null,u)},Dn.createRoot=function(s,a){if(!sy(s))throw Error(n(299));var u=!1,p="",v=ub;return a!=null&&(a.unstable_strictMode===!0&&(u=!0),a.identifierPrefix!==void 0&&(p=a.identifierPrefix),a.onRecoverableError!==void 0&&(v=a.onRecoverableError)),a=ny(s,1,!1,null,null,u,!1,p,v),s[Di]=a.current,zc(s.nodeType===8?s.parentNode:s),new iy(a)},Dn.findDOMNode=function(s){if(s==null)return null;if(s.nodeType===1)return s;var a=s._reactInternals;if(a===void 0)throw typeof s.render=="function"?Error(n(188)):(s=Object.keys(s).join(","),Error(n(268,s)));return s=kc(a),s=s===null?null:s.stateNode,s},Dn.flushSync=function(s){return Fo(s)},Dn.hydrate=function(s,a,u){if(!df(a))throw Error(n(200));return hf(null,s,a,!0,u)},Dn.hydrateRoot=function(s,a,u){if(!sy(s))throw Error(n(405));var p=u!=null&&u.hydratedSources||null,v=!1,x="",R=ub;if(u!=null&&(u.unstable_strictMode===!0&&(v=!0),u.identifierPrefix!==void 0&&(x=u.identifierPrefix),u.onRecoverableError!==void 0&&(R=u.onRecoverableError)),a=lb(a,null,s,1,u??null,v,!1,x,R),s[Di]=a.current,zc(s),p)for(s=0;s<p.length;s++)u=p[s],v=u._getVersion,v=v(u._source),a.mutableSourceEagerHydrationData==null?a.mutableSourceEagerHydrationData=[u,v]:a.mutableSourceEagerHydrationData.push(u,v);return new uf(a)},Dn.render=function(s,a,u){if(!df(a))throw Error(n(200));return hf(null,s,a,!1,u)},Dn.unmountComponentAtNode=function(s){if(!df(s))throw Error(n(40));return s._reactRootContainer?(Fo(function(){hf(null,null,s,!1,function(){s._reactRootContainer=null,s[Di]=null})}),!0):!1},Dn.unstable_batchedUpdates=Xg,Dn.unstable_renderSubtreeIntoContainer=function(s,a,u,p){if(!df(u))throw Error(n(200));if(s==null||s._reactInternals===void 0)throw Error(n(38));return hf(s,a,u,!1,p)},Dn.version="18.3.1-next-f1338f8080-20240426",Dn}var wb;function DT(){if(wb)return ly.exports;wb=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),ly.exports=d5(),ly.exports}var _b;function h5(){if(_b)return pf;_b=1;var t=DT();return pf.createRoot=t.createRoot,pf.hydrateRoot=t.hydrateRoot,pf}var f5=h5();const p5=jp(f5);var lu={},xb;function m5(){if(xb)return lu;xb=1,Object.defineProperty(lu,"__esModule",{value:!0}),lu.parse=l,lu.serialize=f;const t=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,n=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,r=/^[\u0020-\u003A\u003D-\u007E]*$/,i=Object.prototype.toString,o=(()=>{const y=function(){};return y.prototype=Object.create(null),y})();function l(y,C){const S=new o,k=y.length;if(k<2)return S;const P=C?.decode||m;let N=0;do{const M=y.indexOf("=",N);if(M===-1)break;const O=y.indexOf(";",N),U=O===-1?k:O;if(M>U){N=y.lastIndexOf(";",M-1)+1;continue}const B=c(y,N,M),H=d(y,M,B),D=y.slice(B,H);if(S[D]===void 0){let I=c(y,M+1,U),A=d(y,U,I);const E=P(y.slice(I,A));S[D]=E}N=U+1}while(N<k);return S}function c(y,C,S){do{const k=y.charCodeAt(C);if(k!==32&&k!==9)return C}while(++C<S);return S}function d(y,C,S){for(;C>S;){const k=y.charCodeAt(--C);if(k!==32&&k!==9)return C+1}return S}function f(y,C,S){const k=S?.encode||encodeURIComponent;if(!t.test(y))throw new TypeError(`argument name is invalid: ${y}`);const P=k(C);if(!e.test(P))throw new TypeError(`argument val is invalid: ${C}`);let N=y+"="+P;if(!S)return N;if(S.maxAge!==void 0){if(!Number.isInteger(S.maxAge))throw new TypeError(`option maxAge is invalid: ${S.maxAge}`);N+="; Max-Age="+S.maxAge}if(S.domain){if(!n.test(S.domain))throw new TypeError(`option domain is invalid: ${S.domain}`);N+="; Domain="+S.domain}if(S.path){if(!r.test(S.path))throw new TypeError(`option path is invalid: ${S.path}`);N+="; Path="+S.path}if(S.expires){if(!g(S.expires)||!Number.isFinite(S.expires.valueOf()))throw new TypeError(`option expires is invalid: ${S.expires}`);N+="; Expires="+S.expires.toUTCString()}if(S.httpOnly&&(N+="; HttpOnly"),S.secure&&(N+="; Secure"),S.partitioned&&(N+="; Partitioned"),S.priority)switch(typeof S.priority=="string"?S.priority.toLowerCase():void 0){case"low":N+="; Priority=Low";break;case"medium":N+="; Priority=Medium";break;case"high":N+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${S.priority}`)}if(S.sameSite)switch(typeof S.sameSite=="string"?S.sameSite.toLowerCase():S.sameSite){case!0:case"strict":N+="; SameSite=Strict";break;case"lax":N+="; SameSite=Lax";break;case"none":N+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${S.sameSite}`)}return N}function m(y){if(y.indexOf("%")===-1)return y;try{return decodeURIComponent(y)}catch{return y}}function g(y){return i.call(y)==="[object Date]"}return lu}m5();var bb="popstate";function g5(t={}){function e(r,i){let{pathname:o,search:l,hash:c}=r.location;return g0("",{pathname:o,search:l,hash:c},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:Xu(i)}return v5(e,n,null,t)}function dt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Gr(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function y5(){return Math.random().toString(36).substring(2,10)}function Eb(t,e){return{usr:t.state,key:t.key,idx:e}}function g0(t,e,n=null,r){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?Jl(e):e,state:n,key:e&&e.key||r||y5()}}function Xu({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function Jl(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substring(r),t=t.substring(0,r)),t&&(e.pathname=t)}return e}function v5(t,e,n,r={}){let{window:i=document.defaultView,v5Compat:o=!1}=r,l=i.history,c="POP",d=null,f=m();f==null&&(f=0,l.replaceState({...l.state,idx:f},""));function m(){return(l.state||{idx:null}).idx}function g(){c="POP";let P=m(),N=P==null?null:P-f;f=P,d&&d({action:c,location:k.location,delta:N})}function y(P,N){c="PUSH";let M=g0(k.location,P,N);f=m()+1;let O=Eb(M,f),U=k.createHref(M);try{l.pushState(O,"",U)}catch(B){if(B instanceof DOMException&&B.name==="DataCloneError")throw B;i.location.assign(U)}o&&d&&d({action:c,location:k.location,delta:1})}function C(P,N){c="REPLACE";let M=g0(k.location,P,N);f=m();let O=Eb(M,f),U=k.createHref(M);l.replaceState(O,"",U),o&&d&&d({action:c,location:k.location,delta:0})}function S(P){return w5(P)}let k={get action(){return c},get location(){return t(i,l)},listen(P){if(d)throw new Error("A history only accepts one active listener");return i.addEventListener(bb,g),d=P,()=>{i.removeEventListener(bb,g),d=null}},createHref(P){return e(i,P)},createURL:S,encodeLocation(P){let N=S(P);return{pathname:N.pathname,search:N.search,hash:N.hash}},push:y,replace:C,go(P){return l.go(P)}};return k}function w5(t,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),dt(n,"No window.location.(origin|href) available to create URL");let r=typeof t=="string"?t:Xu(t);return r=r.replace(/ $/,"%20"),!e&&r.startsWith("//")&&(r=n+r),new URL(r,n)}function MT(t,e,n="/"){return _5(t,e,n,!1)}function _5(t,e,n,r){let i=typeof e=="string"?Jl(e):e,o=ns(i.pathname||"/",n);if(o==null)return null;let l=LT(t);x5(l);let c=null;for(let d=0;c==null&&d<l.length;++d){let f=N5(o);c=R5(l[d],f,r)}return c}function LT(t,e=[],n=[],r=""){let i=(o,l,c)=>{let d={relativePath:c===void 0?o.path||"":c,caseSensitive:o.caseSensitive===!0,childrenIndex:l,route:o};d.relativePath.startsWith("/")&&(dt(d.relativePath.startsWith(r),`Absolute route path "${d.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),d.relativePath=d.relativePath.slice(r.length));let f=Yi([r,d.relativePath]),m=n.concat(d);o.children&&o.children.length>0&&(dt(o.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${f}".`),LT(o.children,e,m,f)),!(o.path==null&&!o.index)&&e.push({path:f,score:I5(f,o.index),routesMeta:m})};return t.forEach((o,l)=>{if(o.path===""||!o.path?.includes("?"))i(o,l);else for(let c of jT(o.path))i(o,l,c)}),e}function jT(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),o=n.replace(/\?$/,"");if(r.length===0)return i?[o,""]:[o];let l=jT(r.join("/")),c=[];return c.push(...l.map(d=>d===""?o:[o,d].join("/"))),i&&c.push(...l),c.map(d=>t.startsWith("/")&&d===""?"/":d)}function x5(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:P5(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var b5=/^:[\w-]+$/,E5=3,S5=2,C5=1,T5=10,k5=-2,Sb=t=>t==="*";function I5(t,e){let n=t.split("/"),r=n.length;return n.some(Sb)&&(r+=k5),e&&(r+=S5),n.filter(i=>!Sb(i)).reduce((i,o)=>i+(b5.test(o)?E5:o===""?C5:T5),r)}function P5(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function R5(t,e,n=!1){let{routesMeta:r}=t,i={},o="/",l=[];for(let c=0;c<r.length;++c){let d=r[c],f=c===r.length-1,m=o==="/"?e:e.slice(o.length)||"/",g=Jf({path:d.relativePath,caseSensitive:d.caseSensitive,end:f},m),y=d.route;if(!g&&f&&n&&!r[r.length-1].route.index&&(g=Jf({path:d.relativePath,caseSensitive:d.caseSensitive,end:!1},m)),!g)return null;Object.assign(i,g.params),l.push({params:i,pathname:Yi([o,g.pathname]),pathnameBase:L5(Yi([o,g.pathnameBase])),route:y}),g.pathnameBase!=="/"&&(o=Yi([o,g.pathnameBase]))}return l}function Jf(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=A5(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let o=i[0],l=o.replace(/(.)\/+$/,"$1"),c=i.slice(1);return{params:r.reduce((f,{paramName:m,isOptional:g},y)=>{if(m==="*"){let S=c[y]||"";l=o.slice(0,o.length-S.length).replace(/(.)\/+$/,"$1")}const C=c[y];return g&&!C?f[m]=void 0:f[m]=(C||"").replace(/%2F/g,"/"),f},{}),pathname:o,pathnameBase:l,pattern:t}}function A5(t,e=!1,n=!0){Gr(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,c,d)=>(r.push({paramName:c,isOptional:d!=null}),d?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function N5(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Gr(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function ns(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function O5(t,e="/"){let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?Jl(t):t;return{pathname:n?n.startsWith("/")?n:D5(n,e):e,search:j5(r),hash:F5(i)}}function D5(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function dy(t,e,n,r){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function M5(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Av(t){let e=M5(t);return e.map((n,r)=>r===e.length-1?n.pathname:n.pathnameBase)}function Nv(t,e,n,r=!1){let i;typeof t=="string"?i=Jl(t):(i={...t},dt(!i.pathname||!i.pathname.includes("?"),dy("?","pathname","search",i)),dt(!i.pathname||!i.pathname.includes("#"),dy("#","pathname","hash",i)),dt(!i.search||!i.search.includes("#"),dy("#","search","hash",i)));let o=t===""||i.pathname==="",l=o?"/":i.pathname,c;if(l==null)c=n;else{let g=e.length-1;if(!r&&l.startsWith("..")){let y=l.split("/");for(;y[0]==="..";)y.shift(),g-=1;i.pathname=y.join("/")}c=g>=0?e[g]:"/"}let d=O5(i,c),f=l&&l!=="/"&&l.endsWith("/"),m=(o||l===".")&&n.endsWith("/");return!d.pathname.endsWith("/")&&(f||m)&&(d.pathname+="/"),d}var Yi=t=>t.join("/").replace(/\/\/+/g,"/"),L5=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),j5=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,F5=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function $5(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}var FT=["POST","PUT","PATCH","DELETE"];new Set(FT);var U5=["GET",...FT];new Set(U5);var Ql=b.createContext(null);Ql.displayName="DataRouter";var $p=b.createContext(null);$p.displayName="DataRouterState";var $T=b.createContext({isTransitioning:!1});$T.displayName="ViewTransition";var V5=b.createContext(new Map);V5.displayName="Fetchers";var B5=b.createContext(null);B5.displayName="Await";var Kr=b.createContext(null);Kr.displayName="Navigation";var Sd=b.createContext(null);Sd.displayName="Location";var Yr=b.createContext({outlet:null,matches:[],isDataRoute:!1});Yr.displayName="Route";var Ov=b.createContext(null);Ov.displayName="RouteError";function z5(t,{relative:e}={}){dt(Zl(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=b.useContext(Kr),{hash:i,pathname:o,search:l}=Cd(t,{relative:e}),c=o;return n!=="/"&&(c=o==="/"?n:Yi([n,o])),r.createHref({pathname:c,search:l,hash:i})}function Zl(){return b.useContext(Sd)!=null}function _i(){return dt(Zl(),"useLocation() may be used only in the context of a <Router> component."),b.useContext(Sd).location}var UT="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function VT(t){b.useContext(Kr).static||b.useLayoutEffect(t)}function xr(){let{isDataRoute:t}=b.useContext(Yr);return t?n4():W5()}function W5(){dt(Zl(),"useNavigate() may be used only in the context of a <Router> component.");let t=b.useContext(Ql),{basename:e,navigator:n}=b.useContext(Kr),{matches:r}=b.useContext(Yr),{pathname:i}=_i(),o=JSON.stringify(Av(r)),l=b.useRef(!1);return VT(()=>{l.current=!0}),b.useCallback((d,f={})=>{if(Gr(l.current,UT),!l.current)return;if(typeof d=="number"){n.go(d);return}let m=Nv(d,JSON.parse(o),i,f.relative==="path");t==null&&e!=="/"&&(m.pathname=m.pathname==="/"?e:Yi([e,m.pathname])),(f.replace?n.replace:n.push)(m,f.state,f)},[e,n,o,i,t])}b.createContext(null);function Dv(){let{matches:t}=b.useContext(Yr),e=t[t.length-1];return e?e.params:{}}function Cd(t,{relative:e}={}){let{matches:n}=b.useContext(Yr),{pathname:r}=_i(),i=JSON.stringify(Av(n));return b.useMemo(()=>Nv(t,JSON.parse(i),r,e==="path"),[t,i,r,e])}function H5(t,e){return BT(t,e)}function BT(t,e,n,r){dt(Zl(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:i,static:o}=b.useContext(Kr),{matches:l}=b.useContext(Yr),c=l[l.length-1],d=c?c.params:{},f=c?c.pathname:"/",m=c?c.pathnameBase:"/",g=c&&c.route;{let M=g&&g.path||"";zT(f,!g||M.endsWith("*")||M.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${f}" (under <Route path="${M}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${M}"> to <Route path="${M==="/"?"*":`${M}/*`}">.`)}let y=_i(),C;if(e){let M=typeof e=="string"?Jl(e):e;dt(m==="/"||M.pathname?.startsWith(m),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${m}" but pathname "${M.pathname}" was given in the \`location\` prop.`),C=M}else C=y;let S=C.pathname||"/",k=S;if(m!=="/"){let M=m.replace(/^\//,"").split("/");k="/"+S.replace(/^\//,"").split("/").slice(M.length).join("/")}let P=!o&&n&&n.matches&&n.matches.length>0?n.matches:MT(t,{pathname:k});Gr(g||P!=null,`No routes matched location "${C.pathname}${C.search}${C.hash}" `),Gr(P==null||P[P.length-1].route.element!==void 0||P[P.length-1].route.Component!==void 0||P[P.length-1].route.lazy!==void 0,`Matched leaf route at location "${C.pathname}${C.search}${C.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let N=X5(P&&P.map(M=>Object.assign({},M,{params:Object.assign({},d,M.params),pathname:Yi([m,i.encodeLocation?i.encodeLocation(M.pathname).pathname:M.pathname]),pathnameBase:M.pathnameBase==="/"?m:Yi([m,i.encodeLocation?i.encodeLocation(M.pathnameBase).pathname:M.pathnameBase])})),l,n,r);return e&&N?b.createElement(Sd.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...C},navigationType:"POP"}},N):N}function q5(){let t=t4(),e=$5(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,r="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:r},o={padding:"2px 4px",backgroundColor:r},l=null;return console.error("Error handled by React Router default ErrorBoundary:",t),l=b.createElement(b.Fragment,null,b.createElement("p",null," Hey developer "),b.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",b.createElement("code",{style:o},"ErrorBoundary")," or"," ",b.createElement("code",{style:o},"errorElement")," prop on your route.")),b.createElement(b.Fragment,null,b.createElement("h2",null,"Unexpected Application Error!"),b.createElement("h3",{style:{fontStyle:"italic"}},e),n?b.createElement("pre",{style:i},n):null,l)}var G5=b.createElement(q5,null),K5=class extends b.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){console.error("React Router caught the following error during render",t,e)}render(){return this.state.error!==void 0?b.createElement(Yr.Provider,{value:this.props.routeContext},b.createElement(Ov.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function Y5({routeContext:t,match:e,children:n}){let r=b.useContext(Ql);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),b.createElement(Yr.Provider,{value:t},n)}function X5(t,e=[],n=null,r=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let i=t,o=n?.errors;if(o!=null){let d=i.findIndex(f=>f.route.id&&o?.[f.route.id]!==void 0);dt(d>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(o).join(",")}`),i=i.slice(0,Math.min(i.length,d+1))}let l=!1,c=-1;if(n)for(let d=0;d<i.length;d++){let f=i[d];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(c=d),f.route.id){let{loaderData:m,errors:g}=n,y=f.route.loader&&!m.hasOwnProperty(f.route.id)&&(!g||g[f.route.id]===void 0);if(f.route.lazy||y){l=!0,c>=0?i=i.slice(0,c+1):i=[i[0]];break}}}return i.reduceRight((d,f,m)=>{let g,y=!1,C=null,S=null;n&&(g=o&&f.route.id?o[f.route.id]:void 0,C=f.route.errorElement||G5,l&&(c<0&&m===0?(zT("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),y=!0,S=null):c===m&&(y=!0,S=f.route.hydrateFallbackElement||null)));let k=e.concat(i.slice(0,m+1)),P=()=>{let N;return g?N=C:y?N=S:f.route.Component?N=b.createElement(f.route.Component,null):f.route.element?N=f.route.element:N=d,b.createElement(Y5,{match:f,routeContext:{outlet:d,matches:k,isDataRoute:n!=null},children:N})};return n&&(f.route.ErrorBoundary||f.route.errorElement||m===0)?b.createElement(K5,{location:n.location,revalidation:n.revalidation,component:C,error:g,children:P(),routeContext:{outlet:null,matches:k,isDataRoute:!0}}):P()},null)}function Mv(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function J5(t){let e=b.useContext(Ql);return dt(e,Mv(t)),e}function Q5(t){let e=b.useContext($p);return dt(e,Mv(t)),e}function Z5(t){let e=b.useContext(Yr);return dt(e,Mv(t)),e}function Lv(t){let e=Z5(t),n=e.matches[e.matches.length-1];return dt(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function e4(){return Lv("useRouteId")}function t4(){let t=b.useContext(Ov),e=Q5("useRouteError"),n=Lv("useRouteError");return t!==void 0?t:e.errors?.[n]}function n4(){let{router:t}=J5("useNavigate"),e=Lv("useNavigate"),n=b.useRef(!1);return VT(()=>{n.current=!0}),b.useCallback(async(i,o={})=>{Gr(n.current,UT),n.current&&(typeof i=="number"?t.navigate(i):await t.navigate(i,{fromRouteId:e,...o}))},[t,e])}var Cb={};function zT(t,e,n){!e&&!Cb[t]&&(Cb[t]=!0,Gr(!1,n))}b.memo(r4);function r4({routes:t,future:e,state:n}){return BT(t,void 0,n,e)}function y0({to:t,replace:e,state:n,relative:r}){dt(Zl(),"<Navigate> may be used only in the context of a <Router> component.");let{static:i}=b.useContext(Kr);Gr(!i,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:o}=b.useContext(Yr),{pathname:l}=_i(),c=xr(),d=Nv(t,Av(o),l,r==="path"),f=JSON.stringify(d);return b.useEffect(()=>{c(JSON.parse(f),{replace:e,state:n,relative:r})},[c,f,r,e,n]),null}function tn(t){dt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function i4({basename:t="/",children:e=null,location:n,navigationType:r="POP",navigator:i,static:o=!1}){dt(!Zl(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let l=t.replace(/^\/*/,"/"),c=b.useMemo(()=>({basename:l,navigator:i,static:o,future:{}}),[l,i,o]);typeof n=="string"&&(n=Jl(n));let{pathname:d="/",search:f="",hash:m="",state:g=null,key:y="default"}=n,C=b.useMemo(()=>{let S=ns(d,l);return S==null?null:{location:{pathname:S,search:f,hash:m,state:g,key:y},navigationType:r}},[l,d,f,m,g,y,r]);return Gr(C!=null,`<Router basename="${l}"> is not able to match the URL "${d}${f}${m}" because it does not start with the basename, so the <Router> won't render anything.`),C==null?null:b.createElement(Kr.Provider,{value:c},b.createElement(Sd.Provider,{children:e,value:C}))}function s4({children:t,location:e}){return H5(v0(t),e)}function v0(t,e=[]){let n=[];return b.Children.forEach(t,(r,i)=>{if(!b.isValidElement(r))return;let o=[...e,i];if(r.type===b.Fragment){n.push.apply(n,v0(r.props.children,o));return}dt(r.type===tn,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),dt(!r.props.index||!r.props.children,"An index route cannot have child routes.");let l={id:r.props.id||o.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(l.children=v0(r.props.children,o)),n.push(l)}),n}var Mf="get",Lf="application/x-www-form-urlencoded";function Up(t){return t!=null&&typeof t.tagName=="string"}function o4(t){return Up(t)&&t.tagName.toLowerCase()==="button"}function a4(t){return Up(t)&&t.tagName.toLowerCase()==="form"}function l4(t){return Up(t)&&t.tagName.toLowerCase()==="input"}function c4(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function u4(t,e){return t.button===0&&(!e||e==="_self")&&!c4(t)}var mf=null;function d4(){if(mf===null)try{new FormData(document.createElement("form"),0),mf=!1}catch{mf=!0}return mf}var h4=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function hy(t){return t!=null&&!h4.has(t)?(Gr(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Lf}"`),null):t}function f4(t,e){let n,r,i,o,l;if(a4(t)){let c=t.getAttribute("action");r=c?ns(c,e):null,n=t.getAttribute("method")||Mf,i=hy(t.getAttribute("enctype"))||Lf,o=new FormData(t)}else if(o4(t)||l4(t)&&(t.type==="submit"||t.type==="image")){let c=t.form;if(c==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let d=t.getAttribute("formaction")||c.getAttribute("action");if(r=d?ns(d,e):null,n=t.getAttribute("formmethod")||c.getAttribute("method")||Mf,i=hy(t.getAttribute("formenctype"))||hy(c.getAttribute("enctype"))||Lf,o=new FormData(c,t),!d4()){let{name:f,type:m,value:g}=t;if(m==="image"){let y=f?`${f}.`:"";o.append(`${y}x`,"0"),o.append(`${y}y`,"0")}else f&&o.append(f,g)}}else{if(Up(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Mf,r=null,i=Lf,l=t}return o&&i==="text/plain"&&(l=o,o=void 0),{action:r,method:n.toLowerCase(),encType:i,formData:o,body:l}}function jv(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}async function p4(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function m4(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function g4(t,e,n){let r=await Promise.all(t.map(async i=>{let o=e.routes[i.route.id];if(o){let l=await p4(o,n);return l.links?l.links():[]}return[]}));return _4(r.flat(1).filter(m4).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function Tb(t,e,n,r,i,o){let l=(d,f)=>n[f]?d.route.id!==n[f].route.id:!0,c=(d,f)=>n[f].pathname!==d.pathname||n[f].route.path?.endsWith("*")&&n[f].params["*"]!==d.params["*"];return o==="assets"?e.filter((d,f)=>l(d,f)||c(d,f)):o==="data"?e.filter((d,f)=>{let m=r.routes[d.route.id];if(!m||!m.hasLoader)return!1;if(l(d,f)||c(d,f))return!0;if(d.route.shouldRevalidate){let g=d.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(t,window.origin),nextParams:d.params,defaultShouldRevalidate:!0});if(typeof g=="boolean")return g}return!0}):[]}function y4(t,e,{includeHydrateFallback:n}={}){return v4(t.map(r=>{let i=e.routes[r.route.id];if(!i)return[];let o=[i.module];return i.clientActionModule&&(o=o.concat(i.clientActionModule)),i.clientLoaderModule&&(o=o.concat(i.clientLoaderModule)),n&&i.hydrateFallbackModule&&(o=o.concat(i.hydrateFallbackModule)),i.imports&&(o=o.concat(i.imports)),o}).flat(1))}function v4(t){return[...new Set(t)]}function w4(t){let e={},n=Object.keys(t).sort();for(let r of n)e[r]=t[r];return e}function _4(t,e){let n=new Set;return new Set(e),t.reduce((r,i)=>{let o=JSON.stringify(w4(i));return n.has(o)||(n.add(o),r.push({key:o,link:i})),r},[])}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var x4=new Set([100,101,204,205]);function b4(t,e){let n=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return n.pathname==="/"?n.pathname="_root.data":e&&ns(n.pathname,e)==="/"?n.pathname=`${e.replace(/\/$/,"")}/_root.data`:n.pathname=`${n.pathname.replace(/\/$/,"")}.data`,n}function WT(){let t=b.useContext(Ql);return jv(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function E4(){let t=b.useContext($p);return jv(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var Fv=b.createContext(void 0);Fv.displayName="FrameworkContext";function HT(){let t=b.useContext(Fv);return jv(t,"You must render this element inside a <HydratedRouter> element"),t}function S4(t,e){let n=b.useContext(Fv),[r,i]=b.useState(!1),[o,l]=b.useState(!1),{onFocus:c,onBlur:d,onMouseEnter:f,onMouseLeave:m,onTouchStart:g}=e,y=b.useRef(null);b.useEffect(()=>{if(t==="render"&&l(!0),t==="viewport"){let k=N=>{N.forEach(M=>{l(M.isIntersecting)})},P=new IntersectionObserver(k,{threshold:.5});return y.current&&P.observe(y.current),()=>{P.disconnect()}}},[t]),b.useEffect(()=>{if(r){let k=setTimeout(()=>{l(!0)},100);return()=>{clearTimeout(k)}}},[r]);let C=()=>{i(!0)},S=()=>{i(!1),l(!1)};return n?t!=="intent"?[o,y,{}]:[o,y,{onFocus:cu(c,C),onBlur:cu(d,S),onMouseEnter:cu(f,C),onMouseLeave:cu(m,S),onTouchStart:cu(g,C)}]:[!1,y,{}]}function cu(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function C4({page:t,...e}){let{router:n}=WT(),r=b.useMemo(()=>MT(n.routes,t,n.basename),[n.routes,t,n.basename]);return r?b.createElement(k4,{page:t,matches:r,...e}):null}function T4(t){let{manifest:e,routeModules:n}=HT(),[r,i]=b.useState([]);return b.useEffect(()=>{let o=!1;return g4(t,e,n).then(l=>{o||i(l)}),()=>{o=!0}},[t,e,n]),r}function k4({page:t,matches:e,...n}){let r=_i(),{manifest:i,routeModules:o}=HT(),{basename:l}=WT(),{loaderData:c,matches:d}=E4(),f=b.useMemo(()=>Tb(t,e,d,i,r,"data"),[t,e,d,i,r]),m=b.useMemo(()=>Tb(t,e,d,i,r,"assets"),[t,e,d,i,r]),g=b.useMemo(()=>{if(t===r.pathname+r.search+r.hash)return[];let S=new Set,k=!1;if(e.forEach(N=>{let M=i.routes[N.route.id];!M||!M.hasLoader||(!f.some(O=>O.route.id===N.route.id)&&N.route.id in c&&o[N.route.id]?.shouldRevalidate||M.hasClientLoader?k=!0:S.add(N.route.id))}),S.size===0)return[];let P=b4(t,l);return k&&S.size>0&&P.searchParams.set("_routes",e.filter(N=>S.has(N.route.id)).map(N=>N.route.id).join(",")),[P.pathname+P.search]},[l,c,r,i,f,e,t,o]),y=b.useMemo(()=>y4(m,i),[m,i]),C=T4(m);return b.createElement(b.Fragment,null,g.map(S=>b.createElement("link",{key:S,rel:"prefetch",as:"fetch",href:S,...n})),y.map(S=>b.createElement("link",{key:S,rel:"modulepreload",href:S,...n})),C.map(({key:S,link:k})=>b.createElement("link",{key:S,...k})))}function I4(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var qT=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{qT&&(window.__reactRouterVersion="7.6.0")}catch{}function P4({basename:t,children:e,window:n}){let r=b.useRef();r.current==null&&(r.current=g5({window:n,v5Compat:!0}));let i=r.current,[o,l]=b.useState({action:i.action,location:i.location}),c=b.useCallback(d=>{b.startTransition(()=>l(d))},[l]);return b.useLayoutEffect(()=>i.listen(c),[i,c]),b.createElement(i4,{basename:t,children:e,location:o.location,navigationType:o.action,navigator:i})}var GT=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ra=b.forwardRef(function({onClick:e,discover:n="render",prefetch:r="none",relative:i,reloadDocument:o,replace:l,state:c,target:d,to:f,preventScrollReset:m,viewTransition:g,...y},C){let{basename:S}=b.useContext(Kr),k=typeof f=="string"&&GT.test(f),P,N=!1;if(typeof f=="string"&&k&&(P=f,qT))try{let A=new URL(window.location.href),E=f.startsWith("//")?new URL(A.protocol+f):new URL(f),L=ns(E.pathname,S);E.origin===A.origin&&L!=null?f=L+E.search+E.hash:N=!0}catch{Gr(!1,`<Link to="${f}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let M=z5(f,{relative:i}),[O,U,B]=S4(r,y),H=O4(f,{replace:l,state:c,target:d,preventScrollReset:m,relative:i,viewTransition:g});function D(A){e&&e(A),A.defaultPrevented||H(A)}let I=b.createElement("a",{...y,...B,href:P||M,onClick:N||o?e:D,ref:I4(C,U),target:d,"data-discover":!k&&n==="render"?"true":void 0});return O&&!k?b.createElement(b.Fragment,null,I,b.createElement(C4,{page:M})):I});ra.displayName="Link";var R4=b.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:r="",end:i=!1,style:o,to:l,viewTransition:c,children:d,...f},m){let g=Cd(l,{relative:f.relative}),y=_i(),C=b.useContext($p),{navigator:S,basename:k}=b.useContext(Kr),P=C!=null&&F4(g)&&c===!0,N=S.encodeLocation?S.encodeLocation(g).pathname:g.pathname,M=y.pathname,O=C&&C.navigation&&C.navigation.location?C.navigation.location.pathname:null;n||(M=M.toLowerCase(),O=O?O.toLowerCase():null,N=N.toLowerCase()),O&&k&&(O=ns(O,k)||O);const U=N!=="/"&&N.endsWith("/")?N.length-1:N.length;let B=M===N||!i&&M.startsWith(N)&&M.charAt(U)==="/",H=O!=null&&(O===N||!i&&O.startsWith(N)&&O.charAt(N.length)==="/"),D={isActive:B,isPending:H,isTransitioning:P},I=B?e:void 0,A;typeof r=="function"?A=r(D):A=[r,B?"active":null,H?"pending":null,P?"transitioning":null].filter(Boolean).join(" ");let E=typeof o=="function"?o(D):o;return b.createElement(ra,{...f,"aria-current":I,className:A,ref:m,style:E,to:l,viewTransition:c},typeof d=="function"?d(D):d)});R4.displayName="NavLink";var A4=b.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:r,replace:i,state:o,method:l=Mf,action:c,onSubmit:d,relative:f,preventScrollReset:m,viewTransition:g,...y},C)=>{let S=L4(),k=j4(c,{relative:f}),P=l.toLowerCase()==="get"?"get":"post",N=typeof c=="string"&&GT.test(c),M=O=>{if(d&&d(O),O.defaultPrevented)return;O.preventDefault();let U=O.nativeEvent.submitter,B=U?.getAttribute("formmethod")||l;S(U||O.currentTarget,{fetcherKey:e,method:B,navigate:n,replace:i,state:o,relative:f,preventScrollReset:m,viewTransition:g})};return b.createElement("form",{ref:C,method:P,action:k,onSubmit:r?d:M,...y,"data-discover":!N&&t==="render"?"true":void 0})});A4.displayName="Form";function N4(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function KT(t){let e=b.useContext(Ql);return dt(e,N4(t)),e}function O4(t,{target:e,replace:n,state:r,preventScrollReset:i,relative:o,viewTransition:l}={}){let c=xr(),d=_i(),f=Cd(t,{relative:o});return b.useCallback(m=>{if(u4(m,e)){m.preventDefault();let g=n!==void 0?n:Xu(d)===Xu(f);c(t,{replace:g,state:r,preventScrollReset:i,relative:o,viewTransition:l})}},[d,c,f,n,r,e,t,i,o,l])}var D4=0,M4=()=>`__${String(++D4)}__`;function L4(){let{router:t}=KT("useSubmit"),{basename:e}=b.useContext(Kr),n=e4();return b.useCallback(async(r,i={})=>{let{action:o,method:l,encType:c,formData:d,body:f}=f4(r,e);if(i.navigate===!1){let m=i.fetcherKey||M4();await t.fetch(m,n,i.action||o,{preventScrollReset:i.preventScrollReset,formData:d,body:f,formMethod:i.method||l,formEncType:i.encType||c,flushSync:i.flushSync})}else await t.navigate(i.action||o,{preventScrollReset:i.preventScrollReset,formData:d,body:f,formMethod:i.method||l,formEncType:i.encType||c,replace:i.replace,state:i.state,fromRouteId:n,flushSync:i.flushSync,viewTransition:i.viewTransition})},[t,e,n])}function j4(t,{relative:e}={}){let{basename:n}=b.useContext(Kr),r=b.useContext(Yr);dt(r,"useFormAction must be used inside a RouteContext");let[i]=r.matches.slice(-1),o={...Cd(t||".",{relative:e})},l=_i();if(t==null){o.search=l.search;let c=new URLSearchParams(o.search),d=c.getAll("index");if(d.some(m=>m==="")){c.delete("index"),d.filter(g=>g).forEach(g=>c.append("index",g));let m=c.toString();o.search=m?`?${m}`:""}}return(!t||t===".")&&i.route.index&&(o.search=o.search?o.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(o.pathname=o.pathname==="/"?n:Yi([n,o.pathname])),Xu(o)}function F4(t,e={}){let n=b.useContext($T);dt(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=KT("useViewTransitionState"),i=Cd(t,{relative:e.relative});if(!n.isTransitioning)return!1;let o=ns(n.currentLocation.pathname,r)||n.currentLocation.pathname,l=ns(n.nextLocation.pathname,r)||n.nextLocation.pathname;return Jf(i.pathname,l)!=null||Jf(i.pathname,o)!=null}[...x4];var $v=DT();const gf=jp($v),$4=()=>{};var kb={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YT={NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const le=function(t,e){if(!t)throw ec(e)},ec=function(t){return new Error("Firebase Database ("+YT.SDK_VERSION+") INTERNAL ASSERT FAILED: "+t)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XT=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},U4=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const o=t[n++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){const o=t[n++],l=t[n++],c=t[n++],d=((i&7)<<18|(o&63)<<12|(l&63)<<6|c&63)-65536;e[r++]=String.fromCharCode(55296+(d>>10)),e[r++]=String.fromCharCode(56320+(d&1023))}else{const o=t[n++],l=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|l&63)}}return e.join("")},Uv={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const o=t[i],l=i+1<t.length,c=l?t[i+1]:0,d=i+2<t.length,f=d?t[i+2]:0,m=o>>2,g=(o&3)<<4|c>>4;let y=(c&15)<<2|f>>6,C=f&63;d||(C=64,l||(y=64)),r.push(n[m],n[g],n[y],n[C])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(XT(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):U4(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const o=n[t.charAt(i++)],c=i<t.length?n[t.charAt(i)]:0;++i;const f=i<t.length?n[t.charAt(i)]:64;++i;const g=i<t.length?n[t.charAt(i)]:64;if(++i,o==null||c==null||f==null||g==null)throw new V4;const y=o<<2|c>>4;if(r.push(y),f!==64){const C=c<<4&240|f>>2;if(r.push(C),g!==64){const S=f<<6&192|g;r.push(S)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class V4 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const JT=function(t){const e=XT(t);return Uv.encodeByteArray(e,!0)},Qf=function(t){return JT(t).replace(/\./g,"")},Zf=function(t){try{return Uv.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function B4(t){return QT(void 0,t)}function QT(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const n=e;return new Date(n.getTime());case Object:t===void 0&&(t={});break;case Array:t=[];break;default:return e}for(const n in e)!e.hasOwnProperty(n)||!z4(n)||(t[n]=QT(t[n],e[n]));return t}function z4(t){return t!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function W4(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H4=()=>W4().__FIREBASE_DEFAULTS__,q4=()=>{if(typeof process>"u"||typeof kb>"u")return;const t=kb.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},G4=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&Zf(t[1]);return e&&JSON.parse(e)},Vv=()=>{try{return $4()||H4()||q4()||G4()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},ZT=t=>{var e,n;return(n=(e=Vv())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},Bv=t=>{const e=ZT(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},e2=()=>{var t;return(t=Vv())===null||t===void 0?void 0:t.config},t2=t=>{var e;return(e=Vv())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Td{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uo(t){return t.endsWith(".cloudworkstations.dev")}async function Vp(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zv(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const l=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Qf(JSON.stringify(n)),Qf(JSON.stringify(l)),""].join(".")}const Iu={};function K4(){const t={prod:[],emulator:[]};for(const e of Object.keys(Iu))Iu[e]?t.emulator.push(e):t.prod.push(e);return t}function Y4(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let Ib=!1;function ho(t,e){if(typeof window>"u"||typeof document>"u"||!uo(window.location.host)||Iu[t]===e||Iu[t]||Ib)return;Iu[t]=e;function n(y){return`__firebase__banner__${y}`}const r="__firebase__banner",o=K4().prod.length>0;function l(){const y=document.getElementById(r);y&&y.remove()}function c(y){y.style.display="flex",y.style.background="#7faaf0",y.style.position="fixed",y.style.bottom="5px",y.style.left="5px",y.style.padding=".5em",y.style.borderRadius="5px",y.style.alignItems="center"}function d(y,C){y.setAttribute("width","24"),y.setAttribute("id",C),y.setAttribute("height","24"),y.setAttribute("viewBox","0 0 24 24"),y.setAttribute("fill","none"),y.style.marginLeft="-6px"}function f(){const y=document.createElement("span");return y.style.cursor="pointer",y.style.marginLeft="16px",y.style.fontSize="24px",y.innerHTML=" &times;",y.onclick=()=>{Ib=!0,l()},y}function m(y,C){y.setAttribute("id",C),y.innerText="Learn more",y.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",y.setAttribute("target","__blank"),y.style.paddingLeft="5px",y.style.textDecoration="underline"}function g(){const y=Y4(r),C=n("text"),S=document.getElementById(C)||document.createElement("span"),k=n("learnmore"),P=document.getElementById(k)||document.createElement("a"),N=n("preprendIcon"),M=document.getElementById(N)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(y.created){const O=y.element;c(O),m(P,k);const U=f();d(M,N),O.append(M,S,P,U),document.body.appendChild(O)}o?(S.innerText="Preview backend disconnected.",M.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(M.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,S.innerText="Preview backend running in this workspace."),S.setAttribute("id",C)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",g):g()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Wv(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Cn())}function X4(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function J4(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function n2(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Q4(){const t=Cn();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function Z4(){return YT.NODE_ADMIN===!0}function r2(){try{return typeof indexedDB=="object"}catch{return!1}}function i2(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var o;e(((o=i.error)===null||o===void 0?void 0:o.message)||"")}}catch(n){e(n)}})}function eO(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tO="FirebaseError";class Xr extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=tO,Object.setPrototypeOf(this,Xr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,_a.prototype.create)}}class _a{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,o=this.errors[e],l=o?nO(o,r):"Error",c=`${this.serviceName}: ${l} (${i}).`;return new Xr(i,c,r)}}function nO(t,e){return t.replace(rO,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const rO=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ju(t){return JSON.parse(t)}function Ut(t){return JSON.stringify(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s2=function(t){let e={},n={},r={},i="";try{const o=t.split(".");e=Ju(Zf(o[0])||""),n=Ju(Zf(o[1])||""),i=o[2],r=n.d||{},delete n.d}catch{}return{header:e,claims:n,data:r,signature:i}},iO=function(t){const e=s2(t),n=e.claims;return!!n&&typeof n=="object"&&n.hasOwnProperty("iat")},sO=function(t){const e=s2(t).claims;return typeof e=="object"&&e.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xi(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function $l(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]}function w0(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function ep(t,e,n){const r={};for(const i in t)Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=e.call(n,t[i],i,t));return r}function no(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const o=t[i],l=e[i];if(Pb(o)&&Pb(l)){if(!no(o,l))return!1}else if(o!==l)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function Pb(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tc(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function wu(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,o]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(o)}}),e}function _u(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oO{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,n){n||(n=0);const r=this.W_;if(typeof e=="string")for(let g=0;g<16;g++)r[g]=e.charCodeAt(n)<<24|e.charCodeAt(n+1)<<16|e.charCodeAt(n+2)<<8|e.charCodeAt(n+3),n+=4;else for(let g=0;g<16;g++)r[g]=e[n]<<24|e[n+1]<<16|e[n+2]<<8|e[n+3],n+=4;for(let g=16;g<80;g++){const y=r[g-3]^r[g-8]^r[g-14]^r[g-16];r[g]=(y<<1|y>>>31)&4294967295}let i=this.chain_[0],o=this.chain_[1],l=this.chain_[2],c=this.chain_[3],d=this.chain_[4],f,m;for(let g=0;g<80;g++){g<40?g<20?(f=c^o&(l^c),m=1518500249):(f=o^l^c,m=1859775393):g<60?(f=o&l|c&(o|l),m=2400959708):(f=o^l^c,m=3395469782);const y=(i<<5|i>>>27)+f+d+m+r[g]&4294967295;d=c,c=l,l=(o<<30|o>>>2)&4294967295,o=i,i=y}this.chain_[0]=this.chain_[0]+i&4294967295,this.chain_[1]=this.chain_[1]+o&4294967295,this.chain_[2]=this.chain_[2]+l&4294967295,this.chain_[3]=this.chain_[3]+c&4294967295,this.chain_[4]=this.chain_[4]+d&4294967295}update(e,n){if(e==null)return;n===void 0&&(n=e.length);const r=n-this.blockSize;let i=0;const o=this.buf_;let l=this.inbuf_;for(;i<n;){if(l===0)for(;i<=r;)this.compress_(e,i),i+=this.blockSize;if(typeof e=="string"){for(;i<n;)if(o[l]=e.charCodeAt(i),++l,++i,l===this.blockSize){this.compress_(o),l=0;break}}else for(;i<n;)if(o[l]=e[i],++l,++i,l===this.blockSize){this.compress_(o),l=0;break}}this.inbuf_=l,this.total_+=n}digest(){const e=[];let n=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let i=this.blockSize-1;i>=56;i--)this.buf_[i]=n&255,n/=256;this.compress_(this.buf_);let r=0;for(let i=0;i<5;i++)for(let o=24;o>=0;o-=8)e[r]=this.chain_[i]>>o&255,++r;return e}}function aO(t,e){const n=new lO(t,e);return n.subscribe.bind(n)}class lO{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");cO(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=fy),i.error===void 0&&(i.error=fy),i.complete===void 0&&(i.complete=fy);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function cO(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function fy(){}function Bp(t,e){return`${t} failed: ${e} argument `}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uO=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);if(i>=55296&&i<=56319){const o=i-55296;r++,le(r<t.length,"Surrogate pair missing trail surrogate.");const l=t.charCodeAt(r)-56320;i=65536+(o<<10)+l}i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):i<65536?(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},zp=function(t){let e=0;for(let n=0;n<t.length;n++){const r=t.charCodeAt(n);r<128?e++:r<2048?e+=2:r>=55296&&r<=56319?(e+=4,n++):e+=3}return e};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ht(t){return t&&t._delegate?t._delegate:t}class Un{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wo="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dO{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new Td;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e?.identifier),i=(n=e?.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(fO(e))try{this.getOrInitializeService({instanceIdentifier:Wo})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=Wo){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Wo){return this.instances.has(e)}getOptions(e=Wo){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[o,l]of this.instancesDeferred.entries()){const c=this.normalizeInstanceIdentifier(o);r===c&&l.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),o=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;o.add(e),this.onInitCallbacks.set(i,o);const l=this.instances.get(i);return l&&e(l,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:hO(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Wo){return this.component?this.component.multipleInstances?e:Wo:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function hO(t){return t===Wo?void 0:t}function fO(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pO{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new dO(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ke;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Ke||(Ke={}));const mO={debug:Ke.DEBUG,verbose:Ke.VERBOSE,info:Ke.INFO,warn:Ke.WARN,error:Ke.ERROR,silent:Ke.SILENT},gO=Ke.INFO,yO={[Ke.DEBUG]:"log",[Ke.VERBOSE]:"log",[Ke.INFO]:"info",[Ke.WARN]:"warn",[Ke.ERROR]:"error"},vO=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=yO[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Wp{constructor(e){this.name=e,this._logLevel=gO,this._logHandler=vO,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ke))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?mO[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ke.DEBUG,...e),this._logHandler(this,Ke.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ke.VERBOSE,...e),this._logHandler(this,Ke.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ke.INFO,...e),this._logHandler(this,Ke.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ke.WARN,...e),this._logHandler(this,Ke.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ke.ERROR,...e),this._logHandler(this,Ke.ERROR,...e)}}const wO=(t,e)=>e.some(n=>t instanceof n);let Rb,Ab;function _O(){return Rb||(Rb=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function xO(){return Ab||(Ab=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const o2=new WeakMap,_0=new WeakMap,a2=new WeakMap,py=new WeakMap,Hv=new WeakMap;function bO(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",o),t.removeEventListener("error",l)},o=()=>{n(Xi(t.result)),i()},l=()=>{r(t.error),i()};t.addEventListener("success",o),t.addEventListener("error",l)});return e.then(n=>{n instanceof IDBCursor&&o2.set(n,t)}).catch(()=>{}),Hv.set(e,t),e}function EO(t){if(_0.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",l),t.removeEventListener("abort",l)},o=()=>{n(),i()},l=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",o),t.addEventListener("error",l),t.addEventListener("abort",l)});_0.set(t,e)}let x0={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return _0.get(t);if(e==="objectStoreNames")return t.objectStoreNames||a2.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Xi(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function SO(t){x0=t(x0)}function CO(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(my(this),e,...n);return a2.set(r,e.sort?e.sort():[e]),Xi(r)}:xO().includes(t)?function(...e){return t.apply(my(this),e),Xi(o2.get(this))}:function(...e){return Xi(t.apply(my(this),e))}}function TO(t){return typeof t=="function"?CO(t):(t instanceof IDBTransaction&&EO(t),wO(t,_O())?new Proxy(t,x0):t)}function Xi(t){if(t instanceof IDBRequest)return bO(t);if(py.has(t))return py.get(t);const e=TO(t);return e!==t&&(py.set(t,e),Hv.set(e,t)),e}const my=t=>Hv.get(t);function Hp(t,e,{blocked:n,upgrade:r,blocking:i,terminated:o}={}){const l=indexedDB.open(t,e),c=Xi(l);return r&&l.addEventListener("upgradeneeded",d=>{r(Xi(l.result),d.oldVersion,d.newVersion,Xi(l.transaction),d)}),n&&l.addEventListener("blocked",d=>n(d.oldVersion,d.newVersion,d)),c.then(d=>{o&&d.addEventListener("close",()=>o()),i&&d.addEventListener("versionchange",f=>i(f.oldVersion,f.newVersion,f))}).catch(()=>{}),c}function gy(t,{blocked:e}={}){const n=indexedDB.deleteDatabase(t);return e&&n.addEventListener("blocked",r=>e(r.oldVersion,r)),Xi(n).then(()=>{})}const kO=["get","getKey","getAll","getAllKeys","count"],IO=["put","add","delete","clear"],yy=new Map;function Nb(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(yy.get(e))return yy.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=IO.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||kO.includes(n)))return;const o=async function(l,...c){const d=this.transaction(l,i?"readwrite":"readonly");let f=d.store;return r&&(f=f.index(c.shift())),(await Promise.all([f[n](...c),i&&d.done]))[0]};return yy.set(e,o),o}SO(t=>({...t,get:(e,n,r)=>Nb(e,n)||t.get(e,n,r),has:(e,n)=>!!Nb(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PO{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(RO(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function RO(t){const e=t.getComponent();return e?.type==="VERSION"}const b0="@firebase/app",Ob="0.12.3";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rs=new Wp("@firebase/app"),AO="@firebase/app-compat",NO="@firebase/analytics-compat",OO="@firebase/analytics",DO="@firebase/app-check-compat",MO="@firebase/app-check",LO="@firebase/auth",jO="@firebase/auth-compat",FO="@firebase/database",$O="@firebase/data-connect",UO="@firebase/database-compat",VO="@firebase/functions",BO="@firebase/functions-compat",zO="@firebase/installations",WO="@firebase/installations-compat",HO="@firebase/messaging",qO="@firebase/messaging-compat",GO="@firebase/performance",KO="@firebase/performance-compat",YO="@firebase/remote-config",XO="@firebase/remote-config-compat",JO="@firebase/storage",QO="@firebase/storage-compat",ZO="@firebase/firestore",eD="@firebase/vertexai",tD="@firebase/firestore-compat",nD="firebase",rD="11.7.3";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E0="[DEFAULT]",iD={[b0]:"fire-core",[AO]:"fire-core-compat",[OO]:"fire-analytics",[NO]:"fire-analytics-compat",[MO]:"fire-app-check",[DO]:"fire-app-check-compat",[LO]:"fire-auth",[jO]:"fire-auth-compat",[FO]:"fire-rtdb",[$O]:"fire-data-connect",[UO]:"fire-rtdb-compat",[VO]:"fire-fn",[BO]:"fire-fn-compat",[zO]:"fire-iid",[WO]:"fire-iid-compat",[HO]:"fire-fcm",[qO]:"fire-fcm-compat",[GO]:"fire-perf",[KO]:"fire-perf-compat",[YO]:"fire-rc",[XO]:"fire-rc-compat",[JO]:"fire-gcs",[QO]:"fire-gcs-compat",[ZO]:"fire-fst",[tD]:"fire-fst-compat",[eD]:"fire-vertex","fire-js":"fire-js",[nD]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tp=new Map,sD=new Map,S0=new Map;function Db(t,e){try{t.container.addComponent(e)}catch(n){rs.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function er(t){const e=t.name;if(S0.has(e))return rs.debug(`There were multiple attempts to register component ${e}.`),!1;S0.set(e,t);for(const n of tp.values())Db(n,t);for(const n of sD.values())Db(n,t);return!0}function fo(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function fn(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oD={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Qs=new _a("app","Firebase",oD);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aD{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Un("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Qs.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const po=rD;function l2(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:E0,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw Qs.create("bad-app-name",{appName:String(i)});if(n||(n=e2()),!n)throw Qs.create("no-options");const o=tp.get(i);if(o){if(no(n,o.options)&&no(r,o.config))return o;throw Qs.create("duplicate-app",{appName:i})}const l=new pO(i);for(const d of S0.values())l.addComponent(d);const c=new aD(n,r,l);return tp.set(i,c),c}function kd(t=E0){const e=tp.get(t);if(!e&&t===E0&&e2())return l2();if(!e)throw Qs.create("no-app",{appName:t});return e}function Yt(t,e,n){var r;let i=(r=iD[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const o=i.match(/\s|\//),l=e.match(/\s|\//);if(o||l){const c=[`Unable to register library "${i}" with version "${e}":`];o&&c.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&l&&c.push("and"),l&&c.push(`version name "${e}" contains illegal characters (whitespace or "/")`),rs.warn(c.join(" "));return}er(new Un(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lD="firebase-heartbeat-database",cD=1,Qu="firebase-heartbeat-store";let vy=null;function c2(){return vy||(vy=Hp(lD,cD,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Qu)}catch(n){console.warn(n)}}}}).catch(t=>{throw Qs.create("idb-open",{originalErrorMessage:t.message})})),vy}async function uD(t){try{const n=(await c2()).transaction(Qu),r=await n.objectStore(Qu).get(u2(t));return await n.done,r}catch(e){if(e instanceof Xr)rs.warn(e.message);else{const n=Qs.create("idb-get",{originalErrorMessage:e?.message});rs.warn(n.message)}}}async function Mb(t,e){try{const r=(await c2()).transaction(Qu,"readwrite");await r.objectStore(Qu).put(e,u2(t)),await r.done}catch(n){if(n instanceof Xr)rs.warn(n.message);else{const r=Qs.create("idb-set",{originalErrorMessage:n?.message});rs.warn(r.message)}}}function u2(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dD=1024,hD=30;class fD{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new mD(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=Lb();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(l=>l.date===o))return;if(this._heartbeatsCache.heartbeats.push({date:o,agent:i}),this._heartbeatsCache.heartbeats.length>hD){const l=gD(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(l,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){rs.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=Lb(),{heartbeatsToSend:r,unsentEntries:i}=pD(this._heartbeatsCache.heartbeats),o=Qf(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(n){return rs.warn(n),""}}}function Lb(){return new Date().toISOString().substring(0,10)}function pD(t,e=dD){const n=[];let r=t.slice();for(const i of t){const o=n.find(l=>l.agent===i.agent);if(o){if(o.dates.push(i.date),jb(n)>e){o.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),jb(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class mD{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return r2()?i2().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await uD(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return Mb(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return Mb(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function jb(t){return Qf(JSON.stringify({version:2,heartbeats:t})).length}function gD(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yD(t){er(new Un("platform-logger",e=>new PO(e),"PRIVATE")),er(new Un("heartbeat",e=>new fD(e),"PRIVATE")),Yt(b0,Ob,t),Yt(b0,Ob,"esm2017"),Yt("fire-js","")}yD("");const d2="@firebase/installations",qv="0.6.16";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h2=1e4,f2=`w:${qv}`,p2="FIS_v2",vD="https://firebaseinstallations.googleapis.com/v1",wD=60*60*1e3,_D="installations",xD="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bD={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},la=new _a(_D,xD,bD);function m2(t){return t instanceof Xr&&t.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function g2({projectId:t}){return`${vD}/projects/${t}/installations`}function y2(t){return{token:t.token,requestStatus:2,expiresIn:SD(t.expiresIn),creationTime:Date.now()}}async function v2(t,e){const r=(await e.json()).error;return la.create("request-failed",{requestName:t,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})}function w2({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function ED(t,{refreshToken:e}){const n=w2(t);return n.append("Authorization",CD(e)),n}async function _2(t){const e=await t();return e.status>=500&&e.status<600?t():e}function SD(t){return Number(t.replace("s","000"))}function CD(t){return`${p2} ${t}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function TD({appConfig:t,heartbeatServiceProvider:e},{fid:n}){const r=g2(t),i=w2(t),o=e.getImmediate({optional:!0});if(o){const f=await o.getHeartbeatsHeader();f&&i.append("x-firebase-client",f)}const l={fid:n,authVersion:p2,appId:t.appId,sdkVersion:f2},c={method:"POST",headers:i,body:JSON.stringify(l)},d=await _2(()=>fetch(r,c));if(d.ok){const f=await d.json();return{fid:f.fid||n,registrationStatus:2,refreshToken:f.refreshToken,authToken:y2(f.authToken)}}else throw await v2("Create Installation",d)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function x2(t){return new Promise(e=>{setTimeout(e,t)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kD(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ID=/^[cdef][\w-]{21}$/,C0="";function PD(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const n=RD(t);return ID.test(n)?n:C0}catch{return C0}}function RD(t){return kD(t).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qp(t){return`${t.appName}!${t.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b2=new Map;function E2(t,e){const n=qp(t);S2(n,e),AD(n,e)}function S2(t,e){const n=b2.get(t);if(n)for(const r of n)r(e)}function AD(t,e){const n=ND();n&&n.postMessage({key:t,fid:e}),OD()}let Jo=null;function ND(){return!Jo&&"BroadcastChannel"in self&&(Jo=new BroadcastChannel("[Firebase] FID Change"),Jo.onmessage=t=>{S2(t.data.key,t.data.fid)}),Jo}function OD(){b2.size===0&&Jo&&(Jo.close(),Jo=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DD="firebase-installations-database",MD=1,ca="firebase-installations-store";let wy=null;function Gv(){return wy||(wy=Hp(DD,MD,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(ca)}}})),wy}async function np(t,e){const n=qp(t),i=(await Gv()).transaction(ca,"readwrite"),o=i.objectStore(ca),l=await o.get(n);return await o.put(e,n),await i.done,(!l||l.fid!==e.fid)&&E2(t,e.fid),e}async function C2(t){const e=qp(t),r=(await Gv()).transaction(ca,"readwrite");await r.objectStore(ca).delete(e),await r.done}async function Gp(t,e){const n=qp(t),i=(await Gv()).transaction(ca,"readwrite"),o=i.objectStore(ca),l=await o.get(n),c=e(l);return c===void 0?await o.delete(n):await o.put(c,n),await i.done,c&&(!l||l.fid!==c.fid)&&E2(t,c.fid),c}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Kv(t){let e;const n=await Gp(t.appConfig,r=>{const i=LD(r),o=jD(t,i);return e=o.registrationPromise,o.installationEntry});return n.fid===C0?{installationEntry:await e}:{installationEntry:n,registrationPromise:e}}function LD(t){const e=t||{fid:PD(),registrationStatus:0};return T2(e)}function jD(t,e){if(e.registrationStatus===0){if(!navigator.onLine){const i=Promise.reject(la.create("app-offline"));return{installationEntry:e,registrationPromise:i}}const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=FD(t,n);return{installationEntry:n,registrationPromise:r}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:$D(t)}:{installationEntry:e}}async function FD(t,e){try{const n=await TD(t,e);return np(t.appConfig,n)}catch(n){throw m2(n)&&n.customData.serverCode===409?await C2(t.appConfig):await np(t.appConfig,{fid:e.fid,registrationStatus:0}),n}}async function $D(t){let e=await Fb(t.appConfig);for(;e.registrationStatus===1;)await x2(100),e=await Fb(t.appConfig);if(e.registrationStatus===0){const{installationEntry:n,registrationPromise:r}=await Kv(t);return r||n}return e}function Fb(t){return Gp(t,e=>{if(!e)throw la.create("installation-not-found");return T2(e)})}function T2(t){return UD(t)?{fid:t.fid,registrationStatus:0}:t}function UD(t){return t.registrationStatus===1&&t.registrationTime+h2<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function VD({appConfig:t,heartbeatServiceProvider:e},n){const r=BD(t,n),i=ED(t,n),o=e.getImmediate({optional:!0});if(o){const f=await o.getHeartbeatsHeader();f&&i.append("x-firebase-client",f)}const l={installation:{sdkVersion:f2,appId:t.appId}},c={method:"POST",headers:i,body:JSON.stringify(l)},d=await _2(()=>fetch(r,c));if(d.ok){const f=await d.json();return y2(f)}else throw await v2("Generate Auth Token",d)}function BD(t,{fid:e}){return`${g2(t)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Yv(t,e=!1){let n;const r=await Gp(t.appConfig,o=>{if(!k2(o))throw la.create("not-registered");const l=o.authToken;if(!e&&HD(l))return o;if(l.requestStatus===1)return n=zD(t,e),o;{if(!navigator.onLine)throw la.create("app-offline");const c=GD(o);return n=WD(t,c),c}});return n?await n:r.authToken}async function zD(t,e){let n=await $b(t.appConfig);for(;n.authToken.requestStatus===1;)await x2(100),n=await $b(t.appConfig);const r=n.authToken;return r.requestStatus===0?Yv(t,e):r}function $b(t){return Gp(t,e=>{if(!k2(e))throw la.create("not-registered");const n=e.authToken;return KD(n)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}async function WD(t,e){try{const n=await VD(t,e),r=Object.assign(Object.assign({},e),{authToken:n});return await np(t.appConfig,r),n}catch(n){if(m2(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await C2(t.appConfig);else{const r=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});await np(t.appConfig,r)}throw n}}function k2(t){return t!==void 0&&t.registrationStatus===2}function HD(t){return t.requestStatus===2&&!qD(t)}function qD(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+wD}function GD(t){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},t),{authToken:e})}function KD(t){return t.requestStatus===1&&t.requestTime+h2<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function YD(t){const e=t,{installationEntry:n,registrationPromise:r}=await Kv(e);return r?r.catch(console.error):Yv(e).catch(console.error),n.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function XD(t,e=!1){const n=t;return await JD(n),(await Yv(n,e)).token}async function JD(t){const{registrationPromise:e}=await Kv(t);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QD(t){if(!t||!t.options)throw _y("App Configuration");if(!t.name)throw _y("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!t.options[n])throw _y(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}function _y(t){return la.create("missing-app-config-values",{valueName:t})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I2="installations",ZD="installations-internal",eM=t=>{const e=t.getProvider("app").getImmediate(),n=QD(e),r=fo(e,"heartbeat");return{app:e,appConfig:n,heartbeatServiceProvider:r,_delete:()=>Promise.resolve()}},tM=t=>{const e=t.getProvider("app").getImmediate(),n=fo(e,I2).getImmediate();return{getId:()=>YD(n),getToken:i=>XD(n,i)}};function nM(){er(new Un(I2,eM,"PUBLIC")),er(new Un(ZD,tM,"PRIVATE"))}nM();Yt(d2,qv);Yt(d2,qv,"esm2017");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rM="/firebase-messaging-sw.js",iM="/firebase-cloud-messaging-push-scope",P2="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",sM="https://fcmregistrations.googleapis.com/v1",R2="google.c.a.c_id",oM="google.c.a.c_l",aM="google.c.a.ts",lM="google.c.a.e",Ub=1e4;var Vb;(function(t){t[t.DATA_MESSAGE=1]="DATA_MESSAGE",t[t.DISPLAY_NOTIFICATION=3]="DISPLAY_NOTIFICATION"})(Vb||(Vb={}));/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License"); you may not use this file except
 * in compliance with the License. You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software distributed under the License
 * is distributed on an "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express
 * or implied. See the License for the specific language governing permissions and limitations under
 * the License.
 */var Zu;(function(t){t.PUSH_RECEIVED="push-received",t.NOTIFICATION_CLICKED="notification-clicked"})(Zu||(Zu={}));/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wi(t){const e=new Uint8Array(t);return btoa(String.fromCharCode(...e)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function cM(t){const e="=".repeat((4-t.length%4)%4),n=(t+e).replace(/\-/g,"+").replace(/_/g,"/"),r=atob(n),i=new Uint8Array(r.length);for(let o=0;o<r.length;++o)i[o]=r.charCodeAt(o);return i}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xy="fcm_token_details_db",uM=5,Bb="fcm_token_object_Store";async function dM(t){if("databases"in indexedDB&&!(await indexedDB.databases()).map(o=>o.name).includes(xy))return null;let e=null;return(await Hp(xy,uM,{upgrade:async(r,i,o,l)=>{var c;if(i<2||!r.objectStoreNames.contains(Bb))return;const d=l.objectStore(Bb),f=await d.index("fcmSenderId").get(t);if(await d.clear(),!!f){if(i===2){const m=f;if(!m.auth||!m.p256dh||!m.endpoint)return;e={token:m.fcmToken,createTime:(c=m.createTime)!==null&&c!==void 0?c:Date.now(),subscriptionOptions:{auth:m.auth,p256dh:m.p256dh,endpoint:m.endpoint,swScope:m.swScope,vapidKey:typeof m.vapidKey=="string"?m.vapidKey:Wi(m.vapidKey)}}}else if(i===3){const m=f;e={token:m.fcmToken,createTime:m.createTime,subscriptionOptions:{auth:Wi(m.auth),p256dh:Wi(m.p256dh),endpoint:m.endpoint,swScope:m.swScope,vapidKey:Wi(m.vapidKey)}}}else if(i===4){const m=f;e={token:m.fcmToken,createTime:m.createTime,subscriptionOptions:{auth:Wi(m.auth),p256dh:Wi(m.p256dh),endpoint:m.endpoint,swScope:m.swScope,vapidKey:Wi(m.vapidKey)}}}}}})).close(),await gy(xy),await gy("fcm_vapid_details_db"),await gy("undefined"),hM(e)?e:null}function hM(t){if(!t||!t.subscriptionOptions)return!1;const{subscriptionOptions:e}=t;return typeof t.createTime=="number"&&t.createTime>0&&typeof t.token=="string"&&t.token.length>0&&typeof e.auth=="string"&&e.auth.length>0&&typeof e.p256dh=="string"&&e.p256dh.length>0&&typeof e.endpoint=="string"&&e.endpoint.length>0&&typeof e.swScope=="string"&&e.swScope.length>0&&typeof e.vapidKey=="string"&&e.vapidKey.length>0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fM="firebase-messaging-database",pM=1,ed="firebase-messaging-store";let by=null;function A2(){return by||(by=Hp(fM,pM,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(ed)}}})),by}async function mM(t){const e=N2(t),r=await(await A2()).transaction(ed).objectStore(ed).get(e);if(r)return r;{const i=await dM(t.appConfig.senderId);if(i)return await Xv(t,i),i}}async function Xv(t,e){const n=N2(t),i=(await A2()).transaction(ed,"readwrite");return await i.objectStore(ed).put(e,n),await i.done,e}function N2({appConfig:t}){return t.appId}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gM={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."},mn=new _a("messaging","Messaging",gM);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yM(t,e){const n=await Qv(t),r=O2(e),i={method:"POST",headers:n,body:JSON.stringify(r)};let o;try{o=await(await fetch(Jv(t.appConfig),i)).json()}catch(l){throw mn.create("token-subscribe-failed",{errorInfo:l?.toString()})}if(o.error){const l=o.error.message;throw mn.create("token-subscribe-failed",{errorInfo:l})}if(!o.token)throw mn.create("token-subscribe-no-token");return o.token}async function vM(t,e){const n=await Qv(t),r=O2(e.subscriptionOptions),i={method:"PATCH",headers:n,body:JSON.stringify(r)};let o;try{o=await(await fetch(`${Jv(t.appConfig)}/${e.token}`,i)).json()}catch(l){throw mn.create("token-update-failed",{errorInfo:l?.toString()})}if(o.error){const l=o.error.message;throw mn.create("token-update-failed",{errorInfo:l})}if(!o.token)throw mn.create("token-update-no-token");return o.token}async function wM(t,e){const r={method:"DELETE",headers:await Qv(t)};try{const o=await(await fetch(`${Jv(t.appConfig)}/${e}`,r)).json();if(o.error){const l=o.error.message;throw mn.create("token-unsubscribe-failed",{errorInfo:l})}}catch(i){throw mn.create("token-unsubscribe-failed",{errorInfo:i?.toString()})}}function Jv({projectId:t}){return`${sM}/projects/${t}/registrations`}async function Qv({appConfig:t,installations:e}){const n=await e.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t.apiKey,"x-goog-firebase-installations-auth":`FIS ${n}`})}function O2({p256dh:t,auth:e,endpoint:n,vapidKey:r}){const i={web:{endpoint:n,auth:e,p256dh:t}};return r!==P2&&(i.web.applicationPubKey=r),i}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _M=7*24*60*60*1e3;async function xM(t){const e=await EM(t.swRegistration,t.vapidKey),n={vapidKey:t.vapidKey,swScope:t.swRegistration.scope,endpoint:e.endpoint,auth:Wi(e.getKey("auth")),p256dh:Wi(e.getKey("p256dh"))},r=await mM(t.firebaseDependencies);if(r){if(SM(r.subscriptionOptions,n))return Date.now()>=r.createTime+_M?bM(t,{token:r.token,createTime:Date.now(),subscriptionOptions:n}):r.token;try{await wM(t.firebaseDependencies,r.token)}catch(i){console.warn(i)}return zb(t.firebaseDependencies,n)}else return zb(t.firebaseDependencies,n)}async function bM(t,e){try{const n=await vM(t.firebaseDependencies,e),r=Object.assign(Object.assign({},e),{token:n,createTime:Date.now()});return await Xv(t.firebaseDependencies,r),n}catch(n){throw n}}async function zb(t,e){const r={token:await yM(t,e),createTime:Date.now(),subscriptionOptions:e};return await Xv(t,r),r.token}async function EM(t,e){const n=await t.pushManager.getSubscription();return n||t.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:cM(e)})}function SM(t,e){const n=e.vapidKey===t.vapidKey,r=e.endpoint===t.endpoint,i=e.auth===t.auth,o=e.p256dh===t.p256dh;return n&&r&&i&&o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wb(t){const e={from:t.from,collapseKey:t.collapse_key,messageId:t.fcmMessageId};return CM(e,t),TM(e,t),kM(e,t),e}function CM(t,e){if(!e.notification)return;t.notification={};const n=e.notification.title;n&&(t.notification.title=n);const r=e.notification.body;r&&(t.notification.body=r);const i=e.notification.image;i&&(t.notification.image=i);const o=e.notification.icon;o&&(t.notification.icon=o)}function TM(t,e){e.data&&(t.data=e.data)}function kM(t,e){var n,r,i,o,l;if(!e.fcmOptions&&!(!((n=e.notification)===null||n===void 0)&&n.click_action))return;t.fcmOptions={};const c=(i=(r=e.fcmOptions)===null||r===void 0?void 0:r.link)!==null&&i!==void 0?i:(o=e.notification)===null||o===void 0?void 0:o.click_action;c&&(t.fcmOptions.link=c);const d=(l=e.fcmOptions)===null||l===void 0?void 0:l.analytics_label;d&&(t.fcmOptions.analyticsLabel=d)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IM(t){return typeof t=="object"&&!!t&&R2 in t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PM(t){if(!t||!t.options)throw Ey("App Configuration Object");if(!t.name)throw Ey("App Name");const e=["projectId","apiKey","appId","messagingSenderId"],{options:n}=t;for(const r of e)if(!n[r])throw Ey(r);return{appName:t.name,projectId:n.projectId,apiKey:n.apiKey,appId:n.appId,senderId:n.messagingSenderId}}function Ey(t){return mn.create("missing-app-config-values",{valueName:t})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RM{constructor(e,n,r){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const i=PM(e);this.firebaseDependencies={app:e,appConfig:i,installations:n,analyticsProvider:r}}_delete(){return Promise.resolve()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function AM(t){try{t.swRegistration=await navigator.serviceWorker.register(rM,{scope:iM}),t.swRegistration.update().catch(()=>{}),await NM(t.swRegistration)}catch(e){throw mn.create("failed-service-worker-registration",{browserErrorMessage:e?.message})}}async function NM(t){return new Promise((e,n)=>{const r=setTimeout(()=>n(new Error(`Service worker not registered after ${Ub} ms`)),Ub),i=t.installing||t.waiting;t.active?(clearTimeout(r),e()):i?i.onstatechange=o=>{var l;((l=o.target)===null||l===void 0?void 0:l.state)==="activated"&&(i.onstatechange=null,clearTimeout(r),e())}:(clearTimeout(r),n(new Error("No incoming service worker found.")))})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function OM(t,e){if(!e&&!t.swRegistration&&await AM(t),!(!e&&t.swRegistration)){if(!(e instanceof ServiceWorkerRegistration))throw mn.create("invalid-sw-registration");t.swRegistration=e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function DM(t,e){e?t.vapidKey=e:t.vapidKey||(t.vapidKey=P2)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function D2(t,e){if(!navigator)throw mn.create("only-available-in-window");if(Notification.permission==="default"&&await Notification.requestPermission(),Notification.permission!=="granted")throw mn.create("permission-blocked");return await DM(t,e?.vapidKey),await OM(t,e?.serviceWorkerRegistration),xM(t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function MM(t,e,n){const r=LM(e);(await t.firebaseDependencies.analyticsProvider.get()).logEvent(r,{message_id:n[R2],message_name:n[oM],message_time:n[aM],message_device_time:Math.floor(Date.now()/1e3)})}function LM(t){switch(t){case Zu.NOTIFICATION_CLICKED:return"notification_open";case Zu.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jM(t,e){const n=e.data;if(!n.isFirebaseMessaging)return;t.onMessageHandler&&n.messageType===Zu.PUSH_RECEIVED&&(typeof t.onMessageHandler=="function"?t.onMessageHandler(Wb(n)):t.onMessageHandler.next(Wb(n)));const r=n.data;IM(r)&&r[lM]==="1"&&await MM(t,n.messageType,r)}const Hb="@firebase/messaging",qb="0.12.20";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FM=t=>{const e=new RM(t.getProvider("app").getImmediate(),t.getProvider("installations-internal").getImmediate(),t.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",n=>jM(e,n)),e},$M=t=>{const e=t.getProvider("messaging").getImmediate();return{getToken:r=>D2(e,r)}};function UM(){er(new Un("messaging",FM,"PUBLIC")),er(new Un("messaging-internal",$M,"PRIVATE")),Yt(Hb,qb),Yt(Hb,qb,"esm2017")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function VM(){try{await i2()}catch{return!1}return typeof window<"u"&&r2()&&eO()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BM(t,e){if(!navigator)throw mn.create("only-available-in-window");return t.onMessageHandler=e,()=>{t.onMessageHandler=null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zv(t=kd()){return VM().then(e=>{if(!e)throw mn.create("unsupported-browser")},e=>{throw mn.create("indexed-db-unsupported")}),fo(ht(t),"messaging").getImmediate()}async function zM(t,e){return t=ht(t),D2(t,e)}function WM(t,e){return t=ht(t),BM(t,e)}UM();var HM="firebase",qM="11.7.3";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Yt(HM,qM,"app");var T0=function(t,e){return T0=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(n[i]=r[i])},T0(t,e)};function GM(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");T0(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}var qt=function(){return qt=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},qt.apply(this,arguments)};function ew(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function M2(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const KM=M2,L2=new _a("auth","Firebase",M2());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rp=new Wp("@firebase/auth");function YM(t,...e){rp.logLevel<=Ke.WARN&&rp.warn(`Auth (${po}): ${t}`,...e)}function jf(t,...e){rp.logLevel<=Ke.ERROR&&rp.error(`Auth (${po}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wr(t,...e){throw nw(t,...e)}function Hr(t,...e){return nw(t,...e)}function tw(t,e,n){const r=Object.assign(Object.assign({},KM()),{[e]:n});return new _a("auth","Firebase",r).create(e,{appName:t.name})}function Ji(t){return tw(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function XM(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&wr(t,"argument-error"),tw(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function nw(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return L2.create(t,...e)}function Re(t,e,...n){if(!t)throw nw(e,...n)}function qi(t){const e="INTERNAL ASSERTION FAILED: "+t;throw jf(e),new Error(e)}function is(t,e){t||qi(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function k0(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function JM(){return Gb()==="http:"||Gb()==="https:"}function Gb(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QM(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(JM()||J4()||"connection"in navigator)?navigator.onLine:!0}function ZM(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Id{constructor(e,n){this.shortDelay=e,this.longDelay=n,is(n>e,"Short delay should be less than long delay!"),this.isMobile=Wv()||n2()}get(){return QM()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rw(t,e){is(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j2{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;qi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;qi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;qi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eL={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tL=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],nL=new Id(3e4,6e4);function us(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function ds(t,e,n,r,i={}){return F2(t,i,async()=>{let o={},l={};r&&(e==="GET"?l=r:o={body:JSON.stringify(r)});const c=tc(Object.assign({key:t.config.apiKey},l)).slice(1),d=await t._getAdditionalHeaders();d["Content-Type"]="application/json",t.languageCode&&(d["X-Firebase-Locale"]=t.languageCode);const f=Object.assign({method:e,headers:d},o);return X4()||(f.referrerPolicy="no-referrer"),t.emulatorConfig&&uo(t.emulatorConfig.host)&&(f.credentials="include"),j2.fetch()(await $2(t,t.config.apiHost,n,c),f)})}async function F2(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},eL),e);try{const i=new iL(t),o=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const l=await o.json();if("needConfirmation"in l)throw yf(t,"account-exists-with-different-credential",l);if(o.ok&&!("errorMessage"in l))return l;{const c=o.ok?l.errorMessage:l.error.message,[d,f]=c.split(" : ");if(d==="FEDERATED_USER_ID_ALREADY_LINKED")throw yf(t,"credential-already-in-use",l);if(d==="EMAIL_EXISTS")throw yf(t,"email-already-in-use",l);if(d==="USER_DISABLED")throw yf(t,"user-disabled",l);const m=r[d]||d.toLowerCase().replace(/[_\s]+/g,"-");if(f)throw tw(t,m,f);wr(t,m)}}catch(i){if(i instanceof Xr)throw i;wr(t,"network-request-failed",{message:String(i)})}}async function Pd(t,e,n,r,i={}){const o=await ds(t,e,n,r,i);return"mfaPendingCredential"in o&&wr(t,"multi-factor-auth-required",{_serverResponse:o}),o}async function $2(t,e,n,r){const i=`${e}${n}?${r}`,o=t,l=o.config.emulator?rw(t.config,i):`${t.config.apiScheme}://${i}`;return tL.includes(n)&&(await o._persistenceManagerAvailable,o._getPersistenceType()==="COOKIE")?o._getPersistence()._getFinalTarget(l).toString():l}function rL(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class iL{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Hr(this.auth,"network-request-failed")),nL.get())})}}function yf(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Hr(t,e,r);return i.customData._tokenResponse=n,i}function Kb(t){return t!==void 0&&t.enterprise!==void 0}class sL{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return rL(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function oL(t,e){return ds(t,"GET","/v2/recaptchaConfig",us(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function aL(t,e){return ds(t,"POST","/v1/accounts:delete",e)}async function ip(t,e){return ds(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pu(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function lL(t,e=!1){const n=ht(t),r=await n.getIdToken(e),i=iw(r);Re(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const o=typeof i.firebase=="object"?i.firebase:void 0,l=o?.sign_in_provider;return{claims:i,token:r,authTime:Pu(Sy(i.auth_time)),issuedAtTime:Pu(Sy(i.iat)),expirationTime:Pu(Sy(i.exp)),signInProvider:l||null,signInSecondFactor:o?.sign_in_second_factor||null}}function Sy(t){return Number(t)*1e3}function iw(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return jf("JWT malformed, contained fewer than 3 sections"),null;try{const i=Zf(n);return i?JSON.parse(i):(jf("Failed to decode base64 JWT payload"),null)}catch(i){return jf("Caught error parsing JWT payload as JSON",i?.toString()),null}}function Yb(t){const e=iw(t);return Re(e,"internal-error"),Re(typeof e.exp<"u","internal-error"),Re(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function td(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Xr&&cL(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function cL({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uL{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I0{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Pu(this.lastLoginAt),this.creationTime=Pu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sp(t){var e;const n=t.auth,r=await t.getIdToken(),i=await td(t,ip(n,{idToken:r}));Re(i?.users.length,n,"internal-error");const o=i.users[0];t._notifyReloadListener(o);const l=!((e=o.providerUserInfo)===null||e===void 0)&&e.length?U2(o.providerUserInfo):[],c=hL(t.providerData,l),d=t.isAnonymous,f=!(t.email&&o.passwordHash)&&!c?.length,m=d?f:!1,g={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:c,metadata:new I0(o.createdAt,o.lastLoginAt),isAnonymous:m};Object.assign(t,g)}async function dL(t){const e=ht(t);await sp(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function hL(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function U2(t){return t.map(e=>{var{providerId:n}=e,r=ew(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fL(t,e){const n=await F2(t,{},async()=>{const r=tc({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:o}=t.config,l=await $2(t,i,"/v1/token",`key=${o}`),c=await t._getAdditionalHeaders();return c["Content-Type"]="application/x-www-form-urlencoded",j2.fetch()(l,{method:"POST",headers:c,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function pL(t,e){return ds(t,"POST","/v2/accounts:revokeToken",us(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nl{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Re(e.idToken,"internal-error"),Re(typeof e.idToken<"u","internal-error"),Re(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Yb(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Re(e.length!==0,"internal-error");const n=Yb(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Re(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:o}=await fL(e,n);this.updateTokensAndExpiration(r,i,Number(o))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:o}=n,l=new Nl;return r&&(Re(typeof r=="string","internal-error",{appName:e}),l.refreshToken=r),i&&(Re(typeof i=="string","internal-error",{appName:e}),l.accessToken=i),o&&(Re(typeof o=="number","internal-error",{appName:e}),l.expirationTime=o),l}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Nl,this.toJSON())}_performRefresh(){return qi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Us(t,e){Re(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Vr{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,o=ew(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new uL(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new I0(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const n=await td(this,this.stsTokenManager.getToken(this.auth,e));return Re(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return lL(this,e)}reload(){return dL(this)}_assign(e){this!==e&&(Re(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Vr(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){Re(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await sp(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(fn(this.auth.app))return Promise.reject(Ji(this.auth));const e=await this.getIdToken();return await td(this,aL(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,o,l,c,d,f,m;const g=(r=n.displayName)!==null&&r!==void 0?r:void 0,y=(i=n.email)!==null&&i!==void 0?i:void 0,C=(o=n.phoneNumber)!==null&&o!==void 0?o:void 0,S=(l=n.photoURL)!==null&&l!==void 0?l:void 0,k=(c=n.tenantId)!==null&&c!==void 0?c:void 0,P=(d=n._redirectEventId)!==null&&d!==void 0?d:void 0,N=(f=n.createdAt)!==null&&f!==void 0?f:void 0,M=(m=n.lastLoginAt)!==null&&m!==void 0?m:void 0,{uid:O,emailVerified:U,isAnonymous:B,providerData:H,stsTokenManager:D}=n;Re(O&&D,e,"internal-error");const I=Nl.fromJSON(this.name,D);Re(typeof O=="string",e,"internal-error"),Us(g,e.name),Us(y,e.name),Re(typeof U=="boolean",e,"internal-error"),Re(typeof B=="boolean",e,"internal-error"),Us(C,e.name),Us(S,e.name),Us(k,e.name),Us(P,e.name),Us(N,e.name),Us(M,e.name);const A=new Vr({uid:O,auth:e,email:y,emailVerified:U,displayName:g,isAnonymous:B,photoURL:S,phoneNumber:C,tenantId:k,stsTokenManager:I,createdAt:N,lastLoginAt:M});return H&&Array.isArray(H)&&(A.providerData=H.map(E=>Object.assign({},E))),P&&(A._redirectEventId=P),A}static async _fromIdTokenResponse(e,n,r=!1){const i=new Nl;i.updateFromServerResponse(n);const o=new Vr({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await sp(o),o}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];Re(i.localId!==void 0,"internal-error");const o=i.providerUserInfo!==void 0?U2(i.providerUserInfo):[],l=!(i.email&&i.passwordHash)&&!o?.length,c=new Nl;c.updateFromIdToken(r);const d=new Vr({uid:i.localId,auth:e,stsTokenManager:c,isAnonymous:l}),f={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new I0(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!o?.length};return Object.assign(d,f),d}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xb=new Map;function Gi(t){is(t instanceof Function,"Expected a class definition");let e=Xb.get(t);return e?(is(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,Xb.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V2{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}V2.type="NONE";const Jb=V2;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ff(t,e,n){return`firebase:${t}:${e}:${n}`}class Ol{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:o}=this.auth;this.fullUserKey=Ff(this.userKey,i.apiKey,o),this.fullPersistenceKey=Ff("persistence",i.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await ip(this.auth,{idToken:e}).catch(()=>{});return n?Vr._fromGetAccountInfoResponse(this.auth,n,e):null}return Vr._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Ol(Gi(Jb),e,r);const i=(await Promise.all(n.map(async f=>{if(await f._isAvailable())return f}))).filter(f=>f);let o=i[0]||Gi(Jb);const l=Ff(r,e.config.apiKey,e.name);let c=null;for(const f of n)try{const m=await f._get(l);if(m){let g;if(typeof m=="string"){const y=await ip(e,{idToken:m}).catch(()=>{});if(!y)break;g=await Vr._fromGetAccountInfoResponse(e,y,m)}else g=Vr._fromJSON(e,m);f!==o&&(c=g),o=f;break}}catch{}const d=i.filter(f=>f._shouldAllowMigration);return!o._shouldAllowMigration||!d.length?new Ol(o,e,r):(o=d[0],c&&await o._set(l,c.toJSON()),await Promise.all(n.map(async f=>{if(f!==o)try{await f._remove(l)}catch{}})),new Ol(o,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qb(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(H2(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(B2(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(G2(e))return"Blackberry";if(K2(e))return"Webos";if(z2(e))return"Safari";if((e.includes("chrome/")||W2(e))&&!e.includes("edge/"))return"Chrome";if(q2(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if(r?.length===2)return r[1]}return"Other"}function B2(t=Cn()){return/firefox\//i.test(t)}function z2(t=Cn()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function W2(t=Cn()){return/crios\//i.test(t)}function H2(t=Cn()){return/iemobile/i.test(t)}function q2(t=Cn()){return/android/i.test(t)}function G2(t=Cn()){return/blackberry/i.test(t)}function K2(t=Cn()){return/webos/i.test(t)}function sw(t=Cn()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function mL(t=Cn()){var e;return sw(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function gL(){return Q4()&&document.documentMode===10}function Y2(t=Cn()){return sw(t)||q2(t)||K2(t)||G2(t)||/windows phone/i.test(t)||H2(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function X2(t,e=[]){let n;switch(t){case"Browser":n=Qb(Cn());break;case"Worker":n=`${Qb(Cn())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${po}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yL{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=o=>new Promise((l,c)=>{try{const d=e(o);l(d)}catch(d){c(d)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vL(t,e={}){return ds(t,"GET","/v2/passwordPolicy",us(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wL=6;class _L{constructor(e){var n,r,i,o;const l=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=l.minPasswordLength)!==null&&n!==void 0?n:wL,l.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=l.maxPasswordLength),l.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=l.containsLowercaseCharacter),l.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=l.containsUppercaseCharacter),l.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=l.containsNumericCharacter),l.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=l.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(o=e.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,o,l,c;const d={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,d),this.validatePasswordCharacterOptions(e,d),d.isValid&&(d.isValid=(n=d.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),d.isValid&&(d.isValid=(r=d.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),d.isValid&&(d.isValid=(i=d.containsLowercaseLetter)!==null&&i!==void 0?i:!0),d.isValid&&(d.isValid=(o=d.containsUppercaseLetter)!==null&&o!==void 0?o:!0),d.isValid&&(d.isValid=(l=d.containsNumericCharacter)!==null&&l!==void 0?l:!0),d.isValid&&(d.isValid=(c=d.containsNonAlphanumericCharacter)!==null&&c!==void 0?c:!0),d}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xL{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Zb(this),this.idTokenSubscription=new Zb(this),this.beforeStateQueue=new yL(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=L2,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(o=>this._resolvePersistenceManagerAvailable=o)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Gi(n)),this._initializationPromise=this.queue(async()=>{var r,i,o;if(!this._deleted&&(this.persistenceManager=await Ol.create(this,e),(r=this._resolvePersistenceManagerAvailable)===null||r===void 0||r.call(this),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((o=this.currentUser)===null||o===void 0?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await ip(this,{idToken:e}),r=await Vr._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(fn(this.app)){const l=this.app.settings.authIdToken;return l?new Promise(c=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(l).then(c,c))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let i=r,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const l=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,c=i?._redirectEventId,d=await this.tryRedirectSignIn(e);(!l||l===c)&&d?.user&&(i=d.user,o=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(i)}catch(l){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(l))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return Re(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await sp(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=ZM()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(fn(this.app))return Promise.reject(Ji(this));const n=e?ht(e):null;return n&&Re(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Re(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return fn(this.app)?Promise.reject(Ji(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return fn(this.app)?Promise.reject(Ji(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Gi(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await vL(this),n=new _L(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new _a("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await pL(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Gi(e)||this._popupRedirectResolver;Re(n,this,"argument-error"),this.redirectPersistenceManager=await Ol.create(this,[Gi(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const o=typeof n=="function"?n:n.next.bind(n);let l=!1;const c=this._isInitialized?Promise.resolve():this._initializationPromise;if(Re(c,this,"internal-error"),c.then(()=>{l||o(this.currentUser)}),typeof n=="function"){const d=e.addObserver(n,r,i);return()=>{l=!0,d()}}else{const d=e.addObserver(n);return()=>{l=!0,d()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Re(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=X2(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;if(fn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n?.error&&YM(`Error while retrieving App Check token: ${n.error}`),n?.token}}function mo(t){return ht(t)}class Zb{constructor(e){this.auth=e,this.observer=null,this.addObserver=aO(n=>this.observer=n)}get next(){return Re(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Kp={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function bL(t){Kp=t}function J2(t){return Kp.loadJS(t)}function EL(){return Kp.recaptchaEnterpriseScript}function SL(){return Kp.gapiScript}function CL(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class TL{constructor(){this.enterprise=new kL}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class kL{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const IL="recaptcha-enterprise",Q2="NO_RECAPTCHA";class PL{constructor(e){this.type=IL,this.auth=mo(e)}async verify(e="verify",n=!1){async function r(o){if(!n){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise(async(l,c)=>{oL(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(d=>{if(d.recaptchaKey===void 0)c(new Error("recaptcha Enterprise site key undefined"));else{const f=new sL(d);return o.tenantId==null?o._agentRecaptchaConfig=f:o._tenantRecaptchaConfigs[o.tenantId]=f,l(f.siteKey)}}).catch(d=>{c(d)})})}function i(o,l,c){const d=window.grecaptcha;Kb(d)?d.enterprise.ready(()=>{d.enterprise.execute(o,{action:e}).then(f=>{l(f)}).catch(()=>{l(Q2)})}):c(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new TL().execute("siteKey",{action:"verify"}):new Promise((o,l)=>{r(this.auth).then(c=>{if(!n&&Kb(window.grecaptcha))i(c,o,l);else{if(typeof window>"u"){l(new Error("RecaptchaVerifier is only supported in browser"));return}let d=EL();d.length!==0&&(d+=c),J2(d).then(()=>{i(c,o,l)}).catch(f=>{l(f)})}}).catch(c=>{l(c)})})}}async function eE(t,e,n,r=!1,i=!1){const o=new PL(t);let l;if(i)l=Q2;else try{l=await o.verify(n)}catch{l=await o.verify(n,!0)}const c=Object.assign({},e);if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in c){const d=c.phoneEnrollmentInfo.phoneNumber,f=c.phoneEnrollmentInfo.recaptchaToken;Object.assign(c,{phoneEnrollmentInfo:{phoneNumber:d,recaptchaToken:f,captchaResponse:l,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in c){const d=c.phoneSignInInfo.recaptchaToken;Object.assign(c,{phoneSignInInfo:{recaptchaToken:d,captchaResponse:l,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return c}return r?Object.assign(c,{captchaResp:l}):Object.assign(c,{captchaResponse:l}),Object.assign(c,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(c,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),c}async function P0(t,e,n,r,i){var o;if(!((o=t._getRecaptchaConfig())===null||o===void 0)&&o.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const l=await eE(t,e,n,n==="getOobCode");return r(t,l)}else return r(t,e).catch(async l=>{if(l.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const c=await eE(t,e,n,n==="getOobCode");return r(t,c)}else return Promise.reject(l)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RL(t,e){const n=fo(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),o=n.getOptions();if(no(o,e??{}))return i;wr(i,"already-initialized")}return n.initialize({options:e})}function AL(t,e){const n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(Gi);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}function Z2(t,e,n){const r=mo(t);Re(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,o=ek(e),{host:l,port:c}=NL(e),d=c===null?"":`:${c}`,f={url:`${o}//${l}${d}/`},m=Object.freeze({host:l,port:c,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){Re(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),Re(no(f,r.config.emulator)&&no(m,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=f,r.emulatorConfig=m,r.settings.appVerificationDisabledForTesting=!0,uo(l)?(ho("Auth",!0),Vp(`${o}//${l}${d}`)):OL()}function ek(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function NL(t){const e=ek(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const o=i[1];return{host:o,port:tE(r.substr(o.length+1))}}else{const[o,l]=r.split(":");return{host:o,port:tE(l)}}}function tE(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function OL(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ow{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return qi("not implemented")}_getIdTokenResponse(e){return qi("not implemented")}_linkToIdToken(e,n){return qi("not implemented")}_getReauthenticationResolver(e){return qi("not implemented")}}async function DL(t,e){return ds(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ML(t,e){return Pd(t,"POST","/v1/accounts:signInWithPassword",us(t,e))}async function LL(t,e){return ds(t,"POST","/v1/accounts:sendOobCode",us(t,e))}async function jL(t,e){return LL(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function FL(t,e){return Pd(t,"POST","/v1/accounts:signInWithEmailLink",us(t,e))}async function $L(t,e){return Pd(t,"POST","/v1/accounts:signInWithEmailLink",us(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nd extends ow{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new nd(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new nd(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return P0(e,n,"signInWithPassword",ML);case"emailLink":return FL(e,{email:this._email,oobCode:this._password});default:wr(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return P0(e,r,"signUpPassword",DL);case"emailLink":return $L(e,{idToken:n,email:this._email,oobCode:this._password});default:wr(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Dl(t,e){return Pd(t,"POST","/v1/accounts:signInWithIdp",us(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UL="http://localhost";class ua extends ow{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new ua(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):wr("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,o=ew(n,["providerId","signInMethod"]);if(!r||!i)return null;const l=new ua(r,i);return l.idToken=o.idToken||void 0,l.accessToken=o.accessToken||void 0,l.secret=o.secret,l.nonce=o.nonce,l.pendingToken=o.pendingToken||null,l}_getIdTokenResponse(e){const n=this.buildRequest();return Dl(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Dl(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Dl(e,n)}buildRequest(){const e={requestUri:UL,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=tc(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VL(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function BL(t){const e=wu(_u(t)).link,n=e?wu(_u(e)).deep_link_id:null,r=wu(_u(t)).deep_link_id;return(r?wu(_u(r)).link:null)||r||n||e||t}class aw{constructor(e){var n,r,i,o,l,c;const d=wu(_u(e)),f=(n=d.apiKey)!==null&&n!==void 0?n:null,m=(r=d.oobCode)!==null&&r!==void 0?r:null,g=VL((i=d.mode)!==null&&i!==void 0?i:null);Re(f&&m&&g,"argument-error"),this.apiKey=f,this.operation=g,this.code=m,this.continueUrl=(o=d.continueUrl)!==null&&o!==void 0?o:null,this.languageCode=(l=d.lang)!==null&&l!==void 0?l:null,this.tenantId=(c=d.tenantId)!==null&&c!==void 0?c:null}static parseLink(e){const n=BL(e);try{return new aw(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nc{constructor(){this.providerId=nc.PROVIDER_ID}static credential(e,n){return nd._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=aw.parseLink(n);return Re(r,"argument-error"),nd._fromEmailAndCode(e,r.code,r.tenantId)}}nc.PROVIDER_ID="password";nc.EMAIL_PASSWORD_SIGN_IN_METHOD="password";nc.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lw{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rd extends lw{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zs extends Rd{constructor(){super("facebook.com")}static credential(e){return ua._fromParams({providerId:zs.PROVIDER_ID,signInMethod:zs.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return zs.credentialFromTaggedObject(e)}static credentialFromError(e){return zs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return zs.credential(e.oauthAccessToken)}catch{return null}}}zs.FACEBOOK_SIGN_IN_METHOD="facebook.com";zs.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hi extends Rd{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return ua._fromParams({providerId:hi.PROVIDER_ID,signInMethod:hi.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return hi.credentialFromTaggedObject(e)}static credentialFromError(e){return hi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return hi.credential(n,r)}catch{return null}}}hi.GOOGLE_SIGN_IN_METHOD="google.com";hi.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ws extends Rd{constructor(){super("github.com")}static credential(e){return ua._fromParams({providerId:Ws.PROVIDER_ID,signInMethod:Ws.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ws.credentialFromTaggedObject(e)}static credentialFromError(e){return Ws.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ws.credential(e.oauthAccessToken)}catch{return null}}}Ws.GITHUB_SIGN_IN_METHOD="github.com";Ws.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hs extends Rd{constructor(){super("twitter.com")}static credential(e,n){return ua._fromParams({providerId:Hs.PROVIDER_ID,signInMethod:Hs.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Hs.credentialFromTaggedObject(e)}static credentialFromError(e){return Hs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Hs.credential(n,r)}catch{return null}}}Hs.TWITTER_SIGN_IN_METHOD="twitter.com";Hs.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zL(t,e){return Pd(t,"POST","/v1/accounts:signUp",us(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class da{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const o=await Vr._fromIdTokenResponse(e,r,i),l=nE(r);return new da({user:o,providerId:l,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=nE(r);return new da({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function nE(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class op extends Xr{constructor(e,n,r,i){var o;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,op.prototype),this.customData={appName:e.name,tenantId:(o=e.tenantId)!==null&&o!==void 0?o:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new op(e,n,r,i)}}function tk(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?op._fromErrorAndOperation(t,o,e,r):o})}async function WL(t,e,n=!1){const r=await td(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return da._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function HL(t,e,n=!1){const{auth:r}=t;if(fn(r.app))return Promise.reject(Ji(r));const i="reauthenticate";try{const o=await td(t,tk(r,i,e,t),n);Re(o.idToken,r,"internal-error");const l=iw(o.idToken);Re(l,r,"internal-error");const{sub:c}=l;return Re(t.uid===c,r,"user-mismatch"),da._forOperation(t,i,o)}catch(o){throw o?.code==="auth/user-not-found"&&wr(r,"user-mismatch"),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nk(t,e,n=!1){if(fn(t.app))return Promise.reject(Ji(t));const r="signIn",i=await tk(t,r,e),o=await da._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(o.user),o}async function qL(t,e){return nk(mo(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rk(t){const e=mo(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function ik(t,e,n){if(fn(t.app))return Promise.reject(Ji(t));const r=mo(t),l=await P0(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",zL).catch(d=>{throw d.code==="auth/password-does-not-meet-requirements"&&rk(t),d}),c=await da._fromIdTokenResponse(r,"signIn",l);return await r._updateCurrentUser(c.user),c}function GL(t,e,n){return fn(t.app)?Promise.reject(Ji(t)):qL(ht(t),nc.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&rk(t),r})}async function KL(t,e){const n=ht(t),i={requestType:"VERIFY_EMAIL",idToken:await t.getIdToken()},{email:o}=await jL(n.auth,i);o!==t.email&&await t.reload()}function YL(t,e,n,r){return ht(t).onIdTokenChanged(e,n,r)}function XL(t,e,n){return ht(t).beforeAuthStateChanged(e,n)}function JL(t,e,n,r){return ht(t).onAuthStateChanged(e,n,r)}function sk(t){return ht(t).signOut()}const ap="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ok{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(ap,"1"),this.storage.removeItem(ap),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QL=1e3,ZL=10;class ak extends ok{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Y2(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((l,c,d)=>{this.notifyListeners(l,d)});return}const r=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const l=this.storage.getItem(r);!n&&this.localCache[r]===l||this.notifyListeners(r,l)},o=this.storage.getItem(r);gL()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,ZL):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},QL)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}ak.type="LOCAL";const e3=ak;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lk extends ok{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}lk.type="SESSION";const ck=lk;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function t3(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yp{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new Yp(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:o}=n.data,l=this.handlersMap[i];if(!l?.size)return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const c=Array.from(l).map(async f=>f(n.origin,o)),d=await t3(c);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:d})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Yp.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cw(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n3{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let o,l;return new Promise((c,d)=>{const f=cw("",20);i.port1.start();const m=setTimeout(()=>{d(new Error("unsupported_event"))},r);l={messageChannel:i,onMessage(g){const y=g;if(y.data.eventId===f)switch(y.data.status){case"ack":clearTimeout(m),o=setTimeout(()=>{d(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),c(y.data.response);break;default:clearTimeout(m),clearTimeout(o),d(new Error("invalid_response"));break}}},this.handlers.add(l),i.port1.addEventListener("message",l.onMessage),this.target.postMessage({eventType:e,eventId:f,data:n},[i.port2])}).finally(()=>{l&&this.removeMessageHandler(l)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mi(){return window}function r3(t){mi().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uk(){return typeof mi().WorkerGlobalScope<"u"&&typeof mi().importScripts=="function"}async function i3(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function s3(){var t;return((t=navigator?.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function o3(){return uk()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dk="firebaseLocalStorageDb",a3=1,lp="firebaseLocalStorage",hk="fbase_key";class Ad{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Xp(t,e){return t.transaction([lp],e?"readwrite":"readonly").objectStore(lp)}function l3(){const t=indexedDB.deleteDatabase(dk);return new Ad(t).toPromise()}function R0(){const t=indexedDB.open(dk,a3);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(lp,{keyPath:hk})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(lp)?e(r):(r.close(),await l3(),e(await R0()))})})}async function rE(t,e,n){const r=Xp(t,!0).put({[hk]:e,value:n});return new Ad(r).toPromise()}async function c3(t,e){const n=Xp(t,!1).get(e),r=await new Ad(n).toPromise();return r===void 0?null:r.value}function iE(t,e){const n=Xp(t,!0).delete(e);return new Ad(n).toPromise()}const u3=800,d3=3;class fk{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await R0(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>d3)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return uk()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Yp._getInstance(o3()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await i3(),!this.activeServiceWorker)return;this.sender=new n3(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||s3()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await R0();return await rE(e,ap,"1"),await iE(e,ap),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>rE(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>c3(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>iE(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const o=Xp(i,!1).getAll();return new Ad(o).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:o}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(o)&&(this.notifyListeners(i,o),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),u3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}fk.type="LOCAL";const h3=fk;new Id(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pk(t,e){return e?Gi(e):(Re(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uw extends ow{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Dl(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Dl(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Dl(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function f3(t){return nk(t.auth,new uw(t),t.bypassAuthState)}function p3(t){const{auth:e,user:n}=t;return Re(n,e,"internal-error"),HL(n,new uw(t),t.bypassAuthState)}async function m3(t){const{auth:e,user:n}=t;return Re(n,e,"internal-error"),WL(n,new uw(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mk{constructor(e,n,r,i,o=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:o,error:l,type:c}=e;if(l){this.reject(l);return}const d={auth:this.auth,requestUri:n,sessionId:r,tenantId:o||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(c)(d))}catch(f){this.reject(f)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return f3;case"linkViaPopup":case"linkViaRedirect":return m3;case"reauthViaPopup":case"reauthViaRedirect":return p3;default:wr(this.auth,"internal-error")}}resolve(e){is(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){is(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g3=new Id(2e3,1e4);async function y3(t,e,n){if(fn(t.app))return Promise.reject(Hr(t,"operation-not-supported-in-this-environment"));const r=mo(t);XM(t,e,lw);const i=pk(r,n);return new Qo(r,"signInViaPopup",e,i).executeNotNull()}class Qo extends mk{constructor(e,n,r,i,o){super(e,n,i,o),this.provider=r,this.authWindow=null,this.pollId=null,Qo.currentPopupAction&&Qo.currentPopupAction.cancel(),Qo.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Re(e,this.auth,"internal-error"),e}async onExecution(){is(this.filter.length===1,"Popup operations only handle one event");const e=cw();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Hr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Hr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Qo.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Hr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,g3.get())};e()}}Qo.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v3="pendingRedirect",$f=new Map;class w3 extends mk{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=$f.get(this.auth._key());if(!e){try{const r=await _3(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}$f.set(this.auth._key(),e)}return this.bypassAuthState||$f.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function _3(t,e){const n=E3(e),r=b3(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function x3(t,e){$f.set(t._key(),e)}function b3(t){return Gi(t._redirectPersistence)}function E3(t){return Ff(v3,t.config.apiKey,t.name)}async function S3(t,e,n=!1){if(fn(t.app))return Promise.reject(Ji(t));const r=mo(t),i=pk(r,e),l=await new w3(r,i,n).execute();return l&&!n&&(delete l.user._redirectEventId,await r._persistUserIfCurrent(l.user),await r._setRedirectUser(null,e)),l}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C3=10*60*1e3;class T3{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!k3(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!gk(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(Hr(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=C3&&this.cachedEventUids.clear(),this.cachedEventUids.has(sE(e))}saveEventToCache(e){this.cachedEventUids.add(sE(e)),this.lastProcessedEventTime=Date.now()}}function sE(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function gk({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function k3(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return gk(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function I3(t,e={}){return ds(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P3=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,R3=/^https?/;async function A3(t){if(t.config.emulator)return;const{authorizedDomains:e}=await I3(t);for(const n of e)try{if(N3(n))return}catch{}wr(t,"unauthorized-domain")}function N3(t){const e=k0(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const l=new URL(t);return l.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&l.hostname===r}if(!R3.test(n))return!1;if(P3.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O3=new Id(3e4,6e4);function oE(){const t=mi().___jsl;if(t?.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function D3(t){return new Promise((e,n)=>{var r,i,o;function l(){oE(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{oE(),n(Hr(t,"network-request-failed"))},timeout:O3.get()})}if(!((i=(r=mi().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((o=mi().gapi)===null||o===void 0)&&o.load)l();else{const c=CL("iframefcb");return mi()[c]=()=>{gapi.load?l():n(Hr(t,"network-request-failed"))},J2(`${SL()}?onload=${c}`).catch(d=>n(d))}}).catch(e=>{throw Uf=null,e})}let Uf=null;function M3(t){return Uf=Uf||D3(t),Uf}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L3=new Id(5e3,15e3),j3="__/auth/iframe",F3="emulator/auth/iframe",$3={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},U3=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function V3(t){const e=t.config;Re(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?rw(e,F3):`https://${t.config.authDomain}/${j3}`,r={apiKey:e.apiKey,appName:t.name,v:po},i=U3.get(t.config.apiHost);i&&(r.eid=i);const o=t._getFrameworks();return o.length&&(r.fw=o.join(",")),`${n}?${tc(r).slice(1)}`}async function B3(t){const e=await M3(t),n=mi().gapi;return Re(n,t,"internal-error"),e.open({where:document.body,url:V3(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:$3,dontclear:!0},r=>new Promise(async(i,o)=>{await r.restyle({setHideOnLeave:!1});const l=Hr(t,"network-request-failed"),c=mi().setTimeout(()=>{o(l)},L3.get());function d(){mi().clearTimeout(c),i(r)}r.ping(d).then(d,()=>{o(l)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z3={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},W3=500,H3=600,q3="_blank",G3="http://localhost";class aE{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function K3(t,e,n,r=W3,i=H3){const o=Math.max((window.screen.availHeight-i)/2,0).toString(),l=Math.max((window.screen.availWidth-r)/2,0).toString();let c="";const d=Object.assign(Object.assign({},z3),{width:r.toString(),height:i.toString(),top:o,left:l}),f=Cn().toLowerCase();n&&(c=W2(f)?q3:n),B2(f)&&(e=e||G3,d.scrollbars="yes");const m=Object.entries(d).reduce((y,[C,S])=>`${y}${C}=${S},`,"");if(mL(f)&&c!=="_self")return Y3(e||"",c),new aE(null);const g=window.open(e||"",c,m);Re(g,t,"popup-blocked");try{g.focus()}catch{}return new aE(g)}function Y3(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X3="__/auth/handler",J3="emulator/auth/handler",Q3=encodeURIComponent("fac");async function lE(t,e,n,r,i,o){Re(t.config.authDomain,t,"auth-domain-config-required"),Re(t.config.apiKey,t,"invalid-api-key");const l={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:po,eventId:i};if(e instanceof lw){e.setDefaultLanguage(t.languageCode),l.providerId=e.providerId||"",w0(e.getCustomParameters())||(l.customParameters=JSON.stringify(e.getCustomParameters()));for(const[m,g]of Object.entries({}))l[m]=g}if(e instanceof Rd){const m=e.getScopes().filter(g=>g!=="");m.length>0&&(l.scopes=m.join(","))}t.tenantId&&(l.tid=t.tenantId);const c=l;for(const m of Object.keys(c))c[m]===void 0&&delete c[m];const d=await t._getAppCheckToken(),f=d?`#${Q3}=${encodeURIComponent(d)}`:"";return`${Z3(t)}?${tc(c).slice(1)}${f}`}function Z3({config:t}){return t.emulator?rw(t,J3):`https://${t.authDomain}/${X3}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cy="webStorageSupport";class ej{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=ck,this._completeRedirectFn=S3,this._overrideRedirectResult=x3}async _openPopup(e,n,r,i){var o;is((o=this.eventManagers[e._key()])===null||o===void 0?void 0:o.manager,"_initialize() not called before _openPopup()");const l=await lE(e,n,r,k0(),i);return K3(e,l,cw())}async _openRedirect(e,n,r,i){await this._originValidation(e);const o=await lE(e,n,r,k0(),i);return r3(o),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:o}=this.eventManagers[n];return i?Promise.resolve(i):(is(o,"If manager is not set, promise should be"),o)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await B3(e),r=new T3(e);return n.register("authEvent",i=>(Re(i?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Cy,{type:Cy},i=>{var o;const l=(o=i?.[0])===null||o===void 0?void 0:o[Cy];l!==void 0&&n(!!l),wr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=A3(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return Y2()||z2()||sw()}}const tj=ej;var cE="@firebase/auth",uE="1.10.4";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nj{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Re(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rj(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function ij(t){er(new Un("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:l,authDomain:c}=r.options;Re(l&&!l.includes(":"),"invalid-api-key",{appName:r.name});const d={apiKey:l,authDomain:c,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:X2(t)},f=new xL(r,i,o,d);return AL(f,n),f},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),er(new Un("auth-internal",e=>{const n=mo(e.getProvider("auth").getImmediate());return(r=>new nj(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Yt(cE,uE,rj(t)),Yt(cE,uE,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sj=5*60,oj=t2("authIdTokenMaxAge")||sj;let dE=null;const aj=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>oj)return;const i=n?.token;dE!==i&&(dE=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function yk(t=kd()){const e=fo(t,"auth");if(e.isInitialized())return e.getImmediate();const n=RL(t,{popupRedirectResolver:tj,persistence:[h3,e3,ck]}),r=t2("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const o=new URL(r,location.origin);if(location.origin===o.origin){const l=aj(o.toString());XL(n,l,()=>l(n.currentUser)),YL(n,c=>l(c))}}const i=ZT("auth");return i?Z2(n,`http://${i}`):ho("Auth",!1),n}function lj(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}bL({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const o=Hr("internal-error");o.customData=i,n(o)},r.type="text/javascript",r.charset="UTF-8",lj().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});ij("Browser");var hE={};const fE="@firebase/database",pE="1.0.17";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let vk="";function cj(t){vk=t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uj{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,n){n==null?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),Ut(n))}get(e){const n=this.domStorage_.getItem(this.prefixedName_(e));return n==null?null:Ju(n)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dj{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,n){n==null?delete this.cache_[e]:this.cache_[e]=n}get(e){return xi(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wk=function(t){try{if(typeof window<"u"&&typeof window[t]<"u"){const e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new uj(e)}}catch{}return new dj},Zo=wk("localStorage"),hj=wk("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ml=new Wp("@firebase/database"),fj=function(){let t=1;return function(){return t++}}(),_k=function(t){const e=uO(t),n=new oO;n.update(e);const r=n.digest();return Uv.encodeByteArray(r)},Nd=function(...t){let e="";for(let n=0;n<t.length;n++){const r=t[n];Array.isArray(r)||r&&typeof r=="object"&&typeof r.length=="number"?e+=Nd.apply(null,r):typeof r=="object"?e+=Ut(r):e+=r,e+=" "}return e};let Ru=null,mE=!0;const pj=function(t,e){le(!0,"Can't turn on custom loggers persistently."),Ml.logLevel=Ke.VERBOSE,Ru=Ml.log.bind(Ml)},sn=function(...t){if(mE===!0&&(mE=!1,Ru===null&&hj.get("logging_enabled")===!0&&pj()),Ru){const e=Nd.apply(null,t);Ru(e)}},Od=function(t){return function(...e){sn(t,...e)}},A0=function(...t){const e="FIREBASE INTERNAL ERROR: "+Nd(...t);Ml.error(e)},ss=function(...t){const e=`FIREBASE FATAL ERROR: ${Nd(...t)}`;throw Ml.error(e),new Error(e)},Sn=function(...t){const e="FIREBASE WARNING: "+Nd(...t);Ml.warn(e)},mj=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&Sn("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},dw=function(t){return typeof t=="number"&&(t!==t||t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY)},gj=function(t){if(document.readyState==="complete")t();else{let e=!1;const n=function(){if(!document.body){setTimeout(n,Math.floor(10));return}e||(e=!0,t())};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&n()}),window.attachEvent("onload",n))}},Ul="[MIN_NAME]",ha="[MAX_NAME]",xa=function(t,e){if(t===e)return 0;if(t===Ul||e===ha)return-1;if(e===Ul||t===ha)return 1;{const n=gE(t),r=gE(e);return n!==null?r!==null?n-r===0?t.length-e.length:n-r:-1:r!==null?1:t<e?-1:1}},yj=function(t,e){return t===e?0:t<e?-1:1},uu=function(t,e){if(e&&t in e)return e[t];throw new Error("Missing required key ("+t+") in object: "+Ut(e))},hw=function(t){if(typeof t!="object"||t===null)return Ut(t);const e=[];for(const r in t)e.push(r);e.sort();let n="{";for(let r=0;r<e.length;r++)r!==0&&(n+=","),n+=Ut(e[r]),n+=":",n+=hw(t[e[r]]);return n+="}",n},xk=function(t,e){const n=t.length;if(n<=e)return[t];const r=[];for(let i=0;i<n;i+=e)i+e>n?r.push(t.substring(i,n)):r.push(t.substring(i,i+e));return r};function on(t,e){for(const n in t)t.hasOwnProperty(n)&&e(n,t[n])}const bk=function(t){le(!dw(t),"Invalid JSON number");const e=11,n=52,r=(1<<e-1)-1;let i,o,l,c,d;t===0?(o=0,l=0,i=1/t===-1/0?1:0):(i=t<0,t=Math.abs(t),t>=Math.pow(2,1-r)?(c=Math.min(Math.floor(Math.log(t)/Math.LN2),r),o=c+r,l=Math.round(t*Math.pow(2,n-c)-Math.pow(2,n))):(o=0,l=Math.round(t/Math.pow(2,1-r-n))));const f=[];for(d=n;d;d-=1)f.push(l%2?1:0),l=Math.floor(l/2);for(d=e;d;d-=1)f.push(o%2?1:0),o=Math.floor(o/2);f.push(i?1:0),f.reverse();const m=f.join("");let g="";for(d=0;d<64;d+=8){let y=parseInt(m.substr(d,8),2).toString(16);y.length===1&&(y="0"+y),g=g+y}return g.toLowerCase()},vj=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},wj=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function _j(t,e){let n="Unknown Error";t==="too_big"?n="The data requested exceeds the maximum size that can be accessed with a single request.":t==="permission_denied"?n="Client doesn't have permission to access the desired data.":t==="unavailable"&&(n="The service is unavailable");const r=new Error(t+" at "+e._path.toString()+": "+n);return r.code=t.toUpperCase(),r}const xj=new RegExp("^-?(0*)\\d{1,10}$"),bj=-2147483648,Ej=2147483647,gE=function(t){if(xj.test(t)){const e=Number(t);if(e>=bj&&e<=Ej)return e}return null},rc=function(t){try{t()}catch(e){setTimeout(()=>{const n=e.stack||"";throw Sn("Exception was thrown by user callback.",n),e},Math.floor(0))}},Sj=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},Au=function(t,e){const n=setTimeout(t,e);return typeof n=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(n):typeof n=="object"&&n.unref&&n.unref(),n};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cj{constructor(e,n){this.appCheckProvider=n,this.appName=e.name,fn(e)&&e.settings.appCheckToken&&(this.serverAppAppCheckToken=e.settings.appCheckToken),this.appCheck=n?.getImmediate({optional:!0}),this.appCheck||n?.get().then(r=>this.appCheck=r)}getToken(e){if(this.serverAppAppCheckToken){if(e)throw new Error("Attempted reuse of `FirebaseServerApp.appCheckToken` after previous usage failed.");return Promise.resolve({token:this.serverAppAppCheckToken})}return this.appCheck?this.appCheck.getToken(e):new Promise((n,r)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){var n;(n=this.appCheckProvider)===null||n===void 0||n.get().then(r=>r.addTokenListener(e))}notifyForInvalidToken(){Sn(`Provided AppCheck credentials for the app named "${this.appName}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tj{constructor(e,n,r){this.appName_=e,this.firebaseOptions_=n,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit(i=>this.auth_=i)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(n=>n&&n.code==="auth/token-not-initialized"?(sn("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(n)):new Promise((n,r)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(n=>n.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(n=>n.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',Sn(e)}}class Vf{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}Vf.OWNER="owner";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fw="5",Ek="v",Sk="s",Ck="r",Tk="f",kk=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,Ik="ls",Pk="p",N0="ac",Rk="websocket",Ak="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nk{constructor(e,n,r,i,o=!1,l="",c=!1,d=!1,f=null){this.secure=n,this.namespace=r,this.webSocketOnly=i,this.nodeAdmin=o,this.persistenceKey=l,this.includeNamespaceInQueryParams=c,this.isUsingEmulator=d,this.emulatorOptions=f,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Zo.get("host:"+e)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&Zo.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){const e=this.secure?"https://":"http://",n=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${e}${this.host}/${n}`}}function kj(t){return t.host!==t.internalHost||t.isCustomHost()||t.includeNamespaceInQueryParams}function Ok(t,e,n){le(typeof e=="string","typeof type must == string"),le(typeof n=="object","typeof params must == object");let r;if(e===Rk)r=(t.secure?"wss://":"ws://")+t.internalHost+"/.ws?";else if(e===Ak)r=(t.secure?"https://":"http://")+t.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+e);kj(t)&&(n.ns=t.namespace);const i=[];return on(n,(o,l)=>{i.push(o+"="+l)}),r+i.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ij{constructor(){this.counters_={}}incrementCounter(e,n=1){xi(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=n}get(){return B4(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ty={},ky={};function pw(t){const e=t.toString();return Ty[e]||(Ty[e]=new Ij),Ty[e]}function Pj(t,e){const n=t.toString();return ky[n]||(ky[n]=e()),ky[n]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rj{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,n){this.closeAfterResponse=e,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,n){for(this.pendingResponses[e]=n;this.pendingResponses[this.currentResponseNum];){const r=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let i=0;i<r.length;++i)r[i]&&rc(()=>{this.onMessage_(r[i])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yE="start",Aj="close",Nj="pLPCommand",Oj="pRTLPCB",Dk="id",Mk="pw",Lk="ser",Dj="cb",Mj="seg",Lj="ts",jj="d",Fj="dframe",jk=1870,Fk=30,$j=jk-Fk,Uj=25e3,Vj=3e4;class Cl{constructor(e,n,r,i,o,l,c){this.connId=e,this.repoInfo=n,this.applicationId=r,this.appCheckToken=i,this.authToken=o,this.transportSessionId=l,this.lastSessionId=c,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Od(e),this.stats_=pw(n),this.urlFn=d=>(this.appCheckToken&&(d[N0]=this.appCheckToken),Ok(n,Ak,d))}open(e,n){this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new Rj(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(Vj)),gj(()=>{if(this.isClosed_)return;this.scriptTagHolder=new mw((...o)=>{const[l,c,d,f,m]=o;if(this.incrementIncomingBytes_(o),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,l===yE)this.id=c,this.password=d;else if(l===Aj)c?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(c,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+l)},(...o)=>{const[l,c]=o;this.incrementIncomingBytes_(o),this.myPacketOrderer.handleResponse(l,c)},()=>{this.onClosed_()},this.urlFn);const r={};r[yE]="t",r[Lk]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(r[Dj]=this.scriptTagHolder.uniqueCallbackIdentifier),r[Ek]=fw,this.transportSessionId&&(r[Sk]=this.transportSessionId),this.lastSessionId&&(r[Ik]=this.lastSessionId),this.applicationId&&(r[Pk]=this.applicationId),this.appCheckToken&&(r[N0]=this.appCheckToken),typeof location<"u"&&location.hostname&&kk.test(location.hostname)&&(r[Ck]=Tk);const i=this.urlFn(r);this.log_("Connecting via long-poll to "+i),this.scriptTagHolder.addTag(i,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){Cl.forceAllow_=!0}static forceDisallow(){Cl.forceDisallow_=!0}static isAvailable(){return Cl.forceAllow_?!0:!Cl.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!vj()&&!wj()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const n=Ut(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=JT(n),i=xk(r,$j);for(let o=0;o<i.length;o++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,i.length,i[o]),this.curSegmentNum++}addDisconnectPingFrame(e,n){this.myDisconnFrame=document.createElement("iframe");const r={};r[Fj]="t",r[Dk]=e,r[Mk]=n,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const n=Ut(e).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)}}class mw{constructor(e,n,r,i){this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=fj(),window[Nj+this.uniqueCallbackIdentifier]=e,window[Oj+this.uniqueCallbackIdentifier]=n,this.myIFrame=mw.createIFrame_();let o="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(o='<script>document.domain="'+document.domain+'";<\/script>');const l="<html><body>"+o+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(l),this.myIFrame.doc.close()}catch(c){sn("frame writing exception"),c.stack&&sn(c.stack),sn(c)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",document.body){document.body.appendChild(e);try{e.contentWindow.document||sn("No IE domain setting required")}catch{const r=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,n){for(this.myID=e,this.myPW=n,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e[Dk]=this.myID,e[Mk]=this.myPW,e[Lk]=this.currentSerial;let n=this.urlFn(e),r="",i=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+Fk+r.length<=jk;){const l=this.pendingSegs.shift();r=r+"&"+Mj+i+"="+l.seg+"&"+Lj+i+"="+l.ts+"&"+jj+i+"="+l.d,i++}return n=n+r,this.addLongPollTag_(n,this.currentSerial),!0}else return!1}enqueueSegment(e,n,r){this.pendingSegs.push({seg:e,ts:n,d:r}),this.alive&&this.newRequest_()}addLongPollTag_(e,n){this.outstandingRequests.add(n);const r=()=>{this.outstandingRequests.delete(n),this.newRequest_()},i=setTimeout(r,Math.floor(Uj)),o=()=>{clearTimeout(i),r()};this.addTag(e,o)}addTag(e,n){setTimeout(()=>{try{if(!this.sendNewPolls)return;const r=this.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=e,r.onload=r.onreadystatechange=function(){const i=r.readyState;(!i||i==="loaded"||i==="complete")&&(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),n())},r.onerror=()=>{sn("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(r)}catch{}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bj=16384,zj=45e3;let cp=null;typeof MozWebSocket<"u"?cp=MozWebSocket:typeof WebSocket<"u"&&(cp=WebSocket);class Ur{constructor(e,n,r,i,o,l,c){this.connId=e,this.applicationId=r,this.appCheckToken=i,this.authToken=o,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Od(this.connId),this.stats_=pw(n),this.connURL=Ur.connectionURL_(n,l,c,i,r),this.nodeAdmin=n.nodeAdmin}static connectionURL_(e,n,r,i,o){const l={};return l[Ek]=fw,typeof location<"u"&&location.hostname&&kk.test(location.hostname)&&(l[Ck]=Tk),n&&(l[Sk]=n),r&&(l[Ik]=r),i&&(l[N0]=i),o&&(l[Pk]=o),Ok(e,Rk,l)}open(e,n){this.onDisconnect=n,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Zo.set("previous_websocket_failure",!0);try{let r;Z4(),this.mySock=new cp(this.connURL,[],r)}catch(r){this.log_("Error instantiating WebSocket.");const i=r.message||r.data;i&&this.log_(i),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=r=>{this.handleIncomingFrame(r)},this.mySock.onerror=r=>{this.log_("WebSocket error.  Closing connection.");const i=r.message||r.data;i&&this.log_(i),this.onClosed_()}}start(){}static forceDisallow(){Ur.forceDisallow_=!0}static isAvailable(){let e=!1;if(typeof navigator<"u"&&navigator.userAgent){const n=/Android ([0-9]{0,}\.[0-9]{0,})/,r=navigator.userAgent.match(n);r&&r.length>1&&parseFloat(r[1])<4.4&&(e=!0)}return!e&&cp!==null&&!Ur.forceDisallow_}static previouslyFailed(){return Zo.isInMemoryStorage||Zo.get("previous_websocket_failure")===!0}markConnectionHealthy(){Zo.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const n=this.frames.join("");this.frames=null;const r=Ju(n);this.onMessage(r)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if(le(this.frames===null,"We already have a frame buffer"),e.length<=6){const n=Number(e);if(!isNaN(n))return this.handleNewFrameCount_(n),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(this.mySock===null)return;const n=e.data;if(this.bytesReceived+=n.length,this.stats_.incrementCounter("bytes_received",n.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(n);else{const r=this.extractFrameCount_(n);r!==null&&this.appendFrame_(r)}}send(e){this.resetKeepAlive();const n=Ut(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=xk(n,Bj);r.length>1&&this.sendString_(String(r.length));for(let i=0;i<r.length;i++)this.sendString_(r[i])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(zj))}sendString_(e){try{this.mySock.send(e)}catch(n){this.log_("Exception thrown from WebSocket.send():",n.message||n.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}Ur.responsesRequiredToBeHealthy=2;Ur.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rd{static get ALL_TRANSPORTS(){return[Cl,Ur]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}constructor(e){this.initTransports_(e)}initTransports_(e){const n=Ur&&Ur.isAvailable();let r=n&&!Ur.previouslyFailed();if(e.webSocketOnly&&(n||Sn("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[Ur];else{const i=this.transports_=[];for(const o of rd.ALL_TRANSPORTS)o&&o.isAvailable()&&i.push(o);rd.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}rd.globalTransportInitialized_=!1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wj=6e4,Hj=5e3,qj=10*1024,Gj=100*1024,Iy="t",vE="d",Kj="s",wE="r",Yj="e",_E="o",xE="a",bE="n",EE="p",Xj="h";class Jj{constructor(e,n,r,i,o,l,c,d,f,m){this.id=e,this.repoInfo_=n,this.applicationId_=r,this.appCheckToken_=i,this.authToken_=o,this.onMessage_=l,this.onReady_=c,this.onDisconnect_=d,this.onKill_=f,this.lastSessionId=m,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Od("c:"+this.id+":"),this.transportManager_=new rd(n),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(n,r)},Math.floor(0));const i=e.healthyTimeout||0;i>0&&(this.healthyTimeout_=Au(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>Gj?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>qj?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(i)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return n=>{e===this.conn_?this.onConnectionLost_(n):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return n=>{this.state_!==2&&(e===this.rx_?this.onPrimaryMessageReceived_(n):e===this.secondaryConn_?this.onSecondaryMessageReceived_(n):this.log_("message on old connection"))}}sendRequest(e){const n={t:"d",d:e};this.sendData_(n)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if(Iy in e){const n=e[Iy];n===xE?this.upgradeIfSecondaryHealthy_():n===wE?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):n===_E&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const n=uu("t",e),r=uu("d",e);if(n==="c")this.onSecondaryControl_(r);else if(n==="d")this.pendingDataMessages.push(r);else throw new Error("Unknown protocol layer: "+n)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:EE,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:xE,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:bE,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const n=uu("t",e),r=uu("d",e);n==="c"?this.onControl_(r):n==="d"&&this.onDataMessage_(r)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const n=uu(Iy,e);if(vE in e){const r=e[vE];if(n===Xj){const i=Object.assign({},r);this.repoInfo_.isUsingEmulator&&(i.h=this.repoInfo_.host),this.onHandshake_(i)}else if(n===bE){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let i=0;i<this.pendingDataMessages.length;++i)this.onDataMessage_(this.pendingDataMessages[i]);this.pendingDataMessages=[],this.tryCleanupConnection()}else n===Kj?this.onConnectionShutdown_(r):n===wE?this.onReset_(r):n===Yj?A0("Server Error: "+r):n===_E?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):A0("Unknown control packet command: "+n)}}onHandshake_(e){const n=e.ts,r=e.v,i=e.h;this.sessionId=e.s,this.repoInfo_.host=i,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),fw!==r&&Sn("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),Au(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(Wj))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,n){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Au(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(Hj))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:EE,d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,!e&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Zo.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(e)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $k{put(e,n,r,i){}merge(e,n,r,i){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,n,r){}onDisconnectMerge(e,n,r){}onDisconnectCancel(e,n){}reportStats(e){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uk{constructor(e){this.allowedEvents_=e,this.listeners_={},le(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...n){if(Array.isArray(this.listeners_[e])){const r=[...this.listeners_[e]];for(let i=0;i<r.length;i++)r[i].callback.apply(r[i].context,n)}}on(e,n,r){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:n,context:r});const i=this.getInitialEvent(e);i&&n.apply(r,i)}off(e,n,r){this.validateEventType_(e);const i=this.listeners_[e]||[];for(let o=0;o<i.length;o++)if(i[o].callback===n&&(!r||r===i[o].context)){i.splice(o,1);return}}validateEventType_(e){le(this.allowedEvents_.find(n=>n===e),"Unknown event: "+e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class up extends Uk{static getInstance(){return new up}constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!Wv()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}getInitialEvent(e){return le(e==="online","Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SE=32,CE=768;class Je{constructor(e,n){if(n===void 0){this.pieces_=e.split("/");let r=0;for(let i=0;i<this.pieces_.length;i++)this.pieces_[i].length>0&&(this.pieces_[r]=this.pieces_[i],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=n}toString(){let e="";for(let n=this.pieceNum_;n<this.pieces_.length;n++)this.pieces_[n]!==""&&(e+="/"+this.pieces_[n]);return e||"/"}}function He(){return new Je("")}function Le(t){return t.pieceNum_>=t.pieces_.length?null:t.pieces_[t.pieceNum_]}function ro(t){return t.pieces_.length-t.pieceNum_}function st(t){let e=t.pieceNum_;return e<t.pieces_.length&&e++,new Je(t.pieces_,e)}function gw(t){return t.pieceNum_<t.pieces_.length?t.pieces_[t.pieces_.length-1]:null}function Qj(t){let e="";for(let n=t.pieceNum_;n<t.pieces_.length;n++)t.pieces_[n]!==""&&(e+="/"+encodeURIComponent(String(t.pieces_[n])));return e||"/"}function id(t,e=0){return t.pieces_.slice(t.pieceNum_+e)}function Vk(t){if(t.pieceNum_>=t.pieces_.length)return null;const e=[];for(let n=t.pieceNum_;n<t.pieces_.length-1;n++)e.push(t.pieces_[n]);return new Je(e,0)}function Et(t,e){const n=[];for(let r=t.pieceNum_;r<t.pieces_.length;r++)n.push(t.pieces_[r]);if(e instanceof Je)for(let r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);else{const r=e.split("/");for(let i=0;i<r.length;i++)r[i].length>0&&n.push(r[i])}return new Je(n,0)}function Fe(t){return t.pieceNum_>=t.pieces_.length}function bn(t,e){const n=Le(t),r=Le(e);if(n===null)return e;if(n===r)return bn(st(t),st(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+t+")")}function Zj(t,e){const n=id(t,0),r=id(e,0);for(let i=0;i<n.length&&i<r.length;i++){const o=xa(n[i],r[i]);if(o!==0)return o}return n.length===r.length?0:n.length<r.length?-1:1}function yw(t,e){if(ro(t)!==ro(e))return!1;for(let n=t.pieceNum_,r=e.pieceNum_;n<=t.pieces_.length;n++,r++)if(t.pieces_[n]!==e.pieces_[r])return!1;return!0}function yr(t,e){let n=t.pieceNum_,r=e.pieceNum_;if(ro(t)>ro(e))return!1;for(;n<t.pieces_.length;){if(t.pieces_[n]!==e.pieces_[r])return!1;++n,++r}return!0}class e6{constructor(e,n){this.errorPrefix_=n,this.parts_=id(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let r=0;r<this.parts_.length;r++)this.byteLength_+=zp(this.parts_[r]);Bk(this)}}function t6(t,e){t.parts_.length>0&&(t.byteLength_+=1),t.parts_.push(e),t.byteLength_+=zp(e),Bk(t)}function n6(t){const e=t.parts_.pop();t.byteLength_-=zp(e),t.parts_.length>0&&(t.byteLength_-=1)}function Bk(t){if(t.byteLength_>CE)throw new Error(t.errorPrefix_+"has a key path longer than "+CE+" bytes ("+t.byteLength_+").");if(t.parts_.length>SE)throw new Error(t.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+SE+") or object contains a cycle "+Ho(t))}function Ho(t){return t.parts_.length===0?"":"in property '"+t.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vw extends Uk{static getInstance(){return new vw}constructor(){super(["visible"]);let e,n;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(n="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(n="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(n="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(n="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,n&&document.addEventListener(n,()=>{const r=!document[e];r!==this.visible_&&(this.visible_=r,this.trigger("visible",r))},!1)}getInitialEvent(e){return le(e==="visible","Unknown event type: "+e),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const du=1e3,r6=60*5*1e3,TE=30*1e3,i6=1.3,s6=3e4,o6="server_kill",kE=3;class Qi extends $k{constructor(e,n,r,i,o,l,c,d){if(super(),this.repoInfo_=e,this.applicationId_=n,this.onDataUpdate_=r,this.onConnectStatus_=i,this.onServerInfoUpdate_=o,this.authTokenProvider_=l,this.appCheckTokenProvider_=c,this.authOverride_=d,this.id=Qi.nextPersistentConnectionId_++,this.log_=Od("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=du,this.maxReconnectDelay_=r6,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,d)throw new Error("Auth override specified in options, but not supported on non Node.js platforms");vw.getInstance().on("visible",this.onVisible_,this),e.host.indexOf("fblocal")===-1&&up.getInstance().on("online",this.onOnline_,this)}sendRequest(e,n,r){const i=++this.requestNumber_,o={r:i,a:e,b:n};this.log_(Ut(o)),le(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(o),r&&(this.requestCBHash_[i]=r)}get(e){this.initConnection_();const n=new Td,i={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:l=>{const c=l.d;l.s==="ok"?n.resolve(c):n.reject(c)}};this.outstandingGets_.push(i),this.outstandingGetCount_++;const o=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(o),n.promise}listen(e,n,r,i){this.initConnection_();const o=e._queryIdentifier,l=e._path.toString();this.log_("Listen called for "+l+" "+o),this.listens.has(l)||this.listens.set(l,new Map),le(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),le(!this.listens.get(l).has(o),"listen() called twice for same path/queryId.");const c={onComplete:i,hashFn:n,query:e,tag:r};this.listens.get(l).set(o,c),this.connected_&&this.sendListen_(c)}sendGet_(e){const n=this.outstandingGets_[e];this.sendRequest("g",n.request,r=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),n.onComplete&&n.onComplete(r)})}sendListen_(e){const n=e.query,r=n._path.toString(),i=n._queryIdentifier;this.log_("Listen on "+r+" for "+i);const o={p:r},l="q";e.tag&&(o.q=n._queryObject,o.t=e.tag),o.h=e.hashFn(),this.sendRequest(l,o,c=>{const d=c.d,f=c.s;Qi.warnOnListenWarnings_(d,n),(this.listens.get(r)&&this.listens.get(r).get(i))===e&&(this.log_("listen response",c),f!=="ok"&&this.removeListen_(r,i),e.onComplete&&e.onComplete(f,d))})}static warnOnListenWarnings_(e,n){if(e&&typeof e=="object"&&xi(e,"w")){const r=$l(e,"w");if(Array.isArray(r)&&~r.indexOf("no_index")){const i='".indexOn": "'+n._queryParams.getIndex().toString()+'"',o=n._path.toString();Sn(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${i} at ${o} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&e.length===40||sO(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=TE)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,n=iO(e)?"auth":"gauth",r={cred:e};this.authOverride_===null?r.noauth=!0:typeof this.authOverride_=="object"&&(r.authvar=this.authOverride_),this.sendRequest(n,r,i=>{const o=i.s,l=i.d||"error";this.authToken_===e&&(o==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(o,l))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const n=e.s,r=e.d||"error";n==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(n,r)})}unlisten(e,n){const r=e._path.toString(),i=e._queryIdentifier;this.log_("Unlisten called for "+r+" "+i),le(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(r,i)&&this.connected_&&this.sendUnlisten_(r,i,e._queryObject,n)}sendUnlisten_(e,n,r,i){this.log_("Unlisten on "+e+" for "+n);const o={p:e},l="n";i&&(o.q=r,o.t=i),this.sendRequest(l,o)}onDisconnectPut(e,n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,n,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:n,onComplete:r})}onDisconnectMerge(e,n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,n,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:n,onComplete:r})}onDisconnectCancel(e,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:n})}sendOnDisconnect_(e,n,r,i){const o={p:n,d:r};this.log_("onDisconnect "+e,o),this.sendRequest(e,o,l=>{i&&setTimeout(()=>{i(l.s,l.d)},Math.floor(0))})}put(e,n,r,i){this.putInternal("p",e,n,r,i)}merge(e,n,r,i){this.putInternal("m",e,n,r,i)}putInternal(e,n,r,i,o){this.initConnection_();const l={p:n,d:r};o!==void 0&&(l.h=o),this.outstandingPuts_.push({action:e,request:l,onComplete:i}),this.outstandingPutCount_++;const c=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(c):this.log_("Buffering put: "+n)}sendPut_(e){const n=this.outstandingPuts_[e].action,r=this.outstandingPuts_[e].request,i=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(n,r,o=>{this.log_(n+" response",o),delete this.outstandingPuts_[e],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),i&&i(o.s,o.d)})}reportStats(e){if(this.connected_){const n={c:e};this.log_("reportStats",n),this.sendRequest("s",n,r=>{if(r.s!=="ok"){const o=r.d;this.log_("reportStats","Error sending stats: "+o)}})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+Ut(e));const n=e.r,r=this.requestCBHash_[n];r&&(delete this.requestCBHash_[n],r(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,n){this.log_("handleServerMessage",e,n),e==="d"?this.onDataUpdate_(n.p,n.d,!1,n.t):e==="m"?this.onDataUpdate_(n.p,n.d,!0,n.t):e==="c"?this.onListenRevoked_(n.p,n.q):e==="ac"?this.onAuthRevoked_(n.s,n.d):e==="apc"?this.onAppCheckRevoked_(n.s,n.d):e==="sd"?this.onSecurityDebugPacket_(n):A0("Unrecognized action received from server: "+Ut(e)+`
Are you using the latest client?`)}onReady_(e,n){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(e),this.lastSessionId=n,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){le(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=du,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=du,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>s6&&(this.reconnectDelay_=du),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const e=Math.max(0,new Date().getTime()-this.lastConnectionAttemptTime_);let n=Math.max(0,this.reconnectDelay_-e);n=Math.random()*n,this.log_("Trying to reconnect in "+n+"ms"),this.scheduleConnect_(n),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*i6)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const e=this.onDataMessage_.bind(this),n=this.onReady_.bind(this),r=this.onRealtimeDisconnect_.bind(this),i=this.id+":"+Qi.nextConnectionId_++,o=this.lastSessionId;let l=!1,c=null;const d=function(){c?c.close():(l=!0,r())},f=function(g){le(c,"sendRequest call when we're not connected not allowed."),c.sendRequest(g)};this.realtime_={close:d,sendRequest:f};const m=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[g,y]=await Promise.all([this.authTokenProvider_.getToken(m),this.appCheckTokenProvider_.getToken(m)]);l?sn("getToken() completed but was canceled"):(sn("getToken() completed. Creating connection."),this.authToken_=g&&g.accessToken,this.appCheckToken_=y&&y.token,c=new Jj(i,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,n,r,C=>{Sn(C+" ("+this.repoInfo_.toString()+")"),this.interrupt(o6)},o))}catch(g){this.log_("Failed to get token: "+g),l||(this.repoInfo_.nodeAdmin&&Sn(g),d())}}}interrupt(e){sn("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){sn("Resuming connection for reason: "+e),delete this.interruptReasons_[e],w0(this.interruptReasons_)&&(this.reconnectDelay_=du,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const n=e-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:n})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const n=this.outstandingPuts_[e];n&&"h"in n.request&&n.queued&&(n.onComplete&&n.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(e,n){let r;n?r=n.map(o=>hw(o)).join("$"):r="default";const i=this.removeListen_(e,r);i&&i.onComplete&&i.onComplete("permission_denied")}removeListen_(e,n){const r=new Je(e).toString();let i;if(this.listens.has(r)){const o=this.listens.get(r);i=o.get(n),o.delete(n),o.size===0&&this.listens.delete(r)}else i=void 0;return i}onAuthRevoked_(e,n){sn("Auth token revoked: "+e+"/"+n),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(e==="invalid_token"||e==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=kE&&(this.reconnectDelay_=TE,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,n){sn("App check token revoked: "+e+"/"+n),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(e==="invalid_token"||e==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=kE&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const n of e.values())this.sendListen_(n);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let n="js";e["sdk."+n+"."+vk.replace(/\./g,"-")]=1,Wv()?e["framework.cordova"]=1:n2()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=up.getInstance().currentlyOnline();return w0(this.interruptReasons_)&&e}}Qi.nextPersistentConnectionId_=0;Qi.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class je{constructor(e,n){this.name=e,this.node=n}static Wrap(e,n){return new je(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jp{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,n){const r=new je(Ul,e),i=new je(Ul,n);return this.compare(r,i)!==0}minPost(){return je.MIN}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let vf;class zk extends Jp{static get __EMPTY_NODE(){return vf}static set __EMPTY_NODE(e){vf=e}compare(e,n){return xa(e.name,n.name)}isDefinedOn(e){throw ec("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,n){return!1}minPost(){return je.MIN}maxPost(){return new je(ha,vf)}makePost(e,n){return le(typeof e=="string","KeyIndex indexValue must always be a string."),new je(e,vf)}toString(){return".key"}}const Ll=new zk;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wf{constructor(e,n,r,i,o=null){this.isReverse_=i,this.resultGenerator_=o,this.nodeStack_=[];let l=1;for(;!e.isEmpty();)if(e=e,l=n?r(e.key,n):1,i&&(l*=-1),l<0)this.isReverse_?e=e.left:e=e.right;else if(l===0){this.nodeStack_.push(e);break}else this.nodeStack_.push(e),this.isReverse_?e=e.right:e=e.left}getNext(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_.pop(),n;if(this.resultGenerator_?n=this.resultGenerator_(e.key,e.value):n={key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return n}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}class Kt{constructor(e,n,r,i,o){this.key=e,this.value=n,this.color=r??Kt.RED,this.left=i??Fn.EMPTY_NODE,this.right=o??Fn.EMPTY_NODE}copy(e,n,r,i,o){return new Kt(e??this.key,n??this.value,r??this.color,i??this.left,o??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const o=r(e,i.key);return o<0?i=i.copy(null,null,null,i.left.insert(e,n,r),null):o===0?i=i.copy(null,n,null,null,null):i=i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp_()}removeMin_(){if(this.left.isEmpty())return Fn.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,n){let r,i;if(r=this,n(e,r.key)<0)!r.left.isEmpty()&&!r.left.isRed_()&&!r.left.left.isRed_()&&(r=r.moveRedLeft_()),r=r.copy(null,null,null,r.left.remove(e,n),null);else{if(r.left.isRed_()&&(r=r.rotateRight_()),!r.right.isEmpty()&&!r.right.isRed_()&&!r.right.left.isRed_()&&(r=r.moveRedRight_()),n(e,r.key)===0){if(r.right.isEmpty())return Fn.EMPTY_NODE;i=r.right.min_(),r=r.copy(i.key,i.value,null,null,r.right.removeMin_())}r=r.copy(null,null,null,null,r.right.remove(e,n))}return r.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,Kt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,Kt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}Kt.RED=!0;Kt.BLACK=!1;class a6{copy(e,n,r,i,o){return this}insert(e,n,r){return new Kt(e,n,null)}remove(e,n){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class Fn{constructor(e,n=Fn.EMPTY_NODE){this.comparator_=e,this.root_=n}insert(e,n){return new Fn(this.comparator_,this.root_.insert(e,n,this.comparator_).copy(null,null,Kt.BLACK,null,null))}remove(e){return new Fn(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,Kt.BLACK,null,null))}get(e){let n,r=this.root_;for(;!r.isEmpty();){if(n=this.comparator_(e,r.key),n===0)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}getPredecessorKey(e){let n,r=this.root_,i=null;for(;!r.isEmpty();)if(n=this.comparator_(e,r.key),n===0){if(r.left.isEmpty())return i?i.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}else n<0?r=r.left:n>0&&(i=r,r=r.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new wf(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,n){return new wf(this.root_,e,this.comparator_,!1,n)}getReverseIteratorFrom(e,n){return new wf(this.root_,e,this.comparator_,!0,n)}getReverseIterator(e){return new wf(this.root_,null,this.comparator_,!0,e)}}Fn.EMPTY_NODE=new a6;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function l6(t,e){return xa(t.name,e.name)}function ww(t,e){return xa(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let O0;function c6(t){O0=t}const Wk=function(t){return typeof t=="number"?"number:"+bk(t):"string:"+t},Hk=function(t){if(t.isLeafNode()){const e=t.val();le(typeof e=="string"||typeof e=="number"||typeof e=="object"&&xi(e,".sv"),"Priority must be a string or number.")}else le(t===O0||t.isEmpty(),"priority of unexpected type.");le(t===O0||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let IE;class Gt{static set __childrenNodeConstructor(e){IE=e}static get __childrenNodeConstructor(){return IE}constructor(e,n=Gt.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=n,this.lazyHash_=null,le(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),Hk(this.priorityNode_)}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new Gt(this.value_,e)}getImmediateChild(e){return e===".priority"?this.priorityNode_:Gt.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return Fe(e)?this:Le(e)===".priority"?this.priorityNode_:Gt.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,n){return null}updateImmediateChild(e,n){return e===".priority"?this.updatePriority(n):n.isEmpty()&&e!==".priority"?this:Gt.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,n).updatePriority(this.priorityNode_)}updateChild(e,n){const r=Le(e);return r===null?n:n.isEmpty()&&r!==".priority"?this:(le(r!==".priority"||ro(e)===1,".priority must be the last token in a path"),this.updateImmediateChild(r,Gt.__childrenNodeConstructor.EMPTY_NODE.updateChild(st(e),n)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,n){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+Wk(this.priorityNode_.val())+":");const n=typeof this.value_;e+=n+":",n==="number"?e+=bk(this.value_):e+=this.value_,this.lazyHash_=_k(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===Gt.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof Gt.__childrenNodeConstructor?-1:(le(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const n=typeof e.value_,r=typeof this.value_,i=Gt.VALUE_TYPE_ORDER.indexOf(n),o=Gt.VALUE_TYPE_ORDER.indexOf(r);return le(i>=0,"Unknown leaf type: "+n),le(o>=0,"Unknown leaf type: "+r),i===o?r==="object"?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:o-i}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const n=e;return this.value_===n.value_&&this.priorityNode_.equals(n.priorityNode_)}else return!1}}Gt.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let qk,Gk;function u6(t){qk=t}function d6(t){Gk=t}class h6 extends Jp{compare(e,n){const r=e.node.getPriority(),i=n.node.getPriority(),o=r.compareTo(i);return o===0?xa(e.name,n.name):o}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,n){return!e.getPriority().equals(n.getPriority())}minPost(){return je.MIN}maxPost(){return new je(ha,new Gt("[PRIORITY-POST]",Gk))}makePost(e,n){const r=qk(e);return new je(n,new Gt("[PRIORITY-POST]",r))}toString(){return".priority"}}const Ct=new h6;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f6=Math.log(2);class p6{constructor(e){const n=o=>parseInt(Math.log(o)/f6,10),r=o=>parseInt(Array(o+1).join("1"),2);this.count=n(e+1),this.current_=this.count-1;const i=r(this.count);this.bits_=e+1&i}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const dp=function(t,e,n,r){t.sort(e);const i=function(d,f){const m=f-d;let g,y;if(m===0)return null;if(m===1)return g=t[d],y=n?n(g):g,new Kt(y,g.node,Kt.BLACK,null,null);{const C=parseInt(m/2,10)+d,S=i(d,C),k=i(C+1,f);return g=t[C],y=n?n(g):g,new Kt(y,g.node,Kt.BLACK,S,k)}},o=function(d){let f=null,m=null,g=t.length;const y=function(S,k){const P=g-S,N=g;g-=S;const M=i(P+1,N),O=t[P],U=n?n(O):O;C(new Kt(U,O.node,k,null,M))},C=function(S){f?(f.left=S,f=S):(m=S,f=S)};for(let S=0;S<d.count;++S){const k=d.nextBitIsOne(),P=Math.pow(2,d.count-(S+1));k?y(P,Kt.BLACK):(y(P,Kt.BLACK),y(P,Kt.RED))}return m},l=new p6(t.length),c=o(l);return new Fn(r||e,c)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Py;const ml={};class Ki{static get Default(){return le(ml&&Ct,"ChildrenNode.ts has not been loaded"),Py=Py||new Ki({".priority":ml},{".priority":Ct}),Py}constructor(e,n){this.indexes_=e,this.indexSet_=n}get(e){const n=$l(this.indexes_,e);if(!n)throw new Error("No index defined for "+e);return n instanceof Fn?n:null}hasIndex(e){return xi(this.indexSet_,e.toString())}addIndex(e,n){le(e!==Ll,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const r=[];let i=!1;const o=n.getIterator(je.Wrap);let l=o.getNext();for(;l;)i=i||e.isDefinedOn(l.node),r.push(l),l=o.getNext();let c;i?c=dp(r,e.getCompare()):c=ml;const d=e.toString(),f=Object.assign({},this.indexSet_);f[d]=e;const m=Object.assign({},this.indexes_);return m[d]=c,new Ki(m,f)}addToIndexes(e,n){const r=ep(this.indexes_,(i,o)=>{const l=$l(this.indexSet_,o);if(le(l,"Missing index implementation for "+o),i===ml)if(l.isDefinedOn(e.node)){const c=[],d=n.getIterator(je.Wrap);let f=d.getNext();for(;f;)f.name!==e.name&&c.push(f),f=d.getNext();return c.push(e),dp(c,l.getCompare())}else return ml;else{const c=n.get(e.name);let d=i;return c&&(d=d.remove(new je(e.name,c))),d.insert(e,e.node)}});return new Ki(r,this.indexSet_)}removeFromIndexes(e,n){const r=ep(this.indexes_,i=>{if(i===ml)return i;{const o=n.get(e.name);return o?i.remove(new je(e.name,o)):i}});return new Ki(r,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let hu;class Ae{static get EMPTY_NODE(){return hu||(hu=new Ae(new Fn(ww),null,Ki.Default))}constructor(e,n,r){this.children_=e,this.priorityNode_=n,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&Hk(this.priorityNode_),this.children_.isEmpty()&&le(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}isLeafNode(){return!1}getPriority(){return this.priorityNode_||hu}updatePriority(e){return this.children_.isEmpty()?this:new Ae(this.children_,e,this.indexMap_)}getImmediateChild(e){if(e===".priority")return this.getPriority();{const n=this.children_.get(e);return n===null?hu:n}}getChild(e){const n=Le(e);return n===null?this:this.getImmediateChild(n).getChild(st(e))}hasChild(e){return this.children_.get(e)!==null}updateImmediateChild(e,n){if(le(n,"We should always be passing snapshot nodes"),e===".priority")return this.updatePriority(n);{const r=new je(e,n);let i,o;n.isEmpty()?(i=this.children_.remove(e),o=this.indexMap_.removeFromIndexes(r,this.children_)):(i=this.children_.insert(e,n),o=this.indexMap_.addToIndexes(r,this.children_));const l=i.isEmpty()?hu:this.priorityNode_;return new Ae(i,l,o)}}updateChild(e,n){const r=Le(e);if(r===null)return n;{le(Le(e)!==".priority"||ro(e)===1,".priority must be the last token in a path");const i=this.getImmediateChild(r).updateChild(st(e),n);return this.updateImmediateChild(r,i)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const n={};let r=0,i=0,o=!0;if(this.forEachChild(Ct,(l,c)=>{n[l]=c.val(e),r++,o&&Ae.INTEGER_REGEXP_.test(l)?i=Math.max(i,Number(l)):o=!1}),!e&&o&&i<2*r){const l=[];for(const c in n)l[c]=n[c];return l}else return e&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n}hash(){if(this.lazyHash_===null){let e="";this.getPriority().isEmpty()||(e+="priority:"+Wk(this.getPriority().val())+":"),this.forEachChild(Ct,(n,r)=>{const i=r.hash();i!==""&&(e+=":"+n+":"+i)}),this.lazyHash_=e===""?"":_k(e)}return this.lazyHash_}getPredecessorChildName(e,n,r){const i=this.resolveIndex_(r);if(i){const o=i.getPredecessorKey(new je(e,n));return o?o.name:null}else return this.children_.getPredecessorKey(e)}getFirstChildName(e){const n=this.resolveIndex_(e);if(n){const r=n.minKey();return r&&r.name}else return this.children_.minKey()}getFirstChild(e){const n=this.getFirstChildName(e);return n?new je(n,this.children_.get(n)):null}getLastChildName(e){const n=this.resolveIndex_(e);if(n){const r=n.maxKey();return r&&r.name}else return this.children_.maxKey()}getLastChild(e){const n=this.getLastChildName(e);return n?new je(n,this.children_.get(n)):null}forEachChild(e,n){const r=this.resolveIndex_(e);return r?r.inorderTraversal(i=>n(i.name,i.node)):this.children_.inorderTraversal(n)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,n){const r=this.resolveIndex_(n);if(r)return r.getIteratorFrom(e,i=>i);{const i=this.children_.getIteratorFrom(e.name,je.Wrap);let o=i.peek();for(;o!=null&&n.compare(o,e)<0;)i.getNext(),o=i.peek();return i}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,n){const r=this.resolveIndex_(n);if(r)return r.getReverseIteratorFrom(e,i=>i);{const i=this.children_.getReverseIteratorFrom(e.name,je.Wrap);let o=i.peek();for(;o!=null&&n.compare(o,e)>0;)i.getNext(),o=i.peek();return i}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===Dd?-1:0}withIndex(e){if(e===Ll||this.indexMap_.hasIndex(e))return this;{const n=this.indexMap_.addIndex(e,this.children_);return new Ae(this.children_,this.priorityNode_,n)}}isIndexed(e){return e===Ll||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const n=e;if(this.getPriority().equals(n.getPriority()))if(this.children_.count()===n.children_.count()){const r=this.getIterator(Ct),i=n.getIterator(Ct);let o=r.getNext(),l=i.getNext();for(;o&&l;){if(o.name!==l.name||!o.node.equals(l.node))return!1;o=r.getNext(),l=i.getNext()}return o===null&&l===null}else return!1;else return!1}}resolveIndex_(e){return e===Ll?null:this.indexMap_.get(e.toString())}}Ae.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class m6 extends Ae{constructor(){super(new Fn(ww),Ae.EMPTY_NODE,Ki.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return Ae.EMPTY_NODE}isEmpty(){return!1}}const Dd=new m6;Object.defineProperties(je,{MIN:{value:new je(Ul,Ae.EMPTY_NODE)},MAX:{value:new je(ha,Dd)}});zk.__EMPTY_NODE=Ae.EMPTY_NODE;Gt.__childrenNodeConstructor=Ae;c6(Dd);d6(Dd);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g6=!0;function $t(t,e=null){if(t===null)return Ae.EMPTY_NODE;if(typeof t=="object"&&".priority"in t&&(e=t[".priority"]),le(e===null||typeof e=="string"||typeof e=="number"||typeof e=="object"&&".sv"in e,"Invalid priority type found: "+typeof e),typeof t=="object"&&".value"in t&&t[".value"]!==null&&(t=t[".value"]),typeof t!="object"||".sv"in t){const n=t;return new Gt(n,$t(e))}if(!(t instanceof Array)&&g6){const n=[];let r=!1;if(on(t,(l,c)=>{if(l.substring(0,1)!=="."){const d=$t(c);d.isEmpty()||(r=r||!d.getPriority().isEmpty(),n.push(new je(l,d)))}}),n.length===0)return Ae.EMPTY_NODE;const o=dp(n,l6,l=>l.name,ww);if(r){const l=dp(n,Ct.getCompare());return new Ae(o,$t(e),new Ki({".priority":l},{".priority":Ct}))}else return new Ae(o,$t(e),Ki.Default)}else{let n=Ae.EMPTY_NODE;return on(t,(r,i)=>{if(xi(t,r)&&r.substring(0,1)!=="."){const o=$t(i);(o.isLeafNode()||!o.isEmpty())&&(n=n.updateImmediateChild(r,o))}}),n.updatePriority($t(e))}}u6($t);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y6 extends Jp{constructor(e){super(),this.indexPath_=e,le(!Fe(e)&&Le(e)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,n){const r=this.extractChild(e.node),i=this.extractChild(n.node),o=r.compareTo(i);return o===0?xa(e.name,n.name):o}makePost(e,n){const r=$t(e),i=Ae.EMPTY_NODE.updateChild(this.indexPath_,r);return new je(n,i)}maxPost(){const e=Ae.EMPTY_NODE.updateChild(this.indexPath_,Dd);return new je(ha,e)}toString(){return id(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v6 extends Jp{compare(e,n){const r=e.node.compareTo(n.node);return r===0?xa(e.name,n.name):r}isDefinedOn(e){return!0}indexedValueChanged(e,n){return!e.equals(n)}minPost(){return je.MIN}maxPost(){return je.MAX}makePost(e,n){const r=$t(e);return new je(n,r)}toString(){return".value"}}const w6=new v6;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kk(t){return{type:"value",snapshotNode:t}}function Vl(t,e){return{type:"child_added",snapshotNode:e,childName:t}}function sd(t,e){return{type:"child_removed",snapshotNode:e,childName:t}}function od(t,e,n){return{type:"child_changed",snapshotNode:e,childName:t,oldSnap:n}}function _6(t,e){return{type:"child_moved",snapshotNode:e,childName:t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _w{constructor(e){this.index_=e}updateChild(e,n,r,i,o,l){le(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");const c=e.getImmediateChild(n);return c.getChild(i).equals(r.getChild(i))&&c.isEmpty()===r.isEmpty()||(l!=null&&(r.isEmpty()?e.hasChild(n)?l.trackChildChange(sd(n,c)):le(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):c.isEmpty()?l.trackChildChange(Vl(n,r)):l.trackChildChange(od(n,r,c))),e.isLeafNode()&&r.isEmpty())?e:e.updateImmediateChild(n,r).withIndex(this.index_)}updateFullNode(e,n,r){return r!=null&&(e.isLeafNode()||e.forEachChild(Ct,(i,o)=>{n.hasChild(i)||r.trackChildChange(sd(i,o))}),n.isLeafNode()||n.forEachChild(Ct,(i,o)=>{if(e.hasChild(i)){const l=e.getImmediateChild(i);l.equals(o)||r.trackChildChange(od(i,o,l))}else r.trackChildChange(Vl(i,o))})),n.withIndex(this.index_)}updatePriority(e,n){return e.isEmpty()?Ae.EMPTY_NODE:e.updatePriority(n)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ad{constructor(e){this.indexedFilter_=new _w(e.getIndex()),this.index_=e.getIndex(),this.startPost_=ad.getStartPost_(e),this.endPost_=ad.getEndPost_(e),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(e){const n=this.startIsInclusive_?this.index_.compare(this.getStartPost(),e)<=0:this.index_.compare(this.getStartPost(),e)<0,r=this.endIsInclusive_?this.index_.compare(e,this.getEndPost())<=0:this.index_.compare(e,this.getEndPost())<0;return n&&r}updateChild(e,n,r,i,o,l){return this.matches(new je(n,r))||(r=Ae.EMPTY_NODE),this.indexedFilter_.updateChild(e,n,r,i,o,l)}updateFullNode(e,n,r){n.isLeafNode()&&(n=Ae.EMPTY_NODE);let i=n.withIndex(this.index_);i=i.updatePriority(Ae.EMPTY_NODE);const o=this;return n.forEachChild(Ct,(l,c)=>{o.matches(new je(l,c))||(i=i.updateImmediateChild(l,Ae.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(e,i,r)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(e){if(e.hasStart()){const n=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),n)}else return e.getIndex().minPost()}static getEndPost_(e){if(e.hasEnd()){const n=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),n)}else return e.getIndex().maxPost()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x6{constructor(e){this.withinDirectionalStart=n=>this.reverse_?this.withinEndPost(n):this.withinStartPost(n),this.withinDirectionalEnd=n=>this.reverse_?this.withinStartPost(n):this.withinEndPost(n),this.withinStartPost=n=>{const r=this.index_.compare(this.rangedFilter_.getStartPost(),n);return this.startIsInclusive_?r<=0:r<0},this.withinEndPost=n=>{const r=this.index_.compare(n,this.rangedFilter_.getEndPost());return this.endIsInclusive_?r<=0:r<0},this.rangedFilter_=new ad(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft(),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}updateChild(e,n,r,i,o,l){return this.rangedFilter_.matches(new je(n,r))||(r=Ae.EMPTY_NODE),e.getImmediateChild(n).equals(r)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,n,r,i,o,l):this.fullLimitUpdateChild_(e,n,r,o,l)}updateFullNode(e,n,r){let i;if(n.isLeafNode()||n.isEmpty())i=Ae.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<n.numChildren()&&n.isIndexed(this.index_)){i=Ae.EMPTY_NODE.withIndex(this.index_);let o;this.reverse_?o=n.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):o=n.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let l=0;for(;o.hasNext()&&l<this.limit_;){const c=o.getNext();if(this.withinDirectionalStart(c))if(this.withinDirectionalEnd(c))i=i.updateImmediateChild(c.name,c.node),l++;else break;else continue}}else{i=n.withIndex(this.index_),i=i.updatePriority(Ae.EMPTY_NODE);let o;this.reverse_?o=i.getReverseIterator(this.index_):o=i.getIterator(this.index_);let l=0;for(;o.hasNext();){const c=o.getNext();l<this.limit_&&this.withinDirectionalStart(c)&&this.withinDirectionalEnd(c)?l++:i=i.updateImmediateChild(c.name,Ae.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,i,r)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(e,n,r,i,o){let l;if(this.reverse_){const g=this.index_.getCompare();l=(y,C)=>g(C,y)}else l=this.index_.getCompare();const c=e;le(c.numChildren()===this.limit_,"");const d=new je(n,r),f=this.reverse_?c.getFirstChild(this.index_):c.getLastChild(this.index_),m=this.rangedFilter_.matches(d);if(c.hasChild(n)){const g=c.getImmediateChild(n);let y=i.getChildAfterChild(this.index_,f,this.reverse_);for(;y!=null&&(y.name===n||c.hasChild(y.name));)y=i.getChildAfterChild(this.index_,y,this.reverse_);const C=y==null?1:l(y,d);if(m&&!r.isEmpty()&&C>=0)return o?.trackChildChange(od(n,r,g)),c.updateImmediateChild(n,r);{o?.trackChildChange(sd(n,g));const k=c.updateImmediateChild(n,Ae.EMPTY_NODE);return y!=null&&this.rangedFilter_.matches(y)?(o?.trackChildChange(Vl(y.name,y.node)),k.updateImmediateChild(y.name,y.node)):k}}else return r.isEmpty()?e:m&&l(f,d)>=0?(o!=null&&(o.trackChildChange(sd(f.name,f.node)),o.trackChildChange(Vl(n,r))),c.updateImmediateChild(n,r).updateImmediateChild(f.name,Ae.EMPTY_NODE)):e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xw{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Ct}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return le(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return le(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Ul}hasEnd(){return this.endSet_}getIndexEndValue(){return le(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return le(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:ha}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return le(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===Ct}copy(){const e=new xw;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function b6(t){return t.loadsAllData()?new _w(t.getIndex()):t.hasLimit()?new x6(t):new ad(t)}function PE(t){const e={};if(t.isDefault())return e;let n;if(t.index_===Ct?n="$priority":t.index_===w6?n="$value":t.index_===Ll?n="$key":(le(t.index_ instanceof y6,"Unrecognized index type!"),n=t.index_.toString()),e.orderBy=Ut(n),t.startSet_){const r=t.startAfterSet_?"startAfter":"startAt";e[r]=Ut(t.indexStartValue_),t.startNameSet_&&(e[r]+=","+Ut(t.indexStartName_))}if(t.endSet_){const r=t.endBeforeSet_?"endBefore":"endAt";e[r]=Ut(t.indexEndValue_),t.endNameSet_&&(e[r]+=","+Ut(t.indexEndName_))}return t.limitSet_&&(t.isViewFromLeft()?e.limitToFirst=t.limit_:e.limitToLast=t.limit_),e}function RE(t){const e={};if(t.startSet_&&(e.sp=t.indexStartValue_,t.startNameSet_&&(e.sn=t.indexStartName_),e.sin=!t.startAfterSet_),t.endSet_&&(e.ep=t.indexEndValue_,t.endNameSet_&&(e.en=t.indexEndName_),e.ein=!t.endBeforeSet_),t.limitSet_){e.l=t.limit_;let n=t.viewFrom_;n===""&&(t.isViewFromLeft()?n="l":n="r"),e.vf=n}return t.index_!==Ct&&(e.i=t.index_.toString()),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hp extends $k{reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,n){return n!==void 0?"tag$"+n:(le(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}constructor(e,n,r,i){super(),this.repoInfo_=e,this.onDataUpdate_=n,this.authTokenProvider_=r,this.appCheckTokenProvider_=i,this.log_=Od("p:rest:"),this.listens_={}}listen(e,n,r,i){const o=e._path.toString();this.log_("Listen called for "+o+" "+e._queryIdentifier);const l=hp.getListenId_(e,r),c={};this.listens_[l]=c;const d=PE(e._queryParams);this.restRequest_(o+".json",d,(f,m)=>{let g=m;if(f===404&&(g=null,f=null),f===null&&this.onDataUpdate_(o,g,!1,r),$l(this.listens_,l)===c){let y;f?f===401?y="permission_denied":y="rest_error:"+f:y="ok",i(y,null)}})}unlisten(e,n){const r=hp.getListenId_(e,n);delete this.listens_[r]}get(e){const n=PE(e._queryParams),r=e._path.toString(),i=new Td;return this.restRequest_(r+".json",n,(o,l)=>{let c=l;o===404&&(c=null,o=null),o===null?(this.onDataUpdate_(r,c,!1,null),i.resolve(c)):i.reject(new Error(c))}),i.promise}refreshAuthToken(e){}restRequest_(e,n={},r){return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([i,o])=>{i&&i.accessToken&&(n.auth=i.accessToken),o&&o.token&&(n.ac=o.token);const l=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+tc(n);this.log_("Sending REST request for "+l);const c=new XMLHttpRequest;c.onreadystatechange=()=>{if(r&&c.readyState===4){this.log_("REST Response for "+l+" received. status:",c.status,"response:",c.responseText);let d=null;if(c.status>=200&&c.status<300){try{d=Ju(c.responseText)}catch{Sn("Failed to parse JSON response for "+l+": "+c.responseText)}r(null,d)}else c.status!==401&&c.status!==404&&Sn("Got unsuccessful REST response for "+l+" Status: "+c.status),r(c.status);r=null}},c.open("GET",l,!0),c.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E6{constructor(){this.rootNode_=Ae.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,n){this.rootNode_=this.rootNode_.updateChild(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fp(){return{value:null,children:new Map}}function Yk(t,e,n){if(Fe(e))t.value=n,t.children.clear();else if(t.value!==null)t.value=t.value.updateChild(e,n);else{const r=Le(e);t.children.has(r)||t.children.set(r,fp());const i=t.children.get(r);e=st(e),Yk(i,e,n)}}function D0(t,e,n){t.value!==null?n(e,t.value):S6(t,(r,i)=>{const o=new Je(e.toString()+"/"+r);D0(i,o,n)})}function S6(t,e){t.children.forEach((n,r)=>{e(r,n)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C6{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),n=Object.assign({},e);return this.last_&&on(this.last_,(r,i)=>{n[r]=n[r]-i}),this.last_=e,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AE=10*1e3,T6=30*1e3,k6=5*60*1e3;class I6{constructor(e,n){this.server_=n,this.statsToReport_={},this.statsListener_=new C6(e);const r=AE+(T6-AE)*Math.random();Au(this.reportStats_.bind(this),Math.floor(r))}reportStats_(){const e=this.statsListener_.get(),n={};let r=!1;on(e,(i,o)=>{o>0&&xi(this.statsToReport_,i)&&(n[i]=o,r=!0)}),r&&this.server_.reportStats(n),Au(this.reportStats_.bind(this),Math.floor(Math.random()*2*k6))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Br;(function(t){t[t.OVERWRITE=0]="OVERWRITE",t[t.MERGE=1]="MERGE",t[t.ACK_USER_WRITE=2]="ACK_USER_WRITE",t[t.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(Br||(Br={}));function bw(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function Ew(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function Sw(t){return{fromUser:!1,fromServer:!0,queryId:t,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pp{constructor(e,n,r){this.path=e,this.affectedTree=n,this.revert=r,this.type=Br.ACK_USER_WRITE,this.source=bw()}operationForChild(e){if(Fe(this.path)){if(this.affectedTree.value!=null)return le(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const n=this.affectedTree.subtree(new Je(e));return new pp(He(),n,this.revert)}}else return le(Le(this.path)===e,"operationForChild called for unrelated child."),new pp(st(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ld{constructor(e,n){this.source=e,this.path=n,this.type=Br.LISTEN_COMPLETE}operationForChild(e){return Fe(this.path)?new ld(this.source,He()):new ld(this.source,st(this.path))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fa{constructor(e,n,r){this.source=e,this.path=n,this.snap=r,this.type=Br.OVERWRITE}operationForChild(e){return Fe(this.path)?new fa(this.source,He(),this.snap.getImmediateChild(e)):new fa(this.source,st(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bl{constructor(e,n,r){this.source=e,this.path=n,this.children=r,this.type=Br.MERGE}operationForChild(e){if(Fe(this.path)){const n=this.children.subtree(new Je(e));return n.isEmpty()?null:n.value?new fa(this.source,He(),n.value):new Bl(this.source,He(),n)}else return le(Le(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new Bl(this.source,st(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class io{constructor(e,n,r){this.node_=e,this.fullyInitialized_=n,this.filtered_=r}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(Fe(e))return this.isFullyInitialized()&&!this.filtered_;const n=Le(e);return this.isCompleteForChild(n)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P6{constructor(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}}function R6(t,e,n,r){const i=[],o=[];return e.forEach(l=>{l.type==="child_changed"&&t.index_.indexedValueChanged(l.oldSnap,l.snapshotNode)&&o.push(_6(l.childName,l.snapshotNode))}),fu(t,i,"child_removed",e,r,n),fu(t,i,"child_added",e,r,n),fu(t,i,"child_moved",o,r,n),fu(t,i,"child_changed",e,r,n),fu(t,i,"value",e,r,n),i}function fu(t,e,n,r,i,o){const l=r.filter(c=>c.type===n);l.sort((c,d)=>N6(t,c,d)),l.forEach(c=>{const d=A6(t,c,o);i.forEach(f=>{f.respondsTo(c.type)&&e.push(f.createEvent(d,t.query_))})})}function A6(t,e,n){return e.type==="value"||e.type==="child_removed"||(e.prevName=n.getPredecessorChildName(e.childName,e.snapshotNode,t.index_)),e}function N6(t,e,n){if(e.childName==null||n.childName==null)throw ec("Should only compare child_ events.");const r=new je(e.childName,e.snapshotNode),i=new je(n.childName,n.snapshotNode);return t.index_.compare(r,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qp(t,e){return{eventCache:t,serverCache:e}}function Nu(t,e,n,r){return Qp(new io(e,n,r),t.serverCache)}function Xk(t,e,n,r){return Qp(t.eventCache,new io(e,n,r))}function mp(t){return t.eventCache.isFullyInitialized()?t.eventCache.getNode():null}function pa(t){return t.serverCache.isFullyInitialized()?t.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ry;const O6=()=>(Ry||(Ry=new Fn(yj)),Ry);class it{static fromObject(e){let n=new it(null);return on(e,(r,i)=>{n=n.set(new Je(r),i)}),n}constructor(e,n=O6()){this.value=e,this.children=n}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,n){if(this.value!=null&&n(this.value))return{path:He(),value:this.value};if(Fe(e))return null;{const r=Le(e),i=this.children.get(r);if(i!==null){const o=i.findRootMostMatchingPathAndValue(st(e),n);return o!=null?{path:Et(new Je(r),o.path),value:o.value}:null}else return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(Fe(e))return this;{const n=Le(e),r=this.children.get(n);return r!==null?r.subtree(st(e)):new it(null)}}set(e,n){if(Fe(e))return new it(n,this.children);{const r=Le(e),o=(this.children.get(r)||new it(null)).set(st(e),n),l=this.children.insert(r,o);return new it(this.value,l)}}remove(e){if(Fe(e))return this.children.isEmpty()?new it(null):new it(null,this.children);{const n=Le(e),r=this.children.get(n);if(r){const i=r.remove(st(e));let o;return i.isEmpty()?o=this.children.remove(n):o=this.children.insert(n,i),this.value===null&&o.isEmpty()?new it(null):new it(this.value,o)}else return this}}get(e){if(Fe(e))return this.value;{const n=Le(e),r=this.children.get(n);return r?r.get(st(e)):null}}setTree(e,n){if(Fe(e))return n;{const r=Le(e),o=(this.children.get(r)||new it(null)).setTree(st(e),n);let l;return o.isEmpty()?l=this.children.remove(r):l=this.children.insert(r,o),new it(this.value,l)}}fold(e){return this.fold_(He(),e)}fold_(e,n){const r={};return this.children.inorderTraversal((i,o)=>{r[i]=o.fold_(Et(e,i),n)}),n(e,this.value,r)}findOnPath(e,n){return this.findOnPath_(e,He(),n)}findOnPath_(e,n,r){const i=this.value?r(n,this.value):!1;if(i)return i;if(Fe(e))return null;{const o=Le(e),l=this.children.get(o);return l?l.findOnPath_(st(e),Et(n,o),r):null}}foreachOnPath(e,n){return this.foreachOnPath_(e,He(),n)}foreachOnPath_(e,n,r){if(Fe(e))return this;{this.value&&r(n,this.value);const i=Le(e),o=this.children.get(i);return o?o.foreachOnPath_(st(e),Et(n,i),r):new it(null)}}foreach(e){this.foreach_(He(),e)}foreach_(e,n){this.children.inorderTraversal((r,i)=>{i.foreach_(Et(e,r),n)}),this.value&&n(e,this.value)}foreachChild(e){this.children.inorderTraversal((n,r)=>{r.value&&e(n,r.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qr{constructor(e){this.writeTree_=e}static empty(){return new qr(new it(null))}}function Ou(t,e,n){if(Fe(e))return new qr(new it(n));{const r=t.writeTree_.findRootMostValueAndPath(e);if(r!=null){const i=r.path;let o=r.value;const l=bn(i,e);return o=o.updateChild(l,n),new qr(t.writeTree_.set(i,o))}else{const i=new it(n),o=t.writeTree_.setTree(e,i);return new qr(o)}}}function M0(t,e,n){let r=t;return on(n,(i,o)=>{r=Ou(r,Et(e,i),o)}),r}function NE(t,e){if(Fe(e))return qr.empty();{const n=t.writeTree_.setTree(e,new it(null));return new qr(n)}}function L0(t,e){return ba(t,e)!=null}function ba(t,e){const n=t.writeTree_.findRootMostValueAndPath(e);return n!=null?t.writeTree_.get(n.path).getChild(bn(n.path,e)):null}function OE(t){const e=[],n=t.writeTree_.value;return n!=null?n.isLeafNode()||n.forEachChild(Ct,(r,i)=>{e.push(new je(r,i))}):t.writeTree_.children.inorderTraversal((r,i)=>{i.value!=null&&e.push(new je(r,i.value))}),e}function Zs(t,e){if(Fe(e))return t;{const n=ba(t,e);return n!=null?new qr(new it(n)):new qr(t.writeTree_.subtree(e))}}function j0(t){return t.writeTree_.isEmpty()}function zl(t,e){return Jk(He(),t.writeTree_,e)}function Jk(t,e,n){if(e.value!=null)return n.updateChild(t,e.value);{let r=null;return e.children.inorderTraversal((i,o)=>{i===".priority"?(le(o.value!==null,"Priority writes must always be leaf nodes"),r=o.value):n=Jk(Et(t,i),o,n)}),!n.getChild(t).isEmpty()&&r!==null&&(n=n.updateChild(Et(t,".priority"),r)),n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zp(t,e){return tI(e,t)}function D6(t,e,n,r,i){le(r>t.lastWriteId,"Stacking an older write on top of newer ones"),i===void 0&&(i=!0),t.allWrites.push({path:e,snap:n,writeId:r,visible:i}),i&&(t.visibleWrites=Ou(t.visibleWrites,e,n)),t.lastWriteId=r}function M6(t,e,n,r){le(r>t.lastWriteId,"Stacking an older merge on top of newer ones"),t.allWrites.push({path:e,children:n,writeId:r,visible:!0}),t.visibleWrites=M0(t.visibleWrites,e,n),t.lastWriteId=r}function L6(t,e){for(let n=0;n<t.allWrites.length;n++){const r=t.allWrites[n];if(r.writeId===e)return r}return null}function j6(t,e){const n=t.allWrites.findIndex(c=>c.writeId===e);le(n>=0,"removeWrite called with nonexistent writeId.");const r=t.allWrites[n];t.allWrites.splice(n,1);let i=r.visible,o=!1,l=t.allWrites.length-1;for(;i&&l>=0;){const c=t.allWrites[l];c.visible&&(l>=n&&F6(c,r.path)?i=!1:yr(r.path,c.path)&&(o=!0)),l--}if(i){if(o)return $6(t),!0;if(r.snap)t.visibleWrites=NE(t.visibleWrites,r.path);else{const c=r.children;on(c,d=>{t.visibleWrites=NE(t.visibleWrites,Et(r.path,d))})}return!0}else return!1}function F6(t,e){if(t.snap)return yr(t.path,e);for(const n in t.children)if(t.children.hasOwnProperty(n)&&yr(Et(t.path,n),e))return!0;return!1}function $6(t){t.visibleWrites=Qk(t.allWrites,U6,He()),t.allWrites.length>0?t.lastWriteId=t.allWrites[t.allWrites.length-1].writeId:t.lastWriteId=-1}function U6(t){return t.visible}function Qk(t,e,n){let r=qr.empty();for(let i=0;i<t.length;++i){const o=t[i];if(e(o)){const l=o.path;let c;if(o.snap)yr(n,l)?(c=bn(n,l),r=Ou(r,c,o.snap)):yr(l,n)&&(c=bn(l,n),r=Ou(r,He(),o.snap.getChild(c)));else if(o.children){if(yr(n,l))c=bn(n,l),r=M0(r,c,o.children);else if(yr(l,n))if(c=bn(l,n),Fe(c))r=M0(r,He(),o.children);else{const d=$l(o.children,Le(c));if(d){const f=d.getChild(st(c));r=Ou(r,He(),f)}}}else throw ec("WriteRecord should have .snap or .children")}}return r}function Zk(t,e,n,r,i){if(!r&&!i){const o=ba(t.visibleWrites,e);if(o!=null)return o;{const l=Zs(t.visibleWrites,e);if(j0(l))return n;if(n==null&&!L0(l,He()))return null;{const c=n||Ae.EMPTY_NODE;return zl(l,c)}}}else{const o=Zs(t.visibleWrites,e);if(!i&&j0(o))return n;if(!i&&n==null&&!L0(o,He()))return null;{const l=function(f){return(f.visible||i)&&(!r||!~r.indexOf(f.writeId))&&(yr(f.path,e)||yr(e,f.path))},c=Qk(t.allWrites,l,e),d=n||Ae.EMPTY_NODE;return zl(c,d)}}}function V6(t,e,n){let r=Ae.EMPTY_NODE;const i=ba(t.visibleWrites,e);if(i)return i.isLeafNode()||i.forEachChild(Ct,(o,l)=>{r=r.updateImmediateChild(o,l)}),r;if(n){const o=Zs(t.visibleWrites,e);return n.forEachChild(Ct,(l,c)=>{const d=zl(Zs(o,new Je(l)),c);r=r.updateImmediateChild(l,d)}),OE(o).forEach(l=>{r=r.updateImmediateChild(l.name,l.node)}),r}else{const o=Zs(t.visibleWrites,e);return OE(o).forEach(l=>{r=r.updateImmediateChild(l.name,l.node)}),r}}function B6(t,e,n,r,i){le(r||i,"Either existingEventSnap or existingServerSnap must exist");const o=Et(e,n);if(L0(t.visibleWrites,o))return null;{const l=Zs(t.visibleWrites,o);return j0(l)?i.getChild(n):zl(l,i.getChild(n))}}function z6(t,e,n,r){const i=Et(e,n),o=ba(t.visibleWrites,i);if(o!=null)return o;if(r.isCompleteForChild(n)){const l=Zs(t.visibleWrites,i);return zl(l,r.getNode().getImmediateChild(n))}else return null}function W6(t,e){return ba(t.visibleWrites,e)}function H6(t,e,n,r,i,o,l){let c;const d=Zs(t.visibleWrites,e),f=ba(d,He());if(f!=null)c=f;else if(n!=null)c=zl(d,n);else return[];if(c=c.withIndex(l),!c.isEmpty()&&!c.isLeafNode()){const m=[],g=l.getCompare(),y=o?c.getReverseIteratorFrom(r,l):c.getIteratorFrom(r,l);let C=y.getNext();for(;C&&m.length<i;)g(C,r)!==0&&m.push(C),C=y.getNext();return m}else return[]}function q6(){return{visibleWrites:qr.empty(),allWrites:[],lastWriteId:-1}}function gp(t,e,n,r){return Zk(t.writeTree,t.treePath,e,n,r)}function Cw(t,e){return V6(t.writeTree,t.treePath,e)}function DE(t,e,n,r){return B6(t.writeTree,t.treePath,e,n,r)}function yp(t,e){return W6(t.writeTree,Et(t.treePath,e))}function G6(t,e,n,r,i,o){return H6(t.writeTree,t.treePath,e,n,r,i,o)}function Tw(t,e,n){return z6(t.writeTree,t.treePath,e,n)}function eI(t,e){return tI(Et(t.treePath,e),t.writeTree)}function tI(t,e){return{treePath:t,writeTree:e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K6{constructor(){this.changeMap=new Map}trackChildChange(e){const n=e.type,r=e.childName;le(n==="child_added"||n==="child_changed"||n==="child_removed","Only child changes supported for tracking"),le(r!==".priority","Only non-priority child changes can be tracked.");const i=this.changeMap.get(r);if(i){const o=i.type;if(n==="child_added"&&o==="child_removed")this.changeMap.set(r,od(r,e.snapshotNode,i.snapshotNode));else if(n==="child_removed"&&o==="child_added")this.changeMap.delete(r);else if(n==="child_removed"&&o==="child_changed")this.changeMap.set(r,sd(r,i.oldSnap));else if(n==="child_changed"&&o==="child_added")this.changeMap.set(r,Vl(r,e.snapshotNode));else if(n==="child_changed"&&o==="child_changed")this.changeMap.set(r,od(r,e.snapshotNode,i.oldSnap));else throw ec("Illegal combination of changes: "+e+" occurred after "+i)}else this.changeMap.set(r,e)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y6{getCompleteChild(e){return null}getChildAfterChild(e,n,r){return null}}const nI=new Y6;class kw{constructor(e,n,r=null){this.writes_=e,this.viewCache_=n,this.optCompleteServerCache_=r}getCompleteChild(e){const n=this.viewCache_.eventCache;if(n.isCompleteForChild(e))return n.getNode().getImmediateChild(e);{const r=this.optCompleteServerCache_!=null?new io(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return Tw(this.writes_,e,r)}}getChildAfterChild(e,n,r){const i=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:pa(this.viewCache_),o=G6(this.writes_,i,n,1,r,e);return o.length===0?null:o[0]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function X6(t){return{filter:t}}function J6(t,e){le(e.eventCache.getNode().isIndexed(t.filter.getIndex()),"Event snap not indexed"),le(e.serverCache.getNode().isIndexed(t.filter.getIndex()),"Server snap not indexed")}function Q6(t,e,n,r,i){const o=new K6;let l,c;if(n.type===Br.OVERWRITE){const f=n;f.source.fromUser?l=F0(t,e,f.path,f.snap,r,i,o):(le(f.source.fromServer,"Unknown source."),c=f.source.tagged||e.serverCache.isFiltered()&&!Fe(f.path),l=vp(t,e,f.path,f.snap,r,i,c,o))}else if(n.type===Br.MERGE){const f=n;f.source.fromUser?l=eF(t,e,f.path,f.children,r,i,o):(le(f.source.fromServer,"Unknown source."),c=f.source.tagged||e.serverCache.isFiltered(),l=$0(t,e,f.path,f.children,r,i,c,o))}else if(n.type===Br.ACK_USER_WRITE){const f=n;f.revert?l=rF(t,e,f.path,r,i,o):l=tF(t,e,f.path,f.affectedTree,r,i,o)}else if(n.type===Br.LISTEN_COMPLETE)l=nF(t,e,n.path,r,o);else throw ec("Unknown operation type: "+n.type);const d=o.getChanges();return Z6(e,l,d),{viewCache:l,changes:d}}function Z6(t,e,n){const r=e.eventCache;if(r.isFullyInitialized()){const i=r.getNode().isLeafNode()||r.getNode().isEmpty(),o=mp(t);(n.length>0||!t.eventCache.isFullyInitialized()||i&&!r.getNode().equals(o)||!r.getNode().getPriority().equals(o.getPriority()))&&n.push(Kk(mp(e)))}}function rI(t,e,n,r,i,o){const l=e.eventCache;if(yp(r,n)!=null)return e;{let c,d;if(Fe(n))if(le(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const f=pa(e),m=f instanceof Ae?f:Ae.EMPTY_NODE,g=Cw(r,m);c=t.filter.updateFullNode(e.eventCache.getNode(),g,o)}else{const f=gp(r,pa(e));c=t.filter.updateFullNode(e.eventCache.getNode(),f,o)}else{const f=Le(n);if(f===".priority"){le(ro(n)===1,"Can't have a priority with additional path components");const m=l.getNode();d=e.serverCache.getNode();const g=DE(r,n,m,d);g!=null?c=t.filter.updatePriority(m,g):c=l.getNode()}else{const m=st(n);let g;if(l.isCompleteForChild(f)){d=e.serverCache.getNode();const y=DE(r,n,l.getNode(),d);y!=null?g=l.getNode().getImmediateChild(f).updateChild(m,y):g=l.getNode().getImmediateChild(f)}else g=Tw(r,f,e.serverCache);g!=null?c=t.filter.updateChild(l.getNode(),f,g,m,i,o):c=l.getNode()}}return Nu(e,c,l.isFullyInitialized()||Fe(n),t.filter.filtersNodes())}}function vp(t,e,n,r,i,o,l,c){const d=e.serverCache;let f;const m=l?t.filter:t.filter.getIndexedFilter();if(Fe(n))f=m.updateFullNode(d.getNode(),r,null);else if(m.filtersNodes()&&!d.isFiltered()){const C=d.getNode().updateChild(n,r);f=m.updateFullNode(d.getNode(),C,null)}else{const C=Le(n);if(!d.isCompleteForPath(n)&&ro(n)>1)return e;const S=st(n),P=d.getNode().getImmediateChild(C).updateChild(S,r);C===".priority"?f=m.updatePriority(d.getNode(),P):f=m.updateChild(d.getNode(),C,P,S,nI,null)}const g=Xk(e,f,d.isFullyInitialized()||Fe(n),m.filtersNodes()),y=new kw(i,g,o);return rI(t,g,n,i,y,c)}function F0(t,e,n,r,i,o,l){const c=e.eventCache;let d,f;const m=new kw(i,e,o);if(Fe(n))f=t.filter.updateFullNode(e.eventCache.getNode(),r,l),d=Nu(e,f,!0,t.filter.filtersNodes());else{const g=Le(n);if(g===".priority")f=t.filter.updatePriority(e.eventCache.getNode(),r),d=Nu(e,f,c.isFullyInitialized(),c.isFiltered());else{const y=st(n),C=c.getNode().getImmediateChild(g);let S;if(Fe(y))S=r;else{const k=m.getCompleteChild(g);k!=null?gw(y)===".priority"&&k.getChild(Vk(y)).isEmpty()?S=k:S=k.updateChild(y,r):S=Ae.EMPTY_NODE}if(C.equals(S))d=e;else{const k=t.filter.updateChild(c.getNode(),g,S,y,m,l);d=Nu(e,k,c.isFullyInitialized(),t.filter.filtersNodes())}}}return d}function ME(t,e){return t.eventCache.isCompleteForChild(e)}function eF(t,e,n,r,i,o,l){let c=e;return r.foreach((d,f)=>{const m=Et(n,d);ME(e,Le(m))&&(c=F0(t,c,m,f,i,o,l))}),r.foreach((d,f)=>{const m=Et(n,d);ME(e,Le(m))||(c=F0(t,c,m,f,i,o,l))}),c}function LE(t,e,n){return n.foreach((r,i)=>{e=e.updateChild(r,i)}),e}function $0(t,e,n,r,i,o,l,c){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let d=e,f;Fe(n)?f=r:f=new it(null).setTree(n,r);const m=e.serverCache.getNode();return f.children.inorderTraversal((g,y)=>{if(m.hasChild(g)){const C=e.serverCache.getNode().getImmediateChild(g),S=LE(t,C,y);d=vp(t,d,new Je(g),S,i,o,l,c)}}),f.children.inorderTraversal((g,y)=>{const C=!e.serverCache.isCompleteForChild(g)&&y.value===null;if(!m.hasChild(g)&&!C){const S=e.serverCache.getNode().getImmediateChild(g),k=LE(t,S,y);d=vp(t,d,new Je(g),k,i,o,l,c)}}),d}function tF(t,e,n,r,i,o,l){if(yp(i,n)!=null)return e;const c=e.serverCache.isFiltered(),d=e.serverCache;if(r.value!=null){if(Fe(n)&&d.isFullyInitialized()||d.isCompleteForPath(n))return vp(t,e,n,d.getNode().getChild(n),i,o,c,l);if(Fe(n)){let f=new it(null);return d.getNode().forEachChild(Ll,(m,g)=>{f=f.set(new Je(m),g)}),$0(t,e,n,f,i,o,c,l)}else return e}else{let f=new it(null);return r.foreach((m,g)=>{const y=Et(n,m);d.isCompleteForPath(y)&&(f=f.set(m,d.getNode().getChild(y)))}),$0(t,e,n,f,i,o,c,l)}}function nF(t,e,n,r,i){const o=e.serverCache,l=Xk(e,o.getNode(),o.isFullyInitialized()||Fe(n),o.isFiltered());return rI(t,l,n,r,nI,i)}function rF(t,e,n,r,i,o){let l;if(yp(r,n)!=null)return e;{const c=new kw(r,e,i),d=e.eventCache.getNode();let f;if(Fe(n)||Le(n)===".priority"){let m;if(e.serverCache.isFullyInitialized())m=gp(r,pa(e));else{const g=e.serverCache.getNode();le(g instanceof Ae,"serverChildren would be complete if leaf node"),m=Cw(r,g)}m=m,f=t.filter.updateFullNode(d,m,o)}else{const m=Le(n);let g=Tw(r,m,e.serverCache);g==null&&e.serverCache.isCompleteForChild(m)&&(g=d.getImmediateChild(m)),g!=null?f=t.filter.updateChild(d,m,g,st(n),c,o):e.eventCache.getNode().hasChild(m)?f=t.filter.updateChild(d,m,Ae.EMPTY_NODE,st(n),c,o):f=d,f.isEmpty()&&e.serverCache.isFullyInitialized()&&(l=gp(r,pa(e)),l.isLeafNode()&&(f=t.filter.updateFullNode(f,l,o)))}return l=e.serverCache.isFullyInitialized()||yp(r,He())!=null,Nu(e,f,l,t.filter.filtersNodes())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iF{constructor(e,n){this.query_=e,this.eventRegistrations_=[];const r=this.query_._queryParams,i=new _w(r.getIndex()),o=b6(r);this.processor_=X6(o);const l=n.serverCache,c=n.eventCache,d=i.updateFullNode(Ae.EMPTY_NODE,l.getNode(),null),f=o.updateFullNode(Ae.EMPTY_NODE,c.getNode(),null),m=new io(d,l.isFullyInitialized(),i.filtersNodes()),g=new io(f,c.isFullyInitialized(),o.filtersNodes());this.viewCache_=Qp(g,m),this.eventGenerator_=new P6(this.query_)}get query(){return this.query_}}function sF(t){return t.viewCache_.serverCache.getNode()}function oF(t){return mp(t.viewCache_)}function aF(t,e){const n=pa(t.viewCache_);return n&&(t.query._queryParams.loadsAllData()||!Fe(e)&&!n.getImmediateChild(Le(e)).isEmpty())?n.getChild(e):null}function jE(t){return t.eventRegistrations_.length===0}function lF(t,e){t.eventRegistrations_.push(e)}function FE(t,e,n){const r=[];if(n){le(e==null,"A cancel should cancel all event registrations.");const i=t.query._path;t.eventRegistrations_.forEach(o=>{const l=o.createCancelEvent(n,i);l&&r.push(l)})}if(e){let i=[];for(let o=0;o<t.eventRegistrations_.length;++o){const l=t.eventRegistrations_[o];if(!l.matches(e))i.push(l);else if(e.hasAnyCallback()){i=i.concat(t.eventRegistrations_.slice(o+1));break}}t.eventRegistrations_=i}else t.eventRegistrations_=[];return r}function $E(t,e,n,r){e.type===Br.MERGE&&e.source.queryId!==null&&(le(pa(t.viewCache_),"We should always have a full cache before handling merges"),le(mp(t.viewCache_),"Missing event cache, even though we have a server cache"));const i=t.viewCache_,o=Q6(t.processor_,i,e,n,r);return J6(t.processor_,o.viewCache),le(o.viewCache.serverCache.isFullyInitialized()||!i.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),t.viewCache_=o.viewCache,iI(t,o.changes,o.viewCache.eventCache.getNode(),null)}function cF(t,e){const n=t.viewCache_.eventCache,r=[];return n.getNode().isLeafNode()||n.getNode().forEachChild(Ct,(o,l)=>{r.push(Vl(o,l))}),n.isFullyInitialized()&&r.push(Kk(n.getNode())),iI(t,r,n.getNode(),e)}function iI(t,e,n,r){const i=r?[r]:t.eventRegistrations_;return R6(t.eventGenerator_,e,n,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let wp;class sI{constructor(){this.views=new Map}}function uF(t){le(!wp,"__referenceConstructor has already been defined"),wp=t}function dF(){return le(wp,"Reference.ts has not been loaded"),wp}function hF(t){return t.views.size===0}function Iw(t,e,n,r){const i=e.source.queryId;if(i!==null){const o=t.views.get(i);return le(o!=null,"SyncTree gave us an op for an invalid query."),$E(o,e,n,r)}else{let o=[];for(const l of t.views.values())o=o.concat($E(l,e,n,r));return o}}function oI(t,e,n,r,i){const o=e._queryIdentifier,l=t.views.get(o);if(!l){let c=gp(n,i?r:null),d=!1;c?d=!0:r instanceof Ae?(c=Cw(n,r),d=!1):(c=Ae.EMPTY_NODE,d=!1);const f=Qp(new io(c,d,!1),new io(r,i,!1));return new iF(e,f)}return l}function fF(t,e,n,r,i,o){const l=oI(t,e,r,i,o);return t.views.has(e._queryIdentifier)||t.views.set(e._queryIdentifier,l),lF(l,n),cF(l,n)}function pF(t,e,n,r){const i=e._queryIdentifier,o=[];let l=[];const c=so(t);if(i==="default")for(const[d,f]of t.views.entries())l=l.concat(FE(f,n,r)),jE(f)&&(t.views.delete(d),f.query._queryParams.loadsAllData()||o.push(f.query));else{const d=t.views.get(i);d&&(l=l.concat(FE(d,n,r)),jE(d)&&(t.views.delete(i),d.query._queryParams.loadsAllData()||o.push(d.query)))}return c&&!so(t)&&o.push(new(dF())(e._repo,e._path)),{removed:o,events:l}}function aI(t){const e=[];for(const n of t.views.values())n.query._queryParams.loadsAllData()||e.push(n);return e}function eo(t,e){let n=null;for(const r of t.views.values())n=n||aF(r,e);return n}function lI(t,e){if(e._queryParams.loadsAllData())return em(t);{const r=e._queryIdentifier;return t.views.get(r)}}function cI(t,e){return lI(t,e)!=null}function so(t){return em(t)!=null}function em(t){for(const e of t.views.values())if(e.query._queryParams.loadsAllData())return e;return null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let _p;function mF(t){le(!_p,"__referenceConstructor has already been defined"),_p=t}function gF(){return le(_p,"Reference.ts has not been loaded"),_p}let yF=1;class UE{constructor(e){this.listenProvider_=e,this.syncPointTree_=new it(null),this.pendingWriteTree_=q6(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function uI(t,e,n,r,i){return D6(t.pendingWriteTree_,e,n,r,i),i?ic(t,new fa(bw(),e,n)):[]}function vF(t,e,n,r){M6(t.pendingWriteTree_,e,n,r);const i=it.fromObject(n);return ic(t,new Bl(bw(),e,i))}function Ys(t,e,n=!1){const r=L6(t.pendingWriteTree_,e);if(j6(t.pendingWriteTree_,e)){let o=new it(null);return r.snap!=null?o=o.set(He(),!0):on(r.children,l=>{o=o.set(new Je(l),!0)}),ic(t,new pp(r.path,o,n))}else return[]}function Md(t,e,n){return ic(t,new fa(Ew(),e,n))}function wF(t,e,n){const r=it.fromObject(n);return ic(t,new Bl(Ew(),e,r))}function _F(t,e){return ic(t,new ld(Ew(),e))}function xF(t,e,n){const r=Rw(t,n);if(r){const i=Aw(r),o=i.path,l=i.queryId,c=bn(o,e),d=new ld(Sw(l),c);return Nw(t,o,d)}else return[]}function xp(t,e,n,r,i=!1){const o=e._path,l=t.syncPointTree_.get(o);let c=[];if(l&&(e._queryIdentifier==="default"||cI(l,e))){const d=pF(l,e,n,r);hF(l)&&(t.syncPointTree_=t.syncPointTree_.remove(o));const f=d.removed;if(c=d.events,!i){const m=f.findIndex(y=>y._queryParams.loadsAllData())!==-1,g=t.syncPointTree_.findOnPath(o,(y,C)=>so(C));if(m&&!g){const y=t.syncPointTree_.subtree(o);if(!y.isEmpty()){const C=SF(y);for(let S=0;S<C.length;++S){const k=C[S],P=k.query,N=pI(t,k);t.listenProvider_.startListening(Du(P),cd(t,P),N.hashFn,N.onComplete)}}}!g&&f.length>0&&!r&&(m?t.listenProvider_.stopListening(Du(e),null):f.forEach(y=>{const C=t.queryToTagMap.get(tm(y));t.listenProvider_.stopListening(Du(y),C)}))}CF(t,f)}return c}function dI(t,e,n,r){const i=Rw(t,r);if(i!=null){const o=Aw(i),l=o.path,c=o.queryId,d=bn(l,e),f=new fa(Sw(c),d,n);return Nw(t,l,f)}else return[]}function bF(t,e,n,r){const i=Rw(t,r);if(i){const o=Aw(i),l=o.path,c=o.queryId,d=bn(l,e),f=it.fromObject(n),m=new Bl(Sw(c),d,f);return Nw(t,l,m)}else return[]}function U0(t,e,n,r=!1){const i=e._path;let o=null,l=!1;t.syncPointTree_.foreachOnPath(i,(y,C)=>{const S=bn(y,i);o=o||eo(C,S),l=l||so(C)});let c=t.syncPointTree_.get(i);c?(l=l||so(c),o=o||eo(c,He())):(c=new sI,t.syncPointTree_=t.syncPointTree_.set(i,c));let d;o!=null?d=!0:(d=!1,o=Ae.EMPTY_NODE,t.syncPointTree_.subtree(i).foreachChild((C,S)=>{const k=eo(S,He());k&&(o=o.updateImmediateChild(C,k))}));const f=cI(c,e);if(!f&&!e._queryParams.loadsAllData()){const y=tm(e);le(!t.queryToTagMap.has(y),"View does not exist, but we have a tag");const C=TF();t.queryToTagMap.set(y,C),t.tagToQueryMap.set(C,y)}const m=Zp(t.pendingWriteTree_,i);let g=fF(c,e,n,m,o,d);if(!f&&!l&&!r){const y=lI(c,e);g=g.concat(kF(t,e,y))}return g}function Pw(t,e,n){const i=t.pendingWriteTree_,o=t.syncPointTree_.findOnPath(e,(l,c)=>{const d=bn(l,e),f=eo(c,d);if(f)return f});return Zk(i,e,o,n,!0)}function EF(t,e){const n=e._path;let r=null;t.syncPointTree_.foreachOnPath(n,(f,m)=>{const g=bn(f,n);r=r||eo(m,g)});let i=t.syncPointTree_.get(n);i?r=r||eo(i,He()):(i=new sI,t.syncPointTree_=t.syncPointTree_.set(n,i));const o=r!=null,l=o?new io(r,!0,!1):null,c=Zp(t.pendingWriteTree_,e._path),d=oI(i,e,c,o?l.getNode():Ae.EMPTY_NODE,o);return oF(d)}function ic(t,e){return hI(e,t.syncPointTree_,null,Zp(t.pendingWriteTree_,He()))}function hI(t,e,n,r){if(Fe(t.path))return fI(t,e,n,r);{const i=e.get(He());n==null&&i!=null&&(n=eo(i,He()));let o=[];const l=Le(t.path),c=t.operationForChild(l),d=e.children.get(l);if(d&&c){const f=n?n.getImmediateChild(l):null,m=eI(r,l);o=o.concat(hI(c,d,f,m))}return i&&(o=o.concat(Iw(i,t,r,n))),o}}function fI(t,e,n,r){const i=e.get(He());n==null&&i!=null&&(n=eo(i,He()));let o=[];return e.children.inorderTraversal((l,c)=>{const d=n?n.getImmediateChild(l):null,f=eI(r,l),m=t.operationForChild(l);m&&(o=o.concat(fI(m,c,d,f)))}),i&&(o=o.concat(Iw(i,t,r,n))),o}function pI(t,e){const n=e.query,r=cd(t,n);return{hashFn:()=>(sF(e)||Ae.EMPTY_NODE).hash(),onComplete:i=>{if(i==="ok")return r?xF(t,n._path,r):_F(t,n._path);{const o=_j(i,n);return xp(t,n,null,o)}}}}function cd(t,e){const n=tm(e);return t.queryToTagMap.get(n)}function tm(t){return t._path.toString()+"$"+t._queryIdentifier}function Rw(t,e){return t.tagToQueryMap.get(e)}function Aw(t){const e=t.indexOf("$");return le(e!==-1&&e<t.length-1,"Bad queryKey."),{queryId:t.substr(e+1),path:new Je(t.substr(0,e))}}function Nw(t,e,n){const r=t.syncPointTree_.get(e);le(r,"Missing sync point for query tag that we're tracking");const i=Zp(t.pendingWriteTree_,e);return Iw(r,n,i,null)}function SF(t){return t.fold((e,n,r)=>{if(n&&so(n))return[em(n)];{let i=[];return n&&(i=aI(n)),on(r,(o,l)=>{i=i.concat(l)}),i}})}function Du(t){return t._queryParams.loadsAllData()&&!t._queryParams.isDefault()?new(gF())(t._repo,t._path):t}function CF(t,e){for(let n=0;n<e.length;++n){const r=e[n];if(!r._queryParams.loadsAllData()){const i=tm(r),o=t.queryToTagMap.get(i);t.queryToTagMap.delete(i),t.tagToQueryMap.delete(o)}}}function TF(){return yF++}function kF(t,e,n){const r=e._path,i=cd(t,e),o=pI(t,n),l=t.listenProvider_.startListening(Du(e),i,o.hashFn,o.onComplete),c=t.syncPointTree_.subtree(r);if(i)le(!so(c.value),"If we're adding a query, it shouldn't be shadowed");else{const d=c.fold((f,m,g)=>{if(!Fe(f)&&m&&so(m))return[em(m).query];{let y=[];return m&&(y=y.concat(aI(m).map(C=>C.query))),on(g,(C,S)=>{y=y.concat(S)}),y}});for(let f=0;f<d.length;++f){const m=d[f];t.listenProvider_.stopListening(Du(m),cd(t,m))}}return l}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ow{constructor(e){this.node_=e}getImmediateChild(e){const n=this.node_.getImmediateChild(e);return new Ow(n)}node(){return this.node_}}class Dw{constructor(e,n){this.syncTree_=e,this.path_=n}getImmediateChild(e){const n=Et(this.path_,e);return new Dw(this.syncTree_,n)}node(){return Pw(this.syncTree_,this.path_)}}const IF=function(t){return t=t||{},t.timestamp=t.timestamp||new Date().getTime(),t},VE=function(t,e,n){if(!t||typeof t!="object")return t;if(le(".sv"in t,"Unexpected leaf node or priority contents"),typeof t[".sv"]=="string")return PF(t[".sv"],e,n);if(typeof t[".sv"]=="object")return RF(t[".sv"],e);le(!1,"Unexpected server value: "+JSON.stringify(t,null,2))},PF=function(t,e,n){switch(t){case"timestamp":return n.timestamp;default:le(!1,"Unexpected server value: "+t)}},RF=function(t,e,n){t.hasOwnProperty("increment")||le(!1,"Unexpected server value: "+JSON.stringify(t,null,2));const r=t.increment;typeof r!="number"&&le(!1,"Unexpected increment value: "+r);const i=e.node();if(le(i!==null&&typeof i<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;const l=i.getValue();return typeof l!="number"?r:l+r},mI=function(t,e,n,r){return Mw(e,new Dw(n,t),r)},gI=function(t,e,n){return Mw(t,new Ow(e),n)};function Mw(t,e,n){const r=t.getPriority().val(),i=VE(r,e.getImmediateChild(".priority"),n);let o;if(t.isLeafNode()){const l=t,c=VE(l.getValue(),e,n);return c!==l.getValue()||i!==l.getPriority().val()?new Gt(c,$t(i)):t}else{const l=t;return o=l,i!==l.getPriority().val()&&(o=o.updatePriority(new Gt(i))),l.forEachChild(Ct,(c,d)=>{const f=Mw(d,e.getImmediateChild(c),n);f!==d&&(o=o.updateImmediateChild(c,f))}),o}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lw{constructor(e="",n=null,r={children:{},childCount:0}){this.name=e,this.parent=n,this.node=r}}function jw(t,e){let n=e instanceof Je?e:new Je(e),r=t,i=Le(n);for(;i!==null;){const o=$l(r.node.children,i)||{children:{},childCount:0};r=new Lw(i,r,o),n=st(n),i=Le(n)}return r}function sc(t){return t.node.value}function yI(t,e){t.node.value=e,V0(t)}function vI(t){return t.node.childCount>0}function AF(t){return sc(t)===void 0&&!vI(t)}function nm(t,e){on(t.node.children,(n,r)=>{e(new Lw(n,t,r))})}function wI(t,e,n,r){n&&e(t),nm(t,i=>{wI(i,e,!0)})}function NF(t,e,n){let r=t.parent;for(;r!==null;){if(e(r))return!0;r=r.parent}return!1}function Ld(t){return new Je(t.parent===null?t.name:Ld(t.parent)+"/"+t.name)}function V0(t){t.parent!==null&&OF(t.parent,t.name,t)}function OF(t,e,n){const r=AF(n),i=xi(t.node.children,e);r&&i?(delete t.node.children[e],t.node.childCount--,V0(t)):!r&&!i&&(t.node.children[e]=n.node,t.node.childCount++,V0(t))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DF=/[\[\].#$\/\u0000-\u001F\u007F]/,MF=/[\[\].#$\u0000-\u001F\u007F]/,Ay=10*1024*1024,Fw=function(t){return typeof t=="string"&&t.length!==0&&!DF.test(t)},_I=function(t){return typeof t=="string"&&t.length!==0&&!MF.test(t)},LF=function(t){return t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),_I(t)},jF=function(t){return t===null||typeof t=="string"||typeof t=="number"&&!dw(t)||t&&typeof t=="object"&&xi(t,".sv")},xI=function(t,e,n,r){r&&e===void 0||rm(Bp(t,"value"),e,n)},rm=function(t,e,n){const r=n instanceof Je?new e6(n,t):n;if(e===void 0)throw new Error(t+"contains undefined "+Ho(r));if(typeof e=="function")throw new Error(t+"contains a function "+Ho(r)+" with contents = "+e.toString());if(dw(e))throw new Error(t+"contains "+e.toString()+" "+Ho(r));if(typeof e=="string"&&e.length>Ay/3&&zp(e)>Ay)throw new Error(t+"contains a string greater than "+Ay+" utf8 bytes "+Ho(r)+" ('"+e.substring(0,50)+"...')");if(e&&typeof e=="object"){let i=!1,o=!1;if(on(e,(l,c)=>{if(l===".value")i=!0;else if(l!==".priority"&&l!==".sv"&&(o=!0,!Fw(l)))throw new Error(t+" contains an invalid key ("+l+") "+Ho(r)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);t6(r,l),rm(t,c,r),n6(r)}),i&&o)throw new Error(t+' contains ".value" child '+Ho(r)+" in addition to actual children.")}},FF=function(t,e){let n,r;for(n=0;n<e.length;n++){r=e[n];const o=id(r);for(let l=0;l<o.length;l++)if(!(o[l]===".priority"&&l===o.length-1)){if(!Fw(o[l]))throw new Error(t+"contains an invalid key ("+o[l]+") in path "+r.toString()+`. Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`)}}e.sort(Zj);let i=null;for(n=0;n<e.length;n++){if(r=e[n],i!==null&&yr(i,r))throw new Error(t+"contains a path "+i.toString()+" that is ancestor of another path "+r.toString());i=r}},$F=function(t,e,n,r){const i=Bp(t,"values");if(!(e&&typeof e=="object")||Array.isArray(e))throw new Error(i+" must be an object containing the children to replace.");const o=[];on(e,(l,c)=>{const d=new Je(l);if(rm(i,c,Et(n,d)),gw(d)===".priority"&&!jF(c))throw new Error(i+"contains an invalid value for '"+d.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");o.push(d)}),FF(i,o)},bI=function(t,e,n,r){if(!_I(n))throw new Error(Bp(t,e)+'was an invalid path = "'+n+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},UF=function(t,e,n,r){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),bI(t,e,n)},EI=function(t,e){if(Le(e)===".info")throw new Error(t+" failed = Can't modify data under /.info/")},VF=function(t,e){const n=e.path.toString();if(typeof e.repoInfo.host!="string"||e.repoInfo.host.length===0||!Fw(e.repoInfo.namespace)&&e.repoInfo.host.split(":")[0]!=="localhost"||n.length!==0&&!LF(n))throw new Error(Bp(t,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BF{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function im(t,e){let n=null;for(let r=0;r<e.length;r++){const i=e[r],o=i.getPath();n!==null&&!yw(o,n.path)&&(t.eventLists_.push(n),n=null),n===null&&(n={events:[],path:o}),n.events.push(i)}n&&t.eventLists_.push(n)}function SI(t,e,n){im(t,n),CI(t,r=>yw(r,e))}function _r(t,e,n){im(t,n),CI(t,r=>yr(r,e)||yr(e,r))}function CI(t,e){t.recursionDepth_++;let n=!0;for(let r=0;r<t.eventLists_.length;r++){const i=t.eventLists_[r];if(i){const o=i.path;e(o)?(zF(t.eventLists_[r]),t.eventLists_[r]=null):n=!1}}n&&(t.eventLists_=[]),t.recursionDepth_--}function zF(t){for(let e=0;e<t.events.length;e++){const n=t.events[e];if(n!==null){t.events[e]=null;const r=n.getEventRunner();Ru&&sn("event: "+n.toString()),rc(r)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WF="repo_interrupt",HF=25;class qF{constructor(e,n,r,i){this.repoInfo_=e,this.forceRestClient_=n,this.authTokenProvider_=r,this.appCheckProvider_=i,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new BF,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=fp(),this.transactionQueueTree_=new Lw,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function GF(t,e,n){if(t.stats_=pw(t.repoInfo_),t.forceRestClient_||Sj())t.server_=new hp(t.repoInfo_,(r,i,o,l)=>{BE(t,r,i,o,l)},t.authTokenProvider_,t.appCheckProvider_),setTimeout(()=>zE(t,!0),0);else{if(typeof n<"u"&&n!==null){if(typeof n!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{Ut(n)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}t.persistentConnection_=new Qi(t.repoInfo_,e,(r,i,o,l)=>{BE(t,r,i,o,l)},r=>{zE(t,r)},r=>{KF(t,r)},t.authTokenProvider_,t.appCheckProvider_,n),t.server_=t.persistentConnection_}t.authTokenProvider_.addTokenChangeListener(r=>{t.server_.refreshAuthToken(r)}),t.appCheckProvider_.addTokenChangeListener(r=>{t.server_.refreshAppCheckToken(r.token)}),t.statsReporter_=Pj(t.repoInfo_,()=>new I6(t.stats_,t.server_)),t.infoData_=new E6,t.infoSyncTree_=new UE({startListening:(r,i,o,l)=>{let c=[];const d=t.infoData_.getNode(r._path);return d.isEmpty()||(c=Md(t.infoSyncTree_,r._path,d),setTimeout(()=>{l("ok")},0)),c},stopListening:()=>{}}),$w(t,"connected",!1),t.serverSyncTree_=new UE({startListening:(r,i,o,l)=>(t.server_.listen(r,o,i,(c,d)=>{const f=l(c,d);_r(t.eventQueue_,r._path,f)}),[]),stopListening:(r,i)=>{t.server_.unlisten(r,i)}})}function TI(t){const n=t.infoData_.getNode(new Je(".info/serverTimeOffset")).val()||0;return new Date().getTime()+n}function sm(t){return IF({timestamp:TI(t)})}function BE(t,e,n,r,i){t.dataUpdateCount++;const o=new Je(e);n=t.interceptServerDataCallback_?t.interceptServerDataCallback_(e,n):n;let l=[];if(i)if(r){const d=ep(n,f=>$t(f));l=bF(t.serverSyncTree_,o,d,i)}else{const d=$t(n);l=dI(t.serverSyncTree_,o,d,i)}else if(r){const d=ep(n,f=>$t(f));l=wF(t.serverSyncTree_,o,d)}else{const d=$t(n);l=Md(t.serverSyncTree_,o,d)}let c=o;l.length>0&&(c=Wl(t,o)),_r(t.eventQueue_,c,l)}function zE(t,e){$w(t,"connected",e),e===!1&&QF(t)}function KF(t,e){on(e,(n,r)=>{$w(t,n,r)})}function $w(t,e,n){const r=new Je("/.info/"+e),i=$t(n);t.infoData_.updateSnapshot(r,i);const o=Md(t.infoSyncTree_,r,i);_r(t.eventQueue_,r,o)}function Uw(t){return t.nextWriteId_++}function YF(t,e,n){const r=EF(t.serverSyncTree_,e);return r!=null?Promise.resolve(r):t.server_.get(e).then(i=>{const o=$t(i).withIndex(e._queryParams.getIndex());U0(t.serverSyncTree_,e,n,!0);let l;if(e._queryParams.loadsAllData())l=Md(t.serverSyncTree_,e._path,o);else{const c=cd(t.serverSyncTree_,e);l=dI(t.serverSyncTree_,e._path,o,c)}return _r(t.eventQueue_,e._path,l),xp(t.serverSyncTree_,e,n,null,!0),o},i=>(jd(t,"get for query "+Ut(e)+" failed: "+i),Promise.reject(new Error(i))))}function XF(t,e,n,r,i){jd(t,"set",{path:e.toString(),value:n,priority:r});const o=sm(t),l=$t(n,r),c=Pw(t.serverSyncTree_,e),d=gI(l,c,o),f=Uw(t),m=uI(t.serverSyncTree_,e,d,f,!0);im(t.eventQueue_,m),t.server_.put(e.toString(),l.val(!0),(y,C)=>{const S=y==="ok";S||Sn("set at "+e+" failed: "+y);const k=Ys(t.serverSyncTree_,f,!S);_r(t.eventQueue_,e,k),z0(t,i,y,C)});const g=Bw(t,e);Wl(t,g),_r(t.eventQueue_,g,[])}function JF(t,e,n,r){jd(t,"update",{path:e.toString(),value:n});let i=!0;const o=sm(t),l={};if(on(n,(c,d)=>{i=!1,l[c]=mI(Et(e,c),$t(d),t.serverSyncTree_,o)}),i)sn("update() called with empty data.  Don't do anything."),z0(t,r,"ok",void 0);else{const c=Uw(t),d=vF(t.serverSyncTree_,e,l,c);im(t.eventQueue_,d),t.server_.merge(e.toString(),n,(f,m)=>{const g=f==="ok";g||Sn("update at "+e+" failed: "+f);const y=Ys(t.serverSyncTree_,c,!g),C=y.length>0?Wl(t,e):e;_r(t.eventQueue_,C,y),z0(t,r,f,m)}),on(n,f=>{const m=Bw(t,Et(e,f));Wl(t,m)}),_r(t.eventQueue_,e,[])}}function QF(t){jd(t,"onDisconnectEvents");const e=sm(t),n=fp();D0(t.onDisconnect_,He(),(i,o)=>{const l=mI(i,o,t.serverSyncTree_,e);Yk(n,i,l)});let r=[];D0(n,He(),(i,o)=>{r=r.concat(Md(t.serverSyncTree_,i,o));const l=Bw(t,i);Wl(t,l)}),t.onDisconnect_=fp(),_r(t.eventQueue_,He(),r)}function ZF(t,e,n){let r;Le(e._path)===".info"?r=U0(t.infoSyncTree_,e,n):r=U0(t.serverSyncTree_,e,n),SI(t.eventQueue_,e._path,r)}function B0(t,e,n){let r;Le(e._path)===".info"?r=xp(t.infoSyncTree_,e,n):r=xp(t.serverSyncTree_,e,n),SI(t.eventQueue_,e._path,r)}function e7(t){t.persistentConnection_&&t.persistentConnection_.interrupt(WF)}function jd(t,...e){let n="";t.persistentConnection_&&(n=t.persistentConnection_.id+":"),sn(n,...e)}function z0(t,e,n,r){e&&rc(()=>{if(n==="ok")e(null);else{const i=(n||"error").toUpperCase();let o=i;r&&(o+=": "+r);const l=new Error(o);l.code=i,e(l)}})}function kI(t,e,n){return Pw(t.serverSyncTree_,e,n)||Ae.EMPTY_NODE}function Vw(t,e=t.transactionQueueTree_){if(e||om(t,e),sc(e)){const n=PI(t,e);le(n.length>0,"Sending zero length transaction queue"),n.every(i=>i.status===0)&&t7(t,Ld(e),n)}else vI(e)&&nm(e,n=>{Vw(t,n)})}function t7(t,e,n){const r=n.map(f=>f.currentWriteId),i=kI(t,e,r);let o=i;const l=i.hash();for(let f=0;f<n.length;f++){const m=n[f];le(m.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),m.status=1,m.retryCount++;const g=bn(e,m.path);o=o.updateChild(g,m.currentOutputSnapshotRaw)}const c=o.val(!0),d=e;t.server_.put(d.toString(),c,f=>{jd(t,"transaction put response",{path:d.toString(),status:f});let m=[];if(f==="ok"){const g=[];for(let y=0;y<n.length;y++)n[y].status=2,m=m.concat(Ys(t.serverSyncTree_,n[y].currentWriteId)),n[y].onComplete&&g.push(()=>n[y].onComplete(null,!0,n[y].currentOutputSnapshotResolved)),n[y].unwatcher();om(t,jw(t.transactionQueueTree_,e)),Vw(t,t.transactionQueueTree_),_r(t.eventQueue_,e,m);for(let y=0;y<g.length;y++)rc(g[y])}else{if(f==="datastale")for(let g=0;g<n.length;g++)n[g].status===3?n[g].status=4:n[g].status=0;else{Sn("transaction at "+d.toString()+" failed: "+f);for(let g=0;g<n.length;g++)n[g].status=4,n[g].abortReason=f}Wl(t,e)}},l)}function Wl(t,e){const n=II(t,e),r=Ld(n),i=PI(t,n);return n7(t,i,r),r}function n7(t,e,n){if(e.length===0)return;const r=[];let i=[];const l=e.filter(c=>c.status===0).map(c=>c.currentWriteId);for(let c=0;c<e.length;c++){const d=e[c],f=bn(n,d.path);let m=!1,g;if(le(f!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),d.status===4)m=!0,g=d.abortReason,i=i.concat(Ys(t.serverSyncTree_,d.currentWriteId,!0));else if(d.status===0)if(d.retryCount>=HF)m=!0,g="maxretry",i=i.concat(Ys(t.serverSyncTree_,d.currentWriteId,!0));else{const y=kI(t,d.path,l);d.currentInputSnapshot=y;const C=e[c].update(y.val());if(C!==void 0){rm("transaction failed: Data returned ",C,d.path);let S=$t(C);typeof C=="object"&&C!=null&&xi(C,".priority")||(S=S.updatePriority(y.getPriority()));const P=d.currentWriteId,N=sm(t),M=gI(S,y,N);d.currentOutputSnapshotRaw=S,d.currentOutputSnapshotResolved=M,d.currentWriteId=Uw(t),l.splice(l.indexOf(P),1),i=i.concat(uI(t.serverSyncTree_,d.path,M,d.currentWriteId,d.applyLocally)),i=i.concat(Ys(t.serverSyncTree_,P,!0))}else m=!0,g="nodata",i=i.concat(Ys(t.serverSyncTree_,d.currentWriteId,!0))}_r(t.eventQueue_,n,i),i=[],m&&(e[c].status=2,function(y){setTimeout(y,Math.floor(0))}(e[c].unwatcher),e[c].onComplete&&(g==="nodata"?r.push(()=>e[c].onComplete(null,!1,e[c].currentInputSnapshot)):r.push(()=>e[c].onComplete(new Error(g),!1,null))))}om(t,t.transactionQueueTree_);for(let c=0;c<r.length;c++)rc(r[c]);Vw(t,t.transactionQueueTree_)}function II(t,e){let n,r=t.transactionQueueTree_;for(n=Le(e);n!==null&&sc(r)===void 0;)r=jw(r,n),e=st(e),n=Le(e);return r}function PI(t,e){const n=[];return RI(t,e,n),n.sort((r,i)=>r.order-i.order),n}function RI(t,e,n){const r=sc(e);if(r)for(let i=0;i<r.length;i++)n.push(r[i]);nm(e,i=>{RI(t,i,n)})}function om(t,e){const n=sc(e);if(n){let r=0;for(let i=0;i<n.length;i++)n[i].status!==2&&(n[r]=n[i],r++);n.length=r,yI(e,n.length>0?n:void 0)}nm(e,r=>{om(t,r)})}function Bw(t,e){const n=Ld(II(t,e)),r=jw(t.transactionQueueTree_,e);return NF(r,i=>{Ny(t,i)}),Ny(t,r),wI(r,i=>{Ny(t,i)}),n}function Ny(t,e){const n=sc(e);if(n){const r=[];let i=[],o=-1;for(let l=0;l<n.length;l++)n[l].status===3||(n[l].status===1?(le(o===l-1,"All SENT items should be at beginning of queue."),o=l,n[l].status=3,n[l].abortReason="set"):(le(n[l].status===0,"Unexpected transaction status in abort"),n[l].unwatcher(),i=i.concat(Ys(t.serverSyncTree_,n[l].currentWriteId,!0)),n[l].onComplete&&r.push(n[l].onComplete.bind(null,new Error("set"),!1,null))));o===-1?yI(e,void 0):n.length=o+1,_r(t.eventQueue_,Ld(e),i);for(let l=0;l<r.length;l++)rc(r[l])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function r7(t){let e="";const n=t.split("/");for(let r=0;r<n.length;r++)if(n[r].length>0){let i=n[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch{}e+="/"+i}return e}function i7(t){const e={};t.charAt(0)==="?"&&(t=t.substring(1));for(const n of t.split("&")){if(n.length===0)continue;const r=n.split("=");r.length===2?e[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):Sn(`Invalid query segment '${n}' in query '${t}'`)}return e}const WE=function(t,e){const n=s7(t),r=n.namespace;n.domain==="firebase.com"&&ss(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||r==="undefined")&&n.domain!=="localhost"&&ss("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||mj();const i=n.scheme==="ws"||n.scheme==="wss";return{repoInfo:new Nk(n.host,n.secure,r,i,e,"",r!==n.subdomain),path:new Je(n.pathString)}},s7=function(t){let e="",n="",r="",i="",o="",l=!0,c="https",d=443;if(typeof t=="string"){let f=t.indexOf("//");f>=0&&(c=t.substring(0,f-1),t=t.substring(f+2));let m=t.indexOf("/");m===-1&&(m=t.length);let g=t.indexOf("?");g===-1&&(g=t.length),e=t.substring(0,Math.min(m,g)),m<g&&(i=r7(t.substring(m,g)));const y=i7(t.substring(Math.min(t.length,g)));f=e.indexOf(":"),f>=0?(l=c==="https"||c==="wss",d=parseInt(e.substring(f+1),10)):f=e.length;const C=e.slice(0,f);if(C.toLowerCase()==="localhost")n="localhost";else if(C.split(".").length<=2)n=C;else{const S=e.indexOf(".");r=e.substring(0,S).toLowerCase(),n=e.substring(S+1),o=r}"ns"in y&&(o=y.ns)}return{host:e,port:d,domain:n,subdomain:r,secure:l,scheme:c,pathString:i,namespace:o}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HE="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",o7=function(){let t=0;const e=[];return function(n){const r=n===t;t=n;let i;const o=new Array(8);for(i=7;i>=0;i--)o[i]=HE.charAt(n%64),n=Math.floor(n/64);le(n===0,"Cannot push at time == 0");let l=o.join("");if(r){for(i=11;i>=0&&e[i]===63;i--)e[i]=0;e[i]++}else for(i=0;i<12;i++)e[i]=Math.floor(Math.random()*64);for(i=0;i<12;i++)l+=HE.charAt(e[i]);return le(l.length===20,"nextPushId: Length should be 20."),l}}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a7{constructor(e,n,r,i){this.eventType=e,this.eventRegistration=n,this.snapshot=r,this.prevName=i}getPath(){const e=this.snapshot.ref;return this.eventType==="value"?e._path:e.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+Ut(this.snapshot.exportVal())}}class l7{constructor(e,n,r){this.eventRegistration=e,this.error=n,this.path=r}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zw{constructor(e,n){this.snapshotCallback=e,this.cancelCallback=n}onValue(e,n){this.snapshotCallback.call(null,e,n)}onCancel(e){return le(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}get hasCancelCallback(){return!!this.cancelCallback}matches(e){return this.snapshotCallback===e.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ww{constructor(e,n,r,i){this._repo=e,this._path=n,this._queryParams=r,this._orderByCalled=i}get key(){return Fe(this._path)?null:gw(this._path)}get ref(){return new hs(this._repo,this._path)}get _queryIdentifier(){const e=RE(this._queryParams),n=hw(e);return n==="{}"?"default":n}get _queryObject(){return RE(this._queryParams)}isEqual(e){if(e=ht(e),!(e instanceof Ww))return!1;const n=this._repo===e._repo,r=yw(this._path,e._path),i=this._queryIdentifier===e._queryIdentifier;return n&&r&&i}toJSON(){return this.toString()}toString(){return this._repo.toString()+Qj(this._path)}}class hs extends Ww{constructor(e,n){super(e,n,new xw,!1)}get parent(){const e=Vk(this._path);return e===null?null:new hs(this._repo,e)}get root(){let e=this;for(;e.parent!==null;)e=e.parent;return e}}class ud{constructor(e,n,r){this._node=e,this.ref=n,this._index=r}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(e){const n=new Je(e),r=dd(this.ref,e);return new ud(this._node.getChild(n),r,Ct)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(e){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(r,i)=>e(new ud(i,dd(this.ref,r),Ct)))}hasChild(e){const n=new Je(e);return!this._node.getChild(n).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function be(t,e){return t=ht(t),t._checkNotDeleted("ref"),e!==void 0?dd(t._root,e):t._root}function dd(t,e){return t=ht(t),Le(t._path)===null?UF("child","path",e):bI("child","path",e),new hs(t._repo,Et(t._path,e))}function Tl(t,e){t=ht(t),EI("push",t._path),xI("push",e,t._path,!0);const n=TI(t._repo),r=o7(n),i=dd(t,r),o=dd(t,r);let l;return e!=null?l=St(o,e).then(()=>o):l=Promise.resolve(o),i.then=l.then.bind(l),i.catch=l.then.bind(l,void 0),i}function St(t,e){t=ht(t),EI("set",t._path),xI("set",e,t._path,!1);const n=new Td;return XF(t._repo,t._path,e,null,n.wrapCallback(()=>{})),n.promise}function oo(t,e){$F("update",e,t._path);const n=new Td;return JF(t._repo,t._path,e,n.wrapCallback(()=>{})),n.promise}function Zi(t){t=ht(t);const e=new zw(()=>{}),n=new Fd(e);return YF(t._repo,t,n).then(r=>new ud(r,new hs(t._repo,t._path),t._queryParams.getIndex()))}class Fd{constructor(e){this.callbackContext=e}respondsTo(e){return e==="value"}createEvent(e,n){const r=n._queryParams.getIndex();return new a7("value",this,new ud(e.snapshotNode,new hs(n._repo,n._path),r))}getEventRunner(e){return e.getEventType()==="cancel"?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,null)}createCancelEvent(e,n){return this.callbackContext.hasCancelCallback?new l7(this,e,n):null}matches(e){return e instanceof Fd?!e.callbackContext||!this.callbackContext?!0:e.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}}function c7(t,e,n,r,i){let o;if(typeof r=="object"&&(o=void 0,i=r),typeof r=="function"&&(o=r),i&&i.onlyOnce){const d=n,f=(m,g)=>{B0(t._repo,t,c),d(m,g)};f.userCallback=n.userCallback,f.context=n.context,n=f}const l=new zw(n,o||void 0),c=new Fd(l);return ZF(t._repo,t,c),()=>B0(t._repo,t,c)}function Pt(t,e,n,r){return c7(t,"value",e,n,r)}function hd(t,e,n){let r=null;const i=n?new zw(n):null;r=new Fd(i),B0(t._repo,t,r)}uF(hs);mF(hs);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u7="FIREBASE_DATABASE_EMULATOR_HOST",W0={};let d7=!1;function h7(t,e,n,r){const i=e.lastIndexOf(":"),o=e.substring(0,i),l=uo(o);t.repoInfo_=new Nk(e,l,t.repoInfo_.namespace,t.repoInfo_.webSocketOnly,t.repoInfo_.nodeAdmin,t.repoInfo_.persistenceKey,t.repoInfo_.includeNamespaceInQueryParams,!0,n),r&&(t.authTokenProvider_=r)}function f7(t,e,n,r,i){let o=r||t.options.databaseURL;o===void 0&&(t.options.projectId||ss("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),sn("Using default host for project ",t.options.projectId),o=`${t.options.projectId}-default-rtdb.firebaseio.com`);let l=WE(o,i),c=l.repoInfo,d;typeof process<"u"&&hE&&(d=hE[u7]),d?(o=`http://${d}?ns=${c.namespace}`,l=WE(o,i),c=l.repoInfo):l.repoInfo.secure;const f=new Tj(t.name,t.options,e);VF("Invalid Firebase Database URL",l),Fe(l.path)||ss("Database URL must point to the root of a Firebase Database (not including a child path).");const m=m7(c,t,f,new Cj(t,n));return new g7(m,t)}function p7(t,e){const n=W0[e];(!n||n[t.key]!==t)&&ss(`Database ${e}(${t.repoInfo_}) has already been deleted.`),e7(t),delete n[t.key]}function m7(t,e,n,r){let i=W0[e.name];i||(i={},W0[e.name]=i);let o=i[t.toURLString()];return o&&ss("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),o=new qF(t,d7,n,r),i[t.toURLString()]=o,o}class g7{constructor(e,n){this._repoInternal=e,this.app=n,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(GF(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0,ho("Database",this._repo.repoInfo_.emulatorOptions!==null)),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new hs(this._repo,He())),this._rootInternal}_delete(){return this._rootInternal!==null&&(p7(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){this._rootInternal===null&&ss("Cannot call "+e+" on a deleted database.")}}function Hw(t=kd(),e){const n=fo(t,"database").getImmediate({identifier:e});if(!n._instanceStarted){const r=Bv("database");r&&AI(n,...r)}return n}function AI(t,e,n,r={}){t=ht(t),t._checkNotDeleted("useEmulator");const i=`${e}:${n}`,o=t._repoInternal;if(t._instanceStarted){if(i===t._repoInternal.repoInfo_.host&&no(r,o.repoInfo_.emulatorOptions))return;ss("connectDatabaseEmulator() cannot initialize or alter the emulator configuration after the database instance has started.")}let l;if(o.repoInfo_.nodeAdmin)r.mockUserToken&&ss('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),l=new Vf(Vf.OWNER);else if(r.mockUserToken){const c=typeof r.mockUserToken=="string"?r.mockUserToken:zv(r.mockUserToken,t.app.options.projectId);l=new Vf(c)}uo(e)&&(Vp(e),ho("Database",!0)),h7(o,i,r,l)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function y7(t){cj(po),er(new Un("database",(e,{instanceIdentifier:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal"),o=e.getProvider("app-check-internal");return f7(r,i,o,n)},"PUBLIC").setMultipleInstances(!0)),Yt(fE,pE,t),Yt(fE,pE,"esm2017")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v7={".sv":"timestamp"};function w7(){return v7}Qi.prototype.simpleListen=function(t,e){this.sendRequest("q",{p:t},e)};Qi.prototype.echo=function(t,e){this.sendRequest("echo",{d:t},e)};y7();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NI="firebasestorage.googleapis.com",OI="storageBucket",_7=2*60*1e3,x7=10*60*1e3,b7=1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vt extends Xr{constructor(e,n,r=0){super(Oy(e),`Firebase Storage: ${n} (${Oy(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,vt.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Oy(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var lt;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(lt||(lt={}));function Oy(t){return"storage/"+t}function qw(){const t="An unknown error occurred, please check the error payload for server response.";return new vt(lt.UNKNOWN,t)}function E7(t){return new vt(lt.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function S7(t){return new vt(lt.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function C7(){const t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new vt(lt.UNAUTHENTICATED,t)}function T7(){return new vt(lt.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function k7(t){return new vt(lt.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function DI(){return new vt(lt.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function MI(){return new vt(lt.CANCELED,"User canceled the upload/download.")}function I7(t){return new vt(lt.INVALID_URL,"Invalid URL '"+t+"'.")}function P7(t){return new vt(lt.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function R7(){return new vt(lt.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+OI+"' property when initializing the app?")}function LI(){return new vt(lt.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function A7(){return new vt(lt.SERVER_FILE_WRONG_SIZE,"Server recorded incorrect upload file size, please retry the upload.")}function N7(){return new vt(lt.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function O7(t){return new vt(lt.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function H0(t){return new vt(lt.INVALID_ARGUMENT,t)}function jI(){return new vt(lt.APP_DELETED,"The Firebase app was deleted.")}function D7(t){return new vt(lt.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Mu(t,e){return new vt(lt.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function pu(t){throw new vt(lt.INTERNAL_ERROR,"Internal error: "+t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jn{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=Jn.makeFromUrl(e,n)}catch{return new Jn(e,"")}if(r.path==="")return r;throw P7(e)}static makeFromUrl(e,n){let r=null;const i="([A-Za-z0-9.\\-_]+)";function o(U){U.path.charAt(U.path.length-1)==="/"&&(U.path_=U.path_.slice(0,-1))}const l="(/(.*))?$",c=new RegExp("^gs://"+i+l,"i"),d={bucket:1,path:3};function f(U){U.path_=decodeURIComponent(U.path)}const m="v[A-Za-z0-9_]+",g=n.replace(/[.]/g,"\\."),y="(/([^?#]*).*)?$",C=new RegExp(`^https?://${g}/${m}/b/${i}/o${y}`,"i"),S={bucket:1,path:3},k=n===NI?"(?:storage.googleapis.com|storage.cloud.google.com)":n,P="([^?#]*)",N=new RegExp(`^https?://${k}/${i}/${P}`,"i"),O=[{regex:c,indices:d,postModify:o},{regex:C,indices:S,postModify:f},{regex:N,indices:{bucket:1,path:2},postModify:f}];for(let U=0;U<O.length;U++){const B=O[U],H=B.regex.exec(e);if(H){const D=H[B.indices.bucket];let I=H[B.indices.path];I||(I=""),r=new Jn(D,I),B.postModify(r);break}}if(r==null)throw I7(e);return r}}class M7{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function L7(t,e,n){let r=1,i=null,o=null,l=!1,c=0;function d(){return c===2}let f=!1;function m(...P){f||(f=!0,e.apply(null,P))}function g(P){i=setTimeout(()=>{i=null,t(C,d())},P)}function y(){o&&clearTimeout(o)}function C(P,...N){if(f){y();return}if(P){y(),m.call(null,P,...N);return}if(d()||l){y(),m.call(null,P,...N);return}r<64&&(r*=2);let O;c===1?(c=2,O=0):O=(r+Math.random())*1e3,g(O)}let S=!1;function k(P){S||(S=!0,y(),!f&&(i!==null?(P||(c=2),clearTimeout(i),g(0)):P||(c=1)))}return g(0),o=setTimeout(()=>{l=!0,k(!0)},n),k}function j7(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function F7(t){return t!==void 0}function $7(t){return typeof t=="function"}function U7(t){return typeof t=="object"&&!Array.isArray(t)}function am(t){return typeof t=="string"||t instanceof String}function qE(t){return Gw()&&t instanceof Blob}function Gw(){return typeof Blob<"u"}function GE(t,e,n,r){if(r<e)throw H0(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw H0(`Invalid value for '${t}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $d(t,e,n){let r=e;return n==null&&(r=`https://${e}`),`${n}://${r}/v0${t}`}function FI(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const i=e(r)+"="+e(t[r]);n=n+i+"&"}return n=n.slice(0,-1),n}var ia;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(ia||(ia={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $I(t,e){const n=t>=500&&t<600,i=[408,429].indexOf(t)!==-1,o=e.indexOf(t)!==-1;return n||i||o}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V7{constructor(e,n,r,i,o,l,c,d,f,m,g,y=!0,C=!1){this.url_=e,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=o,this.additionalRetryCodes_=l,this.callback_=c,this.errorCallback_=d,this.timeout_=f,this.progressCallback_=m,this.connectionFactory_=g,this.retry=y,this.isUsingEmulator=C,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((S,k)=>{this.resolve_=S,this.reject_=k,this.start_()})}start_(){const e=(r,i)=>{if(i){r(!1,new _f(!1,null,!0));return}const o=this.connectionFactory_();this.pendingConnection_=o;const l=c=>{const d=c.loaded,f=c.lengthComputable?c.total:-1;this.progressCallback_!==null&&this.progressCallback_(d,f)};this.progressCallback_!==null&&o.addUploadProgressListener(l),o.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&o.removeUploadProgressListener(l),this.pendingConnection_=null;const c=o.getErrorCode()===ia.NO_ERROR,d=o.getStatus();if(!c||$I(d,this.additionalRetryCodes_)&&this.retry){const m=o.getErrorCode()===ia.ABORT;r(!1,new _f(!1,null,m));return}const f=this.successCodes_.indexOf(d)!==-1;r(!0,new _f(f,o))})},n=(r,i)=>{const o=this.resolve_,l=this.reject_,c=i.connection;if(i.wasSuccessCode)try{const d=this.callback_(c,c.getResponse());F7(d)?o(d):o()}catch(d){l(d)}else if(c!==null){const d=qw();d.serverResponse=c.getErrorText(),this.errorCallback_?l(this.errorCallback_(c,d)):l(d)}else if(i.canceled){const d=this.appDelete_?jI():MI();l(d)}else{const d=DI();l(d)}};this.canceled_?n(!1,new _f(!1,null,!0)):this.backoffId_=L7(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&j7(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class _f{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function B7(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function z7(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function W7(t,e){e&&(t["X-Firebase-GMPID"]=e)}function H7(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function q7(t,e,n,r,i,o,l=!0,c=!1){const d=FI(t.urlParams),f=t.url+d,m=Object.assign({},t.headers);return W7(m,e),B7(m,n),z7(m,o),H7(m,r),new V7(f,t.method,m,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i,l,c)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function G7(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function K7(...t){const e=G7();if(e!==void 0){const n=new e;for(let r=0;r<t.length;r++)n.append(t[r]);return n.getBlob()}else{if(Gw())return new Blob(t);throw new vt(lt.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function Y7(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function X7(t){if(typeof atob>"u")throw O7("base-64");return atob(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pi={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class Dy{constructor(e,n){this.data=e,this.contentType=n||null}}function J7(t,e){switch(t){case pi.RAW:return new Dy(UI(e));case pi.BASE64:case pi.BASE64URL:return new Dy(VI(t,e));case pi.DATA_URL:return new Dy(Z7(e),e9(e))}throw qw()}function UI(t){const e=[];for(let n=0;n<t.length;n++){let r=t.charCodeAt(n);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(n<t.length-1&&(t.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{const o=r,l=t.charCodeAt(++n);r=65536|(o&1023)<<10|l&1023,e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(e)}function Q7(t){let e;try{e=decodeURIComponent(t)}catch{throw Mu(pi.DATA_URL,"Malformed data URL.")}return UI(e)}function VI(t,e){switch(t){case pi.BASE64:{const i=e.indexOf("-")!==-1,o=e.indexOf("_")!==-1;if(i||o)throw Mu(t,"Invalid character '"+(i?"-":"_")+"' found: is it base64url encoded?");break}case pi.BASE64URL:{const i=e.indexOf("+")!==-1,o=e.indexOf("/")!==-1;if(i||o)throw Mu(t,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=X7(e)}catch(i){throw i.message.includes("polyfill")?i:Mu(t,"Invalid character found")}const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}class BI{constructor(e){this.base64=!1,this.contentType=null;const n=e.match(/^data:([^,]+)?,/);if(n===null)throw Mu(pi.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=n[1]||null;r!=null&&(this.base64=t9(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}function Z7(t){const e=new BI(t);return e.base64?VI(pi.BASE64,e.rest):Q7(e.rest)}function e9(t){return new BI(t).contentType}function t9(t,e){return t.length>=e.length?t.substring(t.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qs{constructor(e,n){let r=0,i="";qE(e)?(this.data_=e,r=e.size,i=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=i}size(){return this.size_}type(){return this.type_}slice(e,n){if(qE(this.data_)){const r=this.data_,i=Y7(r,e,n);return i===null?null:new qs(i)}else{const r=new Uint8Array(this.data_.buffer,e,n-e);return new qs(r,!0)}}static getBlob(...e){if(Gw()){const n=e.map(r=>r instanceof qs?r.data_:r);return new qs(K7.apply(null,n))}else{const n=e.map(l=>am(l)?J7(pi.RAW,l).data:l.data_);let r=0;n.forEach(l=>{r+=l.byteLength});const i=new Uint8Array(r);let o=0;return n.forEach(l=>{for(let c=0;c<l.length;c++)i[o++]=l[c]}),new qs(i,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zI(t){let e;try{e=JSON.parse(t)}catch{return null}return U7(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function n9(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function r9(t,e){const n=e.split("/").filter(r=>r.length>0).join("/");return t.length===0?n:t+"/"+n}function WI(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function i9(t,e){return e}class _n{constructor(e,n,r,i){this.server=e,this.local=n||e,this.writable=!!r,this.xform=i||i9}}let xf=null;function s9(t){return!am(t)||t.length<2?t:WI(t)}function HI(){if(xf)return xf;const t=[];t.push(new _n("bucket")),t.push(new _n("generation")),t.push(new _n("metageneration")),t.push(new _n("name","fullPath",!0));function e(o,l){return s9(l)}const n=new _n("name");n.xform=e,t.push(n);function r(o,l){return l!==void 0?Number(l):l}const i=new _n("size");return i.xform=r,t.push(i),t.push(new _n("timeCreated")),t.push(new _n("updated")),t.push(new _n("md5Hash",null,!0)),t.push(new _n("cacheControl",null,!0)),t.push(new _n("contentDisposition",null,!0)),t.push(new _n("contentEncoding",null,!0)),t.push(new _n("contentLanguage",null,!0)),t.push(new _n("contentType",null,!0)),t.push(new _n("metadata","customMetadata",!0)),xf=t,xf}function o9(t,e){function n(){const r=t.bucket,i=t.fullPath,o=new Jn(r,i);return e._makeStorageReference(o)}Object.defineProperty(t,"ref",{get:n})}function a9(t,e,n){const r={};r.type="file";const i=n.length;for(let o=0;o<i;o++){const l=n[o];r[l.local]=l.xform(r,e[l.server])}return o9(r,t),r}function qI(t,e,n){const r=zI(e);return r===null?null:a9(t,r,n)}function l9(t,e,n,r){const i=zI(e);if(i===null||!am(i.downloadTokens))return null;const o=i.downloadTokens;if(o.length===0)return null;const l=encodeURIComponent;return o.split(",").map(f=>{const m=t.bucket,g=t.fullPath,y="/b/"+l(m)+"/o/"+l(g),C=$d(y,n,r),S=FI({alt:"media",token:f});return C+S})[0]}function GI(t,e){const n={},r=e.length;for(let i=0;i<r;i++){const o=e[i];o.writable&&(n[o.server]=t[o.local])}return JSON.stringify(n)}class oc{constructor(e,n,r,i){this.url=e,this.method=n,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function es(t){if(!t)throw qw()}function Kw(t,e){function n(r,i){const o=qI(t,i,e);return es(o!==null),o}return n}function c9(t,e){function n(r,i){const o=qI(t,i,e);return es(o!==null),l9(o,i,t.host,t._protocol)}return n}function Ud(t){function e(n,r){let i;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?i=T7():i=C7():n.getStatus()===402?i=S7(t.bucket):n.getStatus()===403?i=k7(t.path):i=r,i.status=n.getStatus(),i.serverResponse=r.serverResponse,i}return e}function KI(t){const e=Ud(t);function n(r,i){let o=e(r,i);return r.getStatus()===404&&(o=E7(t.path)),o.serverResponse=i.serverResponse,o}return n}function u9(t,e,n){const r=e.fullServerUrl(),i=$d(r,t.host,t._protocol),o="GET",l=t.maxOperationRetryTime,c=new oc(i,o,Kw(t,n),l);return c.errorHandler=KI(e),c}function d9(t,e,n){const r=e.fullServerUrl(),i=$d(r,t.host,t._protocol),o="GET",l=t.maxOperationRetryTime,c=new oc(i,o,c9(t,n),l);return c.errorHandler=KI(e),c}function h9(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function YI(t,e,n){const r=Object.assign({},n);return r.fullPath=t.path,r.size=e.size(),r.contentType||(r.contentType=h9(null,e)),r}function f9(t,e,n,r,i){const o=e.bucketOnlyServerUrl(),l={"X-Goog-Upload-Protocol":"multipart"};function c(){let O="";for(let U=0;U<2;U++)O=O+Math.random().toString().slice(2);return O}const d=c();l["Content-Type"]="multipart/related; boundary="+d;const f=YI(e,r,i),m=GI(f,n),g="--"+d+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+m+`\r
--`+d+`\r
Content-Type: `+f.contentType+`\r
\r
`,y=`\r
--`+d+"--",C=qs.getBlob(g,r,y);if(C===null)throw LI();const S={name:f.fullPath},k=$d(o,t.host,t._protocol),P="POST",N=t.maxUploadRetryTime,M=new oc(k,P,Kw(t,n),N);return M.urlParams=S,M.headers=l,M.body=C.uploadData(),M.errorHandler=Ud(e),M}class bp{constructor(e,n,r,i){this.current=e,this.total=n,this.finalized=!!r,this.metadata=i||null}}function Yw(t,e){let n=null;try{n=t.getResponseHeader("X-Goog-Upload-Status")}catch{es(!1)}return es(!!n&&(e||["active"]).indexOf(n)!==-1),n}function p9(t,e,n,r,i){const o=e.bucketOnlyServerUrl(),l=YI(e,r,i),c={name:l.fullPath},d=$d(o,t.host,t._protocol),f="POST",m={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${r.size()}`,"X-Goog-Upload-Header-Content-Type":l.contentType,"Content-Type":"application/json; charset=utf-8"},g=GI(l,n),y=t.maxUploadRetryTime;function C(k){Yw(k);let P;try{P=k.getResponseHeader("X-Goog-Upload-URL")}catch{es(!1)}return es(am(P)),P}const S=new oc(d,f,C,y);return S.urlParams=c,S.headers=m,S.body=g,S.errorHandler=Ud(e),S}function m9(t,e,n,r){const i={"X-Goog-Upload-Command":"query"};function o(f){const m=Yw(f,["active","final"]);let g=null;try{g=f.getResponseHeader("X-Goog-Upload-Size-Received")}catch{es(!1)}g||es(!1);const y=Number(g);return es(!isNaN(y)),new bp(y,r.size(),m==="final")}const l="POST",c=t.maxUploadRetryTime,d=new oc(n,l,o,c);return d.headers=i,d.errorHandler=Ud(e),d}const KE=256*1024;function g9(t,e,n,r,i,o,l,c){const d=new bp(0,0);if(l?(d.current=l.current,d.total=l.total):(d.current=0,d.total=r.size()),r.size()!==d.total)throw A7();const f=d.total-d.current;let m=f;i>0&&(m=Math.min(m,i));const g=d.current,y=g+m;let C="";m===0?C="finalize":f===m?C="upload, finalize":C="upload";const S={"X-Goog-Upload-Command":C,"X-Goog-Upload-Offset":`${d.current}`},k=r.slice(g,y);if(k===null)throw LI();function P(U,B){const H=Yw(U,["active","final"]),D=d.current+m,I=r.size();let A;return H==="final"?A=Kw(e,o)(U,B):A=null,new bp(D,I,H==="final",A)}const N="POST",M=e.maxUploadRetryTime,O=new oc(n,N,P,M);return O.headers=S,O.body=k.uploadData(),O.progressCallback=c||null,O.errorHandler=Ud(t),O}const Mn={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function My(t){switch(t){case"running":case"pausing":case"canceling":return Mn.RUNNING;case"paused":return Mn.PAUSED;case"success":return Mn.SUCCESS;case"canceled":return Mn.CANCELED;case"error":return Mn.ERROR;default:return Mn.ERROR}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y9{constructor(e,n,r){if($7(e)||n!=null||r!=null)this.next=e,this.error=n??void 0,this.complete=r??void 0;else{const o=e;this.next=o.next,this.error=o.error,this.complete=o.complete}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gl(t){return(...e)=>{Promise.resolve().then(()=>t(...e))}}class v9{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=ia.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=ia.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=ia.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,r,i,o){if(this.sent_)throw pu("cannot .send() more than once");if(uo(e)&&r&&(this.xhr_.withCredentials=!0),this.sent_=!0,this.xhr_.open(n,e,!0),o!==void 0)for(const l in o)o.hasOwnProperty(l)&&this.xhr_.setRequestHeader(l,o[l].toString());return i!==void 0?this.xhr_.send(i):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw pu("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw pu("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw pu("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw pu("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class w9 extends v9{initXhr(){this.xhr_.responseType="text"}}function El(){return new w9}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _9{isExponentialBackoffExpired(){return this.sleepTime>this.maxSleepTime}constructor(e,n,r=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=e,this._blob=n,this._metadata=r,this._mappings=HI(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=i=>{if(this._request=void 0,this._chunkMultiplier=1,i._codeEquals(lt.CANCELED))this._needToFetchStatus=!0,this.completeTransitions_();else{const o=this.isExponentialBackoffExpired();if($I(i.status,[]))if(o)i=DI();else{this.sleepTime=Math.max(this.sleepTime*2,b7),this._needToFetchStatus=!0,this.completeTransitions_();return}this._error=i,this._transition("error")}},this._metadataErrorHandler=i=>{this._request=void 0,i._codeEquals(lt.CANCELED)?this.completeTransitions_():(this._error=i,this._transition("error"))},this.sleepTime=0,this.maxSleepTime=this._ref.storage.maxUploadRetryTime,this._promise=new Promise((i,o)=>{this._resolve=i,this._reject=o,this._start()}),this._promise.then(null,()=>{})}_makeProgressCallback(){const e=this._transferred;return n=>this._updateProgress(e+n)}_shouldDoResumable(e){return e.size()>256*1024}_start(){this._state==="running"&&this._request===void 0&&(this._resumable?this._uploadUrl===void 0?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this.pendingTimeout=setTimeout(()=>{this.pendingTimeout=void 0,this._continueUpload()},this.sleepTime):this._oneShotUpload())}_resolveToken(e){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([n,r])=>{switch(this._state){case"running":e(n,r);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused");break}})}_createResumable(){this._resolveToken((e,n)=>{const r=p9(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),i=this._ref.storage._makeRequest(r,El,e,n);this._request=i,i.getPromise().then(o=>{this._request=void 0,this._uploadUrl=o,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const e=this._uploadUrl;this._resolveToken((n,r)=>{const i=m9(this._ref.storage,this._ref._location,e,this._blob),o=this._ref.storage._makeRequest(i,El,n,r);this._request=o,o.getPromise().then(l=>{l=l,this._request=void 0,this._updateProgress(l.current),this._needToFetchStatus=!1,l.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const e=KE*this._chunkMultiplier,n=new bp(this._transferred,this._blob.size()),r=this._uploadUrl;this._resolveToken((i,o)=>{let l;try{l=g9(this._ref._location,this._ref.storage,r,this._blob,e,this._mappings,n,this._makeProgressCallback())}catch(d){this._error=d,this._transition("error");return}const c=this._ref.storage._makeRequest(l,El,i,o,!1);this._request=c,c.getPromise().then(d=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(d.current),d.finalized?(this._metadata=d.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){KE*this._chunkMultiplier*2<32*1024*1024&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((e,n)=>{const r=u9(this._ref.storage,this._ref._location,this._mappings),i=this._ref.storage._makeRequest(r,El,e,n);this._request=i,i.getPromise().then(o=>{this._request=void 0,this._metadata=o,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((e,n)=>{const r=f9(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),i=this._ref.storage._makeRequest(r,El,e,n);this._request=i,i.getPromise().then(o=>{this._request=void 0,this._metadata=o,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(e){const n=this._transferred;this._transferred=e,this._transferred!==n&&this._notifyObservers()}_transition(e){if(this._state!==e)switch(e){case"canceling":case"pausing":this._state=e,this._request!==void 0?this._request.cancel():this.pendingTimeout&&(clearTimeout(this.pendingTimeout),this.pendingTimeout=void 0,this.completeTransitions_());break;case"running":const n=this._state==="paused";this._state=e,n&&(this._notifyObservers(),this._start());break;case"paused":this._state=e,this._notifyObservers();break;case"canceled":this._error=MI(),this._state=e,this._notifyObservers();break;case"error":this._state=e,this._notifyObservers();break;case"success":this._state=e,this._notifyObservers();break}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start();break}}get snapshot(){const e=My(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:e,metadata:this._metadata,task:this,ref:this._ref}}on(e,n,r,i){const o=new y9(n||void 0,r||void 0,i||void 0);return this._addObserver(o),()=>{this._removeObserver(o)}}then(e,n){return this._promise.then(e,n)}catch(e){return this.then(null,e)}_addObserver(e){this._observers.push(e),this._notifyObserver(e)}_removeObserver(e){const n=this._observers.indexOf(e);n!==-1&&this._observers.splice(n,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(n=>{this._notifyObserver(n)})}_finishPromise(){if(this._resolve!==void 0){let e=!0;switch(My(this._state)){case Mn.SUCCESS:gl(this._resolve.bind(null,this.snapshot))();break;case Mn.CANCELED:case Mn.ERROR:const n=this._reject;gl(n.bind(null,this._error))();break;default:e=!1;break}e&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(e){switch(My(this._state)){case Mn.RUNNING:case Mn.PAUSED:e.next&&gl(e.next.bind(e,this.snapshot))();break;case Mn.SUCCESS:e.complete&&gl(e.complete.bind(e))();break;case Mn.CANCELED:case Mn.ERROR:e.error&&gl(e.error.bind(e,this._error))();break;default:e.error&&gl(e.error.bind(e,this._error))()}}resume(){const e=this._state==="paused"||this._state==="pausing";return e&&this._transition("running"),e}pause(){const e=this._state==="running";return e&&this._transition("pausing"),e}cancel(){const e=this._state==="running"||this._state==="pausing";return e&&this._transition("canceling"),e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ma{constructor(e,n){this._service=e,n instanceof Jn?this._location=n:this._location=Jn.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new ma(e,n)}get root(){const e=new Jn(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return WI(this._location.path)}get storage(){return this._service}get parent(){const e=n9(this._location.path);if(e===null)return null;const n=new Jn(this._location.bucket,e);return new ma(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw D7(e)}}function x9(t,e,n){return t._throwIfRoot("uploadBytesResumable"),new _9(t,new qs(e),n)}function b9(t){t._throwIfRoot("getDownloadURL");const e=d9(t.storage,t._location,HI());return t.storage.makeRequestWithTokens(e,El).then(n=>{if(n===null)throw N7();return n})}function E9(t,e){const n=r9(t._location.path,e),r=new Jn(t._location.bucket,n);return new ma(t.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function S9(t){return/^[A-Za-z]+:\/\//.test(t)}function C9(t,e){return new ma(t,e)}function XI(t,e){if(t instanceof Xw){const n=t;if(n._bucket==null)throw R7();const r=new ma(n,n._bucket);return e!=null?XI(r,e):r}else return e!==void 0?E9(t,e):t}function T9(t,e){if(e&&S9(e)){if(t instanceof Xw)return C9(t,e);throw H0("To use ref(service, url), the first argument must be a Storage instance.")}else return XI(t,e)}function YE(t,e){const n=e?.[OI];return n==null?null:Jn.makeFromBucketSpec(n,t)}function k9(t,e,n,r={}){t.host=`${e}:${n}`;const i=uo(e);i&&(Vp(`https://${t.host}`),ho("Storage",!0)),t._isUsingEmulator=!0,t._protocol=i?"https":"http";const{mockUserToken:o}=r;o&&(t._overrideAuthToken=typeof o=="string"?o:zv(o,t.app.options.projectId))}class Xw{constructor(e,n,r,i,o,l=!1){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=o,this._isUsingEmulator=l,this._bucket=null,this._host=NI,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=_7,this._maxUploadRetryTime=x7,this._requests=new Set,i!=null?this._bucket=Jn.makeFromBucketSpec(i,this._host):this._bucket=YE(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Jn.makeFromBucketSpec(this._url,e):this._bucket=YE(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){GE("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){GE("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(fn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new ma(this,e)}_makeRequest(e,n,r,i,o=!0){if(this._deleted)return new M7(jI());{const l=q7(e,this._appId,r,i,n,this._firebaseVersion,o,this._isUsingEmulator);return this._requests.add(l),l.getPromise().then(()=>this._requests.delete(l),()=>this._requests.delete(l)),l}}async makeRequestWithTokens(e,n){const[r,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,i).getPromise()}}const XE="@firebase/storage",JE="0.13.10";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JI="storage";function I9(t,e,n){return t=ht(t),x9(t,e,n)}function P9(t){return t=ht(t),b9(t)}function R9(t,e){return t=ht(t),T9(t,e)}function QI(t=kd(),e){t=ht(t),ho("Storage",!1);const r=fo(t,JI).getImmediate({identifier:e}),i=Bv("storage");return i&&ZI(r,...i),r}function ZI(t,e,n,r={}){k9(t,e,n,r)}function A9(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),i=t.getProvider("app-check-internal");return new Xw(n,r,i,e,po)}function N9(){er(new Un(JI,A9,"PUBLIC").setMultipleInstances(!0)),Yt(XE,JE,""),Yt(XE,JE,"esm2017")}N9();var QE=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var eP;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(D,I){function A(){}A.prototype=I.prototype,D.D=I.prototype,D.prototype=new A,D.prototype.constructor=D,D.C=function(E,L,$){for(var F=Array(arguments.length-2),re=2;re<arguments.length;re++)F[re-2]=arguments[re];return I.prototype[L].apply(E,F)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(D,I,A){A||(A=0);var E=Array(16);if(typeof I=="string")for(var L=0;16>L;++L)E[L]=I.charCodeAt(A++)|I.charCodeAt(A++)<<8|I.charCodeAt(A++)<<16|I.charCodeAt(A++)<<24;else for(L=0;16>L;++L)E[L]=I[A++]|I[A++]<<8|I[A++]<<16|I[A++]<<24;I=D.g[0],A=D.g[1],L=D.g[2];var $=D.g[3],F=I+($^A&(L^$))+E[0]+3614090360&4294967295;I=A+(F<<7&4294967295|F>>>25),F=$+(L^I&(A^L))+E[1]+3905402710&4294967295,$=I+(F<<12&4294967295|F>>>20),F=L+(A^$&(I^A))+E[2]+606105819&4294967295,L=$+(F<<17&4294967295|F>>>15),F=A+(I^L&($^I))+E[3]+3250441966&4294967295,A=L+(F<<22&4294967295|F>>>10),F=I+($^A&(L^$))+E[4]+4118548399&4294967295,I=A+(F<<7&4294967295|F>>>25),F=$+(L^I&(A^L))+E[5]+1200080426&4294967295,$=I+(F<<12&4294967295|F>>>20),F=L+(A^$&(I^A))+E[6]+2821735955&4294967295,L=$+(F<<17&4294967295|F>>>15),F=A+(I^L&($^I))+E[7]+4249261313&4294967295,A=L+(F<<22&4294967295|F>>>10),F=I+($^A&(L^$))+E[8]+1770035416&4294967295,I=A+(F<<7&4294967295|F>>>25),F=$+(L^I&(A^L))+E[9]+2336552879&4294967295,$=I+(F<<12&4294967295|F>>>20),F=L+(A^$&(I^A))+E[10]+4294925233&4294967295,L=$+(F<<17&4294967295|F>>>15),F=A+(I^L&($^I))+E[11]+2304563134&4294967295,A=L+(F<<22&4294967295|F>>>10),F=I+($^A&(L^$))+E[12]+1804603682&4294967295,I=A+(F<<7&4294967295|F>>>25),F=$+(L^I&(A^L))+E[13]+4254626195&4294967295,$=I+(F<<12&4294967295|F>>>20),F=L+(A^$&(I^A))+E[14]+2792965006&4294967295,L=$+(F<<17&4294967295|F>>>15),F=A+(I^L&($^I))+E[15]+1236535329&4294967295,A=L+(F<<22&4294967295|F>>>10),F=I+(L^$&(A^L))+E[1]+4129170786&4294967295,I=A+(F<<5&4294967295|F>>>27),F=$+(A^L&(I^A))+E[6]+3225465664&4294967295,$=I+(F<<9&4294967295|F>>>23),F=L+(I^A&($^I))+E[11]+643717713&4294967295,L=$+(F<<14&4294967295|F>>>18),F=A+($^I&(L^$))+E[0]+3921069994&4294967295,A=L+(F<<20&4294967295|F>>>12),F=I+(L^$&(A^L))+E[5]+3593408605&4294967295,I=A+(F<<5&4294967295|F>>>27),F=$+(A^L&(I^A))+E[10]+38016083&4294967295,$=I+(F<<9&4294967295|F>>>23),F=L+(I^A&($^I))+E[15]+3634488961&4294967295,L=$+(F<<14&4294967295|F>>>18),F=A+($^I&(L^$))+E[4]+3889429448&4294967295,A=L+(F<<20&4294967295|F>>>12),F=I+(L^$&(A^L))+E[9]+568446438&4294967295,I=A+(F<<5&4294967295|F>>>27),F=$+(A^L&(I^A))+E[14]+3275163606&4294967295,$=I+(F<<9&4294967295|F>>>23),F=L+(I^A&($^I))+E[3]+4107603335&4294967295,L=$+(F<<14&4294967295|F>>>18),F=A+($^I&(L^$))+E[8]+1163531501&4294967295,A=L+(F<<20&4294967295|F>>>12),F=I+(L^$&(A^L))+E[13]+2850285829&4294967295,I=A+(F<<5&4294967295|F>>>27),F=$+(A^L&(I^A))+E[2]+4243563512&4294967295,$=I+(F<<9&4294967295|F>>>23),F=L+(I^A&($^I))+E[7]+1735328473&4294967295,L=$+(F<<14&4294967295|F>>>18),F=A+($^I&(L^$))+E[12]+2368359562&4294967295,A=L+(F<<20&4294967295|F>>>12),F=I+(A^L^$)+E[5]+4294588738&4294967295,I=A+(F<<4&4294967295|F>>>28),F=$+(I^A^L)+E[8]+2272392833&4294967295,$=I+(F<<11&4294967295|F>>>21),F=L+($^I^A)+E[11]+1839030562&4294967295,L=$+(F<<16&4294967295|F>>>16),F=A+(L^$^I)+E[14]+4259657740&4294967295,A=L+(F<<23&4294967295|F>>>9),F=I+(A^L^$)+E[1]+2763975236&4294967295,I=A+(F<<4&4294967295|F>>>28),F=$+(I^A^L)+E[4]+1272893353&4294967295,$=I+(F<<11&4294967295|F>>>21),F=L+($^I^A)+E[7]+4139469664&4294967295,L=$+(F<<16&4294967295|F>>>16),F=A+(L^$^I)+E[10]+3200236656&4294967295,A=L+(F<<23&4294967295|F>>>9),F=I+(A^L^$)+E[13]+681279174&4294967295,I=A+(F<<4&4294967295|F>>>28),F=$+(I^A^L)+E[0]+3936430074&4294967295,$=I+(F<<11&4294967295|F>>>21),F=L+($^I^A)+E[3]+3572445317&4294967295,L=$+(F<<16&4294967295|F>>>16),F=A+(L^$^I)+E[6]+76029189&4294967295,A=L+(F<<23&4294967295|F>>>9),F=I+(A^L^$)+E[9]+3654602809&4294967295,I=A+(F<<4&4294967295|F>>>28),F=$+(I^A^L)+E[12]+3873151461&4294967295,$=I+(F<<11&4294967295|F>>>21),F=L+($^I^A)+E[15]+530742520&4294967295,L=$+(F<<16&4294967295|F>>>16),F=A+(L^$^I)+E[2]+3299628645&4294967295,A=L+(F<<23&4294967295|F>>>9),F=I+(L^(A|~$))+E[0]+4096336452&4294967295,I=A+(F<<6&4294967295|F>>>26),F=$+(A^(I|~L))+E[7]+1126891415&4294967295,$=I+(F<<10&4294967295|F>>>22),F=L+(I^($|~A))+E[14]+2878612391&4294967295,L=$+(F<<15&4294967295|F>>>17),F=A+($^(L|~I))+E[5]+4237533241&4294967295,A=L+(F<<21&4294967295|F>>>11),F=I+(L^(A|~$))+E[12]+1700485571&4294967295,I=A+(F<<6&4294967295|F>>>26),F=$+(A^(I|~L))+E[3]+2399980690&4294967295,$=I+(F<<10&4294967295|F>>>22),F=L+(I^($|~A))+E[10]+4293915773&4294967295,L=$+(F<<15&4294967295|F>>>17),F=A+($^(L|~I))+E[1]+2240044497&4294967295,A=L+(F<<21&4294967295|F>>>11),F=I+(L^(A|~$))+E[8]+1873313359&4294967295,I=A+(F<<6&4294967295|F>>>26),F=$+(A^(I|~L))+E[15]+4264355552&4294967295,$=I+(F<<10&4294967295|F>>>22),F=L+(I^($|~A))+E[6]+2734768916&4294967295,L=$+(F<<15&4294967295|F>>>17),F=A+($^(L|~I))+E[13]+1309151649&4294967295,A=L+(F<<21&4294967295|F>>>11),F=I+(L^(A|~$))+E[4]+4149444226&4294967295,I=A+(F<<6&4294967295|F>>>26),F=$+(A^(I|~L))+E[11]+3174756917&4294967295,$=I+(F<<10&4294967295|F>>>22),F=L+(I^($|~A))+E[2]+718787259&4294967295,L=$+(F<<15&4294967295|F>>>17),F=A+($^(L|~I))+E[9]+3951481745&4294967295,D.g[0]=D.g[0]+I&4294967295,D.g[1]=D.g[1]+(L+(F<<21&4294967295|F>>>11))&4294967295,D.g[2]=D.g[2]+L&4294967295,D.g[3]=D.g[3]+$&4294967295}r.prototype.u=function(D,I){I===void 0&&(I=D.length);for(var A=I-this.blockSize,E=this.B,L=this.h,$=0;$<I;){if(L==0)for(;$<=A;)i(this,D,$),$+=this.blockSize;if(typeof D=="string"){for(;$<I;)if(E[L++]=D.charCodeAt($++),L==this.blockSize){i(this,E),L=0;break}}else for(;$<I;)if(E[L++]=D[$++],L==this.blockSize){i(this,E),L=0;break}}this.h=L,this.o+=I},r.prototype.v=function(){var D=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);D[0]=128;for(var I=1;I<D.length-8;++I)D[I]=0;var A=8*this.o;for(I=D.length-8;I<D.length;++I)D[I]=A&255,A/=256;for(this.u(D),D=Array(16),I=A=0;4>I;++I)for(var E=0;32>E;E+=8)D[A++]=this.g[I]>>>E&255;return D};function o(D,I){var A=c;return Object.prototype.hasOwnProperty.call(A,D)?A[D]:A[D]=I(D)}function l(D,I){this.h=I;for(var A=[],E=!0,L=D.length-1;0<=L;L--){var $=D[L]|0;E&&$==I||(A[L]=$,E=!1)}this.g=A}var c={};function d(D){return-128<=D&&128>D?o(D,function(I){return new l([I|0],0>I?-1:0)}):new l([D|0],0>D?-1:0)}function f(D){if(isNaN(D)||!isFinite(D))return g;if(0>D)return P(f(-D));for(var I=[],A=1,E=0;D>=A;E++)I[E]=D/A|0,A*=4294967296;return new l(I,0)}function m(D,I){if(D.length==0)throw Error("number format error: empty string");if(I=I||10,2>I||36<I)throw Error("radix out of range: "+I);if(D.charAt(0)=="-")return P(m(D.substring(1),I));if(0<=D.indexOf("-"))throw Error('number format error: interior "-" character');for(var A=f(Math.pow(I,8)),E=g,L=0;L<D.length;L+=8){var $=Math.min(8,D.length-L),F=parseInt(D.substring(L,L+$),I);8>$?($=f(Math.pow(I,$)),E=E.j($).add(f(F))):(E=E.j(A),E=E.add(f(F)))}return E}var g=d(0),y=d(1),C=d(16777216);t=l.prototype,t.m=function(){if(k(this))return-P(this).m();for(var D=0,I=1,A=0;A<this.g.length;A++){var E=this.i(A);D+=(0<=E?E:4294967296+E)*I,I*=4294967296}return D},t.toString=function(D){if(D=D||10,2>D||36<D)throw Error("radix out of range: "+D);if(S(this))return"0";if(k(this))return"-"+P(this).toString(D);for(var I=f(Math.pow(D,6)),A=this,E="";;){var L=U(A,I).g;A=N(A,L.j(I));var $=((0<A.g.length?A.g[0]:A.h)>>>0).toString(D);if(A=L,S(A))return $+E;for(;6>$.length;)$="0"+$;E=$+E}},t.i=function(D){return 0>D?0:D<this.g.length?this.g[D]:this.h};function S(D){if(D.h!=0)return!1;for(var I=0;I<D.g.length;I++)if(D.g[I]!=0)return!1;return!0}function k(D){return D.h==-1}t.l=function(D){return D=N(this,D),k(D)?-1:S(D)?0:1};function P(D){for(var I=D.g.length,A=[],E=0;E<I;E++)A[E]=~D.g[E];return new l(A,~D.h).add(y)}t.abs=function(){return k(this)?P(this):this},t.add=function(D){for(var I=Math.max(this.g.length,D.g.length),A=[],E=0,L=0;L<=I;L++){var $=E+(this.i(L)&65535)+(D.i(L)&65535),F=($>>>16)+(this.i(L)>>>16)+(D.i(L)>>>16);E=F>>>16,$&=65535,F&=65535,A[L]=F<<16|$}return new l(A,A[A.length-1]&-2147483648?-1:0)};function N(D,I){return D.add(P(I))}t.j=function(D){if(S(this)||S(D))return g;if(k(this))return k(D)?P(this).j(P(D)):P(P(this).j(D));if(k(D))return P(this.j(P(D)));if(0>this.l(C)&&0>D.l(C))return f(this.m()*D.m());for(var I=this.g.length+D.g.length,A=[],E=0;E<2*I;E++)A[E]=0;for(E=0;E<this.g.length;E++)for(var L=0;L<D.g.length;L++){var $=this.i(E)>>>16,F=this.i(E)&65535,re=D.i(L)>>>16,he=D.i(L)&65535;A[2*E+2*L]+=F*he,M(A,2*E+2*L),A[2*E+2*L+1]+=$*he,M(A,2*E+2*L+1),A[2*E+2*L+1]+=F*re,M(A,2*E+2*L+1),A[2*E+2*L+2]+=$*re,M(A,2*E+2*L+2)}for(E=0;E<I;E++)A[E]=A[2*E+1]<<16|A[2*E];for(E=I;E<2*I;E++)A[E]=0;return new l(A,0)};function M(D,I){for(;(D[I]&65535)!=D[I];)D[I+1]+=D[I]>>>16,D[I]&=65535,I++}function O(D,I){this.g=D,this.h=I}function U(D,I){if(S(I))throw Error("division by zero");if(S(D))return new O(g,g);if(k(D))return I=U(P(D),I),new O(P(I.g),P(I.h));if(k(I))return I=U(D,P(I)),new O(P(I.g),I.h);if(30<D.g.length){if(k(D)||k(I))throw Error("slowDivide_ only works with positive integers.");for(var A=y,E=I;0>=E.l(D);)A=B(A),E=B(E);var L=H(A,1),$=H(E,1);for(E=H(E,2),A=H(A,2);!S(E);){var F=$.add(E);0>=F.l(D)&&(L=L.add(A),$=F),E=H(E,1),A=H(A,1)}return I=N(D,L.j(I)),new O(L,I)}for(L=g;0<=D.l(I);){for(A=Math.max(1,Math.floor(D.m()/I.m())),E=Math.ceil(Math.log(A)/Math.LN2),E=48>=E?1:Math.pow(2,E-48),$=f(A),F=$.j(I);k(F)||0<F.l(D);)A-=E,$=f(A),F=$.j(I);S($)&&($=y),L=L.add($),D=N(D,F)}return new O(L,D)}t.A=function(D){return U(this,D).h},t.and=function(D){for(var I=Math.max(this.g.length,D.g.length),A=[],E=0;E<I;E++)A[E]=this.i(E)&D.i(E);return new l(A,this.h&D.h)},t.or=function(D){for(var I=Math.max(this.g.length,D.g.length),A=[],E=0;E<I;E++)A[E]=this.i(E)|D.i(E);return new l(A,this.h|D.h)},t.xor=function(D){for(var I=Math.max(this.g.length,D.g.length),A=[],E=0;E<I;E++)A[E]=this.i(E)^D.i(E);return new l(A,this.h^D.h)};function B(D){for(var I=D.g.length+1,A=[],E=0;E<I;E++)A[E]=D.i(E)<<1|D.i(E-1)>>>31;return new l(A,D.h)}function H(D,I){var A=I>>5;I%=32;for(var E=D.g.length-A,L=[],$=0;$<E;$++)L[$]=0<I?D.i($+A)>>>I|D.i($+A+1)<<32-I:D.i($+A);return new l(L,D.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,l.prototype.add=l.prototype.add,l.prototype.multiply=l.prototype.j,l.prototype.modulo=l.prototype.A,l.prototype.compare=l.prototype.l,l.prototype.toNumber=l.prototype.m,l.prototype.toString=l.prototype.toString,l.prototype.getBits=l.prototype.i,l.fromNumber=f,l.fromString=m,eP=l}).apply(typeof QE<"u"?QE:typeof self<"u"?self:typeof window<"u"?window:{});var bf=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(h,_,T){return h==Array.prototype||h==Object.prototype||(h[_]=T.value),h};function n(h){h=[typeof globalThis=="object"&&globalThis,h,typeof window=="object"&&window,typeof self=="object"&&self,typeof bf=="object"&&bf];for(var _=0;_<h.length;++_){var T=h[_];if(T&&T.Math==Math)return T}throw Error("Cannot find global object")}var r=n(this);function i(h,_){if(_)e:{var T=r;h=h.split(".");for(var j=0;j<h.length-1;j++){var G=h[j];if(!(G in T))break e;T=T[G]}h=h[h.length-1],j=T[h],_=_(j),_!=j&&_!=null&&e(T,h,{configurable:!0,writable:!0,value:_})}}function o(h,_){h instanceof String&&(h+="");var T=0,j=!1,G={next:function(){if(!j&&T<h.length){var J=T++;return{value:_(J,h[J]),done:!1}}return j=!0,{done:!0,value:void 0}}};return G[Symbol.iterator]=function(){return G},G}i("Array.prototype.values",function(h){return h||function(){return o(this,function(_,T){return T})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var l=l||{},c=this||self;function d(h){var _=typeof h;return _=_!="object"?_:h?Array.isArray(h)?"array":_:"null",_=="array"||_=="object"&&typeof h.length=="number"}function f(h){var _=typeof h;return _=="object"&&h!=null||_=="function"}function m(h,_,T){return h.call.apply(h.bind,arguments)}function g(h,_,T){if(!h)throw Error();if(2<arguments.length){var j=Array.prototype.slice.call(arguments,2);return function(){var G=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(G,j),h.apply(_,G)}}return function(){return h.apply(_,arguments)}}function y(h,_,T){return y=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?m:g,y.apply(null,arguments)}function C(h,_){var T=Array.prototype.slice.call(arguments,1);return function(){var j=T.slice();return j.push.apply(j,arguments),h.apply(this,j)}}function S(h,_){function T(){}T.prototype=_.prototype,h.aa=_.prototype,h.prototype=new T,h.prototype.constructor=h,h.Qb=function(j,G,J){for(var ce=Array(arguments.length-2),Ye=2;Ye<arguments.length;Ye++)ce[Ye-2]=arguments[Ye];return _.prototype[G].apply(j,ce)}}function k(h){const _=h.length;if(0<_){const T=Array(_);for(let j=0;j<_;j++)T[j]=h[j];return T}return[]}function P(h,_){for(let T=1;T<arguments.length;T++){const j=arguments[T];if(d(j)){const G=h.length||0,J=j.length||0;h.length=G+J;for(let ce=0;ce<J;ce++)h[G+ce]=j[ce]}else h.push(j)}}class N{constructor(_,T){this.i=_,this.j=T,this.h=0,this.g=null}get(){let _;return 0<this.h?(this.h--,_=this.g,this.g=_.next,_.next=null):_=this.i(),_}}function M(h){return/^[\s\xa0]*$/.test(h)}function O(){var h=c.navigator;return h&&(h=h.userAgent)?h:""}function U(h){return U[" "](h),h}U[" "]=function(){};var B=O().indexOf("Gecko")!=-1&&!(O().toLowerCase().indexOf("webkit")!=-1&&O().indexOf("Edge")==-1)&&!(O().indexOf("Trident")!=-1||O().indexOf("MSIE")!=-1)&&O().indexOf("Edge")==-1;function H(h,_,T){for(const j in h)_.call(T,h[j],j,h)}function D(h,_){for(const T in h)_.call(void 0,h[T],T,h)}function I(h){const _={};for(const T in h)_[T]=h[T];return _}const A="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function E(h,_){let T,j;for(let G=1;G<arguments.length;G++){j=arguments[G];for(T in j)h[T]=j[T];for(let J=0;J<A.length;J++)T=A[J],Object.prototype.hasOwnProperty.call(j,T)&&(h[T]=j[T])}}function L(h){var _=1;h=h.split(":");const T=[];for(;0<_&&h.length;)T.push(h.shift()),_--;return h.length&&T.push(h.join(":")),T}function $(h){c.setTimeout(()=>{throw h},0)}function F(){var h=ue;let _=null;return h.g&&(_=h.g,h.g=h.g.next,h.g||(h.h=null),_.next=null),_}class re{constructor(){this.h=this.g=null}add(_,T){const j=he.get();j.set(_,T),this.h?this.h.next=j:this.g=j,this.h=j}}var he=new N(()=>new me,h=>h.reset());class me{constructor(){this.next=this.g=this.h=null}set(_,T){this.h=_,this.g=T,this.next=null}reset(){this.next=this.g=this.h=null}}let fe,te=!1,ue=new re,ae=()=>{const h=c.Promise.resolve(void 0);fe=()=>{h.then(q)}};var q=()=>{for(var h;h=F();){try{h.h.call(h.g)}catch(T){$(T)}var _=he;_.j(h),100>_.h&&(_.h++,h.next=_.g,_.g=h)}te=!1};function ee(){this.s=this.s,this.C=this.C}ee.prototype.s=!1,ee.prototype.ma=function(){this.s||(this.s=!0,this.N())},ee.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function Q(h,_){this.type=h,this.g=this.target=_,this.defaultPrevented=!1}Q.prototype.h=function(){this.defaultPrevented=!0};var de=function(){if(!c.addEventListener||!Object.defineProperty)return!1;var h=!1,_=Object.defineProperty({},"passive",{get:function(){h=!0}});try{const T=()=>{};c.addEventListener("test",T,_),c.removeEventListener("test",T,_)}catch{}return h}();function ve(h,_){if(Q.call(this,h?h.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,h){var T=this.type=h.type,j=h.changedTouches&&h.changedTouches.length?h.changedTouches[0]:null;if(this.target=h.target||h.srcElement,this.g=_,_=h.relatedTarget){if(B){e:{try{U(_.nodeName);var G=!0;break e}catch{}G=!1}G||(_=null)}}else T=="mouseover"?_=h.fromElement:T=="mouseout"&&(_=h.toElement);this.relatedTarget=_,j?(this.clientX=j.clientX!==void 0?j.clientX:j.pageX,this.clientY=j.clientY!==void 0?j.clientY:j.pageY,this.screenX=j.screenX||0,this.screenY=j.screenY||0):(this.clientX=h.clientX!==void 0?h.clientX:h.pageX,this.clientY=h.clientY!==void 0?h.clientY:h.pageY,this.screenX=h.screenX||0,this.screenY=h.screenY||0),this.button=h.button,this.key=h.key||"",this.ctrlKey=h.ctrlKey,this.altKey=h.altKey,this.shiftKey=h.shiftKey,this.metaKey=h.metaKey,this.pointerId=h.pointerId||0,this.pointerType=typeof h.pointerType=="string"?h.pointerType:Ee[h.pointerType]||"",this.state=h.state,this.i=h,h.defaultPrevented&&ve.aa.h.call(this)}}S(ve,Q);var Ee={2:"touch",3:"pen",4:"mouse"};ve.prototype.h=function(){ve.aa.h.call(this);var h=this.i;h.preventDefault?h.preventDefault():h.returnValue=!1};var Se="closure_listenable_"+(1e6*Math.random()|0),Te=0;function _e(h,_,T,j,G){this.listener=h,this.proxy=null,this.src=_,this.type=T,this.capture=!!j,this.ha=G,this.key=++Te,this.da=this.fa=!1}function Be(h){h.da=!0,h.listener=null,h.proxy=null,h.src=null,h.ha=null}function De(h){this.src=h,this.g={},this.h=0}De.prototype.add=function(h,_,T,j,G){var J=h.toString();h=this.g[J],h||(h=this.g[J]=[],this.h++);var ce=rr(h,_,j,G);return-1<ce?(_=h[ce],T||(_.fa=!1)):(_=new _e(_,this.src,J,!!j,G),_.fa=T,h.push(_)),_};function At(h,_){var T=_.type;if(T in h.g){var j=h.g[T],G=Array.prototype.indexOf.call(j,_,void 0),J;(J=0<=G)&&Array.prototype.splice.call(j,G,1),J&&(Be(_),h.g[T].length==0&&(delete h.g[T],h.h--))}}function rr(h,_,T,j){for(var G=0;G<h.length;++G){var J=h[G];if(!J.da&&J.listener==_&&J.capture==!!T&&J.ha==j)return G}return-1}var Ei="closure_lm_"+(1e6*Math.random()|0),Ca={};function dc(h,_,T,j,G){if(Array.isArray(_)){for(var J=0;J<_.length;J++)dc(h,_[J],T,j,G);return null}return T=pc(T),h&&h[Se]?h.K(_,T,f(j)?!!j.capture:!1,G):hc(h,_,T,!1,j,G)}function hc(h,_,T,j,G,J){if(!_)throw Error("Invalid event type");var ce=f(G)?!!G.capture:!!G,Ye=ka(h);if(Ye||(h[Ei]=Ye=new De(h)),T=Ye.add(_,T,j,ce,J),T.proxy)return T;if(j=Zd(),T.proxy=j,j.src=h,j.listener=T,h.addEventListener)de||(G=ce),G===void 0&&(G=!1),h.addEventListener(_.toString(),j,G);else if(h.attachEvent)h.attachEvent(Ci(_.toString()),j);else if(h.addListener&&h.removeListener)h.addListener(j);else throw Error("addEventListener and attachEvent are unavailable.");return T}function Zd(){function h(T){return _.call(h.src,h.listener,T)}const _=fc;return h}function Ta(h,_,T,j,G){if(Array.isArray(_))for(var J=0;J<_.length;J++)Ta(h,_[J],T,j,G);else j=f(j)?!!j.capture:!!j,T=pc(T),h&&h[Se]?(h=h.i,_=String(_).toString(),_ in h.g&&(J=h.g[_],T=rr(J,T,j,G),-1<T&&(Be(J[T]),Array.prototype.splice.call(J,T,1),J.length==0&&(delete h.g[_],h.h--)))):h&&(h=ka(h))&&(_=h.g[_.toString()],h=-1,_&&(h=rr(_,T,j,G)),(T=-1<h?_[h]:null)&&Si(T))}function Si(h){if(typeof h!="number"&&h&&!h.da){var _=h.src;if(_&&_[Se])At(_.i,h);else{var T=h.type,j=h.proxy;_.removeEventListener?_.removeEventListener(T,j,h.capture):_.detachEvent?_.detachEvent(Ci(T),j):_.addListener&&_.removeListener&&_.removeListener(j),(T=ka(_))?(At(T,h),T.h==0&&(T.src=null,_[Ei]=null)):Be(h)}}}function Ci(h){return h in Ca?Ca[h]:Ca[h]="on"+h}function fc(h,_){if(h.da)h=!0;else{_=new ve(_,this);var T=h.listener,j=h.ha||h.src;h.fa&&Si(h),h=T.call(j,_)}return h}function ka(h){return h=h[Ei],h instanceof De?h:null}var Ia="__closure_events_fn_"+(1e9*Math.random()>>>0);function pc(h){return typeof h=="function"?h:(h[Ia]||(h[Ia]=function(_){return h.handleEvent(_)}),h[Ia])}function Dt(){ee.call(this),this.i=new De(this),this.M=this,this.F=null}S(Dt,ee),Dt.prototype[Se]=!0,Dt.prototype.removeEventListener=function(h,_,T,j){Ta(this,h,_,T,j)};function Mt(h,_){var T,j=h.F;if(j)for(T=[];j;j=j.F)T.push(j);if(h=h.M,j=_.type||_,typeof _=="string")_=new Q(_,h);else if(_ instanceof Q)_.target=_.target||h;else{var G=_;_=new Q(j,h),E(_,G)}if(G=!0,T)for(var J=T.length-1;0<=J;J--){var ce=_.g=T[J];G=Ti(ce,j,!0,_)&&G}if(ce=_.g=h,G=Ti(ce,j,!0,_)&&G,G=Ti(ce,j,!1,_)&&G,T)for(J=0;J<T.length;J++)ce=_.g=T[J],G=Ti(ce,j,!1,_)&&G}Dt.prototype.N=function(){if(Dt.aa.N.call(this),this.i){var h=this.i,_;for(_ in h.g){for(var T=h.g[_],j=0;j<T.length;j++)Be(T[j]);delete h.g[_],h.h--}}this.F=null},Dt.prototype.K=function(h,_,T,j){return this.i.add(String(h),_,!1,T,j)},Dt.prototype.L=function(h,_,T,j){return this.i.add(String(h),_,!0,T,j)};function Ti(h,_,T,j){if(_=h.i.g[String(_)],!_)return!0;_=_.concat();for(var G=!0,J=0;J<_.length;++J){var ce=_[J];if(ce&&!ce.da&&ce.capture==T){var Ye=ce.listener,Lt=ce.ha||ce.src;ce.fa&&At(h.i,ce),G=Ye.call(Lt,j)!==!1&&G}}return G&&!j.defaultPrevented}function mc(h,_,T){if(typeof h=="function")T&&(h=y(h,T));else if(h&&typeof h.handleEvent=="function")h=y(h.handleEvent,h);else throw Error("Invalid listener argument");return 2147483647<Number(_)?-1:c.setTimeout(h,_||0)}function ms(h){h.g=mc(()=>{h.g=null,h.i&&(h.i=!1,ms(h))},h.l);const _=h.h;h.h=null,h.m.apply(null,_)}class yo extends ee{constructor(_,T){super(),this.m=_,this.l=T,this.h=null,this.i=!1,this.g=null}j(_){this.h=arguments,this.g?this.i=!0:ms(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function vo(h){ee.call(this),this.h=h,this.g={}}S(vo,ee);var gc=[];function yc(h){H(h.g,function(_,T){this.g.hasOwnProperty(T)&&Si(_)},h),h.g={}}vo.prototype.N=function(){vo.aa.N.call(this),yc(this)},vo.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var vc=c.JSON.stringify,wc=c.JSON.parse,_c=class{stringify(h){return c.JSON.stringify(h,void 0)}parse(h){return c.JSON.parse(h,void 0)}};function wo(){}wo.prototype.h=null;function Pa(h){return h.h||(h.h=h.i())}function xc(){}var ir={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Qr(){Q.call(this,"d")}S(Qr,Q);function Ra(){Q.call(this,"c")}S(Ra,Q);var ki={},bc=null;function Aa(){return bc=bc||new Dt}ki.La="serverreachability";function Ec(h){Q.call(this,ki.La,h)}S(Ec,Q);function Ii(h){const _=Aa();Mt(_,new Ec(_))}ki.STAT_EVENT="statevent";function Sc(h,_){Q.call(this,ki.STAT_EVENT,h),this.stat=_}S(Sc,Q);function Tt(h){const _=Aa();Mt(_,new Sc(_,h))}ki.Ma="timingevent";function Na(h,_){Q.call(this,ki.Ma,h),this.size=_}S(Na,Q);function Sr(h,_){if(typeof h!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){h()},_)}function _o(){this.g=!0}_o.prototype.xa=function(){this.g=!1};function xo(h,_,T,j,G,J){h.info(function(){if(h.g)if(J)for(var ce="",Ye=J.split("&"),Lt=0;Lt<Ye.length;Lt++){var Ue=Ye[Lt].split("=");if(1<Ue.length){var Vt=Ue[0];Ue=Ue[1];var Bt=Vt.split("_");ce=2<=Bt.length&&Bt[1]=="type"?ce+(Vt+"="+Ue+"&"):ce+(Vt+"=redacted&")}}else ce=null;else ce=J;return"XMLHTTP REQ ("+j+") [attempt "+G+"]: "+_+`
`+T+`
`+ce})}function Oa(h,_,T,j,G,J,ce){h.info(function(){return"XMLHTTP RESP ("+j+") [ attempt "+G+"]: "+_+`
`+T+`
`+J+" "+ce})}function Cr(h,_,T,j){h.info(function(){return"XMLHTTP TEXT ("+_+"): "+Om(h,T)+(j?" "+j:"")})}function Cc(h,_){h.info(function(){return"TIMEOUT: "+_})}_o.prototype.info=function(){};function Om(h,_){if(!h.g)return _;if(!_)return null;try{var T=JSON.parse(_);if(T){for(h=0;h<T.length;h++)if(Array.isArray(T[h])){var j=T[h];if(!(2>j.length)){var G=j[1];if(Array.isArray(G)&&!(1>G.length)){var J=G[0];if(J!="noop"&&J!="stop"&&J!="close")for(var ce=1;ce<G.length;ce++)G[ce]=""}}}}return vc(T)}catch{return _}}var Tc={NO_ERROR:0,TIMEOUT:8},Dm={},Tr;function bo(){}S(bo,wo),bo.prototype.g=function(){return new XMLHttpRequest},bo.prototype.i=function(){return{}},Tr=new bo;function kr(h,_,T,j){this.j=h,this.i=_,this.l=T,this.R=j||1,this.U=new vo(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new eh}function eh(){this.i=null,this.g="",this.h=!1}var kc={},Da={};function Ma(h,_,T){h.L=1,h.v=_s(Wn(_)),h.m=T,h.P=!0,Ic(h,null)}function Ic(h,_){h.F=Date.now(),nt(h),h.A=Wn(h.v);var T=h.A,j=h.R;Array.isArray(j)||(j=[String(j)]),bs(T.i,"t",j),h.C=0,T=h.j.J,h.h=new eh,h.g=vh(h.j,T?_:null,!h.m),0<h.O&&(h.M=new yo(y(h.Y,h,h.g),h.O)),_=h.U,T=h.g,j=h.ca;var G="readystatechange";Array.isArray(G)||(G&&(gc[0]=G.toString()),G=gc);for(var J=0;J<G.length;J++){var ce=dc(T,G[J],j||_.handleEvent,!1,_.h||_);if(!ce)break;_.g[ce.key]=ce}_=h.H?I(h.H):{},h.m?(h.u||(h.u="POST"),_["Content-Type"]="application/x-www-form-urlencoded",h.g.ea(h.A,h.u,h.m,_)):(h.u="GET",h.g.ea(h.A,h.u,null,_)),Ii(),xo(h.i,h.u,h.A,h.l,h.R,h.m)}kr.prototype.ca=function(h){h=h.target;const _=this.M;_&&kn(h)==3?_.j():this.Y(h)},kr.prototype.Y=function(h){try{if(h==this.g)e:{const Bt=kn(this.g);var _=this.g.Ba();const ri=this.g.Z();if(!(3>Bt)&&(Bt!=3||this.g&&(this.h.h||this.g.oa()||Dc(this.g)))){this.J||Bt!=4||_==7||(_==8||0>=ri?Ii(3):Ii(2)),Eo(this);var T=this.g.Z();this.X=T;t:if(th(this)){var j=Dc(this.g);h="";var G=j.length,J=kn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){sr(this),gs(this);var ce="";break t}this.h.i=new c.TextDecoder}for(_=0;_<G;_++)this.h.h=!0,h+=this.h.i.decode(j[_],{stream:!(J&&_==G-1)});j.length=0,this.h.g+=h,this.C=0,ce=this.h.g}else ce=this.g.oa();if(this.o=T==200,Oa(this.i,this.u,this.A,this.l,this.R,Bt,T),this.o){if(this.T&&!this.K){t:{if(this.g){var Ye,Lt=this.g;if((Ye=Lt.g?Lt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!M(Ye)){var Ue=Ye;break t}}Ue=null}if(T=Ue)Cr(this.i,this.l,T,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Pc(this,T);else{this.o=!1,this.s=3,Tt(12),sr(this),gs(this);break e}}if(this.P){T=!0;let Qt;for(;!this.J&&this.C<ce.length;)if(Qt=Mm(this,ce),Qt==Da){Bt==4&&(this.s=4,Tt(14),T=!1),Cr(this.i,this.l,null,"[Incomplete Response]");break}else if(Qt==kc){this.s=4,Tt(15),Cr(this.i,this.l,ce,"[Invalid Chunk]"),T=!1;break}else Cr(this.i,this.l,Qt,null),Pc(this,Qt);if(th(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Bt!=4||ce.length!=0||this.h.h||(this.s=1,Tt(16),T=!1),this.o=this.o&&T,!T)Cr(this.i,this.l,ce,"[Invalid Chunked Response]"),sr(this),gs(this);else if(0<ce.length&&!this.W){this.W=!0;var Vt=this.j;Vt.g==this&&Vt.ba&&!Vt.M&&(Vt.j.info("Great, no buffering proxy detected. Bytes received: "+ce.length),Lc(Vt),Vt.M=!0,Tt(11))}}else Cr(this.i,this.l,ce,null),Pc(this,ce);Bt==4&&sr(this),this.o&&!this.J&&(Bt==4?qa(this.j,this):(this.o=!1,nt(this)))}else Va(this.g),T==400&&0<ce.indexOf("Unknown SID")?(this.s=3,Tt(12)):(this.s=0,Tt(13)),sr(this),gs(this)}}}catch{}finally{}};function th(h){return h.g?h.u=="GET"&&h.L!=2&&h.j.Ca:!1}function Mm(h,_){var T=h.C,j=_.indexOf(`
`,T);return j==-1?Da:(T=Number(_.substring(T,j)),isNaN(T)?kc:(j+=1,j+T>_.length?Da:(_=_.slice(j,j+T),h.C=j+T,_)))}kr.prototype.cancel=function(){this.J=!0,sr(this)};function nt(h){h.S=Date.now()+h.I,nh(h,h.I)}function nh(h,_){if(h.B!=null)throw Error("WatchDog timer not null");h.B=Sr(y(h.ba,h),_)}function Eo(h){h.B&&(c.clearTimeout(h.B),h.B=null)}kr.prototype.ba=function(){this.B=null;const h=Date.now();0<=h-this.S?(Cc(this.i,this.A),this.L!=2&&(Ii(),Tt(17)),sr(this),this.s=2,gs(this)):nh(this,this.S-h)};function gs(h){h.j.G==0||h.J||qa(h.j,h)}function sr(h){Eo(h);var _=h.M;_&&typeof _.ma=="function"&&_.ma(),h.M=null,yc(h.U),h.g&&(_=h.g,h.g=null,_.abort(),_.ma())}function Pc(h,_){try{var T=h.j;if(T.G!=0&&(T.g==h||yn(T.h,h))){if(!h.K&&yn(T.h,h)&&T.G==3){try{var j=T.Da.g.parse(_)}catch{j=null}if(Array.isArray(j)&&j.length==3){var G=j;if(G[0]==0){e:if(!T.u){if(T.g)if(T.g.F+3e3<h.F)Ha(T),Nr(T);else break e;Wa(T),Tt(18)}}else T.za=G[1],0<T.za-T.T&&37500>G[2]&&T.F&&T.v==0&&!T.C&&(T.C=Sr(y(T.Za,T),6e3));if(1>=ih(T.h)&&T.ca){try{T.ca()}catch{}T.ca=void 0}}else Oi(T,11)}else if((h.K||T.g==h)&&Ha(T),!M(_))for(G=T.Da.g.parse(_),_=0;_<G.length;_++){let Ue=G[_];if(T.T=Ue[0],Ue=Ue[1],T.G==2)if(Ue[0]=="c"){T.K=Ue[1],T.ia=Ue[2];const Vt=Ue[3];Vt!=null&&(T.la=Vt,T.j.info("VER="+T.la));const Bt=Ue[4];Bt!=null&&(T.Aa=Bt,T.j.info("SVER="+T.Aa));const ri=Ue[5];ri!=null&&typeof ri=="number"&&0<ri&&(j=1.5*ri,T.L=j,T.j.info("backChannelRequestTimeoutMs_="+j)),j=T;const Qt=h.g;if(Qt){const Ga=Qt.g?Qt.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ga){var J=j.h;J.g||Ga.indexOf("spdy")==-1&&Ga.indexOf("quic")==-1&&Ga.indexOf("h2")==-1||(J.j=J.l,J.g=new Set,J.h&&(Rc(J,J.h),J.h=null))}if(j.D){const Ka=Qt.g?Qt.g.getResponseHeader("X-HTTP-Session-Id"):null;Ka&&(j.ya=Ka,Qe(j.I,j.D,Ka))}}T.G=3,T.l&&T.l.ua(),T.ba&&(T.R=Date.now()-h.F,T.j.info("Handshake RTT: "+T.R+"ms")),j=T;var ce=h;if(j.qa=yh(j,j.J?j.ia:null,j.W),ce.K){sh(j.h,ce);var Ye=ce,Lt=j.L;Lt&&(Ye.I=Lt),Ye.B&&(Eo(Ye),nt(Ye)),j.g=ce}else Po(j);0<T.i.length&&ni(T)}else Ue[0]!="stop"&&Ue[0]!="close"||Oi(T,7);else T.G==3&&(Ue[0]=="stop"||Ue[0]=="close"?Ue[0]=="stop"?Oi(T,7):Jt(T):Ue[0]!="noop"&&T.l&&T.l.ta(Ue),T.v=0)}}Ii(4)}catch{}}var rh=class{constructor(h,_){this.g=h,this.map=_}};function So(h){this.l=h||10,c.PerformanceNavigationTiming?(h=c.performance.getEntriesByType("navigation"),h=0<h.length&&(h[0].nextHopProtocol=="hq"||h[0].nextHopProtocol=="h2")):h=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=h?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function zn(h){return h.h?!0:h.g?h.g.size>=h.j:!1}function ih(h){return h.h?1:h.g?h.g.size:0}function yn(h,_){return h.h?h.h==_:h.g?h.g.has(_):!1}function Rc(h,_){h.g?h.g.add(_):h.h=_}function sh(h,_){h.h&&h.h==_?h.h=null:h.g&&h.g.has(_)&&h.g.delete(_)}So.prototype.cancel=function(){if(this.i=oh(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const h of this.g.values())h.cancel();this.g.clear()}};function oh(h){if(h.h!=null)return h.i.concat(h.h.D);if(h.g!=null&&h.g.size!==0){let _=h.i;for(const T of h.g.values())_=_.concat(T.D);return _}return k(h.i)}function La(h){if(h.V&&typeof h.V=="function")return h.V();if(typeof Map<"u"&&h instanceof Map||typeof Set<"u"&&h instanceof Set)return Array.from(h.values());if(typeof h=="string")return h.split("");if(d(h)){for(var _=[],T=h.length,j=0;j<T;j++)_.push(h[j]);return _}_=[],T=0;for(j in h)_[T++]=h[j];return _}function ja(h){if(h.na&&typeof h.na=="function")return h.na();if(!h.V||typeof h.V!="function"){if(typeof Map<"u"&&h instanceof Map)return Array.from(h.keys());if(!(typeof Set<"u"&&h instanceof Set)){if(d(h)||typeof h=="string"){var _=[];h=h.length;for(var T=0;T<h;T++)_.push(T);return _}_=[],T=0;for(const j in h)_[T++]=j;return _}}}function ys(h,_){if(h.forEach&&typeof h.forEach=="function")h.forEach(_,void 0);else if(d(h)||typeof h=="string")Array.prototype.forEach.call(h,_,void 0);else for(var T=ja(h),j=La(h),G=j.length,J=0;J<G;J++)_.call(void 0,j[J],T&&T[J],h)}var Co=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Lm(h,_){if(h){h=h.split("&");for(var T=0;T<h.length;T++){var j=h[T].indexOf("="),G=null;if(0<=j){var J=h[T].substring(0,j);G=h[T].substring(j+1)}else J=h[T];_(J,G?decodeURIComponent(G.replace(/\+/g," ")):"")}}}function Pi(h){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,h instanceof Pi){this.h=h.h,To(this,h.j),this.o=h.o,this.g=h.g,vs(this,h.s),this.l=h.l;var _=h.i,T=new Zr;T.i=_.i,_.g&&(T.g=new Map(_.g),T.h=_.h),ws(this,T),this.m=h.m}else h&&(_=String(h).match(Co))?(this.h=!1,To(this,_[1]||"",!0),this.o=$e(_[2]||""),this.g=$e(_[3]||"",!0),vs(this,_[4]),this.l=$e(_[5]||"",!0),ws(this,_[6]||"",!0),this.m=$e(_[7]||"")):(this.h=!1,this.i=new Zr(null,this.h))}Pi.prototype.toString=function(){var h=[],_=this.j;_&&h.push(xs(_,Fa,!0),":");var T=this.g;return(T||_=="file")&&(h.push("//"),(_=this.o)&&h.push(xs(_,Fa,!0),"@"),h.push(encodeURIComponent(String(T)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),T=this.s,T!=null&&h.push(":",String(T))),(T=this.l)&&(this.g&&T.charAt(0)!="/"&&h.push("/"),h.push(xs(T,T.charAt(0)=="/"?ch:lh,!0))),(T=this.i.toString())&&h.push("?",T),(T=this.m)&&h.push("#",xs(T,Ac)),h.join("")};function Wn(h){return new Pi(h)}function To(h,_,T){h.j=T?$e(_,!0):_,h.j&&(h.j=h.j.replace(/:$/,""))}function vs(h,_){if(_){if(_=Number(_),isNaN(_)||0>_)throw Error("Bad port number "+_);h.s=_}else h.s=null}function ws(h,_,T){_ instanceof Zr?(h.i=_,ei(h.i,h.h)):(T||(_=xs(_,uh)),h.i=new Zr(_,h.h))}function Qe(h,_,T){h.i.set(_,T)}function _s(h){return Qe(h,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),h}function $e(h,_){return h?_?decodeURI(h.replace(/%25/g,"%2525")):decodeURIComponent(h):""}function xs(h,_,T){return typeof h=="string"?(h=encodeURI(h).replace(_,ah),T&&(h=h.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h):null}function ah(h){return h=h.charCodeAt(0),"%"+(h>>4&15).toString(16)+(h&15).toString(16)}var Fa=/[#\/\?@]/g,lh=/[#\?:]/g,ch=/[#\?]/g,uh=/[#\?@]/g,Ac=/#/g;function Zr(h,_){this.h=this.g=null,this.i=h||null,this.j=!!_}function Xt(h){h.g||(h.g=new Map,h.h=0,h.i&&Lm(h.i,function(_,T){h.add(decodeURIComponent(_.replace(/\+/g," ")),T)}))}t=Zr.prototype,t.add=function(h,_){Xt(this),this.i=null,h=or(this,h);var T=this.g.get(h);return T||this.g.set(h,T=[]),T.push(_),this.h+=1,this};function Ir(h,_){Xt(h),_=or(h,_),h.g.has(_)&&(h.i=null,h.h-=h.g.get(_).length,h.g.delete(_))}function Pr(h,_){return Xt(h),_=or(h,_),h.g.has(_)}t.forEach=function(h,_){Xt(this),this.g.forEach(function(T,j){T.forEach(function(G){h.call(_,G,j,this)},this)},this)},t.na=function(){Xt(this);const h=Array.from(this.g.values()),_=Array.from(this.g.keys()),T=[];for(let j=0;j<_.length;j++){const G=h[j];for(let J=0;J<G.length;J++)T.push(_[j])}return T},t.V=function(h){Xt(this);let _=[];if(typeof h=="string")Pr(this,h)&&(_=_.concat(this.g.get(or(this,h))));else{h=Array.from(this.g.values());for(let T=0;T<h.length;T++)_=_.concat(h[T])}return _},t.set=function(h,_){return Xt(this),this.i=null,h=or(this,h),Pr(this,h)&&(this.h-=this.g.get(h).length),this.g.set(h,[_]),this.h+=1,this},t.get=function(h,_){return h?(h=this.V(h),0<h.length?String(h[0]):_):_};function bs(h,_,T){Ir(h,_),0<T.length&&(h.i=null,h.g.set(or(h,_),k(T)),h.h+=T.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const h=[],_=Array.from(this.g.keys());for(var T=0;T<_.length;T++){var j=_[T];const J=encodeURIComponent(String(j)),ce=this.V(j);for(j=0;j<ce.length;j++){var G=J;ce[j]!==""&&(G+="="+encodeURIComponent(String(ce[j]))),h.push(G)}}return this.i=h.join("&")};function or(h,_){return _=String(_),h.j&&(_=_.toLowerCase()),_}function ei(h,_){_&&!h.j&&(Xt(h),h.i=null,h.g.forEach(function(T,j){var G=j.toLowerCase();j!=G&&(Ir(this,j),bs(this,G,T))},h)),h.j=_}function jm(h,_){const T=new _o;if(c.Image){const j=new Image;j.onload=C(Tn,T,"TestLoadImage: loaded",!0,_,j),j.onerror=C(Tn,T,"TestLoadImage: error",!1,_,j),j.onabort=C(Tn,T,"TestLoadImage: abort",!1,_,j),j.ontimeout=C(Tn,T,"TestLoadImage: timeout",!1,_,j),c.setTimeout(function(){j.ontimeout&&j.ontimeout()},1e4),j.src=h}else _(!1)}function dh(h,_){const T=new _o,j=new AbortController,G=setTimeout(()=>{j.abort(),Tn(T,"TestPingServer: timeout",!1,_)},1e4);fetch(h,{signal:j.signal}).then(J=>{clearTimeout(G),J.ok?Tn(T,"TestPingServer: ok",!0,_):Tn(T,"TestPingServer: server error",!1,_)}).catch(()=>{clearTimeout(G),Tn(T,"TestPingServer: error",!1,_)})}function Tn(h,_,T,j,G){try{G&&(G.onload=null,G.onerror=null,G.onabort=null,G.ontimeout=null),j(T)}catch{}}function Fm(){this.g=new _c}function hh(h,_,T){const j=T||"";try{ys(h,function(G,J){let ce=G;f(G)&&(ce=vc(G)),_.push(j+J+"="+encodeURIComponent(ce))})}catch(G){throw _.push(j+"type="+encodeURIComponent("_badmap")),G}}function Ri(h){this.l=h.Ub||null,this.j=h.eb||!1}S(Ri,wo),Ri.prototype.g=function(){return new ko(this.l,this.j)},Ri.prototype.i=function(h){return function(){return h}}({});function ko(h,_){Dt.call(this),this.D=h,this.o=_,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}S(ko,Dt),t=ko.prototype,t.open=function(h,_){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=h,this.A=_,this.readyState=1,Ar(this)},t.send=function(h){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const _={headers:this.u,method:this.B,credentials:this.m,cache:void 0};h&&(_.body=h),(this.D||c).fetch(new Request(this.A,_)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Rr(this)),this.readyState=0},t.Sa=function(h){if(this.g&&(this.l=h,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=h.headers,this.readyState=2,Ar(this)),this.g&&(this.readyState=3,Ar(this),this.g)))if(this.responseType==="arraybuffer")h.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in h){if(this.j=h.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;fh(this)}else h.text().then(this.Ra.bind(this),this.ga.bind(this))};function fh(h){h.j.read().then(h.Pa.bind(h)).catch(h.ga.bind(h))}t.Pa=function(h){if(this.g){if(this.o&&h.value)this.response.push(h.value);else if(!this.o){var _=h.value?h.value:new Uint8Array(0);(_=this.v.decode(_,{stream:!h.done}))&&(this.response=this.responseText+=_)}h.done?Rr(this):Ar(this),this.readyState==3&&fh(this)}},t.Ra=function(h){this.g&&(this.response=this.responseText=h,Rr(this))},t.Qa=function(h){this.g&&(this.response=h,Rr(this))},t.ga=function(){this.g&&Rr(this)};function Rr(h){h.readyState=4,h.l=null,h.j=null,h.v=null,Ar(h)}t.setRequestHeader=function(h,_){this.u.append(h,_)},t.getResponseHeader=function(h){return this.h&&this.h.get(h.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const h=[],_=this.h.entries();for(var T=_.next();!T.done;)T=T.value,h.push(T[0]+": "+T[1]),T=_.next();return h.join(`\r
`)};function Ar(h){h.onreadystatechange&&h.onreadystatechange.call(h)}Object.defineProperty(ko.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(h){this.m=h?"include":"same-origin"}});function Ai(h){let _="";return H(h,function(T,j){_+=j,_+=":",_+=T,_+=`\r
`}),_}function Es(h,_,T){e:{for(j in T){var j=!1;break e}j=!0}j||(T=Ai(T),typeof h=="string"?T!=null&&encodeURIComponent(String(T)):Qe(h,_,T))}function ft(h){Dt.call(this),this.headers=new Map,this.o=h||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}S(ft,Dt);var $m=/^https?$/i,Nc=["POST","PUT"];t=ft.prototype,t.Ha=function(h){this.J=h},t.ea=function(h,_,T,j){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+h);_=_?_.toUpperCase():"GET",this.D=h,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Tr.g(),this.v=this.o?Pa(this.o):Pa(Tr),this.g.onreadystatechange=y(this.Ea,this);try{this.B=!0,this.g.open(_,String(h),!0),this.B=!1}catch(J){Io(this,J);return}if(h=T||"",T=new Map(this.headers),j)if(Object.getPrototypeOf(j)===Object.prototype)for(var G in j)T.set(G,j[G]);else if(typeof j.keys=="function"&&typeof j.get=="function")for(const J of j.keys())T.set(J,j.get(J));else throw Error("Unknown input type for opt_headers: "+String(j));j=Array.from(T.keys()).find(J=>J.toLowerCase()=="content-type"),G=c.FormData&&h instanceof c.FormData,!(0<=Array.prototype.indexOf.call(Nc,_,void 0))||j||G||T.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[J,ce]of T)this.g.setRequestHeader(J,ce);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Ua(this),this.u=!0,this.g.send(h),this.u=!1}catch(J){Io(this,J)}};function Io(h,_){h.h=!1,h.g&&(h.j=!0,h.g.abort(),h.j=!1),h.l=_,h.m=5,$a(h),Hn(h)}function $a(h){h.A||(h.A=!0,Mt(h,"complete"),Mt(h,"error"))}t.abort=function(h){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=h||7,Mt(this,"complete"),Mt(this,"abort"),Hn(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Hn(this,!0)),ft.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?Oc(this):this.bb())},t.bb=function(){Oc(this)};function Oc(h){if(h.h&&typeof l<"u"&&(!h.v[1]||kn(h)!=4||h.Z()!=2)){if(h.u&&kn(h)==4)mc(h.Ea,0,h);else if(Mt(h,"readystatechange"),kn(h)==4){h.h=!1;try{const ce=h.Z();e:switch(ce){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var _=!0;break e;default:_=!1}var T;if(!(T=_)){var j;if(j=ce===0){var G=String(h.D).match(Co)[1]||null;!G&&c.self&&c.self.location&&(G=c.self.location.protocol.slice(0,-1)),j=!$m.test(G?G.toLowerCase():"")}T=j}if(T)Mt(h,"complete"),Mt(h,"success");else{h.m=6;try{var J=2<kn(h)?h.g.statusText:""}catch{J=""}h.l=J+" ["+h.Z()+"]",$a(h)}}finally{Hn(h)}}}}function Hn(h,_){if(h.g){Ua(h);const T=h.g,j=h.v[0]?()=>{}:null;h.g=null,h.v=null,_||Mt(h,"ready");try{T.onreadystatechange=j}catch{}}}function Ua(h){h.I&&(c.clearTimeout(h.I),h.I=null)}t.isActive=function(){return!!this.g};function kn(h){return h.g?h.g.readyState:0}t.Z=function(){try{return 2<kn(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(h){if(this.g){var _=this.g.responseText;return h&&_.indexOf(h)==0&&(_=_.substring(h.length)),wc(_)}};function Dc(h){try{if(!h.g)return null;if("response"in h.g)return h.g.response;switch(h.H){case"":case"text":return h.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in h.g)return h.g.mozResponseArrayBuffer}return null}catch{return null}}function Va(h){const _={};h=(h.g&&2<=kn(h)&&h.g.getAllResponseHeaders()||"").split(`\r
`);for(let j=0;j<h.length;j++){if(M(h[j]))continue;var T=L(h[j]);const G=T[0];if(T=T[1],typeof T!="string")continue;T=T.trim();const J=_[G]||[];_[G]=J,J.push(T)}D(_,function(j){return j.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function ti(h,_,T){return T&&T.internalChannelParams&&T.internalChannelParams[h]||_}function Mc(h){this.Aa=0,this.i=[],this.j=new _o,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=ti("failFast",!1,h),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=ti("baseRetryDelayMs",5e3,h),this.cb=ti("retryDelaySeedMs",1e4,h),this.Wa=ti("forwardChannelMaxRetries",2,h),this.wa=ti("forwardChannelRequestTimeoutMs",2e4,h),this.pa=h&&h.xmlHttpFactory||void 0,this.Xa=h&&h.Tb||void 0,this.Ca=h&&h.useFetchStreams||!1,this.L=void 0,this.J=h&&h.supportsCrossDomainXhr||!1,this.K="",this.h=new So(h&&h.concurrentRequestLimit),this.Da=new Fm,this.P=h&&h.fastHandshake||!1,this.O=h&&h.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=h&&h.Rb||!1,h&&h.xa&&this.j.xa(),h&&h.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&h&&h.detectBufferingProxy||!1,this.ja=void 0,h&&h.longPollingTimeout&&0<h.longPollingTimeout&&(this.ja=h.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=Mc.prototype,t.la=8,t.G=1,t.connect=function(h,_,T,j){Tt(0),this.W=h,this.H=_||{},T&&j!==void 0&&(this.H.OSID=T,this.H.OAID=j),this.F=this.X,this.I=yh(this,null,this.W),ni(this)};function Jt(h){if(Ba(h),h.G==3){var _=h.U++,T=Wn(h.I);if(Qe(T,"SID",h.K),Qe(T,"RID",_),Qe(T,"TYPE","terminate"),Ni(h,T),_=new kr(h,h.j,_),_.L=2,_.v=_s(Wn(T)),T=!1,c.navigator&&c.navigator.sendBeacon)try{T=c.navigator.sendBeacon(_.v.toString(),"")}catch{}!T&&c.Image&&(new Image().src=_.v,T=!0),T||(_.g=vh(_.j,null),_.g.ea(_.v)),_.F=Date.now(),nt(_)}gh(h)}function Nr(h){h.g&&(Lc(h),h.g.cancel(),h.g=null)}function Ba(h){Nr(h),h.u&&(c.clearTimeout(h.u),h.u=null),Ha(h),h.h.cancel(),h.s&&(typeof h.s=="number"&&c.clearTimeout(h.s),h.s=null)}function ni(h){if(!zn(h.h)&&!h.s){h.s=!0;var _=h.Ga;fe||ae(),te||(fe(),te=!0),ue.add(_,h),h.B=0}}function Um(h,_){return ih(h.h)>=h.h.j-(h.s?1:0)?!1:h.s?(h.i=_.D.concat(h.i),!0):h.G==1||h.G==2||h.B>=(h.Va?0:h.Wa)?!1:(h.s=Sr(y(h.Ga,h,_),mh(h,h.B)),h.B++,!0)}t.Ga=function(h){if(this.s)if(this.s=null,this.G==1){if(!h){this.U=Math.floor(1e5*Math.random()),h=this.U++;const G=new kr(this,this.j,h);let J=this.o;if(this.S&&(J?(J=I(J),E(J,this.S)):J=this.S),this.m!==null||this.O||(G.H=J,J=null),this.P)e:{for(var _=0,T=0;T<this.i.length;T++){t:{var j=this.i[T];if("__data__"in j.map&&(j=j.map.__data__,typeof j=="string")){j=j.length;break t}j=void 0}if(j===void 0)break;if(_+=j,4096<_){_=T;break e}if(_===4096||T===this.i.length-1){_=T+1;break e}}_=1e3}else _=1e3;_=Ss(this,G,_),T=Wn(this.I),Qe(T,"RID",h),Qe(T,"CVER",22),this.D&&Qe(T,"X-HTTP-Session-Id",this.D),Ni(this,T),J&&(this.O?_="headers="+encodeURIComponent(String(Ai(J)))+"&"+_:this.m&&Es(T,this.m,J)),Rc(this.h,G),this.Ua&&Qe(T,"TYPE","init"),this.P?(Qe(T,"$req",_),Qe(T,"SID","null"),G.T=!0,Ma(G,T,null)):Ma(G,T,_),this.G=2}}else this.G==3&&(h?za(this,h):this.i.length==0||zn(this.h)||za(this))};function za(h,_){var T;_?T=_.l:T=h.U++;const j=Wn(h.I);Qe(j,"SID",h.K),Qe(j,"RID",T),Qe(j,"AID",h.T),Ni(h,j),h.m&&h.o&&Es(j,h.m,h.o),T=new kr(h,h.j,T,h.B+1),h.m===null&&(T.H=h.o),_&&(h.i=_.D.concat(h.i)),_=Ss(h,T,1e3),T.I=Math.round(.5*h.wa)+Math.round(.5*h.wa*Math.random()),Rc(h.h,T),Ma(T,j,_)}function Ni(h,_){h.H&&H(h.H,function(T,j){Qe(_,j,T)}),h.l&&ys({},function(T,j){Qe(_,j,T)})}function Ss(h,_,T){T=Math.min(h.i.length,T);var j=h.l?y(h.l.Na,h.l,h):null;e:{var G=h.i;let J=-1;for(;;){const ce=["count="+T];J==-1?0<T?(J=G[0].g,ce.push("ofs="+J)):J=0:ce.push("ofs="+J);let Ye=!0;for(let Lt=0;Lt<T;Lt++){let Ue=G[Lt].g;const Vt=G[Lt].map;if(Ue-=J,0>Ue)J=Math.max(0,G[Lt].g-100),Ye=!1;else try{hh(Vt,ce,"req"+Ue+"_")}catch{j&&j(Vt)}}if(Ye){j=ce.join("&");break e}}}return h=h.i.splice(0,T),_.D=h,j}function Po(h){if(!h.g&&!h.u){h.Y=1;var _=h.Fa;fe||ae(),te||(fe(),te=!0),ue.add(_,h),h.v=0}}function Wa(h){return h.g||h.u||3<=h.v?!1:(h.Y++,h.u=Sr(y(h.Fa,h),mh(h,h.v)),h.v++,!0)}t.Fa=function(){if(this.u=null,ph(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var h=2*this.R;this.j.info("BP detection timer enabled: "+h),this.A=Sr(y(this.ab,this),h)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Tt(10),Nr(this),ph(this))};function Lc(h){h.A!=null&&(c.clearTimeout(h.A),h.A=null)}function ph(h){h.g=new kr(h,h.j,"rpc",h.Y),h.m===null&&(h.g.H=h.o),h.g.O=0;var _=Wn(h.qa);Qe(_,"RID","rpc"),Qe(_,"SID",h.K),Qe(_,"AID",h.T),Qe(_,"CI",h.F?"0":"1"),!h.F&&h.ja&&Qe(_,"TO",h.ja),Qe(_,"TYPE","xmlhttp"),Ni(h,_),h.m&&h.o&&Es(_,h.m,h.o),h.L&&(h.g.I=h.L);var T=h.g;h=h.ia,T.L=1,T.v=_s(Wn(_)),T.m=null,T.P=!0,Ic(T,h)}t.Za=function(){this.C!=null&&(this.C=null,Nr(this),Wa(this),Tt(19))};function Ha(h){h.C!=null&&(c.clearTimeout(h.C),h.C=null)}function qa(h,_){var T=null;if(h.g==_){Ha(h),Lc(h),h.g=null;var j=2}else if(yn(h.h,_))T=_.D,sh(h.h,_),j=1;else return;if(h.G!=0){if(_.o)if(j==1){T=_.m?_.m.length:0,_=Date.now()-_.F;var G=h.B;j=Aa(),Mt(j,new Na(j,T)),ni(h)}else Po(h);else if(G=_.s,G==3||G==0&&0<_.X||!(j==1&&Um(h,_)||j==2&&Wa(h)))switch(T&&0<T.length&&(_=h.h,_.i=_.i.concat(T)),G){case 1:Oi(h,5);break;case 4:Oi(h,10);break;case 3:Oi(h,6);break;default:Oi(h,2)}}}function mh(h,_){let T=h.Ta+Math.floor(Math.random()*h.cb);return h.isActive()||(T*=2),T*_}function Oi(h,_){if(h.j.info("Error code "+_),_==2){var T=y(h.fb,h),j=h.Xa;const G=!j;j=new Pi(j||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||To(j,"https"),_s(j),G?jm(j.toString(),T):dh(j.toString(),T)}else Tt(2);h.G=0,h.l&&h.l.sa(_),gh(h),Ba(h)}t.fb=function(h){h?(this.j.info("Successfully pinged google.com"),Tt(2)):(this.j.info("Failed to ping google.com"),Tt(1))};function gh(h){if(h.G=0,h.ka=[],h.l){const _=oh(h.h);(_.length!=0||h.i.length!=0)&&(P(h.ka,_),P(h.ka,h.i),h.h.i.length=0,k(h.i),h.i.length=0),h.l.ra()}}function yh(h,_,T){var j=T instanceof Pi?Wn(T):new Pi(T);if(j.g!="")_&&(j.g=_+"."+j.g),vs(j,j.s);else{var G=c.location;j=G.protocol,_=_?_+"."+G.hostname:G.hostname,G=+G.port;var J=new Pi(null);j&&To(J,j),_&&(J.g=_),G&&vs(J,G),T&&(J.l=T),j=J}return T=h.D,_=h.ya,T&&_&&Qe(j,T,_),Qe(j,"VER",h.la),Ni(h,j),j}function vh(h,_,T){if(_&&!h.J)throw Error("Can't create secondary domain capable XhrIo object.");return _=h.Ca&&!h.pa?new ft(new Ri({eb:T})):new ft(h.pa),_.Ha(h.J),_}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function jc(){}t=jc.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function In(h,_){Dt.call(this),this.g=new Mc(_),this.l=h,this.h=_&&_.messageUrlParams||null,h=_&&_.messageHeaders||null,_&&_.clientProtocolHeaderRequired&&(h?h["X-Client-Protocol"]="webchannel":h={"X-Client-Protocol":"webchannel"}),this.g.o=h,h=_&&_.initMessageHeaders||null,_&&_.messageContentType&&(h?h["X-WebChannel-Content-Type"]=_.messageContentType:h={"X-WebChannel-Content-Type":_.messageContentType}),_&&_.va&&(h?h["X-WebChannel-Client-Profile"]=_.va:h={"X-WebChannel-Client-Profile":_.va}),this.g.S=h,(h=_&&_.Sb)&&!M(h)&&(this.g.m=h),this.v=_&&_.supportsCrossDomainXhr||!1,this.u=_&&_.sendRawJson||!1,(_=_&&_.httpSessionIdParam)&&!M(_)&&(this.g.D=_,h=this.h,h!==null&&_ in h&&(h=this.h,_ in h&&delete h[_])),this.j=new Cs(this)}S(In,Dt),In.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},In.prototype.close=function(){Jt(this.g)},In.prototype.o=function(h){var _=this.g;if(typeof h=="string"){var T={};T.__data__=h,h=T}else this.u&&(T={},T.__data__=vc(h),h=T);_.i.push(new rh(_.Ya++,h)),_.G==3&&ni(_)},In.prototype.N=function(){this.g.l=null,delete this.j,Jt(this.g),delete this.g,In.aa.N.call(this)};function wh(h){Qr.call(this),h.__headers__&&(this.headers=h.__headers__,this.statusCode=h.__status__,delete h.__headers__,delete h.__status__);var _=h.__sm__;if(_){e:{for(const T in _){h=T;break e}h=void 0}(this.i=h)&&(h=this.i,_=_!==null&&h in _?_[h]:void 0),this.data=_}else this.data=h}S(wh,Qr);function _h(){Ra.call(this),this.status=1}S(_h,Ra);function Cs(h){this.g=h}S(Cs,jc),Cs.prototype.ua=function(){Mt(this.g,"a")},Cs.prototype.ta=function(h){Mt(this.g,new wh(h))},Cs.prototype.sa=function(h){Mt(this.g,new _h)},Cs.prototype.ra=function(){Mt(this.g,"b")},In.prototype.send=In.prototype.o,In.prototype.open=In.prototype.m,In.prototype.close=In.prototype.close,Tc.NO_ERROR=0,Tc.TIMEOUT=8,Tc.HTTP_ERROR=6,Dm.COMPLETE="complete",xc.EventType=ir,ir.OPEN="a",ir.CLOSE="b",ir.ERROR="c",ir.MESSAGE="d",Dt.prototype.listen=Dt.prototype.K,ft.prototype.listenOnce=ft.prototype.L,ft.prototype.getLastError=ft.prototype.Ka,ft.prototype.getLastErrorCode=ft.prototype.Ba,ft.prototype.getStatus=ft.prototype.Z,ft.prototype.getResponseJson=ft.prototype.Oa,ft.prototype.getResponseText=ft.prototype.oa,ft.prototype.send=ft.prototype.ea,ft.prototype.setWithCredentials=ft.prototype.Ha}).apply(typeof bf<"u"?bf:typeof self<"u"?self:typeof window<"u"?window:{});const ZE="@firebase/firestore",eS="4.7.14";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}xn.UNAUTHENTICATED=new xn(null),xn.GOOGLE_CREDENTIALS=new xn("google-credentials-uid"),xn.FIRST_PARTY=new xn("first-party-uid"),xn.MOCK_USER=new xn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Vd="11.7.3";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hl=new Wp("@firebase/firestore");function zr(t,...e){if(Hl.logLevel<=Ke.DEBUG){const n=e.map(Jw);Hl.debug(`Firestore (${Vd}): ${t}`,...n)}}function tP(t,...e){if(Hl.logLevel<=Ke.ERROR){const n=e.map(Jw);Hl.error(`Firestore (${Vd}): ${t}`,...n)}}function O9(t,...e){if(Hl.logLevel<=Ke.WARN){const n=e.map(Jw);Hl.warn(`Firestore (${Vd}): ${t}`,...n)}}function Jw(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nP(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,rP(t,r,n)}function rP(t,e,n){let r=`FIRESTORE (${Vd}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw tP(r),new Error(r)}function Lu(t,e,n,r){let i="Unexpected state";typeof n=="string"?i=n:r=n,t||rP(e,i,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ln={CANCELLED:"cancelled",INVALID_ARGUMENT:"invalid-argument",FAILED_PRECONDITION:"failed-precondition"};class jn extends Xr{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ju{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iP{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class D9{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(xn.UNAUTHENTICATED))}shutdown(){}}class M9{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class L9{constructor(e){this.t=e,this.currentUser=xn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Lu(this.o===void 0,42304);let r=this.i;const i=d=>this.i!==r?(r=this.i,n(d)):Promise.resolve();let o=new ju;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new ju,e.enqueueRetryable(()=>i(this.currentUser))};const l=()=>{const d=o;e.enqueueRetryable(async()=>{await d.promise,await i(this.currentUser)})},c=d=>{zr("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=d,this.o&&(this.auth.addAuthTokenListener(this.o),l())};this.t.onInit(d=>c(d)),setTimeout(()=>{if(!this.auth){const d=this.t.getImmediate({optional:!0});d?c(d):(zr("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new ju)}},0),l()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(zr("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Lu(typeof r.accessToken=="string",31837,{l:r}),new iP(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Lu(e===null||typeof e=="string",2055,{h:e}),new xn(e)}}class j9{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=xn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class F9{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new j9(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(xn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class tS{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class $9{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,fn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Lu(this.o===void 0,3512);const r=o=>{o.error!=null&&zr("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const l=o.token!==this.m;return this.m=o.token,zr("FirebaseAppCheckTokenProvider",`Received ${l?"new":"existing"} token.`),l?n(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};const i=o=>{zr("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){const o=this.V.getImmediate({optional:!0});o?i(o):zr("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new tS(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Lu(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new tS(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function U9(t){return t.name==="IndexedDbTransactionError"}const q0="(default)";class Ep{constructor(e,n){this.projectId=e,this.database=n||q0}static empty(){return new Ep("","")}get isDefaultDatabase(){return this.database===q0}isEqual(e){return e instanceof Ep&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var nS,Ve;(Ve=nS||(nS={}))[Ve.OK=0]="OK",Ve[Ve.CANCELLED=1]="CANCELLED",Ve[Ve.UNKNOWN=2]="UNKNOWN",Ve[Ve.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ve[Ve.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ve[Ve.NOT_FOUND=5]="NOT_FOUND",Ve[Ve.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ve[Ve.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ve[Ve.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ve[Ve.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ve[Ve.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ve[Ve.ABORTED=10]="ABORTED",Ve[Ve.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ve[Ve.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ve[Ve.INTERNAL=13]="INTERNAL",Ve[Ve.UNAVAILABLE=14]="UNAVAILABLE",Ve[Ve.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */new eP([4294967295,4294967295],0);/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V9=41943040;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B9=1048576;function Ly(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z9{constructor(e,n,r=1e3,i=1.5,o=6e4){this.bi=e,this.timerId=n,this.u_=r,this.c_=i,this.l_=o,this.h_=0,this.P_=null,this.T_=Date.now(),this.reset()}reset(){this.h_=0}I_(){this.h_=this.l_}E_(e){this.cancel();const n=Math.floor(this.h_+this.d_()),r=Math.max(0,Date.now()-this.T_),i=Math.max(0,n-r);i>0&&zr("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.h_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.P_=this.bi.enqueueAfterDelay(this.timerId,i,()=>(this.T_=Date.now(),e())),this.h_*=this.c_,this.h_<this.u_&&(this.h_=this.u_),this.h_>this.l_&&(this.h_=this.l_)}A_(){this.P_!==null&&(this.P_.skipDelay(),this.P_=null)}cancel(){this.P_!==null&&(this.P_.cancel(),this.P_=null)}d_(){return(Math.random()-.5)*this.h_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qw{constructor(e,n,r,i,o){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new ju,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(l=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,o){const l=Date.now()+r,c=new Qw(e,n,l,i,o);return c.start(r),c}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new jn(Ln.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}var rS,iS;(iS=rS||(rS={})).ya="default",iS.Cache="cache";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function W9(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sS=new Map;function H9(t,e,n,r){if(e===!0&&r===!0)throw new jn(Ln.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function q9(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":nP(12329,{type:typeof t})}function G9(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new jn(Ln.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=q9(t);throw new jn(Ln.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sP="firestore.googleapis.com",oS=!0;class aS{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new jn(Ln.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=sP,this.ssl=oS}else this.host=e.host,this.ssl=(n=e.ssl)!==null&&n!==void 0?n:oS;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=V9;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<B9)throw new jn(Ln.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}H9("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=W9((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new jn(Ln.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new jn(Ln.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new jn(Ln.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class oP{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new aS({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new jn(Ln.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new jn(Ln.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new aS(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new D9;switch(r.type){case"firstParty":return new F9(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new jn(Ln.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,ho("Firestore",this._settings.isUsingEmulator),this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=sS.get(n);r&&(zr("ComponentProvider","Removing Datastore"),sS.delete(n),r.terminate())}(this),Promise.resolve()}}function aP(t,e,n,r={}){var i;t=G9(t,oP);const o=uo(e),l=t._getSettings(),c=Object.assign(Object.assign({},l),{emulatorOptions:t._getEmulatorOptions()}),d=`${e}:${n}`;l.host!==sP&&l.host!==d&&O9("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const f=Object.assign(Object.assign({},l),{host:d,ssl:o,emulatorOptions:r});if(!no(f,c)&&(t._setSettings(f),o&&(Vp(`https://${d}`),ho("Firestore",!0)),r.mockUserToken)){let m,g;if(typeof r.mockUserToken=="string")m=r.mockUserToken,g=xn.MOCK_USER;else{m=zv(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const y=r.mockUserToken.sub||r.mockUserToken.user_id;if(!y)throw new jn(Ln.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");g=new xn(y)}t._authCredentials=new M9(new iP(m,g))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lS="AsyncQueue";class cS{constructor(e=Promise.resolve()){this.Qu=[],this.$u=!1,this.Uu=[],this.Ku=null,this.Wu=!1,this.Gu=!1,this.zu=[],this.y_=new z9(this,"async_queue_retry"),this.ju=()=>{const r=Ly();r&&zr(lS,"Visibility state changed to "+r.visibilityState),this.y_.A_()},this.Hu=e;const n=Ly();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.ju)}get isShuttingDown(){return this.$u}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Ju(),this.Yu(e)}enterRestrictedMode(e){if(!this.$u){this.$u=!0,this.Gu=e||!1;const n=Ly();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.ju)}}enqueue(e){if(this.Ju(),this.$u)return new Promise(()=>{});const n=new ju;return this.Yu(()=>this.$u&&this.Gu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Qu.push(e),this.Zu()))}async Zu(){if(this.Qu.length!==0){try{await this.Qu[0](),this.Qu.shift(),this.y_.reset()}catch(e){if(!U9(e))throw e;zr(lS,"Operation failed with retryable error: "+e)}this.Qu.length>0&&this.y_.E_(()=>this.Zu())}}Yu(e){const n=this.Hu.then(()=>(this.Wu=!0,e().catch(r=>{throw this.Ku=r,this.Wu=!1,tP("INTERNAL UNHANDLED ERROR: ",uS(r)),r}).then(r=>(this.Wu=!1,r))));return this.Hu=n,n}enqueueAfterDelay(e,n,r){this.Ju(),this.zu.indexOf(e)>-1&&(n=0);const i=Qw.createAndSchedule(this,e,n,r,o=>this.Xu(o));return this.Uu.push(i),i}Ju(){this.Ku&&nP(47125,{ec:uS(this.Ku)})}verifyOperationInProgress(){}async tc(){let e;do e=this.Hu,await e;while(e!==this.Hu)}nc(e){for(const n of this.Uu)if(n.timerId===e)return!0;return!1}rc(e){return this.tc().then(()=>{this.Uu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.Uu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.tc()})}sc(e){this.zu.push(e)}Xu(e){const n=this.Uu.indexOf(e);this.Uu.splice(n,1)}}function uS(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class K9 extends oP{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new cS,this._persistenceKey=i?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new cS(e),this._firestoreClient=void 0,await e}}}function Y9(t,e){const n=typeof t=="object"?t:kd(),r=typeof t=="string"?t:q0,i=fo(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const o=Bv("firestore");o&&aP(i,...o)}return i}(function(e,n=!0){(function(i){Vd=i})(po),er(new Un("firestore",(r,{instanceIdentifier:i,options:o})=>{const l=r.getProvider("app").getImmediate(),c=new K9(new L9(r.getProvider("auth-internal")),new $9(l,r.getProvider("app-check-internal")),function(f,m){if(!Object.prototype.hasOwnProperty.apply(f.options,["projectId"]))throw new jn(Ln.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ep(f.options.projectId,m)}(l,i),l);return o=Object.assign({useFetchStreams:n},o),c._setSettings(o),c},"PUBLIC").setMultipleInstances(!0)),Yt(ZE,eS,e),Yt(ZE,eS,"esm2017")})();const X9={apiKey:"AIzaSyD9cpSfGG212h80iXofJetw-B-arEEcOvI",authDomain:"emprochampions2025.firebaseapp.com",databaseURL:"https://emprochampions2025-default-rtdb.firebaseio.com",projectId:"emprochampions2025",storageBucket:"emprochampions2025.appspot.com",messagingSenderId:"683206087538",appId:"1:683206087538:web:8a1473aec968bd6ab543eb",measurementId:"G-3TX5J3NDT5"},Ea=l2(X9),Gs=yk(Ea),Ce=Hw(Ea),J9=QI(Ea),Q9=Y9(Ea);Zv(Ea);new hi;window.location.hostname==="localhost"&&(Z2(Gs,"http://localhost:9099"),AI(Ce,"localhost",9e3),ZI(J9,"localhost",9199),aP(Q9,"localhost",8080),console.log("Conectado a emuladores de Firebase"));const lP=b.createContext(),Jr=()=>{const t=b.useContext(lP);if(!t)throw new Error("useAuth must be used within an AuthProvider");return t};function Z9({children:t}){const[e,n]=b.useState(null),[r,i]=b.useState(null),[o,l]=b.useState(!0),c=(g,y)=>ik(Gs,g,y),d=(g,y)=>GL(Gs,g,y),f=()=>sk(Gs),m=()=>{const g=new hi;return g.setCustomParameters({prompt:"select_account"}),y3(Gs,g)};return b.useEffect(()=>{const g=JL(Gs,async y=>{if(y){const S=["yayirobe2305@gmail.com","gersonespino@gmail.com","andiescobar8@gmail.com","rodriguezmerary42@gmail.com"].includes(y.email)?"admin":"usuario";i(S),n(y);const k=be(Ce,`usuarios/${y.uid}`),P=await Zi(k);if(P.exists())P.val().rol!==S&&await oo(k,{rol:S});else{const N={correo:y.email,rol:S,nombre:y.displayName?.split(" ")[0]||"",apellido:y.displayName?.split(" ")[1]||""};await St(k,N)}}else n(null),i(null);l(!1)});return()=>g()},[]),w.jsx(lP.Provider,{value:{user:e,rol:r,loading:o,signup:c,login:d,logout:f,loginWithGoogle:m},children:t})}const Sp={calendario:{femenino:{asignaciones:{A:"Equipo A",B:"Equipo B",C:"Equipo C",D:"Equipo D",E:"Equipo E"},partidos:{jornada1:[{cancha:"1",equipo1:"A",equipo2:"B",fecha:"Sbado 28 Jun - 08:00 AM"},{cancha:"2",equipo1:"C",equipo2:"D",fecha:"Sbado 28 Jun - 08:00 AM"}],jornada2:[{cancha:"1",equipo1:"A",equipo2:"C",fecha:"Sbado 28 Jun - 09:00 AM"},{cancha:"2",equipo1:"B",equipo2:"E",fecha:"Sbado 28 Jun - 09:00 AM"}],jornada3:[{cancha:"1",equipo1:"A",equipo2:"D",fecha:"Sbado 28 Jun - 10:00 AM"},{cancha:"2",equipo1:"C",equipo2:"E",fecha:"Sbado 28 Jun - 10:00 AM"}],jornada4:[{cancha:"1",equipo1:"A",equipo2:"E",fecha:"Sbado 28 Jun - 11:00 AM"},{cancha:"2",equipo1:"B",equipo2:"D",fecha:"Sbado 28 Jun - 11:00 AM"}],jornada5:[{cancha:"1",equipo1:"B",equipo2:"C",fecha:"Sbado 28 Jun - 12:00 PM"},{cancha:"2",equipo1:"D",equipo2:"E",fecha:"Sbado 28 Jun - 12:00 PM"}],semifinales:[{cancha:"1",equipo1:"1er Lugar",equipo2:"4to Lugar",fecha:"Domingo 29 Jun - 09:00 AM"},{cancha:"2",equipo1:"2do Lugar",equipo2:"3er Lugar",fecha:"Domingo 29 Jun - 09:00 AM"}],finales:[{cancha:"2",equipo1:"Perdedor Semi 1",equipo2:"Perdedor Semi 2",fecha:"Domingo 29 Jun - 11:00 AM",nombre:"Tercer Lugar"},{cancha:"1",equipo1:"Ganador Semi 1",equipo2:"Ganador Semi 2",fecha:"Domingo 29 Jun - 12:00 PM",nombre:"Gran Final"}]}},masculino:{asignaciones:{A:"Equipo A",B:"Equipo B",C:"Equipo C",D:"Equipo D",E:"Equipo E",F:"Equipo F"},partidos:{jornada1:[{cancha:"1",equipo1:"A",equipo2:"F",fecha:"Sbado 28 Jun - 02:00 PM"},{cancha:"2",equipo1:"B",equipo2:"E",fecha:"Sbado 28 Jun - 02:00 PM"},{cancha:"1",equipo1:"C",equipo2:"D",fecha:"Sbado 28 Jun - 03:00 PM"}],jornada2:[{cancha:"2",equipo1:"A",equipo2:"E",fecha:"Sbado 28 Jun - 03:00 PM"},{cancha:"1",equipo1:"B",equipo2:"D",fecha:"Sbado 28 Jun - 04:00 PM"},{cancha:"2",equipo1:"C",equipo2:"F",fecha:"Sbado 28 Jun - 04:00 PM"}],jornada3:[{cancha:"1",equipo1:"A",equipo2:"D",fecha:"Domingo 29 Jun - 08:00 AM"},{cancha:"2",equipo1:"B",equipo2:"C",fecha:"Domingo 29 Jun - 08:00 AM"},{cancha:"1",equipo1:"E",equipo2:"F",fecha:"Domingo 29 Jun - 10:00 AM"}],jornada4:[{cancha:"2",equipo1:"A",equipo2:"C",fecha:"Domingo 29 Jun - 10:00 AM"},{cancha:"1",equipo1:"B",equipo2:"F",fecha:"Domingo 29 Jun - 11:00 AM"},{cancha:"2",equipo1:"D",equipo2:"E",fecha:"Domingo 29 Jun - 11:00 AM"}],jornada5:[{cancha:"1",equipo1:"A",equipo2:"B",fecha:"Domingo 29 Jun - 01:00 PM"},{cancha:"2",equipo1:"C",equipo2:"E",fecha:"Domingo 29 Jun - 01:00 PM"},{cancha:"1",equipo1:"D",equipo2:"F",fecha:"Domingo 29 Jun - 02:00 PM"}],semifinales:[{cancha:"1",equipo1:"1er Lugar",equipo2:"4to Lugar",fecha:"Domingo 29 Jun - 03:00 PM"},{cancha:"2",equipo1:"2do Lugar",equipo2:"3er Lugar",fecha:"Domingo 29 Jun - 03:00 PM"}],finales:[{cancha:"2",equipo1:"Perdedor Semi 1",equipo2:"Perdedor Semi 2",fecha:"Domingo 29 Jun - 04:00 PM",nombre:"Tercer Lugar"},{cancha:"1",equipo1:"Ganador Semi 1",equipo2:"Ganador Semi 2",fecha:"Domingo 29 Jun - 05:00 PM",nombre:"Gran Final"}]}}},plantillas:{femenino:{"Don Bosco":{logo:"bosco.png",jugadores:[]},"Atrapados en su Red":{logo:"atrapados.png",jugadores:[]},"Luz en mi Camino":{logo:"luz.png",jugadores:[]},"Mensajeros de Paz":{logo:"mensajeros.png",jugadores:[]},"Huellas de Jesus":{logo:"huellas.png",jugadores:[]}},masculino:{"Don Bosco":{logo:"bosco.png",jugadores:[]},"Atrapados en su Red":{logo:"atrapados.png",jugadores:[]},"Luz en mi Camino":{logo:"luz.png",jugadores:[]},"Mensajeros de Paz":{logo:"mensajeros.png",jugadores:[]},"Huellas de Jesus":{logo:"huellas.png",jugadores:[]},Emprosaurios:{logo:"emprosaurios.png",jugadores:[]}}}},e$=()=>{const t=Hw();be(t,"calendario")};function t$(){const[t,e]=b.useState(""),[n,r]=b.useState(""),[i,o]=b.useState(""),l=xr(),{login:c,loginWithGoogle:d}=Jr(),f=async g=>{g.preventDefault(),o("");try{await c(t,n),l("/")}catch(y){o("Credenciales incorrectas. Verifica tu correo y contrasea."),console.error("Error en login:",y.message)}},m=async()=>{o("");try{await d(),l("/")}catch(g){o("Error al iniciar sesin con Google."),console.error("Error en login con Google:",g.message)}};return w.jsx("div",{className:"min-h-screen bg-cover bg-center flex items-center justify-center",style:{backgroundImage:"url('/EmproChampions-2025/img/fondoempro-horizontal.png')"},children:w.jsxs("div",{className:"bg-white/90 rounded-2xl shadow-lg p-8 w-full max-w-md text-center",children:[w.jsx("img",{src:"/EmproChampions-2025/img/logo-empro.png",alt:"Logo Empro",className:"w-32 md:w-40 mx-auto mb-4"}),w.jsx("h1",{className:"text-3xl font-bold text-[#7a0026] mb-6",children:"Empro Champions 2025"}),i&&w.jsx("p",{className:"bg-red-500 text-white p-2 rounded-md mb-4",children:i}),w.jsxs("form",{onSubmit:f,className:"space-y-4",children:[w.jsx("h2",{className:"text-lg text-[#7a0026] font-bold",children:"HOLA, INICIA SESIN!"}),w.jsx("input",{type:"email",placeholder:"CORREO",value:t,onChange:g=>e(g.target.value),required:!0,className:"w-full px-4 py-2 border border-[#7a0026] rounded-md focus:outline-none focus:ring-2 focus:ring-[#FFD700]",autoComplete:"email"}),w.jsx("input",{type:"password",placeholder:"CONTRASEA",value:n,onChange:g=>r(g.target.value),required:!0,className:"w-full px-4 py-2 border border-[#7a0026] rounded-md focus:outline-none focus:ring-2 focus:ring-[#FFD700]",autoComplete:"current-password"}),w.jsx("button",{type:"submit",className:"w-full bg-[#FFD700] text-[#7a0026] font-bold py-2 rounded-md hover:bg-yellow-400 transition",children:"INICIAR SESIN"})]}),w.jsx("div",{className:"my-4 text-[#7a0026] font-semibold",children:"o"}),w.jsx("button",{onClick:m,className:"w-full bg-blue-600 text-white font-bold py-2 rounded-md hover:bg-blue-700 transition",children:"INGRESA CON GOOGLE"}),w.jsxs("p",{className:"mt-4 text-sm text-[#7a0026]",children:["No tienes cuenta?"," ",w.jsx(ra,{to:"/registro",className:"font-bold underline",children:"Crea una"})]})]})})}function n$(){const[t,e]=b.useState(""),[n,r]=b.useState(""),[i,o]=b.useState(""),[l,c]=b.useState(""),d=xr(),f=(g,y)=>{const C=g?.charAt(0).toUpperCase()||"",S=y?.charAt(0).toUpperCase()||"";return`${C}${S}`},m=async g=>{g.preventDefault();try{const y=await ik(Gs,i,l),C=y.user.uid,S={nombre:t,apellido:n,correo:i,rol:"usuario",iniciales:f(t,n),foto:null};await St(be(Ce,`usuarios/${C}`),S),await KL(y.user),alert("Cuenta creada exitosamente! Se ha enviado un correo de verificacin a tu direccin de email. Por favor, verifica tu correo para activar tu cuenta."),d("/login")}catch(y){console.error("Error al crear la cuenta:",y),y.code==="auth/email-already-in-use"?alert("Este correo electrnico ya est registrado. Por favor, intenta con otro o inicia sesin."):y.code==="auth/weak-password"?alert("La contrasea es demasiado dbil. Debe tener al menos 6 caracteres."):alert("Error al crear la cuenta. Por favor, intntalo de nuevo. Detalles: "+y.message)}};return w.jsx("div",{className:"min-h-screen bg-cover bg-center flex items-center justify-center",style:{backgroundImage:"url('/EmproChampions-2025/img/fondoempro-horizontal.png')"},children:w.jsxs("div",{className:"bg-white/90 rounded-2xl shadow-lg p-8 w-full max-w-md text-center",children:[w.jsx("img",{src:"/EmproChampions-2025/img/logo-empro.png",alt:"Logo Empro",className:"w-24 mx-auto mb-4"}),w.jsx("h1",{className:"text-3xl font-bold text-[#7a0026] mb-6",children:"Crear Cuenta"}),w.jsxs("form",{onSubmit:m,className:"space-y-4",children:[w.jsx("input",{type:"text",placeholder:"Nombre",value:t,onChange:g=>e(g.target.value),required:!0,className:"w-full px-4 py-2 border border-[#7a0026] rounded-md focus:outline-none focus:ring-2 focus:ring-[#FFD700]"}),w.jsx("input",{type:"text",placeholder:"Apellido",value:n,onChange:g=>r(g.target.value),required:!0,className:"w-full px-4 py-2 border border-[#7a0026] rounded-md focus:outline-none focus:ring-2 focus:ring-[#FFD700]"}),w.jsx("input",{type:"email",placeholder:"Correo",value:i,onChange:g=>o(g.target.value),required:!0,className:"w-full px-4 py-2 border border-[#7a0026] rounded-md focus:outline-none focus:ring-2 focus:ring-[#FFD700]"}),w.jsx("input",{type:"password",placeholder:"Contrasea (mn. 6 caracteres)",value:l,onChange:g=>c(g.target.value),required:!0,className:"w-full px-4 py-2 border border-[#7a0026] rounded-md focus:outline-none focus:ring-2 focus:ring-[#FFD700]"}),w.jsx("button",{type:"submit",className:"w-full bg-[#FFD700] text-[#7a0026] font-bold py-2 rounded-md hover:bg-yellow-400 transition",children:"Registrarme"})]}),w.jsxs("p",{className:"mt-4 text-sm text-[#7a0026]",children:["Ya tienes cuenta?"," ",w.jsx(ra,{to:"/login",className:"font-bold underline",children:"Inicia sesin"})]})]})})}function r$({title:t,titleId:e,...n},r){return b.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?b.createElement("title",{id:e},t):null,b.createElement("path",{fillRule:"evenodd",d:"M5.25 9a6.75 6.75 0 0 1 13.5 0v.75c0 2.123.8 4.057 2.118 5.52a.75.75 0 0 1-.297 1.206c-1.544.57-3.16.99-4.831 1.243a3.75 3.75 0 1 1-7.48 0 24.585 24.585 0 0 1-4.831-1.244.75.75 0 0 1-.298-1.205A8.217 8.217 0 0 0 5.25 9.75V9Zm4.502 8.9a2.25 2.25 0 1 0 4.496 0 25.057 25.057 0 0 1-4.496 0Z",clipRule:"evenodd"}))}const i$=b.forwardRef(r$);function s$({title:t,titleId:e,...n},r){return b.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?b.createElement("title",{id:e},t):null,b.createElement("path",{d:"M12.75 12.75a.75.75 0 1 1-1.5 0 .75.75 0 0 1 1.5 0ZM7.5 15.75a.75.75 0 1 0 0-1.5.75.75 0 0 0 0 1.5ZM8.25 17.25a.75.75 0 1 1-1.5 0 .75.75 0 0 1 1.5 0ZM9.75 15.75a.75.75 0 1 0 0-1.5.75.75 0 0 0 0 1.5ZM10.5 17.25a.75.75 0 1 1-1.5 0 .75.75 0 0 1 1.5 0ZM12 15.75a.75.75 0 1 0 0-1.5.75.75 0 0 0 0 1.5ZM12.75 17.25a.75.75 0 1 1-1.5 0 .75.75 0 0 1 1.5 0ZM14.25 15.75a.75.75 0 1 0 0-1.5.75.75 0 0 0 0 1.5ZM15 17.25a.75.75 0 1 1-1.5 0 .75.75 0 0 1 1.5 0ZM16.5 15.75a.75.75 0 1 0 0-1.5.75.75 0 0 0 0 1.5ZM15 12.75a.75.75 0 1 1-1.5 0 .75.75 0 0 1 1.5 0ZM16.5 13.5a.75.75 0 1 0 0-1.5.75.75 0 0 0 0 1.5Z"}),b.createElement("path",{fillRule:"evenodd",d:"M6.75 2.25A.75.75 0 0 1 7.5 3v1.5h9V3A.75.75 0 0 1 18 3v1.5h.75a3 3 0 0 1 3 3v11.25a3 3 0 0 1-3 3H5.25a3 3 0 0 1-3-3V7.5a3 3 0 0 1 3-3H6V3a.75.75 0 0 1 .75-.75Zm13.5 9a1.5 1.5 0 0 0-1.5-1.5H5.25a1.5 1.5 0 0 0-1.5 1.5v7.5a1.5 1.5 0 0 0 1.5 1.5h13.5a1.5 1.5 0 0 0 1.5-1.5v-7.5Z",clipRule:"evenodd"}))}const o$=b.forwardRef(s$);function a$({title:t,titleId:e,...n},r){return b.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?b.createElement("title",{id:e},t):null,b.createElement("path",{d:"M12 9a3.75 3.75 0 1 0 0 7.5A3.75 3.75 0 0 0 12 9Z"}),b.createElement("path",{fillRule:"evenodd",d:"M9.344 3.071a49.52 49.52 0 0 1 5.312 0c.967.052 1.83.585 2.332 1.39l.821 1.317c.24.383.645.643 1.11.71.386.054.77.113 1.152.177 1.432.239 2.429 1.493 2.429 2.909V18a3 3 0 0 1-3 3h-15a3 3 0 0 1-3-3V9.574c0-1.416.997-2.67 2.429-2.909.382-.064.766-.123 1.151-.178a1.56 1.56 0 0 0 1.11-.71l.822-1.315a2.942 2.942 0 0 1 2.332-1.39ZM6.75 12.75a5.25 5.25 0 1 1 10.5 0 5.25 5.25 0 0 1-10.5 0Zm12-1.5a.75.75 0 1 0 0-1.5.75.75 0 0 0 0 1.5Z",clipRule:"evenodd"}))}const cP=b.forwardRef(a$);function l$({title:t,titleId:e,...n},r){return b.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?b.createElement("title",{id:e},t):null,b.createElement("path",{d:"M18.375 2.25c-1.035 0-1.875.84-1.875 1.875v15.75c0 1.035.84 1.875 1.875 1.875h.75c1.035 0 1.875-.84 1.875-1.875V4.125c0-1.036-.84-1.875-1.875-1.875h-.75ZM9.75 8.625c0-1.036.84-1.875 1.875-1.875h.75c1.036 0 1.875.84 1.875 1.875v11.25c0 1.035-.84 1.875-1.875 1.875h-.75a1.875 1.875 0 0 1-1.875-1.875V8.625ZM3 13.125c0-1.036.84-1.875 1.875-1.875h.75c1.036 0 1.875.84 1.875 1.875v6.75c0 1.035-.84 1.875-1.875 1.875h-.75A1.875 1.875 0 0 1 3 19.875v-6.75Z"}))}const c$=b.forwardRef(l$);function u$({title:t,titleId:e,...n},r){return b.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?b.createElement("title",{id:e},t):null,b.createElement("path",{fillRule:"evenodd",d:"M11.078 2.25c-.917 0-1.699.663-1.85 1.567L9.05 4.889c-.02.12-.115.26-.297.348a7.493 7.493 0 0 0-.986.57c-.166.115-.334.126-.45.083L6.3 5.508a1.875 1.875 0 0 0-2.282.819l-.922 1.597a1.875 1.875 0 0 0 .432 2.385l.84.692c.095.078.17.229.154.43a7.598 7.598 0 0 0 0 1.139c.015.2-.059.352-.153.43l-.841.692a1.875 1.875 0 0 0-.432 2.385l.922 1.597a1.875 1.875 0 0 0 2.282.818l1.019-.382c.115-.043.283-.031.45.082.312.214.641.405.985.57.182.088.277.228.297.35l.178 1.071c.151.904.933 1.567 1.85 1.567h1.844c.916 0 1.699-.663 1.85-1.567l.178-1.072c.02-.12.114-.26.297-.349.344-.165.673-.356.985-.57.167-.114.335-.125.45-.082l1.02.382a1.875 1.875 0 0 0 2.28-.819l.923-1.597a1.875 1.875 0 0 0-.432-2.385l-.84-.692c-.095-.078-.17-.229-.154-.43a7.614 7.614 0 0 0 0-1.139c-.016-.2.059-.352.153-.43l.84-.692c.708-.582.891-1.59.433-2.385l-.922-1.597a1.875 1.875 0 0 0-2.282-.818l-1.02.382c-.114.043-.282.031-.449-.083a7.49 7.49 0 0 0-.985-.57c-.183-.087-.277-.227-.297-.348l-.179-1.072a1.875 1.875 0 0 0-1.85-1.567h-1.843ZM12 15.75a3.75 3.75 0 1 0 0-7.5 3.75 3.75 0 0 0 0 7.5Z",clipRule:"evenodd"}))}const d$=b.forwardRef(u$);function h$({title:t,titleId:e,...n},r){return b.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?b.createElement("title",{id:e},t):null,b.createElement("path",{d:"m11.645 20.91-.007-.003-.022-.012a15.247 15.247 0 0 1-.383-.218 25.18 25.18 0 0 1-4.244-3.17C4.688 15.36 2.25 12.174 2.25 8.25 2.25 5.322 4.714 3 7.688 3A5.5 5.5 0 0 1 12 5.052 5.5 5.5 0 0 1 16.313 3c2.973 0 5.437 2.322 5.437 5.25 0 3.925-2.438 7.111-4.739 9.256a25.175 25.175 0 0 1-4.244 3.17 15.247 15.247 0 0 1-.383.219l-.022.012-.007.004-.003.001a.752.752 0 0 1-.704 0l-.003-.001Z"}))}const dS=b.forwardRef(h$);function f$({title:t,titleId:e,...n},r){return b.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?b.createElement("title",{id:e},t):null,b.createElement("path",{fillRule:"evenodd",d:"M12 2.25c-5.385 0-9.75 4.365-9.75 9.75s4.365 9.75 9.75 9.75 9.75-4.365 9.75-9.75S17.385 2.25 12 2.25ZM12.75 9a.75.75 0 0 0-1.5 0v2.25H9a.75.75 0 0 0 0 1.5h2.25V15a.75.75 0 0 0 1.5 0v-2.25H15a.75.75 0 0 0 0-1.5h-2.25V9Z",clipRule:"evenodd"}))}const p$=b.forwardRef(f$);function m$({title:t,titleId:e,...n},r){return b.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?b.createElement("title",{id:e},t):null,b.createElement("path",{fillRule:"evenodd",d:"M10.788 3.21c.448-1.077 1.976-1.077 2.424 0l2.082 5.006 5.404.434c1.164.093 1.636 1.545.749 2.305l-4.117 3.527 1.257 5.273c.271 1.136-.964 2.033-1.96 1.425L12 18.354 7.373 21.18c-.996.608-2.231-.29-1.96-1.425l1.257-5.273-4.117-3.527c-.887-.76-.415-2.212.749-2.305l5.404-.434 2.082-5.005Z",clipRule:"evenodd"}))}const G0=b.forwardRef(m$);function g$({title:t,titleId:e,...n},r){return b.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?b.createElement("title",{id:e},t):null,b.createElement("path",{fillRule:"evenodd",d:"M5.166 2.621v.858c-1.035.148-2.059.33-3.071.543a.75.75 0 0 0-.584.859 6.753 6.753 0 0 0 6.138 5.6 6.73 6.73 0 0 0 2.743 1.346A6.707 6.707 0 0 1 9.279 15H8.54c-1.036 0-1.875.84-1.875 1.875V19.5h-.75a2.25 2.25 0 0 0-2.25 2.25c0 .414.336.75.75.75h15a.75.75 0 0 0 .75-.75 2.25 2.25 0 0 0-2.25-2.25h-.75v-2.625c0-1.036-.84-1.875-1.875-1.875h-.739a6.706 6.706 0 0 1-1.112-3.173 6.73 6.73 0 0 0 2.743-1.347 6.753 6.753 0 0 0 6.139-5.6.75.75 0 0 0-.585-.858 47.077 47.077 0 0 0-3.07-.543V2.62a.75.75 0 0 0-.658-.744 49.22 49.22 0 0 0-6.093-.377c-2.063 0-4.096.128-6.093.377a.75.75 0 0 0-.657.744Zm0 2.629c0 1.196.312 2.32.857 3.294A5.266 5.266 0 0 1 3.16 5.337a45.6 45.6 0 0 1 2.006-.343v.256Zm13.5 0v-.256c.674.1 1.343.214 2.006.343a5.265 5.265 0 0 1-2.863 3.207 6.72 6.72 0 0 0 .857-3.294Z",clipRule:"evenodd"}))}const y$=b.forwardRef(g$);function v$({title:t,titleId:e,...n},r){return b.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?b.createElement("title",{id:e},t):null,b.createElement("path",{fillRule:"evenodd",d:"M8.25 6.75a3.75 3.75 0 1 1 7.5 0 3.75 3.75 0 0 1-7.5 0ZM15.75 9.75a3 3 0 1 1 6 0 3 3 0 0 1-6 0ZM2.25 9.75a3 3 0 1 1 6 0 3 3 0 0 1-6 0ZM6.31 15.117A6.745 6.745 0 0 1 12 12a6.745 6.745 0 0 1 6.709 7.498.75.75 0 0 1-.372.568A12.696 12.696 0 0 1 12 21.75c-2.305 0-4.47-.612-6.337-1.684a.75.75 0 0 1-.372-.568 6.787 6.787 0 0 1 1.019-4.38Z",clipRule:"evenodd"}),b.createElement("path",{d:"M5.082 14.254a8.287 8.287 0 0 0-1.308 5.135 9.687 9.687 0 0 1-1.764-.44l-.115-.04a.563.563 0 0 1-.373-.487l-.01-.121a3.75 3.75 0 0 1 3.57-4.047ZM20.226 19.389a8.287 8.287 0 0 0-1.308-5.135 3.75 3.75 0 0 1 3.57 4.047l-.01.121a.563.563 0 0 1-.373.486l-.115.04c-.567.2-1.156.349-1.764.441Z"}))}const w$=b.forwardRef(v$);function _$({title:t,titleId:e,...n},r){return b.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?b.createElement("title",{id:e},t):null,b.createElement("path",{d:"M5.25 6.375a4.125 4.125 0 1 1 8.25 0 4.125 4.125 0 0 1-8.25 0ZM2.25 19.125a7.125 7.125 0 0 1 14.25 0v.003l-.001.119a.75.75 0 0 1-.363.63 13.067 13.067 0 0 1-6.761 1.873c-2.472 0-4.786-.684-6.76-1.873a.75.75 0 0 1-.364-.63l-.001-.122ZM18.75 7.5a.75.75 0 0 0-1.5 0v2.25H15a.75.75 0 0 0 0 1.5h2.25v2.25a.75.75 0 0 0 1.5 0v-2.25H21a.75.75 0 0 0 0-1.5h-2.25V7.5Z"}))}const x$=b.forwardRef(_$);function b$({title:t,titleId:e,...n},r){return b.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?b.createElement("title",{id:e},t):null,b.createElement("path",{fillRule:"evenodd",d:"M12 2.25c-5.385 0-9.75 4.365-9.75 9.75s4.365 9.75 9.75 9.75 9.75-4.365 9.75-9.75S17.385 2.25 12 2.25Zm-1.72 6.97a.75.75 0 1 0-1.06 1.06L10.94 12l-1.72 1.72a.75.75 0 1 0 1.06 1.06L12 13.06l1.72 1.72a.75.75 0 1 0 1.06-1.06L13.06 12l1.72-1.72a.75.75 0 1 0-1.06-1.06L12 10.94l-1.72-1.72Z",clipRule:"evenodd"}))}const E$=b.forwardRef(b$),S$="BGq64U5eNzfqCtAtHTqnz9mh2oaeLpOZiJHMMama_1L9h_K1I9qScieLNbW8uHvEnRFlNVR2ZSBqAc61dtaW0Mc",C$=async()=>{try{const t=Zv(Ea),n=yk().currentUser;if(await Notification.requestPermission()==="granted"&&n){console.log("Permiso de notificacin concedido!");const i=await zM(t,{vapidKey:S$});if(i){console.log("Token FCM obtenido:",i);const o=be(Ce,`fcmTokens/${n.uid}`);await St(o,{token:i})}else console.log("No se pudo obtener el token de registro. Pdele permiso al usuario.")}else console.log("No se pudo obtener el permiso para notificaciones.")}catch(t){console.error("Ocurri un error al obtener el token.",t)}};function tr(){const[t,e]=b.useState(!1),{user:n,rol:r,loading:i}=Jr(),o=_i();if(i||o.pathname==="/login"||o.pathname==="/registro")return null;const l=r==="admin"||r==="superadmin",c=[{to:"/",icon:w.jsx(c$,{className:"w-6 h-6"}),label:"Tabla"},{to:"/goleadores",icon:w.jsx(w$,{className:"w-6 h-6"}),label:"Goleadores"},{to:"/calendario",icon:w.jsx(o$,{className:"w-6 h-6"}),label:"Calendario"},{to:"/galeria",icon:w.jsx(cP,{className:"w-6 h-6"}),label:"Galera"},{to:"/equipo-ideal",icon:w.jsx(G0,{className:"w-6 h-6"}),label:"Equipo Ideal"},{to:"/configuracion",icon:w.jsx(d$,{className:"w-6 h-6"}),label:"Cuenta"}];return w.jsx("nav",{className:"bg-[#7a0026] text-white px-4 py-3 shadow-md sticky top-0 z-50",children:w.jsxs("div",{className:"max-w-6xl mx-auto flex justify-between items-center",children:[w.jsxs(ra,{to:"/",className:"flex items-center gap-2 text-2xl font-bold font-qatar",children:[w.jsx(y$,{className:"w-7 h-7 text-yellow-400"}),w.jsx("span",{children:"Empro"})]}),w.jsx("button",{className:"md:hidden transition-transform",onClick:()=>e(!t),children:w.jsx("svg",{className:`w-7 h-7 transition-transform duration-300 ${t?"rotate-90":""}`,fill:"none",stroke:"currentColor",strokeWidth:2,viewBox:"0 0 24 24",children:w.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:t?"M6 18L18 6M6 6l12 12":"M4 6h16M4 12h16M4 18h16"})})}),w.jsxs("ul",{className:`md:flex md:items-center gap-6 text-sm font-bold absolute md:static top-16 left-0 w-full md:w-auto bg-[#7a0026] md:bg-transparent transition-all duration-300 ease-in-out ${t?"block":"hidden"}`,children:[c.map(({to:d,icon:f,label:m})=>w.jsx("li",{className:"p-3 md:p-0 text-center",children:w.jsxs(ra,{to:d,className:"flex items-center gap-2 justify-center hover:text-yellow-400",onClick:()=>e(!1),title:m,children:[f,w.jsx("span",{className:"md:hidden inline",children:m})]})},d)),l&&w.jsx("li",{className:"p-3 md:p-0 text-center",children:w.jsxs(ra,{to:"/partido/configurar",className:"flex items-center gap-2 justify-center hover:text-yellow-400",onClick:()=>e(!1),title:"Nuevo Partido",children:[w.jsx(p$,{className:"w-6 h-6"}),w.jsx("span",{className:"md:hidden inline",children:"Nuevo Partido"})]})}),w.jsx("li",{className:"p-3 md:p-0 text-center",children:w.jsxs("button",{onClick:C$,className:"flex items-center gap-2 justify-center hover:text-yellow-400",title:"Activar Notificaciones",children:[w.jsx(i$,{className:"w-6 h-6"}),w.jsx("span",{className:"md:hidden inline",children:"Notificaciones"})]})})]})]})})}const hS=["pillarh.png","municipalidad.png","mercaditoladespensa.png","Multibox.png","celtec.png","asopilar.png","mrecords.png","Pepsi_2023.svg","pipos.png"],T$=[...hS,...hS];function k$(){return w.jsx("div",{className:"w-full bg-gray-100 py-4 mt-8 overflow-hidden backdrop-blur-sm border-y border-yellow-400/20",children:w.jsx("div",{className:"animate-scroll flex items-center",children:T$.map((t,e)=>w.jsx("div",{className:"flex-shrink-0 mx-10",children:w.jsx("img",{src:`/EmproChampions-2025/img/sponsors/${t}`,alt:`Patrocinador ${e+1}`,className:"h-10 md:h-12 max-w-none"})},e))})})}function nr(){const t=new Date().getFullYear(),e="https://www.facebook.com/elmer.hernandez.516479",n="https://www.instagram.com/hernandezsuarez_27/";return w.jsx("footer",{className:"bg-black/50 text-white font-qatar backdrop-blur-sm mt-auto border-t border-yellow-400/20",children:w.jsxs("div",{className:"mx-auto max-w-5xl px-4 pt-16 pb-8 sm:px-6 lg:px-8",children:[w.jsxs("div",{className:"mx-auto max-w-3xl text-center",children:[w.jsx("p",{className:"leading-relaxed text-gray-300",children:"Evento deportivo de las Comunidades del Centro Guia Santa Rosa de Lima con el objetivo de unir los lazos de amistad y fomentar los buenos valores inculcados en el movimiento."}),w.jsx("p",{className:"mt-6 text-lg italic text-yellow-400",children:'"Porque un verdadero Emproista es aquel que ve el trabajo no como una carga, sino como un privilegio"'})]}),w.jsxs("ul",{className:"mt-12 flex justify-center gap-6 md:gap-8",children:[w.jsx("li",{children:w.jsxs("a",{href:e,rel:"noreferrer",target:"_blank",className:"text-gray-400 transition hover:text-yellow-400","aria-label":"Facebook de Elmer Hernandez",children:[w.jsx("span",{className:"sr-only",children:"Facebook"}),w.jsx("svg",{className:"h-7 w-7",fill:"currentColor",viewBox:"0 0 24 24","aria-hidden":"true",children:w.jsx("path",{fillRule:"evenodd",d:"M22 12c0-5.523-4.477-10-10-10S2 6.477 2 12c0 4.991 3.657 9.128 8.438 9.878v-6.987h-2.54V12h2.54V9.797c0-2.506 1.492-3.89 3.777-3.89 1.094 0 2.238.195 2.238.195v2.46h-1.26c-1.243 0-1.63.771-1.63 1.562V12h2.773l-.443 2.89h-2.33v6.988C18.343 21.128 22 16.991 22 12z",clipRule:"evenodd"})})]})}),w.jsx("li",{children:w.jsxs("a",{href:n,rel:"noreferrer",target:"_blank",className:"text-gray-400 transition hover:text-yellow-400","aria-label":"Instagram de Elmer Hernandez",children:[w.jsx("span",{className:"sr-only",children:"Instagram"}),w.jsx("svg",{className:"h-7 w-7",fill:"currentColor",viewBox:"0 0 24 24","aria-hidden":"true",children:w.jsx("path",{fillRule:"evenodd",d:"M12.315 2c2.43 0 2.784.013 3.808.06 1.064.049 1.791.218 2.427.465a4.902 4.902 0 011.772 1.153 4.902 4.902 0 011.153 1.772c.247.636.416 1.363.465 2.427.048 1.067.06 1.407.06 4.123v.08c0 2.643-.012 2.987-.06 4.043-.049 1.064-.218 1.791-.465 2.427a4.902 4.902 0 01-1.153 1.772 4.902 4.902 0 01-1.772 1.153c-.636.247-1.363.416-2.427.465-1.067.048-1.407.06-4.123.06h-.08c-2.643 0-2.987-.012-4.043-.06-1.064-.049-1.791-.218-2.427-.465a4.902 4.902 0 01-1.772-1.153 4.902 4.902 0 01-1.153-1.772c-.247-.636-.416-1.363-.465-2.427-.047-1.024-.06-1.379-.06-3.808v-.63c0-2.43.013-2.784.06-3.808.049-1.064.218-1.791.465-2.427a4.902 4.902 0 011.153-1.772A4.902 4.902 0 015.45 2.525c.636-.247 1.363-.416 2.427-.465C8.901 2.013 9.256 2 11.685 2h.63zm-.081 1.802h-.468c-2.456 0-2.784.011-3.807.058-.975.045-1.504.207-1.857.344-.467.182-.8.398-1.15.748-.35.35-.566.683-.748 1.15-.137.353-.3.882-.344 1.857-.047 1.023-.058 1.351-.058 3.807v.468c0 2.456.011 2.784.058 3.807.045.975.207 1.504.344 1.857.182.466.399.8.748 1.15.35.35.683.566 1.15.748.353.137.882.3 1.857.344 1.054.048 1.37.058 4.041.058h.08c2.597 0 2.917-.01 3.96-.058.976-.045 1.505-.207 1.858-.344.466-.182.8-.398 1.15-.748.35-.35.566-.683.748-1.15.137-.353.3-.882.344-1.857.048-1.055.058-1.37.058-4.041v-.08c0-2.597-.01-2.917-.058-3.96-.045-.976-.207-1.505-.344-1.858a3.097 3.097 0 00-.748-1.15 3.098 3.098 0 00-1.15-.748c-.353-.137-.882-.3-1.857-.344-1.023-.047-1.351-.058-3.807-.058zM12 6.865a5.135 5.135 0 110 10.27 5.135 5.135 0 010-10.27zm0 1.802a3.333 3.333 0 100 6.666 3.333 3.333 0 000-6.666zm5.338-3.205a1.2 1.2 0 110 2.4 1.2 1.2 0 010-2.4z",clipRule:"evenodd"})})]})})]}),w.jsxs("div",{className:"mt-12 border-t border-yellow-400/20 pt-8 text-center",children:[w.jsxs("p",{className:"text-sm text-gray-400",children:["Copyright  ",t,". EmproChampions. Todos los derechos reservados."]}),w.jsxs("p",{className:"text-sm text-gray-400 mt-2",children:["Diseado por ",w.jsx("a",{href:n,target:"_blank",rel:"noopener noreferrer",className:"text-yellow-400 hover:underline",children:"Elmer Hernandez"})]})]})]})})}function I$(){const[t,e]=b.useState([]),[n,r]=b.useState([]),[i,o]=b.useState("masculino"),[l,c]=b.useState(null),d=xr();b.useEffect(()=>{const m=(y,C)=>{const S=be(Ce,`tablas/${y}`);Pt(S,k=>{const P=k.val();if(P){const N=Object.keys(P).map(M=>({nombre:M,...P[M]})).sort((M,O)=>O.puntos-M.puntos||O.gf-O.gc-(M.gf-M.gc));C(N)}})};m("masculino",e),m("femenino",r);const g=be(Ce,"partidoEnCurso");Pt(g,y=>{const C=y.val();if(C?.partidoId){const S=be(Ce,`partidos/${C.partidoId}/estado`);Pt(S,k=>{const P=k.val();c(P==="finalizado"?null:C)})}else c(null)})},[]);const f=i==="masculino"?t:n;return w.jsxs("div",{className:"w-full min-h-screen bg-cover bg-center text-white font-qatar bg-main-background",children:[w.jsx(tr,{}),w.jsxs("div",{className:"container mx-auto px-4 py-8",children:[w.jsx("h1",{className:"text-5xl font-bold text-center text-yellow-400 drop-shadow-lg mb-6",children:"Tabla de Posiciones"}),l&&w.jsx("div",{className:"flex justify-center mb-4",children:w.jsxs("button",{onClick:()=>d(`/partido/en-vivo/${l.partidoId}`),className:"bg-red-600 hover:bg-red-700 text-white font-bold py-2 px-6 rounded-full shadow-md transition",children:["Partido en curso: ",l.equipo1," vs ",l.equipo2]})}),w.jsxs("div",{className:"flex justify-center mb-8 bg-black/30 rounded-full p-1 max-w-sm mx-auto",children:[w.jsx("button",{onClick:()=>o("masculino"),className:`w-1/2 py-2 rounded-full font-bold transition-colors ${i==="masculino"?"bg-yellow-400 text-black":"hover:bg-white/10"}`,children:"Masculino"}),w.jsx("button",{onClick:()=>o("femenino"),className:`w-1/2 py-2 rounded-full font-bold transition-colors ${i==="femenino"?"bg-yellow-400 text-black":"hover:bg-white/10"}`,children:"Femenino"})]}),w.jsxs("div",{className:"bg-black/50 backdrop-blur-sm rounded-xl overflow-hidden shadow-2xl",children:[w.jsxs("div",{className:"grid grid-cols-10 md:grid-cols-12 text-center font-bold text-yellow-400 p-4 border-b border-yellow-400/20",children:[w.jsx("div",{className:"col-span-4 md:col-span-5 text-left pl-3",children:"Club"}),w.jsx("div",{className:"hidden md:block",children:"PJ"}),w.jsx("div",{className:"hidden md:block",children:"PG"}),w.jsx("div",{className:"hidden md:block",children:"PE"}),w.jsx("div",{className:"hidden md:block",children:"PP"}),w.jsx("div",{className:"col-span-2 md:col-span-1",children:"GF"}),w.jsx("div",{className:"col-span-2 md:col-span-1",children:"GC"}),w.jsx("div",{className:"col-span-2 md:col-span-1",children:"Pts"})]}),w.jsx("div",{children:f.map((m,g)=>w.jsxs("div",{className:"grid grid-cols-10 md:grid-cols-12 items-center text-center p-3 border-b border-gray-700/50 hover:bg-white/5 transition-colors",children:[w.jsxs("div",{className:"col-span-4 md:col-span-5 flex items-center gap-3 text-left",children:[w.jsx("span",{className:"font-bold text-lg w-6 text-center text-gray-400",children:g+1}),w.jsx("img",{src:`/EmproChampions-2025/img/escudos/${m.logo}`,alt:m.nombre,className:"w-8 h-8 md:w-10 md:h-10 object-contain"}),w.jsx("span",{className:"font-bold text-base md:text-lg",children:m.nombre})]}),w.jsx("div",{className:"hidden md:block",children:m.pj}),w.jsx("div",{className:"hidden md:block",children:m.pg}),w.jsx("div",{className:"hidden md:block",children:m.pe}),w.jsx("div",{className:"hidden md:block",children:m.pp}),w.jsx("div",{className:"col-span-2 md:col-span-1",children:m.gf}),w.jsx("div",{className:"col-span-2 md:col-span-1",children:m.gc}),w.jsx("div",{className:"col-span-2 md:col-span-1 font-extrabold text-lg",children:m.puntos})]},m.nombre))})]})]}),w.jsx(k$,{}),w.jsx(nr,{})]})}function P$({equipo:t,jugadores:e,minuto:n,onSeleccion:r,onClose:i}){const[o,l]=b.useState(""),c=()=>{o&&r({nombre:o,minuto:n})};return w.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-70 flex justify-center items-center z-50",children:w.jsxs("div",{className:"bg-white text-black p-6 rounded-lg w-full max-w-md space-y-4",children:[w.jsx("h2",{className:"text-2xl font-bold text-center",children:"Registrar Gol"}),w.jsxs("div",{children:[w.jsx("label",{className:"block font-semibold mb-1",children:"Quin anot?"}),w.jsxs("select",{value:o,onChange:d=>l(d.target.value),className:"w-full border border-gray-300 rounded px-4 py-2",children:[w.jsx("option",{value:"",children:"Seleccionar jugador"}),e.map((d,f)=>w.jsx("option",{value:d.nombre,children:d.nombre},f))]})]}),w.jsxs("div",{className:"flex justify-end gap-4",children:[w.jsx("button",{onClick:i,className:"bg-gray-300 px-4 py-2 rounded font-bold",children:"Cancelar"}),w.jsx("button",{onClick:c,className:"bg-green-500 text-white px-4 py-2 rounded font-bold",children:"Confirmar"})]})]})})}function R$({equipo:t,jugadores:e,minuto:n,onConfirm:r,onClose:i}){const[o,l]=b.useState(""),[c,d]=b.useState(""),f=()=>{!o||!c||r({jugador:o,tipo:c,minuto:n})};return w.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-70 flex justify-center items-center z-50",children:w.jsxs("div",{className:"bg-white text-black p-6 rounded-lg w-full max-w-md space-y-4",children:[w.jsx("h2",{className:"text-2xl font-bold text-center",children:"Registrar Tarjeta"}),w.jsxs("div",{children:[w.jsx("label",{className:"block font-semibold mb-1",children:"Jugador"}),w.jsxs("select",{value:o,onChange:m=>l(m.target.value),className:"w-full border border-gray-300 rounded px-4 py-2",children:[w.jsx("option",{value:"",children:"Seleccionar jugador"}),e.map((m,g)=>w.jsx("option",{value:m.nombre,children:m.nombre},g))]})]}),w.jsxs("div",{children:[w.jsx("label",{className:"block font-semibold mb-1",children:"Tipo de tarjeta"}),w.jsxs("div",{className:"flex gap-4",children:[w.jsxs("label",{className:"flex items-center",children:[w.jsx("input",{type:"radio",value:"amarilla",checked:c==="amarilla",onChange:()=>d("amarilla")}),w.jsx("span",{className:"ml-2",children:" Amarilla"})]}),w.jsxs("label",{className:"flex items-center",children:[w.jsx("input",{type:"radio",value:"roja",checked:c==="roja",onChange:()=>d("roja")}),w.jsx("span",{className:"ml-2",children:" Roja"})]})]})]}),w.jsxs("div",{className:"flex justify-end gap-4",children:[w.jsx("button",{onClick:i,className:"bg-gray-300 px-4 py-2 rounded font-bold",children:"Cancelar"}),w.jsx("button",{onClick:f,className:"bg-yellow-500 px-4 py-2 rounded font-bold",children:"Confirmar"})]})]})})}function A$({equipo:t,jugadores:e,minuto:n,onConfirm:r,onClose:i}){const[o,l]=b.useState(""),[c,d]=b.useState(""),f=()=>{!o||!c.trim()||r(o,c.trim(),n)};return w.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-70 flex justify-center items-center z-50",children:w.jsxs("div",{className:"bg-white text-black p-6 rounded-lg w-full max-w-md space-y-4",children:[w.jsx("h2",{className:"text-2xl font-bold text-center",children:"Realizar Cambio"}),w.jsxs("div",{children:[w.jsx("label",{className:"block font-semibold mb-1",children:"Titular que sale"}),w.jsxs("select",{value:o,onChange:m=>l(m.target.value),className:"w-full border border-gray-300 rounded px-4 py-2",children:[w.jsx("option",{value:"",children:"Seleccionar"}),e.map((m,g)=>w.jsx("option",{value:m.nombre,children:m.nombre},g))]})]}),w.jsxs("div",{children:[w.jsx("label",{className:"block font-semibold mb-1",children:"Suplente que entra"}),w.jsx("input",{type:"text",placeholder:"Escrib el nombre",value:c,onChange:m=>d(m.target.value),className:"w-full border border-gray-300 rounded px-4 py-2"})]}),w.jsxs("div",{className:"flex justify-end gap-4",children:[w.jsx("button",{onClick:i,className:"bg-gray-300 px-4 py-2 rounded font-bold",children:"Cancelar"}),w.jsx("button",{onClick:f,className:"bg-blue-500 text-white px-4 py-2 rounded font-bold",children:"Confirmar Cambio"})]})]})})}function N$({equipoGanador:t,equipo1:e,equipo2:n,onClose:r}){const[i,o]=b.useState(null),l=(e?.jugadores||[]).filter(g=>g.haJugado),c=(n?.jugadores||[]).filter(g=>g.haJugado),d=(g,y)=>{o({...g,equipo:y})},f=()=>{r(i||null)},m=({jugador:g,nombreEquipo:y})=>w.jsxs("div",{onClick:()=>d(g,y),className:`p-3 rounded-lg cursor-pointer transition-all duration-200 text-center ${i?.nombre===g.nombre?"bg-yellow-400 text-black scale-105 ring-2 ring-white":"bg-gray-700 text-white hover:bg-gray-600"}`,children:[w.jsx("span",{className:"font-bold text-base",children:g.nombre}),w.jsxs("span",{className:"block text-sm opacity-80 mt-1",children:["#",g.dorsal]})]},g.nombre);return w.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-70 flex justify-center items-center z-50 p-4 font-qatar",children:w.jsxs("div",{className:"bg-gray-800 rounded-2xl shadow-xl w-full max-w-2xl p-6 border border-yellow-400/30",children:[w.jsxs("div",{className:"text-center",children:[t.nombre!=="Empate"?w.jsx("img",{src:`/EmproChampions-2025/img/escudos/${t.logo}`,alt:t.nombre,className:"w-28 h-28 mx-auto mb-4 object-contain"}):w.jsx("div",{className:"w-28 h-28 mx-auto mb-4 flex items-center justify-center bg-gray-700 rounded-full",children:w.jsx("span",{className:"text-5xl",role:"img","aria-label":"empate",children:""})}),w.jsx("h2",{className:"text-4xl font-extrabold text-yellow-400",children:"Partido Finalizado!"}),w.jsx("p",{className:"text-white mt-2 text-xl",children:t.nombre!=="Empate"?`Ganador: ${t.nombre}`:"El partido termin en empate"}),w.jsx("p",{className:"text-white mt-5 font-bold text-2xl",children:"Selecciona al MVP del partido"})]}),w.jsxs("div",{className:"my-6 flex flex-row gap-4 md:gap-6",children:[w.jsxs("div",{className:"w-1/2",children:[w.jsx("h3",{className:"text-center font-bold text-white mb-4 text-xl",children:e.nombre}),w.jsx("div",{className:"max-h-[35vh] overflow-y-auto grid grid-cols-1 md:grid-cols-2 gap-3 pr-2",children:l.map(g=>w.jsx(m,{jugador:g,nombreEquipo:e.nombre},g.nombre))})]}),w.jsx("div",{className:"w-px bg-gray-600/50"}),w.jsxs("div",{className:"w-1/2",children:[w.jsx("h3",{className:"text-center font-bold text-white mb-4 text-xl",children:n.nombre}),w.jsx("div",{className:"max-h-[35vh] overflow-y-auto grid grid-cols-1 md:grid-cols-2 gap-3 pr-2",children:c.map(g=>w.jsx(m,{jugador:g,nombreEquipo:n.nombre},g.nombre))})]})]}),w.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 pt-4 border-t border-gray-600/50",children:[w.jsx("button",{onClick:()=>r(null),className:"w-full bg-gray-600 hover:bg-gray-500 text-white font-bold py-3 px-4 rounded-lg transition-colors text-lg",children:"Cancelar"}),w.jsx("button",{onClick:f,disabled:!i,className:"w-full bg-green-600 hover:bg-green-500 text-white font-bold py-3 px-4 rounded-lg transition-colors disabled:bg-gray-500 disabled:cursor-not-allowed text-lg",children:"Confirmar MVP y Guardar"})]})]})})}function uP({mensaje:t,tipo:e="info"}){const n={info:"bg-blue-600 text-white",gol:"bg-green-500 text-white",tarjeta:"bg-yellow-400 text-black",roja:"bg-red-600 text-white",success:"bg-emerald-500 text-white"};return w.jsx("div",{className:"fixed bottom-6 left-1/2 -translate-x-1/2 z-[9999]",children:w.jsx("div",{className:`px-6 py-3 rounded-full shadow-lg animate-fade-in-out transition duration-500 ${n[e]||n.info}`,children:w.jsx("p",{className:"text-sm font-bold",children:t})})})}function O$(t=null){const[e,n]=b.useState(0),[r,i]=b.useState(!1),o=b.useRef(null),l=m=>{if(!t)return;const g=String(Math.floor(m/60)).padStart(2,"0"),y=String(m%60).padStart(2,"0");St(be(Ce,`partidos/${t}/cronometro/tiempo`),`${g}:${y}`)},c=()=>{o.current||(i(!0),o.current=setInterval(()=>{n(m=>{const g=m+1;return l(g),g})},1e3))},d=()=>{i(!1),clearInterval(o.current),o.current=null};return{tiempo:e,enMarcha:r,iniciar:c,pausar:d,reiniciar:()=>{d(),n(0),l(0)}}}const D$=({equipo1:t,equipo2:e,goles:n,minuto:r})=>w.jsx("div",{className:"bg-gray-900 bg-opacity-60 backdrop-blur-sm rounded-xl p-4 shadow-lg text-white font-qatar",children:w.jsxs("div",{className:"flex justify-between items-center",children:[w.jsxs("div",{className:"flex flex-col items-center w-1/3 text-center",children:[w.jsx("img",{src:`/EmproChampions-2025/img/escudos/${t.logo}`,alt:t.nombre,className:"h-16 w-16 md:h-24 md:w-24 object-contain"}),w.jsx("span",{className:"mt-2 text-sm md:text-lg font-bold",children:t.nombre})]}),w.jsxs("div",{className:"flex flex-col items-center w-1/3 text-center",children:[w.jsxs("div",{className:"text-4xl md:text-6xl font-black tracking-wider",children:[w.jsx("span",{children:n.equipo1}),w.jsx("span",{className:"mx-2 text-yellow-400",children:"-"}),w.jsx("span",{children:n.equipo2})]}),w.jsx("div",{className:"text-lg md:text-2xl mt-2 font-semibold bg-black/50 px-3 py-1 rounded-md",children:r})]}),w.jsxs("div",{className:"flex flex-col items-center w-1/3 text-center",children:[w.jsx("img",{src:`/EmproChampions-2025/img/escudos/${e.logo}`,alt:e.nombre,className:"h-16 w-16 md:h-24 md:w-24 object-contain"}),w.jsx("span",{className:"mt-2 text-sm md:text-lg font-bold",children:e.nombre})]})]})}),M$=t=>{const e="/EmproChampions-2025/";let n="";return t.tipo.includes("gol")?n="pelota.svg":t.tipo.includes("amarilla")?n="amarilla.svg":t.tipo.includes("roja")?n="roja.svg":t.tipo.includes("cambio")&&(n="cambio.svg"),n?`${e}img/${n}`:null},dP=({eventos:t})=>!t||t.length===0?w.jsx("div",{className:"text-center text-white text-opacity-70 mt-8 py-10",children:"El partido est por comenzar."}):w.jsxs("div",{className:"relative mt-8 py-5 font-barcelona",children:[w.jsx("div",{className:"absolute top-0 left-1/2 w-0.5 h-full bg-gray-500/30"}),t.map((e,n)=>{const r=e.equipo==="equipo1",i=M$(e),o=()=>w.jsxs("div",{className:`flex items-center gap-3 w-full ${r?"flex-row-reverse":"flex-row"}`,children:[w.jsx("span",{className:"font-bold text-sm text-white truncate max-w-[150px] md:max-w-xs",children:e.jugador||`${e.titular}  ${e.suplente}`}),i&&w.jsx("img",{src:i,alt:e.tipo,className:"w-5 h-5"})]});return w.jsxs("div",{className:"relative flex items-center justify-center my-6 h-6",children:[w.jsx("div",{className:"w-1/2 pr-8 flex justify-end",children:r&&w.jsx(o,{})}),w.jsx("div",{className:"absolute z-10 bg-[#1a1d23] px-1.5 py-0.5 rounded-full border border-gray-600/50",children:w.jsxs("span",{className:"text-yellow-400 font-bold text-xs",children:[e.minuto,"'"]})}),w.jsx("div",{className:"w-1/2 pl-8 flex justify-start",children:!r&&w.jsx(o,{})})]},e.id||n)})]});function L$(){const{partidoId:t}=Dv(),e=xr(),[n,r]=b.useState(null),[i,o]=b.useState(null),[l,c]=b.useState(null),[d,f]=b.useState({equipo1:0,equipo2:0}),[m,g]=b.useState([]),[y,C]=b.useState(!1),[S,k]=b.useState(null),[P,N]=b.useState(null),[M,O]=b.useState(null),[U,B]=b.useState(null),[H,D]=b.useState(!1),I=O$(t);b.useEffect(()=>{if(!t)return;const Q=be(Ce,`partidos/${t}`),de=Pt(Q,ve=>{if(ve.exists()){const Ee=ve.val();r(Ee),o(Ee.alineacion.equipo1),c(Ee.alineacion.equipo2),f(Ee.marcador||{equipo1:0,equipo2:0});const Se=Ee.eventos||{},Te=[];for(const _e in Se.goles)Te.push({...Se.goles[_e],id:_e});for(const _e in Se.tarjetas)Te.push({...Se.tarjetas[_e],id:_e});for(const _e in Se.cambios)Te.push({...Se.cambios[_e],id:_e});Te.sort((_e,Be)=>{if(!_e.minuto||!Be.minuto)return 0;const[De,At]=_e.minuto.split(":").map(Number),[rr,Ei]=Be.minuto.split(":").map(Number);return De*60+At-(rr*60+Ei)}),g(Te)}});return()=>hd(Q,"value",de)},[t]);const A=(Q,de="info")=>{B({mensaje:Q,tipo:de}),setTimeout(()=>B(null),4e3)},E=()=>{const Q=String(Math.floor(I.tiempo/60)).padStart(2,"0"),de=String(I.tiempo%60).padStart(2,"0");return`${Q}:${de}`},L=Q=>{if(!I.enMarcha){A("El cronmetro debe estar en marcha","error");return}I.pausar(),k(Q)},$=Q=>N(Q),F=Q=>O(Q),re=async Q=>{const de=S,ve=be(Ce,`partidos/${t}/marcador`),Ee={...d,[de]:(d[de]||0)+1};await St(ve,Ee);const Se=be(Ce,`partidos/${t}/eventos/goles`);await Tl(Se,{tipo:"gol",equipo:de,jugador:Q.nombre,minuto:E()}),k(null),I.iniciar(),A("Gol registrado!","success")},he=async({jugador:Q,tipo:de,minuto:ve})=>{const Ee=P,Se=be(Ce,`partidos/${t}/eventos/tarjetas`);await Tl(Se,{tipo:de,equipo:Ee,jugador:Q,minuto:ve}),N(null),A(`Tarjeta ${de} a ${Q}`,de==="roja"?"roja":"tarjeta")},me=async(Q,de,ve)=>{const Ee=M;let Se=Ee==="equipo1"?i:l,Te=Se.jugadores.map(De=>De.nombre===Q?{...De,enJuego:!1,haJugado:!0}:De),_e=Se.todosJugadores.find(De=>De.nombre===de)||{nombre:de,dorsal:"?",enJuego:!0,haJugado:!0};_e={..._e,enJuego:!0,haJugado:!0},Te.some(De=>De.nombre===_e.nombre)?Te=Te.map(De=>De.nombre===_e.nombre?{...De,enJuego:!0,haJugado:!0}:De):Te.push(_e),await St(be(Ce,`partidos/${t}/alineacion/${Ee}/jugadores`),Te);const Be=be(Ce,`partidos/${t}/eventos/cambios`);await Tl(Be,{tipo:"cambio",equipo:Ee,titular:Q,suplente:de,minuto:ve}),O(null),A(`Cambio: sale ${Q}, entra ${de}`,"info")},fe=async()=>{const Q=be(Ce,`historial/${n.alineacion.genero}`);await Tl(Q,{equipo1:i.nombre,equipo2:l.nombre,goles:d,fecha:new Date().toISOString(),minutoFinal:E()})},te=async()=>{const Q=be(Ce,`tablas/${n.alineacion.genero}`),ve=(await new Promise(rr=>Pt(Q,rr,{onlyOnce:!0}))).val()||{},Ee=i.nombre,Se=l.nombre,Te=d.equipo1,_e=d.equipo2,Be={PJ:0,PG:0,PE:0,PP:0,GF:0,GC:0,PTS:0},De=ve[Ee]||{...Be},At=ve[Se]||{...Be};De.PJ++,At.PJ++,De.GF+=Te,De.GC+=_e,At.GF+=_e,At.GC+=Te,Te>_e?(De.PG++,De.PTS+=3,At.PP++):_e>Te?(At.PG++,At.PTS+=3,De.PP++):(De.PE++,At.PE++,De.PTS+=1,At.PTS+=1),await oo(Q,{[Ee]:De,[Se]:At})},ue=async()=>{const de=(await new Promise(Ee=>Pt(be(Ce,`partidos/${t}/eventos/goles`),Ee,{onlyOnce:!0}))).val()||{},ve=n.alineacion.genero;for(const Ee in de){const Se=de[Ee],Te=`${Se.jugador.replace(/[.#$[\]\s]/g,"_")}-${Se.equipo.replace(/[.#$[\]\s]/g,"_")}`,_e=be(Ce,`goleadores/${ve}/${Te}`),De=(await new Promise(At=>Pt(_e,At,{onlyOnce:!0}))).val()||{nombre:Se.jugador,equipo:Se.equipo,goles:0};De.goles+=1,await St(_e,De)}},ae=()=>{I.pausar(),C(!0)},q=async Q=>{if(C(!1),!H){D(!0);try{await oo(be(Ce,`partidos/${t}`),{estado:"finalizado",mvp:Q});const de=`${Q.nombre.replace(/[.#$[\]\s]/g,"_")}-${Q.equipo.replace(/[.#$[\]\s]/g,"_")}`,ve={nombre:Q.nombre,dorsal:Q.dorsal,equipo:Q.equipo,genero:n.alineacion.genero};await St(be(Ce,`mvps_registrados/${de}`),ve),await fe(),await te(),await ue(),await St(be(Ce,"partidoEnCurso"),null),alert(`Partido finalizado! MVP: ${Q.nombre}`),e("/")}catch(de){console.error("Error al finalizar partido y guardar MVP:",de),alert("Error al guardar los datos del MVP. Revisa la consola."),D(!1)}}},ee=()=>!i||!l?{nombre:"Cargando...",logo:""}:d.equipo1>d.equipo2?i:d.equipo2>d.equipo1?l:{nombre:"Empate",logo:"logo-empro.png"};return n?w.jsxs("div",{className:"w-full min-h-screen bg-cover bg-center text-white font-qatar px-2 md:px-8 py-4 bg-main-background flex flex-col",children:[w.jsx(tr,{}),w.jsxs("div",{className:"container mx-auto flex-grow",children:[w.jsx(D$,{equipo1:i,equipo2:l,goles:d,minuto:E()}),w.jsxs("div",{className:"flex justify-center gap-4 my-6",children:[w.jsx("button",{onClick:I.iniciar,disabled:I.enMarcha,className:"bg-green-500 hover:bg-green-600 text-white font-bold py-2 px-4 rounded disabled:bg-gray-500",children:" Iniciar"}),w.jsx("button",{onClick:I.pausar,disabled:!I.enMarcha,className:"bg-yellow-500 hover:bg-yellow-600 text-white font-bold py-2 px-4 rounded disabled:bg-gray-500",children:" Pausar"}),w.jsx("button",{onClick:I.reiniciar,className:"bg-red-500 hover:bg-red-600 text-white font-bold py-2 px-4 rounded",children:" Reiniciar"})]}),w.jsxs("div",{className:"bg-black/40 backdrop-blur-sm p-4 rounded-lg flex flex-wrap justify-center gap-x-6 gap-y-3 shadow-lg",children:[w.jsxs("button",{onClick:()=>L("equipo1"),className:"text-white font-semibold hover:text-green-400 transition-colors",children:["Gol ",i.nombre]}),w.jsxs("button",{onClick:()=>$("equipo1"),className:"text-white font-semibold hover:text-yellow-400 transition-colors",children:["Tarjeta ",i.nombre]}),w.jsxs("button",{onClick:()=>F("equipo1"),className:"text-white font-semibold hover:text-blue-400 transition-colors",children:["Cambio ",i.nombre]}),w.jsx("div",{className:"w-full md:w-auto h-px md:h-auto md:w-px bg-white/20"}),w.jsxs("button",{onClick:()=>L("equipo2"),className:"text-white font-semibold hover:text-green-400 transition-colors",children:["Gol ",l.nombre]}),w.jsxs("button",{onClick:()=>$("equipo2"),className:"text-white font-semibold hover:text-yellow-400 transition-colors",children:["Tarjeta ",l.nombre]}),w.jsxs("button",{onClick:()=>F("equipo2"),className:"text-white font-semibold hover:text-blue-400 transition-colors",children:["Cambio ",l.nombre]})]}),w.jsx(dP,{eventos:m}),w.jsx("div",{className:"text-center mt-12",children:w.jsx("button",{onClick:ae,className:"bg-yellow-500 hover:bg-yellow-600 text-black font-extrabold text-2xl px-12 py-4 rounded-full shadow-xl",children:"Finalizar Partido"})})]}),S&&w.jsx(P$,{equipo:S,jugadores:(S==="equipo1"?i.jugadores:l.jugadores).filter(Q=>Q.enJuego!==!1),minuto:E(),onSeleccion:re,onClose:()=>{k(null),I.iniciar()}}),P&&w.jsx(R$,{equipo:P,jugadores:(P==="equipo1"?i.jugadores:l.jugadores).filter(Q=>Q.enJuego!==!1),minuto:E(),onConfirm:he,onClose:()=>N(null)}),M&&w.jsx(A$,{equipo:M,jugadores:M==="equipo1"?i.todosJugadores:l.todosJugadores,minuto:E(),onConfirm:me,onClose:()=>O(null)}),y&&w.jsx(N$,{equipoGanador:ee(),equipo1:i,equipo2:l,onClose:q}),U&&w.jsx(uP,{mensaje:U.mensaje,tipo:U.tipo}),w.jsx(nr,{})]}):w.jsxs("div",{className:"w-full min-h-screen bg-cover bg-center text-white flex flex-col bg-main-background",children:[w.jsx(tr,{}),w.jsx("div",{className:"flex-grow flex items-center justify-center text-center p-4",children:w.jsx("div",{children:w.jsx("h2",{className:"text-3xl font-bold",children:"Cargando datos del partido..."})})}),w.jsx(nr,{})]})}function j$(){const[t,e]=b.useState([]),[n,r]=b.useState("masculino"),[i,o]=b.useState(null);b.useEffect(()=>{const c=be(Ce,`goleadores/${n}`);Pt(c,d=>{const f=d.val();if(f){const m=Object.values(f).sort((g,y)=>y.goles-g.goles);e(m)}else e([])})},[n]);const l=c=>{o(i===c?null:c)};return w.jsxs("div",{className:"w-full min-h-screen bg-cover bg-center text-white font-qatar bg-main-background flex flex-col",children:[w.jsx(tr,{}),w.jsxs("div",{className:"container mx-auto px-4 py-8 flex-grow",children:[w.jsx("h1",{className:"text-5xl font-bold text-center text-yellow-400 drop-shadow-lg mb-6",children:"Tabla de Goleadores"}),w.jsxs("div",{className:"flex justify-center mb-8 bg-black/30 rounded-full p-1 max-w-sm mx-auto",children:[w.jsx("button",{onClick:()=>r("masculino"),className:`w-1/2 py-2 rounded-full font-bold transition-colors ${n==="masculino"?"bg-yellow-400 text-black":"hover:bg-white/10"}`,children:"Masculino"}),w.jsx("button",{onClick:()=>r("femenino"),className:`w-1/2 py-2 rounded-full font-bold transition-colors ${n==="femenino"?"bg-yellow-400 text-black":"hover:bg-white/10"}`,children:"Femenino"})]}),w.jsx("div",{className:"space-y-4 max-w-4xl mx-auto",children:t.map((c,d)=>w.jsxs("div",{className:"bg-black/50 backdrop-blur-sm rounded-xl shadow-lg p-4 transition-all duration-300",children:[w.jsxs("div",{className:"flex items-center gap-4",children:[w.jsx("span",{className:"text-3xl font-bold text-yellow-400 w-8 text-center",children:d+1}),w.jsx("img",{src:`/EmproChampions-2025/img/escudos/${c.logo}`,alt:c.equipo,className:"w-12 h-12 object-contain"}),w.jsxs("div",{className:"flex-grow",children:[w.jsx("h2",{className:"text-2xl font-bold",children:c.nombre}),w.jsx("p",{className:"text-sm opacity-80",children:c.equipo})]}),w.jsxs("div",{className:"text-right flex items-center gap-4",children:[w.jsxs("div",{children:[w.jsx("p",{className:"text-4xl font-extrabold",children:c.goles}),w.jsx("p",{className:"text-sm opacity-80 -mt-1",children:"Goles"})]}),w.jsx("button",{onClick:()=>l(c.nombre),className:"bg-yellow-400 text-black font-bold h-10 px-4 rounded-lg text-sm transition hover:bg-yellow-300",children:"Detalles"})]})]}),i===c.nombre&&w.jsxs("div",{className:"pl-14 mt-4 border-t border-white/10 pt-3",children:[w.jsx("h4",{className:"font-bold text-yellow-300 mb-2 text-sm",children:"DETALLE DE GOLES:"}),c.detalles&&c.detalles.length>0?c.detalles.map((f,m)=>w.jsxs("div",{className:"flex items-center gap-2 text-sm opacity-90 mt-1",children:[w.jsx("span",{children:""}),w.jsxs("span",{children:["vs ",f.partidoNombre?.replace(c.equipo,"").replace("vs","").trim()]}),w.jsxs("span",{className:"ml-auto font-mono bg-white/10 px-2 rounded",children:[f.minuto,"'"]})]},m)):w.jsx("p",{className:"text-sm opacity-70",children:"No hay detalles de goles disponibles."})]})]},c.nombre))})]}),w.jsx(nr,{})]})}const F$=({partidoId:t,onClose:e})=>{const[n,r]=b.useState(null);if(b.useEffect(()=>{const o=be(Ce,`partidos/${t}`);Zi(o).then(l=>{if(l.exists()){const c=l.val(),d={marcador:c.resultado?.marcador,mvp:c.resultado?.mvp,equipo1:c.alineacion?.equipo1,equipo2:c.alineacion?.equipo2,eventos:c.eventos||{}};r(d)}})},[t]),!n)return w.jsx("div",{className:"fixed inset-0 bg-black/70 flex items-center justify-center z-50",children:w.jsx("p",{className:"text-white text-xl",children:"Cargando detalles..."})});const i=[];return n.eventos.goles&&Object.values(n.eventos.goles).forEach(o=>i.push({...o,tipoVisual:" Gol"})),i.sort((o,l)=>(o.minuto||"00:00").localeCompare(l.minuto||"00:00")),w.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-80 flex justify-center items-center z-50 p-4 font-qatar",onClick:e,children:w.jsxs("div",{className:"bg-gray-800 rounded-xl w-full max-w-md p-6",onClick:o=>o.stopPropagation(),children:[w.jsx("h2",{className:"text-2xl font-bold text-yellow-400 text-center mb-4",children:"Detalles del Partido"}),w.jsxs("div",{className:"flex justify-between items-center mb-4",children:[w.jsxs("div",{className:"flex items-center gap-2 text-lg font-bold w-2/5",children:[w.jsx("img",{src:`/EmproChampions-2025/img/escudos/${n.equipo1?.logo}`,className:"w-8 h-8 object-contain",alt:n.equipo1?.nombre}),w.jsx("span",{children:n.equipo1?.nombre})]}),w.jsxs("span",{className:"font-bold text-2xl",children:[n.marcador?.equipo1," - ",n.marcador?.equipo2]}),w.jsxs("div",{className:"flex items-center justify-end gap-2 text-lg font-bold w-2/5",children:[w.jsx("span",{className:"text-right",children:n.equipo2?.nombre}),w.jsx("img",{src:`/EmproChampions-2025/img/escudos/${n.equipo2?.logo}`,className:"w-8 h-8 object-contain",alt:n.equipo2?.nombre})]})]}),n.mvp?.nombre&&w.jsxs("p",{className:"text-center mb-4 text-sm",children:["MVP: ",w.jsx("span",{className:"font-bold text-yellow-300",children:n.mvp.nombre})]}),w.jsx("div",{className:"max-h-64 overflow-y-auto space-y-2 border-t border-white/10 pt-3",children:i.map((o,l)=>w.jsxs("div",{className:"flex items-center text-sm p-2 bg-white/5 rounded",children:[w.jsxs("span",{className:"font-mono w-12",children:[o.minuto,"'"]}),w.jsx("span",{className:"w-24",children:o.tipoVisual}),w.jsx("span",{className:"font-bold flex-grow",children:o.jugador})]},l))}),w.jsx("button",{onClick:e,className:"w-full mt-6 bg-yellow-400 text-black font-bold py-2 rounded-lg",children:"Cerrar"})]})})};function $$(){const{user:t}=Jr(),e=xr(),[n,r]=b.useState([]),[i,o]=b.useState("masculino"),[l,c]=b.useState(null);return b.useEffect(()=>{const d=be(Ce,`historial/${i}`),f=Pt(d,m=>{if(m.exists()){const g=Object.entries(m.val()).map(([y,C])=>({id:y,...C})).reverse();r(g)}else r([])});return()=>{hd(d,"value",f)}},[i]),w.jsxs("div",{className:"w-full min-h-screen bg-cover bg-center text-white font-qatar bg-main-background",children:[w.jsx(tr,{}),w.jsxs("div",{className:"container mx-auto px-4 py-8",children:[w.jsx("h1",{className:"text-5xl font-bold text-center text-yellow-400 drop-shadow-lg mb-6",children:"Historial de Partidos"}),w.jsxs("div",{className:"flex justify-center mb-8 bg-black/30 rounded-full p-1 max-w-sm mx-auto",children:[w.jsx("button",{onClick:()=>o("masculino"),className:`w-1/2 py-2 rounded-full font-bold transition-colors ${i==="masculino"?"bg-yellow-400 text-black":"hover:bg-white/10"}`,children:"Masculino"}),w.jsx("button",{onClick:()=>o("femenino"),className:`w-1/2 py-2 rounded-full font-bold transition-colors ${i==="femenino"?"bg-yellow-400 text-black":"hover:bg-white/10"}`,children:"Femenino"})]}),w.jsx("div",{className:"space-y-4 max-w-4xl mx-auto",children:n.map(d=>w.jsx("div",{className:"bg-black/50 backdrop-blur-sm rounded-xl shadow-lg p-4",children:w.jsxs("div",{className:"flex items-center w-full",children:[w.jsxs("div",{className:"flex-grow space-y-2",children:[w.jsxs("div",{className:"flex items-center gap-3",children:[w.jsx("img",{src:`/EmproChampions-2025/img/escudos/${d.logo1}`,className:"w-8 h-8 object-contain",alt:d.equipo1}),w.jsx("span",{children:d.equipo1})]}),w.jsxs("div",{className:"flex items-center gap-3",children:[w.jsx("img",{src:`/EmproChampions-2025/img/escudos/${d.logo2}`,className:"w-8 h-8 object-contain",alt:d.equipo2}),w.jsx("span",{children:d.equipo2})]})]}),w.jsxs("div",{className:"px-6 text-center",children:[w.jsxs("p",{className:"text-4xl font-extrabold",children:[d.goles1," - ",d.goles2]}),w.jsx("p",{className:"text-xs opacity-70",children:d.fecha})]}),w.jsxs("div",{className:"flex items-center gap-2 ml-auto",children:[t&&w.jsx("button",{onClick:()=>e(`/partido/editar/${d.id}`),className:"bg-blue-500 hover:bg-blue-400 text-white font-bold h-10 px-4 rounded-lg text-sm transition",children:"Editar"}),w.jsx("button",{onClick:()=>c(d.id),className:"bg-yellow-400 text-black font-bold h-10 px-4 rounded-lg text-sm transition hover:bg-yellow-300",children:"Detalles"})]})]})},d.id))})]}),l&&w.jsx(F$,{partidoId:l,onClose:()=>c(null)}),w.jsx(nr,{})]})}const U$=[{nombre:"Atrapados",escudo:"/EmproChampions-2025/img/escudos/atrapados.png"},{nombre:"Bosco",escudo:"/EmproChampions-2025/img/escudos/bosco.png"},{nombre:"Emprosaurios",escudo:"/EmproChampions-2025/img/escudos/emprosaurios.png"},{nombre:"Huellas",escudo:"/EmproChampions-2025/img/escudos/huellas.png"},{nombre:"Luz",escudo:"/EmproChampions-2025/img/escudos/luz.png"},{nombre:"Mensajeros",escudo:"/EmproChampions-2025/img/escudos/mensajeros.png"}],V$=[{nombre:"Atrapados",escudo:"/EmproChampions-2025/img/escudos/atrapados.png"},{nombre:"Bosco",escudo:"/EmproChampions-2025/img/escudos/bosco.png"},{nombre:"Huellas",escudo:"/EmproChampions-2025/img/escudos/huellas.png"},{nombre:"Luz",escudo:"/EmproChampions-2025/img/escudos/luz.png"},{nombre:"Mensajeros",escudo:"/EmproChampions-2025/img/escudos/mensajeros.png"}];function fS(){const[t,e]=b.useState("masculino"),n=xr(),r=t==="masculino"?U$:V$,[i,o]=b.useState(0),[l,c]=b.useState(1),[d,f]=b.useState(!0),[m,g]=b.useState(!0),y=(S,k)=>{const P=r.length;S==="local"?(f(!1),setTimeout(()=>{o(N=>(N+k+P)%P),f(!0)},150)):(g(!1),setTimeout(()=>{c(N=>(N+k+P)%P),g(!0)},150))},C=async()=>{const S=r[i],k=r[l];if(S.nombre===k.nombre){alert("El equipo local y visitante no pueden ser el mismo.");return}await St(be(Ce,"selecciones/equipoLocal"),S),await St(be(Ce,"selecciones/equipoVisita"),k),await St(be(Ce,"selecciones/generoPartido"),t),n("/partido/alineacion",{state:{equipoLocal:S,equipoVisita:k,genero:t,fecha:Date.now()}})};return w.jsxs("div",{className:"min-h-screen bg-cover bg-center font-qatar text-white flex flex-col",style:{backgroundImage:"url('/EmproChampions-2025/img/fondoempro-horizontal.png')"},children:[w.jsx(tr,{}),w.jsxs("div",{className:"flex justify-center gap-4 mt-6",children:[w.jsx("button",{onClick:()=>{e("masculino"),o(0),c(1)},className:`px-4 py-2 font-bold rounded-full border-2 ${t==="masculino"?"bg-[#FFD700] text-[#7a0026] border-yellow-400":"bg-transparent border-white text-white"} transition`,children:"Masculino"}),w.jsx("button",{onClick:()=>{e("femenino"),o(0),c(1)},className:`px-4 py-2 font-bold rounded-full border-2 ${t==="femenino"?"bg-[#FFD700] text-[#7a0026] border-yellow-400":"bg-transparent border-white text-white"} transition`,children:"Femenino"})]}),w.jsx("h1",{className:"text-3xl sm:text-4xl font-bold text-center mt-6 text-yellow-400 drop-shadow",children:"Seleccin de Equipos"}),w.jsx("div",{className:"flex flex-col items-center justify-center px-6",children:w.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-10 mt-6 mx-auto px-4 max-w-6xl",children:[w.jsxs("div",{className:"flex flex-col bg-white/90 rounded-2xl p-8 w-full max-w-[460px] text-[#7a0026] shadow-xl transition-all duration-300 min-h-[460px] justify-center items-center",children:[w.jsx("h2",{className:"font-bold text-2xl mb-4",children:"Equipo Local"}),w.jsxs("div",{className:`flex flex-col items-center transition-opacity duration-300 ease-in-out ${d?"opacity-100":"opacity-0"}`,children:[w.jsx("img",{src:r[i].escudo,alt:r[i].nombre,className:"w-32 h-32 object-contain mb-4 drop-shadow-md"}),w.jsx("p",{className:"text-3xl font-black",children:r[i].nombre})]}),w.jsxs("div",{className:"flex gap-10 mt-6",children:[w.jsx("button",{onClick:()=>y("local",-1),className:"text-4xl text-[#FFD700] hover:scale-110 transition",children:""}),w.jsx("button",{onClick:()=>y("local",1),className:"text-4xl text-[#FFD700] hover:scale-110 transition",children:""})]})]}),w.jsxs("div",{className:"flex flex-col bg-white/90 rounded-2xl p-8 w-full max-w-[460px] text-[#7a0026] shadow-xl transition-all duration-300 min-h-[460px] justify-center items-center",children:[w.jsx("h2",{className:"font-bold text-2xl mb-4",children:"Equipo Visitante"}),w.jsxs("div",{className:`flex flex-col items-center transition-opacity duration-300 ease-in-out ${m?"opacity-100":"opacity-0"}`,children:[w.jsx("img",{src:r[l].escudo,alt:r[l].nombre,className:"w-32 h-32 object-contain mb-4 drop-shadow-md"}),w.jsx("p",{className:"text-3xl font-black",children:r[l].nombre})]}),w.jsxs("div",{className:"flex gap-10 mt-6",children:[w.jsx("button",{onClick:()=>y("visita",-1),className:"text-4xl text-[#FFD700] hover:scale-110 transition",children:""}),w.jsx("button",{onClick:()=>y("visita",1),className:"text-4xl text-[#FFD700] hover:scale-110 transition",children:""})]})]})]})}),w.jsx("div",{className:"flex justify-center mt-12 mb-20",children:w.jsx("button",{onClick:C,className:"bg-[#FFD700] text-[#7a0026] font-bold px-10 py-4 rounded-full hover:bg-yellow-300 transition text-xl shadow-lg",children:"Siguiente"})}),w.jsx(nr,{})]})}const B$=[{nombre:"FUENTES",dorsal:15,genero:"masculino"},{nombre:"W. GOMZ",dorsal:8,genero:"masculino"},{nombre:"RENI JOSUE",dorsal:58,genero:"masculino"},{nombre:"C. ZERN",dorsal:3,genero:"masculino"},{nombre:"CARLOS L",dorsal:7,genero:"masculino"},{nombre:"A. PINEDA",dorsal:11,genero:"masculino"},{nombre:"JUAN P.",dorsal:10,genero:"masculino"},{nombre:"J. CHACN",dorsal:5,genero:"masculino"},{nombre:"E. MOLINA",dorsal:9,genero:"masculino"},{nombre:"ALEXANDER",dorsal:16,genero:"masculino"},{nombre:"EDER J",dorsal:22,genero:"masculino"},{nombre:"C. MEJIA",dorsal:19,genero:"masculino"},{nombre:"HERNANDEZ",dorsal:13,genero:"masculino"},{nombre:"L. SUREZ",dorsal:11,genero:"femenino"},{nombre:"N. SUREZ",dorsal:10,genero:"femenino"},{nombre:"ROJAS",dorsal:8,genero:"femenino"},{nombre:"SADDY M",dorsal:7,genero:"femenino"},{nombre:"V. BANEGAS",dorsal:6,genero:"femenino"},{nombre:"ZAVALA",dorsal:20,genero:"femenino"},{nombre:"N. SALGUERO",dorsal:19,genero:"femenino"},{nombre:"H. LPEZ",dorsal:1,genero:"femenino"},{nombre:"S. PINEDA",dorsal:12,genero:"femenino"},{nombre:"C. MEJA",dorsal:21,genero:"femenino"},{nombre:"SHANELY R.",dorsal:9,genero:"femenino"},{nombre:"KRISTHEL",dorsal:3,genero:"femenino"},{nombre:"PONCE",dorsal:22,genero:"femenino"},{nombre:"LINDA M.",dorsal:17,genero:"femenino"},{nombre:"GREYSI",dorsal:14,genero:"femenino"},{nombre:"M ROJAS",dorsal:13,genero:"femenino"}],z$=[{nombre:"Urquia",dorsal:11,genero:"masculino"},{nombre:"Torrez",dorsal:10,genero:"masculino"},{nombre:"J. Menjivar",dorsal:27,genero:"masculino"},{nombre:"Contreras",dorsal:2,genero:"masculino"},{nombre:"Lopez",dorsal:23,genero:"masculino"},{nombre:"Wampy",dorsal:26,genero:"masculino"},{nombre:"Gabriel",dorsal:9,genero:"masculino"},{nombre:"Herrera",dorsal:7,genero:"masculino"},{nombre:"Orellana",dorsal:19,genero:"masculino"},{nombre:"Enrique",dorsal:40,genero:"masculino"},{nombre:"Alexander",dorsal:6,genero:"masculino"},{nombre:"PINEDA",dorsal:8,genero:"masculino"},{nombre:"Anita",dorsal:8,genero:"femenino"},{nombre:"Mayely",dorsal:7,genero:"femenino"},{nombre:"Contreras",dorsal:3,genero:"femenino"},{nombre:"Madrid",dorsal:1,genero:"femenino"},{nombre:"Daniela",dorsal:6,genero:"femenino"},{nombre:"Ross.Paz",dorsal:13,genero:"femenino"},{nombre:"Suarez",dorsal:5,genero:"femenino"},{nombre:"GabSr",dorsal:44,genero:"femenino"},{nombre:"Yussmary",dorsal:9,genero:"femenino"},{nombre:"Fajardo",dorsal:25,genero:"femenino"},{nombre:"Navarro",dorsal:37,genero:"femenino"},{nombre:"Regalado",dorsal:15,genero:"femenino"},{nombre:"Leticia",dorsal:18,genero:"femenino"},{nombre:"Dubon",dorsal:21,genero:"femenino"},{nombre:"Fnez",dorsal:10,genero:"femenino"}],W$=[{nombre:"D. MEJIA",dorsal:23,genero:"masculino"},{nombre:"A. RODRIGUEZ",dorsal:11,genero:"masculino"},{nombre:"OWEN",dorsal:19,genero:"masculino"},{nombre:"JESUS",dorsal:8,genero:"masculino"},{nombre:"LUIS",dorsal:7,genero:"masculino"},{nombre:"RIVERA",dorsal:14,genero:"masculino"},{nombre:"ROLANDO MEJIA",dorsal:1,genero:"masculino"},{nombre:"ERICK",dorsal:28,genero:"masculino"},{nombre:"YORLIN",dorsal:9,genero:"masculino"},{nombre:"J. LOPEZ",dorsal:5,genero:"masculino"},{nombre:"KEVIN LOPEZ",dorsal:13,genero:"masculino"},{nombre:"ALVARADO",dorsal:20,genero:"masculino"},{nombre:"PONCE",dorsal:10,genero:"masculino"},{nombre:"FRABRIIHNDZ",dorsal:22,genero:"masculino"},{nombre:"ALLAN",dorsal:18,genero:"masculino"},{nombre:"TROCHEZ",dorsal:93,genero:"masculino"},{nombre:"FRANCISCO",dorsal:6,genero:"masculino"},{nombre:"MOLINA",dorsal:30,genero:"masculino"},{nombre:"ANGEL",dorsal:21,genero:"masculino"},{nombre:"MEJIA",dorsal:17,genero:"masculino"},{nombre:"CESAR",dorsal:25,genero:"masculino"},{nombre:"LARA F.",dorsal:95,genero:"masculino"}],H$=[{nombre:"E. RUIZ",dorsal:12,genero:"masculino"},{nombre:"E. BENITEZ",dorsal:10,genero:"masculino"},{nombre:"N. RUIZ",dorsal:8,genero:"masculino"},{nombre:"N. SANTOS",dorsal:11,genero:"masculino"},{nombre:"ALVARADO",dorsal:19,genero:"masculino"},{nombre:"AM",dorsal:22,genero:"masculino"},{nombre:"LUIS G.",dorsal:3,genero:"masculino"},{nombre:"L. RUIZ",dorsal:6,genero:"masculino"},{nombre:"RICK",dorsal:1,genero:"masculino"},{nombre:"LUIS CRUZ",dorsal:7,genero:"masculino"},{nombre:"C. CRUZ",dorsal:66,genero:"masculino"},{nombre:"O. TABORA",dorsal:15,genero:"masculino"},{nombre:"ARITA",dorsal:99,genero:"masculino"},{nombre:"UDAI M.",dorsal:9,genero:"masculino"},{nombre:"J. MAYORGA",dorsal:44,genero:"masculino"},{nombre:"W. AMAYA",dorsal:21,genero:"masculino"},{nombre:"E. SUARES",dorsal:23,genero:"masculino"},{nombre:"M. CORTES",dorsal:5,genero:"masculino"},{nombre:"ALVARADO",dorsal:8,genero:"femenino"},{nombre:"N. BRIZUELA",dorsal:88,genero:"femenino"},{nombre:"RAMIREZ",dorsal:14,genero:"femenino"},{nombre:"A. RUIZ",dorsal:5,genero:"femenino"},{nombre:"ESTHER",dorsal:3,genero:"femenino"},{nombre:"G. ARITA",dorsal:2,genero:"femenino"},{nombre:"V. CHAVEZ",dorsal:11,genero:"femenino"},{nombre:"DULCE CRUZ",dorsal:1,genero:"femenino"},{nombre:"R. MARQUEZ",dorsal:19,genero:"femenino"},{nombre:"ALVARENGA",dorsal:17,genero:"femenino"},{nombre:"S. ENAMORADO",dorsal:26,genero:"femenino"},{nombre:"VASQUEZ",dorsal:15,genero:"femenino"},{nombre:"L. DIAZ",dorsal:9,genero:"femenino"},{nombre:"NAY SARMIENT",dorsal:6,genero:"femenino"},{nombre:"MOLINA",dorsal:4,genero:"femenino"},{nombre:"ALVARADO",dorsal:6,genero:"femenino"},{nombre:"RODRIGUEZ",dorsal:7,genero:"femenino"}],q$=[{nombre:"Jayro V",dorsal:14,genero:"masculino"},{nombre:"M. Nuez",dorsal:16,genero:"masculino"},{nombre:"CASTELLANOS",dorsal:27,genero:"masculino"},{nombre:"PREZ",dorsal:19,genero:"masculino"},{nombre:"O. Chinchilla",dorsal:66,genero:"masculino"},{nombre:"C. Tabora",dorsal:12,genero:"masculino"},{nombre:"Cardoza",dorsal:4,genero:"masculino"},{nombre:"T. Orellana",dorsal:11,genero:"masculino"},{nombre:"Tabora CJ",dorsal:6,genero:"masculino"},{nombre:"Yassar",dorsal:8,genero:"masculino"},{nombre:"C HERNANDEZ",dorsal:23,genero:"masculino"},{nombre:"ESPINO",dorsal:5,genero:"masculino"},{nombre:"ZERN",dorsal:6,genero:"femenino"},{nombre:"Pineda",dorsal:8,genero:"femenino"},{nombre:"Key",dorsal:7,genero:"femenino"},{nombre:"Daya",dorsal:16,genero:"femenino"},{nombre:"K. Orellana",dorsal:15,genero:"femenino"},{nombre:"F. Rodriguez",dorsal:7,genero:"femenino"},{nombre:"I. Cceres",dorsal:13,genero:"femenino"},{nombre:"Y. Guerra",dorsal:24,genero:"femenino"},{nombre:"Pineda",dorsal:11,genero:"femenino"},{nombre:"Y. TABORA",dorsal:10,genero:"femenino"},{nombre:"YEII O",dorsal:9,genero:"femenino"},{nombre:"L. Pascual",dorsal:23,genero:"femenino"},{nombre:"Gisele",dorsal:4,genero:"femenino"},{nombre:"MURCIA",dorsal:25,genero:"femenino"},{nombre:"K DUBON",dorsal:23,genero:"femenino"}],G$=[{nombre:"K. JOSUE",dorsal:7,genero:"masculino"},{nombre:"ERICK O.",dorsal:12,genero:"masculino"},{nombre:"FERNANDO S.",dorsal:21,genero:"masculino"},{nombre:"JOSUE",dorsal:13,genero:"masculino"},{nombre:"NOLAN",dorsal:3,genero:"masculino"},{nombre:"FHER O.",dorsal:4,genero:"masculino"},{nombre:"BRIZUELA",dorsal:46,genero:"masculino"},{nombre:"HELTON",dorsal:27,genero:"masculino"},{nombre:"RUIZ",dorsal:5,genero:"masculino"},{nombre:"MELVIN ORELLANA",dorsal:10,genero:"masculino"},{nombre:"C. HERNANDEZ",dorsal:14,genero:"masculino"},{nombre:"HERNANDEZ",dorsal:18,genero:"masculino"},{nombre:"J. CANELO",dorsal:44,genero:"masculino"},{nombre:"SANABRIA",dorsal:9,genero:"masculino"},{nombre:"LUKAS",dorsal:47,genero:"masculino"},{nombre:"BAIRON R.",dorsal:8,genero:"masculino"},{nombre:"AGUILAR",dorsal:11,genero:"masculino"}],K0={bosco:B$,luz:z$,huellas:W$,atrapados:H$,mensajeros:q$,emprosaurios:G$};function K$({tipo:t,index:e,jugador:n,onSave:r,onClose:i,camiseta:o,dorsalColor:l,jugadoresActuales:c,nombreEquipo:d,generoPartido:f}){const m=d?.toLowerCase().replace(/\s+/g,""),g=K0[m]||[],y=c.filter((O,U)=>U!==e&&O.nombre).map(O=>O.nombre),C=g.filter(O=>O.genero===f).filter(O=>!y.includes(O.nombre)),S=n&&n.nombre&&n.dorsal?`${n.nombre}|${n.dorsal}`:"",[k,P]=b.useState(S),N=()=>{if(!k)return;const[O,U]=k.split("|");r(e,t,{nombre:O,dorsal:U})},M=k?k.split("|")[1]:n?.dorsal||"?";return w.jsx("div",{className:"fixed inset-0 flex items-center justify-center z-50 bg-black/70 p-4 font-qatar",children:w.jsxs("div",{className:"bg-gray-800 border border-yellow-500/30 rounded-xl shadow-2xl p-6 text-white relative w-full max-w-sm mx-auto",children:[w.jsx("button",{onClick:i,className:"absolute top-2 right-2 text-gray-400 hover:text-white font-bold text-2xl transition-colors",title:"Cerrar",children:""}),w.jsxs("div",{className:"flex flex-col items-center mb-5",children:[w.jsxs("div",{className:"relative w-24 h-24 mb-3",children:[w.jsx("img",{src:o,alt:"camiseta",className:"w-full h-full drop-shadow-lg"}),w.jsx("span",{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-[45%] font-barcelona text-4xl",style:{color:l,textShadow:"2px 2px 3px rgba(0,0,0,0.7)"},children:M})]}),w.jsx("h2",{className:"text-2xl font-bold text-yellow-400",children:d})]}),w.jsx("label",{htmlFor:"jugador-select",className:"block font-bold mb-2 text-gray-300",children:"Seleccionar Jugador"}),w.jsxs("select",{id:"jugador-select",className:"w-full px-4 py-3 border border-gray-600 rounded-lg bg-gray-700 text-white text-base focus:ring-2 focus:ring-yellow-500 focus:border-yellow-500 transition",value:k,onChange:O=>P(O.target.value),children:[w.jsx("option",{value:"",disabled:!0,children:"Elige un jugador..."}),C.map(O=>w.jsx("option",{value:`${O.nombre}|${O.dorsal}`,children:O.nombre},O.dorsal+O.nombre))]}),w.jsxs("div",{className:"mt-6 space-y-3",children:[w.jsx("button",{disabled:!k,onClick:N,className:"w-full bg-[#FFD700] text-[#7a0026] font-bold py-3 rounded-lg hover:bg-yellow-400 transition transform hover:scale-105 disabled:bg-gray-500 disabled:text-gray-300 disabled:transform-none disabled:cursor-not-allowed",children:"Guardar"}),w.jsx("button",{onClick:i,className:"w-full bg-gray-600 text-gray-200 font-bold py-3 rounded-lg hover:bg-gray-500 transition",children:"Cancelar"})]})]})})}const Zw=b.createContext({});function e_(t){const e=b.useRef(null);return e.current===null&&(e.current=t()),e.current}const t_=typeof window<"u",hP=t_?b.useLayoutEffect:b.useEffect,lm=b.createContext(null);function n_(t,e){t.indexOf(e)===-1&&t.push(e)}function r_(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const os=(t,e,n)=>n>e?e:n<t?t:n;let i_=()=>{};const as={},fP=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t);function pP(t){return typeof t=="object"&&t!==null}const mP=t=>/^0[^.\s]+$/u.test(t);function s_(t){let e;return()=>(e===void 0&&(e=t()),e)}const vr=t=>t,Y$=(t,e)=>n=>e(t(n)),Bd=(...t)=>t.reduce(Y$),fd=(t,e,n)=>{const r=e-t;return r===0?1:(n-t)/r};class o_{constructor(){this.subscriptions=[]}add(e){return n_(this.subscriptions,e),()=>r_(this.subscriptions,e)}notify(e,n,r){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](e,n,r);else for(let o=0;o<i;o++){const l=this.subscriptions[o];l&&l(e,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const gi=t=>t*1e3,yi=t=>t/1e3;function gP(t,e){return e?t*(1e3/e):0}const yP=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,X$=1e-7,J$=12;function Q$(t,e,n,r,i){let o,l,c=0;do l=e+(n-e)/2,o=yP(l,r,i)-t,o>0?n=l:e=l;while(Math.abs(o)>X$&&++c<J$);return l}function zd(t,e,n,r){if(t===e&&n===r)return vr;const i=o=>Q$(o,0,1,t,n);return o=>o===0||o===1?o:yP(i(o),e,r)}const vP=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,wP=t=>e=>1-t(1-e),_P=zd(.33,1.53,.69,.99),a_=wP(_P),xP=vP(a_),bP=t=>(t*=2)<1?.5*a_(t):.5*(2-Math.pow(2,-10*(t-1))),l_=t=>1-Math.sin(Math.acos(t)),EP=wP(l_),SP=vP(l_),Z$=zd(.42,0,1,1),e8=zd(0,0,.58,1),CP=zd(.42,0,.58,1),t8=t=>Array.isArray(t)&&typeof t[0]!="number",TP=t=>Array.isArray(t)&&typeof t[0]=="number",n8={linear:vr,easeIn:Z$,easeInOut:CP,easeOut:e8,circIn:l_,circInOut:SP,circOut:EP,backIn:a_,backInOut:xP,backOut:_P,anticipate:bP},r8=t=>typeof t=="string",pS=t=>{if(TP(t)){i_(t.length===4);const[e,n,r,i]=t;return zd(e,n,r,i)}else if(r8(t))return n8[t];return t},Ef=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"],mS={value:null};function i8(t,e){let n=new Set,r=new Set,i=!1,o=!1;const l=new WeakSet;let c={delta:0,timestamp:0,isProcessing:!1},d=0;function f(g){l.has(g)&&(m.schedule(g),t()),d++,g(c)}const m={schedule:(g,y=!1,C=!1)=>{const k=C&&i?n:r;return y&&l.add(g),k.has(g)||k.add(g),g},cancel:g=>{r.delete(g),l.delete(g)},process:g=>{if(c=g,i){o=!0;return}i=!0,[n,r]=[r,n],n.forEach(f),e&&mS.value&&mS.value.frameloop[e].push(d),d=0,n.clear(),i=!1,o&&(o=!1,m.process(g))}};return m}const s8=40;function kP(t,e){let n=!1,r=!0;const i={delta:0,timestamp:0,isProcessing:!1},o=()=>n=!0,l=Ef.reduce((O,U)=>(O[U]=i8(o,e?U:void 0),O),{}),{setup:c,read:d,resolveKeyframes:f,preUpdate:m,update:g,preRender:y,render:C,postRender:S}=l,k=()=>{const O=as.useManualTiming?i.timestamp:performance.now();n=!1,as.useManualTiming||(i.delta=r?1e3/60:Math.max(Math.min(O-i.timestamp,s8),1)),i.timestamp=O,i.isProcessing=!0,c.process(i),d.process(i),f.process(i),m.process(i),g.process(i),y.process(i),C.process(i),S.process(i),i.isProcessing=!1,n&&e&&(r=!1,t(k))},P=()=>{n=!0,r=!0,i.isProcessing||t(k)};return{schedule:Ef.reduce((O,U)=>{const B=l[U];return O[U]=(H,D=!1,I=!1)=>(n||P(),B.schedule(H,D,I)),O},{}),cancel:O=>{for(let U=0;U<Ef.length;U++)l[Ef[U]].cancel(O)},state:i,steps:l}}const{schedule:yt,cancel:ao,state:nn,steps:jy}=kP(typeof requestAnimationFrame<"u"?requestAnimationFrame:vr,!0);let Bf;function o8(){Bf=void 0}const $n={now:()=>(Bf===void 0&&$n.set(nn.isProcessing||as.useManualTiming?nn.timestamp:performance.now()),Bf),set:t=>{Bf=t,queueMicrotask(o8)}},IP=t=>e=>typeof e=="string"&&e.startsWith(t),c_=IP("--"),a8=IP("var(--"),u_=t=>a8(t)?l8.test(t.split("/*")[0].trim()):!1,l8=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,ac={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},pd={...ac,transform:t=>os(0,1,t)},Sf={...ac,default:1},Fu=t=>Math.round(t*1e5)/1e5,d_=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function c8(t){return t==null}const u8=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,h_=(t,e)=>n=>!!(typeof n=="string"&&u8.test(n)&&n.startsWith(t)||e&&!c8(n)&&Object.prototype.hasOwnProperty.call(n,e)),PP=(t,e,n)=>r=>{if(typeof r!="string")return r;const[i,o,l,c]=r.match(d_);return{[t]:parseFloat(i),[e]:parseFloat(o),[n]:parseFloat(l),alpha:c!==void 0?parseFloat(c):1}},d8=t=>os(0,255,t),Fy={...ac,transform:t=>Math.round(d8(t))},ea={test:h_("rgb","red"),parse:PP("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:r=1})=>"rgba("+Fy.transform(t)+", "+Fy.transform(e)+", "+Fy.transform(n)+", "+Fu(pd.transform(r))+")"};function h8(t){let e="",n="",r="",i="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),r=t.substring(5,7),i=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),r=t.substring(3,4),i=t.substring(4,5),e+=e,n+=n,r+=r,i+=i),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}}const Y0={test:h_("#"),parse:h8,transform:ea.transform},Wd=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),Vs=Wd("deg"),vi=Wd("%"),Ne=Wd("px"),f8=Wd("vh"),p8=Wd("vw"),gS={...vi,parse:t=>vi.parse(t)/100,transform:t=>vi.transform(t*100)},kl={test:h_("hsl","hue"),parse:PP("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:r=1})=>"hsla("+Math.round(t)+", "+vi.transform(Fu(e))+", "+vi.transform(Fu(n))+", "+Fu(pd.transform(r))+")"},hn={test:t=>ea.test(t)||Y0.test(t)||kl.test(t),parse:t=>ea.test(t)?ea.parse(t):kl.test(t)?kl.parse(t):Y0.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?ea.transform(t):kl.transform(t)},m8=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function g8(t){return isNaN(t)&&typeof t=="string"&&(t.match(d_)?.length||0)+(t.match(m8)?.length||0)>0}const RP="number",AP="color",y8="var",v8="var(",yS="${}",w8=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function md(t){const e=t.toString(),n=[],r={color:[],number:[],var:[]},i=[];let o=0;const c=e.replace(w8,d=>(hn.test(d)?(r.color.push(o),i.push(AP),n.push(hn.parse(d))):d.startsWith(v8)?(r.var.push(o),i.push(y8),n.push(d)):(r.number.push(o),i.push(RP),n.push(parseFloat(d))),++o,yS)).split(yS);return{values:n,split:c,indexes:r,types:i}}function NP(t){return md(t).values}function OP(t){const{split:e,types:n}=md(t),r=e.length;return i=>{let o="";for(let l=0;l<r;l++)if(o+=e[l],i[l]!==void 0){const c=n[l];c===RP?o+=Fu(i[l]):c===AP?o+=hn.transform(i[l]):o+=i[l]}return o}}const _8=t=>typeof t=="number"?0:t;function x8(t){const e=NP(t);return OP(t)(e.map(_8))}const lo={test:g8,parse:NP,createTransformer:OP,getAnimatableNone:x8};function $y(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function b8({hue:t,saturation:e,lightness:n,alpha:r}){t/=360,e/=100,n/=100;let i=0,o=0,l=0;if(!e)i=o=l=n;else{const c=n<.5?n*(1+e):n+e-n*e,d=2*n-c;i=$y(d,c,t+1/3),o=$y(d,c,t),l=$y(d,c,t-1/3)}return{red:Math.round(i*255),green:Math.round(o*255),blue:Math.round(l*255),alpha:r}}function Cp(t,e){return n=>n>0?e:t}const gt=(t,e,n)=>t+(e-t)*n,Uy=(t,e,n)=>{const r=t*t,i=n*(e*e-r)+r;return i<0?0:Math.sqrt(i)},E8=[Y0,ea,kl],S8=t=>E8.find(e=>e.test(t));function vS(t){const e=S8(t);if(!e)return!1;let n=e.parse(t);return e===kl&&(n=b8(n)),n}const wS=(t,e)=>{const n=vS(t),r=vS(e);if(!n||!r)return Cp(t,e);const i={...n};return o=>(i.red=Uy(n.red,r.red,o),i.green=Uy(n.green,r.green,o),i.blue=Uy(n.blue,r.blue,o),i.alpha=gt(n.alpha,r.alpha,o),ea.transform(i))},X0=new Set(["none","hidden"]);function C8(t,e){return X0.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function T8(t,e){return n=>gt(t,e,n)}function f_(t){return typeof t=="number"?T8:typeof t=="string"?u_(t)?Cp:hn.test(t)?wS:P8:Array.isArray(t)?DP:typeof t=="object"?hn.test(t)?wS:k8:Cp}function DP(t,e){const n=[...t],r=n.length,i=t.map((o,l)=>f_(o)(o,e[l]));return o=>{for(let l=0;l<r;l++)n[l]=i[l](o);return n}}function k8(t,e){const n={...t,...e},r={};for(const i in n)t[i]!==void 0&&e[i]!==void 0&&(r[i]=f_(t[i])(t[i],e[i]));return i=>{for(const o in r)n[o]=r[o](i);return n}}function I8(t,e){const n=[],r={color:0,var:0,number:0};for(let i=0;i<e.values.length;i++){const o=e.types[i],l=t.indexes[o][r[o]],c=t.values[l]??0;n[i]=c,r[o]++}return n}const P8=(t,e)=>{const n=lo.createTransformer(e),r=md(t),i=md(e);return r.indexes.var.length===i.indexes.var.length&&r.indexes.color.length===i.indexes.color.length&&r.indexes.number.length>=i.indexes.number.length?X0.has(t)&&!i.values.length||X0.has(e)&&!r.values.length?C8(t,e):Bd(DP(I8(r,i),i.values),n):Cp(t,e)};function MP(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?gt(t,e,n):f_(t)(t,e)}const R8=t=>{const e=({timestamp:n})=>t(n);return{start:(n=!0)=>yt.update(e,n),stop:()=>ao(e),now:()=>nn.isProcessing?nn.timestamp:$n.now()}},LP=(t,e,n=10)=>{let r="";const i=Math.max(Math.round(e/n),2);for(let o=0;o<i;o++)r+=t(o/(i-1))+", ";return`linear(${r.substring(0,r.length-2)})`},Tp=2e4;function p_(t){let e=0;const n=50;let r=t.next(e);for(;!r.done&&e<Tp;)e+=n,r=t.next(e);return e>=Tp?1/0:e}function A8(t,e=100,n){const r=n({...t,keyframes:[0,e]}),i=Math.min(p_(r),Tp);return{type:"keyframes",ease:o=>r.next(i*o).value/e,duration:yi(i)}}const N8=5;function jP(t,e,n){const r=Math.max(e-N8,0);return gP(n-t(r),e-r)}const bt={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Vy=.001;function O8({duration:t=bt.duration,bounce:e=bt.bounce,velocity:n=bt.velocity,mass:r=bt.mass}){let i,o,l=1-e;l=os(bt.minDamping,bt.maxDamping,l),t=os(bt.minDuration,bt.maxDuration,yi(t)),l<1?(i=f=>{const m=f*l,g=m*t,y=m-n,C=J0(f,l),S=Math.exp(-g);return Vy-y/C*S},o=f=>{const g=f*l*t,y=g*n+n,C=Math.pow(l,2)*Math.pow(f,2)*t,S=Math.exp(-g),k=J0(Math.pow(f,2),l);return(-i(f)+Vy>0?-1:1)*((y-C)*S)/k}):(i=f=>{const m=Math.exp(-f*t),g=(f-n)*t+1;return-Vy+m*g},o=f=>{const m=Math.exp(-f*t),g=(n-f)*(t*t);return m*g});const c=5/t,d=M8(i,o,c);if(t=gi(t),isNaN(d))return{stiffness:bt.stiffness,damping:bt.damping,duration:t};{const f=Math.pow(d,2)*r;return{stiffness:f,damping:l*2*Math.sqrt(r*f),duration:t}}}const D8=12;function M8(t,e,n){let r=n;for(let i=1;i<D8;i++)r=r-t(r)/e(r);return r}function J0(t,e){return t*Math.sqrt(1-e*e)}const L8=["duration","bounce"],j8=["stiffness","damping","mass"];function _S(t,e){return e.some(n=>t[n]!==void 0)}function F8(t){let e={velocity:bt.velocity,stiffness:bt.stiffness,damping:bt.damping,mass:bt.mass,isResolvedFromDuration:!1,...t};if(!_S(t,j8)&&_S(t,L8))if(t.visualDuration){const n=t.visualDuration,r=2*Math.PI/(n*1.2),i=r*r,o=2*os(.05,1,1-(t.bounce||0))*Math.sqrt(i);e={...e,mass:bt.mass,stiffness:i,damping:o}}else{const n=O8(t);e={...e,...n,mass:bt.mass},e.isResolvedFromDuration=!0}return e}function kp(t=bt.visualDuration,e=bt.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:r,restDelta:i}=n;const o=n.keyframes[0],l=n.keyframes[n.keyframes.length-1],c={done:!1,value:o},{stiffness:d,damping:f,mass:m,duration:g,velocity:y,isResolvedFromDuration:C}=F8({...n,velocity:-yi(n.velocity||0)}),S=y||0,k=f/(2*Math.sqrt(d*m)),P=l-o,N=yi(Math.sqrt(d/m)),M=Math.abs(P)<5;r||(r=M?bt.restSpeed.granular:bt.restSpeed.default),i||(i=M?bt.restDelta.granular:bt.restDelta.default);let O;if(k<1){const B=J0(N,k);O=H=>{const D=Math.exp(-k*N*H);return l-D*((S+k*N*P)/B*Math.sin(B*H)+P*Math.cos(B*H))}}else if(k===1)O=B=>l-Math.exp(-N*B)*(P+(S+N*P)*B);else{const B=N*Math.sqrt(k*k-1);O=H=>{const D=Math.exp(-k*N*H),I=Math.min(B*H,300);return l-D*((S+k*N*P)*Math.sinh(I)+B*P*Math.cosh(I))/B}}const U={calculatedDuration:C&&g||null,next:B=>{const H=O(B);if(C)c.done=B>=g;else{let D=B===0?S:0;k<1&&(D=B===0?gi(S):jP(O,B,H));const I=Math.abs(D)<=r,A=Math.abs(l-H)<=i;c.done=I&&A}return c.value=c.done?l:H,c},toString:()=>{const B=Math.min(p_(U),Tp),H=LP(D=>U.next(B*D).value,B,30);return B+"ms "+H},toTransition:()=>{}};return U}kp.applyToOptions=t=>{const e=A8(t,100,kp);return t.ease=e.ease,t.duration=gi(e.duration),t.type="keyframes",t};function Q0({keyframes:t,velocity:e=0,power:n=.8,timeConstant:r=325,bounceDamping:i=10,bounceStiffness:o=500,modifyTarget:l,min:c,max:d,restDelta:f=.5,restSpeed:m}){const g=t[0],y={done:!1,value:g},C=I=>c!==void 0&&I<c||d!==void 0&&I>d,S=I=>c===void 0?d:d===void 0||Math.abs(c-I)<Math.abs(d-I)?c:d;let k=n*e;const P=g+k,N=l===void 0?P:l(P);N!==P&&(k=N-g);const M=I=>-k*Math.exp(-I/r),O=I=>N+M(I),U=I=>{const A=M(I),E=O(I);y.done=Math.abs(A)<=f,y.value=y.done?N:E};let B,H;const D=I=>{C(y.value)&&(B=I,H=kp({keyframes:[y.value,S(y.value)],velocity:jP(O,I,y.value),damping:i,stiffness:o,restDelta:f,restSpeed:m}))};return D(0),{calculatedDuration:null,next:I=>{let A=!1;return!H&&B===void 0&&(A=!0,U(I),D(I)),B!==void 0&&I>=B?H.next(I-B):(!A&&U(I),y)}}}function $8(t,e,n){const r=[],i=n||as.mix||MP,o=t.length-1;for(let l=0;l<o;l++){let c=i(t[l],t[l+1]);if(e){const d=Array.isArray(e)?e[l]||vr:e;c=Bd(d,c)}r.push(c)}return r}function U8(t,e,{clamp:n=!0,ease:r,mixer:i}={}){const o=t.length;if(i_(o===e.length),o===1)return()=>e[0];if(o===2&&e[0]===e[1])return()=>e[1];const l=t[0]===t[1];t[0]>t[o-1]&&(t=[...t].reverse(),e=[...e].reverse());const c=$8(e,r,i),d=c.length,f=m=>{if(l&&m<t[0])return e[0];let g=0;if(d>1)for(;g<t.length-2&&!(m<t[g+1]);g++);const y=fd(t[g],t[g+1],m);return c[g](y)};return n?m=>f(os(t[0],t[o-1],m)):f}function V8(t,e){const n=t[t.length-1];for(let r=1;r<=e;r++){const i=fd(0,e,r);t.push(gt(n,1,i))}}function B8(t){const e=[0];return V8(e,t.length-1),e}function z8(t,e){return t.map(n=>n*e)}function W8(t,e){return t.map(()=>e||CP).splice(0,t.length-1)}function $u({duration:t=300,keyframes:e,times:n,ease:r="easeInOut"}){const i=t8(r)?r.map(pS):pS(r),o={done:!1,value:e[0]},l=z8(n&&n.length===e.length?n:B8(e),t),c=U8(l,e,{ease:Array.isArray(i)?i:W8(e,i)});return{calculatedDuration:t,next:d=>(o.value=c(d),o.done=d>=t,o)}}const H8=t=>t!==null;function m_(t,{repeat:e,repeatType:n="loop"},r,i=1){const o=t.filter(H8),c=i<0||e&&n!=="loop"&&e%2===1?0:o.length-1;return!c||r===void 0?o[c]:r}const q8={decay:Q0,inertia:Q0,tween:$u,keyframes:$u,spring:kp};function FP(t){typeof t.type=="string"&&(t.type=q8[t.type])}class g_{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,n){return this.finished.then(e,n)}}const G8=t=>t/100;class y_ extends g_{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=(n=!0)=>{if(n){const{motionValue:r}=this.options;r&&r.updatedAt!==$n.now()&&this.tick($n.now())}this.isStopped=!0,this.state!=="idle"&&(this.teardown(),this.options.onStop?.())},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;FP(e);const{type:n=$u,repeat:r=0,repeatDelay:i=0,repeatType:o,velocity:l=0}=e;let{keyframes:c}=e;const d=n||$u;d!==$u&&typeof c[0]!="number"&&(this.mixKeyframes=Bd(G8,MP(c[0],c[1])),c=[0,100]);const f=d({...e,keyframes:c});o==="mirror"&&(this.mirroredGenerator=d({...e,keyframes:[...c].reverse(),velocity:-l})),f.calculatedDuration===null&&(f.calculatedDuration=p_(f));const{calculatedDuration:m}=f;this.calculatedDuration=m,this.resolvedDuration=m+i,this.totalDuration=this.resolvedDuration*(r+1)-i,this.generator=f}updateTime(e){const n=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(e,n=!1){const{generator:r,totalDuration:i,mixKeyframes:o,mirroredGenerator:l,resolvedDuration:c,calculatedDuration:d}=this;if(this.startTime===null)return r.next(0);const{delay:f=0,keyframes:m,repeat:g,repeatType:y,repeatDelay:C,type:S,onUpdate:k,finalKeyframe:P}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-i/this.speed,this.startTime)),n?this.currentTime=e:this.updateTime(e);const N=this.currentTime-f*(this.playbackSpeed>=0?1:-1),M=this.playbackSpeed>=0?N<0:N>i;this.currentTime=Math.max(N,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=i);let O=this.currentTime,U=r;if(g){const I=Math.min(this.currentTime,i)/c;let A=Math.floor(I),E=I%1;!E&&I>=1&&(E=1),E===1&&A--,A=Math.min(A,g+1),!!(A%2)&&(y==="reverse"?(E=1-E,C&&(E-=C/c)):y==="mirror"&&(U=l)),O=os(0,1,E)*c}const B=M?{done:!1,value:m[0]}:U.next(O);o&&(B.value=o(B.value));let{done:H}=B;!M&&d!==null&&(H=this.playbackSpeed>=0?this.currentTime>=i:this.currentTime<=0);const D=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&H);return D&&S!==Q0&&(B.value=m_(m,this.options,P,this.speed)),k&&k(B.value),D&&this.finish(),B}then(e,n){return this.finished.then(e,n)}get duration(){return yi(this.calculatedDuration)}get time(){return yi(this.currentTime)}set time(e){e=gi(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime($n.now());const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=yi(this.currentTime))}play(){if(this.isStopped)return;const{driver:e=R8,startTime:n}=this.options;this.driver||(this.driver=e(i=>this.tick(i))),this.options.onPlay?.();const r=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=r):this.holdTime!==null?this.startTime=r-this.holdTime:this.startTime||(this.startTime=n??r),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime($n.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state="finished",this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),this.driver?.stop(),e.observe(this)}}function K8(t){for(let e=1;e<t.length;e++)t[e]??(t[e]=t[e-1])}const ta=t=>t*180/Math.PI,Z0=t=>{const e=ta(Math.atan2(t[1],t[0]));return ev(e)},Y8={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:Z0,rotateZ:Z0,skewX:t=>ta(Math.atan(t[1])),skewY:t=>ta(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},ev=t=>(t=t%360,t<0&&(t+=360),t),xS=Z0,bS=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),ES=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),X8={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:bS,scaleY:ES,scale:t=>(bS(t)+ES(t))/2,rotateX:t=>ev(ta(Math.atan2(t[6],t[5]))),rotateY:t=>ev(ta(Math.atan2(-t[2],t[0]))),rotateZ:xS,rotate:xS,skewX:t=>ta(Math.atan(t[4])),skewY:t=>ta(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function tv(t){return t.includes("scale")?1:0}function nv(t,e){if(!t||t==="none")return tv(e);const n=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let r,i;if(n)r=X8,i=n;else{const c=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);r=Y8,i=c}if(!i)return tv(e);const o=r[e],l=i[1].split(",").map(Q8);return typeof o=="function"?o(l):l[o]}const J8=(t,e)=>{const{transform:n="none"}=getComputedStyle(t);return nv(n,e)};function Q8(t){return parseFloat(t.trim())}const lc=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],cc=new Set(lc),SS=t=>t===ac||t===Ne,Z8=new Set(["x","y","z"]),eU=lc.filter(t=>!Z8.has(t));function tU(t){const e=[];return eU.forEach(n=>{const r=t.getValue(n);r!==void 0&&(e.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),e}const sa={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:(t,{transform:e})=>nv(e,"x"),y:(t,{transform:e})=>nv(e,"y")};sa.translateX=sa.x;sa.translateY=sa.y;const oa=new Set;let rv=!1,iv=!1,sv=!1;function $P(){if(iv){const t=Array.from(oa).filter(r=>r.needsMeasurement),e=new Set(t.map(r=>r.element)),n=new Map;e.forEach(r=>{const i=tU(r);i.length&&(n.set(r,i),r.render())}),t.forEach(r=>r.measureInitialState()),e.forEach(r=>{r.render();const i=n.get(r);i&&i.forEach(([o,l])=>{r.getValue(o)?.set(l)})}),t.forEach(r=>r.measureEndState()),t.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}iv=!1,rv=!1,oa.forEach(t=>t.complete(sv)),oa.clear()}function UP(){oa.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(iv=!0)})}function nU(){sv=!0,UP(),$P(),sv=!1}class v_{constructor(e,n,r,i,o,l=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=r,this.motionValue=i,this.element=o,this.isAsync=l}scheduleResolve(){this.state="scheduled",this.isAsync?(oa.add(this),rv||(rv=!0,yt.read(UP),yt.resolveKeyframes($P))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:r,motionValue:i}=this;if(e[0]===null){const o=i?.get(),l=e[e.length-1];if(o!==void 0)e[0]=o;else if(r&&n){const c=r.readValue(n,l);c!=null&&(e[0]=c)}e[0]===void 0&&(e[0]=l),i&&o===void 0&&i.set(e[0])}K8(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),oa.delete(this)}cancel(){this.state==="scheduled"&&(oa.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const rU=t=>t.startsWith("--");function iU(t,e,n){rU(e)?t.style.setProperty(e,n):t.style[e]=n}const sU=s_(()=>window.ScrollTimeline!==void 0),oU={};function aU(t,e){const n=s_(t);return()=>oU[e]??n()}const VP=aU(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),xu=([t,e,n,r])=>`cubic-bezier(${t}, ${e}, ${n}, ${r})`,CS={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:xu([0,.65,.55,1]),circOut:xu([.55,0,1,.45]),backIn:xu([.31,.01,.66,-.59]),backOut:xu([.33,1.53,.69,.99])};function BP(t,e){if(t)return typeof t=="function"?VP()?LP(t,e):"ease-out":TP(t)?xu(t):Array.isArray(t)?t.map(n=>BP(n,e)||CS.easeOut):CS[t]}function lU(t,e,n,{delay:r=0,duration:i=300,repeat:o=0,repeatType:l="loop",ease:c="easeOut",times:d}={},f=void 0){const m={[e]:n};d&&(m.offset=d);const g=BP(c,i);Array.isArray(g)&&(m.easing=g);const y={delay:r,duration:i,easing:Array.isArray(g)?"linear":g,fill:"both",iterations:o+1,direction:l==="reverse"?"alternate":"normal"};return f&&(y.pseudoElement=f),t.animate(m,y)}function zP(t){return typeof t=="function"&&"applyToOptions"in t}function cU({type:t,...e}){return zP(t)&&VP()?t.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class uU extends g_{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,!e)return;const{element:n,name:r,keyframes:i,pseudoElement:o,allowFlatten:l=!1,finalKeyframe:c,onComplete:d}=e;this.isPseudoElement=!!o,this.allowFlatten=l,this.options=e,i_(typeof e.type!="string");const f=cU(e);this.animation=lU(n,r,i,f,o),f.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!o){const m=m_(i,this.options,c,this.speed);this.updateMotionValue?this.updateMotionValue(m):iU(n,r,m),this.animation.cancel()}d?.(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){this.isPseudoElement||this.animation.commitStyles?.()}get duration(){const e=this.animation.effect?.getComputedTiming?.().duration||0;return yi(Number(e))}get time(){return yi(Number(this.animation.currentTime)||0)}set time(e){this.finishedTime=null,this.animation.currentTime=gi(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(e){this.animation.startTime=e}attachTimeline({timeline:e,observe:n}){return this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,e&&sU()?(this.animation.timeline=e,vr):n(this)}}const WP={anticipate:bP,backInOut:xP,circInOut:SP};function dU(t){return t in WP}function hU(t){typeof t.ease=="string"&&dU(t.ease)&&(t.ease=WP[t.ease])}const TS=10;class fU extends uU{constructor(e){hU(e),FP(e),super(e),e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:n,onUpdate:r,onComplete:i,element:o,...l}=this.options;if(!n)return;if(e!==void 0){n.set(e);return}const c=new y_({...l,autoplay:!1}),d=gi(this.finishedTime??this.time);n.setWithVelocity(c.sample(d-TS).value,c.sample(d).value,TS),c.stop()}}const kS=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(lo.test(t)||t==="0")&&!t.startsWith("url("));function pU(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function mU(t,e,n,r){const i=t[0];if(i===null)return!1;if(e==="display"||e==="visibility")return!0;const o=t[t.length-1],l=kS(i,e),c=kS(o,e);return!l||!c?!1:pU(t)||(n==="spring"||zP(n))&&r}function w_(t){return pP(t)&&"offsetHeight"in t}const gU=new Set(["opacity","clipPath","filter","transform"]),yU=s_(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function vU(t){const{motionValue:e,name:n,repeatDelay:r,repeatType:i,damping:o,type:l}=t;if(!w_(e?.owner?.current))return!1;const{onUpdate:c,transformTemplate:d}=e.owner.getProps();return yU()&&n&&gU.has(n)&&(n!=="transform"||!d)&&!c&&!r&&i!=="mirror"&&o!==0&&l!=="inertia"}const wU=40;class _U extends g_{constructor({autoplay:e=!0,delay:n=0,type:r="keyframes",repeat:i=0,repeatDelay:o=0,repeatType:l="loop",keyframes:c,name:d,motionValue:f,element:m,...g}){super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=$n.now();const y={autoplay:e,delay:n,type:r,repeat:i,repeatDelay:o,repeatType:l,name:d,motionValue:f,element:m,...g},C=m?.KeyframeResolver||v_;this.keyframeResolver=new C(c,(S,k,P)=>this.onKeyframesResolved(S,k,y,!P),d,f,m),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(e,n,r,i){this.keyframeResolver=void 0;const{name:o,type:l,velocity:c,delay:d,isHandoff:f,onUpdate:m}=r;this.resolvedAt=$n.now(),mU(e,o,l,c)||((as.instantAnimations||!d)&&m?.(m_(e,r,n)),e[0]=e[e.length-1],r.duration=0,r.repeat=0);const y={startTime:i?this.resolvedAt?this.resolvedAt-this.createdAt>wU?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...r,keyframes:e},C=!f&&vU(y)?new fU({...y,element:y.motionValue.owner.current}):new y_(y);C.finished.then(()=>this.notifyFinished()).catch(vr),this.pendingTimeline&&(this.stopTimeline=C.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=C}get finished(){return this._animation?this.animation.finished:this._finished}then(e,n){return this.finished.finally(e).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),nU()),this._animation}get duration(){return this.animation.duration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}}const xU=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function bU(t){const e=xU.exec(t);if(!e)return[,];const[,n,r,i]=e;return[`--${n??r}`,i]}function HP(t,e,n=1){const[r,i]=bU(t);if(!r)return;const o=window.getComputedStyle(e).getPropertyValue(r);if(o){const l=o.trim();return fP(l)?parseFloat(l):l}return u_(i)?HP(i,e,n+1):i}function __(t,e){return t?.[e]??t?.default??t}const qP=new Set(["width","height","top","left","right","bottom",...lc]),EU={test:t=>t==="auto",parse:t=>t},GP=t=>e=>e.test(t),KP=[ac,Ne,vi,Vs,p8,f8,EU],IS=t=>KP.find(GP(t));function SU(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||mP(t):!0}const CU=new Set(["brightness","contrast","saturate","opacity"]);function TU(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[r]=n.match(d_)||[];if(!r)return t;const i=n.replace(r,"");let o=CU.has(e)?1:0;return r!==n&&(o*=100),e+"("+o+i+")"}const kU=/\b([a-z-]*)\(.*?\)/gu,ov={...lo,getAnimatableNone:t=>{const e=t.match(kU);return e?e.map(TU).join(" "):t}},PS={...ac,transform:Math.round},IU={rotate:Vs,rotateX:Vs,rotateY:Vs,rotateZ:Vs,scale:Sf,scaleX:Sf,scaleY:Sf,scaleZ:Sf,skew:Vs,skewX:Vs,skewY:Vs,distance:Ne,translateX:Ne,translateY:Ne,translateZ:Ne,x:Ne,y:Ne,z:Ne,perspective:Ne,transformPerspective:Ne,opacity:pd,originX:gS,originY:gS,originZ:Ne},x_={borderWidth:Ne,borderTopWidth:Ne,borderRightWidth:Ne,borderBottomWidth:Ne,borderLeftWidth:Ne,borderRadius:Ne,radius:Ne,borderTopLeftRadius:Ne,borderTopRightRadius:Ne,borderBottomRightRadius:Ne,borderBottomLeftRadius:Ne,width:Ne,maxWidth:Ne,height:Ne,maxHeight:Ne,top:Ne,right:Ne,bottom:Ne,left:Ne,padding:Ne,paddingTop:Ne,paddingRight:Ne,paddingBottom:Ne,paddingLeft:Ne,margin:Ne,marginTop:Ne,marginRight:Ne,marginBottom:Ne,marginLeft:Ne,backgroundPositionX:Ne,backgroundPositionY:Ne,...IU,zIndex:PS,fillOpacity:pd,strokeOpacity:pd,numOctaves:PS},PU={...x_,color:hn,backgroundColor:hn,outlineColor:hn,fill:hn,stroke:hn,borderColor:hn,borderTopColor:hn,borderRightColor:hn,borderBottomColor:hn,borderLeftColor:hn,filter:ov,WebkitFilter:ov},YP=t=>PU[t];function XP(t,e){let n=YP(t);return n!==ov&&(n=lo),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const RU=new Set(["auto","none","0"]);function AU(t,e,n){let r=0,i;for(;r<t.length&&!i;){const o=t[r];typeof o=="string"&&!RU.has(o)&&md(o).values.length&&(i=t[r]),r++}if(i&&n)for(const o of e)t[o]=XP(n,i)}class NU extends v_{constructor(e,n,r,i,o){super(e,n,r,i,o,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let d=0;d<e.length;d++){let f=e[d];if(typeof f=="string"&&(f=f.trim(),u_(f))){const m=HP(f,n.current);m!==void 0&&(e[d]=m),d===e.length-1&&(this.finalKeyframe=f)}}if(this.resolveNoneKeyframes(),!qP.has(r)||e.length!==2)return;const[i,o]=e,l=IS(i),c=IS(o);if(l!==c)if(SS(l)&&SS(c))for(let d=0;d<e.length;d++){const f=e[d];typeof f=="string"&&(e[d]=parseFloat(f))}else sa[r]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,r=[];for(let i=0;i<e.length;i++)(e[i]===null||SU(e[i]))&&r.push(i);r.length&&AU(e,r,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:r}=this;if(!e||!e.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=sa[r](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const i=n[n.length-1];i!==void 0&&e.getValue(r,i).jump(i,!1)}measureEndState(){const{element:e,name:n,unresolvedKeyframes:r}=this;if(!e||!e.current)return;const i=e.getValue(n);i&&i.jump(this.measuredOrigin,!1);const o=r.length-1,l=r[o];r[o]=sa[n](e.measureViewportBox(),window.getComputedStyle(e.current)),l!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=l),this.removedTransforms?.length&&this.removedTransforms.forEach(([c,d])=>{e.getValue(c).set(d)}),this.resolveNoneKeyframes()}}function OU(t,e,n){if(t instanceof EventTarget)return[t];if(typeof t=="string"){let r=document;const i=n?.[t]??r.querySelectorAll(t);return i?Array.from(i):[]}return Array.from(t)}const RS=30,DU=t=>!isNaN(parseFloat(t));class MU{constructor(e,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=(r,i=!0)=>{const o=$n.now();if(this.updatedAt!==o&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(const l of this.dependents)l.dirty();i&&this.events.renderRequest?.notify(this.current)},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=$n.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=DU(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new o_);const r=this.events[e].add(n);return e==="change"?()=>{r(),yt.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e,n=!0){!n||!this.passiveEffect?this.updateAndNotify(e,n):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-r}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=$n.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>RS)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,RS);return gP(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function ql(t,e){return new MU(t,e)}const JP=(t,e)=>e&&typeof t=="number"?e.transform(t):t,{schedule:b_}=kP(queueMicrotask,!1),$r={x:!1,y:!1};function QP(){return $r.x||$r.y}function LU(t){return t==="x"||t==="y"?$r[t]?null:($r[t]=!0,()=>{$r[t]=!1}):$r.x||$r.y?null:($r.x=$r.y=!0,()=>{$r.x=$r.y=!1})}function ZP(t,e){const n=OU(t),r=new AbortController,i={passive:!0,...e,signal:r.signal};return[n,i,()=>r.abort()]}function AS(t){return!(t.pointerType==="touch"||QP())}function jU(t,e,n={}){const[r,i,o]=ZP(t,n),l=c=>{if(!AS(c))return;const{target:d}=c,f=e(d,c);if(typeof f!="function"||!d)return;const m=g=>{AS(g)&&(f(g),d.removeEventListener("pointerleave",m))};d.addEventListener("pointerleave",m,i)};return r.forEach(c=>{c.addEventListener("pointerenter",l,i)}),o}const eR=(t,e)=>e?t===e?!0:eR(t,e.parentElement):!1,E_=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,FU=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function $U(t){return FU.has(t.tagName)||t.tabIndex!==-1}const zf=new WeakSet;function NS(t){return e=>{e.key==="Enter"&&t(e)}}function By(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const UU=(t,e)=>{const n=t.currentTarget;if(!n)return;const r=NS(()=>{if(zf.has(n))return;By(n,"down");const i=NS(()=>{By(n,"up")}),o=()=>By(n,"cancel");n.addEventListener("keyup",i,e),n.addEventListener("blur",o,e)});n.addEventListener("keydown",r,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),e)};function OS(t){return E_(t)&&!QP()}function VU(t,e,n={}){const[r,i,o]=ZP(t,n),l=c=>{const d=c.currentTarget;if(!OS(c))return;zf.add(d);const f=e(d,c),m=(C,S)=>{window.removeEventListener("pointerup",g),window.removeEventListener("pointercancel",y),zf.has(d)&&zf.delete(d),OS(C)&&typeof f=="function"&&f(C,{success:S})},g=C=>{m(C,d===window||d===document||n.useGlobalTarget||eR(d,C.target))},y=C=>{m(C,!1)};window.addEventListener("pointerup",g,i),window.addEventListener("pointercancel",y,i)};return r.forEach(c=>{(n.useGlobalTarget?window:c).addEventListener("pointerdown",l,i),w_(c)&&(c.addEventListener("focus",f=>UU(f,i)),!$U(c)&&!c.hasAttribute("tabindex")&&(c.tabIndex=0))}),o}function tR(t){return pP(t)&&"ownerSVGElement"in t}function BU(t){return tR(t)&&t.tagName==="svg"}const pn=t=>!!(t&&t.getVelocity),zU=[...KP,hn,lo],WU=t=>zU.find(GP(t)),S_=b.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});class HU extends b.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const r=n.offsetParent,i=w_(r)&&r.offsetWidth||0,o=this.props.sizeRef.current;o.height=n.offsetHeight||0,o.width=n.offsetWidth||0,o.top=n.offsetTop,o.left=n.offsetLeft,o.right=i-o.width-o.left}return null}componentDidUpdate(){}render(){return this.props.children}}function qU({children:t,isPresent:e,anchorX:n}){const r=b.useId(),i=b.useRef(null),o=b.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:l}=b.useContext(S_);return b.useInsertionEffect(()=>{const{width:c,height:d,top:f,left:m,right:g}=o.current;if(e||!i.current||!c||!d)return;const y=n==="left"?`left: ${m}`:`right: ${g}`;i.current.dataset.motionPopId=r;const C=document.createElement("style");return l&&(C.nonce=l),document.head.appendChild(C),C.sheet&&C.sheet.insertRule(`
          [data-motion-pop-id="${r}"] {
            position: absolute !important;
            width: ${c}px !important;
            height: ${d}px !important;
            ${y}px !important;
            top: ${f}px !important;
          }
        `),()=>{document.head.contains(C)&&document.head.removeChild(C)}},[e]),w.jsx(HU,{isPresent:e,childRef:i,sizeRef:o,children:b.cloneElement(t,{ref:i})})}const GU=({children:t,initial:e,isPresent:n,onExitComplete:r,custom:i,presenceAffectsLayout:o,mode:l,anchorX:c})=>{const d=e_(KU),f=b.useId();let m=!0,g=b.useMemo(()=>(m=!1,{id:f,initial:e,isPresent:n,custom:i,onExitComplete:y=>{d.set(y,!0);for(const C of d.values())if(!C)return;r&&r()},register:y=>(d.set(y,!1),()=>d.delete(y))}),[n,d,r]);return o&&m&&(g={...g}),b.useMemo(()=>{d.forEach((y,C)=>d.set(C,!1))},[n]),b.useEffect(()=>{!n&&!d.size&&r&&r()},[n]),l==="popLayout"&&(t=w.jsx(qU,{isPresent:n,anchorX:c,children:t})),w.jsx(lm.Provider,{value:g,children:t})};function KU(){return new Map}function nR(t=!0){const e=b.useContext(lm);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:r,register:i}=e,o=b.useId();b.useEffect(()=>{if(t)return i(o)},[t]);const l=b.useCallback(()=>t&&r&&r(o),[o,r,t]);return!n&&r?[!1,l]:[!0]}const Cf=t=>t.key||"";function DS(t){const e=[];return b.Children.forEach(t,n=>{b.isValidElement(n)&&e.push(n)}),e}const YU=({children:t,custom:e,initial:n=!0,onExitComplete:r,presenceAffectsLayout:i=!0,mode:o="sync",propagate:l=!1,anchorX:c="left"})=>{const[d,f]=nR(l),m=b.useMemo(()=>DS(t),[t]),g=l&&!d?[]:m.map(Cf),y=b.useRef(!0),C=b.useRef(m),S=e_(()=>new Map),[k,P]=b.useState(m),[N,M]=b.useState(m);hP(()=>{y.current=!1,C.current=m;for(let B=0;B<N.length;B++){const H=Cf(N[B]);g.includes(H)?S.delete(H):S.get(H)!==!0&&S.set(H,!1)}},[N,g.length,g.join("-")]);const O=[];if(m!==k){let B=[...m];for(let H=0;H<N.length;H++){const D=N[H],I=Cf(D);g.includes(I)||(B.splice(H,0,D),O.push(D))}return o==="wait"&&O.length&&(B=O),M(DS(B)),P(m),null}const{forceRender:U}=b.useContext(Zw);return w.jsx(w.Fragment,{children:N.map(B=>{const H=Cf(B),D=l&&!d?!1:m===N||g.includes(H),I=()=>{if(S.has(H))S.set(H,!0);else return;let A=!0;S.forEach(E=>{E||(A=!1)}),A&&(U?.(),M(C.current),l&&f?.(),r&&r())};return w.jsx(GU,{isPresent:D,initial:!y.current||n?void 0:!1,custom:e,presenceAffectsLayout:i,mode:o,onExitComplete:D?void 0:I,anchorX:c,children:B},H)})})},rR=b.createContext({strict:!1}),MS={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Gl={};for(const t in MS)Gl[t]={isEnabled:e=>MS[t].some(n=>!!e[n])};function XU(t){for(const e in t)Gl[e]={...Gl[e],...t[e]}}const JU=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Ip(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||JU.has(t)}let iR=t=>!Ip(t);function QU(t){t&&(iR=e=>e.startsWith("on")?!Ip(e):t(e))}try{QU(require("@emotion/is-prop-valid").default)}catch{}function ZU(t,e,n){const r={};for(const i in t)i==="values"&&typeof t.values=="object"||(iR(i)||n===!0&&Ip(i)||!e&&!Ip(i)||t.draggable&&i.startsWith("onDrag"))&&(r[i]=t[i]);return r}function eV(t){if(typeof Proxy>"u")return t;const e=new Map,n=(...r)=>t(...r);return new Proxy(n,{get:(r,i)=>i==="create"?t:(e.has(i)||e.set(i,t(i)),e.get(i))})}const cm=b.createContext({});function um(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function gd(t){return typeof t=="string"||Array.isArray(t)}const C_=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],T_=["initial",...C_];function dm(t){return um(t.animate)||T_.some(e=>gd(t[e]))}function sR(t){return!!(dm(t)||t.variants)}function tV(t,e){if(dm(t)){const{initial:n,animate:r}=t;return{initial:n===!1||gd(n)?n:void 0,animate:gd(r)?r:void 0}}return t.inherit!==!1?e:{}}function nV(t){const{initial:e,animate:n}=tV(t,b.useContext(cm));return b.useMemo(()=>({initial:e,animate:n}),[LS(e),LS(n)])}function LS(t){return Array.isArray(t)?t.join(" "):t}const rV=Symbol.for("motionComponentSymbol");function Il(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function iV(t,e,n){return b.useCallback(r=>{r&&t.onMount&&t.onMount(r),e&&(r?e.mount(r):e.unmount()),n&&(typeof n=="function"?n(r):Il(n)&&(n.current=r))},[e])}const k_=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),sV="framerAppearId",oR="data-"+k_(sV),aR=b.createContext({});function oV(t,e,n,r,i){const{visualElement:o}=b.useContext(cm),l=b.useContext(rR),c=b.useContext(lm),d=b.useContext(S_).reducedMotion,f=b.useRef(null);r=r||l.renderer,!f.current&&r&&(f.current=r(t,{visualState:e,parent:o,props:n,presenceContext:c,blockInitialAnimation:c?c.initial===!1:!1,reducedMotionConfig:d}));const m=f.current,g=b.useContext(aR);m&&!m.projection&&i&&(m.type==="html"||m.type==="svg")&&aV(f.current,n,i,g);const y=b.useRef(!1);b.useInsertionEffect(()=>{m&&y.current&&m.update(n,c)});const C=n[oR],S=b.useRef(!!C&&!window.MotionHandoffIsComplete?.(C)&&window.MotionHasOptimisedAnimation?.(C));return hP(()=>{m&&(y.current=!0,window.MotionIsMounted=!0,m.updateFeatures(),b_.render(m.render),S.current&&m.animationState&&m.animationState.animateChanges())}),b.useEffect(()=>{m&&(!S.current&&m.animationState&&m.animationState.animateChanges(),S.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(C)}),S.current=!1))}),m}function aV(t,e,n,r){const{layoutId:i,layout:o,drag:l,dragConstraints:c,layoutScroll:d,layoutRoot:f,layoutCrossfade:m}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:lR(t.parent)),t.projection.setOptions({layoutId:i,layout:o,alwaysMeasureLayout:!!l||c&&Il(c),visualElement:t,animationType:typeof o=="string"?o:"both",initialPromotionConfig:r,crossfade:m,layoutScroll:d,layoutRoot:f})}function lR(t){if(t)return t.options.allowProjection!==!1?t.projection:lR(t.parent)}function lV({preloadedFeatures:t,createVisualElement:e,useRender:n,useVisualState:r,Component:i}){t&&XU(t);function o(c,d){let f;const m={...b.useContext(S_),...c,layoutId:cV(c)},{isStatic:g}=m,y=nV(c),C=r(c,g);if(!g&&t_){uV();const S=dV(m);f=S.MeasureLayout,y.visualElement=oV(i,C,m,e,S.ProjectionNode)}return w.jsxs(cm.Provider,{value:y,children:[f&&y.visualElement?w.jsx(f,{visualElement:y.visualElement,...m}):null,n(i,c,iV(C,y.visualElement,d),C,g,y.visualElement)]})}o.displayName=`motion.${typeof i=="string"?i:`create(${i.displayName??i.name??""})`}`;const l=b.forwardRef(o);return l[rV]=i,l}function cV({layoutId:t}){const e=b.useContext(Zw).id;return e&&t!==void 0?e+"-"+t:t}function uV(t,e){b.useContext(rR).strict}function dV(t){const{drag:e,layout:n}=Gl;if(!e&&!n)return{};const r={...e,...n};return{MeasureLayout:e?.isEnabled(t)||n?.isEnabled(t)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}const yd={};function hV(t){for(const e in t)yd[e]=t[e],c_(e)&&(yd[e].isCSSVariable=!0)}function cR(t,{layout:e,layoutId:n}){return cc.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!yd[t]||t==="opacity")}const fV={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},pV=lc.length;function mV(t,e,n){let r="",i=!0;for(let o=0;o<pV;o++){const l=lc[o],c=t[l];if(c===void 0)continue;let d=!0;if(typeof c=="number"?d=c===(l.startsWith("scale")?1:0):d=parseFloat(c)===0,!d||n){const f=JP(c,x_[l]);if(!d){i=!1;const m=fV[l]||l;r+=`${m}(${f}) `}n&&(e[l]=f)}}return r=r.trim(),n?r=n(e,i?"":r):i&&(r="none"),r}function I_(t,e,n){const{style:r,vars:i,transformOrigin:o}=t;let l=!1,c=!1;for(const d in e){const f=e[d];if(cc.has(d)){l=!0;continue}else if(c_(d)){i[d]=f;continue}else{const m=JP(f,x_[d]);d.startsWith("origin")?(c=!0,o[d]=m):r[d]=m}}if(e.transform||(l||n?r.transform=mV(e,t.transform,n):r.transform&&(r.transform="none")),c){const{originX:d="50%",originY:f="50%",originZ:m=0}=o;r.transformOrigin=`${d} ${f} ${m}`}}const P_=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function uR(t,e,n){for(const r in e)!pn(e[r])&&!cR(r,n)&&(t[r]=e[r])}function gV({transformTemplate:t},e){return b.useMemo(()=>{const n=P_();return I_(n,e,t),Object.assign({},n.vars,n.style)},[e])}function yV(t,e){const n=t.style||{},r={};return uR(r,n,t),Object.assign(r,gV(t,e)),r}function vV(t,e){const n={},r=yV(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=r,n}const wV={offset:"stroke-dashoffset",array:"stroke-dasharray"},_V={offset:"strokeDashoffset",array:"strokeDasharray"};function xV(t,e,n=1,r=0,i=!0){t.pathLength=1;const o=i?wV:_V;t[o.offset]=Ne.transform(-r);const l=Ne.transform(e),c=Ne.transform(n);t[o.array]=`${l} ${c}`}function dR(t,{attrX:e,attrY:n,attrScale:r,pathLength:i,pathSpacing:o=1,pathOffset:l=0,...c},d,f,m){if(I_(t,c,f),d){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:g,style:y}=t;g.transform&&(y.transform=g.transform,delete g.transform),(y.transform||g.transformOrigin)&&(y.transformOrigin=g.transformOrigin??"50% 50%",delete g.transformOrigin),y.transform&&(y.transformBox=m?.transformBox??"fill-box",delete g.transformBox),e!==void 0&&(g.x=e),n!==void 0&&(g.y=n),r!==void 0&&(g.scale=r),i!==void 0&&xV(g,i,o,l,!1)}const hR=()=>({...P_(),attrs:{}}),fR=t=>typeof t=="string"&&t.toLowerCase()==="svg";function bV(t,e,n,r){const i=b.useMemo(()=>{const o=hR();return dR(o,e,fR(r),t.transformTemplate,t.style),{...o.attrs,style:{...o.style}}},[e]);if(t.style){const o={};uR(o,t.style,t),i.style={...o,...i.style}}return i}const EV=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function R_(t){return typeof t!="string"||t.includes("-")?!1:!!(EV.indexOf(t)>-1||/[A-Z]/u.test(t))}function SV(t=!1){return(n,r,i,{latestValues:o},l)=>{const d=(R_(n)?bV:vV)(r,o,l,n),f=ZU(r,typeof n=="string",t),m=n!==b.Fragment?{...f,...d,ref:i}:{},{children:g}=r,y=b.useMemo(()=>pn(g)?g.get():g,[g]);return b.createElement(n,{...m,children:y})}}function jS(t){const e=[{},{}];return t?.values.forEach((n,r)=>{e[0][r]=n.get(),e[1][r]=n.getVelocity()}),e}function A_(t,e,n,r){if(typeof e=="function"){const[i,o]=jS(r);e=e(n!==void 0?n:t.custom,i,o)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[i,o]=jS(r);e=e(n!==void 0?n:t.custom,i,o)}return e}function Wf(t){return pn(t)?t.get():t}function CV({scrapeMotionValuesFromProps:t,createRenderState:e},n,r,i){return{latestValues:TV(n,r,i,t),renderState:e()}}const pR=t=>(e,n)=>{const r=b.useContext(cm),i=b.useContext(lm),o=()=>CV(t,e,r,i);return n?o():e_(o)};function TV(t,e,n,r){const i={},o=r(t,{});for(const y in o)i[y]=Wf(o[y]);let{initial:l,animate:c}=t;const d=dm(t),f=sR(t);e&&f&&!d&&t.inherit!==!1&&(l===void 0&&(l=e.initial),c===void 0&&(c=e.animate));let m=n?n.initial===!1:!1;m=m||l===!1;const g=m?c:l;if(g&&typeof g!="boolean"&&!um(g)){const y=Array.isArray(g)?g:[g];for(let C=0;C<y.length;C++){const S=A_(t,y[C]);if(S){const{transitionEnd:k,transition:P,...N}=S;for(const M in N){let O=N[M];if(Array.isArray(O)){const U=m?O.length-1:0;O=O[U]}O!==null&&(i[M]=O)}for(const M in k)i[M]=k[M]}}}return i}function N_(t,e,n){const{style:r}=t,i={};for(const o in r)(pn(r[o])||e.style&&pn(e.style[o])||cR(o,t)||n?.getValue(o)?.liveStyle!==void 0)&&(i[o]=r[o]);return i}const kV={useVisualState:pR({scrapeMotionValuesFromProps:N_,createRenderState:P_})};function mR(t,e,n){const r=N_(t,e,n);for(const i in t)if(pn(t[i])||pn(e[i])){const o=lc.indexOf(i)!==-1?"attr"+i.charAt(0).toUpperCase()+i.substring(1):i;r[o]=t[i]}return r}const IV={useVisualState:pR({scrapeMotionValuesFromProps:mR,createRenderState:hR})};function PV(t,e){return function(r,{forwardMotionProps:i}={forwardMotionProps:!1}){const l={...R_(r)?IV:kV,preloadedFeatures:t,useRender:SV(i),createVisualElement:e,Component:r};return lV(l)}}function vd(t,e,n){const r=t.getProps();return A_(r,e,n!==void 0?n:r.custom,t)}const av=t=>Array.isArray(t);function RV(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,ql(n))}function AV(t){return av(t)?t[t.length-1]||0:t}function NV(t,e){const n=vd(t,e);let{transitionEnd:r={},transition:i={},...o}=n||{};o={...o,...r};for(const l in o){const c=AV(o[l]);RV(t,l,c)}}function OV(t){return!!(pn(t)&&t.add)}function lv(t,e){const n=t.getValue("willChange");if(OV(n))return n.add(e);if(!n&&as.WillChange){const r=new as.WillChange("auto");t.addValue("willChange",r),r.add(e)}}function gR(t){return t.props[oR]}const DV=t=>t!==null;function MV(t,{repeat:e,repeatType:n="loop"},r){const i=t.filter(DV),o=e&&n!=="loop"&&e%2===1?0:i.length-1;return i[o]}const LV={type:"spring",stiffness:500,damping:25,restSpeed:10},jV=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),FV={type:"keyframes",duration:.8},$V={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},UV=(t,{keyframes:e})=>e.length>2?FV:cc.has(t)?t.startsWith("scale")?jV(e[1]):LV:$V;function VV({when:t,delay:e,delayChildren:n,staggerChildren:r,staggerDirection:i,repeat:o,repeatType:l,repeatDelay:c,from:d,elapsed:f,...m}){return!!Object.keys(m).length}const O_=(t,e,n,r={},i,o)=>l=>{const c=__(r,t)||{},d=c.delay||r.delay||0;let{elapsed:f=0}=r;f=f-gi(d);const m={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...c,delay:-f,onUpdate:y=>{e.set(y),c.onUpdate&&c.onUpdate(y)},onComplete:()=>{l(),c.onComplete&&c.onComplete()},name:t,motionValue:e,element:o?void 0:i};VV(c)||Object.assign(m,UV(t,m)),m.duration&&(m.duration=gi(m.duration)),m.repeatDelay&&(m.repeatDelay=gi(m.repeatDelay)),m.from!==void 0&&(m.keyframes[0]=m.from);let g=!1;if((m.type===!1||m.duration===0&&!m.repeatDelay)&&(m.duration=0,m.delay===0&&(g=!0)),(as.instantAnimations||as.skipAnimations)&&(g=!0,m.duration=0,m.delay=0),m.allowFlatten=!c.type&&!c.ease,g&&!o&&e.get()!==void 0){const y=MV(m.keyframes,c);if(y!==void 0){yt.update(()=>{m.onUpdate(y),m.onComplete()});return}}return c.isSync?new y_(m):new _U(m)};function BV({protectedKeys:t,needsAnimating:e},n){const r=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,r}function yR(t,e,{delay:n=0,transitionOverride:r,type:i}={}){let{transition:o=t.getDefaultTransition(),transitionEnd:l,...c}=e;r&&(o=r);const d=[],f=i&&t.animationState&&t.animationState.getState()[i];for(const m in c){const g=t.getValue(m,t.latestValues[m]??null),y=c[m];if(y===void 0||f&&BV(f,m))continue;const C={delay:n,...__(o||{},m)},S=g.get();if(S!==void 0&&!g.isAnimating&&!Array.isArray(y)&&y===S&&!C.velocity)continue;let k=!1;if(window.MotionHandoffAnimation){const N=gR(t);if(N){const M=window.MotionHandoffAnimation(N,m,yt);M!==null&&(C.startTime=M,k=!0)}}lv(t,m),g.start(O_(m,g,y,t.shouldReduceMotion&&qP.has(m)?{type:!1}:C,t,k));const P=g.animation;P&&d.push(P)}return l&&Promise.all(d).then(()=>{yt.update(()=>{l&&NV(t,l)})}),d}function cv(t,e,n={}){const r=vd(t,e,n.type==="exit"?t.presenceContext?.custom:void 0);let{transition:i=t.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(i=n.transitionOverride);const o=r?()=>Promise.all(yR(t,r,n)):()=>Promise.resolve(),l=t.variantChildren&&t.variantChildren.size?(d=0)=>{const{delayChildren:f=0,staggerChildren:m,staggerDirection:g}=i;return zV(t,e,f+d,m,g,n)}:()=>Promise.resolve(),{when:c}=i;if(c){const[d,f]=c==="beforeChildren"?[o,l]:[l,o];return d().then(()=>f())}else return Promise.all([o(),l(n.delay)])}function zV(t,e,n=0,r=0,i=1,o){const l=[],c=(t.variantChildren.size-1)*r,d=i===1?(f=0)=>f*r:(f=0)=>c-f*r;return Array.from(t.variantChildren).sort(WV).forEach((f,m)=>{f.notify("AnimationStart",e),l.push(cv(f,e,{...o,delay:n+d(m)}).then(()=>f.notify("AnimationComplete",e)))}),Promise.all(l)}function WV(t,e){return t.sortNodePosition(e)}function HV(t,e,n={}){t.notify("AnimationStart",e);let r;if(Array.isArray(e)){const i=e.map(o=>cv(t,o,n));r=Promise.all(i)}else if(typeof e=="string")r=cv(t,e,n);else{const i=typeof e=="function"?vd(t,e,n.custom):e;r=Promise.all(yR(t,i,n))}return r.then(()=>{t.notify("AnimationComplete",e)})}function vR(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}const qV=T_.length;function wR(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?wR(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<qV;n++){const r=T_[n],i=t.props[r];(gd(i)||i===!1)&&(e[r]=i)}return e}const GV=[...C_].reverse(),KV=C_.length;function YV(t){return e=>Promise.all(e.map(({animation:n,options:r})=>HV(t,n,r)))}function XV(t){let e=YV(t),n=FS(),r=!0;const i=d=>(f,m)=>{const g=vd(t,m,d==="exit"?t.presenceContext?.custom:void 0);if(g){const{transition:y,transitionEnd:C,...S}=g;f={...f,...S,...C}}return f};function o(d){e=d(t)}function l(d){const{props:f}=t,m=wR(t.parent)||{},g=[],y=new Set;let C={},S=1/0;for(let P=0;P<KV;P++){const N=GV[P],M=n[N],O=f[N]!==void 0?f[N]:m[N],U=gd(O),B=N===d?M.isActive:null;B===!1&&(S=P);let H=O===m[N]&&O!==f[N]&&U;if(H&&r&&t.manuallyAnimateOnMount&&(H=!1),M.protectedKeys={...C},!M.isActive&&B===null||!O&&!M.prevProp||um(O)||typeof O=="boolean")continue;const D=JV(M.prevProp,O);let I=D||N===d&&M.isActive&&!H&&U||P>S&&U,A=!1;const E=Array.isArray(O)?O:[O];let L=E.reduce(i(N),{});B===!1&&(L={});const{prevResolvedValues:$={}}=M,F={...$,...L},re=fe=>{I=!0,y.has(fe)&&(A=!0,y.delete(fe)),M.needsAnimating[fe]=!0;const te=t.getValue(fe);te&&(te.liveStyle=!1)};for(const fe in F){const te=L[fe],ue=$[fe];if(C.hasOwnProperty(fe))continue;let ae=!1;av(te)&&av(ue)?ae=!vR(te,ue):ae=te!==ue,ae?te!=null?re(fe):y.add(fe):te!==void 0&&y.has(fe)?re(fe):M.protectedKeys[fe]=!0}M.prevProp=O,M.prevResolvedValues=L,M.isActive&&(C={...C,...L}),r&&t.blockInitialAnimation&&(I=!1),I&&(!(H&&D)||A)&&g.push(...E.map(fe=>({animation:fe,options:{type:N}})))}if(y.size){const P={};if(typeof f.initial!="boolean"){const N=vd(t,Array.isArray(f.initial)?f.initial[0]:f.initial);N&&N.transition&&(P.transition=N.transition)}y.forEach(N=>{const M=t.getBaseTarget(N),O=t.getValue(N);O&&(O.liveStyle=!0),P[N]=M??null}),g.push({animation:P})}let k=!!g.length;return r&&(f.initial===!1||f.initial===f.animate)&&!t.manuallyAnimateOnMount&&(k=!1),r=!1,k?e(g):Promise.resolve()}function c(d,f){if(n[d].isActive===f)return Promise.resolve();t.variantChildren?.forEach(g=>g.animationState?.setActive(d,f)),n[d].isActive=f;const m=l(d);for(const g in n)n[g].protectedKeys={};return m}return{animateChanges:l,setActive:c,setAnimateFunction:o,getState:()=>n,reset:()=>{n=FS(),r=!0}}}function JV(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!vR(e,t):!1}function Bo(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function FS(){return{animate:Bo(!0),whileInView:Bo(),whileHover:Bo(),whileTap:Bo(),whileDrag:Bo(),whileFocus:Bo(),exit:Bo()}}class go{constructor(e){this.isMounted=!1,this.node=e}update(){}}class QV extends go{constructor(e){super(e),e.animationState||(e.animationState=XV(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();um(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}let ZV=0;class eB extends go{constructor(){super(...arguments),this.id=ZV++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const i=this.node.animationState.setActive("exit",!e);n&&!e&&i.then(()=>{n(this.id)})}mount(){const{register:e,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const tB={animation:{Feature:QV},exit:{Feature:eB}};function wd(t,e,n,r={passive:!0}){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n)}function Hd(t){return{point:{x:t.pageX,y:t.pageY}}}const nB=t=>e=>E_(e)&&t(e,Hd(e));function Uu(t,e,n,r){return wd(t,e,nB(n),r)}function _R({top:t,left:e,right:n,bottom:r}){return{x:{min:e,max:n},y:{min:t,max:r}}}function rB({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function iB(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),r=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}const xR=1e-4,sB=1-xR,oB=1+xR,bR=.01,aB=0-bR,lB=0+bR;function En(t){return t.max-t.min}function cB(t,e,n){return Math.abs(t-e)<=n}function $S(t,e,n,r=.5){t.origin=r,t.originPoint=gt(e.min,e.max,t.origin),t.scale=En(n)/En(e),t.translate=gt(n.min,n.max,t.origin)-t.originPoint,(t.scale>=sB&&t.scale<=oB||isNaN(t.scale))&&(t.scale=1),(t.translate>=aB&&t.translate<=lB||isNaN(t.translate))&&(t.translate=0)}function Vu(t,e,n,r){$S(t.x,e.x,n.x,r?r.originX:void 0),$S(t.y,e.y,n.y,r?r.originY:void 0)}function US(t,e,n){t.min=n.min+e.min,t.max=t.min+En(e)}function uB(t,e,n){US(t.x,e.x,n.x),US(t.y,e.y,n.y)}function VS(t,e,n){t.min=e.min-n.min,t.max=t.min+En(e)}function Bu(t,e,n){VS(t.x,e.x,n.x),VS(t.y,e.y,n.y)}const BS=()=>({translate:0,scale:1,origin:0,originPoint:0}),Pl=()=>({x:BS(),y:BS()}),zS=()=>({min:0,max:0}),It=()=>({x:zS(),y:zS()});function mr(t){return[t("x"),t("y")]}function zy(t){return t===void 0||t===1}function uv({scale:t,scaleX:e,scaleY:n}){return!zy(t)||!zy(e)||!zy(n)}function qo(t){return uv(t)||ER(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function ER(t){return WS(t.x)||WS(t.y)}function WS(t){return t&&t!=="0%"}function Pp(t,e,n){const r=t-n,i=e*r;return n+i}function HS(t,e,n,r,i){return i!==void 0&&(t=Pp(t,i,r)),Pp(t,n,r)+e}function dv(t,e=0,n=1,r,i){t.min=HS(t.min,e,n,r,i),t.max=HS(t.max,e,n,r,i)}function SR(t,{x:e,y:n}){dv(t.x,e.translate,e.scale,e.originPoint),dv(t.y,n.translate,n.scale,n.originPoint)}const qS=.999999999999,GS=1.0000000000001;function dB(t,e,n,r=!1){const i=n.length;if(!i)return;e.x=e.y=1;let o,l;for(let c=0;c<i;c++){o=n[c],l=o.projectionDelta;const{visualElement:d}=o.options;d&&d.props.style&&d.props.style.display==="contents"||(r&&o.options.layoutScroll&&o.scroll&&o!==o.root&&Al(t,{x:-o.scroll.offset.x,y:-o.scroll.offset.y}),l&&(e.x*=l.x.scale,e.y*=l.y.scale,SR(t,l)),r&&qo(o.latestValues)&&Al(t,o.latestValues))}e.x<GS&&e.x>qS&&(e.x=1),e.y<GS&&e.y>qS&&(e.y=1)}function Rl(t,e){t.min=t.min+e,t.max=t.max+e}function KS(t,e,n,r,i=.5){const o=gt(t.min,t.max,i);dv(t,e,n,o,r)}function Al(t,e){KS(t.x,e.x,e.scaleX,e.scale,e.originX),KS(t.y,e.y,e.scaleY,e.scale,e.originY)}function CR(t,e){return _R(iB(t.getBoundingClientRect(),e))}function hB(t,e,n){const r=CR(t,n),{scroll:i}=e;return i&&(Rl(r.x,i.offset.x),Rl(r.y,i.offset.y)),r}const TR=({current:t})=>t?t.ownerDocument.defaultView:null,YS=(t,e)=>Math.abs(t-e);function fB(t,e){const n=YS(t.x,e.x),r=YS(t.y,e.y);return Math.sqrt(n**2+r**2)}class kR{constructor(e,n,{transformPagePoint:r,contextWindow:i,dragSnapToOrigin:o=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const g=Hy(this.lastMoveEventInfo,this.history),y=this.startEvent!==null,C=fB(g.offset,{x:0,y:0})>=3;if(!y&&!C)return;const{point:S}=g,{timestamp:k}=nn;this.history.push({...S,timestamp:k});const{onStart:P,onMove:N}=this.handlers;y||(P&&P(this.lastMoveEvent,g),this.startEvent=this.lastMoveEvent),N&&N(this.lastMoveEvent,g)},this.handlePointerMove=(g,y)=>{this.lastMoveEvent=g,this.lastMoveEventInfo=Wy(y,this.transformPagePoint),yt.update(this.updatePoint,!0)},this.handlePointerUp=(g,y)=>{this.end();const{onEnd:C,onSessionEnd:S,resumeAnimation:k}=this.handlers;if(this.dragSnapToOrigin&&k&&k(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const P=Hy(g.type==="pointercancel"?this.lastMoveEventInfo:Wy(y,this.transformPagePoint),this.history);this.startEvent&&C&&C(g,P),S&&S(g,P)},!E_(e))return;this.dragSnapToOrigin=o,this.handlers=n,this.transformPagePoint=r,this.contextWindow=i||window;const l=Hd(e),c=Wy(l,this.transformPagePoint),{point:d}=c,{timestamp:f}=nn;this.history=[{...d,timestamp:f}];const{onSessionStart:m}=n;m&&m(e,Hy(c,this.history)),this.removeListeners=Bd(Uu(this.contextWindow,"pointermove",this.handlePointerMove),Uu(this.contextWindow,"pointerup",this.handlePointerUp),Uu(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),ao(this.updatePoint)}}function Wy(t,e){return e?{point:e(t.point)}:t}function XS(t,e){return{x:t.x-e.x,y:t.y-e.y}}function Hy({point:t},e){return{point:t,delta:XS(t,IR(e)),offset:XS(t,pB(e)),velocity:mB(e,.1)}}function pB(t){return t[0]}function IR(t){return t[t.length-1]}function mB(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,r=null;const i=IR(t);for(;n>=0&&(r=t[n],!(i.timestamp-r.timestamp>gi(e)));)n--;if(!r)return{x:0,y:0};const o=yi(i.timestamp-r.timestamp);if(o===0)return{x:0,y:0};const l={x:(i.x-r.x)/o,y:(i.y-r.y)/o};return l.x===1/0&&(l.x=0),l.y===1/0&&(l.y=0),l}function gB(t,{min:e,max:n},r){return e!==void 0&&t<e?t=r?gt(e,t,r.min):Math.max(t,e):n!==void 0&&t>n&&(t=r?gt(n,t,r.max):Math.min(t,n)),t}function JS(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function yB(t,{top:e,left:n,bottom:r,right:i}){return{x:JS(t.x,n,i),y:JS(t.y,e,r)}}function QS(t,e){let n=e.min-t.min,r=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,r]=[r,n]),{min:n,max:r}}function vB(t,e){return{x:QS(t.x,e.x),y:QS(t.y,e.y)}}function wB(t,e){let n=.5;const r=En(t),i=En(e);return i>r?n=fd(e.min,e.max-r,t.min):r>i&&(n=fd(t.min,t.max-i,e.min)),os(0,1,n)}function _B(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const hv=.35;function xB(t=hv){return t===!1?t=0:t===!0&&(t=hv),{x:ZS(t,"left","right"),y:ZS(t,"top","bottom")}}function ZS(t,e,n){return{min:eC(t,e),max:eC(t,n)}}function eC(t,e){return typeof t=="number"?t:t[e]||0}const bB=new WeakMap;class EB{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=It(),this.visualElement=e}start(e,{snapToCursor:n=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const i=m=>{const{dragSnapToOrigin:g}=this.getProps();g?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(Hd(m).point)},o=(m,g)=>{const{drag:y,dragPropagation:C,onDragStart:S}=this.getProps();if(y&&!C&&(this.openDragLock&&this.openDragLock(),this.openDragLock=LU(y),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),mr(P=>{let N=this.getAxisMotionValue(P).get()||0;if(vi.test(N)){const{projection:M}=this.visualElement;if(M&&M.layout){const O=M.layout.layoutBox[P];O&&(N=En(O)*(parseFloat(N)/100))}}this.originPoint[P]=N}),S&&yt.postRender(()=>S(m,g)),lv(this.visualElement,"transform");const{animationState:k}=this.visualElement;k&&k.setActive("whileDrag",!0)},l=(m,g)=>{const{dragPropagation:y,dragDirectionLock:C,onDirectionLock:S,onDrag:k}=this.getProps();if(!y&&!this.openDragLock)return;const{offset:P}=g;if(C&&this.currentDirection===null){this.currentDirection=SB(P),this.currentDirection!==null&&S&&S(this.currentDirection);return}this.updateAxis("x",g.point,P),this.updateAxis("y",g.point,P),this.visualElement.render(),k&&k(m,g)},c=(m,g)=>this.stop(m,g),d=()=>mr(m=>this.getAnimationState(m)==="paused"&&this.getAxisMotionValue(m).animation?.play()),{dragSnapToOrigin:f}=this.getProps();this.panSession=new kR(e,{onSessionStart:i,onStart:o,onMove:l,onSessionEnd:c,resumeAnimation:d},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:f,contextWindow:TR(this.visualElement)})}stop(e,n){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:i}=n;this.startAnimation(i);const{onDragEnd:o}=this.getProps();o&&yt.postRender(()=>o(e,n))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,r){const{drag:i}=this.getProps();if(!r||!Tf(e,i,this.currentDirection))return;const o=this.getAxisMotionValue(e);let l=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(l=gB(l,this.constraints[e],this.elastic[e])),o.set(l)}resolveConstraints(){const{dragConstraints:e,dragElastic:n}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,i=this.constraints;e&&Il(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&r?this.constraints=yB(r.layoutBox,e):this.constraints=!1,this.elastic=xB(n),i!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&mr(o=>{this.constraints!==!1&&this.getAxisMotionValue(o)&&(this.constraints[o]=_B(r.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!Il(e))return!1;const r=e.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const o=hB(r,i.root,this.visualElement.getTransformPagePoint());let l=vB(i.layout.layoutBox,o);if(n){const c=n(rB(l));this.hasMutatedConstraints=!!c,c&&(l=_R(c))}return l}startAnimation(e){const{drag:n,dragMomentum:r,dragElastic:i,dragTransition:o,dragSnapToOrigin:l,onDragTransitionEnd:c}=this.getProps(),d=this.constraints||{},f=mr(m=>{if(!Tf(m,n,this.currentDirection))return;let g=d&&d[m]||{};l&&(g={min:0,max:0});const y=i?200:1e6,C=i?40:1e7,S={type:"inertia",velocity:r?e[m]:0,bounceStiffness:y,bounceDamping:C,timeConstant:750,restDelta:1,restSpeed:10,...o,...g};return this.startAxisValueAnimation(m,S)});return Promise.all(f).then(c)}startAxisValueAnimation(e,n){const r=this.getAxisMotionValue(e);return lv(this.visualElement,e),r.start(O_(e,r,0,n,this.visualElement,!1))}stopAnimation(){mr(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){mr(e=>this.getAxisMotionValue(e).animation?.pause())}getAnimationState(e){return this.getAxisMotionValue(e).animation?.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,r=this.visualElement.getProps(),i=r[n];return i||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){mr(n=>{const{drag:r}=this.getProps();if(!Tf(n,r,this.currentDirection))return;const{projection:i}=this.visualElement,o=this.getAxisMotionValue(n);if(i&&i.layout){const{min:l,max:c}=i.layout.layoutBox[n];o.set(e[n]-gt(l,c,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!Il(n)||!r||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};mr(l=>{const c=this.getAxisMotionValue(l);if(c&&this.constraints!==!1){const d=c.get();i[l]=wB({min:d,max:d},this.constraints[l])}});const{transformTemplate:o}=this.visualElement.getProps();this.visualElement.current.style.transform=o?o({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),mr(l=>{if(!Tf(l,e,null))return;const c=this.getAxisMotionValue(l),{min:d,max:f}=this.constraints[l];c.set(gt(d,f,i[l]))})}addListeners(){if(!this.visualElement.current)return;bB.set(this.visualElement,this);const e=this.visualElement.current,n=Uu(e,"pointerdown",d=>{const{drag:f,dragListener:m=!0}=this.getProps();f&&m&&this.start(d)}),r=()=>{const{dragConstraints:d}=this.getProps();Il(d)&&d.current&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,o=i.addEventListener("measure",r);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),yt.read(r);const l=wd(window,"resize",()=>this.scalePositionWithinConstraints()),c=i.addEventListener("didUpdate",({delta:d,hasLayoutChanged:f})=>{this.isDragging&&f&&(mr(m=>{const g=this.getAxisMotionValue(m);g&&(this.originPoint[m]+=d[m].translate,g.set(g.get()+d[m].translate))}),this.visualElement.render())});return()=>{l(),n(),o(),c&&c()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:i=!1,dragConstraints:o=!1,dragElastic:l=hv,dragMomentum:c=!0}=e;return{...e,drag:n,dragDirectionLock:r,dragPropagation:i,dragConstraints:o,dragElastic:l,dragMomentum:c}}}function Tf(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function SB(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class CB extends go{constructor(e){super(e),this.removeGroupControls=vr,this.removeListeners=vr,this.controls=new EB(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||vr}unmount(){this.removeGroupControls(),this.removeListeners()}}const tC=t=>(e,n)=>{t&&yt.postRender(()=>t(e,n))};class TB extends go{constructor(){super(...arguments),this.removePointerDownListener=vr}onPointerDown(e){this.session=new kR(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:TR(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:r,onPanEnd:i}=this.node.getProps();return{onSessionStart:tC(e),onStart:tC(n),onMove:r,onEnd:(o,l)=>{delete this.session,i&&yt.postRender(()=>i(o,l))}}}mount(){this.removePointerDownListener=Uu(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Hf={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function nC(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const mu={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(Ne.test(t))t=parseFloat(t);else return t;const n=nC(t,e.target.x),r=nC(t,e.target.y);return`${n}% ${r}%`}},kB={correct:(t,{treeScale:e,projectionDelta:n})=>{const r=t,i=lo.parse(t);if(i.length>5)return r;const o=lo.createTransformer(t),l=typeof i[0]!="number"?1:0,c=n.x.scale*e.x,d=n.y.scale*e.y;i[0+l]/=c,i[1+l]/=d;const f=gt(c,d,.5);return typeof i[2+l]=="number"&&(i[2+l]/=f),typeof i[3+l]=="number"&&(i[3+l]/=f),o(i)}};class IB extends b.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r,layoutId:i}=this.props,{projection:o}=e;hV(PB),o&&(n.group&&n.group.add(o),r&&r.register&&i&&r.register(o),o.root.didUpdate(),o.addEventListener("animationComplete",()=>{this.safeToRemove()}),o.setOptions({...o.options,onExitComplete:()=>this.safeToRemove()})),Hf.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:r,drag:i,isPresent:o}=this.props,{projection:l}=r;return l&&(l.isPresent=o,i||e.layoutDependency!==n||n===void 0||e.isPresent!==o?l.willUpdate():this.safeToRemove(),e.isPresent!==o&&(o?l.promote():l.relegate()||yt.postRender(()=>{const c=l.getStack();(!c||!c.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),b_.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:i}=e;i&&(i.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(i),r&&r.deregister&&r.deregister(i))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function PR(t){const[e,n]=nR(),r=b.useContext(Zw);return w.jsx(IB,{...t,layoutGroup:r,switchLayoutGroup:b.useContext(aR),isPresent:e,safeToRemove:n})}const PB={borderRadius:{...mu,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:mu,borderTopRightRadius:mu,borderBottomLeftRadius:mu,borderBottomRightRadius:mu,boxShadow:kB};function RB(t,e,n){const r=pn(t)?t:ql(t);return r.start(O_("",r,e,n)),r.animation}const AB=(t,e)=>t.depth-e.depth;class NB{constructor(){this.children=[],this.isDirty=!1}add(e){n_(this.children,e),this.isDirty=!0}remove(e){r_(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(AB),this.isDirty=!1,this.children.forEach(e)}}function OB(t,e){const n=$n.now(),r=({timestamp:i})=>{const o=i-n;o>=e&&(ao(r),t(o-e))};return yt.setup(r,!0),()=>ao(r)}const RR=["TopLeft","TopRight","BottomLeft","BottomRight"],DB=RR.length,rC=t=>typeof t=="string"?parseFloat(t):t,iC=t=>typeof t=="number"||Ne.test(t);function MB(t,e,n,r,i,o){i?(t.opacity=gt(0,n.opacity??1,LB(r)),t.opacityExit=gt(e.opacity??1,0,jB(r))):o&&(t.opacity=gt(e.opacity??1,n.opacity??1,r));for(let l=0;l<DB;l++){const c=`border${RR[l]}Radius`;let d=sC(e,c),f=sC(n,c);if(d===void 0&&f===void 0)continue;d||(d=0),f||(f=0),d===0||f===0||iC(d)===iC(f)?(t[c]=Math.max(gt(rC(d),rC(f),r),0),(vi.test(f)||vi.test(d))&&(t[c]+="%")):t[c]=f}(e.rotate||n.rotate)&&(t.rotate=gt(e.rotate||0,n.rotate||0,r))}function sC(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const LB=AR(0,.5,EP),jB=AR(.5,.95,vr);function AR(t,e,n){return r=>r<t?0:r>e?1:n(fd(t,e,r))}function oC(t,e){t.min=e.min,t.max=e.max}function fr(t,e){oC(t.x,e.x),oC(t.y,e.y)}function aC(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function lC(t,e,n,r,i){return t-=e,t=Pp(t,1/n,r),i!==void 0&&(t=Pp(t,1/i,r)),t}function FB(t,e=0,n=1,r=.5,i,o=t,l=t){if(vi.test(e)&&(e=parseFloat(e),e=gt(l.min,l.max,e/100)-l.min),typeof e!="number")return;let c=gt(o.min,o.max,r);t===o&&(c-=e),t.min=lC(t.min,e,n,c,i),t.max=lC(t.max,e,n,c,i)}function cC(t,e,[n,r,i],o,l){FB(t,e[n],e[r],e[i],e.scale,o,l)}const $B=["x","scaleX","originX"],UB=["y","scaleY","originY"];function uC(t,e,n,r){cC(t.x,e,$B,n?n.x:void 0,r?r.x:void 0),cC(t.y,e,UB,n?n.y:void 0,r?r.y:void 0)}function dC(t){return t.translate===0&&t.scale===1}function NR(t){return dC(t.x)&&dC(t.y)}function hC(t,e){return t.min===e.min&&t.max===e.max}function VB(t,e){return hC(t.x,e.x)&&hC(t.y,e.y)}function fC(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function OR(t,e){return fC(t.x,e.x)&&fC(t.y,e.y)}function pC(t){return En(t.x)/En(t.y)}function mC(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class BB{constructor(){this.members=[]}add(e){n_(this.members,e),e.scheduleRender()}remove(e){if(r_(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(i=>e===i);if(n===0)return!1;let r;for(let i=n;i>=0;i--){const o=this.members[i];if(o.isPresent!==!1){r=o;break}}return r?(this.promote(r),!0):!1}promote(e,n){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,n&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:i}=e.options;i===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:r}=e;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function zB(t,e,n){let r="";const i=t.x.translate/e.x,o=t.y.translate/e.y,l=n?.z||0;if((i||o||l)&&(r=`translate3d(${i}px, ${o}px, ${l}px) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:f,rotate:m,rotateX:g,rotateY:y,skewX:C,skewY:S}=n;f&&(r=`perspective(${f}px) ${r}`),m&&(r+=`rotate(${m}deg) `),g&&(r+=`rotateX(${g}deg) `),y&&(r+=`rotateY(${y}deg) `),C&&(r+=`skewX(${C}deg) `),S&&(r+=`skewY(${S}deg) `)}const c=t.x.scale*e.x,d=t.y.scale*e.y;return(c!==1||d!==1)&&(r+=`scale(${c}, ${d})`),r||"none"}const qy=["","X","Y","Z"],WB={visibility:"hidden"},HB=1e3;let qB=0;function Gy(t,e,n,r){const{latestValues:i}=e;i[t]&&(n[t]=i[t],e.setStaticValue(t,0),r&&(r[t]=0))}function DR(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=gR(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:i,layoutId:o}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",yt,!(i||o))}const{parent:r}=t;r&&!r.hasCheckedOptimisedAppear&&DR(r)}function MR({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:r,resetTransform:i}){return class{constructor(l={},c=e?.()){this.id=qB++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(YB),this.nodes.forEach(ez),this.nodes.forEach(tz),this.nodes.forEach(XB)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=l,this.root=c?c.root||c:this,this.path=c?[...c.path,c]:[],this.parent=c,this.depth=c?c.depth+1:0;for(let d=0;d<this.path.length;d++)this.path[d].shouldResetTransform=!0;this.root===this&&(this.nodes=new NB)}addEventListener(l,c){return this.eventHandlers.has(l)||this.eventHandlers.set(l,new o_),this.eventHandlers.get(l).add(c)}notifyListeners(l,...c){const d=this.eventHandlers.get(l);d&&d.notify(...c)}hasListeners(l){return this.eventHandlers.has(l)}mount(l){if(this.instance)return;this.isSVG=tR(l)&&!BU(l),this.instance=l;const{layoutId:c,layout:d,visualElement:f}=this.options;if(f&&!f.current&&f.mount(l),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(d||c)&&(this.isLayoutDirty=!0),t){let m;const g=()=>this.root.updateBlockedByResize=!1;t(l,()=>{this.root.updateBlockedByResize=!0,m&&m(),m=OB(g,250),Hf.hasAnimatedSinceResize&&(Hf.hasAnimatedSinceResize=!1,this.nodes.forEach(yC))})}c&&this.root.registerSharedNode(c,this),this.options.animate!==!1&&f&&(c||d)&&this.addEventListener("didUpdate",({delta:m,hasLayoutChanged:g,hasRelativeLayoutChanged:y,layout:C})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const S=this.options.transition||f.getDefaultTransition()||oz,{onLayoutAnimationStart:k,onLayoutAnimationComplete:P}=f.getProps(),N=!this.targetLayout||!OR(this.targetLayout,C),M=!g&&y;if(this.options.layoutRoot||this.resumeFrom||M||g&&(N||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(m,M);const O={...__(S,"layout"),onPlay:k,onComplete:P};(f.shouldReduceMotion||this.options.layoutRoot)&&(O.delay=0,O.type=!1),this.startAnimation(O)}else g||yC(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=C})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const l=this.getStack();l&&l.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),ao(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(nz),this.animationId++)}getTransformTemplate(){const{visualElement:l}=this.options;return l&&l.getProps().transformTemplate}willUpdate(l=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&DR(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let m=0;m<this.path.length;m++){const g=this.path[m];g.shouldResetTransform=!0,g.updateScroll("snapshot"),g.options.layoutRoot&&g.willUpdate(!1)}const{layoutId:c,layout:d}=this.options;if(c===void 0&&!d)return;const f=this.getTransformTemplate();this.prevTransformTemplateValue=f?f(this.latestValues,""):void 0,this.updateSnapshot(),l&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(gC);return}this.isUpdating||this.nodes.forEach(QB),this.isUpdating=!1,this.nodes.forEach(ZB),this.nodes.forEach(GB),this.nodes.forEach(KB),this.clearAllSnapshots();const c=$n.now();nn.delta=os(0,1e3/60,c-nn.timestamp),nn.timestamp=c,nn.isProcessing=!0,jy.update.process(nn),jy.preRender.process(nn),jy.render.process(nn),nn.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,b_.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(JB),this.sharedNodes.forEach(rz)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,yt.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){yt.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!En(this.snapshot.measuredBox.x)&&!En(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let d=0;d<this.path.length;d++)this.path[d].updateScroll();const l=this.layout;this.layout=this.measure(!1),this.layoutCorrected=It(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:c}=this.options;c&&c.notify("LayoutMeasure",this.layout.layoutBox,l?l.layoutBox:void 0)}updateScroll(l="measure"){let c=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===l&&(c=!1),c&&this.instance){const d=r(this.instance);this.scroll={animationId:this.root.animationId,phase:l,isRoot:d,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:d}}}resetTransform(){if(!i)return;const l=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,c=this.projectionDelta&&!NR(this.projectionDelta),d=this.getTransformTemplate(),f=d?d(this.latestValues,""):void 0,m=f!==this.prevTransformTemplateValue;l&&this.instance&&(c||qo(this.latestValues)||m)&&(i(this.instance,f),this.shouldResetTransform=!1,this.scheduleRender())}measure(l=!0){const c=this.measurePageBox();let d=this.removeElementScroll(c);return l&&(d=this.removeTransform(d)),az(d),{animationId:this.root.animationId,measuredBox:c,layoutBox:d,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:l}=this.options;if(!l)return It();const c=l.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some(lz))){const{scroll:f}=this.root;f&&(Rl(c.x,f.offset.x),Rl(c.y,f.offset.y))}return c}removeElementScroll(l){const c=It();if(fr(c,l),this.scroll?.wasRoot)return c;for(let d=0;d<this.path.length;d++){const f=this.path[d],{scroll:m,options:g}=f;f!==this.root&&m&&g.layoutScroll&&(m.wasRoot&&fr(c,l),Rl(c.x,m.offset.x),Rl(c.y,m.offset.y))}return c}applyTransform(l,c=!1){const d=It();fr(d,l);for(let f=0;f<this.path.length;f++){const m=this.path[f];!c&&m.options.layoutScroll&&m.scroll&&m!==m.root&&Al(d,{x:-m.scroll.offset.x,y:-m.scroll.offset.y}),qo(m.latestValues)&&Al(d,m.latestValues)}return qo(this.latestValues)&&Al(d,this.latestValues),d}removeTransform(l){const c=It();fr(c,l);for(let d=0;d<this.path.length;d++){const f=this.path[d];if(!f.instance||!qo(f.latestValues))continue;uv(f.latestValues)&&f.updateSnapshot();const m=It(),g=f.measurePageBox();fr(m,g),uC(c,f.latestValues,f.snapshot?f.snapshot.layoutBox:void 0,m)}return qo(this.latestValues)&&uC(c,this.latestValues),c}setTargetDelta(l){this.targetDelta=l,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(l){this.options={...this.options,...l,crossfade:l.crossfade!==void 0?l.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==nn.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(l=!1){const c=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=c.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=c.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=c.isSharedProjectionDirty);const d=!!this.resumingFrom||this!==c;if(!(l||d&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:m,layoutId:g}=this.options;if(!(!this.layout||!(m||g))){if(this.resolvedRelativeTargetAt=nn.timestamp,!this.targetDelta&&!this.relativeTarget){const y=this.getClosestProjectingParent();y&&y.layout&&this.animationProgress!==1?(this.relativeParent=y,this.forceRelativeParentToResolveTarget(),this.relativeTarget=It(),this.relativeTargetOrigin=It(),Bu(this.relativeTargetOrigin,this.layout.layoutBox,y.layout.layoutBox),fr(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=It(),this.targetWithTransforms=It()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),uB(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):fr(this.target,this.layout.layoutBox),SR(this.target,this.targetDelta)):fr(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const y=this.getClosestProjectingParent();y&&!!y.resumingFrom==!!this.resumingFrom&&!y.options.layoutScroll&&y.target&&this.animationProgress!==1?(this.relativeParent=y,this.forceRelativeParentToResolveTarget(),this.relativeTarget=It(),this.relativeTargetOrigin=It(),Bu(this.relativeTargetOrigin,this.target,y.target),fr(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||uv(this.parent.latestValues)||ER(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){const l=this.getLead(),c=!!this.resumingFrom||this!==l;let d=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(d=!1),c&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(d=!1),this.resolvedRelativeTargetAt===nn.timestamp&&(d=!1),d)return;const{layout:f,layoutId:m}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(f||m))return;fr(this.layoutCorrected,this.layout.layoutBox);const g=this.treeScale.x,y=this.treeScale.y;dB(this.layoutCorrected,this.treeScale,this.path,c),l.layout&&!l.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(l.target=l.layout.layoutBox,l.targetWithTransforms=It());const{target:C}=l;if(!C){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(aC(this.prevProjectionDelta.x,this.projectionDelta.x),aC(this.prevProjectionDelta.y,this.projectionDelta.y)),Vu(this.projectionDelta,this.layoutCorrected,C,this.latestValues),(this.treeScale.x!==g||this.treeScale.y!==y||!mC(this.projectionDelta.x,this.prevProjectionDelta.x)||!mC(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",C))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(l=!0){if(this.options.visualElement?.scheduleRender(),l){const c=this.getStack();c&&c.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Pl(),this.projectionDelta=Pl(),this.projectionDeltaWithTransform=Pl()}setAnimationOrigin(l,c=!1){const d=this.snapshot,f=d?d.latestValues:{},m={...this.latestValues},g=Pl();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!c;const y=It(),C=d?d.source:void 0,S=this.layout?this.layout.source:void 0,k=C!==S,P=this.getStack(),N=!P||P.members.length<=1,M=!!(k&&!N&&this.options.crossfade===!0&&!this.path.some(sz));this.animationProgress=0;let O;this.mixTargetDelta=U=>{const B=U/1e3;vC(g.x,l.x,B),vC(g.y,l.y,B),this.setTargetDelta(g),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Bu(y,this.layout.layoutBox,this.relativeParent.layout.layoutBox),iz(this.relativeTarget,this.relativeTargetOrigin,y,B),O&&VB(this.relativeTarget,O)&&(this.isProjectionDirty=!1),O||(O=It()),fr(O,this.relativeTarget)),k&&(this.animationValues=m,MB(m,f,this.latestValues,B,M,N)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=B},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(l){this.notifyListeners("animationStart"),this.currentAnimation?.stop(!1),this.resumingFrom?.currentAnimation?.stop(!1),this.pendingAnimation&&(ao(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=yt.update(()=>{Hf.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=ql(0)),this.currentAnimation=RB(this.motionValue,[0,1e3],{...l,isSync:!0,onUpdate:c=>{this.mixTargetDelta(c),l.onUpdate&&l.onUpdate(c)},onStop:()=>{},onComplete:()=>{l.onComplete&&l.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const l=this.getStack();l&&l.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(HB),this.currentAnimation.stop(!1)),this.completeAnimation()}applyTransformsToTarget(){const l=this.getLead();let{targetWithTransforms:c,target:d,layout:f,latestValues:m}=l;if(!(!c||!d||!f)){if(this!==l&&this.layout&&f&&LR(this.options.animationType,this.layout.layoutBox,f.layoutBox)){d=this.target||It();const g=En(this.layout.layoutBox.x);d.x.min=l.target.x.min,d.x.max=d.x.min+g;const y=En(this.layout.layoutBox.y);d.y.min=l.target.y.min,d.y.max=d.y.min+y}fr(c,d),Al(c,m),Vu(this.projectionDeltaWithTransform,this.layoutCorrected,c,m)}}registerSharedNode(l,c){this.sharedNodes.has(l)||this.sharedNodes.set(l,new BB),this.sharedNodes.get(l).add(c);const f=c.options.initialPromotionConfig;c.promote({transition:f?f.transition:void 0,preserveFollowOpacity:f&&f.shouldPreserveFollowOpacity?f.shouldPreserveFollowOpacity(c):void 0})}isLead(){const l=this.getStack();return l?l.lead===this:!0}getLead(){const{layoutId:l}=this.options;return l?this.getStack()?.lead||this:this}getPrevLead(){const{layoutId:l}=this.options;return l?this.getStack()?.prevLead:void 0}getStack(){const{layoutId:l}=this.options;if(l)return this.root.sharedNodes.get(l)}promote({needsReset:l,transition:c,preserveFollowOpacity:d}={}){const f=this.getStack();f&&f.promote(this,d),l&&(this.projectionDelta=void 0,this.needsReset=!0),c&&this.setOptions({transition:c})}relegate(){const l=this.getStack();return l?l.relegate(this):!1}resetSkewAndRotation(){const{visualElement:l}=this.options;if(!l)return;let c=!1;const{latestValues:d}=l;if((d.z||d.rotate||d.rotateX||d.rotateY||d.rotateZ||d.skewX||d.skewY)&&(c=!0),!c)return;const f={};d.z&&Gy("z",l,f,this.animationValues);for(let m=0;m<qy.length;m++)Gy(`rotate${qy[m]}`,l,f,this.animationValues),Gy(`skew${qy[m]}`,l,f,this.animationValues);l.render();for(const m in f)l.setStaticValue(m,f[m]),this.animationValues&&(this.animationValues[m]=f[m]);l.scheduleRender()}getProjectionStyles(l){if(!this.instance||this.isSVG)return;if(!this.isVisible)return WB;const c={visibility:""},d=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,c.opacity="",c.pointerEvents=Wf(l?.pointerEvents)||"",c.transform=d?d(this.latestValues,""):"none",c;const f=this.getLead();if(!this.projectionDelta||!this.layout||!f.target){const C={};return this.options.layoutId&&(C.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,C.pointerEvents=Wf(l?.pointerEvents)||""),this.hasProjected&&!qo(this.latestValues)&&(C.transform=d?d({},""):"none",this.hasProjected=!1),C}const m=f.animationValues||f.latestValues;this.applyTransformsToTarget(),c.transform=zB(this.projectionDeltaWithTransform,this.treeScale,m),d&&(c.transform=d(m,c.transform));const{x:g,y}=this.projectionDelta;c.transformOrigin=`${g.origin*100}% ${y.origin*100}% 0`,f.animationValues?c.opacity=f===this?m.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:m.opacityExit:c.opacity=f===this?m.opacity!==void 0?m.opacity:"":m.opacityExit!==void 0?m.opacityExit:0;for(const C in yd){if(m[C]===void 0)continue;const{correct:S,applyTo:k,isCSSVariable:P}=yd[C],N=c.transform==="none"?m[C]:S(m[C],f);if(k){const M=k.length;for(let O=0;O<M;O++)c[k[O]]=N}else P?this.options.visualElement.renderState.vars[C]=N:c[C]=N}return this.options.layoutId&&(c.pointerEvents=f===this?Wf(l?.pointerEvents)||"":"none"),c}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(l=>l.currentAnimation?.stop(!1)),this.root.nodes.forEach(gC),this.root.sharedNodes.clear()}}}function GB(t){t.updateLayout()}function KB(t){const e=t.resumeFrom?.snapshot||t.snapshot;if(t.isLead()&&t.layout&&e&&t.hasListeners("didUpdate")){const{layoutBox:n,measuredBox:r}=t.layout,{animationType:i}=t.options,o=e.source!==t.layout.source;i==="size"?mr(m=>{const g=o?e.measuredBox[m]:e.layoutBox[m],y=En(g);g.min=n[m].min,g.max=g.min+y}):LR(i,e.layoutBox,n)&&mr(m=>{const g=o?e.measuredBox[m]:e.layoutBox[m],y=En(n[m]);g.max=g.min+y,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[m].max=t.relativeTarget[m].min+y)});const l=Pl();Vu(l,n,e.layoutBox);const c=Pl();o?Vu(c,t.applyTransform(r,!0),e.measuredBox):Vu(c,n,e.layoutBox);const d=!NR(l);let f=!1;if(!t.resumeFrom){const m=t.getClosestProjectingParent();if(m&&!m.resumeFrom){const{snapshot:g,layout:y}=m;if(g&&y){const C=It();Bu(C,e.layoutBox,g.layoutBox);const S=It();Bu(S,n,y.layoutBox),OR(C,S)||(f=!0),m.options.layoutRoot&&(t.relativeTarget=S,t.relativeTargetOrigin=C,t.relativeParent=m)}}}t.notifyListeners("didUpdate",{layout:n,snapshot:e,delta:c,layoutDelta:l,hasLayoutChanged:d,hasRelativeLayoutChanged:f})}else if(t.isLead()){const{onExitComplete:n}=t.options;n&&n()}t.options.transition=void 0}function YB(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function XB(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function JB(t){t.clearSnapshot()}function gC(t){t.clearMeasurements()}function QB(t){t.isLayoutDirty=!1}function ZB(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function yC(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function ez(t){t.resolveTargetDelta()}function tz(t){t.calcProjection()}function nz(t){t.resetSkewAndRotation()}function rz(t){t.removeLeadSnapshot()}function vC(t,e,n){t.translate=gt(e.translate,0,n),t.scale=gt(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function wC(t,e,n,r){t.min=gt(e.min,n.min,r),t.max=gt(e.max,n.max,r)}function iz(t,e,n,r){wC(t.x,e.x,n.x,r),wC(t.y,e.y,n.y,r)}function sz(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const oz={duration:.45,ease:[.4,0,.1,1]},_C=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),xC=_C("applewebkit/")&&!_C("chrome/")?Math.round:vr;function bC(t){t.min=xC(t.min),t.max=xC(t.max)}function az(t){bC(t.x),bC(t.y)}function LR(t,e,n){return t==="position"||t==="preserve-aspect"&&!cB(pC(e),pC(n),.2)}function lz(t){return t!==t.root&&t.scroll?.wasRoot}const cz=MR({attachResizeListener:(t,e)=>wd(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Ky={current:void 0},jR=MR({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!Ky.current){const t=new cz({});t.mount(window),t.setOptions({layoutScroll:!0}),Ky.current=t}return Ky.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),uz={pan:{Feature:TB},drag:{Feature:CB,ProjectionNode:jR,MeasureLayout:PR}};function EC(t,e,n){const{props:r}=t;t.animationState&&r.whileHover&&t.animationState.setActive("whileHover",n==="Start");const i="onHover"+n,o=r[i];o&&yt.postRender(()=>o(e,Hd(e)))}class dz extends go{mount(){const{current:e}=this.node;e&&(this.unmount=jU(e,(n,r)=>(EC(this.node,r,"Start"),i=>EC(this.node,i,"End"))))}unmount(){}}class hz extends go{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Bd(wd(this.node.current,"focus",()=>this.onFocus()),wd(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function SC(t,e,n){const{props:r}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&r.whileTap&&t.animationState.setActive("whileTap",n==="Start");const i="onTap"+(n==="End"?"":n),o=r[i];o&&yt.postRender(()=>o(e,Hd(e)))}class fz extends go{mount(){const{current:e}=this.node;e&&(this.unmount=VU(e,(n,r)=>(SC(this.node,r,"Start"),(i,{success:o})=>SC(this.node,i,o?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const fv=new WeakMap,Yy=new WeakMap,pz=t=>{const e=fv.get(t.target);e&&e(t)},mz=t=>{t.forEach(pz)};function gz({root:t,...e}){const n=t||document;Yy.has(n)||Yy.set(n,{});const r=Yy.get(n),i=JSON.stringify(e);return r[i]||(r[i]=new IntersectionObserver(mz,{root:t,...e})),r[i]}function yz(t,e,n){const r=gz(e);return fv.set(t,n),r.observe(t),()=>{fv.delete(t),r.unobserve(t)}}const vz={some:0,all:1};class wz extends go{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:r,amount:i="some",once:o}=e,l={root:n?n.current:void 0,rootMargin:r,threshold:typeof i=="number"?i:vz[i]},c=d=>{const{isIntersecting:f}=d;if(this.isInView===f||(this.isInView=f,o&&!f&&this.hasEnteredView))return;f&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",f);const{onViewportEnter:m,onViewportLeave:g}=this.node.getProps(),y=f?m:g;y&&y(d)};return yz(this.node.current,l,c)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(_z(e,n))&&this.startObserver()}unmount(){}}function _z({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const xz={inView:{Feature:wz},tap:{Feature:fz},focus:{Feature:hz},hover:{Feature:dz}},bz={layout:{ProjectionNode:jR,MeasureLayout:PR}},pv={current:null},FR={current:!1};function Ez(){if(FR.current=!0,!!t_)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>pv.current=t.matches;t.addListener(e),e()}else pv.current=!1}const Sz=new WeakMap;function Cz(t,e,n){for(const r in e){const i=e[r],o=n[r];if(pn(i))t.addValue(r,i);else if(pn(o))t.addValue(r,ql(i,{owner:t}));else if(o!==i)if(t.hasValue(r)){const l=t.getValue(r);l.liveStyle===!0?l.jump(i):l.hasAnimated||l.set(i)}else{const l=t.getStaticValue(r);t.addValue(r,ql(l!==void 0?l:i,{owner:t}))}}for(const r in n)e[r]===void 0&&t.removeValue(r);return e}const CC=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class Tz{scrapeMotionValuesFromProps(e,n,r){return{}}constructor({parent:e,props:n,presenceContext:r,reducedMotionConfig:i,blockInitialAnimation:o,visualState:l},c={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=v_,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const y=$n.now();this.renderScheduledAt<y&&(this.renderScheduledAt=y,yt.render(this.render,!1,!0))};const{latestValues:d,renderState:f}=l;this.latestValues=d,this.baseTarget={...d},this.initialValues=n.initial?{...d}:{},this.renderState=f,this.parent=e,this.props=n,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=i,this.options=c,this.blockInitialAnimation=!!o,this.isControllingVariants=dm(n),this.isVariantNode=sR(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:m,...g}=this.scrapeMotionValuesFromProps(n,{},this);for(const y in g){const C=g[y];d[y]!==void 0&&pn(C)&&C.set(d[y],!1)}}mount(e){this.current=e,Sz.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),FR.current||Ez(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:pv.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),ao(this.notifyUpdate),ao(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const n=this.features[e];n&&(n.unmount(),n.isMounted=!1)}this.current=null}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const r=cc.has(e);r&&this.onBindTransform&&this.onBindTransform();const i=n.on("change",c=>{this.latestValues[e]=c,this.props.onUpdate&&yt.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0)}),o=n.on("renderRequest",this.scheduleRender);let l;window.MotionCheckAppearSync&&(l=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{i(),o(),l&&l(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in Gl){const n=Gl[e];if(!n)continue;const{isEnabled:r,Feature:i}=n;if(!this.features[e]&&i&&r(this.props)&&(this.features[e]=new i(this)),this.features[e]){const o=this.features[e];o.isMounted?o.update():(o.mount(),o.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):It()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<CC.length;r++){const i=CC[r];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const o="on"+i,l=e[o];l&&(this.propEventSubscriptions[i]=this.on(i,l))}this.prevMotionValues=Cz(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const r=this.values.get(e);n!==r&&(r&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&n!==void 0&&(r=ql(n===null?void 0:n,{owner:this}),this.addValue(e,r)),r}readValue(e,n){let r=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return r!=null&&(typeof r=="string"&&(fP(r)||mP(r))?r=parseFloat(r):!WU(r)&&lo.test(n)&&(r=XP(e,n)),this.setBaseTarget(e,pn(r)?r.get():r)),pn(r)?r.get():r}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){const{initial:n}=this.props;let r;if(typeof n=="string"||typeof n=="object"){const o=A_(this.props,n,this.presenceContext?.custom);o&&(r=o[e])}if(n&&r!==void 0)return r;const i=this.getBaseTargetFromProps(this.props,e);return i!==void 0&&!pn(i)?i:this.initialValues[e]!==void 0&&r===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new o_),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}}class $R extends Tz{constructor(){super(...arguments),this.KeyframeResolver=NU}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:r}){delete n[e],delete r[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;pn(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function UR(t,{style:e,vars:n},r,i){Object.assign(t.style,e,i&&i.getProjectionStyles(r));for(const o in n)t.style.setProperty(o,n[o])}function kz(t){return window.getComputedStyle(t)}class Iz extends $R{constructor(){super(...arguments),this.type="html",this.renderInstance=UR}readValueFromInstance(e,n){if(cc.has(n))return this.projection?.isProjecting?tv(n):J8(e,n);{const r=kz(e),i=(c_(n)?r.getPropertyValue(n):r[n])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(e,{transformPagePoint:n}){return CR(e,n)}build(e,n,r){I_(e,n,r.transformTemplate)}scrapeMotionValuesFromProps(e,n,r){return N_(e,n,r)}}const VR=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function Pz(t,e,n,r){UR(t,e,void 0,r);for(const i in e.attrs)t.setAttribute(VR.has(i)?i:k_(i),e.attrs[i])}class Rz extends $R{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=It}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(cc.has(n)){const r=YP(n);return r&&r.default||0}return n=VR.has(n)?n:k_(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,r){return mR(e,n,r)}build(e,n,r){dR(e,n,this.isSVGTag,r.transformTemplate,r.style)}renderInstance(e,n,r,i){Pz(e,n,r,i)}mount(e){this.isSVGTag=fR(e.tagName),super.mount(e)}}const Az=(t,e)=>R_(t)?new Rz(e):new Iz(e,{allowProjection:t!==b.Fragment}),Nz=PV({...tB,...xz,...uz,...bz},Az),Oz=eV(Nz);function Dz(){const t=xr(),e=_i(),[n,r]=b.useState(null),[i,o]=b.useState(null),[l,c]=b.useState(null),[d,f]=b.useState(null),[m,g]=b.useState(Array(6).fill({nombre:"",dorsal:""})),[y,C]=b.useState(Array(6).fill({nombre:"",dorsal:""})),[S,k]=b.useState(null),[P,N]=b.useState(!1);b.useEffect(()=>{e.state?.equipoLocal&&e.state?.equipoVisita?(r(e.state),o(e.state.equipoLocal),c(e.state.equipoVisita),f(e.state.genero)):(console.warn("[Alineacion.jsx] No se recibieron datos de configuracin del partido. Redirigiendo."),t("/partido/configurar"))},[e.state,t]);const M=(A,E)=>{const L=E==="local"?m[A]:y[A],$=E==="local"?m:y,F=E==="local"?i?.nombre:l?.nombre;k({tipo:E,index:A,jugador:L,jugadoresActuales:$,nombreEquipo:F,generoPartido:d})},O=(A,E,L)=>{const $=E==="local"?g:C,re=[...E==="local"?m:y];re[A]=L,$(re),k(null)},U=async()=>{let A=null;try{const E=ue=>ue.every(ae=>ae.nombre.trim()!==""&&ae.dorsal.trim()!=="");if(!E(m)||!E(y)){alert("Todos los jugadores deben tener nombre y dorsal antes de continuar.");return}const L=be(Ce,"partidos");A=Tl(L).key;const[F,re]=await Promise.all([Zi(be(Ce,`plantillas/${d.toLowerCase()}/${i.nombre.toLowerCase()}`)),Zi(be(Ce,`plantillas/${d.toLowerCase()}/${l.nombre.toLowerCase()}`))]),he=F.exists()?F.val():K0[i.nombre.toLowerCase()]||[],me=re.exists()?re.val():K0[l.nombre.toLowerCase()]||[],fe={nombre:i.nombre,logo:i.escudo.split("/").pop(),jugadores:m.map(ue=>({...ue,enJuego:!0,haJugado:!0})),todosJugadores:he},te={nombre:l.nombre,logo:l.escudo.split("/").pop(),jugadores:y.map(ue=>({...ue,enJuego:!0,haJugado:!0})),todosJugadores:me};await St(be(Ce,`partidos/${A}/alineacion`),{equipo1:fe,equipo2:te,genero:d}),await St(be(Ce,`partidos/${A}/marcador`),{equipo1:0,equipo2:0}),await St(be(Ce,"partidoEnCurso"),{partidoId:A,equipo1:i.nombre,equipo2:l.nombre,timestamp:Date.now()}),t(`/control-partido/${A}`)}catch(E){alert(" ERROR al confirmar alineacin: "+E.message),console.error("Error al confirmar alineacin:",E)}},B=A=>`/EmproChampions-2025/camisas/camisa-${A.toLowerCase().replace(/\s+/g,"-")}.png`,H=A=>["don bosco","luz","emprosaurios"].includes(A.toLowerCase())?"#000":"#fff",D=[{top:"15%",left:"18%"},{top:"15%",left:"62%"},{top:"38%",left:"40%"},{top:"55%",left:"17%"},{top:"55%",left:"63%"},{top:"74%",left:"40%"}],I=(A,E,L,$)=>w.jsx(Oz.div,{className:"absolute cursor-pointer",style:{top:D[E].top,left:D[E].left,transform:"translate(-50%, -50%)"},animate:{scale:S?.index===E&&S?.tipo===L?1.5:1},transition:{duration:.3},onClick:()=>M(E,L),children:w.jsxs("div",{className:"relative w-fit flex flex-col items-center",children:[w.jsx("div",{className:"absolute top-[12%] font-barcelona text-[24px] md:text-[30px] z-20 pointer-events-none",style:{color:H((L==="local"?i?.nombre:l?.nombre)||""),textShadow:"1px 1px 1px rgba(0,0,0,0.6)"},children:A.dorsal}),w.jsx("img",{src:$,className:"w-16 md:w-20 relative z-10",alt:`jugador-${L}`}),A.nombre&&w.jsx("div",{className:"absolute bottom-[-18px] font-barcelona text-[11px] text-white bg-black/80 px-2 py-[2px] rounded text-center z-20",children:A.nombre})]})},E);return!i||!l?null:w.jsxs("div",{className:"min-h-screen bg-cover bg-center font-qatar text-white",style:{backgroundImage:"url('/EmproChampions-2025/img/fondoempro-horizontal.png')"},children:[w.jsx(tr,{}),w.jsx("h1",{className:"text-3xl sm:text-5xl font-bold text-center mt-6 text-yellow-400 drop-shadow",children:"Alineacin Inicial"}),w.jsxs("div",{className:"flex flex-col lg:flex-row items-center justify-center gap-4 lg:gap-8 p-2 lg:p-6",children:[w.jsxs("div",{className:"relative w-[300px] h-[510px] sm:w-[320px] sm:h-[540px] md:w-[400px] md:h-[640px]",children:[w.jsx("img",{src:"/EmproChampions-2025/img/cancha-vertical.svg",alt:"cancha local",className:"w-full h-full"}),m.map((A,E)=>I(A,E,"local",B(i.nombre)))]}),w.jsxs("div",{className:"flex flex-col items-center gap-4 my-4 lg:my-0",children:[w.jsx("img",{src:"/EmproChampions-2025/img/logo-empro.png",alt:"logo empro",className:"w-20 md:w-32"}),w.jsxs("div",{className:"flex items-center gap-4 md:gap-10",children:[w.jsx("img",{src:i.escudo,className:"w-20 h-20 md:w-24 md:h-24 object-contain",alt:"local logo"}),w.jsx("span",{className:"text-white text-3xl md:text-4xl font-black",children:"VS"}),w.jsx("img",{src:l.escudo,className:"w-20 h-20 md:w-24 md:h-24 object-contain",alt:"visita logo"})]}),w.jsx("button",{onClick:()=>t("/partido/configurar"),className:"bg-white/80 text-[#7a0026] font-bold px-6 py-2 rounded-full hover:bg-white transition",children:" Volver"})]}),w.jsxs("div",{className:"relative w-[300px] h-[510px] sm:w-[320px] sm:h-[540px] md:w-[400px] md:h-[640px]",children:[w.jsx("img",{src:"/EmproChampions-2025/img/cancha-vertical.svg",alt:"cancha visita",className:"w-full h-full"}),y.map((A,E)=>I(A,E,"visita",B(l.nombre)))]})]}),w.jsx("div",{className:"flex justify-center mt-6 pb-10",children:w.jsx("button",{onClick:U,className:"bg-[#FFD700] text-[#7a0026] font-bold px-10 py-3 rounded-full hover:bg-yellow-300 transition text-xl shadow-lg",children:"Confirmar Alineacin"})}),w.jsx(YU,{children:S&&w.jsx(K$,{...S,onSave:O,onClose:()=>k(null),camiseta:B(S.tipo==="local"?i.nombre:l.nombre),dorsalColor:H(S.tipo==="local"?i.nombre:l.nombre)})}),w.jsx(nr,{})]})}function ga(t){return t&&t.ownerDocument||document}function Rp(t){return ga(t).defaultView||window}function Mz(t=window){const e=t.document.documentElement.clientWidth;return t.innerWidth-e}function Lz(t){const e=ga(t);return e.body===t?Rp(t).innerWidth>e.documentElement.clientWidth:t.scrollHeight>t.clientHeight}function zu(t,e){e?t.setAttribute("aria-hidden","true"):t.removeAttribute("aria-hidden")}function TC(t){return parseInt(Rp(t).getComputedStyle(t).paddingRight,10)||0}function jz(t){const n=["TEMPLATE","SCRIPT","STYLE","LINK","MAP","META","NOSCRIPT","PICTURE","COL","COLGROUP","PARAM","SLOT","SOURCE","TRACK"].includes(t.tagName),r=t.tagName==="INPUT"&&t.getAttribute("type")==="hidden";return n||r}function kC(t,e,n,r,i){const o=[e,n,...r];[].forEach.call(t.children,l=>{const c=!o.includes(l),d=!jz(l);c&&d&&zu(l,i)})}function Xy(t,e){let n=-1;return t.some((r,i)=>e(r)?(n=i,!0):!1),n}function Fz(t,e){const n=[],r=t.container;if(!e.disableScrollLock){if(Lz(r)){const l=Mz(Rp(r));n.push({value:r.style.paddingRight,property:"padding-right",el:r}),r.style.paddingRight=`${TC(r)+l}px`;const c=ga(r).querySelectorAll(".mui-fixed");[].forEach.call(c,d=>{n.push({value:d.style.paddingRight,property:"padding-right",el:d}),d.style.paddingRight=`${TC(d)+l}px`})}let o;if(r.parentNode instanceof DocumentFragment)o=ga(r).body;else{const l=r.parentElement,c=Rp(r);o=l?.nodeName==="HTML"&&c.getComputedStyle(l).overflowY==="scroll"?l:r}n.push({value:o.style.overflow,property:"overflow",el:o},{value:o.style.overflowX,property:"overflow-x",el:o},{value:o.style.overflowY,property:"overflow-y",el:o}),o.style.overflow="hidden"}return()=>{n.forEach(({value:o,el:l,property:c})=>{o?l.style.setProperty(c,o):l.style.removeProperty(c)})}}function $z(t){const e=[];return[].forEach.call(t.children,n=>{n.getAttribute("aria-hidden")==="true"&&e.push(n)}),e}class Uz{constructor(){this.modals=[],this.containers=[]}add(e,n){let r=this.modals.indexOf(e);if(r!==-1)return r;r=this.modals.length,this.modals.push(e),e.modalRef&&zu(e.modalRef,!1);const i=$z(n);kC(n,e.mount,e.modalRef,i,!0);const o=Xy(this.containers,l=>l.container===n);return o!==-1?(this.containers[o].modals.push(e),r):(this.containers.push({modals:[e],container:n,restore:null,hiddenSiblings:i}),r)}mount(e,n){const r=Xy(this.containers,o=>o.modals.includes(e)),i=this.containers[r];i.restore||(i.restore=Fz(i,n))}remove(e,n=!0){const r=this.modals.indexOf(e);if(r===-1)return r;const i=Xy(this.containers,l=>l.modals.includes(e)),o=this.containers[i];if(o.modals.splice(o.modals.indexOf(e),1),this.modals.splice(r,1),o.modals.length===0)o.restore&&o.restore(),e.modalRef&&zu(e.modalRef,n),kC(o.container,e.mount,e.modalRef,o.hiddenSiblings,!1),this.containers.splice(i,1);else{const l=o.modals[o.modals.length-1];l.modalRef&&zu(l.modalRef,!1)}return r}isTopModal(e){return this.modals.length>0&&this.modals[this.modals.length-1]===e}}function BR(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=BR(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function Kl(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=BR(t))&&(r&&(r+=" "),r+=e);return r}function zR(t,e,n=void 0){const r={};for(const i in t){const o=t[i];let l="",c=!0;for(let d=0;d<o.length;d+=1){const f=o[d];f&&(l+=(c===!0?"":" ")+e(f),c=!1,n&&n[f]&&(l+=" "+n[f]))}r[i]=l}return r}function qd(...t){const e=b.useRef(void 0),n=b.useCallback(r=>{const i=t.map(o=>{if(o==null)return null;if(typeof o=="function"){const l=o,c=l(r);return typeof c=="function"?c:()=>{l(null)}}return o.current=r,()=>{o.current=null}});return()=>{i.forEach(o=>o?.())}},t);return b.useMemo(()=>t.every(r=>r==null)?null:r=>{e.current&&(e.current(),e.current=void 0),r!=null&&(e.current=n(r))},t)}function D_(t){return parseInt(b.version,10)>=19?t?.props?.ref||null:t?.ref||null}const Vz=["input","select","textarea","a[href]","button","[tabindex]","audio[controls]","video[controls]",'[contenteditable]:not([contenteditable="false"])'].join(",");function Bz(t){const e=parseInt(t.getAttribute("tabindex")||"",10);return Number.isNaN(e)?t.contentEditable==="true"||(t.nodeName==="AUDIO"||t.nodeName==="VIDEO"||t.nodeName==="DETAILS")&&t.getAttribute("tabindex")===null?0:t.tabIndex:e}function zz(t){if(t.tagName!=="INPUT"||t.type!=="radio"||!t.name)return!1;const e=r=>t.ownerDocument.querySelector(`input[type="radio"]${r}`);let n=e(`[name="${t.name}"]:checked`);return n||(n=e(`[name="${t.name}"]`)),n!==t}function Wz(t){return!(t.disabled||t.tagName==="INPUT"&&t.type==="hidden"||zz(t))}function Hz(t){const e=[],n=[];return Array.from(t.querySelectorAll(Vz)).forEach((r,i)=>{const o=Bz(r);o===-1||!Wz(r)||(o===0?e.push(r):n.push({documentOrder:i,tabIndex:o,node:r}))}),n.sort((r,i)=>r.tabIndex===i.tabIndex?r.documentOrder-i.documentOrder:r.tabIndex-i.tabIndex).map(r=>r.node).concat(e)}function qz(){return!0}function Gz(t){const{children:e,disableAutoFocus:n=!1,disableEnforceFocus:r=!1,disableRestoreFocus:i=!1,getTabbable:o=Hz,isEnabled:l=qz,open:c}=t,d=b.useRef(!1),f=b.useRef(null),m=b.useRef(null),g=b.useRef(null),y=b.useRef(null),C=b.useRef(!1),S=b.useRef(null),k=qd(D_(e),S),P=b.useRef(null);b.useEffect(()=>{!c||!S.current||(C.current=!n)},[n,c]),b.useEffect(()=>{if(!c||!S.current)return;const O=ga(S.current);return S.current.contains(O.activeElement)||(S.current.hasAttribute("tabIndex")||S.current.setAttribute("tabIndex","-1"),C.current&&S.current.focus()),()=>{i||(g.current&&g.current.focus&&(d.current=!0,g.current.focus()),g.current=null)}},[c]),b.useEffect(()=>{if(!c||!S.current)return;const O=ga(S.current),U=D=>{P.current=D,!(r||!l()||D.key!=="Tab")&&O.activeElement===S.current&&D.shiftKey&&(d.current=!0,m.current&&m.current.focus())},B=()=>{const D=S.current;if(D===null)return;if(!O.hasFocus()||!l()||d.current){d.current=!1;return}if(D.contains(O.activeElement)||r&&O.activeElement!==f.current&&O.activeElement!==m.current)return;if(O.activeElement!==y.current)y.current=null;else if(y.current!==null)return;if(!C.current)return;let I=[];if((O.activeElement===f.current||O.activeElement===m.current)&&(I=o(S.current)),I.length>0){const A=!!(P.current?.shiftKey&&P.current?.key==="Tab"),E=I[0],L=I[I.length-1];typeof E!="string"&&typeof L!="string"&&(A?L.focus():E.focus())}else D.focus()};O.addEventListener("focusin",B),O.addEventListener("keydown",U,!0);const H=setInterval(()=>{O.activeElement&&O.activeElement.tagName==="BODY"&&B()},50);return()=>{clearInterval(H),O.removeEventListener("focusin",B),O.removeEventListener("keydown",U,!0)}},[n,r,i,l,c,o]);const N=O=>{g.current===null&&(g.current=O.relatedTarget),C.current=!0,y.current=O.target;const U=e.props.onFocus;U&&U(O)},M=O=>{g.current===null&&(g.current=O.relatedTarget),C.current=!0};return w.jsxs(b.Fragment,{children:[w.jsx("div",{tabIndex:c?0:-1,onFocus:M,ref:f,"data-testid":"sentinelStart"}),b.cloneElement(e,{ref:k,onFocus:N}),w.jsx("div",{tabIndex:c?0:-1,onFocus:M,ref:m,"data-testid":"sentinelEnd"})]})}const mv=typeof window<"u"?b.useLayoutEffect:b.useEffect;function IC(t,e){typeof t=="function"?t(e):t&&(t.current=e)}function Kz(t){return typeof t=="function"?t():t}const Yz=b.forwardRef(function(e,n){const{children:r,container:i,disablePortal:o=!1}=e,[l,c]=b.useState(null),d=qd(b.isValidElement(r)?D_(r):null,n);if(mv(()=>{o||c(Kz(i)||document.body)},[i,o]),mv(()=>{if(l&&!o)return IC(n,l),()=>{IC(n,null)}},[n,l,o]),o){if(b.isValidElement(r)){const f={ref:d};return b.cloneElement(r,f)}return r}return l&&$v.createPortal(r,l)});function ya(t,...e){const n=new URL(`https://mui.com/production-error/?code=${t}`);return e.forEach(r=>n.searchParams.append("args[]",r)),`Minified MUI error #${t}; visit ${n} for the full message.`}function WR(t){if(typeof t!="string")throw new Error(ya(7));return t.charAt(0).toUpperCase()+t.slice(1)}var Jy={exports:{}},Xe={};/**
 * @license React
 * react-is.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var PC;function Xz(){if(PC)return Xe;PC=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),f=Symbol.for("react.suspense_list"),m=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),y=Symbol.for("react.view_transition"),C=Symbol.for("react.client.reference");function S(k){if(typeof k=="object"&&k!==null){var P=k.$$typeof;switch(P){case t:switch(k=k.type,k){case n:case i:case r:case d:case f:case y:return k;default:switch(k=k&&k.$$typeof,k){case l:case c:case g:case m:return k;case o:return k;default:return P}}case e:return P}}}return Xe.ContextConsumer=o,Xe.ContextProvider=l,Xe.Element=t,Xe.ForwardRef=c,Xe.Fragment=n,Xe.Lazy=g,Xe.Memo=m,Xe.Portal=e,Xe.Profiler=i,Xe.StrictMode=r,Xe.Suspense=d,Xe.SuspenseList=f,Xe.isContextConsumer=function(k){return S(k)===o},Xe.isContextProvider=function(k){return S(k)===l},Xe.isElement=function(k){return typeof k=="object"&&k!==null&&k.$$typeof===t},Xe.isForwardRef=function(k){return S(k)===c},Xe.isFragment=function(k){return S(k)===n},Xe.isLazy=function(k){return S(k)===g},Xe.isMemo=function(k){return S(k)===m},Xe.isPortal=function(k){return S(k)===e},Xe.isProfiler=function(k){return S(k)===i},Xe.isStrictMode=function(k){return S(k)===r},Xe.isSuspense=function(k){return S(k)===d},Xe.isSuspenseList=function(k){return S(k)===f},Xe.isValidElementType=function(k){return typeof k=="string"||typeof k=="function"||k===n||k===i||k===r||k===d||k===f||typeof k=="object"&&k!==null&&(k.$$typeof===g||k.$$typeof===m||k.$$typeof===l||k.$$typeof===o||k.$$typeof===c||k.$$typeof===C||k.getModuleId!==void 0)},Xe.typeOf=S,Xe}var RC;function Jz(){return RC||(RC=1,Jy.exports=Xz()),Jy.exports}var HR=Jz();function fi(t){if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)}function qR(t){if(b.isValidElement(t)||HR.isValidElementType(t)||!fi(t))return t;const e={};return Object.keys(t).forEach(n=>{e[n]=qR(t[n])}),e}function Qn(t,e,n={clone:!0}){const r=n.clone?{...t}:t;return fi(t)&&fi(e)&&Object.keys(e).forEach(i=>{b.isValidElement(e[i])||HR.isValidElementType(e[i])?r[i]=e[i]:fi(e[i])&&Object.prototype.hasOwnProperty.call(t,i)&&fi(t[i])?r[i]=Qn(t[i],e[i],n):n.clone?r[i]=fi(e[i])?qR(e[i]):e[i]:r[i]=e[i]}),r}function Wu(t,e){return e?Qn(t,e,{clone:!1}):t}function Qz(t,e){if(!t.containerQueries)return e;const n=Object.keys(e).filter(r=>r.startsWith("@container")).sort((r,i)=>{const o=/min-width:\s*([0-9.]+)/;return+(r.match(o)?.[1]||0)-+(i.match(o)?.[1]||0)});return n.length?n.reduce((r,i)=>{const o=e[i];return delete r[i],r[i]=o,r},{...e}):e}function Zz(t,e){return e==="@"||e.startsWith("@")&&(t.some(n=>e.startsWith(`@${n}`))||!!e.match(/^@\d/))}function eW(t,e){const n=e.match(/^@([^/]+)?\/?(.+)?$/);if(!n)return null;const[,r,i]=n,o=Number.isNaN(+r)?r||0:+r;return t.containerQueries(i).up(o)}function tW(t){const e=(o,l)=>o.replace("@media",l?`@container ${l}`:"@container");function n(o,l){o.up=(...c)=>e(t.breakpoints.up(...c),l),o.down=(...c)=>e(t.breakpoints.down(...c),l),o.between=(...c)=>e(t.breakpoints.between(...c),l),o.only=(...c)=>e(t.breakpoints.only(...c),l),o.not=(...c)=>{const d=e(t.breakpoints.not(...c),l);return d.includes("not all and")?d.replace("not all and ","").replace("min-width:","width<").replace("max-width:","width>").replace("and","or"):d}}const r={},i=o=>(n(r,o),r);return n(i),{...t,containerQueries:i}}const hm={xs:0,sm:600,md:900,lg:1200,xl:1536},AC={keys:["xs","sm","md","lg","xl"],up:t=>`@media (min-width:${hm[t]}px)`},nW={containerQueries:t=>({up:e=>{let n=typeof e=="number"?e:hm[e]||e;return typeof n=="number"&&(n=`${n}px`),t?`@container ${t} (min-width:${n})`:`@container (min-width:${n})`}})};function ls(t,e,n){const r=t.theme||{};if(Array.isArray(e)){const o=r.breakpoints||AC;return e.reduce((l,c,d)=>(l[o.up(o.keys[d])]=n(e[d]),l),{})}if(typeof e=="object"){const o=r.breakpoints||AC;return Object.keys(e).reduce((l,c)=>{if(Zz(o.keys,c)){const d=eW(r.containerQueries?r:nW,c);d&&(l[d]=n(e[c],c))}else if(Object.keys(o.values||hm).includes(c)){const d=o.up(c);l[d]=n(e[c],c)}else{const d=c;l[d]=e[d]}return l},{})}return n(e)}function rW(t={}){return t.keys?.reduce((n,r)=>{const i=t.up(r);return n[i]={},n},{})||{}}function iW(t,e){return t.reduce((n,r)=>{const i=n[r];return(!i||Object.keys(i).length===0)&&delete n[r],n},e)}function fm(t,e,n=!0){if(!e||typeof e!="string")return null;if(t&&t.vars&&n){const r=`vars.${e}`.split(".").reduce((i,o)=>i&&i[o]?i[o]:null,t);if(r!=null)return r}return e.split(".").reduce((r,i)=>r&&r[i]!=null?r[i]:null,t)}function Ap(t,e,n,r=n){let i;return typeof t=="function"?i=t(n):Array.isArray(t)?i=t[n]||r:i=fm(t,n)||r,e&&(i=e(i,r,t)),i}function Rt(t){const{prop:e,cssProperty:n=t.prop,themeKey:r,transform:i}=t,o=l=>{if(l[e]==null)return null;const c=l[e],d=l.theme,f=fm(d,r)||{};return ls(l,c,g=>{let y=Ap(f,i,g);return g===y&&typeof g=="string"&&(y=Ap(f,i,`${e}${g==="default"?"":WR(g)}`,g)),n===!1?y:{[n]:y}})};return o.propTypes={},o.filterProps=[e],o}function sW(t){const e={};return n=>(e[n]===void 0&&(e[n]=t(n)),e[n])}const oW={m:"margin",p:"padding"},aW={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},NC={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},lW=sW(t=>{if(t.length>2)if(NC[t])t=NC[t];else return[t];const[e,n]=t.split(""),r=oW[e],i=aW[n]||"";return Array.isArray(i)?i.map(o=>r+o):[r+i]}),M_=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],L_=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"];[...M_,...L_];function Gd(t,e,n,r){const i=fm(t,e,!0)??n;return typeof i=="number"||typeof i=="string"?o=>typeof o=="string"?o:typeof i=="string"?i.startsWith("var(")&&o===0?0:i.startsWith("var(")&&o===1?i:`calc(${o} * ${i})`:i*o:Array.isArray(i)?o=>{if(typeof o=="string")return o;const l=Math.abs(o),c=i[l];return o>=0?c:typeof c=="number"?-c:typeof c=="string"&&c.startsWith("var(")?`calc(-1 * ${c})`:`-${c}`}:typeof i=="function"?i:()=>{}}function j_(t){return Gd(t,"spacing",8)}function Kd(t,e){return typeof e=="string"||e==null?e:t(e)}function cW(t,e){return n=>t.reduce((r,i)=>(r[i]=Kd(e,n),r),{})}function uW(t,e,n,r){if(!e.includes(n))return null;const i=lW(n),o=cW(i,r),l=t[n];return ls(t,l,o)}function GR(t,e){const n=j_(t.theme);return Object.keys(t).map(r=>uW(t,e,r,n)).reduce(Wu,{})}function _t(t){return GR(t,M_)}_t.propTypes={};_t.filterProps=M_;function xt(t){return GR(t,L_)}xt.propTypes={};xt.filterProps=L_;function pm(...t){const e=t.reduce((r,i)=>(i.filterProps.forEach(o=>{r[o]=i}),r),{}),n=r=>Object.keys(r).reduce((i,o)=>e[o]?Wu(i,e[o](r)):i,{});return n.propTypes={},n.filterProps=t.reduce((r,i)=>r.concat(i.filterProps),[]),n}function gr(t){return typeof t!="number"?t:`${t}px solid`}function br(t,e){return Rt({prop:t,themeKey:"borders",transform:e})}const dW=br("border",gr),hW=br("borderTop",gr),fW=br("borderRight",gr),pW=br("borderBottom",gr),mW=br("borderLeft",gr),gW=br("borderColor"),yW=br("borderTopColor"),vW=br("borderRightColor"),wW=br("borderBottomColor"),_W=br("borderLeftColor"),xW=br("outline",gr),bW=br("outlineColor"),mm=t=>{if(t.borderRadius!==void 0&&t.borderRadius!==null){const e=Gd(t.theme,"shape.borderRadius",4),n=r=>({borderRadius:Kd(e,r)});return ls(t,t.borderRadius,n)}return null};mm.propTypes={};mm.filterProps=["borderRadius"];pm(dW,hW,fW,pW,mW,gW,yW,vW,wW,_W,mm,xW,bW);const gm=t=>{if(t.gap!==void 0&&t.gap!==null){const e=Gd(t.theme,"spacing",8),n=r=>({gap:Kd(e,r)});return ls(t,t.gap,n)}return null};gm.propTypes={};gm.filterProps=["gap"];const ym=t=>{if(t.columnGap!==void 0&&t.columnGap!==null){const e=Gd(t.theme,"spacing",8),n=r=>({columnGap:Kd(e,r)});return ls(t,t.columnGap,n)}return null};ym.propTypes={};ym.filterProps=["columnGap"];const vm=t=>{if(t.rowGap!==void 0&&t.rowGap!==null){const e=Gd(t.theme,"spacing",8),n=r=>({rowGap:Kd(e,r)});return ls(t,t.rowGap,n)}return null};vm.propTypes={};vm.filterProps=["rowGap"];const EW=Rt({prop:"gridColumn"}),SW=Rt({prop:"gridRow"}),CW=Rt({prop:"gridAutoFlow"}),TW=Rt({prop:"gridAutoColumns"}),kW=Rt({prop:"gridAutoRows"}),IW=Rt({prop:"gridTemplateColumns"}),PW=Rt({prop:"gridTemplateRows"}),RW=Rt({prop:"gridTemplateAreas"}),AW=Rt({prop:"gridArea"});pm(gm,ym,vm,EW,SW,CW,TW,kW,IW,PW,RW,AW);function jl(t,e){return e==="grey"?e:t}const NW=Rt({prop:"color",themeKey:"palette",transform:jl}),OW=Rt({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette",transform:jl}),DW=Rt({prop:"backgroundColor",themeKey:"palette",transform:jl});pm(NW,OW,DW);function Xn(t){return t<=1&&t!==0?`${t*100}%`:t}const MW=Rt({prop:"width",transform:Xn}),F_=t=>{if(t.maxWidth!==void 0&&t.maxWidth!==null){const e=n=>{const r=t.theme?.breakpoints?.values?.[n]||hm[n];return r?t.theme?.breakpoints?.unit!=="px"?{maxWidth:`${r}${t.theme.breakpoints.unit}`}:{maxWidth:r}:{maxWidth:Xn(n)}};return ls(t,t.maxWidth,e)}return null};F_.filterProps=["maxWidth"];const LW=Rt({prop:"minWidth",transform:Xn}),jW=Rt({prop:"height",transform:Xn}),FW=Rt({prop:"maxHeight",transform:Xn}),$W=Rt({prop:"minHeight",transform:Xn});Rt({prop:"size",cssProperty:"width",transform:Xn});Rt({prop:"size",cssProperty:"height",transform:Xn});const UW=Rt({prop:"boxSizing"});pm(MW,F_,LW,jW,FW,$W,UW);const Yd={border:{themeKey:"borders",transform:gr},borderTop:{themeKey:"borders",transform:gr},borderRight:{themeKey:"borders",transform:gr},borderBottom:{themeKey:"borders",transform:gr},borderLeft:{themeKey:"borders",transform:gr},borderColor:{themeKey:"palette"},borderTopColor:{themeKey:"palette"},borderRightColor:{themeKey:"palette"},borderBottomColor:{themeKey:"palette"},borderLeftColor:{themeKey:"palette"},outline:{themeKey:"borders",transform:gr},outlineColor:{themeKey:"palette"},borderRadius:{themeKey:"shape.borderRadius",style:mm},color:{themeKey:"palette",transform:jl},bgcolor:{themeKey:"palette",cssProperty:"backgroundColor",transform:jl},backgroundColor:{themeKey:"palette",transform:jl},p:{style:xt},pt:{style:xt},pr:{style:xt},pb:{style:xt},pl:{style:xt},px:{style:xt},py:{style:xt},padding:{style:xt},paddingTop:{style:xt},paddingRight:{style:xt},paddingBottom:{style:xt},paddingLeft:{style:xt},paddingX:{style:xt},paddingY:{style:xt},paddingInline:{style:xt},paddingInlineStart:{style:xt},paddingInlineEnd:{style:xt},paddingBlock:{style:xt},paddingBlockStart:{style:xt},paddingBlockEnd:{style:xt},m:{style:_t},mt:{style:_t},mr:{style:_t},mb:{style:_t},ml:{style:_t},mx:{style:_t},my:{style:_t},margin:{style:_t},marginTop:{style:_t},marginRight:{style:_t},marginBottom:{style:_t},marginLeft:{style:_t},marginX:{style:_t},marginY:{style:_t},marginInline:{style:_t},marginInlineStart:{style:_t},marginInlineEnd:{style:_t},marginBlock:{style:_t},marginBlockStart:{style:_t},marginBlockEnd:{style:_t},displayPrint:{cssProperty:!1,transform:t=>({"@media print":{display:t}})},display:{},overflow:{},textOverflow:{},visibility:{},whiteSpace:{},flexBasis:{},flexDirection:{},flexWrap:{},justifyContent:{},alignItems:{},alignContent:{},order:{},flex:{},flexGrow:{},flexShrink:{},alignSelf:{},justifyItems:{},justifySelf:{},gap:{style:gm},rowGap:{style:vm},columnGap:{style:ym},gridColumn:{},gridRow:{},gridAutoFlow:{},gridAutoColumns:{},gridAutoRows:{},gridTemplateColumns:{},gridTemplateRows:{},gridTemplateAreas:{},gridArea:{},position:{},zIndex:{themeKey:"zIndex"},top:{},right:{},bottom:{},left:{},boxShadow:{themeKey:"shadows"},width:{transform:Xn},maxWidth:{style:F_},minWidth:{transform:Xn},height:{transform:Xn},maxHeight:{transform:Xn},minHeight:{transform:Xn},boxSizing:{},font:{themeKey:"font"},fontFamily:{themeKey:"typography"},fontSize:{themeKey:"typography"},fontStyle:{themeKey:"typography"},fontWeight:{themeKey:"typography"},letterSpacing:{},textTransform:{},lineHeight:{},textAlign:{},typography:{cssProperty:!1,themeKey:"typography"}};function VW(...t){const e=t.reduce((r,i)=>r.concat(Object.keys(i)),[]),n=new Set(e);return t.every(r=>n.size===Object.keys(r).length)}function BW(t,e){return typeof t=="function"?t(e):t}function zW(){function t(n,r,i,o){const l={[n]:r,theme:i},c=o[n];if(!c)return{[n]:r};const{cssProperty:d=n,themeKey:f,transform:m,style:g}=c;if(r==null)return null;if(f==="typography"&&r==="inherit")return{[n]:r};const y=fm(i,f)||{};return g?g(l):ls(l,r,S=>{let k=Ap(y,m,S);return S===k&&typeof S=="string"&&(k=Ap(y,m,`${n}${S==="default"?"":WR(S)}`,S)),d===!1?k:{[d]:k}})}function e(n){const{sx:r,theme:i={}}=n||{};if(!r)return null;const o=i.unstable_sxConfig??Yd;function l(c){let d=c;if(typeof c=="function")d=c(i);else if(typeof c!="object")return c;if(!d)return null;const f=rW(i.breakpoints),m=Object.keys(f);let g=f;return Object.keys(d).forEach(y=>{const C=BW(d[y],i);if(C!=null)if(typeof C=="object")if(o[y])g=Wu(g,t(y,C,i,o));else{const S=ls({theme:i},C,k=>({[y]:k}));VW(S,C)?g[y]=e({sx:C,theme:i}):g=Wu(g,S)}else g=Wu(g,t(y,C,i,o))}),Qz(i,iW(m,g))}return Array.isArray(r)?r.map(l):l(r)}return e}const va=zW();va.filterProps=["sx"];const WW=t=>{const e={systemProps:{},otherProps:{}},n=t?.theme?.unstable_sxConfig??Yd;return Object.keys(t).forEach(r=>{n[r]?e.systemProps[r]=t[r]:e.otherProps[r]=t[r]}),e};function HW(t){const{sx:e,...n}=t,{systemProps:r,otherProps:i}=WW(n);let o;return Array.isArray(e)?o=[r,...e]:typeof e=="function"?o=(...l)=>{const c=e(...l);return fi(c)?{...r,...c}:r}:o={...r,...e},{...i,sx:o}}function gv(){return gv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},gv.apply(null,arguments)}function qW(t){if(t.sheet)return t.sheet;for(var e=0;e<document.styleSheets.length;e++)if(document.styleSheets[e].ownerNode===t)return document.styleSheets[e]}function GW(t){var e=document.createElement("style");return e.setAttribute("data-emotion",t.key),t.nonce!==void 0&&e.setAttribute("nonce",t.nonce),e.appendChild(document.createTextNode("")),e.setAttribute("data-s",""),e}var KW=function(){function t(n){var r=this;this._insertTag=function(i){var o;r.tags.length===0?r.insertionPoint?o=r.insertionPoint.nextSibling:r.prepend?o=r.container.firstChild:o=r.before:o=r.tags[r.tags.length-1].nextSibling,r.container.insertBefore(i,o),r.tags.push(i)},this.isSpeedy=n.speedy===void 0?!0:n.speedy,this.tags=[],this.ctr=0,this.nonce=n.nonce,this.key=n.key,this.container=n.container,this.prepend=n.prepend,this.insertionPoint=n.insertionPoint,this.before=null}var e=t.prototype;return e.hydrate=function(r){r.forEach(this._insertTag)},e.insert=function(r){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(GW(this));var i=this.tags[this.tags.length-1];if(this.isSpeedy){var o=qW(i);try{o.insertRule(r,o.cssRules.length)}catch{}}else i.appendChild(document.createTextNode(r));this.ctr++},e.flush=function(){this.tags.forEach(function(r){var i;return(i=r.parentNode)==null?void 0:i.removeChild(r)}),this.tags=[],this.ctr=0},t}(),dn="-ms-",Np="-moz-",qe="-webkit-",KR="comm",$_="rule",U_="decl",YW="@import",YR="@keyframes",XW="@layer",JW=Math.abs,wm=String.fromCharCode,QW=Object.assign;function ZW(t,e){return rn(t,0)^45?(((e<<2^rn(t,0))<<2^rn(t,1))<<2^rn(t,2))<<2^rn(t,3):0}function XR(t){return t.trim()}function eH(t,e){return(t=e.exec(t))?t[0]:t}function Ge(t,e,n){return t.replace(e,n)}function yv(t,e){return t.indexOf(e)}function rn(t,e){return t.charCodeAt(e)|0}function _d(t,e,n){return t.slice(e,n)}function ui(t){return t.length}function V_(t){return t.length}function kf(t,e){return e.push(t),t}function tH(t,e){return t.map(e).join("")}var _m=1,Yl=1,JR=0,Vn=0,Ot=0,uc="";function xm(t,e,n,r,i,o,l){return{value:t,root:e,parent:n,type:r,props:i,children:o,line:_m,column:Yl,length:l,return:""}}function gu(t,e){return QW(xm("",null,null,"",null,null,0),t,{length:-t.length},e)}function nH(){return Ot}function rH(){return Ot=Vn>0?rn(uc,--Vn):0,Yl--,Ot===10&&(Yl=1,_m--),Ot}function Zn(){return Ot=Vn<JR?rn(uc,Vn++):0,Yl++,Ot===10&&(Yl=1,_m++),Ot}function wi(){return rn(uc,Vn)}function qf(){return Vn}function Xd(t,e){return _d(uc,t,e)}function xd(t){switch(t){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function QR(t){return _m=Yl=1,JR=ui(uc=t),Vn=0,[]}function ZR(t){return uc="",t}function Gf(t){return XR(Xd(Vn-1,vv(t===91?t+2:t===40?t+1:t)))}function iH(t){for(;(Ot=wi())&&Ot<33;)Zn();return xd(t)>2||xd(Ot)>3?"":" "}function sH(t,e){for(;--e&&Zn()&&!(Ot<48||Ot>102||Ot>57&&Ot<65||Ot>70&&Ot<97););return Xd(t,qf()+(e<6&&wi()==32&&Zn()==32))}function vv(t){for(;Zn();)switch(Ot){case t:return Vn;case 34:case 39:t!==34&&t!==39&&vv(Ot);break;case 40:t===41&&vv(t);break;case 92:Zn();break}return Vn}function oH(t,e){for(;Zn()&&t+Ot!==57;)if(t+Ot===84&&wi()===47)break;return"/*"+Xd(e,Vn-1)+"*"+wm(t===47?t:Zn())}function aH(t){for(;!xd(wi());)Zn();return Xd(t,Vn)}function lH(t){return ZR(Kf("",null,null,null,[""],t=QR(t),0,[0],t))}function Kf(t,e,n,r,i,o,l,c,d){for(var f=0,m=0,g=l,y=0,C=0,S=0,k=1,P=1,N=1,M=0,O="",U=i,B=o,H=r,D=O;P;)switch(S=M,M=Zn()){case 40:if(S!=108&&rn(D,g-1)==58){yv(D+=Ge(Gf(M),"&","&\f"),"&\f")!=-1&&(N=-1);break}case 34:case 39:case 91:D+=Gf(M);break;case 9:case 10:case 13:case 32:D+=iH(S);break;case 92:D+=sH(qf()-1,7);continue;case 47:switch(wi()){case 42:case 47:kf(cH(oH(Zn(),qf()),e,n),d);break;default:D+="/"}break;case 123*k:c[f++]=ui(D)*N;case 125*k:case 59:case 0:switch(M){case 0:case 125:P=0;case 59+m:N==-1&&(D=Ge(D,/\f/g,"")),C>0&&ui(D)-g&&kf(C>32?DC(D+";",r,n,g-1):DC(Ge(D," ","")+";",r,n,g-2),d);break;case 59:D+=";";default:if(kf(H=OC(D,e,n,f,m,i,c,O,U=[],B=[],g),o),M===123)if(m===0)Kf(D,e,H,H,U,o,g,c,B);else switch(y===99&&rn(D,3)===110?100:y){case 100:case 108:case 109:case 115:Kf(t,H,H,r&&kf(OC(t,H,H,0,0,i,c,O,i,U=[],g),B),i,B,g,c,r?U:B);break;default:Kf(D,H,H,H,[""],B,0,c,B)}}f=m=C=0,k=N=1,O=D="",g=l;break;case 58:g=1+ui(D),C=S;default:if(k<1){if(M==123)--k;else if(M==125&&k++==0&&rH()==125)continue}switch(D+=wm(M),M*k){case 38:N=m>0?1:(D+="\f",-1);break;case 44:c[f++]=(ui(D)-1)*N,N=1;break;case 64:wi()===45&&(D+=Gf(Zn())),y=wi(),m=g=ui(O=D+=aH(qf())),M++;break;case 45:S===45&&ui(D)==2&&(k=0)}}return o}function OC(t,e,n,r,i,o,l,c,d,f,m){for(var g=i-1,y=i===0?o:[""],C=V_(y),S=0,k=0,P=0;S<r;++S)for(var N=0,M=_d(t,g+1,g=JW(k=l[S])),O=t;N<C;++N)(O=XR(k>0?y[N]+" "+M:Ge(M,/&\f/g,y[N])))&&(d[P++]=O);return xm(t,e,n,i===0?$_:c,d,f,m)}function cH(t,e,n){return xm(t,e,n,KR,wm(nH()),_d(t,2,-2),0)}function DC(t,e,n,r){return xm(t,e,n,U_,_d(t,0,r),_d(t,r+1,-1),r)}function Fl(t,e){for(var n="",r=V_(t),i=0;i<r;i++)n+=e(t[i],i,t,e)||"";return n}function uH(t,e,n,r){switch(t.type){case XW:if(t.children.length)break;case YW:case U_:return t.return=t.return||t.value;case KR:return"";case YR:return t.return=t.value+"{"+Fl(t.children,r)+"}";case $_:t.value=t.props.join(",")}return ui(n=Fl(t.children,r))?t.return=t.value+"{"+n+"}":""}function dH(t){var e=V_(t);return function(n,r,i,o){for(var l="",c=0;c<e;c++)l+=t[c](n,r,i,o)||"";return l}}function hH(t){return function(e){e.root||(e=e.return)&&t(e)}}function eA(t){var e=Object.create(null);return function(n){return e[n]===void 0&&(e[n]=t(n)),e[n]}}var fH=function(e,n,r){for(var i=0,o=0;i=o,o=wi(),i===38&&o===12&&(n[r]=1),!xd(o);)Zn();return Xd(e,Vn)},pH=function(e,n){var r=-1,i=44;do switch(xd(i)){case 0:i===38&&wi()===12&&(n[r]=1),e[r]+=fH(Vn-1,n,r);break;case 2:e[r]+=Gf(i);break;case 4:if(i===44){e[++r]=wi()===58?"&\f":"",n[r]=e[r].length;break}default:e[r]+=wm(i)}while(i=Zn());return e},mH=function(e,n){return ZR(pH(QR(e),n))},MC=new WeakMap,gH=function(e){if(!(e.type!=="rule"||!e.parent||e.length<1)){for(var n=e.value,r=e.parent,i=e.column===r.column&&e.line===r.line;r.type!=="rule";)if(r=r.parent,!r)return;if(!(e.props.length===1&&n.charCodeAt(0)!==58&&!MC.get(r))&&!i){MC.set(e,!0);for(var o=[],l=mH(n,o),c=r.props,d=0,f=0;d<l.length;d++)for(var m=0;m<c.length;m++,f++)e.props[f]=o[d]?l[d].replace(/&\f/g,c[m]):c[m]+" "+l[d]}}},yH=function(e){if(e.type==="decl"){var n=e.value;n.charCodeAt(0)===108&&n.charCodeAt(2)===98&&(e.return="",e.value="")}};function tA(t,e){switch(ZW(t,e)){case 5103:return qe+"print-"+t+t;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return qe+t+t;case 5349:case 4246:case 4810:case 6968:case 2756:return qe+t+Np+t+dn+t+t;case 6828:case 4268:return qe+t+dn+t+t;case 6165:return qe+t+dn+"flex-"+t+t;case 5187:return qe+t+Ge(t,/(\w+).+(:[^]+)/,qe+"box-$1$2"+dn+"flex-$1$2")+t;case 5443:return qe+t+dn+"flex-item-"+Ge(t,/flex-|-self/,"")+t;case 4675:return qe+t+dn+"flex-line-pack"+Ge(t,/align-content|flex-|-self/,"")+t;case 5548:return qe+t+dn+Ge(t,"shrink","negative")+t;case 5292:return qe+t+dn+Ge(t,"basis","preferred-size")+t;case 6060:return qe+"box-"+Ge(t,"-grow","")+qe+t+dn+Ge(t,"grow","positive")+t;case 4554:return qe+Ge(t,/([^-])(transform)/g,"$1"+qe+"$2")+t;case 6187:return Ge(Ge(Ge(t,/(zoom-|grab)/,qe+"$1"),/(image-set)/,qe+"$1"),t,"")+t;case 5495:case 3959:return Ge(t,/(image-set\([^]*)/,qe+"$1$`$1");case 4968:return Ge(Ge(t,/(.+:)(flex-)?(.*)/,qe+"box-pack:$3"+dn+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+qe+t+t;case 4095:case 3583:case 4068:case 2532:return Ge(t,/(.+)-inline(.+)/,qe+"$1$2")+t;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(ui(t)-1-e>6)switch(rn(t,e+1)){case 109:if(rn(t,e+4)!==45)break;case 102:return Ge(t,/(.+:)(.+)-([^]+)/,"$1"+qe+"$2-$3$1"+Np+(rn(t,e+3)==108?"$3":"$2-$3"))+t;case 115:return~yv(t,"stretch")?tA(Ge(t,"stretch","fill-available"),e)+t:t}break;case 4949:if(rn(t,e+1)!==115)break;case 6444:switch(rn(t,ui(t)-3-(~yv(t,"!important")&&10))){case 107:return Ge(t,":",":"+qe)+t;case 101:return Ge(t,/(.+:)([^;!]+)(;|!.+)?/,"$1"+qe+(rn(t,14)===45?"inline-":"")+"box$3$1"+qe+"$2$3$1"+dn+"$2box$3")+t}break;case 5936:switch(rn(t,e+11)){case 114:return qe+t+dn+Ge(t,/[svh]\w+-[tblr]{2}/,"tb")+t;case 108:return qe+t+dn+Ge(t,/[svh]\w+-[tblr]{2}/,"tb-rl")+t;case 45:return qe+t+dn+Ge(t,/[svh]\w+-[tblr]{2}/,"lr")+t}return qe+t+dn+t+t}return t}var vH=function(e,n,r,i){if(e.length>-1&&!e.return)switch(e.type){case U_:e.return=tA(e.value,e.length);break;case YR:return Fl([gu(e,{value:Ge(e.value,"@","@"+qe)})],i);case $_:if(e.length)return tH(e.props,function(o){switch(eH(o,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return Fl([gu(e,{props:[Ge(o,/:(read-\w+)/,":"+Np+"$1")]})],i);case"::placeholder":return Fl([gu(e,{props:[Ge(o,/:(plac\w+)/,":"+qe+"input-$1")]}),gu(e,{props:[Ge(o,/:(plac\w+)/,":"+Np+"$1")]}),gu(e,{props:[Ge(o,/:(plac\w+)/,dn+"input-$1")]})],i)}return""})}},wH=[vH],_H=function(e){var n=e.key;if(n==="css"){var r=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(r,function(k){var P=k.getAttribute("data-emotion");P.indexOf(" ")!==-1&&(document.head.appendChild(k),k.setAttribute("data-s",""))})}var i=e.stylisPlugins||wH,o={},l,c=[];l=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+n+' "]'),function(k){for(var P=k.getAttribute("data-emotion").split(" "),N=1;N<P.length;N++)o[P[N]]=!0;c.push(k)});var d,f=[gH,yH];{var m,g=[uH,hH(function(k){m.insert(k)})],y=dH(f.concat(i,g)),C=function(P){return Fl(lH(P),y)};d=function(P,N,M,O){m=M,C(P?P+"{"+N.styles+"}":N.styles),O&&(S.inserted[N.name]=!0)}}var S={key:n,sheet:new KW({key:n,container:l,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:o,registered:{},insert:d};return S.sheet.hydrate(c),S},xH=!0;function bH(t,e,n){var r="";return n.split(" ").forEach(function(i){t[i]!==void 0?e.push(t[i]+";"):i&&(r+=i+" ")}),r}var nA=function(e,n,r){var i=e.key+"-"+n.name;(r===!1||xH===!1)&&e.registered[i]===void 0&&(e.registered[i]=n.styles)},EH=function(e,n,r){nA(e,n,r);var i=e.key+"-"+n.name;if(e.inserted[n.name]===void 0){var o=n;do e.insert(n===o?"."+i:"",o,e.sheet,!0),o=o.next;while(o!==void 0)}};function SH(t){for(var e=0,n,r=0,i=t.length;i>=4;++r,i-=4)n=t.charCodeAt(r)&255|(t.charCodeAt(++r)&255)<<8|(t.charCodeAt(++r)&255)<<16|(t.charCodeAt(++r)&255)<<24,n=(n&65535)*1540483477+((n>>>16)*59797<<16),n^=n>>>24,e=(n&65535)*1540483477+((n>>>16)*59797<<16)^(e&65535)*1540483477+((e>>>16)*59797<<16);switch(i){case 3:e^=(t.charCodeAt(r+2)&255)<<16;case 2:e^=(t.charCodeAt(r+1)&255)<<8;case 1:e^=t.charCodeAt(r)&255,e=(e&65535)*1540483477+((e>>>16)*59797<<16)}return e^=e>>>13,e=(e&65535)*1540483477+((e>>>16)*59797<<16),((e^e>>>15)>>>0).toString(36)}var CH={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,scale:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},TH=/[A-Z]|^ms/g,kH=/_EMO_([^_]+?)_([^]*?)_EMO_/g,rA=function(e){return e.charCodeAt(1)===45},LC=function(e){return e!=null&&typeof e!="boolean"},Qy=eA(function(t){return rA(t)?t:t.replace(TH,"-$&").toLowerCase()}),jC=function(e,n){switch(e){case"animation":case"animationName":if(typeof n=="string")return n.replace(kH,function(r,i,o){return di={name:i,styles:o,next:di},i})}return CH[e]!==1&&!rA(e)&&typeof n=="number"&&n!==0?n+"px":n};function bd(t,e,n){if(n==null)return"";var r=n;if(r.__emotion_styles!==void 0)return r;switch(typeof n){case"boolean":return"";case"object":{var i=n;if(i.anim===1)return di={name:i.name,styles:i.styles,next:di},i.name;var o=n;if(o.styles!==void 0){var l=o.next;if(l!==void 0)for(;l!==void 0;)di={name:l.name,styles:l.styles,next:di},l=l.next;var c=o.styles+";";return c}return IH(t,e,n)}case"function":{if(t!==void 0){var d=di,f=n(t);return di=d,bd(t,e,f)}break}}var m=n;if(e==null)return m;var g=e[m];return g!==void 0?g:m}function IH(t,e,n){var r="";if(Array.isArray(n))for(var i=0;i<n.length;i++)r+=bd(t,e,n[i])+";";else for(var o in n){var l=n[o];if(typeof l!="object"){var c=l;e!=null&&e[c]!==void 0?r+=o+"{"+e[c]+"}":LC(c)&&(r+=Qy(o)+":"+jC(o,c)+";")}else if(Array.isArray(l)&&typeof l[0]=="string"&&(e==null||e[l[0]]===void 0))for(var d=0;d<l.length;d++)LC(l[d])&&(r+=Qy(o)+":"+jC(o,l[d])+";");else{var f=bd(t,e,l);switch(o){case"animation":case"animationName":{r+=Qy(o)+":"+f+";";break}default:r+=o+"{"+f+"}"}}}return r}var FC=/label:\s*([^\s;{]+)\s*(;|$)/g,di;function iA(t,e,n){if(t.length===1&&typeof t[0]=="object"&&t[0]!==null&&t[0].styles!==void 0)return t[0];var r=!0,i="";di=void 0;var o=t[0];if(o==null||o.raw===void 0)r=!1,i+=bd(n,e,o);else{var l=o;i+=l[0]}for(var c=1;c<t.length;c++)if(i+=bd(n,e,t[c]),r){var d=o;i+=d[c]}FC.lastIndex=0;for(var f="",m;(m=FC.exec(i))!==null;)f+="-"+m[1];var g=SH(i)+f;return{name:g,styles:i,next:di}}var PH=function(e){return e()},RH=Xf.useInsertionEffect?Xf.useInsertionEffect:!1,AH=RH||PH,sA=b.createContext(typeof HTMLElement<"u"?_H({key:"css"}):null);sA.Provider;var NH=function(e){return b.forwardRef(function(n,r){var i=b.useContext(sA);return e(n,i,r)})},oA=b.createContext({}),OH=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|disableRemotePlayback|download|draggable|encType|enterKeyHint|fetchpriority|fetchPriority|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,DH=eA(function(t){return OH.test(t)||t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)<91}),MH=DH,LH=function(e){return e!=="theme"},$C=function(e){return typeof e=="string"&&e.charCodeAt(0)>96?MH:LH},UC=function(e,n,r){var i;if(n){var o=n.shouldForwardProp;i=e.__emotion_forwardProp&&o?function(l){return e.__emotion_forwardProp(l)&&o(l)}:o}return typeof i!="function"&&r&&(i=e.__emotion_forwardProp),i},jH=function(e){var n=e.cache,r=e.serialized,i=e.isStringTag;return nA(n,r,i),AH(function(){return EH(n,r,i)}),null},FH=function t(e,n){var r=e.__emotion_real===e,i=r&&e.__emotion_base||e,o,l;n!==void 0&&(o=n.label,l=n.target);var c=UC(e,n,r),d=c||$C(i),f=!d("as");return function(){var m=arguments,g=r&&e.__emotion_styles!==void 0?e.__emotion_styles.slice(0):[];if(o!==void 0&&g.push("label:"+o+";"),m[0]==null||m[0].raw===void 0)g.push.apply(g,m);else{var y=m[0];g.push(y[0]);for(var C=m.length,S=1;S<C;S++)g.push(m[S],y[S])}var k=NH(function(P,N,M){var O=f&&P.as||i,U="",B=[],H=P;if(P.theme==null){H={};for(var D in P)H[D]=P[D];H.theme=b.useContext(oA)}typeof P.className=="string"?U=bH(N.registered,B,P.className):P.className!=null&&(U=P.className+" ");var I=iA(g.concat(B),N.registered,H);U+=N.key+"-"+I.name,l!==void 0&&(U+=" "+l);var A=f&&c===void 0?$C(O):d,E={};for(var L in P)f&&L==="as"||A(L)&&(E[L]=P[L]);return E.className=U,M&&(E.ref=M),b.createElement(b.Fragment,null,b.createElement(jH,{cache:N,serialized:I,isStringTag:typeof O=="string"}),b.createElement(O,E))});return k.displayName=o!==void 0?o:"Styled("+(typeof i=="string"?i:i.displayName||i.name||"Component")+")",k.defaultProps=e.defaultProps,k.__emotion_real=k,k.__emotion_base=i,k.__emotion_styles=g,k.__emotion_forwardProp=c,Object.defineProperty(k,"toString",{value:function(){return"."+l}}),k.withComponent=function(P,N){var M=t(P,gv({},n,N,{shouldForwardProp:UC(k,N,!0)}));return M.apply(void 0,g)},k}},$H=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"],wv=FH.bind(null);$H.forEach(function(t){wv[t]=wv(t)});function aA(t,e){return wv(t,e)}function UH(t,e){Array.isArray(t.__emotion_styles)&&(t.__emotion_styles=e(t.__emotion_styles))}const VC=[];function BC(t){return VC[0]=t,iA(VC)}const VH=t=>{const e=Object.keys(t).map(n=>({key:n,val:t[n]}))||[];return e.sort((n,r)=>n.val-r.val),e.reduce((n,r)=>({...n,[r.key]:r.val}),{})};function BH(t){const{values:e={xs:0,sm:600,md:900,lg:1200,xl:1536},unit:n="px",step:r=5,...i}=t,o=VH(e),l=Object.keys(o);function c(y){return`@media (min-width:${typeof e[y]=="number"?e[y]:y}${n})`}function d(y){return`@media (max-width:${(typeof e[y]=="number"?e[y]:y)-r/100}${n})`}function f(y,C){const S=l.indexOf(C);return`@media (min-width:${typeof e[y]=="number"?e[y]:y}${n}) and (max-width:${(S!==-1&&typeof e[l[S]]=="number"?e[l[S]]:C)-r/100}${n})`}function m(y){return l.indexOf(y)+1<l.length?f(y,l[l.indexOf(y)+1]):c(y)}function g(y){const C=l.indexOf(y);return C===0?c(l[1]):C===l.length-1?d(l[C]):f(y,l[l.indexOf(y)+1]).replace("@media","@media not all and")}return{keys:l,values:o,up:c,down:d,between:f,only:m,not:g,unit:n,...i}}const zH={borderRadius:4};function lA(t=8,e=j_({spacing:t})){if(t.mui)return t;const n=(...r)=>(r.length===0?[1]:r).map(o=>{const l=e(o);return typeof l=="number"?`${l}px`:l}).join(" ");return n.mui=!0,n}function WH(t,e){const n=this;if(n.vars){if(!n.colorSchemes?.[t]||typeof n.getColorSchemeSelector!="function")return{};let r=n.getColorSchemeSelector(t);return r==="&"?e:((r.includes("data-")||r.includes("."))&&(r=`*:where(${r.replace(/\s*&$/,"")}) &`),{[r]:e})}return n.palette.mode===t?e:{}}function B_(t={},...e){const{breakpoints:n={},palette:r={},spacing:i,shape:o={},...l}=t,c=BH(n),d=lA(i);let f=Qn({breakpoints:c,direction:"ltr",components:{},palette:{mode:"light",...r},spacing:d,shape:{...zH,...o}},l);return f=tW(f),f.applyStyles=WH,f=e.reduce((m,g)=>Qn(m,g),f),f.unstable_sxConfig={...Yd,...l?.unstable_sxConfig},f.unstable_sx=function(g){return va({sx:g,theme:this})},f}function HH(t){return Object.keys(t).length===0}function qH(t=null){const e=b.useContext(oA);return!e||HH(e)?t:e}const GH=B_();function cA(t=GH){return qH(t)}const zC=t=>t,KH=()=>{let t=zC;return{configure(e){t=e},generate(e){return t(e)},reset(){t=zC}}},uA=KH();function YH(t={}){const{themeId:e,defaultTheme:n,defaultClassName:r="MuiBox-root",generateClassName:i}=t,o=aA("div",{shouldForwardProp:c=>c!=="theme"&&c!=="sx"&&c!=="as"})(va);return b.forwardRef(function(d,f){const m=cA(n),{className:g,component:y="div",...C}=HW(d);return w.jsx(o,{as:y,ref:f,className:Kl(g,i?i(r):r),theme:e&&m[e]||m,...C})})}const XH={active:"active",checked:"checked",completed:"completed",disabled:"disabled",error:"error",expanded:"expanded",focused:"focused",focusVisible:"focusVisible",open:"open",readOnly:"readOnly",required:"required",selected:"selected"};function z_(t,e,n="Mui"){const r=XH[e];return r?`${n}-${r}`:`${uA.generate(t)}-${e}`}function W_(t,e,n="Mui"){const r={};return e.forEach(i=>{r[i]=z_(t,i,n)}),r}function dA(t){const{variants:e,...n}=t,r={variants:e,style:BC(n),isProcessed:!0};return r.style===n||e&&e.forEach(i=>{typeof i.style!="function"&&(i.style=BC(i.style))}),r}const JH=B_();function Zy(t){return t!=="ownerState"&&t!=="theme"&&t!=="sx"&&t!=="as"}function QH(t){return t?(e,n)=>n[t]:null}function ZH(t,e,n){t.theme=nq(t.theme)?n:t.theme[e]||t.theme}function Yf(t,e){const n=typeof e=="function"?e(t):e;if(Array.isArray(n))return n.flatMap(r=>Yf(t,r));if(Array.isArray(n?.variants)){let r;if(n.isProcessed)r=n.style;else{const{variants:i,...o}=n;r=o}return hA(t,n.variants,[r])}return n?.isProcessed?n.style:n}function hA(t,e,n=[]){let r;e:for(let i=0;i<e.length;i+=1){const o=e[i];if(typeof o.props=="function"){if(r??={...t,...t.ownerState,ownerState:t.ownerState},!o.props(r))continue}else for(const l in o.props)if(t[l]!==o.props[l]&&t.ownerState?.[l]!==o.props[l])continue e;typeof o.style=="function"?(r??={...t,...t.ownerState,ownerState:t.ownerState},n.push(o.style(r))):n.push(o.style)}return n}function eq(t={}){const{themeId:e,defaultTheme:n=JH,rootShouldForwardProp:r=Zy,slotShouldForwardProp:i=Zy}=t;function o(c){ZH(c,e,n)}return(c,d={})=>{UH(c,B=>B.filter(H=>H!==va));const{name:f,slot:m,skipVariantsResolver:g,skipSx:y,overridesResolver:C=QH(iq(m)),...S}=d,k=g!==void 0?g:m&&m!=="Root"&&m!=="root"||!1,P=y||!1;let N=Zy;m==="Root"||m==="root"?N=r:m?N=i:rq(c)&&(N=void 0);const M=aA(c,{shouldForwardProp:N,label:tq(),...S}),O=B=>{if(typeof B=="function"&&B.__emotion_real!==B)return function(D){return Yf(D,B)};if(fi(B)){const H=dA(B);return H.variants?function(I){return Yf(I,H)}:H.style}return B},U=(...B)=>{const H=[],D=B.map(O),I=[];if(H.push(o),f&&C&&I.push(function($){const re=$.theme.components?.[f]?.styleOverrides;if(!re)return null;const he={};for(const me in re)he[me]=Yf($,re[me]);return C($,he)}),f&&!k&&I.push(function($){const re=$.theme?.components?.[f]?.variants;return re?hA($,re):null}),P||I.push(va),Array.isArray(D[0])){const L=D.shift(),$=new Array(H.length).fill(""),F=new Array(I.length).fill("");let re;re=[...$,...L,...F],re.raw=[...$,...L.raw,...F],H.unshift(re)}const A=[...H,...D,...I],E=M(...A);return c.muiName&&(E.muiName=c.muiName),E};return M.withConfig&&(U.withConfig=M.withConfig),U}}function tq(t,e){return void 0}function nq(t){for(const e in t)return!1;return!0}function rq(t){return typeof t=="string"&&t.charCodeAt(0)>96}function iq(t){return t&&t.charAt(0).toLowerCase()+t.slice(1)}function _v(t,e){const n={...e};for(const r in t)if(Object.prototype.hasOwnProperty.call(t,r)){const i=r;if(i==="components"||i==="slots")n[i]={...t[i],...n[i]};else if(i==="componentsProps"||i==="slotProps"){const o=t[i],l=e[i];if(!l)n[i]=o||{};else if(!o)n[i]=l;else{n[i]={...l};for(const c in o)if(Object.prototype.hasOwnProperty.call(o,c)){const d=c;n[i][d]=_v(o[d],l[d])}}}else n[i]===void 0&&(n[i]=t[i])}return n}function sq(t,e=Number.MIN_SAFE_INTEGER,n=Number.MAX_SAFE_INTEGER){return Math.max(e,Math.min(t,n))}function H_(t,e=0,n=1){return sq(t,e,n)}function oq(t){t=t.slice(1);const e=new RegExp(`.{1,${t.length>=6?2:1}}`,"g");let n=t.match(e);return n&&n[0].length===1&&(n=n.map(r=>r+r)),n?`rgb${n.length===4?"a":""}(${n.map((r,i)=>i<3?parseInt(r,16):Math.round(parseInt(r,16)/255*1e3)/1e3).join(", ")})`:""}function co(t){if(t.type)return t;if(t.charAt(0)==="#")return co(oq(t));const e=t.indexOf("("),n=t.substring(0,e);if(!["rgb","rgba","hsl","hsla","color"].includes(n))throw new Error(ya(9,t));let r=t.substring(e+1,t.length-1),i;if(n==="color"){if(r=r.split(" "),i=r.shift(),r.length===4&&r[3].charAt(0)==="/"&&(r[3]=r[3].slice(1)),!["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].includes(i))throw new Error(ya(10,i))}else r=r.split(",");return r=r.map(o=>parseFloat(o)),{type:n,values:r,colorSpace:i}}const aq=t=>{const e=co(t);return e.values.slice(0,3).map((n,r)=>e.type.includes("hsl")&&r!==0?`${n}%`:n).join(" ")},bu=(t,e)=>{try{return aq(t)}catch{return t}};function bm(t){const{type:e,colorSpace:n}=t;let{values:r}=t;return e.includes("rgb")?r=r.map((i,o)=>o<3?parseInt(i,10):i):e.includes("hsl")&&(r[1]=`${r[1]}%`,r[2]=`${r[2]}%`),e.includes("color")?r=`${n} ${r.join(" ")}`:r=`${r.join(", ")}`,`${e}(${r})`}function fA(t){t=co(t);const{values:e}=t,n=e[0],r=e[1]/100,i=e[2]/100,o=r*Math.min(i,1-i),l=(f,m=(f+n/30)%12)=>i-o*Math.max(Math.min(m-3,9-m,1),-1);let c="rgb";const d=[Math.round(l(0)*255),Math.round(l(8)*255),Math.round(l(4)*255)];return t.type==="hsla"&&(c+="a",d.push(e[3])),bm({type:c,values:d})}function xv(t){t=co(t);let e=t.type==="hsl"||t.type==="hsla"?co(fA(t)).values:t.values;return e=e.map(n=>(t.type!=="color"&&(n/=255),n<=.03928?n/12.92:((n+.055)/1.055)**2.4)),Number((.2126*e[0]+.7152*e[1]+.0722*e[2]).toFixed(3))}function lq(t,e){const n=xv(t),r=xv(e);return(Math.max(n,r)+.05)/(Math.min(n,r)+.05)}function cq(t,e){return t=co(t),e=H_(e),(t.type==="rgb"||t.type==="hsl")&&(t.type+="a"),t.type==="color"?t.values[3]=`/${e}`:t.values[3]=e,bm(t)}function If(t,e,n){try{return cq(t,e)}catch{return t}}function q_(t,e){if(t=co(t),e=H_(e),t.type.includes("hsl"))t.values[2]*=1-e;else if(t.type.includes("rgb")||t.type.includes("color"))for(let n=0;n<3;n+=1)t.values[n]*=1-e;return bm(t)}function Ze(t,e,n){try{return q_(t,e)}catch{return t}}function G_(t,e){if(t=co(t),e=H_(e),t.type.includes("hsl"))t.values[2]+=(100-t.values[2])*e;else if(t.type.includes("rgb"))for(let n=0;n<3;n+=1)t.values[n]+=(255-t.values[n])*e;else if(t.type.includes("color"))for(let n=0;n<3;n+=1)t.values[n]+=(1-t.values[n])*e;return bm(t)}function et(t,e,n){try{return G_(t,e)}catch{return t}}function uq(t,e=.15){return xv(t)>.5?q_(t,e):G_(t,e)}function Pf(t,e,n){try{return uq(t,e)}catch{return t}}const dq=b.createContext(void 0);function hq(t){const{theme:e,name:n,props:r}=t;if(!e||!e.components||!e.components[n])return r;const i=e.components[n];return i.defaultProps?_v(i.defaultProps,r):!i.styleOverrides&&!i.variants?_v(i,r):r}function fq({props:t,name:e}){const n=b.useContext(dq);return hq({props:t,name:e,theme:{components:n}})}const WC={theme:void 0};function pq(t){let e,n;return function(i){let o=e;return(o===void 0||i.theme!==n)&&(WC.theme=i.theme,o=dA(t(WC)),e=o,n=i.theme),o}}function mq(t=""){function e(...r){if(!r.length)return"";const i=r[0];return typeof i=="string"&&!i.match(/(#|\(|\)|(-?(\d*\.)?\d+)(px|em|%|ex|ch|rem|vw|vh|vmin|vmax|cm|mm|in|pt|pc))|^(-?(\d*\.)?\d+)$|(\d+ \d+ \d+)/)?`, var(--${t?`${t}-`:""}${i}${e(...r.slice(1))})`:`, ${i}`}return(r,...i)=>`var(--${t?`${t}-`:""}${r}${e(...i)})`}const HC=(t,e,n,r=[])=>{let i=t;e.forEach((o,l)=>{l===e.length-1?Array.isArray(i)?i[Number(o)]=n:i&&typeof i=="object"&&(i[o]=n):i&&typeof i=="object"&&(i[o]||(i[o]=r.includes(o)?[]:{}),i=i[o])})},gq=(t,e,n)=>{function r(i,o=[],l=[]){Object.entries(i).forEach(([c,d])=>{(!n||n&&!n([...o,c]))&&d!=null&&(typeof d=="object"&&Object.keys(d).length>0?r(d,[...o,c],Array.isArray(d)?[...l,c]:l):e([...o,c],d,l))})}r(t)},yq=(t,e)=>typeof e=="number"?["lineHeight","fontWeight","opacity","zIndex"].some(r=>t.includes(r))||t[t.length-1].toLowerCase().includes("opacity")?e:`${e}px`:e;function e0(t,e){const{prefix:n,shouldSkipGeneratingVar:r}=e||{},i={},o={},l={};return gq(t,(c,d,f)=>{if((typeof d=="string"||typeof d=="number")&&(!r||!r(c,d))){const m=`--${n?`${n}-`:""}${c.join("-")}`,g=yq(c,d);Object.assign(i,{[m]:g}),HC(o,c,`var(${m})`,f),HC(l,c,`var(${m}, ${g})`,f)}},c=>c[0]==="vars"),{css:i,vars:o,varsWithDefaults:l}}function vq(t,e={}){const{getSelector:n=P,disableCssColorScheme:r,colorSchemeSelector:i}=e,{colorSchemes:o={},components:l,defaultColorScheme:c="light",...d}=t,{vars:f,css:m,varsWithDefaults:g}=e0(d,e);let y=g;const C={},{[c]:S,...k}=o;if(Object.entries(k||{}).forEach(([O,U])=>{const{vars:B,css:H,varsWithDefaults:D}=e0(U,e);y=Qn(y,D),C[O]={css:H,vars:B}}),S){const{css:O,vars:U,varsWithDefaults:B}=e0(S,e);y=Qn(y,B),C[c]={css:O,vars:U}}function P(O,U){let B=i;if(i==="class"&&(B=".%s"),i==="data"&&(B="[data-%s]"),i?.startsWith("data-")&&!i.includes("%s")&&(B=`[${i}="%s"]`),O){if(B==="media")return t.defaultColorScheme===O?":root":{[`@media (prefers-color-scheme: ${o[O]?.palette?.mode||O})`]:{":root":U}};if(B)return t.defaultColorScheme===O?`:root, ${B.replace("%s",String(O))}`:B.replace("%s",String(O))}return":root"}return{vars:y,generateThemeVars:()=>{let O={...f};return Object.entries(C).forEach(([,{vars:U}])=>{O=Qn(O,U)}),O},generateStyleSheets:()=>{const O=[],U=t.defaultColorScheme||"light";function B(I,A){Object.keys(A).length&&O.push(typeof I=="string"?{[I]:{...A}}:I)}B(n(void 0,{...m}),m);const{[U]:H,...D}=C;if(H){const{css:I}=H,A=o[U]?.palette?.mode,E=!r&&A?{colorScheme:A,...I}:{...I};B(n(U,{...E}),E)}return Object.entries(D).forEach(([I,{css:A}])=>{const E=o[I]?.palette?.mode,L=!r&&E?{colorScheme:E,...A}:{...A};B(n(I,{...L}),L)}),O}}}function wq(t){return function(n){return t==="media"?`@media (prefers-color-scheme: ${n})`:t?t.startsWith("data-")&&!t.includes("%s")?`[${t}="${n}"] &`:t==="class"?`.${n} &`:t==="data"?`[data-${n}] &`:`${t.replace("%s",n)} &`:"&"}}const Ed={black:"#000",white:"#fff"},_q={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"},yl={50:"#f3e5f5",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",700:"#7b1fa2"},vl={300:"#e57373",400:"#ef5350",500:"#f44336",700:"#d32f2f",800:"#c62828"},yu={300:"#ffb74d",400:"#ffa726",500:"#ff9800",700:"#f57c00",900:"#e65100"},wl={50:"#e3f2fd",200:"#90caf9",400:"#42a5f5",700:"#1976d2",800:"#1565c0"},_l={300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",700:"#0288d1",900:"#01579b"},xl={300:"#81c784",400:"#66bb6a",500:"#4caf50",700:"#388e3c",800:"#2e7d32",900:"#1b5e20"};function pA(){return{text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:Ed.white,default:Ed.white},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}}}const xq=pA();function mA(){return{text:{primary:Ed.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:"#121212",default:"#121212"},action:{active:Ed.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}}}const qC=mA();function GC(t,e,n,r){const i=r.light||r,o=r.dark||r*1.5;t[e]||(t.hasOwnProperty(n)?t[e]=t[n]:e==="light"?t.light=G_(t.main,i):e==="dark"&&(t.dark=q_(t.main,o)))}function bq(t="light"){return t==="dark"?{main:wl[200],light:wl[50],dark:wl[400]}:{main:wl[700],light:wl[400],dark:wl[800]}}function Eq(t="light"){return t==="dark"?{main:yl[200],light:yl[50],dark:yl[400]}:{main:yl[500],light:yl[300],dark:yl[700]}}function Sq(t="light"){return t==="dark"?{main:vl[500],light:vl[300],dark:vl[700]}:{main:vl[700],light:vl[400],dark:vl[800]}}function Cq(t="light"){return t==="dark"?{main:_l[400],light:_l[300],dark:_l[700]}:{main:_l[700],light:_l[500],dark:_l[900]}}function Tq(t="light"){return t==="dark"?{main:xl[400],light:xl[300],dark:xl[700]}:{main:xl[800],light:xl[500],dark:xl[900]}}function kq(t="light"){return t==="dark"?{main:yu[400],light:yu[300],dark:yu[700]}:{main:"#ed6c02",light:yu[500],dark:yu[900]}}function K_(t){const{mode:e="light",contrastThreshold:n=3,tonalOffset:r=.2,...i}=t,o=t.primary||bq(e),l=t.secondary||Eq(e),c=t.error||Sq(e),d=t.info||Cq(e),f=t.success||Tq(e),m=t.warning||kq(e);function g(k){return lq(k,qC.text.primary)>=n?qC.text.primary:xq.text.primary}const y=({color:k,name:P,mainShade:N=500,lightShade:M=300,darkShade:O=700})=>{if(k={...k},!k.main&&k[N]&&(k.main=k[N]),!k.hasOwnProperty("main"))throw new Error(ya(11,P?` (${P})`:"",N));if(typeof k.main!="string")throw new Error(ya(12,P?` (${P})`:"",JSON.stringify(k.main)));return GC(k,"light",M,r),GC(k,"dark",O,r),k.contrastText||(k.contrastText=g(k.main)),k};let C;return e==="light"?C=pA():e==="dark"&&(C=mA()),Qn({common:{...Ed},mode:e,primary:y({color:o,name:"primary"}),secondary:y({color:l,name:"secondary",mainShade:"A400",lightShade:"A200",darkShade:"A700"}),error:y({color:c,name:"error"}),warning:y({color:m,name:"warning"}),info:y({color:d,name:"info"}),success:y({color:f,name:"success"}),grey:_q,contrastThreshold:n,getContrastText:g,augmentColor:y,tonalOffset:r,...C},i)}function Iq(t){const e={};return Object.entries(t).forEach(r=>{const[i,o]=r;typeof o=="object"&&(e[i]=`${o.fontStyle?`${o.fontStyle} `:""}${o.fontVariant?`${o.fontVariant} `:""}${o.fontWeight?`${o.fontWeight} `:""}${o.fontStretch?`${o.fontStretch} `:""}${o.fontSize||""}${o.lineHeight?`/${o.lineHeight} `:""}${o.fontFamily||""}`)}),e}function Pq(t,e){return{toolbar:{minHeight:56,[t.up("xs")]:{"@media (orientation: landscape)":{minHeight:48}},[t.up("sm")]:{minHeight:64}},...e}}function Rq(t){return Math.round(t*1e5)/1e5}const KC={textTransform:"uppercase"},YC='"Roboto", "Helvetica", "Arial", sans-serif';function Aq(t,e){const{fontFamily:n=YC,fontSize:r=14,fontWeightLight:i=300,fontWeightRegular:o=400,fontWeightMedium:l=500,fontWeightBold:c=700,htmlFontSize:d=16,allVariants:f,pxToRem:m,...g}=typeof e=="function"?e(t):e,y=r/14,C=m||(P=>`${P/d*y}rem`),S=(P,N,M,O,U)=>({fontFamily:n,fontWeight:P,fontSize:C(N),lineHeight:M,...n===YC?{letterSpacing:`${Rq(O/N)}em`}:{},...U,...f}),k={h1:S(i,96,1.167,-1.5),h2:S(i,60,1.2,-.5),h3:S(o,48,1.167,0),h4:S(o,34,1.235,.25),h5:S(o,24,1.334,0),h6:S(l,20,1.6,.15),subtitle1:S(o,16,1.75,.15),subtitle2:S(l,14,1.57,.1),body1:S(o,16,1.5,.15),body2:S(o,14,1.43,.15),button:S(l,14,1.75,.4,KC),caption:S(o,12,1.66,.4),overline:S(o,12,2.66,1,KC),inherit:{fontFamily:"inherit",fontWeight:"inherit",fontSize:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}};return Qn({htmlFontSize:d,pxToRem:C,fontFamily:n,fontSize:r,fontWeightLight:i,fontWeightRegular:o,fontWeightMedium:l,fontWeightBold:c,...k},g,{clone:!1})}const Nq=.2,Oq=.14,Dq=.12;function ut(...t){return[`${t[0]}px ${t[1]}px ${t[2]}px ${t[3]}px rgba(0,0,0,${Nq})`,`${t[4]}px ${t[5]}px ${t[6]}px ${t[7]}px rgba(0,0,0,${Oq})`,`${t[8]}px ${t[9]}px ${t[10]}px ${t[11]}px rgba(0,0,0,${Dq})`].join(",")}const Mq=["none",ut(0,2,1,-1,0,1,1,0,0,1,3,0),ut(0,3,1,-2,0,2,2,0,0,1,5,0),ut(0,3,3,-2,0,3,4,0,0,1,8,0),ut(0,2,4,-1,0,4,5,0,0,1,10,0),ut(0,3,5,-1,0,5,8,0,0,1,14,0),ut(0,3,5,-1,0,6,10,0,0,1,18,0),ut(0,4,5,-2,0,7,10,1,0,2,16,1),ut(0,5,5,-3,0,8,10,1,0,3,14,2),ut(0,5,6,-3,0,9,12,1,0,3,16,2),ut(0,6,6,-3,0,10,14,1,0,4,18,3),ut(0,6,7,-4,0,11,15,1,0,4,20,3),ut(0,7,8,-4,0,12,17,2,0,5,22,4),ut(0,7,8,-4,0,13,19,2,0,5,24,4),ut(0,7,9,-4,0,14,21,2,0,5,26,4),ut(0,8,9,-5,0,15,22,2,0,6,28,5),ut(0,8,10,-5,0,16,24,2,0,6,30,5),ut(0,8,11,-5,0,17,26,2,0,6,32,5),ut(0,9,11,-5,0,18,28,2,0,7,34,6),ut(0,9,12,-6,0,19,29,2,0,7,36,6),ut(0,10,13,-6,0,20,31,3,0,8,38,7),ut(0,10,13,-6,0,21,33,3,0,8,40,7),ut(0,10,14,-6,0,22,35,3,0,8,42,7),ut(0,11,14,-7,0,23,36,3,0,9,44,8),ut(0,11,15,-7,0,24,38,3,0,9,46,8)],Lq={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},jq={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function XC(t){return`${Math.round(t)}ms`}function Fq(t){if(!t)return 0;const e=t/36;return Math.min(Math.round((4+15*e**.25+e/5)*10),3e3)}function $q(t){const e={...Lq,...t.easing},n={...jq,...t.duration};return{getAutoHeightDuration:Fq,create:(i=["all"],o={})=>{const{duration:l=n.standard,easing:c=e.easeInOut,delay:d=0,...f}=o;return(Array.isArray(i)?i:[i]).map(m=>`${m} ${typeof l=="string"?l:XC(l)} ${c} ${typeof d=="string"?d:XC(d)}`).join(",")},...t,easing:e,duration:n}}const Uq={mobileStepper:1e3,fab:1050,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500};function Vq(t){return fi(t)||typeof t>"u"||typeof t=="string"||typeof t=="boolean"||typeof t=="number"||Array.isArray(t)}function gA(t={}){const e={...t};function n(r){const i=Object.entries(r);for(let o=0;o<i.length;o++){const[l,c]=i[o];!Vq(c)||l.startsWith("unstable_")?delete r[l]:fi(c)&&(r[l]={...c},n(r[l]))}}return n(e),`import { unstable_createBreakpoints as createBreakpoints, createTransitions } from '@mui/material/styles';

const theme = ${JSON.stringify(e,null,2)};

theme.breakpoints = createBreakpoints(theme.breakpoints || {});
theme.transitions = createTransitions(theme.transitions || {});

export default theme;`}function bv(t={},...e){const{breakpoints:n,mixins:r={},spacing:i,palette:o={},transitions:l={},typography:c={},shape:d,...f}=t;if(t.vars&&t.generateThemeVars===void 0)throw new Error(ya(20));const m=K_(o),g=B_(t);let y=Qn(g,{mixins:Pq(g.breakpoints,r),palette:m,shadows:Mq.slice(),typography:Aq(m,c),transitions:$q(l),zIndex:{...Uq}});return y=Qn(y,f),y=e.reduce((C,S)=>Qn(C,S),y),y.unstable_sxConfig={...Yd,...f?.unstable_sxConfig},y.unstable_sx=function(S){return va({sx:S,theme:this})},y.toRuntimeSource=gA,y}function Bq(t){let e;return t<1?e=5.11916*t**2:e=4.5*Math.log(t+1)+2,Math.round(e*10)/1e3}const zq=[...Array(25)].map((t,e)=>{if(e===0)return"none";const n=Bq(e);return`linear-gradient(rgba(255 255 255 / ${n}), rgba(255 255 255 / ${n}))`});function yA(t){return{inputPlaceholder:t==="dark"?.5:.42,inputUnderline:t==="dark"?.7:.42,switchTrackDisabled:t==="dark"?.2:.12,switchTrack:t==="dark"?.3:.38}}function vA(t){return t==="dark"?zq:[]}function Wq(t){const{palette:e={mode:"light"},opacity:n,overlays:r,...i}=t,o=K_(e);return{palette:o,opacity:{...yA(o.mode),...n},overlays:r||vA(o.mode),...i}}function Hq(t){return!!t[0].match(/(cssVarPrefix|colorSchemeSelector|rootSelector|typography|mixins|breakpoints|direction|transitions)/)||!!t[0].match(/sxConfig$/)||t[0]==="palette"&&!!t[1]?.match(/(mode|contrastThreshold|tonalOffset)/)}const qq=t=>[...[...Array(25)].map((e,n)=>`--${t?`${t}-`:""}overlays-${n}`),`--${t?`${t}-`:""}palette-AppBar-darkBg`,`--${t?`${t}-`:""}palette-AppBar-darkColor`],Gq=t=>(e,n)=>{const r=t.rootSelector||":root",i=t.colorSchemeSelector;let o=i;if(i==="class"&&(o=".%s"),i==="data"&&(o="[data-%s]"),i?.startsWith("data-")&&!i.includes("%s")&&(o=`[${i}="%s"]`),t.defaultColorScheme===e){if(e==="dark"){const l={};return qq(t.cssVarPrefix).forEach(c=>{l[c]=n[c],delete n[c]}),o==="media"?{[r]:n,"@media (prefers-color-scheme: dark)":{[r]:l}}:o?{[o.replace("%s",e)]:l,[`${r}, ${o.replace("%s",e)}`]:n}:{[r]:{...n,...l}}}if(o&&o!=="media")return`${r}, ${o.replace("%s",String(e))}`}else if(e){if(o==="media")return{[`@media (prefers-color-scheme: ${String(e)})`]:{[r]:n}};if(o)return o.replace("%s",String(e))}return r};function Kq(t,e){e.forEach(n=>{t[n]||(t[n]={})})}function Z(t,e,n){!t[e]&&n&&(t[e]=n)}function Eu(t){return typeof t!="string"||!t.startsWith("hsl")?t:fA(t)}function Bi(t,e){`${e}Channel`in t||(t[`${e}Channel`]=bu(Eu(t[e])))}function Yq(t){return typeof t=="number"?`${t}px`:typeof t=="string"||typeof t=="function"||Array.isArray(t)?t:"8px"}const li=t=>{try{return t()}catch{}},Xq=(t="mui")=>mq(t);function t0(t,e,n,r){if(!e)return;e=e===!0?{}:e;const i=r==="dark"?"dark":"light";if(!n){t[r]=Wq({...e,palette:{mode:i,...e?.palette}});return}const{palette:o,...l}=bv({...n,palette:{mode:i,...e?.palette}});return t[r]={...e,palette:o,opacity:{...yA(i),...e?.opacity},overlays:e?.overlays||vA(i)},l}function Jq(t={},...e){const{colorSchemes:n={light:!0},defaultColorScheme:r,disableCssColorScheme:i=!1,cssVarPrefix:o="mui",shouldSkipGeneratingVar:l=Hq,colorSchemeSelector:c=n.light&&n.dark?"media":void 0,rootSelector:d=":root",...f}=t,m=Object.keys(n)[0],g=r||(n.light&&m!=="light"?"light":m),y=Xq(o),{[g]:C,light:S,dark:k,...P}=n,N={...P};let M=C;if((g==="dark"&&!("dark"in n)||g==="light"&&!("light"in n))&&(M=!0),!M)throw new Error(ya(21,g));const O=t0(N,M,f,g);S&&!N.light&&t0(N,S,void 0,"light"),k&&!N.dark&&t0(N,k,void 0,"dark");let U={defaultColorScheme:g,...O,cssVarPrefix:o,colorSchemeSelector:c,rootSelector:d,getCssVar:y,colorSchemes:N,font:{...Iq(O.typography),...O.font},spacing:Yq(f.spacing)};Object.keys(U.colorSchemes).forEach(A=>{const E=U.colorSchemes[A].palette,L=$=>{const F=$.split("-"),re=F[1],he=F[2];return y($,E[re][he])};if(E.mode==="light"&&(Z(E.common,"background","#fff"),Z(E.common,"onBackground","#000")),E.mode==="dark"&&(Z(E.common,"background","#000"),Z(E.common,"onBackground","#fff")),Kq(E,["Alert","AppBar","Avatar","Button","Chip","FilledInput","LinearProgress","Skeleton","Slider","SnackbarContent","SpeedDialAction","StepConnector","StepContent","Switch","TableCell","Tooltip"]),E.mode==="light"){Z(E.Alert,"errorColor",Ze(E.error.light,.6)),Z(E.Alert,"infoColor",Ze(E.info.light,.6)),Z(E.Alert,"successColor",Ze(E.success.light,.6)),Z(E.Alert,"warningColor",Ze(E.warning.light,.6)),Z(E.Alert,"errorFilledBg",L("palette-error-main")),Z(E.Alert,"infoFilledBg",L("palette-info-main")),Z(E.Alert,"successFilledBg",L("palette-success-main")),Z(E.Alert,"warningFilledBg",L("palette-warning-main")),Z(E.Alert,"errorFilledColor",li(()=>E.getContrastText(E.error.main))),Z(E.Alert,"infoFilledColor",li(()=>E.getContrastText(E.info.main))),Z(E.Alert,"successFilledColor",li(()=>E.getContrastText(E.success.main))),Z(E.Alert,"warningFilledColor",li(()=>E.getContrastText(E.warning.main))),Z(E.Alert,"errorStandardBg",et(E.error.light,.9)),Z(E.Alert,"infoStandardBg",et(E.info.light,.9)),Z(E.Alert,"successStandardBg",et(E.success.light,.9)),Z(E.Alert,"warningStandardBg",et(E.warning.light,.9)),Z(E.Alert,"errorIconColor",L("palette-error-main")),Z(E.Alert,"infoIconColor",L("palette-info-main")),Z(E.Alert,"successIconColor",L("palette-success-main")),Z(E.Alert,"warningIconColor",L("palette-warning-main")),Z(E.AppBar,"defaultBg",L("palette-grey-100")),Z(E.Avatar,"defaultBg",L("palette-grey-400")),Z(E.Button,"inheritContainedBg",L("palette-grey-300")),Z(E.Button,"inheritContainedHoverBg",L("palette-grey-A100")),Z(E.Chip,"defaultBorder",L("palette-grey-400")),Z(E.Chip,"defaultAvatarColor",L("palette-grey-700")),Z(E.Chip,"defaultIconColor",L("palette-grey-700")),Z(E.FilledInput,"bg","rgba(0, 0, 0, 0.06)"),Z(E.FilledInput,"hoverBg","rgba(0, 0, 0, 0.09)"),Z(E.FilledInput,"disabledBg","rgba(0, 0, 0, 0.12)"),Z(E.LinearProgress,"primaryBg",et(E.primary.main,.62)),Z(E.LinearProgress,"secondaryBg",et(E.secondary.main,.62)),Z(E.LinearProgress,"errorBg",et(E.error.main,.62)),Z(E.LinearProgress,"infoBg",et(E.info.main,.62)),Z(E.LinearProgress,"successBg",et(E.success.main,.62)),Z(E.LinearProgress,"warningBg",et(E.warning.main,.62)),Z(E.Skeleton,"bg",`rgba(${L("palette-text-primaryChannel")} / 0.11)`),Z(E.Slider,"primaryTrack",et(E.primary.main,.62)),Z(E.Slider,"secondaryTrack",et(E.secondary.main,.62)),Z(E.Slider,"errorTrack",et(E.error.main,.62)),Z(E.Slider,"infoTrack",et(E.info.main,.62)),Z(E.Slider,"successTrack",et(E.success.main,.62)),Z(E.Slider,"warningTrack",et(E.warning.main,.62));const $=Pf(E.background.default,.8);Z(E.SnackbarContent,"bg",$),Z(E.SnackbarContent,"color",li(()=>E.getContrastText($))),Z(E.SpeedDialAction,"fabHoverBg",Pf(E.background.paper,.15)),Z(E.StepConnector,"border",L("palette-grey-400")),Z(E.StepContent,"border",L("palette-grey-400")),Z(E.Switch,"defaultColor",L("palette-common-white")),Z(E.Switch,"defaultDisabledColor",L("palette-grey-100")),Z(E.Switch,"primaryDisabledColor",et(E.primary.main,.62)),Z(E.Switch,"secondaryDisabledColor",et(E.secondary.main,.62)),Z(E.Switch,"errorDisabledColor",et(E.error.main,.62)),Z(E.Switch,"infoDisabledColor",et(E.info.main,.62)),Z(E.Switch,"successDisabledColor",et(E.success.main,.62)),Z(E.Switch,"warningDisabledColor",et(E.warning.main,.62)),Z(E.TableCell,"border",et(If(E.divider,1),.88)),Z(E.Tooltip,"bg",If(E.grey[700],.92))}if(E.mode==="dark"){Z(E.Alert,"errorColor",et(E.error.light,.6)),Z(E.Alert,"infoColor",et(E.info.light,.6)),Z(E.Alert,"successColor",et(E.success.light,.6)),Z(E.Alert,"warningColor",et(E.warning.light,.6)),Z(E.Alert,"errorFilledBg",L("palette-error-dark")),Z(E.Alert,"infoFilledBg",L("palette-info-dark")),Z(E.Alert,"successFilledBg",L("palette-success-dark")),Z(E.Alert,"warningFilledBg",L("palette-warning-dark")),Z(E.Alert,"errorFilledColor",li(()=>E.getContrastText(E.error.dark))),Z(E.Alert,"infoFilledColor",li(()=>E.getContrastText(E.info.dark))),Z(E.Alert,"successFilledColor",li(()=>E.getContrastText(E.success.dark))),Z(E.Alert,"warningFilledColor",li(()=>E.getContrastText(E.warning.dark))),Z(E.Alert,"errorStandardBg",Ze(E.error.light,.9)),Z(E.Alert,"infoStandardBg",Ze(E.info.light,.9)),Z(E.Alert,"successStandardBg",Ze(E.success.light,.9)),Z(E.Alert,"warningStandardBg",Ze(E.warning.light,.9)),Z(E.Alert,"errorIconColor",L("palette-error-main")),Z(E.Alert,"infoIconColor",L("palette-info-main")),Z(E.Alert,"successIconColor",L("palette-success-main")),Z(E.Alert,"warningIconColor",L("palette-warning-main")),Z(E.AppBar,"defaultBg",L("palette-grey-900")),Z(E.AppBar,"darkBg",L("palette-background-paper")),Z(E.AppBar,"darkColor",L("palette-text-primary")),Z(E.Avatar,"defaultBg",L("palette-grey-600")),Z(E.Button,"inheritContainedBg",L("palette-grey-800")),Z(E.Button,"inheritContainedHoverBg",L("palette-grey-700")),Z(E.Chip,"defaultBorder",L("palette-grey-700")),Z(E.Chip,"defaultAvatarColor",L("palette-grey-300")),Z(E.Chip,"defaultIconColor",L("palette-grey-300")),Z(E.FilledInput,"bg","rgba(255, 255, 255, 0.09)"),Z(E.FilledInput,"hoverBg","rgba(255, 255, 255, 0.13)"),Z(E.FilledInput,"disabledBg","rgba(255, 255, 255, 0.12)"),Z(E.LinearProgress,"primaryBg",Ze(E.primary.main,.5)),Z(E.LinearProgress,"secondaryBg",Ze(E.secondary.main,.5)),Z(E.LinearProgress,"errorBg",Ze(E.error.main,.5)),Z(E.LinearProgress,"infoBg",Ze(E.info.main,.5)),Z(E.LinearProgress,"successBg",Ze(E.success.main,.5)),Z(E.LinearProgress,"warningBg",Ze(E.warning.main,.5)),Z(E.Skeleton,"bg",`rgba(${L("palette-text-primaryChannel")} / 0.13)`),Z(E.Slider,"primaryTrack",Ze(E.primary.main,.5)),Z(E.Slider,"secondaryTrack",Ze(E.secondary.main,.5)),Z(E.Slider,"errorTrack",Ze(E.error.main,.5)),Z(E.Slider,"infoTrack",Ze(E.info.main,.5)),Z(E.Slider,"successTrack",Ze(E.success.main,.5)),Z(E.Slider,"warningTrack",Ze(E.warning.main,.5));const $=Pf(E.background.default,.98);Z(E.SnackbarContent,"bg",$),Z(E.SnackbarContent,"color",li(()=>E.getContrastText($))),Z(E.SpeedDialAction,"fabHoverBg",Pf(E.background.paper,.15)),Z(E.StepConnector,"border",L("palette-grey-600")),Z(E.StepContent,"border",L("palette-grey-600")),Z(E.Switch,"defaultColor",L("palette-grey-300")),Z(E.Switch,"defaultDisabledColor",L("palette-grey-600")),Z(E.Switch,"primaryDisabledColor",Ze(E.primary.main,.55)),Z(E.Switch,"secondaryDisabledColor",Ze(E.secondary.main,.55)),Z(E.Switch,"errorDisabledColor",Ze(E.error.main,.55)),Z(E.Switch,"infoDisabledColor",Ze(E.info.main,.55)),Z(E.Switch,"successDisabledColor",Ze(E.success.main,.55)),Z(E.Switch,"warningDisabledColor",Ze(E.warning.main,.55)),Z(E.TableCell,"border",Ze(If(E.divider,1),.68)),Z(E.Tooltip,"bg",If(E.grey[700],.92))}Bi(E.background,"default"),Bi(E.background,"paper"),Bi(E.common,"background"),Bi(E.common,"onBackground"),Bi(E,"divider"),Object.keys(E).forEach($=>{const F=E[$];$!=="tonalOffset"&&F&&typeof F=="object"&&(F.main&&Z(E[$],"mainChannel",bu(Eu(F.main))),F.light&&Z(E[$],"lightChannel",bu(Eu(F.light))),F.dark&&Z(E[$],"darkChannel",bu(Eu(F.dark))),F.contrastText&&Z(E[$],"contrastTextChannel",bu(Eu(F.contrastText))),$==="text"&&(Bi(E[$],"primary"),Bi(E[$],"secondary")),$==="action"&&(F.active&&Bi(E[$],"active"),F.selected&&Bi(E[$],"selected")))})}),U=e.reduce((A,E)=>Qn(A,E),U);const B={prefix:o,disableCssColorScheme:i,shouldSkipGeneratingVar:l,getSelector:Gq(U)},{vars:H,generateThemeVars:D,generateStyleSheets:I}=vq(U,B);return U.vars=H,Object.entries(U.colorSchemes[U.defaultColorScheme]).forEach(([A,E])=>{U[A]=E}),U.generateThemeVars=D,U.generateStyleSheets=I,U.generateSpacing=function(){return lA(f.spacing,j_(this))},U.getColorSchemeSelector=wq(c),U.spacing=U.generateSpacing(),U.shouldSkipGeneratingVar=l,U.unstable_sxConfig={...Yd,...f?.unstable_sxConfig},U.unstable_sx=function(E){return va({sx:E,theme:this})},U.toRuntimeSource=gA,U}function JC(t,e,n){t.colorSchemes&&n&&(t.colorSchemes[e]={...n!==!0&&n,palette:K_({...n===!0?{}:n.palette,mode:e})})}function wA(t={},...e){const{palette:n,cssVariables:r=!1,colorSchemes:i=n?void 0:{light:!0},defaultColorScheme:o=n?.mode,...l}=t,c=o||"light",d=i?.[c],f={...i,...n?{[c]:{...typeof d!="boolean"&&d,palette:n}}:void 0};if(r===!1){if(!("colorSchemes"in t))return bv(t,...e);let m=n;"palette"in t||f[c]&&(f[c]!==!0?m=f[c].palette:c==="dark"&&(m={mode:"dark"}));const g=bv({...t,palette:m},...e);return g.defaultColorScheme=c,g.colorSchemes=f,g.palette.mode==="light"&&(g.colorSchemes.light={...f.light!==!0&&f.light,palette:g.palette},JC(g,"dark",f.dark)),g.palette.mode==="dark"&&(g.colorSchemes.dark={...f.dark!==!0&&f.dark,palette:g.palette},JC(g,"light",f.light)),g}return!n&&!("light"in f)&&c==="light"&&(f.light=!0),Jq({...l,colorSchemes:f,defaultColorScheme:c,...typeof r!="boolean"&&r},...e)}const _A=wA(),Y_="$$material";function Qq(){const t=cA(_A);return t[Y_]||t}function Zq(t){return t!=="ownerState"&&t!=="theme"&&t!=="sx"&&t!=="as"}const eG=t=>Zq(t)&&t!=="classes",X_=eq({themeId:Y_,defaultTheme:_A,rootShouldForwardProp:eG}),tG=pq;function xA(t){return fq(t)}function nG(t){return typeof t=="string"}function rG(t,e,n){return t===void 0||nG(t)?e:{...e,ownerState:{...e.ownerState,...n}}}function iG(t,e,n){return typeof t=="function"?t(e,n):t}function bA(t,e=[]){if(t===void 0)return{};const n={};return Object.keys(t).filter(r=>r.match(/^on[A-Z]/)&&typeof t[r]=="function"&&!e.includes(r)).forEach(r=>{n[r]=t[r]}),n}function QC(t){if(t===void 0)return{};const e={};return Object.keys(t).filter(n=>!(n.match(/^on[A-Z]/)&&typeof t[n]=="function")).forEach(n=>{e[n]=t[n]}),e}function sG(t){const{getSlotProps:e,additionalProps:n,externalSlotProps:r,externalForwardedProps:i,className:o}=t;if(!e){const C=Kl(n?.className,o,i?.className,r?.className),S={...n?.style,...i?.style,...r?.style},k={...n,...i,...r};return C.length>0&&(k.className=C),Object.keys(S).length>0&&(k.style=S),{props:k,internalRef:void 0}}const l=bA({...i,...r}),c=QC(r),d=QC(i),f=e(l),m=Kl(f?.className,n?.className,o,i?.className,r?.className),g={...f?.style,...n?.style,...i?.style,...r?.style},y={...f,...n,...d,...c};return m.length>0&&(y.className=m),Object.keys(g).length>0&&(y.style=g),{props:y,internalRef:f.ref}}function Op(t,e){const{className:n,elementType:r,ownerState:i,externalForwardedProps:o,internalForwardedProps:l,shouldForwardComponentProp:c=!1,...d}=e,{component:f,slots:m={[t]:void 0},slotProps:g={[t]:void 0},...y}=o,C=m[t]||r,S=iG(g[t],i),{props:{component:k,...P},internalRef:N}=sG({className:n,...d,externalForwardedProps:t==="root"?y:void 0,externalSlotProps:S}),M=qd(N,S?.ref,e.ref),O=t==="root"?k||f:k,U=rG(C,{...t==="root"&&!f&&!m[t]&&l,...t!=="root"&&!m[t]&&l,...P,...O&&!c&&{as:O},...O&&c&&{component:O},ref:M},i);return[C,U]}function oG(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function Ev(t,e){return Ev=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,r){return n.__proto__=r,n},Ev(t,e)}function aG(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,Ev(t,e)}const ZC={disabled:!1},EA=ke.createContext(null);var lG=function(e){return e.scrollTop},Su="unmounted",Go="exited",Ko="entering",Sl="entered",Sv="exiting",fs=function(t){aG(e,t);function e(r,i){var o;o=t.call(this,r,i)||this;var l=i,c=l&&!l.isMounting?r.enter:r.appear,d;return o.appearStatus=null,r.in?c?(d=Go,o.appearStatus=Ko):d=Sl:r.unmountOnExit||r.mountOnEnter?d=Su:d=Go,o.state={status:d},o.nextCallback=null,o}e.getDerivedStateFromProps=function(i,o){var l=i.in;return l&&o.status===Su?{status:Go}:null};var n=e.prototype;return n.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},n.componentDidUpdate=function(i){var o=null;if(i!==this.props){var l=this.state.status;this.props.in?l!==Ko&&l!==Sl&&(o=Ko):(l===Ko||l===Sl)&&(o=Sv)}this.updateStatus(!1,o)},n.componentWillUnmount=function(){this.cancelNextCallback()},n.getTimeouts=function(){var i=this.props.timeout,o,l,c;return o=l=c=i,i!=null&&typeof i!="number"&&(o=i.exit,l=i.enter,c=i.appear!==void 0?i.appear:l),{exit:o,enter:l,appear:c}},n.updateStatus=function(i,o){if(i===void 0&&(i=!1),o!==null)if(this.cancelNextCallback(),o===Ko){if(this.props.unmountOnExit||this.props.mountOnEnter){var l=this.props.nodeRef?this.props.nodeRef.current:gf.findDOMNode(this);l&&lG(l)}this.performEnter(i)}else this.performExit();else this.props.unmountOnExit&&this.state.status===Go&&this.setState({status:Su})},n.performEnter=function(i){var o=this,l=this.props.enter,c=this.context?this.context.isMounting:i,d=this.props.nodeRef?[c]:[gf.findDOMNode(this),c],f=d[0],m=d[1],g=this.getTimeouts(),y=c?g.appear:g.enter;if(!i&&!l||ZC.disabled){this.safeSetState({status:Sl},function(){o.props.onEntered(f)});return}this.props.onEnter(f,m),this.safeSetState({status:Ko},function(){o.props.onEntering(f,m),o.onTransitionEnd(y,function(){o.safeSetState({status:Sl},function(){o.props.onEntered(f,m)})})})},n.performExit=function(){var i=this,o=this.props.exit,l=this.getTimeouts(),c=this.props.nodeRef?void 0:gf.findDOMNode(this);if(!o||ZC.disabled){this.safeSetState({status:Go},function(){i.props.onExited(c)});return}this.props.onExit(c),this.safeSetState({status:Sv},function(){i.props.onExiting(c),i.onTransitionEnd(l.exit,function(){i.safeSetState({status:Go},function(){i.props.onExited(c)})})})},n.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},n.safeSetState=function(i,o){o=this.setNextCallback(o),this.setState(i,o)},n.setNextCallback=function(i){var o=this,l=!0;return this.nextCallback=function(c){l&&(l=!1,o.nextCallback=null,i(c))},this.nextCallback.cancel=function(){l=!1},this.nextCallback},n.onTransitionEnd=function(i,o){this.setNextCallback(o);var l=this.props.nodeRef?this.props.nodeRef.current:gf.findDOMNode(this),c=i==null&&!this.props.addEndListener;if(!l||c){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var d=this.props.nodeRef?[this.nextCallback]:[l,this.nextCallback],f=d[0],m=d[1];this.props.addEndListener(f,m)}i!=null&&setTimeout(this.nextCallback,i)},n.render=function(){var i=this.state.status;if(i===Su)return null;var o=this.props,l=o.children;o.in,o.mountOnEnter,o.unmountOnExit,o.appear,o.enter,o.exit,o.timeout,o.addEndListener,o.onEnter,o.onEntering,o.onEntered,o.onExit,o.onExiting,o.onExited,o.nodeRef;var c=oG(o,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return ke.createElement(EA.Provider,{value:null},typeof l=="function"?l(i,c):ke.cloneElement(ke.Children.only(l),c))},e}(ke.Component);fs.contextType=EA;fs.propTypes={};function bl(){}fs.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:bl,onEntering:bl,onEntered:bl,onExit:bl,onExiting:bl,onExited:bl};fs.UNMOUNTED=Su;fs.EXITED=Go;fs.ENTERING=Ko;fs.ENTERED=Sl;fs.EXITING=Sv;const cG=t=>t.scrollTop;function eT(t,e){const{timeout:n,easing:r,style:i={}}=t;return{duration:i.transitionDuration??(typeof n=="number"?n:n[e.mode]||0),easing:i.transitionTimingFunction??(typeof r=="object"?r[e.mode]:r),delay:i.transitionDelay}}const uG={entering:{opacity:1},entered:{opacity:1}},dG=b.forwardRef(function(e,n){const r=Qq(),i={enter:r.transitions.duration.enteringScreen,exit:r.transitions.duration.leavingScreen},{addEndListener:o,appear:l=!0,children:c,easing:d,in:f,onEnter:m,onEntered:g,onEntering:y,onExit:C,onExited:S,onExiting:k,style:P,timeout:N=i,TransitionComponent:M=fs,...O}=e,U=b.useRef(null),B=qd(U,D_(c),n),H=re=>he=>{if(re){const me=U.current;he===void 0?re(me):re(me,he)}},D=H(y),I=H((re,he)=>{cG(re);const me=eT({style:P,timeout:N,easing:d},{mode:"enter"});re.style.webkitTransition=r.transitions.create("opacity",me),re.style.transition=r.transitions.create("opacity",me),m&&m(re,he)}),A=H(g),E=H(k),L=H(re=>{const he=eT({style:P,timeout:N,easing:d},{mode:"exit"});re.style.webkitTransition=r.transitions.create("opacity",he),re.style.transition=r.transitions.create("opacity",he),C&&C(re)}),$=H(S),F=re=>{o&&o(U.current,re)};return w.jsx(M,{appear:l,in:f,nodeRef:U,onEnter:I,onEntered:A,onEntering:D,onExit:L,onExited:$,onExiting:E,addEndListener:F,timeout:N,...O,children:(re,{ownerState:he,...me})=>b.cloneElement(c,{style:{opacity:0,visibility:re==="exited"&&!f?"hidden":void 0,...uG[re],...P,...c.props.style},ref:B,...me})})});function hG(t){return z_("MuiBackdrop",t)}W_("MuiBackdrop",["root","invisible"]);const fG=t=>{const{classes:e,invisible:n}=t;return zR({root:["root",n&&"invisible"]},hG,e)},pG=X_("div",{name:"MuiBackdrop",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.invisible&&e.invisible]}})({position:"fixed",display:"flex",alignItems:"center",justifyContent:"center",right:0,bottom:0,top:0,left:0,backgroundColor:"rgba(0, 0, 0, 0.5)",WebkitTapHighlightColor:"transparent",variants:[{props:{invisible:!0},style:{backgroundColor:"transparent"}}]}),mG=b.forwardRef(function(e,n){const r=xA({props:e,name:"MuiBackdrop"}),{children:i,className:o,component:l="div",invisible:c=!1,open:d,components:f={},componentsProps:m={},slotProps:g={},slots:y={},TransitionComponent:C,transitionDuration:S,...k}=r,P={...r,component:l,invisible:c},N=fG(P),M={transition:C,root:f.Root,...y},O={...m,...g},U={slots:M,slotProps:O},[B,H]=Op("root",{elementType:pG,externalForwardedProps:U,className:Kl(N.root,o),ownerState:P}),[D,I]=Op("transition",{elementType:dG,externalForwardedProps:U,ownerState:P});return w.jsx(D,{in:d,timeout:S,...k,...I,children:w.jsx(B,{"aria-hidden":!0,...H,classes:N,ref:n,children:i})})});function tT(t){const e=b.useRef(t);return mv(()=>{e.current=t}),b.useRef((...n)=>(0,e.current)(...n)).current}function nT(...t){return t.reduce((e,n)=>n==null?e:function(...i){e.apply(this,i),n.apply(this,i)},()=>{})}function gG(t){return typeof t=="function"?t():t}function yG(t){return t?t.props.hasOwnProperty("in"):!1}const rT=()=>{},Rf=new Uz;function vG(t){const{container:e,disableEscapeKeyDown:n=!1,disableScrollLock:r=!1,closeAfterTransition:i=!1,onTransitionEnter:o,onTransitionExited:l,children:c,onClose:d,open:f,rootRef:m}=t,g=b.useRef({}),y=b.useRef(null),C=b.useRef(null),S=qd(C,m),[k,P]=b.useState(!f),N=yG(c);let M=!0;(t["aria-hidden"]==="false"||t["aria-hidden"]===!1)&&(M=!1);const O=()=>ga(y.current),U=()=>(g.current.modalRef=C.current,g.current.mount=y.current,g.current),B=()=>{Rf.mount(U(),{disableScrollLock:r}),C.current&&(C.current.scrollTop=0)},H=tT(()=>{const he=gG(e)||O().body;Rf.add(U(),he),C.current&&B()}),D=()=>Rf.isTopModal(U()),I=tT(he=>{y.current=he,he&&(f&&D()?B():C.current&&zu(C.current,M))}),A=b.useCallback(()=>{Rf.remove(U(),M)},[M]);b.useEffect(()=>()=>{A()},[A]),b.useEffect(()=>{f?H():(!N||!i)&&A()},[f,A,N,i,H]);const E=he=>me=>{he.onKeyDown?.(me),!(me.key!=="Escape"||me.which===229||!D())&&(n||(me.stopPropagation(),d&&d(me,"escapeKeyDown")))},L=he=>me=>{he.onClick?.(me),me.target===me.currentTarget&&d&&d(me,"backdropClick")};return{getRootProps:(he={})=>{const me=bA(t);delete me.onTransitionEnter,delete me.onTransitionExited;const fe={...me,...he};return{role:"presentation",...fe,onKeyDown:E(fe),ref:S}},getBackdropProps:(he={})=>{const me=he;return{"aria-hidden":!0,...me,onClick:L(me),open:f}},getTransitionProps:()=>{const he=()=>{P(!1),o&&o()},me=()=>{P(!0),l&&l(),i&&A()};return{onEnter:nT(he,c?.props.onEnter??rT),onExited:nT(me,c?.props.onExited??rT)}},rootRef:S,portalRef:I,isTopModal:D,exited:k,hasTransition:N}}function wG(t){return z_("MuiModal",t)}W_("MuiModal",["root","hidden","backdrop"]);const _G=t=>{const{open:e,exited:n,classes:r}=t;return zR({root:["root",!e&&n&&"hidden"],backdrop:["backdrop"]},wG,r)},xG=X_("div",{name:"MuiModal",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,!n.open&&n.exited&&e.hidden]}})(tG(({theme:t})=>({position:"fixed",zIndex:(t.vars||t).zIndex.modal,right:0,bottom:0,top:0,left:0,variants:[{props:({ownerState:e})=>!e.open&&e.exited,style:{visibility:"hidden"}}]}))),bG=X_(mG,{name:"MuiModal",slot:"Backdrop"})({zIndex:-1}),SA=b.forwardRef(function(e,n){const r=xA({name:"MuiModal",props:e}),{BackdropComponent:i=bG,BackdropProps:o,classes:l,className:c,closeAfterTransition:d=!1,children:f,container:m,component:g,components:y={},componentsProps:C={},disableAutoFocus:S=!1,disableEnforceFocus:k=!1,disableEscapeKeyDown:P=!1,disablePortal:N=!1,disableRestoreFocus:M=!1,disableScrollLock:O=!1,hideBackdrop:U=!1,keepMounted:B=!1,onClose:H,onTransitionEnter:D,onTransitionExited:I,open:A,slotProps:E={},slots:L={},theme:$,...F}=r,re={...r,closeAfterTransition:d,disableAutoFocus:S,disableEnforceFocus:k,disableEscapeKeyDown:P,disablePortal:N,disableRestoreFocus:M,disableScrollLock:O,hideBackdrop:U,keepMounted:B},{getRootProps:he,getBackdropProps:me,getTransitionProps:fe,portalRef:te,isTopModal:ue,exited:ae,hasTransition:q}=vG({...re,rootRef:n}),ee={...re,exited:ae},Q=_G(ee),de={};if(f.props.tabIndex===void 0&&(de.tabIndex="-1"),q){const{onEnter:Be,onExited:De}=fe();de.onEnter=Be,de.onExited=De}const ve={slots:{root:y.Root,backdrop:y.Backdrop,...L},slotProps:{...C,...E}},[Ee,Se]=Op("root",{ref:n,elementType:xG,externalForwardedProps:{...ve,...F,component:g},getSlotProps:he,ownerState:ee,className:Kl(c,Q?.root,!ee.open&&ee.exited&&Q?.hidden)}),[Te,_e]=Op("backdrop",{ref:o?.ref,elementType:i,externalForwardedProps:ve,shouldForwardComponentProp:!0,additionalProps:o,getSlotProps:Be=>me({...Be,onClick:De=>{Be?.onClick&&Be.onClick(De)}}),className:Kl(o?.className,Q?.backdrop),ownerState:ee});return!B&&!A&&(!q||ae)?null:w.jsx(Yz,{ref:te,container:m,disablePortal:N,children:w.jsxs(Ee,{...Se,children:[!U&&i?w.jsx(Te,{..._e}):null,w.jsx(Gz,{disableEnforceFocus:k,disableAutoFocus:S,disableRestoreFocus:M,isEnabled:ue,open:A,children:b.cloneElement(f,de)})]})})}),EG=W_("MuiBox",["root"]),SG=wA(),CA=YH({themeId:Y_,defaultTheme:SG,defaultClassName:EG.root,generateClassName:uA.generate});var n0,iT;function CG(){if(iT)return n0;iT=1;var t=!1,e,n,r,i,o,l,c,d,f,m,g,y,C,S,k;function P(){if(!t){t=!0;var M=navigator.userAgent,O=/(?:MSIE.(\d+\.\d+))|(?:(?:Firefox|GranParadiso|Iceweasel).(\d+\.\d+))|(?:Opera(?:.+Version.|.)(\d+\.\d+))|(?:AppleWebKit.(\d+(?:\.\d+)?))|(?:Trident\/\d+\.\d+.*rv:(\d+\.\d+))/.exec(M),U=/(Mac OS X)|(Windows)|(Linux)/.exec(M);if(y=/\b(iPhone|iP[ao]d)/.exec(M),C=/\b(iP[ao]d)/.exec(M),m=/Android/i.exec(M),S=/FBAN\/\w+;/i.exec(M),k=/Mobile/i.exec(M),g=!!/Win64/.exec(M),O){e=O[1]?parseFloat(O[1]):O[5]?parseFloat(O[5]):NaN,e&&document&&document.documentMode&&(e=document.documentMode);var B=/(?:Trident\/(\d+.\d+))/.exec(M);l=B?parseFloat(B[1])+4:e,n=O[2]?parseFloat(O[2]):NaN,r=O[3]?parseFloat(O[3]):NaN,i=O[4]?parseFloat(O[4]):NaN,i?(O=/(?:Chrome\/(\d+\.\d+))/.exec(M),o=O&&O[1]?parseFloat(O[1]):NaN):o=NaN}else e=n=r=o=i=NaN;if(U){if(U[1]){var H=/(?:Mac OS X (\d+(?:[._]\d+)?))/.exec(M);c=H?parseFloat(H[1].replace("_",".")):!0}else c=!1;d=!!U[2],f=!!U[3]}else c=d=f=!1}}var N={ie:function(){return P()||e},ieCompatibilityMode:function(){return P()||l>e},ie64:function(){return N.ie()&&g},firefox:function(){return P()||n},opera:function(){return P()||r},webkit:function(){return P()||i},safari:function(){return N.webkit()},chrome:function(){return P()||o},windows:function(){return P()||d},osx:function(){return P()||c},linux:function(){return P()||f},iphone:function(){return P()||y},mobile:function(){return P()||y||C||m||k},nativeApp:function(){return P()||S},android:function(){return P()||m},ipad:function(){return P()||C}};return n0=N,n0}var r0,sT;function TG(){if(sT)return r0;sT=1;var t=!!(typeof window<"u"&&window.document&&window.document.createElement),e={canUseDOM:t,canUseWorkers:typeof Worker<"u",canUseEventListeners:t&&!!(window.addEventListener||window.attachEvent),canUseViewport:t&&!!window.screen,isInWorker:!t};return r0=e,r0}var i0,oT;function kG(){if(oT)return i0;oT=1;var t=TG(),e;t.canUseDOM&&(e=document.implementation&&document.implementation.hasFeature&&document.implementation.hasFeature("","")!==!0);/**
 * Checks if an event is supported in the current execution environment.
 *
 * NOTE: This will not work correctly for non-generic events such as `change`,
 * `reset`, `load`, `error`, and `select`.
 *
 * Borrows from Modernizr.
 *
 * @param {string} eventNameSuffix Event name, e.g. "click".
 * @param {?boolean} capture Check if the capture phase is supported.
 * @return {boolean} True if the event is supported.
 * @internal
 * @license Modernizr 3.0.0pre (Custom Build) | MIT
 */function n(r,i){if(!t.canUseDOM||i&&!("addEventListener"in document))return!1;var o="on"+r,l=o in document;if(!l){var c=document.createElement("div");c.setAttribute(o,"return;"),l=typeof c[o]=="function"}return!l&&e&&r==="wheel"&&(l=document.implementation.hasFeature("Events.wheel","3.0")),l}return i0=n,i0}var s0,aT;function IG(){if(aT)return s0;aT=1;var t=CG(),e=kG(),n=10,r=40,i=800;function o(l){var c=0,d=0,f=0,m=0;return"detail"in l&&(d=l.detail),"wheelDelta"in l&&(d=-l.wheelDelta/120),"wheelDeltaY"in l&&(d=-l.wheelDeltaY/120),"wheelDeltaX"in l&&(c=-l.wheelDeltaX/120),"axis"in l&&l.axis===l.HORIZONTAL_AXIS&&(c=d,d=0),f=c*n,m=d*n,"deltaY"in l&&(m=l.deltaY),"deltaX"in l&&(f=l.deltaX),(f||m)&&l.deltaMode&&(l.deltaMode==1?(f*=r,m*=r):(f*=i,m*=i)),f&&!c&&(c=f<1?-1:1),m&&!d&&(d=m<1?-1:1),{spinX:c,spinY:d,pixelX:f,pixelY:m}}return o.getEventType=function(){return t.firefox()?"DOMMouseScroll":e("wheel")?"wheel":"mousewheel"},s0=o,s0}var o0,lT;function PG(){return lT||(lT=1,o0=IG()),o0}var RG=PG();const AG=jp(RG);function NG(t,e,n,r,i,o){o===void 0&&(o=0);var l=Xl(t,e,o),c=l.width,d=l.height,f=Math.min(c,n),m=Math.min(d,r);return f>m*i?{width:m*i,height:m}:{width:f,height:f/i}}function OG(t){return t.width>t.height?t.width/t.naturalWidth:t.height/t.naturalHeight}function vu(t,e,n,r,i){i===void 0&&(i=0);var o=Xl(e.width,e.height,i),l=o.width,c=o.height;return{x:cT(t.x,l,n.width,r),y:cT(t.y,c,n.height,r)}}function cT(t,e,n,r){var i=e*r/2-n/2;return Em(t,-i,i)}function uT(t,e){return Math.sqrt(Math.pow(t.y-e.y,2)+Math.pow(t.x-e.x,2))}function dT(t,e){return Math.atan2(e.y-t.y,e.x-t.x)*180/Math.PI}function DG(t,e,n,r,i,o,l){o===void 0&&(o=0),l===void 0&&(l=!0);var c=l?MG:LG,d=Xl(e.width,e.height,o),f=Xl(e.naturalWidth,e.naturalHeight,o),m={x:c(100,((d.width-n.width/i)/2-t.x/i)/d.width*100),y:c(100,((d.height-n.height/i)/2-t.y/i)/d.height*100),width:c(100,n.width/d.width*100/i),height:c(100,n.height/d.height*100/i)},g=Math.round(c(f.width,m.width*f.width/100)),y=Math.round(c(f.height,m.height*f.height/100)),C=f.width>=f.height*r,S=C?{width:Math.round(y*r),height:y}:{width:g,height:Math.round(g/r)},k=qt(qt({},S),{x:Math.round(c(f.width-S.width,m.x*f.width/100)),y:Math.round(c(f.height-S.height,m.y*f.height/100))});return{croppedAreaPercentages:m,croppedAreaPixels:k}}function MG(t,e){return Math.min(t,Math.max(0,e))}function LG(t,e){return e}function jG(t,e,n,r,i,o){var l=Xl(e.width,e.height,n),c=Em(r.width/l.width*(100/t.width),i,o),d={x:c*l.width/2-r.width/2-l.width*c*(t.x/100),y:c*l.height/2-r.height/2-l.height*c*(t.y/100)};return{crop:d,zoom:c}}function FG(t,e,n){var r=OG(e);return n.height>n.width?n.height/(t.height*r):n.width/(t.width*r)}function $G(t,e,n,r,i,o){n===void 0&&(n=0);var l=Xl(e.naturalWidth,e.naturalHeight,n),c=Em(FG(t,e,r),i,o),d=r.height>r.width?r.height/t.height:r.width/t.width,f={x:((l.width-t.width)/2-t.x)*d,y:((l.height-t.height)/2-t.y)*d};return{crop:f,zoom:c}}function hT(t,e){return{x:(e.x+t.x)/2,y:(e.y+t.y)/2}}function UG(t){return t*Math.PI/180}function Xl(t,e,n){var r=UG(n);return{width:Math.abs(Math.cos(r)*t)+Math.abs(Math.sin(r)*e),height:Math.abs(Math.sin(r)*t)+Math.abs(Math.cos(r)*e)}}function Em(t,e,n){return Math.min(Math.max(t,e),n)}function Af(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return t.filter(function(n){return typeof n=="string"&&n.length>0}).join(" ").trim()}var VG=`.reactEasyCrop_Container {
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  overflow: hidden;
  user-select: none;
  touch-action: none;
  cursor: move;
  display: flex;
  justify-content: center;
  align-items: center;
}

.reactEasyCrop_Image,
.reactEasyCrop_Video {
  will-change: transform; /* this improves performances and prevent painting issues on iOS Chrome */
}

.reactEasyCrop_Contain {
  max-width: 100%;
  max-height: 100%;
  margin: auto;
  position: absolute;
  top: 0;
  bottom: 0;
  left: 0;
  right: 0;
}
.reactEasyCrop_Cover_Horizontal {
  width: 100%;
  height: auto;
}
.reactEasyCrop_Cover_Vertical {
  width: auto;
  height: 100%;
}

.reactEasyCrop_CropArea {
  position: absolute;
  left: 50%;
  top: 50%;
  transform: translate(-50%, -50%);
  border: 1px solid rgba(255, 255, 255, 0.5);
  box-sizing: border-box;
  box-shadow: 0 0 0 9999em;
  color: rgba(0, 0, 0, 0.5);
  overflow: hidden;
}

.reactEasyCrop_CropAreaRound {
  border-radius: 50%;
}

.reactEasyCrop_CropAreaGrid::before {
  content: ' ';
  box-sizing: border-box;
  position: absolute;
  border: 1px solid rgba(255, 255, 255, 0.5);
  top: 0;
  bottom: 0;
  left: 33.33%;
  right: 33.33%;
  border-top: 0;
  border-bottom: 0;
}

.reactEasyCrop_CropAreaGrid::after {
  content: ' ';
  box-sizing: border-box;
  position: absolute;
  border: 1px solid rgba(255, 255, 255, 0.5);
  top: 33.33%;
  bottom: 33.33%;
  left: 0;
  right: 0;
  border-left: 0;
  border-right: 0;
}
`,BG=1,zG=3,WG=1,HG=function(t){GM(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.cropperRef=b.createRef(),n.imageRef=b.createRef(),n.videoRef=b.createRef(),n.containerPosition={x:0,y:0},n.containerRef=null,n.styleRef=null,n.containerRect=null,n.mediaSize={width:0,height:0,naturalWidth:0,naturalHeight:0},n.dragStartPosition={x:0,y:0},n.dragStartCrop={x:0,y:0},n.gestureZoomStart=0,n.gestureRotationStart=0,n.isTouching=!1,n.lastPinchDistance=0,n.lastPinchRotation=0,n.rafDragTimeout=null,n.rafPinchTimeout=null,n.wheelTimer=null,n.currentDoc=typeof document<"u"?document:null,n.currentWindow=typeof window<"u"?window:null,n.resizeObserver=null,n.state={cropSize:null,hasWheelJustStarted:!1,mediaObjectFit:void 0},n.initResizeObserver=function(){if(!(typeof window.ResizeObserver>"u"||!n.containerRef)){var r=!0;n.resizeObserver=new window.ResizeObserver(function(i){if(r){r=!1;return}n.computeSizes()}),n.resizeObserver.observe(n.containerRef)}},n.preventZoomSafari=function(r){return r.preventDefault()},n.cleanEvents=function(){n.currentDoc&&(n.currentDoc.removeEventListener("mousemove",n.onMouseMove),n.currentDoc.removeEventListener("mouseup",n.onDragStopped),n.currentDoc.removeEventListener("touchmove",n.onTouchMove),n.currentDoc.removeEventListener("touchend",n.onDragStopped),n.currentDoc.removeEventListener("gesturemove",n.onGestureMove),n.currentDoc.removeEventListener("gestureend",n.onGestureEnd),n.currentDoc.removeEventListener("scroll",n.onScroll))},n.clearScrollEvent=function(){n.containerRef&&n.containerRef.removeEventListener("wheel",n.onWheel),n.wheelTimer&&clearTimeout(n.wheelTimer)},n.onMediaLoad=function(){var r=n.computeSizes();r&&(n.emitCropData(),n.setInitialCrop(r)),n.props.onMediaLoaded&&n.props.onMediaLoaded(n.mediaSize)},n.setInitialCrop=function(r){if(n.props.initialCroppedAreaPercentages){var i=jG(n.props.initialCroppedAreaPercentages,n.mediaSize,n.props.rotation,r,n.props.minZoom,n.props.maxZoom),o=i.crop,l=i.zoom;n.props.onCropChange(o),n.props.onZoomChange&&n.props.onZoomChange(l)}else if(n.props.initialCroppedAreaPixels){var c=$G(n.props.initialCroppedAreaPixels,n.mediaSize,n.props.rotation,r,n.props.minZoom,n.props.maxZoom),o=c.crop,l=c.zoom;n.props.onCropChange(o),n.props.onZoomChange&&n.props.onZoomChange(l)}},n.computeSizes=function(){var r,i,o,l,c,d,f=n.imageRef.current||n.videoRef.current;if(f&&n.containerRef){n.containerRect=n.containerRef.getBoundingClientRect(),n.saveContainerPosition();var m=n.containerRect.width/n.containerRect.height,g=((r=n.imageRef.current)===null||r===void 0?void 0:r.naturalWidth)||((i=n.videoRef.current)===null||i===void 0?void 0:i.videoWidth)||0,y=((o=n.imageRef.current)===null||o===void 0?void 0:o.naturalHeight)||((l=n.videoRef.current)===null||l===void 0?void 0:l.videoHeight)||0,C=f.offsetWidth<g||f.offsetHeight<y,S=g/y,k=void 0;if(C)switch(n.state.mediaObjectFit){default:case"contain":k=m>S?{width:n.containerRect.height*S,height:n.containerRect.height}:{width:n.containerRect.width,height:n.containerRect.width/S};break;case"horizontal-cover":k={width:n.containerRect.width,height:n.containerRect.width/S};break;case"vertical-cover":k={width:n.containerRect.height*S,height:n.containerRect.height};break}else k={width:f.offsetWidth,height:f.offsetHeight};n.mediaSize=qt(qt({},k),{naturalWidth:g,naturalHeight:y}),n.props.setMediaSize&&n.props.setMediaSize(n.mediaSize);var P=n.props.cropSize?n.props.cropSize:NG(n.mediaSize.width,n.mediaSize.height,n.containerRect.width,n.containerRect.height,n.props.aspect,n.props.rotation);return(((c=n.state.cropSize)===null||c===void 0?void 0:c.height)!==P.height||((d=n.state.cropSize)===null||d===void 0?void 0:d.width)!==P.width)&&n.props.onCropSizeChange&&n.props.onCropSizeChange(P),n.setState({cropSize:P},n.recomputeCropPosition),n.props.setCropSize&&n.props.setCropSize(P),P}},n.saveContainerPosition=function(){if(n.containerRef){var r=n.containerRef.getBoundingClientRect();n.containerPosition={x:r.left,y:r.top}}},n.onMouseDown=function(r){n.currentDoc&&(r.preventDefault(),n.currentDoc.addEventListener("mousemove",n.onMouseMove),n.currentDoc.addEventListener("mouseup",n.onDragStopped),n.saveContainerPosition(),n.onDragStart(e.getMousePoint(r)))},n.onMouseMove=function(r){return n.onDrag(e.getMousePoint(r))},n.onScroll=function(r){n.currentDoc&&(r.preventDefault(),n.saveContainerPosition())},n.onTouchStart=function(r){n.currentDoc&&(n.isTouching=!0,!(n.props.onTouchRequest&&!n.props.onTouchRequest(r))&&(n.currentDoc.addEventListener("touchmove",n.onTouchMove,{passive:!1}),n.currentDoc.addEventListener("touchend",n.onDragStopped),n.saveContainerPosition(),r.touches.length===2?n.onPinchStart(r):r.touches.length===1&&n.onDragStart(e.getTouchPoint(r.touches[0]))))},n.onTouchMove=function(r){r.preventDefault(),r.touches.length===2?n.onPinchMove(r):r.touches.length===1&&n.onDrag(e.getTouchPoint(r.touches[0]))},n.onGestureStart=function(r){n.currentDoc&&(r.preventDefault(),n.currentDoc.addEventListener("gesturechange",n.onGestureMove),n.currentDoc.addEventListener("gestureend",n.onGestureEnd),n.gestureZoomStart=n.props.zoom,n.gestureRotationStart=n.props.rotation)},n.onGestureMove=function(r){if(r.preventDefault(),!n.isTouching){var i=e.getMousePoint(r),o=n.gestureZoomStart-1+r.scale;if(n.setNewZoom(o,i,{shouldUpdatePosition:!0}),n.props.onRotationChange){var l=n.gestureRotationStart+r.rotation;n.props.onRotationChange(l)}}},n.onGestureEnd=function(r){n.cleanEvents()},n.onDragStart=function(r){var i,o,l=r.x,c=r.y;n.dragStartPosition={x:l,y:c},n.dragStartCrop=qt({},n.props.crop),(o=(i=n.props).onInteractionStart)===null||o===void 0||o.call(i)},n.onDrag=function(r){var i=r.x,o=r.y;n.currentWindow&&(n.rafDragTimeout&&n.currentWindow.cancelAnimationFrame(n.rafDragTimeout),n.rafDragTimeout=n.currentWindow.requestAnimationFrame(function(){if(n.state.cropSize&&!(i===void 0||o===void 0)){var l=i-n.dragStartPosition.x,c=o-n.dragStartPosition.y,d={x:n.dragStartCrop.x+l,y:n.dragStartCrop.y+c},f=n.props.restrictPosition?vu(d,n.mediaSize,n.state.cropSize,n.props.zoom,n.props.rotation):d;n.props.onCropChange(f)}}))},n.onDragStopped=function(){var r,i;n.isTouching=!1,n.cleanEvents(),n.emitCropData(),(i=(r=n.props).onInteractionEnd)===null||i===void 0||i.call(r)},n.onWheel=function(r){if(n.currentWindow&&!(n.props.onWheelRequest&&!n.props.onWheelRequest(r))){r.preventDefault();var i=e.getMousePoint(r),o=AG(r).pixelY,l=n.props.zoom-o*n.props.zoomSpeed/200;n.setNewZoom(l,i,{shouldUpdatePosition:!0}),n.state.hasWheelJustStarted||n.setState({hasWheelJustStarted:!0},function(){var c,d;return(d=(c=n.props).onInteractionStart)===null||d===void 0?void 0:d.call(c)}),n.wheelTimer&&clearTimeout(n.wheelTimer),n.wheelTimer=n.currentWindow.setTimeout(function(){return n.setState({hasWheelJustStarted:!1},function(){var c,d;return(d=(c=n.props).onInteractionEnd)===null||d===void 0?void 0:d.call(c)})},250)}},n.getPointOnContainer=function(r,i){var o=r.x,l=r.y;if(!n.containerRect)throw new Error("The Cropper is not mounted");return{x:n.containerRect.width/2-(o-i.x),y:n.containerRect.height/2-(l-i.y)}},n.getPointOnMedia=function(r){var i=r.x,o=r.y,l=n.props,c=l.crop,d=l.zoom;return{x:(i+c.x)/d,y:(o+c.y)/d}},n.setNewZoom=function(r,i,o){var l=o===void 0?{}:o,c=l.shouldUpdatePosition,d=c===void 0?!0:c;if(!(!n.state.cropSize||!n.props.onZoomChange)){var f=Em(r,n.props.minZoom,n.props.maxZoom);if(d){var m=n.getPointOnContainer(i,n.containerPosition),g=n.getPointOnMedia(m),y={x:g.x*f-m.x,y:g.y*f-m.y},C=n.props.restrictPosition?vu(y,n.mediaSize,n.state.cropSize,f,n.props.rotation):y;n.props.onCropChange(C)}n.props.onZoomChange(f)}},n.getCropData=function(){if(!n.state.cropSize)return null;var r=n.props.restrictPosition?vu(n.props.crop,n.mediaSize,n.state.cropSize,n.props.zoom,n.props.rotation):n.props.crop;return DG(r,n.mediaSize,n.state.cropSize,n.getAspect(),n.props.zoom,n.props.rotation,n.props.restrictPosition)},n.emitCropData=function(){var r=n.getCropData();if(r){var i=r.croppedAreaPercentages,o=r.croppedAreaPixels;n.props.onCropComplete&&n.props.onCropComplete(i,o),n.props.onCropAreaChange&&n.props.onCropAreaChange(i,o)}},n.emitCropAreaChange=function(){var r=n.getCropData();if(r){var i=r.croppedAreaPercentages,o=r.croppedAreaPixels;n.props.onCropAreaChange&&n.props.onCropAreaChange(i,o)}},n.recomputeCropPosition=function(){if(n.state.cropSize){var r=n.props.restrictPosition?vu(n.props.crop,n.mediaSize,n.state.cropSize,n.props.zoom,n.props.rotation):n.props.crop;n.props.onCropChange(r),n.emitCropData()}},n.onKeyDown=function(r){var i,o,l=n.props,c=l.crop,d=l.onCropChange,f=l.keyboardStep,m=l.zoom,g=l.rotation,y=f;if(n.state.cropSize){r.shiftKey&&(y*=.2);var C=qt({},c);switch(r.key){case"ArrowUp":C.y-=y,r.preventDefault();break;case"ArrowDown":C.y+=y,r.preventDefault();break;case"ArrowLeft":C.x-=y,r.preventDefault();break;case"ArrowRight":C.x+=y,r.preventDefault();break;default:return}n.props.restrictPosition&&(C=vu(C,n.mediaSize,n.state.cropSize,m,g)),r.repeat||(o=(i=n.props).onInteractionStart)===null||o===void 0||o.call(i),d(C)}},n.onKeyUp=function(r){var i,o;switch(r.key){case"ArrowUp":case"ArrowDown":case"ArrowLeft":case"ArrowRight":r.preventDefault();break;default:return}n.emitCropData(),(o=(i=n.props).onInteractionEnd)===null||o===void 0||o.call(i)},n}return e.prototype.componentDidMount=function(){!this.currentDoc||!this.currentWindow||(this.containerRef&&(this.containerRef.ownerDocument&&(this.currentDoc=this.containerRef.ownerDocument),this.currentDoc.defaultView&&(this.currentWindow=this.currentDoc.defaultView),this.initResizeObserver(),typeof window.ResizeObserver>"u"&&this.currentWindow.addEventListener("resize",this.computeSizes),this.props.zoomWithScroll&&this.containerRef.addEventListener("wheel",this.onWheel,{passive:!1}),this.containerRef.addEventListener("gesturestart",this.onGestureStart)),this.currentDoc.addEventListener("scroll",this.onScroll),this.props.disableAutomaticStylesInjection||(this.styleRef=this.currentDoc.createElement("style"),this.styleRef.setAttribute("type","text/css"),this.props.nonce&&this.styleRef.setAttribute("nonce",this.props.nonce),this.styleRef.innerHTML=VG,this.currentDoc.head.appendChild(this.styleRef)),this.imageRef.current&&this.imageRef.current.complete&&this.onMediaLoad(),this.props.setImageRef&&this.props.setImageRef(this.imageRef),this.props.setVideoRef&&this.props.setVideoRef(this.videoRef),this.props.setCropperRef&&this.props.setCropperRef(this.cropperRef))},e.prototype.componentWillUnmount=function(){var n,r;!this.currentDoc||!this.currentWindow||(typeof window.ResizeObserver>"u"&&this.currentWindow.removeEventListener("resize",this.computeSizes),(n=this.resizeObserver)===null||n===void 0||n.disconnect(),this.containerRef&&this.containerRef.removeEventListener("gesturestart",this.preventZoomSafari),this.styleRef&&((r=this.styleRef.parentNode)===null||r===void 0||r.removeChild(this.styleRef)),this.cleanEvents(),this.props.zoomWithScroll&&this.clearScrollEvent())},e.prototype.componentDidUpdate=function(n){var r,i,o,l,c,d,f,m,g;n.rotation!==this.props.rotation?(this.computeSizes(),this.recomputeCropPosition()):n.aspect!==this.props.aspect?this.computeSizes():n.objectFit!==this.props.objectFit?this.computeSizes():n.zoom!==this.props.zoom?this.recomputeCropPosition():((r=n.cropSize)===null||r===void 0?void 0:r.height)!==((i=this.props.cropSize)===null||i===void 0?void 0:i.height)||((o=n.cropSize)===null||o===void 0?void 0:o.width)!==((l=this.props.cropSize)===null||l===void 0?void 0:l.width)?this.computeSizes():(((c=n.crop)===null||c===void 0?void 0:c.x)!==((d=this.props.crop)===null||d===void 0?void 0:d.x)||((f=n.crop)===null||f===void 0?void 0:f.y)!==((m=this.props.crop)===null||m===void 0?void 0:m.y))&&this.emitCropAreaChange(),n.zoomWithScroll!==this.props.zoomWithScroll&&this.containerRef&&(this.props.zoomWithScroll?this.containerRef.addEventListener("wheel",this.onWheel,{passive:!1}):this.clearScrollEvent()),n.video!==this.props.video&&((g=this.videoRef.current)===null||g===void 0||g.load());var y=this.getObjectFit();y!==this.state.mediaObjectFit&&this.setState({mediaObjectFit:y},this.computeSizes)},e.prototype.getAspect=function(){var n=this.props,r=n.cropSize,i=n.aspect;return r?r.width/r.height:i},e.prototype.getObjectFit=function(){var n,r,i,o;if(this.props.objectFit==="cover"){var l=this.imageRef.current||this.videoRef.current;if(l&&this.containerRef){this.containerRect=this.containerRef.getBoundingClientRect();var c=this.containerRect.width/this.containerRect.height,d=((n=this.imageRef.current)===null||n===void 0?void 0:n.naturalWidth)||((r=this.videoRef.current)===null||r===void 0?void 0:r.videoWidth)||0,f=((i=this.imageRef.current)===null||i===void 0?void 0:i.naturalHeight)||((o=this.videoRef.current)===null||o===void 0?void 0:o.videoHeight)||0,m=d/f;return m<c?"horizontal-cover":"vertical-cover"}return"horizontal-cover"}return this.props.objectFit},e.prototype.onPinchStart=function(n){var r=e.getTouchPoint(n.touches[0]),i=e.getTouchPoint(n.touches[1]);this.lastPinchDistance=uT(r,i),this.lastPinchRotation=dT(r,i),this.onDragStart(hT(r,i))},e.prototype.onPinchMove=function(n){var r=this;if(!(!this.currentDoc||!this.currentWindow)){var i=e.getTouchPoint(n.touches[0]),o=e.getTouchPoint(n.touches[1]),l=hT(i,o);this.onDrag(l),this.rafPinchTimeout&&this.currentWindow.cancelAnimationFrame(this.rafPinchTimeout),this.rafPinchTimeout=this.currentWindow.requestAnimationFrame(function(){var c=uT(i,o),d=r.props.zoom*(c/r.lastPinchDistance);r.setNewZoom(d,l,{shouldUpdatePosition:!1}),r.lastPinchDistance=c;var f=dT(i,o),m=r.props.rotation+(f-r.lastPinchRotation);r.props.onRotationChange&&r.props.onRotationChange(m),r.lastPinchRotation=f})}},e.prototype.render=function(){var n=this,r,i=this.props,o=i.image,l=i.video,c=i.mediaProps,d=i.cropperProps,f=i.transform,m=i.crop,g=m.x,y=m.y,C=i.rotation,S=i.zoom,k=i.cropShape,P=i.showGrid,N=i.style,M=N.containerStyle,O=N.cropAreaStyle,U=N.mediaStyle,B=i.classes,H=B.containerClassName,D=B.cropAreaClassName,I=B.mediaClassName,A=(r=this.state.mediaObjectFit)!==null&&r!==void 0?r:this.getObjectFit();return b.createElement("div",{onMouseDown:this.onMouseDown,onTouchStart:this.onTouchStart,ref:function(L){return n.containerRef=L},"data-testid":"container",style:M,className:Af("reactEasyCrop_Container",H)},o?b.createElement("img",qt({alt:"",className:Af("reactEasyCrop_Image",A==="contain"&&"reactEasyCrop_Contain",A==="horizontal-cover"&&"reactEasyCrop_Cover_Horizontal",A==="vertical-cover"&&"reactEasyCrop_Cover_Vertical",I)},c,{src:o,ref:this.imageRef,style:qt(qt({},U),{transform:f||"translate(".concat(g,"px, ").concat(y,"px) rotate(").concat(C,"deg) scale(").concat(S,")")}),onLoad:this.onMediaLoad})):l&&b.createElement("video",qt({autoPlay:!0,playsInline:!0,loop:!0,muted:!0,className:Af("reactEasyCrop_Video",A==="contain"&&"reactEasyCrop_Contain",A==="horizontal-cover"&&"reactEasyCrop_Cover_Horizontal",A==="vertical-cover"&&"reactEasyCrop_Cover_Vertical",I)},c,{ref:this.videoRef,onLoadedMetadata:this.onMediaLoad,style:qt(qt({},U),{transform:f||"translate(".concat(g,"px, ").concat(y,"px) rotate(").concat(C,"deg) scale(").concat(S,")")}),controls:!1}),(Array.isArray(l)?l:[{src:l}]).map(function(E){return b.createElement("source",qt({key:E.src},E))})),this.state.cropSize&&b.createElement("div",qt({ref:this.cropperRef,style:qt(qt({},O),{width:this.state.cropSize.width,height:this.state.cropSize.height}),tabIndex:0,onKeyDown:this.onKeyDown,onKeyUp:this.onKeyUp,"data-testid":"cropper",className:Af("reactEasyCrop_CropArea",k==="round"&&"reactEasyCrop_CropAreaRound",P&&"reactEasyCrop_CropAreaGrid",D)},d)))},e.defaultProps={zoom:1,rotation:0,aspect:4/3,maxZoom:zG,minZoom:BG,cropShape:"rect",objectFit:"contain",showGrid:!0,style:{},classes:{},mediaProps:{},cropperProps:{},zoomSpeed:1,restrictPosition:!0,zoomWithScroll:!0,keyboardStep:WG},e.getMousePoint=function(n){return{x:Number(n.clientX),y:Number(n.clientY)}},e.getTouchPoint=function(n){return{x:Number(n.clientX),y:Number(n.clientY)}},e}(b.Component);const qG=t=>new Promise((e,n)=>{const r=new Image;r.addEventListener("load",()=>e(r)),r.addEventListener("error",i=>n(i)),r.setAttribute("crossOrigin","anonymous"),r.src=t});async function GG(t,e){const n=await qG(t),r=document.createElement("canvas"),i=r.getContext("2d");return r.width=e.width,r.height=e.height,i.drawImage(n,e.x,e.y,e.width,e.height,0,0,e.width,e.height),r}function KG({open:t,onClose:e,usuario:n,onUploadSuccess:r}){const[i,o]=b.useState(null),[l,c]=b.useState({x:0,y:0}),[d,f]=b.useState(1),[m,g]=b.useState(null),[y,C]=b.useState(!1),S=b.useCallback((N,M)=>{g(M)},[]),k=N=>{if(N.target.files&&N.target.files.length>0){const M=N.target.files[0],O=new FileReader;O.onload=()=>{o(O.result)},O.readAsDataURL(M)}},P=async()=>{C(!0);const M=(await GG(i,m)).toDataURL("image/jpeg");localStorage.setItem(`fotoPerfil_${n.uid}`,M),r(M),C(!1),e()};return w.jsx(SA,{open:t,onClose:e,children:w.jsxs(CA,{className:"bg-white rounded-lg p-4 shadow-lg w-full max-w-md mx-auto mt-32 max-h-[90vh] overflow-hidden",children:[w.jsx("h2",{className:"text-lg font-bold mb-4 text-center",children:"Editar Foto de Perfil"}),i?w.jsx("div",{className:"relative w-full h-[300px] bg-black",children:w.jsx(HG,{image:i,crop:l,zoom:d,aspect:1,onCropChange:c,onZoomChange:f,onCropComplete:S})}):w.jsx("input",{type:"file",accept:"image/*",onChange:k}),w.jsxs("div",{className:"flex justify-end mt-4 gap-2",children:[w.jsx("button",{onClick:e,className:"px-4 py-2 bg-gray-300 rounded hover:bg-gray-400",children:"Cancelar"}),i&&w.jsx("button",{onClick:P,disabled:y,className:"px-4 py-2 bg-green-600 text-white rounded hover:bg-green-700",children:y?"Subiendo...":"Guardar"})]})]})})}function YG(){const{user:t}=Jr(),[e,n]=b.useState(null),[r,i]=b.useState(!1),[o,l]=b.useState(""),[c,d]=b.useState(""),[f,m]=b.useState(!1),[g,y]=b.useState(!1),[C,S]=b.useState(!1),k=xr(),P=(U,B)=>(U?.charAt(0).toUpperCase()||"")+(B?.charAt(0).toUpperCase()||"");b.useEffect(()=>{if(t){const U=be(Ce,`usuarios/${t.uid}`);Zi(U).then(async B=>{const H=t.displayName||"",D=H.split(" ")[0]||"",I=H.split(" ")[1]||"",A=t.photoURL||null,L=localStorage.getItem(`fotoPerfil_${t.uid}`)||A||B.exists()&&B.val().foto||null,$={nombre:D,apellido:I,correo:t.email,rol:"usuario",iniciales:P(D,I),foto:L},F=!D||!I;if(m(F),i(F),l(D),d(I),!B.exists())await St(U,$),n($);else{const re=B.val(),he={};re.nombre||(he.nombre=D),re.apellido||(he.apellido=I),!re.foto&&L&&(he.foto=L),Object.keys(he).length>0?(await oo(U,he),n({...re,...he,foto:L})):n({...re,foto:L}),l(re.nombre||D),d(re.apellido||I)}})}},[t]);const N=async()=>{if(!t)return;const U=be(Ce,`usuarios/${t.uid}`),B={nombre:o,apellido:c,iniciales:P(o,c)};await oo(U,B),i(!1),m(!1),alert("Datos actualizados correctamente")},M=async()=>{await sk(Gs),k("/login")},O=U=>{n(B=>({...B,foto:U}))};return e?w.jsxs("div",{className:"min-h-screen bg-cover bg-center text-white font-qatar",style:{backgroundImage:"url('/EmproChampions-2025/img/fondoempro-horizontal.png')"},children:[w.jsx(tr,{}),w.jsx("div",{className:"flex items-center justify-center px-4 py-10",children:w.jsxs("div",{className:"bg-white/90 rounded-2xl shadow-lg p-8 w-full max-w-md text-center text-black",children:[w.jsx("h1",{className:"text-3xl font-bold text-[#7a0026] mb-6",children:"Configuracin de Cuenta"}),f&&w.jsx("div",{className:"mb-4 text-red-700 font-semibold",children:"Tu cuenta no tiene nombre ni foto. Por favor completa tu perfil "}),w.jsxs("div",{className:"mb-4 relative w-24 h-24 mx-auto",children:[e.foto?w.jsx("img",{src:e.foto,alt:"Foto de perfil",className:"w-24 h-24 rounded-full object-cover"}):w.jsx("div",{className:"w-24 h-24 rounded-full bg-[#7a0026] text-white text-3xl flex items-center justify-center",children:P(o,c)||"U"}),w.jsx("button",{type:"button",onClick:()=>S(!0),className:"absolute bottom-0 right-0 bg-yellow-400 text-black rounded-full p-1 shadow-md hover:bg-yellow-500","aria-label":"Editar foto de perfil",children:""})]}),w.jsxs("div",{className:"space-y-4 text-left",children:[w.jsx("input",{type:"text",placeholder:"Nombre",value:o,onChange:U=>l(U.target.value),className:"w-full px-4 py-2 border border-[#7a0026] rounded-md",disabled:!r}),w.jsx("input",{type:"text",placeholder:"Apellido",value:c,onChange:U=>d(U.target.value),className:"w-full px-4 py-2 border border-[#7a0026] rounded-md",disabled:!r}),w.jsxs("p",{className:"text-gray-700 font-sans text-sm break-all",children:["Correo: ",e.correo]})]}),w.jsxs("div",{className:"mt-6",children:[r?w.jsx("button",{onClick:N,className:"w-full bg-[#FFD700] text-[#7a0026] font-bold py-2 rounded-md hover:bg-yellow-400 transition",children:"Guardar Cambios"}):w.jsx("button",{onClick:()=>i(!0),className:"w-full bg-blue-600 text-white font-bold py-2 rounded-md hover:bg-blue-700 transition",children:"Editar"}),w.jsx("button",{onClick:()=>y(!0),className:"mt-4 w-full bg-red-600 text-white font-bold py-2 rounded-md hover:bg-red-700 transition",children:"Cerrar sesin"})]})]})}),w.jsx(SA,{open:g,onClose:()=>y(!1),children:w.jsxs(CA,{sx:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:400,bgcolor:"background.paper",border:"2px solid #000",boxShadow:24,p:4,textAlign:"center"},children:[w.jsx("h2",{className:"text-xl font-bold mb-4 text-black",children:"Cerrar sesin?"}),w.jsxs("div",{className:"flex justify-center gap-4",children:[w.jsx("button",{className:"bg-gray-300 px-4 py-2 rounded hover:bg-gray-400",onClick:()=>y(!1),children:"Cancelar"}),w.jsx("button",{className:"bg-red-600 text-white px-4 py-2 rounded hover:bg-red-700",onClick:M,children:"Confirmar"})]})]})}),w.jsx(KG,{open:C,onClose:()=>S(!1),usuario:t,onUploadSuccess:O}),w.jsx(nr,{})]}):w.jsx("div",{className:"text-white text-center mt-10",children:"Cargando..."})}function XG(){const{partidoId:t}=Dv(),e=xr(),[n,r]=b.useState(null),[i,o]=b.useState([]),[l,c]=b.useState(!0),[d,f]=b.useState(!1);b.useEffect(()=>{if(!t){e("/");return}const y=be(Ce,`partidos/${t}`),C=Pt(y,S=>{if(S.exists()){const k=S.val();r(k);const P=k.eventos?.goles?Object.entries(k.eventos.goles).map(([N,M])=>({id:N,...M})):[];o(P)}else e("/historial");c(!1)});return()=>hd(y,"value",C)},[t,e]);const m=y=>{window.confirm("Ests seguro de que quieres eliminar este gol?")&&(o(C=>C.filter(S=>S.id!==y)),alert("Gol eliminado de la lista de edicin. Recuerda guardar los cambios para que sea permanente."))},g=b.useCallback(async()=>{if(!n?.alineacion?.equipo1||!n?.alineacion?.equipo2){alert("Error: Faltan datos de alineacin en este partido. No se pueden recalcular las estadsticas."),f(!1);return}if(!d){f(!0),alert("Procesando... Esto puede tardar unos segundos. Por favor, espera.");try{const y=n.alineacion.genero,C=n.alineacion.equipo1,S=n.alineacion.equipo2,k=(await Zi(be(Ce,`historial/${y}/${t}`))).val();let N=(await Zi(be(Ce,`tablas/${y}`))).val()||{};if(k){const{equipo1:I,equipo2:A,goles1:E,goles2:L}=k,$=(F,re,he,me)=>{if(!N[F])return;let fe={...N[F]};fe.pj-=1,fe.gf-=re,fe.gc-=he,me==="victoria"?(fe.pg-=1,fe.puntos-=3):me==="empate"?(fe.pe-=1,fe.puntos-=1):fe.pp-=1,N[F]=fe};E>L?($(I,E,L,"victoria"),$(A,L,E,"derrota")):L>E?($(I,E,L,"derrota"),$(A,L,E,"victoria")):($(I,E,L,"empate"),$(A,L,E,"empate"))}const M={equipo1:0,equipo2:0};i.forEach(I=>{I.equipo==="equipo1"&&M.equipo1++,I.equipo==="equipo2"&&M.equipo2++});const O=(I,A,E,L)=>{if(!I?.nombre)return;let $=N[I.nombre]||{pj:0,pg:0,pe:0,pp:0,gf:0,gc:0,puntos:0,logo:I.logo};$.pj=($.pj||0)+1,$.gf=($.gf||0)+A,$.gc=($.gc||0)+E,L==="victoria"?($.pg=($.pg||0)+1,$.puntos=($.puntos||0)+3):L==="empate"?($.pe=($.pe||0)+1,$.puntos=($.puntos||0)+1):$.pp=($.pp||0)+1,N[I.nombre]=$};M.equipo1>M.equipo2?(O(C,M.equipo1,M.equipo2,"victoria"),O(S,M.equipo2,M.equipo1,"derrota")):M.equipo2>M.equipo1?(O(C,M.equipo1,M.equipo2,"derrota"),O(S,M.equipo2,M.equipo1,"victoria")):(O(C,M.equipo1,M.equipo2,"empate"),O(S,M.equipo2,M.equipo1,"empate"));const U={},B=i.reduce((I,A)=>({...I,[A.id]:{equipo:A.equipo,jugador:A.jugador,minuto:A.minuto,tipo:A.tipo}}),{});U[`/partidos/${t}/eventos/goles`]=B,U[`/partidos/${t}/resultado/marcador`]=M,U[`/historial/${y}/${t}/goles1`]=M.equipo1,U[`/historial/${y}/${t}/goles2`]=M.equipo2,U[`/tablas/${y}`]=N;let D=(await Zi(be(Ce,`goleadoresDetalles/${y}`))).val()||{};Object.keys(D).forEach(I=>{D[I]=D[I].filter(A=>A.partidoId!==t),D[I].length===0&&delete D[I]}),i.forEach(I=>{const A=I.jugador.replace(/[.#$[\]]/g,"_");D[A]||(D[A]=[]),D[A].push({idDelGol:I.id,minuto:I.minuto,partidoId:t,partidoNombre:`${C.nombre} vs ${S.nombre}`,fecha:k?.fecha||new Date().toLocaleDateString("es-HN"),equipo:I.equipo==="equipo1"?C.nombre:S.nombre,logo:I.equipo==="equipo1"?C.logo:S.logo,jugador:I.jugador})}),U[`/goleadoresDetalles/${y}`]=D,await oo(be(Ce),U),alert("xito! Todas las tablas han sido recalculadas y actualizadas."),e("/historial")}catch(y){console.error("Error al guardar los cambios:",y),alert(`Hubo un error al guardar: ${y.message}`)}finally{f(!1)}}},[n,i,t,e,d]);return l?w.jsx("div",{className:"w-full min-h-screen bg-main-background text-white flex justify-center items-center",children:"Cargando datos..."}):w.jsxs("div",{className:"w-full min-h-screen bg-main-background text-white font-qatar flex flex-col",children:[w.jsx(tr,{}),w.jsxs("div",{className:"container mx-auto px-4 py-8 flex-grow",children:[w.jsx("h1",{className:"text-4xl md:text-5xl font-bold text-center text-yellow-400 drop-shadow-lg mb-2",children:"Editar Partido"}),w.jsxs("p",{className:"text-center text-gray-300 mb-8",children:[n.alineacion?.equipo1?.nombre||"Equipo 1"," vs ",n.alineacion?.equipo2?.nombre||"Equipo 2"]}),w.jsxs("div",{className:"max-w-2xl mx-auto bg-black/50 p-6 rounded-xl",children:[w.jsx("h2",{className:"text-2xl font-bold mb-4 text-yellow-300",children:"Eventos del Partido"}),w.jsx("div",{className:"space-y-3",children:i.length>0?i.map(y=>w.jsxs("div",{className:"flex items-center justify-between bg-gray-800/50 p-3 rounded-lg",children:[w.jsxs("div",{children:[w.jsxs("p",{className:"font-bold",children:[y.jugador," (Gol)"]}),w.jsxs("p",{className:"text-sm opacity-70",children:["Minuto: ",y.minuto]})]}),w.jsx("button",{onClick:()=>m(y.id),className:"bg-red-600 hover:bg-red-500 text-white font-bold py-1 px-3 rounded text-sm",children:"Eliminar"})]},y.id)):w.jsx("p",{children:"No hay goles para editar."})}),w.jsxs("div",{className:"mt-8 pt-6 border-t border-yellow-400/20 flex justify-between items-center",children:[w.jsx("button",{onClick:()=>e("/historial"),className:"bg-gray-500 hover:bg-gray-400 text-white font-bold py-2 px-6 rounded",children:"Cancelar"}),w.jsx("button",{onClick:g,disabled:d,className:"bg-green-600 hover:bg-green-500 text-white font-bold py-2 px-6 rounded disabled:bg-gray-400",children:d?"Guardando...":"Guardar Cambios y Recalcular"})]})]})]}),w.jsx(nr,{})]})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JG="functions";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QG{constructor(e,n,r,i){this.app=e,this.auth=null,this.messaging=null,this.appCheck=null,this.serverAppAppCheckToken=null,fn(e)&&e.settings.appCheckToken&&(this.serverAppAppCheckToken=e.settings.appCheckToken),this.auth=n.getImmediate({optional:!0}),this.messaging=r.getImmediate({optional:!0}),this.auth||n.get().then(o=>this.auth=o,()=>{}),this.messaging||r.get().then(o=>this.messaging=o,()=>{}),this.appCheck||i?.get().then(o=>this.appCheck=o,()=>{})}async getAuthToken(){if(this.auth)try{const e=await this.auth.getToken();return e?.accessToken}catch{return}}async getMessagingToken(){if(!(!this.messaging||!("Notification"in self)||Notification.permission!=="granted"))try{return await this.messaging.getToken()}catch{return}}async getAppCheckToken(e){if(this.serverAppAppCheckToken)return this.serverAppAppCheckToken;if(this.appCheck){const n=e?await this.appCheck.getLimitedUseToken():await this.appCheck.getToken();return n.error?null:n.token}return null}async getContext(e){const n=await this.getAuthToken(),r=await this.getMessagingToken(),i=await this.getAppCheckToken(e);return{authToken:n,messagingToken:r,appCheckToken:i}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fT="us-central1";class ZG{constructor(e,n,r,i,o=fT,l=(...c)=>fetch(...c)){this.app=e,this.fetchImpl=l,this.emulatorOrigin=null,this.contextProvider=new QG(e,n,r,i),this.cancelAllRequests=new Promise(c=>{this.deleteService=()=>Promise.resolve(c())});try{const c=new URL(o);this.customDomain=c.origin+(c.pathname==="/"?"":c.pathname),this.region=fT}catch{this.customDomain=null,this.region=o}}_delete(){return this.deleteService()}_url(e){const n=this.app.options.projectId;return this.emulatorOrigin!==null?`${this.emulatorOrigin}/${n}/${this.region}/${e}`:this.customDomain!==null?`${this.customDomain}/${e}`:`https://${this.region}-${n}.cloudfunctions.net/${e}`}}const pT="@firebase/functions",mT="0.12.6";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eK="auth-internal",tK="app-check-internal",nK="messaging-internal";function rK(t){const e=(n,{instanceIdentifier:r})=>{const i=n.getProvider("app").getImmediate(),o=n.getProvider(eK),l=n.getProvider(nK),c=n.getProvider(tK);return new ZG(i,o,l,c,r)};er(new Un(JG,e,"PUBLIC").setMultipleInstances(!0)),Yt(pT,mT,t),Yt(pT,mT,"esm2017")}rK();var iK=Object.defineProperty,sK=(t,e,n)=>e in t?iK(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,a0=(t,e,n)=>(sK(t,typeof e!="symbol"?e+"":e,n),n);let oK=class{constructor(){a0(this,"current",this.detect()),a0(this,"handoffState","pending"),a0(this,"currentId",0)}set(e){this.current!==e&&(this.handoffState="pending",this.currentId=0,this.current=e)}reset(){this.set(this.detect())}nextId(){return++this.currentId}get isServer(){return this.current==="server"}get isClient(){return this.current==="client"}detect(){return typeof window>"u"||typeof document>"u"?"server":"client"}handoff(){this.handoffState==="pending"&&(this.handoffState="complete")}get isHandoffComplete(){return this.handoffState==="complete"}},aa=new oK;function Sm(t){var e,n;return aa.isServer?null:t?"ownerDocument"in t?t.ownerDocument:"current"in t?(n=(e=t.current)==null?void 0:e.ownerDocument)!=null?n:document:null:document}function Cm(t){typeof queueMicrotask=="function"?queueMicrotask(t):Promise.resolve().then(t).catch(e=>setTimeout(()=>{throw e}))}function ps(){let t=[],e={addEventListener(n,r,i,o){return n.addEventListener(r,i,o),e.add(()=>n.removeEventListener(r,i,o))},requestAnimationFrame(...n){let r=requestAnimationFrame(...n);return e.add(()=>cancelAnimationFrame(r))},nextFrame(...n){return e.requestAnimationFrame(()=>e.requestAnimationFrame(...n))},setTimeout(...n){let r=setTimeout(...n);return e.add(()=>clearTimeout(r))},microTask(...n){let r={current:!0};return Cm(()=>{r.current&&n[0]()}),e.add(()=>{r.current=!1})},style(n,r,i){let o=n.style.getPropertyValue(r);return Object.assign(n.style,{[r]:i}),this.add(()=>{Object.assign(n.style,{[r]:o})})},group(n){let r=ps();return n(r),this.add(()=>r.dispose())},add(n){return t.includes(n)||t.push(n),()=>{let r=t.indexOf(n);if(r>=0)for(let i of t.splice(r,1))i()}},dispose(){for(let n of t.splice(0))n()}};return e}function J_(){let[t]=b.useState(ps);return b.useEffect(()=>()=>t.dispose(),[t]),t}let gn=(t,e)=>{aa.isServer?b.useEffect(t,e):b.useLayoutEffect(t,e)};function Sa(t){let e=b.useRef(t);return gn(()=>{e.current=t},[t]),e}let tt=function(t){let e=Sa(t);return ke.useCallback((...n)=>e.current(...n),[e])},aK=b.createContext(void 0);function lK(){return b.useContext(aK)}function Cv(...t){return Array.from(new Set(t.flatMap(e=>typeof e=="string"?e.split(" "):[]))).filter(Boolean).join(" ")}function cs(t,e,...n){if(t in e){let i=e[t];return typeof i=="function"?i(...n):i}let r=new Error(`Tried to handle "${t}" but there is no handler defined. Only defined handlers are: ${Object.keys(e).map(i=>`"${i}"`).join(", ")}.`);throw Error.captureStackTrace&&Error.captureStackTrace(r,cs),r}var Dp=(t=>(t[t.None=0]="None",t[t.RenderStrategy=1]="RenderStrategy",t[t.Static=2]="Static",t))(Dp||{}),Xs=(t=>(t[t.Unmount=0]="Unmount",t[t.Hidden=1]="Hidden",t))(Xs||{});function Er(){let t=uK();return b.useCallback(e=>cK({mergeRefs:t,...e}),[t])}function cK({ourProps:t,theirProps:e,slot:n,defaultTag:r,features:i,visible:o=!0,name:l,mergeRefs:c}){c=c??dK;let d=TA(e,t);if(o)return Nf(d,n,r,l,c);let f=i??0;if(f&2){let{static:m=!1,...g}=d;if(m)return Nf(g,n,r,l,c)}if(f&1){let{unmount:m=!0,...g}=d;return cs(m?0:1,{0(){return null},1(){return Nf({...g,hidden:!0,style:{display:"none"}},n,r,l,c)}})}return Nf(d,n,r,l,c)}function Nf(t,e={},n,r,i){let{as:o=n,children:l,refName:c="ref",...d}=l0(t,["unmount","static"]),f=t.ref!==void 0?{[c]:t.ref}:{},m=typeof l=="function"?l(e):l;"className"in d&&d.className&&typeof d.className=="function"&&(d.className=d.className(e)),d["aria-labelledby"]&&d["aria-labelledby"]===d.id&&(d["aria-labelledby"]=void 0);let g={};if(e){let y=!1,C=[];for(let[S,k]of Object.entries(e))typeof k=="boolean"&&(y=!0),k===!0&&C.push(S.replace(/([A-Z])/g,P=>`-${P.toLowerCase()}`));if(y){g["data-headlessui-state"]=C.join(" ");for(let S of C)g[`data-${S}`]=""}}if(o===b.Fragment&&(Object.keys(Yo(d)).length>0||Object.keys(Yo(g)).length>0))if(!b.isValidElement(m)||Array.isArray(m)&&m.length>1){if(Object.keys(Yo(d)).length>0)throw new Error(['Passing props on "Fragment"!',"",`The current component <${r} /> is rendering a "Fragment".`,"However we need to passthrough the following props:",Object.keys(Yo(d)).concat(Object.keys(Yo(g))).map(y=>`  - ${y}`).join(`
`),"","You can apply a few solutions:",['Add an `as="..."` prop, to ensure that we render an actual element instead of a "Fragment".',"Render a single element as the child so that we can forward the props onto that element."].map(y=>`  - ${y}`).join(`
`)].join(`
`))}else{let y=m.props,C=y?.className,S=typeof C=="function"?(...N)=>Cv(C(...N),d.className):Cv(C,d.className),k=S?{className:S}:{},P=TA(m.props,Yo(l0(d,["ref"])));for(let N in g)N in P&&delete g[N];return b.cloneElement(m,Object.assign({},P,g,f,{ref:i(hK(m),f.ref)},k))}return b.createElement(o,Object.assign({},l0(d,["ref"]),o!==b.Fragment&&f,o!==b.Fragment&&g),m)}function uK(){let t=b.useRef([]),e=b.useCallback(n=>{for(let r of t.current)r!=null&&(typeof r=="function"?r(n):r.current=n)},[]);return(...n)=>{if(!n.every(r=>r==null))return t.current=n,e}}function dK(...t){return t.every(e=>e==null)?void 0:e=>{for(let n of t)n!=null&&(typeof n=="function"?n(e):n.current=e)}}function TA(...t){if(t.length===0)return{};if(t.length===1)return t[0];let e={},n={};for(let r of t)for(let i in r)i.startsWith("on")&&typeof r[i]=="function"?(n[i]!=null||(n[i]=[]),n[i].push(r[i])):e[i]=r[i];if(e.disabled||e["aria-disabled"])for(let r in n)/^(on(?:Click|Pointer|Mouse|Key)(?:Down|Up|Press)?)$/.test(r)&&(n[r]=[i=>{var o;return(o=i?.preventDefault)==null?void 0:o.call(i)}]);for(let r in n)Object.assign(e,{[r](i,...o){let l=n[r];for(let c of l){if((i instanceof Event||i?.nativeEvent instanceof Event)&&i.defaultPrevented)return;c(i,...o)}}});return e}function Bn(t){var e;return Object.assign(b.forwardRef(t),{displayName:(e=t.displayName)!=null?e:t.name})}function Yo(t){let e=Object.assign({},t);for(let n in e)e[n]===void 0&&delete e[n];return e}function l0(t,e=[]){let n=Object.assign({},t);for(let r of e)r in n&&delete n[r];return n}function hK(t){return ke.version.split(".")[0]>="19"?t.props.ref:t.ref}let fK="span";var Mp=(t=>(t[t.None=1]="None",t[t.Focusable=2]="Focusable",t[t.Hidden=4]="Hidden",t))(Mp||{});function pK(t,e){var n;let{features:r=1,...i}=t,o={ref:e,"aria-hidden":(r&2)===2?!0:(n=i["aria-hidden"])!=null?n:void 0,hidden:(r&4)===4?!0:void 0,style:{position:"fixed",top:1,left:1,width:1,height:0,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0",...(r&4)===4&&(r&2)!==2&&{display:"none"}}};return Er()({ourProps:o,theirProps:i,slot:{},defaultTag:fK,name:"Hidden"})}let Tv=Bn(pK);function kA(t){return typeof t!="object"||t===null?!1:"nodeType"in t}function to(t){return kA(t)&&"tagName"in t}function wa(t){return to(t)&&"accessKey"in t}function Js(t){return to(t)&&"tabIndex"in t}function mK(t){return to(t)&&"style"in t}function gK(t){return wa(t)&&t.nodeName==="IFRAME"}function yK(t){return wa(t)&&t.nodeName==="INPUT"}let IA=Symbol();function vK(t,e=!0){return Object.assign(t,{[IA]:e})}function bi(...t){let e=b.useRef(t);b.useEffect(()=>{e.current=t},[t]);let n=tt(r=>{for(let i of e.current)i!=null&&(typeof i=="function"?i(r):i.current=r)});return t.every(r=>r==null||r?.[IA])?void 0:n}let Q_=b.createContext(null);Q_.displayName="DescriptionContext";function PA(){let t=b.useContext(Q_);if(t===null){let e=new Error("You used a <Description /> component, but it is not inside a relevant parent.");throw Error.captureStackTrace&&Error.captureStackTrace(e,PA),e}return t}function wK(){let[t,e]=b.useState([]);return[t.length>0?t.join(" "):void 0,b.useMemo(()=>function(n){let r=tt(o=>(e(l=>[...l,o]),()=>e(l=>{let c=l.slice(),d=c.indexOf(o);return d!==-1&&c.splice(d,1),c}))),i=b.useMemo(()=>({register:r,slot:n.slot,name:n.name,props:n.props,value:n.value}),[r,n.slot,n.name,n.props,n.value]);return ke.createElement(Q_.Provider,{value:i},n.children)},[e])]}let _K="p";function xK(t,e){let n=b.useId(),r=lK(),{id:i=`headlessui-description-${n}`,...o}=t,l=PA(),c=bi(e);gn(()=>l.register(i),[i,l.register]);let d=r||!1,f=b.useMemo(()=>({...l.slot,disabled:d}),[l.slot,d]),m={ref:c,...l.props,id:i};return Er()({ourProps:m,theirProps:o,slot:f,defaultTag:_K,name:l.name||"Description"})}let bK=Bn(xK),EK=Object.assign(bK,{});var RA=(t=>(t.Space=" ",t.Enter="Enter",t.Escape="Escape",t.Backspace="Backspace",t.Delete="Delete",t.ArrowLeft="ArrowLeft",t.ArrowUp="ArrowUp",t.ArrowRight="ArrowRight",t.ArrowDown="ArrowDown",t.Home="Home",t.End="End",t.PageUp="PageUp",t.PageDown="PageDown",t.Tab="Tab",t))(RA||{});let SK=b.createContext(()=>{});function CK({value:t,children:e}){return ke.createElement(SK.Provider,{value:t},e)}let AA=class extends Map{constructor(e){super(),this.factory=e}get(e){let n=super.get(e);return n===void 0&&(n=this.factory(e),this.set(e,n)),n}};var TK=Object.defineProperty,kK=(t,e,n)=>e in t?TK(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,IK=(t,e,n)=>(kK(t,e+"",n),n),NA=(t,e,n)=>{if(!e.has(t))throw TypeError("Cannot "+n)},pr=(t,e,n)=>(NA(t,e,"read from private field"),n?n.call(t):e.get(t)),c0=(t,e,n)=>{if(e.has(t))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(t):e.set(t,n)},gT=(t,e,n,r)=>(NA(t,e,"write to private field"),e.set(t,n),n),ci,Cu,Tu;let PK=class{constructor(e){c0(this,ci,{}),c0(this,Cu,new AA(()=>new Set)),c0(this,Tu,new Set),IK(this,"disposables",ps()),gT(this,ci,e)}dispose(){this.disposables.dispose()}get state(){return pr(this,ci)}subscribe(e,n){let r={selector:e,callback:n,current:e(pr(this,ci))};return pr(this,Tu).add(r),this.disposables.add(()=>{pr(this,Tu).delete(r)})}on(e,n){return pr(this,Cu).get(e).add(n),this.disposables.add(()=>{pr(this,Cu).get(e).delete(n)})}send(e){let n=this.reduce(pr(this,ci),e);if(n!==pr(this,ci)){gT(this,ci,n);for(let r of pr(this,Tu)){let i=r.selector(pr(this,ci));OA(r.current,i)||(r.current=i,r.callback(i))}for(let r of pr(this,Cu).get(e.type))r(pr(this,ci),e)}}};ci=new WeakMap,Cu=new WeakMap,Tu=new WeakMap;function OA(t,e){return Object.is(t,e)?!0:typeof t!="object"||t===null||typeof e!="object"||e===null?!1:Array.isArray(t)&&Array.isArray(e)?t.length!==e.length?!1:u0(t[Symbol.iterator](),e[Symbol.iterator]()):t instanceof Map&&e instanceof Map||t instanceof Set&&e instanceof Set?t.size!==e.size?!1:u0(t.entries(),e.entries()):yT(t)&&yT(e)?u0(Object.entries(t)[Symbol.iterator](),Object.entries(e)[Symbol.iterator]()):!1}function u0(t,e){do{let n=t.next(),r=e.next();if(n.done&&r.done)return!0;if(n.done||r.done||!Object.is(n.value,r.value))return!1}while(!0)}function yT(t){if(Object.prototype.toString.call(t)!=="[object Object]")return!1;let e=Object.getPrototypeOf(t);return e===null||Object.getPrototypeOf(e)===null}var RK=Object.defineProperty,AK=(t,e,n)=>e in t?RK(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,vT=(t,e,n)=>(AK(t,typeof e!="symbol"?e+"":e,n),n),NK=(t=>(t[t.Push=0]="Push",t[t.Pop=1]="Pop",t))(NK||{});let OK={0(t,e){let n=e.id,r=t.stack,i=t.stack.indexOf(n);if(i!==-1){let o=t.stack.slice();return o.splice(i,1),o.push(n),r=o,{...t,stack:r}}return{...t,stack:[...t.stack,n]}},1(t,e){let n=e.id,r=t.stack.indexOf(n);if(r===-1)return t;let i=t.stack.slice();return i.splice(r,1),{...t,stack:i}}},DK=class DA extends PK{constructor(){super(...arguments),vT(this,"actions",{push:e=>this.send({type:0,id:e}),pop:e=>this.send({type:1,id:e})}),vT(this,"selectors",{isTop:(e,n)=>e.stack[e.stack.length-1]===n,inStack:(e,n)=>e.stack.includes(n)})}static new(){return new DA({stack:[]})}reduce(e,n){return cs(n.type,OK,e,n)}};const MA=new AA(()=>DK.new());var d0={exports:{}},h0={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wT;function MK(){if(wT)return h0;wT=1;var t=Fp();function e(d,f){return d===f&&(d!==0||1/d===1/f)||d!==d&&f!==f}var n=typeof Object.is=="function"?Object.is:e,r=t.useSyncExternalStore,i=t.useRef,o=t.useEffect,l=t.useMemo,c=t.useDebugValue;return h0.useSyncExternalStoreWithSelector=function(d,f,m,g,y){var C=i(null);if(C.current===null){var S={hasValue:!1,value:null};C.current=S}else S=C.current;C=l(function(){function P(B){if(!N){if(N=!0,M=B,B=g(B),y!==void 0&&S.hasValue){var H=S.value;if(y(H,B))return O=H}return O=B}if(H=O,n(M,B))return H;var D=g(B);return y!==void 0&&y(H,D)?(M=B,H):(M=B,O=D)}var N=!1,M,O,U=m===void 0?null:m;return[function(){return P(f())},U===null?void 0:function(){return P(U())}]},[f,m,g,y]);var k=r(d,C[0],C[1]);return o(function(){S.hasValue=!0,S.value=k},[k]),c(k),k},h0}var _T;function LK(){return _T||(_T=1,d0.exports=MK()),d0.exports}var jK=LK();function LA(t,e,n=OA){return jK.useSyncExternalStoreWithSelector(tt(r=>t.subscribe(FK,r)),tt(()=>t.state),tt(()=>t.state),tt(e),n)}function FK(t){return t}function Jd(t,e){let n=b.useId(),r=MA.get(e),[i,o]=LA(r,b.useCallback(l=>[r.selectors.isTop(l,n),r.selectors.inStack(l,n)],[r,n]));return gn(()=>{if(t)return r.actions.push(n),()=>r.actions.pop(n)},[r,t,n]),t?o?i:!0:!1}let kv=new Map,Hu=new Map;function xT(t){var e;let n=(e=Hu.get(t))!=null?e:0;return Hu.set(t,n+1),n!==0?()=>bT(t):(kv.set(t,{"aria-hidden":t.getAttribute("aria-hidden"),inert:t.inert}),t.setAttribute("aria-hidden","true"),t.inert=!0,()=>bT(t))}function bT(t){var e;let n=(e=Hu.get(t))!=null?e:1;if(n===1?Hu.delete(t):Hu.set(t,n-1),n!==1)return;let r=kv.get(t);r&&(r["aria-hidden"]===null?t.removeAttribute("aria-hidden"):t.setAttribute("aria-hidden",r["aria-hidden"]),t.inert=r.inert,kv.delete(t))}function $K(t,{allowed:e,disallowed:n}={}){let r=Jd(t,"inert-others");gn(()=>{var i,o;if(!r)return;let l=ps();for(let d of(i=n?.())!=null?i:[])d&&l.add(xT(d));let c=(o=e?.())!=null?o:[];for(let d of c){if(!d)continue;let f=Sm(d);if(!f)continue;let m=d.parentElement;for(;m&&m!==f.body;){for(let g of m.children)c.some(y=>g.contains(y))||l.add(xT(g));m=m.parentElement}}return l.dispose},[r,e,n])}function UK(t,e,n){let r=Sa(i=>{let o=i.getBoundingClientRect();o.x===0&&o.y===0&&o.width===0&&o.height===0&&n()});b.useEffect(()=>{if(!t)return;let i=e===null?null:wa(e)?e:e.current;if(!i)return;let o=ps();if(typeof ResizeObserver<"u"){let l=new ResizeObserver(()=>r.current(i));l.observe(i),o.add(()=>l.disconnect())}if(typeof IntersectionObserver<"u"){let l=new IntersectionObserver(()=>r.current(i));l.observe(i),o.add(()=>l.disconnect())}return()=>o.dispose()},[e,r,t])}let Lp=["[contentEditable=true]","[tabindex]","a[href]","area[href]","button:not([disabled])","iframe","input:not([disabled])","select:not([disabled])","textarea:not([disabled])"].map(t=>`${t}:not([tabindex='-1'])`).join(","),VK=["[data-autofocus]"].map(t=>`${t}:not([tabindex='-1'])`).join(",");var Hi=(t=>(t[t.First=1]="First",t[t.Previous=2]="Previous",t[t.Next=4]="Next",t[t.Last=8]="Last",t[t.WrapAround=16]="WrapAround",t[t.NoScroll=32]="NoScroll",t[t.AutoFocus=64]="AutoFocus",t))(Hi||{}),Iv=(t=>(t[t.Error=0]="Error",t[t.Overflow=1]="Overflow",t[t.Success=2]="Success",t[t.Underflow=3]="Underflow",t))(Iv||{}),BK=(t=>(t[t.Previous=-1]="Previous",t[t.Next=1]="Next",t))(BK||{});function zK(t=document.body){return t==null?[]:Array.from(t.querySelectorAll(Lp)).sort((e,n)=>Math.sign((e.tabIndex||Number.MAX_SAFE_INTEGER)-(n.tabIndex||Number.MAX_SAFE_INTEGER)))}function WK(t=document.body){return t==null?[]:Array.from(t.querySelectorAll(VK)).sort((e,n)=>Math.sign((e.tabIndex||Number.MAX_SAFE_INTEGER)-(n.tabIndex||Number.MAX_SAFE_INTEGER)))}var jA=(t=>(t[t.Strict=0]="Strict",t[t.Loose=1]="Loose",t))(jA||{});function HK(t,e=0){var n;return t===((n=Sm(t))==null?void 0:n.body)?!1:cs(e,{0(){return t.matches(Lp)},1(){let r=t;for(;r!==null;){if(r.matches(Lp))return!0;r=r.parentElement}return!1}})}var qK=(t=>(t[t.Keyboard=0]="Keyboard",t[t.Mouse=1]="Mouse",t))(qK||{});typeof window<"u"&&typeof document<"u"&&(document.addEventListener("keydown",t=>{t.metaKey||t.altKey||t.ctrlKey||(document.documentElement.dataset.headlessuiFocusVisible="")},!0),document.addEventListener("click",t=>{t.detail===1?delete document.documentElement.dataset.headlessuiFocusVisible:t.detail===0&&(document.documentElement.dataset.headlessuiFocusVisible="")},!0));function ts(t){t?.focus({preventScroll:!0})}let GK=["textarea","input"].join(",");function KK(t){var e,n;return(n=(e=t?.matches)==null?void 0:e.call(t,GK))!=null?n:!1}function YK(t,e=n=>n){return t.slice().sort((n,r)=>{let i=e(n),o=e(r);if(i===null||o===null)return 0;let l=i.compareDocumentPosition(o);return l&Node.DOCUMENT_POSITION_FOLLOWING?-1:l&Node.DOCUMENT_POSITION_PRECEDING?1:0})}function qu(t,e,{sorted:n=!0,relativeTo:r=null,skipElements:i=[]}={}){let o=Array.isArray(t)?t.length>0?t[0].ownerDocument:document:t.ownerDocument,l=Array.isArray(t)?n?YK(t):t:e&64?WK(t):zK(t);i.length>0&&l.length>1&&(l=l.filter(C=>!i.some(S=>S!=null&&"current"in S?S?.current===C:S===C))),r=r??o.activeElement;let c=(()=>{if(e&5)return 1;if(e&10)return-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),d=(()=>{if(e&1)return 0;if(e&2)return Math.max(0,l.indexOf(r))-1;if(e&4)return Math.max(0,l.indexOf(r))+1;if(e&8)return l.length-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),f=e&32?{preventScroll:!0}:{},m=0,g=l.length,y;do{if(m>=g||m+g<=0)return 0;let C=d+m;if(e&16)C=(C+g)%g;else{if(C<0)return 3;if(C>=g)return 1}y=l[C],y?.focus(f),m+=c}while(y!==o.activeElement);return e&6&&KK(y)&&y.select(),2}function FA(){return/iPhone/gi.test(window.navigator.platform)||/Mac/gi.test(window.navigator.platform)&&window.navigator.maxTouchPoints>0}function XK(){return/Android/gi.test(window.navigator.userAgent)}function ET(){return FA()||XK()}function Of(t,e,n,r){let i=Sa(n);b.useEffect(()=>{if(!t)return;function o(l){i.current(l)}return document.addEventListener(e,o,r),()=>document.removeEventListener(e,o,r)},[t,e,r])}function $A(t,e,n,r){let i=Sa(n);b.useEffect(()=>{if(!t)return;function o(l){i.current(l)}return window.addEventListener(e,o,r),()=>window.removeEventListener(e,o,r)},[t,e,r])}const ST=30;function JK(t,e,n){let r=Sa(n),i=b.useCallback(function(c,d){if(c.defaultPrevented)return;let f=d(c);if(f===null||!f.getRootNode().contains(f)||!f.isConnected)return;let m=function g(y){return typeof y=="function"?g(y()):Array.isArray(y)||y instanceof Set?y:[y]}(e);for(let g of m)if(g!==null&&(g.contains(f)||c.composed&&c.composedPath().includes(g)))return;return!HK(f,jA.Loose)&&f.tabIndex!==-1&&c.preventDefault(),r.current(c,f)},[r,e]),o=b.useRef(null);Of(t,"pointerdown",c=>{var d,f;ET()||(o.current=((f=(d=c.composedPath)==null?void 0:d.call(c))==null?void 0:f[0])||c.target)},!0),Of(t,"pointerup",c=>{if(ET()||!o.current)return;let d=o.current;return o.current=null,i(c,()=>d)},!0);let l=b.useRef({x:0,y:0});Of(t,"touchstart",c=>{l.current.x=c.touches[0].clientX,l.current.y=c.touches[0].clientY},!0),Of(t,"touchend",c=>{let d={x:c.changedTouches[0].clientX,y:c.changedTouches[0].clientY};if(!(Math.abs(d.x-l.current.x)>=ST||Math.abs(d.y-l.current.y)>=ST))return i(c,()=>Js(c.target)?c.target:null)},!0),$A(t,"blur",c=>i(c,()=>gK(window.document.activeElement)?window.document.activeElement:null),!0)}function Tm(...t){return b.useMemo(()=>Sm(...t),[...t])}function UA(t,e,n,r){let i=Sa(n);b.useEffect(()=>{t=t??window;function o(l){i.current(l)}return t.addEventListener(e,o,r),()=>t.removeEventListener(e,o,r)},[t,e,r])}function QK(t){return b.useSyncExternalStore(t.subscribe,t.getSnapshot,t.getSnapshot)}function ZK(t,e){let n=t(),r=new Set;return{getSnapshot(){return n},subscribe(i){return r.add(i),()=>r.delete(i)},dispatch(i,...o){let l=e[i].call(n,...o);l&&(n=l,r.forEach(c=>c()))}}}function eY(){let t;return{before({doc:e}){var n;let r=e.documentElement,i=(n=e.defaultView)!=null?n:window;t=Math.max(0,i.innerWidth-r.clientWidth)},after({doc:e,d:n}){let r=e.documentElement,i=Math.max(0,r.clientWidth-r.offsetWidth),o=Math.max(0,t-i);n.style(r,"paddingRight",`${o}px`)}}}function tY(){return FA()?{before({doc:t,d:e,meta:n}){function r(i){return n.containers.flatMap(o=>o()).some(o=>o.contains(i))}e.microTask(()=>{var i;if(window.getComputedStyle(t.documentElement).scrollBehavior!=="auto"){let c=ps();c.style(t.documentElement,"scrollBehavior","auto"),e.add(()=>e.microTask(()=>c.dispose()))}let o=(i=window.scrollY)!=null?i:window.pageYOffset,l=null;e.addEventListener(t,"click",c=>{if(Js(c.target))try{let d=c.target.closest("a");if(!d)return;let{hash:f}=new URL(d.href),m=t.querySelector(f);Js(m)&&!r(m)&&(l=m)}catch{}},!0),e.addEventListener(t,"touchstart",c=>{if(Js(c.target)&&mK(c.target))if(r(c.target)){let d=c.target;for(;d.parentElement&&r(d.parentElement);)d=d.parentElement;e.style(d,"overscrollBehavior","contain")}else e.style(c.target,"touchAction","none")}),e.addEventListener(t,"touchmove",c=>{if(Js(c.target)){if(yK(c.target))return;if(r(c.target)){let d=c.target;for(;d.parentElement&&d.dataset.headlessuiPortal!==""&&!(d.scrollHeight>d.clientHeight||d.scrollWidth>d.clientWidth);)d=d.parentElement;d.dataset.headlessuiPortal===""&&c.preventDefault()}else c.preventDefault()}},{passive:!1}),e.add(()=>{var c;let d=(c=window.scrollY)!=null?c:window.pageYOffset;o!==d&&window.scrollTo(0,o),l&&l.isConnected&&(l.scrollIntoView({block:"nearest"}),l=null)})})}}:{}}function nY(){return{before({doc:t,d:e}){e.style(t.documentElement,"overflow","hidden")}}}function rY(t){let e={};for(let n of t)Object.assign(e,n(e));return e}let na=ZK(()=>new Map,{PUSH(t,e){var n;let r=(n=this.get(t))!=null?n:{doc:t,count:0,d:ps(),meta:new Set};return r.count++,r.meta.add(e),this.set(t,r),this},POP(t,e){let n=this.get(t);return n&&(n.count--,n.meta.delete(e)),this},SCROLL_PREVENT({doc:t,d:e,meta:n}){let r={doc:t,d:e,meta:rY(n)},i=[tY(),eY(),nY()];i.forEach(({before:o})=>o?.(r)),i.forEach(({after:o})=>o?.(r))},SCROLL_ALLOW({d:t}){t.dispose()},TEARDOWN({doc:t}){this.delete(t)}});na.subscribe(()=>{let t=na.getSnapshot(),e=new Map;for(let[n]of t)e.set(n,n.documentElement.style.overflow);for(let n of t.values()){let r=e.get(n.doc)==="hidden",i=n.count!==0;(i&&!r||!i&&r)&&na.dispatch(n.count>0?"SCROLL_PREVENT":"SCROLL_ALLOW",n),n.count===0&&na.dispatch("TEARDOWN",n)}});function iY(t,e,n=()=>({containers:[]})){let r=QK(na),i=e?r.get(e):void 0,o=i?i.count>0:!1;return gn(()=>{if(!(!e||!t))return na.dispatch("PUSH",e,n),()=>na.dispatch("POP",e,n)},[t,e]),o}function sY(t,e,n=()=>[document.body]){let r=Jd(t,"scroll-lock");iY(r,e,i=>{var o;return{containers:[...(o=i.containers)!=null?o:[],n]}})}function oY(t=0){let[e,n]=b.useState(t),r=b.useCallback(d=>n(d),[e]),i=b.useCallback(d=>n(f=>f|d),[e]),o=b.useCallback(d=>(e&d)===d,[e]),l=b.useCallback(d=>n(f=>f&~d),[n]),c=b.useCallback(d=>n(f=>f^d),[n]);return{flags:e,setFlag:r,addFlag:i,hasFlag:o,removeFlag:l,toggleFlag:c}}var aY={},CT,TT;typeof process<"u"&&typeof globalThis<"u"&&typeof Element<"u"&&((CT=process==null?void 0:aY)==null?void 0:CT.NODE_ENV)==="test"&&typeof((TT=Element?.prototype)==null?void 0:TT.getAnimations)>"u"&&(Element.prototype.getAnimations=function(){return console.warn(["Headless UI has polyfilled `Element.prototype.getAnimations` for your tests.","Please install a proper polyfill e.g. `jsdom-testing-mocks`, to silence these warnings.","","Example usage:","```js","import { mockAnimationsApi } from 'jsdom-testing-mocks'","mockAnimationsApi()","```"].join(`
`)),[]});var lY=(t=>(t[t.None=0]="None",t[t.Closed=1]="Closed",t[t.Enter=2]="Enter",t[t.Leave=4]="Leave",t))(lY||{});function cY(t){let e={};for(let n in t)t[n]===!0&&(e[`data-${n}`]="");return e}function uY(t,e,n,r){let[i,o]=b.useState(n),{hasFlag:l,addFlag:c,removeFlag:d}=oY(t&&i?3:0),f=b.useRef(!1),m=b.useRef(!1),g=J_();return gn(()=>{var y;if(t){if(n&&o(!0),!e){n&&c(3);return}return(y=r?.start)==null||y.call(r,n),dY(e,{inFlight:f,prepare(){m.current?m.current=!1:m.current=f.current,f.current=!0,!m.current&&(n?(c(3),d(4)):(c(4),d(2)))},run(){m.current?n?(d(3),c(4)):(d(4),c(3)):n?d(1):c(1)},done(){var C;m.current&&typeof e.getAnimations=="function"&&e.getAnimations().length>0||(f.current=!1,d(7),n||o(!1),(C=r?.end)==null||C.call(r,n))}})}},[t,n,e,g]),t?[i,{closed:l(1),enter:l(2),leave:l(4),transition:l(2)||l(4)}]:[n,{closed:void 0,enter:void 0,leave:void 0,transition:void 0}]}function dY(t,{prepare:e,run:n,done:r,inFlight:i}){let o=ps();return fY(t,{prepare:e,inFlight:i}),o.nextFrame(()=>{n(),o.requestAnimationFrame(()=>{o.add(hY(t,r))})}),o.dispose}function hY(t,e){var n,r;let i=ps();if(!t)return i.dispose;let o=!1;i.add(()=>{o=!0});let l=(r=(n=t.getAnimations)==null?void 0:n.call(t).filter(c=>c instanceof CSSTransition))!=null?r:[];return l.length===0?(e(),i.dispose):(Promise.allSettled(l.map(c=>c.finished)).then(()=>{o||e()}),i.dispose)}function fY(t,{inFlight:e,prepare:n}){if(e!=null&&e.current){n();return}let r=t.style.transition;t.style.transition="none",n(),t.offsetHeight,t.style.transition=r}function Z_(t,e){let n=b.useRef([]),r=tt(t);b.useEffect(()=>{let i=[...n.current];for(let[o,l]of e.entries())if(n.current[o]!==l){let c=r(e,i);return n.current=e,c}},[r,...e])}let km=b.createContext(null);km.displayName="OpenClosedContext";var Wr=(t=>(t[t.Open=1]="Open",t[t.Closed=2]="Closed",t[t.Closing=4]="Closing",t[t.Opening=8]="Opening",t))(Wr||{});function Im(){return b.useContext(km)}function pY({value:t,children:e}){return ke.createElement(km.Provider,{value:t},e)}function mY({children:t}){return ke.createElement(km.Provider,{value:null},t)}function gY(t){function e(){document.readyState!=="loading"&&(t(),document.removeEventListener("DOMContentLoaded",e))}typeof window<"u"&&typeof document<"u"&&(document.addEventListener("DOMContentLoaded",e),e())}let Ks=[];gY(()=>{function t(e){if(!Js(e.target)||e.target===document.body||Ks[0]===e.target)return;let n=e.target;n=n.closest(Lp),Ks.unshift(n??e.target),Ks=Ks.filter(r=>r!=null&&r.isConnected),Ks.splice(10)}window.addEventListener("click",t,{capture:!0}),window.addEventListener("mousedown",t,{capture:!0}),window.addEventListener("focus",t,{capture:!0}),document.body.addEventListener("click",t,{capture:!0}),document.body.addEventListener("mousedown",t,{capture:!0}),document.body.addEventListener("focus",t,{capture:!0})});function VA(t){let e=tt(t),n=b.useRef(!1);b.useEffect(()=>(n.current=!1,()=>{n.current=!0,Cm(()=>{n.current&&e()})}),[e])}function yY(){let t=typeof document>"u";return"useSyncExternalStore"in Xf?(e=>e.useSyncExternalStore)(Xf)(()=>()=>{},()=>!1,()=>!t):!1}function Qd(){let t=yY(),[e,n]=b.useState(aa.isHandoffComplete);return e&&aa.isHandoffComplete===!1&&n(!1),b.useEffect(()=>{e!==!0&&n(!0)},[e]),b.useEffect(()=>aa.handoff(),[]),t?!1:e}let BA=b.createContext(!1);function vY(){return b.useContext(BA)}function kT(t){return ke.createElement(BA.Provider,{value:t.force},t.children)}function wY(t){let e=vY(),n=b.useContext(WA),[r,i]=b.useState(()=>{var o;if(!e&&n!==null)return(o=n.current)!=null?o:null;if(aa.isServer)return null;let l=t?.getElementById("headlessui-portal-root");if(l)return l;if(t===null)return null;let c=t.createElement("div");return c.setAttribute("id","headlessui-portal-root"),t.body.appendChild(c)});return b.useEffect(()=>{r!==null&&(t!=null&&t.body.contains(r)||t==null||t.body.appendChild(r))},[r,t]),b.useEffect(()=>{e||n!==null&&i(n.current)},[n,i,e]),r}let zA=b.Fragment,_Y=Bn(function(t,e){let{ownerDocument:n=null,...r}=t,i=b.useRef(null),o=bi(vK(C=>{i.current=C}),e),l=Tm(i),c=n??l,d=wY(c),[f]=b.useState(()=>{var C;return aa.isServer?null:(C=c?.createElement("div"))!=null?C:null}),m=b.useContext(Pv),g=Qd();gn(()=>{!d||!f||d.contains(f)||(f.setAttribute("data-headlessui-portal",""),d.appendChild(f))},[d,f]),gn(()=>{if(f&&m)return m.register(f)},[m,f]),VA(()=>{var C;!d||!f||(kA(f)&&d.contains(f)&&d.removeChild(f),d.childNodes.length<=0&&((C=d.parentElement)==null||C.removeChild(d)))});let y=Er();return g?!d||!f?null:$v.createPortal(y({ourProps:{ref:o},theirProps:r,slot:{},defaultTag:zA,name:"Portal"}),f):null});function xY(t,e){let n=bi(e),{enabled:r=!0,ownerDocument:i,...o}=t,l=Er();return r?ke.createElement(_Y,{...o,ownerDocument:i,ref:n}):l({ourProps:{ref:n},theirProps:o,slot:{},defaultTag:zA,name:"Portal"})}let bY=b.Fragment,WA=b.createContext(null);function EY(t,e){let{target:n,...r}=t,i={ref:bi(e)},o=Er();return ke.createElement(WA.Provider,{value:n},o({ourProps:i,theirProps:r,defaultTag:bY,name:"Popover.Group"}))}let Pv=b.createContext(null);function SY(){let t=b.useContext(Pv),e=b.useRef([]),n=tt(o=>(e.current.push(o),t&&t.register(o),()=>r(o))),r=tt(o=>{let l=e.current.indexOf(o);l!==-1&&e.current.splice(l,1),t&&t.unregister(o)}),i=b.useMemo(()=>({register:n,unregister:r,portals:e}),[n,r,e]);return[e,b.useMemo(()=>function({children:o}){return ke.createElement(Pv.Provider,{value:i},o)},[i])]}let CY=Bn(xY),HA=Bn(EY),TY=Object.assign(CY,{Group:HA});function kY(t,e=typeof document<"u"?document.defaultView:null,n){let r=Jd(t,"escape");UA(e,"keydown",i=>{r&&(i.defaultPrevented||i.key===RA.Escape&&n(i))})}function IY(){var t;let[e]=b.useState(()=>typeof window<"u"&&typeof window.matchMedia=="function"?window.matchMedia("(pointer: coarse)"):null),[n,r]=b.useState((t=e?.matches)!=null?t:!1);return gn(()=>{if(!e)return;function i(o){r(o.matches)}return e.addEventListener("change",i),()=>e.removeEventListener("change",i)},[e]),n}function PY({defaultContainers:t=[],portals:e,mainTreeNode:n}={}){let r=Tm(n),i=tt(()=>{var o,l;let c=[];for(let d of t)d!==null&&(to(d)?c.push(d):"current"in d&&to(d.current)&&c.push(d.current));if(e!=null&&e.current)for(let d of e.current)c.push(d);for(let d of(o=r?.querySelectorAll("html > *, body > *"))!=null?o:[])d!==document.body&&d!==document.head&&to(d)&&d.id!=="headlessui-portal-root"&&(n&&(d.contains(n)||d.contains((l=n?.getRootNode())==null?void 0:l.host))||c.some(f=>d.contains(f))||c.push(d));return c});return{resolveContainers:i,contains:tt(o=>i().some(l=>l.contains(o)))}}let qA=b.createContext(null);function IT({children:t,node:e}){let[n,r]=b.useState(null),i=GA(e??n);return ke.createElement(qA.Provider,{value:i},t,i===null&&ke.createElement(Tv,{features:Mp.Hidden,ref:o=>{var l,c;if(o){for(let d of(c=(l=Sm(o))==null?void 0:l.querySelectorAll("html > *, body > *"))!=null?c:[])if(d!==document.body&&d!==document.head&&to(d)&&d!=null&&d.contains(o)){r(d);break}}}}))}function GA(t=null){var e;return(e=b.useContext(qA))!=null?e:t}function e1(){let t=b.useRef(!1);return gn(()=>(t.current=!0,()=>{t.current=!1}),[]),t}var ku=(t=>(t[t.Forwards=0]="Forwards",t[t.Backwards=1]="Backwards",t))(ku||{});function RY(){let t=b.useRef(0);return $A(!0,"keydown",e=>{e.key==="Tab"&&(t.current=e.shiftKey?1:0)},!0),t}function KA(t){if(!t)return new Set;if(typeof t=="function")return new Set(t());let e=new Set;for(let n of t.current)to(n.current)&&e.add(n.current);return e}let AY="div";var Xo=(t=>(t[t.None=0]="None",t[t.InitialFocus=1]="InitialFocus",t[t.TabLock=2]="TabLock",t[t.FocusLock=4]="FocusLock",t[t.RestoreFocus=8]="RestoreFocus",t[t.AutoFocus=16]="AutoFocus",t))(Xo||{});function NY(t,e){let n=b.useRef(null),r=bi(n,e),{initialFocus:i,initialFocusFallback:o,containers:l,features:c=15,...d}=t;Qd()||(c=0);let f=Tm(n);LY(c,{ownerDocument:f});let m=jY(c,{ownerDocument:f,container:n,initialFocus:i,initialFocusFallback:o});FY(c,{ownerDocument:f,container:n,containers:l,previousActiveElement:m});let g=RY(),y=tt(M=>{if(!wa(n.current))return;let O=n.current;(U=>U())(()=>{cs(g.current,{[ku.Forwards]:()=>{qu(O,Hi.First,{skipElements:[M.relatedTarget,o]})},[ku.Backwards]:()=>{qu(O,Hi.Last,{skipElements:[M.relatedTarget,o]})}})})}),C=Jd(!!(c&2),"focus-trap#tab-lock"),S=J_(),k=b.useRef(!1),P={ref:r,onKeyDown(M){M.key=="Tab"&&(k.current=!0,S.requestAnimationFrame(()=>{k.current=!1}))},onBlur(M){if(!(c&4))return;let O=KA(l);wa(n.current)&&O.add(n.current);let U=M.relatedTarget;Js(U)&&U.dataset.headlessuiFocusGuard!=="true"&&(YA(O,U)||(k.current?qu(n.current,cs(g.current,{[ku.Forwards]:()=>Hi.Next,[ku.Backwards]:()=>Hi.Previous})|Hi.WrapAround,{relativeTo:M.target}):Js(M.target)&&ts(M.target)))}},N=Er();return ke.createElement(ke.Fragment,null,C&&ke.createElement(Tv,{as:"button",type:"button","data-headlessui-focus-guard":!0,onFocus:y,features:Mp.Focusable}),N({ourProps:P,theirProps:d,defaultTag:AY,name:"FocusTrap"}),C&&ke.createElement(Tv,{as:"button",type:"button","data-headlessui-focus-guard":!0,onFocus:y,features:Mp.Focusable}))}let OY=Bn(NY),DY=Object.assign(OY,{features:Xo});function MY(t=!0){let e=b.useRef(Ks.slice());return Z_(([n],[r])=>{r===!0&&n===!1&&Cm(()=>{e.current.splice(0)}),r===!1&&n===!0&&(e.current=Ks.slice())},[t,Ks,e]),tt(()=>{var n;return(n=e.current.find(r=>r!=null&&r.isConnected))!=null?n:null})}function LY(t,{ownerDocument:e}){let n=!!(t&8),r=MY(n);Z_(()=>{n||e?.activeElement===e?.body&&ts(r())},[n]),VA(()=>{n&&ts(r())})}function jY(t,{ownerDocument:e,container:n,initialFocus:r,initialFocusFallback:i}){let o=b.useRef(null),l=Jd(!!(t&1),"focus-trap#initial-focus"),c=e1();return Z_(()=>{if(t===0)return;if(!l){i!=null&&i.current&&ts(i.current);return}let d=n.current;d&&Cm(()=>{if(!c.current)return;let f=e?.activeElement;if(r!=null&&r.current){if(r?.current===f){o.current=f;return}}else if(d.contains(f)){o.current=f;return}if(r!=null&&r.current)ts(r.current);else{if(t&16){if(qu(d,Hi.First|Hi.AutoFocus)!==Iv.Error)return}else if(qu(d,Hi.First)!==Iv.Error)return;if(i!=null&&i.current&&(ts(i.current),e?.activeElement===i.current))return;console.warn("There are no focusable elements inside the <FocusTrap />")}o.current=e?.activeElement})},[i,l,t]),o}function FY(t,{ownerDocument:e,container:n,containers:r,previousActiveElement:i}){let o=e1(),l=!!(t&4);UA(e?.defaultView,"focus",c=>{if(!l||!o.current)return;let d=KA(r);wa(n.current)&&d.add(n.current);let f=i.current;if(!f)return;let m=c.target;wa(m)?YA(d,m)?(i.current=m,ts(m)):(c.preventDefault(),c.stopPropagation(),ts(f)):ts(i.current)},!0)}function YA(t,e){for(let n of t)if(n.contains(e))return!0;return!1}function XA(t){var e;return!!(t.enter||t.enterFrom||t.enterTo||t.leave||t.leaveFrom||t.leaveTo)||((e=t.as)!=null?e:QA)!==b.Fragment||ke.Children.count(t.children)===1}let Pm=b.createContext(null);Pm.displayName="TransitionContext";var $Y=(t=>(t.Visible="visible",t.Hidden="hidden",t))($Y||{});function UY(){let t=b.useContext(Pm);if(t===null)throw new Error("A <Transition.Child /> is used but it is missing a parent <Transition /> or <Transition.Root />.");return t}function VY(){let t=b.useContext(Rm);if(t===null)throw new Error("A <Transition.Child /> is used but it is missing a parent <Transition /> or <Transition.Root />.");return t}let Rm=b.createContext(null);Rm.displayName="NestingContext";function Am(t){return"children"in t?Am(t.children):t.current.filter(({el:e})=>e.current!==null).filter(({state:e})=>e==="visible").length>0}function JA(t,e){let n=Sa(t),r=b.useRef([]),i=e1(),o=J_(),l=tt((C,S=Xs.Hidden)=>{let k=r.current.findIndex(({el:P})=>P===C);k!==-1&&(cs(S,{[Xs.Unmount](){r.current.splice(k,1)},[Xs.Hidden](){r.current[k].state="hidden"}}),o.microTask(()=>{var P;!Am(r)&&i.current&&((P=n.current)==null||P.call(n))}))}),c=tt(C=>{let S=r.current.find(({el:k})=>k===C);return S?S.state!=="visible"&&(S.state="visible"):r.current.push({el:C,state:"visible"}),()=>l(C,Xs.Unmount)}),d=b.useRef([]),f=b.useRef(Promise.resolve()),m=b.useRef({enter:[],leave:[]}),g=tt((C,S,k)=>{d.current.splice(0),e&&(e.chains.current[S]=e.chains.current[S].filter(([P])=>P!==C)),e?.chains.current[S].push([C,new Promise(P=>{d.current.push(P)})]),e?.chains.current[S].push([C,new Promise(P=>{Promise.all(m.current[S].map(([N,M])=>M)).then(()=>P())})]),S==="enter"?f.current=f.current.then(()=>e?.wait.current).then(()=>k(S)):k(S)}),y=tt((C,S,k)=>{Promise.all(m.current[S].splice(0).map(([P,N])=>N)).then(()=>{var P;(P=d.current.shift())==null||P()}).then(()=>k(S))});return b.useMemo(()=>({children:r,register:c,unregister:l,onStart:g,onStop:y,wait:f,chains:m}),[c,l,r,g,y,m,f])}let QA=b.Fragment,ZA=Dp.RenderStrategy;function BY(t,e){var n,r;let{transition:i=!0,beforeEnter:o,afterEnter:l,beforeLeave:c,afterLeave:d,enter:f,enterFrom:m,enterTo:g,entered:y,leave:C,leaveFrom:S,leaveTo:k,...P}=t,[N,M]=b.useState(null),O=b.useRef(null),U=XA(t),B=bi(...U?[O,e,M]:e===null?[]:[e]),H=(n=P.unmount)==null||n?Xs.Unmount:Xs.Hidden,{show:D,appear:I,initial:A}=UY(),[E,L]=b.useState(D?"visible":"hidden"),$=VY(),{register:F,unregister:re}=$;gn(()=>F(O),[F,O]),gn(()=>{if(H===Xs.Hidden&&O.current){if(D&&E!=="visible"){L("visible");return}return cs(E,{hidden:()=>re(O),visible:()=>F(O)})}},[E,O,F,re,D,H]);let he=Qd();gn(()=>{if(U&&he&&E==="visible"&&O.current===null)throw new Error("Did you forget to passthrough the `ref` to the actual DOM node?")},[O,E,he,U]);let me=A&&!I,fe=I&&D&&A,te=b.useRef(!1),ue=JA(()=>{te.current||(L("hidden"),re(O))},$),ae=tt(Se=>{te.current=!0;let Te=Se?"enter":"leave";ue.onStart(O,Te,_e=>{_e==="enter"?o?.():_e==="leave"&&c?.()})}),q=tt(Se=>{let Te=Se?"enter":"leave";te.current=!1,ue.onStop(O,Te,_e=>{_e==="enter"?l?.():_e==="leave"&&d?.()}),Te==="leave"&&!Am(ue)&&(L("hidden"),re(O))});b.useEffect(()=>{U&&i||(ae(D),q(D))},[D,U,i]);let ee=!(!i||!U||!he||me),[,Q]=uY(ee,N,D,{start:ae,end:q}),de=Yo({ref:B,className:((r=Cv(P.className,fe&&f,fe&&m,Q.enter&&f,Q.enter&&Q.closed&&m,Q.enter&&!Q.closed&&g,Q.leave&&C,Q.leave&&!Q.closed&&S,Q.leave&&Q.closed&&k,!Q.transition&&D&&y))==null?void 0:r.trim())||void 0,...cY(Q)}),ve=0;E==="visible"&&(ve|=Wr.Open),E==="hidden"&&(ve|=Wr.Closed),D&&E==="hidden"&&(ve|=Wr.Opening),!D&&E==="visible"&&(ve|=Wr.Closing);let Ee=Er();return ke.createElement(Rm.Provider,{value:ue},ke.createElement(pY,{value:ve},Ee({ourProps:de,theirProps:P,defaultTag:QA,features:ZA,visible:E==="visible",name:"Transition.Child"})))}function zY(t,e){let{show:n,appear:r=!1,unmount:i=!0,...o}=t,l=b.useRef(null),c=XA(t),d=bi(...c?[l,e]:e===null?[]:[e]);Qd();let f=Im();if(n===void 0&&f!==null&&(n=(f&Wr.Open)===Wr.Open),n===void 0)throw new Error("A <Transition /> is used but it is missing a `show={true | false}` prop.");let[m,g]=b.useState(n?"visible":"hidden"),y=JA(()=>{n||g("hidden")}),[C,S]=b.useState(!0),k=b.useRef([n]);gn(()=>{C!==!1&&k.current[k.current.length-1]!==n&&(k.current.push(n),S(!1))},[k,n]);let P=b.useMemo(()=>({show:n,appear:r,initial:C}),[n,r,C]);gn(()=>{n?g("visible"):!Am(y)&&l.current!==null&&g("hidden")},[n,y]);let N={unmount:i},M=tt(()=>{var B;C&&S(!1),(B=t.beforeEnter)==null||B.call(t)}),O=tt(()=>{var B;C&&S(!1),(B=t.beforeLeave)==null||B.call(t)}),U=Er();return ke.createElement(Rm.Provider,{value:y},ke.createElement(Pm.Provider,{value:P},U({ourProps:{...N,as:b.Fragment,children:ke.createElement(eN,{ref:d,...N,...o,beforeEnter:M,beforeLeave:O})},theirProps:{},defaultTag:b.Fragment,features:ZA,visible:m==="visible",name:"Transition"})))}function WY(t,e){let n=b.useContext(Pm)!==null,r=Im()!==null;return ke.createElement(ke.Fragment,null,!n&&r?ke.createElement(Rv,{ref:e,...t}):ke.createElement(eN,{ref:e,...t}))}let Rv=Bn(zY),eN=Bn(BY),t1=Bn(WY),HY=Object.assign(Rv,{Child:t1,Root:Rv});var qY=(t=>(t[t.Open=0]="Open",t[t.Closed=1]="Closed",t))(qY||{}),GY=(t=>(t[t.SetTitleId=0]="SetTitleId",t))(GY||{});let KY={0(t,e){return t.titleId===e.id?t:{...t,titleId:e.id}}},n1=b.createContext(null);n1.displayName="DialogContext";function Nm(t){let e=b.useContext(n1);if(e===null){let n=new Error(`<${t} /> is missing a parent <Dialog /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,Nm),n}return e}function YY(t,e){return cs(e.type,KY,t,e)}let PT=Bn(function(t,e){let n=b.useId(),{id:r=`headlessui-dialog-${n}`,open:i,onClose:o,initialFocus:l,role:c="dialog",autoFocus:d=!0,__demoMode:f=!1,unmount:m=!1,...g}=t,y=b.useRef(!1);c=function(){return c==="dialog"||c==="alertdialog"?c:(y.current||(y.current=!0,console.warn(`Invalid role [${c}] passed to <Dialog />. Only \`dialog\` and and \`alertdialog\` are supported. Using \`dialog\` instead.`)),"dialog")}();let C=Im();i===void 0&&C!==null&&(i=(C&Wr.Open)===Wr.Open);let S=b.useRef(null),k=bi(S,e),P=Tm(S),N=i?0:1,[M,O]=b.useReducer(YY,{titleId:null,descriptionId:null,panelRef:b.createRef()}),U=tt(()=>o(!1)),B=tt(Q=>O({type:0,id:Q})),H=Qd()?N===0:!1,[D,I]=SY(),A={get current(){var Q;return(Q=M.panelRef.current)!=null?Q:S.current}},E=GA(),{resolveContainers:L}=PY({mainTreeNode:E,portals:D,defaultContainers:[A]}),$=C!==null?(C&Wr.Closing)===Wr.Closing:!1;$K(f||$?!1:H,{allowed:tt(()=>{var Q,de;return[(de=(Q=S.current)==null?void 0:Q.closest("[data-headlessui-portal]"))!=null?de:null]}),disallowed:tt(()=>{var Q;return[(Q=E?.closest("body > *:not(#headlessui-portal-root)"))!=null?Q:null]})});let F=MA.get(null);gn(()=>{if(H)return F.actions.push(r),()=>F.actions.pop(r)},[F,r,H]);let re=LA(F,b.useCallback(Q=>F.selectors.isTop(Q,r),[F,r]));JK(re,L,Q=>{Q.preventDefault(),U()}),kY(re,P?.defaultView,Q=>{Q.preventDefault(),Q.stopPropagation(),document.activeElement&&"blur"in document.activeElement&&typeof document.activeElement.blur=="function"&&document.activeElement.blur(),U()}),sY(f||$?!1:H,P,L),UK(H,S,U);let[he,me]=wK(),fe=b.useMemo(()=>[{dialogState:N,close:U,setTitleId:B,unmount:m},M],[N,M,U,B,m]),te=b.useMemo(()=>({open:N===0}),[N]),ue={ref:k,id:r,role:c,tabIndex:-1,"aria-modal":f?void 0:N===0?!0:void 0,"aria-labelledby":M.titleId,"aria-describedby":he,unmount:m},ae=!IY(),q=Xo.None;H&&!f&&(q|=Xo.RestoreFocus,q|=Xo.TabLock,d&&(q|=Xo.AutoFocus),ae&&(q|=Xo.InitialFocus));let ee=Er();return ke.createElement(mY,null,ke.createElement(kT,{force:!0},ke.createElement(TY,null,ke.createElement(n1.Provider,{value:fe},ke.createElement(HA,{target:S},ke.createElement(kT,{force:!1},ke.createElement(me,{slot:te},ke.createElement(I,null,ke.createElement(DY,{initialFocus:l,initialFocusFallback:S,containers:L,features:q},ke.createElement(CK,{value:U},ee({ourProps:ue,theirProps:g,slot:te,defaultTag:XY,features:JY,visible:N===0,name:"Dialog"})))))))))))}),XY="div",JY=Dp.RenderStrategy|Dp.Static;function QY(t,e){let{transition:n=!1,open:r,...i}=t,o=Im(),l=t.hasOwnProperty("open")||o!==null,c=t.hasOwnProperty("onClose");if(!l&&!c)throw new Error("You have to provide an `open` and an `onClose` prop to the `Dialog` component.");if(!l)throw new Error("You provided an `onClose` prop to the `Dialog`, but forgot an `open` prop.");if(!c)throw new Error("You provided an `open` prop to the `Dialog`, but forgot an `onClose` prop.");if(!o&&typeof t.open!="boolean")throw new Error(`You provided an \`open\` prop to the \`Dialog\`, but the value is not a boolean. Received: ${t.open}`);if(typeof t.onClose!="function")throw new Error(`You provided an \`onClose\` prop to the \`Dialog\`, but the value is not a function. Received: ${t.onClose}`);return(r!==void 0||n)&&!i.static?ke.createElement(IT,null,ke.createElement(HY,{show:r,transition:n,unmount:i.unmount},ke.createElement(PT,{ref:e,...i}))):ke.createElement(IT,null,ke.createElement(PT,{ref:e,open:r,...i}))}let ZY="div";function eX(t,e){let n=b.useId(),{id:r=`headlessui-dialog-panel-${n}`,transition:i=!1,...o}=t,[{dialogState:l,unmount:c},d]=Nm("Dialog.Panel"),f=bi(e,d.panelRef),m=b.useMemo(()=>({open:l===0}),[l]),g=tt(P=>{P.stopPropagation()}),y={ref:f,id:r,onClick:g},C=i?t1:b.Fragment,S=i?{unmount:c}:{},k=Er();return ke.createElement(C,{...S},k({ourProps:y,theirProps:o,slot:m,defaultTag:ZY,name:"Dialog.Panel"}))}let tX="div";function nX(t,e){let{transition:n=!1,...r}=t,[{dialogState:i,unmount:o}]=Nm("Dialog.Backdrop"),l=b.useMemo(()=>({open:i===0}),[i]),c={ref:e,"aria-hidden":!0},d=n?t1:b.Fragment,f=n?{unmount:o}:{},m=Er();return ke.createElement(d,{...f},m({ourProps:c,theirProps:r,slot:l,defaultTag:tX,name:"Dialog.Backdrop"}))}let rX="h2";function iX(t,e){let n=b.useId(),{id:r=`headlessui-dialog-title-${n}`,...i}=t,[{dialogState:o,setTitleId:l}]=Nm("Dialog.Title"),c=bi(e);b.useEffect(()=>(l(r),()=>l(null)),[r,l]);let d=b.useMemo(()=>({open:o===0}),[o]),f={ref:c,id:r};return Er()({ourProps:f,theirProps:i,slot:d,defaultTag:rX,name:"Dialog.Title"})}let sX=Bn(QY),oX=Bn(eX);Bn(nX);let aX=Bn(iX),Gu=Object.assign(sX,{Panel:oX,Title:aX,Description:EK});/**
 * @license lucide-react v0.523.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lX=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),cX=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,r)=>r?r.toUpperCase():n.toLowerCase()),RT=t=>{const e=cX(t);return e.charAt(0).toUpperCase()+e.slice(1)},tN=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim(),uX=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.523.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var dX={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.523.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hX=b.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:i="",children:o,iconNode:l,...c},d)=>b.createElement("svg",{ref:d,...dX,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:tN("lucide",i),...!o&&!uX(c)&&{"aria-hidden":"true"},...c},[...l.map(([f,m])=>b.createElement(f,m)),...Array.isArray(o)?o:[o]]));/**
 * @license lucide-react v0.523.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fX=(t,e)=>{const n=b.forwardRef(({className:r,...i},o)=>b.createElement(hX,{ref:o,iconNode:e,className:tN(`lucide-${lX(RT(t))}`,`lucide-${t}`,r),...i}));return n.displayName=RT(t),n};/**
 * @license lucide-react v0.523.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pX=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],mX=fX("x",pX);function gX({open:t,onClose:e,letra:n,genero:r,asignacionActual:i,todasLasAsignaciones:o,equiposYaAsignados:l={}}){const[c,d]=b.useState("");Object.values(Sp.plantillas[r]||{});const f=Object.keys(Sp.plantillas[r]||{});b.useEffect(()=>{d(i||"")},[i]);const m=async()=>{if(!c){alert("Seleccion un equipo");return}try{const y=be(Ce,`calendario/${r}/asignaciones`);await oo(y,{[n]:c}),e()}catch(y){console.error("Error al guardar asignacin:",y),alert("Hubo un problema al guardar. Intentalo de nuevo.")}},g=f.filter(y=>y===i||!Object.values(l).includes(y));return w.jsx(Gu,{open:t,onClose:e,className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50",children:w.jsxs(Gu.Panel,{className:"bg-white text-black rounded-2xl p-6 w-full max-w-md shadow-xl relative",children:[w.jsx("button",{onClick:e,className:"absolute top-2 right-2 text-gray-600 hover:text-gray-800",children:w.jsx(mX,{size:20})}),w.jsxs(Gu.Title,{className:"text-xl font-semibold text-center mb-4",children:["Asignar equipo a la letra ",n]}),w.jsxs("div",{className:"mb-6",children:[w.jsx("label",{className:"block font-medium mb-2",children:"Equipo:"}),w.jsxs("select",{value:c,onChange:y=>d(y.target.value),className:"w-full border border-gray-300 rounded px-3 py-2",children:[w.jsx("option",{value:"",children:"Seleccionar equipo"}),g.map(y=>w.jsx("option",{value:y,children:y},y))]})]}),w.jsx("button",{onClick:m,className:"w-full bg-yellow-400 text-black font-bold py-2 rounded hover:bg-yellow-300",children:"Guardar"})]})})}function yX({partido:t,asignaciones:e,plantillas:n,equiposInfo:r}){const i=m=>{if(e&&e[m])return e[m];const g=m.match(/^(\d)(er|do|to) Lugar$/);if(g&&r){const y=parseInt(g[1]),C=Object.entries(r).sort((S,k)=>k[1].puntos-S[1].puntos);if(C[y-1])return C[y-1][0]}return m},o=m=>{if(n[m]?.logo)return n[m].logo;const g=Object.entries(n).find(([y])=>y.toLowerCase().includes(m.toLowerCase()));return/ganador|perdedor|finalista/i.test(m)?"logo-empro.png":g?.[1]?.logo||"logo-empro.png"},l=i(t.equipo1),c=i(t.equipo2),d=`/EmproChampions-2025/img/escudos/${o(l)}`,f=`/EmproChampions-2025/img/escudos/${o(c)}`;return w.jsxs("div",{className:"bg-black/50 rounded-xl p-4 flex flex-col items-center shadow-lg border border-white/10 h-full",children:[w.jsxs("div",{className:"text-center text-xs text-yellow-300 mb-3 font-semibold tracking-wider",children:[w.jsx("span",{children:t.fecha}),t.cancha&&w.jsx("span",{className:"mx-2 text-gray-500",children:"|"}),t.cancha&&w.jsxs("span",{children:["CANCHA ",t.cancha]}),t.nombre&&w.jsx("span",{className:"mx-2 text-gray-500",children:"|"}),t.nombre&&w.jsx("span",{className:"text-red-400 font-bold",children:t.nombre.toUpperCase()})]}),w.jsxs("div",{className:"flex justify-between items-center w-full px-2",children:[w.jsxs("div",{className:"flex flex-col items-center text-center w-2/5",children:[w.jsx("img",{src:d,alt:`Logo ${l}`,className:"h-14 w-14 md:h-16 md:w-16 object-contain mb-2"}),w.jsx("span",{className:"font-bold text-sm text-white",children:l})]}),w.jsx("span",{className:"text-2xl font-bold text-gray-400",children:"VS"}),w.jsxs("div",{className:"flex flex-col items-center text-center w-2/5",children:[w.jsx("img",{src:f,alt:`Logo ${c}`,className:"h-14 w-14 md:h-16 md:w-16 object-contain mb-2"}),w.jsx("span",{className:"font-bold text-sm text-white",children:c})]})]})]})}function vX({open:t,onClose:e,genero:n,onGuardar:r=()=>{}}){const[i,o]=b.useState([]),[l,c]=b.useState({equipo1:"",equipo2:""}),[d,f]=b.useState({equipo1:"",equipo2:""});b.useEffect(()=>{const S=be(Ce,`tablas/${n}`);return Pt(S,k=>{if(k.exists()){const P=k.val(),M=Object.entries(P).map(([O,U])=>({nombre:O,puntos:U.puntos??0,logo:U.logo??""})).sort((O,U)=>U.puntos-O.puntos).slice(0,4);o(M)}})},[n]);const m=new Set([l.equipo1,l.equipo2,d.equipo1,d.equipo2]),g=S=>i.filter(k=>k.nombre===S||!m.has(k.nombre)),y=(S,k,P,N)=>w.jsxs("div",{className:"mb-6",children:[w.jsx("h3",{className:"text-yellow-400 text-2xl font-bold mb-3 text-center",children:S}),w.jsxs("div",{className:"flex items-center justify-center gap-4",children:[w.jsxs("select",{value:k,onChange:M=>N(O=>({...O,equipo1:M.target.value})),className:"bg-gray-700 text-white px-4 py-2 rounded-lg w-40 text-lg",children:[w.jsx("option",{value:"",children:"Equipo 1"}),g(k).map(M=>w.jsx("option",{value:M.nombre,children:M.nombre},M.nombre))]}),w.jsx("span",{className:"text-white text-xl font-bold",children:"VS"}),w.jsxs("select",{value:P,onChange:M=>N(O=>({...O,equipo2:M.target.value})),className:"bg-gray-700 text-white px-4 py-2 rounded-lg w-40 text-lg",children:[w.jsx("option",{value:"",children:"Equipo 2"}),g(P).map(M=>w.jsx("option",{value:M.nombre,children:M.nombre},M.nombre))]})]})]}),C=()=>{if(!l.equipo1||!l.equipo2||!d.equipo1||!d.equipo2){alert("Seleccion todos los equipos");return}r({granFinal:[l.equipo1,l.equipo2],tercerLugar:[d.equipo1,d.equipo2]}),e()};return w.jsx(Gu,{open:t,onClose:e,className:"fixed inset-0 bg-black/70 z-50 flex justify-center items-center p-4 font-qatar",children:w.jsxs(Gu.Panel,{className:"bg-gray-800 rounded-2xl shadow-xl w-full max-w-xl p-6 border border-yellow-400/30 text-white",children:[w.jsx("h2",{className:"text-center text-3xl font-bold text-yellow-400 mb-6",children:"Seleccionar Finalistas"}),y("Gran Final",l.equipo1,l.equipo2,c),y("Tercer Lugar",d.equipo1,d.equipo2,f),w.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 pt-4 border-t border-gray-600/50 mt-6",children:[w.jsx("button",{onClick:e,className:"w-full bg-red-600 hover:bg-red-500 text-white font-bold py-3 px-4 rounded-lg text-lg transition-colors",children:"Cancelar"}),w.jsx("button",{onClick:C,className:"w-full bg-green-600 hover:bg-green-500 text-white font-bold py-3 px-4 rounded-lg text-lg transition-colors",children:"Guardar"})]})]})})}const wX=t=>t.startsWith("jornada")?`JORNADA ${t.replace("jornada","")}`:t.startsWith("semifinales")?"SEMIFINALES":t.startsWith("finales")?"FINALES":t.toUpperCase();function _X(){const{user:t,rol:e}=Jr(),[n,r]=b.useState("masculino"),[i,o]=b.useState({calendario:null,equiposInfo:{}}),[l,c]=b.useState(!1),[d,f]=b.useState({letra:"",asignacionActual:""}),[m,g]=b.useState(!1),[y,C]=b.useState(!1);b.useEffect(()=>{const B=be(Ce,`calendario/${n}`),H=be(Ce,`tablas/${n}`),D=Pt(B,async A=>{if(!A.exists()&&!y){const E=Sp.calendario[n];E&&(await St(be(Ce,`calendario/${n}`),{asignaciones:{},partidos:E}),C(!0))}o(E=>({...E,calendario:A.exists()?A.val():null}))}),I=Pt(H,A=>{o(E=>({...E,equiposInfo:A.exists()?A.val():{}}))});return()=>{hd(B,"value",D),hd(H,"value",I)}},[n]);const S=(B,H)=>{f({letra:B,asignacionActual:H}),c(!0)},k=({granFinal:B,tercerLugar:H})=>{const D=be(Ce,"calendario/masculino/partidos/finales");St(D,{granFinal:B,tercerLugar:H}).then(()=>{alert("Finalistas guardados correctamente"),setModalAbierto(!1)}).catch(I=>{console.error("Error al guardar:",I),alert("Error al guardar finalistas")})},P=i.calendario||{},N=P.asignaciones||{},M=P.partidos||{},O=Sp.plantillas[n]||{},U=i.equiposInfo||{};return[...new Set((M?.semifinales||[]).flatMap(B=>[B.equipo1,B.equipo2]).map(B=>N[B]||B).filter(B=>B&&!B.toLowerCase().includes("lugar")&&B!=="undefined"))],w.jsxs("div",{className:"w-full min-h-screen bg-main-background text-white font-qatar flex flex-col",children:[w.jsx(tr,{}),w.jsxs("div",{className:"container mx-auto px-4 py-8 flex-grow",children:[w.jsx("h1",{className:"text-4xl md:text-5xl font-bold text-center text-yellow-400 drop-shadow-lg mb-6",children:"Calendario de Partidos"}),w.jsxs("div",{className:"flex justify-center mb-8 bg-black/30 rounded-full p-1 max-w-sm mx-auto",children:[w.jsx("button",{onClick:()=>r("masculino"),className:`w-1/2 py-2 rounded-full font-bold transition-colors ${n==="masculino"?"bg-yellow-400 text-black":"hover:bg-white/10"}`,children:"Masculino"}),w.jsx("button",{onClick:()=>r("femenino"),className:`w-1/2 py-2 rounded-full font-bold transition-colors ${n==="femenino"?"bg-yellow-400 text-black":"hover:bg-white/10"}`,children:"Femenino"})]}),w.jsx("div",{className:"flex flex-wrap justify-center gap-4 mb-8",children:Object.entries(N).map(([B,H])=>w.jsxs("div",{className:"bg-white text-black px-4 py-2 rounded-xl shadow-md font-bold flex items-center gap-2",children:[w.jsxs("span",{className:"text-red-600",children:[B,":"]}),w.jsx("span",{children:H||`Equipo ${B}`}),(e==="admin"||e==="superadmin")&&w.jsx("button",{onClick:()=>S(B,H),className:"text-blue-600 hover:underline text-sm",children:"Editar"})]},B))}),!M||Object.keys(M).length===0?w.jsx("p",{className:"text-center",children:"Cargando..."}):w.jsx("div",{className:"max-w-4xl mx-auto",children:w.jsx("div",{className:"space-y-8",children:Object.entries(M).map(([B,H])=>w.jsxs("div",{children:[w.jsxs("div",{className:"flex justify-between items-center mb-4 border-b-2 border-yellow-400/20 pb-2",children:[w.jsx("h2",{className:"text-2xl font-bold text-yellow-300",children:wX(B)}),e==="admin"&&B==="finales"&&w.jsx("button",{onClick:()=>g(!0),className:"bg-red-600 text-white font-bold px-3 py-1 rounded-lg text-sm hover:bg-red-500",children:"Seleccionar Finalistas"}),e==="admin"&&B==="semifinales"&&w.jsx("button",{onClick:async()=>{const D=Object.entries(U).sort(([,F],[,re])=>re.puntos-F.puntos).slice(0,4);if(D.length<4){alert("Se necesitan al menos 4 equipos para generar las semifinales.");return}const[I,A,E,L]=D.map(([F])=>F),$=be(Ce,`calendario/${n}/partidos/semifinales`);await St($,[{cancha:"1",equipo1:I,equipo2:L,fecha:"Domingo 29 Jun - 03:00 PM"},{cancha:"2",equipo1:A,equipo2:E,fecha:"Domingo 29 Jun - 03:00 PM"}]),alert("Semifinales generadas correctamente.")},className:"bg-green-600 text-white font-bold px-3 py-1 rounded-lg text-sm hover:bg-green-500",children:"Generar Semifinales"})]}),w.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:Array.isArray(H)&&H.length>0?H.map((D,I)=>w.jsx(yX,{partido:D,asignaciones:N,plantillas:O,equiposInfo:U},I)):w.jsx("p",{className:"col-span-full text-center text-sm text-gray-400",children:"No hay partidos disponibles."})})]},B))})})]}),w.jsx(nr,{}),w.jsx(gX,{open:l,onClose:()=>c(!1),letra:d.letra,genero:n,asignacionActual:d.asignacionActual,todasLasAsignaciones:N,equiposYaAsignados:N}),w.jsx(vX,{open:m,onClose:()=>g(!1),genero:"masculino",onGuardar:k})]})}var f0,AT;function xX(){if(AT)return f0;AT=1;var t={linear:function(e,n,r,i){var o=r-n;return o*e/i+n},easeInQuad:function(e,n,r,i){var o=r-n;return o*(e/=i)*e+n},easeOutQuad:function(e,n,r,i){var o=r-n;return-o*(e/=i)*(e-2)+n},easeInOutQuad:function(e,n,r,i){var o=r-n;return(e/=i/2)<1?o/2*e*e+n:-o/2*(--e*(e-2)-1)+n},easeInCubic:function(e,n,r,i){var o=r-n;return o*(e/=i)*e*e+n},easeOutCubic:function(e,n,r,i){var o=r-n;return o*((e=e/i-1)*e*e+1)+n},easeInOutCubic:function(e,n,r,i){var o=r-n;return(e/=i/2)<1?o/2*e*e*e+n:o/2*((e-=2)*e*e+2)+n},easeInQuart:function(e,n,r,i){var o=r-n;return o*(e/=i)*e*e*e+n},easeOutQuart:function(e,n,r,i){var o=r-n;return-o*((e=e/i-1)*e*e*e-1)+n},easeInOutQuart:function(e,n,r,i){var o=r-n;return(e/=i/2)<1?o/2*e*e*e*e+n:-o/2*((e-=2)*e*e*e-2)+n},easeInQuint:function(e,n,r,i){var o=r-n;return o*(e/=i)*e*e*e*e+n},easeOutQuint:function(e,n,r,i){var o=r-n;return o*((e=e/i-1)*e*e*e*e+1)+n},easeInOutQuint:function(e,n,r,i){var o=r-n;return(e/=i/2)<1?o/2*e*e*e*e*e+n:o/2*((e-=2)*e*e*e*e+2)+n},easeInSine:function(e,n,r,i){var o=r-n;return-o*Math.cos(e/i*(Math.PI/2))+o+n},easeOutSine:function(e,n,r,i){var o=r-n;return o*Math.sin(e/i*(Math.PI/2))+n},easeInOutSine:function(e,n,r,i){var o=r-n;return-o/2*(Math.cos(Math.PI*e/i)-1)+n},easeInExpo:function(e,n,r,i){var o=r-n;return e==0?n:o*Math.pow(2,10*(e/i-1))+n},easeOutExpo:function(e,n,r,i){var o=r-n;return e==i?n+o:o*(-Math.pow(2,-10*e/i)+1)+n},easeInOutExpo:function(e,n,r,i){var o=r-n;return e===0?n:e===i?n+o:(e/=i/2)<1?o/2*Math.pow(2,10*(e-1))+n:o/2*(-Math.pow(2,-10*--e)+2)+n},easeInCirc:function(e,n,r,i){var o=r-n;return-o*(Math.sqrt(1-(e/=i)*e)-1)+n},easeOutCirc:function(e,n,r,i){var o=r-n;return o*Math.sqrt(1-(e=e/i-1)*e)+n},easeInOutCirc:function(e,n,r,i){var o=r-n;return(e/=i/2)<1?-o/2*(Math.sqrt(1-e*e)-1)+n:o/2*(Math.sqrt(1-(e-=2)*e)+1)+n},easeInElastic:function(e,n,r,i){var o=r-n,l,c,d;return d=1.70158,c=0,l=o,e===0?n:(e/=i)===1?n+o:(c||(c=i*.3),l<Math.abs(o)?(l=o,d=c/4):d=c/(2*Math.PI)*Math.asin(o/l),-(l*Math.pow(2,10*(e-=1))*Math.sin((e*i-d)*(2*Math.PI)/c))+n)},easeOutElastic:function(e,n,r,i){var o=r-n,l,c,d;return d=1.70158,c=0,l=o,e===0?n:(e/=i)===1?n+o:(c||(c=i*.3),l<Math.abs(o)?(l=o,d=c/4):d=c/(2*Math.PI)*Math.asin(o/l),l*Math.pow(2,-10*e)*Math.sin((e*i-d)*(2*Math.PI)/c)+o+n)},easeInOutElastic:function(e,n,r,i){var o=r-n,l,c,d;return d=1.70158,c=0,l=o,e===0?n:(e/=i/2)===2?n+o:(c||(c=i*(.3*1.5)),l<Math.abs(o)?(l=o,d=c/4):d=c/(2*Math.PI)*Math.asin(o/l),e<1?-.5*(l*Math.pow(2,10*(e-=1))*Math.sin((e*i-d)*(2*Math.PI)/c))+n:l*Math.pow(2,-10*(e-=1))*Math.sin((e*i-d)*(2*Math.PI)/c)*.5+o+n)},easeInBack:function(e,n,r,i,o){var l=r-n;return o===void 0&&(o=1.70158),l*(e/=i)*e*((o+1)*e-o)+n},easeOutBack:function(e,n,r,i,o){var l=r-n;return o===void 0&&(o=1.70158),l*((e=e/i-1)*e*((o+1)*e+o)+1)+n},easeInOutBack:function(e,n,r,i,o){var l=r-n;return o===void 0&&(o=1.70158),(e/=i/2)<1?l/2*(e*e*(((o*=1.525)+1)*e-o))+n:l/2*((e-=2)*e*(((o*=1.525)+1)*e+o)+2)+n},easeInBounce:function(e,n,r,i){var o=r-n,l;return l=t.easeOutBounce(i-e,0,o,i),o-l+n},easeOutBounce:function(e,n,r,i){var o=r-n;return(e/=i)<1/2.75?o*(7.5625*e*e)+n:e<2/2.75?o*(7.5625*(e-=1.5/2.75)*e+.75)+n:e<2.5/2.75?o*(7.5625*(e-=2.25/2.75)*e+.9375)+n:o*(7.5625*(e-=2.625/2.75)*e+.984375)+n},easeInOutBounce:function(e,n,r,i){var o=r-n,l;return e<i/2?(l=t.easeInBounce(e*2,0,o,i),l*.5+n):(l=t.easeOutBounce(e*2-i,0,o,i),l*.5+o*.5+n)}};return f0=t,f0}var bX=xX();function EX(t){return t*Math.PI/180}function Yn(t,e){return t+Math.random()*(e-t)}function SX(t,e){return Math.floor(t+Math.random()*(e-t+1))}var Ku;(function(t){t[t.Circle=0]="Circle",t[t.Square=1]="Square",t[t.Strip=2]="Strip"})(Ku||(Ku={}));var Bs;(function(t){t[t.Positive=1]="Positive",t[t.Negative=-1]="Negative"})(Bs||(Bs={}));const CX=1e3/60;class TX{constructor(e,n,r,i){this.getOptions=n;const{colors:o,initialVelocityX:l,initialVelocityY:c}=this.getOptions();this.context=e,this.x=r,this.y=i,this.w=Yn(5,20),this.h=Yn(5,20),this.radius=Yn(5,10),this.vx=typeof l=="number"?Yn(-l,l):Yn(l.min,l.max),this.vy=typeof c=="number"?Yn(-c,0):Yn(c.min,c.max),this.shape=SX(0,2),this.angle=EX(Yn(0,360)),this.angularSpin=Yn(-.2,.2),this.color=o[Math.floor(Math.random()*o.length)],this.rotateY=Yn(0,1),this.rotationDirection=Yn(0,1)?Bs.Positive:Bs.Negative}update(e){const{gravity:n,wind:r,friction:i,opacity:o,drawShape:l}=this.getOptions(),c=e/CX;this.x+=this.vx*c,this.y+=this.vy*c,this.vy+=n*c,this.vx+=r*c,this.vx*=i**c,this.vy*=i**c,this.rotateY>=1&&this.rotationDirection===Bs.Positive?this.rotationDirection=Bs.Negative:this.rotateY<=-1&&this.rotationDirection===Bs.Negative&&(this.rotationDirection=Bs.Positive);const d=.1*this.rotationDirection*c;if(this.rotateY+=d,this.angle+=this.angularSpin,this.context.save(),this.context.translate(this.x,this.y),this.context.rotate(this.angle),this.context.scale(1,this.rotateY),this.context.rotate(this.angle),this.context.beginPath(),this.context.fillStyle=this.color,this.context.strokeStyle=this.color,this.context.globalAlpha=o,this.context.lineCap="round",this.context.lineWidth=2,l&&typeof l=="function")l.call(this,this.context);else switch(this.shape){case Ku.Circle:{this.context.beginPath(),this.context.arc(0,0,this.radius,0,2*Math.PI),this.context.fill();break}case Ku.Square:{this.context.fillRect(-this.w/2,-this.h/2,this.w,this.h);break}case Ku.Strip:{this.context.fillRect(-this.w/6,-this.h/2,this.w/3,this.h);break}}this.context.closePath(),this.context.restore()}}class kX{constructor(e,n){this.x=0,this.y=0,this.w=0,this.h=0,this.lastNumberOfPieces=0,this.tweenProgress=0,this.tweenFrom=0,this.particles=[],this.particlesGenerated=0,this.removeParticleAt=i=>{this.particles.splice(i,1)},this.getParticle=()=>{const i=Yn(this.x,this.w+this.x),o=Yn(this.y,this.h+this.y);return new TX(this.context,this.getOptions,i,o)},this.animate=i=>{const{canvas:o,context:l,particlesGenerated:c,lastNumberOfPieces:d}=this,{run:f,recycle:m,numberOfPieces:g,debug:y,tweenFunction:C,tweenDuration:S}=this.getOptions();if(!f)return!1;const k=this.particles.length,P=m?k:c;if(P<g){d!==g&&(this.tweenProgress=0,this.tweenFrom=P,this.lastNumberOfPieces=g),this.tweenProgress=Math.min(S,Math.max(0,this.tweenProgress+i));const N=C(this.tweenProgress,this.tweenFrom,g,S),M=Math.round(N-P);for(let O=0;O<M;O++)this.particles.push(this.getParticle());this.particlesGenerated+=M}y&&(l.font="12px sans-serif",l.fillStyle="#333",l.textAlign="right",l.fillText(`Particles: ${k}`,o.width-10,o.height-20));for(let N=this.particles.length-1;N>=0;N--){const M=this.particles[N];M.update(i),(M.y>o.height||M.y<-100||M.x>o.width+100||M.x<-100)&&(m&&P<=g?this.particles[N]=this.getParticle():this.removeParticleAt(N))}return k>0||P<g},this.canvas=e;const r=this.canvas.getContext("2d");if(!r)throw new Error("Could not get canvas context");this.context=r,this.getOptions=n}}const r1={width:typeof window<"u"?window.innerWidth:300,height:typeof window<"u"?window.innerHeight:200,numberOfPieces:200,friction:.99,wind:0,gravity:.1,initialVelocityX:4,initialVelocityY:10,colors:["#f44336","#e91e63","#9c27b0","#673ab7","#3f51b5","#2196f3","#03a9f4","#00bcd4","#009688","#4CAF50","#8BC34A","#CDDC39","#FFEB3B","#FFC107","#FF9800","#FF5722","#795548"],opacity:1,debug:!1,tweenFunction:bX.easeInOutQuad,tweenDuration:5e3,recycle:!0,run:!0};class IX{constructor(e,n){this.lastFrameTime=0,this.setOptionsWithDefaults=i=>{const o={confettiSource:{x:0,y:0,w:this.canvas.width,h:0}};this._options={...o,...r1,...i},Object.assign(this,i.confettiSource)},this.update=(i=0)=>{const{options:{run:o,onConfettiComplete:l,frameRate:c},canvas:d,context:f}=this,m=Math.min(i-this.lastFrameTime,50);if(c&&m<1e3/c){this.rafId=requestAnimationFrame(this.update);return}this.lastFrameTime=i-(c?m%c:0),o&&(f.fillStyle="white",f.clearRect(0,0,d.width,d.height)),this.generator.animate(m)?this.rafId=requestAnimationFrame(this.update):(l&&typeof l=="function"&&this.generator.particlesGenerated>0&&l.call(this,this),this._options.run=!1)},this.reset=()=>{this.generator&&this.generator.particlesGenerated>0&&(this.generator.particlesGenerated=0,this.generator.particles=[],this.generator.lastNumberOfPieces=0)},this.stop=()=>{this.options={run:!1},this.rafId&&(cancelAnimationFrame(this.rafId),this.rafId=void 0)},this.canvas=e;const r=this.canvas.getContext("2d");if(!r)throw new Error("Could not get canvas context");this.context=r,this.generator=new kX(this.canvas,()=>this.options),this.options=n,this.update()}get options(){return this._options}set options(e){const n=this._options?.run,r=this._options?.recycle;this.setOptionsWithDefaults(e),this.generator&&(Object.assign(this.generator,this.options.confettiSource),typeof e.recycle=="boolean"&&e.recycle&&r===!1&&(this.generator.lastNumberOfPieces=this.generator.particles.length)),typeof e.run=="boolean"&&e.run&&n===!1&&this.update()}}const PX=ke.createRef();class i1 extends ke.Component{constructor(e){super(e),this.canvas=ke.createRef(),this.canvas=e.canvasRef||PX}componentDidMount(){if(this.canvas.current){const e=p0(this.props)[0];this.confetti=new IX(this.canvas.current,e)}}componentDidUpdate(){const e=p0(this.props)[0];this.confetti&&(this.confetti.options=e)}componentWillUnmount(){this.confetti&&this.confetti.stop(),this.confetti=void 0}render(){const[e,n]=p0(this.props),r={zIndex:2,position:"absolute",pointerEvents:"none",top:0,left:0,bottom:0,right:0,...n.style};return w.jsx("canvas",{width:e.width,height:e.height,ref:this.canvas,...n,style:r})}}i1.defaultProps={...r1};i1.displayName="ReactConfetti";function p0(t){const e={},n={},r={},i=[...Object.keys(r1),"confettiSource","drawShape","onConfettiComplete","frameRate"],o=["canvasRef"];for(const l in t){const c=t[l];i.includes(l)?e[l]=c:o.includes(l)?o[l]=c:r[l]=c}return[e,r,n]}const RX=ke.forwardRef((t,e)=>w.jsx(i1,{canvasRef:e,...t})),AX=t=>{const e=b.useRef(t);return b.useEffect(()=>{e.current=t}),e},NX=(t,e=100,n=!1)=>{const r=AX(t),i=b.useRef(),o=[e,n,r];function l(){i.current&&clearTimeout(i.current),i.current=void 0}b.useEffect(()=>l,o);function c(){i.current=void 0}return b.useCallback(function(){const d=arguments,{current:f}=i;if(f===void 0&&n)return i.current=setTimeout(c,e),r.current.apply(null,d);f&&clearTimeout(f),i.current=setTimeout(()=>{i.current=void 0,r.current.apply(null,d)},e)},o)},OX=(t,e,n)=>{const r=b.useState(t);return[r[0],NX(r[1],e,n)]};function m0(t,e,n,r){const i=b.useRef(n),o=b.useRef(r);b.useEffect(()=>{i.current=n,o.current=r}),b.useEffect(()=>{const l=t&&"current"in t?t.current:t;if(!l)return;let c=0;function d(...m){c||i.current.apply(this,m)}l.addEventListener(e,d);const f=o.current;return()=>{c=1,l.removeEventListener(e,d),f&&f()}},[t,e])}const DX={},Yu=typeof window>"u"?null:window,MX=Yu&&typeof Yu.visualViewport<"u"?Yu.visualViewport:null,NT=()=>[document.documentElement.clientWidth,document.documentElement.clientHeight],LX=function(t){t===void 0&&(t=DX);const{wait:e,leading:n,initialWidth:r=0,initialHeight:i=0}=t,[o,l]=OX(typeof document>"u"?[r,i]:NT,e,n),c=()=>l(NT);return m0(Yu,"resize",c),m0(MX,"resize",c),m0(Yu,"orientationchange",c),o};function jX(){const{partidoId:t}=Dv(),[e,n]=b.useState({equipo1:0,equipo2:0}),[r,i]=b.useState(null),[o,l]=b.useState([]),[c,d]=b.useState("00:00"),[f,m]=b.useState("activo"),[g,y]=b.useState(!1),[C,S]=LX(),k=xr();if(b.useEffect(()=>{const N=be(Ce,`partidos/${t}/marcador`),M=be(Ce,`partidos/${t}/alineacion`),O=be(Ce,`partidos/${t}/eventos`),U=be(Ce,`partidos/${t}/cronometro/tiempo`),B=be(Ce,`partidos/${t}/estado`),H=Pt(N,L=>{L.exists()&&n(L.val())}),D=Pt(M,L=>{L.exists()&&i(L.val())}),I=Pt(O,L=>{const $=L.val();if($){const F=[],re=he=>{for(const me in he)F.push({id:me,...he[me]})};$.goles&&re($.goles),$.tarjetas&&re($.tarjetas),$.cambios&&re($.cambios),F.sort((he,me)=>{const[fe,te]=he.minuto?.split(":").map(Number)||[0,0],[ue,ae]=me.minuto?.split(":").map(Number)||[0,0];return fe*60+te-(ue*60+ae)}),l(F)}}),A=Pt(U,L=>{L.exists()&&d(L.val())}),E=Pt(B,L=>{if(L.exists()){const $=L.val();m($),$==="finalizado"&&y(!0)}});return()=>{H(),D(),I(),A(),E()}},[t]),!r)return w.jsx("div",{className:"text-white text-center p-6",children:"Cargando partido..."});const P=e.equipo1>e.equipo2?r.equipo1.nombre:e.equipo2>e.equipo1?r.equipo2.nombre:"Empate";return w.jsxs("div",{className:"min-h-screen bg-cover bg-center font-qatar text-white px-4",style:{backgroundImage:"url('/EmproChampions-2025/img/fondoempro-horizontal.png')"},children:[w.jsx(tr,{}),w.jsx("h1",{className:"text-4xl font-bold text-center mt-6 text-yellow-400 drop-shadow",children:"Partido en curso"}),w.jsxs("div",{className:"text-center mt-4 text-2xl",children:[" ",c]}),w.jsxs("div",{className:"flex justify-center items-center gap-4 mt-4",children:[w.jsx("img",{src:`/EmproChampions-2025/img/escudos/${r.equipo1.logo}`,className:"w-16 h-16 object-contain"}),w.jsxs("span",{className:"text-4xl font-extrabold",children:[e.equipo1," - ",e.equipo2]}),w.jsx("img",{src:`/EmproChampions-2025/img/escudos/${r.equipo2.logo}`,className:"w-16 h-16 object-contain"})]}),w.jsxs("div",{className:"max-w-3xl mx-auto bg-black/50 p-4 mt-6 mb-20 rounded-xl",children:[w.jsx("h2",{className:"text-yellow-400 font-bold text-xl mb-2",children:"Eventos del partido"}),o.length===0?w.jsx("p",{className:"text-gray-300",children:"Sin eventos todava."}):w.jsx(dP,{eventos:o})]}),w.jsx(nr,{}),g&&w.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-80 flex justify-center items-center z-50 p-4",children:w.jsxs("div",{className:"bg-gray-900 rounded-2xl shadow-2xl w-full max-w-lg p-8 text-center border-2 border-yellow-400 relative",children:[w.jsx("h2",{className:"text-4xl font-extrabold text-yellow-400 mb-6 animate-bounce",children:"Partido Finalizado!"}),P!=="Empate"?w.jsxs(w.Fragment,{children:[w.jsx("img",{src:`/EmproChampions-2025/img/escudos/${P===r?.equipo1?.nombre?r?.equipo1?.logo:r?.equipo2?.logo}`,alt:"Escudo ganador",className:"w-36 h-36 mx-auto mb-6 drop-shadow-xl"}),w.jsxs("p",{className:"text-white text-5xl md:text-6xl font-extrabold",children:[" ",P]})]}):w.jsx("p",{className:"text-4xl text-white",children:" El partido termin en empate"}),w.jsx("button",{onClick:()=>k("/"),className:"mt-6 bg-green-600 hover:bg-green-500 text-white font-bold py-2 px-6 rounded-full text-lg shadow-lg",children:"Cerrar"}),P!=="Empate"&&w.jsx(RX,{width:C,height:S,numberOfPieces:500,gravity:.3,recycle:!1})]})})]})}function FX({open:t,onClose:e}){const{user:n}=Jr(),[r,i]=b.useState(null),[o,l]=b.useState(0),[c,d]=b.useState(""),[f,m]=b.useState(!1),g=S=>{const k=S.target.files[0];k&&k.type.startsWith("image/")?(i(k),d("")):(i(null),d("Por favor, selecciona un archivo de imagen vlido."))},y=()=>{if(!r||!n)return;m(!0);const S=QI(),k=Hw(),P=R9(S,`galeria/${Date.now()}_${r.name}`),N=I9(P,r);N.on("state_changed",M=>{const O=M.bytesTransferred/M.totalBytes*100;l(O)},M=>{console.error("Error al subir imagen:",M),d("Ocurri un error al subir la imagen."),m(!1)},()=>{P9(N.snapshot.ref).then(M=>{const O=be(k,"galeria");Tl(O,{imageUrl:M,timestamp:w7(),uploadedBy:n.uid}),C()})})},C=()=>{i(null),l(0),d(""),m(!1),e()};return t?w.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-75 flex justify-center items-center z-50",children:w.jsxs("div",{className:"bg-gray-800 p-6 rounded-lg shadow-xl w-full max-w-md",children:[w.jsx("h2",{className:"text-2xl font-bold text-yellow-400 mb-4",children:"Subir Nueva Foto"}),w.jsx("input",{type:"file",accept:"image/*",onChange:g,className:"block w-full text-sm text-gray-400 file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-sm file:font-semibold file:bg-yellow-500 file:text-black hover:file:bg-yellow-400"}),r&&w.jsxs("p",{className:"text-sm mt-2 text-gray-300",children:["Archivo seleccionado: ",r.name]}),c&&w.jsx("p",{className:"text-red-500 text-sm mt-2",children:c}),f&&w.jsx("div",{className:"w-full bg-gray-600 rounded-full h-2.5 mt-4",children:w.jsx("div",{className:"bg-green-500 h-2.5 rounded-full",style:{width:`${o}%`}})}),w.jsxs("div",{className:"flex justify-end gap-4 mt-6",children:[w.jsx("button",{onClick:C,disabled:f,className:"px-4 py-2 rounded-lg bg-gray-600 hover:bg-gray-500 disabled:opacity-50",children:"Cancelar"}),w.jsx("button",{onClick:y,disabled:!r||f,className:"px-4 py-2 rounded-lg bg-green-600 hover:bg-green-500 disabled:bg-gray-400 disabled:cursor-not-allowed",children:f?"Subiendo...":"Subir"})]})]})}):null}function $X({title:t,titleId:e,...n},r){return b.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?b.createElement("title",{id:e},t):null,b.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21 8.25c0-2.485-2.099-4.5-4.688-4.5-1.935 0-3.597 1.126-4.312 2.733-.715-1.607-2.377-2.733-4.313-2.733C5.1 3.75 3 5.765 3 8.25c0 7.22 9 12 9 12s9-4.78 9-12Z"}))}const UX=b.forwardRef($X);function VX({foto:t,onImageClick:e}){const{user:n}=Jr(),[r,i]=b.useState(!1),o=b.useRef(null),l=b.useRef(0),c=y=>{if(y?.stopPropagation(),!n)return;const C=be(Ce,`galeria/${t.id}/likes`),S=t.likes&&t.likes[n.uid];oo(C,{[n.uid]:S?null:!0})},d=()=>{t.likes&&t.likes[n.uid]||c(),i(!0),setTimeout(()=>i(!1),1e3)},f=()=>{o.current&&(clearTimeout(o.current),o.current=null);const y=new Date().getTime(),C=y-l.current;C<300&&C>0?d():o.current=setTimeout(()=>{e(t)},300),l.current=y},m=t.likes?Object.keys(t.likes).length:0,g=n&&t.likes&&t.likes[n.uid];return w.jsxs("div",{className:"group relative aspect-square bg-gray-700 rounded-lg overflow-hidden cursor-pointer",onClick:f,children:[w.jsx("img",{src:t.imageUrl,alt:"Foto de la galera",className:"w-full h-full object-cover transition-transform duration-300 group-hover:scale-110"}),w.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-0 group-hover:bg-opacity-40 transition-opacity duration-300 flex justify-center items-center",children:w.jsxs("div",{onClick:c,className:"flex items-center gap-2 text-white opacity-0 group-hover:opacity-100 transition-opacity duration-300 p-2 rounded-full bg-black bg-opacity-25",children:[g?w.jsx(dS,{className:"h-7 w-7 text-red-500"}):w.jsx(UX,{className:"h-7 w-7"}),w.jsx("span",{className:"font-bold text-lg",children:m})]})}),r&&w.jsx("div",{className:"absolute inset-0 flex justify-center items-center pointer-events-none",children:w.jsx(dS,{className:"w-24 h-24 text-white drop-shadow-lg animate-like-heart"})})]})}function BX({foto:t,onClose:e}){if(!t)return null;const n=r=>{r.target.id==="modal-backdrop"&&e()};return w.jsx("div",{id:"modal-backdrop",onClick:n,className:"fixed inset-0 bg-black bg-opacity-80 flex justify-center items-center z-50 p-4",children:w.jsxs("div",{className:"relative max-w-4xl max-h-full",children:[w.jsx("button",{onClick:e,className:"absolute -top-4 -right-4 bg-white text-black rounded-full w-8 h-8 flex items-center justify-center text-xl font-bold z-10","aria-label":"Cerrar",children:""}),w.jsx("img",{src:t.imageUrl,alt:"Vista detallada",className:"object-contain max-w-full max-h-[90vh] rounded-lg"})]})})}function zX(){const{rol:t}=Jr(),[e,n]=b.useState(!1),[r,i]=b.useState(null),[o,l]=b.useState([]),[c,d]=b.useState(!0);b.useEffect(()=>{const m=be(Ce,"galeria"),g=Pt(m,y=>{const C=y.val(),S=C?Object.keys(C).map(k=>({id:k,...C[k]})):[];l(S.sort((k,P)=>P.timestamp-k.timestamp)),d(!1)});return()=>g()},[]);const f=m=>{i(m)};return w.jsxs("div",{className:"w-full min-h-screen bg-main-background text-white font-qatar flex flex-col",children:[w.jsx(tr,{}),w.jsxs("div",{className:"container mx-auto px-4 py-8 flex-grow",children:[w.jsxs("div",{className:"flex justify-between items-center mb-6",children:[w.jsx("h1",{className:"text-4xl md:text-5xl font-bold text-yellow-400 drop-shadow-lg",children:"Galera"}),(t==="admin"||t==="superadmin")&&w.jsx("button",{onClick:()=>n(!0),className:"bg-yellow-500 text-black rounded-full w-12 h-12 flex items-center justify-center shadow-lg hover:bg-yellow-400 transition-transform duration-200 hover:scale-110","aria-label":"Subir Foto",children:w.jsx(cP,{className:"w-7 h-7"})})]}),c?w.jsx("p",{className:"text-center text-xl",children:"Cargando galera..."}):o.length>0?w.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 gap-4",children:o.map(m=>w.jsx(VX,{foto:m,onImageClick:f},m.id))}):w.jsx("p",{className:"text-center text-xl",children:"An no hay fotos en la galera. Sube la primera!"})]}),w.jsx(nr,{}),w.jsx(FX,{open:e,onClose:()=>n(!1)}),w.jsx(BX,{foto:r,onClose:()=>i(null)})]})}function WX({mvps:t,onSelect:e,onClose:n,jugadoresYaSeleccionados:r=[]}){if(!t)return null;const i=t.filter(o=>!r.some(l=>l?.nombre===o.nombre));return w.jsx("div",{className:"fixed inset-0 flex items-center justify-center z-50 bg-black/80 p-4 font-qatar",children:w.jsxs("div",{className:"bg-gray-800 border border-yellow-500/30 rounded-xl shadow-2xl w-full max-w-md mx-auto",children:[w.jsxs("div",{className:"flex justify-between items-center p-4 border-b border-gray-700",children:[w.jsx("h2",{className:"text-xl font-bold text-yellow-400",children:"Seleccionar Jugador Estrella"}),w.jsx("button",{onClick:n,className:"text-gray-400 hover:text-white text-2xl",children:""})]}),w.jsx("div",{className:"p-4 max-h-[60vh] overflow-y-auto",children:i.length>0?w.jsx("ul",{className:"space-y-2",children:i.map((o,l)=>w.jsxs("li",{className:"bg-gray-700 p-3 rounded-lg flex items-center justify-between",children:[w.jsxs("div",{children:[w.jsx("p",{className:"font-bold text-white",children:o.nombre}),w.jsxs("p",{className:"text-sm text-gray-400",children:[o.equipo," - ",o.genero]})]}),w.jsx("button",{onClick:()=>e(o),className:"bg-green-600 text-white p-2 rounded-full hover:bg-green-500 transition-transform hover:scale-110",title:`Seleccionar a ${o.nombre}`,children:w.jsx(x$,{className:"w-5 h-5"})})]},l))}):w.jsx("p",{className:"text-center text-gray-400 py-8",children:"No hay nuevos MVPs disponibles o ya han sido seleccionados."})})]})})}const HX=t=>t?`/EmproChampions-2025/camisas/camisa-${t.toLowerCase().replace(/\s+/g,"-")}.png`:"/EmproChampions-2025/camisas/camisa-default.png",qX=t=>t&&["don bosco","luz","emprosaurios"].includes(t.toLowerCase())?"#000":"#fff",GX=t=>t?`/EmproChampions-2025/img/escudos/${t.toLowerCase().replace(/\s+/g,"")}.png`:"",KX=[{top:"15%",left:"50%"},{top:"35%",left:"25%"},{top:"35%",left:"75%"},{top:"65%",left:"25%"},{top:"65%",left:"75%"},{top:"85%",left:"50%"}];function OT({titulo:t,jugadores:e,onSlotClick:n,isAdmin:r,onDeleteSlot:i}){return w.jsxs("div",{className:"flex flex-col items-center",children:[w.jsx("h2",{className:"text-3xl font-bold text-yellow-400 mb-4",children:t}),w.jsxs("div",{className:"relative w-[300px] h-[510px] sm:w-[400px] sm:h-[680px]",children:[w.jsx("img",{src:"/EmproChampions-2025/img/cancha-vertical.svg",alt:"cancha",className:"w-full h-full"}),e.map((o,l)=>w.jsx("div",{className:`absolute group ${r?"cursor-pointer hover:scale-110 transition-transform":""}`,style:{...KX[l],transform:"translate(-50%, -50%)"},onClick:()=>r&&n(l),children:o?w.jsxs("div",{className:"relative w-fit flex flex-col items-center text-center",children:[r&&w.jsx("button",{onClick:c=>{c.stopPropagation(),i(l)},className:"absolute -top-2 -right-2 z-30 text-red-500 bg-white rounded-full opacity-0 group-hover:opacity-100 transition-opacity",title:"Quitar jugador",children:w.jsx(E$,{className:"w-6 h-6"})}),w.jsxs("div",{className:"relative",children:[w.jsx("img",{src:HX(o.equipo),className:"w-16 md:w-20 relative z-10 drop-shadow-lg",alt:`Camiseta de ${o.equipo}`}),w.jsx("div",{className:"absolute top-[12%] font-barcelona text-[24px] md:text-[30px] z-20 pointer-events-none w-full",style:{color:qX(o.equipo),textShadow:"1px 1px 2px rgba(0,0,0,0.6)"},children:o.dorsal})]}),w.jsxs("div",{className:"absolute bottom-[-25px] flex items-center gap-2 font-barcelona text-[12px] text-white bg-black/80 px-2 py-1 rounded z-20 whitespace-nowrap",children:[w.jsx("img",{src:GX(o.equipo),alt:o.equipo,className:"w-4 h-4"}),w.jsx("span",{children:o.nombre})]})]}):w.jsx("div",{className:"w-16 h-16 bg-black/50 rounded-full flex items-center justify-center text-white text-4xl border-2 border-dashed border-gray-500",children:r&&"+"})},l))]})]})}function YX(){const{rol:t}=Jr(),e=t==="admin"||t==="superadmin",[n,r]=b.useState(Array(6).fill(null)),[i,o]=b.useState(Array(6).fill(null)),[l,c]=b.useState(""),[d,f]=b.useState(""),[m,g]=b.useState([]),[y,C]=b.useState(!0),[S,k]=b.useState(!1),[P,N]=b.useState(null);b.useEffect(()=>{const I=be(Ce,"equipoIdeal/masculino"),A=be(Ce,"equipoIdeal/femenino"),E=Pt(I,$=>{const F=$.val();c(F?.jornadaInfo||"Equipo Masculino");const re=F?.jugadores||[];for(;re.length<6;)re.push(null);r(re)}),L=Pt(A,$=>{const F=$.val();f(F?.jornadaInfo||"Equipo Femenino");const re=F?.jugadores||[];for(;re.length<6;)re.push(null);o(re)});return e&&(async()=>{const F=be(Ce,"mvps_registrados"),re=await Zi(F);if(re.exists()){const he=re.val(),me=Object.values(he);g(me)}})(),C(!1),()=>{E(),L()}},[e]);const M=(I,A)=>{N({genero:I,index:A}),k(!0)},O=I=>{if(!P)return;const{genero:A,index:E}=P;if(A==="masculino"){const L=[...n];L[E]=I,r(L)}else{const L=[...i];L[E]=I,o(L)}k(!1)},U=(I,A)=>{if(I==="masculino"){const E=[...n];E[A]=null,r(E)}else{const E=[...i];E[A]=null,o(E)}},B=async()=>{try{await St(be(Ce,"equipoIdeal/masculino"),{jornadaInfo:l,jugadores:n.filter(I=>I!=null)}),await St(be(Ce,"equipoIdeal/femenino"),{jornadaInfo:d,jugadores:i.filter(I=>I!=null)}),alert("Equipos Ideales guardados con xito!")}catch(I){console.error("Error al guardar:",I),alert("Error al guardar los cambios.")}},H=m.filter(I=>I.genero===P?.genero),D=P?.genero==="masculino"?n:i;return y?w.jsx("div",{className:"w-full h-screen bg-main-background flex justify-center items-center text-white text-2xl",children:"Cargando..."}):w.jsxs("div",{className:"w-full min-h-screen bg-main-background text-white font-qatar flex flex-col",children:[w.jsx(tr,{}),w.jsxs("div",{className:"container mx-auto px-4 py-8 flex-grow",children:[w.jsx("div",{className:"text-center mb-12",children:w.jsxs("h1",{className:"text-4xl md:text-5xl font-bold text-yellow-400 drop-shadow-lg flex items-center justify-center gap-4",children:[w.jsx(G0,{className:"w-10 h-10"}),"Equipo Ideal del Torneo",w.jsx(G0,{className:"w-10 h-10"})]})}),w.jsxs("div",{className:"flex flex-col lg:flex-row justify-center items-start gap-8 lg:gap-16",children:[w.jsx(OT,{titulo:e?w.jsx("input",{type:"text",value:l,onChange:I=>c(I.target.value),className:"text-3xl font-bold text-yellow-400 bg-transparent text-center outline-none w-full"}):l,jugadores:n,onSlotClick:I=>M("masculino",I),onDeleteSlot:I=>U("masculino",I),isAdmin:e}),w.jsx(OT,{titulo:e?w.jsx("input",{type:"text",value:d,onChange:I=>f(I.target.value),className:"text-3xl font-bold text-yellow-400 bg-transparent text-center outline-none w-full"}):d,jugadores:i,onSlotClick:I=>M("femenino",I),onDeleteSlot:I=>U("femenino",I),isAdmin:e})]}),e&&w.jsx("div",{className:"text-center mt-12",children:w.jsx("button",{onClick:B,className:"bg-green-600 text-white font-bold px-8 py-3 rounded-lg text-xl hover:bg-green-500 transition-transform hover:scale-105",children:"Guardar Cambios"})})]}),w.jsx(nr,{}),S&&w.jsx(WX,{mvps:H,onSelect:O,onClose:()=>k(!1),jugadoresYaSeleccionados:D})]})}function zi({children:t}){const{user:e,loading:n}=Jr();return n?w.jsx("div",{children:"Cargando aplicacin..."}):e?t:w.jsx(y0,{to:"/login",replace:!0})}function Df({children:t}){const{user:e,rol:n,loading:r}=Jr();return r?w.jsx("div",{children:"Cargando aplicacin..."}):e?n!=="admin"&&n!=="superadmin"?w.jsx(y0,{to:"/",replace:!0}):t:w.jsx(y0,{to:"/login",replace:!0})}function XX(){const[t,e]=b.useState(!1),[n,r]=b.useState({title:"",body:""});return b.useEffect(()=>{e$()},[]),b.useEffect(()=>{const i=Zv(Ea),o=WM(i,l=>{r({title:l.notification.title,body:l.notification.body}),e(!0)});return"serviceWorker"in navigator&&navigator.serviceWorker.register("/EmproChampions-2025/firebase-messaging-sw.js").then(l=>{console.log(" Service Worker registrado:",l)}).catch(l=>{console.error(" Error al registrar Service Worker:",l)}),()=>o()},[]),w.jsx(Z9,{children:w.jsxs(P4,{basename:"/EmproChampions-2025",children:[t&&w.jsx(uP,{title:n.title,body:n.body,onClose:()=>e(!1)}),w.jsxs(s4,{children:[w.jsx(tn,{path:"/login",element:w.jsx(t$,{})}),w.jsx(tn,{path:"/registro",element:w.jsx(n$,{})}),w.jsx(tn,{path:"/",element:w.jsx(zi,{children:w.jsx(I$,{})})}),w.jsx(tn,{path:"/partido/configurar",element:w.jsx(Df,{children:w.jsx(fS,{})})}),w.jsx(tn,{path:"/partido/alineacion",element:w.jsx(Df,{children:w.jsx(Dz,{})})}),w.jsx(tn,{path:"/control-partido/:partidoId",element:w.jsx(Df,{children:w.jsx(L$,{})})}),w.jsx(tn,{path:"/match/:partidoId",element:w.jsx(zi,{children:w.jsx(fS,{modo:"ver"})})}),w.jsx(tn,{path:"/goleadores",element:w.jsx(zi,{children:w.jsx(j$,{})})}),w.jsx(tn,{path:"/historial",element:w.jsx(zi,{children:w.jsx($$,{})})}),w.jsx(tn,{path:"/configuracion",element:w.jsx(zi,{children:w.jsx(YG,{})})}),w.jsx(tn,{path:"/partido/editar/:partidoId",element:w.jsx(Df,{children:w.jsx(XG,{})})}),w.jsx(tn,{path:"/calendario",element:w.jsx(zi,{children:w.jsx(_X,{})})}),w.jsx(tn,{path:"/partido/en-vivo/:partidoId",element:w.jsx(zi,{children:w.jsx(jX,{})})}),w.jsx(tn,{path:"/galeria",element:w.jsx(zi,{children:w.jsx(zX,{})})}),w.jsx(tn,{path:"/equipo-ideal",element:w.jsx(zi,{children:w.jsx(YX,{})})}),w.jsx(tn,{path:"*",element:w.jsx("div",{children:"Pgina no encontrada"})})]})]})})}const zo=sessionStorage.getItem("redirect");sessionStorage.removeItem("redirect");if(zo&&zo!==window.location.pathname.replace("/EmproChampions-2025","")){let t=zo;const e="/EmproChampions-2025";zo.startsWith(e)?(t=zo.substring(e.length),t.startsWith("/")||(t="/"+t)):zo.startsWith("/")||(t="/"+zo),t!==window.location.pathname.replace(e,"")&&(window.history.replaceState(null,null,e+(t==="/"?"":t)),console.log("Redirecting to:",e+(t==="/"?"":t)))}p5.createRoot(document.getElementById("root")).render(w.jsx(ke.StrictMode,{children:w.jsx(XX,{})}));if("serviceWorker"in navigator){const t="/EmproChampions-2025/firebase-messaging-sw.js";navigator.serviceWorker.register(t,{scope:"/EmproChampions-2025/"}).then(e=>{console.log("Service Worker registrado:",e,"con ruta:",t,"y scope:",e.scope)}).catch(e=>{console.error("Fallo el registro del Service Worker:",e,"con ruta:",t)})}
