function l5(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();function rm(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Tv={exports:{}},vu={},kv={exports:{}},Me={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Hb;function c5(){if(Hb)return Me;Hb=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),a=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),g=Symbol.iterator;function v(q){return q===null||typeof q!="object"?null:(q=g&&q[g]||q["@@iterator"],typeof q=="function"?q:null)}var x={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},_=Object.assign,T={};function N(q,te,Q){this.props=q,this.context=te,this.refs=T,this.updater=Q||x}N.prototype.isReactComponent={},N.prototype.setState=function(q,te){if(typeof q!="object"&&typeof q!="function"&&q!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,q,te,"setState")},N.prototype.forceUpdate=function(q){this.updater.enqueueForceUpdate(this,q,"forceUpdate")};function A(){}A.prototype=N.prototype;function k(q,te,Q){this.props=q,this.context=te,this.refs=T,this.updater=Q||x}var P=k.prototype=new A;P.constructor=k,_(P,N.prototype),P.isPureReactComponent=!0;var j=Array.isArray,$=Object.prototype.hasOwnProperty,z={current:null},D={key:!0,ref:!0,__self:!0,__source:!0};function I(q,te,Q){var pe,ve={},_e=null,xe=null;if(te!=null)for(pe in te.ref!==void 0&&(xe=te.ref),te.key!==void 0&&(_e=""+te.key),te)$.call(te,pe)&&!D.hasOwnProperty(pe)&&(ve[pe]=te[pe]);var ke=arguments.length-2;if(ke===1)ve.children=Q;else if(1<ke){for(var Ee=Array(ke),Be=0;Be<ke;Be++)Ee[Be]=arguments[Be+2];ve.children=Ee}if(q&&q.defaultProps)for(pe in ke=q.defaultProps,ke)ve[pe]===void 0&&(ve[pe]=ke[pe]);return{$$typeof:t,type:q,key:_e,ref:xe,props:ve,_owner:z.current}}function O(q,te){return{$$typeof:t,type:q.type,key:te,ref:q.ref,props:q.props,_owner:q._owner}}function b(q){return typeof q=="object"&&q!==null&&q.$$typeof===t}function M(q){var te={"=":"=0",":":"=2"};return"$"+q.replace(/[=:]/g,function(Q){return te[Q]})}var V=/\/+/g;function F(q,te){return typeof q=="object"&&q!==null&&q.key!=null?M(""+q.key):te.toString(36)}function Z(q,te,Q,pe,ve){var _e=typeof q;(_e==="undefined"||_e==="boolean")&&(q=null);var xe=!1;if(q===null)xe=!0;else switch(_e){case"string":case"number":xe=!0;break;case"object":switch(q.$$typeof){case t:case e:xe=!0}}if(xe)return xe=q,ve=ve(xe),q=pe===""?"."+F(xe,0):pe,j(ve)?(Q="",q!=null&&(Q=q.replace(V,"$&/")+"/"),Z(ve,te,Q,"",function(Be){return Be})):ve!=null&&(b(ve)&&(ve=O(ve,Q+(!ve.key||xe&&xe.key===ve.key?"":(""+ve.key).replace(V,"$&/")+"/")+q)),te.push(ve)),1;if(xe=0,pe=pe===""?".":pe+":",j(q))for(var ke=0;ke<q.length;ke++){_e=q[ke];var Ee=pe+F(_e,ke);xe+=Z(_e,te,Q,Ee,ve)}else if(Ee=v(q),typeof Ee=="function")for(q=Ee.call(q),ke=0;!(_e=q.next()).done;)_e=_e.value,Ee=pe+F(_e,ke++),xe+=Z(_e,te,Q,Ee,ve);else if(_e==="object")throw te=String(q),Error("Objects are not valid as a React child (found: "+(te==="[object Object]"?"object with keys {"+Object.keys(q).join(", ")+"}":te)+"). If you meant to render a collection of children, use an array instead.");return xe}function se(q,te,Q){if(q==null)return q;var pe=[],ve=0;return Z(q,pe,"","",function(_e){return te.call(Q,_e,ve++)}),pe}function re(q){if(q._status===-1){var te=q._result;te=te(),te.then(function(Q){(q._status===0||q._status===-1)&&(q._status=1,q._result=Q)},function(Q){(q._status===0||q._status===-1)&&(q._status=2,q._result=Q)}),q._status===-1&&(q._status=0,q._result=te)}if(q._status===1)return q._result.default;throw q._result}var ue={current:null},ne={transition:null},oe={ReactCurrentDispatcher:ue,ReactCurrentBatchConfig:ne,ReactCurrentOwner:z};function le(){throw Error("act(...) is not supported in production builds of React.")}return Me.Children={map:se,forEach:function(q,te,Q){se(q,function(){te.apply(this,arguments)},Q)},count:function(q){var te=0;return se(q,function(){te++}),te},toArray:function(q){return se(q,function(te){return te})||[]},only:function(q){if(!b(q))throw Error("React.Children.only expected to receive a single React element child.");return q}},Me.Component=N,Me.Fragment=n,Me.Profiler=i,Me.PureComponent=k,Me.StrictMode=r,Me.Suspense=u,Me.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=oe,Me.act=le,Me.cloneElement=function(q,te,Q){if(q==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+q+".");var pe=_({},q.props),ve=q.key,_e=q.ref,xe=q._owner;if(te!=null){if(te.ref!==void 0&&(_e=te.ref,xe=z.current),te.key!==void 0&&(ve=""+te.key),q.type&&q.type.defaultProps)var ke=q.type.defaultProps;for(Ee in te)$.call(te,Ee)&&!D.hasOwnProperty(Ee)&&(pe[Ee]=te[Ee]===void 0&&ke!==void 0?ke[Ee]:te[Ee])}var Ee=arguments.length-2;if(Ee===1)pe.children=Q;else if(1<Ee){ke=Array(Ee);for(var Be=0;Be<Ee;Be++)ke[Be]=arguments[Be+2];pe.children=ke}return{$$typeof:t,type:q.type,key:ve,ref:_e,props:pe,_owner:xe}},Me.createContext=function(q){return q={$$typeof:a,_currentValue:q,_currentValue2:q,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},q.Provider={$$typeof:s,_context:q},q.Consumer=q},Me.createElement=I,Me.createFactory=function(q){var te=I.bind(null,q);return te.type=q,te},Me.createRef=function(){return{current:null}},Me.forwardRef=function(q){return{$$typeof:c,render:q}},Me.isValidElement=b,Me.lazy=function(q){return{$$typeof:h,_payload:{_status:-1,_result:q},_init:re}},Me.memo=function(q,te){return{$$typeof:f,type:q,compare:te===void 0?null:te}},Me.startTransition=function(q){var te=ne.transition;ne.transition={};try{q()}finally{ne.transition=te}},Me.unstable_act=le,Me.useCallback=function(q,te){return ue.current.useCallback(q,te)},Me.useContext=function(q){return ue.current.useContext(q)},Me.useDebugValue=function(){},Me.useDeferredValue=function(q){return ue.current.useDeferredValue(q)},Me.useEffect=function(q,te){return ue.current.useEffect(q,te)},Me.useId=function(){return ue.current.useId()},Me.useImperativeHandle=function(q,te,Q){return ue.current.useImperativeHandle(q,te,Q)},Me.useInsertionEffect=function(q,te){return ue.current.useInsertionEffect(q,te)},Me.useLayoutEffect=function(q,te){return ue.current.useLayoutEffect(q,te)},Me.useMemo=function(q,te){return ue.current.useMemo(q,te)},Me.useReducer=function(q,te,Q){return ue.current.useReducer(q,te,Q)},Me.useRef=function(q){return ue.current.useRef(q)},Me.useState=function(q){return ue.current.useState(q)},Me.useSyncExternalStore=function(q,te,Q){return ue.current.useSyncExternalStore(q,te,Q)},Me.useTransition=function(){return ue.current.useTransition()},Me.version="18.3.1",Me}var Wb;function im(){return Wb||(Wb=1,kv.exports=c5()),kv.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qb;function u5(){if(qb)return vu;qb=1;var t=im(),e=Symbol.for("react.element"),n=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,i=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s={key:!0,ref:!0,__self:!0,__source:!0};function a(c,u,f){var h,g={},v=null,x=null;f!==void 0&&(v=""+f),u.key!==void 0&&(v=""+u.key),u.ref!==void 0&&(x=u.ref);for(h in u)r.call(u,h)&&!s.hasOwnProperty(h)&&(g[h]=u[h]);if(c&&c.defaultProps)for(h in u=c.defaultProps,u)g[h]===void 0&&(g[h]=u[h]);return{$$typeof:e,type:c,key:v,ref:x,props:g,_owner:i.current}}return vu.Fragment=n,vu.jsx=a,vu.jsxs=a,vu}var Gb;function d5(){return Gb||(Gb=1,Tv.exports=u5()),Tv.exports}var w=d5(),C=im();const me=rm(C),up=l5({__proto__:null,default:me},[C]);var Ch={},Pv={exports:{}},Vn={},Iv={exports:{}},Rv={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Kb;function f5(){return Kb||(Kb=1,function(t){function e(ne,oe){var le=ne.length;ne.push(oe);e:for(;0<le;){var q=le-1>>>1,te=ne[q];if(0<i(te,oe))ne[q]=oe,ne[le]=te,le=q;else break e}}function n(ne){return ne.length===0?null:ne[0]}function r(ne){if(ne.length===0)return null;var oe=ne[0],le=ne.pop();if(le!==oe){ne[0]=le;e:for(var q=0,te=ne.length,Q=te>>>1;q<Q;){var pe=2*(q+1)-1,ve=ne[pe],_e=pe+1,xe=ne[_e];if(0>i(ve,le))_e<te&&0>i(xe,ve)?(ne[q]=xe,ne[_e]=le,q=_e):(ne[q]=ve,ne[pe]=le,q=pe);else if(_e<te&&0>i(xe,le))ne[q]=xe,ne[_e]=le,q=_e;else break e}}return oe}function i(ne,oe){var le=ne.sortIndex-oe.sortIndex;return le!==0?le:ne.id-oe.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var a=Date,c=a.now();t.unstable_now=function(){return a.now()-c}}var u=[],f=[],h=1,g=null,v=3,x=!1,_=!1,T=!1,N=typeof setTimeout=="function"?setTimeout:null,A=typeof clearTimeout=="function"?clearTimeout:null,k=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function P(ne){for(var oe=n(f);oe!==null;){if(oe.callback===null)r(f);else if(oe.startTime<=ne)r(f),oe.sortIndex=oe.expirationTime,e(u,oe);else break;oe=n(f)}}function j(ne){if(T=!1,P(ne),!_)if(n(u)!==null)_=!0,re($);else{var oe=n(f);oe!==null&&ue(j,oe.startTime-ne)}}function $(ne,oe){_=!1,T&&(T=!1,A(I),I=-1),x=!0;var le=v;try{for(P(oe),g=n(u);g!==null&&(!(g.expirationTime>oe)||ne&&!M());){var q=g.callback;if(typeof q=="function"){g.callback=null,v=g.priorityLevel;var te=q(g.expirationTime<=oe);oe=t.unstable_now(),typeof te=="function"?g.callback=te:g===n(u)&&r(u),P(oe)}else r(u);g=n(u)}if(g!==null)var Q=!0;else{var pe=n(f);pe!==null&&ue(j,pe.startTime-oe),Q=!1}return Q}finally{g=null,v=le,x=!1}}var z=!1,D=null,I=-1,O=5,b=-1;function M(){return!(t.unstable_now()-b<O)}function V(){if(D!==null){var ne=t.unstable_now();b=ne;var oe=!0;try{oe=D(!0,ne)}finally{oe?F():(z=!1,D=null)}}else z=!1}var F;if(typeof k=="function")F=function(){k(V)};else if(typeof MessageChannel<"u"){var Z=new MessageChannel,se=Z.port2;Z.port1.onmessage=V,F=function(){se.postMessage(null)}}else F=function(){N(V,0)};function re(ne){D=ne,z||(z=!0,F())}function ue(ne,oe){I=N(function(){ne(t.unstable_now())},oe)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(ne){ne.callback=null},t.unstable_continueExecution=function(){_||x||(_=!0,re($))},t.unstable_forceFrameRate=function(ne){0>ne||125<ne?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):O=0<ne?Math.floor(1e3/ne):5},t.unstable_getCurrentPriorityLevel=function(){return v},t.unstable_getFirstCallbackNode=function(){return n(u)},t.unstable_next=function(ne){switch(v){case 1:case 2:case 3:var oe=3;break;default:oe=v}var le=v;v=oe;try{return ne()}finally{v=le}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(ne,oe){switch(ne){case 1:case 2:case 3:case 4:case 5:break;default:ne=3}var le=v;v=ne;try{return oe()}finally{v=le}},t.unstable_scheduleCallback=function(ne,oe,le){var q=t.unstable_now();switch(typeof le=="object"&&le!==null?(le=le.delay,le=typeof le=="number"&&0<le?q+le:q):le=q,ne){case 1:var te=-1;break;case 2:te=250;break;case 5:te=1073741823;break;case 4:te=1e4;break;default:te=5e3}return te=le+te,ne={id:h++,callback:oe,priorityLevel:ne,startTime:le,expirationTime:te,sortIndex:-1},le>q?(ne.sortIndex=le,e(f,ne),n(u)===null&&ne===n(f)&&(T?(A(I),I=-1):T=!0,ue(j,le-q))):(ne.sortIndex=te,e(u,ne),_||x||(_=!0,re($))),ne},t.unstable_shouldYield=M,t.unstable_wrapCallback=function(ne){var oe=v;return function(){var le=v;v=oe;try{return ne.apply(this,arguments)}finally{v=le}}}}(Rv)),Rv}var Yb;function h5(){return Yb||(Yb=1,Iv.exports=f5()),Iv.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Xb;function p5(){if(Xb)return Vn;Xb=1;var t=im(),e=h5();function n(o){for(var l="https://reactjs.org/docs/error-decoder.html?invariant="+o,d=1;d<arguments.length;d++)l+="&args[]="+encodeURIComponent(arguments[d]);return"Minified React error #"+o+"; visit "+l+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,i={};function s(o,l){a(o,l),a(o+"Capture",l)}function a(o,l){for(i[o]=l,o=0;o<l.length;o++)r.add(l[o])}var c=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),u=Object.prototype.hasOwnProperty,f=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,h={},g={};function v(o){return u.call(g,o)?!0:u.call(h,o)?!1:f.test(o)?g[o]=!0:(h[o]=!0,!1)}function x(o,l,d,m){if(d!==null&&d.type===0)return!1;switch(typeof l){case"function":case"symbol":return!0;case"boolean":return m?!1:d!==null?!d.acceptsBooleans:(o=o.toLowerCase().slice(0,5),o!=="data-"&&o!=="aria-");default:return!1}}function _(o,l,d,m){if(l===null||typeof l>"u"||x(o,l,d,m))return!0;if(m)return!1;if(d!==null)switch(d.type){case 3:return!l;case 4:return l===!1;case 5:return isNaN(l);case 6:return isNaN(l)||1>l}return!1}function T(o,l,d,m,y,S,L){this.acceptsBooleans=l===2||l===3||l===4,this.attributeName=m,this.attributeNamespace=y,this.mustUseProperty=d,this.propertyName=o,this.type=l,this.sanitizeURL=S,this.removeEmptyString=L}var N={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(o){N[o]=new T(o,0,!1,o,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(o){var l=o[0];N[l]=new T(l,1,!1,o[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(o){N[o]=new T(o,2,!1,o.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(o){N[o]=new T(o,2,!1,o,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(o){N[o]=new T(o,3,!1,o.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(o){N[o]=new T(o,3,!0,o,null,!1,!1)}),["capture","download"].forEach(function(o){N[o]=new T(o,4,!1,o,null,!1,!1)}),["cols","rows","size","span"].forEach(function(o){N[o]=new T(o,6,!1,o,null,!1,!1)}),["rowSpan","start"].forEach(function(o){N[o]=new T(o,5,!1,o.toLowerCase(),null,!1,!1)});var A=/[\-:]([a-z])/g;function k(o){return o[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(o){var l=o.replace(A,k);N[l]=new T(l,1,!1,o,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(o){var l=o.replace(A,k);N[l]=new T(l,1,!1,o,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(o){var l=o.replace(A,k);N[l]=new T(l,1,!1,o,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(o){N[o]=new T(o,1,!1,o.toLowerCase(),null,!1,!1)}),N.xlinkHref=new T("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(o){N[o]=new T(o,1,!1,o.toLowerCase(),null,!0,!0)});function P(o,l,d,m){var y=N.hasOwnProperty(l)?N[l]:null;(y!==null?y.type!==0:m||!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(_(l,d,y,m)&&(d=null),m||y===null?v(l)&&(d===null?o.removeAttribute(l):o.setAttribute(l,""+d)):y.mustUseProperty?o[y.propertyName]=d===null?y.type===3?!1:"":d:(l=y.attributeName,m=y.attributeNamespace,d===null?o.removeAttribute(l):(y=y.type,d=y===3||y===4&&d===!0?"":""+d,m?o.setAttributeNS(m,l,d):o.setAttribute(l,d))))}var j=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,$=Symbol.for("react.element"),z=Symbol.for("react.portal"),D=Symbol.for("react.fragment"),I=Symbol.for("react.strict_mode"),O=Symbol.for("react.profiler"),b=Symbol.for("react.provider"),M=Symbol.for("react.context"),V=Symbol.for("react.forward_ref"),F=Symbol.for("react.suspense"),Z=Symbol.for("react.suspense_list"),se=Symbol.for("react.memo"),re=Symbol.for("react.lazy"),ue=Symbol.for("react.offscreen"),ne=Symbol.iterator;function oe(o){return o===null||typeof o!="object"?null:(o=ne&&o[ne]||o["@@iterator"],typeof o=="function"?o:null)}var le=Object.assign,q;function te(o){if(q===void 0)try{throw Error()}catch(d){var l=d.stack.trim().match(/\n( *(at )?)/);q=l&&l[1]||""}return`
`+q+o}var Q=!1;function pe(o,l){if(!o||Q)return"";Q=!0;var d=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(l)if(l=function(){throw Error()},Object.defineProperty(l.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(l,[])}catch(X){var m=X}Reflect.construct(o,[],l)}else{try{l.call()}catch(X){m=X}o.call(l.prototype)}else{try{throw Error()}catch(X){m=X}o()}}catch(X){if(X&&m&&typeof X.stack=="string"){for(var y=X.stack.split(`
`),S=m.stack.split(`
`),L=y.length-1,B=S.length-1;1<=L&&0<=B&&y[L]!==S[B];)B--;for(;1<=L&&0<=B;L--,B--)if(y[L]!==S[B]){if(L!==1||B!==1)do if(L--,B--,0>B||y[L]!==S[B]){var H=`
`+y[L].replace(" at new "," at ");return o.displayName&&H.includes("<anonymous>")&&(H=H.replace("<anonymous>",o.displayName)),H}while(1<=L&&0<=B);break}}}finally{Q=!1,Error.prepareStackTrace=d}return(o=o?o.displayName||o.name:"")?te(o):""}function ve(o){switch(o.tag){case 5:return te(o.type);case 16:return te("Lazy");case 13:return te("Suspense");case 19:return te("SuspenseList");case 0:case 2:case 15:return o=pe(o.type,!1),o;case 11:return o=pe(o.type.render,!1),o;case 1:return o=pe(o.type,!0),o;default:return""}}function _e(o){if(o==null)return null;if(typeof o=="function")return o.displayName||o.name||null;if(typeof o=="string")return o;switch(o){case D:return"Fragment";case z:return"Portal";case O:return"Profiler";case I:return"StrictMode";case F:return"Suspense";case Z:return"SuspenseList"}if(typeof o=="object")switch(o.$$typeof){case M:return(o.displayName||"Context")+".Consumer";case b:return(o._context.displayName||"Context")+".Provider";case V:var l=o.render;return o=o.displayName,o||(o=l.displayName||l.name||"",o=o!==""?"ForwardRef("+o+")":"ForwardRef"),o;case se:return l=o.displayName||null,l!==null?l:_e(o.type)||"Memo";case re:l=o._payload,o=o._init;try{return _e(o(l))}catch{}}return null}function xe(o){var l=o.type;switch(o.tag){case 24:return"Cache";case 9:return(l.displayName||"Context")+".Consumer";case 10:return(l._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return o=l.render,o=o.displayName||o.name||"",l.displayName||(o!==""?"ForwardRef("+o+")":"ForwardRef");case 7:return"Fragment";case 5:return l;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return _e(l);case 8:return l===I?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof l=="function")return l.displayName||l.name||null;if(typeof l=="string")return l}return null}function ke(o){switch(typeof o){case"boolean":case"number":case"string":case"undefined":return o;case"object":return o;default:return""}}function Ee(o){var l=o.type;return(o=o.nodeName)&&o.toLowerCase()==="input"&&(l==="checkbox"||l==="radio")}function Be(o){var l=Ee(o)?"checked":"value",d=Object.getOwnPropertyDescriptor(o.constructor.prototype,l),m=""+o[l];if(!o.hasOwnProperty(l)&&typeof d<"u"&&typeof d.get=="function"&&typeof d.set=="function"){var y=d.get,S=d.set;return Object.defineProperty(o,l,{configurable:!0,get:function(){return y.call(this)},set:function(L){m=""+L,S.call(this,L)}}),Object.defineProperty(o,l,{enumerable:d.enumerable}),{getValue:function(){return m},setValue:function(L){m=""+L},stopTracking:function(){o._valueTracker=null,delete o[l]}}}}function $e(o){o._valueTracker||(o._valueTracker=Be(o))}function _n(o){if(!o)return!1;var l=o._valueTracker;if(!l)return!0;var d=l.getValue(),m="";return o&&(m=Ee(o)?o.checked?"true":"false":o.value),o=m,o!==d?(l.setValue(o),!0):!1}function wt(o){if(o=o||(typeof document<"u"?document:void 0),typeof o>"u")return null;try{return o.activeElement||o.body}catch{return o.body}}function xn(o,l){var d=l.checked;return le({},l,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:d??o._wrapperState.initialChecked})}function Mt(o,l){var d=l.defaultValue==null?"":l.defaultValue,m=l.checked!=null?l.checked:l.defaultChecked;d=ke(l.value!=null?l.value:d),o._wrapperState={initialChecked:m,initialValue:d,controlled:l.type==="checkbox"||l.type==="radio"?l.checked!=null:l.value!=null}}function kt(o,l){l=l.checked,l!=null&&P(o,"checked",l,!1)}function Co(o,l){kt(o,l);var d=ke(l.value),m=l.type;if(d!=null)m==="number"?(d===0&&o.value===""||o.value!=d)&&(o.value=""+d):o.value!==""+d&&(o.value=""+d);else if(m==="submit"||m==="reset"){o.removeAttribute("value");return}l.hasOwnProperty("value")?ja(o,l.type,d):l.hasOwnProperty("defaultValue")&&ja(o,l.type,ke(l.defaultValue)),l.checked==null&&l.defaultChecked!=null&&(o.defaultChecked=!!l.defaultChecked)}function df(o,l,d){if(l.hasOwnProperty("value")||l.hasOwnProperty("defaultValue")){var m=l.type;if(!(m!=="submit"&&m!=="reset"||l.value!==void 0&&l.value!==null))return;l=""+o._wrapperState.initialValue,d||l===o.value||(o.value=l),o.defaultValue=l}d=o.name,d!==""&&(o.name=""),o.defaultChecked=!!o._wrapperState.initialChecked,d!==""&&(o.name=d)}function ja(o,l,d){(l!=="number"||wt(o.ownerDocument)!==o)&&(d==null?o.defaultValue=""+o._wrapperState.initialValue:o.defaultValue!==""+d&&(o.defaultValue=""+d))}var Ai=Array.isArray;function Ni(o,l,d,m){if(o=o.options,l){l={};for(var y=0;y<d.length;y++)l["$"+d[y]]=!0;for(d=0;d<o.length;d++)y=l.hasOwnProperty("$"+o[d].value),o[d].selected!==y&&(o[d].selected=y),y&&m&&(o[d].defaultSelected=!0)}else{for(d=""+ke(d),l=null,y=0;y<o.length;y++){if(o[y].value===d){o[y].selected=!0,m&&(o[y].defaultSelected=!0);return}l!==null||o[y].disabled||(l=o[y])}l!==null&&(l.selected=!0)}}function Ec(o,l){if(l.dangerouslySetInnerHTML!=null)throw Error(n(91));return le({},l,{value:void 0,defaultValue:void 0,children:""+o._wrapperState.initialValue})}function Fa(o,l){var d=l.value;if(d==null){if(d=l.children,l=l.defaultValue,d!=null){if(l!=null)throw Error(n(92));if(Ai(d)){if(1<d.length)throw Error(n(93));d=d[0]}l=d}l==null&&(l=""),d=l}o._wrapperState={initialValue:ke(d)}}function $a(o,l){var d=ke(l.value),m=ke(l.defaultValue);d!=null&&(d=""+d,d!==o.value&&(o.value=d),l.defaultValue==null&&o.defaultValue!==d&&(o.defaultValue=d)),m!=null&&(o.defaultValue=""+m)}function Sc(o){var l=o.textContent;l===o._wrapperState.initialValue&&l!==""&&l!==null&&(o.value=l)}function Dt(o){switch(o){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Lt(o,l){return o==null||o==="http://www.w3.org/1999/xhtml"?Dt(l):o==="http://www.w3.org/2000/svg"&&l==="foreignObject"?"http://www.w3.org/1999/xhtml":o}var Oi,Cc=function(o){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(l,d,m,y){MSApp.execUnsafeLocalFunction(function(){return o(l,d,m,y)})}:o}(function(o,l){if(o.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in o)o.innerHTML=l;else{for(Oi=Oi||document.createElement("div"),Oi.innerHTML="<svg>"+l.valueOf().toString()+"</svg>",l=Oi.firstChild;o.firstChild;)o.removeChild(o.firstChild);for(;l.firstChild;)o.appendChild(l.firstChild)}});function Es(o,l){if(l){var d=o.firstChild;if(d&&d===o.lastChild&&d.nodeType===3){d.nodeValue=l;return}}o.textContent=l}var To={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},ko=["Webkit","ms","Moz","O"];Object.keys(To).forEach(function(o){ko.forEach(function(l){l=l+o.charAt(0).toUpperCase()+o.substring(1),To[l]=To[o]})});function Tc(o,l,d){return l==null||typeof l=="boolean"||l===""?"":d||typeof l!="number"||l===0||To.hasOwnProperty(o)&&To[o]?(""+l).trim():l+"px"}function kc(o,l){o=o.style;for(var d in l)if(l.hasOwnProperty(d)){var m=d.indexOf("--")===0,y=Tc(d,l[d],m);d==="float"&&(d="cssFloat"),m?o.setProperty(d,y):o[d]=y}}var Pc=le({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ic(o,l){if(l){if(Pc[o]&&(l.children!=null||l.dangerouslySetInnerHTML!=null))throw Error(n(137,o));if(l.dangerouslySetInnerHTML!=null){if(l.children!=null)throw Error(n(60));if(typeof l.dangerouslySetInnerHTML!="object"||!("__html"in l.dangerouslySetInnerHTML))throw Error(n(61))}if(l.style!=null&&typeof l.style!="object")throw Error(n(62))}}function Rc(o,l){if(o.indexOf("-")===-1)return typeof l.is=="string";switch(o){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Po=null;function Va(o){return o=o.target||o.srcElement||window,o.correspondingUseElement&&(o=o.correspondingUseElement),o.nodeType===3?o.parentNode:o}var Ac=null,ur=null,si=null;function Ua(o){if(o=nu(o)){if(typeof Ac!="function")throw Error(n(280));var l=o.stateNode;l&&(l=Vf(l),Ac(o.stateNode,o.type,l))}}function Mi(o){ur?si?si.push(o):si=[o]:ur=o}function Nc(){if(ur){var o=ur,l=si;if(si=ur=null,Ua(o),l)for(o=0;o<l.length;o++)Ua(l[o])}}function Ba(o,l){return o(l)}function Oc(){}var Di=!1;function Mc(o,l,d){if(Di)return o(l,d);Di=!0;try{return Ba(o,l,d)}finally{Di=!1,(ur!==null||si!==null)&&(Oc(),Nc())}}function Pt(o,l){var d=o.stateNode;if(d===null)return null;var m=Vf(d);if(m===null)return null;d=m[l];e:switch(l){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(m=!m.disabled)||(o=o.type,m=!(o==="button"||o==="input"||o==="select"||o==="textarea")),o=!m;break e;default:o=!1}if(o)return null;if(d&&typeof d!="function")throw Error(n(231,l,typeof d));return d}var za=!1;if(c)try{var Ar={};Object.defineProperty(Ar,"passive",{get:function(){za=!0}}),window.addEventListener("test",Ar,Ar),window.removeEventListener("test",Ar,Ar)}catch{za=!1}function Io(o,l,d,m,y,S,L,B,H){var X=Array.prototype.slice.call(arguments,3);try{l.apply(d,X)}catch(ae){this.onError(ae)}}var Ro=!1,Ha=null,Nr=!1,Dc=null,Zm={onError:function(o){Ro=!0,Ha=o}};function Lc(o,l,d,m,y,S,L,B,H){Ro=!1,Ha=null,Io.apply(Zm,arguments)}function eg(o,l,d,m,y,S,L,B,H){if(Lc.apply(this,arguments),Ro){if(Ro){var X=Ha;Ro=!1,Ha=null}else throw Error(n(198));Nr||(Nr=!0,Dc=X)}}function Or(o){var l=o,d=o;if(o.alternate)for(;l.return;)l=l.return;else{o=l;do l=o,(l.flags&4098)!==0&&(d=l.return),o=l.return;while(o)}return l.tag===3?d:null}function Ao(o){if(o.tag===13){var l=o.memoizedState;if(l===null&&(o=o.alternate,o!==null&&(l=o.memoizedState)),l!==null)return l.dehydrated}return null}function Mr(o){if(Or(o)!==o)throw Error(n(188))}function ff(o){var l=o.alternate;if(!l){if(l=Or(o),l===null)throw Error(n(188));return l!==o?null:o}for(var d=o,m=l;;){var y=d.return;if(y===null)break;var S=y.alternate;if(S===null){if(m=y.return,m!==null){d=m;continue}break}if(y.child===S.child){for(S=y.child;S;){if(S===d)return Mr(y),o;if(S===m)return Mr(y),l;S=S.sibling}throw Error(n(188))}if(d.return!==m.return)d=y,m=S;else{for(var L=!1,B=y.child;B;){if(B===d){L=!0,d=y,m=S;break}if(B===m){L=!0,m=y,d=S;break}B=B.sibling}if(!L){for(B=S.child;B;){if(B===d){L=!0,d=S,m=y;break}if(B===m){L=!0,m=S,d=y;break}B=B.sibling}if(!L)throw Error(n(189))}}if(d.alternate!==m)throw Error(n(190))}if(d.tag!==3)throw Error(n(188));return d.stateNode.current===d?o:l}function jc(o){return o=ff(o),o!==null?Wa(o):null}function Wa(o){if(o.tag===5||o.tag===6)return o;for(o=o.child;o!==null;){var l=Wa(o);if(l!==null)return l;o=o.sibling}return null}var qa=e.unstable_scheduleCallback,Fc=e.unstable_cancelCallback,hf=e.unstable_shouldYield,tg=e.unstable_requestPaint,nt=e.unstable_now,pf=e.unstable_getCurrentPriorityLevel,No=e.unstable_ImmediatePriority,Ss=e.unstable_UserBlockingPriority,dr=e.unstable_NormalPriority,$c=e.unstable_LowPriority,mf=e.unstable_IdlePriority,Oo=null,Yn=null;function gf(o){if(Yn&&typeof Yn.onCommitFiberRoot=="function")try{Yn.onCommitFiberRoot(Oo,o,void 0,(o.current.flags&128)===128)}catch{}}var bn=Math.clz32?Math.clz32:yf,Vc=Math.log,vf=Math.LN2;function yf(o){return o>>>=0,o===0?32:31-(Vc(o)/vf|0)|0}var Ga=64,Ka=4194304;function Cs(o){switch(o&-o){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return o&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return o}}function Mo(o,l){var d=o.pendingLanes;if(d===0)return 0;var m=0,y=o.suspendedLanes,S=o.pingedLanes,L=d&268435455;if(L!==0){var B=L&~y;B!==0?m=Cs(B):(S&=L,S!==0&&(m=Cs(S)))}else L=d&~y,L!==0?m=Cs(L):S!==0&&(m=Cs(S));if(m===0)return 0;if(l!==0&&l!==m&&(l&y)===0&&(y=m&-m,S=l&-l,y>=S||y===16&&(S&4194240)!==0))return l;if((m&4)!==0&&(m|=d&16),l=o.entangledLanes,l!==0)for(o=o.entanglements,l&=m;0<l;)d=31-bn(l),y=1<<d,m|=o[d],l&=~y;return m}function ng(o,l){switch(o){case 1:case 2:case 4:return l+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return l+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Li(o,l){for(var d=o.suspendedLanes,m=o.pingedLanes,y=o.expirationTimes,S=o.pendingLanes;0<S;){var L=31-bn(S),B=1<<L,H=y[L];H===-1?((B&d)===0||(B&m)!==0)&&(y[L]=ng(B,l)):H<=l&&(o.expiredLanes|=B),S&=~B}}function Xn(o){return o=o.pendingLanes&-1073741825,o!==0?o:o&1073741824?1073741824:0}function Do(){var o=Ga;return Ga<<=1,(Ga&4194240)===0&&(Ga=64),o}function Ts(o){for(var l=[],d=0;31>d;d++)l.push(o);return l}function ks(o,l,d){o.pendingLanes|=l,l!==536870912&&(o.suspendedLanes=0,o.pingedLanes=0),o=o.eventTimes,l=31-bn(l),o[l]=d}function Qe(o,l){var d=o.pendingLanes&~l;o.pendingLanes=l,o.suspendedLanes=0,o.pingedLanes=0,o.expiredLanes&=l,o.mutableReadLanes&=l,o.entangledLanes&=l,l=o.entanglements;var m=o.eventTimes;for(o=o.expirationTimes;0<d;){var y=31-bn(d),S=1<<y;l[y]=0,m[y]=-1,o[y]=-1,d&=~S}}function Ps(o,l){var d=o.entangledLanes|=l;for(o=o.entanglements;d;){var m=31-bn(d),y=1<<m;y&l|o[m]&l&&(o[m]|=l),d&=~y}}var Fe=0;function Is(o){return o&=-o,1<o?4<o?(o&268435455)!==0?16:536870912:4:1}var wf,Ya,_f,xf,bf,Uc=!1,oi=[],Qt=null,Dr=null,Lr=null,Rs=new Map,fr=new Map,ai=[],rg="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Ef(o,l){switch(o){case"focusin":case"focusout":Qt=null;break;case"dragenter":case"dragleave":Dr=null;break;case"mouseover":case"mouseout":Lr=null;break;case"pointerover":case"pointerout":Rs.delete(l.pointerId);break;case"gotpointercapture":case"lostpointercapture":fr.delete(l.pointerId)}}function Nn(o,l,d,m,y,S){return o===null||o.nativeEvent!==S?(o={blockedOn:l,domEventName:d,eventSystemFlags:m,nativeEvent:S,targetContainers:[y]},l!==null&&(l=nu(l),l!==null&&Ya(l)),o):(o.eventSystemFlags|=m,l=o.targetContainers,y!==null&&l.indexOf(y)===-1&&l.push(y),o)}function ig(o,l,d,m,y){switch(l){case"focusin":return Qt=Nn(Qt,o,l,d,m,y),!0;case"dragenter":return Dr=Nn(Dr,o,l,d,m,y),!0;case"mouseover":return Lr=Nn(Lr,o,l,d,m,y),!0;case"pointerover":var S=y.pointerId;return Rs.set(S,Nn(Rs.get(S)||null,o,l,d,m,y)),!0;case"gotpointercapture":return S=y.pointerId,fr.set(S,Nn(fr.get(S)||null,o,l,d,m,y)),!0}return!1}function Sf(o){var l=$o(o.target);if(l!==null){var d=Or(l);if(d!==null){if(l=d.tag,l===13){if(l=Ao(d),l!==null){o.blockedOn=l,bf(o.priority,function(){_f(d)});return}}else if(l===3&&d.stateNode.current.memoizedState.isDehydrated){o.blockedOn=d.tag===3?d.stateNode.containerInfo:null;return}}}o.blockedOn=null}function ji(o){if(o.blockedOn!==null)return!1;for(var l=o.targetContainers;0<l.length;){var d=Xa(o.domEventName,o.eventSystemFlags,l[0],o.nativeEvent);if(d===null){d=o.nativeEvent;var m=new d.constructor(d.type,d);Po=m,d.target.dispatchEvent(m),Po=null}else return l=nu(d),l!==null&&Ya(l),o.blockedOn=d,!1;l.shift()}return!0}function Lo(o,l,d){ji(o)&&d.delete(l)}function Cf(){Uc=!1,Qt!==null&&ji(Qt)&&(Qt=null),Dr!==null&&ji(Dr)&&(Dr=null),Lr!==null&&ji(Lr)&&(Lr=null),Rs.forEach(Lo),fr.forEach(Lo)}function jr(o,l){o.blockedOn===l&&(o.blockedOn=null,Uc||(Uc=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,Cf)))}function Fr(o){function l(y){return jr(y,o)}if(0<oi.length){jr(oi[0],o);for(var d=1;d<oi.length;d++){var m=oi[d];m.blockedOn===o&&(m.blockedOn=null)}}for(Qt!==null&&jr(Qt,o),Dr!==null&&jr(Dr,o),Lr!==null&&jr(Lr,o),Rs.forEach(l),fr.forEach(l),d=0;d<ai.length;d++)m=ai[d],m.blockedOn===o&&(m.blockedOn=null);for(;0<ai.length&&(d=ai[0],d.blockedOn===null);)Sf(d),d.blockedOn===null&&ai.shift()}var Fi=j.ReactCurrentBatchConfig,As=!0;function ht(o,l,d,m){var y=Fe,S=Fi.transition;Fi.transition=null;try{Fe=1,Bc(o,l,d,m)}finally{Fe=y,Fi.transition=S}}function sg(o,l,d,m){var y=Fe,S=Fi.transition;Fi.transition=null;try{Fe=4,Bc(o,l,d,m)}finally{Fe=y,Fi.transition=S}}function Bc(o,l,d,m){if(As){var y=Xa(o,l,d,m);if(y===null)gg(o,l,m,jo,d),Ef(o,m);else if(ig(y,o,l,d,m))m.stopPropagation();else if(Ef(o,m),l&4&&-1<rg.indexOf(o)){for(;y!==null;){var S=nu(y);if(S!==null&&wf(S),S=Xa(o,l,d,m),S===null&&gg(o,l,m,jo,d),S===y)break;y=S}y!==null&&m.stopPropagation()}else gg(o,l,m,null,d)}}var jo=null;function Xa(o,l,d,m){if(jo=null,o=Va(m),o=$o(o),o!==null)if(l=Or(o),l===null)o=null;else if(d=l.tag,d===13){if(o=Ao(l),o!==null)return o;o=null}else if(d===3){if(l.stateNode.current.memoizedState.isDehydrated)return l.tag===3?l.stateNode.containerInfo:null;o=null}else l!==o&&(o=null);return jo=o,null}function zc(o){switch(o){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(pf()){case No:return 1;case Ss:return 4;case dr:case $c:return 16;case mf:return 536870912;default:return 16}default:return 16}}var Jn=null,Ja=null,On=null;function Hc(){if(On)return On;var o,l=Ja,d=l.length,m,y="value"in Jn?Jn.value:Jn.textContent,S=y.length;for(o=0;o<d&&l[o]===y[o];o++);var L=d-o;for(m=1;m<=L&&l[d-m]===y[S-m];m++);return On=y.slice(o,1<m?1-m:void 0)}function Qa(o){var l=o.keyCode;return"charCode"in o?(o=o.charCode,o===0&&l===13&&(o=13)):o=l,o===10&&(o=13),32<=o||o===13?o:0}function li(){return!0}function Wc(){return!1}function Zt(o){function l(d,m,y,S,L){this._reactName=d,this._targetInst=y,this.type=m,this.nativeEvent=S,this.target=L,this.currentTarget=null;for(var B in o)o.hasOwnProperty(B)&&(d=o[B],this[B]=d?d(S):S[B]);return this.isDefaultPrevented=(S.defaultPrevented!=null?S.defaultPrevented:S.returnValue===!1)?li:Wc,this.isPropagationStopped=Wc,this}return le(l.prototype,{preventDefault:function(){this.defaultPrevented=!0;var d=this.nativeEvent;d&&(d.preventDefault?d.preventDefault():typeof d.returnValue!="unknown"&&(d.returnValue=!1),this.isDefaultPrevented=li)},stopPropagation:function(){var d=this.nativeEvent;d&&(d.stopPropagation?d.stopPropagation():typeof d.cancelBubble!="unknown"&&(d.cancelBubble=!0),this.isPropagationStopped=li)},persist:function(){},isPersistent:li}),l}var $r={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(o){return o.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Za=Zt($r),ci=le({},$r,{view:0,detail:0}),og=Zt(ci),el,$i,Ns,Fo=le({},ci,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:p,button:0,buttons:0,relatedTarget:function(o){return o.relatedTarget===void 0?o.fromElement===o.srcElement?o.toElement:o.fromElement:o.relatedTarget},movementX:function(o){return"movementX"in o?o.movementX:(o!==Ns&&(Ns&&o.type==="mousemove"?(el=o.screenX-Ns.screenX,$i=o.screenY-Ns.screenY):$i=el=0,Ns=o),el)},movementY:function(o){return"movementY"in o?o.movementY:$i}}),tl=Zt(Fo),qc=le({},Fo,{dataTransfer:0}),Tf=Zt(qc),nl=le({},ci,{relatedTarget:0}),rl=Zt(nl),kf=le({},$r,{animationName:0,elapsedTime:0,pseudoElement:0}),Vi=Zt(kf),Pf=le({},$r,{clipboardData:function(o){return"clipboardData"in o?o.clipboardData:window.clipboardData}}),If=Zt(Pf),Rf=le({},$r,{data:0}),Gc=Zt(Rf),Mn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Af={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Nf={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Os(o){var l=this.nativeEvent;return l.getModifierState?l.getModifierState(o):(o=Nf[o])?!!l[o]:!1}function p(){return Os}var E=le({},ci,{key:function(o){if(o.key){var l=Mn[o.key]||o.key;if(l!=="Unidentified")return l}return o.type==="keypress"?(o=Qa(o),o===13?"Enter":String.fromCharCode(o)):o.type==="keydown"||o.type==="keyup"?Af[o.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:p,charCode:function(o){return o.type==="keypress"?Qa(o):0},keyCode:function(o){return o.type==="keydown"||o.type==="keyup"?o.keyCode:0},which:function(o){return o.type==="keypress"?Qa(o):o.type==="keydown"||o.type==="keyup"?o.keyCode:0}}),R=Zt(E),U=le({},Fo,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),G=Zt(U),J=le({},ci,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:p}),he=Zt(J),Ye=le({},$r,{propertyName:0,elapsedTime:0,pseudoElement:0}),jt=Zt(Ye),Ve=le({},Fo,{deltaX:function(o){return"deltaX"in o?o.deltaX:"wheelDeltaX"in o?-o.wheelDeltaX:0},deltaY:function(o){return"deltaY"in o?o.deltaY:"wheelDeltaY"in o?-o.wheelDeltaY:"wheelDelta"in o?-o.wheelDelta:0},deltaZ:0,deltaMode:0}),Bt=Zt(Ve),zt=[9,13,27,32],ui=c&&"CompositionEvent"in window,en=null;c&&"documentMode"in document&&(en=document.documentMode);var il=c&&"TextEvent"in window&&!en,sl=c&&(!ui||en&&8<en&&11>=en),jx=" ",Fx=!1;function $x(o,l){switch(o){case"keyup":return zt.indexOf(l.keyCode)!==-1;case"keydown":return l.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Vx(o){return o=o.detail,typeof o=="object"&&"data"in o?o.data:null}var ol=!1;function sO(o,l){switch(o){case"compositionend":return Vx(l);case"keypress":return l.which!==32?null:(Fx=!0,jx);case"textInput":return o=l.data,o===jx&&Fx?null:o;default:return null}}function oO(o,l){if(ol)return o==="compositionend"||!ui&&$x(o,l)?(o=Hc(),On=Ja=Jn=null,ol=!1,o):null;switch(o){case"paste":return null;case"keypress":if(!(l.ctrlKey||l.altKey||l.metaKey)||l.ctrlKey&&l.altKey){if(l.char&&1<l.char.length)return l.char;if(l.which)return String.fromCharCode(l.which)}return null;case"compositionend":return sl&&l.locale!=="ko"?null:l.data;default:return null}}var aO={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ux(o){var l=o&&o.nodeName&&o.nodeName.toLowerCase();return l==="input"?!!aO[o.type]:l==="textarea"}function Bx(o,l,d,m){Mi(m),l=jf(l,"onChange"),0<l.length&&(d=new Za("onChange","change",null,d,m),o.push({event:d,listeners:l}))}var Kc=null,Yc=null;function lO(o){o1(o,0)}function Of(o){var l=dl(o);if(_n(l))return o}function cO(o,l){if(o==="change")return l}var zx=!1;if(c){var ag;if(c){var lg="oninput"in document;if(!lg){var Hx=document.createElement("div");Hx.setAttribute("oninput","return;"),lg=typeof Hx.oninput=="function"}ag=lg}else ag=!1;zx=ag&&(!document.documentMode||9<document.documentMode)}function Wx(){Kc&&(Kc.detachEvent("onpropertychange",qx),Yc=Kc=null)}function qx(o){if(o.propertyName==="value"&&Of(Yc)){var l=[];Bx(l,Yc,o,Va(o)),Mc(lO,l)}}function uO(o,l,d){o==="focusin"?(Wx(),Kc=l,Yc=d,Kc.attachEvent("onpropertychange",qx)):o==="focusout"&&Wx()}function dO(o){if(o==="selectionchange"||o==="keyup"||o==="keydown")return Of(Yc)}function fO(o,l){if(o==="click")return Of(l)}function hO(o,l){if(o==="input"||o==="change")return Of(l)}function pO(o,l){return o===l&&(o!==0||1/o===1/l)||o!==o&&l!==l}var Vr=typeof Object.is=="function"?Object.is:pO;function Xc(o,l){if(Vr(o,l))return!0;if(typeof o!="object"||o===null||typeof l!="object"||l===null)return!1;var d=Object.keys(o),m=Object.keys(l);if(d.length!==m.length)return!1;for(m=0;m<d.length;m++){var y=d[m];if(!u.call(l,y)||!Vr(o[y],l[y]))return!1}return!0}function Gx(o){for(;o&&o.firstChild;)o=o.firstChild;return o}function Kx(o,l){var d=Gx(o);o=0;for(var m;d;){if(d.nodeType===3){if(m=o+d.textContent.length,o<=l&&m>=l)return{node:d,offset:l-o};o=m}e:{for(;d;){if(d.nextSibling){d=d.nextSibling;break e}d=d.parentNode}d=void 0}d=Gx(d)}}function Yx(o,l){return o&&l?o===l?!0:o&&o.nodeType===3?!1:l&&l.nodeType===3?Yx(o,l.parentNode):"contains"in o?o.contains(l):o.compareDocumentPosition?!!(o.compareDocumentPosition(l)&16):!1:!1}function Xx(){for(var o=window,l=wt();l instanceof o.HTMLIFrameElement;){try{var d=typeof l.contentWindow.location.href=="string"}catch{d=!1}if(d)o=l.contentWindow;else break;l=wt(o.document)}return l}function cg(o){var l=o&&o.nodeName&&o.nodeName.toLowerCase();return l&&(l==="input"&&(o.type==="text"||o.type==="search"||o.type==="tel"||o.type==="url"||o.type==="password")||l==="textarea"||o.contentEditable==="true")}function mO(o){var l=Xx(),d=o.focusedElem,m=o.selectionRange;if(l!==d&&d&&d.ownerDocument&&Yx(d.ownerDocument.documentElement,d)){if(m!==null&&cg(d)){if(l=m.start,o=m.end,o===void 0&&(o=l),"selectionStart"in d)d.selectionStart=l,d.selectionEnd=Math.min(o,d.value.length);else if(o=(l=d.ownerDocument||document)&&l.defaultView||window,o.getSelection){o=o.getSelection();var y=d.textContent.length,S=Math.min(m.start,y);m=m.end===void 0?S:Math.min(m.end,y),!o.extend&&S>m&&(y=m,m=S,S=y),y=Kx(d,S);var L=Kx(d,m);y&&L&&(o.rangeCount!==1||o.anchorNode!==y.node||o.anchorOffset!==y.offset||o.focusNode!==L.node||o.focusOffset!==L.offset)&&(l=l.createRange(),l.setStart(y.node,y.offset),o.removeAllRanges(),S>m?(o.addRange(l),o.extend(L.node,L.offset)):(l.setEnd(L.node,L.offset),o.addRange(l)))}}for(l=[],o=d;o=o.parentNode;)o.nodeType===1&&l.push({element:o,left:o.scrollLeft,top:o.scrollTop});for(typeof d.focus=="function"&&d.focus(),d=0;d<l.length;d++)o=l[d],o.element.scrollLeft=o.left,o.element.scrollTop=o.top}}var gO=c&&"documentMode"in document&&11>=document.documentMode,al=null,ug=null,Jc=null,dg=!1;function Jx(o,l,d){var m=d.window===d?d.document:d.nodeType===9?d:d.ownerDocument;dg||al==null||al!==wt(m)||(m=al,"selectionStart"in m&&cg(m)?m={start:m.selectionStart,end:m.selectionEnd}:(m=(m.ownerDocument&&m.ownerDocument.defaultView||window).getSelection(),m={anchorNode:m.anchorNode,anchorOffset:m.anchorOffset,focusNode:m.focusNode,focusOffset:m.focusOffset}),Jc&&Xc(Jc,m)||(Jc=m,m=jf(ug,"onSelect"),0<m.length&&(l=new Za("onSelect","select",null,l,d),o.push({event:l,listeners:m}),l.target=al)))}function Mf(o,l){var d={};return d[o.toLowerCase()]=l.toLowerCase(),d["Webkit"+o]="webkit"+l,d["Moz"+o]="moz"+l,d}var ll={animationend:Mf("Animation","AnimationEnd"),animationiteration:Mf("Animation","AnimationIteration"),animationstart:Mf("Animation","AnimationStart"),transitionend:Mf("Transition","TransitionEnd")},fg={},Qx={};c&&(Qx=document.createElement("div").style,"AnimationEvent"in window||(delete ll.animationend.animation,delete ll.animationiteration.animation,delete ll.animationstart.animation),"TransitionEvent"in window||delete ll.transitionend.transition);function Df(o){if(fg[o])return fg[o];if(!ll[o])return o;var l=ll[o],d;for(d in l)if(l.hasOwnProperty(d)&&d in Qx)return fg[o]=l[d];return o}var Zx=Df("animationend"),e1=Df("animationiteration"),t1=Df("animationstart"),n1=Df("transitionend"),r1=new Map,i1="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ms(o,l){r1.set(o,l),s(l,[o])}for(var hg=0;hg<i1.length;hg++){var pg=i1[hg],vO=pg.toLowerCase(),yO=pg[0].toUpperCase()+pg.slice(1);Ms(vO,"on"+yO)}Ms(Zx,"onAnimationEnd"),Ms(e1,"onAnimationIteration"),Ms(t1,"onAnimationStart"),Ms("dblclick","onDoubleClick"),Ms("focusin","onFocus"),Ms("focusout","onBlur"),Ms(n1,"onTransitionEnd"),a("onMouseEnter",["mouseout","mouseover"]),a("onMouseLeave",["mouseout","mouseover"]),a("onPointerEnter",["pointerout","pointerover"]),a("onPointerLeave",["pointerout","pointerover"]),s("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),s("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),s("onBeforeInput",["compositionend","keypress","textInput","paste"]),s("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Qc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),wO=new Set("cancel close invalid load scroll toggle".split(" ").concat(Qc));function s1(o,l,d){var m=o.type||"unknown-event";o.currentTarget=d,eg(m,l,void 0,o),o.currentTarget=null}function o1(o,l){l=(l&4)!==0;for(var d=0;d<o.length;d++){var m=o[d],y=m.event;m=m.listeners;e:{var S=void 0;if(l)for(var L=m.length-1;0<=L;L--){var B=m[L],H=B.instance,X=B.currentTarget;if(B=B.listener,H!==S&&y.isPropagationStopped())break e;s1(y,B,X),S=H}else for(L=0;L<m.length;L++){if(B=m[L],H=B.instance,X=B.currentTarget,B=B.listener,H!==S&&y.isPropagationStopped())break e;s1(y,B,X),S=H}}}if(Nr)throw o=Dc,Nr=!1,Dc=null,o}function ot(o,l){var d=l[bg];d===void 0&&(d=l[bg]=new Set);var m=o+"__bubble";d.has(m)||(a1(l,o,2,!1),d.add(m))}function mg(o,l,d){var m=0;l&&(m|=4),a1(d,o,m,l)}var Lf="_reactListening"+Math.random().toString(36).slice(2);function Zc(o){if(!o[Lf]){o[Lf]=!0,r.forEach(function(d){d!=="selectionchange"&&(wO.has(d)||mg(d,!1,o),mg(d,!0,o))});var l=o.nodeType===9?o:o.ownerDocument;l===null||l[Lf]||(l[Lf]=!0,mg("selectionchange",!1,l))}}function a1(o,l,d,m){switch(zc(l)){case 1:var y=ht;break;case 4:y=sg;break;default:y=Bc}d=y.bind(null,l,d,o),y=void 0,!za||l!=="touchstart"&&l!=="touchmove"&&l!=="wheel"||(y=!0),m?y!==void 0?o.addEventListener(l,d,{capture:!0,passive:y}):o.addEventListener(l,d,!0):y!==void 0?o.addEventListener(l,d,{passive:y}):o.addEventListener(l,d,!1)}function gg(o,l,d,m,y){var S=m;if((l&1)===0&&(l&2)===0&&m!==null)e:for(;;){if(m===null)return;var L=m.tag;if(L===3||L===4){var B=m.stateNode.containerInfo;if(B===y||B.nodeType===8&&B.parentNode===y)break;if(L===4)for(L=m.return;L!==null;){var H=L.tag;if((H===3||H===4)&&(H=L.stateNode.containerInfo,H===y||H.nodeType===8&&H.parentNode===y))return;L=L.return}for(;B!==null;){if(L=$o(B),L===null)return;if(H=L.tag,H===5||H===6){m=S=L;continue e}B=B.parentNode}}m=m.return}Mc(function(){var X=S,ae=Va(d),ce=[];e:{var ie=r1.get(o);if(ie!==void 0){var ge=Za,we=o;switch(o){case"keypress":if(Qa(d)===0)break e;case"keydown":case"keyup":ge=R;break;case"focusin":we="focus",ge=rl;break;case"focusout":we="blur",ge=rl;break;case"beforeblur":case"afterblur":ge=rl;break;case"click":if(d.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ge=tl;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ge=Tf;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ge=he;break;case Zx:case e1:case t1:ge=Vi;break;case n1:ge=jt;break;case"scroll":ge=og;break;case"wheel":ge=Bt;break;case"copy":case"cut":case"paste":ge=If;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ge=G}var be=(l&4)!==0,It=!be&&o==="scroll",K=be?ie!==null?ie+"Capture":null:ie;be=[];for(var W=X,Y;W!==null;){Y=W;var de=Y.stateNode;if(Y.tag===5&&de!==null&&(Y=de,K!==null&&(de=Pt(W,K),de!=null&&be.push(eu(W,de,Y)))),It)break;W=W.return}0<be.length&&(ie=new ge(ie,we,null,d,ae),ce.push({event:ie,listeners:be}))}}if((l&7)===0){e:{if(ie=o==="mouseover"||o==="pointerover",ge=o==="mouseout"||o==="pointerout",ie&&d!==Po&&(we=d.relatedTarget||d.fromElement)&&($o(we)||we[Ui]))break e;if((ge||ie)&&(ie=ae.window===ae?ae:(ie=ae.ownerDocument)?ie.defaultView||ie.parentWindow:window,ge?(we=d.relatedTarget||d.toElement,ge=X,we=we?$o(we):null,we!==null&&(It=Or(we),we!==It||we.tag!==5&&we.tag!==6)&&(we=null)):(ge=null,we=X),ge!==we)){if(be=tl,de="onMouseLeave",K="onMouseEnter",W="mouse",(o==="pointerout"||o==="pointerover")&&(be=G,de="onPointerLeave",K="onPointerEnter",W="pointer"),It=ge==null?ie:dl(ge),Y=we==null?ie:dl(we),ie=new be(de,W+"leave",ge,d,ae),ie.target=It,ie.relatedTarget=Y,de=null,$o(ae)===X&&(be=new be(K,W+"enter",we,d,ae),be.target=Y,be.relatedTarget=It,de=be),It=de,ge&&we)t:{for(be=ge,K=we,W=0,Y=be;Y;Y=cl(Y))W++;for(Y=0,de=K;de;de=cl(de))Y++;for(;0<W-Y;)be=cl(be),W--;for(;0<Y-W;)K=cl(K),Y--;for(;W--;){if(be===K||K!==null&&be===K.alternate)break t;be=cl(be),K=cl(K)}be=null}else be=null;ge!==null&&l1(ce,ie,ge,be,!1),we!==null&&It!==null&&l1(ce,It,we,be,!0)}}e:{if(ie=X?dl(X):window,ge=ie.nodeName&&ie.nodeName.toLowerCase(),ge==="select"||ge==="input"&&ie.type==="file")var Se=cO;else if(Ux(ie))if(zx)Se=hO;else{Se=dO;var Pe=uO}else(ge=ie.nodeName)&&ge.toLowerCase()==="input"&&(ie.type==="checkbox"||ie.type==="radio")&&(Se=fO);if(Se&&(Se=Se(o,X))){Bx(ce,Se,d,ae);break e}Pe&&Pe(o,ie,X),o==="focusout"&&(Pe=ie._wrapperState)&&Pe.controlled&&ie.type==="number"&&ja(ie,"number",ie.value)}switch(Pe=X?dl(X):window,o){case"focusin":(Ux(Pe)||Pe.contentEditable==="true")&&(al=Pe,ug=X,Jc=null);break;case"focusout":Jc=ug=al=null;break;case"mousedown":dg=!0;break;case"contextmenu":case"mouseup":case"dragend":dg=!1,Jx(ce,d,ae);break;case"selectionchange":if(gO)break;case"keydown":case"keyup":Jx(ce,d,ae)}var Ie;if(ui)e:{switch(o){case"compositionstart":var Oe="onCompositionStart";break e;case"compositionend":Oe="onCompositionEnd";break e;case"compositionupdate":Oe="onCompositionUpdate";break e}Oe=void 0}else ol?$x(o,d)&&(Oe="onCompositionEnd"):o==="keydown"&&d.keyCode===229&&(Oe="onCompositionStart");Oe&&(sl&&d.locale!=="ko"&&(ol||Oe!=="onCompositionStart"?Oe==="onCompositionEnd"&&ol&&(Ie=Hc()):(Jn=ae,Ja="value"in Jn?Jn.value:Jn.textContent,ol=!0)),Pe=jf(X,Oe),0<Pe.length&&(Oe=new Gc(Oe,o,null,d,ae),ce.push({event:Oe,listeners:Pe}),Ie?Oe.data=Ie:(Ie=Vx(d),Ie!==null&&(Oe.data=Ie)))),(Ie=il?sO(o,d):oO(o,d))&&(X=jf(X,"onBeforeInput"),0<X.length&&(ae=new Gc("onBeforeInput","beforeinput",null,d,ae),ce.push({event:ae,listeners:X}),ae.data=Ie))}o1(ce,l)})}function eu(o,l,d){return{instance:o,listener:l,currentTarget:d}}function jf(o,l){for(var d=l+"Capture",m=[];o!==null;){var y=o,S=y.stateNode;y.tag===5&&S!==null&&(y=S,S=Pt(o,d),S!=null&&m.unshift(eu(o,S,y)),S=Pt(o,l),S!=null&&m.push(eu(o,S,y))),o=o.return}return m}function cl(o){if(o===null)return null;do o=o.return;while(o&&o.tag!==5);return o||null}function l1(o,l,d,m,y){for(var S=l._reactName,L=[];d!==null&&d!==m;){var B=d,H=B.alternate,X=B.stateNode;if(H!==null&&H===m)break;B.tag===5&&X!==null&&(B=X,y?(H=Pt(d,S),H!=null&&L.unshift(eu(d,H,B))):y||(H=Pt(d,S),H!=null&&L.push(eu(d,H,B)))),d=d.return}L.length!==0&&o.push({event:l,listeners:L})}var _O=/\r\n?/g,xO=/\u0000|\uFFFD/g;function c1(o){return(typeof o=="string"?o:""+o).replace(_O,`
`).replace(xO,"")}function Ff(o,l,d){if(l=c1(l),c1(o)!==l&&d)throw Error(n(425))}function $f(){}var vg=null,yg=null;function wg(o,l){return o==="textarea"||o==="noscript"||typeof l.children=="string"||typeof l.children=="number"||typeof l.dangerouslySetInnerHTML=="object"&&l.dangerouslySetInnerHTML!==null&&l.dangerouslySetInnerHTML.__html!=null}var _g=typeof setTimeout=="function"?setTimeout:void 0,bO=typeof clearTimeout=="function"?clearTimeout:void 0,u1=typeof Promise=="function"?Promise:void 0,EO=typeof queueMicrotask=="function"?queueMicrotask:typeof u1<"u"?function(o){return u1.resolve(null).then(o).catch(SO)}:_g;function SO(o){setTimeout(function(){throw o})}function xg(o,l){var d=l,m=0;do{var y=d.nextSibling;if(o.removeChild(d),y&&y.nodeType===8)if(d=y.data,d==="/$"){if(m===0){o.removeChild(y),Fr(l);return}m--}else d!=="$"&&d!=="$?"&&d!=="$!"||m++;d=y}while(d);Fr(l)}function Ds(o){for(;o!=null;o=o.nextSibling){var l=o.nodeType;if(l===1||l===3)break;if(l===8){if(l=o.data,l==="$"||l==="$!"||l==="$?")break;if(l==="/$")return null}}return o}function d1(o){o=o.previousSibling;for(var l=0;o;){if(o.nodeType===8){var d=o.data;if(d==="$"||d==="$!"||d==="$?"){if(l===0)return o;l--}else d==="/$"&&l++}o=o.previousSibling}return null}var ul=Math.random().toString(36).slice(2),di="__reactFiber$"+ul,tu="__reactProps$"+ul,Ui="__reactContainer$"+ul,bg="__reactEvents$"+ul,CO="__reactListeners$"+ul,TO="__reactHandles$"+ul;function $o(o){var l=o[di];if(l)return l;for(var d=o.parentNode;d;){if(l=d[Ui]||d[di]){if(d=l.alternate,l.child!==null||d!==null&&d.child!==null)for(o=d1(o);o!==null;){if(d=o[di])return d;o=d1(o)}return l}o=d,d=o.parentNode}return null}function nu(o){return o=o[di]||o[Ui],!o||o.tag!==5&&o.tag!==6&&o.tag!==13&&o.tag!==3?null:o}function dl(o){if(o.tag===5||o.tag===6)return o.stateNode;throw Error(n(33))}function Vf(o){return o[tu]||null}var Eg=[],fl=-1;function Ls(o){return{current:o}}function at(o){0>fl||(o.current=Eg[fl],Eg[fl]=null,fl--)}function rt(o,l){fl++,Eg[fl]=o.current,o.current=l}var js={},un=Ls(js),Dn=Ls(!1),Vo=js;function hl(o,l){var d=o.type.contextTypes;if(!d)return js;var m=o.stateNode;if(m&&m.__reactInternalMemoizedUnmaskedChildContext===l)return m.__reactInternalMemoizedMaskedChildContext;var y={},S;for(S in d)y[S]=l[S];return m&&(o=o.stateNode,o.__reactInternalMemoizedUnmaskedChildContext=l,o.__reactInternalMemoizedMaskedChildContext=y),y}function Ln(o){return o=o.childContextTypes,o!=null}function Uf(){at(Dn),at(un)}function f1(o,l,d){if(un.current!==js)throw Error(n(168));rt(un,l),rt(Dn,d)}function h1(o,l,d){var m=o.stateNode;if(l=l.childContextTypes,typeof m.getChildContext!="function")return d;m=m.getChildContext();for(var y in m)if(!(y in l))throw Error(n(108,xe(o)||"Unknown",y));return le({},d,m)}function Bf(o){return o=(o=o.stateNode)&&o.__reactInternalMemoizedMergedChildContext||js,Vo=un.current,rt(un,o),rt(Dn,Dn.current),!0}function p1(o,l,d){var m=o.stateNode;if(!m)throw Error(n(169));d?(o=h1(o,l,Vo),m.__reactInternalMemoizedMergedChildContext=o,at(Dn),at(un),rt(un,o)):at(Dn),rt(Dn,d)}var Bi=null,zf=!1,Sg=!1;function m1(o){Bi===null?Bi=[o]:Bi.push(o)}function kO(o){zf=!0,m1(o)}function Fs(){if(!Sg&&Bi!==null){Sg=!0;var o=0,l=Fe;try{var d=Bi;for(Fe=1;o<d.length;o++){var m=d[o];do m=m(!0);while(m!==null)}Bi=null,zf=!1}catch(y){throw Bi!==null&&(Bi=Bi.slice(o+1)),qa(No,Fs),y}finally{Fe=l,Sg=!1}}return null}var pl=[],ml=0,Hf=null,Wf=0,hr=[],pr=0,Uo=null,zi=1,Hi="";function Bo(o,l){pl[ml++]=Wf,pl[ml++]=Hf,Hf=o,Wf=l}function g1(o,l,d){hr[pr++]=zi,hr[pr++]=Hi,hr[pr++]=Uo,Uo=o;var m=zi;o=Hi;var y=32-bn(m)-1;m&=~(1<<y),d+=1;var S=32-bn(l)+y;if(30<S){var L=y-y%5;S=(m&(1<<L)-1).toString(32),m>>=L,y-=L,zi=1<<32-bn(l)+y|d<<y|m,Hi=S+o}else zi=1<<S|d<<y|m,Hi=o}function Cg(o){o.return!==null&&(Bo(o,1),g1(o,1,0))}function Tg(o){for(;o===Hf;)Hf=pl[--ml],pl[ml]=null,Wf=pl[--ml],pl[ml]=null;for(;o===Uo;)Uo=hr[--pr],hr[pr]=null,Hi=hr[--pr],hr[pr]=null,zi=hr[--pr],hr[pr]=null}var Qn=null,Zn=null,ct=!1,Ur=null;function v1(o,l){var d=yr(5,null,null,0);d.elementType="DELETED",d.stateNode=l,d.return=o,l=o.deletions,l===null?(o.deletions=[d],o.flags|=16):l.push(d)}function y1(o,l){switch(o.tag){case 5:var d=o.type;return l=l.nodeType!==1||d.toLowerCase()!==l.nodeName.toLowerCase()?null:l,l!==null?(o.stateNode=l,Qn=o,Zn=Ds(l.firstChild),!0):!1;case 6:return l=o.pendingProps===""||l.nodeType!==3?null:l,l!==null?(o.stateNode=l,Qn=o,Zn=null,!0):!1;case 13:return l=l.nodeType!==8?null:l,l!==null?(d=Uo!==null?{id:zi,overflow:Hi}:null,o.memoizedState={dehydrated:l,treeContext:d,retryLane:1073741824},d=yr(18,null,null,0),d.stateNode=l,d.return=o,o.child=d,Qn=o,Zn=null,!0):!1;default:return!1}}function kg(o){return(o.mode&1)!==0&&(o.flags&128)===0}function Pg(o){if(ct){var l=Zn;if(l){var d=l;if(!y1(o,l)){if(kg(o))throw Error(n(418));l=Ds(d.nextSibling);var m=Qn;l&&y1(o,l)?v1(m,d):(o.flags=o.flags&-4097|2,ct=!1,Qn=o)}}else{if(kg(o))throw Error(n(418));o.flags=o.flags&-4097|2,ct=!1,Qn=o}}}function w1(o){for(o=o.return;o!==null&&o.tag!==5&&o.tag!==3&&o.tag!==13;)o=o.return;Qn=o}function qf(o){if(o!==Qn)return!1;if(!ct)return w1(o),ct=!0,!1;var l;if((l=o.tag!==3)&&!(l=o.tag!==5)&&(l=o.type,l=l!=="head"&&l!=="body"&&!wg(o.type,o.memoizedProps)),l&&(l=Zn)){if(kg(o))throw _1(),Error(n(418));for(;l;)v1(o,l),l=Ds(l.nextSibling)}if(w1(o),o.tag===13){if(o=o.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(n(317));e:{for(o=o.nextSibling,l=0;o;){if(o.nodeType===8){var d=o.data;if(d==="/$"){if(l===0){Zn=Ds(o.nextSibling);break e}l--}else d!=="$"&&d!=="$!"&&d!=="$?"||l++}o=o.nextSibling}Zn=null}}else Zn=Qn?Ds(o.stateNode.nextSibling):null;return!0}function _1(){for(var o=Zn;o;)o=Ds(o.nextSibling)}function gl(){Zn=Qn=null,ct=!1}function Ig(o){Ur===null?Ur=[o]:Ur.push(o)}var PO=j.ReactCurrentBatchConfig;function ru(o,l,d){if(o=d.ref,o!==null&&typeof o!="function"&&typeof o!="object"){if(d._owner){if(d=d._owner,d){if(d.tag!==1)throw Error(n(309));var m=d.stateNode}if(!m)throw Error(n(147,o));var y=m,S=""+o;return l!==null&&l.ref!==null&&typeof l.ref=="function"&&l.ref._stringRef===S?l.ref:(l=function(L){var B=y.refs;L===null?delete B[S]:B[S]=L},l._stringRef=S,l)}if(typeof o!="string")throw Error(n(284));if(!d._owner)throw Error(n(290,o))}return o}function Gf(o,l){throw o=Object.prototype.toString.call(l),Error(n(31,o==="[object Object]"?"object with keys {"+Object.keys(l).join(", ")+"}":o))}function x1(o){var l=o._init;return l(o._payload)}function b1(o){function l(K,W){if(o){var Y=K.deletions;Y===null?(K.deletions=[W],K.flags|=16):Y.push(W)}}function d(K,W){if(!o)return null;for(;W!==null;)l(K,W),W=W.sibling;return null}function m(K,W){for(K=new Map;W!==null;)W.key!==null?K.set(W.key,W):K.set(W.index,W),W=W.sibling;return K}function y(K,W){return K=qs(K,W),K.index=0,K.sibling=null,K}function S(K,W,Y){return K.index=Y,o?(Y=K.alternate,Y!==null?(Y=Y.index,Y<W?(K.flags|=2,W):Y):(K.flags|=2,W)):(K.flags|=1048576,W)}function L(K){return o&&K.alternate===null&&(K.flags|=2),K}function B(K,W,Y,de){return W===null||W.tag!==6?(W=_v(Y,K.mode,de),W.return=K,W):(W=y(W,Y),W.return=K,W)}function H(K,W,Y,de){var Se=Y.type;return Se===D?ae(K,W,Y.props.children,de,Y.key):W!==null&&(W.elementType===Se||typeof Se=="object"&&Se!==null&&Se.$$typeof===re&&x1(Se)===W.type)?(de=y(W,Y.props),de.ref=ru(K,W,Y),de.return=K,de):(de=vh(Y.type,Y.key,Y.props,null,K.mode,de),de.ref=ru(K,W,Y),de.return=K,de)}function X(K,W,Y,de){return W===null||W.tag!==4||W.stateNode.containerInfo!==Y.containerInfo||W.stateNode.implementation!==Y.implementation?(W=xv(Y,K.mode,de),W.return=K,W):(W=y(W,Y.children||[]),W.return=K,W)}function ae(K,W,Y,de,Se){return W===null||W.tag!==7?(W=Xo(Y,K.mode,de,Se),W.return=K,W):(W=y(W,Y),W.return=K,W)}function ce(K,W,Y){if(typeof W=="string"&&W!==""||typeof W=="number")return W=_v(""+W,K.mode,Y),W.return=K,W;if(typeof W=="object"&&W!==null){switch(W.$$typeof){case $:return Y=vh(W.type,W.key,W.props,null,K.mode,Y),Y.ref=ru(K,null,W),Y.return=K,Y;case z:return W=xv(W,K.mode,Y),W.return=K,W;case re:var de=W._init;return ce(K,de(W._payload),Y)}if(Ai(W)||oe(W))return W=Xo(W,K.mode,Y,null),W.return=K,W;Gf(K,W)}return null}function ie(K,W,Y,de){var Se=W!==null?W.key:null;if(typeof Y=="string"&&Y!==""||typeof Y=="number")return Se!==null?null:B(K,W,""+Y,de);if(typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case $:return Y.key===Se?H(K,W,Y,de):null;case z:return Y.key===Se?X(K,W,Y,de):null;case re:return Se=Y._init,ie(K,W,Se(Y._payload),de)}if(Ai(Y)||oe(Y))return Se!==null?null:ae(K,W,Y,de,null);Gf(K,Y)}return null}function ge(K,W,Y,de,Se){if(typeof de=="string"&&de!==""||typeof de=="number")return K=K.get(Y)||null,B(W,K,""+de,Se);if(typeof de=="object"&&de!==null){switch(de.$$typeof){case $:return K=K.get(de.key===null?Y:de.key)||null,H(W,K,de,Se);case z:return K=K.get(de.key===null?Y:de.key)||null,X(W,K,de,Se);case re:var Pe=de._init;return ge(K,W,Y,Pe(de._payload),Se)}if(Ai(de)||oe(de))return K=K.get(Y)||null,ae(W,K,de,Se,null);Gf(W,de)}return null}function we(K,W,Y,de){for(var Se=null,Pe=null,Ie=W,Oe=W=0,qt=null;Ie!==null&&Oe<Y.length;Oe++){Ie.index>Oe?(qt=Ie,Ie=null):qt=Ie.sibling;var He=ie(K,Ie,Y[Oe],de);if(He===null){Ie===null&&(Ie=qt);break}o&&Ie&&He.alternate===null&&l(K,Ie),W=S(He,W,Oe),Pe===null?Se=He:Pe.sibling=He,Pe=He,Ie=qt}if(Oe===Y.length)return d(K,Ie),ct&&Bo(K,Oe),Se;if(Ie===null){for(;Oe<Y.length;Oe++)Ie=ce(K,Y[Oe],de),Ie!==null&&(W=S(Ie,W,Oe),Pe===null?Se=Ie:Pe.sibling=Ie,Pe=Ie);return ct&&Bo(K,Oe),Se}for(Ie=m(K,Ie);Oe<Y.length;Oe++)qt=ge(Ie,K,Oe,Y[Oe],de),qt!==null&&(o&&qt.alternate!==null&&Ie.delete(qt.key===null?Oe:qt.key),W=S(qt,W,Oe),Pe===null?Se=qt:Pe.sibling=qt,Pe=qt);return o&&Ie.forEach(function(Gs){return l(K,Gs)}),ct&&Bo(K,Oe),Se}function be(K,W,Y,de){var Se=oe(Y);if(typeof Se!="function")throw Error(n(150));if(Y=Se.call(Y),Y==null)throw Error(n(151));for(var Pe=Se=null,Ie=W,Oe=W=0,qt=null,He=Y.next();Ie!==null&&!He.done;Oe++,He=Y.next()){Ie.index>Oe?(qt=Ie,Ie=null):qt=Ie.sibling;var Gs=ie(K,Ie,He.value,de);if(Gs===null){Ie===null&&(Ie=qt);break}o&&Ie&&Gs.alternate===null&&l(K,Ie),W=S(Gs,W,Oe),Pe===null?Se=Gs:Pe.sibling=Gs,Pe=Gs,Ie=qt}if(He.done)return d(K,Ie),ct&&Bo(K,Oe),Se;if(Ie===null){for(;!He.done;Oe++,He=Y.next())He=ce(K,He.value,de),He!==null&&(W=S(He,W,Oe),Pe===null?Se=He:Pe.sibling=He,Pe=He);return ct&&Bo(K,Oe),Se}for(Ie=m(K,Ie);!He.done;Oe++,He=Y.next())He=ge(Ie,K,Oe,He.value,de),He!==null&&(o&&He.alternate!==null&&Ie.delete(He.key===null?Oe:He.key),W=S(He,W,Oe),Pe===null?Se=He:Pe.sibling=He,Pe=He);return o&&Ie.forEach(function(a5){return l(K,a5)}),ct&&Bo(K,Oe),Se}function It(K,W,Y,de){if(typeof Y=="object"&&Y!==null&&Y.type===D&&Y.key===null&&(Y=Y.props.children),typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case $:e:{for(var Se=Y.key,Pe=W;Pe!==null;){if(Pe.key===Se){if(Se=Y.type,Se===D){if(Pe.tag===7){d(K,Pe.sibling),W=y(Pe,Y.props.children),W.return=K,K=W;break e}}else if(Pe.elementType===Se||typeof Se=="object"&&Se!==null&&Se.$$typeof===re&&x1(Se)===Pe.type){d(K,Pe.sibling),W=y(Pe,Y.props),W.ref=ru(K,Pe,Y),W.return=K,K=W;break e}d(K,Pe);break}else l(K,Pe);Pe=Pe.sibling}Y.type===D?(W=Xo(Y.props.children,K.mode,de,Y.key),W.return=K,K=W):(de=vh(Y.type,Y.key,Y.props,null,K.mode,de),de.ref=ru(K,W,Y),de.return=K,K=de)}return L(K);case z:e:{for(Pe=Y.key;W!==null;){if(W.key===Pe)if(W.tag===4&&W.stateNode.containerInfo===Y.containerInfo&&W.stateNode.implementation===Y.implementation){d(K,W.sibling),W=y(W,Y.children||[]),W.return=K,K=W;break e}else{d(K,W);break}else l(K,W);W=W.sibling}W=xv(Y,K.mode,de),W.return=K,K=W}return L(K);case re:return Pe=Y._init,It(K,W,Pe(Y._payload),de)}if(Ai(Y))return we(K,W,Y,de);if(oe(Y))return be(K,W,Y,de);Gf(K,Y)}return typeof Y=="string"&&Y!==""||typeof Y=="number"?(Y=""+Y,W!==null&&W.tag===6?(d(K,W.sibling),W=y(W,Y),W.return=K,K=W):(d(K,W),W=_v(Y,K.mode,de),W.return=K,K=W),L(K)):d(K,W)}return It}var vl=b1(!0),E1=b1(!1),Kf=Ls(null),Yf=null,yl=null,Rg=null;function Ag(){Rg=yl=Yf=null}function Ng(o){var l=Kf.current;at(Kf),o._currentValue=l}function Og(o,l,d){for(;o!==null;){var m=o.alternate;if((o.childLanes&l)!==l?(o.childLanes|=l,m!==null&&(m.childLanes|=l)):m!==null&&(m.childLanes&l)!==l&&(m.childLanes|=l),o===d)break;o=o.return}}function wl(o,l){Yf=o,Rg=yl=null,o=o.dependencies,o!==null&&o.firstContext!==null&&((o.lanes&l)!==0&&(jn=!0),o.firstContext=null)}function mr(o){var l=o._currentValue;if(Rg!==o)if(o={context:o,memoizedValue:l,next:null},yl===null){if(Yf===null)throw Error(n(308));yl=o,Yf.dependencies={lanes:0,firstContext:o}}else yl=yl.next=o;return l}var zo=null;function Mg(o){zo===null?zo=[o]:zo.push(o)}function S1(o,l,d,m){var y=l.interleaved;return y===null?(d.next=d,Mg(l)):(d.next=y.next,y.next=d),l.interleaved=d,Wi(o,m)}function Wi(o,l){o.lanes|=l;var d=o.alternate;for(d!==null&&(d.lanes|=l),d=o,o=o.return;o!==null;)o.childLanes|=l,d=o.alternate,d!==null&&(d.childLanes|=l),d=o,o=o.return;return d.tag===3?d.stateNode:null}var $s=!1;function Dg(o){o.updateQueue={baseState:o.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function C1(o,l){o=o.updateQueue,l.updateQueue===o&&(l.updateQueue={baseState:o.baseState,firstBaseUpdate:o.firstBaseUpdate,lastBaseUpdate:o.lastBaseUpdate,shared:o.shared,effects:o.effects})}function qi(o,l){return{eventTime:o,lane:l,tag:0,payload:null,callback:null,next:null}}function Vs(o,l,d){var m=o.updateQueue;if(m===null)return null;if(m=m.shared,(ze&2)!==0){var y=m.pending;return y===null?l.next=l:(l.next=y.next,y.next=l),m.pending=l,Wi(o,d)}return y=m.interleaved,y===null?(l.next=l,Mg(m)):(l.next=y.next,y.next=l),m.interleaved=l,Wi(o,d)}function Xf(o,l,d){if(l=l.updateQueue,l!==null&&(l=l.shared,(d&4194240)!==0)){var m=l.lanes;m&=o.pendingLanes,d|=m,l.lanes=d,Ps(o,d)}}function T1(o,l){var d=o.updateQueue,m=o.alternate;if(m!==null&&(m=m.updateQueue,d===m)){var y=null,S=null;if(d=d.firstBaseUpdate,d!==null){do{var L={eventTime:d.eventTime,lane:d.lane,tag:d.tag,payload:d.payload,callback:d.callback,next:null};S===null?y=S=L:S=S.next=L,d=d.next}while(d!==null);S===null?y=S=l:S=S.next=l}else y=S=l;d={baseState:m.baseState,firstBaseUpdate:y,lastBaseUpdate:S,shared:m.shared,effects:m.effects},o.updateQueue=d;return}o=d.lastBaseUpdate,o===null?d.firstBaseUpdate=l:o.next=l,d.lastBaseUpdate=l}function Jf(o,l,d,m){var y=o.updateQueue;$s=!1;var S=y.firstBaseUpdate,L=y.lastBaseUpdate,B=y.shared.pending;if(B!==null){y.shared.pending=null;var H=B,X=H.next;H.next=null,L===null?S=X:L.next=X,L=H;var ae=o.alternate;ae!==null&&(ae=ae.updateQueue,B=ae.lastBaseUpdate,B!==L&&(B===null?ae.firstBaseUpdate=X:B.next=X,ae.lastBaseUpdate=H))}if(S!==null){var ce=y.baseState;L=0,ae=X=H=null,B=S;do{var ie=B.lane,ge=B.eventTime;if((m&ie)===ie){ae!==null&&(ae=ae.next={eventTime:ge,lane:0,tag:B.tag,payload:B.payload,callback:B.callback,next:null});e:{var we=o,be=B;switch(ie=l,ge=d,be.tag){case 1:if(we=be.payload,typeof we=="function"){ce=we.call(ge,ce,ie);break e}ce=we;break e;case 3:we.flags=we.flags&-65537|128;case 0:if(we=be.payload,ie=typeof we=="function"?we.call(ge,ce,ie):we,ie==null)break e;ce=le({},ce,ie);break e;case 2:$s=!0}}B.callback!==null&&B.lane!==0&&(o.flags|=64,ie=y.effects,ie===null?y.effects=[B]:ie.push(B))}else ge={eventTime:ge,lane:ie,tag:B.tag,payload:B.payload,callback:B.callback,next:null},ae===null?(X=ae=ge,H=ce):ae=ae.next=ge,L|=ie;if(B=B.next,B===null){if(B=y.shared.pending,B===null)break;ie=B,B=ie.next,ie.next=null,y.lastBaseUpdate=ie,y.shared.pending=null}}while(!0);if(ae===null&&(H=ce),y.baseState=H,y.firstBaseUpdate=X,y.lastBaseUpdate=ae,l=y.shared.interleaved,l!==null){y=l;do L|=y.lane,y=y.next;while(y!==l)}else S===null&&(y.shared.lanes=0);qo|=L,o.lanes=L,o.memoizedState=ce}}function k1(o,l,d){if(o=l.effects,l.effects=null,o!==null)for(l=0;l<o.length;l++){var m=o[l],y=m.callback;if(y!==null){if(m.callback=null,m=d,typeof y!="function")throw Error(n(191,y));y.call(m)}}}var iu={},fi=Ls(iu),su=Ls(iu),ou=Ls(iu);function Ho(o){if(o===iu)throw Error(n(174));return o}function Lg(o,l){switch(rt(ou,l),rt(su,o),rt(fi,iu),o=l.nodeType,o){case 9:case 11:l=(l=l.documentElement)?l.namespaceURI:Lt(null,"");break;default:o=o===8?l.parentNode:l,l=o.namespaceURI||null,o=o.tagName,l=Lt(l,o)}at(fi),rt(fi,l)}function _l(){at(fi),at(su),at(ou)}function P1(o){Ho(ou.current);var l=Ho(fi.current),d=Lt(l,o.type);l!==d&&(rt(su,o),rt(fi,d))}function jg(o){su.current===o&&(at(fi),at(su))}var pt=Ls(0);function Qf(o){for(var l=o;l!==null;){if(l.tag===13){var d=l.memoizedState;if(d!==null&&(d=d.dehydrated,d===null||d.data==="$?"||d.data==="$!"))return l}else if(l.tag===19&&l.memoizedProps.revealOrder!==void 0){if((l.flags&128)!==0)return l}else if(l.child!==null){l.child.return=l,l=l.child;continue}if(l===o)break;for(;l.sibling===null;){if(l.return===null||l.return===o)return null;l=l.return}l.sibling.return=l.return,l=l.sibling}return null}var Fg=[];function $g(){for(var o=0;o<Fg.length;o++)Fg[o]._workInProgressVersionPrimary=null;Fg.length=0}var Zf=j.ReactCurrentDispatcher,Vg=j.ReactCurrentBatchConfig,Wo=0,mt=null,Ft=null,Ht=null,eh=!1,au=!1,lu=0,IO=0;function dn(){throw Error(n(321))}function Ug(o,l){if(l===null)return!1;for(var d=0;d<l.length&&d<o.length;d++)if(!Vr(o[d],l[d]))return!1;return!0}function Bg(o,l,d,m,y,S){if(Wo=S,mt=l,l.memoizedState=null,l.updateQueue=null,l.lanes=0,Zf.current=o===null||o.memoizedState===null?OO:MO,o=d(m,y),au){S=0;do{if(au=!1,lu=0,25<=S)throw Error(n(301));S+=1,Ht=Ft=null,l.updateQueue=null,Zf.current=DO,o=d(m,y)}while(au)}if(Zf.current=rh,l=Ft!==null&&Ft.next!==null,Wo=0,Ht=Ft=mt=null,eh=!1,l)throw Error(n(300));return o}function zg(){var o=lu!==0;return lu=0,o}function hi(){var o={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ht===null?mt.memoizedState=Ht=o:Ht=Ht.next=o,Ht}function gr(){if(Ft===null){var o=mt.alternate;o=o!==null?o.memoizedState:null}else o=Ft.next;var l=Ht===null?mt.memoizedState:Ht.next;if(l!==null)Ht=l,Ft=o;else{if(o===null)throw Error(n(310));Ft=o,o={memoizedState:Ft.memoizedState,baseState:Ft.baseState,baseQueue:Ft.baseQueue,queue:Ft.queue,next:null},Ht===null?mt.memoizedState=Ht=o:Ht=Ht.next=o}return Ht}function cu(o,l){return typeof l=="function"?l(o):l}function Hg(o){var l=gr(),d=l.queue;if(d===null)throw Error(n(311));d.lastRenderedReducer=o;var m=Ft,y=m.baseQueue,S=d.pending;if(S!==null){if(y!==null){var L=y.next;y.next=S.next,S.next=L}m.baseQueue=y=S,d.pending=null}if(y!==null){S=y.next,m=m.baseState;var B=L=null,H=null,X=S;do{var ae=X.lane;if((Wo&ae)===ae)H!==null&&(H=H.next={lane:0,action:X.action,hasEagerState:X.hasEagerState,eagerState:X.eagerState,next:null}),m=X.hasEagerState?X.eagerState:o(m,X.action);else{var ce={lane:ae,action:X.action,hasEagerState:X.hasEagerState,eagerState:X.eagerState,next:null};H===null?(B=H=ce,L=m):H=H.next=ce,mt.lanes|=ae,qo|=ae}X=X.next}while(X!==null&&X!==S);H===null?L=m:H.next=B,Vr(m,l.memoizedState)||(jn=!0),l.memoizedState=m,l.baseState=L,l.baseQueue=H,d.lastRenderedState=m}if(o=d.interleaved,o!==null){y=o;do S=y.lane,mt.lanes|=S,qo|=S,y=y.next;while(y!==o)}else y===null&&(d.lanes=0);return[l.memoizedState,d.dispatch]}function Wg(o){var l=gr(),d=l.queue;if(d===null)throw Error(n(311));d.lastRenderedReducer=o;var m=d.dispatch,y=d.pending,S=l.memoizedState;if(y!==null){d.pending=null;var L=y=y.next;do S=o(S,L.action),L=L.next;while(L!==y);Vr(S,l.memoizedState)||(jn=!0),l.memoizedState=S,l.baseQueue===null&&(l.baseState=S),d.lastRenderedState=S}return[S,m]}function I1(){}function R1(o,l){var d=mt,m=gr(),y=l(),S=!Vr(m.memoizedState,y);if(S&&(m.memoizedState=y,jn=!0),m=m.queue,qg(O1.bind(null,d,m,o),[o]),m.getSnapshot!==l||S||Ht!==null&&Ht.memoizedState.tag&1){if(d.flags|=2048,uu(9,N1.bind(null,d,m,y,l),void 0,null),Wt===null)throw Error(n(349));(Wo&30)!==0||A1(d,l,y)}return y}function A1(o,l,d){o.flags|=16384,o={getSnapshot:l,value:d},l=mt.updateQueue,l===null?(l={lastEffect:null,stores:null},mt.updateQueue=l,l.stores=[o]):(d=l.stores,d===null?l.stores=[o]:d.push(o))}function N1(o,l,d,m){l.value=d,l.getSnapshot=m,M1(l)&&D1(o)}function O1(o,l,d){return d(function(){M1(l)&&D1(o)})}function M1(o){var l=o.getSnapshot;o=o.value;try{var d=l();return!Vr(o,d)}catch{return!0}}function D1(o){var l=Wi(o,1);l!==null&&Wr(l,o,1,-1)}function L1(o){var l=hi();return typeof o=="function"&&(o=o()),l.memoizedState=l.baseState=o,o={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:cu,lastRenderedState:o},l.queue=o,o=o.dispatch=NO.bind(null,mt,o),[l.memoizedState,o]}function uu(o,l,d,m){return o={tag:o,create:l,destroy:d,deps:m,next:null},l=mt.updateQueue,l===null?(l={lastEffect:null,stores:null},mt.updateQueue=l,l.lastEffect=o.next=o):(d=l.lastEffect,d===null?l.lastEffect=o.next=o:(m=d.next,d.next=o,o.next=m,l.lastEffect=o)),o}function j1(){return gr().memoizedState}function th(o,l,d,m){var y=hi();mt.flags|=o,y.memoizedState=uu(1|l,d,void 0,m===void 0?null:m)}function nh(o,l,d,m){var y=gr();m=m===void 0?null:m;var S=void 0;if(Ft!==null){var L=Ft.memoizedState;if(S=L.destroy,m!==null&&Ug(m,L.deps)){y.memoizedState=uu(l,d,S,m);return}}mt.flags|=o,y.memoizedState=uu(1|l,d,S,m)}function F1(o,l){return th(8390656,8,o,l)}function qg(o,l){return nh(2048,8,o,l)}function $1(o,l){return nh(4,2,o,l)}function V1(o,l){return nh(4,4,o,l)}function U1(o,l){if(typeof l=="function")return o=o(),l(o),function(){l(null)};if(l!=null)return o=o(),l.current=o,function(){l.current=null}}function B1(o,l,d){return d=d!=null?d.concat([o]):null,nh(4,4,U1.bind(null,l,o),d)}function Gg(){}function z1(o,l){var d=gr();l=l===void 0?null:l;var m=d.memoizedState;return m!==null&&l!==null&&Ug(l,m[1])?m[0]:(d.memoizedState=[o,l],o)}function H1(o,l){var d=gr();l=l===void 0?null:l;var m=d.memoizedState;return m!==null&&l!==null&&Ug(l,m[1])?m[0]:(o=o(),d.memoizedState=[o,l],o)}function W1(o,l,d){return(Wo&21)===0?(o.baseState&&(o.baseState=!1,jn=!0),o.memoizedState=d):(Vr(d,l)||(d=Do(),mt.lanes|=d,qo|=d,o.baseState=!0),l)}function RO(o,l){var d=Fe;Fe=d!==0&&4>d?d:4,o(!0);var m=Vg.transition;Vg.transition={};try{o(!1),l()}finally{Fe=d,Vg.transition=m}}function q1(){return gr().memoizedState}function AO(o,l,d){var m=Hs(o);if(d={lane:m,action:d,hasEagerState:!1,eagerState:null,next:null},G1(o))K1(l,d);else if(d=S1(o,l,d,m),d!==null){var y=Sn();Wr(d,o,m,y),Y1(d,l,m)}}function NO(o,l,d){var m=Hs(o),y={lane:m,action:d,hasEagerState:!1,eagerState:null,next:null};if(G1(o))K1(l,y);else{var S=o.alternate;if(o.lanes===0&&(S===null||S.lanes===0)&&(S=l.lastRenderedReducer,S!==null))try{var L=l.lastRenderedState,B=S(L,d);if(y.hasEagerState=!0,y.eagerState=B,Vr(B,L)){var H=l.interleaved;H===null?(y.next=y,Mg(l)):(y.next=H.next,H.next=y),l.interleaved=y;return}}catch{}finally{}d=S1(o,l,y,m),d!==null&&(y=Sn(),Wr(d,o,m,y),Y1(d,l,m))}}function G1(o){var l=o.alternate;return o===mt||l!==null&&l===mt}function K1(o,l){au=eh=!0;var d=o.pending;d===null?l.next=l:(l.next=d.next,d.next=l),o.pending=l}function Y1(o,l,d){if((d&4194240)!==0){var m=l.lanes;m&=o.pendingLanes,d|=m,l.lanes=d,Ps(o,d)}}var rh={readContext:mr,useCallback:dn,useContext:dn,useEffect:dn,useImperativeHandle:dn,useInsertionEffect:dn,useLayoutEffect:dn,useMemo:dn,useReducer:dn,useRef:dn,useState:dn,useDebugValue:dn,useDeferredValue:dn,useTransition:dn,useMutableSource:dn,useSyncExternalStore:dn,useId:dn,unstable_isNewReconciler:!1},OO={readContext:mr,useCallback:function(o,l){return hi().memoizedState=[o,l===void 0?null:l],o},useContext:mr,useEffect:F1,useImperativeHandle:function(o,l,d){return d=d!=null?d.concat([o]):null,th(4194308,4,U1.bind(null,l,o),d)},useLayoutEffect:function(o,l){return th(4194308,4,o,l)},useInsertionEffect:function(o,l){return th(4,2,o,l)},useMemo:function(o,l){var d=hi();return l=l===void 0?null:l,o=o(),d.memoizedState=[o,l],o},useReducer:function(o,l,d){var m=hi();return l=d!==void 0?d(l):l,m.memoizedState=m.baseState=l,o={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:o,lastRenderedState:l},m.queue=o,o=o.dispatch=AO.bind(null,mt,o),[m.memoizedState,o]},useRef:function(o){var l=hi();return o={current:o},l.memoizedState=o},useState:L1,useDebugValue:Gg,useDeferredValue:function(o){return hi().memoizedState=o},useTransition:function(){var o=L1(!1),l=o[0];return o=RO.bind(null,o[1]),hi().memoizedState=o,[l,o]},useMutableSource:function(){},useSyncExternalStore:function(o,l,d){var m=mt,y=hi();if(ct){if(d===void 0)throw Error(n(407));d=d()}else{if(d=l(),Wt===null)throw Error(n(349));(Wo&30)!==0||A1(m,l,d)}y.memoizedState=d;var S={value:d,getSnapshot:l};return y.queue=S,F1(O1.bind(null,m,S,o),[o]),m.flags|=2048,uu(9,N1.bind(null,m,S,d,l),void 0,null),d},useId:function(){var o=hi(),l=Wt.identifierPrefix;if(ct){var d=Hi,m=zi;d=(m&~(1<<32-bn(m)-1)).toString(32)+d,l=":"+l+"R"+d,d=lu++,0<d&&(l+="H"+d.toString(32)),l+=":"}else d=IO++,l=":"+l+"r"+d.toString(32)+":";return o.memoizedState=l},unstable_isNewReconciler:!1},MO={readContext:mr,useCallback:z1,useContext:mr,useEffect:qg,useImperativeHandle:B1,useInsertionEffect:$1,useLayoutEffect:V1,useMemo:H1,useReducer:Hg,useRef:j1,useState:function(){return Hg(cu)},useDebugValue:Gg,useDeferredValue:function(o){var l=gr();return W1(l,Ft.memoizedState,o)},useTransition:function(){var o=Hg(cu)[0],l=gr().memoizedState;return[o,l]},useMutableSource:I1,useSyncExternalStore:R1,useId:q1,unstable_isNewReconciler:!1},DO={readContext:mr,useCallback:z1,useContext:mr,useEffect:qg,useImperativeHandle:B1,useInsertionEffect:$1,useLayoutEffect:V1,useMemo:H1,useReducer:Wg,useRef:j1,useState:function(){return Wg(cu)},useDebugValue:Gg,useDeferredValue:function(o){var l=gr();return Ft===null?l.memoizedState=o:W1(l,Ft.memoizedState,o)},useTransition:function(){var o=Wg(cu)[0],l=gr().memoizedState;return[o,l]},useMutableSource:I1,useSyncExternalStore:R1,useId:q1,unstable_isNewReconciler:!1};function Br(o,l){if(o&&o.defaultProps){l=le({},l),o=o.defaultProps;for(var d in o)l[d]===void 0&&(l[d]=o[d]);return l}return l}function Kg(o,l,d,m){l=o.memoizedState,d=d(m,l),d=d==null?l:le({},l,d),o.memoizedState=d,o.lanes===0&&(o.updateQueue.baseState=d)}var ih={isMounted:function(o){return(o=o._reactInternals)?Or(o)===o:!1},enqueueSetState:function(o,l,d){o=o._reactInternals;var m=Sn(),y=Hs(o),S=qi(m,y);S.payload=l,d!=null&&(S.callback=d),l=Vs(o,S,y),l!==null&&(Wr(l,o,y,m),Xf(l,o,y))},enqueueReplaceState:function(o,l,d){o=o._reactInternals;var m=Sn(),y=Hs(o),S=qi(m,y);S.tag=1,S.payload=l,d!=null&&(S.callback=d),l=Vs(o,S,y),l!==null&&(Wr(l,o,y,m),Xf(l,o,y))},enqueueForceUpdate:function(o,l){o=o._reactInternals;var d=Sn(),m=Hs(o),y=qi(d,m);y.tag=2,l!=null&&(y.callback=l),l=Vs(o,y,m),l!==null&&(Wr(l,o,m,d),Xf(l,o,m))}};function X1(o,l,d,m,y,S,L){return o=o.stateNode,typeof o.shouldComponentUpdate=="function"?o.shouldComponentUpdate(m,S,L):l.prototype&&l.prototype.isPureReactComponent?!Xc(d,m)||!Xc(y,S):!0}function J1(o,l,d){var m=!1,y=js,S=l.contextType;return typeof S=="object"&&S!==null?S=mr(S):(y=Ln(l)?Vo:un.current,m=l.contextTypes,S=(m=m!=null)?hl(o,y):js),l=new l(d,S),o.memoizedState=l.state!==null&&l.state!==void 0?l.state:null,l.updater=ih,o.stateNode=l,l._reactInternals=o,m&&(o=o.stateNode,o.__reactInternalMemoizedUnmaskedChildContext=y,o.__reactInternalMemoizedMaskedChildContext=S),l}function Q1(o,l,d,m){o=l.state,typeof l.componentWillReceiveProps=="function"&&l.componentWillReceiveProps(d,m),typeof l.UNSAFE_componentWillReceiveProps=="function"&&l.UNSAFE_componentWillReceiveProps(d,m),l.state!==o&&ih.enqueueReplaceState(l,l.state,null)}function Yg(o,l,d,m){var y=o.stateNode;y.props=d,y.state=o.memoizedState,y.refs={},Dg(o);var S=l.contextType;typeof S=="object"&&S!==null?y.context=mr(S):(S=Ln(l)?Vo:un.current,y.context=hl(o,S)),y.state=o.memoizedState,S=l.getDerivedStateFromProps,typeof S=="function"&&(Kg(o,l,S,d),y.state=o.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof y.getSnapshotBeforeUpdate=="function"||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(l=y.state,typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount(),l!==y.state&&ih.enqueueReplaceState(y,y.state,null),Jf(o,d,y,m),y.state=o.memoizedState),typeof y.componentDidMount=="function"&&(o.flags|=4194308)}function xl(o,l){try{var d="",m=l;do d+=ve(m),m=m.return;while(m);var y=d}catch(S){y=`
Error generating stack: `+S.message+`
`+S.stack}return{value:o,source:l,stack:y,digest:null}}function Xg(o,l,d){return{value:o,source:null,stack:d??null,digest:l??null}}function Jg(o,l){try{console.error(l.value)}catch(d){setTimeout(function(){throw d})}}var LO=typeof WeakMap=="function"?WeakMap:Map;function Z1(o,l,d){d=qi(-1,d),d.tag=3,d.payload={element:null};var m=l.value;return d.callback=function(){dh||(dh=!0,fv=m),Jg(o,l)},d}function eb(o,l,d){d=qi(-1,d),d.tag=3;var m=o.type.getDerivedStateFromError;if(typeof m=="function"){var y=l.value;d.payload=function(){return m(y)},d.callback=function(){Jg(o,l)}}var S=o.stateNode;return S!==null&&typeof S.componentDidCatch=="function"&&(d.callback=function(){Jg(o,l),typeof m!="function"&&(Bs===null?Bs=new Set([this]):Bs.add(this));var L=l.stack;this.componentDidCatch(l.value,{componentStack:L!==null?L:""})}),d}function tb(o,l,d){var m=o.pingCache;if(m===null){m=o.pingCache=new LO;var y=new Set;m.set(l,y)}else y=m.get(l),y===void 0&&(y=new Set,m.set(l,y));y.has(d)||(y.add(d),o=XO.bind(null,o,l,d),l.then(o,o))}function nb(o){do{var l;if((l=o.tag===13)&&(l=o.memoizedState,l=l!==null?l.dehydrated!==null:!0),l)return o;o=o.return}while(o!==null);return null}function rb(o,l,d,m,y){return(o.mode&1)===0?(o===l?o.flags|=65536:(o.flags|=128,d.flags|=131072,d.flags&=-52805,d.tag===1&&(d.alternate===null?d.tag=17:(l=qi(-1,1),l.tag=2,Vs(d,l,1))),d.lanes|=1),o):(o.flags|=65536,o.lanes=y,o)}var jO=j.ReactCurrentOwner,jn=!1;function En(o,l,d,m){l.child=o===null?E1(l,null,d,m):vl(l,o.child,d,m)}function ib(o,l,d,m,y){d=d.render;var S=l.ref;return wl(l,y),m=Bg(o,l,d,m,S,y),d=zg(),o!==null&&!jn?(l.updateQueue=o.updateQueue,l.flags&=-2053,o.lanes&=~y,Gi(o,l,y)):(ct&&d&&Cg(l),l.flags|=1,En(o,l,m,y),l.child)}function sb(o,l,d,m,y){if(o===null){var S=d.type;return typeof S=="function"&&!wv(S)&&S.defaultProps===void 0&&d.compare===null&&d.defaultProps===void 0?(l.tag=15,l.type=S,ob(o,l,S,m,y)):(o=vh(d.type,null,m,l,l.mode,y),o.ref=l.ref,o.return=l,l.child=o)}if(S=o.child,(o.lanes&y)===0){var L=S.memoizedProps;if(d=d.compare,d=d!==null?d:Xc,d(L,m)&&o.ref===l.ref)return Gi(o,l,y)}return l.flags|=1,o=qs(S,m),o.ref=l.ref,o.return=l,l.child=o}function ob(o,l,d,m,y){if(o!==null){var S=o.memoizedProps;if(Xc(S,m)&&o.ref===l.ref)if(jn=!1,l.pendingProps=m=S,(o.lanes&y)!==0)(o.flags&131072)!==0&&(jn=!0);else return l.lanes=o.lanes,Gi(o,l,y)}return Qg(o,l,d,m,y)}function ab(o,l,d){var m=l.pendingProps,y=m.children,S=o!==null?o.memoizedState:null;if(m.mode==="hidden")if((l.mode&1)===0)l.memoizedState={baseLanes:0,cachePool:null,transitions:null},rt(El,er),er|=d;else{if((d&1073741824)===0)return o=S!==null?S.baseLanes|d:d,l.lanes=l.childLanes=1073741824,l.memoizedState={baseLanes:o,cachePool:null,transitions:null},l.updateQueue=null,rt(El,er),er|=o,null;l.memoizedState={baseLanes:0,cachePool:null,transitions:null},m=S!==null?S.baseLanes:d,rt(El,er),er|=m}else S!==null?(m=S.baseLanes|d,l.memoizedState=null):m=d,rt(El,er),er|=m;return En(o,l,y,d),l.child}function lb(o,l){var d=l.ref;(o===null&&d!==null||o!==null&&o.ref!==d)&&(l.flags|=512,l.flags|=2097152)}function Qg(o,l,d,m,y){var S=Ln(d)?Vo:un.current;return S=hl(l,S),wl(l,y),d=Bg(o,l,d,m,S,y),m=zg(),o!==null&&!jn?(l.updateQueue=o.updateQueue,l.flags&=-2053,o.lanes&=~y,Gi(o,l,y)):(ct&&m&&Cg(l),l.flags|=1,En(o,l,d,y),l.child)}function cb(o,l,d,m,y){if(Ln(d)){var S=!0;Bf(l)}else S=!1;if(wl(l,y),l.stateNode===null)oh(o,l),J1(l,d,m),Yg(l,d,m,y),m=!0;else if(o===null){var L=l.stateNode,B=l.memoizedProps;L.props=B;var H=L.context,X=d.contextType;typeof X=="object"&&X!==null?X=mr(X):(X=Ln(d)?Vo:un.current,X=hl(l,X));var ae=d.getDerivedStateFromProps,ce=typeof ae=="function"||typeof L.getSnapshotBeforeUpdate=="function";ce||typeof L.UNSAFE_componentWillReceiveProps!="function"&&typeof L.componentWillReceiveProps!="function"||(B!==m||H!==X)&&Q1(l,L,m,X),$s=!1;var ie=l.memoizedState;L.state=ie,Jf(l,m,L,y),H=l.memoizedState,B!==m||ie!==H||Dn.current||$s?(typeof ae=="function"&&(Kg(l,d,ae,m),H=l.memoizedState),(B=$s||X1(l,d,B,m,ie,H,X))?(ce||typeof L.UNSAFE_componentWillMount!="function"&&typeof L.componentWillMount!="function"||(typeof L.componentWillMount=="function"&&L.componentWillMount(),typeof L.UNSAFE_componentWillMount=="function"&&L.UNSAFE_componentWillMount()),typeof L.componentDidMount=="function"&&(l.flags|=4194308)):(typeof L.componentDidMount=="function"&&(l.flags|=4194308),l.memoizedProps=m,l.memoizedState=H),L.props=m,L.state=H,L.context=X,m=B):(typeof L.componentDidMount=="function"&&(l.flags|=4194308),m=!1)}else{L=l.stateNode,C1(o,l),B=l.memoizedProps,X=l.type===l.elementType?B:Br(l.type,B),L.props=X,ce=l.pendingProps,ie=L.context,H=d.contextType,typeof H=="object"&&H!==null?H=mr(H):(H=Ln(d)?Vo:un.current,H=hl(l,H));var ge=d.getDerivedStateFromProps;(ae=typeof ge=="function"||typeof L.getSnapshotBeforeUpdate=="function")||typeof L.UNSAFE_componentWillReceiveProps!="function"&&typeof L.componentWillReceiveProps!="function"||(B!==ce||ie!==H)&&Q1(l,L,m,H),$s=!1,ie=l.memoizedState,L.state=ie,Jf(l,m,L,y);var we=l.memoizedState;B!==ce||ie!==we||Dn.current||$s?(typeof ge=="function"&&(Kg(l,d,ge,m),we=l.memoizedState),(X=$s||X1(l,d,X,m,ie,we,H)||!1)?(ae||typeof L.UNSAFE_componentWillUpdate!="function"&&typeof L.componentWillUpdate!="function"||(typeof L.componentWillUpdate=="function"&&L.componentWillUpdate(m,we,H),typeof L.UNSAFE_componentWillUpdate=="function"&&L.UNSAFE_componentWillUpdate(m,we,H)),typeof L.componentDidUpdate=="function"&&(l.flags|=4),typeof L.getSnapshotBeforeUpdate=="function"&&(l.flags|=1024)):(typeof L.componentDidUpdate!="function"||B===o.memoizedProps&&ie===o.memoizedState||(l.flags|=4),typeof L.getSnapshotBeforeUpdate!="function"||B===o.memoizedProps&&ie===o.memoizedState||(l.flags|=1024),l.memoizedProps=m,l.memoizedState=we),L.props=m,L.state=we,L.context=H,m=X):(typeof L.componentDidUpdate!="function"||B===o.memoizedProps&&ie===o.memoizedState||(l.flags|=4),typeof L.getSnapshotBeforeUpdate!="function"||B===o.memoizedProps&&ie===o.memoizedState||(l.flags|=1024),m=!1)}return Zg(o,l,d,m,S,y)}function Zg(o,l,d,m,y,S){lb(o,l);var L=(l.flags&128)!==0;if(!m&&!L)return y&&p1(l,d,!1),Gi(o,l,S);m=l.stateNode,jO.current=l;var B=L&&typeof d.getDerivedStateFromError!="function"?null:m.render();return l.flags|=1,o!==null&&L?(l.child=vl(l,o.child,null,S),l.child=vl(l,null,B,S)):En(o,l,B,S),l.memoizedState=m.state,y&&p1(l,d,!0),l.child}function ub(o){var l=o.stateNode;l.pendingContext?f1(o,l.pendingContext,l.pendingContext!==l.context):l.context&&f1(o,l.context,!1),Lg(o,l.containerInfo)}function db(o,l,d,m,y){return gl(),Ig(y),l.flags|=256,En(o,l,d,m),l.child}var ev={dehydrated:null,treeContext:null,retryLane:0};function tv(o){return{baseLanes:o,cachePool:null,transitions:null}}function fb(o,l,d){var m=l.pendingProps,y=pt.current,S=!1,L=(l.flags&128)!==0,B;if((B=L)||(B=o!==null&&o.memoizedState===null?!1:(y&2)!==0),B?(S=!0,l.flags&=-129):(o===null||o.memoizedState!==null)&&(y|=1),rt(pt,y&1),o===null)return Pg(l),o=l.memoizedState,o!==null&&(o=o.dehydrated,o!==null)?((l.mode&1)===0?l.lanes=1:o.data==="$!"?l.lanes=8:l.lanes=1073741824,null):(L=m.children,o=m.fallback,S?(m=l.mode,S=l.child,L={mode:"hidden",children:L},(m&1)===0&&S!==null?(S.childLanes=0,S.pendingProps=L):S=yh(L,m,0,null),o=Xo(o,m,d,null),S.return=l,o.return=l,S.sibling=o,l.child=S,l.child.memoizedState=tv(d),l.memoizedState=ev,o):nv(l,L));if(y=o.memoizedState,y!==null&&(B=y.dehydrated,B!==null))return FO(o,l,L,m,B,y,d);if(S){S=m.fallback,L=l.mode,y=o.child,B=y.sibling;var H={mode:"hidden",children:m.children};return(L&1)===0&&l.child!==y?(m=l.child,m.childLanes=0,m.pendingProps=H,l.deletions=null):(m=qs(y,H),m.subtreeFlags=y.subtreeFlags&14680064),B!==null?S=qs(B,S):(S=Xo(S,L,d,null),S.flags|=2),S.return=l,m.return=l,m.sibling=S,l.child=m,m=S,S=l.child,L=o.child.memoizedState,L=L===null?tv(d):{baseLanes:L.baseLanes|d,cachePool:null,transitions:L.transitions},S.memoizedState=L,S.childLanes=o.childLanes&~d,l.memoizedState=ev,m}return S=o.child,o=S.sibling,m=qs(S,{mode:"visible",children:m.children}),(l.mode&1)===0&&(m.lanes=d),m.return=l,m.sibling=null,o!==null&&(d=l.deletions,d===null?(l.deletions=[o],l.flags|=16):d.push(o)),l.child=m,l.memoizedState=null,m}function nv(o,l){return l=yh({mode:"visible",children:l},o.mode,0,null),l.return=o,o.child=l}function sh(o,l,d,m){return m!==null&&Ig(m),vl(l,o.child,null,d),o=nv(l,l.pendingProps.children),o.flags|=2,l.memoizedState=null,o}function FO(o,l,d,m,y,S,L){if(d)return l.flags&256?(l.flags&=-257,m=Xg(Error(n(422))),sh(o,l,L,m)):l.memoizedState!==null?(l.child=o.child,l.flags|=128,null):(S=m.fallback,y=l.mode,m=yh({mode:"visible",children:m.children},y,0,null),S=Xo(S,y,L,null),S.flags|=2,m.return=l,S.return=l,m.sibling=S,l.child=m,(l.mode&1)!==0&&vl(l,o.child,null,L),l.child.memoizedState=tv(L),l.memoizedState=ev,S);if((l.mode&1)===0)return sh(o,l,L,null);if(y.data==="$!"){if(m=y.nextSibling&&y.nextSibling.dataset,m)var B=m.dgst;return m=B,S=Error(n(419)),m=Xg(S,m,void 0),sh(o,l,L,m)}if(B=(L&o.childLanes)!==0,jn||B){if(m=Wt,m!==null){switch(L&-L){case 4:y=2;break;case 16:y=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:y=32;break;case 536870912:y=268435456;break;default:y=0}y=(y&(m.suspendedLanes|L))!==0?0:y,y!==0&&y!==S.retryLane&&(S.retryLane=y,Wi(o,y),Wr(m,o,y,-1))}return yv(),m=Xg(Error(n(421))),sh(o,l,L,m)}return y.data==="$?"?(l.flags|=128,l.child=o.child,l=JO.bind(null,o),y._reactRetry=l,null):(o=S.treeContext,Zn=Ds(y.nextSibling),Qn=l,ct=!0,Ur=null,o!==null&&(hr[pr++]=zi,hr[pr++]=Hi,hr[pr++]=Uo,zi=o.id,Hi=o.overflow,Uo=l),l=nv(l,m.children),l.flags|=4096,l)}function hb(o,l,d){o.lanes|=l;var m=o.alternate;m!==null&&(m.lanes|=l),Og(o.return,l,d)}function rv(o,l,d,m,y){var S=o.memoizedState;S===null?o.memoizedState={isBackwards:l,rendering:null,renderingStartTime:0,last:m,tail:d,tailMode:y}:(S.isBackwards=l,S.rendering=null,S.renderingStartTime=0,S.last=m,S.tail=d,S.tailMode=y)}function pb(o,l,d){var m=l.pendingProps,y=m.revealOrder,S=m.tail;if(En(o,l,m.children,d),m=pt.current,(m&2)!==0)m=m&1|2,l.flags|=128;else{if(o!==null&&(o.flags&128)!==0)e:for(o=l.child;o!==null;){if(o.tag===13)o.memoizedState!==null&&hb(o,d,l);else if(o.tag===19)hb(o,d,l);else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===l)break e;for(;o.sibling===null;){if(o.return===null||o.return===l)break e;o=o.return}o.sibling.return=o.return,o=o.sibling}m&=1}if(rt(pt,m),(l.mode&1)===0)l.memoizedState=null;else switch(y){case"forwards":for(d=l.child,y=null;d!==null;)o=d.alternate,o!==null&&Qf(o)===null&&(y=d),d=d.sibling;d=y,d===null?(y=l.child,l.child=null):(y=d.sibling,d.sibling=null),rv(l,!1,y,d,S);break;case"backwards":for(d=null,y=l.child,l.child=null;y!==null;){if(o=y.alternate,o!==null&&Qf(o)===null){l.child=y;break}o=y.sibling,y.sibling=d,d=y,y=o}rv(l,!0,d,null,S);break;case"together":rv(l,!1,null,null,void 0);break;default:l.memoizedState=null}return l.child}function oh(o,l){(l.mode&1)===0&&o!==null&&(o.alternate=null,l.alternate=null,l.flags|=2)}function Gi(o,l,d){if(o!==null&&(l.dependencies=o.dependencies),qo|=l.lanes,(d&l.childLanes)===0)return null;if(o!==null&&l.child!==o.child)throw Error(n(153));if(l.child!==null){for(o=l.child,d=qs(o,o.pendingProps),l.child=d,d.return=l;o.sibling!==null;)o=o.sibling,d=d.sibling=qs(o,o.pendingProps),d.return=l;d.sibling=null}return l.child}function $O(o,l,d){switch(l.tag){case 3:ub(l),gl();break;case 5:P1(l);break;case 1:Ln(l.type)&&Bf(l);break;case 4:Lg(l,l.stateNode.containerInfo);break;case 10:var m=l.type._context,y=l.memoizedProps.value;rt(Kf,m._currentValue),m._currentValue=y;break;case 13:if(m=l.memoizedState,m!==null)return m.dehydrated!==null?(rt(pt,pt.current&1),l.flags|=128,null):(d&l.child.childLanes)!==0?fb(o,l,d):(rt(pt,pt.current&1),o=Gi(o,l,d),o!==null?o.sibling:null);rt(pt,pt.current&1);break;case 19:if(m=(d&l.childLanes)!==0,(o.flags&128)!==0){if(m)return pb(o,l,d);l.flags|=128}if(y=l.memoizedState,y!==null&&(y.rendering=null,y.tail=null,y.lastEffect=null),rt(pt,pt.current),m)break;return null;case 22:case 23:return l.lanes=0,ab(o,l,d)}return Gi(o,l,d)}var mb,iv,gb,vb;mb=function(o,l){for(var d=l.child;d!==null;){if(d.tag===5||d.tag===6)o.appendChild(d.stateNode);else if(d.tag!==4&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===l)break;for(;d.sibling===null;){if(d.return===null||d.return===l)return;d=d.return}d.sibling.return=d.return,d=d.sibling}},iv=function(){},gb=function(o,l,d,m){var y=o.memoizedProps;if(y!==m){o=l.stateNode,Ho(fi.current);var S=null;switch(d){case"input":y=xn(o,y),m=xn(o,m),S=[];break;case"select":y=le({},y,{value:void 0}),m=le({},m,{value:void 0}),S=[];break;case"textarea":y=Ec(o,y),m=Ec(o,m),S=[];break;default:typeof y.onClick!="function"&&typeof m.onClick=="function"&&(o.onclick=$f)}Ic(d,m);var L;d=null;for(X in y)if(!m.hasOwnProperty(X)&&y.hasOwnProperty(X)&&y[X]!=null)if(X==="style"){var B=y[X];for(L in B)B.hasOwnProperty(L)&&(d||(d={}),d[L]="")}else X!=="dangerouslySetInnerHTML"&&X!=="children"&&X!=="suppressContentEditableWarning"&&X!=="suppressHydrationWarning"&&X!=="autoFocus"&&(i.hasOwnProperty(X)?S||(S=[]):(S=S||[]).push(X,null));for(X in m){var H=m[X];if(B=y?.[X],m.hasOwnProperty(X)&&H!==B&&(H!=null||B!=null))if(X==="style")if(B){for(L in B)!B.hasOwnProperty(L)||H&&H.hasOwnProperty(L)||(d||(d={}),d[L]="");for(L in H)H.hasOwnProperty(L)&&B[L]!==H[L]&&(d||(d={}),d[L]=H[L])}else d||(S||(S=[]),S.push(X,d)),d=H;else X==="dangerouslySetInnerHTML"?(H=H?H.__html:void 0,B=B?B.__html:void 0,H!=null&&B!==H&&(S=S||[]).push(X,H)):X==="children"?typeof H!="string"&&typeof H!="number"||(S=S||[]).push(X,""+H):X!=="suppressContentEditableWarning"&&X!=="suppressHydrationWarning"&&(i.hasOwnProperty(X)?(H!=null&&X==="onScroll"&&ot("scroll",o),S||B===H||(S=[])):(S=S||[]).push(X,H))}d&&(S=S||[]).push("style",d);var X=S;(l.updateQueue=X)&&(l.flags|=4)}},vb=function(o,l,d,m){d!==m&&(l.flags|=4)};function du(o,l){if(!ct)switch(o.tailMode){case"hidden":l=o.tail;for(var d=null;l!==null;)l.alternate!==null&&(d=l),l=l.sibling;d===null?o.tail=null:d.sibling=null;break;case"collapsed":d=o.tail;for(var m=null;d!==null;)d.alternate!==null&&(m=d),d=d.sibling;m===null?l||o.tail===null?o.tail=null:o.tail.sibling=null:m.sibling=null}}function fn(o){var l=o.alternate!==null&&o.alternate.child===o.child,d=0,m=0;if(l)for(var y=o.child;y!==null;)d|=y.lanes|y.childLanes,m|=y.subtreeFlags&14680064,m|=y.flags&14680064,y.return=o,y=y.sibling;else for(y=o.child;y!==null;)d|=y.lanes|y.childLanes,m|=y.subtreeFlags,m|=y.flags,y.return=o,y=y.sibling;return o.subtreeFlags|=m,o.childLanes=d,l}function VO(o,l,d){var m=l.pendingProps;switch(Tg(l),l.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return fn(l),null;case 1:return Ln(l.type)&&Uf(),fn(l),null;case 3:return m=l.stateNode,_l(),at(Dn),at(un),$g(),m.pendingContext&&(m.context=m.pendingContext,m.pendingContext=null),(o===null||o.child===null)&&(qf(l)?l.flags|=4:o===null||o.memoizedState.isDehydrated&&(l.flags&256)===0||(l.flags|=1024,Ur!==null&&(mv(Ur),Ur=null))),iv(o,l),fn(l),null;case 5:jg(l);var y=Ho(ou.current);if(d=l.type,o!==null&&l.stateNode!=null)gb(o,l,d,m,y),o.ref!==l.ref&&(l.flags|=512,l.flags|=2097152);else{if(!m){if(l.stateNode===null)throw Error(n(166));return fn(l),null}if(o=Ho(fi.current),qf(l)){m=l.stateNode,d=l.type;var S=l.memoizedProps;switch(m[di]=l,m[tu]=S,o=(l.mode&1)!==0,d){case"dialog":ot("cancel",m),ot("close",m);break;case"iframe":case"object":case"embed":ot("load",m);break;case"video":case"audio":for(y=0;y<Qc.length;y++)ot(Qc[y],m);break;case"source":ot("error",m);break;case"img":case"image":case"link":ot("error",m),ot("load",m);break;case"details":ot("toggle",m);break;case"input":Mt(m,S),ot("invalid",m);break;case"select":m._wrapperState={wasMultiple:!!S.multiple},ot("invalid",m);break;case"textarea":Fa(m,S),ot("invalid",m)}Ic(d,S),y=null;for(var L in S)if(S.hasOwnProperty(L)){var B=S[L];L==="children"?typeof B=="string"?m.textContent!==B&&(S.suppressHydrationWarning!==!0&&Ff(m.textContent,B,o),y=["children",B]):typeof B=="number"&&m.textContent!==""+B&&(S.suppressHydrationWarning!==!0&&Ff(m.textContent,B,o),y=["children",""+B]):i.hasOwnProperty(L)&&B!=null&&L==="onScroll"&&ot("scroll",m)}switch(d){case"input":$e(m),df(m,S,!0);break;case"textarea":$e(m),Sc(m);break;case"select":case"option":break;default:typeof S.onClick=="function"&&(m.onclick=$f)}m=y,l.updateQueue=m,m!==null&&(l.flags|=4)}else{L=y.nodeType===9?y:y.ownerDocument,o==="http://www.w3.org/1999/xhtml"&&(o=Dt(d)),o==="http://www.w3.org/1999/xhtml"?d==="script"?(o=L.createElement("div"),o.innerHTML="<script><\/script>",o=o.removeChild(o.firstChild)):typeof m.is=="string"?o=L.createElement(d,{is:m.is}):(o=L.createElement(d),d==="select"&&(L=o,m.multiple?L.multiple=!0:m.size&&(L.size=m.size))):o=L.createElementNS(o,d),o[di]=l,o[tu]=m,mb(o,l,!1,!1),l.stateNode=o;e:{switch(L=Rc(d,m),d){case"dialog":ot("cancel",o),ot("close",o),y=m;break;case"iframe":case"object":case"embed":ot("load",o),y=m;break;case"video":case"audio":for(y=0;y<Qc.length;y++)ot(Qc[y],o);y=m;break;case"source":ot("error",o),y=m;break;case"img":case"image":case"link":ot("error",o),ot("load",o),y=m;break;case"details":ot("toggle",o),y=m;break;case"input":Mt(o,m),y=xn(o,m),ot("invalid",o);break;case"option":y=m;break;case"select":o._wrapperState={wasMultiple:!!m.multiple},y=le({},m,{value:void 0}),ot("invalid",o);break;case"textarea":Fa(o,m),y=Ec(o,m),ot("invalid",o);break;default:y=m}Ic(d,y),B=y;for(S in B)if(B.hasOwnProperty(S)){var H=B[S];S==="style"?kc(o,H):S==="dangerouslySetInnerHTML"?(H=H?H.__html:void 0,H!=null&&Cc(o,H)):S==="children"?typeof H=="string"?(d!=="textarea"||H!=="")&&Es(o,H):typeof H=="number"&&Es(o,""+H):S!=="suppressContentEditableWarning"&&S!=="suppressHydrationWarning"&&S!=="autoFocus"&&(i.hasOwnProperty(S)?H!=null&&S==="onScroll"&&ot("scroll",o):H!=null&&P(o,S,H,L))}switch(d){case"input":$e(o),df(o,m,!1);break;case"textarea":$e(o),Sc(o);break;case"option":m.value!=null&&o.setAttribute("value",""+ke(m.value));break;case"select":o.multiple=!!m.multiple,S=m.value,S!=null?Ni(o,!!m.multiple,S,!1):m.defaultValue!=null&&Ni(o,!!m.multiple,m.defaultValue,!0);break;default:typeof y.onClick=="function"&&(o.onclick=$f)}switch(d){case"button":case"input":case"select":case"textarea":m=!!m.autoFocus;break e;case"img":m=!0;break e;default:m=!1}}m&&(l.flags|=4)}l.ref!==null&&(l.flags|=512,l.flags|=2097152)}return fn(l),null;case 6:if(o&&l.stateNode!=null)vb(o,l,o.memoizedProps,m);else{if(typeof m!="string"&&l.stateNode===null)throw Error(n(166));if(d=Ho(ou.current),Ho(fi.current),qf(l)){if(m=l.stateNode,d=l.memoizedProps,m[di]=l,(S=m.nodeValue!==d)&&(o=Qn,o!==null))switch(o.tag){case 3:Ff(m.nodeValue,d,(o.mode&1)!==0);break;case 5:o.memoizedProps.suppressHydrationWarning!==!0&&Ff(m.nodeValue,d,(o.mode&1)!==0)}S&&(l.flags|=4)}else m=(d.nodeType===9?d:d.ownerDocument).createTextNode(m),m[di]=l,l.stateNode=m}return fn(l),null;case 13:if(at(pt),m=l.memoizedState,o===null||o.memoizedState!==null&&o.memoizedState.dehydrated!==null){if(ct&&Zn!==null&&(l.mode&1)!==0&&(l.flags&128)===0)_1(),gl(),l.flags|=98560,S=!1;else if(S=qf(l),m!==null&&m.dehydrated!==null){if(o===null){if(!S)throw Error(n(318));if(S=l.memoizedState,S=S!==null?S.dehydrated:null,!S)throw Error(n(317));S[di]=l}else gl(),(l.flags&128)===0&&(l.memoizedState=null),l.flags|=4;fn(l),S=!1}else Ur!==null&&(mv(Ur),Ur=null),S=!0;if(!S)return l.flags&65536?l:null}return(l.flags&128)!==0?(l.lanes=d,l):(m=m!==null,m!==(o!==null&&o.memoizedState!==null)&&m&&(l.child.flags|=8192,(l.mode&1)!==0&&(o===null||(pt.current&1)!==0?$t===0&&($t=3):yv())),l.updateQueue!==null&&(l.flags|=4),fn(l),null);case 4:return _l(),iv(o,l),o===null&&Zc(l.stateNode.containerInfo),fn(l),null;case 10:return Ng(l.type._context),fn(l),null;case 17:return Ln(l.type)&&Uf(),fn(l),null;case 19:if(at(pt),S=l.memoizedState,S===null)return fn(l),null;if(m=(l.flags&128)!==0,L=S.rendering,L===null)if(m)du(S,!1);else{if($t!==0||o!==null&&(o.flags&128)!==0)for(o=l.child;o!==null;){if(L=Qf(o),L!==null){for(l.flags|=128,du(S,!1),m=L.updateQueue,m!==null&&(l.updateQueue=m,l.flags|=4),l.subtreeFlags=0,m=d,d=l.child;d!==null;)S=d,o=m,S.flags&=14680066,L=S.alternate,L===null?(S.childLanes=0,S.lanes=o,S.child=null,S.subtreeFlags=0,S.memoizedProps=null,S.memoizedState=null,S.updateQueue=null,S.dependencies=null,S.stateNode=null):(S.childLanes=L.childLanes,S.lanes=L.lanes,S.child=L.child,S.subtreeFlags=0,S.deletions=null,S.memoizedProps=L.memoizedProps,S.memoizedState=L.memoizedState,S.updateQueue=L.updateQueue,S.type=L.type,o=L.dependencies,S.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext}),d=d.sibling;return rt(pt,pt.current&1|2),l.child}o=o.sibling}S.tail!==null&&nt()>Sl&&(l.flags|=128,m=!0,du(S,!1),l.lanes=4194304)}else{if(!m)if(o=Qf(L),o!==null){if(l.flags|=128,m=!0,d=o.updateQueue,d!==null&&(l.updateQueue=d,l.flags|=4),du(S,!0),S.tail===null&&S.tailMode==="hidden"&&!L.alternate&&!ct)return fn(l),null}else 2*nt()-S.renderingStartTime>Sl&&d!==1073741824&&(l.flags|=128,m=!0,du(S,!1),l.lanes=4194304);S.isBackwards?(L.sibling=l.child,l.child=L):(d=S.last,d!==null?d.sibling=L:l.child=L,S.last=L)}return S.tail!==null?(l=S.tail,S.rendering=l,S.tail=l.sibling,S.renderingStartTime=nt(),l.sibling=null,d=pt.current,rt(pt,m?d&1|2:d&1),l):(fn(l),null);case 22:case 23:return vv(),m=l.memoizedState!==null,o!==null&&o.memoizedState!==null!==m&&(l.flags|=8192),m&&(l.mode&1)!==0?(er&1073741824)!==0&&(fn(l),l.subtreeFlags&6&&(l.flags|=8192)):fn(l),null;case 24:return null;case 25:return null}throw Error(n(156,l.tag))}function UO(o,l){switch(Tg(l),l.tag){case 1:return Ln(l.type)&&Uf(),o=l.flags,o&65536?(l.flags=o&-65537|128,l):null;case 3:return _l(),at(Dn),at(un),$g(),o=l.flags,(o&65536)!==0&&(o&128)===0?(l.flags=o&-65537|128,l):null;case 5:return jg(l),null;case 13:if(at(pt),o=l.memoizedState,o!==null&&o.dehydrated!==null){if(l.alternate===null)throw Error(n(340));gl()}return o=l.flags,o&65536?(l.flags=o&-65537|128,l):null;case 19:return at(pt),null;case 4:return _l(),null;case 10:return Ng(l.type._context),null;case 22:case 23:return vv(),null;case 24:return null;default:return null}}var ah=!1,hn=!1,BO=typeof WeakSet=="function"?WeakSet:Set,ye=null;function bl(o,l){var d=o.ref;if(d!==null)if(typeof d=="function")try{d(null)}catch(m){_t(o,l,m)}else d.current=null}function sv(o,l,d){try{d()}catch(m){_t(o,l,m)}}var yb=!1;function zO(o,l){if(vg=As,o=Xx(),cg(o)){if("selectionStart"in o)var d={start:o.selectionStart,end:o.selectionEnd};else e:{d=(d=o.ownerDocument)&&d.defaultView||window;var m=d.getSelection&&d.getSelection();if(m&&m.rangeCount!==0){d=m.anchorNode;var y=m.anchorOffset,S=m.focusNode;m=m.focusOffset;try{d.nodeType,S.nodeType}catch{d=null;break e}var L=0,B=-1,H=-1,X=0,ae=0,ce=o,ie=null;t:for(;;){for(var ge;ce!==d||y!==0&&ce.nodeType!==3||(B=L+y),ce!==S||m!==0&&ce.nodeType!==3||(H=L+m),ce.nodeType===3&&(L+=ce.nodeValue.length),(ge=ce.firstChild)!==null;)ie=ce,ce=ge;for(;;){if(ce===o)break t;if(ie===d&&++X===y&&(B=L),ie===S&&++ae===m&&(H=L),(ge=ce.nextSibling)!==null)break;ce=ie,ie=ce.parentNode}ce=ge}d=B===-1||H===-1?null:{start:B,end:H}}else d=null}d=d||{start:0,end:0}}else d=null;for(yg={focusedElem:o,selectionRange:d},As=!1,ye=l;ye!==null;)if(l=ye,o=l.child,(l.subtreeFlags&1028)!==0&&o!==null)o.return=l,ye=o;else for(;ye!==null;){l=ye;try{var we=l.alternate;if((l.flags&1024)!==0)switch(l.tag){case 0:case 11:case 15:break;case 1:if(we!==null){var be=we.memoizedProps,It=we.memoizedState,K=l.stateNode,W=K.getSnapshotBeforeUpdate(l.elementType===l.type?be:Br(l.type,be),It);K.__reactInternalSnapshotBeforeUpdate=W}break;case 3:var Y=l.stateNode.containerInfo;Y.nodeType===1?Y.textContent="":Y.nodeType===9&&Y.documentElement&&Y.removeChild(Y.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(de){_t(l,l.return,de)}if(o=l.sibling,o!==null){o.return=l.return,ye=o;break}ye=l.return}return we=yb,yb=!1,we}function fu(o,l,d){var m=l.updateQueue;if(m=m!==null?m.lastEffect:null,m!==null){var y=m=m.next;do{if((y.tag&o)===o){var S=y.destroy;y.destroy=void 0,S!==void 0&&sv(l,d,S)}y=y.next}while(y!==m)}}function lh(o,l){if(l=l.updateQueue,l=l!==null?l.lastEffect:null,l!==null){var d=l=l.next;do{if((d.tag&o)===o){var m=d.create;d.destroy=m()}d=d.next}while(d!==l)}}function ov(o){var l=o.ref;if(l!==null){var d=o.stateNode;switch(o.tag){case 5:o=d;break;default:o=d}typeof l=="function"?l(o):l.current=o}}function wb(o){var l=o.alternate;l!==null&&(o.alternate=null,wb(l)),o.child=null,o.deletions=null,o.sibling=null,o.tag===5&&(l=o.stateNode,l!==null&&(delete l[di],delete l[tu],delete l[bg],delete l[CO],delete l[TO])),o.stateNode=null,o.return=null,o.dependencies=null,o.memoizedProps=null,o.memoizedState=null,o.pendingProps=null,o.stateNode=null,o.updateQueue=null}function _b(o){return o.tag===5||o.tag===3||o.tag===4}function xb(o){e:for(;;){for(;o.sibling===null;){if(o.return===null||_b(o.return))return null;o=o.return}for(o.sibling.return=o.return,o=o.sibling;o.tag!==5&&o.tag!==6&&o.tag!==18;){if(o.flags&2||o.child===null||o.tag===4)continue e;o.child.return=o,o=o.child}if(!(o.flags&2))return o.stateNode}}function av(o,l,d){var m=o.tag;if(m===5||m===6)o=o.stateNode,l?d.nodeType===8?d.parentNode.insertBefore(o,l):d.insertBefore(o,l):(d.nodeType===8?(l=d.parentNode,l.insertBefore(o,d)):(l=d,l.appendChild(o)),d=d._reactRootContainer,d!=null||l.onclick!==null||(l.onclick=$f));else if(m!==4&&(o=o.child,o!==null))for(av(o,l,d),o=o.sibling;o!==null;)av(o,l,d),o=o.sibling}function lv(o,l,d){var m=o.tag;if(m===5||m===6)o=o.stateNode,l?d.insertBefore(o,l):d.appendChild(o);else if(m!==4&&(o=o.child,o!==null))for(lv(o,l,d),o=o.sibling;o!==null;)lv(o,l,d),o=o.sibling}var tn=null,zr=!1;function Us(o,l,d){for(d=d.child;d!==null;)bb(o,l,d),d=d.sibling}function bb(o,l,d){if(Yn&&typeof Yn.onCommitFiberUnmount=="function")try{Yn.onCommitFiberUnmount(Oo,d)}catch{}switch(d.tag){case 5:hn||bl(d,l);case 6:var m=tn,y=zr;tn=null,Us(o,l,d),tn=m,zr=y,tn!==null&&(zr?(o=tn,d=d.stateNode,o.nodeType===8?o.parentNode.removeChild(d):o.removeChild(d)):tn.removeChild(d.stateNode));break;case 18:tn!==null&&(zr?(o=tn,d=d.stateNode,o.nodeType===8?xg(o.parentNode,d):o.nodeType===1&&xg(o,d),Fr(o)):xg(tn,d.stateNode));break;case 4:m=tn,y=zr,tn=d.stateNode.containerInfo,zr=!0,Us(o,l,d),tn=m,zr=y;break;case 0:case 11:case 14:case 15:if(!hn&&(m=d.updateQueue,m!==null&&(m=m.lastEffect,m!==null))){y=m=m.next;do{var S=y,L=S.destroy;S=S.tag,L!==void 0&&((S&2)!==0||(S&4)!==0)&&sv(d,l,L),y=y.next}while(y!==m)}Us(o,l,d);break;case 1:if(!hn&&(bl(d,l),m=d.stateNode,typeof m.componentWillUnmount=="function"))try{m.props=d.memoizedProps,m.state=d.memoizedState,m.componentWillUnmount()}catch(B){_t(d,l,B)}Us(o,l,d);break;case 21:Us(o,l,d);break;case 22:d.mode&1?(hn=(m=hn)||d.memoizedState!==null,Us(o,l,d),hn=m):Us(o,l,d);break;default:Us(o,l,d)}}function Eb(o){var l=o.updateQueue;if(l!==null){o.updateQueue=null;var d=o.stateNode;d===null&&(d=o.stateNode=new BO),l.forEach(function(m){var y=QO.bind(null,o,m);d.has(m)||(d.add(m),m.then(y,y))})}}function Hr(o,l){var d=l.deletions;if(d!==null)for(var m=0;m<d.length;m++){var y=d[m];try{var S=o,L=l,B=L;e:for(;B!==null;){switch(B.tag){case 5:tn=B.stateNode,zr=!1;break e;case 3:tn=B.stateNode.containerInfo,zr=!0;break e;case 4:tn=B.stateNode.containerInfo,zr=!0;break e}B=B.return}if(tn===null)throw Error(n(160));bb(S,L,y),tn=null,zr=!1;var H=y.alternate;H!==null&&(H.return=null),y.return=null}catch(X){_t(y,l,X)}}if(l.subtreeFlags&12854)for(l=l.child;l!==null;)Sb(l,o),l=l.sibling}function Sb(o,l){var d=o.alternate,m=o.flags;switch(o.tag){case 0:case 11:case 14:case 15:if(Hr(l,o),pi(o),m&4){try{fu(3,o,o.return),lh(3,o)}catch(be){_t(o,o.return,be)}try{fu(5,o,o.return)}catch(be){_t(o,o.return,be)}}break;case 1:Hr(l,o),pi(o),m&512&&d!==null&&bl(d,d.return);break;case 5:if(Hr(l,o),pi(o),m&512&&d!==null&&bl(d,d.return),o.flags&32){var y=o.stateNode;try{Es(y,"")}catch(be){_t(o,o.return,be)}}if(m&4&&(y=o.stateNode,y!=null)){var S=o.memoizedProps,L=d!==null?d.memoizedProps:S,B=o.type,H=o.updateQueue;if(o.updateQueue=null,H!==null)try{B==="input"&&S.type==="radio"&&S.name!=null&&kt(y,S),Rc(B,L);var X=Rc(B,S);for(L=0;L<H.length;L+=2){var ae=H[L],ce=H[L+1];ae==="style"?kc(y,ce):ae==="dangerouslySetInnerHTML"?Cc(y,ce):ae==="children"?Es(y,ce):P(y,ae,ce,X)}switch(B){case"input":Co(y,S);break;case"textarea":$a(y,S);break;case"select":var ie=y._wrapperState.wasMultiple;y._wrapperState.wasMultiple=!!S.multiple;var ge=S.value;ge!=null?Ni(y,!!S.multiple,ge,!1):ie!==!!S.multiple&&(S.defaultValue!=null?Ni(y,!!S.multiple,S.defaultValue,!0):Ni(y,!!S.multiple,S.multiple?[]:"",!1))}y[tu]=S}catch(be){_t(o,o.return,be)}}break;case 6:if(Hr(l,o),pi(o),m&4){if(o.stateNode===null)throw Error(n(162));y=o.stateNode,S=o.memoizedProps;try{y.nodeValue=S}catch(be){_t(o,o.return,be)}}break;case 3:if(Hr(l,o),pi(o),m&4&&d!==null&&d.memoizedState.isDehydrated)try{Fr(l.containerInfo)}catch(be){_t(o,o.return,be)}break;case 4:Hr(l,o),pi(o);break;case 13:Hr(l,o),pi(o),y=o.child,y.flags&8192&&(S=y.memoizedState!==null,y.stateNode.isHidden=S,!S||y.alternate!==null&&y.alternate.memoizedState!==null||(dv=nt())),m&4&&Eb(o);break;case 22:if(ae=d!==null&&d.memoizedState!==null,o.mode&1?(hn=(X=hn)||ae,Hr(l,o),hn=X):Hr(l,o),pi(o),m&8192){if(X=o.memoizedState!==null,(o.stateNode.isHidden=X)&&!ae&&(o.mode&1)!==0)for(ye=o,ae=o.child;ae!==null;){for(ce=ye=ae;ye!==null;){switch(ie=ye,ge=ie.child,ie.tag){case 0:case 11:case 14:case 15:fu(4,ie,ie.return);break;case 1:bl(ie,ie.return);var we=ie.stateNode;if(typeof we.componentWillUnmount=="function"){m=ie,d=ie.return;try{l=m,we.props=l.memoizedProps,we.state=l.memoizedState,we.componentWillUnmount()}catch(be){_t(m,d,be)}}break;case 5:bl(ie,ie.return);break;case 22:if(ie.memoizedState!==null){kb(ce);continue}}ge!==null?(ge.return=ie,ye=ge):kb(ce)}ae=ae.sibling}e:for(ae=null,ce=o;;){if(ce.tag===5){if(ae===null){ae=ce;try{y=ce.stateNode,X?(S=y.style,typeof S.setProperty=="function"?S.setProperty("display","none","important"):S.display="none"):(B=ce.stateNode,H=ce.memoizedProps.style,L=H!=null&&H.hasOwnProperty("display")?H.display:null,B.style.display=Tc("display",L))}catch(be){_t(o,o.return,be)}}}else if(ce.tag===6){if(ae===null)try{ce.stateNode.nodeValue=X?"":ce.memoizedProps}catch(be){_t(o,o.return,be)}}else if((ce.tag!==22&&ce.tag!==23||ce.memoizedState===null||ce===o)&&ce.child!==null){ce.child.return=ce,ce=ce.child;continue}if(ce===o)break e;for(;ce.sibling===null;){if(ce.return===null||ce.return===o)break e;ae===ce&&(ae=null),ce=ce.return}ae===ce&&(ae=null),ce.sibling.return=ce.return,ce=ce.sibling}}break;case 19:Hr(l,o),pi(o),m&4&&Eb(o);break;case 21:break;default:Hr(l,o),pi(o)}}function pi(o){var l=o.flags;if(l&2){try{e:{for(var d=o.return;d!==null;){if(_b(d)){var m=d;break e}d=d.return}throw Error(n(160))}switch(m.tag){case 5:var y=m.stateNode;m.flags&32&&(Es(y,""),m.flags&=-33);var S=xb(o);lv(o,S,y);break;case 3:case 4:var L=m.stateNode.containerInfo,B=xb(o);av(o,B,L);break;default:throw Error(n(161))}}catch(H){_t(o,o.return,H)}o.flags&=-3}l&4096&&(o.flags&=-4097)}function HO(o,l,d){ye=o,Cb(o)}function Cb(o,l,d){for(var m=(o.mode&1)!==0;ye!==null;){var y=ye,S=y.child;if(y.tag===22&&m){var L=y.memoizedState!==null||ah;if(!L){var B=y.alternate,H=B!==null&&B.memoizedState!==null||hn;B=ah;var X=hn;if(ah=L,(hn=H)&&!X)for(ye=y;ye!==null;)L=ye,H=L.child,L.tag===22&&L.memoizedState!==null?Pb(y):H!==null?(H.return=L,ye=H):Pb(y);for(;S!==null;)ye=S,Cb(S),S=S.sibling;ye=y,ah=B,hn=X}Tb(o)}else(y.subtreeFlags&8772)!==0&&S!==null?(S.return=y,ye=S):Tb(o)}}function Tb(o){for(;ye!==null;){var l=ye;if((l.flags&8772)!==0){var d=l.alternate;try{if((l.flags&8772)!==0)switch(l.tag){case 0:case 11:case 15:hn||lh(5,l);break;case 1:var m=l.stateNode;if(l.flags&4&&!hn)if(d===null)m.componentDidMount();else{var y=l.elementType===l.type?d.memoizedProps:Br(l.type,d.memoizedProps);m.componentDidUpdate(y,d.memoizedState,m.__reactInternalSnapshotBeforeUpdate)}var S=l.updateQueue;S!==null&&k1(l,S,m);break;case 3:var L=l.updateQueue;if(L!==null){if(d=null,l.child!==null)switch(l.child.tag){case 5:d=l.child.stateNode;break;case 1:d=l.child.stateNode}k1(l,L,d)}break;case 5:var B=l.stateNode;if(d===null&&l.flags&4){d=B;var H=l.memoizedProps;switch(l.type){case"button":case"input":case"select":case"textarea":H.autoFocus&&d.focus();break;case"img":H.src&&(d.src=H.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(l.memoizedState===null){var X=l.alternate;if(X!==null){var ae=X.memoizedState;if(ae!==null){var ce=ae.dehydrated;ce!==null&&Fr(ce)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}hn||l.flags&512&&ov(l)}catch(ie){_t(l,l.return,ie)}}if(l===o){ye=null;break}if(d=l.sibling,d!==null){d.return=l.return,ye=d;break}ye=l.return}}function kb(o){for(;ye!==null;){var l=ye;if(l===o){ye=null;break}var d=l.sibling;if(d!==null){d.return=l.return,ye=d;break}ye=l.return}}function Pb(o){for(;ye!==null;){var l=ye;try{switch(l.tag){case 0:case 11:case 15:var d=l.return;try{lh(4,l)}catch(H){_t(l,d,H)}break;case 1:var m=l.stateNode;if(typeof m.componentDidMount=="function"){var y=l.return;try{m.componentDidMount()}catch(H){_t(l,y,H)}}var S=l.return;try{ov(l)}catch(H){_t(l,S,H)}break;case 5:var L=l.return;try{ov(l)}catch(H){_t(l,L,H)}}}catch(H){_t(l,l.return,H)}if(l===o){ye=null;break}var B=l.sibling;if(B!==null){B.return=l.return,ye=B;break}ye=l.return}}var WO=Math.ceil,ch=j.ReactCurrentDispatcher,cv=j.ReactCurrentOwner,vr=j.ReactCurrentBatchConfig,ze=0,Wt=null,Nt=null,nn=0,er=0,El=Ls(0),$t=0,hu=null,qo=0,uh=0,uv=0,pu=null,Fn=null,dv=0,Sl=1/0,Ki=null,dh=!1,fv=null,Bs=null,fh=!1,zs=null,hh=0,mu=0,hv=null,ph=-1,mh=0;function Sn(){return(ze&6)!==0?nt():ph!==-1?ph:ph=nt()}function Hs(o){return(o.mode&1)===0?1:(ze&2)!==0&&nn!==0?nn&-nn:PO.transition!==null?(mh===0&&(mh=Do()),mh):(o=Fe,o!==0||(o=window.event,o=o===void 0?16:zc(o.type)),o)}function Wr(o,l,d,m){if(50<mu)throw mu=0,hv=null,Error(n(185));ks(o,d,m),((ze&2)===0||o!==Wt)&&(o===Wt&&((ze&2)===0&&(uh|=d),$t===4&&Ws(o,nn)),$n(o,m),d===1&&ze===0&&(l.mode&1)===0&&(Sl=nt()+500,zf&&Fs()))}function $n(o,l){var d=o.callbackNode;Li(o,l);var m=Mo(o,o===Wt?nn:0);if(m===0)d!==null&&Fc(d),o.callbackNode=null,o.callbackPriority=0;else if(l=m&-m,o.callbackPriority!==l){if(d!=null&&Fc(d),l===1)o.tag===0?kO(Rb.bind(null,o)):m1(Rb.bind(null,o)),EO(function(){(ze&6)===0&&Fs()}),d=null;else{switch(Is(m)){case 1:d=No;break;case 4:d=Ss;break;case 16:d=dr;break;case 536870912:d=mf;break;default:d=dr}d=Fb(d,Ib.bind(null,o))}o.callbackPriority=l,o.callbackNode=d}}function Ib(o,l){if(ph=-1,mh=0,(ze&6)!==0)throw Error(n(327));var d=o.callbackNode;if(Cl()&&o.callbackNode!==d)return null;var m=Mo(o,o===Wt?nn:0);if(m===0)return null;if((m&30)!==0||(m&o.expiredLanes)!==0||l)l=gh(o,m);else{l=m;var y=ze;ze|=2;var S=Nb();(Wt!==o||nn!==l)&&(Ki=null,Sl=nt()+500,Ko(o,l));do try{KO();break}catch(B){Ab(o,B)}while(!0);Ag(),ch.current=S,ze=y,Nt!==null?l=0:(Wt=null,nn=0,l=$t)}if(l!==0){if(l===2&&(y=Xn(o),y!==0&&(m=y,l=pv(o,y))),l===1)throw d=hu,Ko(o,0),Ws(o,m),$n(o,nt()),d;if(l===6)Ws(o,m);else{if(y=o.current.alternate,(m&30)===0&&!qO(y)&&(l=gh(o,m),l===2&&(S=Xn(o),S!==0&&(m=S,l=pv(o,S))),l===1))throw d=hu,Ko(o,0),Ws(o,m),$n(o,nt()),d;switch(o.finishedWork=y,o.finishedLanes=m,l){case 0:case 1:throw Error(n(345));case 2:Yo(o,Fn,Ki);break;case 3:if(Ws(o,m),(m&130023424)===m&&(l=dv+500-nt(),10<l)){if(Mo(o,0)!==0)break;if(y=o.suspendedLanes,(y&m)!==m){Sn(),o.pingedLanes|=o.suspendedLanes&y;break}o.timeoutHandle=_g(Yo.bind(null,o,Fn,Ki),l);break}Yo(o,Fn,Ki);break;case 4:if(Ws(o,m),(m&4194240)===m)break;for(l=o.eventTimes,y=-1;0<m;){var L=31-bn(m);S=1<<L,L=l[L],L>y&&(y=L),m&=~S}if(m=y,m=nt()-m,m=(120>m?120:480>m?480:1080>m?1080:1920>m?1920:3e3>m?3e3:4320>m?4320:1960*WO(m/1960))-m,10<m){o.timeoutHandle=_g(Yo.bind(null,o,Fn,Ki),m);break}Yo(o,Fn,Ki);break;case 5:Yo(o,Fn,Ki);break;default:throw Error(n(329))}}}return $n(o,nt()),o.callbackNode===d?Ib.bind(null,o):null}function pv(o,l){var d=pu;return o.current.memoizedState.isDehydrated&&(Ko(o,l).flags|=256),o=gh(o,l),o!==2&&(l=Fn,Fn=d,l!==null&&mv(l)),o}function mv(o){Fn===null?Fn=o:Fn.push.apply(Fn,o)}function qO(o){for(var l=o;;){if(l.flags&16384){var d=l.updateQueue;if(d!==null&&(d=d.stores,d!==null))for(var m=0;m<d.length;m++){var y=d[m],S=y.getSnapshot;y=y.value;try{if(!Vr(S(),y))return!1}catch{return!1}}}if(d=l.child,l.subtreeFlags&16384&&d!==null)d.return=l,l=d;else{if(l===o)break;for(;l.sibling===null;){if(l.return===null||l.return===o)return!0;l=l.return}l.sibling.return=l.return,l=l.sibling}}return!0}function Ws(o,l){for(l&=~uv,l&=~uh,o.suspendedLanes|=l,o.pingedLanes&=~l,o=o.expirationTimes;0<l;){var d=31-bn(l),m=1<<d;o[d]=-1,l&=~m}}function Rb(o){if((ze&6)!==0)throw Error(n(327));Cl();var l=Mo(o,0);if((l&1)===0)return $n(o,nt()),null;var d=gh(o,l);if(o.tag!==0&&d===2){var m=Xn(o);m!==0&&(l=m,d=pv(o,m))}if(d===1)throw d=hu,Ko(o,0),Ws(o,l),$n(o,nt()),d;if(d===6)throw Error(n(345));return o.finishedWork=o.current.alternate,o.finishedLanes=l,Yo(o,Fn,Ki),$n(o,nt()),null}function gv(o,l){var d=ze;ze|=1;try{return o(l)}finally{ze=d,ze===0&&(Sl=nt()+500,zf&&Fs())}}function Go(o){zs!==null&&zs.tag===0&&(ze&6)===0&&Cl();var l=ze;ze|=1;var d=vr.transition,m=Fe;try{if(vr.transition=null,Fe=1,o)return o()}finally{Fe=m,vr.transition=d,ze=l,(ze&6)===0&&Fs()}}function vv(){er=El.current,at(El)}function Ko(o,l){o.finishedWork=null,o.finishedLanes=0;var d=o.timeoutHandle;if(d!==-1&&(o.timeoutHandle=-1,bO(d)),Nt!==null)for(d=Nt.return;d!==null;){var m=d;switch(Tg(m),m.tag){case 1:m=m.type.childContextTypes,m!=null&&Uf();break;case 3:_l(),at(Dn),at(un),$g();break;case 5:jg(m);break;case 4:_l();break;case 13:at(pt);break;case 19:at(pt);break;case 10:Ng(m.type._context);break;case 22:case 23:vv()}d=d.return}if(Wt=o,Nt=o=qs(o.current,null),nn=er=l,$t=0,hu=null,uv=uh=qo=0,Fn=pu=null,zo!==null){for(l=0;l<zo.length;l++)if(d=zo[l],m=d.interleaved,m!==null){d.interleaved=null;var y=m.next,S=d.pending;if(S!==null){var L=S.next;S.next=y,m.next=L}d.pending=m}zo=null}return o}function Ab(o,l){do{var d=Nt;try{if(Ag(),Zf.current=rh,eh){for(var m=mt.memoizedState;m!==null;){var y=m.queue;y!==null&&(y.pending=null),m=m.next}eh=!1}if(Wo=0,Ht=Ft=mt=null,au=!1,lu=0,cv.current=null,d===null||d.return===null){$t=1,hu=l,Nt=null;break}e:{var S=o,L=d.return,B=d,H=l;if(l=nn,B.flags|=32768,H!==null&&typeof H=="object"&&typeof H.then=="function"){var X=H,ae=B,ce=ae.tag;if((ae.mode&1)===0&&(ce===0||ce===11||ce===15)){var ie=ae.alternate;ie?(ae.updateQueue=ie.updateQueue,ae.memoizedState=ie.memoizedState,ae.lanes=ie.lanes):(ae.updateQueue=null,ae.memoizedState=null)}var ge=nb(L);if(ge!==null){ge.flags&=-257,rb(ge,L,B,S,l),ge.mode&1&&tb(S,X,l),l=ge,H=X;var we=l.updateQueue;if(we===null){var be=new Set;be.add(H),l.updateQueue=be}else we.add(H);break e}else{if((l&1)===0){tb(S,X,l),yv();break e}H=Error(n(426))}}else if(ct&&B.mode&1){var It=nb(L);if(It!==null){(It.flags&65536)===0&&(It.flags|=256),rb(It,L,B,S,l),Ig(xl(H,B));break e}}S=H=xl(H,B),$t!==4&&($t=2),pu===null?pu=[S]:pu.push(S),S=L;do{switch(S.tag){case 3:S.flags|=65536,l&=-l,S.lanes|=l;var K=Z1(S,H,l);T1(S,K);break e;case 1:B=H;var W=S.type,Y=S.stateNode;if((S.flags&128)===0&&(typeof W.getDerivedStateFromError=="function"||Y!==null&&typeof Y.componentDidCatch=="function"&&(Bs===null||!Bs.has(Y)))){S.flags|=65536,l&=-l,S.lanes|=l;var de=eb(S,B,l);T1(S,de);break e}}S=S.return}while(S!==null)}Mb(d)}catch(Se){l=Se,Nt===d&&d!==null&&(Nt=d=d.return);continue}break}while(!0)}function Nb(){var o=ch.current;return ch.current=rh,o===null?rh:o}function yv(){($t===0||$t===3||$t===2)&&($t=4),Wt===null||(qo&268435455)===0&&(uh&268435455)===0||Ws(Wt,nn)}function gh(o,l){var d=ze;ze|=2;var m=Nb();(Wt!==o||nn!==l)&&(Ki=null,Ko(o,l));do try{GO();break}catch(y){Ab(o,y)}while(!0);if(Ag(),ze=d,ch.current=m,Nt!==null)throw Error(n(261));return Wt=null,nn=0,$t}function GO(){for(;Nt!==null;)Ob(Nt)}function KO(){for(;Nt!==null&&!hf();)Ob(Nt)}function Ob(o){var l=jb(o.alternate,o,er);o.memoizedProps=o.pendingProps,l===null?Mb(o):Nt=l,cv.current=null}function Mb(o){var l=o;do{var d=l.alternate;if(o=l.return,(l.flags&32768)===0){if(d=VO(d,l,er),d!==null){Nt=d;return}}else{if(d=UO(d,l),d!==null){d.flags&=32767,Nt=d;return}if(o!==null)o.flags|=32768,o.subtreeFlags=0,o.deletions=null;else{$t=6,Nt=null;return}}if(l=l.sibling,l!==null){Nt=l;return}Nt=l=o}while(l!==null);$t===0&&($t=5)}function Yo(o,l,d){var m=Fe,y=vr.transition;try{vr.transition=null,Fe=1,YO(o,l,d,m)}finally{vr.transition=y,Fe=m}return null}function YO(o,l,d,m){do Cl();while(zs!==null);if((ze&6)!==0)throw Error(n(327));d=o.finishedWork;var y=o.finishedLanes;if(d===null)return null;if(o.finishedWork=null,o.finishedLanes=0,d===o.current)throw Error(n(177));o.callbackNode=null,o.callbackPriority=0;var S=d.lanes|d.childLanes;if(Qe(o,S),o===Wt&&(Nt=Wt=null,nn=0),(d.subtreeFlags&2064)===0&&(d.flags&2064)===0||fh||(fh=!0,Fb(dr,function(){return Cl(),null})),S=(d.flags&15990)!==0,(d.subtreeFlags&15990)!==0||S){S=vr.transition,vr.transition=null;var L=Fe;Fe=1;var B=ze;ze|=4,cv.current=null,zO(o,d),Sb(d,o),mO(yg),As=!!vg,yg=vg=null,o.current=d,HO(d),tg(),ze=B,Fe=L,vr.transition=S}else o.current=d;if(fh&&(fh=!1,zs=o,hh=y),S=o.pendingLanes,S===0&&(Bs=null),gf(d.stateNode),$n(o,nt()),l!==null)for(m=o.onRecoverableError,d=0;d<l.length;d++)y=l[d],m(y.value,{componentStack:y.stack,digest:y.digest});if(dh)throw dh=!1,o=fv,fv=null,o;return(hh&1)!==0&&o.tag!==0&&Cl(),S=o.pendingLanes,(S&1)!==0?o===hv?mu++:(mu=0,hv=o):mu=0,Fs(),null}function Cl(){if(zs!==null){var o=Is(hh),l=vr.transition,d=Fe;try{if(vr.transition=null,Fe=16>o?16:o,zs===null)var m=!1;else{if(o=zs,zs=null,hh=0,(ze&6)!==0)throw Error(n(331));var y=ze;for(ze|=4,ye=o.current;ye!==null;){var S=ye,L=S.child;if((ye.flags&16)!==0){var B=S.deletions;if(B!==null){for(var H=0;H<B.length;H++){var X=B[H];for(ye=X;ye!==null;){var ae=ye;switch(ae.tag){case 0:case 11:case 15:fu(8,ae,S)}var ce=ae.child;if(ce!==null)ce.return=ae,ye=ce;else for(;ye!==null;){ae=ye;var ie=ae.sibling,ge=ae.return;if(wb(ae),ae===X){ye=null;break}if(ie!==null){ie.return=ge,ye=ie;break}ye=ge}}}var we=S.alternate;if(we!==null){var be=we.child;if(be!==null){we.child=null;do{var It=be.sibling;be.sibling=null,be=It}while(be!==null)}}ye=S}}if((S.subtreeFlags&2064)!==0&&L!==null)L.return=S,ye=L;else e:for(;ye!==null;){if(S=ye,(S.flags&2048)!==0)switch(S.tag){case 0:case 11:case 15:fu(9,S,S.return)}var K=S.sibling;if(K!==null){K.return=S.return,ye=K;break e}ye=S.return}}var W=o.current;for(ye=W;ye!==null;){L=ye;var Y=L.child;if((L.subtreeFlags&2064)!==0&&Y!==null)Y.return=L,ye=Y;else e:for(L=W;ye!==null;){if(B=ye,(B.flags&2048)!==0)try{switch(B.tag){case 0:case 11:case 15:lh(9,B)}}catch(Se){_t(B,B.return,Se)}if(B===L){ye=null;break e}var de=B.sibling;if(de!==null){de.return=B.return,ye=de;break e}ye=B.return}}if(ze=y,Fs(),Yn&&typeof Yn.onPostCommitFiberRoot=="function")try{Yn.onPostCommitFiberRoot(Oo,o)}catch{}m=!0}return m}finally{Fe=d,vr.transition=l}}return!1}function Db(o,l,d){l=xl(d,l),l=Z1(o,l,1),o=Vs(o,l,1),l=Sn(),o!==null&&(ks(o,1,l),$n(o,l))}function _t(o,l,d){if(o.tag===3)Db(o,o,d);else for(;l!==null;){if(l.tag===3){Db(l,o,d);break}else if(l.tag===1){var m=l.stateNode;if(typeof l.type.getDerivedStateFromError=="function"||typeof m.componentDidCatch=="function"&&(Bs===null||!Bs.has(m))){o=xl(d,o),o=eb(l,o,1),l=Vs(l,o,1),o=Sn(),l!==null&&(ks(l,1,o),$n(l,o));break}}l=l.return}}function XO(o,l,d){var m=o.pingCache;m!==null&&m.delete(l),l=Sn(),o.pingedLanes|=o.suspendedLanes&d,Wt===o&&(nn&d)===d&&($t===4||$t===3&&(nn&130023424)===nn&&500>nt()-dv?Ko(o,0):uv|=d),$n(o,l)}function Lb(o,l){l===0&&((o.mode&1)===0?l=1:(l=Ka,Ka<<=1,(Ka&130023424)===0&&(Ka=4194304)));var d=Sn();o=Wi(o,l),o!==null&&(ks(o,l,d),$n(o,d))}function JO(o){var l=o.memoizedState,d=0;l!==null&&(d=l.retryLane),Lb(o,d)}function QO(o,l){var d=0;switch(o.tag){case 13:var m=o.stateNode,y=o.memoizedState;y!==null&&(d=y.retryLane);break;case 19:m=o.stateNode;break;default:throw Error(n(314))}m!==null&&m.delete(l),Lb(o,d)}var jb;jb=function(o,l,d){if(o!==null)if(o.memoizedProps!==l.pendingProps||Dn.current)jn=!0;else{if((o.lanes&d)===0&&(l.flags&128)===0)return jn=!1,$O(o,l,d);jn=(o.flags&131072)!==0}else jn=!1,ct&&(l.flags&1048576)!==0&&g1(l,Wf,l.index);switch(l.lanes=0,l.tag){case 2:var m=l.type;oh(o,l),o=l.pendingProps;var y=hl(l,un.current);wl(l,d),y=Bg(null,l,m,o,y,d);var S=zg();return l.flags|=1,typeof y=="object"&&y!==null&&typeof y.render=="function"&&y.$$typeof===void 0?(l.tag=1,l.memoizedState=null,l.updateQueue=null,Ln(m)?(S=!0,Bf(l)):S=!1,l.memoizedState=y.state!==null&&y.state!==void 0?y.state:null,Dg(l),y.updater=ih,l.stateNode=y,y._reactInternals=l,Yg(l,m,o,d),l=Zg(null,l,m,!0,S,d)):(l.tag=0,ct&&S&&Cg(l),En(null,l,y,d),l=l.child),l;case 16:m=l.elementType;e:{switch(oh(o,l),o=l.pendingProps,y=m._init,m=y(m._payload),l.type=m,y=l.tag=e5(m),o=Br(m,o),y){case 0:l=Qg(null,l,m,o,d);break e;case 1:l=cb(null,l,m,o,d);break e;case 11:l=ib(null,l,m,o,d);break e;case 14:l=sb(null,l,m,Br(m.type,o),d);break e}throw Error(n(306,m,""))}return l;case 0:return m=l.type,y=l.pendingProps,y=l.elementType===m?y:Br(m,y),Qg(o,l,m,y,d);case 1:return m=l.type,y=l.pendingProps,y=l.elementType===m?y:Br(m,y),cb(o,l,m,y,d);case 3:e:{if(ub(l),o===null)throw Error(n(387));m=l.pendingProps,S=l.memoizedState,y=S.element,C1(o,l),Jf(l,m,null,d);var L=l.memoizedState;if(m=L.element,S.isDehydrated)if(S={element:m,isDehydrated:!1,cache:L.cache,pendingSuspenseBoundaries:L.pendingSuspenseBoundaries,transitions:L.transitions},l.updateQueue.baseState=S,l.memoizedState=S,l.flags&256){y=xl(Error(n(423)),l),l=db(o,l,m,d,y);break e}else if(m!==y){y=xl(Error(n(424)),l),l=db(o,l,m,d,y);break e}else for(Zn=Ds(l.stateNode.containerInfo.firstChild),Qn=l,ct=!0,Ur=null,d=E1(l,null,m,d),l.child=d;d;)d.flags=d.flags&-3|4096,d=d.sibling;else{if(gl(),m===y){l=Gi(o,l,d);break e}En(o,l,m,d)}l=l.child}return l;case 5:return P1(l),o===null&&Pg(l),m=l.type,y=l.pendingProps,S=o!==null?o.memoizedProps:null,L=y.children,wg(m,y)?L=null:S!==null&&wg(m,S)&&(l.flags|=32),lb(o,l),En(o,l,L,d),l.child;case 6:return o===null&&Pg(l),null;case 13:return fb(o,l,d);case 4:return Lg(l,l.stateNode.containerInfo),m=l.pendingProps,o===null?l.child=vl(l,null,m,d):En(o,l,m,d),l.child;case 11:return m=l.type,y=l.pendingProps,y=l.elementType===m?y:Br(m,y),ib(o,l,m,y,d);case 7:return En(o,l,l.pendingProps,d),l.child;case 8:return En(o,l,l.pendingProps.children,d),l.child;case 12:return En(o,l,l.pendingProps.children,d),l.child;case 10:e:{if(m=l.type._context,y=l.pendingProps,S=l.memoizedProps,L=y.value,rt(Kf,m._currentValue),m._currentValue=L,S!==null)if(Vr(S.value,L)){if(S.children===y.children&&!Dn.current){l=Gi(o,l,d);break e}}else for(S=l.child,S!==null&&(S.return=l);S!==null;){var B=S.dependencies;if(B!==null){L=S.child;for(var H=B.firstContext;H!==null;){if(H.context===m){if(S.tag===1){H=qi(-1,d&-d),H.tag=2;var X=S.updateQueue;if(X!==null){X=X.shared;var ae=X.pending;ae===null?H.next=H:(H.next=ae.next,ae.next=H),X.pending=H}}S.lanes|=d,H=S.alternate,H!==null&&(H.lanes|=d),Og(S.return,d,l),B.lanes|=d;break}H=H.next}}else if(S.tag===10)L=S.type===l.type?null:S.child;else if(S.tag===18){if(L=S.return,L===null)throw Error(n(341));L.lanes|=d,B=L.alternate,B!==null&&(B.lanes|=d),Og(L,d,l),L=S.sibling}else L=S.child;if(L!==null)L.return=S;else for(L=S;L!==null;){if(L===l){L=null;break}if(S=L.sibling,S!==null){S.return=L.return,L=S;break}L=L.return}S=L}En(o,l,y.children,d),l=l.child}return l;case 9:return y=l.type,m=l.pendingProps.children,wl(l,d),y=mr(y),m=m(y),l.flags|=1,En(o,l,m,d),l.child;case 14:return m=l.type,y=Br(m,l.pendingProps),y=Br(m.type,y),sb(o,l,m,y,d);case 15:return ob(o,l,l.type,l.pendingProps,d);case 17:return m=l.type,y=l.pendingProps,y=l.elementType===m?y:Br(m,y),oh(o,l),l.tag=1,Ln(m)?(o=!0,Bf(l)):o=!1,wl(l,d),J1(l,m,y),Yg(l,m,y,d),Zg(null,l,m,!0,o,d);case 19:return pb(o,l,d);case 22:return ab(o,l,d)}throw Error(n(156,l.tag))};function Fb(o,l){return qa(o,l)}function ZO(o,l,d,m){this.tag=o,this.key=d,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=l,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=m,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function yr(o,l,d,m){return new ZO(o,l,d,m)}function wv(o){return o=o.prototype,!(!o||!o.isReactComponent)}function e5(o){if(typeof o=="function")return wv(o)?1:0;if(o!=null){if(o=o.$$typeof,o===V)return 11;if(o===se)return 14}return 2}function qs(o,l){var d=o.alternate;return d===null?(d=yr(o.tag,l,o.key,o.mode),d.elementType=o.elementType,d.type=o.type,d.stateNode=o.stateNode,d.alternate=o,o.alternate=d):(d.pendingProps=l,d.type=o.type,d.flags=0,d.subtreeFlags=0,d.deletions=null),d.flags=o.flags&14680064,d.childLanes=o.childLanes,d.lanes=o.lanes,d.child=o.child,d.memoizedProps=o.memoizedProps,d.memoizedState=o.memoizedState,d.updateQueue=o.updateQueue,l=o.dependencies,d.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext},d.sibling=o.sibling,d.index=o.index,d.ref=o.ref,d}function vh(o,l,d,m,y,S){var L=2;if(m=o,typeof o=="function")wv(o)&&(L=1);else if(typeof o=="string")L=5;else e:switch(o){case D:return Xo(d.children,y,S,l);case I:L=8,y|=8;break;case O:return o=yr(12,d,l,y|2),o.elementType=O,o.lanes=S,o;case F:return o=yr(13,d,l,y),o.elementType=F,o.lanes=S,o;case Z:return o=yr(19,d,l,y),o.elementType=Z,o.lanes=S,o;case ue:return yh(d,y,S,l);default:if(typeof o=="object"&&o!==null)switch(o.$$typeof){case b:L=10;break e;case M:L=9;break e;case V:L=11;break e;case se:L=14;break e;case re:L=16,m=null;break e}throw Error(n(130,o==null?o:typeof o,""))}return l=yr(L,d,l,y),l.elementType=o,l.type=m,l.lanes=S,l}function Xo(o,l,d,m){return o=yr(7,o,m,l),o.lanes=d,o}function yh(o,l,d,m){return o=yr(22,o,m,l),o.elementType=ue,o.lanes=d,o.stateNode={isHidden:!1},o}function _v(o,l,d){return o=yr(6,o,null,l),o.lanes=d,o}function xv(o,l,d){return l=yr(4,o.children!==null?o.children:[],o.key,l),l.lanes=d,l.stateNode={containerInfo:o.containerInfo,pendingChildren:null,implementation:o.implementation},l}function t5(o,l,d,m,y){this.tag=l,this.containerInfo=o,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Ts(0),this.expirationTimes=Ts(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ts(0),this.identifierPrefix=m,this.onRecoverableError=y,this.mutableSourceEagerHydrationData=null}function bv(o,l,d,m,y,S,L,B,H){return o=new t5(o,l,d,B,H),l===1?(l=1,S===!0&&(l|=8)):l=0,S=yr(3,null,null,l),o.current=S,S.stateNode=o,S.memoizedState={element:m,isDehydrated:d,cache:null,transitions:null,pendingSuspenseBoundaries:null},Dg(S),o}function n5(o,l,d){var m=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:z,key:m==null?null:""+m,children:o,containerInfo:l,implementation:d}}function $b(o){if(!o)return js;o=o._reactInternals;e:{if(Or(o)!==o||o.tag!==1)throw Error(n(170));var l=o;do{switch(l.tag){case 3:l=l.stateNode.context;break e;case 1:if(Ln(l.type)){l=l.stateNode.__reactInternalMemoizedMergedChildContext;break e}}l=l.return}while(l!==null);throw Error(n(171))}if(o.tag===1){var d=o.type;if(Ln(d))return h1(o,d,l)}return l}function Vb(o,l,d,m,y,S,L,B,H){return o=bv(d,m,!0,o,y,S,L,B,H),o.context=$b(null),d=o.current,m=Sn(),y=Hs(d),S=qi(m,y),S.callback=l??null,Vs(d,S,y),o.current.lanes=y,ks(o,y,m),$n(o,m),o}function wh(o,l,d,m){var y=l.current,S=Sn(),L=Hs(y);return d=$b(d),l.context===null?l.context=d:l.pendingContext=d,l=qi(S,L),l.payload={element:o},m=m===void 0?null:m,m!==null&&(l.callback=m),o=Vs(y,l,L),o!==null&&(Wr(o,y,L,S),Xf(o,y,L)),L}function _h(o){if(o=o.current,!o.child)return null;switch(o.child.tag){case 5:return o.child.stateNode;default:return o.child.stateNode}}function Ub(o,l){if(o=o.memoizedState,o!==null&&o.dehydrated!==null){var d=o.retryLane;o.retryLane=d!==0&&d<l?d:l}}function Ev(o,l){Ub(o,l),(o=o.alternate)&&Ub(o,l)}function r5(){return null}var Bb=typeof reportError=="function"?reportError:function(o){console.error(o)};function Sv(o){this._internalRoot=o}xh.prototype.render=Sv.prototype.render=function(o){var l=this._internalRoot;if(l===null)throw Error(n(409));wh(o,l,null,null)},xh.prototype.unmount=Sv.prototype.unmount=function(){var o=this._internalRoot;if(o!==null){this._internalRoot=null;var l=o.containerInfo;Go(function(){wh(null,o,null,null)}),l[Ui]=null}};function xh(o){this._internalRoot=o}xh.prototype.unstable_scheduleHydration=function(o){if(o){var l=xf();o={blockedOn:null,target:o,priority:l};for(var d=0;d<ai.length&&l!==0&&l<ai[d].priority;d++);ai.splice(d,0,o),d===0&&Sf(o)}};function Cv(o){return!(!o||o.nodeType!==1&&o.nodeType!==9&&o.nodeType!==11)}function bh(o){return!(!o||o.nodeType!==1&&o.nodeType!==9&&o.nodeType!==11&&(o.nodeType!==8||o.nodeValue!==" react-mount-point-unstable "))}function zb(){}function i5(o,l,d,m,y){if(y){if(typeof m=="function"){var S=m;m=function(){var X=_h(L);S.call(X)}}var L=Vb(l,m,o,0,null,!1,!1,"",zb);return o._reactRootContainer=L,o[Ui]=L.current,Zc(o.nodeType===8?o.parentNode:o),Go(),L}for(;y=o.lastChild;)o.removeChild(y);if(typeof m=="function"){var B=m;m=function(){var X=_h(H);B.call(X)}}var H=bv(o,0,!1,null,null,!1,!1,"",zb);return o._reactRootContainer=H,o[Ui]=H.current,Zc(o.nodeType===8?o.parentNode:o),Go(function(){wh(l,H,d,m)}),H}function Eh(o,l,d,m,y){var S=d._reactRootContainer;if(S){var L=S;if(typeof y=="function"){var B=y;y=function(){var H=_h(L);B.call(H)}}wh(l,L,o,y)}else L=i5(d,l,o,y,m);return _h(L)}wf=function(o){switch(o.tag){case 3:var l=o.stateNode;if(l.current.memoizedState.isDehydrated){var d=Cs(l.pendingLanes);d!==0&&(Ps(l,d|1),$n(l,nt()),(ze&6)===0&&(Sl=nt()+500,Fs()))}break;case 13:Go(function(){var m=Wi(o,1);if(m!==null){var y=Sn();Wr(m,o,1,y)}}),Ev(o,1)}},Ya=function(o){if(o.tag===13){var l=Wi(o,134217728);if(l!==null){var d=Sn();Wr(l,o,134217728,d)}Ev(o,134217728)}},_f=function(o){if(o.tag===13){var l=Hs(o),d=Wi(o,l);if(d!==null){var m=Sn();Wr(d,o,l,m)}Ev(o,l)}},xf=function(){return Fe},bf=function(o,l){var d=Fe;try{return Fe=o,l()}finally{Fe=d}},Ac=function(o,l,d){switch(l){case"input":if(Co(o,d),l=d.name,d.type==="radio"&&l!=null){for(d=o;d.parentNode;)d=d.parentNode;for(d=d.querySelectorAll("input[name="+JSON.stringify(""+l)+'][type="radio"]'),l=0;l<d.length;l++){var m=d[l];if(m!==o&&m.form===o.form){var y=Vf(m);if(!y)throw Error(n(90));_n(m),Co(m,y)}}}break;case"textarea":$a(o,d);break;case"select":l=d.value,l!=null&&Ni(o,!!d.multiple,l,!1)}},Ba=gv,Oc=Go;var s5={usingClientEntryPoint:!1,Events:[nu,dl,Vf,Mi,Nc,gv]},gu={findFiberByHostInstance:$o,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},o5={bundleType:gu.bundleType,version:gu.version,rendererPackageName:gu.rendererPackageName,rendererConfig:gu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:j.ReactCurrentDispatcher,findHostInstanceByFiber:function(o){return o=jc(o),o===null?null:o.stateNode},findFiberByHostInstance:gu.findFiberByHostInstance||r5,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Sh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Sh.isDisabled&&Sh.supportsFiber)try{Oo=Sh.inject(o5),Yn=Sh}catch{}}return Vn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=s5,Vn.createPortal=function(o,l){var d=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Cv(l))throw Error(n(200));return n5(o,l,null,d)},Vn.createRoot=function(o,l){if(!Cv(o))throw Error(n(299));var d=!1,m="",y=Bb;return l!=null&&(l.unstable_strictMode===!0&&(d=!0),l.identifierPrefix!==void 0&&(m=l.identifierPrefix),l.onRecoverableError!==void 0&&(y=l.onRecoverableError)),l=bv(o,1,!1,null,null,d,!1,m,y),o[Ui]=l.current,Zc(o.nodeType===8?o.parentNode:o),new Sv(l)},Vn.findDOMNode=function(o){if(o==null)return null;if(o.nodeType===1)return o;var l=o._reactInternals;if(l===void 0)throw typeof o.render=="function"?Error(n(188)):(o=Object.keys(o).join(","),Error(n(268,o)));return o=jc(l),o=o===null?null:o.stateNode,o},Vn.flushSync=function(o){return Go(o)},Vn.hydrate=function(o,l,d){if(!bh(l))throw Error(n(200));return Eh(null,o,l,!0,d)},Vn.hydrateRoot=function(o,l,d){if(!Cv(o))throw Error(n(405));var m=d!=null&&d.hydratedSources||null,y=!1,S="",L=Bb;if(d!=null&&(d.unstable_strictMode===!0&&(y=!0),d.identifierPrefix!==void 0&&(S=d.identifierPrefix),d.onRecoverableError!==void 0&&(L=d.onRecoverableError)),l=Vb(l,null,o,1,d??null,y,!1,S,L),o[Ui]=l.current,Zc(o),m)for(o=0;o<m.length;o++)d=m[o],y=d._getVersion,y=y(d._source),l.mutableSourceEagerHydrationData==null?l.mutableSourceEagerHydrationData=[d,y]:l.mutableSourceEagerHydrationData.push(d,y);return new xh(l)},Vn.render=function(o,l,d){if(!bh(l))throw Error(n(200));return Eh(null,o,l,!1,d)},Vn.unmountComponentAtNode=function(o){if(!bh(o))throw Error(n(40));return o._reactRootContainer?(Go(function(){Eh(null,null,o,!1,function(){o._reactRootContainer=null,o[Ui]=null})}),!0):!1},Vn.unstable_batchedUpdates=gv,Vn.unstable_renderSubtreeIntoContainer=function(o,l,d,m){if(!bh(d))throw Error(n(200));if(o==null||o._reactInternals===void 0)throw Error(n(38));return Eh(o,l,d,!1,m)},Vn.version="18.3.1-next-f1338f8080-20240426",Vn}var Jb;function v2(){if(Jb)return Pv.exports;Jb=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Pv.exports=p5(),Pv.exports}var Qb;function m5(){if(Qb)return Ch;Qb=1;var t=v2();return Ch.createRoot=t.createRoot,Ch.hydrateRoot=t.hydrateRoot,Ch}var g5=m5();const v5=rm(g5);var yu={},Zb;function y5(){if(Zb)return yu;Zb=1,Object.defineProperty(yu,"__esModule",{value:!0}),yu.parse=a,yu.serialize=f;const t=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,n=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,r=/^[\u0020-\u003A\u003D-\u007E]*$/,i=Object.prototype.toString,s=(()=>{const v=function(){};return v.prototype=Object.create(null),v})();function a(v,x){const _=new s,T=v.length;if(T<2)return _;const N=x?.decode||h;let A=0;do{const k=v.indexOf("=",A);if(k===-1)break;const P=v.indexOf(";",A),j=P===-1?T:P;if(k>j){A=v.lastIndexOf(";",k-1)+1;continue}const $=c(v,A,k),z=u(v,k,$),D=v.slice($,z);if(_[D]===void 0){let I=c(v,k+1,j),O=u(v,j,I);const b=N(v.slice(I,O));_[D]=b}A=j+1}while(A<T);return _}function c(v,x,_){do{const T=v.charCodeAt(x);if(T!==32&&T!==9)return x}while(++x<_);return _}function u(v,x,_){for(;x>_;){const T=v.charCodeAt(--x);if(T!==32&&T!==9)return x+1}return _}function f(v,x,_){const T=_?.encode||encodeURIComponent;if(!t.test(v))throw new TypeError(`argument name is invalid: ${v}`);const N=T(x);if(!e.test(N))throw new TypeError(`argument val is invalid: ${x}`);let A=v+"="+N;if(!_)return A;if(_.maxAge!==void 0){if(!Number.isInteger(_.maxAge))throw new TypeError(`option maxAge is invalid: ${_.maxAge}`);A+="; Max-Age="+_.maxAge}if(_.domain){if(!n.test(_.domain))throw new TypeError(`option domain is invalid: ${_.domain}`);A+="; Domain="+_.domain}if(_.path){if(!r.test(_.path))throw new TypeError(`option path is invalid: ${_.path}`);A+="; Path="+_.path}if(_.expires){if(!g(_.expires)||!Number.isFinite(_.expires.valueOf()))throw new TypeError(`option expires is invalid: ${_.expires}`);A+="; Expires="+_.expires.toUTCString()}if(_.httpOnly&&(A+="; HttpOnly"),_.secure&&(A+="; Secure"),_.partitioned&&(A+="; Partitioned"),_.priority)switch(typeof _.priority=="string"?_.priority.toLowerCase():void 0){case"low":A+="; Priority=Low";break;case"medium":A+="; Priority=Medium";break;case"high":A+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${_.priority}`)}if(_.sameSite)switch(typeof _.sameSite=="string"?_.sameSite.toLowerCase():_.sameSite){case!0:case"strict":A+="; SameSite=Strict";break;case"lax":A+="; SameSite=Lax";break;case"none":A+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${_.sameSite}`)}return A}function h(v){if(v.indexOf("%")===-1)return v;try{return decodeURIComponent(v)}catch{return v}}function g(v){return i.call(v)==="[object Date]"}return yu}y5();var eE="popstate";function w5(t={}){function e(r,i){let{pathname:s,search:a,hash:c}=r.location;return zy("",{pathname:s,search:a,hash:c},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:ld(i)}return x5(e,n,null,t)}function dt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function ei(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function _5(){return Math.random().toString(36).substring(2,10)}function tE(t,e){return{usr:t.state,key:t.key,idx:e}}function zy(t,e,n=null,r){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?cc(e):e,state:n,key:e&&e.key||r||_5()}}function ld({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function cc(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substring(r),t=t.substring(0,r)),t&&(e.pathname=t)}return e}function x5(t,e,n,r={}){let{window:i=document.defaultView,v5Compat:s=!1}=r,a=i.history,c="POP",u=null,f=h();f==null&&(f=0,a.replaceState({...a.state,idx:f},""));function h(){return(a.state||{idx:null}).idx}function g(){c="POP";let N=h(),A=N==null?null:N-f;f=N,u&&u({action:c,location:T.location,delta:A})}function v(N,A){c="PUSH";let k=zy(T.location,N,A);f=h()+1;let P=tE(k,f),j=T.createHref(k);try{a.pushState(P,"",j)}catch($){if($ instanceof DOMException&&$.name==="DataCloneError")throw $;i.location.assign(j)}s&&u&&u({action:c,location:T.location,delta:1})}function x(N,A){c="REPLACE";let k=zy(T.location,N,A);f=h();let P=tE(k,f),j=T.createHref(k);a.replaceState(P,"",j),s&&u&&u({action:c,location:T.location,delta:0})}function _(N){return b5(N)}let T={get action(){return c},get location(){return t(i,a)},listen(N){if(u)throw new Error("A history only accepts one active listener");return i.addEventListener(eE,g),u=N,()=>{i.removeEventListener(eE,g),u=null}},createHref(N){return e(i,N)},createURL:_,encodeLocation(N){let A=_(N);return{pathname:A.pathname,search:A.search,hash:A.hash}},push:v,replace:x,go(N){return a.go(N)}};return T}function b5(t,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),dt(n,"No window.location.(origin|href) available to create URL");let r=typeof t=="string"?t:ld(t);return r=r.replace(/ $/,"%20"),!e&&r.startsWith("//")&&(r=n+r),new URL(r,n)}function y2(t,e,n="/"){return E5(t,e,n,!1)}function E5(t,e,n,r){let i=typeof e=="string"?cc(e):e,s=cs(i.pathname||"/",n);if(s==null)return null;let a=w2(t);S5(a);let c=null;for(let u=0;c==null&&u<a.length;++u){let f=D5(s);c=O5(a[u],f,r)}return c}function w2(t,e=[],n=[],r=""){let i=(s,a,c)=>{let u={relativePath:c===void 0?s.path||"":c,caseSensitive:s.caseSensitive===!0,childrenIndex:a,route:s};u.relativePath.startsWith("/")&&(dt(u.relativePath.startsWith(r),`Absolute route path "${u.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),u.relativePath=u.relativePath.slice(r.length));let f=rs([r,u.relativePath]),h=n.concat(u);s.children&&s.children.length>0&&(dt(s.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${f}".`),w2(s.children,e,h,f)),!(s.path==null&&!s.index)&&e.push({path:f,score:A5(f,s.index),routesMeta:h})};return t.forEach((s,a)=>{if(s.path===""||!s.path?.includes("?"))i(s,a);else for(let c of _2(s.path))i(s,a,c)}),e}function _2(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let a=_2(r.join("/")),c=[];return c.push(...a.map(u=>u===""?s:[s,u].join("/"))),i&&c.push(...a),c.map(u=>t.startsWith("/")&&u===""?"/":u)}function S5(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:N5(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var C5=/^:[\w-]+$/,T5=3,k5=2,P5=1,I5=10,R5=-2,nE=t=>t==="*";function A5(t,e){let n=t.split("/"),r=n.length;return n.some(nE)&&(r+=R5),e&&(r+=k5),n.filter(i=>!nE(i)).reduce((i,s)=>i+(C5.test(s)?T5:s===""?P5:I5),r)}function N5(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function O5(t,e,n=!1){let{routesMeta:r}=t,i={},s="/",a=[];for(let c=0;c<r.length;++c){let u=r[c],f=c===r.length-1,h=s==="/"?e:e.slice(s.length)||"/",g=dp({path:u.relativePath,caseSensitive:u.caseSensitive,end:f},h),v=u.route;if(!g&&f&&n&&!r[r.length-1].route.index&&(g=dp({path:u.relativePath,caseSensitive:u.caseSensitive,end:!1},h)),!g)return null;Object.assign(i,g.params),a.push({params:i,pathname:rs([s,g.pathname]),pathnameBase:$5(rs([s,g.pathnameBase])),route:v}),g.pathnameBase!=="/"&&(s=rs([s,g.pathnameBase]))}return a}function dp(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=M5(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let s=i[0],a=s.replace(/(.)\/+$/,"$1"),c=i.slice(1);return{params:r.reduce((f,{paramName:h,isOptional:g},v)=>{if(h==="*"){let _=c[v]||"";a=s.slice(0,s.length-_.length).replace(/(.)\/+$/,"$1")}const x=c[v];return g&&!x?f[h]=void 0:f[h]=(x||"").replace(/%2F/g,"/"),f},{}),pathname:s,pathnameBase:a,pattern:t}}function M5(t,e=!1,n=!0){ei(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,c,u)=>(r.push({paramName:c,isOptional:u!=null}),u?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function D5(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return ei(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function cs(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function L5(t,e="/"){let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?cc(t):t;return{pathname:n?n.startsWith("/")?n:j5(n,e):e,search:V5(r),hash:U5(i)}}function j5(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function Av(t,e,n,r){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function F5(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function aw(t){let e=F5(t);return e.map((n,r)=>r===e.length-1?n.pathname:n.pathnameBase)}function lw(t,e,n,r=!1){let i;typeof t=="string"?i=cc(t):(i={...t},dt(!i.pathname||!i.pathname.includes("?"),Av("?","pathname","search",i)),dt(!i.pathname||!i.pathname.includes("#"),Av("#","pathname","hash",i)),dt(!i.search||!i.search.includes("#"),Av("#","search","hash",i)));let s=t===""||i.pathname==="",a=s?"/":i.pathname,c;if(a==null)c=n;else{let g=e.length-1;if(!r&&a.startsWith("..")){let v=a.split("/");for(;v[0]==="..";)v.shift(),g-=1;i.pathname=v.join("/")}c=g>=0?e[g]:"/"}let u=L5(i,c),f=a&&a!=="/"&&a.endsWith("/"),h=(s||a===".")&&n.endsWith("/");return!u.pathname.endsWith("/")&&(f||h)&&(u.pathname+="/"),u}var rs=t=>t.join("/").replace(/\/\/+/g,"/"),$5=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),V5=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,U5=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function B5(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}var x2=["POST","PUT","PATCH","DELETE"];new Set(x2);var z5=["GET",...x2];new Set(z5);var uc=C.createContext(null);uc.displayName="DataRouter";var sm=C.createContext(null);sm.displayName="DataRouterState";var b2=C.createContext({isTransitioning:!1});b2.displayName="ViewTransition";var H5=C.createContext(new Map);H5.displayName="Fetchers";var W5=C.createContext(null);W5.displayName="Await";var ti=C.createContext(null);ti.displayName="Navigation";var Dd=C.createContext(null);Dd.displayName="Location";var ni=C.createContext({outlet:null,matches:[],isDataRoute:!1});ni.displayName="Route";var cw=C.createContext(null);cw.displayName="RouteError";function q5(t,{relative:e}={}){dt(dc(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=C.useContext(ti),{hash:i,pathname:s,search:a}=Ld(t,{relative:e}),c=s;return n!=="/"&&(c=s==="/"?n:rs([n,s])),r.createHref({pathname:c,search:a,hash:i})}function dc(){return C.useContext(Dd)!=null}function Pi(){return dt(dc(),"useLocation() may be used only in the context of a <Router> component."),C.useContext(Dd).location}var E2="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function S2(t){C.useContext(ti).static||C.useLayoutEffect(t)}function Pr(){let{isDataRoute:t}=C.useContext(ni);return t?sM():G5()}function G5(){dt(dc(),"useNavigate() may be used only in the context of a <Router> component.");let t=C.useContext(uc),{basename:e,navigator:n}=C.useContext(ti),{matches:r}=C.useContext(ni),{pathname:i}=Pi(),s=JSON.stringify(aw(r)),a=C.useRef(!1);return S2(()=>{a.current=!0}),C.useCallback((u,f={})=>{if(ei(a.current,E2),!a.current)return;if(typeof u=="number"){n.go(u);return}let h=lw(u,JSON.parse(s),i,f.relative==="path");t==null&&e!=="/"&&(h.pathname=h.pathname==="/"?e:rs([e,h.pathname])),(f.replace?n.replace:n.push)(h,f.state,f)},[e,n,s,i,t])}C.createContext(null);function uw(){let{matches:t}=C.useContext(ni),e=t[t.length-1];return e?e.params:{}}function Ld(t,{relative:e}={}){let{matches:n}=C.useContext(ni),{pathname:r}=Pi(),i=JSON.stringify(aw(n));return C.useMemo(()=>lw(t,JSON.parse(i),r,e==="path"),[t,i,r,e])}function K5(t,e){return C2(t,e)}function C2(t,e,n,r){dt(dc(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:i,static:s}=C.useContext(ti),{matches:a}=C.useContext(ni),c=a[a.length-1],u=c?c.params:{},f=c?c.pathname:"/",h=c?c.pathnameBase:"/",g=c&&c.route;{let k=g&&g.path||"";T2(f,!g||k.endsWith("*")||k.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${f}" (under <Route path="${k}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${k}"> to <Route path="${k==="/"?"*":`${k}/*`}">.`)}let v=Pi(),x;if(e){let k=typeof e=="string"?cc(e):e;dt(h==="/"||k.pathname?.startsWith(h),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${h}" but pathname "${k.pathname}" was given in the \`location\` prop.`),x=k}else x=v;let _=x.pathname||"/",T=_;if(h!=="/"){let k=h.replace(/^\//,"").split("/");T="/"+_.replace(/^\//,"").split("/").slice(k.length).join("/")}let N=!s&&n&&n.matches&&n.matches.length>0?n.matches:y2(t,{pathname:T});ei(g||N!=null,`No routes matched location "${x.pathname}${x.search}${x.hash}" `),ei(N==null||N[N.length-1].route.element!==void 0||N[N.length-1].route.Component!==void 0||N[N.length-1].route.lazy!==void 0,`Matched leaf route at location "${x.pathname}${x.search}${x.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let A=Z5(N&&N.map(k=>Object.assign({},k,{params:Object.assign({},u,k.params),pathname:rs([h,i.encodeLocation?i.encodeLocation(k.pathname).pathname:k.pathname]),pathnameBase:k.pathnameBase==="/"?h:rs([h,i.encodeLocation?i.encodeLocation(k.pathnameBase).pathname:k.pathnameBase])})),a,n,r);return e&&A?C.createElement(Dd.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...x},navigationType:"POP"}},A):A}function Y5(){let t=iM(),e=B5(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,r="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:r},s={padding:"2px 4px",backgroundColor:r},a=null;return console.error("Error handled by React Router default ErrorBoundary:",t),a=C.createElement(C.Fragment,null,C.createElement("p",null,"💿 Hey developer 👋"),C.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",C.createElement("code",{style:s},"ErrorBoundary")," or"," ",C.createElement("code",{style:s},"errorElement")," prop on your route.")),C.createElement(C.Fragment,null,C.createElement("h2",null,"Unexpected Application Error!"),C.createElement("h3",{style:{fontStyle:"italic"}},e),n?C.createElement("pre",{style:i},n):null,a)}var X5=C.createElement(Y5,null),J5=class extends C.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){console.error("React Router caught the following error during render",t,e)}render(){return this.state.error!==void 0?C.createElement(ni.Provider,{value:this.props.routeContext},C.createElement(cw.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function Q5({routeContext:t,match:e,children:n}){let r=C.useContext(uc);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),C.createElement(ni.Provider,{value:t},n)}function Z5(t,e=[],n=null,r=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let i=t,s=n?.errors;if(s!=null){let u=i.findIndex(f=>f.route.id&&s?.[f.route.id]!==void 0);dt(u>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(s).join(",")}`),i=i.slice(0,Math.min(i.length,u+1))}let a=!1,c=-1;if(n)for(let u=0;u<i.length;u++){let f=i[u];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(c=u),f.route.id){let{loaderData:h,errors:g}=n,v=f.route.loader&&!h.hasOwnProperty(f.route.id)&&(!g||g[f.route.id]===void 0);if(f.route.lazy||v){a=!0,c>=0?i=i.slice(0,c+1):i=[i[0]];break}}}return i.reduceRight((u,f,h)=>{let g,v=!1,x=null,_=null;n&&(g=s&&f.route.id?s[f.route.id]:void 0,x=f.route.errorElement||X5,a&&(c<0&&h===0?(T2("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),v=!0,_=null):c===h&&(v=!0,_=f.route.hydrateFallbackElement||null)));let T=e.concat(i.slice(0,h+1)),N=()=>{let A;return g?A=x:v?A=_:f.route.Component?A=C.createElement(f.route.Component,null):f.route.element?A=f.route.element:A=u,C.createElement(Q5,{match:f,routeContext:{outlet:u,matches:T,isDataRoute:n!=null},children:A})};return n&&(f.route.ErrorBoundary||f.route.errorElement||h===0)?C.createElement(J5,{location:n.location,revalidation:n.revalidation,component:x,error:g,children:N(),routeContext:{outlet:null,matches:T,isDataRoute:!0}}):N()},null)}function dw(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function eM(t){let e=C.useContext(uc);return dt(e,dw(t)),e}function tM(t){let e=C.useContext(sm);return dt(e,dw(t)),e}function nM(t){let e=C.useContext(ni);return dt(e,dw(t)),e}function fw(t){let e=nM(t),n=e.matches[e.matches.length-1];return dt(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function rM(){return fw("useRouteId")}function iM(){let t=C.useContext(cw),e=tM("useRouteError"),n=fw("useRouteError");return t!==void 0?t:e.errors?.[n]}function sM(){let{router:t}=eM("useNavigate"),e=fw("useNavigate"),n=C.useRef(!1);return S2(()=>{n.current=!0}),C.useCallback(async(i,s={})=>{ei(n.current,E2),n.current&&(typeof i=="number"?t.navigate(i):await t.navigate(i,{fromRouteId:e,...s}))},[t,e])}var rE={};function T2(t,e,n){!e&&!rE[t]&&(rE[t]=!0,ei(!1,n))}C.memo(oM);function oM({routes:t,future:e,state:n}){return C2(t,void 0,n,e)}function Hy({to:t,replace:e,state:n,relative:r}){dt(dc(),"<Navigate> may be used only in the context of a <Router> component.");let{static:i}=C.useContext(ti);ei(!i,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:s}=C.useContext(ni),{pathname:a}=Pi(),c=Pr(),u=lw(t,aw(s),a,r==="path"),f=JSON.stringify(u);return C.useEffect(()=>{c(JSON.parse(f),{replace:e,state:n,relative:r})},[c,f,r,e,n]),null}function rn(t){dt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function aM({basename:t="/",children:e=null,location:n,navigationType:r="POP",navigator:i,static:s=!1}){dt(!dc(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let a=t.replace(/^\/*/,"/"),c=C.useMemo(()=>({basename:a,navigator:i,static:s,future:{}}),[a,i,s]);typeof n=="string"&&(n=cc(n));let{pathname:u="/",search:f="",hash:h="",state:g=null,key:v="default"}=n,x=C.useMemo(()=>{let _=cs(u,a);return _==null?null:{location:{pathname:_,search:f,hash:h,state:g,key:v},navigationType:r}},[a,u,f,h,g,v,r]);return ei(x!=null,`<Router basename="${a}"> is not able to match the URL "${u}${f}${h}" because it does not start with the basename, so the <Router> won't render anything.`),x==null?null:C.createElement(ti.Provider,{value:c},C.createElement(Dd.Provider,{children:e,value:x}))}function lM({children:t,location:e}){return K5(Wy(t),e)}function Wy(t,e=[]){let n=[];return C.Children.forEach(t,(r,i)=>{if(!C.isValidElement(r))return;let s=[...e,i];if(r.type===C.Fragment){n.push.apply(n,Wy(r.props.children,s));return}dt(r.type===rn,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),dt(!r.props.index||!r.props.children,"An index route cannot have child routes.");let a={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(a.children=Wy(r.props.children,s)),n.push(a)}),n}var Kh="get",Yh="application/x-www-form-urlencoded";function om(t){return t!=null&&typeof t.tagName=="string"}function cM(t){return om(t)&&t.tagName.toLowerCase()==="button"}function uM(t){return om(t)&&t.tagName.toLowerCase()==="form"}function dM(t){return om(t)&&t.tagName.toLowerCase()==="input"}function fM(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function hM(t,e){return t.button===0&&(!e||e==="_self")&&!fM(t)}var Th=null;function pM(){if(Th===null)try{new FormData(document.createElement("form"),0),Th=!1}catch{Th=!0}return Th}var mM=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Nv(t){return t!=null&&!mM.has(t)?(ei(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Yh}"`),null):t}function gM(t,e){let n,r,i,s,a;if(uM(t)){let c=t.getAttribute("action");r=c?cs(c,e):null,n=t.getAttribute("method")||Kh,i=Nv(t.getAttribute("enctype"))||Yh,s=new FormData(t)}else if(cM(t)||dM(t)&&(t.type==="submit"||t.type==="image")){let c=t.form;if(c==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let u=t.getAttribute("formaction")||c.getAttribute("action");if(r=u?cs(u,e):null,n=t.getAttribute("formmethod")||c.getAttribute("method")||Kh,i=Nv(t.getAttribute("formenctype"))||Nv(c.getAttribute("enctype"))||Yh,s=new FormData(c,t),!pM()){let{name:f,type:h,value:g}=t;if(h==="image"){let v=f?`${f}.`:"";s.append(`${v}x`,"0"),s.append(`${v}y`,"0")}else f&&s.append(f,g)}}else{if(om(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Kh,r=null,i=Yh,a=t}return s&&i==="text/plain"&&(a=s,s=void 0),{action:r,method:n.toLowerCase(),encType:i,formData:s,body:a}}function hw(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}async function vM(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function yM(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function wM(t,e,n){let r=await Promise.all(t.map(async i=>{let s=e.routes[i.route.id];if(s){let a=await vM(s,n);return a.links?a.links():[]}return[]}));return EM(r.flat(1).filter(yM).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function iE(t,e,n,r,i,s){let a=(u,f)=>n[f]?u.route.id!==n[f].route.id:!0,c=(u,f)=>n[f].pathname!==u.pathname||n[f].route.path?.endsWith("*")&&n[f].params["*"]!==u.params["*"];return s==="assets"?e.filter((u,f)=>a(u,f)||c(u,f)):s==="data"?e.filter((u,f)=>{let h=r.routes[u.route.id];if(!h||!h.hasLoader)return!1;if(a(u,f)||c(u,f))return!0;if(u.route.shouldRevalidate){let g=u.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(t,window.origin),nextParams:u.params,defaultShouldRevalidate:!0});if(typeof g=="boolean")return g}return!0}):[]}function _M(t,e,{includeHydrateFallback:n}={}){return xM(t.map(r=>{let i=e.routes[r.route.id];if(!i)return[];let s=[i.module];return i.clientActionModule&&(s=s.concat(i.clientActionModule)),i.clientLoaderModule&&(s=s.concat(i.clientLoaderModule)),n&&i.hydrateFallbackModule&&(s=s.concat(i.hydrateFallbackModule)),i.imports&&(s=s.concat(i.imports)),s}).flat(1))}function xM(t){return[...new Set(t)]}function bM(t){let e={},n=Object.keys(t).sort();for(let r of n)e[r]=t[r];return e}function EM(t,e){let n=new Set;return new Set(e),t.reduce((r,i)=>{let s=JSON.stringify(bM(i));return n.has(s)||(n.add(s),r.push({key:s,link:i})),r},[])}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var SM=new Set([100,101,204,205]);function CM(t,e){let n=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return n.pathname==="/"?n.pathname="_root.data":e&&cs(n.pathname,e)==="/"?n.pathname=`${e.replace(/\/$/,"")}/_root.data`:n.pathname=`${n.pathname.replace(/\/$/,"")}.data`,n}function k2(){let t=C.useContext(uc);return hw(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function TM(){let t=C.useContext(sm);return hw(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var pw=C.createContext(void 0);pw.displayName="FrameworkContext";function P2(){let t=C.useContext(pw);return hw(t,"You must render this element inside a <HydratedRouter> element"),t}function kM(t,e){let n=C.useContext(pw),[r,i]=C.useState(!1),[s,a]=C.useState(!1),{onFocus:c,onBlur:u,onMouseEnter:f,onMouseLeave:h,onTouchStart:g}=e,v=C.useRef(null);C.useEffect(()=>{if(t==="render"&&a(!0),t==="viewport"){let T=A=>{A.forEach(k=>{a(k.isIntersecting)})},N=new IntersectionObserver(T,{threshold:.5});return v.current&&N.observe(v.current),()=>{N.disconnect()}}},[t]),C.useEffect(()=>{if(r){let T=setTimeout(()=>{a(!0)},100);return()=>{clearTimeout(T)}}},[r]);let x=()=>{i(!0)},_=()=>{i(!1),a(!1)};return n?t!=="intent"?[s,v,{}]:[s,v,{onFocus:wu(c,x),onBlur:wu(u,_),onMouseEnter:wu(f,x),onMouseLeave:wu(h,_),onTouchStart:wu(g,x)}]:[!1,v,{}]}function wu(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function PM({page:t,...e}){let{router:n}=k2(),r=C.useMemo(()=>y2(n.routes,t,n.basename),[n.routes,t,n.basename]);return r?C.createElement(RM,{page:t,matches:r,...e}):null}function IM(t){let{manifest:e,routeModules:n}=P2(),[r,i]=C.useState([]);return C.useEffect(()=>{let s=!1;return wM(t,e,n).then(a=>{s||i(a)}),()=>{s=!0}},[t,e,n]),r}function RM({page:t,matches:e,...n}){let r=Pi(),{manifest:i,routeModules:s}=P2(),{basename:a}=k2(),{loaderData:c,matches:u}=TM(),f=C.useMemo(()=>iE(t,e,u,i,r,"data"),[t,e,u,i,r]),h=C.useMemo(()=>iE(t,e,u,i,r,"assets"),[t,e,u,i,r]),g=C.useMemo(()=>{if(t===r.pathname+r.search+r.hash)return[];let _=new Set,T=!1;if(e.forEach(A=>{let k=i.routes[A.route.id];!k||!k.hasLoader||(!f.some(P=>P.route.id===A.route.id)&&A.route.id in c&&s[A.route.id]?.shouldRevalidate||k.hasClientLoader?T=!0:_.add(A.route.id))}),_.size===0)return[];let N=CM(t,a);return T&&_.size>0&&N.searchParams.set("_routes",e.filter(A=>_.has(A.route.id)).map(A=>A.route.id).join(",")),[N.pathname+N.search]},[a,c,r,i,f,e,t,s]),v=C.useMemo(()=>_M(h,i),[h,i]),x=IM(h);return C.createElement(C.Fragment,null,g.map(_=>C.createElement("link",{key:_,rel:"prefetch",as:"fetch",href:_,...n})),v.map(_=>C.createElement("link",{key:_,rel:"modulepreload",href:_,...n})),x.map(({key:_,link:T})=>C.createElement("link",{key:_,...T})))}function AM(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var I2=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{I2&&(window.__reactRouterVersion="7.6.0")}catch{}function NM({basename:t,children:e,window:n}){let r=C.useRef();r.current==null&&(r.current=w5({window:n,v5Compat:!0}));let i=r.current,[s,a]=C.useState({action:i.action,location:i.location}),c=C.useCallback(u=>{C.startTransition(()=>a(u))},[a]);return C.useLayoutEffect(()=>i.listen(c),[i,c]),C.createElement(aM,{basename:t,children:e,location:s.location,navigationType:s.action,navigator:i})}var R2=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,fa=C.forwardRef(function({onClick:e,discover:n="render",prefetch:r="none",relative:i,reloadDocument:s,replace:a,state:c,target:u,to:f,preventScrollReset:h,viewTransition:g,...v},x){let{basename:_}=C.useContext(ti),T=typeof f=="string"&&R2.test(f),N,A=!1;if(typeof f=="string"&&T&&(N=f,I2))try{let O=new URL(window.location.href),b=f.startsWith("//")?new URL(O.protocol+f):new URL(f),M=cs(b.pathname,_);b.origin===O.origin&&M!=null?f=M+b.search+b.hash:A=!0}catch{ei(!1,`<Link to="${f}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let k=q5(f,{relative:i}),[P,j,$]=kM(r,v),z=LM(f,{replace:a,state:c,target:u,preventScrollReset:h,relative:i,viewTransition:g});function D(O){e&&e(O),O.defaultPrevented||z(O)}let I=C.createElement("a",{...v,...$,href:N||k,onClick:A||s?e:D,ref:AM(x,j),target:u,"data-discover":!T&&n==="render"?"true":void 0});return P&&!T?C.createElement(C.Fragment,null,I,C.createElement(PM,{page:k})):I});fa.displayName="Link";var OM=C.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:r="",end:i=!1,style:s,to:a,viewTransition:c,children:u,...f},h){let g=Ld(a,{relative:f.relative}),v=Pi(),x=C.useContext(sm),{navigator:_,basename:T}=C.useContext(ti),N=x!=null&&UM(g)&&c===!0,A=_.encodeLocation?_.encodeLocation(g).pathname:g.pathname,k=v.pathname,P=x&&x.navigation&&x.navigation.location?x.navigation.location.pathname:null;n||(k=k.toLowerCase(),P=P?P.toLowerCase():null,A=A.toLowerCase()),P&&T&&(P=cs(P,T)||P);const j=A!=="/"&&A.endsWith("/")?A.length-1:A.length;let $=k===A||!i&&k.startsWith(A)&&k.charAt(j)==="/",z=P!=null&&(P===A||!i&&P.startsWith(A)&&P.charAt(A.length)==="/"),D={isActive:$,isPending:z,isTransitioning:N},I=$?e:void 0,O;typeof r=="function"?O=r(D):O=[r,$?"active":null,z?"pending":null,N?"transitioning":null].filter(Boolean).join(" ");let b=typeof s=="function"?s(D):s;return C.createElement(fa,{...f,"aria-current":I,className:O,ref:h,style:b,to:a,viewTransition:c},typeof u=="function"?u(D):u)});OM.displayName="NavLink";var MM=C.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:r,replace:i,state:s,method:a=Kh,action:c,onSubmit:u,relative:f,preventScrollReset:h,viewTransition:g,...v},x)=>{let _=$M(),T=VM(c,{relative:f}),N=a.toLowerCase()==="get"?"get":"post",A=typeof c=="string"&&R2.test(c),k=P=>{if(u&&u(P),P.defaultPrevented)return;P.preventDefault();let j=P.nativeEvent.submitter,$=j?.getAttribute("formmethod")||a;_(j||P.currentTarget,{fetcherKey:e,method:$,navigate:n,replace:i,state:s,relative:f,preventScrollReset:h,viewTransition:g})};return C.createElement("form",{ref:x,method:N,action:T,onSubmit:r?u:k,...v,"data-discover":!A&&t==="render"?"true":void 0})});MM.displayName="Form";function DM(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function A2(t){let e=C.useContext(uc);return dt(e,DM(t)),e}function LM(t,{target:e,replace:n,state:r,preventScrollReset:i,relative:s,viewTransition:a}={}){let c=Pr(),u=Pi(),f=Ld(t,{relative:s});return C.useCallback(h=>{if(hM(h,e)){h.preventDefault();let g=n!==void 0?n:ld(u)===ld(f);c(t,{replace:g,state:r,preventScrollReset:i,relative:s,viewTransition:a})}},[u,c,f,n,r,e,t,i,s,a])}var jM=0,FM=()=>`__${String(++jM)}__`;function $M(){let{router:t}=A2("useSubmit"),{basename:e}=C.useContext(ti),n=rM();return C.useCallback(async(r,i={})=>{let{action:s,method:a,encType:c,formData:u,body:f}=gM(r,e);if(i.navigate===!1){let h=i.fetcherKey||FM();await t.fetch(h,n,i.action||s,{preventScrollReset:i.preventScrollReset,formData:u,body:f,formMethod:i.method||a,formEncType:i.encType||c,flushSync:i.flushSync})}else await t.navigate(i.action||s,{preventScrollReset:i.preventScrollReset,formData:u,body:f,formMethod:i.method||a,formEncType:i.encType||c,replace:i.replace,state:i.state,fromRouteId:n,flushSync:i.flushSync,viewTransition:i.viewTransition})},[t,e,n])}function VM(t,{relative:e}={}){let{basename:n}=C.useContext(ti),r=C.useContext(ni);dt(r,"useFormAction must be used inside a RouteContext");let[i]=r.matches.slice(-1),s={...Ld(t||".",{relative:e})},a=Pi();if(t==null){s.search=a.search;let c=new URLSearchParams(s.search),u=c.getAll("index");if(u.some(h=>h==="")){c.delete("index"),u.filter(g=>g).forEach(g=>c.append("index",g));let h=c.toString();s.search=h?`?${h}`:""}}return(!t||t===".")&&i.route.index&&(s.search=s.search?s.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(s.pathname=s.pathname==="/"?n:rs([n,s.pathname])),ld(s)}function UM(t,e={}){let n=C.useContext(b2);dt(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=A2("useViewTransitionState"),i=Ld(t,{relative:e.relative});if(!n.isTransitioning)return!1;let s=cs(n.currentLocation.pathname,r)||n.currentLocation.pathname,a=cs(n.nextLocation.pathname,r)||n.nextLocation.pathname;return dp(i.pathname,a)!=null||dp(i.pathname,s)!=null}[...SM];var mw=v2();const kh=rm(mw),BM=()=>{};var sE={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N2={NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fe=function(t,e){if(!t)throw fc(e)},fc=function(t){return new Error("Firebase Database ("+N2.SDK_VERSION+") INTERNAL ASSERT FAILED: "+t)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O2=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},zM=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],a=t[n++],c=t[n++],u=((i&7)<<18|(s&63)<<12|(a&63)<<6|c&63)-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(u&1023))}else{const s=t[n++],a=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|a&63)}}return e.join("")},gw={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],a=i+1<t.length,c=a?t[i+1]:0,u=i+2<t.length,f=u?t[i+2]:0,h=s>>2,g=(s&3)<<4|c>>4;let v=(c&15)<<2|f>>6,x=f&63;u||(x=64,a||(v=64)),r.push(n[h],n[g],n[v],n[x])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(O2(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):zM(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],c=i<t.length?n[t.charAt(i)]:0;++i;const f=i<t.length?n[t.charAt(i)]:64;++i;const g=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||c==null||f==null||g==null)throw new HM;const v=s<<2|c>>4;if(r.push(v),f!==64){const x=c<<4&240|f>>2;if(r.push(x),g!==64){const _=f<<6&192|g;r.push(_)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class HM extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const M2=function(t){const e=O2(t);return gw.encodeByteArray(e,!0)},fp=function(t){return M2(t).replace(/\./g,"")},hp=function(t){try{return gw.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WM(t){return D2(void 0,t)}function D2(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const n=e;return new Date(n.getTime());case Object:t===void 0&&(t={});break;case Array:t=[];break;default:return e}for(const n in e)!e.hasOwnProperty(n)||!qM(n)||(t[n]=D2(t[n],e[n]));return t}function qM(t){return t!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GM(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KM=()=>GM().__FIREBASE_DEFAULTS__,YM=()=>{if(typeof process>"u"||typeof sE>"u")return;const t=sE.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},XM=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&hp(t[1]);return e&&JSON.parse(e)},vw=()=>{try{return BM()||KM()||YM()||XM()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},L2=t=>{var e,n;return(n=(e=vw())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},yw=t=>{const e=L2(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},j2=()=>{var t;return(t=vw())===null||t===void 0?void 0:t.config},F2=t=>{var e;return(e=vw())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jd{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wo(t){return t.endsWith(".cloudworkstations.dev")}async function am(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ww(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const a=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[fp(JSON.stringify(n)),fp(JSON.stringify(a)),""].join(".")}const $u={};function JM(){const t={prod:[],emulator:[]};for(const e of Object.keys($u))$u[e]?t.emulator.push(e):t.prod.push(e);return t}function QM(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let oE=!1;function _o(t,e){if(typeof window>"u"||typeof document>"u"||!wo(window.location.host)||$u[t]===e||$u[t]||oE)return;$u[t]=e;function n(v){return`__firebase__banner__${v}`}const r="__firebase__banner",s=JM().prod.length>0;function a(){const v=document.getElementById(r);v&&v.remove()}function c(v){v.style.display="flex",v.style.background="#7faaf0",v.style.position="fixed",v.style.bottom="5px",v.style.left="5px",v.style.padding=".5em",v.style.borderRadius="5px",v.style.alignItems="center"}function u(v,x){v.setAttribute("width","24"),v.setAttribute("id",x),v.setAttribute("height","24"),v.setAttribute("viewBox","0 0 24 24"),v.setAttribute("fill","none"),v.style.marginLeft="-6px"}function f(){const v=document.createElement("span");return v.style.cursor="pointer",v.style.marginLeft="16px",v.style.fontSize="24px",v.innerHTML=" &times;",v.onclick=()=>{oE=!0,a()},v}function h(v,x){v.setAttribute("id",x),v.innerText="Learn more",v.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",v.setAttribute("target","__blank"),v.style.paddingLeft="5px",v.style.textDecoration="underline"}function g(){const v=QM(r),x=n("text"),_=document.getElementById(x)||document.createElement("span"),T=n("learnmore"),N=document.getElementById(T)||document.createElement("a"),A=n("preprendIcon"),k=document.getElementById(A)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(v.created){const P=v.element;c(P),h(N,T);const j=f();u(k,A),P.append(k,_,N,j),document.body.appendChild(P)}s?(_.innerText="Preview backend disconnected.",k.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(k.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,_.innerText="Preview backend running in this workspace."),_.setAttribute("id",x)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",g):g()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function _w(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Rn())}function ZM(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function eD(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function $2(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function tD(){const t=Rn();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function nD(){return N2.NODE_ADMIN===!0}function V2(){try{return typeof indexedDB=="object"}catch{return!1}}function U2(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}function rD(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iD="FirebaseError";class ri extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=iD,Object.setPrototypeOf(this,ri.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Aa.prototype.create)}}class Aa{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],a=s?sD(s,r):"Error",c=`${this.serviceName}: ${a} (${i}).`;return new ri(i,c,r)}}function sD(t,e){return t.replace(oD,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const oD=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cd(t){return JSON.parse(t)}function Ut(t){return JSON.stringify(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B2=function(t){let e={},n={},r={},i="";try{const s=t.split(".");e=cd(hp(s[0])||""),n=cd(hp(s[1])||""),i=s[2],r=n.d||{},delete n.d}catch{}return{header:e,claims:n,data:r,signature:i}},aD=function(t){const e=B2(t),n=e.claims;return!!n&&typeof n=="object"&&n.hasOwnProperty("iat")},lD=function(t){const e=B2(t).claims;return typeof e=="object"&&e.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ii(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function Jl(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]}function qy(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function pp(t,e,n){const r={};for(const i in t)Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=e.call(n,t[i],i,t));return r}function fo(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],a=e[i];if(aE(s)&&aE(a)){if(!fo(s,a))return!1}else if(s!==a)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function aE(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hc(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Ru(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function Au(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cD{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,n){n||(n=0);const r=this.W_;if(typeof e=="string")for(let g=0;g<16;g++)r[g]=e.charCodeAt(n)<<24|e.charCodeAt(n+1)<<16|e.charCodeAt(n+2)<<8|e.charCodeAt(n+3),n+=4;else for(let g=0;g<16;g++)r[g]=e[n]<<24|e[n+1]<<16|e[n+2]<<8|e[n+3],n+=4;for(let g=16;g<80;g++){const v=r[g-3]^r[g-8]^r[g-14]^r[g-16];r[g]=(v<<1|v>>>31)&4294967295}let i=this.chain_[0],s=this.chain_[1],a=this.chain_[2],c=this.chain_[3],u=this.chain_[4],f,h;for(let g=0;g<80;g++){g<40?g<20?(f=c^s&(a^c),h=1518500249):(f=s^a^c,h=1859775393):g<60?(f=s&a|c&(s|a),h=2400959708):(f=s^a^c,h=3395469782);const v=(i<<5|i>>>27)+f+u+h+r[g]&4294967295;u=c,c=a,a=(s<<30|s>>>2)&4294967295,s=i,i=v}this.chain_[0]=this.chain_[0]+i&4294967295,this.chain_[1]=this.chain_[1]+s&4294967295,this.chain_[2]=this.chain_[2]+a&4294967295,this.chain_[3]=this.chain_[3]+c&4294967295,this.chain_[4]=this.chain_[4]+u&4294967295}update(e,n){if(e==null)return;n===void 0&&(n=e.length);const r=n-this.blockSize;let i=0;const s=this.buf_;let a=this.inbuf_;for(;i<n;){if(a===0)for(;i<=r;)this.compress_(e,i),i+=this.blockSize;if(typeof e=="string"){for(;i<n;)if(s[a]=e.charCodeAt(i),++a,++i,a===this.blockSize){this.compress_(s),a=0;break}}else for(;i<n;)if(s[a]=e[i],++a,++i,a===this.blockSize){this.compress_(s),a=0;break}}this.inbuf_=a,this.total_+=n}digest(){const e=[];let n=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let i=this.blockSize-1;i>=56;i--)this.buf_[i]=n&255,n/=256;this.compress_(this.buf_);let r=0;for(let i=0;i<5;i++)for(let s=24;s>=0;s-=8)e[r]=this.chain_[i]>>s&255,++r;return e}}function uD(t,e){const n=new dD(t,e);return n.subscribe.bind(n)}class dD{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");fD(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=Ov),i.error===void 0&&(i.error=Ov),i.complete===void 0&&(i.complete=Ov);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function fD(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Ov(){}function lm(t,e){return`${t} failed: ${e} argument `}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hD=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);if(i>=55296&&i<=56319){const s=i-55296;r++,fe(r<t.length,"Surrogate pair missing trail surrogate.");const a=t.charCodeAt(r)-56320;i=65536+(s<<10)+a}i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):i<65536?(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},cm=function(t){let e=0;for(let n=0;n<t.length;n++){const r=t.charCodeAt(n);r<128?e++:r<2048?e+=2:r>=55296&&r<=56319?(e+=4,n++):e+=3}return e};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ft(t){return t&&t._delegate?t._delegate:t}class qn{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zo="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pD{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new jd;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e?.identifier),i=(n=e?.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(gD(e))try{this.getOrInitializeService({instanceIdentifier:Zo})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=Zo){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Zo){return this.instances.has(e)}getOptions(e=Zo){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,a]of this.instancesDeferred.entries()){const c=this.normalizeInstanceIdentifier(s);r===c&&a.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const a=this.instances.get(i);return a&&e(a,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:mD(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Zo){return this.component?this.component.multipleInstances?e:Zo:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function mD(t){return t===Zo?void 0:t}function gD(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vD{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new pD(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ke;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Ke||(Ke={}));const yD={debug:Ke.DEBUG,verbose:Ke.VERBOSE,info:Ke.INFO,warn:Ke.WARN,error:Ke.ERROR,silent:Ke.SILENT},wD=Ke.INFO,_D={[Ke.DEBUG]:"log",[Ke.VERBOSE]:"log",[Ke.INFO]:"info",[Ke.WARN]:"warn",[Ke.ERROR]:"error"},xD=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=_D[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class um{constructor(e){this.name=e,this._logLevel=wD,this._logHandler=xD,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ke))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?yD[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ke.DEBUG,...e),this._logHandler(this,Ke.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ke.VERBOSE,...e),this._logHandler(this,Ke.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ke.INFO,...e),this._logHandler(this,Ke.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ke.WARN,...e),this._logHandler(this,Ke.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ke.ERROR,...e),this._logHandler(this,Ke.ERROR,...e)}}const bD=(t,e)=>e.some(n=>t instanceof n);let lE,cE;function ED(){return lE||(lE=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function SD(){return cE||(cE=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const z2=new WeakMap,Gy=new WeakMap,H2=new WeakMap,Mv=new WeakMap,xw=new WeakMap;function CD(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",a)},s=()=>{n(is(t.result)),i()},a=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",a)});return e.then(n=>{n instanceof IDBCursor&&z2.set(n,t)}).catch(()=>{}),xw.set(e,t),e}function TD(t){if(Gy.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",a),t.removeEventListener("abort",a)},s=()=>{n(),i()},a=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",a),t.addEventListener("abort",a)});Gy.set(t,e)}let Ky={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Gy.get(t);if(e==="objectStoreNames")return t.objectStoreNames||H2.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return is(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function kD(t){Ky=t(Ky)}function PD(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Dv(this),e,...n);return H2.set(r,e.sort?e.sort():[e]),is(r)}:SD().includes(t)?function(...e){return t.apply(Dv(this),e),is(z2.get(this))}:function(...e){return is(t.apply(Dv(this),e))}}function ID(t){return typeof t=="function"?PD(t):(t instanceof IDBTransaction&&TD(t),bD(t,ED())?new Proxy(t,Ky):t)}function is(t){if(t instanceof IDBRequest)return CD(t);if(Mv.has(t))return Mv.get(t);const e=ID(t);return e!==t&&(Mv.set(t,e),xw.set(e,t)),e}const Dv=t=>xw.get(t);function dm(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const a=indexedDB.open(t,e),c=is(a);return r&&a.addEventListener("upgradeneeded",u=>{r(is(a.result),u.oldVersion,u.newVersion,is(a.transaction),u)}),n&&a.addEventListener("blocked",u=>n(u.oldVersion,u.newVersion,u)),c.then(u=>{s&&u.addEventListener("close",()=>s()),i&&u.addEventListener("versionchange",f=>i(f.oldVersion,f.newVersion,f))}).catch(()=>{}),c}function Lv(t,{blocked:e}={}){const n=indexedDB.deleteDatabase(t);return e&&n.addEventListener("blocked",r=>e(r.oldVersion,r)),is(n).then(()=>{})}const RD=["get","getKey","getAll","getAllKeys","count"],AD=["put","add","delete","clear"],jv=new Map;function uE(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(jv.get(e))return jv.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=AD.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||RD.includes(n)))return;const s=async function(a,...c){const u=this.transaction(a,i?"readwrite":"readonly");let f=u.store;return r&&(f=f.index(c.shift())),(await Promise.all([f[n](...c),i&&u.done]))[0]};return jv.set(e,s),s}kD(t=>({...t,get:(e,n,r)=>uE(e,n)||t.get(e,n,r),has:(e,n)=>!!uE(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ND{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(OD(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function OD(t){const e=t.getComponent();return e?.type==="VERSION"}const Yy="@firebase/app",dE="0.12.3";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const us=new um("@firebase/app"),MD="@firebase/app-compat",DD="@firebase/analytics-compat",LD="@firebase/analytics",jD="@firebase/app-check-compat",FD="@firebase/app-check",$D="@firebase/auth",VD="@firebase/auth-compat",UD="@firebase/database",BD="@firebase/data-connect",zD="@firebase/database-compat",HD="@firebase/functions",WD="@firebase/functions-compat",qD="@firebase/installations",GD="@firebase/installations-compat",KD="@firebase/messaging",YD="@firebase/messaging-compat",XD="@firebase/performance",JD="@firebase/performance-compat",QD="@firebase/remote-config",ZD="@firebase/remote-config-compat",e4="@firebase/storage",t4="@firebase/storage-compat",n4="@firebase/firestore",r4="@firebase/vertexai",i4="@firebase/firestore-compat",s4="firebase",o4="11.7.3";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xy="[DEFAULT]",a4={[Yy]:"fire-core",[MD]:"fire-core-compat",[LD]:"fire-analytics",[DD]:"fire-analytics-compat",[FD]:"fire-app-check",[jD]:"fire-app-check-compat",[$D]:"fire-auth",[VD]:"fire-auth-compat",[UD]:"fire-rtdb",[BD]:"fire-data-connect",[zD]:"fire-rtdb-compat",[HD]:"fire-fn",[WD]:"fire-fn-compat",[qD]:"fire-iid",[GD]:"fire-iid-compat",[KD]:"fire-fcm",[YD]:"fire-fcm-compat",[XD]:"fire-perf",[JD]:"fire-perf-compat",[QD]:"fire-rc",[ZD]:"fire-rc-compat",[e4]:"fire-gcs",[t4]:"fire-gcs-compat",[n4]:"fire-fst",[i4]:"fire-fst-compat",[r4]:"fire-vertex","fire-js":"fire-js",[s4]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mp=new Map,l4=new Map,Jy=new Map;function fE(t,e){try{t.container.addComponent(e)}catch(n){us.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function ar(t){const e=t.name;if(Jy.has(e))return us.debug(`There were multiple attempts to register component ${e}.`),!1;Jy.set(e,t);for(const n of mp.values())fE(n,t);for(const n of l4.values())fE(n,t);return!0}function xo(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function gn(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c4={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ao=new Aa("app","Firebase",c4);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u4{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new qn("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ao.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bo=o4;function W2(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:Xy,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw ao.create("bad-app-name",{appName:String(i)});if(n||(n=j2()),!n)throw ao.create("no-options");const s=mp.get(i);if(s){if(fo(n,s.options)&&fo(r,s.config))return s;throw ao.create("duplicate-app",{appName:i})}const a=new vD(i);for(const u of Jy.values())a.addComponent(u);const c=new u4(n,r,a);return mp.set(i,c),c}function Fd(t=Xy){const e=mp.get(t);if(!e&&t===Xy&&j2())return W2();if(!e)throw ao.create("no-app",{appName:t});return e}function Jt(t,e,n){var r;let i=(r=a4[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),a=e.match(/\s|\//);if(s||a){const c=[`Unable to register library "${i}" with version "${e}":`];s&&c.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&a&&c.push("and"),a&&c.push(`version name "${e}" contains illegal characters (whitespace or "/")`),us.warn(c.join(" "));return}ar(new qn(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d4="firebase-heartbeat-database",f4=1,ud="firebase-heartbeat-store";let Fv=null;function q2(){return Fv||(Fv=dm(d4,f4,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(ud)}catch(n){console.warn(n)}}}}).catch(t=>{throw ao.create("idb-open",{originalErrorMessage:t.message})})),Fv}async function h4(t){try{const n=(await q2()).transaction(ud),r=await n.objectStore(ud).get(G2(t));return await n.done,r}catch(e){if(e instanceof ri)us.warn(e.message);else{const n=ao.create("idb-get",{originalErrorMessage:e?.message});us.warn(n.message)}}}async function hE(t,e){try{const r=(await q2()).transaction(ud,"readwrite");await r.objectStore(ud).put(e,G2(t)),await r.done}catch(n){if(n instanceof ri)us.warn(n.message);else{const r=ao.create("idb-set",{originalErrorMessage:n?.message});us.warn(r.message)}}}function G2(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p4=1024,m4=30;class g4{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new y4(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=pE();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(a=>a.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats.length>m4){const a=w4(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(a,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){us.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=pE(),{heartbeatsToSend:r,unsentEntries:i}=v4(this._heartbeatsCache.heartbeats),s=fp(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(n){return us.warn(n),""}}}function pE(){return new Date().toISOString().substring(0,10)}function v4(t,e=p4){const n=[];let r=t.slice();for(const i of t){const s=n.find(a=>a.agent===i.agent);if(s){if(s.dates.push(i.date),mE(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),mE(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class y4{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return V2()?U2().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await h4(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return hE(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return hE(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function mE(t){return fp(JSON.stringify({version:2,heartbeats:t})).length}function w4(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _4(t){ar(new qn("platform-logger",e=>new ND(e),"PRIVATE")),ar(new qn("heartbeat",e=>new g4(e),"PRIVATE")),Jt(Yy,dE,t),Jt(Yy,dE,"esm2017"),Jt("fire-js","")}_4("");const K2="@firebase/installations",bw="0.6.16";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y2=1e4,X2=`w:${bw}`,J2="FIS_v2",x4="https://firebaseinstallations.googleapis.com/v1",b4=60*60*1e3,E4="installations",S4="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C4={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},va=new Aa(E4,S4,C4);function Q2(t){return t instanceof ri&&t.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Z2({projectId:t}){return`${x4}/projects/${t}/installations`}function ek(t){return{token:t.token,requestStatus:2,expiresIn:k4(t.expiresIn),creationTime:Date.now()}}async function tk(t,e){const r=(await e.json()).error;return va.create("request-failed",{requestName:t,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})}function nk({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function T4(t,{refreshToken:e}){const n=nk(t);return n.append("Authorization",P4(e)),n}async function rk(t){const e=await t();return e.status>=500&&e.status<600?t():e}function k4(t){return Number(t.replace("s","000"))}function P4(t){return`${J2} ${t}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function I4({appConfig:t,heartbeatServiceProvider:e},{fid:n}){const r=Z2(t),i=nk(t),s=e.getImmediate({optional:!0});if(s){const f=await s.getHeartbeatsHeader();f&&i.append("x-firebase-client",f)}const a={fid:n,authVersion:J2,appId:t.appId,sdkVersion:X2},c={method:"POST",headers:i,body:JSON.stringify(a)},u=await rk(()=>fetch(r,c));if(u.ok){const f=await u.json();return{fid:f.fid||n,registrationStatus:2,refreshToken:f.refreshToken,authToken:ek(f.authToken)}}else throw await tk("Create Installation",u)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ik(t){return new Promise(e=>{setTimeout(e,t)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function R4(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A4=/^[cdef][\w-]{21}$/,Qy="";function N4(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const n=O4(t);return A4.test(n)?n:Qy}catch{return Qy}}function O4(t){return R4(t).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fm(t){return`${t.appName}!${t.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sk=new Map;function ok(t,e){const n=fm(t);ak(n,e),M4(n,e)}function ak(t,e){const n=sk.get(t);if(n)for(const r of n)r(e)}function M4(t,e){const n=D4();n&&n.postMessage({key:t,fid:e}),L4()}let oa=null;function D4(){return!oa&&"BroadcastChannel"in self&&(oa=new BroadcastChannel("[Firebase] FID Change"),oa.onmessage=t=>{ak(t.data.key,t.data.fid)}),oa}function L4(){sk.size===0&&oa&&(oa.close(),oa=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j4="firebase-installations-database",F4=1,ya="firebase-installations-store";let $v=null;function Ew(){return $v||($v=dm(j4,F4,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(ya)}}})),$v}async function gp(t,e){const n=fm(t),i=(await Ew()).transaction(ya,"readwrite"),s=i.objectStore(ya),a=await s.get(n);return await s.put(e,n),await i.done,(!a||a.fid!==e.fid)&&ok(t,e.fid),e}async function lk(t){const e=fm(t),r=(await Ew()).transaction(ya,"readwrite");await r.objectStore(ya).delete(e),await r.done}async function hm(t,e){const n=fm(t),i=(await Ew()).transaction(ya,"readwrite"),s=i.objectStore(ya),a=await s.get(n),c=e(a);return c===void 0?await s.delete(n):await s.put(c,n),await i.done,c&&(!a||a.fid!==c.fid)&&ok(t,c.fid),c}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Sw(t){let e;const n=await hm(t.appConfig,r=>{const i=$4(r),s=V4(t,i);return e=s.registrationPromise,s.installationEntry});return n.fid===Qy?{installationEntry:await e}:{installationEntry:n,registrationPromise:e}}function $4(t){const e=t||{fid:N4(),registrationStatus:0};return ck(e)}function V4(t,e){if(e.registrationStatus===0){if(!navigator.onLine){const i=Promise.reject(va.create("app-offline"));return{installationEntry:e,registrationPromise:i}}const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=U4(t,n);return{installationEntry:n,registrationPromise:r}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:B4(t)}:{installationEntry:e}}async function U4(t,e){try{const n=await I4(t,e);return gp(t.appConfig,n)}catch(n){throw Q2(n)&&n.customData.serverCode===409?await lk(t.appConfig):await gp(t.appConfig,{fid:e.fid,registrationStatus:0}),n}}async function B4(t){let e=await gE(t.appConfig);for(;e.registrationStatus===1;)await ik(100),e=await gE(t.appConfig);if(e.registrationStatus===0){const{installationEntry:n,registrationPromise:r}=await Sw(t);return r||n}return e}function gE(t){return hm(t,e=>{if(!e)throw va.create("installation-not-found");return ck(e)})}function ck(t){return z4(t)?{fid:t.fid,registrationStatus:0}:t}function z4(t){return t.registrationStatus===1&&t.registrationTime+Y2<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function H4({appConfig:t,heartbeatServiceProvider:e},n){const r=W4(t,n),i=T4(t,n),s=e.getImmediate({optional:!0});if(s){const f=await s.getHeartbeatsHeader();f&&i.append("x-firebase-client",f)}const a={installation:{sdkVersion:X2,appId:t.appId}},c={method:"POST",headers:i,body:JSON.stringify(a)},u=await rk(()=>fetch(r,c));if(u.ok){const f=await u.json();return ek(f)}else throw await tk("Generate Auth Token",u)}function W4(t,{fid:e}){return`${Z2(t)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Cw(t,e=!1){let n;const r=await hm(t.appConfig,s=>{if(!uk(s))throw va.create("not-registered");const a=s.authToken;if(!e&&K4(a))return s;if(a.requestStatus===1)return n=q4(t,e),s;{if(!navigator.onLine)throw va.create("app-offline");const c=X4(s);return n=G4(t,c),c}});return n?await n:r.authToken}async function q4(t,e){let n=await vE(t.appConfig);for(;n.authToken.requestStatus===1;)await ik(100),n=await vE(t.appConfig);const r=n.authToken;return r.requestStatus===0?Cw(t,e):r}function vE(t){return hm(t,e=>{if(!uk(e))throw va.create("not-registered");const n=e.authToken;return J4(n)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}async function G4(t,e){try{const n=await H4(t,e),r=Object.assign(Object.assign({},e),{authToken:n});return await gp(t.appConfig,r),n}catch(n){if(Q2(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await lk(t.appConfig);else{const r=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});await gp(t.appConfig,r)}throw n}}function uk(t){return t!==void 0&&t.registrationStatus===2}function K4(t){return t.requestStatus===2&&!Y4(t)}function Y4(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+b4}function X4(t){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},t),{authToken:e})}function J4(t){return t.requestStatus===1&&t.requestTime+Y2<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Q4(t){const e=t,{installationEntry:n,registrationPromise:r}=await Sw(e);return r?r.catch(console.error):Cw(e).catch(console.error),n.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Z4(t,e=!1){const n=t;return await eL(n),(await Cw(n,e)).token}async function eL(t){const{registrationPromise:e}=await Sw(t);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tL(t){if(!t||!t.options)throw Vv("App Configuration");if(!t.name)throw Vv("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!t.options[n])throw Vv(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}function Vv(t){return va.create("missing-app-config-values",{valueName:t})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dk="installations",nL="installations-internal",rL=t=>{const e=t.getProvider("app").getImmediate(),n=tL(e),r=xo(e,"heartbeat");return{app:e,appConfig:n,heartbeatServiceProvider:r,_delete:()=>Promise.resolve()}},iL=t=>{const e=t.getProvider("app").getImmediate(),n=xo(e,dk).getImmediate();return{getId:()=>Q4(n),getToken:i=>Z4(n,i)}};function sL(){ar(new qn(dk,rL,"PUBLIC")),ar(new qn(nL,iL,"PRIVATE"))}sL();Jt(K2,bw);Jt(K2,bw,"esm2017");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oL="/firebase-messaging-sw.js",aL="/firebase-cloud-messaging-push-scope",fk="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",lL="https://fcmregistrations.googleapis.com/v1",hk="google.c.a.c_id",cL="google.c.a.c_l",uL="google.c.a.ts",dL="google.c.a.e",yE=1e4;var wE;(function(t){t[t.DATA_MESSAGE=1]="DATA_MESSAGE",t[t.DISPLAY_NOTIFICATION=3]="DISPLAY_NOTIFICATION"})(wE||(wE={}));/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License"); you may not use this file except
 * in compliance with the License. You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software distributed under the License
 * is distributed on an "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express
 * or implied. See the License for the specific language governing permissions and limitations under
 * the License.
 */var dd;(function(t){t.PUSH_RECEIVED="push-received",t.NOTIFICATION_CLICKED="notification-clicked"})(dd||(dd={}));/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qi(t){const e=new Uint8Array(t);return btoa(String.fromCharCode(...e)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function fL(t){const e="=".repeat((4-t.length%4)%4),n=(t+e).replace(/\-/g,"+").replace(/_/g,"/"),r=atob(n),i=new Uint8Array(r.length);for(let s=0;s<r.length;++s)i[s]=r.charCodeAt(s);return i}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uv="fcm_token_details_db",hL=5,_E="fcm_token_object_Store";async function pL(t){if("databases"in indexedDB&&!(await indexedDB.databases()).map(s=>s.name).includes(Uv))return null;let e=null;return(await dm(Uv,hL,{upgrade:async(r,i,s,a)=>{var c;if(i<2||!r.objectStoreNames.contains(_E))return;const u=a.objectStore(_E),f=await u.index("fcmSenderId").get(t);if(await u.clear(),!!f){if(i===2){const h=f;if(!h.auth||!h.p256dh||!h.endpoint)return;e={token:h.fcmToken,createTime:(c=h.createTime)!==null&&c!==void 0?c:Date.now(),subscriptionOptions:{auth:h.auth,p256dh:h.p256dh,endpoint:h.endpoint,swScope:h.swScope,vapidKey:typeof h.vapidKey=="string"?h.vapidKey:Qi(h.vapidKey)}}}else if(i===3){const h=f;e={token:h.fcmToken,createTime:h.createTime,subscriptionOptions:{auth:Qi(h.auth),p256dh:Qi(h.p256dh),endpoint:h.endpoint,swScope:h.swScope,vapidKey:Qi(h.vapidKey)}}}else if(i===4){const h=f;e={token:h.fcmToken,createTime:h.createTime,subscriptionOptions:{auth:Qi(h.auth),p256dh:Qi(h.p256dh),endpoint:h.endpoint,swScope:h.swScope,vapidKey:Qi(h.vapidKey)}}}}}})).close(),await Lv(Uv),await Lv("fcm_vapid_details_db"),await Lv("undefined"),mL(e)?e:null}function mL(t){if(!t||!t.subscriptionOptions)return!1;const{subscriptionOptions:e}=t;return typeof t.createTime=="number"&&t.createTime>0&&typeof t.token=="string"&&t.token.length>0&&typeof e.auth=="string"&&e.auth.length>0&&typeof e.p256dh=="string"&&e.p256dh.length>0&&typeof e.endpoint=="string"&&e.endpoint.length>0&&typeof e.swScope=="string"&&e.swScope.length>0&&typeof e.vapidKey=="string"&&e.vapidKey.length>0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gL="firebase-messaging-database",vL=1,fd="firebase-messaging-store";let Bv=null;function pk(){return Bv||(Bv=dm(gL,vL,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(fd)}}})),Bv}async function yL(t){const e=mk(t),r=await(await pk()).transaction(fd).objectStore(fd).get(e);if(r)return r;{const i=await pL(t.appConfig.senderId);if(i)return await Tw(t,i),i}}async function Tw(t,e){const n=mk(t),i=(await pk()).transaction(fd,"readwrite");return await i.objectStore(fd).put(e,n),await i.done,e}function mk({appConfig:t}){return t.appId}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wL={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."},yn=new Aa("messaging","Messaging",wL);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _L(t,e){const n=await Pw(t),r=gk(e),i={method:"POST",headers:n,body:JSON.stringify(r)};let s;try{s=await(await fetch(kw(t.appConfig),i)).json()}catch(a){throw yn.create("token-subscribe-failed",{errorInfo:a?.toString()})}if(s.error){const a=s.error.message;throw yn.create("token-subscribe-failed",{errorInfo:a})}if(!s.token)throw yn.create("token-subscribe-no-token");return s.token}async function xL(t,e){const n=await Pw(t),r=gk(e.subscriptionOptions),i={method:"PATCH",headers:n,body:JSON.stringify(r)};let s;try{s=await(await fetch(`${kw(t.appConfig)}/${e.token}`,i)).json()}catch(a){throw yn.create("token-update-failed",{errorInfo:a?.toString()})}if(s.error){const a=s.error.message;throw yn.create("token-update-failed",{errorInfo:a})}if(!s.token)throw yn.create("token-update-no-token");return s.token}async function bL(t,e){const r={method:"DELETE",headers:await Pw(t)};try{const s=await(await fetch(`${kw(t.appConfig)}/${e}`,r)).json();if(s.error){const a=s.error.message;throw yn.create("token-unsubscribe-failed",{errorInfo:a})}}catch(i){throw yn.create("token-unsubscribe-failed",{errorInfo:i?.toString()})}}function kw({projectId:t}){return`${lL}/projects/${t}/registrations`}async function Pw({appConfig:t,installations:e}){const n=await e.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t.apiKey,"x-goog-firebase-installations-auth":`FIS ${n}`})}function gk({p256dh:t,auth:e,endpoint:n,vapidKey:r}){const i={web:{endpoint:n,auth:e,p256dh:t}};return r!==fk&&(i.web.applicationPubKey=r),i}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EL=7*24*60*60*1e3;async function SL(t){const e=await TL(t.swRegistration,t.vapidKey),n={vapidKey:t.vapidKey,swScope:t.swRegistration.scope,endpoint:e.endpoint,auth:Qi(e.getKey("auth")),p256dh:Qi(e.getKey("p256dh"))},r=await yL(t.firebaseDependencies);if(r){if(kL(r.subscriptionOptions,n))return Date.now()>=r.createTime+EL?CL(t,{token:r.token,createTime:Date.now(),subscriptionOptions:n}):r.token;try{await bL(t.firebaseDependencies,r.token)}catch(i){console.warn(i)}return xE(t.firebaseDependencies,n)}else return xE(t.firebaseDependencies,n)}async function CL(t,e){try{const n=await xL(t.firebaseDependencies,e),r=Object.assign(Object.assign({},e),{token:n,createTime:Date.now()});return await Tw(t.firebaseDependencies,r),n}catch(n){throw n}}async function xE(t,e){const r={token:await _L(t,e),createTime:Date.now(),subscriptionOptions:e};return await Tw(t,r),r.token}async function TL(t,e){const n=await t.pushManager.getSubscription();return n||t.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:fL(e)})}function kL(t,e){const n=e.vapidKey===t.vapidKey,r=e.endpoint===t.endpoint,i=e.auth===t.auth,s=e.p256dh===t.p256dh;return n&&r&&i&&s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bE(t){const e={from:t.from,collapseKey:t.collapse_key,messageId:t.fcmMessageId};return PL(e,t),IL(e,t),RL(e,t),e}function PL(t,e){if(!e.notification)return;t.notification={};const n=e.notification.title;n&&(t.notification.title=n);const r=e.notification.body;r&&(t.notification.body=r);const i=e.notification.image;i&&(t.notification.image=i);const s=e.notification.icon;s&&(t.notification.icon=s)}function IL(t,e){e.data&&(t.data=e.data)}function RL(t,e){var n,r,i,s,a;if(!e.fcmOptions&&!(!((n=e.notification)===null||n===void 0)&&n.click_action))return;t.fcmOptions={};const c=(i=(r=e.fcmOptions)===null||r===void 0?void 0:r.link)!==null&&i!==void 0?i:(s=e.notification)===null||s===void 0?void 0:s.click_action;c&&(t.fcmOptions.link=c);const u=(a=e.fcmOptions)===null||a===void 0?void 0:a.analytics_label;u&&(t.fcmOptions.analyticsLabel=u)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AL(t){return typeof t=="object"&&!!t&&hk in t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NL(t){if(!t||!t.options)throw zv("App Configuration Object");if(!t.name)throw zv("App Name");const e=["projectId","apiKey","appId","messagingSenderId"],{options:n}=t;for(const r of e)if(!n[r])throw zv(r);return{appName:t.name,projectId:n.projectId,apiKey:n.apiKey,appId:n.appId,senderId:n.messagingSenderId}}function zv(t){return yn.create("missing-app-config-values",{valueName:t})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OL{constructor(e,n,r){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const i=NL(e);this.firebaseDependencies={app:e,appConfig:i,installations:n,analyticsProvider:r}}_delete(){return Promise.resolve()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ML(t){try{t.swRegistration=await navigator.serviceWorker.register(oL,{scope:aL}),t.swRegistration.update().catch(()=>{}),await DL(t.swRegistration)}catch(e){throw yn.create("failed-service-worker-registration",{browserErrorMessage:e?.message})}}async function DL(t){return new Promise((e,n)=>{const r=setTimeout(()=>n(new Error(`Service worker not registered after ${yE} ms`)),yE),i=t.installing||t.waiting;t.active?(clearTimeout(r),e()):i?i.onstatechange=s=>{var a;((a=s.target)===null||a===void 0?void 0:a.state)==="activated"&&(i.onstatechange=null,clearTimeout(r),e())}:(clearTimeout(r),n(new Error("No incoming service worker found.")))})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function LL(t,e){if(!e&&!t.swRegistration&&await ML(t),!(!e&&t.swRegistration)){if(!(e instanceof ServiceWorkerRegistration))throw yn.create("invalid-sw-registration");t.swRegistration=e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jL(t,e){e?t.vapidKey=e:t.vapidKey||(t.vapidKey=fk)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vk(t,e){if(!navigator)throw yn.create("only-available-in-window");if(Notification.permission==="default"&&await Notification.requestPermission(),Notification.permission!=="granted")throw yn.create("permission-blocked");return await jL(t,e?.vapidKey),await LL(t,e?.serviceWorkerRegistration),SL(t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function FL(t,e,n){const r=$L(e);(await t.firebaseDependencies.analyticsProvider.get()).logEvent(r,{message_id:n[hk],message_name:n[cL],message_time:n[uL],message_device_time:Math.floor(Date.now()/1e3)})}function $L(t){switch(t){case dd.NOTIFICATION_CLICKED:return"notification_open";case dd.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function VL(t,e){const n=e.data;if(!n.isFirebaseMessaging)return;t.onMessageHandler&&n.messageType===dd.PUSH_RECEIVED&&(typeof t.onMessageHandler=="function"?t.onMessageHandler(bE(n)):t.onMessageHandler.next(bE(n)));const r=n.data;AL(r)&&r[dL]==="1"&&await FL(t,n.messageType,r)}const EE="@firebase/messaging",SE="0.12.20";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UL=t=>{const e=new OL(t.getProvider("app").getImmediate(),t.getProvider("installations-internal").getImmediate(),t.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",n=>VL(e,n)),e},BL=t=>{const e=t.getProvider("messaging").getImmediate();return{getToken:r=>vk(e,r)}};function zL(){ar(new qn("messaging",UL,"PUBLIC")),ar(new qn("messaging-internal",BL,"PRIVATE")),Jt(EE,SE),Jt(EE,SE,"esm2017")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function HL(){try{await U2()}catch{return!1}return typeof window<"u"&&V2()&&rD()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WL(t,e){if(!navigator)throw yn.create("only-available-in-window");return t.onMessageHandler=e,()=>{t.onMessageHandler=null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Iw(t=Fd()){return HL().then(e=>{if(!e)throw yn.create("unsupported-browser")},e=>{throw yn.create("indexed-db-unsupported")}),xo(ft(t),"messaging").getImmediate()}async function qL(t,e){return t=ft(t),vk(t,e)}function GL(t,e){return t=ft(t),WL(t,e)}zL();var KL="firebase",YL="11.7.3";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Jt(KL,YL,"app");var Zy=function(t,e){return Zy=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(n[i]=r[i])},Zy(t,e)};function XL(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");Zy(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}var Gt=function(){return Gt=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},Gt.apply(this,arguments)};function Rw(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function yk(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const JL=yk,wk=new Aa("auth","Firebase",yk());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vp=new um("@firebase/auth");function QL(t,...e){vp.logLevel<=Ke.WARN&&vp.warn(`Auth (${bo}): ${t}`,...e)}function Xh(t,...e){vp.logLevel<=Ke.ERROR&&vp.error(`Auth (${bo}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tr(t,...e){throw Nw(t,...e)}function Qr(t,...e){return Nw(t,...e)}function Aw(t,e,n){const r=Object.assign(Object.assign({},JL()),{[e]:n});return new Aa("auth","Firebase",r).create(e,{appName:t.name})}function ss(t){return Aw(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function ZL(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&Tr(t,"argument-error"),Aw(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Nw(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return wk.create(t,...e)}function Re(t,e,...n){if(!t)throw Nw(e,...n)}function es(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Xh(e),new Error(e)}function ds(t,e){t||es(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function e0(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function ej(){return CE()==="http:"||CE()==="https:"}function CE(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tj(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(ej()||eD()||"connection"in navigator)?navigator.onLine:!0}function nj(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $d{constructor(e,n){this.shortDelay=e,this.longDelay=n,ds(n>e,"Short delay should be less than long delay!"),this.isMobile=_w()||$2()}get(){return tj()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ow(t,e){ds(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _k{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;es("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;es("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;es("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rj={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ij=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],sj=new $d(3e4,6e4);function ys(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function ws(t,e,n,r,i={}){return xk(t,i,async()=>{let s={},a={};r&&(e==="GET"?a=r:s={body:JSON.stringify(r)});const c=hc(Object.assign({key:t.config.apiKey},a)).slice(1),u=await t._getAdditionalHeaders();u["Content-Type"]="application/json",t.languageCode&&(u["X-Firebase-Locale"]=t.languageCode);const f=Object.assign({method:e,headers:u},s);return ZM()||(f.referrerPolicy="no-referrer"),t.emulatorConfig&&wo(t.emulatorConfig.host)&&(f.credentials="include"),_k.fetch()(await bk(t,t.config.apiHost,n,c),f)})}async function xk(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},rj),e);try{const i=new aj(t),s=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const a=await s.json();if("needConfirmation"in a)throw Ph(t,"account-exists-with-different-credential",a);if(s.ok&&!("errorMessage"in a))return a;{const c=s.ok?a.errorMessage:a.error.message,[u,f]=c.split(" : ");if(u==="FEDERATED_USER_ID_ALREADY_LINKED")throw Ph(t,"credential-already-in-use",a);if(u==="EMAIL_EXISTS")throw Ph(t,"email-already-in-use",a);if(u==="USER_DISABLED")throw Ph(t,"user-disabled",a);const h=r[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(f)throw Aw(t,h,f);Tr(t,h)}}catch(i){if(i instanceof ri)throw i;Tr(t,"network-request-failed",{message:String(i)})}}async function Vd(t,e,n,r,i={}){const s=await ws(t,e,n,r,i);return"mfaPendingCredential"in s&&Tr(t,"multi-factor-auth-required",{_serverResponse:s}),s}async function bk(t,e,n,r){const i=`${e}${n}?${r}`,s=t,a=s.config.emulator?Ow(t.config,i):`${t.config.apiScheme}://${i}`;return ij.includes(n)&&(await s._persistenceManagerAvailable,s._getPersistenceType()==="COOKIE")?s._getPersistence()._getFinalTarget(a).toString():a}function oj(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class aj{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Qr(this.auth,"network-request-failed")),sj.get())})}}function Ph(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Qr(t,e,r);return i.customData._tokenResponse=n,i}function TE(t){return t!==void 0&&t.enterprise!==void 0}class lj{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return oj(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function cj(t,e){return ws(t,"GET","/v2/recaptchaConfig",ys(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uj(t,e){return ws(t,"POST","/v1/accounts:delete",e)}async function yp(t,e){return ws(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vu(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function dj(t,e=!1){const n=ft(t),r=await n.getIdToken(e),i=Mw(r);Re(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,a=s?.sign_in_provider;return{claims:i,token:r,authTime:Vu(Hv(i.auth_time)),issuedAtTime:Vu(Hv(i.iat)),expirationTime:Vu(Hv(i.exp)),signInProvider:a||null,signInSecondFactor:s?.sign_in_second_factor||null}}function Hv(t){return Number(t)*1e3}function Mw(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Xh("JWT malformed, contained fewer than 3 sections"),null;try{const i=hp(n);return i?JSON.parse(i):(Xh("Failed to decode base64 JWT payload"),null)}catch(i){return Xh("Caught error parsing JWT payload as JSON",i?.toString()),null}}function kE(t){const e=Mw(t);return Re(e,"internal-error"),Re(typeof e.exp<"u","internal-error"),Re(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hd(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof ri&&fj(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function fj({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hj{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t0{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Vu(this.lastLoginAt),this.creationTime=Vu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wp(t){var e;const n=t.auth,r=await t.getIdToken(),i=await hd(t,yp(n,{idToken:r}));Re(i?.users.length,n,"internal-error");const s=i.users[0];t._notifyReloadListener(s);const a=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?Ek(s.providerUserInfo):[],c=mj(t.providerData,a),u=t.isAnonymous,f=!(t.email&&s.passwordHash)&&!c?.length,h=u?f:!1,g={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:c,metadata:new t0(s.createdAt,s.lastLoginAt),isAnonymous:h};Object.assign(t,g)}async function pj(t){const e=ft(t);await wp(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function mj(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function Ek(t){return t.map(e=>{var{providerId:n}=e,r=Rw(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gj(t,e){const n=await xk(t,{},async()=>{const r=hc({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,a=await bk(t,i,"/v1/token",`key=${s}`),c=await t._getAdditionalHeaders();return c["Content-Type"]="application/x-www-form-urlencoded",_k.fetch()(a,{method:"POST",headers:c,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function vj(t,e){return ws(t,"POST","/v2/accounts:revokeToken",ys(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zl{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Re(e.idToken,"internal-error"),Re(typeof e.idToken<"u","internal-error"),Re(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):kE(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Re(e.length!==0,"internal-error");const n=kE(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Re(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:s}=await gj(e,n);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,a=new zl;return r&&(Re(typeof r=="string","internal-error",{appName:e}),a.refreshToken=r),i&&(Re(typeof i=="string","internal-error",{appName:e}),a.accessToken=i),s&&(Re(typeof s=="number","internal-error",{appName:e}),a.expirationTime=s),a}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new zl,this.toJSON())}_performRefresh(){return es("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ks(t,e){Re(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Kr{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=Rw(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new hj(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new t0(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await hd(this,this.stsTokenManager.getToken(this.auth,e));return Re(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return dj(this,e)}reload(){return pj(this)}_assign(e){this!==e&&(Re(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Kr(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){Re(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await wp(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(gn(this.auth.app))return Promise.reject(ss(this.auth));const e=await this.getIdToken();return await hd(this,uj(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,a,c,u,f,h;const g=(r=n.displayName)!==null&&r!==void 0?r:void 0,v=(i=n.email)!==null&&i!==void 0?i:void 0,x=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,_=(a=n.photoURL)!==null&&a!==void 0?a:void 0,T=(c=n.tenantId)!==null&&c!==void 0?c:void 0,N=(u=n._redirectEventId)!==null&&u!==void 0?u:void 0,A=(f=n.createdAt)!==null&&f!==void 0?f:void 0,k=(h=n.lastLoginAt)!==null&&h!==void 0?h:void 0,{uid:P,emailVerified:j,isAnonymous:$,providerData:z,stsTokenManager:D}=n;Re(P&&D,e,"internal-error");const I=zl.fromJSON(this.name,D);Re(typeof P=="string",e,"internal-error"),Ks(g,e.name),Ks(v,e.name),Re(typeof j=="boolean",e,"internal-error"),Re(typeof $=="boolean",e,"internal-error"),Ks(x,e.name),Ks(_,e.name),Ks(T,e.name),Ks(N,e.name),Ks(A,e.name),Ks(k,e.name);const O=new Kr({uid:P,auth:e,email:v,emailVerified:j,displayName:g,isAnonymous:$,photoURL:_,phoneNumber:x,tenantId:T,stsTokenManager:I,createdAt:A,lastLoginAt:k});return z&&Array.isArray(z)&&(O.providerData=z.map(b=>Object.assign({},b))),N&&(O._redirectEventId=N),O}static async _fromIdTokenResponse(e,n,r=!1){const i=new zl;i.updateFromServerResponse(n);const s=new Kr({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await wp(s),s}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];Re(i.localId!==void 0,"internal-error");const s=i.providerUserInfo!==void 0?Ek(i.providerUserInfo):[],a=!(i.email&&i.passwordHash)&&!s?.length,c=new zl;c.updateFromIdToken(r);const u=new Kr({uid:i.localId,auth:e,stsTokenManager:c,isAnonymous:a}),f={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new t0(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!s?.length};return Object.assign(u,f),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PE=new Map;function ts(t){ds(t instanceof Function,"Expected a class definition");let e=PE.get(t);return e?(ds(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,PE.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sk{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}Sk.type="NONE";const IE=Sk;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jh(t,e,n){return`firebase:${t}:${e}:${n}`}class Hl{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=Jh(this.userKey,i.apiKey,s),this.fullPersistenceKey=Jh("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await yp(this.auth,{idToken:e}).catch(()=>{});return n?Kr._fromGetAccountInfoResponse(this.auth,n,e):null}return Kr._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Hl(ts(IE),e,r);const i=(await Promise.all(n.map(async f=>{if(await f._isAvailable())return f}))).filter(f=>f);let s=i[0]||ts(IE);const a=Jh(r,e.config.apiKey,e.name);let c=null;for(const f of n)try{const h=await f._get(a);if(h){let g;if(typeof h=="string"){const v=await yp(e,{idToken:h}).catch(()=>{});if(!v)break;g=await Kr._fromGetAccountInfoResponse(e,v,h)}else g=Kr._fromJSON(e,h);f!==s&&(c=g),s=f;break}}catch{}const u=i.filter(f=>f._shouldAllowMigration);return!s._shouldAllowMigration||!u.length?new Hl(s,e,r):(s=u[0],c&&await s._set(a,c.toJSON()),await Promise.all(n.map(async f=>{if(f!==s)try{await f._remove(a)}catch{}})),new Hl(s,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RE(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(Pk(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(Ck(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(Rk(e))return"Blackberry";if(Ak(e))return"Webos";if(Tk(e))return"Safari";if((e.includes("chrome/")||kk(e))&&!e.includes("edge/"))return"Chrome";if(Ik(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if(r?.length===2)return r[1]}return"Other"}function Ck(t=Rn()){return/firefox\//i.test(t)}function Tk(t=Rn()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function kk(t=Rn()){return/crios\//i.test(t)}function Pk(t=Rn()){return/iemobile/i.test(t)}function Ik(t=Rn()){return/android/i.test(t)}function Rk(t=Rn()){return/blackberry/i.test(t)}function Ak(t=Rn()){return/webos/i.test(t)}function Dw(t=Rn()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function yj(t=Rn()){var e;return Dw(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function wj(){return tD()&&document.documentMode===10}function Nk(t=Rn()){return Dw(t)||Ik(t)||Ak(t)||Rk(t)||/windows phone/i.test(t)||Pk(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ok(t,e=[]){let n;switch(t){case"Browser":n=RE(Rn());break;case"Worker":n=`${RE(Rn())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${bo}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _j{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((a,c)=>{try{const u=e(s);a(u)}catch(u){c(u)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xj(t,e={}){return ws(t,"GET","/v2/passwordPolicy",ys(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bj=6;class Ej{constructor(e){var n,r,i,s;const a=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=a.minPasswordLength)!==null&&n!==void 0?n:bj,a.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=a.maxPasswordLength),a.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=a.containsLowercaseCharacter),a.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=a.containsUppercaseCharacter),a.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=a.containsNumericCharacter),a.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=a.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,s,a,c;const u={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,u),this.validatePasswordCharacterOptions(e,u),u.isValid&&(u.isValid=(n=u.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),u.isValid&&(u.isValid=(r=u.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),u.isValid&&(u.isValid=(i=u.containsLowercaseLetter)!==null&&i!==void 0?i:!0),u.isValid&&(u.isValid=(s=u.containsUppercaseLetter)!==null&&s!==void 0?s:!0),u.isValid&&(u.isValid=(a=u.containsNumericCharacter)!==null&&a!==void 0?a:!0),u.isValid&&(u.isValid=(c=u.containsNonAlphanumericCharacter)!==null&&c!==void 0?c:!0),u}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sj{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new AE(this),this.idTokenSubscription=new AE(this),this.beforeStateQueue=new _j(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=wk,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(s=>this._resolvePersistenceManagerAvailable=s)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=ts(n)),this._initializationPromise=this.queue(async()=>{var r,i,s;if(!this._deleted&&(this.persistenceManager=await Hl.create(this,e),(r=this._resolvePersistenceManagerAvailable)===null||r===void 0||r.call(this),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((s=this.currentUser)===null||s===void 0?void 0:s.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await yp(this,{idToken:e}),r=await Kr._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(gn(this.app)){const a=this.app.settings.authIdToken;return a?new Promise(c=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(a).then(c,c))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let i=r,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const a=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,c=i?._redirectEventId,u=await this.tryRedirectSignIn(e);(!a||a===c)&&u?.user&&(i=u.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(a){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(a))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return Re(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await wp(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=nj()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(gn(this.app))return Promise.reject(ss(this));const n=e?ft(e):null;return n&&Re(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Re(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return gn(this.app)?Promise.reject(ss(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return gn(this.app)?Promise.reject(ss(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ts(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await xj(this),n=new Ej(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Aa("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await vj(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&ts(e)||this._popupRedirectResolver;Re(n,this,"argument-error"),this.redirectPersistenceManager=await Hl.create(this,[ts(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n);let a=!1;const c=this._isInitialized?Promise.resolve():this._initializationPromise;if(Re(c,this,"internal-error"),c.then(()=>{a||s(this.currentUser)}),typeof n=="function"){const u=e.addObserver(n,r,i);return()=>{a=!0,u()}}else{const u=e.addObserver(n);return()=>{a=!0,u()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Re(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Ok(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;if(gn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n?.error&&QL(`Error while retrieving App Check token: ${n.error}`),n?.token}}function Eo(t){return ft(t)}class AE{constructor(e){this.auth=e,this.observer=null,this.addObserver=uD(n=>this.observer=n)}get next(){return Re(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let pm={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Cj(t){pm=t}function Mk(t){return pm.loadJS(t)}function Tj(){return pm.recaptchaEnterpriseScript}function kj(){return pm.gapiScript}function Pj(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class Ij{constructor(){this.enterprise=new Rj}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class Rj{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const Aj="recaptcha-enterprise",Dk="NO_RECAPTCHA";class Nj{constructor(e){this.type=Aj,this.auth=Eo(e)}async verify(e="verify",n=!1){async function r(s){if(!n){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise(async(a,c)=>{cj(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(u=>{if(u.recaptchaKey===void 0)c(new Error("recaptcha Enterprise site key undefined"));else{const f=new lj(u);return s.tenantId==null?s._agentRecaptchaConfig=f:s._tenantRecaptchaConfigs[s.tenantId]=f,a(f.siteKey)}}).catch(u=>{c(u)})})}function i(s,a,c){const u=window.grecaptcha;TE(u)?u.enterprise.ready(()=>{u.enterprise.execute(s,{action:e}).then(f=>{a(f)}).catch(()=>{a(Dk)})}):c(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new Ij().execute("siteKey",{action:"verify"}):new Promise((s,a)=>{r(this.auth).then(c=>{if(!n&&TE(window.grecaptcha))i(c,s,a);else{if(typeof window>"u"){a(new Error("RecaptchaVerifier is only supported in browser"));return}let u=Tj();u.length!==0&&(u+=c),Mk(u).then(()=>{i(c,s,a)}).catch(f=>{a(f)})}}).catch(c=>{a(c)})})}}async function NE(t,e,n,r=!1,i=!1){const s=new Nj(t);let a;if(i)a=Dk;else try{a=await s.verify(n)}catch{a=await s.verify(n,!0)}const c=Object.assign({},e);if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in c){const u=c.phoneEnrollmentInfo.phoneNumber,f=c.phoneEnrollmentInfo.recaptchaToken;Object.assign(c,{phoneEnrollmentInfo:{phoneNumber:u,recaptchaToken:f,captchaResponse:a,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in c){const u=c.phoneSignInInfo.recaptchaToken;Object.assign(c,{phoneSignInInfo:{recaptchaToken:u,captchaResponse:a,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return c}return r?Object.assign(c,{captchaResp:a}):Object.assign(c,{captchaResponse:a}),Object.assign(c,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(c,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),c}async function n0(t,e,n,r,i){var s;if(!((s=t._getRecaptchaConfig())===null||s===void 0)&&s.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const a=await NE(t,e,n,n==="getOobCode");return r(t,a)}else return r(t,e).catch(async a=>{if(a.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const c=await NE(t,e,n,n==="getOobCode");return r(t,c)}else return Promise.reject(a)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Oj(t,e){const n=xo(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),s=n.getOptions();if(fo(s,e??{}))return i;Tr(i,"already-initialized")}return n.initialize({options:e})}function Mj(t,e){const n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(ts);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}function Lk(t,e,n){const r=Eo(t);Re(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,s=jk(e),{host:a,port:c}=Dj(e),u=c===null?"":`:${c}`,f={url:`${s}//${a}${u}/`},h=Object.freeze({host:a,port:c,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){Re(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),Re(fo(f,r.config.emulator)&&fo(h,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=f,r.emulatorConfig=h,r.settings.appVerificationDisabledForTesting=!0,wo(a)?(_o("Auth",!0),am(`${s}//${a}${u}`)):Lj()}function jk(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function Dj(t){const e=jk(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:OE(r.substr(s.length+1))}}else{const[s,a]=r.split(":");return{host:s,port:OE(a)}}}function OE(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function Lj(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lw{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return es("not implemented")}_getIdTokenResponse(e){return es("not implemented")}_linkToIdToken(e,n){return es("not implemented")}_getReauthenticationResolver(e){return es("not implemented")}}async function jj(t,e){return ws(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Fj(t,e){return Vd(t,"POST","/v1/accounts:signInWithPassword",ys(t,e))}async function $j(t,e){return ws(t,"POST","/v1/accounts:sendOobCode",ys(t,e))}async function Vj(t,e){return $j(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Uj(t,e){return Vd(t,"POST","/v1/accounts:signInWithEmailLink",ys(t,e))}async function Bj(t,e){return Vd(t,"POST","/v1/accounts:signInWithEmailLink",ys(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pd extends Lw{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new pd(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new pd(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return n0(e,n,"signInWithPassword",Fj);case"emailLink":return Uj(e,{email:this._email,oobCode:this._password});default:Tr(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return n0(e,r,"signUpPassword",jj);case"emailLink":return Bj(e,{idToken:n,email:this._email,oobCode:this._password});default:Tr(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Wl(t,e){return Vd(t,"POST","/v1/accounts:signInWithIdp",ys(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zj="http://localhost";class wa extends Lw{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new wa(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Tr("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,s=Rw(n,["providerId","signInMethod"]);if(!r||!i)return null;const a=new wa(r,i);return a.idToken=s.idToken||void 0,a.accessToken=s.accessToken||void 0,a.secret=s.secret,a.nonce=s.nonce,a.pendingToken=s.pendingToken||null,a}_getIdTokenResponse(e){const n=this.buildRequest();return Wl(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Wl(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Wl(e,n)}buildRequest(){const e={requestUri:zj,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=hc(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hj(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function Wj(t){const e=Ru(Au(t)).link,n=e?Ru(Au(e)).deep_link_id:null,r=Ru(Au(t)).deep_link_id;return(r?Ru(Au(r)).link:null)||r||n||e||t}class jw{constructor(e){var n,r,i,s,a,c;const u=Ru(Au(e)),f=(n=u.apiKey)!==null&&n!==void 0?n:null,h=(r=u.oobCode)!==null&&r!==void 0?r:null,g=Hj((i=u.mode)!==null&&i!==void 0?i:null);Re(f&&h&&g,"argument-error"),this.apiKey=f,this.operation=g,this.code=h,this.continueUrl=(s=u.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(a=u.lang)!==null&&a!==void 0?a:null,this.tenantId=(c=u.tenantId)!==null&&c!==void 0?c:null}static parseLink(e){const n=Wj(e);try{return new jw(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pc{constructor(){this.providerId=pc.PROVIDER_ID}static credential(e,n){return pd._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=jw.parseLink(n);return Re(r,"argument-error"),pd._fromEmailAndCode(e,r.code,r.tenantId)}}pc.PROVIDER_ID="password";pc.EMAIL_PASSWORD_SIGN_IN_METHOD="password";pc.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fw{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ud extends Fw{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Js extends Ud{constructor(){super("facebook.com")}static credential(e){return wa._fromParams({providerId:Js.PROVIDER_ID,signInMethod:Js.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Js.credentialFromTaggedObject(e)}static credentialFromError(e){return Js.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Js.credential(e.oauthAccessToken)}catch{return null}}}Js.FACEBOOK_SIGN_IN_METHOD="facebook.com";Js.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wi extends Ud{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return wa._fromParams({providerId:wi.PROVIDER_ID,signInMethod:wi.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return wi.credentialFromTaggedObject(e)}static credentialFromError(e){return wi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return wi.credential(n,r)}catch{return null}}}wi.GOOGLE_SIGN_IN_METHOD="google.com";wi.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qs extends Ud{constructor(){super("github.com")}static credential(e){return wa._fromParams({providerId:Qs.PROVIDER_ID,signInMethod:Qs.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Qs.credentialFromTaggedObject(e)}static credentialFromError(e){return Qs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Qs.credential(e.oauthAccessToken)}catch{return null}}}Qs.GITHUB_SIGN_IN_METHOD="github.com";Qs.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zs extends Ud{constructor(){super("twitter.com")}static credential(e,n){return wa._fromParams({providerId:Zs.PROVIDER_ID,signInMethod:Zs.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Zs.credentialFromTaggedObject(e)}static credentialFromError(e){return Zs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Zs.credential(n,r)}catch{return null}}}Zs.TWITTER_SIGN_IN_METHOD="twitter.com";Zs.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qj(t,e){return Vd(t,"POST","/v1/accounts:signUp",ys(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _a{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const s=await Kr._fromIdTokenResponse(e,r,i),a=ME(r);return new _a({user:s,providerId:a,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=ME(r);return new _a({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function ME(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _p extends ri{constructor(e,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,_p.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new _p(e,n,r,i)}}function Fk(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?_p._fromErrorAndOperation(t,s,e,r):s})}async function Gj(t,e,n=!1){const r=await hd(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return _a._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Kj(t,e,n=!1){const{auth:r}=t;if(gn(r.app))return Promise.reject(ss(r));const i="reauthenticate";try{const s=await hd(t,Fk(r,i,e,t),n);Re(s.idToken,r,"internal-error");const a=Mw(s.idToken);Re(a,r,"internal-error");const{sub:c}=a;return Re(t.uid===c,r,"user-mismatch"),_a._forOperation(t,i,s)}catch(s){throw s?.code==="auth/user-not-found"&&Tr(r,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $k(t,e,n=!1){if(gn(t.app))return Promise.reject(ss(t));const r="signIn",i=await Fk(t,r,e),s=await _a._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(s.user),s}async function Yj(t,e){return $k(Eo(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Vk(t){const e=Eo(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function Uk(t,e,n){if(gn(t.app))return Promise.reject(ss(t));const r=Eo(t),a=await n0(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",qj).catch(u=>{throw u.code==="auth/password-does-not-meet-requirements"&&Vk(t),u}),c=await _a._fromIdTokenResponse(r,"signIn",a);return await r._updateCurrentUser(c.user),c}function Xj(t,e,n){return gn(t.app)?Promise.reject(ss(t)):Yj(ft(t),pc.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&Vk(t),r})}async function Jj(t,e){const n=ft(t),i={requestType:"VERIFY_EMAIL",idToken:await t.getIdToken()},{email:s}=await Vj(n.auth,i);s!==t.email&&await t.reload()}function Qj(t,e,n,r){return ft(t).onIdTokenChanged(e,n,r)}function Zj(t,e,n){return ft(t).beforeAuthStateChanged(e,n)}function e3(t,e,n,r){return ft(t).onAuthStateChanged(e,n,r)}function Bk(t){return ft(t).signOut()}const xp="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zk{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(xp,"1"),this.storage.removeItem(xp),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t3=1e3,n3=10;class Hk extends zk{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Nk(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((a,c,u)=>{this.notifyListeners(a,u)});return}const r=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const a=this.storage.getItem(r);!n&&this.localCache[r]===a||this.notifyListeners(r,a)},s=this.storage.getItem(r);wj()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,n3):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},t3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}Hk.type="LOCAL";const r3=Hk;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wk extends zk{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}Wk.type="SESSION";const qk=Wk;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function i3(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mm{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new mm(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:s}=n.data,a=this.handlersMap[i];if(!a?.size)return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const c=Array.from(a).map(async f=>f(n.origin,s)),u=await i3(c);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:u})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}mm.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $w(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s3{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,a;return new Promise((c,u)=>{const f=$w("",20);i.port1.start();const h=setTimeout(()=>{u(new Error("unsupported_event"))},r);a={messageChannel:i,onMessage(g){const v=g;if(v.data.eventId===f)switch(v.data.status){case"ack":clearTimeout(h),s=setTimeout(()=>{u(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),c(v.data.response);break;default:clearTimeout(h),clearTimeout(s),u(new Error("invalid_response"));break}}},this.handlers.add(a),i.port1.addEventListener("message",a.onMessage),this.target.postMessage({eventType:e,eventId:f,data:n},[i.port2])}).finally(()=>{a&&this.removeMessageHandler(a)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ei(){return window}function o3(t){Ei().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gk(){return typeof Ei().WorkerGlobalScope<"u"&&typeof Ei().importScripts=="function"}async function a3(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function l3(){var t;return((t=navigator?.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function c3(){return Gk()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kk="firebaseLocalStorageDb",u3=1,bp="firebaseLocalStorage",Yk="fbase_key";class Bd{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function gm(t,e){return t.transaction([bp],e?"readwrite":"readonly").objectStore(bp)}function d3(){const t=indexedDB.deleteDatabase(Kk);return new Bd(t).toPromise()}function r0(){const t=indexedDB.open(Kk,u3);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(bp,{keyPath:Yk})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(bp)?e(r):(r.close(),await d3(),e(await r0()))})})}async function DE(t,e,n){const r=gm(t,!0).put({[Yk]:e,value:n});return new Bd(r).toPromise()}async function f3(t,e){const n=gm(t,!1).get(e),r=await new Bd(n).toPromise();return r===void 0?null:r.value}function LE(t,e){const n=gm(t,!0).delete(e);return new Bd(n).toPromise()}const h3=800,p3=3;class Xk{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await r0(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>p3)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Gk()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=mm._getInstance(c3()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await a3(),!this.activeServiceWorker)return;this.sender=new s3(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||l3()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await r0();return await DE(e,xp,"1"),await LE(e,xp),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>DE(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>f3(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>LE(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=gm(i,!1).getAll();return new Bd(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:s}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),h3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}Xk.type="LOCAL";const m3=Xk;new $d(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jk(t,e){return e?ts(e):(Re(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vw extends Lw{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Wl(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Wl(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Wl(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function g3(t){return $k(t.auth,new Vw(t),t.bypassAuthState)}function v3(t){const{auth:e,user:n}=t;return Re(n,e,"internal-error"),Kj(n,new Vw(t),t.bypassAuthState)}async function y3(t){const{auth:e,user:n}=t;return Re(n,e,"internal-error"),Gj(n,new Vw(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qk{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:a,type:c}=e;if(a){this.reject(a);return}const u={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(c)(u))}catch(f){this.reject(f)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return g3;case"linkViaPopup":case"linkViaRedirect":return y3;case"reauthViaPopup":case"reauthViaRedirect":return v3;default:Tr(this.auth,"internal-error")}}resolve(e){ds(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ds(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w3=new $d(2e3,1e4);async function _3(t,e,n){if(gn(t.app))return Promise.reject(Qr(t,"operation-not-supported-in-this-environment"));const r=Eo(t);ZL(t,e,Fw);const i=Jk(r,n);return new aa(r,"signInViaPopup",e,i).executeNotNull()}class aa extends Qk{constructor(e,n,r,i,s){super(e,n,i,s),this.provider=r,this.authWindow=null,this.pollId=null,aa.currentPopupAction&&aa.currentPopupAction.cancel(),aa.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Re(e,this.auth,"internal-error"),e}async onExecution(){ds(this.filter.length===1,"Popup operations only handle one event");const e=$w();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Qr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Qr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,aa.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Qr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,w3.get())};e()}}aa.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x3="pendingRedirect",Qh=new Map;class b3 extends Qk{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Qh.get(this.auth._key());if(!e){try{const r=await E3(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Qh.set(this.auth._key(),e)}return this.bypassAuthState||Qh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function E3(t,e){const n=T3(e),r=C3(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function S3(t,e){Qh.set(t._key(),e)}function C3(t){return ts(t._redirectPersistence)}function T3(t){return Jh(x3,t.config.apiKey,t.name)}async function k3(t,e,n=!1){if(gn(t.app))return Promise.reject(ss(t));const r=Eo(t),i=Jk(r,e),a=await new b3(r,i,n).execute();return a&&!n&&(delete a.user._redirectEventId,await r._persistUserIfCurrent(a.user),await r._setRedirectUser(null,e)),a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P3=10*60*1e3;class I3{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!R3(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!Zk(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(Qr(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=P3&&this.cachedEventUids.clear(),this.cachedEventUids.has(jE(e))}saveEventToCache(e){this.cachedEventUids.add(jE(e)),this.lastProcessedEventTime=Date.now()}}function jE(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function Zk({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function R3(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Zk(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function A3(t,e={}){return ws(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N3=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,O3=/^https?/;async function M3(t){if(t.config.emulator)return;const{authorizedDomains:e}=await A3(t);for(const n of e)try{if(D3(n))return}catch{}Tr(t,"unauthorized-domain")}function D3(t){const e=e0(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const a=new URL(t);return a.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&a.hostname===r}if(!O3.test(n))return!1;if(N3.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L3=new $d(3e4,6e4);function FE(){const t=Ei().___jsl;if(t?.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function j3(t){return new Promise((e,n)=>{var r,i,s;function a(){FE(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{FE(),n(Qr(t,"network-request-failed"))},timeout:L3.get()})}if(!((i=(r=Ei().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=Ei().gapi)===null||s===void 0)&&s.load)a();else{const c=Pj("iframefcb");return Ei()[c]=()=>{gapi.load?a():n(Qr(t,"network-request-failed"))},Mk(`${kj()}?onload=${c}`).catch(u=>n(u))}}).catch(e=>{throw Zh=null,e})}let Zh=null;function F3(t){return Zh=Zh||j3(t),Zh}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $3=new $d(5e3,15e3),V3="__/auth/iframe",U3="emulator/auth/iframe",B3={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},z3=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function H3(t){const e=t.config;Re(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?Ow(e,U3):`https://${t.config.authDomain}/${V3}`,r={apiKey:e.apiKey,appName:t.name,v:bo},i=z3.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${hc(r).slice(1)}`}async function W3(t){const e=await F3(t),n=Ei().gapi;return Re(n,t,"internal-error"),e.open({where:document.body,url:H3(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:B3,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const a=Qr(t,"network-request-failed"),c=Ei().setTimeout(()=>{s(a)},$3.get());function u(){Ei().clearTimeout(c),i(r)}r.ping(u).then(u,()=>{s(a)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q3={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},G3=500,K3=600,Y3="_blank",X3="http://localhost";class $E{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function J3(t,e,n,r=G3,i=K3){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),a=Math.max((window.screen.availWidth-r)/2,0).toString();let c="";const u=Object.assign(Object.assign({},q3),{width:r.toString(),height:i.toString(),top:s,left:a}),f=Rn().toLowerCase();n&&(c=kk(f)?Y3:n),Ck(f)&&(e=e||X3,u.scrollbars="yes");const h=Object.entries(u).reduce((v,[x,_])=>`${v}${x}=${_},`,"");if(yj(f)&&c!=="_self")return Q3(e||"",c),new $E(null);const g=window.open(e||"",c,h);Re(g,t,"popup-blocked");try{g.focus()}catch{}return new $E(g)}function Q3(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z3="__/auth/handler",e6="emulator/auth/handler",t6=encodeURIComponent("fac");async function VE(t,e,n,r,i,s){Re(t.config.authDomain,t,"auth-domain-config-required"),Re(t.config.apiKey,t,"invalid-api-key");const a={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:bo,eventId:i};if(e instanceof Fw){e.setDefaultLanguage(t.languageCode),a.providerId=e.providerId||"",qy(e.getCustomParameters())||(a.customParameters=JSON.stringify(e.getCustomParameters()));for(const[h,g]of Object.entries({}))a[h]=g}if(e instanceof Ud){const h=e.getScopes().filter(g=>g!=="");h.length>0&&(a.scopes=h.join(","))}t.tenantId&&(a.tid=t.tenantId);const c=a;for(const h of Object.keys(c))c[h]===void 0&&delete c[h];const u=await t._getAppCheckToken(),f=u?`#${t6}=${encodeURIComponent(u)}`:"";return`${n6(t)}?${hc(c).slice(1)}${f}`}function n6({config:t}){return t.emulator?Ow(t,e6):`https://${t.authDomain}/${Z3}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wv="webStorageSupport";class r6{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=qk,this._completeRedirectFn=k3,this._overrideRedirectResult=S3}async _openPopup(e,n,r,i){var s;ds((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const a=await VE(e,n,r,e0(),i);return J3(e,a,$w())}async _openRedirect(e,n,r,i){await this._originValidation(e);const s=await VE(e,n,r,e0(),i);return o3(s),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(ds(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await W3(e),r=new I3(e);return n.register("authEvent",i=>(Re(i?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Wv,{type:Wv},i=>{var s;const a=(s=i?.[0])===null||s===void 0?void 0:s[Wv];a!==void 0&&n(!!a),Tr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=M3(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return Nk()||Tk()||Dw()}}const i6=r6;var UE="@firebase/auth",BE="1.10.4";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s6{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Re(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function o6(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function a6(t){ar(new qn("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:a,authDomain:c}=r.options;Re(a&&!a.includes(":"),"invalid-api-key",{appName:r.name});const u={apiKey:a,authDomain:c,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Ok(t)},f=new Sj(r,i,s,u);return Mj(f,n),f},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),ar(new qn("auth-internal",e=>{const n=Eo(e.getProvider("auth").getImmediate());return(r=>new s6(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Jt(UE,BE,o6(t)),Jt(UE,BE,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l6=5*60,c6=F2("authIdTokenMaxAge")||l6;let zE=null;const u6=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>c6)return;const i=n?.token;zE!==i&&(zE=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function eP(t=Fd()){const e=xo(t,"auth");if(e.isInitialized())return e.getImmediate();const n=Oj(t,{popupRedirectResolver:i6,persistence:[m3,r3,qk]}),r=F2("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const s=new URL(r,location.origin);if(location.origin===s.origin){const a=u6(s.toString());Zj(n,a,()=>a(n.currentUser)),Qj(n,c=>a(c))}}const i=L2("auth");return i?Lk(n,`http://${i}`):_o("Auth",!1),n}function d6(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}Cj({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=Qr("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",d6().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});a6("Browser");var HE={};const WE="@firebase/database",qE="1.0.17";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let tP="";function f6(t){tP=t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h6{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,n){n==null?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),Ut(n))}get(e){const n=this.domStorage_.getItem(this.prefixedName_(e));return n==null?null:cd(n)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p6{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,n){n==null?delete this.cache_[e]:this.cache_[e]=n}get(e){return Ii(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nP=function(t){try{if(typeof window<"u"&&typeof window[t]<"u"){const e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new h6(e)}}catch{}return new p6},la=nP("localStorage"),m6=nP("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ql=new um("@firebase/database"),g6=function(){let t=1;return function(){return t++}}(),rP=function(t){const e=hD(t),n=new cD;n.update(e);const r=n.digest();return gw.encodeByteArray(r)},zd=function(...t){let e="";for(let n=0;n<t.length;n++){const r=t[n];Array.isArray(r)||r&&typeof r=="object"&&typeof r.length=="number"?e+=zd.apply(null,r):typeof r=="object"?e+=Ut(r):e+=r,e+=" "}return e};let Uu=null,GE=!0;const v6=function(t,e){fe(!0,"Can't turn on custom loggers persistently."),ql.logLevel=Ke.VERBOSE,Uu=ql.log.bind(ql)},an=function(...t){if(GE===!0&&(GE=!1,Uu===null&&m6.get("logging_enabled")===!0&&v6()),Uu){const e=zd.apply(null,t);Uu(e)}},Hd=function(t){return function(...e){an(t,...e)}},i0=function(...t){const e="FIREBASE INTERNAL ERROR: "+zd(...t);ql.error(e)},fs=function(...t){const e=`FIREBASE FATAL ERROR: ${zd(...t)}`;throw ql.error(e),new Error(e)},In=function(...t){const e="FIREBASE WARNING: "+zd(...t);ql.warn(e)},y6=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&In("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},Uw=function(t){return typeof t=="number"&&(t!==t||t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY)},w6=function(t){if(document.readyState==="complete")t();else{let e=!1;const n=function(){if(!document.body){setTimeout(n,Math.floor(10));return}e||(e=!0,t())};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&n()}),window.attachEvent("onload",n))}},Ql="[MIN_NAME]",xa="[MAX_NAME]",Na=function(t,e){if(t===e)return 0;if(t===Ql||e===xa)return-1;if(e===Ql||t===xa)return 1;{const n=KE(t),r=KE(e);return n!==null?r!==null?n-r===0?t.length-e.length:n-r:-1:r!==null?1:t<e?-1:1}},_6=function(t,e){return t===e?0:t<e?-1:1},_u=function(t,e){if(e&&t in e)return e[t];throw new Error("Missing required key ("+t+") in object: "+Ut(e))},Bw=function(t){if(typeof t!="object"||t===null)return Ut(t);const e=[];for(const r in t)e.push(r);e.sort();let n="{";for(let r=0;r<e.length;r++)r!==0&&(n+=","),n+=Ut(e[r]),n+=":",n+=Bw(t[e[r]]);return n+="}",n},iP=function(t,e){const n=t.length;if(n<=e)return[t];const r=[];for(let i=0;i<n;i+=e)i+e>n?r.push(t.substring(i,n)):r.push(t.substring(i,i+e));return r};function cn(t,e){for(const n in t)t.hasOwnProperty(n)&&e(n,t[n])}const sP=function(t){fe(!Uw(t),"Invalid JSON number");const e=11,n=52,r=(1<<e-1)-1;let i,s,a,c,u;t===0?(s=0,a=0,i=1/t===-1/0?1:0):(i=t<0,t=Math.abs(t),t>=Math.pow(2,1-r)?(c=Math.min(Math.floor(Math.log(t)/Math.LN2),r),s=c+r,a=Math.round(t*Math.pow(2,n-c)-Math.pow(2,n))):(s=0,a=Math.round(t/Math.pow(2,1-r-n))));const f=[];for(u=n;u;u-=1)f.push(a%2?1:0),a=Math.floor(a/2);for(u=e;u;u-=1)f.push(s%2?1:0),s=Math.floor(s/2);f.push(i?1:0),f.reverse();const h=f.join("");let g="";for(u=0;u<64;u+=8){let v=parseInt(h.substr(u,8),2).toString(16);v.length===1&&(v="0"+v),g=g+v}return g.toLowerCase()},x6=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},b6=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function E6(t,e){let n="Unknown Error";t==="too_big"?n="The data requested exceeds the maximum size that can be accessed with a single request.":t==="permission_denied"?n="Client doesn't have permission to access the desired data.":t==="unavailable"&&(n="The service is unavailable");const r=new Error(t+" at "+e._path.toString()+": "+n);return r.code=t.toUpperCase(),r}const S6=new RegExp("^-?(0*)\\d{1,10}$"),C6=-2147483648,T6=2147483647,KE=function(t){if(S6.test(t)){const e=Number(t);if(e>=C6&&e<=T6)return e}return null},mc=function(t){try{t()}catch(e){setTimeout(()=>{const n=e.stack||"";throw In("Exception was thrown by user callback.",n),e},Math.floor(0))}},k6=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},Bu=function(t,e){const n=setTimeout(t,e);return typeof n=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(n):typeof n=="object"&&n.unref&&n.unref(),n};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P6{constructor(e,n){this.appCheckProvider=n,this.appName=e.name,gn(e)&&e.settings.appCheckToken&&(this.serverAppAppCheckToken=e.settings.appCheckToken),this.appCheck=n?.getImmediate({optional:!0}),this.appCheck||n?.get().then(r=>this.appCheck=r)}getToken(e){if(this.serverAppAppCheckToken){if(e)throw new Error("Attempted reuse of `FirebaseServerApp.appCheckToken` after previous usage failed.");return Promise.resolve({token:this.serverAppAppCheckToken})}return this.appCheck?this.appCheck.getToken(e):new Promise((n,r)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){var n;(n=this.appCheckProvider)===null||n===void 0||n.get().then(r=>r.addTokenListener(e))}notifyForInvalidToken(){In(`Provided AppCheck credentials for the app named "${this.appName}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I6{constructor(e,n,r){this.appName_=e,this.firebaseOptions_=n,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit(i=>this.auth_=i)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(n=>n&&n.code==="auth/token-not-initialized"?(an("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(n)):new Promise((n,r)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(n=>n.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(n=>n.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',In(e)}}class ep{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}ep.OWNER="owner";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zw="5",oP="v",aP="s",lP="r",cP="f",uP=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,dP="ls",fP="p",s0="ac",hP="websocket",pP="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mP{constructor(e,n,r,i,s=!1,a="",c=!1,u=!1,f=null){this.secure=n,this.namespace=r,this.webSocketOnly=i,this.nodeAdmin=s,this.persistenceKey=a,this.includeNamespaceInQueryParams=c,this.isUsingEmulator=u,this.emulatorOptions=f,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=la.get("host:"+e)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&la.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){const e=this.secure?"https://":"http://",n=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${e}${this.host}/${n}`}}function R6(t){return t.host!==t.internalHost||t.isCustomHost()||t.includeNamespaceInQueryParams}function gP(t,e,n){fe(typeof e=="string","typeof type must == string"),fe(typeof n=="object","typeof params must == object");let r;if(e===hP)r=(t.secure?"wss://":"ws://")+t.internalHost+"/.ws?";else if(e===pP)r=(t.secure?"https://":"http://")+t.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+e);R6(t)&&(n.ns=t.namespace);const i=[];return cn(n,(s,a)=>{i.push(s+"="+a)}),r+i.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A6{constructor(){this.counters_={}}incrementCounter(e,n=1){Ii(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=n}get(){return WM(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qv={},Gv={};function Hw(t){const e=t.toString();return qv[e]||(qv[e]=new A6),qv[e]}function N6(t,e){const n=t.toString();return Gv[n]||(Gv[n]=e()),Gv[n]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O6{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,n){this.closeAfterResponse=e,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,n){for(this.pendingResponses[e]=n;this.pendingResponses[this.currentResponseNum];){const r=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let i=0;i<r.length;++i)r[i]&&mc(()=>{this.onMessage_(r[i])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YE="start",M6="close",D6="pLPCommand",L6="pRTLPCB",vP="id",yP="pw",wP="ser",j6="cb",F6="seg",$6="ts",V6="d",U6="dframe",_P=1870,xP=30,B6=_P-xP,z6=25e3,H6=3e4;class Ll{constructor(e,n,r,i,s,a,c){this.connId=e,this.repoInfo=n,this.applicationId=r,this.appCheckToken=i,this.authToken=s,this.transportSessionId=a,this.lastSessionId=c,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Hd(e),this.stats_=Hw(n),this.urlFn=u=>(this.appCheckToken&&(u[s0]=this.appCheckToken),gP(n,pP,u))}open(e,n){this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new O6(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(H6)),w6(()=>{if(this.isClosed_)return;this.scriptTagHolder=new Ww((...s)=>{const[a,c,u,f,h]=s;if(this.incrementIncomingBytes_(s),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,a===YE)this.id=c,this.password=u;else if(a===M6)c?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(c,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+a)},(...s)=>{const[a,c]=s;this.incrementIncomingBytes_(s),this.myPacketOrderer.handleResponse(a,c)},()=>{this.onClosed_()},this.urlFn);const r={};r[YE]="t",r[wP]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(r[j6]=this.scriptTagHolder.uniqueCallbackIdentifier),r[oP]=zw,this.transportSessionId&&(r[aP]=this.transportSessionId),this.lastSessionId&&(r[dP]=this.lastSessionId),this.applicationId&&(r[fP]=this.applicationId),this.appCheckToken&&(r[s0]=this.appCheckToken),typeof location<"u"&&location.hostname&&uP.test(location.hostname)&&(r[lP]=cP);const i=this.urlFn(r);this.log_("Connecting via long-poll to "+i),this.scriptTagHolder.addTag(i,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){Ll.forceAllow_=!0}static forceDisallow(){Ll.forceDisallow_=!0}static isAvailable(){return Ll.forceAllow_?!0:!Ll.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!x6()&&!b6()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const n=Ut(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=M2(n),i=iP(r,B6);for(let s=0;s<i.length;s++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,i.length,i[s]),this.curSegmentNum++}addDisconnectPingFrame(e,n){this.myDisconnFrame=document.createElement("iframe");const r={};r[U6]="t",r[vP]=e,r[yP]=n,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const n=Ut(e).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)}}class Ww{constructor(e,n,r,i){this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=g6(),window[D6+this.uniqueCallbackIdentifier]=e,window[L6+this.uniqueCallbackIdentifier]=n,this.myIFrame=Ww.createIFrame_();let s="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(s='<script>document.domain="'+document.domain+'";<\/script>');const a="<html><body>"+s+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(a),this.myIFrame.doc.close()}catch(c){an("frame writing exception"),c.stack&&an(c.stack),an(c)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",document.body){document.body.appendChild(e);try{e.contentWindow.document||an("No IE domain setting required")}catch{const r=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,n){for(this.myID=e,this.myPW=n,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e[vP]=this.myID,e[yP]=this.myPW,e[wP]=this.currentSerial;let n=this.urlFn(e),r="",i=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+xP+r.length<=_P;){const a=this.pendingSegs.shift();r=r+"&"+F6+i+"="+a.seg+"&"+$6+i+"="+a.ts+"&"+V6+i+"="+a.d,i++}return n=n+r,this.addLongPollTag_(n,this.currentSerial),!0}else return!1}enqueueSegment(e,n,r){this.pendingSegs.push({seg:e,ts:n,d:r}),this.alive&&this.newRequest_()}addLongPollTag_(e,n){this.outstandingRequests.add(n);const r=()=>{this.outstandingRequests.delete(n),this.newRequest_()},i=setTimeout(r,Math.floor(z6)),s=()=>{clearTimeout(i),r()};this.addTag(e,s)}addTag(e,n){setTimeout(()=>{try{if(!this.sendNewPolls)return;const r=this.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=e,r.onload=r.onreadystatechange=function(){const i=r.readyState;(!i||i==="loaded"||i==="complete")&&(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),n())},r.onerror=()=>{an("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(r)}catch{}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W6=16384,q6=45e3;let Ep=null;typeof MozWebSocket<"u"?Ep=MozWebSocket:typeof WebSocket<"u"&&(Ep=WebSocket);class Gr{constructor(e,n,r,i,s,a,c){this.connId=e,this.applicationId=r,this.appCheckToken=i,this.authToken=s,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Hd(this.connId),this.stats_=Hw(n),this.connURL=Gr.connectionURL_(n,a,c,i,r),this.nodeAdmin=n.nodeAdmin}static connectionURL_(e,n,r,i,s){const a={};return a[oP]=zw,typeof location<"u"&&location.hostname&&uP.test(location.hostname)&&(a[lP]=cP),n&&(a[aP]=n),r&&(a[dP]=r),i&&(a[s0]=i),s&&(a[fP]=s),gP(e,hP,a)}open(e,n){this.onDisconnect=n,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,la.set("previous_websocket_failure",!0);try{let r;nD(),this.mySock=new Ep(this.connURL,[],r)}catch(r){this.log_("Error instantiating WebSocket.");const i=r.message||r.data;i&&this.log_(i),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=r=>{this.handleIncomingFrame(r)},this.mySock.onerror=r=>{this.log_("WebSocket error.  Closing connection.");const i=r.message||r.data;i&&this.log_(i),this.onClosed_()}}start(){}static forceDisallow(){Gr.forceDisallow_=!0}static isAvailable(){let e=!1;if(typeof navigator<"u"&&navigator.userAgent){const n=/Android ([0-9]{0,}\.[0-9]{0,})/,r=navigator.userAgent.match(n);r&&r.length>1&&parseFloat(r[1])<4.4&&(e=!0)}return!e&&Ep!==null&&!Gr.forceDisallow_}static previouslyFailed(){return la.isInMemoryStorage||la.get("previous_websocket_failure")===!0}markConnectionHealthy(){la.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const n=this.frames.join("");this.frames=null;const r=cd(n);this.onMessage(r)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if(fe(this.frames===null,"We already have a frame buffer"),e.length<=6){const n=Number(e);if(!isNaN(n))return this.handleNewFrameCount_(n),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(this.mySock===null)return;const n=e.data;if(this.bytesReceived+=n.length,this.stats_.incrementCounter("bytes_received",n.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(n);else{const r=this.extractFrameCount_(n);r!==null&&this.appendFrame_(r)}}send(e){this.resetKeepAlive();const n=Ut(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=iP(n,W6);r.length>1&&this.sendString_(String(r.length));for(let i=0;i<r.length;i++)this.sendString_(r[i])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(q6))}sendString_(e){try{this.mySock.send(e)}catch(n){this.log_("Exception thrown from WebSocket.send():",n.message||n.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}Gr.responsesRequiredToBeHealthy=2;Gr.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class md{static get ALL_TRANSPORTS(){return[Ll,Gr]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}constructor(e){this.initTransports_(e)}initTransports_(e){const n=Gr&&Gr.isAvailable();let r=n&&!Gr.previouslyFailed();if(e.webSocketOnly&&(n||In("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[Gr];else{const i=this.transports_=[];for(const s of md.ALL_TRANSPORTS)s&&s.isAvailable()&&i.push(s);md.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}md.globalTransportInitialized_=!1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G6=6e4,K6=5e3,Y6=10*1024,X6=100*1024,Kv="t",XE="d",J6="s",JE="r",Q6="e",QE="o",ZE="a",eS="n",tS="p",Z6="h";class eF{constructor(e,n,r,i,s,a,c,u,f,h){this.id=e,this.repoInfo_=n,this.applicationId_=r,this.appCheckToken_=i,this.authToken_=s,this.onMessage_=a,this.onReady_=c,this.onDisconnect_=u,this.onKill_=f,this.lastSessionId=h,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Hd("c:"+this.id+":"),this.transportManager_=new md(n),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(n,r)},Math.floor(0));const i=e.healthyTimeout||0;i>0&&(this.healthyTimeout_=Bu(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>X6?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>Y6?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(i)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return n=>{e===this.conn_?this.onConnectionLost_(n):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return n=>{this.state_!==2&&(e===this.rx_?this.onPrimaryMessageReceived_(n):e===this.secondaryConn_?this.onSecondaryMessageReceived_(n):this.log_("message on old connection"))}}sendRequest(e){const n={t:"d",d:e};this.sendData_(n)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if(Kv in e){const n=e[Kv];n===ZE?this.upgradeIfSecondaryHealthy_():n===JE?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):n===QE&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const n=_u("t",e),r=_u("d",e);if(n==="c")this.onSecondaryControl_(r);else if(n==="d")this.pendingDataMessages.push(r);else throw new Error("Unknown protocol layer: "+n)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:tS,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:ZE,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:eS,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const n=_u("t",e),r=_u("d",e);n==="c"?this.onControl_(r):n==="d"&&this.onDataMessage_(r)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const n=_u(Kv,e);if(XE in e){const r=e[XE];if(n===Z6){const i=Object.assign({},r);this.repoInfo_.isUsingEmulator&&(i.h=this.repoInfo_.host),this.onHandshake_(i)}else if(n===eS){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let i=0;i<this.pendingDataMessages.length;++i)this.onDataMessage_(this.pendingDataMessages[i]);this.pendingDataMessages=[],this.tryCleanupConnection()}else n===J6?this.onConnectionShutdown_(r):n===JE?this.onReset_(r):n===Q6?i0("Server Error: "+r):n===QE?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):i0("Unknown control packet command: "+n)}}onHandshake_(e){const n=e.ts,r=e.v,i=e.h;this.sessionId=e.s,this.repoInfo_.host=i,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),zw!==r&&In("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),Bu(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(G6))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,n){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Bu(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(K6))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:tS,d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,!e&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(la.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(e)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bP{put(e,n,r,i){}merge(e,n,r,i){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,n,r){}onDisconnectMerge(e,n,r){}onDisconnectCancel(e,n){}reportStats(e){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EP{constructor(e){this.allowedEvents_=e,this.listeners_={},fe(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...n){if(Array.isArray(this.listeners_[e])){const r=[...this.listeners_[e]];for(let i=0;i<r.length;i++)r[i].callback.apply(r[i].context,n)}}on(e,n,r){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:n,context:r});const i=this.getInitialEvent(e);i&&n.apply(r,i)}off(e,n,r){this.validateEventType_(e);const i=this.listeners_[e]||[];for(let s=0;s<i.length;s++)if(i[s].callback===n&&(!r||r===i[s].context)){i.splice(s,1);return}}validateEventType_(e){fe(this.allowedEvents_.find(n=>n===e),"Unknown event: "+e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sp extends EP{static getInstance(){return new Sp}constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!_w()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}getInitialEvent(e){return fe(e==="online","Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nS=32,rS=768;class Je{constructor(e,n){if(n===void 0){this.pieces_=e.split("/");let r=0;for(let i=0;i<this.pieces_.length;i++)this.pieces_[i].length>0&&(this.pieces_[r]=this.pieces_[i],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=n}toString(){let e="";for(let n=this.pieceNum_;n<this.pieces_.length;n++)this.pieces_[n]!==""&&(e+="/"+this.pieces_[n]);return e||"/"}}function We(){return new Je("")}function De(t){return t.pieceNum_>=t.pieces_.length?null:t.pieces_[t.pieceNum_]}function ho(t){return t.pieces_.length-t.pieceNum_}function st(t){let e=t.pieceNum_;return e<t.pieces_.length&&e++,new Je(t.pieces_,e)}function qw(t){return t.pieceNum_<t.pieces_.length?t.pieces_[t.pieces_.length-1]:null}function tF(t){let e="";for(let n=t.pieceNum_;n<t.pieces_.length;n++)t.pieces_[n]!==""&&(e+="/"+encodeURIComponent(String(t.pieces_[n])));return e||"/"}function gd(t,e=0){return t.pieces_.slice(t.pieceNum_+e)}function SP(t){if(t.pieceNum_>=t.pieces_.length)return null;const e=[];for(let n=t.pieceNum_;n<t.pieces_.length-1;n++)e.push(t.pieces_[n]);return new Je(e,0)}function St(t,e){const n=[];for(let r=t.pieceNum_;r<t.pieces_.length;r++)n.push(t.pieces_[r]);if(e instanceof Je)for(let r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);else{const r=e.split("/");for(let i=0;i<r.length;i++)r[i].length>0&&n.push(r[i])}return new Je(n,0)}function je(t){return t.pieceNum_>=t.pieces_.length}function kn(t,e){const n=De(t),r=De(e);if(n===null)return e;if(n===r)return kn(st(t),st(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+t+")")}function nF(t,e){const n=gd(t,0),r=gd(e,0);for(let i=0;i<n.length&&i<r.length;i++){const s=Na(n[i],r[i]);if(s!==0)return s}return n.length===r.length?0:n.length<r.length?-1:1}function Gw(t,e){if(ho(t)!==ho(e))return!1;for(let n=t.pieceNum_,r=e.pieceNum_;n<=t.pieces_.length;n++,r++)if(t.pieces_[n]!==e.pieces_[r])return!1;return!0}function Er(t,e){let n=t.pieceNum_,r=e.pieceNum_;if(ho(t)>ho(e))return!1;for(;n<t.pieces_.length;){if(t.pieces_[n]!==e.pieces_[r])return!1;++n,++r}return!0}class rF{constructor(e,n){this.errorPrefix_=n,this.parts_=gd(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let r=0;r<this.parts_.length;r++)this.byteLength_+=cm(this.parts_[r]);CP(this)}}function iF(t,e){t.parts_.length>0&&(t.byteLength_+=1),t.parts_.push(e),t.byteLength_+=cm(e),CP(t)}function sF(t){const e=t.parts_.pop();t.byteLength_-=cm(e),t.parts_.length>0&&(t.byteLength_-=1)}function CP(t){if(t.byteLength_>rS)throw new Error(t.errorPrefix_+"has a key path longer than "+rS+" bytes ("+t.byteLength_+").");if(t.parts_.length>nS)throw new Error(t.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+nS+") or object contains a cycle "+ea(t))}function ea(t){return t.parts_.length===0?"":"in property '"+t.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kw extends EP{static getInstance(){return new Kw}constructor(){super(["visible"]);let e,n;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(n="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(n="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(n="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(n="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,n&&document.addEventListener(n,()=>{const r=!document[e];r!==this.visible_&&(this.visible_=r,this.trigger("visible",r))},!1)}getInitialEvent(e){return fe(e==="visible","Unknown event type: "+e),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xu=1e3,oF=60*5*1e3,iS=30*1e3,aF=1.3,lF=3e4,cF="server_kill",sS=3;class os extends bP{constructor(e,n,r,i,s,a,c,u){if(super(),this.repoInfo_=e,this.applicationId_=n,this.onDataUpdate_=r,this.onConnectStatus_=i,this.onServerInfoUpdate_=s,this.authTokenProvider_=a,this.appCheckTokenProvider_=c,this.authOverride_=u,this.id=os.nextPersistentConnectionId_++,this.log_=Hd("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=xu,this.maxReconnectDelay_=oF,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,u)throw new Error("Auth override specified in options, but not supported on non Node.js platforms");Kw.getInstance().on("visible",this.onVisible_,this),e.host.indexOf("fblocal")===-1&&Sp.getInstance().on("online",this.onOnline_,this)}sendRequest(e,n,r){const i=++this.requestNumber_,s={r:i,a:e,b:n};this.log_(Ut(s)),fe(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(s),r&&(this.requestCBHash_[i]=r)}get(e){this.initConnection_();const n=new jd,i={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:a=>{const c=a.d;a.s==="ok"?n.resolve(c):n.reject(c)}};this.outstandingGets_.push(i),this.outstandingGetCount_++;const s=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(s),n.promise}listen(e,n,r,i){this.initConnection_();const s=e._queryIdentifier,a=e._path.toString();this.log_("Listen called for "+a+" "+s),this.listens.has(a)||this.listens.set(a,new Map),fe(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),fe(!this.listens.get(a).has(s),"listen() called twice for same path/queryId.");const c={onComplete:i,hashFn:n,query:e,tag:r};this.listens.get(a).set(s,c),this.connected_&&this.sendListen_(c)}sendGet_(e){const n=this.outstandingGets_[e];this.sendRequest("g",n.request,r=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),n.onComplete&&n.onComplete(r)})}sendListen_(e){const n=e.query,r=n._path.toString(),i=n._queryIdentifier;this.log_("Listen on "+r+" for "+i);const s={p:r},a="q";e.tag&&(s.q=n._queryObject,s.t=e.tag),s.h=e.hashFn(),this.sendRequest(a,s,c=>{const u=c.d,f=c.s;os.warnOnListenWarnings_(u,n),(this.listens.get(r)&&this.listens.get(r).get(i))===e&&(this.log_("listen response",c),f!=="ok"&&this.removeListen_(r,i),e.onComplete&&e.onComplete(f,u))})}static warnOnListenWarnings_(e,n){if(e&&typeof e=="object"&&Ii(e,"w")){const r=Jl(e,"w");if(Array.isArray(r)&&~r.indexOf("no_index")){const i='".indexOn": "'+n._queryParams.getIndex().toString()+'"',s=n._path.toString();In(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${i} at ${s} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&e.length===40||lD(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=iS)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,n=aD(e)?"auth":"gauth",r={cred:e};this.authOverride_===null?r.noauth=!0:typeof this.authOverride_=="object"&&(r.authvar=this.authOverride_),this.sendRequest(n,r,i=>{const s=i.s,a=i.d||"error";this.authToken_===e&&(s==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(s,a))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const n=e.s,r=e.d||"error";n==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(n,r)})}unlisten(e,n){const r=e._path.toString(),i=e._queryIdentifier;this.log_("Unlisten called for "+r+" "+i),fe(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(r,i)&&this.connected_&&this.sendUnlisten_(r,i,e._queryObject,n)}sendUnlisten_(e,n,r,i){this.log_("Unlisten on "+e+" for "+n);const s={p:e},a="n";i&&(s.q=r,s.t=i),this.sendRequest(a,s)}onDisconnectPut(e,n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,n,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:n,onComplete:r})}onDisconnectMerge(e,n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,n,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:n,onComplete:r})}onDisconnectCancel(e,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:n})}sendOnDisconnect_(e,n,r,i){const s={p:n,d:r};this.log_("onDisconnect "+e,s),this.sendRequest(e,s,a=>{i&&setTimeout(()=>{i(a.s,a.d)},Math.floor(0))})}put(e,n,r,i){this.putInternal("p",e,n,r,i)}merge(e,n,r,i){this.putInternal("m",e,n,r,i)}putInternal(e,n,r,i,s){this.initConnection_();const a={p:n,d:r};s!==void 0&&(a.h=s),this.outstandingPuts_.push({action:e,request:a,onComplete:i}),this.outstandingPutCount_++;const c=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(c):this.log_("Buffering put: "+n)}sendPut_(e){const n=this.outstandingPuts_[e].action,r=this.outstandingPuts_[e].request,i=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(n,r,s=>{this.log_(n+" response",s),delete this.outstandingPuts_[e],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),i&&i(s.s,s.d)})}reportStats(e){if(this.connected_){const n={c:e};this.log_("reportStats",n),this.sendRequest("s",n,r=>{if(r.s!=="ok"){const s=r.d;this.log_("reportStats","Error sending stats: "+s)}})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+Ut(e));const n=e.r,r=this.requestCBHash_[n];r&&(delete this.requestCBHash_[n],r(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,n){this.log_("handleServerMessage",e,n),e==="d"?this.onDataUpdate_(n.p,n.d,!1,n.t):e==="m"?this.onDataUpdate_(n.p,n.d,!0,n.t):e==="c"?this.onListenRevoked_(n.p,n.q):e==="ac"?this.onAuthRevoked_(n.s,n.d):e==="apc"?this.onAppCheckRevoked_(n.s,n.d):e==="sd"?this.onSecurityDebugPacket_(n):i0("Unrecognized action received from server: "+Ut(e)+`
Are you using the latest client?`)}onReady_(e,n){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(e),this.lastSessionId=n,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){fe(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=xu,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=xu,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>lF&&(this.reconnectDelay_=xu),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const e=Math.max(0,new Date().getTime()-this.lastConnectionAttemptTime_);let n=Math.max(0,this.reconnectDelay_-e);n=Math.random()*n,this.log_("Trying to reconnect in "+n+"ms"),this.scheduleConnect_(n),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*aF)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const e=this.onDataMessage_.bind(this),n=this.onReady_.bind(this),r=this.onRealtimeDisconnect_.bind(this),i=this.id+":"+os.nextConnectionId_++,s=this.lastSessionId;let a=!1,c=null;const u=function(){c?c.close():(a=!0,r())},f=function(g){fe(c,"sendRequest call when we're not connected not allowed."),c.sendRequest(g)};this.realtime_={close:u,sendRequest:f};const h=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[g,v]=await Promise.all([this.authTokenProvider_.getToken(h),this.appCheckTokenProvider_.getToken(h)]);a?an("getToken() completed but was canceled"):(an("getToken() completed. Creating connection."),this.authToken_=g&&g.accessToken,this.appCheckToken_=v&&v.token,c=new eF(i,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,n,r,x=>{In(x+" ("+this.repoInfo_.toString()+")"),this.interrupt(cF)},s))}catch(g){this.log_("Failed to get token: "+g),a||(this.repoInfo_.nodeAdmin&&In(g),u())}}}interrupt(e){an("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){an("Resuming connection for reason: "+e),delete this.interruptReasons_[e],qy(this.interruptReasons_)&&(this.reconnectDelay_=xu,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const n=e-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:n})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const n=this.outstandingPuts_[e];n&&"h"in n.request&&n.queued&&(n.onComplete&&n.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(e,n){let r;n?r=n.map(s=>Bw(s)).join("$"):r="default";const i=this.removeListen_(e,r);i&&i.onComplete&&i.onComplete("permission_denied")}removeListen_(e,n){const r=new Je(e).toString();let i;if(this.listens.has(r)){const s=this.listens.get(r);i=s.get(n),s.delete(n),s.size===0&&this.listens.delete(r)}else i=void 0;return i}onAuthRevoked_(e,n){an("Auth token revoked: "+e+"/"+n),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(e==="invalid_token"||e==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=sS&&(this.reconnectDelay_=iS,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,n){an("App check token revoked: "+e+"/"+n),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(e==="invalid_token"||e==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=sS&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const n of e.values())this.sendListen_(n);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let n="js";e["sdk."+n+"."+tP.replace(/\./g,"-")]=1,_w()?e["framework.cordova"]=1:$2()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=Sp.getInstance().currentlyOnline();return qy(this.interruptReasons_)&&e}}os.nextPersistentConnectionId_=0;os.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Le{constructor(e,n){this.name=e,this.node=n}static Wrap(e,n){return new Le(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vm{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,n){const r=new Le(Ql,e),i=new Le(Ql,n);return this.compare(r,i)!==0}minPost(){return Le.MIN}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ih;class TP extends vm{static get __EMPTY_NODE(){return Ih}static set __EMPTY_NODE(e){Ih=e}compare(e,n){return Na(e.name,n.name)}isDefinedOn(e){throw fc("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,n){return!1}minPost(){return Le.MIN}maxPost(){return new Le(xa,Ih)}makePost(e,n){return fe(typeof e=="string","KeyIndex indexValue must always be a string."),new Le(e,Ih)}toString(){return".key"}}const Gl=new TP;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rh{constructor(e,n,r,i,s=null){this.isReverse_=i,this.resultGenerator_=s,this.nodeStack_=[];let a=1;for(;!e.isEmpty();)if(e=e,a=n?r(e.key,n):1,i&&(a*=-1),a<0)this.isReverse_?e=e.left:e=e.right;else if(a===0){this.nodeStack_.push(e);break}else this.nodeStack_.push(e),this.isReverse_?e=e.right:e=e.left}getNext(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_.pop(),n;if(this.resultGenerator_?n=this.resultGenerator_(e.key,e.value):n={key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return n}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}class Xt{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??Xt.RED,this.left=i??Hn.EMPTY_NODE,this.right=s??Hn.EMPTY_NODE}copy(e,n,r,i,s){return new Xt(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return s<0?i=i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i=i.copy(null,n,null,null,null):i=i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp_()}removeMin_(){if(this.left.isEmpty())return Hn.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,n){let r,i;if(r=this,n(e,r.key)<0)!r.left.isEmpty()&&!r.left.isRed_()&&!r.left.left.isRed_()&&(r=r.moveRedLeft_()),r=r.copy(null,null,null,r.left.remove(e,n),null);else{if(r.left.isRed_()&&(r=r.rotateRight_()),!r.right.isEmpty()&&!r.right.isRed_()&&!r.right.left.isRed_()&&(r=r.moveRedRight_()),n(e,r.key)===0){if(r.right.isEmpty())return Hn.EMPTY_NODE;i=r.right.min_(),r=r.copy(i.key,i.value,null,null,r.right.removeMin_())}r=r.copy(null,null,null,null,r.right.remove(e,n))}return r.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,Xt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,Xt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}Xt.RED=!0;Xt.BLACK=!1;class uF{copy(e,n,r,i,s){return this}insert(e,n,r){return new Xt(e,n,null)}remove(e,n){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class Hn{constructor(e,n=Hn.EMPTY_NODE){this.comparator_=e,this.root_=n}insert(e,n){return new Hn(this.comparator_,this.root_.insert(e,n,this.comparator_).copy(null,null,Xt.BLACK,null,null))}remove(e){return new Hn(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,Xt.BLACK,null,null))}get(e){let n,r=this.root_;for(;!r.isEmpty();){if(n=this.comparator_(e,r.key),n===0)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}getPredecessorKey(e){let n,r=this.root_,i=null;for(;!r.isEmpty();)if(n=this.comparator_(e,r.key),n===0){if(r.left.isEmpty())return i?i.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}else n<0?r=r.left:n>0&&(i=r,r=r.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new Rh(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,n){return new Rh(this.root_,e,this.comparator_,!1,n)}getReverseIteratorFrom(e,n){return new Rh(this.root_,e,this.comparator_,!0,n)}getReverseIterator(e){return new Rh(this.root_,null,this.comparator_,!0,e)}}Hn.EMPTY_NODE=new uF;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dF(t,e){return Na(t.name,e.name)}function Yw(t,e){return Na(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let o0;function fF(t){o0=t}const kP=function(t){return typeof t=="number"?"number:"+sP(t):"string:"+t},PP=function(t){if(t.isLeafNode()){const e=t.val();fe(typeof e=="string"||typeof e=="number"||typeof e=="object"&&Ii(e,".sv"),"Priority must be a string or number.")}else fe(t===o0||t.isEmpty(),"priority of unexpected type.");fe(t===o0||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let oS;class Kt{static set __childrenNodeConstructor(e){oS=e}static get __childrenNodeConstructor(){return oS}constructor(e,n=Kt.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=n,this.lazyHash_=null,fe(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),PP(this.priorityNode_)}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new Kt(this.value_,e)}getImmediateChild(e){return e===".priority"?this.priorityNode_:Kt.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return je(e)?this:De(e)===".priority"?this.priorityNode_:Kt.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,n){return null}updateImmediateChild(e,n){return e===".priority"?this.updatePriority(n):n.isEmpty()&&e!==".priority"?this:Kt.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,n).updatePriority(this.priorityNode_)}updateChild(e,n){const r=De(e);return r===null?n:n.isEmpty()&&r!==".priority"?this:(fe(r!==".priority"||ho(e)===1,".priority must be the last token in a path"),this.updateImmediateChild(r,Kt.__childrenNodeConstructor.EMPTY_NODE.updateChild(st(e),n)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,n){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+kP(this.priorityNode_.val())+":");const n=typeof this.value_;e+=n+":",n==="number"?e+=sP(this.value_):e+=this.value_,this.lazyHash_=rP(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===Kt.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof Kt.__childrenNodeConstructor?-1:(fe(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const n=typeof e.value_,r=typeof this.value_,i=Kt.VALUE_TYPE_ORDER.indexOf(n),s=Kt.VALUE_TYPE_ORDER.indexOf(r);return fe(i>=0,"Unknown leaf type: "+n),fe(s>=0,"Unknown leaf type: "+r),i===s?r==="object"?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:s-i}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const n=e;return this.value_===n.value_&&this.priorityNode_.equals(n.priorityNode_)}else return!1}}Kt.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let IP,RP;function hF(t){IP=t}function pF(t){RP=t}class mF extends vm{compare(e,n){const r=e.node.getPriority(),i=n.node.getPriority(),s=r.compareTo(i);return s===0?Na(e.name,n.name):s}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,n){return!e.getPriority().equals(n.getPriority())}minPost(){return Le.MIN}maxPost(){return new Le(xa,new Kt("[PRIORITY-POST]",RP))}makePost(e,n){const r=IP(e);return new Le(n,new Kt("[PRIORITY-POST]",r))}toString(){return".priority"}}const Tt=new mF;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gF=Math.log(2);class vF{constructor(e){const n=s=>parseInt(Math.log(s)/gF,10),r=s=>parseInt(Array(s+1).join("1"),2);this.count=n(e+1),this.current_=this.count-1;const i=r(this.count);this.bits_=e+1&i}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const Cp=function(t,e,n,r){t.sort(e);const i=function(u,f){const h=f-u;let g,v;if(h===0)return null;if(h===1)return g=t[u],v=n?n(g):g,new Xt(v,g.node,Xt.BLACK,null,null);{const x=parseInt(h/2,10)+u,_=i(u,x),T=i(x+1,f);return g=t[x],v=n?n(g):g,new Xt(v,g.node,Xt.BLACK,_,T)}},s=function(u){let f=null,h=null,g=t.length;const v=function(_,T){const N=g-_,A=g;g-=_;const k=i(N+1,A),P=t[N],j=n?n(P):P;x(new Xt(j,P.node,T,null,k))},x=function(_){f?(f.left=_,f=_):(h=_,f=_)};for(let _=0;_<u.count;++_){const T=u.nextBitIsOne(),N=Math.pow(2,u.count-(_+1));T?v(N,Xt.BLACK):(v(N,Xt.BLACK),v(N,Xt.RED))}return h},a=new vF(t.length),c=s(a);return new Hn(r||e,c)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Yv;const Tl={};class ns{static get Default(){return fe(Tl&&Tt,"ChildrenNode.ts has not been loaded"),Yv=Yv||new ns({".priority":Tl},{".priority":Tt}),Yv}constructor(e,n){this.indexes_=e,this.indexSet_=n}get(e){const n=Jl(this.indexes_,e);if(!n)throw new Error("No index defined for "+e);return n instanceof Hn?n:null}hasIndex(e){return Ii(this.indexSet_,e.toString())}addIndex(e,n){fe(e!==Gl,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const r=[];let i=!1;const s=n.getIterator(Le.Wrap);let a=s.getNext();for(;a;)i=i||e.isDefinedOn(a.node),r.push(a),a=s.getNext();let c;i?c=Cp(r,e.getCompare()):c=Tl;const u=e.toString(),f=Object.assign({},this.indexSet_);f[u]=e;const h=Object.assign({},this.indexes_);return h[u]=c,new ns(h,f)}addToIndexes(e,n){const r=pp(this.indexes_,(i,s)=>{const a=Jl(this.indexSet_,s);if(fe(a,"Missing index implementation for "+s),i===Tl)if(a.isDefinedOn(e.node)){const c=[],u=n.getIterator(Le.Wrap);let f=u.getNext();for(;f;)f.name!==e.name&&c.push(f),f=u.getNext();return c.push(e),Cp(c,a.getCompare())}else return Tl;else{const c=n.get(e.name);let u=i;return c&&(u=u.remove(new Le(e.name,c))),u.insert(e,e.node)}});return new ns(r,this.indexSet_)}removeFromIndexes(e,n){const r=pp(this.indexes_,i=>{if(i===Tl)return i;{const s=n.get(e.name);return s?i.remove(new Le(e.name,s)):i}});return new ns(r,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let bu;class Ae{static get EMPTY_NODE(){return bu||(bu=new Ae(new Hn(Yw),null,ns.Default))}constructor(e,n,r){this.children_=e,this.priorityNode_=n,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&PP(this.priorityNode_),this.children_.isEmpty()&&fe(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}isLeafNode(){return!1}getPriority(){return this.priorityNode_||bu}updatePriority(e){return this.children_.isEmpty()?this:new Ae(this.children_,e,this.indexMap_)}getImmediateChild(e){if(e===".priority")return this.getPriority();{const n=this.children_.get(e);return n===null?bu:n}}getChild(e){const n=De(e);return n===null?this:this.getImmediateChild(n).getChild(st(e))}hasChild(e){return this.children_.get(e)!==null}updateImmediateChild(e,n){if(fe(n,"We should always be passing snapshot nodes"),e===".priority")return this.updatePriority(n);{const r=new Le(e,n);let i,s;n.isEmpty()?(i=this.children_.remove(e),s=this.indexMap_.removeFromIndexes(r,this.children_)):(i=this.children_.insert(e,n),s=this.indexMap_.addToIndexes(r,this.children_));const a=i.isEmpty()?bu:this.priorityNode_;return new Ae(i,a,s)}}updateChild(e,n){const r=De(e);if(r===null)return n;{fe(De(e)!==".priority"||ho(e)===1,".priority must be the last token in a path");const i=this.getImmediateChild(r).updateChild(st(e),n);return this.updateImmediateChild(r,i)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const n={};let r=0,i=0,s=!0;if(this.forEachChild(Tt,(a,c)=>{n[a]=c.val(e),r++,s&&Ae.INTEGER_REGEXP_.test(a)?i=Math.max(i,Number(a)):s=!1}),!e&&s&&i<2*r){const a=[];for(const c in n)a[c]=n[c];return a}else return e&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n}hash(){if(this.lazyHash_===null){let e="";this.getPriority().isEmpty()||(e+="priority:"+kP(this.getPriority().val())+":"),this.forEachChild(Tt,(n,r)=>{const i=r.hash();i!==""&&(e+=":"+n+":"+i)}),this.lazyHash_=e===""?"":rP(e)}return this.lazyHash_}getPredecessorChildName(e,n,r){const i=this.resolveIndex_(r);if(i){const s=i.getPredecessorKey(new Le(e,n));return s?s.name:null}else return this.children_.getPredecessorKey(e)}getFirstChildName(e){const n=this.resolveIndex_(e);if(n){const r=n.minKey();return r&&r.name}else return this.children_.minKey()}getFirstChild(e){const n=this.getFirstChildName(e);return n?new Le(n,this.children_.get(n)):null}getLastChildName(e){const n=this.resolveIndex_(e);if(n){const r=n.maxKey();return r&&r.name}else return this.children_.maxKey()}getLastChild(e){const n=this.getLastChildName(e);return n?new Le(n,this.children_.get(n)):null}forEachChild(e,n){const r=this.resolveIndex_(e);return r?r.inorderTraversal(i=>n(i.name,i.node)):this.children_.inorderTraversal(n)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,n){const r=this.resolveIndex_(n);if(r)return r.getIteratorFrom(e,i=>i);{const i=this.children_.getIteratorFrom(e.name,Le.Wrap);let s=i.peek();for(;s!=null&&n.compare(s,e)<0;)i.getNext(),s=i.peek();return i}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,n){const r=this.resolveIndex_(n);if(r)return r.getReverseIteratorFrom(e,i=>i);{const i=this.children_.getReverseIteratorFrom(e.name,Le.Wrap);let s=i.peek();for(;s!=null&&n.compare(s,e)>0;)i.getNext(),s=i.peek();return i}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===Wd?-1:0}withIndex(e){if(e===Gl||this.indexMap_.hasIndex(e))return this;{const n=this.indexMap_.addIndex(e,this.children_);return new Ae(this.children_,this.priorityNode_,n)}}isIndexed(e){return e===Gl||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const n=e;if(this.getPriority().equals(n.getPriority()))if(this.children_.count()===n.children_.count()){const r=this.getIterator(Tt),i=n.getIterator(Tt);let s=r.getNext(),a=i.getNext();for(;s&&a;){if(s.name!==a.name||!s.node.equals(a.node))return!1;s=r.getNext(),a=i.getNext()}return s===null&&a===null}else return!1;else return!1}}resolveIndex_(e){return e===Gl?null:this.indexMap_.get(e.toString())}}Ae.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class yF extends Ae{constructor(){super(new Hn(Yw),Ae.EMPTY_NODE,ns.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return Ae.EMPTY_NODE}isEmpty(){return!1}}const Wd=new yF;Object.defineProperties(Le,{MIN:{value:new Le(Ql,Ae.EMPTY_NODE)},MAX:{value:new Le(xa,Wd)}});TP.__EMPTY_NODE=Ae.EMPTY_NODE;Kt.__childrenNodeConstructor=Ae;fF(Wd);pF(Wd);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wF=!0;function Vt(t,e=null){if(t===null)return Ae.EMPTY_NODE;if(typeof t=="object"&&".priority"in t&&(e=t[".priority"]),fe(e===null||typeof e=="string"||typeof e=="number"||typeof e=="object"&&".sv"in e,"Invalid priority type found: "+typeof e),typeof t=="object"&&".value"in t&&t[".value"]!==null&&(t=t[".value"]),typeof t!="object"||".sv"in t){const n=t;return new Kt(n,Vt(e))}if(!(t instanceof Array)&&wF){const n=[];let r=!1;if(cn(t,(a,c)=>{if(a.substring(0,1)!=="."){const u=Vt(c);u.isEmpty()||(r=r||!u.getPriority().isEmpty(),n.push(new Le(a,u)))}}),n.length===0)return Ae.EMPTY_NODE;const s=Cp(n,dF,a=>a.name,Yw);if(r){const a=Cp(n,Tt.getCompare());return new Ae(s,Vt(e),new ns({".priority":a},{".priority":Tt}))}else return new Ae(s,Vt(e),ns.Default)}else{let n=Ae.EMPTY_NODE;return cn(t,(r,i)=>{if(Ii(t,r)&&r.substring(0,1)!=="."){const s=Vt(i);(s.isLeafNode()||!s.isEmpty())&&(n=n.updateImmediateChild(r,s))}}),n.updatePriority(Vt(e))}}hF(Vt);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _F extends vm{constructor(e){super(),this.indexPath_=e,fe(!je(e)&&De(e)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,n){const r=this.extractChild(e.node),i=this.extractChild(n.node),s=r.compareTo(i);return s===0?Na(e.name,n.name):s}makePost(e,n){const r=Vt(e),i=Ae.EMPTY_NODE.updateChild(this.indexPath_,r);return new Le(n,i)}maxPost(){const e=Ae.EMPTY_NODE.updateChild(this.indexPath_,Wd);return new Le(xa,e)}toString(){return gd(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xF extends vm{compare(e,n){const r=e.node.compareTo(n.node);return r===0?Na(e.name,n.name):r}isDefinedOn(e){return!0}indexedValueChanged(e,n){return!e.equals(n)}minPost(){return Le.MIN}maxPost(){return Le.MAX}makePost(e,n){const r=Vt(e);return new Le(n,r)}toString(){return".value"}}const bF=new xF;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AP(t){return{type:"value",snapshotNode:t}}function Zl(t,e){return{type:"child_added",snapshotNode:e,childName:t}}function vd(t,e){return{type:"child_removed",snapshotNode:e,childName:t}}function yd(t,e,n){return{type:"child_changed",snapshotNode:e,childName:t,oldSnap:n}}function EF(t,e){return{type:"child_moved",snapshotNode:e,childName:t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xw{constructor(e){this.index_=e}updateChild(e,n,r,i,s,a){fe(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");const c=e.getImmediateChild(n);return c.getChild(i).equals(r.getChild(i))&&c.isEmpty()===r.isEmpty()||(a!=null&&(r.isEmpty()?e.hasChild(n)?a.trackChildChange(vd(n,c)):fe(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):c.isEmpty()?a.trackChildChange(Zl(n,r)):a.trackChildChange(yd(n,r,c))),e.isLeafNode()&&r.isEmpty())?e:e.updateImmediateChild(n,r).withIndex(this.index_)}updateFullNode(e,n,r){return r!=null&&(e.isLeafNode()||e.forEachChild(Tt,(i,s)=>{n.hasChild(i)||r.trackChildChange(vd(i,s))}),n.isLeafNode()||n.forEachChild(Tt,(i,s)=>{if(e.hasChild(i)){const a=e.getImmediateChild(i);a.equals(s)||r.trackChildChange(yd(i,s,a))}else r.trackChildChange(Zl(i,s))})),n.withIndex(this.index_)}updatePriority(e,n){return e.isEmpty()?Ae.EMPTY_NODE:e.updatePriority(n)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wd{constructor(e){this.indexedFilter_=new Xw(e.getIndex()),this.index_=e.getIndex(),this.startPost_=wd.getStartPost_(e),this.endPost_=wd.getEndPost_(e),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(e){const n=this.startIsInclusive_?this.index_.compare(this.getStartPost(),e)<=0:this.index_.compare(this.getStartPost(),e)<0,r=this.endIsInclusive_?this.index_.compare(e,this.getEndPost())<=0:this.index_.compare(e,this.getEndPost())<0;return n&&r}updateChild(e,n,r,i,s,a){return this.matches(new Le(n,r))||(r=Ae.EMPTY_NODE),this.indexedFilter_.updateChild(e,n,r,i,s,a)}updateFullNode(e,n,r){n.isLeafNode()&&(n=Ae.EMPTY_NODE);let i=n.withIndex(this.index_);i=i.updatePriority(Ae.EMPTY_NODE);const s=this;return n.forEachChild(Tt,(a,c)=>{s.matches(new Le(a,c))||(i=i.updateImmediateChild(a,Ae.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(e,i,r)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(e){if(e.hasStart()){const n=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),n)}else return e.getIndex().minPost()}static getEndPost_(e){if(e.hasEnd()){const n=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),n)}else return e.getIndex().maxPost()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SF{constructor(e){this.withinDirectionalStart=n=>this.reverse_?this.withinEndPost(n):this.withinStartPost(n),this.withinDirectionalEnd=n=>this.reverse_?this.withinStartPost(n):this.withinEndPost(n),this.withinStartPost=n=>{const r=this.index_.compare(this.rangedFilter_.getStartPost(),n);return this.startIsInclusive_?r<=0:r<0},this.withinEndPost=n=>{const r=this.index_.compare(n,this.rangedFilter_.getEndPost());return this.endIsInclusive_?r<=0:r<0},this.rangedFilter_=new wd(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft(),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}updateChild(e,n,r,i,s,a){return this.rangedFilter_.matches(new Le(n,r))||(r=Ae.EMPTY_NODE),e.getImmediateChild(n).equals(r)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,n,r,i,s,a):this.fullLimitUpdateChild_(e,n,r,s,a)}updateFullNode(e,n,r){let i;if(n.isLeafNode()||n.isEmpty())i=Ae.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<n.numChildren()&&n.isIndexed(this.index_)){i=Ae.EMPTY_NODE.withIndex(this.index_);let s;this.reverse_?s=n.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):s=n.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let a=0;for(;s.hasNext()&&a<this.limit_;){const c=s.getNext();if(this.withinDirectionalStart(c))if(this.withinDirectionalEnd(c))i=i.updateImmediateChild(c.name,c.node),a++;else break;else continue}}else{i=n.withIndex(this.index_),i=i.updatePriority(Ae.EMPTY_NODE);let s;this.reverse_?s=i.getReverseIterator(this.index_):s=i.getIterator(this.index_);let a=0;for(;s.hasNext();){const c=s.getNext();a<this.limit_&&this.withinDirectionalStart(c)&&this.withinDirectionalEnd(c)?a++:i=i.updateImmediateChild(c.name,Ae.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,i,r)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(e,n,r,i,s){let a;if(this.reverse_){const g=this.index_.getCompare();a=(v,x)=>g(x,v)}else a=this.index_.getCompare();const c=e;fe(c.numChildren()===this.limit_,"");const u=new Le(n,r),f=this.reverse_?c.getFirstChild(this.index_):c.getLastChild(this.index_),h=this.rangedFilter_.matches(u);if(c.hasChild(n)){const g=c.getImmediateChild(n);let v=i.getChildAfterChild(this.index_,f,this.reverse_);for(;v!=null&&(v.name===n||c.hasChild(v.name));)v=i.getChildAfterChild(this.index_,v,this.reverse_);const x=v==null?1:a(v,u);if(h&&!r.isEmpty()&&x>=0)return s?.trackChildChange(yd(n,r,g)),c.updateImmediateChild(n,r);{s?.trackChildChange(vd(n,g));const T=c.updateImmediateChild(n,Ae.EMPTY_NODE);return v!=null&&this.rangedFilter_.matches(v)?(s?.trackChildChange(Zl(v.name,v.node)),T.updateImmediateChild(v.name,v.node)):T}}else return r.isEmpty()?e:h&&a(f,u)>=0?(s!=null&&(s.trackChildChange(vd(f.name,f.node)),s.trackChildChange(Zl(n,r))),c.updateImmediateChild(n,r).updateImmediateChild(f.name,Ae.EMPTY_NODE)):e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jw{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Tt}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return fe(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return fe(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Ql}hasEnd(){return this.endSet_}getIndexEndValue(){return fe(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return fe(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:xa}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return fe(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===Tt}copy(){const e=new Jw;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function CF(t){return t.loadsAllData()?new Xw(t.getIndex()):t.hasLimit()?new SF(t):new wd(t)}function aS(t){const e={};if(t.isDefault())return e;let n;if(t.index_===Tt?n="$priority":t.index_===bF?n="$value":t.index_===Gl?n="$key":(fe(t.index_ instanceof _F,"Unrecognized index type!"),n=t.index_.toString()),e.orderBy=Ut(n),t.startSet_){const r=t.startAfterSet_?"startAfter":"startAt";e[r]=Ut(t.indexStartValue_),t.startNameSet_&&(e[r]+=","+Ut(t.indexStartName_))}if(t.endSet_){const r=t.endBeforeSet_?"endBefore":"endAt";e[r]=Ut(t.indexEndValue_),t.endNameSet_&&(e[r]+=","+Ut(t.indexEndName_))}return t.limitSet_&&(t.isViewFromLeft()?e.limitToFirst=t.limit_:e.limitToLast=t.limit_),e}function lS(t){const e={};if(t.startSet_&&(e.sp=t.indexStartValue_,t.startNameSet_&&(e.sn=t.indexStartName_),e.sin=!t.startAfterSet_),t.endSet_&&(e.ep=t.indexEndValue_,t.endNameSet_&&(e.en=t.indexEndName_),e.ein=!t.endBeforeSet_),t.limitSet_){e.l=t.limit_;let n=t.viewFrom_;n===""&&(t.isViewFromLeft()?n="l":n="r"),e.vf=n}return t.index_!==Tt&&(e.i=t.index_.toString()),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tp extends bP{reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,n){return n!==void 0?"tag$"+n:(fe(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}constructor(e,n,r,i){super(),this.repoInfo_=e,this.onDataUpdate_=n,this.authTokenProvider_=r,this.appCheckTokenProvider_=i,this.log_=Hd("p:rest:"),this.listens_={}}listen(e,n,r,i){const s=e._path.toString();this.log_("Listen called for "+s+" "+e._queryIdentifier);const a=Tp.getListenId_(e,r),c={};this.listens_[a]=c;const u=aS(e._queryParams);this.restRequest_(s+".json",u,(f,h)=>{let g=h;if(f===404&&(g=null,f=null),f===null&&this.onDataUpdate_(s,g,!1,r),Jl(this.listens_,a)===c){let v;f?f===401?v="permission_denied":v="rest_error:"+f:v="ok",i(v,null)}})}unlisten(e,n){const r=Tp.getListenId_(e,n);delete this.listens_[r]}get(e){const n=aS(e._queryParams),r=e._path.toString(),i=new jd;return this.restRequest_(r+".json",n,(s,a)=>{let c=a;s===404&&(c=null,s=null),s===null?(this.onDataUpdate_(r,c,!1,null),i.resolve(c)):i.reject(new Error(c))}),i.promise}refreshAuthToken(e){}restRequest_(e,n={},r){return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([i,s])=>{i&&i.accessToken&&(n.auth=i.accessToken),s&&s.token&&(n.ac=s.token);const a=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+hc(n);this.log_("Sending REST request for "+a);const c=new XMLHttpRequest;c.onreadystatechange=()=>{if(r&&c.readyState===4){this.log_("REST Response for "+a+" received. status:",c.status,"response:",c.responseText);let u=null;if(c.status>=200&&c.status<300){try{u=cd(c.responseText)}catch{In("Failed to parse JSON response for "+a+": "+c.responseText)}r(null,u)}else c.status!==401&&c.status!==404&&In("Got unsuccessful REST response for "+a+" Status: "+c.status),r(c.status);r=null}},c.open("GET",a,!0),c.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TF{constructor(){this.rootNode_=Ae.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,n){this.rootNode_=this.rootNode_.updateChild(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kp(){return{value:null,children:new Map}}function NP(t,e,n){if(je(e))t.value=n,t.children.clear();else if(t.value!==null)t.value=t.value.updateChild(e,n);else{const r=De(e);t.children.has(r)||t.children.set(r,kp());const i=t.children.get(r);e=st(e),NP(i,e,n)}}function a0(t,e,n){t.value!==null?n(e,t.value):kF(t,(r,i)=>{const s=new Je(e.toString()+"/"+r);a0(i,s,n)})}function kF(t,e){t.children.forEach((n,r)=>{e(r,n)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PF{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),n=Object.assign({},e);return this.last_&&cn(this.last_,(r,i)=>{n[r]=n[r]-i}),this.last_=e,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cS=10*1e3,IF=30*1e3,RF=5*60*1e3;class AF{constructor(e,n){this.server_=n,this.statsToReport_={},this.statsListener_=new PF(e);const r=cS+(IF-cS)*Math.random();Bu(this.reportStats_.bind(this),Math.floor(r))}reportStats_(){const e=this.statsListener_.get(),n={};let r=!1;cn(e,(i,s)=>{s>0&&Ii(this.statsToReport_,i)&&(n[i]=s,r=!0)}),r&&this.server_.reportStats(n),Bu(this.reportStats_.bind(this),Math.floor(Math.random()*2*RF))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Yr;(function(t){t[t.OVERWRITE=0]="OVERWRITE",t[t.MERGE=1]="MERGE",t[t.ACK_USER_WRITE=2]="ACK_USER_WRITE",t[t.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(Yr||(Yr={}));function Qw(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function Zw(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function e_(t){return{fromUser:!1,fromServer:!0,queryId:t,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pp{constructor(e,n,r){this.path=e,this.affectedTree=n,this.revert=r,this.type=Yr.ACK_USER_WRITE,this.source=Qw()}operationForChild(e){if(je(this.path)){if(this.affectedTree.value!=null)return fe(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const n=this.affectedTree.subtree(new Je(e));return new Pp(We(),n,this.revert)}}else return fe(De(this.path)===e,"operationForChild called for unrelated child."),new Pp(st(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _d{constructor(e,n){this.source=e,this.path=n,this.type=Yr.LISTEN_COMPLETE}operationForChild(e){return je(this.path)?new _d(this.source,We()):new _d(this.source,st(this.path))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ba{constructor(e,n,r){this.source=e,this.path=n,this.snap=r,this.type=Yr.OVERWRITE}operationForChild(e){return je(this.path)?new ba(this.source,We(),this.snap.getImmediateChild(e)):new ba(this.source,st(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ec{constructor(e,n,r){this.source=e,this.path=n,this.children=r,this.type=Yr.MERGE}operationForChild(e){if(je(this.path)){const n=this.children.subtree(new Je(e));return n.isEmpty()?null:n.value?new ba(this.source,We(),n.value):new ec(this.source,We(),n)}else return fe(De(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new ec(this.source,st(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class po{constructor(e,n,r){this.node_=e,this.fullyInitialized_=n,this.filtered_=r}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(je(e))return this.isFullyInitialized()&&!this.filtered_;const n=De(e);return this.isCompleteForChild(n)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NF{constructor(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}}function OF(t,e,n,r){const i=[],s=[];return e.forEach(a=>{a.type==="child_changed"&&t.index_.indexedValueChanged(a.oldSnap,a.snapshotNode)&&s.push(EF(a.childName,a.snapshotNode))}),Eu(t,i,"child_removed",e,r,n),Eu(t,i,"child_added",e,r,n),Eu(t,i,"child_moved",s,r,n),Eu(t,i,"child_changed",e,r,n),Eu(t,i,"value",e,r,n),i}function Eu(t,e,n,r,i,s){const a=r.filter(c=>c.type===n);a.sort((c,u)=>DF(t,c,u)),a.forEach(c=>{const u=MF(t,c,s);i.forEach(f=>{f.respondsTo(c.type)&&e.push(f.createEvent(u,t.query_))})})}function MF(t,e,n){return e.type==="value"||e.type==="child_removed"||(e.prevName=n.getPredecessorChildName(e.childName,e.snapshotNode,t.index_)),e}function DF(t,e,n){if(e.childName==null||n.childName==null)throw fc("Should only compare child_ events.");const r=new Le(e.childName,e.snapshotNode),i=new Le(n.childName,n.snapshotNode);return t.index_.compare(r,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ym(t,e){return{eventCache:t,serverCache:e}}function zu(t,e,n,r){return ym(new po(e,n,r),t.serverCache)}function OP(t,e,n,r){return ym(t.eventCache,new po(e,n,r))}function Ip(t){return t.eventCache.isFullyInitialized()?t.eventCache.getNode():null}function Ea(t){return t.serverCache.isFullyInitialized()?t.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Xv;const LF=()=>(Xv||(Xv=new Hn(_6)),Xv);class it{static fromObject(e){let n=new it(null);return cn(e,(r,i)=>{n=n.set(new Je(r),i)}),n}constructor(e,n=LF()){this.value=e,this.children=n}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,n){if(this.value!=null&&n(this.value))return{path:We(),value:this.value};if(je(e))return null;{const r=De(e),i=this.children.get(r);if(i!==null){const s=i.findRootMostMatchingPathAndValue(st(e),n);return s!=null?{path:St(new Je(r),s.path),value:s.value}:null}else return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(je(e))return this;{const n=De(e),r=this.children.get(n);return r!==null?r.subtree(st(e)):new it(null)}}set(e,n){if(je(e))return new it(n,this.children);{const r=De(e),s=(this.children.get(r)||new it(null)).set(st(e),n),a=this.children.insert(r,s);return new it(this.value,a)}}remove(e){if(je(e))return this.children.isEmpty()?new it(null):new it(null,this.children);{const n=De(e),r=this.children.get(n);if(r){const i=r.remove(st(e));let s;return i.isEmpty()?s=this.children.remove(n):s=this.children.insert(n,i),this.value===null&&s.isEmpty()?new it(null):new it(this.value,s)}else return this}}get(e){if(je(e))return this.value;{const n=De(e),r=this.children.get(n);return r?r.get(st(e)):null}}setTree(e,n){if(je(e))return n;{const r=De(e),s=(this.children.get(r)||new it(null)).setTree(st(e),n);let a;return s.isEmpty()?a=this.children.remove(r):a=this.children.insert(r,s),new it(this.value,a)}}fold(e){return this.fold_(We(),e)}fold_(e,n){const r={};return this.children.inorderTraversal((i,s)=>{r[i]=s.fold_(St(e,i),n)}),n(e,this.value,r)}findOnPath(e,n){return this.findOnPath_(e,We(),n)}findOnPath_(e,n,r){const i=this.value?r(n,this.value):!1;if(i)return i;if(je(e))return null;{const s=De(e),a=this.children.get(s);return a?a.findOnPath_(st(e),St(n,s),r):null}}foreachOnPath(e,n){return this.foreachOnPath_(e,We(),n)}foreachOnPath_(e,n,r){if(je(e))return this;{this.value&&r(n,this.value);const i=De(e),s=this.children.get(i);return s?s.foreachOnPath_(st(e),St(n,i),r):new it(null)}}foreach(e){this.foreach_(We(),e)}foreach_(e,n){this.children.inorderTraversal((r,i)=>{i.foreach_(St(e,r),n)}),this.value&&n(e,this.value)}foreachChild(e){this.children.inorderTraversal((n,r)=>{r.value&&e(n,r.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zr{constructor(e){this.writeTree_=e}static empty(){return new Zr(new it(null))}}function Hu(t,e,n){if(je(e))return new Zr(new it(n));{const r=t.writeTree_.findRootMostValueAndPath(e);if(r!=null){const i=r.path;let s=r.value;const a=kn(i,e);return s=s.updateChild(a,n),new Zr(t.writeTree_.set(i,s))}else{const i=new it(n),s=t.writeTree_.setTree(e,i);return new Zr(s)}}}function l0(t,e,n){let r=t;return cn(n,(i,s)=>{r=Hu(r,St(e,i),s)}),r}function uS(t,e){if(je(e))return Zr.empty();{const n=t.writeTree_.setTree(e,new it(null));return new Zr(n)}}function c0(t,e){return Oa(t,e)!=null}function Oa(t,e){const n=t.writeTree_.findRootMostValueAndPath(e);return n!=null?t.writeTree_.get(n.path).getChild(kn(n.path,e)):null}function dS(t){const e=[],n=t.writeTree_.value;return n!=null?n.isLeafNode()||n.forEachChild(Tt,(r,i)=>{e.push(new Le(r,i))}):t.writeTree_.children.inorderTraversal((r,i)=>{i.value!=null&&e.push(new Le(r,i.value))}),e}function lo(t,e){if(je(e))return t;{const n=Oa(t,e);return n!=null?new Zr(new it(n)):new Zr(t.writeTree_.subtree(e))}}function u0(t){return t.writeTree_.isEmpty()}function tc(t,e){return MP(We(),t.writeTree_,e)}function MP(t,e,n){if(e.value!=null)return n.updateChild(t,e.value);{let r=null;return e.children.inorderTraversal((i,s)=>{i===".priority"?(fe(s.value!==null,"Priority writes must always be leaf nodes"),r=s.value):n=MP(St(t,i),s,n)}),!n.getChild(t).isEmpty()&&r!==null&&(n=n.updateChild(St(t,".priority"),r)),n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wm(t,e){return FP(e,t)}function jF(t,e,n,r,i){fe(r>t.lastWriteId,"Stacking an older write on top of newer ones"),i===void 0&&(i=!0),t.allWrites.push({path:e,snap:n,writeId:r,visible:i}),i&&(t.visibleWrites=Hu(t.visibleWrites,e,n)),t.lastWriteId=r}function FF(t,e,n,r){fe(r>t.lastWriteId,"Stacking an older merge on top of newer ones"),t.allWrites.push({path:e,children:n,writeId:r,visible:!0}),t.visibleWrites=l0(t.visibleWrites,e,n),t.lastWriteId=r}function $F(t,e){for(let n=0;n<t.allWrites.length;n++){const r=t.allWrites[n];if(r.writeId===e)return r}return null}function VF(t,e){const n=t.allWrites.findIndex(c=>c.writeId===e);fe(n>=0,"removeWrite called with nonexistent writeId.");const r=t.allWrites[n];t.allWrites.splice(n,1);let i=r.visible,s=!1,a=t.allWrites.length-1;for(;i&&a>=0;){const c=t.allWrites[a];c.visible&&(a>=n&&UF(c,r.path)?i=!1:Er(r.path,c.path)&&(s=!0)),a--}if(i){if(s)return BF(t),!0;if(r.snap)t.visibleWrites=uS(t.visibleWrites,r.path);else{const c=r.children;cn(c,u=>{t.visibleWrites=uS(t.visibleWrites,St(r.path,u))})}return!0}else return!1}function UF(t,e){if(t.snap)return Er(t.path,e);for(const n in t.children)if(t.children.hasOwnProperty(n)&&Er(St(t.path,n),e))return!0;return!1}function BF(t){t.visibleWrites=DP(t.allWrites,zF,We()),t.allWrites.length>0?t.lastWriteId=t.allWrites[t.allWrites.length-1].writeId:t.lastWriteId=-1}function zF(t){return t.visible}function DP(t,e,n){let r=Zr.empty();for(let i=0;i<t.length;++i){const s=t[i];if(e(s)){const a=s.path;let c;if(s.snap)Er(n,a)?(c=kn(n,a),r=Hu(r,c,s.snap)):Er(a,n)&&(c=kn(a,n),r=Hu(r,We(),s.snap.getChild(c)));else if(s.children){if(Er(n,a))c=kn(n,a),r=l0(r,c,s.children);else if(Er(a,n))if(c=kn(a,n),je(c))r=l0(r,We(),s.children);else{const u=Jl(s.children,De(c));if(u){const f=u.getChild(st(c));r=Hu(r,We(),f)}}}else throw fc("WriteRecord should have .snap or .children")}}return r}function LP(t,e,n,r,i){if(!r&&!i){const s=Oa(t.visibleWrites,e);if(s!=null)return s;{const a=lo(t.visibleWrites,e);if(u0(a))return n;if(n==null&&!c0(a,We()))return null;{const c=n||Ae.EMPTY_NODE;return tc(a,c)}}}else{const s=lo(t.visibleWrites,e);if(!i&&u0(s))return n;if(!i&&n==null&&!c0(s,We()))return null;{const a=function(f){return(f.visible||i)&&(!r||!~r.indexOf(f.writeId))&&(Er(f.path,e)||Er(e,f.path))},c=DP(t.allWrites,a,e),u=n||Ae.EMPTY_NODE;return tc(c,u)}}}function HF(t,e,n){let r=Ae.EMPTY_NODE;const i=Oa(t.visibleWrites,e);if(i)return i.isLeafNode()||i.forEachChild(Tt,(s,a)=>{r=r.updateImmediateChild(s,a)}),r;if(n){const s=lo(t.visibleWrites,e);return n.forEachChild(Tt,(a,c)=>{const u=tc(lo(s,new Je(a)),c);r=r.updateImmediateChild(a,u)}),dS(s).forEach(a=>{r=r.updateImmediateChild(a.name,a.node)}),r}else{const s=lo(t.visibleWrites,e);return dS(s).forEach(a=>{r=r.updateImmediateChild(a.name,a.node)}),r}}function WF(t,e,n,r,i){fe(r||i,"Either existingEventSnap or existingServerSnap must exist");const s=St(e,n);if(c0(t.visibleWrites,s))return null;{const a=lo(t.visibleWrites,s);return u0(a)?i.getChild(n):tc(a,i.getChild(n))}}function qF(t,e,n,r){const i=St(e,n),s=Oa(t.visibleWrites,i);if(s!=null)return s;if(r.isCompleteForChild(n)){const a=lo(t.visibleWrites,i);return tc(a,r.getNode().getImmediateChild(n))}else return null}function GF(t,e){return Oa(t.visibleWrites,e)}function KF(t,e,n,r,i,s,a){let c;const u=lo(t.visibleWrites,e),f=Oa(u,We());if(f!=null)c=f;else if(n!=null)c=tc(u,n);else return[];if(c=c.withIndex(a),!c.isEmpty()&&!c.isLeafNode()){const h=[],g=a.getCompare(),v=s?c.getReverseIteratorFrom(r,a):c.getIteratorFrom(r,a);let x=v.getNext();for(;x&&h.length<i;)g(x,r)!==0&&h.push(x),x=v.getNext();return h}else return[]}function YF(){return{visibleWrites:Zr.empty(),allWrites:[],lastWriteId:-1}}function Rp(t,e,n,r){return LP(t.writeTree,t.treePath,e,n,r)}function t_(t,e){return HF(t.writeTree,t.treePath,e)}function fS(t,e,n,r){return WF(t.writeTree,t.treePath,e,n,r)}function Ap(t,e){return GF(t.writeTree,St(t.treePath,e))}function XF(t,e,n,r,i,s){return KF(t.writeTree,t.treePath,e,n,r,i,s)}function n_(t,e,n){return qF(t.writeTree,t.treePath,e,n)}function jP(t,e){return FP(St(t.treePath,e),t.writeTree)}function FP(t,e){return{treePath:t,writeTree:e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JF{constructor(){this.changeMap=new Map}trackChildChange(e){const n=e.type,r=e.childName;fe(n==="child_added"||n==="child_changed"||n==="child_removed","Only child changes supported for tracking"),fe(r!==".priority","Only non-priority child changes can be tracked.");const i=this.changeMap.get(r);if(i){const s=i.type;if(n==="child_added"&&s==="child_removed")this.changeMap.set(r,yd(r,e.snapshotNode,i.snapshotNode));else if(n==="child_removed"&&s==="child_added")this.changeMap.delete(r);else if(n==="child_removed"&&s==="child_changed")this.changeMap.set(r,vd(r,i.oldSnap));else if(n==="child_changed"&&s==="child_added")this.changeMap.set(r,Zl(r,e.snapshotNode));else if(n==="child_changed"&&s==="child_changed")this.changeMap.set(r,yd(r,e.snapshotNode,i.oldSnap));else throw fc("Illegal combination of changes: "+e+" occurred after "+i)}else this.changeMap.set(r,e)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QF{getCompleteChild(e){return null}getChildAfterChild(e,n,r){return null}}const $P=new QF;class r_{constructor(e,n,r=null){this.writes_=e,this.viewCache_=n,this.optCompleteServerCache_=r}getCompleteChild(e){const n=this.viewCache_.eventCache;if(n.isCompleteForChild(e))return n.getNode().getImmediateChild(e);{const r=this.optCompleteServerCache_!=null?new po(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return n_(this.writes_,e,r)}}getChildAfterChild(e,n,r){const i=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:Ea(this.viewCache_),s=XF(this.writes_,i,n,1,r,e);return s.length===0?null:s[0]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZF(t){return{filter:t}}function e7(t,e){fe(e.eventCache.getNode().isIndexed(t.filter.getIndex()),"Event snap not indexed"),fe(e.serverCache.getNode().isIndexed(t.filter.getIndex()),"Server snap not indexed")}function t7(t,e,n,r,i){const s=new JF;let a,c;if(n.type===Yr.OVERWRITE){const f=n;f.source.fromUser?a=d0(t,e,f.path,f.snap,r,i,s):(fe(f.source.fromServer,"Unknown source."),c=f.source.tagged||e.serverCache.isFiltered()&&!je(f.path),a=Np(t,e,f.path,f.snap,r,i,c,s))}else if(n.type===Yr.MERGE){const f=n;f.source.fromUser?a=r7(t,e,f.path,f.children,r,i,s):(fe(f.source.fromServer,"Unknown source."),c=f.source.tagged||e.serverCache.isFiltered(),a=f0(t,e,f.path,f.children,r,i,c,s))}else if(n.type===Yr.ACK_USER_WRITE){const f=n;f.revert?a=o7(t,e,f.path,r,i,s):a=i7(t,e,f.path,f.affectedTree,r,i,s)}else if(n.type===Yr.LISTEN_COMPLETE)a=s7(t,e,n.path,r,s);else throw fc("Unknown operation type: "+n.type);const u=s.getChanges();return n7(e,a,u),{viewCache:a,changes:u}}function n7(t,e,n){const r=e.eventCache;if(r.isFullyInitialized()){const i=r.getNode().isLeafNode()||r.getNode().isEmpty(),s=Ip(t);(n.length>0||!t.eventCache.isFullyInitialized()||i&&!r.getNode().equals(s)||!r.getNode().getPriority().equals(s.getPriority()))&&n.push(AP(Ip(e)))}}function VP(t,e,n,r,i,s){const a=e.eventCache;if(Ap(r,n)!=null)return e;{let c,u;if(je(n))if(fe(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const f=Ea(e),h=f instanceof Ae?f:Ae.EMPTY_NODE,g=t_(r,h);c=t.filter.updateFullNode(e.eventCache.getNode(),g,s)}else{const f=Rp(r,Ea(e));c=t.filter.updateFullNode(e.eventCache.getNode(),f,s)}else{const f=De(n);if(f===".priority"){fe(ho(n)===1,"Can't have a priority with additional path components");const h=a.getNode();u=e.serverCache.getNode();const g=fS(r,n,h,u);g!=null?c=t.filter.updatePriority(h,g):c=a.getNode()}else{const h=st(n);let g;if(a.isCompleteForChild(f)){u=e.serverCache.getNode();const v=fS(r,n,a.getNode(),u);v!=null?g=a.getNode().getImmediateChild(f).updateChild(h,v):g=a.getNode().getImmediateChild(f)}else g=n_(r,f,e.serverCache);g!=null?c=t.filter.updateChild(a.getNode(),f,g,h,i,s):c=a.getNode()}}return zu(e,c,a.isFullyInitialized()||je(n),t.filter.filtersNodes())}}function Np(t,e,n,r,i,s,a,c){const u=e.serverCache;let f;const h=a?t.filter:t.filter.getIndexedFilter();if(je(n))f=h.updateFullNode(u.getNode(),r,null);else if(h.filtersNodes()&&!u.isFiltered()){const x=u.getNode().updateChild(n,r);f=h.updateFullNode(u.getNode(),x,null)}else{const x=De(n);if(!u.isCompleteForPath(n)&&ho(n)>1)return e;const _=st(n),N=u.getNode().getImmediateChild(x).updateChild(_,r);x===".priority"?f=h.updatePriority(u.getNode(),N):f=h.updateChild(u.getNode(),x,N,_,$P,null)}const g=OP(e,f,u.isFullyInitialized()||je(n),h.filtersNodes()),v=new r_(i,g,s);return VP(t,g,n,i,v,c)}function d0(t,e,n,r,i,s,a){const c=e.eventCache;let u,f;const h=new r_(i,e,s);if(je(n))f=t.filter.updateFullNode(e.eventCache.getNode(),r,a),u=zu(e,f,!0,t.filter.filtersNodes());else{const g=De(n);if(g===".priority")f=t.filter.updatePriority(e.eventCache.getNode(),r),u=zu(e,f,c.isFullyInitialized(),c.isFiltered());else{const v=st(n),x=c.getNode().getImmediateChild(g);let _;if(je(v))_=r;else{const T=h.getCompleteChild(g);T!=null?qw(v)===".priority"&&T.getChild(SP(v)).isEmpty()?_=T:_=T.updateChild(v,r):_=Ae.EMPTY_NODE}if(x.equals(_))u=e;else{const T=t.filter.updateChild(c.getNode(),g,_,v,h,a);u=zu(e,T,c.isFullyInitialized(),t.filter.filtersNodes())}}}return u}function hS(t,e){return t.eventCache.isCompleteForChild(e)}function r7(t,e,n,r,i,s,a){let c=e;return r.foreach((u,f)=>{const h=St(n,u);hS(e,De(h))&&(c=d0(t,c,h,f,i,s,a))}),r.foreach((u,f)=>{const h=St(n,u);hS(e,De(h))||(c=d0(t,c,h,f,i,s,a))}),c}function pS(t,e,n){return n.foreach((r,i)=>{e=e.updateChild(r,i)}),e}function f0(t,e,n,r,i,s,a,c){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let u=e,f;je(n)?f=r:f=new it(null).setTree(n,r);const h=e.serverCache.getNode();return f.children.inorderTraversal((g,v)=>{if(h.hasChild(g)){const x=e.serverCache.getNode().getImmediateChild(g),_=pS(t,x,v);u=Np(t,u,new Je(g),_,i,s,a,c)}}),f.children.inorderTraversal((g,v)=>{const x=!e.serverCache.isCompleteForChild(g)&&v.value===null;if(!h.hasChild(g)&&!x){const _=e.serverCache.getNode().getImmediateChild(g),T=pS(t,_,v);u=Np(t,u,new Je(g),T,i,s,a,c)}}),u}function i7(t,e,n,r,i,s,a){if(Ap(i,n)!=null)return e;const c=e.serverCache.isFiltered(),u=e.serverCache;if(r.value!=null){if(je(n)&&u.isFullyInitialized()||u.isCompleteForPath(n))return Np(t,e,n,u.getNode().getChild(n),i,s,c,a);if(je(n)){let f=new it(null);return u.getNode().forEachChild(Gl,(h,g)=>{f=f.set(new Je(h),g)}),f0(t,e,n,f,i,s,c,a)}else return e}else{let f=new it(null);return r.foreach((h,g)=>{const v=St(n,h);u.isCompleteForPath(v)&&(f=f.set(h,u.getNode().getChild(v)))}),f0(t,e,n,f,i,s,c,a)}}function s7(t,e,n,r,i){const s=e.serverCache,a=OP(e,s.getNode(),s.isFullyInitialized()||je(n),s.isFiltered());return VP(t,a,n,r,$P,i)}function o7(t,e,n,r,i,s){let a;if(Ap(r,n)!=null)return e;{const c=new r_(r,e,i),u=e.eventCache.getNode();let f;if(je(n)||De(n)===".priority"){let h;if(e.serverCache.isFullyInitialized())h=Rp(r,Ea(e));else{const g=e.serverCache.getNode();fe(g instanceof Ae,"serverChildren would be complete if leaf node"),h=t_(r,g)}h=h,f=t.filter.updateFullNode(u,h,s)}else{const h=De(n);let g=n_(r,h,e.serverCache);g==null&&e.serverCache.isCompleteForChild(h)&&(g=u.getImmediateChild(h)),g!=null?f=t.filter.updateChild(u,h,g,st(n),c,s):e.eventCache.getNode().hasChild(h)?f=t.filter.updateChild(u,h,Ae.EMPTY_NODE,st(n),c,s):f=u,f.isEmpty()&&e.serverCache.isFullyInitialized()&&(a=Rp(r,Ea(e)),a.isLeafNode()&&(f=t.filter.updateFullNode(f,a,s)))}return a=e.serverCache.isFullyInitialized()||Ap(r,We())!=null,zu(e,f,a,t.filter.filtersNodes())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a7{constructor(e,n){this.query_=e,this.eventRegistrations_=[];const r=this.query_._queryParams,i=new Xw(r.getIndex()),s=CF(r);this.processor_=ZF(s);const a=n.serverCache,c=n.eventCache,u=i.updateFullNode(Ae.EMPTY_NODE,a.getNode(),null),f=s.updateFullNode(Ae.EMPTY_NODE,c.getNode(),null),h=new po(u,a.isFullyInitialized(),i.filtersNodes()),g=new po(f,c.isFullyInitialized(),s.filtersNodes());this.viewCache_=ym(g,h),this.eventGenerator_=new NF(this.query_)}get query(){return this.query_}}function l7(t){return t.viewCache_.serverCache.getNode()}function c7(t){return Ip(t.viewCache_)}function u7(t,e){const n=Ea(t.viewCache_);return n&&(t.query._queryParams.loadsAllData()||!je(e)&&!n.getImmediateChild(De(e)).isEmpty())?n.getChild(e):null}function mS(t){return t.eventRegistrations_.length===0}function d7(t,e){t.eventRegistrations_.push(e)}function gS(t,e,n){const r=[];if(n){fe(e==null,"A cancel should cancel all event registrations.");const i=t.query._path;t.eventRegistrations_.forEach(s=>{const a=s.createCancelEvent(n,i);a&&r.push(a)})}if(e){let i=[];for(let s=0;s<t.eventRegistrations_.length;++s){const a=t.eventRegistrations_[s];if(!a.matches(e))i.push(a);else if(e.hasAnyCallback()){i=i.concat(t.eventRegistrations_.slice(s+1));break}}t.eventRegistrations_=i}else t.eventRegistrations_=[];return r}function vS(t,e,n,r){e.type===Yr.MERGE&&e.source.queryId!==null&&(fe(Ea(t.viewCache_),"We should always have a full cache before handling merges"),fe(Ip(t.viewCache_),"Missing event cache, even though we have a server cache"));const i=t.viewCache_,s=t7(t.processor_,i,e,n,r);return e7(t.processor_,s.viewCache),fe(s.viewCache.serverCache.isFullyInitialized()||!i.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),t.viewCache_=s.viewCache,UP(t,s.changes,s.viewCache.eventCache.getNode(),null)}function f7(t,e){const n=t.viewCache_.eventCache,r=[];return n.getNode().isLeafNode()||n.getNode().forEachChild(Tt,(s,a)=>{r.push(Zl(s,a))}),n.isFullyInitialized()&&r.push(AP(n.getNode())),UP(t,r,n.getNode(),e)}function UP(t,e,n,r){const i=r?[r]:t.eventRegistrations_;return OF(t.eventGenerator_,e,n,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Op;class BP{constructor(){this.views=new Map}}function h7(t){fe(!Op,"__referenceConstructor has already been defined"),Op=t}function p7(){return fe(Op,"Reference.ts has not been loaded"),Op}function m7(t){return t.views.size===0}function i_(t,e,n,r){const i=e.source.queryId;if(i!==null){const s=t.views.get(i);return fe(s!=null,"SyncTree gave us an op for an invalid query."),vS(s,e,n,r)}else{let s=[];for(const a of t.views.values())s=s.concat(vS(a,e,n,r));return s}}function zP(t,e,n,r,i){const s=e._queryIdentifier,a=t.views.get(s);if(!a){let c=Rp(n,i?r:null),u=!1;c?u=!0:r instanceof Ae?(c=t_(n,r),u=!1):(c=Ae.EMPTY_NODE,u=!1);const f=ym(new po(c,u,!1),new po(r,i,!1));return new a7(e,f)}return a}function g7(t,e,n,r,i,s){const a=zP(t,e,r,i,s);return t.views.has(e._queryIdentifier)||t.views.set(e._queryIdentifier,a),d7(a,n),f7(a,n)}function v7(t,e,n,r){const i=e._queryIdentifier,s=[];let a=[];const c=mo(t);if(i==="default")for(const[u,f]of t.views.entries())a=a.concat(gS(f,n,r)),mS(f)&&(t.views.delete(u),f.query._queryParams.loadsAllData()||s.push(f.query));else{const u=t.views.get(i);u&&(a=a.concat(gS(u,n,r)),mS(u)&&(t.views.delete(i),u.query._queryParams.loadsAllData()||s.push(u.query)))}return c&&!mo(t)&&s.push(new(p7())(e._repo,e._path)),{removed:s,events:a}}function HP(t){const e=[];for(const n of t.views.values())n.query._queryParams.loadsAllData()||e.push(n);return e}function co(t,e){let n=null;for(const r of t.views.values())n=n||u7(r,e);return n}function WP(t,e){if(e._queryParams.loadsAllData())return _m(t);{const r=e._queryIdentifier;return t.views.get(r)}}function qP(t,e){return WP(t,e)!=null}function mo(t){return _m(t)!=null}function _m(t){for(const e of t.views.values())if(e.query._queryParams.loadsAllData())return e;return null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Mp;function y7(t){fe(!Mp,"__referenceConstructor has already been defined"),Mp=t}function w7(){return fe(Mp,"Reference.ts has not been loaded"),Mp}let _7=1;class yS{constructor(e){this.listenProvider_=e,this.syncPointTree_=new it(null),this.pendingWriteTree_=YF(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function GP(t,e,n,r,i){return jF(t.pendingWriteTree_,e,n,r,i),i?gc(t,new ba(Qw(),e,n)):[]}function x7(t,e,n,r){FF(t.pendingWriteTree_,e,n,r);const i=it.fromObject(n);return gc(t,new ec(Qw(),e,i))}function ro(t,e,n=!1){const r=$F(t.pendingWriteTree_,e);if(VF(t.pendingWriteTree_,e)){let s=new it(null);return r.snap!=null?s=s.set(We(),!0):cn(r.children,a=>{s=s.set(new Je(a),!0)}),gc(t,new Pp(r.path,s,n))}else return[]}function qd(t,e,n){return gc(t,new ba(Zw(),e,n))}function b7(t,e,n){const r=it.fromObject(n);return gc(t,new ec(Zw(),e,r))}function E7(t,e){return gc(t,new _d(Zw(),e))}function S7(t,e,n){const r=o_(t,n);if(r){const i=a_(r),s=i.path,a=i.queryId,c=kn(s,e),u=new _d(e_(a),c);return l_(t,s,u)}else return[]}function Dp(t,e,n,r,i=!1){const s=e._path,a=t.syncPointTree_.get(s);let c=[];if(a&&(e._queryIdentifier==="default"||qP(a,e))){const u=v7(a,e,n,r);m7(a)&&(t.syncPointTree_=t.syncPointTree_.remove(s));const f=u.removed;if(c=u.events,!i){const h=f.findIndex(v=>v._queryParams.loadsAllData())!==-1,g=t.syncPointTree_.findOnPath(s,(v,x)=>mo(x));if(h&&!g){const v=t.syncPointTree_.subtree(s);if(!v.isEmpty()){const x=k7(v);for(let _=0;_<x.length;++_){const T=x[_],N=T.query,A=JP(t,T);t.listenProvider_.startListening(Wu(N),xd(t,N),A.hashFn,A.onComplete)}}}!g&&f.length>0&&!r&&(h?t.listenProvider_.stopListening(Wu(e),null):f.forEach(v=>{const x=t.queryToTagMap.get(xm(v));t.listenProvider_.stopListening(Wu(v),x)}))}P7(t,f)}return c}function KP(t,e,n,r){const i=o_(t,r);if(i!=null){const s=a_(i),a=s.path,c=s.queryId,u=kn(a,e),f=new ba(e_(c),u,n);return l_(t,a,f)}else return[]}function C7(t,e,n,r){const i=o_(t,r);if(i){const s=a_(i),a=s.path,c=s.queryId,u=kn(a,e),f=it.fromObject(n),h=new ec(e_(c),u,f);return l_(t,a,h)}else return[]}function h0(t,e,n,r=!1){const i=e._path;let s=null,a=!1;t.syncPointTree_.foreachOnPath(i,(v,x)=>{const _=kn(v,i);s=s||co(x,_),a=a||mo(x)});let c=t.syncPointTree_.get(i);c?(a=a||mo(c),s=s||co(c,We())):(c=new BP,t.syncPointTree_=t.syncPointTree_.set(i,c));let u;s!=null?u=!0:(u=!1,s=Ae.EMPTY_NODE,t.syncPointTree_.subtree(i).foreachChild((x,_)=>{const T=co(_,We());T&&(s=s.updateImmediateChild(x,T))}));const f=qP(c,e);if(!f&&!e._queryParams.loadsAllData()){const v=xm(e);fe(!t.queryToTagMap.has(v),"View does not exist, but we have a tag");const x=I7();t.queryToTagMap.set(v,x),t.tagToQueryMap.set(x,v)}const h=wm(t.pendingWriteTree_,i);let g=g7(c,e,n,h,s,u);if(!f&&!a&&!r){const v=WP(c,e);g=g.concat(R7(t,e,v))}return g}function s_(t,e,n){const i=t.pendingWriteTree_,s=t.syncPointTree_.findOnPath(e,(a,c)=>{const u=kn(a,e),f=co(c,u);if(f)return f});return LP(i,e,s,n,!0)}function T7(t,e){const n=e._path;let r=null;t.syncPointTree_.foreachOnPath(n,(f,h)=>{const g=kn(f,n);r=r||co(h,g)});let i=t.syncPointTree_.get(n);i?r=r||co(i,We()):(i=new BP,t.syncPointTree_=t.syncPointTree_.set(n,i));const s=r!=null,a=s?new po(r,!0,!1):null,c=wm(t.pendingWriteTree_,e._path),u=zP(i,e,c,s?a.getNode():Ae.EMPTY_NODE,s);return c7(u)}function gc(t,e){return YP(e,t.syncPointTree_,null,wm(t.pendingWriteTree_,We()))}function YP(t,e,n,r){if(je(t.path))return XP(t,e,n,r);{const i=e.get(We());n==null&&i!=null&&(n=co(i,We()));let s=[];const a=De(t.path),c=t.operationForChild(a),u=e.children.get(a);if(u&&c){const f=n?n.getImmediateChild(a):null,h=jP(r,a);s=s.concat(YP(c,u,f,h))}return i&&(s=s.concat(i_(i,t,r,n))),s}}function XP(t,e,n,r){const i=e.get(We());n==null&&i!=null&&(n=co(i,We()));let s=[];return e.children.inorderTraversal((a,c)=>{const u=n?n.getImmediateChild(a):null,f=jP(r,a),h=t.operationForChild(a);h&&(s=s.concat(XP(h,c,u,f)))}),i&&(s=s.concat(i_(i,t,r,n))),s}function JP(t,e){const n=e.query,r=xd(t,n);return{hashFn:()=>(l7(e)||Ae.EMPTY_NODE).hash(),onComplete:i=>{if(i==="ok")return r?S7(t,n._path,r):E7(t,n._path);{const s=E6(i,n);return Dp(t,n,null,s)}}}}function xd(t,e){const n=xm(e);return t.queryToTagMap.get(n)}function xm(t){return t._path.toString()+"$"+t._queryIdentifier}function o_(t,e){return t.tagToQueryMap.get(e)}function a_(t){const e=t.indexOf("$");return fe(e!==-1&&e<t.length-1,"Bad queryKey."),{queryId:t.substr(e+1),path:new Je(t.substr(0,e))}}function l_(t,e,n){const r=t.syncPointTree_.get(e);fe(r,"Missing sync point for query tag that we're tracking");const i=wm(t.pendingWriteTree_,e);return i_(r,n,i,null)}function k7(t){return t.fold((e,n,r)=>{if(n&&mo(n))return[_m(n)];{let i=[];return n&&(i=HP(n)),cn(r,(s,a)=>{i=i.concat(a)}),i}})}function Wu(t){return t._queryParams.loadsAllData()&&!t._queryParams.isDefault()?new(w7())(t._repo,t._path):t}function P7(t,e){for(let n=0;n<e.length;++n){const r=e[n];if(!r._queryParams.loadsAllData()){const i=xm(r),s=t.queryToTagMap.get(i);t.queryToTagMap.delete(i),t.tagToQueryMap.delete(s)}}}function I7(){return _7++}function R7(t,e,n){const r=e._path,i=xd(t,e),s=JP(t,n),a=t.listenProvider_.startListening(Wu(e),i,s.hashFn,s.onComplete),c=t.syncPointTree_.subtree(r);if(i)fe(!mo(c.value),"If we're adding a query, it shouldn't be shadowed");else{const u=c.fold((f,h,g)=>{if(!je(f)&&h&&mo(h))return[_m(h).query];{let v=[];return h&&(v=v.concat(HP(h).map(x=>x.query))),cn(g,(x,_)=>{v=v.concat(_)}),v}});for(let f=0;f<u.length;++f){const h=u[f];t.listenProvider_.stopListening(Wu(h),xd(t,h))}}return a}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c_{constructor(e){this.node_=e}getImmediateChild(e){const n=this.node_.getImmediateChild(e);return new c_(n)}node(){return this.node_}}class u_{constructor(e,n){this.syncTree_=e,this.path_=n}getImmediateChild(e){const n=St(this.path_,e);return new u_(this.syncTree_,n)}node(){return s_(this.syncTree_,this.path_)}}const A7=function(t){return t=t||{},t.timestamp=t.timestamp||new Date().getTime(),t},wS=function(t,e,n){if(!t||typeof t!="object")return t;if(fe(".sv"in t,"Unexpected leaf node or priority contents"),typeof t[".sv"]=="string")return N7(t[".sv"],e,n);if(typeof t[".sv"]=="object")return O7(t[".sv"],e);fe(!1,"Unexpected server value: "+JSON.stringify(t,null,2))},N7=function(t,e,n){switch(t){case"timestamp":return n.timestamp;default:fe(!1,"Unexpected server value: "+t)}},O7=function(t,e,n){t.hasOwnProperty("increment")||fe(!1,"Unexpected server value: "+JSON.stringify(t,null,2));const r=t.increment;typeof r!="number"&&fe(!1,"Unexpected increment value: "+r);const i=e.node();if(fe(i!==null&&typeof i<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;const a=i.getValue();return typeof a!="number"?r:a+r},QP=function(t,e,n,r){return d_(e,new u_(n,t),r)},ZP=function(t,e,n){return d_(t,new c_(e),n)};function d_(t,e,n){const r=t.getPriority().val(),i=wS(r,e.getImmediateChild(".priority"),n);let s;if(t.isLeafNode()){const a=t,c=wS(a.getValue(),e,n);return c!==a.getValue()||i!==a.getPriority().val()?new Kt(c,Vt(i)):t}else{const a=t;return s=a,i!==a.getPriority().val()&&(s=s.updatePriority(new Kt(i))),a.forEachChild(Tt,(c,u)=>{const f=d_(u,e.getImmediateChild(c),n);f!==u&&(s=s.updateImmediateChild(c,f))}),s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f_{constructor(e="",n=null,r={children:{},childCount:0}){this.name=e,this.parent=n,this.node=r}}function h_(t,e){let n=e instanceof Je?e:new Je(e),r=t,i=De(n);for(;i!==null;){const s=Jl(r.node.children,i)||{children:{},childCount:0};r=new f_(i,r,s),n=st(n),i=De(n)}return r}function vc(t){return t.node.value}function eI(t,e){t.node.value=e,p0(t)}function tI(t){return t.node.childCount>0}function M7(t){return vc(t)===void 0&&!tI(t)}function bm(t,e){cn(t.node.children,(n,r)=>{e(new f_(n,t,r))})}function nI(t,e,n,r){n&&e(t),bm(t,i=>{nI(i,e,!0)})}function D7(t,e,n){let r=t.parent;for(;r!==null;){if(e(r))return!0;r=r.parent}return!1}function Gd(t){return new Je(t.parent===null?t.name:Gd(t.parent)+"/"+t.name)}function p0(t){t.parent!==null&&L7(t.parent,t.name,t)}function L7(t,e,n){const r=M7(n),i=Ii(t.node.children,e);r&&i?(delete t.node.children[e],t.node.childCount--,p0(t)):!r&&!i&&(t.node.children[e]=n.node,t.node.childCount++,p0(t))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j7=/[\[\].#$\/\u0000-\u001F\u007F]/,F7=/[\[\].#$\u0000-\u001F\u007F]/,Jv=10*1024*1024,p_=function(t){return typeof t=="string"&&t.length!==0&&!j7.test(t)},rI=function(t){return typeof t=="string"&&t.length!==0&&!F7.test(t)},$7=function(t){return t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),rI(t)},V7=function(t){return t===null||typeof t=="string"||typeof t=="number"&&!Uw(t)||t&&typeof t=="object"&&Ii(t,".sv")},iI=function(t,e,n,r){r&&e===void 0||Em(lm(t,"value"),e,n)},Em=function(t,e,n){const r=n instanceof Je?new rF(n,t):n;if(e===void 0)throw new Error(t+"contains undefined "+ea(r));if(typeof e=="function")throw new Error(t+"contains a function "+ea(r)+" with contents = "+e.toString());if(Uw(e))throw new Error(t+"contains "+e.toString()+" "+ea(r));if(typeof e=="string"&&e.length>Jv/3&&cm(e)>Jv)throw new Error(t+"contains a string greater than "+Jv+" utf8 bytes "+ea(r)+" ('"+e.substring(0,50)+"...')");if(e&&typeof e=="object"){let i=!1,s=!1;if(cn(e,(a,c)=>{if(a===".value")i=!0;else if(a!==".priority"&&a!==".sv"&&(s=!0,!p_(a)))throw new Error(t+" contains an invalid key ("+a+") "+ea(r)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);iF(r,a),Em(t,c,r),sF(r)}),i&&s)throw new Error(t+' contains ".value" child '+ea(r)+" in addition to actual children.")}},U7=function(t,e){let n,r;for(n=0;n<e.length;n++){r=e[n];const s=gd(r);for(let a=0;a<s.length;a++)if(!(s[a]===".priority"&&a===s.length-1)){if(!p_(s[a]))throw new Error(t+"contains an invalid key ("+s[a]+") in path "+r.toString()+`. Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`)}}e.sort(nF);let i=null;for(n=0;n<e.length;n++){if(r=e[n],i!==null&&Er(i,r))throw new Error(t+"contains a path "+i.toString()+" that is ancestor of another path "+r.toString());i=r}},B7=function(t,e,n,r){const i=lm(t,"values");if(!(e&&typeof e=="object")||Array.isArray(e))throw new Error(i+" must be an object containing the children to replace.");const s=[];cn(e,(a,c)=>{const u=new Je(a);if(Em(i,c,St(n,u)),qw(u)===".priority"&&!V7(c))throw new Error(i+"contains an invalid value for '"+u.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");s.push(u)}),U7(i,s)},sI=function(t,e,n,r){if(!rI(n))throw new Error(lm(t,e)+'was an invalid path = "'+n+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},z7=function(t,e,n,r){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),sI(t,e,n)},oI=function(t,e){if(De(e)===".info")throw new Error(t+" failed = Can't modify data under /.info/")},H7=function(t,e){const n=e.path.toString();if(typeof e.repoInfo.host!="string"||e.repoInfo.host.length===0||!p_(e.repoInfo.namespace)&&e.repoInfo.host.split(":")[0]!=="localhost"||n.length!==0&&!$7(n))throw new Error(lm(t,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W7{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function Sm(t,e){let n=null;for(let r=0;r<e.length;r++){const i=e[r],s=i.getPath();n!==null&&!Gw(s,n.path)&&(t.eventLists_.push(n),n=null),n===null&&(n={events:[],path:s}),n.events.push(i)}n&&t.eventLists_.push(n)}function aI(t,e,n){Sm(t,n),lI(t,r=>Gw(r,e))}function kr(t,e,n){Sm(t,n),lI(t,r=>Er(r,e)||Er(e,r))}function lI(t,e){t.recursionDepth_++;let n=!0;for(let r=0;r<t.eventLists_.length;r++){const i=t.eventLists_[r];if(i){const s=i.path;e(s)?(q7(t.eventLists_[r]),t.eventLists_[r]=null):n=!1}}n&&(t.eventLists_=[]),t.recursionDepth_--}function q7(t){for(let e=0;e<t.events.length;e++){const n=t.events[e];if(n!==null){t.events[e]=null;const r=n.getEventRunner();Uu&&an("event: "+n.toString()),mc(r)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G7="repo_interrupt",K7=25;class Y7{constructor(e,n,r,i){this.repoInfo_=e,this.forceRestClient_=n,this.authTokenProvider_=r,this.appCheckProvider_=i,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new W7,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=kp(),this.transactionQueueTree_=new f_,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function X7(t,e,n){if(t.stats_=Hw(t.repoInfo_),t.forceRestClient_||k6())t.server_=new Tp(t.repoInfo_,(r,i,s,a)=>{_S(t,r,i,s,a)},t.authTokenProvider_,t.appCheckProvider_),setTimeout(()=>xS(t,!0),0);else{if(typeof n<"u"&&n!==null){if(typeof n!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{Ut(n)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}t.persistentConnection_=new os(t.repoInfo_,e,(r,i,s,a)=>{_S(t,r,i,s,a)},r=>{xS(t,r)},r=>{J7(t,r)},t.authTokenProvider_,t.appCheckProvider_,n),t.server_=t.persistentConnection_}t.authTokenProvider_.addTokenChangeListener(r=>{t.server_.refreshAuthToken(r)}),t.appCheckProvider_.addTokenChangeListener(r=>{t.server_.refreshAppCheckToken(r.token)}),t.statsReporter_=N6(t.repoInfo_,()=>new AF(t.stats_,t.server_)),t.infoData_=new TF,t.infoSyncTree_=new yS({startListening:(r,i,s,a)=>{let c=[];const u=t.infoData_.getNode(r._path);return u.isEmpty()||(c=qd(t.infoSyncTree_,r._path,u),setTimeout(()=>{a("ok")},0)),c},stopListening:()=>{}}),m_(t,"connected",!1),t.serverSyncTree_=new yS({startListening:(r,i,s,a)=>(t.server_.listen(r,s,i,(c,u)=>{const f=a(c,u);kr(t.eventQueue_,r._path,f)}),[]),stopListening:(r,i)=>{t.server_.unlisten(r,i)}})}function cI(t){const n=t.infoData_.getNode(new Je(".info/serverTimeOffset")).val()||0;return new Date().getTime()+n}function Cm(t){return A7({timestamp:cI(t)})}function _S(t,e,n,r,i){t.dataUpdateCount++;const s=new Je(e);n=t.interceptServerDataCallback_?t.interceptServerDataCallback_(e,n):n;let a=[];if(i)if(r){const u=pp(n,f=>Vt(f));a=C7(t.serverSyncTree_,s,u,i)}else{const u=Vt(n);a=KP(t.serverSyncTree_,s,u,i)}else if(r){const u=pp(n,f=>Vt(f));a=b7(t.serverSyncTree_,s,u)}else{const u=Vt(n);a=qd(t.serverSyncTree_,s,u)}let c=s;a.length>0&&(c=nc(t,s)),kr(t.eventQueue_,c,a)}function xS(t,e){m_(t,"connected",e),e===!1&&t$(t)}function J7(t,e){cn(e,(n,r)=>{m_(t,n,r)})}function m_(t,e,n){const r=new Je("/.info/"+e),i=Vt(n);t.infoData_.updateSnapshot(r,i);const s=qd(t.infoSyncTree_,r,i);kr(t.eventQueue_,r,s)}function g_(t){return t.nextWriteId_++}function Q7(t,e,n){const r=T7(t.serverSyncTree_,e);return r!=null?Promise.resolve(r):t.server_.get(e).then(i=>{const s=Vt(i).withIndex(e._queryParams.getIndex());h0(t.serverSyncTree_,e,n,!0);let a;if(e._queryParams.loadsAllData())a=qd(t.serverSyncTree_,e._path,s);else{const c=xd(t.serverSyncTree_,e);a=KP(t.serverSyncTree_,e._path,s,c)}return kr(t.eventQueue_,e._path,a),Dp(t.serverSyncTree_,e,n,null,!0),s},i=>(Kd(t,"get for query "+Ut(e)+" failed: "+i),Promise.reject(new Error(i))))}function Z7(t,e,n,r,i){Kd(t,"set",{path:e.toString(),value:n,priority:r});const s=Cm(t),a=Vt(n,r),c=s_(t.serverSyncTree_,e),u=ZP(a,c,s),f=g_(t),h=GP(t.serverSyncTree_,e,u,f,!0);Sm(t.eventQueue_,h),t.server_.put(e.toString(),a.val(!0),(v,x)=>{const _=v==="ok";_||In("set at "+e+" failed: "+v);const T=ro(t.serverSyncTree_,f,!_);kr(t.eventQueue_,e,T),m0(t,i,v,x)});const g=y_(t,e);nc(t,g),kr(t.eventQueue_,g,[])}function e$(t,e,n,r){Kd(t,"update",{path:e.toString(),value:n});let i=!0;const s=Cm(t),a={};if(cn(n,(c,u)=>{i=!1,a[c]=QP(St(e,c),Vt(u),t.serverSyncTree_,s)}),i)an("update() called with empty data.  Don't do anything."),m0(t,r,"ok",void 0);else{const c=g_(t),u=x7(t.serverSyncTree_,e,a,c);Sm(t.eventQueue_,u),t.server_.merge(e.toString(),n,(f,h)=>{const g=f==="ok";g||In("update at "+e+" failed: "+f);const v=ro(t.serverSyncTree_,c,!g),x=v.length>0?nc(t,e):e;kr(t.eventQueue_,x,v),m0(t,r,f,h)}),cn(n,f=>{const h=y_(t,St(e,f));nc(t,h)}),kr(t.eventQueue_,e,[])}}function t$(t){Kd(t,"onDisconnectEvents");const e=Cm(t),n=kp();a0(t.onDisconnect_,We(),(i,s)=>{const a=QP(i,s,t.serverSyncTree_,e);NP(n,i,a)});let r=[];a0(n,We(),(i,s)=>{r=r.concat(qd(t.serverSyncTree_,i,s));const a=y_(t,i);nc(t,a)}),t.onDisconnect_=kp(),kr(t.eventQueue_,We(),r)}function n$(t,e,n){let r;De(e._path)===".info"?r=h0(t.infoSyncTree_,e,n):r=h0(t.serverSyncTree_,e,n),aI(t.eventQueue_,e._path,r)}function uI(t,e,n){let r;De(e._path)===".info"?r=Dp(t.infoSyncTree_,e,n):r=Dp(t.serverSyncTree_,e,n),aI(t.eventQueue_,e._path,r)}function r$(t){t.persistentConnection_&&t.persistentConnection_.interrupt(G7)}function Kd(t,...e){let n="";t.persistentConnection_&&(n=t.persistentConnection_.id+":"),an(n,...e)}function m0(t,e,n,r){e&&mc(()=>{if(n==="ok")e(null);else{const i=(n||"error").toUpperCase();let s=i;r&&(s+=": "+r);const a=new Error(s);a.code=i,e(a)}})}function dI(t,e,n){return s_(t.serverSyncTree_,e,n)||Ae.EMPTY_NODE}function v_(t,e=t.transactionQueueTree_){if(e||Tm(t,e),vc(e)){const n=hI(t,e);fe(n.length>0,"Sending zero length transaction queue"),n.every(i=>i.status===0)&&i$(t,Gd(e),n)}else tI(e)&&bm(e,n=>{v_(t,n)})}function i$(t,e,n){const r=n.map(f=>f.currentWriteId),i=dI(t,e,r);let s=i;const a=i.hash();for(let f=0;f<n.length;f++){const h=n[f];fe(h.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),h.status=1,h.retryCount++;const g=kn(e,h.path);s=s.updateChild(g,h.currentOutputSnapshotRaw)}const c=s.val(!0),u=e;t.server_.put(u.toString(),c,f=>{Kd(t,"transaction put response",{path:u.toString(),status:f});let h=[];if(f==="ok"){const g=[];for(let v=0;v<n.length;v++)n[v].status=2,h=h.concat(ro(t.serverSyncTree_,n[v].currentWriteId)),n[v].onComplete&&g.push(()=>n[v].onComplete(null,!0,n[v].currentOutputSnapshotResolved)),n[v].unwatcher();Tm(t,h_(t.transactionQueueTree_,e)),v_(t,t.transactionQueueTree_),kr(t.eventQueue_,e,h);for(let v=0;v<g.length;v++)mc(g[v])}else{if(f==="datastale")for(let g=0;g<n.length;g++)n[g].status===3?n[g].status=4:n[g].status=0;else{In("transaction at "+u.toString()+" failed: "+f);for(let g=0;g<n.length;g++)n[g].status=4,n[g].abortReason=f}nc(t,e)}},a)}function nc(t,e){const n=fI(t,e),r=Gd(n),i=hI(t,n);return s$(t,i,r),r}function s$(t,e,n){if(e.length===0)return;const r=[];let i=[];const a=e.filter(c=>c.status===0).map(c=>c.currentWriteId);for(let c=0;c<e.length;c++){const u=e[c],f=kn(n,u.path);let h=!1,g;if(fe(f!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),u.status===4)h=!0,g=u.abortReason,i=i.concat(ro(t.serverSyncTree_,u.currentWriteId,!0));else if(u.status===0)if(u.retryCount>=K7)h=!0,g="maxretry",i=i.concat(ro(t.serverSyncTree_,u.currentWriteId,!0));else{const v=dI(t,u.path,a);u.currentInputSnapshot=v;const x=e[c].update(v.val());if(x!==void 0){Em("transaction failed: Data returned ",x,u.path);let _=Vt(x);typeof x=="object"&&x!=null&&Ii(x,".priority")||(_=_.updatePriority(v.getPriority()));const N=u.currentWriteId,A=Cm(t),k=ZP(_,v,A);u.currentOutputSnapshotRaw=_,u.currentOutputSnapshotResolved=k,u.currentWriteId=g_(t),a.splice(a.indexOf(N),1),i=i.concat(GP(t.serverSyncTree_,u.path,k,u.currentWriteId,u.applyLocally)),i=i.concat(ro(t.serverSyncTree_,N,!0))}else h=!0,g="nodata",i=i.concat(ro(t.serverSyncTree_,u.currentWriteId,!0))}kr(t.eventQueue_,n,i),i=[],h&&(e[c].status=2,function(v){setTimeout(v,Math.floor(0))}(e[c].unwatcher),e[c].onComplete&&(g==="nodata"?r.push(()=>e[c].onComplete(null,!1,e[c].currentInputSnapshot)):r.push(()=>e[c].onComplete(new Error(g),!1,null))))}Tm(t,t.transactionQueueTree_);for(let c=0;c<r.length;c++)mc(r[c]);v_(t,t.transactionQueueTree_)}function fI(t,e){let n,r=t.transactionQueueTree_;for(n=De(e);n!==null&&vc(r)===void 0;)r=h_(r,n),e=st(e),n=De(e);return r}function hI(t,e){const n=[];return pI(t,e,n),n.sort((r,i)=>r.order-i.order),n}function pI(t,e,n){const r=vc(e);if(r)for(let i=0;i<r.length;i++)n.push(r[i]);bm(e,i=>{pI(t,i,n)})}function Tm(t,e){const n=vc(e);if(n){let r=0;for(let i=0;i<n.length;i++)n[i].status!==2&&(n[r]=n[i],r++);n.length=r,eI(e,n.length>0?n:void 0)}bm(e,r=>{Tm(t,r)})}function y_(t,e){const n=Gd(fI(t,e)),r=h_(t.transactionQueueTree_,e);return D7(r,i=>{Qv(t,i)}),Qv(t,r),nI(r,i=>{Qv(t,i)}),n}function Qv(t,e){const n=vc(e);if(n){const r=[];let i=[],s=-1;for(let a=0;a<n.length;a++)n[a].status===3||(n[a].status===1?(fe(s===a-1,"All SENT items should be at beginning of queue."),s=a,n[a].status=3,n[a].abortReason="set"):(fe(n[a].status===0,"Unexpected transaction status in abort"),n[a].unwatcher(),i=i.concat(ro(t.serverSyncTree_,n[a].currentWriteId,!0)),n[a].onComplete&&r.push(n[a].onComplete.bind(null,new Error("set"),!1,null))));s===-1?eI(e,void 0):n.length=s+1,kr(t.eventQueue_,Gd(e),i);for(let a=0;a<r.length;a++)mc(r[a])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function o$(t){let e="";const n=t.split("/");for(let r=0;r<n.length;r++)if(n[r].length>0){let i=n[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch{}e+="/"+i}return e}function a$(t){const e={};t.charAt(0)==="?"&&(t=t.substring(1));for(const n of t.split("&")){if(n.length===0)continue;const r=n.split("=");r.length===2?e[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):In(`Invalid query segment '${n}' in query '${t}'`)}return e}const bS=function(t,e){const n=l$(t),r=n.namespace;n.domain==="firebase.com"&&fs(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||r==="undefined")&&n.domain!=="localhost"&&fs("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||y6();const i=n.scheme==="ws"||n.scheme==="wss";return{repoInfo:new mP(n.host,n.secure,r,i,e,"",r!==n.subdomain),path:new Je(n.pathString)}},l$=function(t){let e="",n="",r="",i="",s="",a=!0,c="https",u=443;if(typeof t=="string"){let f=t.indexOf("//");f>=0&&(c=t.substring(0,f-1),t=t.substring(f+2));let h=t.indexOf("/");h===-1&&(h=t.length);let g=t.indexOf("?");g===-1&&(g=t.length),e=t.substring(0,Math.min(h,g)),h<g&&(i=o$(t.substring(h,g)));const v=a$(t.substring(Math.min(t.length,g)));f=e.indexOf(":"),f>=0?(a=c==="https"||c==="wss",u=parseInt(e.substring(f+1),10)):f=e.length;const x=e.slice(0,f);if(x.toLowerCase()==="localhost")n="localhost";else if(x.split(".").length<=2)n=x;else{const _=e.indexOf(".");r=e.substring(0,_).toLowerCase(),n=e.substring(_+1),s=r}"ns"in v&&(s=v.ns)}return{host:e,port:u,domain:n,subdomain:r,secure:a,scheme:c,pathString:i,namespace:s}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ES="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",c$=function(){let t=0;const e=[];return function(n){const r=n===t;t=n;let i;const s=new Array(8);for(i=7;i>=0;i--)s[i]=ES.charAt(n%64),n=Math.floor(n/64);fe(n===0,"Cannot push at time == 0");let a=s.join("");if(r){for(i=11;i>=0&&e[i]===63;i--)e[i]=0;e[i]++}else for(i=0;i<12;i++)e[i]=Math.floor(Math.random()*64);for(i=0;i<12;i++)a+=ES.charAt(e[i]);return fe(a.length===20,"nextPushId: Length should be 20."),a}}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u${constructor(e,n,r,i){this.eventType=e,this.eventRegistration=n,this.snapshot=r,this.prevName=i}getPath(){const e=this.snapshot.ref;return this.eventType==="value"?e._path:e.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+Ut(this.snapshot.exportVal())}}class d${constructor(e,n,r){this.eventRegistration=e,this.error=n,this.path=r}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w_{constructor(e,n){this.snapshotCallback=e,this.cancelCallback=n}onValue(e,n){this.snapshotCallback.call(null,e,n)}onCancel(e){return fe(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}get hasCancelCallback(){return!!this.cancelCallback}matches(e){return this.snapshotCallback===e.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __{constructor(e,n,r,i){this._repo=e,this._path=n,this._queryParams=r,this._orderByCalled=i}get key(){return je(this._path)?null:qw(this._path)}get ref(){return new _s(this._repo,this._path)}get _queryIdentifier(){const e=lS(this._queryParams),n=Bw(e);return n==="{}"?"default":n}get _queryObject(){return lS(this._queryParams)}isEqual(e){if(e=ft(e),!(e instanceof __))return!1;const n=this._repo===e._repo,r=Gw(this._path,e._path),i=this._queryIdentifier===e._queryIdentifier;return n&&r&&i}toJSON(){return this.toString()}toString(){return this._repo.toString()+tF(this._path)}}class _s extends __{constructor(e,n){super(e,n,new Jw,!1)}get parent(){const e=SP(this._path);return e===null?null:new _s(this._repo,e)}get root(){let e=this;for(;e.parent!==null;)e=e.parent;return e}}class bd{constructor(e,n,r){this._node=e,this.ref=n,this._index=r}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(e){const n=new Je(e),r=Ed(this.ref,e);return new bd(this._node.getChild(n),r,Tt)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(e){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(r,i)=>e(new bd(i,Ed(this.ref,r),Tt)))}hasChild(e){const n=new Je(e);return!this._node.getChild(n).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function Ce(t,e){return t=ft(t),t._checkNotDeleted("ref"),e!==void 0?Ed(t._root,e):t._root}function Ed(t,e){return t=ft(t),De(t._path)===null?z7("child","path",e):sI("child","path",e),new _s(t._repo,St(t._path,e))}function jl(t,e){t=ft(t),oI("push",t._path),iI("push",e,t._path,!0);const n=cI(t._repo),r=c$(n),i=Ed(t,r),s=Ed(t,r);let a;return e!=null?a=Ct(s,e).then(()=>s):a=Promise.resolve(s),i.then=a.then.bind(a),i.catch=a.then.bind(a,void 0),i}function Ct(t,e){t=ft(t),oI("set",t._path),iI("set",e,t._path,!1);const n=new jd;return Z7(t._repo,t._path,e,null,n.wrapCallback(()=>{})),n.promise}function hs(t,e){B7("update",e,t._path);const n=new jd;return e$(t._repo,t._path,e,n.wrapCallback(()=>{})),n.promise}function Sr(t){t=ft(t);const e=new w_(()=>{}),n=new Yd(e);return Q7(t._repo,t,n).then(r=>new bd(r,new _s(t._repo,t._path),t._queryParams.getIndex()))}class Yd{constructor(e){this.callbackContext=e}respondsTo(e){return e==="value"}createEvent(e,n){const r=n._queryParams.getIndex();return new u$("value",this,new bd(e.snapshotNode,new _s(n._repo,n._path),r))}getEventRunner(e){return e.getEventType()==="cancel"?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,null)}createCancelEvent(e,n){return this.callbackContext.hasCancelCallback?new d$(this,e,n):null}matches(e){return e instanceof Yd?!e.callbackContext||!this.callbackContext?!0:e.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}}function f$(t,e,n,r,i){const s=new w_(n,void 0),a=new Yd(s);return n$(t._repo,t,a),()=>uI(t._repo,t,a)}function ln(t,e,n,r){return f$(t,"value",e)}function Sa(t,e,n){let r=null;const i=n?new w_(n):null;r=new Yd(i),uI(t._repo,t,r)}h7(_s);y7(_s);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h$="FIREBASE_DATABASE_EMULATOR_HOST",g0={};let p$=!1;function m$(t,e,n,r){const i=e.lastIndexOf(":"),s=e.substring(0,i),a=wo(s);t.repoInfo_=new mP(e,a,t.repoInfo_.namespace,t.repoInfo_.webSocketOnly,t.repoInfo_.nodeAdmin,t.repoInfo_.persistenceKey,t.repoInfo_.includeNamespaceInQueryParams,!0,n),r&&(t.authTokenProvider_=r)}function g$(t,e,n,r,i){let s=r||t.options.databaseURL;s===void 0&&(t.options.projectId||fs("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),an("Using default host for project ",t.options.projectId),s=`${t.options.projectId}-default-rtdb.firebaseio.com`);let a=bS(s,i),c=a.repoInfo,u;typeof process<"u"&&HE&&(u=HE[h$]),u?(s=`http://${u}?ns=${c.namespace}`,a=bS(s,i),c=a.repoInfo):a.repoInfo.secure;const f=new I6(t.name,t.options,e);H7("Invalid Firebase Database URL",a),je(a.path)||fs("Database URL must point to the root of a Firebase Database (not including a child path).");const h=y$(c,t,f,new P6(t,n));return new w$(h,t)}function v$(t,e){const n=g0[e];(!n||n[t.key]!==t)&&fs(`Database ${e}(${t.repoInfo_}) has already been deleted.`),r$(t),delete n[t.key]}function y$(t,e,n,r){let i=g0[e.name];i||(i={},g0[e.name]=i);let s=i[t.toURLString()];return s&&fs("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),s=new Y7(t,p$,n,r),i[t.toURLString()]=s,s}class w${constructor(e,n){this._repoInternal=e,this.app=n,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(X7(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0,_o("Database",this._repo.repoInfo_.emulatorOptions!==null)),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new _s(this._repo,We())),this._rootInternal}_delete(){return this._rootInternal!==null&&(v$(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){this._rootInternal===null&&fs("Cannot call "+e+" on a deleted database.")}}function x_(t=Fd(),e){const n=xo(t,"database").getImmediate({identifier:e});if(!n._instanceStarted){const r=yw("database");r&&mI(n,...r)}return n}function mI(t,e,n,r={}){t=ft(t),t._checkNotDeleted("useEmulator");const i=`${e}:${n}`,s=t._repoInternal;if(t._instanceStarted){if(i===t._repoInternal.repoInfo_.host&&fo(r,s.repoInfo_.emulatorOptions))return;fs("connectDatabaseEmulator() cannot initialize or alter the emulator configuration after the database instance has started.")}let a;if(s.repoInfo_.nodeAdmin)r.mockUserToken&&fs('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),a=new ep(ep.OWNER);else if(r.mockUserToken){const c=typeof r.mockUserToken=="string"?r.mockUserToken:ww(r.mockUserToken,t.app.options.projectId);a=new ep(c)}wo(e)&&(am(e),_o("Database",!0)),m$(s,i,r,a)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _$(t){f6(bo),ar(new qn("database",(e,{instanceIdentifier:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal"),s=e.getProvider("app-check-internal");return g$(r,i,s,n)},"PUBLIC").setMultipleInstances(!0)),Jt(WE,qE,t),Jt(WE,qE,"esm2017")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x$={".sv":"timestamp"};function b$(){return x$}os.prototype.simpleListen=function(t,e){this.sendRequest("q",{p:t},e)};os.prototype.echo=function(t,e){this.sendRequest("echo",{d:t},e)};_$();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gI="firebasestorage.googleapis.com",vI="storageBucket",E$=2*60*1e3,S$=10*60*1e3,C$=1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yt extends ri{constructor(e,n,r=0){super(Zv(e),`Firebase Storage: ${n} (${Zv(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,yt.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Zv(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var lt;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(lt||(lt={}));function Zv(t){return"storage/"+t}function b_(){const t="An unknown error occurred, please check the error payload for server response.";return new yt(lt.UNKNOWN,t)}function T$(t){return new yt(lt.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function k$(t){return new yt(lt.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function P$(){const t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new yt(lt.UNAUTHENTICATED,t)}function I$(){return new yt(lt.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function R$(t){return new yt(lt.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function yI(){return new yt(lt.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function wI(){return new yt(lt.CANCELED,"User canceled the upload/download.")}function A$(t){return new yt(lt.INVALID_URL,"Invalid URL '"+t+"'.")}function N$(t){return new yt(lt.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function O$(){return new yt(lt.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+vI+"' property when initializing the app?")}function _I(){return new yt(lt.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function M$(){return new yt(lt.SERVER_FILE_WRONG_SIZE,"Server recorded incorrect upload file size, please retry the upload.")}function D$(){return new yt(lt.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function L$(t){return new yt(lt.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function v0(t){return new yt(lt.INVALID_ARGUMENT,t)}function xI(){return new yt(lt.APP_DELETED,"The Firebase app was deleted.")}function j$(t){return new yt(lt.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function qu(t,e){return new yt(lt.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function Su(t){throw new yt(lt.INTERNAL_ERROR,"Internal error: "+t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ir{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=ir.makeFromUrl(e,n)}catch{return new ir(e,"")}if(r.path==="")return r;throw N$(e)}static makeFromUrl(e,n){let r=null;const i="([A-Za-z0-9.\\-_]+)";function s(j){j.path.charAt(j.path.length-1)==="/"&&(j.path_=j.path_.slice(0,-1))}const a="(/(.*))?$",c=new RegExp("^gs://"+i+a,"i"),u={bucket:1,path:3};function f(j){j.path_=decodeURIComponent(j.path)}const h="v[A-Za-z0-9_]+",g=n.replace(/[.]/g,"\\."),v="(/([^?#]*).*)?$",x=new RegExp(`^https?://${g}/${h}/b/${i}/o${v}`,"i"),_={bucket:1,path:3},T=n===gI?"(?:storage.googleapis.com|storage.cloud.google.com)":n,N="([^?#]*)",A=new RegExp(`^https?://${T}/${i}/${N}`,"i"),P=[{regex:c,indices:u,postModify:s},{regex:x,indices:_,postModify:f},{regex:A,indices:{bucket:1,path:2},postModify:f}];for(let j=0;j<P.length;j++){const $=P[j],z=$.regex.exec(e);if(z){const D=z[$.indices.bucket];let I=z[$.indices.path];I||(I=""),r=new ir(D,I),$.postModify(r);break}}if(r==null)throw A$(e);return r}}class F${constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $$(t,e,n){let r=1,i=null,s=null,a=!1,c=0;function u(){return c===2}let f=!1;function h(...N){f||(f=!0,e.apply(null,N))}function g(N){i=setTimeout(()=>{i=null,t(x,u())},N)}function v(){s&&clearTimeout(s)}function x(N,...A){if(f){v();return}if(N){v(),h.call(null,N,...A);return}if(u()||a){v(),h.call(null,N,...A);return}r<64&&(r*=2);let P;c===1?(c=2,P=0):P=(r+Math.random())*1e3,g(P)}let _=!1;function T(N){_||(_=!0,v(),!f&&(i!==null?(N||(c=2),clearTimeout(i),g(0)):N||(c=1)))}return g(0),s=setTimeout(()=>{a=!0,T(!0)},n),T}function V$(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function U$(t){return t!==void 0}function B$(t){return typeof t=="function"}function z$(t){return typeof t=="object"&&!Array.isArray(t)}function km(t){return typeof t=="string"||t instanceof String}function SS(t){return E_()&&t instanceof Blob}function E_(){return typeof Blob<"u"}function CS(t,e,n,r){if(r<e)throw v0(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw v0(`Invalid value for '${t}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xd(t,e,n){let r=e;return n==null&&(r=`https://${e}`),`${n}://${r}/v0${t}`}function bI(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const i=e(r)+"="+e(t[r]);n=n+i+"&"}return n=n.slice(0,-1),n}var ha;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(ha||(ha={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EI(t,e){const n=t>=500&&t<600,i=[408,429].indexOf(t)!==-1,s=e.indexOf(t)!==-1;return n||i||s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H${constructor(e,n,r,i,s,a,c,u,f,h,g,v=!0,x=!1){this.url_=e,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=s,this.additionalRetryCodes_=a,this.callback_=c,this.errorCallback_=u,this.timeout_=f,this.progressCallback_=h,this.connectionFactory_=g,this.retry=v,this.isUsingEmulator=x,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((_,T)=>{this.resolve_=_,this.reject_=T,this.start_()})}start_(){const e=(r,i)=>{if(i){r(!1,new Ah(!1,null,!0));return}const s=this.connectionFactory_();this.pendingConnection_=s;const a=c=>{const u=c.loaded,f=c.lengthComputable?c.total:-1;this.progressCallback_!==null&&this.progressCallback_(u,f)};this.progressCallback_!==null&&s.addUploadProgressListener(a),s.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&s.removeUploadProgressListener(a),this.pendingConnection_=null;const c=s.getErrorCode()===ha.NO_ERROR,u=s.getStatus();if(!c||EI(u,this.additionalRetryCodes_)&&this.retry){const h=s.getErrorCode()===ha.ABORT;r(!1,new Ah(!1,null,h));return}const f=this.successCodes_.indexOf(u)!==-1;r(!0,new Ah(f,s))})},n=(r,i)=>{const s=this.resolve_,a=this.reject_,c=i.connection;if(i.wasSuccessCode)try{const u=this.callback_(c,c.getResponse());U$(u)?s(u):s()}catch(u){a(u)}else if(c!==null){const u=b_();u.serverResponse=c.getErrorText(),this.errorCallback_?a(this.errorCallback_(c,u)):a(u)}else if(i.canceled){const u=this.appDelete_?xI():wI();a(u)}else{const u=yI();a(u)}};this.canceled_?n(!1,new Ah(!1,null,!0)):this.backoffId_=$$(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&V$(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Ah{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function W$(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function q$(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function G$(t,e){e&&(t["X-Firebase-GMPID"]=e)}function K$(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function Y$(t,e,n,r,i,s,a=!0,c=!1){const u=bI(t.urlParams),f=t.url+u,h=Object.assign({},t.headers);return G$(h,e),W$(h,n),q$(h,s),K$(h,r),new H$(f,t.method,h,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i,a,c)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function X$(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function J$(...t){const e=X$();if(e!==void 0){const n=new e;for(let r=0;r<t.length;r++)n.append(t[r]);return n.getBlob()}else{if(E_())return new Blob(t);throw new yt(lt.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function Q$(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Z$(t){if(typeof atob>"u")throw L$("base-64");return atob(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xi={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class ey{constructor(e,n){this.data=e,this.contentType=n||null}}function e9(t,e){switch(t){case xi.RAW:return new ey(SI(e));case xi.BASE64:case xi.BASE64URL:return new ey(CI(t,e));case xi.DATA_URL:return new ey(n9(e),r9(e))}throw b_()}function SI(t){const e=[];for(let n=0;n<t.length;n++){let r=t.charCodeAt(n);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(n<t.length-1&&(t.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{const s=r,a=t.charCodeAt(++n);r=65536|(s&1023)<<10|a&1023,e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(e)}function t9(t){let e;try{e=decodeURIComponent(t)}catch{throw qu(xi.DATA_URL,"Malformed data URL.")}return SI(e)}function CI(t,e){switch(t){case xi.BASE64:{const i=e.indexOf("-")!==-1,s=e.indexOf("_")!==-1;if(i||s)throw qu(t,"Invalid character '"+(i?"-":"_")+"' found: is it base64url encoded?");break}case xi.BASE64URL:{const i=e.indexOf("+")!==-1,s=e.indexOf("/")!==-1;if(i||s)throw qu(t,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=Z$(e)}catch(i){throw i.message.includes("polyfill")?i:qu(t,"Invalid character found")}const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}class TI{constructor(e){this.base64=!1,this.contentType=null;const n=e.match(/^data:([^,]+)?,/);if(n===null)throw qu(xi.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=n[1]||null;r!=null&&(this.base64=i9(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}function n9(t){const e=new TI(t);return e.base64?CI(xi.BASE64,e.rest):t9(e.rest)}function r9(t){return new TI(t).contentType}function i9(t,e){return t.length>=e.length?t.substring(t.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eo{constructor(e,n){let r=0,i="";SS(e)?(this.data_=e,r=e.size,i=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=i}size(){return this.size_}type(){return this.type_}slice(e,n){if(SS(this.data_)){const r=this.data_,i=Q$(r,e,n);return i===null?null:new eo(i)}else{const r=new Uint8Array(this.data_.buffer,e,n-e);return new eo(r,!0)}}static getBlob(...e){if(E_()){const n=e.map(r=>r instanceof eo?r.data_:r);return new eo(J$.apply(null,n))}else{const n=e.map(a=>km(a)?e9(xi.RAW,a).data:a.data_);let r=0;n.forEach(a=>{r+=a.byteLength});const i=new Uint8Array(r);let s=0;return n.forEach(a=>{for(let c=0;c<a.length;c++)i[s++]=a[c]}),new eo(i,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kI(t){let e;try{e=JSON.parse(t)}catch{return null}return z$(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function s9(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function o9(t,e){const n=e.split("/").filter(r=>r.length>0).join("/");return t.length===0?n:t+"/"+n}function PI(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function a9(t,e){return e}class Cn{constructor(e,n,r,i){this.server=e,this.local=n||e,this.writable=!!r,this.xform=i||a9}}let Nh=null;function l9(t){return!km(t)||t.length<2?t:PI(t)}function II(){if(Nh)return Nh;const t=[];t.push(new Cn("bucket")),t.push(new Cn("generation")),t.push(new Cn("metageneration")),t.push(new Cn("name","fullPath",!0));function e(s,a){return l9(a)}const n=new Cn("name");n.xform=e,t.push(n);function r(s,a){return a!==void 0?Number(a):a}const i=new Cn("size");return i.xform=r,t.push(i),t.push(new Cn("timeCreated")),t.push(new Cn("updated")),t.push(new Cn("md5Hash",null,!0)),t.push(new Cn("cacheControl",null,!0)),t.push(new Cn("contentDisposition",null,!0)),t.push(new Cn("contentEncoding",null,!0)),t.push(new Cn("contentLanguage",null,!0)),t.push(new Cn("contentType",null,!0)),t.push(new Cn("metadata","customMetadata",!0)),Nh=t,Nh}function c9(t,e){function n(){const r=t.bucket,i=t.fullPath,s=new ir(r,i);return e._makeStorageReference(s)}Object.defineProperty(t,"ref",{get:n})}function u9(t,e,n){const r={};r.type="file";const i=n.length;for(let s=0;s<i;s++){const a=n[s];r[a.local]=a.xform(r,e[a.server])}return c9(r,t),r}function RI(t,e,n){const r=kI(e);return r===null?null:u9(t,r,n)}function d9(t,e,n,r){const i=kI(e);if(i===null||!km(i.downloadTokens))return null;const s=i.downloadTokens;if(s.length===0)return null;const a=encodeURIComponent;return s.split(",").map(f=>{const h=t.bucket,g=t.fullPath,v="/b/"+a(h)+"/o/"+a(g),x=Xd(v,n,r),_=bI({alt:"media",token:f});return x+_})[0]}function AI(t,e){const n={},r=e.length;for(let i=0;i<r;i++){const s=e[i];s.writable&&(n[s.server]=t[s.local])}return JSON.stringify(n)}class yc{constructor(e,n,r,i){this.url=e,this.method=n,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function as(t){if(!t)throw b_()}function S_(t,e){function n(r,i){const s=RI(t,i,e);return as(s!==null),s}return n}function f9(t,e){function n(r,i){const s=RI(t,i,e);return as(s!==null),d9(s,i,t.host,t._protocol)}return n}function Jd(t){function e(n,r){let i;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?i=I$():i=P$():n.getStatus()===402?i=k$(t.bucket):n.getStatus()===403?i=R$(t.path):i=r,i.status=n.getStatus(),i.serverResponse=r.serverResponse,i}return e}function NI(t){const e=Jd(t);function n(r,i){let s=e(r,i);return r.getStatus()===404&&(s=T$(t.path)),s.serverResponse=i.serverResponse,s}return n}function h9(t,e,n){const r=e.fullServerUrl(),i=Xd(r,t.host,t._protocol),s="GET",a=t.maxOperationRetryTime,c=new yc(i,s,S_(t,n),a);return c.errorHandler=NI(e),c}function p9(t,e,n){const r=e.fullServerUrl(),i=Xd(r,t.host,t._protocol),s="GET",a=t.maxOperationRetryTime,c=new yc(i,s,f9(t,n),a);return c.errorHandler=NI(e),c}function m9(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function OI(t,e,n){const r=Object.assign({},n);return r.fullPath=t.path,r.size=e.size(),r.contentType||(r.contentType=m9(null,e)),r}function g9(t,e,n,r,i){const s=e.bucketOnlyServerUrl(),a={"X-Goog-Upload-Protocol":"multipart"};function c(){let P="";for(let j=0;j<2;j++)P=P+Math.random().toString().slice(2);return P}const u=c();a["Content-Type"]="multipart/related; boundary="+u;const f=OI(e,r,i),h=AI(f,n),g="--"+u+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+h+`\r
--`+u+`\r
Content-Type: `+f.contentType+`\r
\r
`,v=`\r
--`+u+"--",x=eo.getBlob(g,r,v);if(x===null)throw _I();const _={name:f.fullPath},T=Xd(s,t.host,t._protocol),N="POST",A=t.maxUploadRetryTime,k=new yc(T,N,S_(t,n),A);return k.urlParams=_,k.headers=a,k.body=x.uploadData(),k.errorHandler=Jd(e),k}class Lp{constructor(e,n,r,i){this.current=e,this.total=n,this.finalized=!!r,this.metadata=i||null}}function C_(t,e){let n=null;try{n=t.getResponseHeader("X-Goog-Upload-Status")}catch{as(!1)}return as(!!n&&(e||["active"]).indexOf(n)!==-1),n}function v9(t,e,n,r,i){const s=e.bucketOnlyServerUrl(),a=OI(e,r,i),c={name:a.fullPath},u=Xd(s,t.host,t._protocol),f="POST",h={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${r.size()}`,"X-Goog-Upload-Header-Content-Type":a.contentType,"Content-Type":"application/json; charset=utf-8"},g=AI(a,n),v=t.maxUploadRetryTime;function x(T){C_(T);let N;try{N=T.getResponseHeader("X-Goog-Upload-URL")}catch{as(!1)}return as(km(N)),N}const _=new yc(u,f,x,v);return _.urlParams=c,_.headers=h,_.body=g,_.errorHandler=Jd(e),_}function y9(t,e,n,r){const i={"X-Goog-Upload-Command":"query"};function s(f){const h=C_(f,["active","final"]);let g=null;try{g=f.getResponseHeader("X-Goog-Upload-Size-Received")}catch{as(!1)}g||as(!1);const v=Number(g);return as(!isNaN(v)),new Lp(v,r.size(),h==="final")}const a="POST",c=t.maxUploadRetryTime,u=new yc(n,a,s,c);return u.headers=i,u.errorHandler=Jd(e),u}const TS=256*1024;function w9(t,e,n,r,i,s,a,c){const u=new Lp(0,0);if(a?(u.current=a.current,u.total=a.total):(u.current=0,u.total=r.size()),r.size()!==u.total)throw M$();const f=u.total-u.current;let h=f;i>0&&(h=Math.min(h,i));const g=u.current,v=g+h;let x="";h===0?x="finalize":f===h?x="upload, finalize":x="upload";const _={"X-Goog-Upload-Command":x,"X-Goog-Upload-Offset":`${u.current}`},T=r.slice(g,v);if(T===null)throw _I();function N(j,$){const z=C_(j,["active","final"]),D=u.current+h,I=r.size();let O;return z==="final"?O=S_(e,s)(j,$):O=null,new Lp(D,I,z==="final",O)}const A="POST",k=e.maxUploadRetryTime,P=new yc(n,A,N,k);return P.headers=_,P.body=T.uploadData(),P.progressCallback=c||null,P.errorHandler=Jd(t),P}const Un={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function ty(t){switch(t){case"running":case"pausing":case"canceling":return Un.RUNNING;case"paused":return Un.PAUSED;case"success":return Un.SUCCESS;case"canceled":return Un.CANCELED;case"error":return Un.ERROR;default:return Un.ERROR}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let _9=class{constructor(e,n,r){if(B$(e)||n!=null||r!=null)this.next=e,this.error=n??void 0,this.complete=r??void 0;else{const s=e;this.next=s.next,this.error=s.error,this.complete=s.complete}}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kl(t){return(...e)=>{Promise.resolve().then(()=>t(...e))}}class x9{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=ha.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=ha.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=ha.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,r,i,s){if(this.sent_)throw Su("cannot .send() more than once");if(wo(e)&&r&&(this.xhr_.withCredentials=!0),this.sent_=!0,this.xhr_.open(n,e,!0),s!==void 0)for(const a in s)s.hasOwnProperty(a)&&this.xhr_.setRequestHeader(a,s[a].toString());return i!==void 0?this.xhr_.send(i):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Su("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Su("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Su("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Su("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class b9 extends x9{initXhr(){this.xhr_.responseType="text"}}function Ml(){return new b9}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E9{isExponentialBackoffExpired(){return this.sleepTime>this.maxSleepTime}constructor(e,n,r=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=e,this._blob=n,this._metadata=r,this._mappings=II(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=i=>{if(this._request=void 0,this._chunkMultiplier=1,i._codeEquals(lt.CANCELED))this._needToFetchStatus=!0,this.completeTransitions_();else{const s=this.isExponentialBackoffExpired();if(EI(i.status,[]))if(s)i=yI();else{this.sleepTime=Math.max(this.sleepTime*2,C$),this._needToFetchStatus=!0,this.completeTransitions_();return}this._error=i,this._transition("error")}},this._metadataErrorHandler=i=>{this._request=void 0,i._codeEquals(lt.CANCELED)?this.completeTransitions_():(this._error=i,this._transition("error"))},this.sleepTime=0,this.maxSleepTime=this._ref.storage.maxUploadRetryTime,this._promise=new Promise((i,s)=>{this._resolve=i,this._reject=s,this._start()}),this._promise.then(null,()=>{})}_makeProgressCallback(){const e=this._transferred;return n=>this._updateProgress(e+n)}_shouldDoResumable(e){return e.size()>256*1024}_start(){this._state==="running"&&this._request===void 0&&(this._resumable?this._uploadUrl===void 0?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this.pendingTimeout=setTimeout(()=>{this.pendingTimeout=void 0,this._continueUpload()},this.sleepTime):this._oneShotUpload())}_resolveToken(e){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([n,r])=>{switch(this._state){case"running":e(n,r);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused");break}})}_createResumable(){this._resolveToken((e,n)=>{const r=v9(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),i=this._ref.storage._makeRequest(r,Ml,e,n);this._request=i,i.getPromise().then(s=>{this._request=void 0,this._uploadUrl=s,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const e=this._uploadUrl;this._resolveToken((n,r)=>{const i=y9(this._ref.storage,this._ref._location,e,this._blob),s=this._ref.storage._makeRequest(i,Ml,n,r);this._request=s,s.getPromise().then(a=>{a=a,this._request=void 0,this._updateProgress(a.current),this._needToFetchStatus=!1,a.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const e=TS*this._chunkMultiplier,n=new Lp(this._transferred,this._blob.size()),r=this._uploadUrl;this._resolveToken((i,s)=>{let a;try{a=w9(this._ref._location,this._ref.storage,r,this._blob,e,this._mappings,n,this._makeProgressCallback())}catch(u){this._error=u,this._transition("error");return}const c=this._ref.storage._makeRequest(a,Ml,i,s,!1);this._request=c,c.getPromise().then(u=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(u.current),u.finalized?(this._metadata=u.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){TS*this._chunkMultiplier*2<32*1024*1024&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((e,n)=>{const r=h9(this._ref.storage,this._ref._location,this._mappings),i=this._ref.storage._makeRequest(r,Ml,e,n);this._request=i,i.getPromise().then(s=>{this._request=void 0,this._metadata=s,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((e,n)=>{const r=g9(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),i=this._ref.storage._makeRequest(r,Ml,e,n);this._request=i,i.getPromise().then(s=>{this._request=void 0,this._metadata=s,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(e){const n=this._transferred;this._transferred=e,this._transferred!==n&&this._notifyObservers()}_transition(e){if(this._state!==e)switch(e){case"canceling":case"pausing":this._state=e,this._request!==void 0?this._request.cancel():this.pendingTimeout&&(clearTimeout(this.pendingTimeout),this.pendingTimeout=void 0,this.completeTransitions_());break;case"running":const n=this._state==="paused";this._state=e,n&&(this._notifyObservers(),this._start());break;case"paused":this._state=e,this._notifyObservers();break;case"canceled":this._error=wI(),this._state=e,this._notifyObservers();break;case"error":this._state=e,this._notifyObservers();break;case"success":this._state=e,this._notifyObservers();break}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start();break}}get snapshot(){const e=ty(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:e,metadata:this._metadata,task:this,ref:this._ref}}on(e,n,r,i){const s=new _9(n||void 0,r||void 0,i||void 0);return this._addObserver(s),()=>{this._removeObserver(s)}}then(e,n){return this._promise.then(e,n)}catch(e){return this.then(null,e)}_addObserver(e){this._observers.push(e),this._notifyObserver(e)}_removeObserver(e){const n=this._observers.indexOf(e);n!==-1&&this._observers.splice(n,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(n=>{this._notifyObserver(n)})}_finishPromise(){if(this._resolve!==void 0){let e=!0;switch(ty(this._state)){case Un.SUCCESS:kl(this._resolve.bind(null,this.snapshot))();break;case Un.CANCELED:case Un.ERROR:const n=this._reject;kl(n.bind(null,this._error))();break;default:e=!1;break}e&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(e){switch(ty(this._state)){case Un.RUNNING:case Un.PAUSED:e.next&&kl(e.next.bind(e,this.snapshot))();break;case Un.SUCCESS:e.complete&&kl(e.complete.bind(e))();break;case Un.CANCELED:case Un.ERROR:e.error&&kl(e.error.bind(e,this._error))();break;default:e.error&&kl(e.error.bind(e,this._error))()}}resume(){const e=this._state==="paused"||this._state==="pausing";return e&&this._transition("running"),e}pause(){const e=this._state==="running";return e&&this._transition("pausing"),e}cancel(){const e=this._state==="running"||this._state==="pausing";return e&&this._transition("canceling"),e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ca{constructor(e,n){this._service=e,n instanceof ir?this._location=n:this._location=ir.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new Ca(e,n)}get root(){const e=new ir(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return PI(this._location.path)}get storage(){return this._service}get parent(){const e=s9(this._location.path);if(e===null)return null;const n=new ir(this._location.bucket,e);return new Ca(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw j$(e)}}function S9(t,e,n){return t._throwIfRoot("uploadBytesResumable"),new E9(t,new eo(e),n)}function C9(t){t._throwIfRoot("getDownloadURL");const e=p9(t.storage,t._location,II());return t.storage.makeRequestWithTokens(e,Ml).then(n=>{if(n===null)throw D$();return n})}function T9(t,e){const n=o9(t._location.path,e),r=new ir(t._location.bucket,n);return new Ca(t.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function k9(t){return/^[A-Za-z]+:\/\//.test(t)}function P9(t,e){return new Ca(t,e)}function MI(t,e){if(t instanceof T_){const n=t;if(n._bucket==null)throw O$();const r=new Ca(n,n._bucket);return e!=null?MI(r,e):r}else return e!==void 0?T9(t,e):t}function I9(t,e){if(e&&k9(e)){if(t instanceof T_)return P9(t,e);throw v0("To use ref(service, url), the first argument must be a Storage instance.")}else return MI(t,e)}function kS(t,e){const n=e?.[vI];return n==null?null:ir.makeFromBucketSpec(n,t)}function R9(t,e,n,r={}){t.host=`${e}:${n}`;const i=wo(e);i&&(am(`https://${t.host}`),_o("Storage",!0)),t._isUsingEmulator=!0,t._protocol=i?"https":"http";const{mockUserToken:s}=r;s&&(t._overrideAuthToken=typeof s=="string"?s:ww(s,t.app.options.projectId))}class T_{constructor(e,n,r,i,s,a=!1){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=s,this._isUsingEmulator=a,this._bucket=null,this._host=gI,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=E$,this._maxUploadRetryTime=S$,this._requests=new Set,i!=null?this._bucket=ir.makeFromBucketSpec(i,this._host):this._bucket=kS(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=ir.makeFromBucketSpec(this._url,e):this._bucket=kS(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){CS("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){CS("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(gn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Ca(this,e)}_makeRequest(e,n,r,i,s=!0){if(this._deleted)return new F$(xI());{const a=Y$(e,this._appId,r,i,n,this._firebaseVersion,s,this._isUsingEmulator);return this._requests.add(a),a.getPromise().then(()=>this._requests.delete(a),()=>this._requests.delete(a)),a}}async makeRequestWithTokens(e,n){const[r,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,i).getPromise()}}const PS="@firebase/storage",IS="0.13.10";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DI="storage";function A9(t,e,n){return t=ft(t),S9(t,e,n)}function N9(t){return t=ft(t),C9(t)}function O9(t,e){return t=ft(t),I9(t,e)}function LI(t=Fd(),e){t=ft(t),_o("Storage",!1);const r=xo(t,DI).getImmediate({identifier:e}),i=yw("storage");return i&&jI(r,...i),r}function jI(t,e,n,r={}){R9(t,e,n,r)}function M9(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),i=t.getProvider("app-check-internal");return new T_(n,r,i,e,bo)}function D9(){ar(new qn(DI,M9,"PUBLIC").setMultipleInstances(!0)),Jt(PS,IS,""),Jt(PS,IS,"esm2017")}D9();var RS=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var FI;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(D,I){function O(){}O.prototype=I.prototype,D.D=I.prototype,D.prototype=new O,D.prototype.constructor=D,D.C=function(b,M,V){for(var F=Array(arguments.length-2),Z=2;Z<arguments.length;Z++)F[Z-2]=arguments[Z];return I.prototype[M].apply(b,F)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(D,I,O){O||(O=0);var b=Array(16);if(typeof I=="string")for(var M=0;16>M;++M)b[M]=I.charCodeAt(O++)|I.charCodeAt(O++)<<8|I.charCodeAt(O++)<<16|I.charCodeAt(O++)<<24;else for(M=0;16>M;++M)b[M]=I[O++]|I[O++]<<8|I[O++]<<16|I[O++]<<24;I=D.g[0],O=D.g[1],M=D.g[2];var V=D.g[3],F=I+(V^O&(M^V))+b[0]+3614090360&4294967295;I=O+(F<<7&4294967295|F>>>25),F=V+(M^I&(O^M))+b[1]+3905402710&4294967295,V=I+(F<<12&4294967295|F>>>20),F=M+(O^V&(I^O))+b[2]+606105819&4294967295,M=V+(F<<17&4294967295|F>>>15),F=O+(I^M&(V^I))+b[3]+3250441966&4294967295,O=M+(F<<22&4294967295|F>>>10),F=I+(V^O&(M^V))+b[4]+4118548399&4294967295,I=O+(F<<7&4294967295|F>>>25),F=V+(M^I&(O^M))+b[5]+1200080426&4294967295,V=I+(F<<12&4294967295|F>>>20),F=M+(O^V&(I^O))+b[6]+2821735955&4294967295,M=V+(F<<17&4294967295|F>>>15),F=O+(I^M&(V^I))+b[7]+4249261313&4294967295,O=M+(F<<22&4294967295|F>>>10),F=I+(V^O&(M^V))+b[8]+1770035416&4294967295,I=O+(F<<7&4294967295|F>>>25),F=V+(M^I&(O^M))+b[9]+2336552879&4294967295,V=I+(F<<12&4294967295|F>>>20),F=M+(O^V&(I^O))+b[10]+4294925233&4294967295,M=V+(F<<17&4294967295|F>>>15),F=O+(I^M&(V^I))+b[11]+2304563134&4294967295,O=M+(F<<22&4294967295|F>>>10),F=I+(V^O&(M^V))+b[12]+1804603682&4294967295,I=O+(F<<7&4294967295|F>>>25),F=V+(M^I&(O^M))+b[13]+4254626195&4294967295,V=I+(F<<12&4294967295|F>>>20),F=M+(O^V&(I^O))+b[14]+2792965006&4294967295,M=V+(F<<17&4294967295|F>>>15),F=O+(I^M&(V^I))+b[15]+1236535329&4294967295,O=M+(F<<22&4294967295|F>>>10),F=I+(M^V&(O^M))+b[1]+4129170786&4294967295,I=O+(F<<5&4294967295|F>>>27),F=V+(O^M&(I^O))+b[6]+3225465664&4294967295,V=I+(F<<9&4294967295|F>>>23),F=M+(I^O&(V^I))+b[11]+643717713&4294967295,M=V+(F<<14&4294967295|F>>>18),F=O+(V^I&(M^V))+b[0]+3921069994&4294967295,O=M+(F<<20&4294967295|F>>>12),F=I+(M^V&(O^M))+b[5]+3593408605&4294967295,I=O+(F<<5&4294967295|F>>>27),F=V+(O^M&(I^O))+b[10]+38016083&4294967295,V=I+(F<<9&4294967295|F>>>23),F=M+(I^O&(V^I))+b[15]+3634488961&4294967295,M=V+(F<<14&4294967295|F>>>18),F=O+(V^I&(M^V))+b[4]+3889429448&4294967295,O=M+(F<<20&4294967295|F>>>12),F=I+(M^V&(O^M))+b[9]+568446438&4294967295,I=O+(F<<5&4294967295|F>>>27),F=V+(O^M&(I^O))+b[14]+3275163606&4294967295,V=I+(F<<9&4294967295|F>>>23),F=M+(I^O&(V^I))+b[3]+4107603335&4294967295,M=V+(F<<14&4294967295|F>>>18),F=O+(V^I&(M^V))+b[8]+1163531501&4294967295,O=M+(F<<20&4294967295|F>>>12),F=I+(M^V&(O^M))+b[13]+2850285829&4294967295,I=O+(F<<5&4294967295|F>>>27),F=V+(O^M&(I^O))+b[2]+4243563512&4294967295,V=I+(F<<9&4294967295|F>>>23),F=M+(I^O&(V^I))+b[7]+1735328473&4294967295,M=V+(F<<14&4294967295|F>>>18),F=O+(V^I&(M^V))+b[12]+2368359562&4294967295,O=M+(F<<20&4294967295|F>>>12),F=I+(O^M^V)+b[5]+4294588738&4294967295,I=O+(F<<4&4294967295|F>>>28),F=V+(I^O^M)+b[8]+2272392833&4294967295,V=I+(F<<11&4294967295|F>>>21),F=M+(V^I^O)+b[11]+1839030562&4294967295,M=V+(F<<16&4294967295|F>>>16),F=O+(M^V^I)+b[14]+4259657740&4294967295,O=M+(F<<23&4294967295|F>>>9),F=I+(O^M^V)+b[1]+2763975236&4294967295,I=O+(F<<4&4294967295|F>>>28),F=V+(I^O^M)+b[4]+1272893353&4294967295,V=I+(F<<11&4294967295|F>>>21),F=M+(V^I^O)+b[7]+4139469664&4294967295,M=V+(F<<16&4294967295|F>>>16),F=O+(M^V^I)+b[10]+3200236656&4294967295,O=M+(F<<23&4294967295|F>>>9),F=I+(O^M^V)+b[13]+681279174&4294967295,I=O+(F<<4&4294967295|F>>>28),F=V+(I^O^M)+b[0]+3936430074&4294967295,V=I+(F<<11&4294967295|F>>>21),F=M+(V^I^O)+b[3]+3572445317&4294967295,M=V+(F<<16&4294967295|F>>>16),F=O+(M^V^I)+b[6]+76029189&4294967295,O=M+(F<<23&4294967295|F>>>9),F=I+(O^M^V)+b[9]+3654602809&4294967295,I=O+(F<<4&4294967295|F>>>28),F=V+(I^O^M)+b[12]+3873151461&4294967295,V=I+(F<<11&4294967295|F>>>21),F=M+(V^I^O)+b[15]+530742520&4294967295,M=V+(F<<16&4294967295|F>>>16),F=O+(M^V^I)+b[2]+3299628645&4294967295,O=M+(F<<23&4294967295|F>>>9),F=I+(M^(O|~V))+b[0]+4096336452&4294967295,I=O+(F<<6&4294967295|F>>>26),F=V+(O^(I|~M))+b[7]+1126891415&4294967295,V=I+(F<<10&4294967295|F>>>22),F=M+(I^(V|~O))+b[14]+2878612391&4294967295,M=V+(F<<15&4294967295|F>>>17),F=O+(V^(M|~I))+b[5]+4237533241&4294967295,O=M+(F<<21&4294967295|F>>>11),F=I+(M^(O|~V))+b[12]+1700485571&4294967295,I=O+(F<<6&4294967295|F>>>26),F=V+(O^(I|~M))+b[3]+2399980690&4294967295,V=I+(F<<10&4294967295|F>>>22),F=M+(I^(V|~O))+b[10]+4293915773&4294967295,M=V+(F<<15&4294967295|F>>>17),F=O+(V^(M|~I))+b[1]+2240044497&4294967295,O=M+(F<<21&4294967295|F>>>11),F=I+(M^(O|~V))+b[8]+1873313359&4294967295,I=O+(F<<6&4294967295|F>>>26),F=V+(O^(I|~M))+b[15]+4264355552&4294967295,V=I+(F<<10&4294967295|F>>>22),F=M+(I^(V|~O))+b[6]+2734768916&4294967295,M=V+(F<<15&4294967295|F>>>17),F=O+(V^(M|~I))+b[13]+1309151649&4294967295,O=M+(F<<21&4294967295|F>>>11),F=I+(M^(O|~V))+b[4]+4149444226&4294967295,I=O+(F<<6&4294967295|F>>>26),F=V+(O^(I|~M))+b[11]+3174756917&4294967295,V=I+(F<<10&4294967295|F>>>22),F=M+(I^(V|~O))+b[2]+718787259&4294967295,M=V+(F<<15&4294967295|F>>>17),F=O+(V^(M|~I))+b[9]+3951481745&4294967295,D.g[0]=D.g[0]+I&4294967295,D.g[1]=D.g[1]+(M+(F<<21&4294967295|F>>>11))&4294967295,D.g[2]=D.g[2]+M&4294967295,D.g[3]=D.g[3]+V&4294967295}r.prototype.u=function(D,I){I===void 0&&(I=D.length);for(var O=I-this.blockSize,b=this.B,M=this.h,V=0;V<I;){if(M==0)for(;V<=O;)i(this,D,V),V+=this.blockSize;if(typeof D=="string"){for(;V<I;)if(b[M++]=D.charCodeAt(V++),M==this.blockSize){i(this,b),M=0;break}}else for(;V<I;)if(b[M++]=D[V++],M==this.blockSize){i(this,b),M=0;break}}this.h=M,this.o+=I},r.prototype.v=function(){var D=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);D[0]=128;for(var I=1;I<D.length-8;++I)D[I]=0;var O=8*this.o;for(I=D.length-8;I<D.length;++I)D[I]=O&255,O/=256;for(this.u(D),D=Array(16),I=O=0;4>I;++I)for(var b=0;32>b;b+=8)D[O++]=this.g[I]>>>b&255;return D};function s(D,I){var O=c;return Object.prototype.hasOwnProperty.call(O,D)?O[D]:O[D]=I(D)}function a(D,I){this.h=I;for(var O=[],b=!0,M=D.length-1;0<=M;M--){var V=D[M]|0;b&&V==I||(O[M]=V,b=!1)}this.g=O}var c={};function u(D){return-128<=D&&128>D?s(D,function(I){return new a([I|0],0>I?-1:0)}):new a([D|0],0>D?-1:0)}function f(D){if(isNaN(D)||!isFinite(D))return g;if(0>D)return N(f(-D));for(var I=[],O=1,b=0;D>=O;b++)I[b]=D/O|0,O*=4294967296;return new a(I,0)}function h(D,I){if(D.length==0)throw Error("number format error: empty string");if(I=I||10,2>I||36<I)throw Error("radix out of range: "+I);if(D.charAt(0)=="-")return N(h(D.substring(1),I));if(0<=D.indexOf("-"))throw Error('number format error: interior "-" character');for(var O=f(Math.pow(I,8)),b=g,M=0;M<D.length;M+=8){var V=Math.min(8,D.length-M),F=parseInt(D.substring(M,M+V),I);8>V?(V=f(Math.pow(I,V)),b=b.j(V).add(f(F))):(b=b.j(O),b=b.add(f(F)))}return b}var g=u(0),v=u(1),x=u(16777216);t=a.prototype,t.m=function(){if(T(this))return-N(this).m();for(var D=0,I=1,O=0;O<this.g.length;O++){var b=this.i(O);D+=(0<=b?b:4294967296+b)*I,I*=4294967296}return D},t.toString=function(D){if(D=D||10,2>D||36<D)throw Error("radix out of range: "+D);if(_(this))return"0";if(T(this))return"-"+N(this).toString(D);for(var I=f(Math.pow(D,6)),O=this,b="";;){var M=j(O,I).g;O=A(O,M.j(I));var V=((0<O.g.length?O.g[0]:O.h)>>>0).toString(D);if(O=M,_(O))return V+b;for(;6>V.length;)V="0"+V;b=V+b}},t.i=function(D){return 0>D?0:D<this.g.length?this.g[D]:this.h};function _(D){if(D.h!=0)return!1;for(var I=0;I<D.g.length;I++)if(D.g[I]!=0)return!1;return!0}function T(D){return D.h==-1}t.l=function(D){return D=A(this,D),T(D)?-1:_(D)?0:1};function N(D){for(var I=D.g.length,O=[],b=0;b<I;b++)O[b]=~D.g[b];return new a(O,~D.h).add(v)}t.abs=function(){return T(this)?N(this):this},t.add=function(D){for(var I=Math.max(this.g.length,D.g.length),O=[],b=0,M=0;M<=I;M++){var V=b+(this.i(M)&65535)+(D.i(M)&65535),F=(V>>>16)+(this.i(M)>>>16)+(D.i(M)>>>16);b=F>>>16,V&=65535,F&=65535,O[M]=F<<16|V}return new a(O,O[O.length-1]&-2147483648?-1:0)};function A(D,I){return D.add(N(I))}t.j=function(D){if(_(this)||_(D))return g;if(T(this))return T(D)?N(this).j(N(D)):N(N(this).j(D));if(T(D))return N(this.j(N(D)));if(0>this.l(x)&&0>D.l(x))return f(this.m()*D.m());for(var I=this.g.length+D.g.length,O=[],b=0;b<2*I;b++)O[b]=0;for(b=0;b<this.g.length;b++)for(var M=0;M<D.g.length;M++){var V=this.i(b)>>>16,F=this.i(b)&65535,Z=D.i(M)>>>16,se=D.i(M)&65535;O[2*b+2*M]+=F*se,k(O,2*b+2*M),O[2*b+2*M+1]+=V*se,k(O,2*b+2*M+1),O[2*b+2*M+1]+=F*Z,k(O,2*b+2*M+1),O[2*b+2*M+2]+=V*Z,k(O,2*b+2*M+2)}for(b=0;b<I;b++)O[b]=O[2*b+1]<<16|O[2*b];for(b=I;b<2*I;b++)O[b]=0;return new a(O,0)};function k(D,I){for(;(D[I]&65535)!=D[I];)D[I+1]+=D[I]>>>16,D[I]&=65535,I++}function P(D,I){this.g=D,this.h=I}function j(D,I){if(_(I))throw Error("division by zero");if(_(D))return new P(g,g);if(T(D))return I=j(N(D),I),new P(N(I.g),N(I.h));if(T(I))return I=j(D,N(I)),new P(N(I.g),I.h);if(30<D.g.length){if(T(D)||T(I))throw Error("slowDivide_ only works with positive integers.");for(var O=v,b=I;0>=b.l(D);)O=$(O),b=$(b);var M=z(O,1),V=z(b,1);for(b=z(b,2),O=z(O,2);!_(b);){var F=V.add(b);0>=F.l(D)&&(M=M.add(O),V=F),b=z(b,1),O=z(O,1)}return I=A(D,M.j(I)),new P(M,I)}for(M=g;0<=D.l(I);){for(O=Math.max(1,Math.floor(D.m()/I.m())),b=Math.ceil(Math.log(O)/Math.LN2),b=48>=b?1:Math.pow(2,b-48),V=f(O),F=V.j(I);T(F)||0<F.l(D);)O-=b,V=f(O),F=V.j(I);_(V)&&(V=v),M=M.add(V),D=A(D,F)}return new P(M,D)}t.A=function(D){return j(this,D).h},t.and=function(D){for(var I=Math.max(this.g.length,D.g.length),O=[],b=0;b<I;b++)O[b]=this.i(b)&D.i(b);return new a(O,this.h&D.h)},t.or=function(D){for(var I=Math.max(this.g.length,D.g.length),O=[],b=0;b<I;b++)O[b]=this.i(b)|D.i(b);return new a(O,this.h|D.h)},t.xor=function(D){for(var I=Math.max(this.g.length,D.g.length),O=[],b=0;b<I;b++)O[b]=this.i(b)^D.i(b);return new a(O,this.h^D.h)};function $(D){for(var I=D.g.length+1,O=[],b=0;b<I;b++)O[b]=D.i(b)<<1|D.i(b-1)>>>31;return new a(O,D.h)}function z(D,I){var O=I>>5;I%=32;for(var b=D.g.length-O,M=[],V=0;V<b;V++)M[V]=0<I?D.i(V+O)>>>I|D.i(V+O+1)<<32-I:D.i(V+O);return new a(M,D.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,a.prototype.add=a.prototype.add,a.prototype.multiply=a.prototype.j,a.prototype.modulo=a.prototype.A,a.prototype.compare=a.prototype.l,a.prototype.toNumber=a.prototype.m,a.prototype.toString=a.prototype.toString,a.prototype.getBits=a.prototype.i,a.fromNumber=f,a.fromString=h,FI=a}).apply(typeof RS<"u"?RS:typeof self<"u"?self:typeof window<"u"?window:{});var Oh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(p,E,R){return p==Array.prototype||p==Object.prototype||(p[E]=R.value),p};function n(p){p=[typeof globalThis=="object"&&globalThis,p,typeof window=="object"&&window,typeof self=="object"&&self,typeof Oh=="object"&&Oh];for(var E=0;E<p.length;++E){var R=p[E];if(R&&R.Math==Math)return R}throw Error("Cannot find global object")}var r=n(this);function i(p,E){if(E)e:{var R=r;p=p.split(".");for(var U=0;U<p.length-1;U++){var G=p[U];if(!(G in R))break e;R=R[G]}p=p[p.length-1],U=R[p],E=E(U),E!=U&&E!=null&&e(R,p,{configurable:!0,writable:!0,value:E})}}function s(p,E){p instanceof String&&(p+="");var R=0,U=!1,G={next:function(){if(!U&&R<p.length){var J=R++;return{value:E(J,p[J]),done:!1}}return U=!0,{done:!0,value:void 0}}};return G[Symbol.iterator]=function(){return G},G}i("Array.prototype.values",function(p){return p||function(){return s(this,function(E,R){return R})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var a=a||{},c=this||self;function u(p){var E=typeof p;return E=E!="object"?E:p?Array.isArray(p)?"array":E:"null",E=="array"||E=="object"&&typeof p.length=="number"}function f(p){var E=typeof p;return E=="object"&&p!=null||E=="function"}function h(p,E,R){return p.call.apply(p.bind,arguments)}function g(p,E,R){if(!p)throw Error();if(2<arguments.length){var U=Array.prototype.slice.call(arguments,2);return function(){var G=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(G,U),p.apply(E,G)}}return function(){return p.apply(E,arguments)}}function v(p,E,R){return v=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?h:g,v.apply(null,arguments)}function x(p,E){var R=Array.prototype.slice.call(arguments,1);return function(){var U=R.slice();return U.push.apply(U,arguments),p.apply(this,U)}}function _(p,E){function R(){}R.prototype=E.prototype,p.aa=E.prototype,p.prototype=new R,p.prototype.constructor=p,p.Qb=function(U,G,J){for(var he=Array(arguments.length-2),Ye=2;Ye<arguments.length;Ye++)he[Ye-2]=arguments[Ye];return E.prototype[G].apply(U,he)}}function T(p){const E=p.length;if(0<E){const R=Array(E);for(let U=0;U<E;U++)R[U]=p[U];return R}return[]}function N(p,E){for(let R=1;R<arguments.length;R++){const U=arguments[R];if(u(U)){const G=p.length||0,J=U.length||0;p.length=G+J;for(let he=0;he<J;he++)p[G+he]=U[he]}else p.push(U)}}class A{constructor(E,R){this.i=E,this.j=R,this.h=0,this.g=null}get(){let E;return 0<this.h?(this.h--,E=this.g,this.g=E.next,E.next=null):E=this.i(),E}}function k(p){return/^[\s\xa0]*$/.test(p)}function P(){var p=c.navigator;return p&&(p=p.userAgent)?p:""}function j(p){return j[" "](p),p}j[" "]=function(){};var $=P().indexOf("Gecko")!=-1&&!(P().toLowerCase().indexOf("webkit")!=-1&&P().indexOf("Edge")==-1)&&!(P().indexOf("Trident")!=-1||P().indexOf("MSIE")!=-1)&&P().indexOf("Edge")==-1;function z(p,E,R){for(const U in p)E.call(R,p[U],U,p)}function D(p,E){for(const R in p)E.call(void 0,p[R],R,p)}function I(p){const E={};for(const R in p)E[R]=p[R];return E}const O="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function b(p,E){let R,U;for(let G=1;G<arguments.length;G++){U=arguments[G];for(R in U)p[R]=U[R];for(let J=0;J<O.length;J++)R=O[J],Object.prototype.hasOwnProperty.call(U,R)&&(p[R]=U[R])}}function M(p){var E=1;p=p.split(":");const R=[];for(;0<E&&p.length;)R.push(p.shift()),E--;return p.length&&R.push(p.join(":")),R}function V(p){c.setTimeout(()=>{throw p},0)}function F(){var p=oe;let E=null;return p.g&&(E=p.g,p.g=p.g.next,p.g||(p.h=null),E.next=null),E}class Z{constructor(){this.h=this.g=null}add(E,R){const U=se.get();U.set(E,R),this.h?this.h.next=U:this.g=U,this.h=U}}var se=new A(()=>new re,p=>p.reset());class re{constructor(){this.next=this.g=this.h=null}set(E,R){this.h=E,this.g=R,this.next=null}reset(){this.next=this.g=this.h=null}}let ue,ne=!1,oe=new Z,le=()=>{const p=c.Promise.resolve(void 0);ue=()=>{p.then(q)}};var q=()=>{for(var p;p=F();){try{p.h.call(p.g)}catch(R){V(R)}var E=se;E.j(p),100>E.h&&(E.h++,p.next=E.g,E.g=p)}ne=!1};function te(){this.s=this.s,this.C=this.C}te.prototype.s=!1,te.prototype.ma=function(){this.s||(this.s=!0,this.N())},te.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function Q(p,E){this.type=p,this.g=this.target=E,this.defaultPrevented=!1}Q.prototype.h=function(){this.defaultPrevented=!0};var pe=function(){if(!c.addEventListener||!Object.defineProperty)return!1;var p=!1,E=Object.defineProperty({},"passive",{get:function(){p=!0}});try{const R=()=>{};c.addEventListener("test",R,E),c.removeEventListener("test",R,E)}catch{}return p}();function ve(p,E){if(Q.call(this,p?p.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,p){var R=this.type=p.type,U=p.changedTouches&&p.changedTouches.length?p.changedTouches[0]:null;if(this.target=p.target||p.srcElement,this.g=E,E=p.relatedTarget){if($){e:{try{j(E.nodeName);var G=!0;break e}catch{}G=!1}G||(E=null)}}else R=="mouseover"?E=p.fromElement:R=="mouseout"&&(E=p.toElement);this.relatedTarget=E,U?(this.clientX=U.clientX!==void 0?U.clientX:U.pageX,this.clientY=U.clientY!==void 0?U.clientY:U.pageY,this.screenX=U.screenX||0,this.screenY=U.screenY||0):(this.clientX=p.clientX!==void 0?p.clientX:p.pageX,this.clientY=p.clientY!==void 0?p.clientY:p.pageY,this.screenX=p.screenX||0,this.screenY=p.screenY||0),this.button=p.button,this.key=p.key||"",this.ctrlKey=p.ctrlKey,this.altKey=p.altKey,this.shiftKey=p.shiftKey,this.metaKey=p.metaKey,this.pointerId=p.pointerId||0,this.pointerType=typeof p.pointerType=="string"?p.pointerType:_e[p.pointerType]||"",this.state=p.state,this.i=p,p.defaultPrevented&&ve.aa.h.call(this)}}_(ve,Q);var _e={2:"touch",3:"pen",4:"mouse"};ve.prototype.h=function(){ve.aa.h.call(this);var p=this.i;p.preventDefault?p.preventDefault():p.returnValue=!1};var xe="closure_listenable_"+(1e6*Math.random()|0),ke=0;function Ee(p,E,R,U,G){this.listener=p,this.proxy=null,this.src=E,this.type=R,this.capture=!!U,this.ha=G,this.key=++ke,this.da=this.fa=!1}function Be(p){p.da=!0,p.listener=null,p.proxy=null,p.src=null,p.ha=null}function $e(p){this.src=p,this.g={},this.h=0}$e.prototype.add=function(p,E,R,U,G){var J=p.toString();p=this.g[J],p||(p=this.g[J]=[],this.h++);var he=wt(p,E,U,G);return-1<he?(E=p[he],R||(E.fa=!1)):(E=new Ee(E,this.src,J,!!U,G),E.fa=R,p.push(E)),E};function _n(p,E){var R=E.type;if(R in p.g){var U=p.g[R],G=Array.prototype.indexOf.call(U,E,void 0),J;(J=0<=G)&&Array.prototype.splice.call(U,G,1),J&&(Be(E),p.g[R].length==0&&(delete p.g[R],p.h--))}}function wt(p,E,R,U){for(var G=0;G<p.length;++G){var J=p[G];if(!J.da&&J.listener==E&&J.capture==!!R&&J.ha==U)return G}return-1}var xn="closure_lm_"+(1e6*Math.random()|0),Mt={};function kt(p,E,R,U,G){if(Array.isArray(E)){for(var J=0;J<E.length;J++)kt(p,E[J],R,U,G);return null}return R=Sc(R),p&&p[xe]?p.K(E,R,f(U)?!!U.capture:!1,G):Co(p,E,R,!1,U,G)}function Co(p,E,R,U,G,J){if(!E)throw Error("Invalid event type");var he=f(G)?!!G.capture:!!G,Ye=Fa(p);if(Ye||(p[xn]=Ye=new $e(p)),R=Ye.add(E,R,U,he,J),R.proxy)return R;if(U=df(),R.proxy=U,U.src=p,U.listener=R,p.addEventListener)pe||(G=he),G===void 0&&(G=!1),p.addEventListener(E.toString(),U,G);else if(p.attachEvent)p.attachEvent(Ni(E.toString()),U);else if(p.addListener&&p.removeListener)p.addListener(U);else throw Error("addEventListener and attachEvent are unavailable.");return R}function df(){function p(R){return E.call(p.src,p.listener,R)}const E=Ec;return p}function ja(p,E,R,U,G){if(Array.isArray(E))for(var J=0;J<E.length;J++)ja(p,E[J],R,U,G);else U=f(U)?!!U.capture:!!U,R=Sc(R),p&&p[xe]?(p=p.i,E=String(E).toString(),E in p.g&&(J=p.g[E],R=wt(J,R,U,G),-1<R&&(Be(J[R]),Array.prototype.splice.call(J,R,1),J.length==0&&(delete p.g[E],p.h--)))):p&&(p=Fa(p))&&(E=p.g[E.toString()],p=-1,E&&(p=wt(E,R,U,G)),(R=-1<p?E[p]:null)&&Ai(R))}function Ai(p){if(typeof p!="number"&&p&&!p.da){var E=p.src;if(E&&E[xe])_n(E.i,p);else{var R=p.type,U=p.proxy;E.removeEventListener?E.removeEventListener(R,U,p.capture):E.detachEvent?E.detachEvent(Ni(R),U):E.addListener&&E.removeListener&&E.removeListener(U),(R=Fa(E))?(_n(R,p),R.h==0&&(R.src=null,E[xn]=null)):Be(p)}}}function Ni(p){return p in Mt?Mt[p]:Mt[p]="on"+p}function Ec(p,E){if(p.da)p=!0;else{E=new ve(E,this);var R=p.listener,U=p.ha||p.src;p.fa&&Ai(p),p=R.call(U,E)}return p}function Fa(p){return p=p[xn],p instanceof $e?p:null}var $a="__closure_events_fn_"+(1e9*Math.random()>>>0);function Sc(p){return typeof p=="function"?p:(p[$a]||(p[$a]=function(E){return p.handleEvent(E)}),p[$a])}function Dt(){te.call(this),this.i=new $e(this),this.M=this,this.F=null}_(Dt,te),Dt.prototype[xe]=!0,Dt.prototype.removeEventListener=function(p,E,R,U){ja(this,p,E,R,U)};function Lt(p,E){var R,U=p.F;if(U)for(R=[];U;U=U.F)R.push(U);if(p=p.M,U=E.type||E,typeof E=="string")E=new Q(E,p);else if(E instanceof Q)E.target=E.target||p;else{var G=E;E=new Q(U,p),b(E,G)}if(G=!0,R)for(var J=R.length-1;0<=J;J--){var he=E.g=R[J];G=Oi(he,U,!0,E)&&G}if(he=E.g=p,G=Oi(he,U,!0,E)&&G,G=Oi(he,U,!1,E)&&G,R)for(J=0;J<R.length;J++)he=E.g=R[J],G=Oi(he,U,!1,E)&&G}Dt.prototype.N=function(){if(Dt.aa.N.call(this),this.i){var p=this.i,E;for(E in p.g){for(var R=p.g[E],U=0;U<R.length;U++)Be(R[U]);delete p.g[E],p.h--}}this.F=null},Dt.prototype.K=function(p,E,R,U){return this.i.add(String(p),E,!1,R,U)},Dt.prototype.L=function(p,E,R,U){return this.i.add(String(p),E,!0,R,U)};function Oi(p,E,R,U){if(E=p.i.g[String(E)],!E)return!0;E=E.concat();for(var G=!0,J=0;J<E.length;++J){var he=E[J];if(he&&!he.da&&he.capture==R){var Ye=he.listener,jt=he.ha||he.src;he.fa&&_n(p.i,he),G=Ye.call(jt,U)!==!1&&G}}return G&&!U.defaultPrevented}function Cc(p,E,R){if(typeof p=="function")R&&(p=v(p,R));else if(p&&typeof p.handleEvent=="function")p=v(p.handleEvent,p);else throw Error("Invalid listener argument");return 2147483647<Number(E)?-1:c.setTimeout(p,E||0)}function Es(p){p.g=Cc(()=>{p.g=null,p.i&&(p.i=!1,Es(p))},p.l);const E=p.h;p.h=null,p.m.apply(null,E)}class To extends te{constructor(E,R){super(),this.m=E,this.l=R,this.h=null,this.i=!1,this.g=null}j(E){this.h=arguments,this.g?this.i=!0:Es(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ko(p){te.call(this),this.h=p,this.g={}}_(ko,te);var Tc=[];function kc(p){z(p.g,function(E,R){this.g.hasOwnProperty(R)&&Ai(E)},p),p.g={}}ko.prototype.N=function(){ko.aa.N.call(this),kc(this)},ko.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Pc=c.JSON.stringify,Ic=c.JSON.parse,Rc=class{stringify(p){return c.JSON.stringify(p,void 0)}parse(p){return c.JSON.parse(p,void 0)}};function Po(){}Po.prototype.h=null;function Va(p){return p.h||(p.h=p.i())}function Ac(){}var ur={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function si(){Q.call(this,"d")}_(si,Q);function Ua(){Q.call(this,"c")}_(Ua,Q);var Mi={},Nc=null;function Ba(){return Nc=Nc||new Dt}Mi.La="serverreachability";function Oc(p){Q.call(this,Mi.La,p)}_(Oc,Q);function Di(p){const E=Ba();Lt(E,new Oc(E))}Mi.STAT_EVENT="statevent";function Mc(p,E){Q.call(this,Mi.STAT_EVENT,p),this.stat=E}_(Mc,Q);function Pt(p){const E=Ba();Lt(E,new Mc(E,p))}Mi.Ma="timingevent";function za(p,E){Q.call(this,Mi.Ma,p),this.size=E}_(za,Q);function Ar(p,E){if(typeof p!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){p()},E)}function Io(){this.g=!0}Io.prototype.xa=function(){this.g=!1};function Ro(p,E,R,U,G,J){p.info(function(){if(p.g)if(J)for(var he="",Ye=J.split("&"),jt=0;jt<Ye.length;jt++){var Ve=Ye[jt].split("=");if(1<Ve.length){var Bt=Ve[0];Ve=Ve[1];var zt=Bt.split("_");he=2<=zt.length&&zt[1]=="type"?he+(Bt+"="+Ve+"&"):he+(Bt+"=redacted&")}}else he=null;else he=J;return"XMLHTTP REQ ("+U+") [attempt "+G+"]: "+E+`
`+R+`
`+he})}function Ha(p,E,R,U,G,J,he){p.info(function(){return"XMLHTTP RESP ("+U+") [ attempt "+G+"]: "+E+`
`+R+`
`+J+" "+he})}function Nr(p,E,R,U){p.info(function(){return"XMLHTTP TEXT ("+E+"): "+Zm(p,R)+(U?" "+U:"")})}function Dc(p,E){p.info(function(){return"TIMEOUT: "+E})}Io.prototype.info=function(){};function Zm(p,E){if(!p.g)return E;if(!E)return null;try{var R=JSON.parse(E);if(R){for(p=0;p<R.length;p++)if(Array.isArray(R[p])){var U=R[p];if(!(2>U.length)){var G=U[1];if(Array.isArray(G)&&!(1>G.length)){var J=G[0];if(J!="noop"&&J!="stop"&&J!="close")for(var he=1;he<G.length;he++)G[he]=""}}}}return Pc(R)}catch{return E}}var Lc={NO_ERROR:0,TIMEOUT:8},eg={},Or;function Ao(){}_(Ao,Po),Ao.prototype.g=function(){return new XMLHttpRequest},Ao.prototype.i=function(){return{}},Or=new Ao;function Mr(p,E,R,U){this.j=p,this.i=E,this.l=R,this.R=U||1,this.U=new ko(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new ff}function ff(){this.i=null,this.g="",this.h=!1}var jc={},Wa={};function qa(p,E,R){p.L=1,p.v=Ps(Xn(E)),p.m=R,p.P=!0,Fc(p,null)}function Fc(p,E){p.F=Date.now(),nt(p),p.A=Xn(p.v);var R=p.A,U=p.R;Array.isArray(U)||(U=[String(U)]),Rs(R.i,"t",U),p.C=0,R=p.j.J,p.h=new ff,p.g=Rf(p.j,R?E:null,!p.m),0<p.O&&(p.M=new To(v(p.Y,p,p.g),p.O)),E=p.U,R=p.g,U=p.ca;var G="readystatechange";Array.isArray(G)||(G&&(Tc[0]=G.toString()),G=Tc);for(var J=0;J<G.length;J++){var he=kt(R,G[J],U||E.handleEvent,!1,E.h||E);if(!he)break;E.g[he.key]=he}E=p.H?I(p.H):{},p.m?(p.u||(p.u="POST"),E["Content-Type"]="application/x-www-form-urlencoded",p.g.ea(p.A,p.u,p.m,E)):(p.u="GET",p.g.ea(p.A,p.u,null,E)),Di(),Ro(p.i,p.u,p.A,p.l,p.R,p.m)}Mr.prototype.ca=function(p){p=p.target;const E=this.M;E&&On(p)==3?E.j():this.Y(p)},Mr.prototype.Y=function(p){try{if(p==this.g)e:{const zt=On(this.g);var E=this.g.Ba();const ui=this.g.Z();if(!(3>zt)&&(zt!=3||this.g&&(this.h.h||this.g.oa()||Hc(this.g)))){this.J||zt!=4||E==7||(E==8||0>=ui?Di(3):Di(2)),No(this);var R=this.g.Z();this.X=R;t:if(hf(this)){var U=Hc(this.g);p="";var G=U.length,J=On(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){dr(this),Ss(this);var he="";break t}this.h.i=new c.TextDecoder}for(E=0;E<G;E++)this.h.h=!0,p+=this.h.i.decode(U[E],{stream:!(J&&E==G-1)});U.length=0,this.h.g+=p,this.C=0,he=this.h.g}else he=this.g.oa();if(this.o=R==200,Ha(this.i,this.u,this.A,this.l,this.R,zt,R),this.o){if(this.T&&!this.K){t:{if(this.g){var Ye,jt=this.g;if((Ye=jt.g?jt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!k(Ye)){var Ve=Ye;break t}}Ve=null}if(R=Ve)Nr(this.i,this.l,R,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,$c(this,R);else{this.o=!1,this.s=3,Pt(12),dr(this),Ss(this);break e}}if(this.P){R=!0;let en;for(;!this.J&&this.C<he.length;)if(en=tg(this,he),en==Wa){zt==4&&(this.s=4,Pt(14),R=!1),Nr(this.i,this.l,null,"[Incomplete Response]");break}else if(en==jc){this.s=4,Pt(15),Nr(this.i,this.l,he,"[Invalid Chunk]"),R=!1;break}else Nr(this.i,this.l,en,null),$c(this,en);if(hf(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),zt!=4||he.length!=0||this.h.h||(this.s=1,Pt(16),R=!1),this.o=this.o&&R,!R)Nr(this.i,this.l,he,"[Invalid Chunked Response]"),dr(this),Ss(this);else if(0<he.length&&!this.W){this.W=!0;var Bt=this.j;Bt.g==this&&Bt.ba&&!Bt.M&&(Bt.j.info("Great, no buffering proxy detected. Bytes received: "+he.length),qc(Bt),Bt.M=!0,Pt(11))}}else Nr(this.i,this.l,he,null),$c(this,he);zt==4&&dr(this),this.o&&!this.J&&(zt==4?rl(this.j,this):(this.o=!1,nt(this)))}else Qa(this.g),R==400&&0<he.indexOf("Unknown SID")?(this.s=3,Pt(12)):(this.s=0,Pt(13)),dr(this),Ss(this)}}}catch{}finally{}};function hf(p){return p.g?p.u=="GET"&&p.L!=2&&p.j.Ca:!1}function tg(p,E){var R=p.C,U=E.indexOf(`
`,R);return U==-1?Wa:(R=Number(E.substring(R,U)),isNaN(R)?jc:(U+=1,U+R>E.length?Wa:(E=E.slice(U,U+R),p.C=U+R,E)))}Mr.prototype.cancel=function(){this.J=!0,dr(this)};function nt(p){p.S=Date.now()+p.I,pf(p,p.I)}function pf(p,E){if(p.B!=null)throw Error("WatchDog timer not null");p.B=Ar(v(p.ba,p),E)}function No(p){p.B&&(c.clearTimeout(p.B),p.B=null)}Mr.prototype.ba=function(){this.B=null;const p=Date.now();0<=p-this.S?(Dc(this.i,this.A),this.L!=2&&(Di(),Pt(17)),dr(this),this.s=2,Ss(this)):pf(this,this.S-p)};function Ss(p){p.j.G==0||p.J||rl(p.j,p)}function dr(p){No(p);var E=p.M;E&&typeof E.ma=="function"&&E.ma(),p.M=null,kc(p.U),p.g&&(E=p.g,p.g=null,E.abort(),E.ma())}function $c(p,E){try{var R=p.j;if(R.G!=0&&(R.g==p||bn(R.h,p))){if(!p.K&&bn(R.h,p)&&R.G==3){try{var U=R.Da.g.parse(E)}catch{U=null}if(Array.isArray(U)&&U.length==3){var G=U;if(G[0]==0){e:if(!R.u){if(R.g)if(R.g.F+3e3<p.F)nl(R),$r(R);else break e;tl(R),Pt(18)}}else R.za=G[1],0<R.za-R.T&&37500>G[2]&&R.F&&R.v==0&&!R.C&&(R.C=Ar(v(R.Za,R),6e3));if(1>=gf(R.h)&&R.ca){try{R.ca()}catch{}R.ca=void 0}}else Vi(R,11)}else if((p.K||R.g==p)&&nl(R),!k(E))for(G=R.Da.g.parse(E),E=0;E<G.length;E++){let Ve=G[E];if(R.T=Ve[0],Ve=Ve[1],R.G==2)if(Ve[0]=="c"){R.K=Ve[1],R.ia=Ve[2];const Bt=Ve[3];Bt!=null&&(R.la=Bt,R.j.info("VER="+R.la));const zt=Ve[4];zt!=null&&(R.Aa=zt,R.j.info("SVER="+R.Aa));const ui=Ve[5];ui!=null&&typeof ui=="number"&&0<ui&&(U=1.5*ui,R.L=U,R.j.info("backChannelRequestTimeoutMs_="+U)),U=R;const en=p.g;if(en){const il=en.g?en.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(il){var J=U.h;J.g||il.indexOf("spdy")==-1&&il.indexOf("quic")==-1&&il.indexOf("h2")==-1||(J.j=J.l,J.g=new Set,J.h&&(Vc(J,J.h),J.h=null))}if(U.D){const sl=en.g?en.g.getResponseHeader("X-HTTP-Session-Id"):null;sl&&(U.ya=sl,Qe(U.I,U.D,sl))}}R.G=3,R.l&&R.l.ua(),R.ba&&(R.R=Date.now()-p.F,R.j.info("Handshake RTT: "+R.R+"ms")),U=R;var he=p;if(U.qa=If(U,U.J?U.ia:null,U.W),he.K){vf(U.h,he);var Ye=he,jt=U.L;jt&&(Ye.I=jt),Ye.B&&(No(Ye),nt(Ye)),U.g=he}else Fo(U);0<R.i.length&&ci(R)}else Ve[0]!="stop"&&Ve[0]!="close"||Vi(R,7);else R.G==3&&(Ve[0]=="stop"||Ve[0]=="close"?Ve[0]=="stop"?Vi(R,7):Zt(R):Ve[0]!="noop"&&R.l&&R.l.ta(Ve),R.v=0)}}Di(4)}catch{}}var mf=class{constructor(p,E){this.g=p,this.map=E}};function Oo(p){this.l=p||10,c.PerformanceNavigationTiming?(p=c.performance.getEntriesByType("navigation"),p=0<p.length&&(p[0].nextHopProtocol=="hq"||p[0].nextHopProtocol=="h2")):p=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=p?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Yn(p){return p.h?!0:p.g?p.g.size>=p.j:!1}function gf(p){return p.h?1:p.g?p.g.size:0}function bn(p,E){return p.h?p.h==E:p.g?p.g.has(E):!1}function Vc(p,E){p.g?p.g.add(E):p.h=E}function vf(p,E){p.h&&p.h==E?p.h=null:p.g&&p.g.has(E)&&p.g.delete(E)}Oo.prototype.cancel=function(){if(this.i=yf(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const p of this.g.values())p.cancel();this.g.clear()}};function yf(p){if(p.h!=null)return p.i.concat(p.h.D);if(p.g!=null&&p.g.size!==0){let E=p.i;for(const R of p.g.values())E=E.concat(R.D);return E}return T(p.i)}function Ga(p){if(p.V&&typeof p.V=="function")return p.V();if(typeof Map<"u"&&p instanceof Map||typeof Set<"u"&&p instanceof Set)return Array.from(p.values());if(typeof p=="string")return p.split("");if(u(p)){for(var E=[],R=p.length,U=0;U<R;U++)E.push(p[U]);return E}E=[],R=0;for(U in p)E[R++]=p[U];return E}function Ka(p){if(p.na&&typeof p.na=="function")return p.na();if(!p.V||typeof p.V!="function"){if(typeof Map<"u"&&p instanceof Map)return Array.from(p.keys());if(!(typeof Set<"u"&&p instanceof Set)){if(u(p)||typeof p=="string"){var E=[];p=p.length;for(var R=0;R<p;R++)E.push(R);return E}E=[],R=0;for(const U in p)E[R++]=U;return E}}}function Cs(p,E){if(p.forEach&&typeof p.forEach=="function")p.forEach(E,void 0);else if(u(p)||typeof p=="string")Array.prototype.forEach.call(p,E,void 0);else for(var R=Ka(p),U=Ga(p),G=U.length,J=0;J<G;J++)E.call(void 0,U[J],R&&R[J],p)}var Mo=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ng(p,E){if(p){p=p.split("&");for(var R=0;R<p.length;R++){var U=p[R].indexOf("="),G=null;if(0<=U){var J=p[R].substring(0,U);G=p[R].substring(U+1)}else J=p[R];E(J,G?decodeURIComponent(G.replace(/\+/g," ")):"")}}}function Li(p){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,p instanceof Li){this.h=p.h,Do(this,p.j),this.o=p.o,this.g=p.g,Ts(this,p.s),this.l=p.l;var E=p.i,R=new oi;R.i=E.i,E.g&&(R.g=new Map(E.g),R.h=E.h),ks(this,R),this.m=p.m}else p&&(E=String(p).match(Mo))?(this.h=!1,Do(this,E[1]||"",!0),this.o=Fe(E[2]||""),this.g=Fe(E[3]||"",!0),Ts(this,E[4]),this.l=Fe(E[5]||"",!0),ks(this,E[6]||"",!0),this.m=Fe(E[7]||"")):(this.h=!1,this.i=new oi(null,this.h))}Li.prototype.toString=function(){var p=[],E=this.j;E&&p.push(Is(E,Ya,!0),":");var R=this.g;return(R||E=="file")&&(p.push("//"),(E=this.o)&&p.push(Is(E,Ya,!0),"@"),p.push(encodeURIComponent(String(R)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),R=this.s,R!=null&&p.push(":",String(R))),(R=this.l)&&(this.g&&R.charAt(0)!="/"&&p.push("/"),p.push(Is(R,R.charAt(0)=="/"?xf:_f,!0))),(R=this.i.toString())&&p.push("?",R),(R=this.m)&&p.push("#",Is(R,Uc)),p.join("")};function Xn(p){return new Li(p)}function Do(p,E,R){p.j=R?Fe(E,!0):E,p.j&&(p.j=p.j.replace(/:$/,""))}function Ts(p,E){if(E){if(E=Number(E),isNaN(E)||0>E)throw Error("Bad port number "+E);p.s=E}else p.s=null}function ks(p,E,R){E instanceof oi?(p.i=E,ai(p.i,p.h)):(R||(E=Is(E,bf)),p.i=new oi(E,p.h))}function Qe(p,E,R){p.i.set(E,R)}function Ps(p){return Qe(p,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),p}function Fe(p,E){return p?E?decodeURI(p.replace(/%25/g,"%2525")):decodeURIComponent(p):""}function Is(p,E,R){return typeof p=="string"?(p=encodeURI(p).replace(E,wf),R&&(p=p.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),p):null}function wf(p){return p=p.charCodeAt(0),"%"+(p>>4&15).toString(16)+(p&15).toString(16)}var Ya=/[#\/\?@]/g,_f=/[#\?:]/g,xf=/[#\?]/g,bf=/[#\?@]/g,Uc=/#/g;function oi(p,E){this.h=this.g=null,this.i=p||null,this.j=!!E}function Qt(p){p.g||(p.g=new Map,p.h=0,p.i&&ng(p.i,function(E,R){p.add(decodeURIComponent(E.replace(/\+/g," ")),R)}))}t=oi.prototype,t.add=function(p,E){Qt(this),this.i=null,p=fr(this,p);var R=this.g.get(p);return R||this.g.set(p,R=[]),R.push(E),this.h+=1,this};function Dr(p,E){Qt(p),E=fr(p,E),p.g.has(E)&&(p.i=null,p.h-=p.g.get(E).length,p.g.delete(E))}function Lr(p,E){return Qt(p),E=fr(p,E),p.g.has(E)}t.forEach=function(p,E){Qt(this),this.g.forEach(function(R,U){R.forEach(function(G){p.call(E,G,U,this)},this)},this)},t.na=function(){Qt(this);const p=Array.from(this.g.values()),E=Array.from(this.g.keys()),R=[];for(let U=0;U<E.length;U++){const G=p[U];for(let J=0;J<G.length;J++)R.push(E[U])}return R},t.V=function(p){Qt(this);let E=[];if(typeof p=="string")Lr(this,p)&&(E=E.concat(this.g.get(fr(this,p))));else{p=Array.from(this.g.values());for(let R=0;R<p.length;R++)E=E.concat(p[R])}return E},t.set=function(p,E){return Qt(this),this.i=null,p=fr(this,p),Lr(this,p)&&(this.h-=this.g.get(p).length),this.g.set(p,[E]),this.h+=1,this},t.get=function(p,E){return p?(p=this.V(p),0<p.length?String(p[0]):E):E};function Rs(p,E,R){Dr(p,E),0<R.length&&(p.i=null,p.g.set(fr(p,E),T(R)),p.h+=R.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const p=[],E=Array.from(this.g.keys());for(var R=0;R<E.length;R++){var U=E[R];const J=encodeURIComponent(String(U)),he=this.V(U);for(U=0;U<he.length;U++){var G=J;he[U]!==""&&(G+="="+encodeURIComponent(String(he[U]))),p.push(G)}}return this.i=p.join("&")};function fr(p,E){return E=String(E),p.j&&(E=E.toLowerCase()),E}function ai(p,E){E&&!p.j&&(Qt(p),p.i=null,p.g.forEach(function(R,U){var G=U.toLowerCase();U!=G&&(Dr(this,U),Rs(this,G,R))},p)),p.j=E}function rg(p,E){const R=new Io;if(c.Image){const U=new Image;U.onload=x(Nn,R,"TestLoadImage: loaded",!0,E,U),U.onerror=x(Nn,R,"TestLoadImage: error",!1,E,U),U.onabort=x(Nn,R,"TestLoadImage: abort",!1,E,U),U.ontimeout=x(Nn,R,"TestLoadImage: timeout",!1,E,U),c.setTimeout(function(){U.ontimeout&&U.ontimeout()},1e4),U.src=p}else E(!1)}function Ef(p,E){const R=new Io,U=new AbortController,G=setTimeout(()=>{U.abort(),Nn(R,"TestPingServer: timeout",!1,E)},1e4);fetch(p,{signal:U.signal}).then(J=>{clearTimeout(G),J.ok?Nn(R,"TestPingServer: ok",!0,E):Nn(R,"TestPingServer: server error",!1,E)}).catch(()=>{clearTimeout(G),Nn(R,"TestPingServer: error",!1,E)})}function Nn(p,E,R,U,G){try{G&&(G.onload=null,G.onerror=null,G.onabort=null,G.ontimeout=null),U(R)}catch{}}function ig(){this.g=new Rc}function Sf(p,E,R){const U=R||"";try{Cs(p,function(G,J){let he=G;f(G)&&(he=Pc(G)),E.push(U+J+"="+encodeURIComponent(he))})}catch(G){throw E.push(U+"type="+encodeURIComponent("_badmap")),G}}function ji(p){this.l=p.Ub||null,this.j=p.eb||!1}_(ji,Po),ji.prototype.g=function(){return new Lo(this.l,this.j)},ji.prototype.i=function(p){return function(){return p}}({});function Lo(p,E){Dt.call(this),this.D=p,this.o=E,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}_(Lo,Dt),t=Lo.prototype,t.open=function(p,E){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=p,this.A=E,this.readyState=1,Fr(this)},t.send=function(p){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const E={headers:this.u,method:this.B,credentials:this.m,cache:void 0};p&&(E.body=p),(this.D||c).fetch(new Request(this.A,E)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,jr(this)),this.readyState=0},t.Sa=function(p){if(this.g&&(this.l=p,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=p.headers,this.readyState=2,Fr(this)),this.g&&(this.readyState=3,Fr(this),this.g)))if(this.responseType==="arraybuffer")p.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in p){if(this.j=p.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Cf(this)}else p.text().then(this.Ra.bind(this),this.ga.bind(this))};function Cf(p){p.j.read().then(p.Pa.bind(p)).catch(p.ga.bind(p))}t.Pa=function(p){if(this.g){if(this.o&&p.value)this.response.push(p.value);else if(!this.o){var E=p.value?p.value:new Uint8Array(0);(E=this.v.decode(E,{stream:!p.done}))&&(this.response=this.responseText+=E)}p.done?jr(this):Fr(this),this.readyState==3&&Cf(this)}},t.Ra=function(p){this.g&&(this.response=this.responseText=p,jr(this))},t.Qa=function(p){this.g&&(this.response=p,jr(this))},t.ga=function(){this.g&&jr(this)};function jr(p){p.readyState=4,p.l=null,p.j=null,p.v=null,Fr(p)}t.setRequestHeader=function(p,E){this.u.append(p,E)},t.getResponseHeader=function(p){return this.h&&this.h.get(p.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const p=[],E=this.h.entries();for(var R=E.next();!R.done;)R=R.value,p.push(R[0]+": "+R[1]),R=E.next();return p.join(`\r
`)};function Fr(p){p.onreadystatechange&&p.onreadystatechange.call(p)}Object.defineProperty(Lo.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(p){this.m=p?"include":"same-origin"}});function Fi(p){let E="";return z(p,function(R,U){E+=U,E+=":",E+=R,E+=`\r
`}),E}function As(p,E,R){e:{for(U in R){var U=!1;break e}U=!0}U||(R=Fi(R),typeof p=="string"?R!=null&&encodeURIComponent(String(R)):Qe(p,E,R))}function ht(p){Dt.call(this),this.headers=new Map,this.o=p||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}_(ht,Dt);var sg=/^https?$/i,Bc=["POST","PUT"];t=ht.prototype,t.Ha=function(p){this.J=p},t.ea=function(p,E,R,U){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+p);E=E?E.toUpperCase():"GET",this.D=p,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Or.g(),this.v=this.o?Va(this.o):Va(Or),this.g.onreadystatechange=v(this.Ea,this);try{this.B=!0,this.g.open(E,String(p),!0),this.B=!1}catch(J){jo(this,J);return}if(p=R||"",R=new Map(this.headers),U)if(Object.getPrototypeOf(U)===Object.prototype)for(var G in U)R.set(G,U[G]);else if(typeof U.keys=="function"&&typeof U.get=="function")for(const J of U.keys())R.set(J,U.get(J));else throw Error("Unknown input type for opt_headers: "+String(U));U=Array.from(R.keys()).find(J=>J.toLowerCase()=="content-type"),G=c.FormData&&p instanceof c.FormData,!(0<=Array.prototype.indexOf.call(Bc,E,void 0))||U||G||R.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[J,he]of R)this.g.setRequestHeader(J,he);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Ja(this),this.u=!0,this.g.send(p),this.u=!1}catch(J){jo(this,J)}};function jo(p,E){p.h=!1,p.g&&(p.j=!0,p.g.abort(),p.j=!1),p.l=E,p.m=5,Xa(p),Jn(p)}function Xa(p){p.A||(p.A=!0,Lt(p,"complete"),Lt(p,"error"))}t.abort=function(p){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=p||7,Lt(this,"complete"),Lt(this,"abort"),Jn(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Jn(this,!0)),ht.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?zc(this):this.bb())},t.bb=function(){zc(this)};function zc(p){if(p.h&&typeof a<"u"&&(!p.v[1]||On(p)!=4||p.Z()!=2)){if(p.u&&On(p)==4)Cc(p.Ea,0,p);else if(Lt(p,"readystatechange"),On(p)==4){p.h=!1;try{const he=p.Z();e:switch(he){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var E=!0;break e;default:E=!1}var R;if(!(R=E)){var U;if(U=he===0){var G=String(p.D).match(Mo)[1]||null;!G&&c.self&&c.self.location&&(G=c.self.location.protocol.slice(0,-1)),U=!sg.test(G?G.toLowerCase():"")}R=U}if(R)Lt(p,"complete"),Lt(p,"success");else{p.m=6;try{var J=2<On(p)?p.g.statusText:""}catch{J=""}p.l=J+" ["+p.Z()+"]",Xa(p)}}finally{Jn(p)}}}}function Jn(p,E){if(p.g){Ja(p);const R=p.g,U=p.v[0]?()=>{}:null;p.g=null,p.v=null,E||Lt(p,"ready");try{R.onreadystatechange=U}catch{}}}function Ja(p){p.I&&(c.clearTimeout(p.I),p.I=null)}t.isActive=function(){return!!this.g};function On(p){return p.g?p.g.readyState:0}t.Z=function(){try{return 2<On(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(p){if(this.g){var E=this.g.responseText;return p&&E.indexOf(p)==0&&(E=E.substring(p.length)),Ic(E)}};function Hc(p){try{if(!p.g)return null;if("response"in p.g)return p.g.response;switch(p.H){case"":case"text":return p.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in p.g)return p.g.mozResponseArrayBuffer}return null}catch{return null}}function Qa(p){const E={};p=(p.g&&2<=On(p)&&p.g.getAllResponseHeaders()||"").split(`\r
`);for(let U=0;U<p.length;U++){if(k(p[U]))continue;var R=M(p[U]);const G=R[0];if(R=R[1],typeof R!="string")continue;R=R.trim();const J=E[G]||[];E[G]=J,J.push(R)}D(E,function(U){return U.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function li(p,E,R){return R&&R.internalChannelParams&&R.internalChannelParams[p]||E}function Wc(p){this.Aa=0,this.i=[],this.j=new Io,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=li("failFast",!1,p),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=li("baseRetryDelayMs",5e3,p),this.cb=li("retryDelaySeedMs",1e4,p),this.Wa=li("forwardChannelMaxRetries",2,p),this.wa=li("forwardChannelRequestTimeoutMs",2e4,p),this.pa=p&&p.xmlHttpFactory||void 0,this.Xa=p&&p.Tb||void 0,this.Ca=p&&p.useFetchStreams||!1,this.L=void 0,this.J=p&&p.supportsCrossDomainXhr||!1,this.K="",this.h=new Oo(p&&p.concurrentRequestLimit),this.Da=new ig,this.P=p&&p.fastHandshake||!1,this.O=p&&p.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=p&&p.Rb||!1,p&&p.xa&&this.j.xa(),p&&p.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&p&&p.detectBufferingProxy||!1,this.ja=void 0,p&&p.longPollingTimeout&&0<p.longPollingTimeout&&(this.ja=p.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=Wc.prototype,t.la=8,t.G=1,t.connect=function(p,E,R,U){Pt(0),this.W=p,this.H=E||{},R&&U!==void 0&&(this.H.OSID=R,this.H.OAID=U),this.F=this.X,this.I=If(this,null,this.W),ci(this)};function Zt(p){if(Za(p),p.G==3){var E=p.U++,R=Xn(p.I);if(Qe(R,"SID",p.K),Qe(R,"RID",E),Qe(R,"TYPE","terminate"),$i(p,R),E=new Mr(p,p.j,E),E.L=2,E.v=Ps(Xn(R)),R=!1,c.navigator&&c.navigator.sendBeacon)try{R=c.navigator.sendBeacon(E.v.toString(),"")}catch{}!R&&c.Image&&(new Image().src=E.v,R=!0),R||(E.g=Rf(E.j,null),E.g.ea(E.v)),E.F=Date.now(),nt(E)}Pf(p)}function $r(p){p.g&&(qc(p),p.g.cancel(),p.g=null)}function Za(p){$r(p),p.u&&(c.clearTimeout(p.u),p.u=null),nl(p),p.h.cancel(),p.s&&(typeof p.s=="number"&&c.clearTimeout(p.s),p.s=null)}function ci(p){if(!Yn(p.h)&&!p.s){p.s=!0;var E=p.Ga;ue||le(),ne||(ue(),ne=!0),oe.add(E,p),p.B=0}}function og(p,E){return gf(p.h)>=p.h.j-(p.s?1:0)?!1:p.s?(p.i=E.D.concat(p.i),!0):p.G==1||p.G==2||p.B>=(p.Va?0:p.Wa)?!1:(p.s=Ar(v(p.Ga,p,E),kf(p,p.B)),p.B++,!0)}t.Ga=function(p){if(this.s)if(this.s=null,this.G==1){if(!p){this.U=Math.floor(1e5*Math.random()),p=this.U++;const G=new Mr(this,this.j,p);let J=this.o;if(this.S&&(J?(J=I(J),b(J,this.S)):J=this.S),this.m!==null||this.O||(G.H=J,J=null),this.P)e:{for(var E=0,R=0;R<this.i.length;R++){t:{var U=this.i[R];if("__data__"in U.map&&(U=U.map.__data__,typeof U=="string")){U=U.length;break t}U=void 0}if(U===void 0)break;if(E+=U,4096<E){E=R;break e}if(E===4096||R===this.i.length-1){E=R+1;break e}}E=1e3}else E=1e3;E=Ns(this,G,E),R=Xn(this.I),Qe(R,"RID",p),Qe(R,"CVER",22),this.D&&Qe(R,"X-HTTP-Session-Id",this.D),$i(this,R),J&&(this.O?E="headers="+encodeURIComponent(String(Fi(J)))+"&"+E:this.m&&As(R,this.m,J)),Vc(this.h,G),this.Ua&&Qe(R,"TYPE","init"),this.P?(Qe(R,"$req",E),Qe(R,"SID","null"),G.T=!0,qa(G,R,null)):qa(G,R,E),this.G=2}}else this.G==3&&(p?el(this,p):this.i.length==0||Yn(this.h)||el(this))};function el(p,E){var R;E?R=E.l:R=p.U++;const U=Xn(p.I);Qe(U,"SID",p.K),Qe(U,"RID",R),Qe(U,"AID",p.T),$i(p,U),p.m&&p.o&&As(U,p.m,p.o),R=new Mr(p,p.j,R,p.B+1),p.m===null&&(R.H=p.o),E&&(p.i=E.D.concat(p.i)),E=Ns(p,R,1e3),R.I=Math.round(.5*p.wa)+Math.round(.5*p.wa*Math.random()),Vc(p.h,R),qa(R,U,E)}function $i(p,E){p.H&&z(p.H,function(R,U){Qe(E,U,R)}),p.l&&Cs({},function(R,U){Qe(E,U,R)})}function Ns(p,E,R){R=Math.min(p.i.length,R);var U=p.l?v(p.l.Na,p.l,p):null;e:{var G=p.i;let J=-1;for(;;){const he=["count="+R];J==-1?0<R?(J=G[0].g,he.push("ofs="+J)):J=0:he.push("ofs="+J);let Ye=!0;for(let jt=0;jt<R;jt++){let Ve=G[jt].g;const Bt=G[jt].map;if(Ve-=J,0>Ve)J=Math.max(0,G[jt].g-100),Ye=!1;else try{Sf(Bt,he,"req"+Ve+"_")}catch{U&&U(Bt)}}if(Ye){U=he.join("&");break e}}}return p=p.i.splice(0,R),E.D=p,U}function Fo(p){if(!p.g&&!p.u){p.Y=1;var E=p.Fa;ue||le(),ne||(ue(),ne=!0),oe.add(E,p),p.v=0}}function tl(p){return p.g||p.u||3<=p.v?!1:(p.Y++,p.u=Ar(v(p.Fa,p),kf(p,p.v)),p.v++,!0)}t.Fa=function(){if(this.u=null,Tf(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var p=2*this.R;this.j.info("BP detection timer enabled: "+p),this.A=Ar(v(this.ab,this),p)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Pt(10),$r(this),Tf(this))};function qc(p){p.A!=null&&(c.clearTimeout(p.A),p.A=null)}function Tf(p){p.g=new Mr(p,p.j,"rpc",p.Y),p.m===null&&(p.g.H=p.o),p.g.O=0;var E=Xn(p.qa);Qe(E,"RID","rpc"),Qe(E,"SID",p.K),Qe(E,"AID",p.T),Qe(E,"CI",p.F?"0":"1"),!p.F&&p.ja&&Qe(E,"TO",p.ja),Qe(E,"TYPE","xmlhttp"),$i(p,E),p.m&&p.o&&As(E,p.m,p.o),p.L&&(p.g.I=p.L);var R=p.g;p=p.ia,R.L=1,R.v=Ps(Xn(E)),R.m=null,R.P=!0,Fc(R,p)}t.Za=function(){this.C!=null&&(this.C=null,$r(this),tl(this),Pt(19))};function nl(p){p.C!=null&&(c.clearTimeout(p.C),p.C=null)}function rl(p,E){var R=null;if(p.g==E){nl(p),qc(p),p.g=null;var U=2}else if(bn(p.h,E))R=E.D,vf(p.h,E),U=1;else return;if(p.G!=0){if(E.o)if(U==1){R=E.m?E.m.length:0,E=Date.now()-E.F;var G=p.B;U=Ba(),Lt(U,new za(U,R)),ci(p)}else Fo(p);else if(G=E.s,G==3||G==0&&0<E.X||!(U==1&&og(p,E)||U==2&&tl(p)))switch(R&&0<R.length&&(E=p.h,E.i=E.i.concat(R)),G){case 1:Vi(p,5);break;case 4:Vi(p,10);break;case 3:Vi(p,6);break;default:Vi(p,2)}}}function kf(p,E){let R=p.Ta+Math.floor(Math.random()*p.cb);return p.isActive()||(R*=2),R*E}function Vi(p,E){if(p.j.info("Error code "+E),E==2){var R=v(p.fb,p),U=p.Xa;const G=!U;U=new Li(U||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||Do(U,"https"),Ps(U),G?rg(U.toString(),R):Ef(U.toString(),R)}else Pt(2);p.G=0,p.l&&p.l.sa(E),Pf(p),Za(p)}t.fb=function(p){p?(this.j.info("Successfully pinged google.com"),Pt(2)):(this.j.info("Failed to ping google.com"),Pt(1))};function Pf(p){if(p.G=0,p.ka=[],p.l){const E=yf(p.h);(E.length!=0||p.i.length!=0)&&(N(p.ka,E),N(p.ka,p.i),p.h.i.length=0,T(p.i),p.i.length=0),p.l.ra()}}function If(p,E,R){var U=R instanceof Li?Xn(R):new Li(R);if(U.g!="")E&&(U.g=E+"."+U.g),Ts(U,U.s);else{var G=c.location;U=G.protocol,E=E?E+"."+G.hostname:G.hostname,G=+G.port;var J=new Li(null);U&&Do(J,U),E&&(J.g=E),G&&Ts(J,G),R&&(J.l=R),U=J}return R=p.D,E=p.ya,R&&E&&Qe(U,R,E),Qe(U,"VER",p.la),$i(p,U),U}function Rf(p,E,R){if(E&&!p.J)throw Error("Can't create secondary domain capable XhrIo object.");return E=p.Ca&&!p.pa?new ht(new ji({eb:R})):new ht(p.pa),E.Ha(p.J),E}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Gc(){}t=Gc.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function Mn(p,E){Dt.call(this),this.g=new Wc(E),this.l=p,this.h=E&&E.messageUrlParams||null,p=E&&E.messageHeaders||null,E&&E.clientProtocolHeaderRequired&&(p?p["X-Client-Protocol"]="webchannel":p={"X-Client-Protocol":"webchannel"}),this.g.o=p,p=E&&E.initMessageHeaders||null,E&&E.messageContentType&&(p?p["X-WebChannel-Content-Type"]=E.messageContentType:p={"X-WebChannel-Content-Type":E.messageContentType}),E&&E.va&&(p?p["X-WebChannel-Client-Profile"]=E.va:p={"X-WebChannel-Client-Profile":E.va}),this.g.S=p,(p=E&&E.Sb)&&!k(p)&&(this.g.m=p),this.v=E&&E.supportsCrossDomainXhr||!1,this.u=E&&E.sendRawJson||!1,(E=E&&E.httpSessionIdParam)&&!k(E)&&(this.g.D=E,p=this.h,p!==null&&E in p&&(p=this.h,E in p&&delete p[E])),this.j=new Os(this)}_(Mn,Dt),Mn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Mn.prototype.close=function(){Zt(this.g)},Mn.prototype.o=function(p){var E=this.g;if(typeof p=="string"){var R={};R.__data__=p,p=R}else this.u&&(R={},R.__data__=Pc(p),p=R);E.i.push(new mf(E.Ya++,p)),E.G==3&&ci(E)},Mn.prototype.N=function(){this.g.l=null,delete this.j,Zt(this.g),delete this.g,Mn.aa.N.call(this)};function Af(p){si.call(this),p.__headers__&&(this.headers=p.__headers__,this.statusCode=p.__status__,delete p.__headers__,delete p.__status__);var E=p.__sm__;if(E){e:{for(const R in E){p=R;break e}p=void 0}(this.i=p)&&(p=this.i,E=E!==null&&p in E?E[p]:void 0),this.data=E}else this.data=p}_(Af,si);function Nf(){Ua.call(this),this.status=1}_(Nf,Ua);function Os(p){this.g=p}_(Os,Gc),Os.prototype.ua=function(){Lt(this.g,"a")},Os.prototype.ta=function(p){Lt(this.g,new Af(p))},Os.prototype.sa=function(p){Lt(this.g,new Nf)},Os.prototype.ra=function(){Lt(this.g,"b")},Mn.prototype.send=Mn.prototype.o,Mn.prototype.open=Mn.prototype.m,Mn.prototype.close=Mn.prototype.close,Lc.NO_ERROR=0,Lc.TIMEOUT=8,Lc.HTTP_ERROR=6,eg.COMPLETE="complete",Ac.EventType=ur,ur.OPEN="a",ur.CLOSE="b",ur.ERROR="c",ur.MESSAGE="d",Dt.prototype.listen=Dt.prototype.K,ht.prototype.listenOnce=ht.prototype.L,ht.prototype.getLastError=ht.prototype.Ka,ht.prototype.getLastErrorCode=ht.prototype.Ba,ht.prototype.getStatus=ht.prototype.Z,ht.prototype.getResponseJson=ht.prototype.Oa,ht.prototype.getResponseText=ht.prototype.oa,ht.prototype.send=ht.prototype.ea,ht.prototype.setWithCredentials=ht.prototype.Ha}).apply(typeof Oh<"u"?Oh:typeof self<"u"?self:typeof window<"u"?window:{});const AS="@firebase/firestore",NS="4.7.14";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Tn.UNAUTHENTICATED=new Tn(null),Tn.GOOGLE_CREDENTIALS=new Tn("google-credentials-uid"),Tn.FIRST_PARTY=new Tn("first-party-uid"),Tn.MOCK_USER=new Tn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Qd="11.7.3";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rc=new um("@firebase/firestore");function Xr(t,...e){if(rc.logLevel<=Ke.DEBUG){const n=e.map(k_);rc.debug(`Firestore (${Qd}): ${t}`,...n)}}function $I(t,...e){if(rc.logLevel<=Ke.ERROR){const n=e.map(k_);rc.error(`Firestore (${Qd}): ${t}`,...n)}}function L9(t,...e){if(rc.logLevel<=Ke.WARN){const n=e.map(k_);rc.warn(`Firestore (${Qd}): ${t}`,...n)}}function k_(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VI(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,UI(t,r,n)}function UI(t,e,n){let r=`FIRESTORE (${Qd}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw $I(r),new Error(r)}function Gu(t,e,n,r){let i="Unexpected state";typeof n=="string"?i=n:r=n,t||UI(e,i,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bn={CANCELLED:"cancelled",INVALID_ARGUMENT:"invalid-argument",FAILED_PRECONDITION:"failed-precondition"};class zn extends ri{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ku{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BI{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class j9{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Tn.UNAUTHENTICATED))}shutdown(){}}class F9{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class $9{constructor(e){this.t=e,this.currentUser=Tn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Gu(this.o===void 0,42304);let r=this.i;const i=u=>this.i!==r?(r=this.i,n(u)):Promise.resolve();let s=new Ku;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Ku,e.enqueueRetryable(()=>i(this.currentUser))};const a=()=>{const u=s;e.enqueueRetryable(async()=>{await u.promise,await i(this.currentUser)})},c=u=>{Xr("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.o&&(this.auth.addAuthTokenListener(this.o),a())};this.t.onInit(u=>c(u)),setTimeout(()=>{if(!this.auth){const u=this.t.getImmediate({optional:!0});u?c(u):(Xr("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Ku)}},0),a()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(Xr("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Gu(typeof r.accessToken=="string",31837,{l:r}),new BI(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Gu(e===null||typeof e=="string",2055,{h:e}),new Tn(e)}}class V9{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=Tn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class U9{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new V9(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(Tn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class OS{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class B9{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,gn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Gu(this.o===void 0,3512);const r=s=>{s.error!=null&&Xr("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const a=s.token!==this.m;return this.m=s.token,Xr("FirebaseAppCheckTokenProvider",`Received ${a?"new":"existing"} token.`),a?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{Xr("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.V.getImmediate({optional:!0});s?i(s):Xr("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new OS(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Gu(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new OS(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function z9(t){return t.name==="IndexedDbTransactionError"}const y0="(default)";class jp{constructor(e,n){this.projectId=e,this.database=n||y0}static empty(){return new jp("","")}get isDefaultDatabase(){return this.database===y0}isEqual(e){return e instanceof jp&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var MS,Ue;(Ue=MS||(MS={}))[Ue.OK=0]="OK",Ue[Ue.CANCELLED=1]="CANCELLED",Ue[Ue.UNKNOWN=2]="UNKNOWN",Ue[Ue.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ue[Ue.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ue[Ue.NOT_FOUND=5]="NOT_FOUND",Ue[Ue.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ue[Ue.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ue[Ue.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ue[Ue.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ue[Ue.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ue[Ue.ABORTED=10]="ABORTED",Ue[Ue.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ue[Ue.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ue[Ue.INTERNAL=13]="INTERNAL",Ue[Ue.UNAVAILABLE=14]="UNAVAILABLE",Ue[Ue.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */new FI([4294967295,4294967295],0);/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H9=41943040;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W9=1048576;function ny(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q9{constructor(e,n,r=1e3,i=1.5,s=6e4){this.bi=e,this.timerId=n,this.u_=r,this.c_=i,this.l_=s,this.h_=0,this.P_=null,this.T_=Date.now(),this.reset()}reset(){this.h_=0}I_(){this.h_=this.l_}E_(e){this.cancel();const n=Math.floor(this.h_+this.d_()),r=Math.max(0,Date.now()-this.T_),i=Math.max(0,n-r);i>0&&Xr("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.h_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.P_=this.bi.enqueueAfterDelay(this.timerId,i,()=>(this.T_=Date.now(),e())),this.h_*=this.c_,this.h_<this.u_&&(this.h_=this.u_),this.h_>this.l_&&(this.h_=this.l_)}A_(){this.P_!==null&&(this.P_.skipDelay(),this.P_=null)}cancel(){this.P_!==null&&(this.P_.cancel(),this.P_=null)}d_(){return(Math.random()-.5)*this.h_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P_{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new Ku,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(a=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){const a=Date.now()+r,c=new P_(e,n,a,i,s);return c.start(r),c}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new zn(Bn.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}var DS,LS;(LS=DS||(DS={})).ya="default",LS.Cache="cache";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function G9(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jS=new Map;function K9(t,e,n,r){if(e===!0&&r===!0)throw new zn(Bn.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function Y9(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":VI(12329,{type:typeof t})}function X9(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new zn(Bn.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Y9(t);throw new zn(Bn.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zI="firestore.googleapis.com",FS=!0;class $S{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new zn(Bn.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=zI,this.ssl=FS}else this.host=e.host,this.ssl=(n=e.ssl)!==null&&n!==void 0?n:FS;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=H9;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<W9)throw new zn(Bn.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}K9("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=G9((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new zn(Bn.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new zn(Bn.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new zn(Bn.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class HI{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new $S({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new zn(Bn.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new zn(Bn.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new $S(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new j9;switch(r.type){case"firstParty":return new U9(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new zn(Bn.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,_o("Firestore",this._settings.isUsingEmulator),this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=jS.get(n);r&&(Xr("ComponentProvider","Removing Datastore"),jS.delete(n),r.terminate())}(this),Promise.resolve()}}function WI(t,e,n,r={}){var i;t=X9(t,HI);const s=wo(e),a=t._getSettings(),c=Object.assign(Object.assign({},a),{emulatorOptions:t._getEmulatorOptions()}),u=`${e}:${n}`;a.host!==zI&&a.host!==u&&L9("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const f=Object.assign(Object.assign({},a),{host:u,ssl:s,emulatorOptions:r});if(!fo(f,c)&&(t._setSettings(f),s&&(am(`https://${u}`),_o("Firestore",!0)),r.mockUserToken)){let h,g;if(typeof r.mockUserToken=="string")h=r.mockUserToken,g=Tn.MOCK_USER;else{h=ww(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const v=r.mockUserToken.sub||r.mockUserToken.user_id;if(!v)throw new zn(Bn.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");g=new Tn(v)}t._authCredentials=new F9(new BI(h,g))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VS="AsyncQueue";class US{constructor(e=Promise.resolve()){this.Qu=[],this.$u=!1,this.Uu=[],this.Ku=null,this.Wu=!1,this.Gu=!1,this.zu=[],this.y_=new q9(this,"async_queue_retry"),this.ju=()=>{const r=ny();r&&Xr(VS,"Visibility state changed to "+r.visibilityState),this.y_.A_()},this.Hu=e;const n=ny();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.ju)}get isShuttingDown(){return this.$u}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Ju(),this.Yu(e)}enterRestrictedMode(e){if(!this.$u){this.$u=!0,this.Gu=e||!1;const n=ny();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.ju)}}enqueue(e){if(this.Ju(),this.$u)return new Promise(()=>{});const n=new Ku;return this.Yu(()=>this.$u&&this.Gu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Qu.push(e),this.Zu()))}async Zu(){if(this.Qu.length!==0){try{await this.Qu[0](),this.Qu.shift(),this.y_.reset()}catch(e){if(!z9(e))throw e;Xr(VS,"Operation failed with retryable error: "+e)}this.Qu.length>0&&this.y_.E_(()=>this.Zu())}}Yu(e){const n=this.Hu.then(()=>(this.Wu=!0,e().catch(r=>{throw this.Ku=r,this.Wu=!1,$I("INTERNAL UNHANDLED ERROR: ",BS(r)),r}).then(r=>(this.Wu=!1,r))));return this.Hu=n,n}enqueueAfterDelay(e,n,r){this.Ju(),this.zu.indexOf(e)>-1&&(n=0);const i=P_.createAndSchedule(this,e,n,r,s=>this.Xu(s));return this.Uu.push(i),i}Ju(){this.Ku&&VI(47125,{ec:BS(this.Ku)})}verifyOperationInProgress(){}async tc(){let e;do e=this.Hu,await e;while(e!==this.Hu)}nc(e){for(const n of this.Uu)if(n.timerId===e)return!0;return!1}rc(e){return this.tc().then(()=>{this.Uu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.Uu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.tc()})}sc(e){this.zu.push(e)}Xu(e){const n=this.Uu.indexOf(e);this.Uu.splice(n,1)}}function BS(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class J9 extends HI{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new US,this._persistenceKey=i?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new US(e),this._firestoreClient=void 0,await e}}}function Q9(t,e){const n=typeof t=="object"?t:Fd(),r=typeof t=="string"?t:y0,i=xo(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const s=yw("firestore");s&&WI(i,...s)}return i}(function(e,n=!0){(function(i){Qd=i})(bo),ar(new qn("firestore",(r,{instanceIdentifier:i,options:s})=>{const a=r.getProvider("app").getImmediate(),c=new J9(new $9(r.getProvider("auth-internal")),new B9(a,r.getProvider("app-check-internal")),function(f,h){if(!Object.prototype.hasOwnProperty.apply(f.options,["projectId"]))throw new zn(Bn.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new jp(f.options.projectId,h)}(a,i),a);return s=Object.assign({useFetchStreams:n},s),c._setSettings(s),c},"PUBLIC").setMultipleInstances(!0)),Jt(AS,NS,e),Jt(AS,NS,"esm2017")})();const Z9={apiKey:"AIzaSyD9cpSfGG212h80iXofJetw-B-arEEcOvI",authDomain:"emprochampions2025.firebaseapp.com",databaseURL:"https://emprochampions2025-default-rtdb.firebaseio.com",projectId:"emprochampions2025",storageBucket:"emprochampions2025.firebasestorage.app",messagingSenderId:"683206087538",appId:"1:683206087538:web:8a1473aec968bd6ab543eb",measurementId:"G-3TX5J3NDT5"},Ma=W2(Z9),to=eP(Ma),Te=x_(Ma),e8=LI(Ma),t8=Q9(Ma);Iw(Ma);new wi;window.location.hostname==="localhost"&&(Lk(to,"http://localhost:9099"),mI(Te,"localhost",9e3),jI(e8,"localhost",9199),WI(t8,"localhost",8080),console.log("Conectado a emuladores de Firebase"));const qI=C.createContext(),ii=()=>{const t=C.useContext(qI);if(!t)throw new Error("useAuth must be used within an AuthProvider");return t};function n8({children:t}){const[e,n]=C.useState(null),[r,i]=C.useState(null),[s,a]=C.useState(!0),c=(g,v)=>Uk(to,g,v),u=(g,v)=>Xj(to,g,v),f=()=>Bk(to),h=()=>{const g=new wi;return g.setCustomParameters({prompt:"select_account"}),_3(to,g)};return C.useEffect(()=>{const g=e3(to,async v=>{if(v){const _=["yayirobe2305@gmail.com","gersonespino@gmail.com","andiescobar8@gmail.com","rodriguezmerary42@gmail.com"].includes(v.email)?"admin":"usuario";i(_),n(v);const T=Ce(Te,`usuarios/${v.uid}`),N=await Sr(T);if(N.exists())N.val().rol!==_&&await hs(T,{rol:_});else{const A={correo:v.email,rol:_,nombre:v.displayName?.split(" ")[0]||"",apellido:v.displayName?.split(" ")[1]||""};await Ct(T,A)}}else n(null),i(null);a(!1)});return()=>g()},[]),w.jsx(qI.Provider,{value:{user:e,rol:r,loading:s,signup:c,login:u,logout:f,loginWithGoogle:h},children:t})}const Fp={calendario:{femenino:{asignaciones:{A:"Equipo A",B:"Equipo B",C:"Equipo C",D:"Equipo D",E:"Equipo E"},partidos:{jornada1:[{cancha:"1",equipo1:"A",equipo2:"B",fecha:"Sábado 28 Jun - 08:00 AM"},{cancha:"2",equipo1:"C",equipo2:"D",fecha:"Sábado 28 Jun - 08:00 AM"}],jornada2:[{cancha:"1",equipo1:"A",equipo2:"C",fecha:"Sábado 28 Jun - 09:00 AM"},{cancha:"2",equipo1:"B",equipo2:"E",fecha:"Sábado 28 Jun - 09:00 AM"}],jornada3:[{cancha:"1",equipo1:"A",equipo2:"D",fecha:"Sábado 28 Jun - 10:00 AM"},{cancha:"2",equipo1:"C",equipo2:"E",fecha:"Sábado 28 Jun - 10:00 AM"}],jornada4:[{cancha:"1",equipo1:"A",equipo2:"E",fecha:"Sábado 28 Jun - 11:00 AM"},{cancha:"2",equipo1:"B",equipo2:"D",fecha:"Sábado 28 Jun - 11:00 AM"}],jornada5:[{cancha:"1",equipo1:"B",equipo2:"C",fecha:"Sábado 28 Jun - 12:00 PM"},{cancha:"2",equipo1:"D",equipo2:"E",fecha:"Sábado 28 Jun - 12:00 PM"}],semifinales:[{cancha:"1",equipo1:"1er Lugar",equipo2:"4to Lugar",fecha:"Domingo 29 Jun - 09:00 AM"},{cancha:"2",equipo1:"2do Lugar",equipo2:"3er Lugar",fecha:"Domingo 29 Jun - 09:00 AM"}],finales:[{cancha:"2",equipo1:"Perdedor Semi 1",equipo2:"Perdedor Semi 2",fecha:"Domingo 29 Jun - 11:00 AM",nombre:"Tercer Lugar"},{cancha:"1",equipo1:"Ganador Semi 1",equipo2:"Ganador Semi 2",fecha:"Domingo 29 Jun - 12:00 PM",nombre:"Gran Final"}]}},masculino:{asignaciones:{A:"Equipo A",B:"Equipo B",C:"Equipo C",D:"Equipo D",E:"Equipo E",F:"Equipo F"},partidos:{jornada1:[{cancha:"1",equipo1:"A",equipo2:"F",fecha:"Sábado 28 Jun - 02:00 PM"},{cancha:"2",equipo1:"B",equipo2:"E",fecha:"Sábado 28 Jun - 02:00 PM"},{cancha:"1",equipo1:"C",equipo2:"D",fecha:"Sábado 28 Jun - 03:00 PM"}],jornada2:[{cancha:"2",equipo1:"A",equipo2:"E",fecha:"Sábado 28 Jun - 03:00 PM"},{cancha:"1",equipo1:"B",equipo2:"D",fecha:"Sábado 28 Jun - 04:00 PM"},{cancha:"2",equipo1:"C",equipo2:"F",fecha:"Sábado 28 Jun - 04:00 PM"}],jornada3:[{cancha:"1",equipo1:"A",equipo2:"D",fecha:"Domingo 29 Jun - 08:00 AM"},{cancha:"2",equipo1:"B",equipo2:"C",fecha:"Domingo 29 Jun - 08:00 AM"},{cancha:"1",equipo1:"E",equipo2:"F",fecha:"Domingo 29 Jun - 10:00 AM"}],jornada4:[{cancha:"2",equipo1:"A",equipo2:"C",fecha:"Domingo 29 Jun - 10:00 AM"},{cancha:"1",equipo1:"B",equipo2:"F",fecha:"Domingo 29 Jun - 11:00 AM"},{cancha:"2",equipo1:"D",equipo2:"E",fecha:"Domingo 29 Jun - 11:00 AM"}],jornada5:[{cancha:"1",equipo1:"A",equipo2:"B",fecha:"Domingo 29 Jun - 01:00 PM"},{cancha:"2",equipo1:"C",equipo2:"E",fecha:"Domingo 29 Jun - 01:00 PM"},{cancha:"1",equipo1:"D",equipo2:"F",fecha:"Domingo 29 Jun - 02:00 PM"}],semifinales:[{cancha:"1",equipo1:"1er Lugar",equipo2:"4to Lugar",fecha:"Domingo 29 Jun - 03:00 PM"},{cancha:"2",equipo1:"2do Lugar",equipo2:"3er Lugar",fecha:"Domingo 29 Jun - 03:00 PM"}],finales:[{cancha:"2",equipo1:"Perdedor Semi 1",equipo2:"Perdedor Semi 2",fecha:"Domingo 29 Jun - 04:00 PM",nombre:"Tercer Lugar"},{cancha:"1",equipo1:"Ganador Semi 1",equipo2:"Ganador Semi 2",fecha:"Domingo 29 Jun - 05:00 PM",nombre:"Gran Final"}]}}},plantillas:{femenino:{"Don Bosco":{logo:"bosco.png",jugadores:[]},"Atrapados en su Red":{logo:"atrapados.png",jugadores:[]},"Luz en mi Camino":{logo:"luz.png",jugadores:[]},"Mensajeros de Paz":{logo:"mensajeros.png",jugadores:[]},"Huellas de Jesus":{logo:"huellas.png",jugadores:[]}},masculino:{"Don Bosco":{logo:"bosco.png",jugadores:[]},"Atrapados en su Red":{logo:"atrapados.png",jugadores:[]},"Luz en mi Camino":{logo:"luz.png",jugadores:[]},"Mensajeros de Paz":{logo:"mensajeros.png",jugadores:[]},"Huellas de Jesus":{logo:"huellas.png",jugadores:[]},Emprosaurios:{logo:"emprosaurios.png",jugadores:[]}}}},r8=()=>{const t=x_();Ce(t,"calendario")};function i8(){const[t,e]=C.useState(""),[n,r]=C.useState(""),[i,s]=C.useState(""),a=Pr(),{login:c,loginWithGoogle:u}=ii(),f=async g=>{g.preventDefault(),s("");try{await c(t,n),a("/")}catch(v){s("Credenciales incorrectas. Verifica tu correo y contraseña."),console.error("Error en login:",v.message)}},h=async()=>{s("");try{await u(),a("/")}catch(g){s("Error al iniciar sesión con Google."),console.error("Error en login con Google:",g.message)}};return w.jsx("div",{className:"min-h-screen bg-cover bg-center flex items-center justify-center",style:{backgroundImage:"url('/EmproChampions-2025/img/fondoempro-horizontal.png')"},children:w.jsxs("div",{className:"bg-white/90 rounded-2xl shadow-lg p-8 w-full max-w-md text-center",children:[w.jsx("img",{src:"/EmproChampions-2025/img/logo-empro.png",alt:"Logo Empro",className:"w-32 md:w-40 mx-auto mb-4"}),w.jsx("h1",{className:"text-3xl font-bold text-[#7a0026] mb-6",children:"Empro Champions 2025"}),i&&w.jsx("p",{className:"bg-red-500 text-white p-2 rounded-md mb-4",children:i}),w.jsxs("form",{onSubmit:f,className:"space-y-4",children:[w.jsx("h2",{className:"text-lg text-[#7a0026] font-bold",children:"¡HOLA, INICIA SESIÓN!"}),w.jsx("input",{type:"email",placeholder:"CORREO",value:t,onChange:g=>e(g.target.value),required:!0,className:"w-full px-4 py-2 border border-[#7a0026] rounded-md focus:outline-none focus:ring-2 focus:ring-[#FFD700]",autoComplete:"email"}),w.jsx("input",{type:"password",placeholder:"CONTRASEÑA",value:n,onChange:g=>r(g.target.value),required:!0,className:"w-full px-4 py-2 border border-[#7a0026] rounded-md focus:outline-none focus:ring-2 focus:ring-[#FFD700]",autoComplete:"current-password"}),w.jsx("button",{type:"submit",className:"w-full bg-[#FFD700] text-[#7a0026] font-bold py-2 rounded-md hover:bg-yellow-400 transition",children:"INICIAR SESIÓN"})]}),w.jsx("div",{className:"my-4 text-[#7a0026] font-semibold",children:"o"}),w.jsx("button",{onClick:h,className:"w-full bg-blue-600 text-white font-bold py-2 rounded-md hover:bg-blue-700 transition",children:"INGRESA CON GOOGLE"}),w.jsxs("p",{className:"mt-4 text-sm text-[#7a0026]",children:["¿No tienes cuenta?"," ",w.jsx(fa,{to:"/registro",className:"font-bold underline",children:"Crea una"})]})]})})}function s8(){const[t,e]=C.useState(""),[n,r]=C.useState(""),[i,s]=C.useState(""),[a,c]=C.useState(""),u=Pr(),f=(g,v)=>{const x=g?.charAt(0).toUpperCase()||"",_=v?.charAt(0).toUpperCase()||"";return`${x}${_}`},h=async g=>{g.preventDefault();try{const v=await Uk(to,i,a),x=v.user.uid,_={nombre:t,apellido:n,correo:i,rol:"usuario",iniciales:f(t,n),foto:null};await Ct(Ce(Te,`usuarios/${x}`),_),await Jj(v.user),alert("¡Cuenta creada exitosamente! Se ha enviado un correo de verificación a tu dirección de email. Por favor, verifica tu correo para activar tu cuenta."),u("/login")}catch(v){console.error("Error al crear la cuenta:",v),v.code==="auth/email-already-in-use"?alert("Este correo electrónico ya está registrado. Por favor, intenta con otro o inicia sesión."):v.code==="auth/weak-password"?alert("La contraseña es demasiado débil. Debe tener al menos 6 caracteres."):alert("Error al crear la cuenta. Por favor, inténtalo de nuevo. Detalles: "+v.message)}};return w.jsx("div",{className:"min-h-screen bg-cover bg-center flex items-center justify-center",style:{backgroundImage:"url('/EmproChampions-2025/img/fondoempro-horizontal.png')"},children:w.jsxs("div",{className:"bg-white/90 rounded-2xl shadow-lg p-8 w-full max-w-md text-center",children:[w.jsx("img",{src:"/EmproChampions-2025/img/logo-empro.png",alt:"Logo Empro",className:"w-24 mx-auto mb-4"}),w.jsx("h1",{className:"text-3xl font-bold text-[#7a0026] mb-6",children:"Crear Cuenta"}),w.jsxs("form",{onSubmit:h,className:"space-y-4",children:[w.jsx("input",{type:"text",placeholder:"Nombre",value:t,onChange:g=>e(g.target.value),required:!0,className:"w-full px-4 py-2 border border-[#7a0026] rounded-md focus:outline-none focus:ring-2 focus:ring-[#FFD700]"}),w.jsx("input",{type:"text",placeholder:"Apellido",value:n,onChange:g=>r(g.target.value),required:!0,className:"w-full px-4 py-2 border border-[#7a0026] rounded-md focus:outline-none focus:ring-2 focus:ring-[#FFD700]"}),w.jsx("input",{type:"email",placeholder:"Correo",value:i,onChange:g=>s(g.target.value),required:!0,className:"w-full px-4 py-2 border border-[#7a0026] rounded-md focus:outline-none focus:ring-2 focus:ring-[#FFD700]"}),w.jsx("input",{type:"password",placeholder:"Contraseña (mín. 6 caracteres)",value:a,onChange:g=>c(g.target.value),required:!0,className:"w-full px-4 py-2 border border-[#7a0026] rounded-md focus:outline-none focus:ring-2 focus:ring-[#FFD700]"}),w.jsx("button",{type:"submit",className:"w-full bg-[#FFD700] text-[#7a0026] font-bold py-2 rounded-md hover:bg-yellow-400 transition",children:"Registrarme"})]}),w.jsxs("p",{className:"mt-4 text-sm text-[#7a0026]",children:["¿Ya tienes cuenta?"," ",w.jsx(fa,{to:"/login",className:"font-bold underline",children:"Inicia sesión"})]})]})})}function o8({title:t,titleId:e,...n},r){return C.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?C.createElement("title",{id:e},t):null,C.createElement("path",{fillRule:"evenodd",d:"M5.25 9a6.75 6.75 0 0 1 13.5 0v.75c0 2.123.8 4.057 2.118 5.52a.75.75 0 0 1-.297 1.206c-1.544.57-3.16.99-4.831 1.243a3.75 3.75 0 1 1-7.48 0 24.585 24.585 0 0 1-4.831-1.244.75.75 0 0 1-.298-1.205A8.217 8.217 0 0 0 5.25 9.75V9Zm4.502 8.9a2.25 2.25 0 1 0 4.496 0 25.057 25.057 0 0 1-4.496 0Z",clipRule:"evenodd"}))}const a8=C.forwardRef(o8);function l8({title:t,titleId:e,...n},r){return C.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?C.createElement("title",{id:e},t):null,C.createElement("path",{d:"M12.75 12.75a.75.75 0 1 1-1.5 0 .75.75 0 0 1 1.5 0ZM7.5 15.75a.75.75 0 1 0 0-1.5.75.75 0 0 0 0 1.5ZM8.25 17.25a.75.75 0 1 1-1.5 0 .75.75 0 0 1 1.5 0ZM9.75 15.75a.75.75 0 1 0 0-1.5.75.75 0 0 0 0 1.5ZM10.5 17.25a.75.75 0 1 1-1.5 0 .75.75 0 0 1 1.5 0ZM12 15.75a.75.75 0 1 0 0-1.5.75.75 0 0 0 0 1.5ZM12.75 17.25a.75.75 0 1 1-1.5 0 .75.75 0 0 1 1.5 0ZM14.25 15.75a.75.75 0 1 0 0-1.5.75.75 0 0 0 0 1.5ZM15 17.25a.75.75 0 1 1-1.5 0 .75.75 0 0 1 1.5 0ZM16.5 15.75a.75.75 0 1 0 0-1.5.75.75 0 0 0 0 1.5ZM15 12.75a.75.75 0 1 1-1.5 0 .75.75 0 0 1 1.5 0ZM16.5 13.5a.75.75 0 1 0 0-1.5.75.75 0 0 0 0 1.5Z"}),C.createElement("path",{fillRule:"evenodd",d:"M6.75 2.25A.75.75 0 0 1 7.5 3v1.5h9V3A.75.75 0 0 1 18 3v1.5h.75a3 3 0 0 1 3 3v11.25a3 3 0 0 1-3 3H5.25a3 3 0 0 1-3-3V7.5a3 3 0 0 1 3-3H6V3a.75.75 0 0 1 .75-.75Zm13.5 9a1.5 1.5 0 0 0-1.5-1.5H5.25a1.5 1.5 0 0 0-1.5 1.5v7.5a1.5 1.5 0 0 0 1.5 1.5h13.5a1.5 1.5 0 0 0 1.5-1.5v-7.5Z",clipRule:"evenodd"}))}const c8=C.forwardRef(l8);function u8({title:t,titleId:e,...n},r){return C.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?C.createElement("title",{id:e},t):null,C.createElement("path",{d:"M12 9a3.75 3.75 0 1 0 0 7.5A3.75 3.75 0 0 0 12 9Z"}),C.createElement("path",{fillRule:"evenodd",d:"M9.344 3.071a49.52 49.52 0 0 1 5.312 0c.967.052 1.83.585 2.332 1.39l.821 1.317c.24.383.645.643 1.11.71.386.054.77.113 1.152.177 1.432.239 2.429 1.493 2.429 2.909V18a3 3 0 0 1-3 3h-15a3 3 0 0 1-3-3V9.574c0-1.416.997-2.67 2.429-2.909.382-.064.766-.123 1.151-.178a1.56 1.56 0 0 0 1.11-.71l.822-1.315a2.942 2.942 0 0 1 2.332-1.39ZM6.75 12.75a5.25 5.25 0 1 1 10.5 0 5.25 5.25 0 0 1-10.5 0Zm12-1.5a.75.75 0 1 0 0-1.5.75.75 0 0 0 0 1.5Z",clipRule:"evenodd"}))}const GI=C.forwardRef(u8);function d8({title:t,titleId:e,...n},r){return C.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?C.createElement("title",{id:e},t):null,C.createElement("path",{d:"M18.375 2.25c-1.035 0-1.875.84-1.875 1.875v15.75c0 1.035.84 1.875 1.875 1.875h.75c1.035 0 1.875-.84 1.875-1.875V4.125c0-1.036-.84-1.875-1.875-1.875h-.75ZM9.75 8.625c0-1.036.84-1.875 1.875-1.875h.75c1.036 0 1.875.84 1.875 1.875v11.25c0 1.035-.84 1.875-1.875 1.875h-.75a1.875 1.875 0 0 1-1.875-1.875V8.625ZM3 13.125c0-1.036.84-1.875 1.875-1.875h.75c1.036 0 1.875.84 1.875 1.875v6.75c0 1.035-.84 1.875-1.875 1.875h-.75A1.875 1.875 0 0 1 3 19.875v-6.75Z"}))}const f8=C.forwardRef(d8);function h8({title:t,titleId:e,...n},r){return C.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?C.createElement("title",{id:e},t):null,C.createElement("path",{fillRule:"evenodd",d:"M11.078 2.25c-.917 0-1.699.663-1.85 1.567L9.05 4.889c-.02.12-.115.26-.297.348a7.493 7.493 0 0 0-.986.57c-.166.115-.334.126-.45.083L6.3 5.508a1.875 1.875 0 0 0-2.282.819l-.922 1.597a1.875 1.875 0 0 0 .432 2.385l.84.692c.095.078.17.229.154.43a7.598 7.598 0 0 0 0 1.139c.015.2-.059.352-.153.43l-.841.692a1.875 1.875 0 0 0-.432 2.385l.922 1.597a1.875 1.875 0 0 0 2.282.818l1.019-.382c.115-.043.283-.031.45.082.312.214.641.405.985.57.182.088.277.228.297.35l.178 1.071c.151.904.933 1.567 1.85 1.567h1.844c.916 0 1.699-.663 1.85-1.567l.178-1.072c.02-.12.114-.26.297-.349.344-.165.673-.356.985-.57.167-.114.335-.125.45-.082l1.02.382a1.875 1.875 0 0 0 2.28-.819l.923-1.597a1.875 1.875 0 0 0-.432-2.385l-.84-.692c-.095-.078-.17-.229-.154-.43a7.614 7.614 0 0 0 0-1.139c-.016-.2.059-.352.153-.43l.84-.692c.708-.582.891-1.59.433-2.385l-.922-1.597a1.875 1.875 0 0 0-2.282-.818l-1.02.382c-.114.043-.282.031-.449-.083a7.49 7.49 0 0 0-.985-.57c-.183-.087-.277-.227-.297-.348l-.179-1.072a1.875 1.875 0 0 0-1.85-1.567h-1.843ZM12 15.75a3.75 3.75 0 1 0 0-7.5 3.75 3.75 0 0 0 0 7.5Z",clipRule:"evenodd"}))}const p8=C.forwardRef(h8);function m8({title:t,titleId:e,...n},r){return C.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?C.createElement("title",{id:e},t):null,C.createElement("path",{d:"m11.645 20.91-.007-.003-.022-.012a15.247 15.247 0 0 1-.383-.218 25.18 25.18 0 0 1-4.244-3.17C4.688 15.36 2.25 12.174 2.25 8.25 2.25 5.322 4.714 3 7.688 3A5.5 5.5 0 0 1 12 5.052 5.5 5.5 0 0 1 16.313 3c2.973 0 5.437 2.322 5.437 5.25 0 3.925-2.438 7.111-4.739 9.256a25.175 25.175 0 0 1-4.244 3.17 15.247 15.247 0 0 1-.383.219l-.022.012-.007.004-.003.001a.752.752 0 0 1-.704 0l-.003-.001Z"}))}const w0=C.forwardRef(m8);function g8({title:t,titleId:e,...n},r){return C.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?C.createElement("title",{id:e},t):null,C.createElement("path",{fillRule:"evenodd",d:"M12 2.25c-5.385 0-9.75 4.365-9.75 9.75s4.365 9.75 9.75 9.75 9.75-4.365 9.75-9.75S17.385 2.25 12 2.25ZM12.75 9a.75.75 0 0 0-1.5 0v2.25H9a.75.75 0 0 0 0 1.5h2.25V15a.75.75 0 0 0 1.5 0v-2.25H15a.75.75 0 0 0 0-1.5h-2.25V9Z",clipRule:"evenodd"}))}const v8=C.forwardRef(g8);function y8({title:t,titleId:e,...n},r){return C.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?C.createElement("title",{id:e},t):null,C.createElement("path",{fillRule:"evenodd",d:"M10.788 3.21c.448-1.077 1.976-1.077 2.424 0l2.082 5.006 5.404.434c1.164.093 1.636 1.545.749 2.305l-4.117 3.527 1.257 5.273c.271 1.136-.964 2.033-1.96 1.425L12 18.354 7.373 21.18c-.996.608-2.231-.29-1.96-1.425l1.257-5.273-4.117-3.527c-.887-.76-.415-2.212.749-2.305l5.404-.434 2.082-5.005Z",clipRule:"evenodd"}))}const _0=C.forwardRef(y8);function w8({title:t,titleId:e,...n},r){return C.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?C.createElement("title",{id:e},t):null,C.createElement("path",{fillRule:"evenodd",d:"M5.166 2.621v.858c-1.035.148-2.059.33-3.071.543a.75.75 0 0 0-.584.859 6.753 6.753 0 0 0 6.138 5.6 6.73 6.73 0 0 0 2.743 1.346A6.707 6.707 0 0 1 9.279 15H8.54c-1.036 0-1.875.84-1.875 1.875V19.5h-.75a2.25 2.25 0 0 0-2.25 2.25c0 .414.336.75.75.75h15a.75.75 0 0 0 .75-.75 2.25 2.25 0 0 0-2.25-2.25h-.75v-2.625c0-1.036-.84-1.875-1.875-1.875h-.739a6.706 6.706 0 0 1-1.112-3.173 6.73 6.73 0 0 0 2.743-1.347 6.753 6.753 0 0 0 6.139-5.6.75.75 0 0 0-.585-.858 47.077 47.077 0 0 0-3.07-.543V2.62a.75.75 0 0 0-.658-.744 49.22 49.22 0 0 0-6.093-.377c-2.063 0-4.096.128-6.093.377a.75.75 0 0 0-.657.744Zm0 2.629c0 1.196.312 2.32.857 3.294A5.266 5.266 0 0 1 3.16 5.337a45.6 45.6 0 0 1 2.006-.343v.256Zm13.5 0v-.256c.674.1 1.343.214 2.006.343a5.265 5.265 0 0 1-2.863 3.207 6.72 6.72 0 0 0 .857-3.294Z",clipRule:"evenodd"}))}const _8=C.forwardRef(w8);function x8({title:t,titleId:e,...n},r){return C.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?C.createElement("title",{id:e},t):null,C.createElement("path",{fillRule:"evenodd",d:"M8.25 6.75a3.75 3.75 0 1 1 7.5 0 3.75 3.75 0 0 1-7.5 0ZM15.75 9.75a3 3 0 1 1 6 0 3 3 0 0 1-6 0ZM2.25 9.75a3 3 0 1 1 6 0 3 3 0 0 1-6 0ZM6.31 15.117A6.745 6.745 0 0 1 12 12a6.745 6.745 0 0 1 6.709 7.498.75.75 0 0 1-.372.568A12.696 12.696 0 0 1 12 21.75c-2.305 0-4.47-.612-6.337-1.684a.75.75 0 0 1-.372-.568 6.787 6.787 0 0 1 1.019-4.38Z",clipRule:"evenodd"}),C.createElement("path",{d:"M5.082 14.254a8.287 8.287 0 0 0-1.308 5.135 9.687 9.687 0 0 1-1.764-.44l-.115-.04a.563.563 0 0 1-.373-.487l-.01-.121a3.75 3.75 0 0 1 3.57-4.047ZM20.226 19.389a8.287 8.287 0 0 0-1.308-5.135 3.75 3.75 0 0 1 3.57 4.047l-.01.121a.563.563 0 0 1-.373.486l-.115.04c-.567.2-1.156.349-1.764.441Z"}))}const b8=C.forwardRef(x8);function E8({title:t,titleId:e,...n},r){return C.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?C.createElement("title",{id:e},t):null,C.createElement("path",{d:"M5.25 6.375a4.125 4.125 0 1 1 8.25 0 4.125 4.125 0 0 1-8.25 0ZM2.25 19.125a7.125 7.125 0 0 1 14.25 0v.003l-.001.119a.75.75 0 0 1-.363.63 13.067 13.067 0 0 1-6.761 1.873c-2.472 0-4.786-.684-6.76-1.873a.75.75 0 0 1-.364-.63l-.001-.122ZM18.75 7.5a.75.75 0 0 0-1.5 0v2.25H15a.75.75 0 0 0 0 1.5h2.25v2.25a.75.75 0 0 0 1.5 0v-2.25H21a.75.75 0 0 0 0-1.5h-2.25V7.5Z"}))}const S8=C.forwardRef(E8);function C8({title:t,titleId:e,...n},r){return C.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?C.createElement("title",{id:e},t):null,C.createElement("path",{fillRule:"evenodd",d:"M12 2.25c-5.385 0-9.75 4.365-9.75 9.75s4.365 9.75 9.75 9.75 9.75-4.365 9.75-9.75S17.385 2.25 12 2.25Zm-1.72 6.97a.75.75 0 1 0-1.06 1.06L10.94 12l-1.72 1.72a.75.75 0 1 0 1.06 1.06L12 13.06l1.72 1.72a.75.75 0 1 0 1.06-1.06L13.06 12l1.72-1.72a.75.75 0 1 0-1.06-1.06L12 10.94l-1.72-1.72Z",clipRule:"evenodd"}))}const T8=C.forwardRef(C8),k8="BGq64U5eNzfqCtAtHTqnz9mh2oaeLpOZiJHMMama_1L9h_K1I9qScieLNbW8uHvEnRFlNVR2ZSBqAc61dtaW0Mc",P8=async()=>{try{const t=Iw(Ma),n=eP().currentUser;if(await Notification.requestPermission()==="granted"&&n){console.log("¡Permiso de notificación concedido!");const i=await qL(t,{vapidKey:k8});if(i){console.log("Token FCM obtenido:",i);const s=Ce(Te,`fcmTokens/${n.uid}`);await Ct(s,{token:i})}else console.log("No se pudo obtener el token de registro. Pídele permiso al usuario.")}else console.log("No se pudo obtener el permiso para notificaciones.")}catch(t){console.error("Ocurrió un error al obtener el token.",t)}};function lr(){const[t,e]=C.useState(!1),{user:n,rol:r,loading:i}=ii(),s=Pi();if(i||s.pathname==="/login"||s.pathname==="/registro")return null;const a=r==="admin"||r==="superadmin",c=[{to:"/",icon:w.jsx(f8,{className:"w-6 h-6"}),label:"Tabla"},{to:"/goleadores",icon:w.jsx(b8,{className:"w-6 h-6"}),label:"Goleadores"},{to:"/calendario",icon:w.jsx(c8,{className:"w-6 h-6"}),label:"Calendario"},{to:"/galeria",icon:w.jsx(GI,{className:"w-6 h-6"}),label:"Galería"},{to:"/equipo-ideal",icon:w.jsx(_0,{className:"w-6 h-6"}),label:"Equipo Ideal"},{to:"/configuracion",icon:w.jsx(p8,{className:"w-6 h-6"}),label:"Cuenta"}];return w.jsx("nav",{className:"bg-[#7a0026] text-white px-4 py-3 shadow-md sticky top-0 z-50",children:w.jsxs("div",{className:"max-w-6xl mx-auto flex justify-between items-center",children:[w.jsxs(fa,{to:"/",className:"flex items-center gap-2 text-2xl font-bold font-qatar",children:[w.jsx(_8,{className:"w-7 h-7 text-yellow-400"}),w.jsx("span",{children:"Empro"})]}),w.jsx("button",{className:"md:hidden transition-transform",onClick:()=>e(!t),children:w.jsx("svg",{className:`w-7 h-7 transition-transform duration-300 ${t?"rotate-90":""}`,fill:"none",stroke:"currentColor",strokeWidth:2,viewBox:"0 0 24 24",children:w.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:t?"M6 18L18 6M6 6l12 12":"M4 6h16M4 12h16M4 18h16"})})}),w.jsxs("ul",{className:`md:flex md:items-center gap-6 text-sm font-bold absolute md:static top-16 left-0 w-full md:w-auto bg-[#7a0026] md:bg-transparent transition-all duration-300 ease-in-out ${t?"block":"hidden"}`,children:[c.map(({to:u,icon:f,label:h})=>w.jsx("li",{className:"p-3 md:p-0 text-center",children:w.jsxs(fa,{to:u,className:"flex items-center gap-2 justify-center hover:text-yellow-400",onClick:()=>e(!1),title:h,children:[f,w.jsx("span",{className:"md:hidden inline",children:h})]})},u)),a&&w.jsx("li",{className:"p-3 md:p-0 text-center",children:w.jsxs(fa,{to:"/partido/configurar",className:"flex items-center gap-2 justify-center hover:text-yellow-400",onClick:()=>e(!1),title:"Nuevo Partido",children:[w.jsx(v8,{className:"w-6 h-6"}),w.jsx("span",{className:"md:hidden inline",children:"Nuevo Partido"})]})}),w.jsx("li",{className:"p-3 md:p-0 text-center",children:w.jsxs("button",{onClick:P8,className:"flex items-center gap-2 justify-center hover:text-yellow-400",title:"Activar Notificaciones",children:[w.jsx(a8,{className:"w-6 h-6"}),w.jsx("span",{className:"md:hidden inline",children:"Notificaciones"})]})})]})]})})}const zS=["pillarh.png","municipalidad.png","mercaditoladespensa.png","Multibox.png","celtec.png","asopilar.png","mrecords.png","Pepsi_2023.svg","pipos.png"],I8=[...zS,...zS];function R8(){return w.jsx("div",{className:"w-full bg-gray-100 py-4 mt-8 overflow-hidden backdrop-blur-sm border-y border-yellow-400/20",children:w.jsx("div",{className:"animate-scroll flex items-center",children:I8.map((t,e)=>w.jsx("div",{className:"flex-shrink-0 mx-10",children:w.jsx("img",{src:`/EmproChampions-2025/img/sponsors/${t}`,alt:`Patrocinador ${e+1}`,className:"h-10 md:h-12 max-w-none"})},e))})})}function cr(){const t=new Date().getFullYear(),e="https://www.facebook.com/elmer.hernandez.516479",n="https://www.instagram.com/hernandezsuarez_27/";return w.jsx("footer",{className:"bg-black/50 text-white font-qatar backdrop-blur-sm mt-auto border-t border-yellow-400/20",children:w.jsxs("div",{className:"mx-auto max-w-5xl px-4 pt-16 pb-8 sm:px-6 lg:px-8",children:[w.jsxs("div",{className:"mx-auto max-w-3xl text-center",children:[w.jsx("p",{className:"leading-relaxed text-gray-300",children:"Evento deportivo de las Comunidades del Centro Guia Santa Rosa de Lima con el objetivo de unir los lazos de amistad y fomentar los buenos valores inculcados en el movimiento."}),w.jsx("p",{className:"mt-6 text-lg italic text-yellow-400",children:'"Porque un verdadero Emproista es aquel que ve el trabajo no como una carga, sino como un privilegio"'})]}),w.jsxs("ul",{className:"mt-12 flex justify-center gap-6 md:gap-8",children:[w.jsx("li",{children:w.jsxs("a",{href:e,rel:"noreferrer",target:"_blank",className:"text-gray-400 transition hover:text-yellow-400","aria-label":"Facebook de Elmer Hernandez",children:[w.jsx("span",{className:"sr-only",children:"Facebook"}),w.jsx("svg",{className:"h-7 w-7",fill:"currentColor",viewBox:"0 0 24 24","aria-hidden":"true",children:w.jsx("path",{fillRule:"evenodd",d:"M22 12c0-5.523-4.477-10-10-10S2 6.477 2 12c0 4.991 3.657 9.128 8.438 9.878v-6.987h-2.54V12h2.54V9.797c0-2.506 1.492-3.89 3.777-3.89 1.094 0 2.238.195 2.238.195v2.46h-1.26c-1.243 0-1.63.771-1.63 1.562V12h2.773l-.443 2.89h-2.33v6.988C18.343 21.128 22 16.991 22 12z",clipRule:"evenodd"})})]})}),w.jsx("li",{children:w.jsxs("a",{href:n,rel:"noreferrer",target:"_blank",className:"text-gray-400 transition hover:text-yellow-400","aria-label":"Instagram de Elmer Hernandez",children:[w.jsx("span",{className:"sr-only",children:"Instagram"}),w.jsx("svg",{className:"h-7 w-7",fill:"currentColor",viewBox:"0 0 24 24","aria-hidden":"true",children:w.jsx("path",{fillRule:"evenodd",d:"M12.315 2c2.43 0 2.784.013 3.808.06 1.064.049 1.791.218 2.427.465a4.902 4.902 0 011.772 1.153 4.902 4.902 0 011.153 1.772c.247.636.416 1.363.465 2.427.048 1.067.06 1.407.06 4.123v.08c0 2.643-.012 2.987-.06 4.043-.049 1.064-.218 1.791-.465 2.427a4.902 4.902 0 01-1.153 1.772 4.902 4.902 0 01-1.772 1.153c-.636.247-1.363.416-2.427.465-1.067.048-1.407.06-4.123.06h-.08c-2.643 0-2.987-.012-4.043-.06-1.064-.049-1.791-.218-2.427-.465a4.902 4.902 0 01-1.772-1.153 4.902 4.902 0 01-1.153-1.772c-.247-.636-.416-1.363-.465-2.427-.047-1.024-.06-1.379-.06-3.808v-.63c0-2.43.013-2.784.06-3.808.049-1.064.218-1.791.465-2.427a4.902 4.902 0 011.153-1.772A4.902 4.902 0 015.45 2.525c.636-.247 1.363-.416 2.427-.465C8.901 2.013 9.256 2 11.685 2h.63zm-.081 1.802h-.468c-2.456 0-2.784.011-3.807.058-.975.045-1.504.207-1.857.344-.467.182-.8.398-1.15.748-.35.35-.566.683-.748 1.15-.137.353-.3.882-.344 1.857-.047 1.023-.058 1.351-.058 3.807v.468c0 2.456.011 2.784.058 3.807.045.975.207 1.504.344 1.857.182.466.399.8.748 1.15.35.35.683.566 1.15.748.353.137.882.3 1.857.344 1.054.048 1.37.058 4.041.058h.08c2.597 0 2.917-.01 3.96-.058.976-.045 1.505-.207 1.858-.344.466-.182.8-.398 1.15-.748.35-.35.566-.683.748-1.15.137-.353.3-.882.344-1.857.048-1.055.058-1.37.058-4.041v-.08c0-2.597-.01-2.917-.058-3.96-.045-.976-.207-1.505-.344-1.858a3.097 3.097 0 00-.748-1.15 3.098 3.098 0 00-1.15-.748c-.353-.137-.882-.3-1.857-.344-1.023-.047-1.351-.058-3.807-.058zM12 6.865a5.135 5.135 0 110 10.27 5.135 5.135 0 010-10.27zm0 1.802a3.333 3.333 0 100 6.666 3.333 3.333 0 000-6.666zm5.338-3.205a1.2 1.2 0 110 2.4 1.2 1.2 0 010-2.4z",clipRule:"evenodd"})})]})})]}),w.jsxs("div",{className:"mt-12 border-t border-yellow-400/20 pt-8 text-center",children:[w.jsxs("p",{className:"text-sm text-gray-400",children:["Copyright © ",t,". EmproChampions. Todos los derechos reservados."]}),w.jsxs("p",{className:"text-sm text-gray-400 mt-2",children:["Diseñado por ",w.jsx("a",{href:n,target:"_blank",rel:"noopener noreferrer",className:"text-yellow-400 hover:underline",children:"Elmer Hernandez"})]})]})]})})}function A8(){const[t,e]=C.useState([]),[n,r]=C.useState([]),[i,s]=C.useState("masculino"),[a,c]=C.useState(null),u=Pr();C.useEffect(()=>{const h=[],g=(_,T)=>{const N=Ce(Te,`tablas/${_}`),A=ln(N,k=>{const P=k.val();if(P){const j=Object.keys(P).map($=>({nombre:$,...P[$]})).sort(($,z)=>z.PTS-$.PTS||z.GF-z.GC-($.GF-$.GC));T(j)}else T([])});h.push({ref:N,listener:A})};g("masculino",e),g("femenino",r);const v=Ce(Te,"partidoEnCurso"),x=ln(v,_=>{c(_.val())});return h.push({ref:v,listener:x}),()=>{h.forEach(({ref:_,listener:T})=>{Sa(_,"value",T)})}},[]);const f=i==="masculino"?t:n;return w.jsxs("div",{className:"w-full min-h-screen bg-cover bg-center text-white font-qatar bg-main-background",children:[w.jsx(lr,{}),w.jsxs("div",{className:"container mx-auto px-4 py-8",children:[w.jsx("h1",{className:"text-5xl font-bold text-center text-yellow-400 drop-shadow-lg mb-6",children:"Tabla de Posiciones"}),a&&w.jsx("div",{className:"flex justify-center mb-4",children:w.jsxs("button",{onClick:()=>u(`/partido/${a.partidoId}`),className:"bg-red-600 hover:bg-red-700 text-white font-bold py-2 px-6 rounded-full shadow-md transition animate-pulse",children:["Partido en curso: ",a.equipo1.nombre," vs ",a.equipo2.nombre]})}),w.jsxs("div",{className:"flex justify-center mb-8 bg-black/30 rounded-full p-1 max-w-sm mx-auto",children:[w.jsx("button",{onClick:()=>s("masculino"),className:`w-1/2 py-2 rounded-full font-bold transition-colors ${i==="masculino"?"bg-yellow-400 text-black":"hover:bg-white/10"}`,children:"Masculino"}),w.jsx("button",{onClick:()=>s("femenino"),className:`w-1/2 py-2 rounded-full font-bold transition-colors ${i==="femenino"?"bg-yellow-400 text-black":"hover:bg-white/10"}`,children:"Femenino"})]}),w.jsxs("div",{className:"bg-black/50 backdrop-blur-sm rounded-xl overflow-hidden shadow-2xl",children:[w.jsxs("div",{className:"grid grid-cols-10 md:grid-cols-12 text-center font-bold text-yellow-400 p-4 border-b border-yellow-400/20",children:[w.jsx("div",{className:"col-span-4 md:col-span-5 text-left pl-3",children:"Club"}),w.jsx("div",{className:"hidden md:block",children:"PJ"}),w.jsx("div",{className:"hidden md:block",children:"PG"}),w.jsx("div",{className:"hidden md:block",children:"PE"}),w.jsx("div",{className:"hidden md:block",children:"PP"}),w.jsx("div",{className:"col-span-2 md:col-span-1",children:"GF"}),w.jsx("div",{className:"col-span-2 md:col-span-1",children:"GC"}),w.jsx("div",{className:"col-span-2 md:col-span-1",children:"Pts"})]}),w.jsx("div",{children:f.map((h,g)=>w.jsxs("div",{className:"grid grid-cols-10 md:grid-cols-12 items-center text-center p-3 border-b border-gray-700/50 hover:bg-white/5 transition-colors",children:[w.jsxs("div",{className:"col-span-4 md:col-span-5 flex items-center gap-3 text-left",children:[w.jsx("span",{className:"font-bold text-lg w-6 text-center text-gray-400",children:g+1}),w.jsx("img",{src:`/EmproChampions-2025/img/escudos/${h.logo}`,alt:h.nombre,className:"w-8 h-8 md:w-10 md:h-10 object-contain"}),w.jsx("span",{className:"font-bold text-base md:text-lg",children:h.nombre})]}),w.jsx("div",{className:"hidden md:block",children:h.PJ}),w.jsx("div",{className:"hidden md:block",children:h.PG}),w.jsx("div",{className:"hidden md:block",children:h.PE}),w.jsx("div",{className:"hidden md:block",children:h.PP}),w.jsx("div",{className:"col-span-2 md:col-span-1",children:h.GF}),w.jsx("div",{className:"col-span-2 md:col-span-1",children:h.GC}),w.jsx("div",{className:"col-span-2 md:col-span-1 font-extrabold text-lg",children:h.PTS})]},h.nombre))})]})]}),w.jsx(R8,{}),w.jsx(cr,{})]})}function N8({equipo:t,jugadores:e,minuto:n,onSeleccion:r,onClose:i}){const[s,a]=C.useState(""),c=()=>{s&&r({nombre:s,minuto:n})};return w.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-70 flex justify-center items-center z-50",children:w.jsxs("div",{className:"bg-white text-black p-6 rounded-lg w-full max-w-md space-y-4",children:[w.jsx("h2",{className:"text-2xl font-bold text-center",children:"Registrar Gol"}),w.jsxs("div",{children:[w.jsx("label",{className:"block font-semibold mb-1",children:"¿Quién anotó?"}),w.jsxs("select",{value:s,onChange:u=>a(u.target.value),className:"w-full border border-gray-300 rounded px-4 py-2",children:[w.jsx("option",{value:"",children:"Seleccionar jugador"}),e.map((u,f)=>w.jsx("option",{value:u.nombre,children:u.nombre},f))]})]}),w.jsxs("div",{className:"flex justify-end gap-4",children:[w.jsx("button",{onClick:i,className:"bg-gray-300 px-4 py-2 rounded font-bold",children:"Cancelar"}),w.jsx("button",{onClick:c,className:"bg-green-500 text-white px-4 py-2 rounded font-bold",children:"Confirmar"})]})]})})}function O8({equipo:t,jugadores:e,minuto:n,onConfirm:r,onClose:i}){const[s,a]=C.useState(""),[c,u]=C.useState(""),f=()=>{!s||!c||r({jugador:s,tipo:c,minuto:n})};return w.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-70 flex justify-center items-center z-50",children:w.jsxs("div",{className:"bg-white text-black p-6 rounded-lg w-full max-w-md space-y-4",children:[w.jsx("h2",{className:"text-2xl font-bold text-center",children:"Registrar Tarjeta"}),w.jsxs("div",{children:[w.jsx("label",{className:"block font-semibold mb-1",children:"Jugador"}),w.jsxs("select",{value:s,onChange:h=>a(h.target.value),className:"w-full border border-gray-300 rounded px-4 py-2",children:[w.jsx("option",{value:"",children:"Seleccionar jugador"}),e.map((h,g)=>w.jsx("option",{value:h.nombre,children:h.nombre},g))]})]}),w.jsxs("div",{children:[w.jsx("label",{className:"block font-semibold mb-1",children:"Tipo de tarjeta"}),w.jsxs("div",{className:"flex gap-4",children:[w.jsxs("label",{className:"flex items-center",children:[w.jsx("input",{type:"radio",value:"amarilla",checked:c==="amarilla",onChange:()=>u("amarilla")}),w.jsx("span",{className:"ml-2",children:"🟨 Amarilla"})]}),w.jsxs("label",{className:"flex items-center",children:[w.jsx("input",{type:"radio",value:"roja",checked:c==="roja",onChange:()=>u("roja")}),w.jsx("span",{className:"ml-2",children:"🟥 Roja"})]})]})]}),w.jsxs("div",{className:"flex justify-end gap-4",children:[w.jsx("button",{onClick:i,className:"bg-gray-300 px-4 py-2 rounded font-bold",children:"Cancelar"}),w.jsx("button",{onClick:f,className:"bg-yellow-500 px-4 py-2 rounded font-bold",children:"Confirmar"})]})]})})}function M8({equipo:t,jugadores:e,minuto:n,onConfirm:r,onClose:i}){const[s,a]=C.useState(""),[c,u]=C.useState(""),f=()=>{!s||!c.trim()||r(s,c.trim(),n)};return w.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-70 flex justify-center items-center z-50",children:w.jsxs("div",{className:"bg-white text-black p-6 rounded-lg w-full max-w-md space-y-4",children:[w.jsx("h2",{className:"text-2xl font-bold text-center",children:"Realizar Cambio"}),w.jsxs("div",{children:[w.jsx("label",{className:"block font-semibold mb-1",children:"Titular que sale"}),w.jsxs("select",{value:s,onChange:h=>a(h.target.value),className:"w-full border border-gray-300 rounded px-4 py-2",children:[w.jsx("option",{value:"",children:"Seleccionar"}),e.map((h,g)=>w.jsx("option",{value:h.nombre,children:h.nombre},g))]})]}),w.jsxs("div",{children:[w.jsx("label",{className:"block font-semibold mb-1",children:"Suplente que entra"}),w.jsx("input",{type:"text",placeholder:"Escribí el nombre",value:c,onChange:h=>u(h.target.value),className:"w-full border border-gray-300 rounded px-4 py-2"})]}),w.jsxs("div",{className:"flex justify-end gap-4",children:[w.jsx("button",{onClick:i,className:"bg-gray-300 px-4 py-2 rounded font-bold",children:"Cancelar"}),w.jsx("button",{onClick:f,className:"bg-blue-500 text-white px-4 py-2 rounded font-bold",children:"Confirmar Cambio"})]})]})})}function D8({equipoGanador:t,equipo1:e,equipo2:n,onClose:r}){const[i,s]=C.useState(null),a=(e?.jugadores||[]).filter(g=>g.haJugado),c=(n?.jugadores||[]).filter(g=>g.haJugado),u=(g,v)=>{s({...g,equipo:v})},f=()=>{r(i||null)},h=({jugador:g,nombreEquipo:v})=>w.jsxs("div",{onClick:()=>u(g,v),className:`p-3 rounded-lg cursor-pointer transition-all duration-200 text-center ${i?.nombre===g.nombre?"bg-yellow-400 text-black scale-105 ring-2 ring-white":"bg-gray-700 text-white hover:bg-gray-600"}`,children:[w.jsx("span",{className:"font-bold text-base",children:g.nombre}),w.jsxs("span",{className:"block text-sm opacity-80 mt-1",children:["#",g.dorsal]})]},g.nombre);return w.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-70 flex justify-center items-center z-50 p-4 font-qatar",children:w.jsxs("div",{className:"bg-gray-800 rounded-2xl shadow-xl w-full max-w-2xl p-6 border border-yellow-400/30",children:[w.jsxs("div",{className:"text-center",children:[t.nombre!=="Empate"?w.jsx("img",{src:`/EmproChampions-2025/img/escudos/${t.logo}`,alt:t.nombre,className:"w-28 h-28 mx-auto mb-4 object-contain"}):w.jsx("div",{className:"w-28 h-28 mx-auto mb-4 flex items-center justify-center bg-gray-700 rounded-full",children:w.jsx("span",{className:"text-5xl",role:"img","aria-label":"empate",children:"🤝"})}),w.jsx("h2",{className:"text-4xl font-extrabold text-yellow-400",children:"¡Partido Finalizado!"}),w.jsx("p",{className:"text-white mt-2 text-xl",children:t.nombre!=="Empate"?`Ganador: ${t.nombre}`:"El partido terminó en empate"}),w.jsx("p",{className:"text-white mt-5 font-bold text-2xl",children:"Selecciona al MVP del partido"})]}),w.jsxs("div",{className:"my-6 flex flex-row gap-4 md:gap-6",children:[w.jsxs("div",{className:"w-1/2",children:[w.jsx("h3",{className:"text-center font-bold text-white mb-4 text-xl",children:e.nombre}),w.jsx("div",{className:"max-h-[35vh] overflow-y-auto grid grid-cols-1 md:grid-cols-2 gap-3 pr-2",children:a.map(g=>w.jsx(h,{jugador:g,nombreEquipo:e.nombre},g.nombre))})]}),w.jsx("div",{className:"w-px bg-gray-600/50"}),w.jsxs("div",{className:"w-1/2",children:[w.jsx("h3",{className:"text-center font-bold text-white mb-4 text-xl",children:n.nombre}),w.jsx("div",{className:"max-h-[35vh] overflow-y-auto grid grid-cols-1 md:grid-cols-2 gap-3 pr-2",children:c.map(g=>w.jsx(h,{jugador:g,nombreEquipo:n.nombre},g.nombre))})]})]}),w.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 pt-4 border-t border-gray-600/50",children:[w.jsx("button",{onClick:()=>r(null),className:"w-full bg-gray-600 hover:bg-gray-500 text-white font-bold py-3 px-4 rounded-lg transition-colors text-lg",children:"Cancelar"}),w.jsx("button",{onClick:f,disabled:!i,className:"w-full bg-green-600 hover:bg-green-500 text-white font-bold py-3 px-4 rounded-lg transition-colors disabled:bg-gray-500 disabled:cursor-not-allowed text-lg",children:"Confirmar MVP y Guardar"})]})]})})}function KI({mensaje:t,tipo:e="info"}){const n={info:"bg-blue-600 text-white",gol:"bg-green-500 text-white",tarjeta:"bg-yellow-400 text-black",roja:"bg-red-600 text-white",success:"bg-emerald-500 text-white"};return w.jsx("div",{className:"fixed bottom-6 left-1/2 -translate-x-1/2 z-[9999]",children:w.jsx("div",{className:`px-6 py-3 rounded-full shadow-lg animate-fade-in-out transition duration-500 ${n[e]||n.info}`,children:w.jsx("p",{className:"text-sm font-bold",children:t})})})}function L8(t=null){const[e,n]=C.useState(0),[r,i]=C.useState(!1),s=C.useRef(null),a=h=>{if(!t)return;const g=String(Math.floor(h/60)).padStart(2,"0"),v=String(h%60).padStart(2,"0");Ct(Ce(Te,`partidos/${t}/cronometro/tiempo`),`${g}:${v}`)},c=()=>{s.current||(i(!0),s.current=setInterval(()=>{n(h=>{const g=h+1;return a(g),g})},1e3))},u=()=>{i(!1),clearInterval(s.current),s.current=null};return{tiempo:e,enMarcha:r,iniciar:c,pausar:u,reiniciar:()=>{u(),n(0),a(0)}}}const j8=({equipo1:t,equipo2:e,goles:n,minuto:r})=>w.jsx("div",{className:"bg-gray-900 bg-opacity-60 backdrop-blur-sm rounded-xl p-4 shadow-lg text-white font-qatar",children:w.jsxs("div",{className:"flex justify-between items-center",children:[w.jsxs("div",{className:"flex flex-col items-center w-1/3 text-center",children:[w.jsx("img",{src:`/EmproChampions-2025/img/escudos/${t.logo}`,alt:t.nombre,className:"h-16 w-16 md:h-24 md:w-24 object-contain"}),w.jsx("span",{className:"mt-2 text-sm md:text-lg font-bold",children:t.nombre})]}),w.jsxs("div",{className:"flex flex-col items-center w-1/3 text-center",children:[w.jsxs("div",{className:"text-4xl md:text-6xl font-black tracking-wider",children:[w.jsx("span",{children:n.equipo1}),w.jsx("span",{className:"mx-2 text-yellow-400",children:"-"}),w.jsx("span",{children:n.equipo2})]}),w.jsx("div",{className:"text-lg md:text-2xl mt-2 font-semibold bg-black/50 px-3 py-1 rounded-md",children:r})]}),w.jsxs("div",{className:"flex flex-col items-center w-1/3 text-center",children:[w.jsx("img",{src:`/EmproChampions-2025/img/escudos/${e.logo}`,alt:e.nombre,className:"h-16 w-16 md:h-24 md:w-24 object-contain"}),w.jsx("span",{className:"mt-2 text-sm md:text-lg font-bold",children:e.nombre})]})]})}),F8=t=>{const e="/EmproChampions-2025/";let n="";return t.tipo.includes("gol")?n="pelota.svg":t.tipo.includes("amarilla")?n="amarilla.svg":t.tipo.includes("roja")?n="roja.svg":t.tipo.includes("cambio")&&(n="cambio.svg"),n?`${e}img/${n}`:null},YI=({eventos:t})=>!t||t.length===0?w.jsx("div",{className:"text-center text-white text-opacity-70 mt-8 py-10",children:"El partido está por comenzar."}):w.jsxs("div",{className:"relative mt-8 py-5 font-barcelona",children:[w.jsx("div",{className:"absolute top-0 left-1/2 w-0.5 h-full bg-gray-500/30"}),t.map((e,n)=>{const r=e.equipo==="equipo1",i=F8(e),s=()=>w.jsxs("div",{className:`flex items-center gap-3 w-full ${r?"flex-row-reverse":"flex-row"}`,children:[w.jsx("span",{className:"font-bold text-sm text-white truncate max-w-[150px] md:max-w-xs",children:e.jugador||`${e.titular} ➜ ${e.suplente}`}),i&&w.jsx("img",{src:i,alt:e.tipo,className:"w-5 h-5"})]});return w.jsxs("div",{className:"relative flex items-center justify-center my-6 h-6",children:[w.jsx("div",{className:"w-1/2 pr-8 flex justify-end",children:r&&w.jsx(s,{})}),w.jsx("div",{className:"absolute z-10 bg-[#1a1d23] px-1.5 py-0.5 rounded-full border border-gray-600/50",children:w.jsxs("span",{className:"text-yellow-400 font-bold text-xs",children:[e.minuto,"'"]})}),w.jsx("div",{className:"w-1/2 pl-8 flex justify-start",children:!r&&w.jsx(s,{})})]},e.id||n)})]});function $8(){const{partidoId:t}=uw(),e=Pr(),[n,r]=C.useState(null),[i,s]=C.useState(null),[a,c]=C.useState(null),[u,f]=C.useState({equipo1:0,equipo2:0}),[h,g]=C.useState([]),[v,x]=C.useState(!1),[_,T]=C.useState(null),[N,A]=C.useState(null),[k,P]=C.useState(null),[j,$]=C.useState(null),[z,D]=C.useState(!1),I=L8(t);C.useEffect(()=>{if(!t)return;const Q=Ce(Te,`partidos/${t}`),pe=ln(Q,ve=>{if(ve.exists()){const _e=ve.val();r(_e),s(_e.alineacion.equipo1),c(_e.alineacion.equipo2),f(_e.marcador||{equipo1:0,equipo2:0});const xe=_e.eventos||{},ke=[];for(const Ee in xe.goles)ke.push({...xe.goles[Ee],id:Ee});for(const Ee in xe.tarjetas)ke.push({...xe.tarjetas[Ee],id:Ee});for(const Ee in xe.cambios)ke.push({...xe.cambios[Ee],id:Ee});ke.sort((Ee,Be)=>{if(!Ee.minuto||!Be.minuto)return 0;const[$e,_n]=Ee.minuto.split(":").map(Number),[wt,xn]=Be.minuto.split(":").map(Number);return $e*60+_n-(wt*60+xn)}),g(ke)}});return()=>Sa(Q,"value",pe)},[t]);const O=(Q,pe="info")=>{$({mensaje:Q,tipo:pe}),setTimeout(()=>$(null),4e3)},b=()=>{const Q=String(Math.floor(I.tiempo/60)).padStart(2,"0"),pe=String(I.tiempo%60).padStart(2,"0");return`${Q}:${pe}`},M=Q=>{if(!I.enMarcha){O("El cronómetro debe estar en marcha","error");return}I.pausar(),T(Q)},V=Q=>A(Q),F=Q=>P(Q),Z=async Q=>{const pe=_,ve=Ce(Te,`partidos/${t}/marcador`),_e={...u,[pe]:(u[pe]||0)+1};await Ct(ve,_e);const xe=Ce(Te,`partidos/${t}/eventos/goles`);await jl(xe,{tipo:"gol",equipo:pe,jugador:Q.nombre,minuto:b()}),T(null),I.iniciar(),O("¡Gol registrado!","success")},se=async({jugador:Q,tipo:pe,minuto:ve})=>{const _e=N,xe=Ce(Te,`partidos/${t}/eventos/tarjetas`);await jl(xe,{tipo:pe,equipo:_e,jugador:Q,minuto:ve}),A(null),O(`Tarjeta ${pe} a ${Q}`,pe==="roja"?"roja":"tarjeta")},re=async(Q,pe,ve)=>{const _e=k;let xe=_e==="equipo1"?i:a,ke=xe.jugadores.map($e=>$e.nombre===Q?{...$e,enJuego:!1,haJugado:!0}:$e),Ee=xe.todosJugadores.find($e=>$e.nombre===pe)||{nombre:pe,dorsal:"?",enJuego:!0,haJugado:!0};Ee={...Ee,enJuego:!0,haJugado:!0},ke.some($e=>$e.nombre===Ee.nombre)?ke=ke.map($e=>$e.nombre===Ee.nombre?{...$e,enJuego:!0,haJugado:!0}:$e):ke.push(Ee),await Ct(Ce(Te,`partidos/${t}/alineacion/${_e}/jugadores`),ke);const Be=Ce(Te,`partidos/${t}/eventos/cambios`);await jl(Be,{tipo:"cambio",equipo:_e,titular:Q,suplente:pe,minuto:ve}),P(null),O(`Cambio: sale ${Q}, entra ${pe}`,"info")},ue=async(Q,pe,ve,_e)=>{const xe=Ce(Te,`historial/${Q.alineacion.genero}`);await jl(xe,{equipo1:{nombre:ve.nombre,logo:ve.logo},equipo2:{nombre:_e.nombre,logo:_e.logo},goles:pe,fecha:new Date().toISOString(),minutoFinal:b()})},ne=async(Q,pe,ve,_e)=>{const xe=Ce(Te,`tablas/${Q.alineacion.genero}`),Ee=(await Sr(xe)).val()||{},Be=ve.nombre,$e=_e.nombre,_n=pe.equipo1,wt=pe.equipo2,xn={PJ:0,PG:0,PE:0,PP:0,GF:0,GC:0,PTS:0},Mt=Ee[Be]||{...xn,logo:ve.logo},kt=Ee[$e]||{...xn,logo:_e.logo};Mt.PJ++,kt.PJ++,Mt.GF+=_n,Mt.GC+=wt,kt.GF+=wt,kt.GC+=_n,_n>wt?(Mt.PG++,Mt.PTS+=3,kt.PP++):wt>_n?(kt.PG++,kt.PTS+=3,Mt.PP++):(Mt.PE++,kt.PE++,Mt.PTS+=1,kt.PTS+=1),await hs(xe,{[Be]:Mt,[$e]:kt})},oe=async(Q,pe,ve)=>{const xe=(await Sr(Ce(Te,`partidos/${t}/eventos/goles`))).val()||{},ke=Q.alineacion.genero,Ee=Ce(Te,`goleadores/${ke}`),$e=(await Sr(Ee)).val()||{};for(const _n in xe){const wt=xe[_n],xn=wt.equipo==="equipo1"?pe.nombre:ve.nombre,Mt=`${wt.jugador.replace(/[.#$[\]\s]/g,"_")}-${xn.replace(/[.#$[\]\s]/g,"_")}`,kt=$e[Mt]||{nombre:wt.jugador,equipo:xn,logo:wt.equipo==="equipo1"?pe.logo:ve.logo,goles:0,detalles:[]};kt.detalles||(kt.detalles=[]);const Co={minuto:wt.minuto,rival:wt.equipo==="equipo1"?ve.nombre:pe.nombre};kt.detalles.push(Co),kt.goles+=1,$e[Mt]=kt}await Ct(Ee,$e)},le=()=>{I.pausar(),x(!0)},q=async Q=>{if(x(!1),!Q||z)return;D(!0);const pe={...n},ve={...u},_e={...i},xe={...a};try{await hs(Ce(Te,`partidos/${t}`),{estado:"finalizado",mvp:Q});const ke=`${Q.nombre.replace(/[.#$[\]\s]/g,"_")}-${Q.equipo.replace(/[.#$[\]\s]/g,"_")}`,Ee={nombre:Q.nombre,dorsal:Q.dorsal,equipo:Q.equipo,genero:pe.alineacion.genero};await Ct(Ce(Te,`mvps_registrados/${ke}`),Ee),await ue(pe,ve,_e,xe),await ne(pe,ve,_e,xe),await oe(pe,_e,xe),await Ct(Ce(Te,"partidoEnCurso"),null),alert(`¡Partido finalizado! MVP: ${Q.nombre}`),e("/")}catch(ke){console.error("Error al finalizar partido:",ke),alert("Ocurrió un error al guardar los datos. Revisa la consola."),D(!1)}},te=()=>!i||!a?{nombre:"Cargando...",logo:""}:u.equipo1>u.equipo2?i:u.equipo2>u.equipo1?a:{nombre:"Empate",logo:"logo-empro.png"};return n?w.jsxs("div",{className:"w-full min-h-screen bg-cover bg-center text-white font-qatar px-2 md:px-8 py-4 bg-main-background flex flex-col",children:[w.jsx(lr,{}),w.jsxs("div",{className:"container mx-auto flex-grow",children:[w.jsx(j8,{equipo1:i,equipo2:a,goles:u,minuto:b()}),w.jsxs("div",{className:"flex justify-center gap-4 my-6",children:[w.jsx("button",{onClick:I.iniciar,disabled:I.enMarcha,className:"bg-green-500 hover:bg-green-600 text-white font-bold py-2 px-4 rounded disabled:bg-gray-500",children:"▶️ Iniciar"}),w.jsx("button",{onClick:I.pausar,disabled:!I.enMarcha,className:"bg-yellow-500 hover:bg-yellow-600 text-white font-bold py-2 px-4 rounded disabled:bg-gray-500",children:"⏸️ Pausar"}),w.jsx("button",{onClick:I.reiniciar,className:"bg-red-500 hover:bg-red-600 text-white font-bold py-2 px-4 rounded",children:"🔁 Reiniciar"})]}),w.jsxs("div",{className:"bg-black/40 backdrop-blur-sm p-4 rounded-lg flex flex-wrap justify-center gap-x-6 gap-y-3 shadow-lg",children:[w.jsxs("button",{onClick:()=>M("equipo1"),className:"text-white font-semibold hover:text-green-400 transition-colors",children:["Gol ",i.nombre]}),w.jsxs("button",{onClick:()=>V("equipo1"),className:"text-white font-semibold hover:text-yellow-400 transition-colors",children:["Tarjeta ",i.nombre]}),w.jsxs("button",{onClick:()=>F("equipo1"),className:"text-white font-semibold hover:text-blue-400 transition-colors",children:["Cambio ",i.nombre]}),w.jsx("div",{className:"w-full md:w-auto h-px md:h-auto md:w-px bg-white/20"}),w.jsxs("button",{onClick:()=>M("equipo2"),className:"text-white font-semibold hover:text-green-400 transition-colors",children:["Gol ",a.nombre]}),w.jsxs("button",{onClick:()=>V("equipo2"),className:"text-white font-semibold hover:text-yellow-400 transition-colors",children:["Tarjeta ",a.nombre]}),w.jsxs("button",{onClick:()=>F("equipo2"),className:"text-white font-semibold hover:text-blue-400 transition-colors",children:["Cambio ",a.nombre]})]}),w.jsx(YI,{eventos:h}),w.jsx("div",{className:"text-center mt-12",children:w.jsx("button",{onClick:le,className:"bg-yellow-500 hover:bg-yellow-600 text-black font-extrabold text-2xl px-12 py-4 rounded-full shadow-xl",children:"Finalizar Partido"})})]}),_&&w.jsx(N8,{equipo:_,jugadores:(_==="equipo1"?i.jugadores:a.jugadores).filter(Q=>Q.enJuego!==!1),minuto:b(),onSeleccion:Z,onClose:()=>{T(null),I.iniciar()}}),N&&w.jsx(O8,{equipo:N,jugadores:(N==="equipo1"?i.jugadores:a.jugadores).filter(Q=>Q.enJuego!==!1),minuto:b(),onConfirm:se,onClose:()=>A(null)}),k&&w.jsx(M8,{equipo:k,jugadores:k==="equipo1"?i.todosJugadores:a.todosJugadores,minuto:b(),onConfirm:re,onClose:()=>P(null)}),v&&w.jsx(D8,{equipoGanador:te(),equipo1:i,equipo2:a,onClose:q}),j&&w.jsx(KI,{mensaje:j.mensaje,tipo:j.tipo}),w.jsx(cr,{})]}):w.jsxs("div",{className:"w-full min-h-screen bg-cover bg-center text-white flex flex-col bg-main-background",children:[w.jsx(lr,{}),w.jsx("div",{className:"flex-grow flex items-center justify-center text-center p-4",children:w.jsx("div",{children:w.jsx("h2",{className:"text-3xl font-bold",children:"Cargando datos del partido..."})})}),w.jsx(cr,{})]})}function V8(){const[t,e]=C.useState([]),[n,r]=C.useState("masculino"),[i,s]=C.useState(null);C.useEffect(()=>{const c=Ce(Te,`goleadores/${n}`),u=ln(c,f=>{const h=f.val();if(h){const g=Object.values(h).sort((v,x)=>x.goles-v.goles);e(g)}else e([])});return()=>{Sa(c,"value",u)}},[n]);const a=c=>{s(i===c?null:c)};return w.jsxs("div",{className:"w-full min-h-screen bg-cover bg-center text-white font-qatar bg-main-background flex flex-col",children:[w.jsx(lr,{}),w.jsxs("div",{className:"container mx-auto px-4 py-8 flex-grow",children:[w.jsx("h1",{className:"text-5xl font-bold text-center text-yellow-400 drop-shadow-lg mb-6",children:"Tabla de Goleadores"}),w.jsxs("div",{className:"flex justify-center mb-8 bg-black/30 rounded-full p-1 max-w-sm mx-auto",children:[w.jsx("button",{onClick:()=>r("masculino"),className:`w-1/2 py-2 rounded-full font-bold transition-colors ${n==="masculino"?"bg-yellow-400 text-black":"hover:bg-white/10"}`,children:"Masculino"}),w.jsx("button",{onClick:()=>r("femenino"),className:`w-1/2 py-2 rounded-full font-bold transition-colors ${n==="femenino"?"bg-yellow-400 text-black":"hover:bg-white/10"}`,children:"Femenino"})]}),w.jsx("div",{className:"space-y-4 max-w-4xl mx-auto",children:t.map((c,u)=>w.jsxs("div",{className:"bg-black/50 backdrop-blur-sm rounded-xl shadow-lg p-4 transition-all duration-300",children:[w.jsxs("div",{className:"flex items-center gap-4",children:[w.jsx("span",{className:"text-3xl font-bold text-yellow-400 w-8 text-center",children:u+1}),w.jsx("img",{src:`/EmproChampions-2025/img/escudos/${c.logo}`,alt:c.equipo,className:"w-12 h-12 object-contain"}),w.jsxs("div",{className:"flex-grow",children:[w.jsx("h2",{className:"text-2xl font-bold",children:c.nombre}),w.jsx("p",{className:"text-sm opacity-80",children:c.equipo})]}),w.jsxs("div",{className:"text-right flex items-center gap-4",children:[w.jsxs("div",{children:[w.jsx("p",{className:"text-4xl font-extrabold",children:c.goles}),w.jsx("p",{className:"text-sm opacity-80 -mt-1",children:"Goles"})]}),w.jsx("button",{onClick:()=>a(c.nombre),className:"bg-yellow-400 text-black font-bold h-10 px-4 rounded-lg text-sm transition hover:bg-yellow-300",children:"Detalles"})]})]}),i===c.nombre&&w.jsxs("div",{className:"pl-14 mt-4 border-t border-white/10 pt-3",children:[w.jsx("h4",{className:"font-bold text-yellow-300 mb-2 text-sm",children:"DETALLE DE GOLES:"}),c.detalles&&c.detalles.length>0?c.detalles.map((f,h)=>w.jsxs("div",{className:"flex items-center gap-2 text-sm opacity-90 mt-1",children:[w.jsx("span",{children:"⚽"}),w.jsxs("span",{children:["vs ",f.rival]}),w.jsxs("span",{className:"ml-auto font-mono bg-white/10 px-2 rounded",children:[f.minuto,"'"]})]},h)):w.jsx("p",{className:"text-sm opacity-70",children:"No hay detalles de goles disponibles."})]})]},`${c.nombre}-${c.equipo}`))})]}),w.jsx(cr,{})]})}const U8=({partidoId:t,onClose:e})=>{const[n,r]=C.useState(null);if(C.useEffect(()=>{const s=Ce(Te,`partidos/${t}`);Sr(s).then(a=>{if(a.exists()){const c=a.val(),u={marcador:c.resultado?.marcador,mvp:c.resultado?.mvp,equipo1:c.alineacion?.equipo1,equipo2:c.alineacion?.equipo2,eventos:c.eventos||{}};r(u)}})},[t]),!n)return w.jsx("div",{className:"fixed inset-0 bg-black/70 flex items-center justify-center z-50",children:w.jsx("p",{className:"text-white text-xl",children:"Cargando detalles..."})});const i=[];return n.eventos.goles&&Object.values(n.eventos.goles).forEach(s=>i.push({...s,tipoVisual:"⚽ Gol"})),i.sort((s,a)=>(s.minuto||"00:00").localeCompare(a.minuto||"00:00")),w.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-80 flex justify-center items-center z-50 p-4 font-qatar",onClick:e,children:w.jsxs("div",{className:"bg-gray-800 rounded-xl w-full max-w-md p-6",onClick:s=>s.stopPropagation(),children:[w.jsx("h2",{className:"text-2xl font-bold text-yellow-400 text-center mb-4",children:"Detalles del Partido"}),w.jsxs("div",{className:"flex justify-between items-center mb-4",children:[w.jsxs("div",{className:"flex items-center gap-2 text-lg font-bold w-2/5",children:[w.jsx("img",{src:`/EmproChampions-2025/img/escudos/${n.equipo1?.logo}`,className:"w-8 h-8 object-contain",alt:n.equipo1?.nombre}),w.jsx("span",{children:n.equipo1?.nombre})]}),w.jsxs("span",{className:"font-bold text-2xl",children:[n.marcador?.equipo1," - ",n.marcador?.equipo2]}),w.jsxs("div",{className:"flex items-center justify-end gap-2 text-lg font-bold w-2/5",children:[w.jsx("span",{className:"text-right",children:n.equipo2?.nombre}),w.jsx("img",{src:`/EmproChampions-2025/img/escudos/${n.equipo2?.logo}`,className:"w-8 h-8 object-contain",alt:n.equipo2?.nombre})]})]}),n.mvp?.nombre&&w.jsxs("p",{className:"text-center mb-4 text-sm",children:["MVP: ",w.jsx("span",{className:"font-bold text-yellow-300",children:n.mvp.nombre})]}),w.jsx("div",{className:"max-h-64 overflow-y-auto space-y-2 border-t border-white/10 pt-3",children:i.map((s,a)=>w.jsxs("div",{className:"flex items-center text-sm p-2 bg-white/5 rounded",children:[w.jsxs("span",{className:"font-mono w-12",children:[s.minuto,"'"]}),w.jsx("span",{className:"w-24",children:s.tipoVisual}),w.jsx("span",{className:"font-bold flex-grow",children:s.jugador})]},a))}),w.jsx("button",{onClick:e,className:"w-full mt-6 bg-yellow-400 text-black font-bold py-2 rounded-lg",children:"Cerrar"})]})})};function B8(){const{user:t}=ii(),e=Pr(),[n,r]=C.useState([]),[i,s]=C.useState("masculino"),[a,c]=C.useState(null);return C.useEffect(()=>{const u=Ce(Te,`historial/${i}`),f=ln(u,h=>{if(h.exists()){const g=Object.entries(h.val()).map(([v,x])=>({id:v,...x})).reverse();r(g)}else r([])});return()=>{Sa(u,"value",f)}},[i]),w.jsxs("div",{className:"w-full min-h-screen bg-cover bg-center text-white font-qatar bg-main-background",children:[w.jsx(lr,{}),w.jsxs("div",{className:"container mx-auto px-4 py-8",children:[w.jsx("h1",{className:"text-5xl font-bold text-center text-yellow-400 drop-shadow-lg mb-6",children:"Historial de Partidos"}),w.jsxs("div",{className:"flex justify-center mb-8 bg-black/30 rounded-full p-1 max-w-sm mx-auto",children:[w.jsx("button",{onClick:()=>s("masculino"),className:`w-1/2 py-2 rounded-full font-bold transition-colors ${i==="masculino"?"bg-yellow-400 text-black":"hover:bg-white/10"}`,children:"Masculino"}),w.jsx("button",{onClick:()=>s("femenino"),className:`w-1/2 py-2 rounded-full font-bold transition-colors ${i==="femenino"?"bg-yellow-400 text-black":"hover:bg-white/10"}`,children:"Femenino"})]}),w.jsx("div",{className:"space-y-4 max-w-4xl mx-auto",children:n.map(u=>w.jsx("div",{className:"bg-black/50 backdrop-blur-sm rounded-xl shadow-lg p-4",children:w.jsxs("div",{className:"flex items-center w-full",children:[w.jsxs("div",{className:"flex-grow space-y-2",children:[w.jsxs("div",{className:"flex items-center gap-3",children:[w.jsx("img",{src:`/EmproChampions-2025/img/escudos/${u.equipo1.logo}`,className:"w-8 h-8 object-contain",alt:u.equipo1.nombre}),w.jsx("span",{children:u.equipo1.nombre})]}),w.jsxs("div",{className:"flex items-center gap-3",children:[w.jsx("img",{src:`/EmproChampions-2025/img/escudos/${u.equipo2.logo}`,className:"w-8 h-8 object-contain",alt:u.equipo2.nombre}),w.jsx("span",{children:u.equipo2.nombre})]})]}),w.jsxs("div",{className:"px-6 text-center",children:[w.jsxs("p",{className:"text-4xl font-extrabold",children:[u.goles.equipo1," - ",u.goles.equipo2]}),w.jsx("p",{className:"text-xs opacity-70",children:new Date(u.fecha).toLocaleDateString()})]}),w.jsxs("div",{className:"flex items-center gap-2 ml-auto",children:[t&&w.jsx("button",{onClick:()=>e(`/partido/editar/${u.id}`),className:"bg-blue-500 hover:bg-blue-400 text-white font-bold h-10 px-4 rounded-lg text-sm transition",children:"Editar"}),w.jsx("button",{onClick:()=>c(u.id),className:"bg-yellow-400 text-black font-bold h-10 px-4 rounded-lg text-sm transition hover:bg-yellow-300",children:"Detalles"})]})]})},u.id))})]}),a&&w.jsx(U8,{partidoId:a,onClose:()=>c(null)}),w.jsx(cr,{})]})}const z8=[{nombre:"Atrapados",escudo:"/EmproChampions-2025/img/escudos/atrapados.png"},{nombre:"Bosco",escudo:"/EmproChampions-2025/img/escudos/bosco.png"},{nombre:"Emprosaurios",escudo:"/EmproChampions-2025/img/escudos/emprosaurios.png"},{nombre:"Huellas",escudo:"/EmproChampions-2025/img/escudos/huellas.png"},{nombre:"Luz",escudo:"/EmproChampions-2025/img/escudos/luz.png"},{nombre:"Mensajeros",escudo:"/EmproChampions-2025/img/escudos/mensajeros.png"}],H8=[{nombre:"Atrapados",escudo:"/EmproChampions-2025/img/escudos/atrapados.png"},{nombre:"Bosco",escudo:"/EmproChampions-2025/img/escudos/bosco.png"},{nombre:"Huellas",escudo:"/EmproChampions-2025/img/escudos/huellas.png"},{nombre:"Luz",escudo:"/EmproChampions-2025/img/escudos/luz.png"},{nombre:"Mensajeros",escudo:"/EmproChampions-2025/img/escudos/mensajeros.png"}];function HS(){const[t,e]=C.useState("masculino"),n=Pr(),r=t==="masculino"?z8:H8,[i,s]=C.useState(0),[a,c]=C.useState(1),[u,f]=C.useState(!0),[h,g]=C.useState(!0),v=(_,T)=>{const N=r.length;_==="local"?(f(!1),setTimeout(()=>{s(A=>(A+T+N)%N),f(!0)},150)):(g(!1),setTimeout(()=>{c(A=>(A+T+N)%N),g(!0)},150))},x=async()=>{const _=r[i],T=r[a];if(_.nombre===T.nombre){alert("El equipo local y visitante no pueden ser el mismo.");return}await Ct(Ce(Te,"selecciones/equipoLocal"),_),await Ct(Ce(Te,"selecciones/equipoVisita"),T),await Ct(Ce(Te,"selecciones/generoPartido"),t),n("/partido/alineacion",{state:{equipoLocal:_,equipoVisita:T,genero:t,fecha:Date.now()}})};return w.jsxs("div",{className:"min-h-screen bg-cover bg-center font-qatar text-white flex flex-col",style:{backgroundImage:"url('/EmproChampions-2025/img/fondoempro-horizontal.png')"},children:[w.jsx(lr,{}),w.jsxs("div",{className:"flex justify-center gap-4 mt-6",children:[w.jsx("button",{onClick:()=>{e("masculino"),s(0),c(1)},className:`px-4 py-2 font-bold rounded-full border-2 ${t==="masculino"?"bg-[#FFD700] text-[#7a0026] border-yellow-400":"bg-transparent border-white text-white"} transition`,children:"Masculino"}),w.jsx("button",{onClick:()=>{e("femenino"),s(0),c(1)},className:`px-4 py-2 font-bold rounded-full border-2 ${t==="femenino"?"bg-[#FFD700] text-[#7a0026] border-yellow-400":"bg-transparent border-white text-white"} transition`,children:"Femenino"})]}),w.jsx("h1",{className:"text-3xl sm:text-4xl font-bold text-center mt-6 text-yellow-400 drop-shadow",children:"Selección de Equipos"}),w.jsx("div",{className:"flex flex-col items-center justify-center px-6",children:w.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-10 mt-6 mx-auto px-4 max-w-6xl",children:[w.jsxs("div",{className:"flex flex-col bg-white/90 rounded-2xl p-8 w-full max-w-[460px] text-[#7a0026] shadow-xl transition-all duration-300 min-h-[460px] justify-center items-center",children:[w.jsx("h2",{className:"font-bold text-2xl mb-4",children:"Equipo Local"}),w.jsxs("div",{className:`flex flex-col items-center transition-opacity duration-300 ease-in-out ${u?"opacity-100":"opacity-0"}`,children:[w.jsx("img",{src:r[i].escudo,alt:r[i].nombre,className:"w-32 h-32 object-contain mb-4 drop-shadow-md"}),w.jsx("p",{className:"text-3xl font-black",children:r[i].nombre})]}),w.jsxs("div",{className:"flex gap-10 mt-6",children:[w.jsx("button",{onClick:()=>v("local",-1),className:"text-4xl text-[#FFD700] hover:scale-110 transition",children:"◀"}),w.jsx("button",{onClick:()=>v("local",1),className:"text-4xl text-[#FFD700] hover:scale-110 transition",children:"▶"})]})]}),w.jsxs("div",{className:"flex flex-col bg-white/90 rounded-2xl p-8 w-full max-w-[460px] text-[#7a0026] shadow-xl transition-all duration-300 min-h-[460px] justify-center items-center",children:[w.jsx("h2",{className:"font-bold text-2xl mb-4",children:"Equipo Visitante"}),w.jsxs("div",{className:`flex flex-col items-center transition-opacity duration-300 ease-in-out ${h?"opacity-100":"opacity-0"}`,children:[w.jsx("img",{src:r[a].escudo,alt:r[a].nombre,className:"w-32 h-32 object-contain mb-4 drop-shadow-md"}),w.jsx("p",{className:"text-3xl font-black",children:r[a].nombre})]}),w.jsxs("div",{className:"flex gap-10 mt-6",children:[w.jsx("button",{onClick:()=>v("visita",-1),className:"text-4xl text-[#FFD700] hover:scale-110 transition",children:"◀"}),w.jsx("button",{onClick:()=>v("visita",1),className:"text-4xl text-[#FFD700] hover:scale-110 transition",children:"▶"})]})]})]})}),w.jsx("div",{className:"flex justify-center mt-12 mb-20",children:w.jsx("button",{onClick:x,className:"bg-[#FFD700] text-[#7a0026] font-bold px-10 py-4 rounded-full hover:bg-yellow-300 transition text-xl shadow-lg",children:"Siguiente"})}),w.jsx(cr,{})]})}const W8=[{nombre:"FUENTES",dorsal:15,genero:"masculino"},{nombre:"W. GOMÉZ",dorsal:8,genero:"masculino"},{nombre:"RENI JOSUE",dorsal:58,genero:"masculino"},{nombre:"C. ZERÓN",dorsal:3,genero:"masculino"},{nombre:"CARLOS L",dorsal:7,genero:"masculino"},{nombre:"A. PINEDA",dorsal:11,genero:"masculino"},{nombre:"JUAN P.",dorsal:10,genero:"masculino"},{nombre:"J. CHACÓN",dorsal:5,genero:"masculino"},{nombre:"E. MOLINA",dorsal:9,genero:"masculino"},{nombre:"ALEXANDER",dorsal:16,genero:"masculino"},{nombre:"EDER J",dorsal:22,genero:"masculino"},{nombre:"C. MEJIA",dorsal:19,genero:"masculino"},{nombre:"HERNANDEZ",dorsal:13,genero:"masculino"},{nombre:"L. SUÁREZ",dorsal:11,genero:"femenino"},{nombre:"N. SUÁREZ",dorsal:10,genero:"femenino"},{nombre:"ROJAS",dorsal:8,genero:"femenino"},{nombre:"SADDY M",dorsal:7,genero:"femenino"},{nombre:"V. BANEGAS",dorsal:6,genero:"femenino"},{nombre:"ZAVALA",dorsal:20,genero:"femenino"},{nombre:"N. SALGUERO",dorsal:19,genero:"femenino"},{nombre:"H. LÓPEZ",dorsal:1,genero:"femenino"},{nombre:"S. PINEDA",dorsal:12,genero:"femenino"},{nombre:"C. MEJÍA",dorsal:21,genero:"femenino"},{nombre:"SHANELY R.",dorsal:9,genero:"femenino"},{nombre:"KRISTHEL",dorsal:3,genero:"femenino"},{nombre:"PONCE",dorsal:22,genero:"femenino"},{nombre:"LINDA M.",dorsal:17,genero:"femenino"},{nombre:"GREYSI",dorsal:14,genero:"femenino"},{nombre:"M ROJAS",dorsal:13,genero:"femenino"}],q8=[{nombre:"Urquia",dorsal:11,genero:"masculino"},{nombre:"Torrez",dorsal:10,genero:"masculino"},{nombre:"J. Menjivar",dorsal:27,genero:"masculino"},{nombre:"Contreras",dorsal:2,genero:"masculino"},{nombre:"Lopez",dorsal:23,genero:"masculino"},{nombre:"Wampy",dorsal:26,genero:"masculino"},{nombre:"Gabriel",dorsal:9,genero:"masculino"},{nombre:"Herrera",dorsal:7,genero:"masculino"},{nombre:"Orellana",dorsal:19,genero:"masculino"},{nombre:"Enrique",dorsal:40,genero:"masculino"},{nombre:"Alexander",dorsal:6,genero:"masculino"},{nombre:"PINEDA",dorsal:8,genero:"masculino"},{nombre:"Anita",dorsal:8,genero:"femenino"},{nombre:"Mayely",dorsal:7,genero:"femenino"},{nombre:"Contreras",dorsal:3,genero:"femenino"},{nombre:"Madrid",dorsal:1,genero:"femenino"},{nombre:"Daniela",dorsal:6,genero:"femenino"},{nombre:"Ross.Paz",dorsal:13,genero:"femenino"},{nombre:"Suarez",dorsal:5,genero:"femenino"},{nombre:"GabSr",dorsal:44,genero:"femenino"},{nombre:"Yussmary",dorsal:9,genero:"femenino"},{nombre:"Fajardo",dorsal:25,genero:"femenino"},{nombre:"Navarro",dorsal:37,genero:"femenino"},{nombre:"Regalado",dorsal:15,genero:"femenino"},{nombre:"Leticia",dorsal:18,genero:"femenino"},{nombre:"Dubon",dorsal:21,genero:"femenino"},{nombre:"Fúnez",dorsal:10,genero:"femenino"}],G8=[{nombre:"D. MEJIA",dorsal:23,genero:"masculino"},{nombre:"A. RODRIGUEZ",dorsal:11,genero:"masculino"},{nombre:"OWEN",dorsal:19,genero:"masculino"},{nombre:"JESUS",dorsal:8,genero:"masculino"},{nombre:"LUIS",dorsal:7,genero:"masculino"},{nombre:"RIVERA",dorsal:14,genero:"masculino"},{nombre:"ROLANDO MEJIA",dorsal:1,genero:"masculino"},{nombre:"ERICK",dorsal:28,genero:"masculino"},{nombre:"YORLIN",dorsal:9,genero:"masculino"},{nombre:"J. LOPEZ",dorsal:5,genero:"masculino"},{nombre:"KEVIN LOPEZ",dorsal:13,genero:"masculino"},{nombre:"ALVARADO",dorsal:20,genero:"masculino"},{nombre:"PONCE",dorsal:10,genero:"masculino"},{nombre:"FRABRIIHNDZ",dorsal:22,genero:"masculino"},{nombre:"ALLAN",dorsal:18,genero:"masculino"},{nombre:"TROCHEZ",dorsal:93,genero:"masculino"},{nombre:"FRANCISCO",dorsal:6,genero:"masculino"},{nombre:"MOLINA",dorsal:30,genero:"masculino"},{nombre:"ANGEL",dorsal:21,genero:"masculino"},{nombre:"MEJIA",dorsal:17,genero:"masculino"},{nombre:"CESAR",dorsal:25,genero:"masculino"},{nombre:"LARA F.",dorsal:95,genero:"masculino"}],K8=[{nombre:"E. RUIZ",dorsal:12,genero:"masculino"},{nombre:"E. BENITEZ",dorsal:10,genero:"masculino"},{nombre:"N. RUIZ",dorsal:8,genero:"masculino"},{nombre:"N. SANTOS",dorsal:11,genero:"masculino"},{nombre:"ALVARADO",dorsal:19,genero:"masculino"},{nombre:"AM",dorsal:22,genero:"masculino"},{nombre:"LUIS G.",dorsal:3,genero:"masculino"},{nombre:"L. RUIZ",dorsal:6,genero:"masculino"},{nombre:"RICK",dorsal:1,genero:"masculino"},{nombre:"LUIS CRUZ",dorsal:7,genero:"masculino"},{nombre:"C. CRUZ",dorsal:66,genero:"masculino"},{nombre:"O. TABORA",dorsal:15,genero:"masculino"},{nombre:"ARITA",dorsal:99,genero:"masculino"},{nombre:"UDAI M.",dorsal:9,genero:"masculino"},{nombre:"J. MAYORGA",dorsal:44,genero:"masculino"},{nombre:"W. AMAYA",dorsal:21,genero:"masculino"},{nombre:"E. SUARES",dorsal:23,genero:"masculino"},{nombre:"M. CORTES",dorsal:5,genero:"masculino"},{nombre:"ALVARADO",dorsal:8,genero:"femenino"},{nombre:"N. BRIZUELA",dorsal:88,genero:"femenino"},{nombre:"RAMIREZ",dorsal:14,genero:"femenino"},{nombre:"A. RUIZ",dorsal:5,genero:"femenino"},{nombre:"ESTHER",dorsal:3,genero:"femenino"},{nombre:"G. ARITA",dorsal:2,genero:"femenino"},{nombre:"V. CHAVEZ",dorsal:11,genero:"femenino"},{nombre:"DULCE CRUZ",dorsal:1,genero:"femenino"},{nombre:"R. MARQUEZ",dorsal:19,genero:"femenino"},{nombre:"ALVARENGA",dorsal:17,genero:"femenino"},{nombre:"S. ENAMORADO",dorsal:26,genero:"femenino"},{nombre:"VASQUEZ",dorsal:15,genero:"femenino"},{nombre:"L. DIAZ",dorsal:9,genero:"femenino"},{nombre:"NAY SARMIENT",dorsal:6,genero:"femenino"},{nombre:"MOLINA",dorsal:4,genero:"femenino"},{nombre:"ALVARADO",dorsal:6,genero:"femenino"},{nombre:"RODRIGUEZ",dorsal:7,genero:"femenino"}],Y8=[{nombre:"Jayro V",dorsal:14,genero:"masculino"},{nombre:"M. Nuñez",dorsal:16,genero:"masculino"},{nombre:"CASTELLANOS",dorsal:27,genero:"masculino"},{nombre:"PÉREZ",dorsal:19,genero:"masculino"},{nombre:"O. Chinchilla",dorsal:66,genero:"masculino"},{nombre:"C. Tabora",dorsal:12,genero:"masculino"},{nombre:"Cardoza",dorsal:4,genero:"masculino"},{nombre:"T. Orellana",dorsal:11,genero:"masculino"},{nombre:"Tabora CJ",dorsal:6,genero:"masculino"},{nombre:"Yassar",dorsal:8,genero:"masculino"},{nombre:"C HERNANDEZ",dorsal:23,genero:"masculino"},{nombre:"ESPINO",dorsal:5,genero:"masculino"},{nombre:"ZERÓN",dorsal:6,genero:"femenino"},{nombre:"Pineda",dorsal:8,genero:"femenino"},{nombre:"Key",dorsal:7,genero:"femenino"},{nombre:"Daya",dorsal:16,genero:"femenino"},{nombre:"K. Orellana",dorsal:15,genero:"femenino"},{nombre:"F. Rodriguez",dorsal:7,genero:"femenino"},{nombre:"I. Cáceres",dorsal:13,genero:"femenino"},{nombre:"Y. Guerra",dorsal:24,genero:"femenino"},{nombre:"Pineda",dorsal:11,genero:"femenino"},{nombre:"Y. TABORA",dorsal:10,genero:"femenino"},{nombre:"YEII O",dorsal:9,genero:"femenino"},{nombre:"L. Pascual",dorsal:23,genero:"femenino"},{nombre:"Gisele",dorsal:4,genero:"femenino"},{nombre:"MURCIA",dorsal:25,genero:"femenino"},{nombre:"K DUBON",dorsal:23,genero:"femenino"}],X8=[{nombre:"K. JOSUE",dorsal:7,genero:"masculino"},{nombre:"ERICK O.",dorsal:12,genero:"masculino"},{nombre:"FERNANDO S.",dorsal:21,genero:"masculino"},{nombre:"JOSUE",dorsal:13,genero:"masculino"},{nombre:"NOLAN",dorsal:3,genero:"masculino"},{nombre:"FHER O.",dorsal:4,genero:"masculino"},{nombre:"BRIZUELA",dorsal:46,genero:"masculino"},{nombre:"HELTON",dorsal:27,genero:"masculino"},{nombre:"RUIZ",dorsal:5,genero:"masculino"},{nombre:"MELVIN ORELLANA",dorsal:10,genero:"masculino"},{nombre:"C. HERNANDEZ",dorsal:14,genero:"masculino"},{nombre:"HERNANDEZ",dorsal:18,genero:"masculino"},{nombre:"J. CANELO",dorsal:44,genero:"masculino"},{nombre:"SANABRIA",dorsal:9,genero:"masculino"},{nombre:"LUKAS",dorsal:47,genero:"masculino"},{nombre:"BAIRON R.",dorsal:8,genero:"masculino"},{nombre:"AGUILAR",dorsal:11,genero:"masculino"}],x0={bosco:W8,luz:q8,huellas:G8,atrapados:K8,mensajeros:Y8,emprosaurios:X8};function J8({tipo:t,index:e,jugador:n,onSave:r,onClose:i,camiseta:s,dorsalColor:a,jugadoresActuales:c,nombreEquipo:u,generoPartido:f}){const h=u?.toLowerCase().replace(/\s+/g,""),g=x0[h]||[],v=c.filter((P,j)=>j!==e&&P.nombre).map(P=>P.nombre),x=g.filter(P=>P.genero===f).filter(P=>!v.includes(P.nombre)),_=n&&n.nombre&&n.dorsal?`${n.nombre}|${n.dorsal}`:"",[T,N]=C.useState(_),A=()=>{if(!T)return;const[P,j]=T.split("|");r(e,t,{nombre:P,dorsal:j})},k=T?T.split("|")[1]:n?.dorsal||"?";return w.jsx("div",{className:"fixed inset-0 flex items-center justify-center z-50 bg-black/70 p-4 font-qatar",children:w.jsxs("div",{className:"bg-gray-800 border border-yellow-500/30 rounded-xl shadow-2xl p-6 text-white relative w-full max-w-sm mx-auto",children:[w.jsx("button",{onClick:i,className:"absolute top-2 right-2 text-gray-400 hover:text-white font-bold text-2xl transition-colors",title:"Cerrar",children:"×"}),w.jsxs("div",{className:"flex flex-col items-center mb-5",children:[w.jsxs("div",{className:"relative w-24 h-24 mb-3",children:[w.jsx("img",{src:s,alt:"camiseta",className:"w-full h-full drop-shadow-lg"}),w.jsx("span",{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-[45%] font-barcelona text-4xl",style:{color:a,textShadow:"2px 2px 3px rgba(0,0,0,0.7)"},children:k})]}),w.jsx("h2",{className:"text-2xl font-bold text-yellow-400",children:u})]}),w.jsx("label",{htmlFor:"jugador-select",className:"block font-bold mb-2 text-gray-300",children:"Seleccionar Jugador"}),w.jsxs("select",{id:"jugador-select",className:"w-full px-4 py-3 border border-gray-600 rounded-lg bg-gray-700 text-white text-base focus:ring-2 focus:ring-yellow-500 focus:border-yellow-500 transition",value:T,onChange:P=>N(P.target.value),children:[w.jsx("option",{value:"",disabled:!0,children:"Elige un jugador..."}),x.map(P=>w.jsx("option",{value:`${P.nombre}|${P.dorsal}`,children:P.nombre},P.dorsal+P.nombre))]}),w.jsxs("div",{className:"mt-6 space-y-3",children:[w.jsx("button",{disabled:!T,onClick:A,className:"w-full bg-[#FFD700] text-[#7a0026] font-bold py-3 rounded-lg hover:bg-yellow-400 transition transform hover:scale-105 disabled:bg-gray-500 disabled:text-gray-300 disabled:transform-none disabled:cursor-not-allowed",children:"Guardar"}),w.jsx("button",{onClick:i,className:"w-full bg-gray-600 text-gray-200 font-bold py-3 rounded-lg hover:bg-gray-500 transition",children:"Cancelar"})]})]})})}const I_=C.createContext({});function R_(t){const e=C.useRef(null);return e.current===null&&(e.current=t()),e.current}const A_=typeof window<"u",XI=A_?C.useLayoutEffect:C.useEffect,Pm=C.createContext(null);function N_(t,e){t.indexOf(e)===-1&&t.push(e)}function O_(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const ps=(t,e,n)=>n>e?e:n<t?t:n;let M_=()=>{};const ms={},JI=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t);function QI(t){return typeof t=="object"&&t!==null}const ZI=t=>/^0[^.\s]+$/u.test(t);function D_(t){let e;return()=>(e===void 0&&(e=t()),e)}const Cr=t=>t,Q8=(t,e)=>n=>e(t(n)),Zd=(...t)=>t.reduce(Q8),Sd=(t,e,n)=>{const r=e-t;return r===0?1:(n-t)/r};class L_{constructor(){this.subscriptions=[]}add(e){return N_(this.subscriptions,e),()=>O_(this.subscriptions,e)}notify(e,n,r){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](e,n,r);else for(let s=0;s<i;s++){const a=this.subscriptions[s];a&&a(e,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Si=t=>t*1e3,Ci=t=>t/1e3;function eR(t,e){return e?t*(1e3/e):0}const tR=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,Z8=1e-7,eV=12;function tV(t,e,n,r,i){let s,a,c=0;do a=e+(n-e)/2,s=tR(a,r,i)-t,s>0?n=a:e=a;while(Math.abs(s)>Z8&&++c<eV);return a}function ef(t,e,n,r){if(t===e&&n===r)return Cr;const i=s=>tV(s,0,1,t,n);return s=>s===0||s===1?s:tR(i(s),e,r)}const nR=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,rR=t=>e=>1-t(1-e),iR=ef(.33,1.53,.69,.99),j_=rR(iR),sR=nR(j_),oR=t=>(t*=2)<1?.5*j_(t):.5*(2-Math.pow(2,-10*(t-1))),F_=t=>1-Math.sin(Math.acos(t)),aR=rR(F_),lR=nR(F_),nV=ef(.42,0,1,1),rV=ef(0,0,.58,1),cR=ef(.42,0,.58,1),iV=t=>Array.isArray(t)&&typeof t[0]!="number",uR=t=>Array.isArray(t)&&typeof t[0]=="number",sV={linear:Cr,easeIn:nV,easeInOut:cR,easeOut:rV,circIn:F_,circInOut:lR,circOut:aR,backIn:j_,backInOut:sR,backOut:iR,anticipate:oR},oV=t=>typeof t=="string",WS=t=>{if(uR(t)){M_(t.length===4);const[e,n,r,i]=t;return ef(e,n,r,i)}else if(oV(t))return sV[t];return t},Mh=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"],qS={value:null};function aV(t,e){let n=new Set,r=new Set,i=!1,s=!1;const a=new WeakSet;let c={delta:0,timestamp:0,isProcessing:!1},u=0;function f(g){a.has(g)&&(h.schedule(g),t()),u++,g(c)}const h={schedule:(g,v=!1,x=!1)=>{const T=x&&i?n:r;return v&&a.add(g),T.has(g)||T.add(g),g},cancel:g=>{r.delete(g),a.delete(g)},process:g=>{if(c=g,i){s=!0;return}i=!0,[n,r]=[r,n],n.forEach(f),e&&qS.value&&qS.value.frameloop[e].push(u),u=0,n.clear(),i=!1,s&&(s=!1,h.process(g))}};return h}const lV=40;function dR(t,e){let n=!1,r=!0;const i={delta:0,timestamp:0,isProcessing:!1},s=()=>n=!0,a=Mh.reduce((P,j)=>(P[j]=aV(s,e?j:void 0),P),{}),{setup:c,read:u,resolveKeyframes:f,preUpdate:h,update:g,preRender:v,render:x,postRender:_}=a,T=()=>{const P=ms.useManualTiming?i.timestamp:performance.now();n=!1,ms.useManualTiming||(i.delta=r?1e3/60:Math.max(Math.min(P-i.timestamp,lV),1)),i.timestamp=P,i.isProcessing=!0,c.process(i),u.process(i),f.process(i),h.process(i),g.process(i),v.process(i),x.process(i),_.process(i),i.isProcessing=!1,n&&e&&(r=!1,t(T))},N=()=>{n=!0,r=!0,i.isProcessing||t(T)};return{schedule:Mh.reduce((P,j)=>{const $=a[j];return P[j]=(z,D=!1,I=!1)=>(n||N(),$.schedule(z,D,I)),P},{}),cancel:P=>{for(let j=0;j<Mh.length;j++)a[Mh[j]].cancel(P)},state:i,steps:a}}const{schedule:vt,cancel:go,state:sn,steps:ry}=dR(typeof requestAnimationFrame<"u"?requestAnimationFrame:Cr,!0);let tp;function cV(){tp=void 0}const Wn={now:()=>(tp===void 0&&Wn.set(sn.isProcessing||ms.useManualTiming?sn.timestamp:performance.now()),tp),set:t=>{tp=t,queueMicrotask(cV)}},fR=t=>e=>typeof e=="string"&&e.startsWith(t),$_=fR("--"),uV=fR("var(--"),V_=t=>uV(t)?dV.test(t.split("/*")[0].trim()):!1,dV=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,wc={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},Cd={...wc,transform:t=>ps(0,1,t)},Dh={...wc,default:1},Yu=t=>Math.round(t*1e5)/1e5,U_=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function fV(t){return t==null}const hV=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,B_=(t,e)=>n=>!!(typeof n=="string"&&hV.test(n)&&n.startsWith(t)||e&&!fV(n)&&Object.prototype.hasOwnProperty.call(n,e)),hR=(t,e,n)=>r=>{if(typeof r!="string")return r;const[i,s,a,c]=r.match(U_);return{[t]:parseFloat(i),[e]:parseFloat(s),[n]:parseFloat(a),alpha:c!==void 0?parseFloat(c):1}},pV=t=>ps(0,255,t),iy={...wc,transform:t=>Math.round(pV(t))},ca={test:B_("rgb","red"),parse:hR("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:r=1})=>"rgba("+iy.transform(t)+", "+iy.transform(e)+", "+iy.transform(n)+", "+Yu(Cd.transform(r))+")"};function mV(t){let e="",n="",r="",i="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),r=t.substring(5,7),i=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),r=t.substring(3,4),i=t.substring(4,5),e+=e,n+=n,r+=r,i+=i),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}}const b0={test:B_("#"),parse:mV,transform:ca.transform},tf=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),Ys=tf("deg"),Ti=tf("%"),Ne=tf("px"),gV=tf("vh"),vV=tf("vw"),GS={...Ti,parse:t=>Ti.parse(t)/100,transform:t=>Ti.transform(t*100)},Fl={test:B_("hsl","hue"),parse:hR("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:r=1})=>"hsla("+Math.round(t)+", "+Ti.transform(Yu(e))+", "+Ti.transform(Yu(n))+", "+Yu(Cd.transform(r))+")"},mn={test:t=>ca.test(t)||b0.test(t)||Fl.test(t),parse:t=>ca.test(t)?ca.parse(t):Fl.test(t)?Fl.parse(t):b0.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?ca.transform(t):Fl.transform(t)},yV=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function wV(t){return isNaN(t)&&typeof t=="string"&&(t.match(U_)?.length||0)+(t.match(yV)?.length||0)>0}const pR="number",mR="color",_V="var",xV="var(",KS="${}",bV=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Td(t){const e=t.toString(),n=[],r={color:[],number:[],var:[]},i=[];let s=0;const c=e.replace(bV,u=>(mn.test(u)?(r.color.push(s),i.push(mR),n.push(mn.parse(u))):u.startsWith(xV)?(r.var.push(s),i.push(_V),n.push(u)):(r.number.push(s),i.push(pR),n.push(parseFloat(u))),++s,KS)).split(KS);return{values:n,split:c,indexes:r,types:i}}function gR(t){return Td(t).values}function vR(t){const{split:e,types:n}=Td(t),r=e.length;return i=>{let s="";for(let a=0;a<r;a++)if(s+=e[a],i[a]!==void 0){const c=n[a];c===pR?s+=Yu(i[a]):c===mR?s+=mn.transform(i[a]):s+=i[a]}return s}}const EV=t=>typeof t=="number"?0:t;function SV(t){const e=gR(t);return vR(t)(e.map(EV))}const vo={test:wV,parse:gR,createTransformer:vR,getAnimatableNone:SV};function sy(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function CV({hue:t,saturation:e,lightness:n,alpha:r}){t/=360,e/=100,n/=100;let i=0,s=0,a=0;if(!e)i=s=a=n;else{const c=n<.5?n*(1+e):n+e-n*e,u=2*n-c;i=sy(u,c,t+1/3),s=sy(u,c,t),a=sy(u,c,t-1/3)}return{red:Math.round(i*255),green:Math.round(s*255),blue:Math.round(a*255),alpha:r}}function $p(t,e){return n=>n>0?e:t}const gt=(t,e,n)=>t+(e-t)*n,oy=(t,e,n)=>{const r=t*t,i=n*(e*e-r)+r;return i<0?0:Math.sqrt(i)},TV=[b0,ca,Fl],kV=t=>TV.find(e=>e.test(t));function YS(t){const e=kV(t);if(!e)return!1;let n=e.parse(t);return e===Fl&&(n=CV(n)),n}const XS=(t,e)=>{const n=YS(t),r=YS(e);if(!n||!r)return $p(t,e);const i={...n};return s=>(i.red=oy(n.red,r.red,s),i.green=oy(n.green,r.green,s),i.blue=oy(n.blue,r.blue,s),i.alpha=gt(n.alpha,r.alpha,s),ca.transform(i))},E0=new Set(["none","hidden"]);function PV(t,e){return E0.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function IV(t,e){return n=>gt(t,e,n)}function z_(t){return typeof t=="number"?IV:typeof t=="string"?V_(t)?$p:mn.test(t)?XS:NV:Array.isArray(t)?yR:typeof t=="object"?mn.test(t)?XS:RV:$p}function yR(t,e){const n=[...t],r=n.length,i=t.map((s,a)=>z_(s)(s,e[a]));return s=>{for(let a=0;a<r;a++)n[a]=i[a](s);return n}}function RV(t,e){const n={...t,...e},r={};for(const i in n)t[i]!==void 0&&e[i]!==void 0&&(r[i]=z_(t[i])(t[i],e[i]));return i=>{for(const s in r)n[s]=r[s](i);return n}}function AV(t,e){const n=[],r={color:0,var:0,number:0};for(let i=0;i<e.values.length;i++){const s=e.types[i],a=t.indexes[s][r[s]],c=t.values[a]??0;n[i]=c,r[s]++}return n}const NV=(t,e)=>{const n=vo.createTransformer(e),r=Td(t),i=Td(e);return r.indexes.var.length===i.indexes.var.length&&r.indexes.color.length===i.indexes.color.length&&r.indexes.number.length>=i.indexes.number.length?E0.has(t)&&!i.values.length||E0.has(e)&&!r.values.length?PV(t,e):Zd(yR(AV(r,i),i.values),n):$p(t,e)};function wR(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?gt(t,e,n):z_(t)(t,e)}const OV=t=>{const e=({timestamp:n})=>t(n);return{start:(n=!0)=>vt.update(e,n),stop:()=>go(e),now:()=>sn.isProcessing?sn.timestamp:Wn.now()}},_R=(t,e,n=10)=>{let r="";const i=Math.max(Math.round(e/n),2);for(let s=0;s<i;s++)r+=t(s/(i-1))+", ";return`linear(${r.substring(0,r.length-2)})`},Vp=2e4;function H_(t){let e=0;const n=50;let r=t.next(e);for(;!r.done&&e<Vp;)e+=n,r=t.next(e);return e>=Vp?1/0:e}function MV(t,e=100,n){const r=n({...t,keyframes:[0,e]}),i=Math.min(H_(r),Vp);return{type:"keyframes",ease:s=>r.next(i*s).value/e,duration:Ci(i)}}const DV=5;function xR(t,e,n){const r=Math.max(e-DV,0);return eR(n-t(r),e-r)}const Et={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},ay=.001;function LV({duration:t=Et.duration,bounce:e=Et.bounce,velocity:n=Et.velocity,mass:r=Et.mass}){let i,s,a=1-e;a=ps(Et.minDamping,Et.maxDamping,a),t=ps(Et.minDuration,Et.maxDuration,Ci(t)),a<1?(i=f=>{const h=f*a,g=h*t,v=h-n,x=S0(f,a),_=Math.exp(-g);return ay-v/x*_},s=f=>{const g=f*a*t,v=g*n+n,x=Math.pow(a,2)*Math.pow(f,2)*t,_=Math.exp(-g),T=S0(Math.pow(f,2),a);return(-i(f)+ay>0?-1:1)*((v-x)*_)/T}):(i=f=>{const h=Math.exp(-f*t),g=(f-n)*t+1;return-ay+h*g},s=f=>{const h=Math.exp(-f*t),g=(n-f)*(t*t);return h*g});const c=5/t,u=FV(i,s,c);if(t=Si(t),isNaN(u))return{stiffness:Et.stiffness,damping:Et.damping,duration:t};{const f=Math.pow(u,2)*r;return{stiffness:f,damping:a*2*Math.sqrt(r*f),duration:t}}}const jV=12;function FV(t,e,n){let r=n;for(let i=1;i<jV;i++)r=r-t(r)/e(r);return r}function S0(t,e){return t*Math.sqrt(1-e*e)}const $V=["duration","bounce"],VV=["stiffness","damping","mass"];function JS(t,e){return e.some(n=>t[n]!==void 0)}function UV(t){let e={velocity:Et.velocity,stiffness:Et.stiffness,damping:Et.damping,mass:Et.mass,isResolvedFromDuration:!1,...t};if(!JS(t,VV)&&JS(t,$V))if(t.visualDuration){const n=t.visualDuration,r=2*Math.PI/(n*1.2),i=r*r,s=2*ps(.05,1,1-(t.bounce||0))*Math.sqrt(i);e={...e,mass:Et.mass,stiffness:i,damping:s}}else{const n=LV(t);e={...e,...n,mass:Et.mass},e.isResolvedFromDuration=!0}return e}function Up(t=Et.visualDuration,e=Et.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:r,restDelta:i}=n;const s=n.keyframes[0],a=n.keyframes[n.keyframes.length-1],c={done:!1,value:s},{stiffness:u,damping:f,mass:h,duration:g,velocity:v,isResolvedFromDuration:x}=UV({...n,velocity:-Ci(n.velocity||0)}),_=v||0,T=f/(2*Math.sqrt(u*h)),N=a-s,A=Ci(Math.sqrt(u/h)),k=Math.abs(N)<5;r||(r=k?Et.restSpeed.granular:Et.restSpeed.default),i||(i=k?Et.restDelta.granular:Et.restDelta.default);let P;if(T<1){const $=S0(A,T);P=z=>{const D=Math.exp(-T*A*z);return a-D*((_+T*A*N)/$*Math.sin($*z)+N*Math.cos($*z))}}else if(T===1)P=$=>a-Math.exp(-A*$)*(N+(_+A*N)*$);else{const $=A*Math.sqrt(T*T-1);P=z=>{const D=Math.exp(-T*A*z),I=Math.min($*z,300);return a-D*((_+T*A*N)*Math.sinh(I)+$*N*Math.cosh(I))/$}}const j={calculatedDuration:x&&g||null,next:$=>{const z=P($);if(x)c.done=$>=g;else{let D=$===0?_:0;T<1&&(D=$===0?Si(_):xR(P,$,z));const I=Math.abs(D)<=r,O=Math.abs(a-z)<=i;c.done=I&&O}return c.value=c.done?a:z,c},toString:()=>{const $=Math.min(H_(j),Vp),z=_R(D=>j.next($*D).value,$,30);return $+"ms "+z},toTransition:()=>{}};return j}Up.applyToOptions=t=>{const e=MV(t,100,Up);return t.ease=e.ease,t.duration=Si(e.duration),t.type="keyframes",t};function C0({keyframes:t,velocity:e=0,power:n=.8,timeConstant:r=325,bounceDamping:i=10,bounceStiffness:s=500,modifyTarget:a,min:c,max:u,restDelta:f=.5,restSpeed:h}){const g=t[0],v={done:!1,value:g},x=I=>c!==void 0&&I<c||u!==void 0&&I>u,_=I=>c===void 0?u:u===void 0||Math.abs(c-I)<Math.abs(u-I)?c:u;let T=n*e;const N=g+T,A=a===void 0?N:a(N);A!==N&&(T=A-g);const k=I=>-T*Math.exp(-I/r),P=I=>A+k(I),j=I=>{const O=k(I),b=P(I);v.done=Math.abs(O)<=f,v.value=v.done?A:b};let $,z;const D=I=>{x(v.value)&&($=I,z=Up({keyframes:[v.value,_(v.value)],velocity:xR(P,I,v.value),damping:i,stiffness:s,restDelta:f,restSpeed:h}))};return D(0),{calculatedDuration:null,next:I=>{let O=!1;return!z&&$===void 0&&(O=!0,j(I),D(I)),$!==void 0&&I>=$?z.next(I-$):(!O&&j(I),v)}}}function BV(t,e,n){const r=[],i=n||ms.mix||wR,s=t.length-1;for(let a=0;a<s;a++){let c=i(t[a],t[a+1]);if(e){const u=Array.isArray(e)?e[a]||Cr:e;c=Zd(u,c)}r.push(c)}return r}function zV(t,e,{clamp:n=!0,ease:r,mixer:i}={}){const s=t.length;if(M_(s===e.length),s===1)return()=>e[0];if(s===2&&e[0]===e[1])return()=>e[1];const a=t[0]===t[1];t[0]>t[s-1]&&(t=[...t].reverse(),e=[...e].reverse());const c=BV(e,r,i),u=c.length,f=h=>{if(a&&h<t[0])return e[0];let g=0;if(u>1)for(;g<t.length-2&&!(h<t[g+1]);g++);const v=Sd(t[g],t[g+1],h);return c[g](v)};return n?h=>f(ps(t[0],t[s-1],h)):f}function HV(t,e){const n=t[t.length-1];for(let r=1;r<=e;r++){const i=Sd(0,e,r);t.push(gt(n,1,i))}}function WV(t){const e=[0];return HV(e,t.length-1),e}function qV(t,e){return t.map(n=>n*e)}function GV(t,e){return t.map(()=>e||cR).splice(0,t.length-1)}function Xu({duration:t=300,keyframes:e,times:n,ease:r="easeInOut"}){const i=iV(r)?r.map(WS):WS(r),s={done:!1,value:e[0]},a=qV(n&&n.length===e.length?n:WV(e),t),c=zV(a,e,{ease:Array.isArray(i)?i:GV(e,i)});return{calculatedDuration:t,next:u=>(s.value=c(u),s.done=u>=t,s)}}const KV=t=>t!==null;function W_(t,{repeat:e,repeatType:n="loop"},r,i=1){const s=t.filter(KV),c=i<0||e&&n!=="loop"&&e%2===1?0:s.length-1;return!c||r===void 0?s[c]:r}const YV={decay:C0,inertia:C0,tween:Xu,keyframes:Xu,spring:Up};function bR(t){typeof t.type=="string"&&(t.type=YV[t.type])}class q_{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,n){return this.finished.then(e,n)}}const XV=t=>t/100;class G_ extends q_{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=(n=!0)=>{if(n){const{motionValue:r}=this.options;r&&r.updatedAt!==Wn.now()&&this.tick(Wn.now())}this.isStopped=!0,this.state!=="idle"&&(this.teardown(),this.options.onStop?.())},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;bR(e);const{type:n=Xu,repeat:r=0,repeatDelay:i=0,repeatType:s,velocity:a=0}=e;let{keyframes:c}=e;const u=n||Xu;u!==Xu&&typeof c[0]!="number"&&(this.mixKeyframes=Zd(XV,wR(c[0],c[1])),c=[0,100]);const f=u({...e,keyframes:c});s==="mirror"&&(this.mirroredGenerator=u({...e,keyframes:[...c].reverse(),velocity:-a})),f.calculatedDuration===null&&(f.calculatedDuration=H_(f));const{calculatedDuration:h}=f;this.calculatedDuration=h,this.resolvedDuration=h+i,this.totalDuration=this.resolvedDuration*(r+1)-i,this.generator=f}updateTime(e){const n=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(e,n=!1){const{generator:r,totalDuration:i,mixKeyframes:s,mirroredGenerator:a,resolvedDuration:c,calculatedDuration:u}=this;if(this.startTime===null)return r.next(0);const{delay:f=0,keyframes:h,repeat:g,repeatType:v,repeatDelay:x,type:_,onUpdate:T,finalKeyframe:N}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-i/this.speed,this.startTime)),n?this.currentTime=e:this.updateTime(e);const A=this.currentTime-f*(this.playbackSpeed>=0?1:-1),k=this.playbackSpeed>=0?A<0:A>i;this.currentTime=Math.max(A,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=i);let P=this.currentTime,j=r;if(g){const I=Math.min(this.currentTime,i)/c;let O=Math.floor(I),b=I%1;!b&&I>=1&&(b=1),b===1&&O--,O=Math.min(O,g+1),!!(O%2)&&(v==="reverse"?(b=1-b,x&&(b-=x/c)):v==="mirror"&&(j=a)),P=ps(0,1,b)*c}const $=k?{done:!1,value:h[0]}:j.next(P);s&&($.value=s($.value));let{done:z}=$;!k&&u!==null&&(z=this.playbackSpeed>=0?this.currentTime>=i:this.currentTime<=0);const D=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&z);return D&&_!==C0&&($.value=W_(h,this.options,N,this.speed)),T&&T($.value),D&&this.finish(),$}then(e,n){return this.finished.then(e,n)}get duration(){return Ci(this.calculatedDuration)}get time(){return Ci(this.currentTime)}set time(e){e=Si(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(Wn.now());const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=Ci(this.currentTime))}play(){if(this.isStopped)return;const{driver:e=OV,startTime:n}=this.options;this.driver||(this.driver=e(i=>this.tick(i))),this.options.onPlay?.();const r=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=r):this.holdTime!==null?this.startTime=r-this.holdTime:this.startTime||(this.startTime=n??r),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(Wn.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state="finished",this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),this.driver?.stop(),e.observe(this)}}function JV(t){for(let e=1;e<t.length;e++)t[e]??(t[e]=t[e-1])}const ua=t=>t*180/Math.PI,T0=t=>{const e=ua(Math.atan2(t[1],t[0]));return k0(e)},QV={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:T0,rotateZ:T0,skewX:t=>ua(Math.atan(t[1])),skewY:t=>ua(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},k0=t=>(t=t%360,t<0&&(t+=360),t),QS=T0,ZS=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),eC=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),ZV={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:ZS,scaleY:eC,scale:t=>(ZS(t)+eC(t))/2,rotateX:t=>k0(ua(Math.atan2(t[6],t[5]))),rotateY:t=>k0(ua(Math.atan2(-t[2],t[0]))),rotateZ:QS,rotate:QS,skewX:t=>ua(Math.atan(t[4])),skewY:t=>ua(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function P0(t){return t.includes("scale")?1:0}function I0(t,e){if(!t||t==="none")return P0(e);const n=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let r,i;if(n)r=ZV,i=n;else{const c=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);r=QV,i=c}if(!i)return P0(e);const s=r[e],a=i[1].split(",").map(tU);return typeof s=="function"?s(a):a[s]}const eU=(t,e)=>{const{transform:n="none"}=getComputedStyle(t);return I0(n,e)};function tU(t){return parseFloat(t.trim())}const _c=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],xc=new Set(_c),tC=t=>t===wc||t===Ne,nU=new Set(["x","y","z"]),rU=_c.filter(t=>!nU.has(t));function iU(t){const e=[];return rU.forEach(n=>{const r=t.getValue(n);r!==void 0&&(e.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),e}const pa={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:(t,{transform:e})=>I0(e,"x"),y:(t,{transform:e})=>I0(e,"y")};pa.translateX=pa.x;pa.translateY=pa.y;const ma=new Set;let R0=!1,A0=!1,N0=!1;function ER(){if(A0){const t=Array.from(ma).filter(r=>r.needsMeasurement),e=new Set(t.map(r=>r.element)),n=new Map;e.forEach(r=>{const i=iU(r);i.length&&(n.set(r,i),r.render())}),t.forEach(r=>r.measureInitialState()),e.forEach(r=>{r.render();const i=n.get(r);i&&i.forEach(([s,a])=>{r.getValue(s)?.set(a)})}),t.forEach(r=>r.measureEndState()),t.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}A0=!1,R0=!1,ma.forEach(t=>t.complete(N0)),ma.clear()}function SR(){ma.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(A0=!0)})}function sU(){N0=!0,SR(),ER(),N0=!1}class K_{constructor(e,n,r,i,s,a=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=r,this.motionValue=i,this.element=s,this.isAsync=a}scheduleResolve(){this.state="scheduled",this.isAsync?(ma.add(this),R0||(R0=!0,vt.read(SR),vt.resolveKeyframes(ER))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:r,motionValue:i}=this;if(e[0]===null){const s=i?.get(),a=e[e.length-1];if(s!==void 0)e[0]=s;else if(r&&n){const c=r.readValue(n,a);c!=null&&(e[0]=c)}e[0]===void 0&&(e[0]=a),i&&s===void 0&&i.set(e[0])}JV(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),ma.delete(this)}cancel(){this.state==="scheduled"&&(ma.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const oU=t=>t.startsWith("--");function aU(t,e,n){oU(e)?t.style.setProperty(e,n):t.style[e]=n}const lU=D_(()=>window.ScrollTimeline!==void 0),cU={};function uU(t,e){const n=D_(t);return()=>cU[e]??n()}const CR=uU(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Nu=([t,e,n,r])=>`cubic-bezier(${t}, ${e}, ${n}, ${r})`,nC={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Nu([0,.65,.55,1]),circOut:Nu([.55,0,1,.45]),backIn:Nu([.31,.01,.66,-.59]),backOut:Nu([.33,1.53,.69,.99])};function TR(t,e){if(t)return typeof t=="function"?CR()?_R(t,e):"ease-out":uR(t)?Nu(t):Array.isArray(t)?t.map(n=>TR(n,e)||nC.easeOut):nC[t]}function dU(t,e,n,{delay:r=0,duration:i=300,repeat:s=0,repeatType:a="loop",ease:c="easeOut",times:u}={},f=void 0){const h={[e]:n};u&&(h.offset=u);const g=TR(c,i);Array.isArray(g)&&(h.easing=g);const v={delay:r,duration:i,easing:Array.isArray(g)?"linear":g,fill:"both",iterations:s+1,direction:a==="reverse"?"alternate":"normal"};return f&&(v.pseudoElement=f),t.animate(h,v)}function kR(t){return typeof t=="function"&&"applyToOptions"in t}function fU({type:t,...e}){return kR(t)&&CR()?t.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class hU extends q_{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,!e)return;const{element:n,name:r,keyframes:i,pseudoElement:s,allowFlatten:a=!1,finalKeyframe:c,onComplete:u}=e;this.isPseudoElement=!!s,this.allowFlatten=a,this.options=e,M_(typeof e.type!="string");const f=fU(e);this.animation=dU(n,r,i,f,s),f.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!s){const h=W_(i,this.options,c,this.speed);this.updateMotionValue?this.updateMotionValue(h):aU(n,r,h),this.animation.cancel()}u?.(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){this.isPseudoElement||this.animation.commitStyles?.()}get duration(){const e=this.animation.effect?.getComputedTiming?.().duration||0;return Ci(Number(e))}get time(){return Ci(Number(this.animation.currentTime)||0)}set time(e){this.finishedTime=null,this.animation.currentTime=Si(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(e){this.animation.startTime=e}attachTimeline({timeline:e,observe:n}){return this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,e&&lU()?(this.animation.timeline=e,Cr):n(this)}}const PR={anticipate:oR,backInOut:sR,circInOut:lR};function pU(t){return t in PR}function mU(t){typeof t.ease=="string"&&pU(t.ease)&&(t.ease=PR[t.ease])}const rC=10;class gU extends hU{constructor(e){mU(e),bR(e),super(e),e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:n,onUpdate:r,onComplete:i,element:s,...a}=this.options;if(!n)return;if(e!==void 0){n.set(e);return}const c=new G_({...a,autoplay:!1}),u=Si(this.finishedTime??this.time);n.setWithVelocity(c.sample(u-rC).value,c.sample(u).value,rC),c.stop()}}const iC=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(vo.test(t)||t==="0")&&!t.startsWith("url("));function vU(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function yU(t,e,n,r){const i=t[0];if(i===null)return!1;if(e==="display"||e==="visibility")return!0;const s=t[t.length-1],a=iC(i,e),c=iC(s,e);return!a||!c?!1:vU(t)||(n==="spring"||kR(n))&&r}function Y_(t){return QI(t)&&"offsetHeight"in t}const wU=new Set(["opacity","clipPath","filter","transform"]),_U=D_(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function xU(t){const{motionValue:e,name:n,repeatDelay:r,repeatType:i,damping:s,type:a}=t;if(!Y_(e?.owner?.current))return!1;const{onUpdate:c,transformTemplate:u}=e.owner.getProps();return _U()&&n&&wU.has(n)&&(n!=="transform"||!u)&&!c&&!r&&i!=="mirror"&&s!==0&&a!=="inertia"}const bU=40;class EU extends q_{constructor({autoplay:e=!0,delay:n=0,type:r="keyframes",repeat:i=0,repeatDelay:s=0,repeatType:a="loop",keyframes:c,name:u,motionValue:f,element:h,...g}){super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=Wn.now();const v={autoplay:e,delay:n,type:r,repeat:i,repeatDelay:s,repeatType:a,name:u,motionValue:f,element:h,...g},x=h?.KeyframeResolver||K_;this.keyframeResolver=new x(c,(_,T,N)=>this.onKeyframesResolved(_,T,v,!N),u,f,h),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(e,n,r,i){this.keyframeResolver=void 0;const{name:s,type:a,velocity:c,delay:u,isHandoff:f,onUpdate:h}=r;this.resolvedAt=Wn.now(),yU(e,s,a,c)||((ms.instantAnimations||!u)&&h?.(W_(e,r,n)),e[0]=e[e.length-1],r.duration=0,r.repeat=0);const v={startTime:i?this.resolvedAt?this.resolvedAt-this.createdAt>bU?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...r,keyframes:e},x=!f&&xU(v)?new gU({...v,element:v.motionValue.owner.current}):new G_(v);x.finished.then(()=>this.notifyFinished()).catch(Cr),this.pendingTimeline&&(this.stopTimeline=x.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=x}get finished(){return this._animation?this.animation.finished:this._finished}then(e,n){return this.finished.finally(e).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),sU()),this._animation}get duration(){return this.animation.duration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}}const SU=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function CU(t){const e=SU.exec(t);if(!e)return[,];const[,n,r,i]=e;return[`--${n??r}`,i]}function IR(t,e,n=1){const[r,i]=CU(t);if(!r)return;const s=window.getComputedStyle(e).getPropertyValue(r);if(s){const a=s.trim();return JI(a)?parseFloat(a):a}return V_(i)?IR(i,e,n+1):i}function X_(t,e){return t?.[e]??t?.default??t}const RR=new Set(["width","height","top","left","right","bottom",..._c]),TU={test:t=>t==="auto",parse:t=>t},AR=t=>e=>e.test(t),NR=[wc,Ne,Ti,Ys,vV,gV,TU],sC=t=>NR.find(AR(t));function kU(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||ZI(t):!0}const PU=new Set(["brightness","contrast","saturate","opacity"]);function IU(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[r]=n.match(U_)||[];if(!r)return t;const i=n.replace(r,"");let s=PU.has(e)?1:0;return r!==n&&(s*=100),e+"("+s+i+")"}const RU=/\b([a-z-]*)\(.*?\)/gu,O0={...vo,getAnimatableNone:t=>{const e=t.match(RU);return e?e.map(IU).join(" "):t}},oC={...wc,transform:Math.round},AU={rotate:Ys,rotateX:Ys,rotateY:Ys,rotateZ:Ys,scale:Dh,scaleX:Dh,scaleY:Dh,scaleZ:Dh,skew:Ys,skewX:Ys,skewY:Ys,distance:Ne,translateX:Ne,translateY:Ne,translateZ:Ne,x:Ne,y:Ne,z:Ne,perspective:Ne,transformPerspective:Ne,opacity:Cd,originX:GS,originY:GS,originZ:Ne},J_={borderWidth:Ne,borderTopWidth:Ne,borderRightWidth:Ne,borderBottomWidth:Ne,borderLeftWidth:Ne,borderRadius:Ne,radius:Ne,borderTopLeftRadius:Ne,borderTopRightRadius:Ne,borderBottomRightRadius:Ne,borderBottomLeftRadius:Ne,width:Ne,maxWidth:Ne,height:Ne,maxHeight:Ne,top:Ne,right:Ne,bottom:Ne,left:Ne,padding:Ne,paddingTop:Ne,paddingRight:Ne,paddingBottom:Ne,paddingLeft:Ne,margin:Ne,marginTop:Ne,marginRight:Ne,marginBottom:Ne,marginLeft:Ne,backgroundPositionX:Ne,backgroundPositionY:Ne,...AU,zIndex:oC,fillOpacity:Cd,strokeOpacity:Cd,numOctaves:oC},NU={...J_,color:mn,backgroundColor:mn,outlineColor:mn,fill:mn,stroke:mn,borderColor:mn,borderTopColor:mn,borderRightColor:mn,borderBottomColor:mn,borderLeftColor:mn,filter:O0,WebkitFilter:O0},OR=t=>NU[t];function MR(t,e){let n=OR(t);return n!==O0&&(n=vo),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const OU=new Set(["auto","none","0"]);function MU(t,e,n){let r=0,i;for(;r<t.length&&!i;){const s=t[r];typeof s=="string"&&!OU.has(s)&&Td(s).values.length&&(i=t[r]),r++}if(i&&n)for(const s of e)t[s]=MR(n,i)}class DU extends K_{constructor(e,n,r,i,s){super(e,n,r,i,s,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let u=0;u<e.length;u++){let f=e[u];if(typeof f=="string"&&(f=f.trim(),V_(f))){const h=IR(f,n.current);h!==void 0&&(e[u]=h),u===e.length-1&&(this.finalKeyframe=f)}}if(this.resolveNoneKeyframes(),!RR.has(r)||e.length!==2)return;const[i,s]=e,a=sC(i),c=sC(s);if(a!==c)if(tC(a)&&tC(c))for(let u=0;u<e.length;u++){const f=e[u];typeof f=="string"&&(e[u]=parseFloat(f))}else pa[r]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,r=[];for(let i=0;i<e.length;i++)(e[i]===null||kU(e[i]))&&r.push(i);r.length&&MU(e,r,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:r}=this;if(!e||!e.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=pa[r](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const i=n[n.length-1];i!==void 0&&e.getValue(r,i).jump(i,!1)}measureEndState(){const{element:e,name:n,unresolvedKeyframes:r}=this;if(!e||!e.current)return;const i=e.getValue(n);i&&i.jump(this.measuredOrigin,!1);const s=r.length-1,a=r[s];r[s]=pa[n](e.measureViewportBox(),window.getComputedStyle(e.current)),a!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=a),this.removedTransforms?.length&&this.removedTransforms.forEach(([c,u])=>{e.getValue(c).set(u)}),this.resolveNoneKeyframes()}}function LU(t,e,n){if(t instanceof EventTarget)return[t];if(typeof t=="string"){let r=document;const i=n?.[t]??r.querySelectorAll(t);return i?Array.from(i):[]}return Array.from(t)}const aC=30,jU=t=>!isNaN(parseFloat(t));class FU{constructor(e,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=(r,i=!0)=>{const s=Wn.now();if(this.updatedAt!==s&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(const a of this.dependents)a.dirty();i&&this.events.renderRequest?.notify(this.current)},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=Wn.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=jU(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new L_);const r=this.events[e].add(n);return e==="change"?()=>{r(),vt.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e,n=!0){!n||!this.passiveEffect?this.updateAndNotify(e,n):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-r}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=Wn.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>aC)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,aC);return eR(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function ic(t,e){return new FU(t,e)}const DR=(t,e)=>e&&typeof t=="number"?e.transform(t):t,{schedule:Q_}=dR(queueMicrotask,!1),qr={x:!1,y:!1};function LR(){return qr.x||qr.y}function $U(t){return t==="x"||t==="y"?qr[t]?null:(qr[t]=!0,()=>{qr[t]=!1}):qr.x||qr.y?null:(qr.x=qr.y=!0,()=>{qr.x=qr.y=!1})}function jR(t,e){const n=LU(t),r=new AbortController,i={passive:!0,...e,signal:r.signal};return[n,i,()=>r.abort()]}function lC(t){return!(t.pointerType==="touch"||LR())}function VU(t,e,n={}){const[r,i,s]=jR(t,n),a=c=>{if(!lC(c))return;const{target:u}=c,f=e(u,c);if(typeof f!="function"||!u)return;const h=g=>{lC(g)&&(f(g),u.removeEventListener("pointerleave",h))};u.addEventListener("pointerleave",h,i)};return r.forEach(c=>{c.addEventListener("pointerenter",a,i)}),s}const FR=(t,e)=>e?t===e?!0:FR(t,e.parentElement):!1,Z_=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,UU=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function BU(t){return UU.has(t.tagName)||t.tabIndex!==-1}const np=new WeakSet;function cC(t){return e=>{e.key==="Enter"&&t(e)}}function ly(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const zU=(t,e)=>{const n=t.currentTarget;if(!n)return;const r=cC(()=>{if(np.has(n))return;ly(n,"down");const i=cC(()=>{ly(n,"up")}),s=()=>ly(n,"cancel");n.addEventListener("keyup",i,e),n.addEventListener("blur",s,e)});n.addEventListener("keydown",r,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),e)};function uC(t){return Z_(t)&&!LR()}function HU(t,e,n={}){const[r,i,s]=jR(t,n),a=c=>{const u=c.currentTarget;if(!uC(c))return;np.add(u);const f=e(u,c),h=(x,_)=>{window.removeEventListener("pointerup",g),window.removeEventListener("pointercancel",v),np.has(u)&&np.delete(u),uC(x)&&typeof f=="function"&&f(x,{success:_})},g=x=>{h(x,u===window||u===document||n.useGlobalTarget||FR(u,x.target))},v=x=>{h(x,!1)};window.addEventListener("pointerup",g,i),window.addEventListener("pointercancel",v,i)};return r.forEach(c=>{(n.useGlobalTarget?window:c).addEventListener("pointerdown",a,i),Y_(c)&&(c.addEventListener("focus",f=>zU(f,i)),!BU(c)&&!c.hasAttribute("tabindex")&&(c.tabIndex=0))}),s}function $R(t){return QI(t)&&"ownerSVGElement"in t}function WU(t){return $R(t)&&t.tagName==="svg"}const vn=t=>!!(t&&t.getVelocity),qU=[...NR,mn,vo],GU=t=>qU.find(AR(t)),ex=C.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});class KU extends C.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const r=n.offsetParent,i=Y_(r)&&r.offsetWidth||0,s=this.props.sizeRef.current;s.height=n.offsetHeight||0,s.width=n.offsetWidth||0,s.top=n.offsetTop,s.left=n.offsetLeft,s.right=i-s.width-s.left}return null}componentDidUpdate(){}render(){return this.props.children}}function YU({children:t,isPresent:e,anchorX:n}){const r=C.useId(),i=C.useRef(null),s=C.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:a}=C.useContext(ex);return C.useInsertionEffect(()=>{const{width:c,height:u,top:f,left:h,right:g}=s.current;if(e||!i.current||!c||!u)return;const v=n==="left"?`left: ${h}`:`right: ${g}`;i.current.dataset.motionPopId=r;const x=document.createElement("style");return a&&(x.nonce=a),document.head.appendChild(x),x.sheet&&x.sheet.insertRule(`
          [data-motion-pop-id="${r}"] {
            position: absolute !important;
            width: ${c}px !important;
            height: ${u}px !important;
            ${v}px !important;
            top: ${f}px !important;
          }
        `),()=>{document.head.contains(x)&&document.head.removeChild(x)}},[e]),w.jsx(KU,{isPresent:e,childRef:i,sizeRef:s,children:C.cloneElement(t,{ref:i})})}const XU=({children:t,initial:e,isPresent:n,onExitComplete:r,custom:i,presenceAffectsLayout:s,mode:a,anchorX:c})=>{const u=R_(JU),f=C.useId();let h=!0,g=C.useMemo(()=>(h=!1,{id:f,initial:e,isPresent:n,custom:i,onExitComplete:v=>{u.set(v,!0);for(const x of u.values())if(!x)return;r&&r()},register:v=>(u.set(v,!1),()=>u.delete(v))}),[n,u,r]);return s&&h&&(g={...g}),C.useMemo(()=>{u.forEach((v,x)=>u.set(x,!1))},[n]),C.useEffect(()=>{!n&&!u.size&&r&&r()},[n]),a==="popLayout"&&(t=w.jsx(YU,{isPresent:n,anchorX:c,children:t})),w.jsx(Pm.Provider,{value:g,children:t})};function JU(){return new Map}function VR(t=!0){const e=C.useContext(Pm);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:r,register:i}=e,s=C.useId();C.useEffect(()=>{if(t)return i(s)},[t]);const a=C.useCallback(()=>t&&r&&r(s),[s,r,t]);return!n&&r?[!1,a]:[!0]}const Lh=t=>t.key||"";function dC(t){const e=[];return C.Children.forEach(t,n=>{C.isValidElement(n)&&e.push(n)}),e}const QU=({children:t,custom:e,initial:n=!0,onExitComplete:r,presenceAffectsLayout:i=!0,mode:s="sync",propagate:a=!1,anchorX:c="left"})=>{const[u,f]=VR(a),h=C.useMemo(()=>dC(t),[t]),g=a&&!u?[]:h.map(Lh),v=C.useRef(!0),x=C.useRef(h),_=R_(()=>new Map),[T,N]=C.useState(h),[A,k]=C.useState(h);XI(()=>{v.current=!1,x.current=h;for(let $=0;$<A.length;$++){const z=Lh(A[$]);g.includes(z)?_.delete(z):_.get(z)!==!0&&_.set(z,!1)}},[A,g.length,g.join("-")]);const P=[];if(h!==T){let $=[...h];for(let z=0;z<A.length;z++){const D=A[z],I=Lh(D);g.includes(I)||($.splice(z,0,D),P.push(D))}return s==="wait"&&P.length&&($=P),k(dC($)),N(h),null}const{forceRender:j}=C.useContext(I_);return w.jsx(w.Fragment,{children:A.map($=>{const z=Lh($),D=a&&!u?!1:h===A||g.includes(z),I=()=>{if(_.has(z))_.set(z,!0);else return;let O=!0;_.forEach(b=>{b||(O=!1)}),O&&(j?.(),k(x.current),a&&f?.(),r&&r())};return w.jsx(XU,{isPresent:D,initial:!v.current||n?void 0:!1,custom:e,presenceAffectsLayout:i,mode:s,onExitComplete:D?void 0:I,anchorX:c,children:$},z)})})},UR=C.createContext({strict:!1}),fC={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},sc={};for(const t in fC)sc[t]={isEnabled:e=>fC[t].some(n=>!!e[n])};function ZU(t){for(const e in t)sc[e]={...sc[e],...t[e]}}const eB=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Bp(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||eB.has(t)}let BR=t=>!Bp(t);function tB(t){t&&(BR=e=>e.startsWith("on")?!Bp(e):t(e))}try{tB(require("@emotion/is-prop-valid").default)}catch{}function nB(t,e,n){const r={};for(const i in t)i==="values"&&typeof t.values=="object"||(BR(i)||n===!0&&Bp(i)||!e&&!Bp(i)||t.draggable&&i.startsWith("onDrag"))&&(r[i]=t[i]);return r}function rB(t){if(typeof Proxy>"u")return t;const e=new Map,n=(...r)=>t(...r);return new Proxy(n,{get:(r,i)=>i==="create"?t:(e.has(i)||e.set(i,t(i)),e.get(i))})}const Im=C.createContext({});function Rm(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function kd(t){return typeof t=="string"||Array.isArray(t)}const tx=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],nx=["initial",...tx];function Am(t){return Rm(t.animate)||nx.some(e=>kd(t[e]))}function zR(t){return!!(Am(t)||t.variants)}function iB(t,e){if(Am(t)){const{initial:n,animate:r}=t;return{initial:n===!1||kd(n)?n:void 0,animate:kd(r)?r:void 0}}return t.inherit!==!1?e:{}}function sB(t){const{initial:e,animate:n}=iB(t,C.useContext(Im));return C.useMemo(()=>({initial:e,animate:n}),[hC(e),hC(n)])}function hC(t){return Array.isArray(t)?t.join(" "):t}const oB=Symbol.for("motionComponentSymbol");function $l(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function aB(t,e,n){return C.useCallback(r=>{r&&t.onMount&&t.onMount(r),e&&(r?e.mount(r):e.unmount()),n&&(typeof n=="function"?n(r):$l(n)&&(n.current=r))},[e])}const rx=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),lB="framerAppearId",HR="data-"+rx(lB),WR=C.createContext({});function cB(t,e,n,r,i){const{visualElement:s}=C.useContext(Im),a=C.useContext(UR),c=C.useContext(Pm),u=C.useContext(ex).reducedMotion,f=C.useRef(null);r=r||a.renderer,!f.current&&r&&(f.current=r(t,{visualState:e,parent:s,props:n,presenceContext:c,blockInitialAnimation:c?c.initial===!1:!1,reducedMotionConfig:u}));const h=f.current,g=C.useContext(WR);h&&!h.projection&&i&&(h.type==="html"||h.type==="svg")&&uB(f.current,n,i,g);const v=C.useRef(!1);C.useInsertionEffect(()=>{h&&v.current&&h.update(n,c)});const x=n[HR],_=C.useRef(!!x&&!window.MotionHandoffIsComplete?.(x)&&window.MotionHasOptimisedAnimation?.(x));return XI(()=>{h&&(v.current=!0,window.MotionIsMounted=!0,h.updateFeatures(),Q_.render(h.render),_.current&&h.animationState&&h.animationState.animateChanges())}),C.useEffect(()=>{h&&(!_.current&&h.animationState&&h.animationState.animateChanges(),_.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(x)}),_.current=!1))}),h}function uB(t,e,n,r){const{layoutId:i,layout:s,drag:a,dragConstraints:c,layoutScroll:u,layoutRoot:f,layoutCrossfade:h}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:qR(t.parent)),t.projection.setOptions({layoutId:i,layout:s,alwaysMeasureLayout:!!a||c&&$l(c),visualElement:t,animationType:typeof s=="string"?s:"both",initialPromotionConfig:r,crossfade:h,layoutScroll:u,layoutRoot:f})}function qR(t){if(t)return t.options.allowProjection!==!1?t.projection:qR(t.parent)}function dB({preloadedFeatures:t,createVisualElement:e,useRender:n,useVisualState:r,Component:i}){t&&ZU(t);function s(c,u){let f;const h={...C.useContext(ex),...c,layoutId:fB(c)},{isStatic:g}=h,v=sB(c),x=r(c,g);if(!g&&A_){hB();const _=pB(h);f=_.MeasureLayout,v.visualElement=cB(i,x,h,e,_.ProjectionNode)}return w.jsxs(Im.Provider,{value:v,children:[f&&v.visualElement?w.jsx(f,{visualElement:v.visualElement,...h}):null,n(i,c,aB(x,v.visualElement,u),x,g,v.visualElement)]})}s.displayName=`motion.${typeof i=="string"?i:`create(${i.displayName??i.name??""})`}`;const a=C.forwardRef(s);return a[oB]=i,a}function fB({layoutId:t}){const e=C.useContext(I_).id;return e&&t!==void 0?e+"-"+t:t}function hB(t,e){C.useContext(UR).strict}function pB(t){const{drag:e,layout:n}=sc;if(!e&&!n)return{};const r={...e,...n};return{MeasureLayout:e?.isEnabled(t)||n?.isEnabled(t)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}const Pd={};function mB(t){for(const e in t)Pd[e]=t[e],$_(e)&&(Pd[e].isCSSVariable=!0)}function GR(t,{layout:e,layoutId:n}){return xc.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!Pd[t]||t==="opacity")}const gB={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},vB=_c.length;function yB(t,e,n){let r="",i=!0;for(let s=0;s<vB;s++){const a=_c[s],c=t[a];if(c===void 0)continue;let u=!0;if(typeof c=="number"?u=c===(a.startsWith("scale")?1:0):u=parseFloat(c)===0,!u||n){const f=DR(c,J_[a]);if(!u){i=!1;const h=gB[a]||a;r+=`${h}(${f}) `}n&&(e[a]=f)}}return r=r.trim(),n?r=n(e,i?"":r):i&&(r="none"),r}function ix(t,e,n){const{style:r,vars:i,transformOrigin:s}=t;let a=!1,c=!1;for(const u in e){const f=e[u];if(xc.has(u)){a=!0;continue}else if($_(u)){i[u]=f;continue}else{const h=DR(f,J_[u]);u.startsWith("origin")?(c=!0,s[u]=h):r[u]=h}}if(e.transform||(a||n?r.transform=yB(e,t.transform,n):r.transform&&(r.transform="none")),c){const{originX:u="50%",originY:f="50%",originZ:h=0}=s;r.transformOrigin=`${u} ${f} ${h}`}}const sx=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function KR(t,e,n){for(const r in e)!vn(e[r])&&!GR(r,n)&&(t[r]=e[r])}function wB({transformTemplate:t},e){return C.useMemo(()=>{const n=sx();return ix(n,e,t),Object.assign({},n.vars,n.style)},[e])}function _B(t,e){const n=t.style||{},r={};return KR(r,n,t),Object.assign(r,wB(t,e)),r}function xB(t,e){const n={},r=_B(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=r,n}const bB={offset:"stroke-dashoffset",array:"stroke-dasharray"},EB={offset:"strokeDashoffset",array:"strokeDasharray"};function SB(t,e,n=1,r=0,i=!0){t.pathLength=1;const s=i?bB:EB;t[s.offset]=Ne.transform(-r);const a=Ne.transform(e),c=Ne.transform(n);t[s.array]=`${a} ${c}`}function YR(t,{attrX:e,attrY:n,attrScale:r,pathLength:i,pathSpacing:s=1,pathOffset:a=0,...c},u,f,h){if(ix(t,c,f),u){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:g,style:v}=t;g.transform&&(v.transform=g.transform,delete g.transform),(v.transform||g.transformOrigin)&&(v.transformOrigin=g.transformOrigin??"50% 50%",delete g.transformOrigin),v.transform&&(v.transformBox=h?.transformBox??"fill-box",delete g.transformBox),e!==void 0&&(g.x=e),n!==void 0&&(g.y=n),r!==void 0&&(g.scale=r),i!==void 0&&SB(g,i,s,a,!1)}const XR=()=>({...sx(),attrs:{}}),JR=t=>typeof t=="string"&&t.toLowerCase()==="svg";function CB(t,e,n,r){const i=C.useMemo(()=>{const s=XR();return YR(s,e,JR(r),t.transformTemplate,t.style),{...s.attrs,style:{...s.style}}},[e]);if(t.style){const s={};KR(s,t.style,t),i.style={...s,...i.style}}return i}const TB=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function ox(t){return typeof t!="string"||t.includes("-")?!1:!!(TB.indexOf(t)>-1||/[A-Z]/u.test(t))}function kB(t=!1){return(n,r,i,{latestValues:s},a)=>{const u=(ox(n)?CB:xB)(r,s,a,n),f=nB(r,typeof n=="string",t),h=n!==C.Fragment?{...f,...u,ref:i}:{},{children:g}=r,v=C.useMemo(()=>vn(g)?g.get():g,[g]);return C.createElement(n,{...h,children:v})}}function pC(t){const e=[{},{}];return t?.values.forEach((n,r)=>{e[0][r]=n.get(),e[1][r]=n.getVelocity()}),e}function ax(t,e,n,r){if(typeof e=="function"){const[i,s]=pC(r);e=e(n!==void 0?n:t.custom,i,s)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[i,s]=pC(r);e=e(n!==void 0?n:t.custom,i,s)}return e}function rp(t){return vn(t)?t.get():t}function PB({scrapeMotionValuesFromProps:t,createRenderState:e},n,r,i){return{latestValues:IB(n,r,i,t),renderState:e()}}const QR=t=>(e,n)=>{const r=C.useContext(Im),i=C.useContext(Pm),s=()=>PB(t,e,r,i);return n?s():R_(s)};function IB(t,e,n,r){const i={},s=r(t,{});for(const v in s)i[v]=rp(s[v]);let{initial:a,animate:c}=t;const u=Am(t),f=zR(t);e&&f&&!u&&t.inherit!==!1&&(a===void 0&&(a=e.initial),c===void 0&&(c=e.animate));let h=n?n.initial===!1:!1;h=h||a===!1;const g=h?c:a;if(g&&typeof g!="boolean"&&!Rm(g)){const v=Array.isArray(g)?g:[g];for(let x=0;x<v.length;x++){const _=ax(t,v[x]);if(_){const{transitionEnd:T,transition:N,...A}=_;for(const k in A){let P=A[k];if(Array.isArray(P)){const j=h?P.length-1:0;P=P[j]}P!==null&&(i[k]=P)}for(const k in T)i[k]=T[k]}}}return i}function lx(t,e,n){const{style:r}=t,i={};for(const s in r)(vn(r[s])||e.style&&vn(e.style[s])||GR(s,t)||n?.getValue(s)?.liveStyle!==void 0)&&(i[s]=r[s]);return i}const RB={useVisualState:QR({scrapeMotionValuesFromProps:lx,createRenderState:sx})};function ZR(t,e,n){const r=lx(t,e,n);for(const i in t)if(vn(t[i])||vn(e[i])){const s=_c.indexOf(i)!==-1?"attr"+i.charAt(0).toUpperCase()+i.substring(1):i;r[s]=t[i]}return r}const AB={useVisualState:QR({scrapeMotionValuesFromProps:ZR,createRenderState:XR})};function NB(t,e){return function(r,{forwardMotionProps:i}={forwardMotionProps:!1}){const a={...ox(r)?AB:RB,preloadedFeatures:t,useRender:kB(i),createVisualElement:e,Component:r};return dB(a)}}function Id(t,e,n){const r=t.getProps();return ax(r,e,n!==void 0?n:r.custom,t)}const M0=t=>Array.isArray(t);function OB(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,ic(n))}function MB(t){return M0(t)?t[t.length-1]||0:t}function DB(t,e){const n=Id(t,e);let{transitionEnd:r={},transition:i={},...s}=n||{};s={...s,...r};for(const a in s){const c=MB(s[a]);OB(t,a,c)}}function LB(t){return!!(vn(t)&&t.add)}function D0(t,e){const n=t.getValue("willChange");if(LB(n))return n.add(e);if(!n&&ms.WillChange){const r=new ms.WillChange("auto");t.addValue("willChange",r),r.add(e)}}function eA(t){return t.props[HR]}const jB=t=>t!==null;function FB(t,{repeat:e,repeatType:n="loop"},r){const i=t.filter(jB),s=e&&n!=="loop"&&e%2===1?0:i.length-1;return i[s]}const $B={type:"spring",stiffness:500,damping:25,restSpeed:10},VB=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),UB={type:"keyframes",duration:.8},BB={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},zB=(t,{keyframes:e})=>e.length>2?UB:xc.has(t)?t.startsWith("scale")?VB(e[1]):$B:BB;function HB({when:t,delay:e,delayChildren:n,staggerChildren:r,staggerDirection:i,repeat:s,repeatType:a,repeatDelay:c,from:u,elapsed:f,...h}){return!!Object.keys(h).length}const cx=(t,e,n,r={},i,s)=>a=>{const c=X_(r,t)||{},u=c.delay||r.delay||0;let{elapsed:f=0}=r;f=f-Si(u);const h={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...c,delay:-f,onUpdate:v=>{e.set(v),c.onUpdate&&c.onUpdate(v)},onComplete:()=>{a(),c.onComplete&&c.onComplete()},name:t,motionValue:e,element:s?void 0:i};HB(c)||Object.assign(h,zB(t,h)),h.duration&&(h.duration=Si(h.duration)),h.repeatDelay&&(h.repeatDelay=Si(h.repeatDelay)),h.from!==void 0&&(h.keyframes[0]=h.from);let g=!1;if((h.type===!1||h.duration===0&&!h.repeatDelay)&&(h.duration=0,h.delay===0&&(g=!0)),(ms.instantAnimations||ms.skipAnimations)&&(g=!0,h.duration=0,h.delay=0),h.allowFlatten=!c.type&&!c.ease,g&&!s&&e.get()!==void 0){const v=FB(h.keyframes,c);if(v!==void 0){vt.update(()=>{h.onUpdate(v),h.onComplete()});return}}return c.isSync?new G_(h):new EU(h)};function WB({protectedKeys:t,needsAnimating:e},n){const r=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,r}function tA(t,e,{delay:n=0,transitionOverride:r,type:i}={}){let{transition:s=t.getDefaultTransition(),transitionEnd:a,...c}=e;r&&(s=r);const u=[],f=i&&t.animationState&&t.animationState.getState()[i];for(const h in c){const g=t.getValue(h,t.latestValues[h]??null),v=c[h];if(v===void 0||f&&WB(f,h))continue;const x={delay:n,...X_(s||{},h)},_=g.get();if(_!==void 0&&!g.isAnimating&&!Array.isArray(v)&&v===_&&!x.velocity)continue;let T=!1;if(window.MotionHandoffAnimation){const A=eA(t);if(A){const k=window.MotionHandoffAnimation(A,h,vt);k!==null&&(x.startTime=k,T=!0)}}D0(t,h),g.start(cx(h,g,v,t.shouldReduceMotion&&RR.has(h)?{type:!1}:x,t,T));const N=g.animation;N&&u.push(N)}return a&&Promise.all(u).then(()=>{vt.update(()=>{a&&DB(t,a)})}),u}function L0(t,e,n={}){const r=Id(t,e,n.type==="exit"?t.presenceContext?.custom:void 0);let{transition:i=t.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(i=n.transitionOverride);const s=r?()=>Promise.all(tA(t,r,n)):()=>Promise.resolve(),a=t.variantChildren&&t.variantChildren.size?(u=0)=>{const{delayChildren:f=0,staggerChildren:h,staggerDirection:g}=i;return qB(t,e,f+u,h,g,n)}:()=>Promise.resolve(),{when:c}=i;if(c){const[u,f]=c==="beforeChildren"?[s,a]:[a,s];return u().then(()=>f())}else return Promise.all([s(),a(n.delay)])}function qB(t,e,n=0,r=0,i=1,s){const a=[],c=(t.variantChildren.size-1)*r,u=i===1?(f=0)=>f*r:(f=0)=>c-f*r;return Array.from(t.variantChildren).sort(GB).forEach((f,h)=>{f.notify("AnimationStart",e),a.push(L0(f,e,{...s,delay:n+u(h)}).then(()=>f.notify("AnimationComplete",e)))}),Promise.all(a)}function GB(t,e){return t.sortNodePosition(e)}function KB(t,e,n={}){t.notify("AnimationStart",e);let r;if(Array.isArray(e)){const i=e.map(s=>L0(t,s,n));r=Promise.all(i)}else if(typeof e=="string")r=L0(t,e,n);else{const i=typeof e=="function"?Id(t,e,n.custom):e;r=Promise.all(tA(t,i,n))}return r.then(()=>{t.notify("AnimationComplete",e)})}function nA(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}const YB=nx.length;function rA(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?rA(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<YB;n++){const r=nx[n],i=t.props[r];(kd(i)||i===!1)&&(e[r]=i)}return e}const XB=[...tx].reverse(),JB=tx.length;function QB(t){return e=>Promise.all(e.map(({animation:n,options:r})=>KB(t,n,r)))}function ZB(t){let e=QB(t),n=mC(),r=!0;const i=u=>(f,h)=>{const g=Id(t,h,u==="exit"?t.presenceContext?.custom:void 0);if(g){const{transition:v,transitionEnd:x,..._}=g;f={...f,..._,...x}}return f};function s(u){e=u(t)}function a(u){const{props:f}=t,h=rA(t.parent)||{},g=[],v=new Set;let x={},_=1/0;for(let N=0;N<JB;N++){const A=XB[N],k=n[A],P=f[A]!==void 0?f[A]:h[A],j=kd(P),$=A===u?k.isActive:null;$===!1&&(_=N);let z=P===h[A]&&P!==f[A]&&j;if(z&&r&&t.manuallyAnimateOnMount&&(z=!1),k.protectedKeys={...x},!k.isActive&&$===null||!P&&!k.prevProp||Rm(P)||typeof P=="boolean")continue;const D=ez(k.prevProp,P);let I=D||A===u&&k.isActive&&!z&&j||N>_&&j,O=!1;const b=Array.isArray(P)?P:[P];let M=b.reduce(i(A),{});$===!1&&(M={});const{prevResolvedValues:V={}}=k,F={...V,...M},Z=ue=>{I=!0,v.has(ue)&&(O=!0,v.delete(ue)),k.needsAnimating[ue]=!0;const ne=t.getValue(ue);ne&&(ne.liveStyle=!1)};for(const ue in F){const ne=M[ue],oe=V[ue];if(x.hasOwnProperty(ue))continue;let le=!1;M0(ne)&&M0(oe)?le=!nA(ne,oe):le=ne!==oe,le?ne!=null?Z(ue):v.add(ue):ne!==void 0&&v.has(ue)?Z(ue):k.protectedKeys[ue]=!0}k.prevProp=P,k.prevResolvedValues=M,k.isActive&&(x={...x,...M}),r&&t.blockInitialAnimation&&(I=!1),I&&(!(z&&D)||O)&&g.push(...b.map(ue=>({animation:ue,options:{type:A}})))}if(v.size){const N={};if(typeof f.initial!="boolean"){const A=Id(t,Array.isArray(f.initial)?f.initial[0]:f.initial);A&&A.transition&&(N.transition=A.transition)}v.forEach(A=>{const k=t.getBaseTarget(A),P=t.getValue(A);P&&(P.liveStyle=!0),N[A]=k??null}),g.push({animation:N})}let T=!!g.length;return r&&(f.initial===!1||f.initial===f.animate)&&!t.manuallyAnimateOnMount&&(T=!1),r=!1,T?e(g):Promise.resolve()}function c(u,f){if(n[u].isActive===f)return Promise.resolve();t.variantChildren?.forEach(g=>g.animationState?.setActive(u,f)),n[u].isActive=f;const h=a(u);for(const g in n)n[g].protectedKeys={};return h}return{animateChanges:a,setActive:c,setAnimateFunction:s,getState:()=>n,reset:()=>{n=mC(),r=!0}}}function ez(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!nA(e,t):!1}function Jo(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function mC(){return{animate:Jo(!0),whileInView:Jo(),whileHover:Jo(),whileTap:Jo(),whileDrag:Jo(),whileFocus:Jo(),exit:Jo()}}class So{constructor(e){this.isMounted=!1,this.node=e}update(){}}class tz extends So{constructor(e){super(e),e.animationState||(e.animationState=ZB(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();Rm(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}let nz=0;class rz extends So{constructor(){super(...arguments),this.id=nz++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const i=this.node.animationState.setActive("exit",!e);n&&!e&&i.then(()=>{n(this.id)})}mount(){const{register:e,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const iz={animation:{Feature:tz},exit:{Feature:rz}};function Rd(t,e,n,r={passive:!0}){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n)}function nf(t){return{point:{x:t.pageX,y:t.pageY}}}const sz=t=>e=>Z_(e)&&t(e,nf(e));function Ju(t,e,n,r){return Rd(t,e,sz(n),r)}function iA({top:t,left:e,right:n,bottom:r}){return{x:{min:e,max:n},y:{min:t,max:r}}}function oz({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function az(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),r=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}const sA=1e-4,lz=1-sA,cz=1+sA,oA=.01,uz=0-oA,dz=0+oA;function Pn(t){return t.max-t.min}function fz(t,e,n){return Math.abs(t-e)<=n}function gC(t,e,n,r=.5){t.origin=r,t.originPoint=gt(e.min,e.max,t.origin),t.scale=Pn(n)/Pn(e),t.translate=gt(n.min,n.max,t.origin)-t.originPoint,(t.scale>=lz&&t.scale<=cz||isNaN(t.scale))&&(t.scale=1),(t.translate>=uz&&t.translate<=dz||isNaN(t.translate))&&(t.translate=0)}function Qu(t,e,n,r){gC(t.x,e.x,n.x,r?r.originX:void 0),gC(t.y,e.y,n.y,r?r.originY:void 0)}function vC(t,e,n){t.min=n.min+e.min,t.max=t.min+Pn(e)}function hz(t,e,n){vC(t.x,e.x,n.x),vC(t.y,e.y,n.y)}function yC(t,e,n){t.min=e.min-n.min,t.max=t.min+Pn(e)}function Zu(t,e,n){yC(t.x,e.x,n.x),yC(t.y,e.y,n.y)}const wC=()=>({translate:0,scale:1,origin:0,originPoint:0}),Vl=()=>({x:wC(),y:wC()}),_C=()=>({min:0,max:0}),Rt=()=>({x:_C(),y:_C()});function xr(t){return[t("x"),t("y")]}function cy(t){return t===void 0||t===1}function j0({scale:t,scaleX:e,scaleY:n}){return!cy(t)||!cy(e)||!cy(n)}function ta(t){return j0(t)||aA(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function aA(t){return xC(t.x)||xC(t.y)}function xC(t){return t&&t!=="0%"}function zp(t,e,n){const r=t-n,i=e*r;return n+i}function bC(t,e,n,r,i){return i!==void 0&&(t=zp(t,i,r)),zp(t,n,r)+e}function F0(t,e=0,n=1,r,i){t.min=bC(t.min,e,n,r,i),t.max=bC(t.max,e,n,r,i)}function lA(t,{x:e,y:n}){F0(t.x,e.translate,e.scale,e.originPoint),F0(t.y,n.translate,n.scale,n.originPoint)}const EC=.999999999999,SC=1.0000000000001;function pz(t,e,n,r=!1){const i=n.length;if(!i)return;e.x=e.y=1;let s,a;for(let c=0;c<i;c++){s=n[c],a=s.projectionDelta;const{visualElement:u}=s.options;u&&u.props.style&&u.props.style.display==="contents"||(r&&s.options.layoutScroll&&s.scroll&&s!==s.root&&Bl(t,{x:-s.scroll.offset.x,y:-s.scroll.offset.y}),a&&(e.x*=a.x.scale,e.y*=a.y.scale,lA(t,a)),r&&ta(s.latestValues)&&Bl(t,s.latestValues))}e.x<SC&&e.x>EC&&(e.x=1),e.y<SC&&e.y>EC&&(e.y=1)}function Ul(t,e){t.min=t.min+e,t.max=t.max+e}function CC(t,e,n,r,i=.5){const s=gt(t.min,t.max,i);F0(t,e,n,s,r)}function Bl(t,e){CC(t.x,e.x,e.scaleX,e.scale,e.originX),CC(t.y,e.y,e.scaleY,e.scale,e.originY)}function cA(t,e){return iA(az(t.getBoundingClientRect(),e))}function mz(t,e,n){const r=cA(t,n),{scroll:i}=e;return i&&(Ul(r.x,i.offset.x),Ul(r.y,i.offset.y)),r}const uA=({current:t})=>t?t.ownerDocument.defaultView:null,TC=(t,e)=>Math.abs(t-e);function gz(t,e){const n=TC(t.x,e.x),r=TC(t.y,e.y);return Math.sqrt(n**2+r**2)}class dA{constructor(e,n,{transformPagePoint:r,contextWindow:i,dragSnapToOrigin:s=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const g=dy(this.lastMoveEventInfo,this.history),v=this.startEvent!==null,x=gz(g.offset,{x:0,y:0})>=3;if(!v&&!x)return;const{point:_}=g,{timestamp:T}=sn;this.history.push({..._,timestamp:T});const{onStart:N,onMove:A}=this.handlers;v||(N&&N(this.lastMoveEvent,g),this.startEvent=this.lastMoveEvent),A&&A(this.lastMoveEvent,g)},this.handlePointerMove=(g,v)=>{this.lastMoveEvent=g,this.lastMoveEventInfo=uy(v,this.transformPagePoint),vt.update(this.updatePoint,!0)},this.handlePointerUp=(g,v)=>{this.end();const{onEnd:x,onSessionEnd:_,resumeAnimation:T}=this.handlers;if(this.dragSnapToOrigin&&T&&T(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const N=dy(g.type==="pointercancel"?this.lastMoveEventInfo:uy(v,this.transformPagePoint),this.history);this.startEvent&&x&&x(g,N),_&&_(g,N)},!Z_(e))return;this.dragSnapToOrigin=s,this.handlers=n,this.transformPagePoint=r,this.contextWindow=i||window;const a=nf(e),c=uy(a,this.transformPagePoint),{point:u}=c,{timestamp:f}=sn;this.history=[{...u,timestamp:f}];const{onSessionStart:h}=n;h&&h(e,dy(c,this.history)),this.removeListeners=Zd(Ju(this.contextWindow,"pointermove",this.handlePointerMove),Ju(this.contextWindow,"pointerup",this.handlePointerUp),Ju(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),go(this.updatePoint)}}function uy(t,e){return e?{point:e(t.point)}:t}function kC(t,e){return{x:t.x-e.x,y:t.y-e.y}}function dy({point:t},e){return{point:t,delta:kC(t,fA(e)),offset:kC(t,vz(e)),velocity:yz(e,.1)}}function vz(t){return t[0]}function fA(t){return t[t.length-1]}function yz(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,r=null;const i=fA(t);for(;n>=0&&(r=t[n],!(i.timestamp-r.timestamp>Si(e)));)n--;if(!r)return{x:0,y:0};const s=Ci(i.timestamp-r.timestamp);if(s===0)return{x:0,y:0};const a={x:(i.x-r.x)/s,y:(i.y-r.y)/s};return a.x===1/0&&(a.x=0),a.y===1/0&&(a.y=0),a}function wz(t,{min:e,max:n},r){return e!==void 0&&t<e?t=r?gt(e,t,r.min):Math.max(t,e):n!==void 0&&t>n&&(t=r?gt(n,t,r.max):Math.min(t,n)),t}function PC(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function _z(t,{top:e,left:n,bottom:r,right:i}){return{x:PC(t.x,n,i),y:PC(t.y,e,r)}}function IC(t,e){let n=e.min-t.min,r=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,r]=[r,n]),{min:n,max:r}}function xz(t,e){return{x:IC(t.x,e.x),y:IC(t.y,e.y)}}function bz(t,e){let n=.5;const r=Pn(t),i=Pn(e);return i>r?n=Sd(e.min,e.max-r,t.min):r>i&&(n=Sd(t.min,t.max-i,e.min)),ps(0,1,n)}function Ez(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const $0=.35;function Sz(t=$0){return t===!1?t=0:t===!0&&(t=$0),{x:RC(t,"left","right"),y:RC(t,"top","bottom")}}function RC(t,e,n){return{min:AC(t,e),max:AC(t,n)}}function AC(t,e){return typeof t=="number"?t:t[e]||0}const Cz=new WeakMap;class Tz{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Rt(),this.visualElement=e}start(e,{snapToCursor:n=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const i=h=>{const{dragSnapToOrigin:g}=this.getProps();g?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(nf(h).point)},s=(h,g)=>{const{drag:v,dragPropagation:x,onDragStart:_}=this.getProps();if(v&&!x&&(this.openDragLock&&this.openDragLock(),this.openDragLock=$U(v),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),xr(N=>{let A=this.getAxisMotionValue(N).get()||0;if(Ti.test(A)){const{projection:k}=this.visualElement;if(k&&k.layout){const P=k.layout.layoutBox[N];P&&(A=Pn(P)*(parseFloat(A)/100))}}this.originPoint[N]=A}),_&&vt.postRender(()=>_(h,g)),D0(this.visualElement,"transform");const{animationState:T}=this.visualElement;T&&T.setActive("whileDrag",!0)},a=(h,g)=>{const{dragPropagation:v,dragDirectionLock:x,onDirectionLock:_,onDrag:T}=this.getProps();if(!v&&!this.openDragLock)return;const{offset:N}=g;if(x&&this.currentDirection===null){this.currentDirection=kz(N),this.currentDirection!==null&&_&&_(this.currentDirection);return}this.updateAxis("x",g.point,N),this.updateAxis("y",g.point,N),this.visualElement.render(),T&&T(h,g)},c=(h,g)=>this.stop(h,g),u=()=>xr(h=>this.getAnimationState(h)==="paused"&&this.getAxisMotionValue(h).animation?.play()),{dragSnapToOrigin:f}=this.getProps();this.panSession=new dA(e,{onSessionStart:i,onStart:s,onMove:a,onSessionEnd:c,resumeAnimation:u},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:f,contextWindow:uA(this.visualElement)})}stop(e,n){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:i}=n;this.startAnimation(i);const{onDragEnd:s}=this.getProps();s&&vt.postRender(()=>s(e,n))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,r){const{drag:i}=this.getProps();if(!r||!jh(e,i,this.currentDirection))return;const s=this.getAxisMotionValue(e);let a=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(a=wz(a,this.constraints[e],this.elastic[e])),s.set(a)}resolveConstraints(){const{dragConstraints:e,dragElastic:n}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,i=this.constraints;e&&$l(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&r?this.constraints=_z(r.layoutBox,e):this.constraints=!1,this.elastic=Sz(n),i!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&xr(s=>{this.constraints!==!1&&this.getAxisMotionValue(s)&&(this.constraints[s]=Ez(r.layoutBox[s],this.constraints[s]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!$l(e))return!1;const r=e.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const s=mz(r,i.root,this.visualElement.getTransformPagePoint());let a=xz(i.layout.layoutBox,s);if(n){const c=n(oz(a));this.hasMutatedConstraints=!!c,c&&(a=iA(c))}return a}startAnimation(e){const{drag:n,dragMomentum:r,dragElastic:i,dragTransition:s,dragSnapToOrigin:a,onDragTransitionEnd:c}=this.getProps(),u=this.constraints||{},f=xr(h=>{if(!jh(h,n,this.currentDirection))return;let g=u&&u[h]||{};a&&(g={min:0,max:0});const v=i?200:1e6,x=i?40:1e7,_={type:"inertia",velocity:r?e[h]:0,bounceStiffness:v,bounceDamping:x,timeConstant:750,restDelta:1,restSpeed:10,...s,...g};return this.startAxisValueAnimation(h,_)});return Promise.all(f).then(c)}startAxisValueAnimation(e,n){const r=this.getAxisMotionValue(e);return D0(this.visualElement,e),r.start(cx(e,r,0,n,this.visualElement,!1))}stopAnimation(){xr(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){xr(e=>this.getAxisMotionValue(e).animation?.pause())}getAnimationState(e){return this.getAxisMotionValue(e).animation?.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,r=this.visualElement.getProps(),i=r[n];return i||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){xr(n=>{const{drag:r}=this.getProps();if(!jh(n,r,this.currentDirection))return;const{projection:i}=this.visualElement,s=this.getAxisMotionValue(n);if(i&&i.layout){const{min:a,max:c}=i.layout.layoutBox[n];s.set(e[n]-gt(a,c,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!$l(n)||!r||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};xr(a=>{const c=this.getAxisMotionValue(a);if(c&&this.constraints!==!1){const u=c.get();i[a]=bz({min:u,max:u},this.constraints[a])}});const{transformTemplate:s}=this.visualElement.getProps();this.visualElement.current.style.transform=s?s({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),xr(a=>{if(!jh(a,e,null))return;const c=this.getAxisMotionValue(a),{min:u,max:f}=this.constraints[a];c.set(gt(u,f,i[a]))})}addListeners(){if(!this.visualElement.current)return;Cz.set(this.visualElement,this);const e=this.visualElement.current,n=Ju(e,"pointerdown",u=>{const{drag:f,dragListener:h=!0}=this.getProps();f&&h&&this.start(u)}),r=()=>{const{dragConstraints:u}=this.getProps();$l(u)&&u.current&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,s=i.addEventListener("measure",r);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),vt.read(r);const a=Rd(window,"resize",()=>this.scalePositionWithinConstraints()),c=i.addEventListener("didUpdate",({delta:u,hasLayoutChanged:f})=>{this.isDragging&&f&&(xr(h=>{const g=this.getAxisMotionValue(h);g&&(this.originPoint[h]+=u[h].translate,g.set(g.get()+u[h].translate))}),this.visualElement.render())});return()=>{a(),n(),s(),c&&c()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:i=!1,dragConstraints:s=!1,dragElastic:a=$0,dragMomentum:c=!0}=e;return{...e,drag:n,dragDirectionLock:r,dragPropagation:i,dragConstraints:s,dragElastic:a,dragMomentum:c}}}function jh(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function kz(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class Pz extends So{constructor(e){super(e),this.removeGroupControls=Cr,this.removeListeners=Cr,this.controls=new Tz(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Cr}unmount(){this.removeGroupControls(),this.removeListeners()}}const NC=t=>(e,n)=>{t&&vt.postRender(()=>t(e,n))};class Iz extends So{constructor(){super(...arguments),this.removePointerDownListener=Cr}onPointerDown(e){this.session=new dA(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:uA(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:r,onPanEnd:i}=this.node.getProps();return{onSessionStart:NC(e),onStart:NC(n),onMove:r,onEnd:(s,a)=>{delete this.session,i&&vt.postRender(()=>i(s,a))}}}mount(){this.removePointerDownListener=Ju(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const ip={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function OC(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const Cu={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(Ne.test(t))t=parseFloat(t);else return t;const n=OC(t,e.target.x),r=OC(t,e.target.y);return`${n}% ${r}%`}},Rz={correct:(t,{treeScale:e,projectionDelta:n})=>{const r=t,i=vo.parse(t);if(i.length>5)return r;const s=vo.createTransformer(t),a=typeof i[0]!="number"?1:0,c=n.x.scale*e.x,u=n.y.scale*e.y;i[0+a]/=c,i[1+a]/=u;const f=gt(c,u,.5);return typeof i[2+a]=="number"&&(i[2+a]/=f),typeof i[3+a]=="number"&&(i[3+a]/=f),s(i)}};class Az extends C.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r,layoutId:i}=this.props,{projection:s}=e;mB(Nz),s&&(n.group&&n.group.add(s),r&&r.register&&i&&r.register(s),s.root.didUpdate(),s.addEventListener("animationComplete",()=>{this.safeToRemove()}),s.setOptions({...s.options,onExitComplete:()=>this.safeToRemove()})),ip.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:r,drag:i,isPresent:s}=this.props,{projection:a}=r;return a&&(a.isPresent=s,i||e.layoutDependency!==n||n===void 0||e.isPresent!==s?a.willUpdate():this.safeToRemove(),e.isPresent!==s&&(s?a.promote():a.relegate()||vt.postRender(()=>{const c=a.getStack();(!c||!c.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),Q_.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:i}=e;i&&(i.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(i),r&&r.deregister&&r.deregister(i))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function hA(t){const[e,n]=VR(),r=C.useContext(I_);return w.jsx(Az,{...t,layoutGroup:r,switchLayoutGroup:C.useContext(WR),isPresent:e,safeToRemove:n})}const Nz={borderRadius:{...Cu,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Cu,borderTopRightRadius:Cu,borderBottomLeftRadius:Cu,borderBottomRightRadius:Cu,boxShadow:Rz};function Oz(t,e,n){const r=vn(t)?t:ic(t);return r.start(cx("",r,e,n)),r.animation}const Mz=(t,e)=>t.depth-e.depth;class Dz{constructor(){this.children=[],this.isDirty=!1}add(e){N_(this.children,e),this.isDirty=!0}remove(e){O_(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(Mz),this.isDirty=!1,this.children.forEach(e)}}function Lz(t,e){const n=Wn.now(),r=({timestamp:i})=>{const s=i-n;s>=e&&(go(r),t(s-e))};return vt.setup(r,!0),()=>go(r)}const pA=["TopLeft","TopRight","BottomLeft","BottomRight"],jz=pA.length,MC=t=>typeof t=="string"?parseFloat(t):t,DC=t=>typeof t=="number"||Ne.test(t);function Fz(t,e,n,r,i,s){i?(t.opacity=gt(0,n.opacity??1,$z(r)),t.opacityExit=gt(e.opacity??1,0,Vz(r))):s&&(t.opacity=gt(e.opacity??1,n.opacity??1,r));for(let a=0;a<jz;a++){const c=`border${pA[a]}Radius`;let u=LC(e,c),f=LC(n,c);if(u===void 0&&f===void 0)continue;u||(u=0),f||(f=0),u===0||f===0||DC(u)===DC(f)?(t[c]=Math.max(gt(MC(u),MC(f),r),0),(Ti.test(f)||Ti.test(u))&&(t[c]+="%")):t[c]=f}(e.rotate||n.rotate)&&(t.rotate=gt(e.rotate||0,n.rotate||0,r))}function LC(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const $z=mA(0,.5,aR),Vz=mA(.5,.95,Cr);function mA(t,e,n){return r=>r<t?0:r>e?1:n(Sd(t,e,r))}function jC(t,e){t.min=e.min,t.max=e.max}function wr(t,e){jC(t.x,e.x),jC(t.y,e.y)}function FC(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function $C(t,e,n,r,i){return t-=e,t=zp(t,1/n,r),i!==void 0&&(t=zp(t,1/i,r)),t}function Uz(t,e=0,n=1,r=.5,i,s=t,a=t){if(Ti.test(e)&&(e=parseFloat(e),e=gt(a.min,a.max,e/100)-a.min),typeof e!="number")return;let c=gt(s.min,s.max,r);t===s&&(c-=e),t.min=$C(t.min,e,n,c,i),t.max=$C(t.max,e,n,c,i)}function VC(t,e,[n,r,i],s,a){Uz(t,e[n],e[r],e[i],e.scale,s,a)}const Bz=["x","scaleX","originX"],zz=["y","scaleY","originY"];function UC(t,e,n,r){VC(t.x,e,Bz,n?n.x:void 0,r?r.x:void 0),VC(t.y,e,zz,n?n.y:void 0,r?r.y:void 0)}function BC(t){return t.translate===0&&t.scale===1}function gA(t){return BC(t.x)&&BC(t.y)}function zC(t,e){return t.min===e.min&&t.max===e.max}function Hz(t,e){return zC(t.x,e.x)&&zC(t.y,e.y)}function HC(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function vA(t,e){return HC(t.x,e.x)&&HC(t.y,e.y)}function WC(t){return Pn(t.x)/Pn(t.y)}function qC(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class Wz{constructor(){this.members=[]}add(e){N_(this.members,e),e.scheduleRender()}remove(e){if(O_(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(i=>e===i);if(n===0)return!1;let r;for(let i=n;i>=0;i--){const s=this.members[i];if(s.isPresent!==!1){r=s;break}}return r?(this.promote(r),!0):!1}promote(e,n){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,n&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:i}=e.options;i===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:r}=e;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function qz(t,e,n){let r="";const i=t.x.translate/e.x,s=t.y.translate/e.y,a=n?.z||0;if((i||s||a)&&(r=`translate3d(${i}px, ${s}px, ${a}px) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:f,rotate:h,rotateX:g,rotateY:v,skewX:x,skewY:_}=n;f&&(r=`perspective(${f}px) ${r}`),h&&(r+=`rotate(${h}deg) `),g&&(r+=`rotateX(${g}deg) `),v&&(r+=`rotateY(${v}deg) `),x&&(r+=`skewX(${x}deg) `),_&&(r+=`skewY(${_}deg) `)}const c=t.x.scale*e.x,u=t.y.scale*e.y;return(c!==1||u!==1)&&(r+=`scale(${c}, ${u})`),r||"none"}const fy=["","X","Y","Z"],Gz={visibility:"hidden"},Kz=1e3;let Yz=0;function hy(t,e,n,r){const{latestValues:i}=e;i[t]&&(n[t]=i[t],e.setStaticValue(t,0),r&&(r[t]=0))}function yA(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=eA(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:i,layoutId:s}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",vt,!(i||s))}const{parent:r}=t;r&&!r.hasCheckedOptimisedAppear&&yA(r)}function wA({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:r,resetTransform:i}){return class{constructor(a={},c=e?.()){this.id=Yz++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(Qz),this.nodes.forEach(rH),this.nodes.forEach(iH),this.nodes.forEach(Zz)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=a,this.root=c?c.root||c:this,this.path=c?[...c.path,c]:[],this.parent=c,this.depth=c?c.depth+1:0;for(let u=0;u<this.path.length;u++)this.path[u].shouldResetTransform=!0;this.root===this&&(this.nodes=new Dz)}addEventListener(a,c){return this.eventHandlers.has(a)||this.eventHandlers.set(a,new L_),this.eventHandlers.get(a).add(c)}notifyListeners(a,...c){const u=this.eventHandlers.get(a);u&&u.notify(...c)}hasListeners(a){return this.eventHandlers.has(a)}mount(a){if(this.instance)return;this.isSVG=$R(a)&&!WU(a),this.instance=a;const{layoutId:c,layout:u,visualElement:f}=this.options;if(f&&!f.current&&f.mount(a),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(u||c)&&(this.isLayoutDirty=!0),t){let h;const g=()=>this.root.updateBlockedByResize=!1;t(a,()=>{this.root.updateBlockedByResize=!0,h&&h(),h=Lz(g,250),ip.hasAnimatedSinceResize&&(ip.hasAnimatedSinceResize=!1,this.nodes.forEach(KC))})}c&&this.root.registerSharedNode(c,this),this.options.animate!==!1&&f&&(c||u)&&this.addEventListener("didUpdate",({delta:h,hasLayoutChanged:g,hasRelativeLayoutChanged:v,layout:x})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const _=this.options.transition||f.getDefaultTransition()||cH,{onLayoutAnimationStart:T,onLayoutAnimationComplete:N}=f.getProps(),A=!this.targetLayout||!vA(this.targetLayout,x),k=!g&&v;if(this.options.layoutRoot||this.resumeFrom||k||g&&(A||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(h,k);const P={...X_(_,"layout"),onPlay:T,onComplete:N};(f.shouldReduceMotion||this.options.layoutRoot)&&(P.delay=0,P.type=!1),this.startAnimation(P)}else g||KC(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=x})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const a=this.getStack();a&&a.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),go(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(sH),this.animationId++)}getTransformTemplate(){const{visualElement:a}=this.options;return a&&a.getProps().transformTemplate}willUpdate(a=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&yA(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let h=0;h<this.path.length;h++){const g=this.path[h];g.shouldResetTransform=!0,g.updateScroll("snapshot"),g.options.layoutRoot&&g.willUpdate(!1)}const{layoutId:c,layout:u}=this.options;if(c===void 0&&!u)return;const f=this.getTransformTemplate();this.prevTransformTemplateValue=f?f(this.latestValues,""):void 0,this.updateSnapshot(),a&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(GC);return}this.isUpdating||this.nodes.forEach(tH),this.isUpdating=!1,this.nodes.forEach(nH),this.nodes.forEach(Xz),this.nodes.forEach(Jz),this.clearAllSnapshots();const c=Wn.now();sn.delta=ps(0,1e3/60,c-sn.timestamp),sn.timestamp=c,sn.isProcessing=!0,ry.update.process(sn),ry.preRender.process(sn),ry.render.process(sn),sn.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,Q_.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(eH),this.sharedNodes.forEach(oH)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,vt.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){vt.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!Pn(this.snapshot.measuredBox.x)&&!Pn(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let u=0;u<this.path.length;u++)this.path[u].updateScroll();const a=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Rt(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:c}=this.options;c&&c.notify("LayoutMeasure",this.layout.layoutBox,a?a.layoutBox:void 0)}updateScroll(a="measure"){let c=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===a&&(c=!1),c&&this.instance){const u=r(this.instance);this.scroll={animationId:this.root.animationId,phase:a,isRoot:u,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:u}}}resetTransform(){if(!i)return;const a=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,c=this.projectionDelta&&!gA(this.projectionDelta),u=this.getTransformTemplate(),f=u?u(this.latestValues,""):void 0,h=f!==this.prevTransformTemplateValue;a&&this.instance&&(c||ta(this.latestValues)||h)&&(i(this.instance,f),this.shouldResetTransform=!1,this.scheduleRender())}measure(a=!0){const c=this.measurePageBox();let u=this.removeElementScroll(c);return a&&(u=this.removeTransform(u)),uH(u),{animationId:this.root.animationId,measuredBox:c,layoutBox:u,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:a}=this.options;if(!a)return Rt();const c=a.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some(dH))){const{scroll:f}=this.root;f&&(Ul(c.x,f.offset.x),Ul(c.y,f.offset.y))}return c}removeElementScroll(a){const c=Rt();if(wr(c,a),this.scroll?.wasRoot)return c;for(let u=0;u<this.path.length;u++){const f=this.path[u],{scroll:h,options:g}=f;f!==this.root&&h&&g.layoutScroll&&(h.wasRoot&&wr(c,a),Ul(c.x,h.offset.x),Ul(c.y,h.offset.y))}return c}applyTransform(a,c=!1){const u=Rt();wr(u,a);for(let f=0;f<this.path.length;f++){const h=this.path[f];!c&&h.options.layoutScroll&&h.scroll&&h!==h.root&&Bl(u,{x:-h.scroll.offset.x,y:-h.scroll.offset.y}),ta(h.latestValues)&&Bl(u,h.latestValues)}return ta(this.latestValues)&&Bl(u,this.latestValues),u}removeTransform(a){const c=Rt();wr(c,a);for(let u=0;u<this.path.length;u++){const f=this.path[u];if(!f.instance||!ta(f.latestValues))continue;j0(f.latestValues)&&f.updateSnapshot();const h=Rt(),g=f.measurePageBox();wr(h,g),UC(c,f.latestValues,f.snapshot?f.snapshot.layoutBox:void 0,h)}return ta(this.latestValues)&&UC(c,this.latestValues),c}setTargetDelta(a){this.targetDelta=a,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(a){this.options={...this.options,...a,crossfade:a.crossfade!==void 0?a.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==sn.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(a=!1){const c=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=c.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=c.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=c.isSharedProjectionDirty);const u=!!this.resumingFrom||this!==c;if(!(a||u&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:h,layoutId:g}=this.options;if(!(!this.layout||!(h||g))){if(this.resolvedRelativeTargetAt=sn.timestamp,!this.targetDelta&&!this.relativeTarget){const v=this.getClosestProjectingParent();v&&v.layout&&this.animationProgress!==1?(this.relativeParent=v,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Rt(),this.relativeTargetOrigin=Rt(),Zu(this.relativeTargetOrigin,this.layout.layoutBox,v.layout.layoutBox),wr(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=Rt(),this.targetWithTransforms=Rt()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),hz(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):wr(this.target,this.layout.layoutBox),lA(this.target,this.targetDelta)):wr(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const v=this.getClosestProjectingParent();v&&!!v.resumingFrom==!!this.resumingFrom&&!v.options.layoutScroll&&v.target&&this.animationProgress!==1?(this.relativeParent=v,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Rt(),this.relativeTargetOrigin=Rt(),Zu(this.relativeTargetOrigin,this.target,v.target),wr(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||j0(this.parent.latestValues)||aA(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){const a=this.getLead(),c=!!this.resumingFrom||this!==a;let u=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(u=!1),c&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(u=!1),this.resolvedRelativeTargetAt===sn.timestamp&&(u=!1),u)return;const{layout:f,layoutId:h}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(f||h))return;wr(this.layoutCorrected,this.layout.layoutBox);const g=this.treeScale.x,v=this.treeScale.y;pz(this.layoutCorrected,this.treeScale,this.path,c),a.layout&&!a.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(a.target=a.layout.layoutBox,a.targetWithTransforms=Rt());const{target:x}=a;if(!x){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(FC(this.prevProjectionDelta.x,this.projectionDelta.x),FC(this.prevProjectionDelta.y,this.projectionDelta.y)),Qu(this.projectionDelta,this.layoutCorrected,x,this.latestValues),(this.treeScale.x!==g||this.treeScale.y!==v||!qC(this.projectionDelta.x,this.prevProjectionDelta.x)||!qC(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",x))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(a=!0){if(this.options.visualElement?.scheduleRender(),a){const c=this.getStack();c&&c.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Vl(),this.projectionDelta=Vl(),this.projectionDeltaWithTransform=Vl()}setAnimationOrigin(a,c=!1){const u=this.snapshot,f=u?u.latestValues:{},h={...this.latestValues},g=Vl();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!c;const v=Rt(),x=u?u.source:void 0,_=this.layout?this.layout.source:void 0,T=x!==_,N=this.getStack(),A=!N||N.members.length<=1,k=!!(T&&!A&&this.options.crossfade===!0&&!this.path.some(lH));this.animationProgress=0;let P;this.mixTargetDelta=j=>{const $=j/1e3;YC(g.x,a.x,$),YC(g.y,a.y,$),this.setTargetDelta(g),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Zu(v,this.layout.layoutBox,this.relativeParent.layout.layoutBox),aH(this.relativeTarget,this.relativeTargetOrigin,v,$),P&&Hz(this.relativeTarget,P)&&(this.isProjectionDirty=!1),P||(P=Rt()),wr(P,this.relativeTarget)),T&&(this.animationValues=h,Fz(h,f,this.latestValues,$,k,A)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=$},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(a){this.notifyListeners("animationStart"),this.currentAnimation?.stop(!1),this.resumingFrom?.currentAnimation?.stop(!1),this.pendingAnimation&&(go(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=vt.update(()=>{ip.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=ic(0)),this.currentAnimation=Oz(this.motionValue,[0,1e3],{...a,isSync:!0,onUpdate:c=>{this.mixTargetDelta(c),a.onUpdate&&a.onUpdate(c)},onStop:()=>{},onComplete:()=>{a.onComplete&&a.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const a=this.getStack();a&&a.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(Kz),this.currentAnimation.stop(!1)),this.completeAnimation()}applyTransformsToTarget(){const a=this.getLead();let{targetWithTransforms:c,target:u,layout:f,latestValues:h}=a;if(!(!c||!u||!f)){if(this!==a&&this.layout&&f&&_A(this.options.animationType,this.layout.layoutBox,f.layoutBox)){u=this.target||Rt();const g=Pn(this.layout.layoutBox.x);u.x.min=a.target.x.min,u.x.max=u.x.min+g;const v=Pn(this.layout.layoutBox.y);u.y.min=a.target.y.min,u.y.max=u.y.min+v}wr(c,u),Bl(c,h),Qu(this.projectionDeltaWithTransform,this.layoutCorrected,c,h)}}registerSharedNode(a,c){this.sharedNodes.has(a)||this.sharedNodes.set(a,new Wz),this.sharedNodes.get(a).add(c);const f=c.options.initialPromotionConfig;c.promote({transition:f?f.transition:void 0,preserveFollowOpacity:f&&f.shouldPreserveFollowOpacity?f.shouldPreserveFollowOpacity(c):void 0})}isLead(){const a=this.getStack();return a?a.lead===this:!0}getLead(){const{layoutId:a}=this.options;return a?this.getStack()?.lead||this:this}getPrevLead(){const{layoutId:a}=this.options;return a?this.getStack()?.prevLead:void 0}getStack(){const{layoutId:a}=this.options;if(a)return this.root.sharedNodes.get(a)}promote({needsReset:a,transition:c,preserveFollowOpacity:u}={}){const f=this.getStack();f&&f.promote(this,u),a&&(this.projectionDelta=void 0,this.needsReset=!0),c&&this.setOptions({transition:c})}relegate(){const a=this.getStack();return a?a.relegate(this):!1}resetSkewAndRotation(){const{visualElement:a}=this.options;if(!a)return;let c=!1;const{latestValues:u}=a;if((u.z||u.rotate||u.rotateX||u.rotateY||u.rotateZ||u.skewX||u.skewY)&&(c=!0),!c)return;const f={};u.z&&hy("z",a,f,this.animationValues);for(let h=0;h<fy.length;h++)hy(`rotate${fy[h]}`,a,f,this.animationValues),hy(`skew${fy[h]}`,a,f,this.animationValues);a.render();for(const h in f)a.setStaticValue(h,f[h]),this.animationValues&&(this.animationValues[h]=f[h]);a.scheduleRender()}getProjectionStyles(a){if(!this.instance||this.isSVG)return;if(!this.isVisible)return Gz;const c={visibility:""},u=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,c.opacity="",c.pointerEvents=rp(a?.pointerEvents)||"",c.transform=u?u(this.latestValues,""):"none",c;const f=this.getLead();if(!this.projectionDelta||!this.layout||!f.target){const x={};return this.options.layoutId&&(x.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,x.pointerEvents=rp(a?.pointerEvents)||""),this.hasProjected&&!ta(this.latestValues)&&(x.transform=u?u({},""):"none",this.hasProjected=!1),x}const h=f.animationValues||f.latestValues;this.applyTransformsToTarget(),c.transform=qz(this.projectionDeltaWithTransform,this.treeScale,h),u&&(c.transform=u(h,c.transform));const{x:g,y:v}=this.projectionDelta;c.transformOrigin=`${g.origin*100}% ${v.origin*100}% 0`,f.animationValues?c.opacity=f===this?h.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:h.opacityExit:c.opacity=f===this?h.opacity!==void 0?h.opacity:"":h.opacityExit!==void 0?h.opacityExit:0;for(const x in Pd){if(h[x]===void 0)continue;const{correct:_,applyTo:T,isCSSVariable:N}=Pd[x],A=c.transform==="none"?h[x]:_(h[x],f);if(T){const k=T.length;for(let P=0;P<k;P++)c[T[P]]=A}else N?this.options.visualElement.renderState.vars[x]=A:c[x]=A}return this.options.layoutId&&(c.pointerEvents=f===this?rp(a?.pointerEvents)||"":"none"),c}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(a=>a.currentAnimation?.stop(!1)),this.root.nodes.forEach(GC),this.root.sharedNodes.clear()}}}function Xz(t){t.updateLayout()}function Jz(t){const e=t.resumeFrom?.snapshot||t.snapshot;if(t.isLead()&&t.layout&&e&&t.hasListeners("didUpdate")){const{layoutBox:n,measuredBox:r}=t.layout,{animationType:i}=t.options,s=e.source!==t.layout.source;i==="size"?xr(h=>{const g=s?e.measuredBox[h]:e.layoutBox[h],v=Pn(g);g.min=n[h].min,g.max=g.min+v}):_A(i,e.layoutBox,n)&&xr(h=>{const g=s?e.measuredBox[h]:e.layoutBox[h],v=Pn(n[h]);g.max=g.min+v,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[h].max=t.relativeTarget[h].min+v)});const a=Vl();Qu(a,n,e.layoutBox);const c=Vl();s?Qu(c,t.applyTransform(r,!0),e.measuredBox):Qu(c,n,e.layoutBox);const u=!gA(a);let f=!1;if(!t.resumeFrom){const h=t.getClosestProjectingParent();if(h&&!h.resumeFrom){const{snapshot:g,layout:v}=h;if(g&&v){const x=Rt();Zu(x,e.layoutBox,g.layoutBox);const _=Rt();Zu(_,n,v.layoutBox),vA(x,_)||(f=!0),h.options.layoutRoot&&(t.relativeTarget=_,t.relativeTargetOrigin=x,t.relativeParent=h)}}}t.notifyListeners("didUpdate",{layout:n,snapshot:e,delta:c,layoutDelta:a,hasLayoutChanged:u,hasRelativeLayoutChanged:f})}else if(t.isLead()){const{onExitComplete:n}=t.options;n&&n()}t.options.transition=void 0}function Qz(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function Zz(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function eH(t){t.clearSnapshot()}function GC(t){t.clearMeasurements()}function tH(t){t.isLayoutDirty=!1}function nH(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function KC(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function rH(t){t.resolveTargetDelta()}function iH(t){t.calcProjection()}function sH(t){t.resetSkewAndRotation()}function oH(t){t.removeLeadSnapshot()}function YC(t,e,n){t.translate=gt(e.translate,0,n),t.scale=gt(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function XC(t,e,n,r){t.min=gt(e.min,n.min,r),t.max=gt(e.max,n.max,r)}function aH(t,e,n,r){XC(t.x,e.x,n.x,r),XC(t.y,e.y,n.y,r)}function lH(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const cH={duration:.45,ease:[.4,0,.1,1]},JC=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),QC=JC("applewebkit/")&&!JC("chrome/")?Math.round:Cr;function ZC(t){t.min=QC(t.min),t.max=QC(t.max)}function uH(t){ZC(t.x),ZC(t.y)}function _A(t,e,n){return t==="position"||t==="preserve-aspect"&&!fz(WC(e),WC(n),.2)}function dH(t){return t!==t.root&&t.scroll?.wasRoot}const fH=wA({attachResizeListener:(t,e)=>Rd(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),py={current:void 0},xA=wA({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!py.current){const t=new fH({});t.mount(window),t.setOptions({layoutScroll:!0}),py.current=t}return py.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),hH={pan:{Feature:Iz},drag:{Feature:Pz,ProjectionNode:xA,MeasureLayout:hA}};function eT(t,e,n){const{props:r}=t;t.animationState&&r.whileHover&&t.animationState.setActive("whileHover",n==="Start");const i="onHover"+n,s=r[i];s&&vt.postRender(()=>s(e,nf(e)))}class pH extends So{mount(){const{current:e}=this.node;e&&(this.unmount=VU(e,(n,r)=>(eT(this.node,r,"Start"),i=>eT(this.node,i,"End"))))}unmount(){}}class mH extends So{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Zd(Rd(this.node.current,"focus",()=>this.onFocus()),Rd(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function tT(t,e,n){const{props:r}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&r.whileTap&&t.animationState.setActive("whileTap",n==="Start");const i="onTap"+(n==="End"?"":n),s=r[i];s&&vt.postRender(()=>s(e,nf(e)))}class gH extends So{mount(){const{current:e}=this.node;e&&(this.unmount=HU(e,(n,r)=>(tT(this.node,r,"Start"),(i,{success:s})=>tT(this.node,i,s?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const V0=new WeakMap,my=new WeakMap,vH=t=>{const e=V0.get(t.target);e&&e(t)},yH=t=>{t.forEach(vH)};function wH({root:t,...e}){const n=t||document;my.has(n)||my.set(n,{});const r=my.get(n),i=JSON.stringify(e);return r[i]||(r[i]=new IntersectionObserver(yH,{root:t,...e})),r[i]}function _H(t,e,n){const r=wH(e);return V0.set(t,n),r.observe(t),()=>{V0.delete(t),r.unobserve(t)}}const xH={some:0,all:1};class bH extends So{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:r,amount:i="some",once:s}=e,a={root:n?n.current:void 0,rootMargin:r,threshold:typeof i=="number"?i:xH[i]},c=u=>{const{isIntersecting:f}=u;if(this.isInView===f||(this.isInView=f,s&&!f&&this.hasEnteredView))return;f&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",f);const{onViewportEnter:h,onViewportLeave:g}=this.node.getProps(),v=f?h:g;v&&v(u)};return _H(this.node.current,a,c)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(EH(e,n))&&this.startObserver()}unmount(){}}function EH({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const SH={inView:{Feature:bH},tap:{Feature:gH},focus:{Feature:mH},hover:{Feature:pH}},CH={layout:{ProjectionNode:xA,MeasureLayout:hA}},U0={current:null},bA={current:!1};function TH(){if(bA.current=!0,!!A_)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>U0.current=t.matches;t.addListener(e),e()}else U0.current=!1}const kH=new WeakMap;function PH(t,e,n){for(const r in e){const i=e[r],s=n[r];if(vn(i))t.addValue(r,i);else if(vn(s))t.addValue(r,ic(i,{owner:t}));else if(s!==i)if(t.hasValue(r)){const a=t.getValue(r);a.liveStyle===!0?a.jump(i):a.hasAnimated||a.set(i)}else{const a=t.getStaticValue(r);t.addValue(r,ic(a!==void 0?a:i,{owner:t}))}}for(const r in n)e[r]===void 0&&t.removeValue(r);return e}const nT=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class IH{scrapeMotionValuesFromProps(e,n,r){return{}}constructor({parent:e,props:n,presenceContext:r,reducedMotionConfig:i,blockInitialAnimation:s,visualState:a},c={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=K_,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const v=Wn.now();this.renderScheduledAt<v&&(this.renderScheduledAt=v,vt.render(this.render,!1,!0))};const{latestValues:u,renderState:f}=a;this.latestValues=u,this.baseTarget={...u},this.initialValues=n.initial?{...u}:{},this.renderState=f,this.parent=e,this.props=n,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=i,this.options=c,this.blockInitialAnimation=!!s,this.isControllingVariants=Am(n),this.isVariantNode=zR(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:h,...g}=this.scrapeMotionValuesFromProps(n,{},this);for(const v in g){const x=g[v];u[v]!==void 0&&vn(x)&&x.set(u[v],!1)}}mount(e){this.current=e,kH.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),bA.current||TH(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:U0.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),go(this.notifyUpdate),go(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const n=this.features[e];n&&(n.unmount(),n.isMounted=!1)}this.current=null}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const r=xc.has(e);r&&this.onBindTransform&&this.onBindTransform();const i=n.on("change",c=>{this.latestValues[e]=c,this.props.onUpdate&&vt.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0)}),s=n.on("renderRequest",this.scheduleRender);let a;window.MotionCheckAppearSync&&(a=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{i(),s(),a&&a(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in sc){const n=sc[e];if(!n)continue;const{isEnabled:r,Feature:i}=n;if(!this.features[e]&&i&&r(this.props)&&(this.features[e]=new i(this)),this.features[e]){const s=this.features[e];s.isMounted?s.update():(s.mount(),s.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Rt()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<nT.length;r++){const i=nT[r];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const s="on"+i,a=e[s];a&&(this.propEventSubscriptions[i]=this.on(i,a))}this.prevMotionValues=PH(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const r=this.values.get(e);n!==r&&(r&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&n!==void 0&&(r=ic(n===null?void 0:n,{owner:this}),this.addValue(e,r)),r}readValue(e,n){let r=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return r!=null&&(typeof r=="string"&&(JI(r)||ZI(r))?r=parseFloat(r):!GU(r)&&vo.test(n)&&(r=MR(e,n)),this.setBaseTarget(e,vn(r)?r.get():r)),vn(r)?r.get():r}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){const{initial:n}=this.props;let r;if(typeof n=="string"||typeof n=="object"){const s=ax(this.props,n,this.presenceContext?.custom);s&&(r=s[e])}if(n&&r!==void 0)return r;const i=this.getBaseTargetFromProps(this.props,e);return i!==void 0&&!vn(i)?i:this.initialValues[e]!==void 0&&r===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new L_),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}}class EA extends IH{constructor(){super(...arguments),this.KeyframeResolver=DU}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:r}){delete n[e],delete r[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;vn(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function SA(t,{style:e,vars:n},r,i){Object.assign(t.style,e,i&&i.getProjectionStyles(r));for(const s in n)t.style.setProperty(s,n[s])}function RH(t){return window.getComputedStyle(t)}class AH extends EA{constructor(){super(...arguments),this.type="html",this.renderInstance=SA}readValueFromInstance(e,n){if(xc.has(n))return this.projection?.isProjecting?P0(n):eU(e,n);{const r=RH(e),i=($_(n)?r.getPropertyValue(n):r[n])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(e,{transformPagePoint:n}){return cA(e,n)}build(e,n,r){ix(e,n,r.transformTemplate)}scrapeMotionValuesFromProps(e,n,r){return lx(e,n,r)}}const CA=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function NH(t,e,n,r){SA(t,e,void 0,r);for(const i in e.attrs)t.setAttribute(CA.has(i)?i:rx(i),e.attrs[i])}class OH extends EA{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Rt}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(xc.has(n)){const r=OR(n);return r&&r.default||0}return n=CA.has(n)?n:rx(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,r){return ZR(e,n,r)}build(e,n,r){YR(e,n,this.isSVGTag,r.transformTemplate,r.style)}renderInstance(e,n,r,i){NH(e,n,r,i)}mount(e){this.isSVGTag=JR(e.tagName),super.mount(e)}}const MH=(t,e)=>ox(t)?new OH(e):new AH(e,{allowProjection:t!==C.Fragment}),DH=NB({...iz,...SH,...hH,...CH},MH),LH=rB(DH);function jH(){const t=Pr(),e=Pi(),[n,r]=C.useState(null),[i,s]=C.useState(null),[a,c]=C.useState(null),[u,f]=C.useState(null),[h,g]=C.useState(Array(6).fill({nombre:"",dorsal:""})),[v,x]=C.useState(Array(6).fill({nombre:"",dorsal:""})),[_,T]=C.useState(null),[N,A]=C.useState(!1);C.useEffect(()=>{e.state?.equipoLocal&&e.state?.equipoVisita?(r(e.state),s(e.state.equipoLocal),c(e.state.equipoVisita),f(e.state.genero)):(console.warn("[Alineacion.jsx] No se recibieron datos de configuración del partido. Redirigiendo."),t("/partido/configurar"))},[e.state,t]);const k=(O,b)=>{const M=b==="local"?h[O]:v[O],V=b==="local"?h:v,F=b==="local"?i?.nombre:a?.nombre;T({tipo:b,index:O,jugador:M,jugadoresActuales:V,nombreEquipo:F,generoPartido:u})},P=(O,b,M)=>{const V=b==="local"?g:x,Z=[...b==="local"?h:v];Z[O]=M,V(Z),T(null)},j=async()=>{let O=null;try{const b=oe=>oe.every(le=>le.nombre.trim()!==""&&le.dorsal.trim()!=="");if(!b(h)||!b(v)){alert("Todos los jugadores deben tener nombre y dorsal antes de continuar.");return}const M=Ce(Te,"partidos");O=jl(M).key;const[F,Z]=await Promise.all([Sr(Ce(Te,`plantillas/${u.toLowerCase()}/${i.nombre.toLowerCase()}`)),Sr(Ce(Te,`plantillas/${u.toLowerCase()}/${a.nombre.toLowerCase()}`))]),se=F.exists()?F.val():x0[i.nombre.toLowerCase()]||[],re=Z.exists()?Z.val():x0[a.nombre.toLowerCase()]||[],ue={nombre:i.nombre,logo:i.escudo.split("/").pop(),jugadores:h.map(oe=>({...oe,enJuego:!0,haJugado:!0})),todosJugadores:se},ne={nombre:a.nombre,logo:a.escudo.split("/").pop(),jugadores:v.map(oe=>({...oe,enJuego:!0,haJugado:!0})),todosJugadores:re};await Ct(Ce(Te,`partidos/${O}/alineacion`),{equipo1:ue,equipo2:ne,genero:u}),await Ct(Ce(Te,`partidos/${O}/marcador`),{equipo1:0,equipo2:0}),await Ct(Ce(Te,"partidoEnCurso"),{partidoId:O,equipo1:i.nombre,equipo2:a.nombre,timestamp:Date.now()}),t(`/control-partido/${O}`)}catch(b){alert("❌ ERROR al confirmar alineación: "+b.message),console.error("Error al confirmar alineación:",b)}},$=O=>`/EmproChampions-2025/camisas/camisa-${O.toLowerCase().replace(/\s+/g,"-")}.png`,z=O=>["don bosco","luz","emprosaurios"].includes(O.toLowerCase())?"#000":"#fff",D=[{top:"15%",left:"18%"},{top:"15%",left:"62%"},{top:"38%",left:"40%"},{top:"55%",left:"17%"},{top:"55%",left:"63%"},{top:"74%",left:"40%"}],I=(O,b,M,V)=>w.jsx(LH.div,{className:"absolute cursor-pointer",style:{top:D[b].top,left:D[b].left,transform:"translate(-50%, -50%)"},animate:{scale:_?.index===b&&_?.tipo===M?1.5:1},transition:{duration:.3},onClick:()=>k(b,M),children:w.jsxs("div",{className:"relative w-fit flex flex-col items-center",children:[w.jsx("div",{className:"absolute top-[12%] font-barcelona text-[24px] md:text-[30px] z-20 pointer-events-none",style:{color:z((M==="local"?i?.nombre:a?.nombre)||""),textShadow:"1px 1px 1px rgba(0,0,0,0.6)"},children:O.dorsal}),w.jsx("img",{src:V,className:"w-16 md:w-20 relative z-10",alt:`jugador-${M}`}),O.nombre&&w.jsx("div",{className:"absolute bottom-[-18px] font-barcelona text-[11px] text-white bg-black/80 px-2 py-[2px] rounded text-center z-20",children:O.nombre})]})},b);return!i||!a?null:w.jsxs("div",{className:"min-h-screen bg-cover bg-center font-qatar text-white",style:{backgroundImage:"url('/EmproChampions-2025/img/fondoempro-horizontal.png')"},children:[w.jsx(lr,{}),w.jsx("h1",{className:"text-3xl sm:text-5xl font-bold text-center mt-6 text-yellow-400 drop-shadow",children:"Alineación Inicial"}),w.jsxs("div",{className:"flex flex-col lg:flex-row items-center justify-center gap-4 lg:gap-8 p-2 lg:p-6",children:[w.jsxs("div",{className:"relative w-[300px] h-[510px] sm:w-[320px] sm:h-[540px] md:w-[400px] md:h-[640px]",children:[w.jsx("img",{src:"/EmproChampions-2025/img/cancha-vertical.svg",alt:"cancha local",className:"w-full h-full"}),h.map((O,b)=>I(O,b,"local",$(i.nombre)))]}),w.jsxs("div",{className:"flex flex-col items-center gap-4 my-4 lg:my-0",children:[w.jsx("img",{src:"/EmproChampions-2025/img/logo-empro.png",alt:"logo empro",className:"w-20 md:w-32"}),w.jsxs("div",{className:"flex items-center gap-4 md:gap-10",children:[w.jsx("img",{src:i.escudo,className:"w-20 h-20 md:w-24 md:h-24 object-contain",alt:"local logo"}),w.jsx("span",{className:"text-white text-3xl md:text-4xl font-black",children:"VS"}),w.jsx("img",{src:a.escudo,className:"w-20 h-20 md:w-24 md:h-24 object-contain",alt:"visita logo"})]}),w.jsx("button",{onClick:()=>t("/partido/configurar"),className:"bg-white/80 text-[#7a0026] font-bold px-6 py-2 rounded-full hover:bg-white transition",children:"⬅ Volver"})]}),w.jsxs("div",{className:"relative w-[300px] h-[510px] sm:w-[320px] sm:h-[540px] md:w-[400px] md:h-[640px]",children:[w.jsx("img",{src:"/EmproChampions-2025/img/cancha-vertical.svg",alt:"cancha visita",className:"w-full h-full"}),v.map((O,b)=>I(O,b,"visita",$(a.nombre)))]})]}),w.jsx("div",{className:"flex justify-center mt-6 pb-10",children:w.jsx("button",{onClick:j,className:"bg-[#FFD700] text-[#7a0026] font-bold px-10 py-3 rounded-full hover:bg-yellow-300 transition text-xl shadow-lg",children:"Confirmar Alineación"})}),w.jsx(QU,{children:_&&w.jsx(J8,{..._,onSave:P,onClose:()=>T(null),camiseta:$(_.tipo==="local"?i.nombre:a.nombre),dorsalColor:z(_.tipo==="local"?i.nombre:a.nombre)})}),w.jsx(cr,{})]})}function Ta(t){return t&&t.ownerDocument||document}function Hp(t){return Ta(t).defaultView||window}function FH(t=window){const e=t.document.documentElement.clientWidth;return t.innerWidth-e}function $H(t){const e=Ta(t);return e.body===t?Hp(t).innerWidth>e.documentElement.clientWidth:t.scrollHeight>t.clientHeight}function ed(t,e){e?t.setAttribute("aria-hidden","true"):t.removeAttribute("aria-hidden")}function rT(t){return parseInt(Hp(t).getComputedStyle(t).paddingRight,10)||0}function VH(t){const n=["TEMPLATE","SCRIPT","STYLE","LINK","MAP","META","NOSCRIPT","PICTURE","COL","COLGROUP","PARAM","SLOT","SOURCE","TRACK"].includes(t.tagName),r=t.tagName==="INPUT"&&t.getAttribute("type")==="hidden";return n||r}function iT(t,e,n,r,i){const s=[e,n,...r];[].forEach.call(t.children,a=>{const c=!s.includes(a),u=!VH(a);c&&u&&ed(a,i)})}function gy(t,e){let n=-1;return t.some((r,i)=>e(r)?(n=i,!0):!1),n}function UH(t,e){const n=[],r=t.container;if(!e.disableScrollLock){if($H(r)){const a=FH(Hp(r));n.push({value:r.style.paddingRight,property:"padding-right",el:r}),r.style.paddingRight=`${rT(r)+a}px`;const c=Ta(r).querySelectorAll(".mui-fixed");[].forEach.call(c,u=>{n.push({value:u.style.paddingRight,property:"padding-right",el:u}),u.style.paddingRight=`${rT(u)+a}px`})}let s;if(r.parentNode instanceof DocumentFragment)s=Ta(r).body;else{const a=r.parentElement,c=Hp(r);s=a?.nodeName==="HTML"&&c.getComputedStyle(a).overflowY==="scroll"?a:r}n.push({value:s.style.overflow,property:"overflow",el:s},{value:s.style.overflowX,property:"overflow-x",el:s},{value:s.style.overflowY,property:"overflow-y",el:s}),s.style.overflow="hidden"}return()=>{n.forEach(({value:s,el:a,property:c})=>{s?a.style.setProperty(c,s):a.style.removeProperty(c)})}}function BH(t){const e=[];return[].forEach.call(t.children,n=>{n.getAttribute("aria-hidden")==="true"&&e.push(n)}),e}class zH{constructor(){this.modals=[],this.containers=[]}add(e,n){let r=this.modals.indexOf(e);if(r!==-1)return r;r=this.modals.length,this.modals.push(e),e.modalRef&&ed(e.modalRef,!1);const i=BH(n);iT(n,e.mount,e.modalRef,i,!0);const s=gy(this.containers,a=>a.container===n);return s!==-1?(this.containers[s].modals.push(e),r):(this.containers.push({modals:[e],container:n,restore:null,hiddenSiblings:i}),r)}mount(e,n){const r=gy(this.containers,s=>s.modals.includes(e)),i=this.containers[r];i.restore||(i.restore=UH(i,n))}remove(e,n=!0){const r=this.modals.indexOf(e);if(r===-1)return r;const i=gy(this.containers,a=>a.modals.includes(e)),s=this.containers[i];if(s.modals.splice(s.modals.indexOf(e),1),this.modals.splice(r,1),s.modals.length===0)s.restore&&s.restore(),e.modalRef&&ed(e.modalRef,n),iT(s.container,e.mount,e.modalRef,s.hiddenSiblings,!1),this.containers.splice(i,1);else{const a=s.modals[s.modals.length-1];a.modalRef&&ed(a.modalRef,!1)}return r}isTopModal(e){return this.modals.length>0&&this.modals[this.modals.length-1]===e}}function TA(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=TA(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function oc(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=TA(t))&&(r&&(r+=" "),r+=e);return r}function kA(t,e,n=void 0){const r={};for(const i in t){const s=t[i];let a="",c=!0;for(let u=0;u<s.length;u+=1){const f=s[u];f&&(a+=(c===!0?"":" ")+e(f),c=!1,n&&n[f]&&(a+=" "+n[f]))}r[i]=a}return r}function rf(...t){const e=C.useRef(void 0),n=C.useCallback(r=>{const i=t.map(s=>{if(s==null)return null;if(typeof s=="function"){const a=s,c=a(r);return typeof c=="function"?c:()=>{a(null)}}return s.current=r,()=>{s.current=null}});return()=>{i.forEach(s=>s?.())}},t);return C.useMemo(()=>t.every(r=>r==null)?null:r=>{e.current&&(e.current(),e.current=void 0),r!=null&&(e.current=n(r))},t)}function ux(t){return parseInt(C.version,10)>=19?t?.props?.ref||null:t?.ref||null}const HH=["input","select","textarea","a[href]","button","[tabindex]","audio[controls]","video[controls]",'[contenteditable]:not([contenteditable="false"])'].join(",");function WH(t){const e=parseInt(t.getAttribute("tabindex")||"",10);return Number.isNaN(e)?t.contentEditable==="true"||(t.nodeName==="AUDIO"||t.nodeName==="VIDEO"||t.nodeName==="DETAILS")&&t.getAttribute("tabindex")===null?0:t.tabIndex:e}function qH(t){if(t.tagName!=="INPUT"||t.type!=="radio"||!t.name)return!1;const e=r=>t.ownerDocument.querySelector(`input[type="radio"]${r}`);let n=e(`[name="${t.name}"]:checked`);return n||(n=e(`[name="${t.name}"]`)),n!==t}function GH(t){return!(t.disabled||t.tagName==="INPUT"&&t.type==="hidden"||qH(t))}function KH(t){const e=[],n=[];return Array.from(t.querySelectorAll(HH)).forEach((r,i)=>{const s=WH(r);s===-1||!GH(r)||(s===0?e.push(r):n.push({documentOrder:i,tabIndex:s,node:r}))}),n.sort((r,i)=>r.tabIndex===i.tabIndex?r.documentOrder-i.documentOrder:r.tabIndex-i.tabIndex).map(r=>r.node).concat(e)}function YH(){return!0}function XH(t){const{children:e,disableAutoFocus:n=!1,disableEnforceFocus:r=!1,disableRestoreFocus:i=!1,getTabbable:s=KH,isEnabled:a=YH,open:c}=t,u=C.useRef(!1),f=C.useRef(null),h=C.useRef(null),g=C.useRef(null),v=C.useRef(null),x=C.useRef(!1),_=C.useRef(null),T=rf(ux(e),_),N=C.useRef(null);C.useEffect(()=>{!c||!_.current||(x.current=!n)},[n,c]),C.useEffect(()=>{if(!c||!_.current)return;const P=Ta(_.current);return _.current.contains(P.activeElement)||(_.current.hasAttribute("tabIndex")||_.current.setAttribute("tabIndex","-1"),x.current&&_.current.focus()),()=>{i||(g.current&&g.current.focus&&(u.current=!0,g.current.focus()),g.current=null)}},[c]),C.useEffect(()=>{if(!c||!_.current)return;const P=Ta(_.current),j=D=>{N.current=D,!(r||!a()||D.key!=="Tab")&&P.activeElement===_.current&&D.shiftKey&&(u.current=!0,h.current&&h.current.focus())},$=()=>{const D=_.current;if(D===null)return;if(!P.hasFocus()||!a()||u.current){u.current=!1;return}if(D.contains(P.activeElement)||r&&P.activeElement!==f.current&&P.activeElement!==h.current)return;if(P.activeElement!==v.current)v.current=null;else if(v.current!==null)return;if(!x.current)return;let I=[];if((P.activeElement===f.current||P.activeElement===h.current)&&(I=s(_.current)),I.length>0){const O=!!(N.current?.shiftKey&&N.current?.key==="Tab"),b=I[0],M=I[I.length-1];typeof b!="string"&&typeof M!="string"&&(O?M.focus():b.focus())}else D.focus()};P.addEventListener("focusin",$),P.addEventListener("keydown",j,!0);const z=setInterval(()=>{P.activeElement&&P.activeElement.tagName==="BODY"&&$()},50);return()=>{clearInterval(z),P.removeEventListener("focusin",$),P.removeEventListener("keydown",j,!0)}},[n,r,i,a,c,s]);const A=P=>{g.current===null&&(g.current=P.relatedTarget),x.current=!0,v.current=P.target;const j=e.props.onFocus;j&&j(P)},k=P=>{g.current===null&&(g.current=P.relatedTarget),x.current=!0};return w.jsxs(C.Fragment,{children:[w.jsx("div",{tabIndex:c?0:-1,onFocus:k,ref:f,"data-testid":"sentinelStart"}),C.cloneElement(e,{ref:T,onFocus:A}),w.jsx("div",{tabIndex:c?0:-1,onFocus:k,ref:h,"data-testid":"sentinelEnd"})]})}const B0=typeof window<"u"?C.useLayoutEffect:C.useEffect;function sT(t,e){typeof t=="function"?t(e):t&&(t.current=e)}function JH(t){return typeof t=="function"?t():t}const QH=C.forwardRef(function(e,n){const{children:r,container:i,disablePortal:s=!1}=e,[a,c]=C.useState(null),u=rf(C.isValidElement(r)?ux(r):null,n);if(B0(()=>{s||c(JH(i)||document.body)},[i,s]),B0(()=>{if(a&&!s)return sT(n,a),()=>{sT(n,null)}},[n,a,s]),s){if(C.isValidElement(r)){const f={ref:u};return C.cloneElement(r,f)}return r}return a&&mw.createPortal(r,a)});function ka(t,...e){const n=new URL(`https://mui.com/production-error/?code=${t}`);return e.forEach(r=>n.searchParams.append("args[]",r)),`Minified MUI error #${t}; visit ${n} for the full message.`}function PA(t){if(typeof t!="string")throw new Error(ka(7));return t.charAt(0).toUpperCase()+t.slice(1)}var vy={exports:{}},Xe={};/**
 * @license React
 * react-is.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var oT;function ZH(){if(oT)return Xe;oT=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),s=Symbol.for("react.consumer"),a=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),f=Symbol.for("react.suspense_list"),h=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),v=Symbol.for("react.view_transition"),x=Symbol.for("react.client.reference");function _(T){if(typeof T=="object"&&T!==null){var N=T.$$typeof;switch(N){case t:switch(T=T.type,T){case n:case i:case r:case u:case f:case v:return T;default:switch(T=T&&T.$$typeof,T){case a:case c:case g:case h:return T;case s:return T;default:return N}}case e:return N}}}return Xe.ContextConsumer=s,Xe.ContextProvider=a,Xe.Element=t,Xe.ForwardRef=c,Xe.Fragment=n,Xe.Lazy=g,Xe.Memo=h,Xe.Portal=e,Xe.Profiler=i,Xe.StrictMode=r,Xe.Suspense=u,Xe.SuspenseList=f,Xe.isContextConsumer=function(T){return _(T)===s},Xe.isContextProvider=function(T){return _(T)===a},Xe.isElement=function(T){return typeof T=="object"&&T!==null&&T.$$typeof===t},Xe.isForwardRef=function(T){return _(T)===c},Xe.isFragment=function(T){return _(T)===n},Xe.isLazy=function(T){return _(T)===g},Xe.isMemo=function(T){return _(T)===h},Xe.isPortal=function(T){return _(T)===e},Xe.isProfiler=function(T){return _(T)===i},Xe.isStrictMode=function(T){return _(T)===r},Xe.isSuspense=function(T){return _(T)===u},Xe.isSuspenseList=function(T){return _(T)===f},Xe.isValidElementType=function(T){return typeof T=="string"||typeof T=="function"||T===n||T===i||T===r||T===u||T===f||typeof T=="object"&&T!==null&&(T.$$typeof===g||T.$$typeof===h||T.$$typeof===a||T.$$typeof===s||T.$$typeof===c||T.$$typeof===x||T.getModuleId!==void 0)},Xe.typeOf=_,Xe}var aT;function eW(){return aT||(aT=1,vy.exports=ZH()),vy.exports}var IA=eW();function _i(t){if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)}function RA(t){if(C.isValidElement(t)||IA.isValidElementType(t)||!_i(t))return t;const e={};return Object.keys(t).forEach(n=>{e[n]=RA(t[n])}),e}function sr(t,e,n={clone:!0}){const r=n.clone?{...t}:t;return _i(t)&&_i(e)&&Object.keys(e).forEach(i=>{C.isValidElement(e[i])||IA.isValidElementType(e[i])?r[i]=e[i]:_i(e[i])&&Object.prototype.hasOwnProperty.call(t,i)&&_i(t[i])?r[i]=sr(t[i],e[i],n):n.clone?r[i]=_i(e[i])?RA(e[i]):e[i]:r[i]=e[i]}),r}function td(t,e){return e?sr(t,e,{clone:!1}):t}function tW(t,e){if(!t.containerQueries)return e;const n=Object.keys(e).filter(r=>r.startsWith("@container")).sort((r,i)=>{const s=/min-width:\s*([0-9.]+)/;return+(r.match(s)?.[1]||0)-+(i.match(s)?.[1]||0)});return n.length?n.reduce((r,i)=>{const s=e[i];return delete r[i],r[i]=s,r},{...e}):e}function nW(t,e){return e==="@"||e.startsWith("@")&&(t.some(n=>e.startsWith(`@${n}`))||!!e.match(/^@\d/))}function rW(t,e){const n=e.match(/^@([^/]+)?\/?(.+)?$/);if(!n)return null;const[,r,i]=n,s=Number.isNaN(+r)?r||0:+r;return t.containerQueries(i).up(s)}function iW(t){const e=(s,a)=>s.replace("@media",a?`@container ${a}`:"@container");function n(s,a){s.up=(...c)=>e(t.breakpoints.up(...c),a),s.down=(...c)=>e(t.breakpoints.down(...c),a),s.between=(...c)=>e(t.breakpoints.between(...c),a),s.only=(...c)=>e(t.breakpoints.only(...c),a),s.not=(...c)=>{const u=e(t.breakpoints.not(...c),a);return u.includes("not all and")?u.replace("not all and ","").replace("min-width:","width<").replace("max-width:","width>").replace("and","or"):u}}const r={},i=s=>(n(r,s),r);return n(i),{...t,containerQueries:i}}const Nm={xs:0,sm:600,md:900,lg:1200,xl:1536},lT={keys:["xs","sm","md","lg","xl"],up:t=>`@media (min-width:${Nm[t]}px)`},sW={containerQueries:t=>({up:e=>{let n=typeof e=="number"?e:Nm[e]||e;return typeof n=="number"&&(n=`${n}px`),t?`@container ${t} (min-width:${n})`:`@container (min-width:${n})`}})};function gs(t,e,n){const r=t.theme||{};if(Array.isArray(e)){const s=r.breakpoints||lT;return e.reduce((a,c,u)=>(a[s.up(s.keys[u])]=n(e[u]),a),{})}if(typeof e=="object"){const s=r.breakpoints||lT;return Object.keys(e).reduce((a,c)=>{if(nW(s.keys,c)){const u=rW(r.containerQueries?r:sW,c);u&&(a[u]=n(e[c],c))}else if(Object.keys(s.values||Nm).includes(c)){const u=s.up(c);a[u]=n(e[c],c)}else{const u=c;a[u]=e[u]}return a},{})}return n(e)}function oW(t={}){return t.keys?.reduce((n,r)=>{const i=t.up(r);return n[i]={},n},{})||{}}function aW(t,e){return t.reduce((n,r)=>{const i=n[r];return(!i||Object.keys(i).length===0)&&delete n[r],n},e)}function Om(t,e,n=!0){if(!e||typeof e!="string")return null;if(t&&t.vars&&n){const r=`vars.${e}`.split(".").reduce((i,s)=>i&&i[s]?i[s]:null,t);if(r!=null)return r}return e.split(".").reduce((r,i)=>r&&r[i]!=null?r[i]:null,t)}function Wp(t,e,n,r=n){let i;return typeof t=="function"?i=t(n):Array.isArray(t)?i=t[n]||r:i=Om(t,n)||r,e&&(i=e(i,r,t)),i}function At(t){const{prop:e,cssProperty:n=t.prop,themeKey:r,transform:i}=t,s=a=>{if(a[e]==null)return null;const c=a[e],u=a.theme,f=Om(u,r)||{};return gs(a,c,g=>{let v=Wp(f,i,g);return g===v&&typeof g=="string"&&(v=Wp(f,i,`${e}${g==="default"?"":PA(g)}`,g)),n===!1?v:{[n]:v}})};return s.propTypes={},s.filterProps=[e],s}function lW(t){const e={};return n=>(e[n]===void 0&&(e[n]=t(n)),e[n])}const cW={m:"margin",p:"padding"},uW={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},cT={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},dW=lW(t=>{if(t.length>2)if(cT[t])t=cT[t];else return[t];const[e,n]=t.split(""),r=cW[e],i=uW[n]||"";return Array.isArray(i)?i.map(s=>r+s):[r+i]}),dx=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],fx=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"];[...dx,...fx];function sf(t,e,n,r){const i=Om(t,e,!0)??n;return typeof i=="number"||typeof i=="string"?s=>typeof s=="string"?s:typeof i=="string"?i.startsWith("var(")&&s===0?0:i.startsWith("var(")&&s===1?i:`calc(${s} * ${i})`:i*s:Array.isArray(i)?s=>{if(typeof s=="string")return s;const a=Math.abs(s),c=i[a];return s>=0?c:typeof c=="number"?-c:typeof c=="string"&&c.startsWith("var(")?`calc(-1 * ${c})`:`-${c}`}:typeof i=="function"?i:()=>{}}function hx(t){return sf(t,"spacing",8)}function of(t,e){return typeof e=="string"||e==null?e:t(e)}function fW(t,e){return n=>t.reduce((r,i)=>(r[i]=of(e,n),r),{})}function hW(t,e,n,r){if(!e.includes(n))return null;const i=dW(n),s=fW(i,r),a=t[n];return gs(t,a,s)}function AA(t,e){const n=hx(t.theme);return Object.keys(t).map(r=>hW(t,e,r,n)).reduce(td,{})}function xt(t){return AA(t,dx)}xt.propTypes={};xt.filterProps=dx;function bt(t){return AA(t,fx)}bt.propTypes={};bt.filterProps=fx;function Mm(...t){const e=t.reduce((r,i)=>(i.filterProps.forEach(s=>{r[s]=i}),r),{}),n=r=>Object.keys(r).reduce((i,s)=>e[s]?td(i,e[s](r)):i,{});return n.propTypes={},n.filterProps=t.reduce((r,i)=>r.concat(i.filterProps),[]),n}function br(t){return typeof t!="number"?t:`${t}px solid`}function Ir(t,e){return At({prop:t,themeKey:"borders",transform:e})}const pW=Ir("border",br),mW=Ir("borderTop",br),gW=Ir("borderRight",br),vW=Ir("borderBottom",br),yW=Ir("borderLeft",br),wW=Ir("borderColor"),_W=Ir("borderTopColor"),xW=Ir("borderRightColor"),bW=Ir("borderBottomColor"),EW=Ir("borderLeftColor"),SW=Ir("outline",br),CW=Ir("outlineColor"),Dm=t=>{if(t.borderRadius!==void 0&&t.borderRadius!==null){const e=sf(t.theme,"shape.borderRadius",4),n=r=>({borderRadius:of(e,r)});return gs(t,t.borderRadius,n)}return null};Dm.propTypes={};Dm.filterProps=["borderRadius"];Mm(pW,mW,gW,vW,yW,wW,_W,xW,bW,EW,Dm,SW,CW);const Lm=t=>{if(t.gap!==void 0&&t.gap!==null){const e=sf(t.theme,"spacing",8),n=r=>({gap:of(e,r)});return gs(t,t.gap,n)}return null};Lm.propTypes={};Lm.filterProps=["gap"];const jm=t=>{if(t.columnGap!==void 0&&t.columnGap!==null){const e=sf(t.theme,"spacing",8),n=r=>({columnGap:of(e,r)});return gs(t,t.columnGap,n)}return null};jm.propTypes={};jm.filterProps=["columnGap"];const Fm=t=>{if(t.rowGap!==void 0&&t.rowGap!==null){const e=sf(t.theme,"spacing",8),n=r=>({rowGap:of(e,r)});return gs(t,t.rowGap,n)}return null};Fm.propTypes={};Fm.filterProps=["rowGap"];const TW=At({prop:"gridColumn"}),kW=At({prop:"gridRow"}),PW=At({prop:"gridAutoFlow"}),IW=At({prop:"gridAutoColumns"}),RW=At({prop:"gridAutoRows"}),AW=At({prop:"gridTemplateColumns"}),NW=At({prop:"gridTemplateRows"}),OW=At({prop:"gridTemplateAreas"}),MW=At({prop:"gridArea"});Mm(Lm,jm,Fm,TW,kW,PW,IW,RW,AW,NW,OW,MW);function Kl(t,e){return e==="grey"?e:t}const DW=At({prop:"color",themeKey:"palette",transform:Kl}),LW=At({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette",transform:Kl}),jW=At({prop:"backgroundColor",themeKey:"palette",transform:Kl});Mm(DW,LW,jW);function rr(t){return t<=1&&t!==0?`${t*100}%`:t}const FW=At({prop:"width",transform:rr}),px=t=>{if(t.maxWidth!==void 0&&t.maxWidth!==null){const e=n=>{const r=t.theme?.breakpoints?.values?.[n]||Nm[n];return r?t.theme?.breakpoints?.unit!=="px"?{maxWidth:`${r}${t.theme.breakpoints.unit}`}:{maxWidth:r}:{maxWidth:rr(n)}};return gs(t,t.maxWidth,e)}return null};px.filterProps=["maxWidth"];const $W=At({prop:"minWidth",transform:rr}),VW=At({prop:"height",transform:rr}),UW=At({prop:"maxHeight",transform:rr}),BW=At({prop:"minHeight",transform:rr});At({prop:"size",cssProperty:"width",transform:rr});At({prop:"size",cssProperty:"height",transform:rr});const zW=At({prop:"boxSizing"});Mm(FW,px,$W,VW,UW,BW,zW);const af={border:{themeKey:"borders",transform:br},borderTop:{themeKey:"borders",transform:br},borderRight:{themeKey:"borders",transform:br},borderBottom:{themeKey:"borders",transform:br},borderLeft:{themeKey:"borders",transform:br},borderColor:{themeKey:"palette"},borderTopColor:{themeKey:"palette"},borderRightColor:{themeKey:"palette"},borderBottomColor:{themeKey:"palette"},borderLeftColor:{themeKey:"palette"},outline:{themeKey:"borders",transform:br},outlineColor:{themeKey:"palette"},borderRadius:{themeKey:"shape.borderRadius",style:Dm},color:{themeKey:"palette",transform:Kl},bgcolor:{themeKey:"palette",cssProperty:"backgroundColor",transform:Kl},backgroundColor:{themeKey:"palette",transform:Kl},p:{style:bt},pt:{style:bt},pr:{style:bt},pb:{style:bt},pl:{style:bt},px:{style:bt},py:{style:bt},padding:{style:bt},paddingTop:{style:bt},paddingRight:{style:bt},paddingBottom:{style:bt},paddingLeft:{style:bt},paddingX:{style:bt},paddingY:{style:bt},paddingInline:{style:bt},paddingInlineStart:{style:bt},paddingInlineEnd:{style:bt},paddingBlock:{style:bt},paddingBlockStart:{style:bt},paddingBlockEnd:{style:bt},m:{style:xt},mt:{style:xt},mr:{style:xt},mb:{style:xt},ml:{style:xt},mx:{style:xt},my:{style:xt},margin:{style:xt},marginTop:{style:xt},marginRight:{style:xt},marginBottom:{style:xt},marginLeft:{style:xt},marginX:{style:xt},marginY:{style:xt},marginInline:{style:xt},marginInlineStart:{style:xt},marginInlineEnd:{style:xt},marginBlock:{style:xt},marginBlockStart:{style:xt},marginBlockEnd:{style:xt},displayPrint:{cssProperty:!1,transform:t=>({"@media print":{display:t}})},display:{},overflow:{},textOverflow:{},visibility:{},whiteSpace:{},flexBasis:{},flexDirection:{},flexWrap:{},justifyContent:{},alignItems:{},alignContent:{},order:{},flex:{},flexGrow:{},flexShrink:{},alignSelf:{},justifyItems:{},justifySelf:{},gap:{style:Lm},rowGap:{style:Fm},columnGap:{style:jm},gridColumn:{},gridRow:{},gridAutoFlow:{},gridAutoColumns:{},gridAutoRows:{},gridTemplateColumns:{},gridTemplateRows:{},gridTemplateAreas:{},gridArea:{},position:{},zIndex:{themeKey:"zIndex"},top:{},right:{},bottom:{},left:{},boxShadow:{themeKey:"shadows"},width:{transform:rr},maxWidth:{style:px},minWidth:{transform:rr},height:{transform:rr},maxHeight:{transform:rr},minHeight:{transform:rr},boxSizing:{},font:{themeKey:"font"},fontFamily:{themeKey:"typography"},fontSize:{themeKey:"typography"},fontStyle:{themeKey:"typography"},fontWeight:{themeKey:"typography"},letterSpacing:{},textTransform:{},lineHeight:{},textAlign:{},typography:{cssProperty:!1,themeKey:"typography"}};function HW(...t){const e=t.reduce((r,i)=>r.concat(Object.keys(i)),[]),n=new Set(e);return t.every(r=>n.size===Object.keys(r).length)}function WW(t,e){return typeof t=="function"?t(e):t}function qW(){function t(n,r,i,s){const a={[n]:r,theme:i},c=s[n];if(!c)return{[n]:r};const{cssProperty:u=n,themeKey:f,transform:h,style:g}=c;if(r==null)return null;if(f==="typography"&&r==="inherit")return{[n]:r};const v=Om(i,f)||{};return g?g(a):gs(a,r,_=>{let T=Wp(v,h,_);return _===T&&typeof _=="string"&&(T=Wp(v,h,`${n}${_==="default"?"":PA(_)}`,_)),u===!1?T:{[u]:T}})}function e(n){const{sx:r,theme:i={}}=n||{};if(!r)return null;const s=i.unstable_sxConfig??af;function a(c){let u=c;if(typeof c=="function")u=c(i);else if(typeof c!="object")return c;if(!u)return null;const f=oW(i.breakpoints),h=Object.keys(f);let g=f;return Object.keys(u).forEach(v=>{const x=WW(u[v],i);if(x!=null)if(typeof x=="object")if(s[v])g=td(g,t(v,x,i,s));else{const _=gs({theme:i},x,T=>({[v]:T}));HW(_,x)?g[v]=e({sx:x,theme:i}):g=td(g,_)}else g=td(g,t(v,x,i,s))}),tW(i,aW(h,g))}return Array.isArray(r)?r.map(a):a(r)}return e}const Pa=qW();Pa.filterProps=["sx"];const GW=t=>{const e={systemProps:{},otherProps:{}},n=t?.theme?.unstable_sxConfig??af;return Object.keys(t).forEach(r=>{n[r]?e.systemProps[r]=t[r]:e.otherProps[r]=t[r]}),e};function KW(t){const{sx:e,...n}=t,{systemProps:r,otherProps:i}=GW(n);let s;return Array.isArray(e)?s=[r,...e]:typeof e=="function"?s=(...a)=>{const c=e(...a);return _i(c)?{...r,...c}:r}:s={...r,...e},{...i,sx:s}}function z0(){return z0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},z0.apply(null,arguments)}function YW(t){if(t.sheet)return t.sheet;for(var e=0;e<document.styleSheets.length;e++)if(document.styleSheets[e].ownerNode===t)return document.styleSheets[e]}function XW(t){var e=document.createElement("style");return e.setAttribute("data-emotion",t.key),t.nonce!==void 0&&e.setAttribute("nonce",t.nonce),e.appendChild(document.createTextNode("")),e.setAttribute("data-s",""),e}var JW=function(){function t(n){var r=this;this._insertTag=function(i){var s;r.tags.length===0?r.insertionPoint?s=r.insertionPoint.nextSibling:r.prepend?s=r.container.firstChild:s=r.before:s=r.tags[r.tags.length-1].nextSibling,r.container.insertBefore(i,s),r.tags.push(i)},this.isSpeedy=n.speedy===void 0?!0:n.speedy,this.tags=[],this.ctr=0,this.nonce=n.nonce,this.key=n.key,this.container=n.container,this.prepend=n.prepend,this.insertionPoint=n.insertionPoint,this.before=null}var e=t.prototype;return e.hydrate=function(r){r.forEach(this._insertTag)},e.insert=function(r){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(XW(this));var i=this.tags[this.tags.length-1];if(this.isSpeedy){var s=YW(i);try{s.insertRule(r,s.cssRules.length)}catch{}}else i.appendChild(document.createTextNode(r));this.ctr++},e.flush=function(){this.tags.forEach(function(r){var i;return(i=r.parentNode)==null?void 0:i.removeChild(r)}),this.tags=[],this.ctr=0},t}(),pn="-ms-",qp="-moz-",qe="-webkit-",NA="comm",mx="rule",gx="decl",QW="@import",OA="@keyframes",ZW="@layer",eq=Math.abs,$m=String.fromCharCode,tq=Object.assign;function nq(t,e){return on(t,0)^45?(((e<<2^on(t,0))<<2^on(t,1))<<2^on(t,2))<<2^on(t,3):0}function MA(t){return t.trim()}function rq(t,e){return(t=e.exec(t))?t[0]:t}function Ge(t,e,n){return t.replace(e,n)}function H0(t,e){return t.indexOf(e)}function on(t,e){return t.charCodeAt(e)|0}function Ad(t,e,n){return t.slice(e,n)}function vi(t){return t.length}function vx(t){return t.length}function Fh(t,e){return e.push(t),t}function iq(t,e){return t.map(e).join("")}var Vm=1,ac=1,DA=0,Gn=0,Ot=0,bc="";function Um(t,e,n,r,i,s,a){return{value:t,root:e,parent:n,type:r,props:i,children:s,line:Vm,column:ac,length:a,return:""}}function Tu(t,e){return tq(Um("",null,null,"",null,null,0),t,{length:-t.length},e)}function sq(){return Ot}function oq(){return Ot=Gn>0?on(bc,--Gn):0,ac--,Ot===10&&(ac=1,Vm--),Ot}function or(){return Ot=Gn<DA?on(bc,Gn++):0,ac++,Ot===10&&(ac=1,Vm++),Ot}function ki(){return on(bc,Gn)}function sp(){return Gn}function lf(t,e){return Ad(bc,t,e)}function Nd(t){switch(t){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function LA(t){return Vm=ac=1,DA=vi(bc=t),Gn=0,[]}function jA(t){return bc="",t}function op(t){return MA(lf(Gn-1,W0(t===91?t+2:t===40?t+1:t)))}function aq(t){for(;(Ot=ki())&&Ot<33;)or();return Nd(t)>2||Nd(Ot)>3?"":" "}function lq(t,e){for(;--e&&or()&&!(Ot<48||Ot>102||Ot>57&&Ot<65||Ot>70&&Ot<97););return lf(t,sp()+(e<6&&ki()==32&&or()==32))}function W0(t){for(;or();)switch(Ot){case t:return Gn;case 34:case 39:t!==34&&t!==39&&W0(Ot);break;case 40:t===41&&W0(t);break;case 92:or();break}return Gn}function cq(t,e){for(;or()&&t+Ot!==57;)if(t+Ot===84&&ki()===47)break;return"/*"+lf(e,Gn-1)+"*"+$m(t===47?t:or())}function uq(t){for(;!Nd(ki());)or();return lf(t,Gn)}function dq(t){return jA(ap("",null,null,null,[""],t=LA(t),0,[0],t))}function ap(t,e,n,r,i,s,a,c,u){for(var f=0,h=0,g=a,v=0,x=0,_=0,T=1,N=1,A=1,k=0,P="",j=i,$=s,z=r,D=P;N;)switch(_=k,k=or()){case 40:if(_!=108&&on(D,g-1)==58){H0(D+=Ge(op(k),"&","&\f"),"&\f")!=-1&&(A=-1);break}case 34:case 39:case 91:D+=op(k);break;case 9:case 10:case 13:case 32:D+=aq(_);break;case 92:D+=lq(sp()-1,7);continue;case 47:switch(ki()){case 42:case 47:Fh(fq(cq(or(),sp()),e,n),u);break;default:D+="/"}break;case 123*T:c[f++]=vi(D)*A;case 125*T:case 59:case 0:switch(k){case 0:case 125:N=0;case 59+h:A==-1&&(D=Ge(D,/\f/g,"")),x>0&&vi(D)-g&&Fh(x>32?dT(D+";",r,n,g-1):dT(Ge(D," ","")+";",r,n,g-2),u);break;case 59:D+=";";default:if(Fh(z=uT(D,e,n,f,h,i,c,P,j=[],$=[],g),s),k===123)if(h===0)ap(D,e,z,z,j,s,g,c,$);else switch(v===99&&on(D,3)===110?100:v){case 100:case 108:case 109:case 115:ap(t,z,z,r&&Fh(uT(t,z,z,0,0,i,c,P,i,j=[],g),$),i,$,g,c,r?j:$);break;default:ap(D,z,z,z,[""],$,0,c,$)}}f=h=x=0,T=A=1,P=D="",g=a;break;case 58:g=1+vi(D),x=_;default:if(T<1){if(k==123)--T;else if(k==125&&T++==0&&oq()==125)continue}switch(D+=$m(k),k*T){case 38:A=h>0?1:(D+="\f",-1);break;case 44:c[f++]=(vi(D)-1)*A,A=1;break;case 64:ki()===45&&(D+=op(or())),v=ki(),h=g=vi(P=D+=uq(sp())),k++;break;case 45:_===45&&vi(D)==2&&(T=0)}}return s}function uT(t,e,n,r,i,s,a,c,u,f,h){for(var g=i-1,v=i===0?s:[""],x=vx(v),_=0,T=0,N=0;_<r;++_)for(var A=0,k=Ad(t,g+1,g=eq(T=a[_])),P=t;A<x;++A)(P=MA(T>0?v[A]+" "+k:Ge(k,/&\f/g,v[A])))&&(u[N++]=P);return Um(t,e,n,i===0?mx:c,u,f,h)}function fq(t,e,n){return Um(t,e,n,NA,$m(sq()),Ad(t,2,-2),0)}function dT(t,e,n,r){return Um(t,e,n,gx,Ad(t,0,r),Ad(t,r+1,-1),r)}function Yl(t,e){for(var n="",r=vx(t),i=0;i<r;i++)n+=e(t[i],i,t,e)||"";return n}function hq(t,e,n,r){switch(t.type){case ZW:if(t.children.length)break;case QW:case gx:return t.return=t.return||t.value;case NA:return"";case OA:return t.return=t.value+"{"+Yl(t.children,r)+"}";case mx:t.value=t.props.join(",")}return vi(n=Yl(t.children,r))?t.return=t.value+"{"+n+"}":""}function pq(t){var e=vx(t);return function(n,r,i,s){for(var a="",c=0;c<e;c++)a+=t[c](n,r,i,s)||"";return a}}function mq(t){return function(e){e.root||(e=e.return)&&t(e)}}function FA(t){var e=Object.create(null);return function(n){return e[n]===void 0&&(e[n]=t(n)),e[n]}}var gq=function(e,n,r){for(var i=0,s=0;i=s,s=ki(),i===38&&s===12&&(n[r]=1),!Nd(s);)or();return lf(e,Gn)},vq=function(e,n){var r=-1,i=44;do switch(Nd(i)){case 0:i===38&&ki()===12&&(n[r]=1),e[r]+=gq(Gn-1,n,r);break;case 2:e[r]+=op(i);break;case 4:if(i===44){e[++r]=ki()===58?"&\f":"",n[r]=e[r].length;break}default:e[r]+=$m(i)}while(i=or());return e},yq=function(e,n){return jA(vq(LA(e),n))},fT=new WeakMap,wq=function(e){if(!(e.type!=="rule"||!e.parent||e.length<1)){for(var n=e.value,r=e.parent,i=e.column===r.column&&e.line===r.line;r.type!=="rule";)if(r=r.parent,!r)return;if(!(e.props.length===1&&n.charCodeAt(0)!==58&&!fT.get(r))&&!i){fT.set(e,!0);for(var s=[],a=yq(n,s),c=r.props,u=0,f=0;u<a.length;u++)for(var h=0;h<c.length;h++,f++)e.props[f]=s[u]?a[u].replace(/&\f/g,c[h]):c[h]+" "+a[u]}}},_q=function(e){if(e.type==="decl"){var n=e.value;n.charCodeAt(0)===108&&n.charCodeAt(2)===98&&(e.return="",e.value="")}};function $A(t,e){switch(nq(t,e)){case 5103:return qe+"print-"+t+t;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return qe+t+t;case 5349:case 4246:case 4810:case 6968:case 2756:return qe+t+qp+t+pn+t+t;case 6828:case 4268:return qe+t+pn+t+t;case 6165:return qe+t+pn+"flex-"+t+t;case 5187:return qe+t+Ge(t,/(\w+).+(:[^]+)/,qe+"box-$1$2"+pn+"flex-$1$2")+t;case 5443:return qe+t+pn+"flex-item-"+Ge(t,/flex-|-self/,"")+t;case 4675:return qe+t+pn+"flex-line-pack"+Ge(t,/align-content|flex-|-self/,"")+t;case 5548:return qe+t+pn+Ge(t,"shrink","negative")+t;case 5292:return qe+t+pn+Ge(t,"basis","preferred-size")+t;case 6060:return qe+"box-"+Ge(t,"-grow","")+qe+t+pn+Ge(t,"grow","positive")+t;case 4554:return qe+Ge(t,/([^-])(transform)/g,"$1"+qe+"$2")+t;case 6187:return Ge(Ge(Ge(t,/(zoom-|grab)/,qe+"$1"),/(image-set)/,qe+"$1"),t,"")+t;case 5495:case 3959:return Ge(t,/(image-set\([^]*)/,qe+"$1$`$1");case 4968:return Ge(Ge(t,/(.+:)(flex-)?(.*)/,qe+"box-pack:$3"+pn+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+qe+t+t;case 4095:case 3583:case 4068:case 2532:return Ge(t,/(.+)-inline(.+)/,qe+"$1$2")+t;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(vi(t)-1-e>6)switch(on(t,e+1)){case 109:if(on(t,e+4)!==45)break;case 102:return Ge(t,/(.+:)(.+)-([^]+)/,"$1"+qe+"$2-$3$1"+qp+(on(t,e+3)==108?"$3":"$2-$3"))+t;case 115:return~H0(t,"stretch")?$A(Ge(t,"stretch","fill-available"),e)+t:t}break;case 4949:if(on(t,e+1)!==115)break;case 6444:switch(on(t,vi(t)-3-(~H0(t,"!important")&&10))){case 107:return Ge(t,":",":"+qe)+t;case 101:return Ge(t,/(.+:)([^;!]+)(;|!.+)?/,"$1"+qe+(on(t,14)===45?"inline-":"")+"box$3$1"+qe+"$2$3$1"+pn+"$2box$3")+t}break;case 5936:switch(on(t,e+11)){case 114:return qe+t+pn+Ge(t,/[svh]\w+-[tblr]{2}/,"tb")+t;case 108:return qe+t+pn+Ge(t,/[svh]\w+-[tblr]{2}/,"tb-rl")+t;case 45:return qe+t+pn+Ge(t,/[svh]\w+-[tblr]{2}/,"lr")+t}return qe+t+pn+t+t}return t}var xq=function(e,n,r,i){if(e.length>-1&&!e.return)switch(e.type){case gx:e.return=$A(e.value,e.length);break;case OA:return Yl([Tu(e,{value:Ge(e.value,"@","@"+qe)})],i);case mx:if(e.length)return iq(e.props,function(s){switch(rq(s,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return Yl([Tu(e,{props:[Ge(s,/:(read-\w+)/,":"+qp+"$1")]})],i);case"::placeholder":return Yl([Tu(e,{props:[Ge(s,/:(plac\w+)/,":"+qe+"input-$1")]}),Tu(e,{props:[Ge(s,/:(plac\w+)/,":"+qp+"$1")]}),Tu(e,{props:[Ge(s,/:(plac\w+)/,pn+"input-$1")]})],i)}return""})}},bq=[xq],Eq=function(e){var n=e.key;if(n==="css"){var r=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(r,function(T){var N=T.getAttribute("data-emotion");N.indexOf(" ")!==-1&&(document.head.appendChild(T),T.setAttribute("data-s",""))})}var i=e.stylisPlugins||bq,s={},a,c=[];a=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+n+' "]'),function(T){for(var N=T.getAttribute("data-emotion").split(" "),A=1;A<N.length;A++)s[N[A]]=!0;c.push(T)});var u,f=[wq,_q];{var h,g=[hq,mq(function(T){h.insert(T)})],v=pq(f.concat(i,g)),x=function(N){return Yl(dq(N),v)};u=function(N,A,k,P){h=k,x(N?N+"{"+A.styles+"}":A.styles),P&&(_.inserted[A.name]=!0)}}var _={key:n,sheet:new JW({key:n,container:a,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:s,registered:{},insert:u};return _.sheet.hydrate(c),_},Sq=!0;function Cq(t,e,n){var r="";return n.split(" ").forEach(function(i){t[i]!==void 0?e.push(t[i]+";"):i&&(r+=i+" ")}),r}var VA=function(e,n,r){var i=e.key+"-"+n.name;(r===!1||Sq===!1)&&e.registered[i]===void 0&&(e.registered[i]=n.styles)},Tq=function(e,n,r){VA(e,n,r);var i=e.key+"-"+n.name;if(e.inserted[n.name]===void 0){var s=n;do e.insert(n===s?"."+i:"",s,e.sheet,!0),s=s.next;while(s!==void 0)}};function kq(t){for(var e=0,n,r=0,i=t.length;i>=4;++r,i-=4)n=t.charCodeAt(r)&255|(t.charCodeAt(++r)&255)<<8|(t.charCodeAt(++r)&255)<<16|(t.charCodeAt(++r)&255)<<24,n=(n&65535)*1540483477+((n>>>16)*59797<<16),n^=n>>>24,e=(n&65535)*1540483477+((n>>>16)*59797<<16)^(e&65535)*1540483477+((e>>>16)*59797<<16);switch(i){case 3:e^=(t.charCodeAt(r+2)&255)<<16;case 2:e^=(t.charCodeAt(r+1)&255)<<8;case 1:e^=t.charCodeAt(r)&255,e=(e&65535)*1540483477+((e>>>16)*59797<<16)}return e^=e>>>13,e=(e&65535)*1540483477+((e>>>16)*59797<<16),((e^e>>>15)>>>0).toString(36)}var Pq={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,scale:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},Iq=/[A-Z]|^ms/g,Rq=/_EMO_([^_]+?)_([^]*?)_EMO_/g,UA=function(e){return e.charCodeAt(1)===45},hT=function(e){return e!=null&&typeof e!="boolean"},yy=FA(function(t){return UA(t)?t:t.replace(Iq,"-$&").toLowerCase()}),pT=function(e,n){switch(e){case"animation":case"animationName":if(typeof n=="string")return n.replace(Rq,function(r,i,s){return yi={name:i,styles:s,next:yi},i})}return Pq[e]!==1&&!UA(e)&&typeof n=="number"&&n!==0?n+"px":n};function Od(t,e,n){if(n==null)return"";var r=n;if(r.__emotion_styles!==void 0)return r;switch(typeof n){case"boolean":return"";case"object":{var i=n;if(i.anim===1)return yi={name:i.name,styles:i.styles,next:yi},i.name;var s=n;if(s.styles!==void 0){var a=s.next;if(a!==void 0)for(;a!==void 0;)yi={name:a.name,styles:a.styles,next:yi},a=a.next;var c=s.styles+";";return c}return Aq(t,e,n)}case"function":{if(t!==void 0){var u=yi,f=n(t);return yi=u,Od(t,e,f)}break}}var h=n;if(e==null)return h;var g=e[h];return g!==void 0?g:h}function Aq(t,e,n){var r="";if(Array.isArray(n))for(var i=0;i<n.length;i++)r+=Od(t,e,n[i])+";";else for(var s in n){var a=n[s];if(typeof a!="object"){var c=a;e!=null&&e[c]!==void 0?r+=s+"{"+e[c]+"}":hT(c)&&(r+=yy(s)+":"+pT(s,c)+";")}else if(Array.isArray(a)&&typeof a[0]=="string"&&(e==null||e[a[0]]===void 0))for(var u=0;u<a.length;u++)hT(a[u])&&(r+=yy(s)+":"+pT(s,a[u])+";");else{var f=Od(t,e,a);switch(s){case"animation":case"animationName":{r+=yy(s)+":"+f+";";break}default:r+=s+"{"+f+"}"}}}return r}var mT=/label:\s*([^\s;{]+)\s*(;|$)/g,yi;function BA(t,e,n){if(t.length===1&&typeof t[0]=="object"&&t[0]!==null&&t[0].styles!==void 0)return t[0];var r=!0,i="";yi=void 0;var s=t[0];if(s==null||s.raw===void 0)r=!1,i+=Od(n,e,s);else{var a=s;i+=a[0]}for(var c=1;c<t.length;c++)if(i+=Od(n,e,t[c]),r){var u=s;i+=u[c]}mT.lastIndex=0;for(var f="",h;(h=mT.exec(i))!==null;)f+="-"+h[1];var g=kq(i)+f;return{name:g,styles:i,next:yi}}var Nq=function(e){return e()},Oq=up.useInsertionEffect?up.useInsertionEffect:!1,Mq=Oq||Nq,zA=C.createContext(typeof HTMLElement<"u"?Eq({key:"css"}):null);zA.Provider;var Dq=function(e){return C.forwardRef(function(n,r){var i=C.useContext(zA);return e(n,i,r)})},HA=C.createContext({}),Lq=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|disableRemotePlayback|download|draggable|encType|enterKeyHint|fetchpriority|fetchPriority|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,jq=FA(function(t){return Lq.test(t)||t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)<91}),Fq=jq,$q=function(e){return e!=="theme"},gT=function(e){return typeof e=="string"&&e.charCodeAt(0)>96?Fq:$q},vT=function(e,n,r){var i;if(n){var s=n.shouldForwardProp;i=e.__emotion_forwardProp&&s?function(a){return e.__emotion_forwardProp(a)&&s(a)}:s}return typeof i!="function"&&r&&(i=e.__emotion_forwardProp),i},Vq=function(e){var n=e.cache,r=e.serialized,i=e.isStringTag;return VA(n,r,i),Mq(function(){return Tq(n,r,i)}),null},Uq=function t(e,n){var r=e.__emotion_real===e,i=r&&e.__emotion_base||e,s,a;n!==void 0&&(s=n.label,a=n.target);var c=vT(e,n,r),u=c||gT(i),f=!u("as");return function(){var h=arguments,g=r&&e.__emotion_styles!==void 0?e.__emotion_styles.slice(0):[];if(s!==void 0&&g.push("label:"+s+";"),h[0]==null||h[0].raw===void 0)g.push.apply(g,h);else{var v=h[0];g.push(v[0]);for(var x=h.length,_=1;_<x;_++)g.push(h[_],v[_])}var T=Dq(function(N,A,k){var P=f&&N.as||i,j="",$=[],z=N;if(N.theme==null){z={};for(var D in N)z[D]=N[D];z.theme=C.useContext(HA)}typeof N.className=="string"?j=Cq(A.registered,$,N.className):N.className!=null&&(j=N.className+" ");var I=BA(g.concat($),A.registered,z);j+=A.key+"-"+I.name,a!==void 0&&(j+=" "+a);var O=f&&c===void 0?gT(P):u,b={};for(var M in N)f&&M==="as"||O(M)&&(b[M]=N[M]);return b.className=j,k&&(b.ref=k),C.createElement(C.Fragment,null,C.createElement(Vq,{cache:A,serialized:I,isStringTag:typeof P=="string"}),C.createElement(P,b))});return T.displayName=s!==void 0?s:"Styled("+(typeof i=="string"?i:i.displayName||i.name||"Component")+")",T.defaultProps=e.defaultProps,T.__emotion_real=T,T.__emotion_base=i,T.__emotion_styles=g,T.__emotion_forwardProp=c,Object.defineProperty(T,"toString",{value:function(){return"."+a}}),T.withComponent=function(N,A){var k=t(N,z0({},n,A,{shouldForwardProp:vT(T,A,!0)}));return k.apply(void 0,g)},T}},Bq=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"],q0=Uq.bind(null);Bq.forEach(function(t){q0[t]=q0(t)});function WA(t,e){return q0(t,e)}function zq(t,e){Array.isArray(t.__emotion_styles)&&(t.__emotion_styles=e(t.__emotion_styles))}const yT=[];function wT(t){return yT[0]=t,BA(yT)}const Hq=t=>{const e=Object.keys(t).map(n=>({key:n,val:t[n]}))||[];return e.sort((n,r)=>n.val-r.val),e.reduce((n,r)=>({...n,[r.key]:r.val}),{})};function Wq(t){const{values:e={xs:0,sm:600,md:900,lg:1200,xl:1536},unit:n="px",step:r=5,...i}=t,s=Hq(e),a=Object.keys(s);function c(v){return`@media (min-width:${typeof e[v]=="number"?e[v]:v}${n})`}function u(v){return`@media (max-width:${(typeof e[v]=="number"?e[v]:v)-r/100}${n})`}function f(v,x){const _=a.indexOf(x);return`@media (min-width:${typeof e[v]=="number"?e[v]:v}${n}) and (max-width:${(_!==-1&&typeof e[a[_]]=="number"?e[a[_]]:x)-r/100}${n})`}function h(v){return a.indexOf(v)+1<a.length?f(v,a[a.indexOf(v)+1]):c(v)}function g(v){const x=a.indexOf(v);return x===0?c(a[1]):x===a.length-1?u(a[x]):f(v,a[a.indexOf(v)+1]).replace("@media","@media not all and")}return{keys:a,values:s,up:c,down:u,between:f,only:h,not:g,unit:n,...i}}const qq={borderRadius:4};function qA(t=8,e=hx({spacing:t})){if(t.mui)return t;const n=(...r)=>(r.length===0?[1]:r).map(s=>{const a=e(s);return typeof a=="number"?`${a}px`:a}).join(" ");return n.mui=!0,n}function Gq(t,e){const n=this;if(n.vars){if(!n.colorSchemes?.[t]||typeof n.getColorSchemeSelector!="function")return{};let r=n.getColorSchemeSelector(t);return r==="&"?e:((r.includes("data-")||r.includes("."))&&(r=`*:where(${r.replace(/\s*&$/,"")}) &`),{[r]:e})}return n.palette.mode===t?e:{}}function yx(t={},...e){const{breakpoints:n={},palette:r={},spacing:i,shape:s={},...a}=t,c=Wq(n),u=qA(i);let f=sr({breakpoints:c,direction:"ltr",components:{},palette:{mode:"light",...r},spacing:u,shape:{...qq,...s}},a);return f=iW(f),f.applyStyles=Gq,f=e.reduce((h,g)=>sr(h,g),f),f.unstable_sxConfig={...af,...a?.unstable_sxConfig},f.unstable_sx=function(g){return Pa({sx:g,theme:this})},f}function Kq(t){return Object.keys(t).length===0}function Yq(t=null){const e=C.useContext(HA);return!e||Kq(e)?t:e}const Xq=yx();function GA(t=Xq){return Yq(t)}const _T=t=>t,Jq=()=>{let t=_T;return{configure(e){t=e},generate(e){return t(e)},reset(){t=_T}}},KA=Jq();function Qq(t={}){const{themeId:e,defaultTheme:n,defaultClassName:r="MuiBox-root",generateClassName:i}=t,s=WA("div",{shouldForwardProp:c=>c!=="theme"&&c!=="sx"&&c!=="as"})(Pa);return C.forwardRef(function(u,f){const h=GA(n),{className:g,component:v="div",...x}=KW(u);return w.jsx(s,{as:v,ref:f,className:oc(g,i?i(r):r),theme:e&&h[e]||h,...x})})}const Zq={active:"active",checked:"checked",completed:"completed",disabled:"disabled",error:"error",expanded:"expanded",focused:"focused",focusVisible:"focusVisible",open:"open",readOnly:"readOnly",required:"required",selected:"selected"};function wx(t,e,n="Mui"){const r=Zq[e];return r?`${n}-${r}`:`${KA.generate(t)}-${e}`}function _x(t,e,n="Mui"){const r={};return e.forEach(i=>{r[i]=wx(t,i,n)}),r}function YA(t){const{variants:e,...n}=t,r={variants:e,style:wT(n),isProcessed:!0};return r.style===n||e&&e.forEach(i=>{typeof i.style!="function"&&(i.style=wT(i.style))}),r}const eG=yx();function wy(t){return t!=="ownerState"&&t!=="theme"&&t!=="sx"&&t!=="as"}function tG(t){return t?(e,n)=>n[t]:null}function nG(t,e,n){t.theme=sG(t.theme)?n:t.theme[e]||t.theme}function lp(t,e){const n=typeof e=="function"?e(t):e;if(Array.isArray(n))return n.flatMap(r=>lp(t,r));if(Array.isArray(n?.variants)){let r;if(n.isProcessed)r=n.style;else{const{variants:i,...s}=n;r=s}return XA(t,n.variants,[r])}return n?.isProcessed?n.style:n}function XA(t,e,n=[]){let r;e:for(let i=0;i<e.length;i+=1){const s=e[i];if(typeof s.props=="function"){if(r??={...t,...t.ownerState,ownerState:t.ownerState},!s.props(r))continue}else for(const a in s.props)if(t[a]!==s.props[a]&&t.ownerState?.[a]!==s.props[a])continue e;typeof s.style=="function"?(r??={...t,...t.ownerState,ownerState:t.ownerState},n.push(s.style(r))):n.push(s.style)}return n}function rG(t={}){const{themeId:e,defaultTheme:n=eG,rootShouldForwardProp:r=wy,slotShouldForwardProp:i=wy}=t;function s(c){nG(c,e,n)}return(c,u={})=>{zq(c,$=>$.filter(z=>z!==Pa));const{name:f,slot:h,skipVariantsResolver:g,skipSx:v,overridesResolver:x=tG(aG(h)),..._}=u,T=g!==void 0?g:h&&h!=="Root"&&h!=="root"||!1,N=v||!1;let A=wy;h==="Root"||h==="root"?A=r:h?A=i:oG(c)&&(A=void 0);const k=WA(c,{shouldForwardProp:A,label:iG(),..._}),P=$=>{if(typeof $=="function"&&$.__emotion_real!==$)return function(D){return lp(D,$)};if(_i($)){const z=YA($);return z.variants?function(I){return lp(I,z)}:z.style}return $},j=(...$)=>{const z=[],D=$.map(P),I=[];if(z.push(s),f&&x&&I.push(function(V){const Z=V.theme.components?.[f]?.styleOverrides;if(!Z)return null;const se={};for(const re in Z)se[re]=lp(V,Z[re]);return x(V,se)}),f&&!T&&I.push(function(V){const Z=V.theme?.components?.[f]?.variants;return Z?XA(V,Z):null}),N||I.push(Pa),Array.isArray(D[0])){const M=D.shift(),V=new Array(z.length).fill(""),F=new Array(I.length).fill("");let Z;Z=[...V,...M,...F],Z.raw=[...V,...M.raw,...F],z.unshift(Z)}const O=[...z,...D,...I],b=k(...O);return c.muiName&&(b.muiName=c.muiName),b};return k.withConfig&&(j.withConfig=k.withConfig),j}}function iG(t,e){return void 0}function sG(t){for(const e in t)return!1;return!0}function oG(t){return typeof t=="string"&&t.charCodeAt(0)>96}function aG(t){return t&&t.charAt(0).toLowerCase()+t.slice(1)}function G0(t,e){const n={...e};for(const r in t)if(Object.prototype.hasOwnProperty.call(t,r)){const i=r;if(i==="components"||i==="slots")n[i]={...t[i],...n[i]};else if(i==="componentsProps"||i==="slotProps"){const s=t[i],a=e[i];if(!a)n[i]=s||{};else if(!s)n[i]=a;else{n[i]={...a};for(const c in s)if(Object.prototype.hasOwnProperty.call(s,c)){const u=c;n[i][u]=G0(s[u],a[u])}}}else n[i]===void 0&&(n[i]=t[i])}return n}function lG(t,e=Number.MIN_SAFE_INTEGER,n=Number.MAX_SAFE_INTEGER){return Math.max(e,Math.min(t,n))}function xx(t,e=0,n=1){return lG(t,e,n)}function cG(t){t=t.slice(1);const e=new RegExp(`.{1,${t.length>=6?2:1}}`,"g");let n=t.match(e);return n&&n[0].length===1&&(n=n.map(r=>r+r)),n?`rgb${n.length===4?"a":""}(${n.map((r,i)=>i<3?parseInt(r,16):Math.round(parseInt(r,16)/255*1e3)/1e3).join(", ")})`:""}function yo(t){if(t.type)return t;if(t.charAt(0)==="#")return yo(cG(t));const e=t.indexOf("("),n=t.substring(0,e);if(!["rgb","rgba","hsl","hsla","color"].includes(n))throw new Error(ka(9,t));let r=t.substring(e+1,t.length-1),i;if(n==="color"){if(r=r.split(" "),i=r.shift(),r.length===4&&r[3].charAt(0)==="/"&&(r[3]=r[3].slice(1)),!["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].includes(i))throw new Error(ka(10,i))}else r=r.split(",");return r=r.map(s=>parseFloat(s)),{type:n,values:r,colorSpace:i}}const uG=t=>{const e=yo(t);return e.values.slice(0,3).map((n,r)=>e.type.includes("hsl")&&r!==0?`${n}%`:n).join(" ")},Ou=(t,e)=>{try{return uG(t)}catch{return t}};function Bm(t){const{type:e,colorSpace:n}=t;let{values:r}=t;return e.includes("rgb")?r=r.map((i,s)=>s<3?parseInt(i,10):i):e.includes("hsl")&&(r[1]=`${r[1]}%`,r[2]=`${r[2]}%`),e.includes("color")?r=`${n} ${r.join(" ")}`:r=`${r.join(", ")}`,`${e}(${r})`}function JA(t){t=yo(t);const{values:e}=t,n=e[0],r=e[1]/100,i=e[2]/100,s=r*Math.min(i,1-i),a=(f,h=(f+n/30)%12)=>i-s*Math.max(Math.min(h-3,9-h,1),-1);let c="rgb";const u=[Math.round(a(0)*255),Math.round(a(8)*255),Math.round(a(4)*255)];return t.type==="hsla"&&(c+="a",u.push(e[3])),Bm({type:c,values:u})}function K0(t){t=yo(t);let e=t.type==="hsl"||t.type==="hsla"?yo(JA(t)).values:t.values;return e=e.map(n=>(t.type!=="color"&&(n/=255),n<=.03928?n/12.92:((n+.055)/1.055)**2.4)),Number((.2126*e[0]+.7152*e[1]+.0722*e[2]).toFixed(3))}function dG(t,e){const n=K0(t),r=K0(e);return(Math.max(n,r)+.05)/(Math.min(n,r)+.05)}function fG(t,e){return t=yo(t),e=xx(e),(t.type==="rgb"||t.type==="hsl")&&(t.type+="a"),t.type==="color"?t.values[3]=`/${e}`:t.values[3]=e,Bm(t)}function $h(t,e,n){try{return fG(t,e)}catch{return t}}function bx(t,e){if(t=yo(t),e=xx(e),t.type.includes("hsl"))t.values[2]*=1-e;else if(t.type.includes("rgb")||t.type.includes("color"))for(let n=0;n<3;n+=1)t.values[n]*=1-e;return Bm(t)}function Ze(t,e,n){try{return bx(t,e)}catch{return t}}function Ex(t,e){if(t=yo(t),e=xx(e),t.type.includes("hsl"))t.values[2]+=(100-t.values[2])*e;else if(t.type.includes("rgb"))for(let n=0;n<3;n+=1)t.values[n]+=(255-t.values[n])*e;else if(t.type.includes("color"))for(let n=0;n<3;n+=1)t.values[n]+=(1-t.values[n])*e;return Bm(t)}function et(t,e,n){try{return Ex(t,e)}catch{return t}}function hG(t,e=.15){return K0(t)>.5?bx(t,e):Ex(t,e)}function Vh(t,e,n){try{return hG(t,e)}catch{return t}}const pG=C.createContext(void 0);function mG(t){const{theme:e,name:n,props:r}=t;if(!e||!e.components||!e.components[n])return r;const i=e.components[n];return i.defaultProps?G0(i.defaultProps,r):!i.styleOverrides&&!i.variants?G0(i,r):r}function gG({props:t,name:e}){const n=C.useContext(pG);return mG({props:t,name:e,theme:{components:n}})}const xT={theme:void 0};function vG(t){let e,n;return function(i){let s=e;return(s===void 0||i.theme!==n)&&(xT.theme=i.theme,s=YA(t(xT)),e=s,n=i.theme),s}}function yG(t=""){function e(...r){if(!r.length)return"";const i=r[0];return typeof i=="string"&&!i.match(/(#|\(|\)|(-?(\d*\.)?\d+)(px|em|%|ex|ch|rem|vw|vh|vmin|vmax|cm|mm|in|pt|pc))|^(-?(\d*\.)?\d+)$|(\d+ \d+ \d+)/)?`, var(--${t?`${t}-`:""}${i}${e(...r.slice(1))})`:`, ${i}`}return(r,...i)=>`var(--${t?`${t}-`:""}${r}${e(...i)})`}const bT=(t,e,n,r=[])=>{let i=t;e.forEach((s,a)=>{a===e.length-1?Array.isArray(i)?i[Number(s)]=n:i&&typeof i=="object"&&(i[s]=n):i&&typeof i=="object"&&(i[s]||(i[s]=r.includes(s)?[]:{}),i=i[s])})},wG=(t,e,n)=>{function r(i,s=[],a=[]){Object.entries(i).forEach(([c,u])=>{(!n||n&&!n([...s,c]))&&u!=null&&(typeof u=="object"&&Object.keys(u).length>0?r(u,[...s,c],Array.isArray(u)?[...a,c]:a):e([...s,c],u,a))})}r(t)},_G=(t,e)=>typeof e=="number"?["lineHeight","fontWeight","opacity","zIndex"].some(r=>t.includes(r))||t[t.length-1].toLowerCase().includes("opacity")?e:`${e}px`:e;function _y(t,e){const{prefix:n,shouldSkipGeneratingVar:r}=e||{},i={},s={},a={};return wG(t,(c,u,f)=>{if((typeof u=="string"||typeof u=="number")&&(!r||!r(c,u))){const h=`--${n?`${n}-`:""}${c.join("-")}`,g=_G(c,u);Object.assign(i,{[h]:g}),bT(s,c,`var(${h})`,f),bT(a,c,`var(${h}, ${g})`,f)}},c=>c[0]==="vars"),{css:i,vars:s,varsWithDefaults:a}}function xG(t,e={}){const{getSelector:n=N,disableCssColorScheme:r,colorSchemeSelector:i}=e,{colorSchemes:s={},components:a,defaultColorScheme:c="light",...u}=t,{vars:f,css:h,varsWithDefaults:g}=_y(u,e);let v=g;const x={},{[c]:_,...T}=s;if(Object.entries(T||{}).forEach(([P,j])=>{const{vars:$,css:z,varsWithDefaults:D}=_y(j,e);v=sr(v,D),x[P]={css:z,vars:$}}),_){const{css:P,vars:j,varsWithDefaults:$}=_y(_,e);v=sr(v,$),x[c]={css:P,vars:j}}function N(P,j){let $=i;if(i==="class"&&($=".%s"),i==="data"&&($="[data-%s]"),i?.startsWith("data-")&&!i.includes("%s")&&($=`[${i}="%s"]`),P){if($==="media")return t.defaultColorScheme===P?":root":{[`@media (prefers-color-scheme: ${s[P]?.palette?.mode||P})`]:{":root":j}};if($)return t.defaultColorScheme===P?`:root, ${$.replace("%s",String(P))}`:$.replace("%s",String(P))}return":root"}return{vars:v,generateThemeVars:()=>{let P={...f};return Object.entries(x).forEach(([,{vars:j}])=>{P=sr(P,j)}),P},generateStyleSheets:()=>{const P=[],j=t.defaultColorScheme||"light";function $(I,O){Object.keys(O).length&&P.push(typeof I=="string"?{[I]:{...O}}:I)}$(n(void 0,{...h}),h);const{[j]:z,...D}=x;if(z){const{css:I}=z,O=s[j]?.palette?.mode,b=!r&&O?{colorScheme:O,...I}:{...I};$(n(j,{...b}),b)}return Object.entries(D).forEach(([I,{css:O}])=>{const b=s[I]?.palette?.mode,M=!r&&b?{colorScheme:b,...O}:{...O};$(n(I,{...M}),M)}),P}}}function bG(t){return function(n){return t==="media"?`@media (prefers-color-scheme: ${n})`:t?t.startsWith("data-")&&!t.includes("%s")?`[${t}="${n}"] &`:t==="class"?`.${n} &`:t==="data"?`[data-${n}] &`:`${t.replace("%s",n)} &`:"&"}}const Md={black:"#000",white:"#fff"},EG={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"},Pl={50:"#f3e5f5",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",700:"#7b1fa2"},Il={300:"#e57373",400:"#ef5350",500:"#f44336",700:"#d32f2f",800:"#c62828"},ku={300:"#ffb74d",400:"#ffa726",500:"#ff9800",700:"#f57c00",900:"#e65100"},Rl={50:"#e3f2fd",200:"#90caf9",400:"#42a5f5",700:"#1976d2",800:"#1565c0"},Al={300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",700:"#0288d1",900:"#01579b"},Nl={300:"#81c784",400:"#66bb6a",500:"#4caf50",700:"#388e3c",800:"#2e7d32",900:"#1b5e20"};function QA(){return{text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:Md.white,default:Md.white},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}}}const SG=QA();function ZA(){return{text:{primary:Md.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:"#121212",default:"#121212"},action:{active:Md.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}}}const ET=ZA();function ST(t,e,n,r){const i=r.light||r,s=r.dark||r*1.5;t[e]||(t.hasOwnProperty(n)?t[e]=t[n]:e==="light"?t.light=Ex(t.main,i):e==="dark"&&(t.dark=bx(t.main,s)))}function CG(t="light"){return t==="dark"?{main:Rl[200],light:Rl[50],dark:Rl[400]}:{main:Rl[700],light:Rl[400],dark:Rl[800]}}function TG(t="light"){return t==="dark"?{main:Pl[200],light:Pl[50],dark:Pl[400]}:{main:Pl[500],light:Pl[300],dark:Pl[700]}}function kG(t="light"){return t==="dark"?{main:Il[500],light:Il[300],dark:Il[700]}:{main:Il[700],light:Il[400],dark:Il[800]}}function PG(t="light"){return t==="dark"?{main:Al[400],light:Al[300],dark:Al[700]}:{main:Al[700],light:Al[500],dark:Al[900]}}function IG(t="light"){return t==="dark"?{main:Nl[400],light:Nl[300],dark:Nl[700]}:{main:Nl[800],light:Nl[500],dark:Nl[900]}}function RG(t="light"){return t==="dark"?{main:ku[400],light:ku[300],dark:ku[700]}:{main:"#ed6c02",light:ku[500],dark:ku[900]}}function Sx(t){const{mode:e="light",contrastThreshold:n=3,tonalOffset:r=.2,...i}=t,s=t.primary||CG(e),a=t.secondary||TG(e),c=t.error||kG(e),u=t.info||PG(e),f=t.success||IG(e),h=t.warning||RG(e);function g(T){return dG(T,ET.text.primary)>=n?ET.text.primary:SG.text.primary}const v=({color:T,name:N,mainShade:A=500,lightShade:k=300,darkShade:P=700})=>{if(T={...T},!T.main&&T[A]&&(T.main=T[A]),!T.hasOwnProperty("main"))throw new Error(ka(11,N?` (${N})`:"",A));if(typeof T.main!="string")throw new Error(ka(12,N?` (${N})`:"",JSON.stringify(T.main)));return ST(T,"light",k,r),ST(T,"dark",P,r),T.contrastText||(T.contrastText=g(T.main)),T};let x;return e==="light"?x=QA():e==="dark"&&(x=ZA()),sr({common:{...Md},mode:e,primary:v({color:s,name:"primary"}),secondary:v({color:a,name:"secondary",mainShade:"A400",lightShade:"A200",darkShade:"A700"}),error:v({color:c,name:"error"}),warning:v({color:h,name:"warning"}),info:v({color:u,name:"info"}),success:v({color:f,name:"success"}),grey:EG,contrastThreshold:n,getContrastText:g,augmentColor:v,tonalOffset:r,...x},i)}function AG(t){const e={};return Object.entries(t).forEach(r=>{const[i,s]=r;typeof s=="object"&&(e[i]=`${s.fontStyle?`${s.fontStyle} `:""}${s.fontVariant?`${s.fontVariant} `:""}${s.fontWeight?`${s.fontWeight} `:""}${s.fontStretch?`${s.fontStretch} `:""}${s.fontSize||""}${s.lineHeight?`/${s.lineHeight} `:""}${s.fontFamily||""}`)}),e}function NG(t,e){return{toolbar:{minHeight:56,[t.up("xs")]:{"@media (orientation: landscape)":{minHeight:48}},[t.up("sm")]:{minHeight:64}},...e}}function OG(t){return Math.round(t*1e5)/1e5}const CT={textTransform:"uppercase"},TT='"Roboto", "Helvetica", "Arial", sans-serif';function MG(t,e){const{fontFamily:n=TT,fontSize:r=14,fontWeightLight:i=300,fontWeightRegular:s=400,fontWeightMedium:a=500,fontWeightBold:c=700,htmlFontSize:u=16,allVariants:f,pxToRem:h,...g}=typeof e=="function"?e(t):e,v=r/14,x=h||(N=>`${N/u*v}rem`),_=(N,A,k,P,j)=>({fontFamily:n,fontWeight:N,fontSize:x(A),lineHeight:k,...n===TT?{letterSpacing:`${OG(P/A)}em`}:{},...j,...f}),T={h1:_(i,96,1.167,-1.5),h2:_(i,60,1.2,-.5),h3:_(s,48,1.167,0),h4:_(s,34,1.235,.25),h5:_(s,24,1.334,0),h6:_(a,20,1.6,.15),subtitle1:_(s,16,1.75,.15),subtitle2:_(a,14,1.57,.1),body1:_(s,16,1.5,.15),body2:_(s,14,1.43,.15),button:_(a,14,1.75,.4,CT),caption:_(s,12,1.66,.4),overline:_(s,12,2.66,1,CT),inherit:{fontFamily:"inherit",fontWeight:"inherit",fontSize:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}};return sr({htmlFontSize:u,pxToRem:x,fontFamily:n,fontSize:r,fontWeightLight:i,fontWeightRegular:s,fontWeightMedium:a,fontWeightBold:c,...T},g,{clone:!1})}const DG=.2,LG=.14,jG=.12;function ut(...t){return[`${t[0]}px ${t[1]}px ${t[2]}px ${t[3]}px rgba(0,0,0,${DG})`,`${t[4]}px ${t[5]}px ${t[6]}px ${t[7]}px rgba(0,0,0,${LG})`,`${t[8]}px ${t[9]}px ${t[10]}px ${t[11]}px rgba(0,0,0,${jG})`].join(",")}const FG=["none",ut(0,2,1,-1,0,1,1,0,0,1,3,0),ut(0,3,1,-2,0,2,2,0,0,1,5,0),ut(0,3,3,-2,0,3,4,0,0,1,8,0),ut(0,2,4,-1,0,4,5,0,0,1,10,0),ut(0,3,5,-1,0,5,8,0,0,1,14,0),ut(0,3,5,-1,0,6,10,0,0,1,18,0),ut(0,4,5,-2,0,7,10,1,0,2,16,1),ut(0,5,5,-3,0,8,10,1,0,3,14,2),ut(0,5,6,-3,0,9,12,1,0,3,16,2),ut(0,6,6,-3,0,10,14,1,0,4,18,3),ut(0,6,7,-4,0,11,15,1,0,4,20,3),ut(0,7,8,-4,0,12,17,2,0,5,22,4),ut(0,7,8,-4,0,13,19,2,0,5,24,4),ut(0,7,9,-4,0,14,21,2,0,5,26,4),ut(0,8,9,-5,0,15,22,2,0,6,28,5),ut(0,8,10,-5,0,16,24,2,0,6,30,5),ut(0,8,11,-5,0,17,26,2,0,6,32,5),ut(0,9,11,-5,0,18,28,2,0,7,34,6),ut(0,9,12,-6,0,19,29,2,0,7,36,6),ut(0,10,13,-6,0,20,31,3,0,8,38,7),ut(0,10,13,-6,0,21,33,3,0,8,40,7),ut(0,10,14,-6,0,22,35,3,0,8,42,7),ut(0,11,14,-7,0,23,36,3,0,9,44,8),ut(0,11,15,-7,0,24,38,3,0,9,46,8)],$G={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},VG={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function kT(t){return`${Math.round(t)}ms`}function UG(t){if(!t)return 0;const e=t/36;return Math.min(Math.round((4+15*e**.25+e/5)*10),3e3)}function BG(t){const e={...$G,...t.easing},n={...VG,...t.duration};return{getAutoHeightDuration:UG,create:(i=["all"],s={})=>{const{duration:a=n.standard,easing:c=e.easeInOut,delay:u=0,...f}=s;return(Array.isArray(i)?i:[i]).map(h=>`${h} ${typeof a=="string"?a:kT(a)} ${c} ${typeof u=="string"?u:kT(u)}`).join(",")},...t,easing:e,duration:n}}const zG={mobileStepper:1e3,fab:1050,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500};function HG(t){return _i(t)||typeof t>"u"||typeof t=="string"||typeof t=="boolean"||typeof t=="number"||Array.isArray(t)}function eN(t={}){const e={...t};function n(r){const i=Object.entries(r);for(let s=0;s<i.length;s++){const[a,c]=i[s];!HG(c)||a.startsWith("unstable_")?delete r[a]:_i(c)&&(r[a]={...c},n(r[a]))}}return n(e),`import { unstable_createBreakpoints as createBreakpoints, createTransitions } from '@mui/material/styles';

const theme = ${JSON.stringify(e,null,2)};

theme.breakpoints = createBreakpoints(theme.breakpoints || {});
theme.transitions = createTransitions(theme.transitions || {});

export default theme;`}function Y0(t={},...e){const{breakpoints:n,mixins:r={},spacing:i,palette:s={},transitions:a={},typography:c={},shape:u,...f}=t;if(t.vars&&t.generateThemeVars===void 0)throw new Error(ka(20));const h=Sx(s),g=yx(t);let v=sr(g,{mixins:NG(g.breakpoints,r),palette:h,shadows:FG.slice(),typography:MG(h,c),transitions:BG(a),zIndex:{...zG}});return v=sr(v,f),v=e.reduce((x,_)=>sr(x,_),v),v.unstable_sxConfig={...af,...f?.unstable_sxConfig},v.unstable_sx=function(_){return Pa({sx:_,theme:this})},v.toRuntimeSource=eN,v}function WG(t){let e;return t<1?e=5.11916*t**2:e=4.5*Math.log(t+1)+2,Math.round(e*10)/1e3}const qG=[...Array(25)].map((t,e)=>{if(e===0)return"none";const n=WG(e);return`linear-gradient(rgba(255 255 255 / ${n}), rgba(255 255 255 / ${n}))`});function tN(t){return{inputPlaceholder:t==="dark"?.5:.42,inputUnderline:t==="dark"?.7:.42,switchTrackDisabled:t==="dark"?.2:.12,switchTrack:t==="dark"?.3:.38}}function nN(t){return t==="dark"?qG:[]}function GG(t){const{palette:e={mode:"light"},opacity:n,overlays:r,...i}=t,s=Sx(e);return{palette:s,opacity:{...tN(s.mode),...n},overlays:r||nN(s.mode),...i}}function KG(t){return!!t[0].match(/(cssVarPrefix|colorSchemeSelector|rootSelector|typography|mixins|breakpoints|direction|transitions)/)||!!t[0].match(/sxConfig$/)||t[0]==="palette"&&!!t[1]?.match(/(mode|contrastThreshold|tonalOffset)/)}const YG=t=>[...[...Array(25)].map((e,n)=>`--${t?`${t}-`:""}overlays-${n}`),`--${t?`${t}-`:""}palette-AppBar-darkBg`,`--${t?`${t}-`:""}palette-AppBar-darkColor`],XG=t=>(e,n)=>{const r=t.rootSelector||":root",i=t.colorSchemeSelector;let s=i;if(i==="class"&&(s=".%s"),i==="data"&&(s="[data-%s]"),i?.startsWith("data-")&&!i.includes("%s")&&(s=`[${i}="%s"]`),t.defaultColorScheme===e){if(e==="dark"){const a={};return YG(t.cssVarPrefix).forEach(c=>{a[c]=n[c],delete n[c]}),s==="media"?{[r]:n,"@media (prefers-color-scheme: dark)":{[r]:a}}:s?{[s.replace("%s",e)]:a,[`${r}, ${s.replace("%s",e)}`]:n}:{[r]:{...n,...a}}}if(s&&s!=="media")return`${r}, ${s.replace("%s",String(e))}`}else if(e){if(s==="media")return{[`@media (prefers-color-scheme: ${String(e)})`]:{[r]:n}};if(s)return s.replace("%s",String(e))}return r};function JG(t,e){e.forEach(n=>{t[n]||(t[n]={})})}function ee(t,e,n){!t[e]&&n&&(t[e]=n)}function Mu(t){return typeof t!="string"||!t.startsWith("hsl")?t:JA(t)}function Yi(t,e){`${e}Channel`in t||(t[`${e}Channel`]=Ou(Mu(t[e])))}function QG(t){return typeof t=="number"?`${t}px`:typeof t=="string"||typeof t=="function"||Array.isArray(t)?t:"8px"}const mi=t=>{try{return t()}catch{}},ZG=(t="mui")=>yG(t);function xy(t,e,n,r){if(!e)return;e=e===!0?{}:e;const i=r==="dark"?"dark":"light";if(!n){t[r]=GG({...e,palette:{mode:i,...e?.palette}});return}const{palette:s,...a}=Y0({...n,palette:{mode:i,...e?.palette}});return t[r]={...e,palette:s,opacity:{...tN(i),...e?.opacity},overlays:e?.overlays||nN(i)},a}function eK(t={},...e){const{colorSchemes:n={light:!0},defaultColorScheme:r,disableCssColorScheme:i=!1,cssVarPrefix:s="mui",shouldSkipGeneratingVar:a=KG,colorSchemeSelector:c=n.light&&n.dark?"media":void 0,rootSelector:u=":root",...f}=t,h=Object.keys(n)[0],g=r||(n.light&&h!=="light"?"light":h),v=ZG(s),{[g]:x,light:_,dark:T,...N}=n,A={...N};let k=x;if((g==="dark"&&!("dark"in n)||g==="light"&&!("light"in n))&&(k=!0),!k)throw new Error(ka(21,g));const P=xy(A,k,f,g);_&&!A.light&&xy(A,_,void 0,"light"),T&&!A.dark&&xy(A,T,void 0,"dark");let j={defaultColorScheme:g,...P,cssVarPrefix:s,colorSchemeSelector:c,rootSelector:u,getCssVar:v,colorSchemes:A,font:{...AG(P.typography),...P.font},spacing:QG(f.spacing)};Object.keys(j.colorSchemes).forEach(O=>{const b=j.colorSchemes[O].palette,M=V=>{const F=V.split("-"),Z=F[1],se=F[2];return v(V,b[Z][se])};if(b.mode==="light"&&(ee(b.common,"background","#fff"),ee(b.common,"onBackground","#000")),b.mode==="dark"&&(ee(b.common,"background","#000"),ee(b.common,"onBackground","#fff")),JG(b,["Alert","AppBar","Avatar","Button","Chip","FilledInput","LinearProgress","Skeleton","Slider","SnackbarContent","SpeedDialAction","StepConnector","StepContent","Switch","TableCell","Tooltip"]),b.mode==="light"){ee(b.Alert,"errorColor",Ze(b.error.light,.6)),ee(b.Alert,"infoColor",Ze(b.info.light,.6)),ee(b.Alert,"successColor",Ze(b.success.light,.6)),ee(b.Alert,"warningColor",Ze(b.warning.light,.6)),ee(b.Alert,"errorFilledBg",M("palette-error-main")),ee(b.Alert,"infoFilledBg",M("palette-info-main")),ee(b.Alert,"successFilledBg",M("palette-success-main")),ee(b.Alert,"warningFilledBg",M("palette-warning-main")),ee(b.Alert,"errorFilledColor",mi(()=>b.getContrastText(b.error.main))),ee(b.Alert,"infoFilledColor",mi(()=>b.getContrastText(b.info.main))),ee(b.Alert,"successFilledColor",mi(()=>b.getContrastText(b.success.main))),ee(b.Alert,"warningFilledColor",mi(()=>b.getContrastText(b.warning.main))),ee(b.Alert,"errorStandardBg",et(b.error.light,.9)),ee(b.Alert,"infoStandardBg",et(b.info.light,.9)),ee(b.Alert,"successStandardBg",et(b.success.light,.9)),ee(b.Alert,"warningStandardBg",et(b.warning.light,.9)),ee(b.Alert,"errorIconColor",M("palette-error-main")),ee(b.Alert,"infoIconColor",M("palette-info-main")),ee(b.Alert,"successIconColor",M("palette-success-main")),ee(b.Alert,"warningIconColor",M("palette-warning-main")),ee(b.AppBar,"defaultBg",M("palette-grey-100")),ee(b.Avatar,"defaultBg",M("palette-grey-400")),ee(b.Button,"inheritContainedBg",M("palette-grey-300")),ee(b.Button,"inheritContainedHoverBg",M("palette-grey-A100")),ee(b.Chip,"defaultBorder",M("palette-grey-400")),ee(b.Chip,"defaultAvatarColor",M("palette-grey-700")),ee(b.Chip,"defaultIconColor",M("palette-grey-700")),ee(b.FilledInput,"bg","rgba(0, 0, 0, 0.06)"),ee(b.FilledInput,"hoverBg","rgba(0, 0, 0, 0.09)"),ee(b.FilledInput,"disabledBg","rgba(0, 0, 0, 0.12)"),ee(b.LinearProgress,"primaryBg",et(b.primary.main,.62)),ee(b.LinearProgress,"secondaryBg",et(b.secondary.main,.62)),ee(b.LinearProgress,"errorBg",et(b.error.main,.62)),ee(b.LinearProgress,"infoBg",et(b.info.main,.62)),ee(b.LinearProgress,"successBg",et(b.success.main,.62)),ee(b.LinearProgress,"warningBg",et(b.warning.main,.62)),ee(b.Skeleton,"bg",`rgba(${M("palette-text-primaryChannel")} / 0.11)`),ee(b.Slider,"primaryTrack",et(b.primary.main,.62)),ee(b.Slider,"secondaryTrack",et(b.secondary.main,.62)),ee(b.Slider,"errorTrack",et(b.error.main,.62)),ee(b.Slider,"infoTrack",et(b.info.main,.62)),ee(b.Slider,"successTrack",et(b.success.main,.62)),ee(b.Slider,"warningTrack",et(b.warning.main,.62));const V=Vh(b.background.default,.8);ee(b.SnackbarContent,"bg",V),ee(b.SnackbarContent,"color",mi(()=>b.getContrastText(V))),ee(b.SpeedDialAction,"fabHoverBg",Vh(b.background.paper,.15)),ee(b.StepConnector,"border",M("palette-grey-400")),ee(b.StepContent,"border",M("palette-grey-400")),ee(b.Switch,"defaultColor",M("palette-common-white")),ee(b.Switch,"defaultDisabledColor",M("palette-grey-100")),ee(b.Switch,"primaryDisabledColor",et(b.primary.main,.62)),ee(b.Switch,"secondaryDisabledColor",et(b.secondary.main,.62)),ee(b.Switch,"errorDisabledColor",et(b.error.main,.62)),ee(b.Switch,"infoDisabledColor",et(b.info.main,.62)),ee(b.Switch,"successDisabledColor",et(b.success.main,.62)),ee(b.Switch,"warningDisabledColor",et(b.warning.main,.62)),ee(b.TableCell,"border",et($h(b.divider,1),.88)),ee(b.Tooltip,"bg",$h(b.grey[700],.92))}if(b.mode==="dark"){ee(b.Alert,"errorColor",et(b.error.light,.6)),ee(b.Alert,"infoColor",et(b.info.light,.6)),ee(b.Alert,"successColor",et(b.success.light,.6)),ee(b.Alert,"warningColor",et(b.warning.light,.6)),ee(b.Alert,"errorFilledBg",M("palette-error-dark")),ee(b.Alert,"infoFilledBg",M("palette-info-dark")),ee(b.Alert,"successFilledBg",M("palette-success-dark")),ee(b.Alert,"warningFilledBg",M("palette-warning-dark")),ee(b.Alert,"errorFilledColor",mi(()=>b.getContrastText(b.error.dark))),ee(b.Alert,"infoFilledColor",mi(()=>b.getContrastText(b.info.dark))),ee(b.Alert,"successFilledColor",mi(()=>b.getContrastText(b.success.dark))),ee(b.Alert,"warningFilledColor",mi(()=>b.getContrastText(b.warning.dark))),ee(b.Alert,"errorStandardBg",Ze(b.error.light,.9)),ee(b.Alert,"infoStandardBg",Ze(b.info.light,.9)),ee(b.Alert,"successStandardBg",Ze(b.success.light,.9)),ee(b.Alert,"warningStandardBg",Ze(b.warning.light,.9)),ee(b.Alert,"errorIconColor",M("palette-error-main")),ee(b.Alert,"infoIconColor",M("palette-info-main")),ee(b.Alert,"successIconColor",M("palette-success-main")),ee(b.Alert,"warningIconColor",M("palette-warning-main")),ee(b.AppBar,"defaultBg",M("palette-grey-900")),ee(b.AppBar,"darkBg",M("palette-background-paper")),ee(b.AppBar,"darkColor",M("palette-text-primary")),ee(b.Avatar,"defaultBg",M("palette-grey-600")),ee(b.Button,"inheritContainedBg",M("palette-grey-800")),ee(b.Button,"inheritContainedHoverBg",M("palette-grey-700")),ee(b.Chip,"defaultBorder",M("palette-grey-700")),ee(b.Chip,"defaultAvatarColor",M("palette-grey-300")),ee(b.Chip,"defaultIconColor",M("palette-grey-300")),ee(b.FilledInput,"bg","rgba(255, 255, 255, 0.09)"),ee(b.FilledInput,"hoverBg","rgba(255, 255, 255, 0.13)"),ee(b.FilledInput,"disabledBg","rgba(255, 255, 255, 0.12)"),ee(b.LinearProgress,"primaryBg",Ze(b.primary.main,.5)),ee(b.LinearProgress,"secondaryBg",Ze(b.secondary.main,.5)),ee(b.LinearProgress,"errorBg",Ze(b.error.main,.5)),ee(b.LinearProgress,"infoBg",Ze(b.info.main,.5)),ee(b.LinearProgress,"successBg",Ze(b.success.main,.5)),ee(b.LinearProgress,"warningBg",Ze(b.warning.main,.5)),ee(b.Skeleton,"bg",`rgba(${M("palette-text-primaryChannel")} / 0.13)`),ee(b.Slider,"primaryTrack",Ze(b.primary.main,.5)),ee(b.Slider,"secondaryTrack",Ze(b.secondary.main,.5)),ee(b.Slider,"errorTrack",Ze(b.error.main,.5)),ee(b.Slider,"infoTrack",Ze(b.info.main,.5)),ee(b.Slider,"successTrack",Ze(b.success.main,.5)),ee(b.Slider,"warningTrack",Ze(b.warning.main,.5));const V=Vh(b.background.default,.98);ee(b.SnackbarContent,"bg",V),ee(b.SnackbarContent,"color",mi(()=>b.getContrastText(V))),ee(b.SpeedDialAction,"fabHoverBg",Vh(b.background.paper,.15)),ee(b.StepConnector,"border",M("palette-grey-600")),ee(b.StepContent,"border",M("palette-grey-600")),ee(b.Switch,"defaultColor",M("palette-grey-300")),ee(b.Switch,"defaultDisabledColor",M("palette-grey-600")),ee(b.Switch,"primaryDisabledColor",Ze(b.primary.main,.55)),ee(b.Switch,"secondaryDisabledColor",Ze(b.secondary.main,.55)),ee(b.Switch,"errorDisabledColor",Ze(b.error.main,.55)),ee(b.Switch,"infoDisabledColor",Ze(b.info.main,.55)),ee(b.Switch,"successDisabledColor",Ze(b.success.main,.55)),ee(b.Switch,"warningDisabledColor",Ze(b.warning.main,.55)),ee(b.TableCell,"border",Ze($h(b.divider,1),.68)),ee(b.Tooltip,"bg",$h(b.grey[700],.92))}Yi(b.background,"default"),Yi(b.background,"paper"),Yi(b.common,"background"),Yi(b.common,"onBackground"),Yi(b,"divider"),Object.keys(b).forEach(V=>{const F=b[V];V!=="tonalOffset"&&F&&typeof F=="object"&&(F.main&&ee(b[V],"mainChannel",Ou(Mu(F.main))),F.light&&ee(b[V],"lightChannel",Ou(Mu(F.light))),F.dark&&ee(b[V],"darkChannel",Ou(Mu(F.dark))),F.contrastText&&ee(b[V],"contrastTextChannel",Ou(Mu(F.contrastText))),V==="text"&&(Yi(b[V],"primary"),Yi(b[V],"secondary")),V==="action"&&(F.active&&Yi(b[V],"active"),F.selected&&Yi(b[V],"selected")))})}),j=e.reduce((O,b)=>sr(O,b),j);const $={prefix:s,disableCssColorScheme:i,shouldSkipGeneratingVar:a,getSelector:XG(j)},{vars:z,generateThemeVars:D,generateStyleSheets:I}=xG(j,$);return j.vars=z,Object.entries(j.colorSchemes[j.defaultColorScheme]).forEach(([O,b])=>{j[O]=b}),j.generateThemeVars=D,j.generateStyleSheets=I,j.generateSpacing=function(){return qA(f.spacing,hx(this))},j.getColorSchemeSelector=bG(c),j.spacing=j.generateSpacing(),j.shouldSkipGeneratingVar=a,j.unstable_sxConfig={...af,...f?.unstable_sxConfig},j.unstable_sx=function(b){return Pa({sx:b,theme:this})},j.toRuntimeSource=eN,j}function PT(t,e,n){t.colorSchemes&&n&&(t.colorSchemes[e]={...n!==!0&&n,palette:Sx({...n===!0?{}:n.palette,mode:e})})}function rN(t={},...e){const{palette:n,cssVariables:r=!1,colorSchemes:i=n?void 0:{light:!0},defaultColorScheme:s=n?.mode,...a}=t,c=s||"light",u=i?.[c],f={...i,...n?{[c]:{...typeof u!="boolean"&&u,palette:n}}:void 0};if(r===!1){if(!("colorSchemes"in t))return Y0(t,...e);let h=n;"palette"in t||f[c]&&(f[c]!==!0?h=f[c].palette:c==="dark"&&(h={mode:"dark"}));const g=Y0({...t,palette:h},...e);return g.defaultColorScheme=c,g.colorSchemes=f,g.palette.mode==="light"&&(g.colorSchemes.light={...f.light!==!0&&f.light,palette:g.palette},PT(g,"dark",f.dark)),g.palette.mode==="dark"&&(g.colorSchemes.dark={...f.dark!==!0&&f.dark,palette:g.palette},PT(g,"light",f.light)),g}return!n&&!("light"in f)&&c==="light"&&(f.light=!0),eK({...a,colorSchemes:f,defaultColorScheme:c,...typeof r!="boolean"&&r},...e)}const iN=rN(),Cx="$$material";function tK(){const t=GA(iN);return t[Cx]||t}function nK(t){return t!=="ownerState"&&t!=="theme"&&t!=="sx"&&t!=="as"}const rK=t=>nK(t)&&t!=="classes",Tx=rG({themeId:Cx,defaultTheme:iN,rootShouldForwardProp:rK}),iK=vG;function sN(t){return gG(t)}function sK(t){return typeof t=="string"}function oK(t,e,n){return t===void 0||sK(t)?e:{...e,ownerState:{...e.ownerState,...n}}}function aK(t,e,n){return typeof t=="function"?t(e,n):t}function oN(t,e=[]){if(t===void 0)return{};const n={};return Object.keys(t).filter(r=>r.match(/^on[A-Z]/)&&typeof t[r]=="function"&&!e.includes(r)).forEach(r=>{n[r]=t[r]}),n}function IT(t){if(t===void 0)return{};const e={};return Object.keys(t).filter(n=>!(n.match(/^on[A-Z]/)&&typeof t[n]=="function")).forEach(n=>{e[n]=t[n]}),e}function lK(t){const{getSlotProps:e,additionalProps:n,externalSlotProps:r,externalForwardedProps:i,className:s}=t;if(!e){const x=oc(n?.className,s,i?.className,r?.className),_={...n?.style,...i?.style,...r?.style},T={...n,...i,...r};return x.length>0&&(T.className=x),Object.keys(_).length>0&&(T.style=_),{props:T,internalRef:void 0}}const a=oN({...i,...r}),c=IT(r),u=IT(i),f=e(a),h=oc(f?.className,n?.className,s,i?.className,r?.className),g={...f?.style,...n?.style,...i?.style,...r?.style},v={...f,...n,...u,...c};return h.length>0&&(v.className=h),Object.keys(g).length>0&&(v.style=g),{props:v,internalRef:f.ref}}function Gp(t,e){const{className:n,elementType:r,ownerState:i,externalForwardedProps:s,internalForwardedProps:a,shouldForwardComponentProp:c=!1,...u}=e,{component:f,slots:h={[t]:void 0},slotProps:g={[t]:void 0},...v}=s,x=h[t]||r,_=aK(g[t],i),{props:{component:T,...N},internalRef:A}=lK({className:n,...u,externalForwardedProps:t==="root"?v:void 0,externalSlotProps:_}),k=rf(A,_?.ref,e.ref),P=t==="root"?T||f:T,j=oK(x,{...t==="root"&&!f&&!h[t]&&a,...t!=="root"&&!h[t]&&a,...N,...P&&!c&&{as:P},...P&&c&&{component:P},ref:k},i);return[x,j]}function cK(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function X0(t,e){return X0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,r){return n.__proto__=r,n},X0(t,e)}function uK(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,X0(t,e)}const RT={disabled:!1},aN=me.createContext(null);var dK=function(e){return e.scrollTop},Du="unmounted",na="exited",ra="entering",Dl="entered",J0="exiting",xs=function(t){uK(e,t);function e(r,i){var s;s=t.call(this,r,i)||this;var a=i,c=a&&!a.isMounting?r.enter:r.appear,u;return s.appearStatus=null,r.in?c?(u=na,s.appearStatus=ra):u=Dl:r.unmountOnExit||r.mountOnEnter?u=Du:u=na,s.state={status:u},s.nextCallback=null,s}e.getDerivedStateFromProps=function(i,s){var a=i.in;return a&&s.status===Du?{status:na}:null};var n=e.prototype;return n.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},n.componentDidUpdate=function(i){var s=null;if(i!==this.props){var a=this.state.status;this.props.in?a!==ra&&a!==Dl&&(s=ra):(a===ra||a===Dl)&&(s=J0)}this.updateStatus(!1,s)},n.componentWillUnmount=function(){this.cancelNextCallback()},n.getTimeouts=function(){var i=this.props.timeout,s,a,c;return s=a=c=i,i!=null&&typeof i!="number"&&(s=i.exit,a=i.enter,c=i.appear!==void 0?i.appear:a),{exit:s,enter:a,appear:c}},n.updateStatus=function(i,s){if(i===void 0&&(i=!1),s!==null)if(this.cancelNextCallback(),s===ra){if(this.props.unmountOnExit||this.props.mountOnEnter){var a=this.props.nodeRef?this.props.nodeRef.current:kh.findDOMNode(this);a&&dK(a)}this.performEnter(i)}else this.performExit();else this.props.unmountOnExit&&this.state.status===na&&this.setState({status:Du})},n.performEnter=function(i){var s=this,a=this.props.enter,c=this.context?this.context.isMounting:i,u=this.props.nodeRef?[c]:[kh.findDOMNode(this),c],f=u[0],h=u[1],g=this.getTimeouts(),v=c?g.appear:g.enter;if(!i&&!a||RT.disabled){this.safeSetState({status:Dl},function(){s.props.onEntered(f)});return}this.props.onEnter(f,h),this.safeSetState({status:ra},function(){s.props.onEntering(f,h),s.onTransitionEnd(v,function(){s.safeSetState({status:Dl},function(){s.props.onEntered(f,h)})})})},n.performExit=function(){var i=this,s=this.props.exit,a=this.getTimeouts(),c=this.props.nodeRef?void 0:kh.findDOMNode(this);if(!s||RT.disabled){this.safeSetState({status:na},function(){i.props.onExited(c)});return}this.props.onExit(c),this.safeSetState({status:J0},function(){i.props.onExiting(c),i.onTransitionEnd(a.exit,function(){i.safeSetState({status:na},function(){i.props.onExited(c)})})})},n.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},n.safeSetState=function(i,s){s=this.setNextCallback(s),this.setState(i,s)},n.setNextCallback=function(i){var s=this,a=!0;return this.nextCallback=function(c){a&&(a=!1,s.nextCallback=null,i(c))},this.nextCallback.cancel=function(){a=!1},this.nextCallback},n.onTransitionEnd=function(i,s){this.setNextCallback(s);var a=this.props.nodeRef?this.props.nodeRef.current:kh.findDOMNode(this),c=i==null&&!this.props.addEndListener;if(!a||c){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var u=this.props.nodeRef?[this.nextCallback]:[a,this.nextCallback],f=u[0],h=u[1];this.props.addEndListener(f,h)}i!=null&&setTimeout(this.nextCallback,i)},n.render=function(){var i=this.state.status;if(i===Du)return null;var s=this.props,a=s.children;s.in,s.mountOnEnter,s.unmountOnExit,s.appear,s.enter,s.exit,s.timeout,s.addEndListener,s.onEnter,s.onEntering,s.onEntered,s.onExit,s.onExiting,s.onExited,s.nodeRef;var c=cK(s,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return me.createElement(aN.Provider,{value:null},typeof a=="function"?a(i,c):me.cloneElement(me.Children.only(a),c))},e}(me.Component);xs.contextType=aN;xs.propTypes={};function Ol(){}xs.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:Ol,onEntering:Ol,onEntered:Ol,onExit:Ol,onExiting:Ol,onExited:Ol};xs.UNMOUNTED=Du;xs.EXITED=na;xs.ENTERING=ra;xs.ENTERED=Dl;xs.EXITING=J0;const fK=t=>t.scrollTop;function AT(t,e){const{timeout:n,easing:r,style:i={}}=t;return{duration:i.transitionDuration??(typeof n=="number"?n:n[e.mode]||0),easing:i.transitionTimingFunction??(typeof r=="object"?r[e.mode]:r),delay:i.transitionDelay}}const hK={entering:{opacity:1},entered:{opacity:1}},pK=C.forwardRef(function(e,n){const r=tK(),i={enter:r.transitions.duration.enteringScreen,exit:r.transitions.duration.leavingScreen},{addEndListener:s,appear:a=!0,children:c,easing:u,in:f,onEnter:h,onEntered:g,onEntering:v,onExit:x,onExited:_,onExiting:T,style:N,timeout:A=i,TransitionComponent:k=xs,...P}=e,j=C.useRef(null),$=rf(j,ux(c),n),z=Z=>se=>{if(Z){const re=j.current;se===void 0?Z(re):Z(re,se)}},D=z(v),I=z((Z,se)=>{fK(Z);const re=AT({style:N,timeout:A,easing:u},{mode:"enter"});Z.style.webkitTransition=r.transitions.create("opacity",re),Z.style.transition=r.transitions.create("opacity",re),h&&h(Z,se)}),O=z(g),b=z(T),M=z(Z=>{const se=AT({style:N,timeout:A,easing:u},{mode:"exit"});Z.style.webkitTransition=r.transitions.create("opacity",se),Z.style.transition=r.transitions.create("opacity",se),x&&x(Z)}),V=z(_),F=Z=>{s&&s(j.current,Z)};return w.jsx(k,{appear:a,in:f,nodeRef:j,onEnter:I,onEntered:O,onEntering:D,onExit:M,onExited:V,onExiting:b,addEndListener:F,timeout:A,...P,children:(Z,{ownerState:se,...re})=>C.cloneElement(c,{style:{opacity:0,visibility:Z==="exited"&&!f?"hidden":void 0,...hK[Z],...N,...c.props.style},ref:$,...re})})});function mK(t){return wx("MuiBackdrop",t)}_x("MuiBackdrop",["root","invisible"]);const gK=t=>{const{classes:e,invisible:n}=t;return kA({root:["root",n&&"invisible"]},mK,e)},vK=Tx("div",{name:"MuiBackdrop",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.invisible&&e.invisible]}})({position:"fixed",display:"flex",alignItems:"center",justifyContent:"center",right:0,bottom:0,top:0,left:0,backgroundColor:"rgba(0, 0, 0, 0.5)",WebkitTapHighlightColor:"transparent",variants:[{props:{invisible:!0},style:{backgroundColor:"transparent"}}]}),yK=C.forwardRef(function(e,n){const r=sN({props:e,name:"MuiBackdrop"}),{children:i,className:s,component:a="div",invisible:c=!1,open:u,components:f={},componentsProps:h={},slotProps:g={},slots:v={},TransitionComponent:x,transitionDuration:_,...T}=r,N={...r,component:a,invisible:c},A=gK(N),k={transition:x,root:f.Root,...v},P={...h,...g},j={slots:k,slotProps:P},[$,z]=Gp("root",{elementType:vK,externalForwardedProps:j,className:oc(A.root,s),ownerState:N}),[D,I]=Gp("transition",{elementType:pK,externalForwardedProps:j,ownerState:N});return w.jsx(D,{in:u,timeout:_,...T,...I,children:w.jsx($,{"aria-hidden":!0,...z,classes:A,ref:n,children:i})})});function NT(t){const e=C.useRef(t);return B0(()=>{e.current=t}),C.useRef((...n)=>(0,e.current)(...n)).current}function OT(...t){return t.reduce((e,n)=>n==null?e:function(...i){e.apply(this,i),n.apply(this,i)},()=>{})}function wK(t){return typeof t=="function"?t():t}function _K(t){return t?t.props.hasOwnProperty("in"):!1}const MT=()=>{},Uh=new zH;function xK(t){const{container:e,disableEscapeKeyDown:n=!1,disableScrollLock:r=!1,closeAfterTransition:i=!1,onTransitionEnter:s,onTransitionExited:a,children:c,onClose:u,open:f,rootRef:h}=t,g=C.useRef({}),v=C.useRef(null),x=C.useRef(null),_=rf(x,h),[T,N]=C.useState(!f),A=_K(c);let k=!0;(t["aria-hidden"]==="false"||t["aria-hidden"]===!1)&&(k=!1);const P=()=>Ta(v.current),j=()=>(g.current.modalRef=x.current,g.current.mount=v.current,g.current),$=()=>{Uh.mount(j(),{disableScrollLock:r}),x.current&&(x.current.scrollTop=0)},z=NT(()=>{const se=wK(e)||P().body;Uh.add(j(),se),x.current&&$()}),D=()=>Uh.isTopModal(j()),I=NT(se=>{v.current=se,se&&(f&&D()?$():x.current&&ed(x.current,k))}),O=C.useCallback(()=>{Uh.remove(j(),k)},[k]);C.useEffect(()=>()=>{O()},[O]),C.useEffect(()=>{f?z():(!A||!i)&&O()},[f,O,A,i,z]);const b=se=>re=>{se.onKeyDown?.(re),!(re.key!=="Escape"||re.which===229||!D())&&(n||(re.stopPropagation(),u&&u(re,"escapeKeyDown")))},M=se=>re=>{se.onClick?.(re),re.target===re.currentTarget&&u&&u(re,"backdropClick")};return{getRootProps:(se={})=>{const re=oN(t);delete re.onTransitionEnter,delete re.onTransitionExited;const ue={...re,...se};return{role:"presentation",...ue,onKeyDown:b(ue),ref:_}},getBackdropProps:(se={})=>{const re=se;return{"aria-hidden":!0,...re,onClick:M(re),open:f}},getTransitionProps:()=>{const se=()=>{N(!1),s&&s()},re=()=>{N(!0),a&&a(),i&&O()};return{onEnter:OT(se,c?.props.onEnter??MT),onExited:OT(re,c?.props.onExited??MT)}},rootRef:_,portalRef:I,isTopModal:D,exited:T,hasTransition:A}}function bK(t){return wx("MuiModal",t)}_x("MuiModal",["root","hidden","backdrop"]);const EK=t=>{const{open:e,exited:n,classes:r}=t;return kA({root:["root",!e&&n&&"hidden"],backdrop:["backdrop"]},bK,r)},SK=Tx("div",{name:"MuiModal",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,!n.open&&n.exited&&e.hidden]}})(iK(({theme:t})=>({position:"fixed",zIndex:(t.vars||t).zIndex.modal,right:0,bottom:0,top:0,left:0,variants:[{props:({ownerState:e})=>!e.open&&e.exited,style:{visibility:"hidden"}}]}))),CK=Tx(yK,{name:"MuiModal",slot:"Backdrop"})({zIndex:-1}),lN=C.forwardRef(function(e,n){const r=sN({name:"MuiModal",props:e}),{BackdropComponent:i=CK,BackdropProps:s,classes:a,className:c,closeAfterTransition:u=!1,children:f,container:h,component:g,components:v={},componentsProps:x={},disableAutoFocus:_=!1,disableEnforceFocus:T=!1,disableEscapeKeyDown:N=!1,disablePortal:A=!1,disableRestoreFocus:k=!1,disableScrollLock:P=!1,hideBackdrop:j=!1,keepMounted:$=!1,onClose:z,onTransitionEnter:D,onTransitionExited:I,open:O,slotProps:b={},slots:M={},theme:V,...F}=r,Z={...r,closeAfterTransition:u,disableAutoFocus:_,disableEnforceFocus:T,disableEscapeKeyDown:N,disablePortal:A,disableRestoreFocus:k,disableScrollLock:P,hideBackdrop:j,keepMounted:$},{getRootProps:se,getBackdropProps:re,getTransitionProps:ue,portalRef:ne,isTopModal:oe,exited:le,hasTransition:q}=xK({...Z,rootRef:n}),te={...Z,exited:le},Q=EK(te),pe={};if(f.props.tabIndex===void 0&&(pe.tabIndex="-1"),q){const{onEnter:Be,onExited:$e}=ue();pe.onEnter=Be,pe.onExited=$e}const ve={slots:{root:v.Root,backdrop:v.Backdrop,...M},slotProps:{...x,...b}},[_e,xe]=Gp("root",{ref:n,elementType:SK,externalForwardedProps:{...ve,...F,component:g},getSlotProps:se,ownerState:te,className:oc(c,Q?.root,!te.open&&te.exited&&Q?.hidden)}),[ke,Ee]=Gp("backdrop",{ref:s?.ref,elementType:i,externalForwardedProps:ve,shouldForwardComponentProp:!0,additionalProps:s,getSlotProps:Be=>re({...Be,onClick:$e=>{Be?.onClick&&Be.onClick($e)}}),className:oc(s?.className,Q?.backdrop),ownerState:te});return!$&&!O&&(!q||le)?null:w.jsx(QH,{ref:ne,container:h,disablePortal:A,children:w.jsxs(_e,{...xe,children:[!j&&i?w.jsx(ke,{...Ee}):null,w.jsx(XH,{disableEnforceFocus:T,disableAutoFocus:_,disableRestoreFocus:k,isEnabled:oe,open:O,children:C.cloneElement(f,pe)})]})})}),TK=_x("MuiBox",["root"]),kK=rN(),cN=Qq({themeId:Cx,defaultTheme:kK,defaultClassName:TK.root,generateClassName:KA.generate});var by,DT;function PK(){if(DT)return by;DT=1;var t=!1,e,n,r,i,s,a,c,u,f,h,g,v,x,_,T;function N(){if(!t){t=!0;var k=navigator.userAgent,P=/(?:MSIE.(\d+\.\d+))|(?:(?:Firefox|GranParadiso|Iceweasel).(\d+\.\d+))|(?:Opera(?:.+Version.|.)(\d+\.\d+))|(?:AppleWebKit.(\d+(?:\.\d+)?))|(?:Trident\/\d+\.\d+.*rv:(\d+\.\d+))/.exec(k),j=/(Mac OS X)|(Windows)|(Linux)/.exec(k);if(v=/\b(iPhone|iP[ao]d)/.exec(k),x=/\b(iP[ao]d)/.exec(k),h=/Android/i.exec(k),_=/FBAN\/\w+;/i.exec(k),T=/Mobile/i.exec(k),g=!!/Win64/.exec(k),P){e=P[1]?parseFloat(P[1]):P[5]?parseFloat(P[5]):NaN,e&&document&&document.documentMode&&(e=document.documentMode);var $=/(?:Trident\/(\d+.\d+))/.exec(k);a=$?parseFloat($[1])+4:e,n=P[2]?parseFloat(P[2]):NaN,r=P[3]?parseFloat(P[3]):NaN,i=P[4]?parseFloat(P[4]):NaN,i?(P=/(?:Chrome\/(\d+\.\d+))/.exec(k),s=P&&P[1]?parseFloat(P[1]):NaN):s=NaN}else e=n=r=s=i=NaN;if(j){if(j[1]){var z=/(?:Mac OS X (\d+(?:[._]\d+)?))/.exec(k);c=z?parseFloat(z[1].replace("_",".")):!0}else c=!1;u=!!j[2],f=!!j[3]}else c=u=f=!1}}var A={ie:function(){return N()||e},ieCompatibilityMode:function(){return N()||a>e},ie64:function(){return A.ie()&&g},firefox:function(){return N()||n},opera:function(){return N()||r},webkit:function(){return N()||i},safari:function(){return A.webkit()},chrome:function(){return N()||s},windows:function(){return N()||u},osx:function(){return N()||c},linux:function(){return N()||f},iphone:function(){return N()||v},mobile:function(){return N()||v||x||h||T},nativeApp:function(){return N()||_},android:function(){return N()||h},ipad:function(){return N()||x}};return by=A,by}var Ey,LT;function IK(){if(LT)return Ey;LT=1;var t=!!(typeof window<"u"&&window.document&&window.document.createElement),e={canUseDOM:t,canUseWorkers:typeof Worker<"u",canUseEventListeners:t&&!!(window.addEventListener||window.attachEvent),canUseViewport:t&&!!window.screen,isInWorker:!t};return Ey=e,Ey}var Sy,jT;function RK(){if(jT)return Sy;jT=1;var t=IK(),e;t.canUseDOM&&(e=document.implementation&&document.implementation.hasFeature&&document.implementation.hasFeature("","")!==!0);/**
 * Checks if an event is supported in the current execution environment.
 *
 * NOTE: This will not work correctly for non-generic events such as `change`,
 * `reset`, `load`, `error`, and `select`.
 *
 * Borrows from Modernizr.
 *
 * @param {string} eventNameSuffix Event name, e.g. "click".
 * @param {?boolean} capture Check if the capture phase is supported.
 * @return {boolean} True if the event is supported.
 * @internal
 * @license Modernizr 3.0.0pre (Custom Build) | MIT
 */function n(r,i){if(!t.canUseDOM||i&&!("addEventListener"in document))return!1;var s="on"+r,a=s in document;if(!a){var c=document.createElement("div");c.setAttribute(s,"return;"),a=typeof c[s]=="function"}return!a&&e&&r==="wheel"&&(a=document.implementation.hasFeature("Events.wheel","3.0")),a}return Sy=n,Sy}var Cy,FT;function AK(){if(FT)return Cy;FT=1;var t=PK(),e=RK(),n=10,r=40,i=800;function s(a){var c=0,u=0,f=0,h=0;return"detail"in a&&(u=a.detail),"wheelDelta"in a&&(u=-a.wheelDelta/120),"wheelDeltaY"in a&&(u=-a.wheelDeltaY/120),"wheelDeltaX"in a&&(c=-a.wheelDeltaX/120),"axis"in a&&a.axis===a.HORIZONTAL_AXIS&&(c=u,u=0),f=c*n,h=u*n,"deltaY"in a&&(h=a.deltaY),"deltaX"in a&&(f=a.deltaX),(f||h)&&a.deltaMode&&(a.deltaMode==1?(f*=r,h*=r):(f*=i,h*=i)),f&&!c&&(c=f<1?-1:1),h&&!u&&(u=h<1?-1:1),{spinX:c,spinY:u,pixelX:f,pixelY:h}}return s.getEventType=function(){return t.firefox()?"DOMMouseScroll":e("wheel")?"wheel":"mousewheel"},Cy=s,Cy}var Ty,$T;function NK(){return $T||($T=1,Ty=AK()),Ty}var OK=NK();const MK=rm(OK);function DK(t,e,n,r,i,s){s===void 0&&(s=0);var a=lc(t,e,s),c=a.width,u=a.height,f=Math.min(c,n),h=Math.min(u,r);return f>h*i?{width:h*i,height:h}:{width:f,height:f/i}}function LK(t){return t.width>t.height?t.width/t.naturalWidth:t.height/t.naturalHeight}function Pu(t,e,n,r,i){i===void 0&&(i=0);var s=lc(e.width,e.height,i),a=s.width,c=s.height;return{x:VT(t.x,a,n.width,r),y:VT(t.y,c,n.height,r)}}function VT(t,e,n,r){var i=e*r/2-n/2;return zm(t,-i,i)}function UT(t,e){return Math.sqrt(Math.pow(t.y-e.y,2)+Math.pow(t.x-e.x,2))}function BT(t,e){return Math.atan2(e.y-t.y,e.x-t.x)*180/Math.PI}function jK(t,e,n,r,i,s,a){s===void 0&&(s=0),a===void 0&&(a=!0);var c=a?FK:$K,u=lc(e.width,e.height,s),f=lc(e.naturalWidth,e.naturalHeight,s),h={x:c(100,((u.width-n.width/i)/2-t.x/i)/u.width*100),y:c(100,((u.height-n.height/i)/2-t.y/i)/u.height*100),width:c(100,n.width/u.width*100/i),height:c(100,n.height/u.height*100/i)},g=Math.round(c(f.width,h.width*f.width/100)),v=Math.round(c(f.height,h.height*f.height/100)),x=f.width>=f.height*r,_=x?{width:Math.round(v*r),height:v}:{width:g,height:Math.round(g/r)},T=Gt(Gt({},_),{x:Math.round(c(f.width-_.width,h.x*f.width/100)),y:Math.round(c(f.height-_.height,h.y*f.height/100))});return{croppedAreaPercentages:h,croppedAreaPixels:T}}function FK(t,e){return Math.min(t,Math.max(0,e))}function $K(t,e){return e}function VK(t,e,n,r,i,s){var a=lc(e.width,e.height,n),c=zm(r.width/a.width*(100/t.width),i,s),u={x:c*a.width/2-r.width/2-a.width*c*(t.x/100),y:c*a.height/2-r.height/2-a.height*c*(t.y/100)};return{crop:u,zoom:c}}function UK(t,e,n){var r=LK(e);return n.height>n.width?n.height/(t.height*r):n.width/(t.width*r)}function BK(t,e,n,r,i,s){n===void 0&&(n=0);var a=lc(e.naturalWidth,e.naturalHeight,n),c=zm(UK(t,e,r),i,s),u=r.height>r.width?r.height/t.height:r.width/t.width,f={x:((a.width-t.width)/2-t.x)*u,y:((a.height-t.height)/2-t.y)*u};return{crop:f,zoom:c}}function zT(t,e){return{x:(e.x+t.x)/2,y:(e.y+t.y)/2}}function zK(t){return t*Math.PI/180}function lc(t,e,n){var r=zK(n);return{width:Math.abs(Math.cos(r)*t)+Math.abs(Math.sin(r)*e),height:Math.abs(Math.sin(r)*t)+Math.abs(Math.cos(r)*e)}}function zm(t,e,n){return Math.min(Math.max(t,e),n)}function Bh(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return t.filter(function(n){return typeof n=="string"&&n.length>0}).join(" ").trim()}var HK=`.reactEasyCrop_Container {
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  overflow: hidden;
  user-select: none;
  touch-action: none;
  cursor: move;
  display: flex;
  justify-content: center;
  align-items: center;
}

.reactEasyCrop_Image,
.reactEasyCrop_Video {
  will-change: transform; /* this improves performances and prevent painting issues on iOS Chrome */
}

.reactEasyCrop_Contain {
  max-width: 100%;
  max-height: 100%;
  margin: auto;
  position: absolute;
  top: 0;
  bottom: 0;
  left: 0;
  right: 0;
}
.reactEasyCrop_Cover_Horizontal {
  width: 100%;
  height: auto;
}
.reactEasyCrop_Cover_Vertical {
  width: auto;
  height: 100%;
}

.reactEasyCrop_CropArea {
  position: absolute;
  left: 50%;
  top: 50%;
  transform: translate(-50%, -50%);
  border: 1px solid rgba(255, 255, 255, 0.5);
  box-sizing: border-box;
  box-shadow: 0 0 0 9999em;
  color: rgba(0, 0, 0, 0.5);
  overflow: hidden;
}

.reactEasyCrop_CropAreaRound {
  border-radius: 50%;
}

.reactEasyCrop_CropAreaGrid::before {
  content: ' ';
  box-sizing: border-box;
  position: absolute;
  border: 1px solid rgba(255, 255, 255, 0.5);
  top: 0;
  bottom: 0;
  left: 33.33%;
  right: 33.33%;
  border-top: 0;
  border-bottom: 0;
}

.reactEasyCrop_CropAreaGrid::after {
  content: ' ';
  box-sizing: border-box;
  position: absolute;
  border: 1px solid rgba(255, 255, 255, 0.5);
  top: 33.33%;
  bottom: 33.33%;
  left: 0;
  right: 0;
  border-left: 0;
  border-right: 0;
}
`,WK=1,qK=3,GK=1,KK=function(t){XL(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.cropperRef=C.createRef(),n.imageRef=C.createRef(),n.videoRef=C.createRef(),n.containerPosition={x:0,y:0},n.containerRef=null,n.styleRef=null,n.containerRect=null,n.mediaSize={width:0,height:0,naturalWidth:0,naturalHeight:0},n.dragStartPosition={x:0,y:0},n.dragStartCrop={x:0,y:0},n.gestureZoomStart=0,n.gestureRotationStart=0,n.isTouching=!1,n.lastPinchDistance=0,n.lastPinchRotation=0,n.rafDragTimeout=null,n.rafPinchTimeout=null,n.wheelTimer=null,n.currentDoc=typeof document<"u"?document:null,n.currentWindow=typeof window<"u"?window:null,n.resizeObserver=null,n.state={cropSize:null,hasWheelJustStarted:!1,mediaObjectFit:void 0},n.initResizeObserver=function(){if(!(typeof window.ResizeObserver>"u"||!n.containerRef)){var r=!0;n.resizeObserver=new window.ResizeObserver(function(i){if(r){r=!1;return}n.computeSizes()}),n.resizeObserver.observe(n.containerRef)}},n.preventZoomSafari=function(r){return r.preventDefault()},n.cleanEvents=function(){n.currentDoc&&(n.currentDoc.removeEventListener("mousemove",n.onMouseMove),n.currentDoc.removeEventListener("mouseup",n.onDragStopped),n.currentDoc.removeEventListener("touchmove",n.onTouchMove),n.currentDoc.removeEventListener("touchend",n.onDragStopped),n.currentDoc.removeEventListener("gesturemove",n.onGestureMove),n.currentDoc.removeEventListener("gestureend",n.onGestureEnd),n.currentDoc.removeEventListener("scroll",n.onScroll))},n.clearScrollEvent=function(){n.containerRef&&n.containerRef.removeEventListener("wheel",n.onWheel),n.wheelTimer&&clearTimeout(n.wheelTimer)},n.onMediaLoad=function(){var r=n.computeSizes();r&&(n.emitCropData(),n.setInitialCrop(r)),n.props.onMediaLoaded&&n.props.onMediaLoaded(n.mediaSize)},n.setInitialCrop=function(r){if(n.props.initialCroppedAreaPercentages){var i=VK(n.props.initialCroppedAreaPercentages,n.mediaSize,n.props.rotation,r,n.props.minZoom,n.props.maxZoom),s=i.crop,a=i.zoom;n.props.onCropChange(s),n.props.onZoomChange&&n.props.onZoomChange(a)}else if(n.props.initialCroppedAreaPixels){var c=BK(n.props.initialCroppedAreaPixels,n.mediaSize,n.props.rotation,r,n.props.minZoom,n.props.maxZoom),s=c.crop,a=c.zoom;n.props.onCropChange(s),n.props.onZoomChange&&n.props.onZoomChange(a)}},n.computeSizes=function(){var r,i,s,a,c,u,f=n.imageRef.current||n.videoRef.current;if(f&&n.containerRef){n.containerRect=n.containerRef.getBoundingClientRect(),n.saveContainerPosition();var h=n.containerRect.width/n.containerRect.height,g=((r=n.imageRef.current)===null||r===void 0?void 0:r.naturalWidth)||((i=n.videoRef.current)===null||i===void 0?void 0:i.videoWidth)||0,v=((s=n.imageRef.current)===null||s===void 0?void 0:s.naturalHeight)||((a=n.videoRef.current)===null||a===void 0?void 0:a.videoHeight)||0,x=f.offsetWidth<g||f.offsetHeight<v,_=g/v,T=void 0;if(x)switch(n.state.mediaObjectFit){default:case"contain":T=h>_?{width:n.containerRect.height*_,height:n.containerRect.height}:{width:n.containerRect.width,height:n.containerRect.width/_};break;case"horizontal-cover":T={width:n.containerRect.width,height:n.containerRect.width/_};break;case"vertical-cover":T={width:n.containerRect.height*_,height:n.containerRect.height};break}else T={width:f.offsetWidth,height:f.offsetHeight};n.mediaSize=Gt(Gt({},T),{naturalWidth:g,naturalHeight:v}),n.props.setMediaSize&&n.props.setMediaSize(n.mediaSize);var N=n.props.cropSize?n.props.cropSize:DK(n.mediaSize.width,n.mediaSize.height,n.containerRect.width,n.containerRect.height,n.props.aspect,n.props.rotation);return(((c=n.state.cropSize)===null||c===void 0?void 0:c.height)!==N.height||((u=n.state.cropSize)===null||u===void 0?void 0:u.width)!==N.width)&&n.props.onCropSizeChange&&n.props.onCropSizeChange(N),n.setState({cropSize:N},n.recomputeCropPosition),n.props.setCropSize&&n.props.setCropSize(N),N}},n.saveContainerPosition=function(){if(n.containerRef){var r=n.containerRef.getBoundingClientRect();n.containerPosition={x:r.left,y:r.top}}},n.onMouseDown=function(r){n.currentDoc&&(r.preventDefault(),n.currentDoc.addEventListener("mousemove",n.onMouseMove),n.currentDoc.addEventListener("mouseup",n.onDragStopped),n.saveContainerPosition(),n.onDragStart(e.getMousePoint(r)))},n.onMouseMove=function(r){return n.onDrag(e.getMousePoint(r))},n.onScroll=function(r){n.currentDoc&&(r.preventDefault(),n.saveContainerPosition())},n.onTouchStart=function(r){n.currentDoc&&(n.isTouching=!0,!(n.props.onTouchRequest&&!n.props.onTouchRequest(r))&&(n.currentDoc.addEventListener("touchmove",n.onTouchMove,{passive:!1}),n.currentDoc.addEventListener("touchend",n.onDragStopped),n.saveContainerPosition(),r.touches.length===2?n.onPinchStart(r):r.touches.length===1&&n.onDragStart(e.getTouchPoint(r.touches[0]))))},n.onTouchMove=function(r){r.preventDefault(),r.touches.length===2?n.onPinchMove(r):r.touches.length===1&&n.onDrag(e.getTouchPoint(r.touches[0]))},n.onGestureStart=function(r){n.currentDoc&&(r.preventDefault(),n.currentDoc.addEventListener("gesturechange",n.onGestureMove),n.currentDoc.addEventListener("gestureend",n.onGestureEnd),n.gestureZoomStart=n.props.zoom,n.gestureRotationStart=n.props.rotation)},n.onGestureMove=function(r){if(r.preventDefault(),!n.isTouching){var i=e.getMousePoint(r),s=n.gestureZoomStart-1+r.scale;if(n.setNewZoom(s,i,{shouldUpdatePosition:!0}),n.props.onRotationChange){var a=n.gestureRotationStart+r.rotation;n.props.onRotationChange(a)}}},n.onGestureEnd=function(r){n.cleanEvents()},n.onDragStart=function(r){var i,s,a=r.x,c=r.y;n.dragStartPosition={x:a,y:c},n.dragStartCrop=Gt({},n.props.crop),(s=(i=n.props).onInteractionStart)===null||s===void 0||s.call(i)},n.onDrag=function(r){var i=r.x,s=r.y;n.currentWindow&&(n.rafDragTimeout&&n.currentWindow.cancelAnimationFrame(n.rafDragTimeout),n.rafDragTimeout=n.currentWindow.requestAnimationFrame(function(){if(n.state.cropSize&&!(i===void 0||s===void 0)){var a=i-n.dragStartPosition.x,c=s-n.dragStartPosition.y,u={x:n.dragStartCrop.x+a,y:n.dragStartCrop.y+c},f=n.props.restrictPosition?Pu(u,n.mediaSize,n.state.cropSize,n.props.zoom,n.props.rotation):u;n.props.onCropChange(f)}}))},n.onDragStopped=function(){var r,i;n.isTouching=!1,n.cleanEvents(),n.emitCropData(),(i=(r=n.props).onInteractionEnd)===null||i===void 0||i.call(r)},n.onWheel=function(r){if(n.currentWindow&&!(n.props.onWheelRequest&&!n.props.onWheelRequest(r))){r.preventDefault();var i=e.getMousePoint(r),s=MK(r).pixelY,a=n.props.zoom-s*n.props.zoomSpeed/200;n.setNewZoom(a,i,{shouldUpdatePosition:!0}),n.state.hasWheelJustStarted||n.setState({hasWheelJustStarted:!0},function(){var c,u;return(u=(c=n.props).onInteractionStart)===null||u===void 0?void 0:u.call(c)}),n.wheelTimer&&clearTimeout(n.wheelTimer),n.wheelTimer=n.currentWindow.setTimeout(function(){return n.setState({hasWheelJustStarted:!1},function(){var c,u;return(u=(c=n.props).onInteractionEnd)===null||u===void 0?void 0:u.call(c)})},250)}},n.getPointOnContainer=function(r,i){var s=r.x,a=r.y;if(!n.containerRect)throw new Error("The Cropper is not mounted");return{x:n.containerRect.width/2-(s-i.x),y:n.containerRect.height/2-(a-i.y)}},n.getPointOnMedia=function(r){var i=r.x,s=r.y,a=n.props,c=a.crop,u=a.zoom;return{x:(i+c.x)/u,y:(s+c.y)/u}},n.setNewZoom=function(r,i,s){var a=s===void 0?{}:s,c=a.shouldUpdatePosition,u=c===void 0?!0:c;if(!(!n.state.cropSize||!n.props.onZoomChange)){var f=zm(r,n.props.minZoom,n.props.maxZoom);if(u){var h=n.getPointOnContainer(i,n.containerPosition),g=n.getPointOnMedia(h),v={x:g.x*f-h.x,y:g.y*f-h.y},x=n.props.restrictPosition?Pu(v,n.mediaSize,n.state.cropSize,f,n.props.rotation):v;n.props.onCropChange(x)}n.props.onZoomChange(f)}},n.getCropData=function(){if(!n.state.cropSize)return null;var r=n.props.restrictPosition?Pu(n.props.crop,n.mediaSize,n.state.cropSize,n.props.zoom,n.props.rotation):n.props.crop;return jK(r,n.mediaSize,n.state.cropSize,n.getAspect(),n.props.zoom,n.props.rotation,n.props.restrictPosition)},n.emitCropData=function(){var r=n.getCropData();if(r){var i=r.croppedAreaPercentages,s=r.croppedAreaPixels;n.props.onCropComplete&&n.props.onCropComplete(i,s),n.props.onCropAreaChange&&n.props.onCropAreaChange(i,s)}},n.emitCropAreaChange=function(){var r=n.getCropData();if(r){var i=r.croppedAreaPercentages,s=r.croppedAreaPixels;n.props.onCropAreaChange&&n.props.onCropAreaChange(i,s)}},n.recomputeCropPosition=function(){if(n.state.cropSize){var r=n.props.restrictPosition?Pu(n.props.crop,n.mediaSize,n.state.cropSize,n.props.zoom,n.props.rotation):n.props.crop;n.props.onCropChange(r),n.emitCropData()}},n.onKeyDown=function(r){var i,s,a=n.props,c=a.crop,u=a.onCropChange,f=a.keyboardStep,h=a.zoom,g=a.rotation,v=f;if(n.state.cropSize){r.shiftKey&&(v*=.2);var x=Gt({},c);switch(r.key){case"ArrowUp":x.y-=v,r.preventDefault();break;case"ArrowDown":x.y+=v,r.preventDefault();break;case"ArrowLeft":x.x-=v,r.preventDefault();break;case"ArrowRight":x.x+=v,r.preventDefault();break;default:return}n.props.restrictPosition&&(x=Pu(x,n.mediaSize,n.state.cropSize,h,g)),r.repeat||(s=(i=n.props).onInteractionStart)===null||s===void 0||s.call(i),u(x)}},n.onKeyUp=function(r){var i,s;switch(r.key){case"ArrowUp":case"ArrowDown":case"ArrowLeft":case"ArrowRight":r.preventDefault();break;default:return}n.emitCropData(),(s=(i=n.props).onInteractionEnd)===null||s===void 0||s.call(i)},n}return e.prototype.componentDidMount=function(){!this.currentDoc||!this.currentWindow||(this.containerRef&&(this.containerRef.ownerDocument&&(this.currentDoc=this.containerRef.ownerDocument),this.currentDoc.defaultView&&(this.currentWindow=this.currentDoc.defaultView),this.initResizeObserver(),typeof window.ResizeObserver>"u"&&this.currentWindow.addEventListener("resize",this.computeSizes),this.props.zoomWithScroll&&this.containerRef.addEventListener("wheel",this.onWheel,{passive:!1}),this.containerRef.addEventListener("gesturestart",this.onGestureStart)),this.currentDoc.addEventListener("scroll",this.onScroll),this.props.disableAutomaticStylesInjection||(this.styleRef=this.currentDoc.createElement("style"),this.styleRef.setAttribute("type","text/css"),this.props.nonce&&this.styleRef.setAttribute("nonce",this.props.nonce),this.styleRef.innerHTML=HK,this.currentDoc.head.appendChild(this.styleRef)),this.imageRef.current&&this.imageRef.current.complete&&this.onMediaLoad(),this.props.setImageRef&&this.props.setImageRef(this.imageRef),this.props.setVideoRef&&this.props.setVideoRef(this.videoRef),this.props.setCropperRef&&this.props.setCropperRef(this.cropperRef))},e.prototype.componentWillUnmount=function(){var n,r;!this.currentDoc||!this.currentWindow||(typeof window.ResizeObserver>"u"&&this.currentWindow.removeEventListener("resize",this.computeSizes),(n=this.resizeObserver)===null||n===void 0||n.disconnect(),this.containerRef&&this.containerRef.removeEventListener("gesturestart",this.preventZoomSafari),this.styleRef&&((r=this.styleRef.parentNode)===null||r===void 0||r.removeChild(this.styleRef)),this.cleanEvents(),this.props.zoomWithScroll&&this.clearScrollEvent())},e.prototype.componentDidUpdate=function(n){var r,i,s,a,c,u,f,h,g;n.rotation!==this.props.rotation?(this.computeSizes(),this.recomputeCropPosition()):n.aspect!==this.props.aspect?this.computeSizes():n.objectFit!==this.props.objectFit?this.computeSizes():n.zoom!==this.props.zoom?this.recomputeCropPosition():((r=n.cropSize)===null||r===void 0?void 0:r.height)!==((i=this.props.cropSize)===null||i===void 0?void 0:i.height)||((s=n.cropSize)===null||s===void 0?void 0:s.width)!==((a=this.props.cropSize)===null||a===void 0?void 0:a.width)?this.computeSizes():(((c=n.crop)===null||c===void 0?void 0:c.x)!==((u=this.props.crop)===null||u===void 0?void 0:u.x)||((f=n.crop)===null||f===void 0?void 0:f.y)!==((h=this.props.crop)===null||h===void 0?void 0:h.y))&&this.emitCropAreaChange(),n.zoomWithScroll!==this.props.zoomWithScroll&&this.containerRef&&(this.props.zoomWithScroll?this.containerRef.addEventListener("wheel",this.onWheel,{passive:!1}):this.clearScrollEvent()),n.video!==this.props.video&&((g=this.videoRef.current)===null||g===void 0||g.load());var v=this.getObjectFit();v!==this.state.mediaObjectFit&&this.setState({mediaObjectFit:v},this.computeSizes)},e.prototype.getAspect=function(){var n=this.props,r=n.cropSize,i=n.aspect;return r?r.width/r.height:i},e.prototype.getObjectFit=function(){var n,r,i,s;if(this.props.objectFit==="cover"){var a=this.imageRef.current||this.videoRef.current;if(a&&this.containerRef){this.containerRect=this.containerRef.getBoundingClientRect();var c=this.containerRect.width/this.containerRect.height,u=((n=this.imageRef.current)===null||n===void 0?void 0:n.naturalWidth)||((r=this.videoRef.current)===null||r===void 0?void 0:r.videoWidth)||0,f=((i=this.imageRef.current)===null||i===void 0?void 0:i.naturalHeight)||((s=this.videoRef.current)===null||s===void 0?void 0:s.videoHeight)||0,h=u/f;return h<c?"horizontal-cover":"vertical-cover"}return"horizontal-cover"}return this.props.objectFit},e.prototype.onPinchStart=function(n){var r=e.getTouchPoint(n.touches[0]),i=e.getTouchPoint(n.touches[1]);this.lastPinchDistance=UT(r,i),this.lastPinchRotation=BT(r,i),this.onDragStart(zT(r,i))},e.prototype.onPinchMove=function(n){var r=this;if(!(!this.currentDoc||!this.currentWindow)){var i=e.getTouchPoint(n.touches[0]),s=e.getTouchPoint(n.touches[1]),a=zT(i,s);this.onDrag(a),this.rafPinchTimeout&&this.currentWindow.cancelAnimationFrame(this.rafPinchTimeout),this.rafPinchTimeout=this.currentWindow.requestAnimationFrame(function(){var c=UT(i,s),u=r.props.zoom*(c/r.lastPinchDistance);r.setNewZoom(u,a,{shouldUpdatePosition:!1}),r.lastPinchDistance=c;var f=BT(i,s),h=r.props.rotation+(f-r.lastPinchRotation);r.props.onRotationChange&&r.props.onRotationChange(h),r.lastPinchRotation=f})}},e.prototype.render=function(){var n=this,r,i=this.props,s=i.image,a=i.video,c=i.mediaProps,u=i.cropperProps,f=i.transform,h=i.crop,g=h.x,v=h.y,x=i.rotation,_=i.zoom,T=i.cropShape,N=i.showGrid,A=i.style,k=A.containerStyle,P=A.cropAreaStyle,j=A.mediaStyle,$=i.classes,z=$.containerClassName,D=$.cropAreaClassName,I=$.mediaClassName,O=(r=this.state.mediaObjectFit)!==null&&r!==void 0?r:this.getObjectFit();return C.createElement("div",{onMouseDown:this.onMouseDown,onTouchStart:this.onTouchStart,ref:function(M){return n.containerRef=M},"data-testid":"container",style:k,className:Bh("reactEasyCrop_Container",z)},s?C.createElement("img",Gt({alt:"",className:Bh("reactEasyCrop_Image",O==="contain"&&"reactEasyCrop_Contain",O==="horizontal-cover"&&"reactEasyCrop_Cover_Horizontal",O==="vertical-cover"&&"reactEasyCrop_Cover_Vertical",I)},c,{src:s,ref:this.imageRef,style:Gt(Gt({},j),{transform:f||"translate(".concat(g,"px, ").concat(v,"px) rotate(").concat(x,"deg) scale(").concat(_,")")}),onLoad:this.onMediaLoad})):a&&C.createElement("video",Gt({autoPlay:!0,playsInline:!0,loop:!0,muted:!0,className:Bh("reactEasyCrop_Video",O==="contain"&&"reactEasyCrop_Contain",O==="horizontal-cover"&&"reactEasyCrop_Cover_Horizontal",O==="vertical-cover"&&"reactEasyCrop_Cover_Vertical",I)},c,{ref:this.videoRef,onLoadedMetadata:this.onMediaLoad,style:Gt(Gt({},j),{transform:f||"translate(".concat(g,"px, ").concat(v,"px) rotate(").concat(x,"deg) scale(").concat(_,")")}),controls:!1}),(Array.isArray(a)?a:[{src:a}]).map(function(b){return C.createElement("source",Gt({key:b.src},b))})),this.state.cropSize&&C.createElement("div",Gt({ref:this.cropperRef,style:Gt(Gt({},P),{width:this.state.cropSize.width,height:this.state.cropSize.height}),tabIndex:0,onKeyDown:this.onKeyDown,onKeyUp:this.onKeyUp,"data-testid":"cropper",className:Bh("reactEasyCrop_CropArea",T==="round"&&"reactEasyCrop_CropAreaRound",N&&"reactEasyCrop_CropAreaGrid",D)},u)))},e.defaultProps={zoom:1,rotation:0,aspect:4/3,maxZoom:qK,minZoom:WK,cropShape:"rect",objectFit:"contain",showGrid:!0,style:{},classes:{},mediaProps:{},cropperProps:{},zoomSpeed:1,restrictPosition:!0,zoomWithScroll:!0,keyboardStep:GK},e.getMousePoint=function(n){return{x:Number(n.clientX),y:Number(n.clientY)}},e.getTouchPoint=function(n){return{x:Number(n.clientX),y:Number(n.clientY)}},e}(C.Component);const YK=t=>new Promise((e,n)=>{const r=new Image;r.addEventListener("load",()=>e(r)),r.addEventListener("error",i=>n(i)),r.setAttribute("crossOrigin","anonymous"),r.src=t});async function XK(t,e){const n=await YK(t),r=document.createElement("canvas"),i=r.getContext("2d");return r.width=e.width,r.height=e.height,i.drawImage(n,e.x,e.y,e.width,e.height,0,0,e.width,e.height),r}function JK({open:t,onClose:e,usuario:n,onUploadSuccess:r}){const[i,s]=C.useState(null),[a,c]=C.useState({x:0,y:0}),[u,f]=C.useState(1),[h,g]=C.useState(null),[v,x]=C.useState(!1),_=C.useCallback((A,k)=>{g(k)},[]),T=A=>{if(A.target.files&&A.target.files.length>0){const k=A.target.files[0],P=new FileReader;P.onload=()=>{s(P.result)},P.readAsDataURL(k)}},N=async()=>{x(!0);const k=(await XK(i,h)).toDataURL("image/jpeg");localStorage.setItem(`fotoPerfil_${n.uid}`,k),r(k),x(!1),e()};return w.jsx(lN,{open:t,onClose:e,children:w.jsxs(cN,{className:"bg-white rounded-lg p-4 shadow-lg w-full max-w-md mx-auto mt-32 max-h-[90vh] overflow-hidden",children:[w.jsx("h2",{className:"text-lg font-bold mb-4 text-center",children:"Editar Foto de Perfil"}),i?w.jsx("div",{className:"relative w-full h-[300px] bg-black",children:w.jsx(KK,{image:i,crop:a,zoom:u,aspect:1,onCropChange:c,onZoomChange:f,onCropComplete:_})}):w.jsx("input",{type:"file",accept:"image/*",onChange:T}),w.jsxs("div",{className:"flex justify-end mt-4 gap-2",children:[w.jsx("button",{onClick:e,className:"px-4 py-2 bg-gray-300 rounded hover:bg-gray-400",children:"Cancelar"}),i&&w.jsx("button",{onClick:N,disabled:v,className:"px-4 py-2 bg-green-600 text-white rounded hover:bg-green-700",children:v?"Subiendo...":"Guardar"})]})]})})}function QK(){const{user:t}=ii(),[e,n]=C.useState(null),[r,i]=C.useState(!1),[s,a]=C.useState(""),[c,u]=C.useState(""),[f,h]=C.useState(!1),[g,v]=C.useState(!1),[x,_]=C.useState(!1),T=Pr(),N=(j,$)=>(j?.charAt(0).toUpperCase()||"")+($?.charAt(0).toUpperCase()||"");C.useEffect(()=>{if(t){const j=Ce(Te,`usuarios/${t.uid}`);Sr(j).then(async $=>{const z=t.displayName||"",D=z.split(" ")[0]||"",I=z.split(" ")[1]||"",O=t.photoURL||null,M=localStorage.getItem(`fotoPerfil_${t.uid}`)||O||$.exists()&&$.val().foto||null,V={nombre:D,apellido:I,correo:t.email,rol:"usuario",iniciales:N(D,I),foto:M},F=!D||!I;if(h(F),i(F),a(D),u(I),!$.exists())await Ct(j,V),n(V);else{const Z=$.val(),se={};Z.nombre||(se.nombre=D),Z.apellido||(se.apellido=I),!Z.foto&&M&&(se.foto=M),Object.keys(se).length>0?(await hs(j,se),n({...Z,...se,foto:M})):n({...Z,foto:M}),a(Z.nombre||D),u(Z.apellido||I)}})}},[t]);const A=async()=>{if(!t)return;const j=Ce(Te,`usuarios/${t.uid}`),$={nombre:s,apellido:c,iniciales:N(s,c)};await hs(j,$),i(!1),h(!1),alert("Datos actualizados correctamente")},k=async()=>{await Bk(to),T("/login")},P=j=>{n($=>({...$,foto:j}))};return e?w.jsxs("div",{className:"min-h-screen bg-cover bg-center text-white font-qatar",style:{backgroundImage:"url('/EmproChampions-2025/img/fondoempro-horizontal.png')"},children:[w.jsx(lr,{}),w.jsx("div",{className:"flex items-center justify-center px-4 py-10",children:w.jsxs("div",{className:"bg-white/90 rounded-2xl shadow-lg p-8 w-full max-w-md text-center text-black",children:[w.jsx("h1",{className:"text-3xl font-bold text-[#7a0026] mb-6",children:"Configuración de Cuenta"}),f&&w.jsx("div",{className:"mb-4 text-red-700 font-semibold",children:"Tu cuenta no tiene nombre ni foto. Por favor completa tu perfil 👇"}),w.jsxs("div",{className:"mb-4 relative w-24 h-24 mx-auto",children:[e.foto?w.jsx("img",{src:e.foto,alt:"Foto de perfil",className:"w-24 h-24 rounded-full object-cover"}):w.jsx("div",{className:"w-24 h-24 rounded-full bg-[#7a0026] text-white text-3xl flex items-center justify-center",children:N(s,c)||"U"}),w.jsx("button",{type:"button",onClick:()=>_(!0),className:"absolute bottom-0 right-0 bg-yellow-400 text-black rounded-full p-1 shadow-md hover:bg-yellow-500","aria-label":"Editar foto de perfil",children:"✏️"})]}),w.jsxs("div",{className:"space-y-4 text-left",children:[w.jsx("input",{type:"text",placeholder:"Nombre",value:s,onChange:j=>a(j.target.value),className:"w-full px-4 py-2 border border-[#7a0026] rounded-md",disabled:!r}),w.jsx("input",{type:"text",placeholder:"Apellido",value:c,onChange:j=>u(j.target.value),className:"w-full px-4 py-2 border border-[#7a0026] rounded-md",disabled:!r}),w.jsxs("p",{className:"text-gray-700 font-sans text-sm break-all",children:["Correo: ",e.correo]})]}),w.jsxs("div",{className:"mt-6",children:[r?w.jsx("button",{onClick:A,className:"w-full bg-[#FFD700] text-[#7a0026] font-bold py-2 rounded-md hover:bg-yellow-400 transition",children:"Guardar Cambios"}):w.jsx("button",{onClick:()=>i(!0),className:"w-full bg-blue-600 text-white font-bold py-2 rounded-md hover:bg-blue-700 transition",children:"Editar"}),w.jsx("button",{onClick:()=>v(!0),className:"mt-4 w-full bg-red-600 text-white font-bold py-2 rounded-md hover:bg-red-700 transition",children:"Cerrar sesión"})]})]})}),w.jsx(lN,{open:g,onClose:()=>v(!1),children:w.jsxs(cN,{sx:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:400,bgcolor:"background.paper",border:"2px solid #000",boxShadow:24,p:4,textAlign:"center"},children:[w.jsx("h2",{className:"text-xl font-bold mb-4 text-black",children:"¿Cerrar sesión?"}),w.jsxs("div",{className:"flex justify-center gap-4",children:[w.jsx("button",{className:"bg-gray-300 px-4 py-2 rounded hover:bg-gray-400",onClick:()=>v(!1),children:"Cancelar"}),w.jsx("button",{className:"bg-red-600 text-white px-4 py-2 rounded hover:bg-red-700",onClick:k,children:"Confirmar"})]})]})}),w.jsx(JK,{open:x,onClose:()=>_(!1),usuario:t,onUploadSuccess:P}),w.jsx(cr,{})]}):w.jsx("div",{className:"text-white text-center mt-10",children:"Cargando..."})}function ZK(){const{partidoId:t}=uw(),e=Pr(),[n,r]=C.useState(null),[i,s]=C.useState([]),[a,c]=C.useState(!0),[u,f]=C.useState(!1);C.useEffect(()=>{if(!t){e("/");return}const v=Ce(Te,`partidos/${t}`),x=ln(v,_=>{if(_.exists()){const T=_.val();r(T);const N=T.eventos?.goles?Object.entries(T.eventos.goles).map(([A,k])=>({id:A,...k})):[];s(N)}else e("/historial");c(!1)});return()=>Sa(v,"value",x)},[t,e]);const h=v=>{window.confirm("¿Estás seguro de que quieres eliminar este gol?")&&(s(x=>x.filter(_=>_.id!==v)),alert("Gol eliminado de la lista de edición. Recuerda guardar los cambios para que sea permanente."))},g=C.useCallback(async()=>{if(!n?.alineacion?.equipo1||!n?.alineacion?.equipo2){alert("Error: Faltan datos de alineación en este partido. No se pueden recalcular las estadísticas."),f(!1);return}if(!u){f(!0),alert("Procesando... Esto puede tardar unos segundos. Por favor, espera.");try{const v=n.alineacion.genero,x=n.alineacion.equipo1,_=n.alineacion.equipo2,T=(await Sr(Ce(Te,`historial/${v}/${t}`))).val();let A=(await Sr(Ce(Te,`tablas/${v}`))).val()||{};if(T){const{equipo1:I,equipo2:O,goles1:b,goles2:M}=T,V=(F,Z,se,re)=>{if(!A[F])return;let ue={...A[F]};ue.pj-=1,ue.gf-=Z,ue.gc-=se,re==="victoria"?(ue.pg-=1,ue.puntos-=3):re==="empate"?(ue.pe-=1,ue.puntos-=1):ue.pp-=1,A[F]=ue};b>M?(V(I,b,M,"victoria"),V(O,M,b,"derrota")):M>b?(V(I,b,M,"derrota"),V(O,M,b,"victoria")):(V(I,b,M,"empate"),V(O,M,b,"empate"))}const k={equipo1:0,equipo2:0};i.forEach(I=>{I.equipo==="equipo1"&&k.equipo1++,I.equipo==="equipo2"&&k.equipo2++});const P=(I,O,b,M)=>{if(!I?.nombre)return;let V=A[I.nombre]||{pj:0,pg:0,pe:0,pp:0,gf:0,gc:0,puntos:0,logo:I.logo};V.pj=(V.pj||0)+1,V.gf=(V.gf||0)+O,V.gc=(V.gc||0)+b,M==="victoria"?(V.pg=(V.pg||0)+1,V.puntos=(V.puntos||0)+3):M==="empate"?(V.pe=(V.pe||0)+1,V.puntos=(V.puntos||0)+1):V.pp=(V.pp||0)+1,A[I.nombre]=V};k.equipo1>k.equipo2?(P(x,k.equipo1,k.equipo2,"victoria"),P(_,k.equipo2,k.equipo1,"derrota")):k.equipo2>k.equipo1?(P(x,k.equipo1,k.equipo2,"derrota"),P(_,k.equipo2,k.equipo1,"victoria")):(P(x,k.equipo1,k.equipo2,"empate"),P(_,k.equipo2,k.equipo1,"empate"));const j={},$=i.reduce((I,O)=>({...I,[O.id]:{equipo:O.equipo,jugador:O.jugador,minuto:O.minuto,tipo:O.tipo}}),{});j[`/partidos/${t}/eventos/goles`]=$,j[`/partidos/${t}/resultado/marcador`]=k,j[`/historial/${v}/${t}/goles1`]=k.equipo1,j[`/historial/${v}/${t}/goles2`]=k.equipo2,j[`/tablas/${v}`]=A;let D=(await Sr(Ce(Te,`goleadoresDetalles/${v}`))).val()||{};Object.keys(D).forEach(I=>{D[I]=D[I].filter(O=>O.partidoId!==t),D[I].length===0&&delete D[I]}),i.forEach(I=>{const O=I.jugador.replace(/[.#$[\]]/g,"_");D[O]||(D[O]=[]),D[O].push({idDelGol:I.id,minuto:I.minuto,partidoId:t,partidoNombre:`${x.nombre} vs ${_.nombre}`,fecha:T?.fecha||new Date().toLocaleDateString("es-HN"),equipo:I.equipo==="equipo1"?x.nombre:_.nombre,logo:I.equipo==="equipo1"?x.logo:_.logo,jugador:I.jugador})}),j[`/goleadoresDetalles/${v}`]=D,await hs(Ce(Te),j),alert("¡Éxito! Todas las tablas han sido recalculadas y actualizadas."),e("/historial")}catch(v){console.error("Error al guardar los cambios:",v),alert(`Hubo un error al guardar: ${v.message}`)}finally{f(!1)}}},[n,i,t,e,u]);return a?w.jsx("div",{className:"w-full min-h-screen bg-main-background text-white flex justify-center items-center",children:"Cargando datos..."}):w.jsxs("div",{className:"w-full min-h-screen bg-main-background text-white font-qatar flex flex-col",children:[w.jsx(lr,{}),w.jsxs("div",{className:"container mx-auto px-4 py-8 flex-grow",children:[w.jsx("h1",{className:"text-4xl md:text-5xl font-bold text-center text-yellow-400 drop-shadow-lg mb-2",children:"Editar Partido"}),w.jsxs("p",{className:"text-center text-gray-300 mb-8",children:[n.alineacion?.equipo1?.nombre||"Equipo 1"," vs ",n.alineacion?.equipo2?.nombre||"Equipo 2"]}),w.jsxs("div",{className:"max-w-2xl mx-auto bg-black/50 p-6 rounded-xl",children:[w.jsx("h2",{className:"text-2xl font-bold mb-4 text-yellow-300",children:"Eventos del Partido"}),w.jsx("div",{className:"space-y-3",children:i.length>0?i.map(v=>w.jsxs("div",{className:"flex items-center justify-between bg-gray-800/50 p-3 rounded-lg",children:[w.jsxs("div",{children:[w.jsxs("p",{className:"font-bold",children:[v.jugador," (Gol)"]}),w.jsxs("p",{className:"text-sm opacity-70",children:["Minuto: ",v.minuto]})]}),w.jsx("button",{onClick:()=>h(v.id),className:"bg-red-600 hover:bg-red-500 text-white font-bold py-1 px-3 rounded text-sm",children:"Eliminar"})]},v.id)):w.jsx("p",{children:"No hay goles para editar."})}),w.jsxs("div",{className:"mt-8 pt-6 border-t border-yellow-400/20 flex justify-between items-center",children:[w.jsx("button",{onClick:()=>e("/historial"),className:"bg-gray-500 hover:bg-gray-400 text-white font-bold py-2 px-6 rounded",children:"Cancelar"}),w.jsx("button",{onClick:g,disabled:u,className:"bg-green-600 hover:bg-green-500 text-white font-bold py-2 px-6 rounded disabled:bg-gray-400",children:u?"Guardando...":"Guardar Cambios y Recalcular"})]})]})]}),w.jsx(cr,{})]})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eY="functions";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tY{constructor(e,n,r,i){this.app=e,this.auth=null,this.messaging=null,this.appCheck=null,this.serverAppAppCheckToken=null,gn(e)&&e.settings.appCheckToken&&(this.serverAppAppCheckToken=e.settings.appCheckToken),this.auth=n.getImmediate({optional:!0}),this.messaging=r.getImmediate({optional:!0}),this.auth||n.get().then(s=>this.auth=s,()=>{}),this.messaging||r.get().then(s=>this.messaging=s,()=>{}),this.appCheck||i?.get().then(s=>this.appCheck=s,()=>{})}async getAuthToken(){if(this.auth)try{const e=await this.auth.getToken();return e?.accessToken}catch{return}}async getMessagingToken(){if(!(!this.messaging||!("Notification"in self)||Notification.permission!=="granted"))try{return await this.messaging.getToken()}catch{return}}async getAppCheckToken(e){if(this.serverAppAppCheckToken)return this.serverAppAppCheckToken;if(this.appCheck){const n=e?await this.appCheck.getLimitedUseToken():await this.appCheck.getToken();return n.error?null:n.token}return null}async getContext(e){const n=await this.getAuthToken(),r=await this.getMessagingToken(),i=await this.getAppCheckToken(e);return{authToken:n,messagingToken:r,appCheckToken:i}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HT="us-central1";class nY{constructor(e,n,r,i,s=HT,a=(...c)=>fetch(...c)){this.app=e,this.fetchImpl=a,this.emulatorOrigin=null,this.contextProvider=new tY(e,n,r,i),this.cancelAllRequests=new Promise(c=>{this.deleteService=()=>Promise.resolve(c())});try{const c=new URL(s);this.customDomain=c.origin+(c.pathname==="/"?"":c.pathname),this.region=HT}catch{this.customDomain=null,this.region=s}}_delete(){return this.deleteService()}_url(e){const n=this.app.options.projectId;return this.emulatorOrigin!==null?`${this.emulatorOrigin}/${n}/${this.region}/${e}`:this.customDomain!==null?`${this.customDomain}/${e}`:`https://${this.region}-${n}.cloudfunctions.net/${e}`}}const WT="@firebase/functions",qT="0.12.6";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rY="auth-internal",iY="app-check-internal",sY="messaging-internal";function oY(t){const e=(n,{instanceIdentifier:r})=>{const i=n.getProvider("app").getImmediate(),s=n.getProvider(rY),a=n.getProvider(sY),c=n.getProvider(iY);return new nY(i,s,a,c,r)};ar(new qn(eY,e,"PUBLIC").setMultipleInstances(!0)),Jt(WT,qT,t),Jt(WT,qT,"esm2017")}oY();var aY=Object.defineProperty,lY=(t,e,n)=>e in t?aY(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,ky=(t,e,n)=>(lY(t,typeof e!="symbol"?e+"":e,n),n);let cY=class{constructor(){ky(this,"current",this.detect()),ky(this,"handoffState","pending"),ky(this,"currentId",0)}set(e){this.current!==e&&(this.handoffState="pending",this.currentId=0,this.current=e)}reset(){this.set(this.detect())}nextId(){return++this.currentId}get isServer(){return this.current==="server"}get isClient(){return this.current==="client"}detect(){return typeof window>"u"||typeof document>"u"?"server":"client"}handoff(){this.handoffState==="pending"&&(this.handoffState="complete")}get isHandoffComplete(){return this.handoffState==="complete"}},ga=new cY;function Hm(t){var e,n;return ga.isServer?null:t?"ownerDocument"in t?t.ownerDocument:"current"in t?(n=(e=t.current)==null?void 0:e.ownerDocument)!=null?n:document:null:document}function Wm(t){typeof queueMicrotask=="function"?queueMicrotask(t):Promise.resolve().then(t).catch(e=>setTimeout(()=>{throw e}))}function bs(){let t=[],e={addEventListener(n,r,i,s){return n.addEventListener(r,i,s),e.add(()=>n.removeEventListener(r,i,s))},requestAnimationFrame(...n){let r=requestAnimationFrame(...n);return e.add(()=>cancelAnimationFrame(r))},nextFrame(...n){return e.requestAnimationFrame(()=>e.requestAnimationFrame(...n))},setTimeout(...n){let r=setTimeout(...n);return e.add(()=>clearTimeout(r))},microTask(...n){let r={current:!0};return Wm(()=>{r.current&&n[0]()}),e.add(()=>{r.current=!1})},style(n,r,i){let s=n.style.getPropertyValue(r);return Object.assign(n.style,{[r]:i}),this.add(()=>{Object.assign(n.style,{[r]:s})})},group(n){let r=bs();return n(r),this.add(()=>r.dispose())},add(n){return t.includes(n)||t.push(n),()=>{let r=t.indexOf(n);if(r>=0)for(let i of t.splice(r,1))i()}},dispose(){for(let n of t.splice(0))n()}};return e}function kx(){let[t]=C.useState(bs);return C.useEffect(()=>()=>t.dispose(),[t]),t}let wn=(t,e)=>{ga.isServer?C.useEffect(t,e):C.useLayoutEffect(t,e)};function Da(t){let e=C.useRef(t);return wn(()=>{e.current=t},[t]),e}let tt=function(t){let e=Da(t);return me.useCallback((...n)=>e.current(...n),[e])},uY=C.createContext(void 0);function dY(){return C.useContext(uY)}function Q0(...t){return Array.from(new Set(t.flatMap(e=>typeof e=="string"?e.split(" "):[]))).filter(Boolean).join(" ")}function vs(t,e,...n){if(t in e){let i=e[t];return typeof i=="function"?i(...n):i}let r=new Error(`Tried to handle "${t}" but there is no handler defined. Only defined handlers are: ${Object.keys(e).map(i=>`"${i}"`).join(", ")}.`);throw Error.captureStackTrace&&Error.captureStackTrace(r,vs),r}var Kp=(t=>(t[t.None=0]="None",t[t.RenderStrategy=1]="RenderStrategy",t[t.Static=2]="Static",t))(Kp||{}),io=(t=>(t[t.Unmount=0]="Unmount",t[t.Hidden=1]="Hidden",t))(io||{});function Rr(){let t=hY();return C.useCallback(e=>fY({mergeRefs:t,...e}),[t])}function fY({ourProps:t,theirProps:e,slot:n,defaultTag:r,features:i,visible:s=!0,name:a,mergeRefs:c}){c=c??pY;let u=uN(e,t);if(s)return zh(u,n,r,a,c);let f=i??0;if(f&2){let{static:h=!1,...g}=u;if(h)return zh(g,n,r,a,c)}if(f&1){let{unmount:h=!0,...g}=u;return vs(h?0:1,{0(){return null},1(){return zh({...g,hidden:!0,style:{display:"none"}},n,r,a,c)}})}return zh(u,n,r,a,c)}function zh(t,e={},n,r,i){let{as:s=n,children:a,refName:c="ref",...u}=Py(t,["unmount","static"]),f=t.ref!==void 0?{[c]:t.ref}:{},h=typeof a=="function"?a(e):a;"className"in u&&u.className&&typeof u.className=="function"&&(u.className=u.className(e)),u["aria-labelledby"]&&u["aria-labelledby"]===u.id&&(u["aria-labelledby"]=void 0);let g={};if(e){let v=!1,x=[];for(let[_,T]of Object.entries(e))typeof T=="boolean"&&(v=!0),T===!0&&x.push(_.replace(/([A-Z])/g,N=>`-${N.toLowerCase()}`));if(v){g["data-headlessui-state"]=x.join(" ");for(let _ of x)g[`data-${_}`]=""}}if(s===C.Fragment&&(Object.keys(ia(u)).length>0||Object.keys(ia(g)).length>0))if(!C.isValidElement(h)||Array.isArray(h)&&h.length>1){if(Object.keys(ia(u)).length>0)throw new Error(['Passing props on "Fragment"!',"",`The current component <${r} /> is rendering a "Fragment".`,"However we need to passthrough the following props:",Object.keys(ia(u)).concat(Object.keys(ia(g))).map(v=>`  - ${v}`).join(`
`),"","You can apply a few solutions:",['Add an `as="..."` prop, to ensure that we render an actual element instead of a "Fragment".',"Render a single element as the child so that we can forward the props onto that element."].map(v=>`  - ${v}`).join(`
`)].join(`
`))}else{let v=h.props,x=v?.className,_=typeof x=="function"?(...A)=>Q0(x(...A),u.className):Q0(x,u.className),T=_?{className:_}:{},N=uN(h.props,ia(Py(u,["ref"])));for(let A in g)A in N&&delete g[A];return C.cloneElement(h,Object.assign({},N,g,f,{ref:i(mY(h),f.ref)},T))}return C.createElement(s,Object.assign({},Py(u,["ref"]),s!==C.Fragment&&f,s!==C.Fragment&&g),h)}function hY(){let t=C.useRef([]),e=C.useCallback(n=>{for(let r of t.current)r!=null&&(typeof r=="function"?r(n):r.current=n)},[]);return(...n)=>{if(!n.every(r=>r==null))return t.current=n,e}}function pY(...t){return t.every(e=>e==null)?void 0:e=>{for(let n of t)n!=null&&(typeof n=="function"?n(e):n.current=e)}}function uN(...t){if(t.length===0)return{};if(t.length===1)return t[0];let e={},n={};for(let r of t)for(let i in r)i.startsWith("on")&&typeof r[i]=="function"?(n[i]!=null||(n[i]=[]),n[i].push(r[i])):e[i]=r[i];if(e.disabled||e["aria-disabled"])for(let r in n)/^(on(?:Click|Pointer|Mouse|Key)(?:Down|Up|Press)?)$/.test(r)&&(n[r]=[i=>{var s;return(s=i?.preventDefault)==null?void 0:s.call(i)}]);for(let r in n)Object.assign(e,{[r](i,...s){let a=n[r];for(let c of a){if((i instanceof Event||i?.nativeEvent instanceof Event)&&i.defaultPrevented)return;c(i,...s)}}});return e}function Kn(t){var e;return Object.assign(C.forwardRef(t),{displayName:(e=t.displayName)!=null?e:t.name})}function ia(t){let e=Object.assign({},t);for(let n in e)e[n]===void 0&&delete e[n];return e}function Py(t,e=[]){let n=Object.assign({},t);for(let r of e)r in n&&delete n[r];return n}function mY(t){return me.version.split(".")[0]>="19"?t.props.ref:t.ref}let gY="span";var Yp=(t=>(t[t.None=1]="None",t[t.Focusable=2]="Focusable",t[t.Hidden=4]="Hidden",t))(Yp||{});function vY(t,e){var n;let{features:r=1,...i}=t,s={ref:e,"aria-hidden":(r&2)===2?!0:(n=i["aria-hidden"])!=null?n:void 0,hidden:(r&4)===4?!0:void 0,style:{position:"fixed",top:1,left:1,width:1,height:0,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0",...(r&4)===4&&(r&2)!==2&&{display:"none"}}};return Rr()({ourProps:s,theirProps:i,slot:{},defaultTag:gY,name:"Hidden"})}let Z0=Kn(vY);function dN(t){return typeof t!="object"||t===null?!1:"nodeType"in t}function uo(t){return dN(t)&&"tagName"in t}function Ia(t){return uo(t)&&"accessKey"in t}function so(t){return uo(t)&&"tabIndex"in t}function yY(t){return uo(t)&&"style"in t}function wY(t){return Ia(t)&&t.nodeName==="IFRAME"}function _Y(t){return Ia(t)&&t.nodeName==="INPUT"}let fN=Symbol();function xY(t,e=!0){return Object.assign(t,{[fN]:e})}function Ri(...t){let e=C.useRef(t);C.useEffect(()=>{e.current=t},[t]);let n=tt(r=>{for(let i of e.current)i!=null&&(typeof i=="function"?i(r):i.current=r)});return t.every(r=>r==null||r?.[fN])?void 0:n}let Px=C.createContext(null);Px.displayName="DescriptionContext";function hN(){let t=C.useContext(Px);if(t===null){let e=new Error("You used a <Description /> component, but it is not inside a relevant parent.");throw Error.captureStackTrace&&Error.captureStackTrace(e,hN),e}return t}function bY(){let[t,e]=C.useState([]);return[t.length>0?t.join(" "):void 0,C.useMemo(()=>function(n){let r=tt(s=>(e(a=>[...a,s]),()=>e(a=>{let c=a.slice(),u=c.indexOf(s);return u!==-1&&c.splice(u,1),c}))),i=C.useMemo(()=>({register:r,slot:n.slot,name:n.name,props:n.props,value:n.value}),[r,n.slot,n.name,n.props,n.value]);return me.createElement(Px.Provider,{value:i},n.children)},[e])]}let EY="p";function SY(t,e){let n=C.useId(),r=dY(),{id:i=`headlessui-description-${n}`,...s}=t,a=hN(),c=Ri(e);wn(()=>a.register(i),[i,a.register]);let u=r||!1,f=C.useMemo(()=>({...a.slot,disabled:u}),[a.slot,u]),h={ref:c,...a.props,id:i};return Rr()({ourProps:h,theirProps:s,slot:f,defaultTag:EY,name:a.name||"Description"})}let CY=Kn(SY),TY=Object.assign(CY,{});var pN=(t=>(t.Space=" ",t.Enter="Enter",t.Escape="Escape",t.Backspace="Backspace",t.Delete="Delete",t.ArrowLeft="ArrowLeft",t.ArrowUp="ArrowUp",t.ArrowRight="ArrowRight",t.ArrowDown="ArrowDown",t.Home="Home",t.End="End",t.PageUp="PageUp",t.PageDown="PageDown",t.Tab="Tab",t))(pN||{});let kY=C.createContext(()=>{});function PY({value:t,children:e}){return me.createElement(kY.Provider,{value:t},e)}let mN=class extends Map{constructor(e){super(),this.factory=e}get(e){let n=super.get(e);return n===void 0&&(n=this.factory(e),this.set(e,n)),n}};var IY=Object.defineProperty,RY=(t,e,n)=>e in t?IY(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,AY=(t,e,n)=>(RY(t,e+"",n),n),gN=(t,e,n)=>{if(!e.has(t))throw TypeError("Cannot "+n)},_r=(t,e,n)=>(gN(t,e,"read from private field"),n?n.call(t):e.get(t)),Iy=(t,e,n)=>{if(e.has(t))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(t):e.set(t,n)},GT=(t,e,n,r)=>(gN(t,e,"write to private field"),e.set(t,n),n),gi,Lu,ju;let NY=class{constructor(e){Iy(this,gi,{}),Iy(this,Lu,new mN(()=>new Set)),Iy(this,ju,new Set),AY(this,"disposables",bs()),GT(this,gi,e)}dispose(){this.disposables.dispose()}get state(){return _r(this,gi)}subscribe(e,n){let r={selector:e,callback:n,current:e(_r(this,gi))};return _r(this,ju).add(r),this.disposables.add(()=>{_r(this,ju).delete(r)})}on(e,n){return _r(this,Lu).get(e).add(n),this.disposables.add(()=>{_r(this,Lu).get(e).delete(n)})}send(e){let n=this.reduce(_r(this,gi),e);if(n!==_r(this,gi)){GT(this,gi,n);for(let r of _r(this,ju)){let i=r.selector(_r(this,gi));vN(r.current,i)||(r.current=i,r.callback(i))}for(let r of _r(this,Lu).get(e.type))r(_r(this,gi),e)}}};gi=new WeakMap,Lu=new WeakMap,ju=new WeakMap;function vN(t,e){return Object.is(t,e)?!0:typeof t!="object"||t===null||typeof e!="object"||e===null?!1:Array.isArray(t)&&Array.isArray(e)?t.length!==e.length?!1:Ry(t[Symbol.iterator](),e[Symbol.iterator]()):t instanceof Map&&e instanceof Map||t instanceof Set&&e instanceof Set?t.size!==e.size?!1:Ry(t.entries(),e.entries()):KT(t)&&KT(e)?Ry(Object.entries(t)[Symbol.iterator](),Object.entries(e)[Symbol.iterator]()):!1}function Ry(t,e){do{let n=t.next(),r=e.next();if(n.done&&r.done)return!0;if(n.done||r.done||!Object.is(n.value,r.value))return!1}while(!0)}function KT(t){if(Object.prototype.toString.call(t)!=="[object Object]")return!1;let e=Object.getPrototypeOf(t);return e===null||Object.getPrototypeOf(e)===null}var OY=Object.defineProperty,MY=(t,e,n)=>e in t?OY(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,YT=(t,e,n)=>(MY(t,typeof e!="symbol"?e+"":e,n),n),DY=(t=>(t[t.Push=0]="Push",t[t.Pop=1]="Pop",t))(DY||{});let LY={0(t,e){let n=e.id,r=t.stack,i=t.stack.indexOf(n);if(i!==-1){let s=t.stack.slice();return s.splice(i,1),s.push(n),r=s,{...t,stack:r}}return{...t,stack:[...t.stack,n]}},1(t,e){let n=e.id,r=t.stack.indexOf(n);if(r===-1)return t;let i=t.stack.slice();return i.splice(r,1),{...t,stack:i}}},jY=class yN extends NY{constructor(){super(...arguments),YT(this,"actions",{push:e=>this.send({type:0,id:e}),pop:e=>this.send({type:1,id:e})}),YT(this,"selectors",{isTop:(e,n)=>e.stack[e.stack.length-1]===n,inStack:(e,n)=>e.stack.includes(n)})}static new(){return new yN({stack:[]})}reduce(e,n){return vs(n.type,LY,e,n)}};const wN=new mN(()=>jY.new());var Ay={exports:{}},Ny={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var XT;function FY(){if(XT)return Ny;XT=1;var t=im();function e(u,f){return u===f&&(u!==0||1/u===1/f)||u!==u&&f!==f}var n=typeof Object.is=="function"?Object.is:e,r=t.useSyncExternalStore,i=t.useRef,s=t.useEffect,a=t.useMemo,c=t.useDebugValue;return Ny.useSyncExternalStoreWithSelector=function(u,f,h,g,v){var x=i(null);if(x.current===null){var _={hasValue:!1,value:null};x.current=_}else _=x.current;x=a(function(){function N($){if(!A){if(A=!0,k=$,$=g($),v!==void 0&&_.hasValue){var z=_.value;if(v(z,$))return P=z}return P=$}if(z=P,n(k,$))return z;var D=g($);return v!==void 0&&v(z,D)?(k=$,z):(k=$,P=D)}var A=!1,k,P,j=h===void 0?null:h;return[function(){return N(f())},j===null?void 0:function(){return N(j())}]},[f,h,g,v]);var T=r(u,x[0],x[1]);return s(function(){_.hasValue=!0,_.value=T},[T]),c(T),T},Ny}var JT;function $Y(){return JT||(JT=1,Ay.exports=FY()),Ay.exports}var VY=$Y();function _N(t,e,n=vN){return VY.useSyncExternalStoreWithSelector(tt(r=>t.subscribe(UY,r)),tt(()=>t.state),tt(()=>t.state),tt(e),n)}function UY(t){return t}function cf(t,e){let n=C.useId(),r=wN.get(e),[i,s]=_N(r,C.useCallback(a=>[r.selectors.isTop(a,n),r.selectors.inStack(a,n)],[r,n]));return wn(()=>{if(t)return r.actions.push(n),()=>r.actions.pop(n)},[r,t,n]),t?s?i:!0:!1}let ew=new Map,nd=new Map;function QT(t){var e;let n=(e=nd.get(t))!=null?e:0;return nd.set(t,n+1),n!==0?()=>ZT(t):(ew.set(t,{"aria-hidden":t.getAttribute("aria-hidden"),inert:t.inert}),t.setAttribute("aria-hidden","true"),t.inert=!0,()=>ZT(t))}function ZT(t){var e;let n=(e=nd.get(t))!=null?e:1;if(n===1?nd.delete(t):nd.set(t,n-1),n!==1)return;let r=ew.get(t);r&&(r["aria-hidden"]===null?t.removeAttribute("aria-hidden"):t.setAttribute("aria-hidden",r["aria-hidden"]),t.inert=r.inert,ew.delete(t))}function BY(t,{allowed:e,disallowed:n}={}){let r=cf(t,"inert-others");wn(()=>{var i,s;if(!r)return;let a=bs();for(let u of(i=n?.())!=null?i:[])u&&a.add(QT(u));let c=(s=e?.())!=null?s:[];for(let u of c){if(!u)continue;let f=Hm(u);if(!f)continue;let h=u.parentElement;for(;h&&h!==f.body;){for(let g of h.children)c.some(v=>g.contains(v))||a.add(QT(g));h=h.parentElement}}return a.dispose},[r,e,n])}function zY(t,e,n){let r=Da(i=>{let s=i.getBoundingClientRect();s.x===0&&s.y===0&&s.width===0&&s.height===0&&n()});C.useEffect(()=>{if(!t)return;let i=e===null?null:Ia(e)?e:e.current;if(!i)return;let s=bs();if(typeof ResizeObserver<"u"){let a=new ResizeObserver(()=>r.current(i));a.observe(i),s.add(()=>a.disconnect())}if(typeof IntersectionObserver<"u"){let a=new IntersectionObserver(()=>r.current(i));a.observe(i),s.add(()=>a.disconnect())}return()=>s.dispose()},[e,r,t])}let Xp=["[contentEditable=true]","[tabindex]","a[href]","area[href]","button:not([disabled])","iframe","input:not([disabled])","select:not([disabled])","textarea:not([disabled])"].map(t=>`${t}:not([tabindex='-1'])`).join(","),HY=["[data-autofocus]"].map(t=>`${t}:not([tabindex='-1'])`).join(",");var Zi=(t=>(t[t.First=1]="First",t[t.Previous=2]="Previous",t[t.Next=4]="Next",t[t.Last=8]="Last",t[t.WrapAround=16]="WrapAround",t[t.NoScroll=32]="NoScroll",t[t.AutoFocus=64]="AutoFocus",t))(Zi||{}),tw=(t=>(t[t.Error=0]="Error",t[t.Overflow=1]="Overflow",t[t.Success=2]="Success",t[t.Underflow=3]="Underflow",t))(tw||{}),WY=(t=>(t[t.Previous=-1]="Previous",t[t.Next=1]="Next",t))(WY||{});function qY(t=document.body){return t==null?[]:Array.from(t.querySelectorAll(Xp)).sort((e,n)=>Math.sign((e.tabIndex||Number.MAX_SAFE_INTEGER)-(n.tabIndex||Number.MAX_SAFE_INTEGER)))}function GY(t=document.body){return t==null?[]:Array.from(t.querySelectorAll(HY)).sort((e,n)=>Math.sign((e.tabIndex||Number.MAX_SAFE_INTEGER)-(n.tabIndex||Number.MAX_SAFE_INTEGER)))}var xN=(t=>(t[t.Strict=0]="Strict",t[t.Loose=1]="Loose",t))(xN||{});function KY(t,e=0){var n;return t===((n=Hm(t))==null?void 0:n.body)?!1:vs(e,{0(){return t.matches(Xp)},1(){let r=t;for(;r!==null;){if(r.matches(Xp))return!0;r=r.parentElement}return!1}})}var YY=(t=>(t[t.Keyboard=0]="Keyboard",t[t.Mouse=1]="Mouse",t))(YY||{});typeof window<"u"&&typeof document<"u"&&(document.addEventListener("keydown",t=>{t.metaKey||t.altKey||t.ctrlKey||(document.documentElement.dataset.headlessuiFocusVisible="")},!0),document.addEventListener("click",t=>{t.detail===1?delete document.documentElement.dataset.headlessuiFocusVisible:t.detail===0&&(document.documentElement.dataset.headlessuiFocusVisible="")},!0));function ls(t){t?.focus({preventScroll:!0})}let XY=["textarea","input"].join(",");function JY(t){var e,n;return(n=(e=t?.matches)==null?void 0:e.call(t,XY))!=null?n:!1}function QY(t,e=n=>n){return t.slice().sort((n,r)=>{let i=e(n),s=e(r);if(i===null||s===null)return 0;let a=i.compareDocumentPosition(s);return a&Node.DOCUMENT_POSITION_FOLLOWING?-1:a&Node.DOCUMENT_POSITION_PRECEDING?1:0})}function rd(t,e,{sorted:n=!0,relativeTo:r=null,skipElements:i=[]}={}){let s=Array.isArray(t)?t.length>0?t[0].ownerDocument:document:t.ownerDocument,a=Array.isArray(t)?n?QY(t):t:e&64?GY(t):qY(t);i.length>0&&a.length>1&&(a=a.filter(x=>!i.some(_=>_!=null&&"current"in _?_?.current===x:_===x))),r=r??s.activeElement;let c=(()=>{if(e&5)return 1;if(e&10)return-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),u=(()=>{if(e&1)return 0;if(e&2)return Math.max(0,a.indexOf(r))-1;if(e&4)return Math.max(0,a.indexOf(r))+1;if(e&8)return a.length-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),f=e&32?{preventScroll:!0}:{},h=0,g=a.length,v;do{if(h>=g||h+g<=0)return 0;let x=u+h;if(e&16)x=(x+g)%g;else{if(x<0)return 3;if(x>=g)return 1}v=a[x],v?.focus(f),h+=c}while(v!==s.activeElement);return e&6&&JY(v)&&v.select(),2}function bN(){return/iPhone/gi.test(window.navigator.platform)||/Mac/gi.test(window.navigator.platform)&&window.navigator.maxTouchPoints>0}function ZY(){return/Android/gi.test(window.navigator.userAgent)}function e2(){return bN()||ZY()}function Hh(t,e,n,r){let i=Da(n);C.useEffect(()=>{if(!t)return;function s(a){i.current(a)}return document.addEventListener(e,s,r),()=>document.removeEventListener(e,s,r)},[t,e,r])}function EN(t,e,n,r){let i=Da(n);C.useEffect(()=>{if(!t)return;function s(a){i.current(a)}return window.addEventListener(e,s,r),()=>window.removeEventListener(e,s,r)},[t,e,r])}const t2=30;function eX(t,e,n){let r=Da(n),i=C.useCallback(function(c,u){if(c.defaultPrevented)return;let f=u(c);if(f===null||!f.getRootNode().contains(f)||!f.isConnected)return;let h=function g(v){return typeof v=="function"?g(v()):Array.isArray(v)||v instanceof Set?v:[v]}(e);for(let g of h)if(g!==null&&(g.contains(f)||c.composed&&c.composedPath().includes(g)))return;return!KY(f,xN.Loose)&&f.tabIndex!==-1&&c.preventDefault(),r.current(c,f)},[r,e]),s=C.useRef(null);Hh(t,"pointerdown",c=>{var u,f;e2()||(s.current=((f=(u=c.composedPath)==null?void 0:u.call(c))==null?void 0:f[0])||c.target)},!0),Hh(t,"pointerup",c=>{if(e2()||!s.current)return;let u=s.current;return s.current=null,i(c,()=>u)},!0);let a=C.useRef({x:0,y:0});Hh(t,"touchstart",c=>{a.current.x=c.touches[0].clientX,a.current.y=c.touches[0].clientY},!0),Hh(t,"touchend",c=>{let u={x:c.changedTouches[0].clientX,y:c.changedTouches[0].clientY};if(!(Math.abs(u.x-a.current.x)>=t2||Math.abs(u.y-a.current.y)>=t2))return i(c,()=>so(c.target)?c.target:null)},!0),EN(t,"blur",c=>i(c,()=>wY(window.document.activeElement)?window.document.activeElement:null),!0)}function qm(...t){return C.useMemo(()=>Hm(...t),[...t])}function SN(t,e,n,r){let i=Da(n);C.useEffect(()=>{t=t??window;function s(a){i.current(a)}return t.addEventListener(e,s,r),()=>t.removeEventListener(e,s,r)},[t,e,r])}function tX(t){return C.useSyncExternalStore(t.subscribe,t.getSnapshot,t.getSnapshot)}function nX(t,e){let n=t(),r=new Set;return{getSnapshot(){return n},subscribe(i){return r.add(i),()=>r.delete(i)},dispatch(i,...s){let a=e[i].call(n,...s);a&&(n=a,r.forEach(c=>c()))}}}function rX(){let t;return{before({doc:e}){var n;let r=e.documentElement,i=(n=e.defaultView)!=null?n:window;t=Math.max(0,i.innerWidth-r.clientWidth)},after({doc:e,d:n}){let r=e.documentElement,i=Math.max(0,r.clientWidth-r.offsetWidth),s=Math.max(0,t-i);n.style(r,"paddingRight",`${s}px`)}}}function iX(){return bN()?{before({doc:t,d:e,meta:n}){function r(i){return n.containers.flatMap(s=>s()).some(s=>s.contains(i))}e.microTask(()=>{var i;if(window.getComputedStyle(t.documentElement).scrollBehavior!=="auto"){let c=bs();c.style(t.documentElement,"scrollBehavior","auto"),e.add(()=>e.microTask(()=>c.dispose()))}let s=(i=window.scrollY)!=null?i:window.pageYOffset,a=null;e.addEventListener(t,"click",c=>{if(so(c.target))try{let u=c.target.closest("a");if(!u)return;let{hash:f}=new URL(u.href),h=t.querySelector(f);so(h)&&!r(h)&&(a=h)}catch{}},!0),e.addEventListener(t,"touchstart",c=>{if(so(c.target)&&yY(c.target))if(r(c.target)){let u=c.target;for(;u.parentElement&&r(u.parentElement);)u=u.parentElement;e.style(u,"overscrollBehavior","contain")}else e.style(c.target,"touchAction","none")}),e.addEventListener(t,"touchmove",c=>{if(so(c.target)){if(_Y(c.target))return;if(r(c.target)){let u=c.target;for(;u.parentElement&&u.dataset.headlessuiPortal!==""&&!(u.scrollHeight>u.clientHeight||u.scrollWidth>u.clientWidth);)u=u.parentElement;u.dataset.headlessuiPortal===""&&c.preventDefault()}else c.preventDefault()}},{passive:!1}),e.add(()=>{var c;let u=(c=window.scrollY)!=null?c:window.pageYOffset;s!==u&&window.scrollTo(0,s),a&&a.isConnected&&(a.scrollIntoView({block:"nearest"}),a=null)})})}}:{}}function sX(){return{before({doc:t,d:e}){e.style(t.documentElement,"overflow","hidden")}}}function oX(t){let e={};for(let n of t)Object.assign(e,n(e));return e}let da=nX(()=>new Map,{PUSH(t,e){var n;let r=(n=this.get(t))!=null?n:{doc:t,count:0,d:bs(),meta:new Set};return r.count++,r.meta.add(e),this.set(t,r),this},POP(t,e){let n=this.get(t);return n&&(n.count--,n.meta.delete(e)),this},SCROLL_PREVENT({doc:t,d:e,meta:n}){let r={doc:t,d:e,meta:oX(n)},i=[iX(),rX(),sX()];i.forEach(({before:s})=>s?.(r)),i.forEach(({after:s})=>s?.(r))},SCROLL_ALLOW({d:t}){t.dispose()},TEARDOWN({doc:t}){this.delete(t)}});da.subscribe(()=>{let t=da.getSnapshot(),e=new Map;for(let[n]of t)e.set(n,n.documentElement.style.overflow);for(let n of t.values()){let r=e.get(n.doc)==="hidden",i=n.count!==0;(i&&!r||!i&&r)&&da.dispatch(n.count>0?"SCROLL_PREVENT":"SCROLL_ALLOW",n),n.count===0&&da.dispatch("TEARDOWN",n)}});function aX(t,e,n=()=>({containers:[]})){let r=tX(da),i=e?r.get(e):void 0,s=i?i.count>0:!1;return wn(()=>{if(!(!e||!t))return da.dispatch("PUSH",e,n),()=>da.dispatch("POP",e,n)},[t,e]),s}function lX(t,e,n=()=>[document.body]){let r=cf(t,"scroll-lock");aX(r,e,i=>{var s;return{containers:[...(s=i.containers)!=null?s:[],n]}})}function cX(t=0){let[e,n]=C.useState(t),r=C.useCallback(u=>n(u),[e]),i=C.useCallback(u=>n(f=>f|u),[e]),s=C.useCallback(u=>(e&u)===u,[e]),a=C.useCallback(u=>n(f=>f&~u),[n]),c=C.useCallback(u=>n(f=>f^u),[n]);return{flags:e,setFlag:r,addFlag:i,hasFlag:s,removeFlag:a,toggleFlag:c}}var uX={},n2,r2;typeof process<"u"&&typeof globalThis<"u"&&typeof Element<"u"&&((n2=process==null?void 0:uX)==null?void 0:n2.NODE_ENV)==="test"&&typeof((r2=Element?.prototype)==null?void 0:r2.getAnimations)>"u"&&(Element.prototype.getAnimations=function(){return console.warn(["Headless UI has polyfilled `Element.prototype.getAnimations` for your tests.","Please install a proper polyfill e.g. `jsdom-testing-mocks`, to silence these warnings.","","Example usage:","```js","import { mockAnimationsApi } from 'jsdom-testing-mocks'","mockAnimationsApi()","```"].join(`
`)),[]});var dX=(t=>(t[t.None=0]="None",t[t.Closed=1]="Closed",t[t.Enter=2]="Enter",t[t.Leave=4]="Leave",t))(dX||{});function fX(t){let e={};for(let n in t)t[n]===!0&&(e[`data-${n}`]="");return e}function hX(t,e,n,r){let[i,s]=C.useState(n),{hasFlag:a,addFlag:c,removeFlag:u}=cX(t&&i?3:0),f=C.useRef(!1),h=C.useRef(!1),g=kx();return wn(()=>{var v;if(t){if(n&&s(!0),!e){n&&c(3);return}return(v=r?.start)==null||v.call(r,n),pX(e,{inFlight:f,prepare(){h.current?h.current=!1:h.current=f.current,f.current=!0,!h.current&&(n?(c(3),u(4)):(c(4),u(2)))},run(){h.current?n?(u(3),c(4)):(u(4),c(3)):n?u(1):c(1)},done(){var x;h.current&&typeof e.getAnimations=="function"&&e.getAnimations().length>0||(f.current=!1,u(7),n||s(!1),(x=r?.end)==null||x.call(r,n))}})}},[t,n,e,g]),t?[i,{closed:a(1),enter:a(2),leave:a(4),transition:a(2)||a(4)}]:[n,{closed:void 0,enter:void 0,leave:void 0,transition:void 0}]}function pX(t,{prepare:e,run:n,done:r,inFlight:i}){let s=bs();return gX(t,{prepare:e,inFlight:i}),s.nextFrame(()=>{n(),s.requestAnimationFrame(()=>{s.add(mX(t,r))})}),s.dispose}function mX(t,e){var n,r;let i=bs();if(!t)return i.dispose;let s=!1;i.add(()=>{s=!0});let a=(r=(n=t.getAnimations)==null?void 0:n.call(t).filter(c=>c instanceof CSSTransition))!=null?r:[];return a.length===0?(e(),i.dispose):(Promise.allSettled(a.map(c=>c.finished)).then(()=>{s||e()}),i.dispose)}function gX(t,{inFlight:e,prepare:n}){if(e!=null&&e.current){n();return}let r=t.style.transition;t.style.transition="none",n(),t.offsetHeight,t.style.transition=r}function Ix(t,e){let n=C.useRef([]),r=tt(t);C.useEffect(()=>{let i=[...n.current];for(let[s,a]of e.entries())if(n.current[s]!==a){let c=r(e,i);return n.current=e,c}},[r,...e])}let Gm=C.createContext(null);Gm.displayName="OpenClosedContext";var Jr=(t=>(t[t.Open=1]="Open",t[t.Closed=2]="Closed",t[t.Closing=4]="Closing",t[t.Opening=8]="Opening",t))(Jr||{});function Km(){return C.useContext(Gm)}function vX({value:t,children:e}){return me.createElement(Gm.Provider,{value:t},e)}function yX({children:t}){return me.createElement(Gm.Provider,{value:null},t)}function wX(t){function e(){document.readyState!=="loading"&&(t(),document.removeEventListener("DOMContentLoaded",e))}typeof window<"u"&&typeof document<"u"&&(document.addEventListener("DOMContentLoaded",e),e())}let no=[];wX(()=>{function t(e){if(!so(e.target)||e.target===document.body||no[0]===e.target)return;let n=e.target;n=n.closest(Xp),no.unshift(n??e.target),no=no.filter(r=>r!=null&&r.isConnected),no.splice(10)}window.addEventListener("click",t,{capture:!0}),window.addEventListener("mousedown",t,{capture:!0}),window.addEventListener("focus",t,{capture:!0}),document.body.addEventListener("click",t,{capture:!0}),document.body.addEventListener("mousedown",t,{capture:!0}),document.body.addEventListener("focus",t,{capture:!0})});function CN(t){let e=tt(t),n=C.useRef(!1);C.useEffect(()=>(n.current=!1,()=>{n.current=!0,Wm(()=>{n.current&&e()})}),[e])}function _X(){let t=typeof document>"u";return"useSyncExternalStore"in up?(e=>e.useSyncExternalStore)(up)(()=>()=>{},()=>!1,()=>!t):!1}function uf(){let t=_X(),[e,n]=C.useState(ga.isHandoffComplete);return e&&ga.isHandoffComplete===!1&&n(!1),C.useEffect(()=>{e!==!0&&n(!0)},[e]),C.useEffect(()=>ga.handoff(),[]),t?!1:e}let TN=C.createContext(!1);function xX(){return C.useContext(TN)}function i2(t){return me.createElement(TN.Provider,{value:t.force},t.children)}function bX(t){let e=xX(),n=C.useContext(PN),[r,i]=C.useState(()=>{var s;if(!e&&n!==null)return(s=n.current)!=null?s:null;if(ga.isServer)return null;let a=t?.getElementById("headlessui-portal-root");if(a)return a;if(t===null)return null;let c=t.createElement("div");return c.setAttribute("id","headlessui-portal-root"),t.body.appendChild(c)});return C.useEffect(()=>{r!==null&&(t!=null&&t.body.contains(r)||t==null||t.body.appendChild(r))},[r,t]),C.useEffect(()=>{e||n!==null&&i(n.current)},[n,i,e]),r}let kN=C.Fragment,EX=Kn(function(t,e){let{ownerDocument:n=null,...r}=t,i=C.useRef(null),s=Ri(xY(x=>{i.current=x}),e),a=qm(i),c=n??a,u=bX(c),[f]=C.useState(()=>{var x;return ga.isServer?null:(x=c?.createElement("div"))!=null?x:null}),h=C.useContext(nw),g=uf();wn(()=>{!u||!f||u.contains(f)||(f.setAttribute("data-headlessui-portal",""),u.appendChild(f))},[u,f]),wn(()=>{if(f&&h)return h.register(f)},[h,f]),CN(()=>{var x;!u||!f||(dN(f)&&u.contains(f)&&u.removeChild(f),u.childNodes.length<=0&&((x=u.parentElement)==null||x.removeChild(u)))});let v=Rr();return g?!u||!f?null:mw.createPortal(v({ourProps:{ref:s},theirProps:r,slot:{},defaultTag:kN,name:"Portal"}),f):null});function SX(t,e){let n=Ri(e),{enabled:r=!0,ownerDocument:i,...s}=t,a=Rr();return r?me.createElement(EX,{...s,ownerDocument:i,ref:n}):a({ourProps:{ref:n},theirProps:s,slot:{},defaultTag:kN,name:"Portal"})}let CX=C.Fragment,PN=C.createContext(null);function TX(t,e){let{target:n,...r}=t,i={ref:Ri(e)},s=Rr();return me.createElement(PN.Provider,{value:n},s({ourProps:i,theirProps:r,defaultTag:CX,name:"Popover.Group"}))}let nw=C.createContext(null);function kX(){let t=C.useContext(nw),e=C.useRef([]),n=tt(s=>(e.current.push(s),t&&t.register(s),()=>r(s))),r=tt(s=>{let a=e.current.indexOf(s);a!==-1&&e.current.splice(a,1),t&&t.unregister(s)}),i=C.useMemo(()=>({register:n,unregister:r,portals:e}),[n,r,e]);return[e,C.useMemo(()=>function({children:s}){return me.createElement(nw.Provider,{value:i},s)},[i])]}let PX=Kn(SX),IN=Kn(TX),IX=Object.assign(PX,{Group:IN});function RX(t,e=typeof document<"u"?document.defaultView:null,n){let r=cf(t,"escape");SN(e,"keydown",i=>{r&&(i.defaultPrevented||i.key===pN.Escape&&n(i))})}function AX(){var t;let[e]=C.useState(()=>typeof window<"u"&&typeof window.matchMedia=="function"?window.matchMedia("(pointer: coarse)"):null),[n,r]=C.useState((t=e?.matches)!=null?t:!1);return wn(()=>{if(!e)return;function i(s){r(s.matches)}return e.addEventListener("change",i),()=>e.removeEventListener("change",i)},[e]),n}function NX({defaultContainers:t=[],portals:e,mainTreeNode:n}={}){let r=qm(n),i=tt(()=>{var s,a;let c=[];for(let u of t)u!==null&&(uo(u)?c.push(u):"current"in u&&uo(u.current)&&c.push(u.current));if(e!=null&&e.current)for(let u of e.current)c.push(u);for(let u of(s=r?.querySelectorAll("html > *, body > *"))!=null?s:[])u!==document.body&&u!==document.head&&uo(u)&&u.id!=="headlessui-portal-root"&&(n&&(u.contains(n)||u.contains((a=n?.getRootNode())==null?void 0:a.host))||c.some(f=>u.contains(f))||c.push(u));return c});return{resolveContainers:i,contains:tt(s=>i().some(a=>a.contains(s)))}}let RN=C.createContext(null);function s2({children:t,node:e}){let[n,r]=C.useState(null),i=AN(e??n);return me.createElement(RN.Provider,{value:i},t,i===null&&me.createElement(Z0,{features:Yp.Hidden,ref:s=>{var a,c;if(s){for(let u of(c=(a=Hm(s))==null?void 0:a.querySelectorAll("html > *, body > *"))!=null?c:[])if(u!==document.body&&u!==document.head&&uo(u)&&u!=null&&u.contains(s)){r(u);break}}}}))}function AN(t=null){var e;return(e=C.useContext(RN))!=null?e:t}function Rx(){let t=C.useRef(!1);return wn(()=>(t.current=!0,()=>{t.current=!1}),[]),t}var Fu=(t=>(t[t.Forwards=0]="Forwards",t[t.Backwards=1]="Backwards",t))(Fu||{});function OX(){let t=C.useRef(0);return EN(!0,"keydown",e=>{e.key==="Tab"&&(t.current=e.shiftKey?1:0)},!0),t}function NN(t){if(!t)return new Set;if(typeof t=="function")return new Set(t());let e=new Set;for(let n of t.current)uo(n.current)&&e.add(n.current);return e}let MX="div";var sa=(t=>(t[t.None=0]="None",t[t.InitialFocus=1]="InitialFocus",t[t.TabLock=2]="TabLock",t[t.FocusLock=4]="FocusLock",t[t.RestoreFocus=8]="RestoreFocus",t[t.AutoFocus=16]="AutoFocus",t))(sa||{});function DX(t,e){let n=C.useRef(null),r=Ri(n,e),{initialFocus:i,initialFocusFallback:s,containers:a,features:c=15,...u}=t;uf()||(c=0);let f=qm(n);$X(c,{ownerDocument:f});let h=VX(c,{ownerDocument:f,container:n,initialFocus:i,initialFocusFallback:s});UX(c,{ownerDocument:f,container:n,containers:a,previousActiveElement:h});let g=OX(),v=tt(k=>{if(!Ia(n.current))return;let P=n.current;(j=>j())(()=>{vs(g.current,{[Fu.Forwards]:()=>{rd(P,Zi.First,{skipElements:[k.relatedTarget,s]})},[Fu.Backwards]:()=>{rd(P,Zi.Last,{skipElements:[k.relatedTarget,s]})}})})}),x=cf(!!(c&2),"focus-trap#tab-lock"),_=kx(),T=C.useRef(!1),N={ref:r,onKeyDown(k){k.key=="Tab"&&(T.current=!0,_.requestAnimationFrame(()=>{T.current=!1}))},onBlur(k){if(!(c&4))return;let P=NN(a);Ia(n.current)&&P.add(n.current);let j=k.relatedTarget;so(j)&&j.dataset.headlessuiFocusGuard!=="true"&&(ON(P,j)||(T.current?rd(n.current,vs(g.current,{[Fu.Forwards]:()=>Zi.Next,[Fu.Backwards]:()=>Zi.Previous})|Zi.WrapAround,{relativeTo:k.target}):so(k.target)&&ls(k.target)))}},A=Rr();return me.createElement(me.Fragment,null,x&&me.createElement(Z0,{as:"button",type:"button","data-headlessui-focus-guard":!0,onFocus:v,features:Yp.Focusable}),A({ourProps:N,theirProps:u,defaultTag:MX,name:"FocusTrap"}),x&&me.createElement(Z0,{as:"button",type:"button","data-headlessui-focus-guard":!0,onFocus:v,features:Yp.Focusable}))}let LX=Kn(DX),jX=Object.assign(LX,{features:sa});function FX(t=!0){let e=C.useRef(no.slice());return Ix(([n],[r])=>{r===!0&&n===!1&&Wm(()=>{e.current.splice(0)}),r===!1&&n===!0&&(e.current=no.slice())},[t,no,e]),tt(()=>{var n;return(n=e.current.find(r=>r!=null&&r.isConnected))!=null?n:null})}function $X(t,{ownerDocument:e}){let n=!!(t&8),r=FX(n);Ix(()=>{n||e?.activeElement===e?.body&&ls(r())},[n]),CN(()=>{n&&ls(r())})}function VX(t,{ownerDocument:e,container:n,initialFocus:r,initialFocusFallback:i}){let s=C.useRef(null),a=cf(!!(t&1),"focus-trap#initial-focus"),c=Rx();return Ix(()=>{if(t===0)return;if(!a){i!=null&&i.current&&ls(i.current);return}let u=n.current;u&&Wm(()=>{if(!c.current)return;let f=e?.activeElement;if(r!=null&&r.current){if(r?.current===f){s.current=f;return}}else if(u.contains(f)){s.current=f;return}if(r!=null&&r.current)ls(r.current);else{if(t&16){if(rd(u,Zi.First|Zi.AutoFocus)!==tw.Error)return}else if(rd(u,Zi.First)!==tw.Error)return;if(i!=null&&i.current&&(ls(i.current),e?.activeElement===i.current))return;console.warn("There are no focusable elements inside the <FocusTrap />")}s.current=e?.activeElement})},[i,a,t]),s}function UX(t,{ownerDocument:e,container:n,containers:r,previousActiveElement:i}){let s=Rx(),a=!!(t&4);SN(e?.defaultView,"focus",c=>{if(!a||!s.current)return;let u=NN(r);Ia(n.current)&&u.add(n.current);let f=i.current;if(!f)return;let h=c.target;Ia(h)?ON(u,h)?(i.current=h,ls(h)):(c.preventDefault(),c.stopPropagation(),ls(f)):ls(i.current)},!0)}function ON(t,e){for(let n of t)if(n.contains(e))return!0;return!1}function MN(t){var e;return!!(t.enter||t.enterFrom||t.enterTo||t.leave||t.leaveFrom||t.leaveTo)||((e=t.as)!=null?e:LN)!==C.Fragment||me.Children.count(t.children)===1}let Ym=C.createContext(null);Ym.displayName="TransitionContext";var BX=(t=>(t.Visible="visible",t.Hidden="hidden",t))(BX||{});function zX(){let t=C.useContext(Ym);if(t===null)throw new Error("A <Transition.Child /> is used but it is missing a parent <Transition /> or <Transition.Root />.");return t}function HX(){let t=C.useContext(Xm);if(t===null)throw new Error("A <Transition.Child /> is used but it is missing a parent <Transition /> or <Transition.Root />.");return t}let Xm=C.createContext(null);Xm.displayName="NestingContext";function Jm(t){return"children"in t?Jm(t.children):t.current.filter(({el:e})=>e.current!==null).filter(({state:e})=>e==="visible").length>0}function DN(t,e){let n=Da(t),r=C.useRef([]),i=Rx(),s=kx(),a=tt((x,_=io.Hidden)=>{let T=r.current.findIndex(({el:N})=>N===x);T!==-1&&(vs(_,{[io.Unmount](){r.current.splice(T,1)},[io.Hidden](){r.current[T].state="hidden"}}),s.microTask(()=>{var N;!Jm(r)&&i.current&&((N=n.current)==null||N.call(n))}))}),c=tt(x=>{let _=r.current.find(({el:T})=>T===x);return _?_.state!=="visible"&&(_.state="visible"):r.current.push({el:x,state:"visible"}),()=>a(x,io.Unmount)}),u=C.useRef([]),f=C.useRef(Promise.resolve()),h=C.useRef({enter:[],leave:[]}),g=tt((x,_,T)=>{u.current.splice(0),e&&(e.chains.current[_]=e.chains.current[_].filter(([N])=>N!==x)),e?.chains.current[_].push([x,new Promise(N=>{u.current.push(N)})]),e?.chains.current[_].push([x,new Promise(N=>{Promise.all(h.current[_].map(([A,k])=>k)).then(()=>N())})]),_==="enter"?f.current=f.current.then(()=>e?.wait.current).then(()=>T(_)):T(_)}),v=tt((x,_,T)=>{Promise.all(h.current[_].splice(0).map(([N,A])=>A)).then(()=>{var N;(N=u.current.shift())==null||N()}).then(()=>T(_))});return C.useMemo(()=>({children:r,register:c,unregister:a,onStart:g,onStop:v,wait:f,chains:h}),[c,a,r,g,v,h,f])}let LN=C.Fragment,jN=Kp.RenderStrategy;function WX(t,e){var n,r;let{transition:i=!0,beforeEnter:s,afterEnter:a,beforeLeave:c,afterLeave:u,enter:f,enterFrom:h,enterTo:g,entered:v,leave:x,leaveFrom:_,leaveTo:T,...N}=t,[A,k]=C.useState(null),P=C.useRef(null),j=MN(t),$=Ri(...j?[P,e,k]:e===null?[]:[e]),z=(n=N.unmount)==null||n?io.Unmount:io.Hidden,{show:D,appear:I,initial:O}=zX(),[b,M]=C.useState(D?"visible":"hidden"),V=HX(),{register:F,unregister:Z}=V;wn(()=>F(P),[F,P]),wn(()=>{if(z===io.Hidden&&P.current){if(D&&b!=="visible"){M("visible");return}return vs(b,{hidden:()=>Z(P),visible:()=>F(P)})}},[b,P,F,Z,D,z]);let se=uf();wn(()=>{if(j&&se&&b==="visible"&&P.current===null)throw new Error("Did you forget to passthrough the `ref` to the actual DOM node?")},[P,b,se,j]);let re=O&&!I,ue=I&&D&&O,ne=C.useRef(!1),oe=DN(()=>{ne.current||(M("hidden"),Z(P))},V),le=tt(xe=>{ne.current=!0;let ke=xe?"enter":"leave";oe.onStart(P,ke,Ee=>{Ee==="enter"?s?.():Ee==="leave"&&c?.()})}),q=tt(xe=>{let ke=xe?"enter":"leave";ne.current=!1,oe.onStop(P,ke,Ee=>{Ee==="enter"?a?.():Ee==="leave"&&u?.()}),ke==="leave"&&!Jm(oe)&&(M("hidden"),Z(P))});C.useEffect(()=>{j&&i||(le(D),q(D))},[D,j,i]);let te=!(!i||!j||!se||re),[,Q]=hX(te,A,D,{start:le,end:q}),pe=ia({ref:$,className:((r=Q0(N.className,ue&&f,ue&&h,Q.enter&&f,Q.enter&&Q.closed&&h,Q.enter&&!Q.closed&&g,Q.leave&&x,Q.leave&&!Q.closed&&_,Q.leave&&Q.closed&&T,!Q.transition&&D&&v))==null?void 0:r.trim())||void 0,...fX(Q)}),ve=0;b==="visible"&&(ve|=Jr.Open),b==="hidden"&&(ve|=Jr.Closed),D&&b==="hidden"&&(ve|=Jr.Opening),!D&&b==="visible"&&(ve|=Jr.Closing);let _e=Rr();return me.createElement(Xm.Provider,{value:oe},me.createElement(vX,{value:ve},_e({ourProps:pe,theirProps:N,defaultTag:LN,features:jN,visible:b==="visible",name:"Transition.Child"})))}function qX(t,e){let{show:n,appear:r=!1,unmount:i=!0,...s}=t,a=C.useRef(null),c=MN(t),u=Ri(...c?[a,e]:e===null?[]:[e]);uf();let f=Km();if(n===void 0&&f!==null&&(n=(f&Jr.Open)===Jr.Open),n===void 0)throw new Error("A <Transition /> is used but it is missing a `show={true | false}` prop.");let[h,g]=C.useState(n?"visible":"hidden"),v=DN(()=>{n||g("hidden")}),[x,_]=C.useState(!0),T=C.useRef([n]);wn(()=>{x!==!1&&T.current[T.current.length-1]!==n&&(T.current.push(n),_(!1))},[T,n]);let N=C.useMemo(()=>({show:n,appear:r,initial:x}),[n,r,x]);wn(()=>{n?g("visible"):!Jm(v)&&a.current!==null&&g("hidden")},[n,v]);let A={unmount:i},k=tt(()=>{var $;x&&_(!1),($=t.beforeEnter)==null||$.call(t)}),P=tt(()=>{var $;x&&_(!1),($=t.beforeLeave)==null||$.call(t)}),j=Rr();return me.createElement(Xm.Provider,{value:v},me.createElement(Ym.Provider,{value:N},j({ourProps:{...A,as:C.Fragment,children:me.createElement(FN,{ref:u,...A,...s,beforeEnter:k,beforeLeave:P})},theirProps:{},defaultTag:C.Fragment,features:jN,visible:h==="visible",name:"Transition"})))}function GX(t,e){let n=C.useContext(Ym)!==null,r=Km()!==null;return me.createElement(me.Fragment,null,!n&&r?me.createElement(rw,{ref:e,...t}):me.createElement(FN,{ref:e,...t}))}let rw=Kn(qX),FN=Kn(WX),Ax=Kn(GX),KX=Object.assign(rw,{Child:Ax,Root:rw});var YX=(t=>(t[t.Open=0]="Open",t[t.Closed=1]="Closed",t))(YX||{}),XX=(t=>(t[t.SetTitleId=0]="SetTitleId",t))(XX||{});let JX={0(t,e){return t.titleId===e.id?t:{...t,titleId:e.id}}},Nx=C.createContext(null);Nx.displayName="DialogContext";function Qm(t){let e=C.useContext(Nx);if(e===null){let n=new Error(`<${t} /> is missing a parent <Dialog /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,Qm),n}return e}function QX(t,e){return vs(e.type,JX,t,e)}let o2=Kn(function(t,e){let n=C.useId(),{id:r=`headlessui-dialog-${n}`,open:i,onClose:s,initialFocus:a,role:c="dialog",autoFocus:u=!0,__demoMode:f=!1,unmount:h=!1,...g}=t,v=C.useRef(!1);c=function(){return c==="dialog"||c==="alertdialog"?c:(v.current||(v.current=!0,console.warn(`Invalid role [${c}] passed to <Dialog />. Only \`dialog\` and and \`alertdialog\` are supported. Using \`dialog\` instead.`)),"dialog")}();let x=Km();i===void 0&&x!==null&&(i=(x&Jr.Open)===Jr.Open);let _=C.useRef(null),T=Ri(_,e),N=qm(_),A=i?0:1,[k,P]=C.useReducer(QX,{titleId:null,descriptionId:null,panelRef:C.createRef()}),j=tt(()=>s(!1)),$=tt(Q=>P({type:0,id:Q})),z=uf()?A===0:!1,[D,I]=kX(),O={get current(){var Q;return(Q=k.panelRef.current)!=null?Q:_.current}},b=AN(),{resolveContainers:M}=NX({mainTreeNode:b,portals:D,defaultContainers:[O]}),V=x!==null?(x&Jr.Closing)===Jr.Closing:!1;BY(f||V?!1:z,{allowed:tt(()=>{var Q,pe;return[(pe=(Q=_.current)==null?void 0:Q.closest("[data-headlessui-portal]"))!=null?pe:null]}),disallowed:tt(()=>{var Q;return[(Q=b?.closest("body > *:not(#headlessui-portal-root)"))!=null?Q:null]})});let F=wN.get(null);wn(()=>{if(z)return F.actions.push(r),()=>F.actions.pop(r)},[F,r,z]);let Z=_N(F,C.useCallback(Q=>F.selectors.isTop(Q,r),[F,r]));eX(Z,M,Q=>{Q.preventDefault(),j()}),RX(Z,N?.defaultView,Q=>{Q.preventDefault(),Q.stopPropagation(),document.activeElement&&"blur"in document.activeElement&&typeof document.activeElement.blur=="function"&&document.activeElement.blur(),j()}),lX(f||V?!1:z,N,M),zY(z,_,j);let[se,re]=bY(),ue=C.useMemo(()=>[{dialogState:A,close:j,setTitleId:$,unmount:h},k],[A,k,j,$,h]),ne=C.useMemo(()=>({open:A===0}),[A]),oe={ref:T,id:r,role:c,tabIndex:-1,"aria-modal":f?void 0:A===0?!0:void 0,"aria-labelledby":k.titleId,"aria-describedby":se,unmount:h},le=!AX(),q=sa.None;z&&!f&&(q|=sa.RestoreFocus,q|=sa.TabLock,u&&(q|=sa.AutoFocus),le&&(q|=sa.InitialFocus));let te=Rr();return me.createElement(yX,null,me.createElement(i2,{force:!0},me.createElement(IX,null,me.createElement(Nx.Provider,{value:ue},me.createElement(IN,{target:_},me.createElement(i2,{force:!1},me.createElement(re,{slot:ne},me.createElement(I,null,me.createElement(jX,{initialFocus:a,initialFocusFallback:_,containers:M,features:q},me.createElement(PY,{value:j},te({ourProps:oe,theirProps:g,slot:ne,defaultTag:ZX,features:eJ,visible:A===0,name:"Dialog"})))))))))))}),ZX="div",eJ=Kp.RenderStrategy|Kp.Static;function tJ(t,e){let{transition:n=!1,open:r,...i}=t,s=Km(),a=t.hasOwnProperty("open")||s!==null,c=t.hasOwnProperty("onClose");if(!a&&!c)throw new Error("You have to provide an `open` and an `onClose` prop to the `Dialog` component.");if(!a)throw new Error("You provided an `onClose` prop to the `Dialog`, but forgot an `open` prop.");if(!c)throw new Error("You provided an `open` prop to the `Dialog`, but forgot an `onClose` prop.");if(!s&&typeof t.open!="boolean")throw new Error(`You provided an \`open\` prop to the \`Dialog\`, but the value is not a boolean. Received: ${t.open}`);if(typeof t.onClose!="function")throw new Error(`You provided an \`onClose\` prop to the \`Dialog\`, but the value is not a function. Received: ${t.onClose}`);return(r!==void 0||n)&&!i.static?me.createElement(s2,null,me.createElement(KX,{show:r,transition:n,unmount:i.unmount},me.createElement(o2,{ref:e,...i}))):me.createElement(s2,null,me.createElement(o2,{ref:e,open:r,...i}))}let nJ="div";function rJ(t,e){let n=C.useId(),{id:r=`headlessui-dialog-panel-${n}`,transition:i=!1,...s}=t,[{dialogState:a,unmount:c},u]=Qm("Dialog.Panel"),f=Ri(e,u.panelRef),h=C.useMemo(()=>({open:a===0}),[a]),g=tt(N=>{N.stopPropagation()}),v={ref:f,id:r,onClick:g},x=i?Ax:C.Fragment,_=i?{unmount:c}:{},T=Rr();return me.createElement(x,{..._},T({ourProps:v,theirProps:s,slot:h,defaultTag:nJ,name:"Dialog.Panel"}))}let iJ="div";function sJ(t,e){let{transition:n=!1,...r}=t,[{dialogState:i,unmount:s}]=Qm("Dialog.Backdrop"),a=C.useMemo(()=>({open:i===0}),[i]),c={ref:e,"aria-hidden":!0},u=n?Ax:C.Fragment,f=n?{unmount:s}:{},h=Rr();return me.createElement(u,{...f},h({ourProps:c,theirProps:r,slot:a,defaultTag:iJ,name:"Dialog.Backdrop"}))}let oJ="h2";function aJ(t,e){let n=C.useId(),{id:r=`headlessui-dialog-title-${n}`,...i}=t,[{dialogState:s,setTitleId:a}]=Qm("Dialog.Title"),c=Ri(e);C.useEffect(()=>(a(r),()=>a(null)),[r,a]);let u=C.useMemo(()=>({open:s===0}),[s]),f={ref:c,id:r};return Rr()({ourProps:f,theirProps:i,slot:u,defaultTag:oJ,name:"Dialog.Title"})}let lJ=Kn(tJ),cJ=Kn(rJ);Kn(sJ);let uJ=Kn(aJ),id=Object.assign(lJ,{Panel:cJ,Title:uJ,Description:TY});/**
 * @license lucide-react v0.523.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dJ=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),fJ=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,r)=>r?r.toUpperCase():n.toLowerCase()),a2=t=>{const e=fJ(t);return e.charAt(0).toUpperCase()+e.slice(1)},$N=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim(),hJ=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.523.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var pJ={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.523.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mJ=C.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:i="",children:s,iconNode:a,...c},u)=>C.createElement("svg",{ref:u,...pJ,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:$N("lucide",i),...!s&&!hJ(c)&&{"aria-hidden":"true"},...c},[...a.map(([f,h])=>C.createElement(f,h)),...Array.isArray(s)?s:[s]]));/**
 * @license lucide-react v0.523.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gJ=(t,e)=>{const n=C.forwardRef(({className:r,...i},s)=>C.createElement(mJ,{ref:s,iconNode:e,className:$N(`lucide-${dJ(a2(t))}`,`lucide-${t}`,r),...i}));return n.displayName=a2(t),n};/**
 * @license lucide-react v0.523.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vJ=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],yJ=gJ("x",vJ);function wJ({open:t,onClose:e,letra:n,genero:r,asignacionActual:i,todasLasAsignaciones:s,equiposYaAsignados:a={}}){const[c,u]=C.useState("");Object.values(Fp.plantillas[r]||{});const f=Object.keys(Fp.plantillas[r]||{});C.useEffect(()=>{u(i||"")},[i]);const h=async()=>{if(!c){alert("Seleccioná un equipo");return}try{const v=Ce(Te,`calendario/${r}/asignaciones`);await hs(v,{[n]:c}),e()}catch(v){console.error("Error al guardar asignación:",v),alert("Hubo un problema al guardar. Intentalo de nuevo.")}},g=f.filter(v=>v===i||!Object.values(a).includes(v));return w.jsx(id,{open:t,onClose:e,className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50",children:w.jsxs(id.Panel,{className:"bg-white text-black rounded-2xl p-6 w-full max-w-md shadow-xl relative",children:[w.jsx("button",{onClick:e,className:"absolute top-2 right-2 text-gray-600 hover:text-gray-800",children:w.jsx(yJ,{size:20})}),w.jsxs(id.Title,{className:"text-xl font-semibold text-center mb-4",children:["Asignar equipo a la letra ",n]}),w.jsxs("div",{className:"mb-6",children:[w.jsx("label",{className:"block font-medium mb-2",children:"Equipo:"}),w.jsxs("select",{value:c,onChange:v=>u(v.target.value),className:"w-full border border-gray-300 rounded px-3 py-2",children:[w.jsx("option",{value:"",children:"Seleccionar equipo"}),g.map(v=>w.jsx("option",{value:v,children:v},v))]})]}),w.jsx("button",{onClick:h,className:"w-full bg-yellow-400 text-black font-bold py-2 rounded hover:bg-yellow-300",children:"Guardar"})]})})}function _J({partido:t,asignaciones:e,plantillas:n,equiposInfo:r}){const i=h=>{if(e&&e[h])return e[h];const g=h.match(/^(\d)(er|do|to) Lugar$/);if(g&&r){const v=parseInt(g[1]),x=Object.entries(r).sort((_,T)=>T[1].puntos-_[1].puntos);if(x[v-1])return x[v-1][0]}return h},s=h=>{if(n[h]?.logo)return n[h].logo;const g=Object.entries(n).find(([v])=>v.toLowerCase().includes(h.toLowerCase()));return/ganador|perdedor|finalista/i.test(h)?"logo-empro.png":g?.[1]?.logo||"logo-empro.png"},a=i(t.equipo1),c=i(t.equipo2),u=`/EmproChampions-2025/img/escudos/${s(a)}`,f=`/EmproChampions-2025/img/escudos/${s(c)}`;return w.jsxs("div",{className:"bg-black/50 rounded-xl p-4 flex flex-col items-center shadow-lg border border-white/10 h-full",children:[w.jsxs("div",{className:"text-center text-xs text-yellow-300 mb-3 font-semibold tracking-wider",children:[w.jsx("span",{children:t.fecha}),t.cancha&&w.jsx("span",{className:"mx-2 text-gray-500",children:"|"}),t.cancha&&w.jsxs("span",{children:["CANCHA ",t.cancha]}),t.nombre&&w.jsx("span",{className:"mx-2 text-gray-500",children:"|"}),t.nombre&&w.jsx("span",{className:"text-red-400 font-bold",children:t.nombre.toUpperCase()})]}),w.jsxs("div",{className:"flex justify-between items-center w-full px-2",children:[w.jsxs("div",{className:"flex flex-col items-center text-center w-2/5",children:[w.jsx("img",{src:u,alt:`Logo ${a}`,className:"h-14 w-14 md:h-16 md:w-16 object-contain mb-2"}),w.jsx("span",{className:"font-bold text-sm text-white",children:a})]}),w.jsx("span",{className:"text-2xl font-bold text-gray-400",children:"VS"}),w.jsxs("div",{className:"flex flex-col items-center text-center w-2/5",children:[w.jsx("img",{src:f,alt:`Logo ${c}`,className:"h-14 w-14 md:h-16 md:w-16 object-contain mb-2"}),w.jsx("span",{className:"font-bold text-sm text-white",children:c})]})]})]})}function xJ({open:t,onClose:e,genero:n,onGuardar:r=()=>{}}){const[i,s]=C.useState([]),[a,c]=C.useState({equipo1:"",equipo2:""}),[u,f]=C.useState({equipo1:"",equipo2:""});C.useEffect(()=>{const _=Ce(Te,`tablas/${n}`);return ln(_,T=>{if(T.exists()){const N=T.val(),k=Object.entries(N).map(([P,j])=>({nombre:P,puntos:j.puntos??0,logo:j.logo??""})).sort((P,j)=>j.puntos-P.puntos).slice(0,4);s(k)}})},[n]);const h=new Set([a.equipo1,a.equipo2,u.equipo1,u.equipo2]),g=_=>i.filter(T=>T.nombre===_||!h.has(T.nombre)),v=(_,T,N,A)=>w.jsxs("div",{className:"mb-6",children:[w.jsx("h3",{className:"text-yellow-400 text-2xl font-bold mb-3 text-center",children:_}),w.jsxs("div",{className:"flex items-center justify-center gap-4",children:[w.jsxs("select",{value:T,onChange:k=>A(P=>({...P,equipo1:k.target.value})),className:"bg-gray-700 text-white px-4 py-2 rounded-lg w-40 text-lg",children:[w.jsx("option",{value:"",children:"Equipo 1"}),g(T).map(k=>w.jsx("option",{value:k.nombre,children:k.nombre},k.nombre))]}),w.jsx("span",{className:"text-white text-xl font-bold",children:"VS"}),w.jsxs("select",{value:N,onChange:k=>A(P=>({...P,equipo2:k.target.value})),className:"bg-gray-700 text-white px-4 py-2 rounded-lg w-40 text-lg",children:[w.jsx("option",{value:"",children:"Equipo 2"}),g(N).map(k=>w.jsx("option",{value:k.nombre,children:k.nombre},k.nombre))]})]})]}),x=()=>{if(!a.equipo1||!a.equipo2||!u.equipo1||!u.equipo2){alert("Seleccioná todos los equipos");return}r({granFinal:[a.equipo1,a.equipo2],tercerLugar:[u.equipo1,u.equipo2]}),e()};return w.jsx(id,{open:t,onClose:e,className:"fixed inset-0 bg-black/70 z-50 flex justify-center items-center p-4 font-qatar",children:w.jsxs(id.Panel,{className:"bg-gray-800 rounded-2xl shadow-xl w-full max-w-xl p-6 border border-yellow-400/30 text-white",children:[w.jsx("h2",{className:"text-center text-3xl font-bold text-yellow-400 mb-6",children:"Seleccionar Finalistas"}),v("Gran Final",a.equipo1,a.equipo2,c),v("Tercer Lugar",u.equipo1,u.equipo2,f),w.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 pt-4 border-t border-gray-600/50 mt-6",children:[w.jsx("button",{onClick:e,className:"w-full bg-red-600 hover:bg-red-500 text-white font-bold py-3 px-4 rounded-lg text-lg transition-colors",children:"Cancelar"}),w.jsx("button",{onClick:x,className:"w-full bg-green-600 hover:bg-green-500 text-white font-bold py-3 px-4 rounded-lg text-lg transition-colors",children:"Guardar"})]})]})})}const bJ=t=>t.startsWith("jornada")?`JORNADA ${t.replace("jornada","")}`:t.startsWith("semifinales")?"SEMIFINALES":t.startsWith("finales")?"FINALES":t.toUpperCase();function EJ(){const{user:t,rol:e}=ii(),[n,r]=C.useState("masculino"),[i,s]=C.useState({calendario:null,equiposInfo:{}}),[a,c]=C.useState(!1),[u,f]=C.useState({letra:"",asignacionActual:""}),[h,g]=C.useState(!1),[v,x]=C.useState(!1);C.useEffect(()=>{const $=Ce(Te,`calendario/${n}`),z=Ce(Te,`tablas/${n}`),D=ln($,async O=>{if(!O.exists()&&!v){const b=Fp.calendario[n];b&&(await Ct(Ce(Te,`calendario/${n}`),{asignaciones:{},partidos:b}),x(!0))}s(b=>({...b,calendario:O.exists()?O.val():null}))}),I=ln(z,O=>{s(b=>({...b,equiposInfo:O.exists()?O.val():{}}))});return()=>{Sa($,"value",D),Sa(z,"value",I)}},[n]);const _=($,z)=>{f({letra:$,asignacionActual:z}),c(!0)},T=({granFinal:$,tercerLugar:z})=>{const D=Ce(Te,"calendario/masculino/partidos/finales");Ct(D,{granFinal:$,tercerLugar:z}).then(()=>{alert("Finalistas guardados correctamente"),setModalAbierto(!1)}).catch(I=>{console.error("Error al guardar:",I),alert("Error al guardar finalistas")})},N=i.calendario||{},A=N.asignaciones||{},k=N.partidos||{},P=Fp.plantillas[n]||{},j=i.equiposInfo||{};return[...new Set((k?.semifinales||[]).flatMap($=>[$.equipo1,$.equipo2]).map($=>A[$]||$).filter($=>$&&!$.toLowerCase().includes("lugar")&&$!=="undefined"))],w.jsxs("div",{className:"w-full min-h-screen bg-main-background text-white font-qatar flex flex-col",children:[w.jsx(lr,{}),w.jsxs("div",{className:"container mx-auto px-4 py-8 flex-grow",children:[w.jsx("h1",{className:"text-4xl md:text-5xl font-bold text-center text-yellow-400 drop-shadow-lg mb-6",children:"Calendario de Partidos"}),w.jsxs("div",{className:"flex justify-center mb-8 bg-black/30 rounded-full p-1 max-w-sm mx-auto",children:[w.jsx("button",{onClick:()=>r("masculino"),className:`w-1/2 py-2 rounded-full font-bold transition-colors ${n==="masculino"?"bg-yellow-400 text-black":"hover:bg-white/10"}`,children:"Masculino"}),w.jsx("button",{onClick:()=>r("femenino"),className:`w-1/2 py-2 rounded-full font-bold transition-colors ${n==="femenino"?"bg-yellow-400 text-black":"hover:bg-white/10"}`,children:"Femenino"})]}),w.jsx("div",{className:"flex flex-wrap justify-center gap-4 mb-8",children:Object.entries(A).map(([$,z])=>w.jsxs("div",{className:"bg-white text-black px-4 py-2 rounded-xl shadow-md font-bold flex items-center gap-2",children:[w.jsxs("span",{className:"text-red-600",children:[$,":"]}),w.jsx("span",{children:z||`Equipo ${$}`}),(e==="admin"||e==="superadmin")&&w.jsx("button",{onClick:()=>_($,z),className:"text-blue-600 hover:underline text-sm",children:"Editar"})]},$))}),!k||Object.keys(k).length===0?w.jsx("p",{className:"text-center",children:"Cargando..."}):w.jsx("div",{className:"max-w-4xl mx-auto",children:w.jsx("div",{className:"space-y-8",children:Object.entries(k).map(([$,z])=>w.jsxs("div",{children:[w.jsxs("div",{className:"flex justify-between items-center mb-4 border-b-2 border-yellow-400/20 pb-2",children:[w.jsx("h2",{className:"text-2xl font-bold text-yellow-300",children:bJ($)}),e==="admin"&&$==="finales"&&w.jsx("button",{onClick:()=>g(!0),className:"bg-red-600 text-white font-bold px-3 py-1 rounded-lg text-sm hover:bg-red-500",children:"Seleccionar Finalistas"}),e==="admin"&&$==="semifinales"&&w.jsx("button",{onClick:async()=>{const D=Object.entries(j).sort(([,F],[,Z])=>Z.puntos-F.puntos).slice(0,4);if(D.length<4){alert("Se necesitan al menos 4 equipos para generar las semifinales.");return}const[I,O,b,M]=D.map(([F])=>F),V=Ce(Te,`calendario/${n}/partidos/semifinales`);await Ct(V,[{cancha:"1",equipo1:I,equipo2:M,fecha:"Domingo 29 Jun - 03:00 PM"},{cancha:"2",equipo1:O,equipo2:b,fecha:"Domingo 29 Jun - 03:00 PM"}]),alert("Semifinales generadas correctamente.")},className:"bg-green-600 text-white font-bold px-3 py-1 rounded-lg text-sm hover:bg-green-500",children:"Generar Semifinales"})]}),w.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:Array.isArray(z)&&z.length>0?z.map((D,I)=>w.jsx(_J,{partido:D,asignaciones:A,plantillas:P,equiposInfo:j},I)):w.jsx("p",{className:"col-span-full text-center text-sm text-gray-400",children:"No hay partidos disponibles."})})]},$))})})]}),w.jsx(cr,{}),w.jsx(wJ,{open:a,onClose:()=>c(!1),letra:u.letra,genero:n,asignacionActual:u.asignacionActual,todasLasAsignaciones:A,equiposYaAsignados:A}),w.jsx(xJ,{open:h,onClose:()=>g(!1),genero:"masculino",onGuardar:T})]})}var Oy,l2;function SJ(){if(l2)return Oy;l2=1;var t={linear:function(e,n,r,i){var s=r-n;return s*e/i+n},easeInQuad:function(e,n,r,i){var s=r-n;return s*(e/=i)*e+n},easeOutQuad:function(e,n,r,i){var s=r-n;return-s*(e/=i)*(e-2)+n},easeInOutQuad:function(e,n,r,i){var s=r-n;return(e/=i/2)<1?s/2*e*e+n:-s/2*(--e*(e-2)-1)+n},easeInCubic:function(e,n,r,i){var s=r-n;return s*(e/=i)*e*e+n},easeOutCubic:function(e,n,r,i){var s=r-n;return s*((e=e/i-1)*e*e+1)+n},easeInOutCubic:function(e,n,r,i){var s=r-n;return(e/=i/2)<1?s/2*e*e*e+n:s/2*((e-=2)*e*e+2)+n},easeInQuart:function(e,n,r,i){var s=r-n;return s*(e/=i)*e*e*e+n},easeOutQuart:function(e,n,r,i){var s=r-n;return-s*((e=e/i-1)*e*e*e-1)+n},easeInOutQuart:function(e,n,r,i){var s=r-n;return(e/=i/2)<1?s/2*e*e*e*e+n:-s/2*((e-=2)*e*e*e-2)+n},easeInQuint:function(e,n,r,i){var s=r-n;return s*(e/=i)*e*e*e*e+n},easeOutQuint:function(e,n,r,i){var s=r-n;return s*((e=e/i-1)*e*e*e*e+1)+n},easeInOutQuint:function(e,n,r,i){var s=r-n;return(e/=i/2)<1?s/2*e*e*e*e*e+n:s/2*((e-=2)*e*e*e*e+2)+n},easeInSine:function(e,n,r,i){var s=r-n;return-s*Math.cos(e/i*(Math.PI/2))+s+n},easeOutSine:function(e,n,r,i){var s=r-n;return s*Math.sin(e/i*(Math.PI/2))+n},easeInOutSine:function(e,n,r,i){var s=r-n;return-s/2*(Math.cos(Math.PI*e/i)-1)+n},easeInExpo:function(e,n,r,i){var s=r-n;return e==0?n:s*Math.pow(2,10*(e/i-1))+n},easeOutExpo:function(e,n,r,i){var s=r-n;return e==i?n+s:s*(-Math.pow(2,-10*e/i)+1)+n},easeInOutExpo:function(e,n,r,i){var s=r-n;return e===0?n:e===i?n+s:(e/=i/2)<1?s/2*Math.pow(2,10*(e-1))+n:s/2*(-Math.pow(2,-10*--e)+2)+n},easeInCirc:function(e,n,r,i){var s=r-n;return-s*(Math.sqrt(1-(e/=i)*e)-1)+n},easeOutCirc:function(e,n,r,i){var s=r-n;return s*Math.sqrt(1-(e=e/i-1)*e)+n},easeInOutCirc:function(e,n,r,i){var s=r-n;return(e/=i/2)<1?-s/2*(Math.sqrt(1-e*e)-1)+n:s/2*(Math.sqrt(1-(e-=2)*e)+1)+n},easeInElastic:function(e,n,r,i){var s=r-n,a,c,u;return u=1.70158,c=0,a=s,e===0?n:(e/=i)===1?n+s:(c||(c=i*.3),a<Math.abs(s)?(a=s,u=c/4):u=c/(2*Math.PI)*Math.asin(s/a),-(a*Math.pow(2,10*(e-=1))*Math.sin((e*i-u)*(2*Math.PI)/c))+n)},easeOutElastic:function(e,n,r,i){var s=r-n,a,c,u;return u=1.70158,c=0,a=s,e===0?n:(e/=i)===1?n+s:(c||(c=i*.3),a<Math.abs(s)?(a=s,u=c/4):u=c/(2*Math.PI)*Math.asin(s/a),a*Math.pow(2,-10*e)*Math.sin((e*i-u)*(2*Math.PI)/c)+s+n)},easeInOutElastic:function(e,n,r,i){var s=r-n,a,c,u;return u=1.70158,c=0,a=s,e===0?n:(e/=i/2)===2?n+s:(c||(c=i*(.3*1.5)),a<Math.abs(s)?(a=s,u=c/4):u=c/(2*Math.PI)*Math.asin(s/a),e<1?-.5*(a*Math.pow(2,10*(e-=1))*Math.sin((e*i-u)*(2*Math.PI)/c))+n:a*Math.pow(2,-10*(e-=1))*Math.sin((e*i-u)*(2*Math.PI)/c)*.5+s+n)},easeInBack:function(e,n,r,i,s){var a=r-n;return s===void 0&&(s=1.70158),a*(e/=i)*e*((s+1)*e-s)+n},easeOutBack:function(e,n,r,i,s){var a=r-n;return s===void 0&&(s=1.70158),a*((e=e/i-1)*e*((s+1)*e+s)+1)+n},easeInOutBack:function(e,n,r,i,s){var a=r-n;return s===void 0&&(s=1.70158),(e/=i/2)<1?a/2*(e*e*(((s*=1.525)+1)*e-s))+n:a/2*((e-=2)*e*(((s*=1.525)+1)*e+s)+2)+n},easeInBounce:function(e,n,r,i){var s=r-n,a;return a=t.easeOutBounce(i-e,0,s,i),s-a+n},easeOutBounce:function(e,n,r,i){var s=r-n;return(e/=i)<1/2.75?s*(7.5625*e*e)+n:e<2/2.75?s*(7.5625*(e-=1.5/2.75)*e+.75)+n:e<2.5/2.75?s*(7.5625*(e-=2.25/2.75)*e+.9375)+n:s*(7.5625*(e-=2.625/2.75)*e+.984375)+n},easeInOutBounce:function(e,n,r,i){var s=r-n,a;return e<i/2?(a=t.easeInBounce(e*2,0,s,i),a*.5+n):(a=t.easeOutBounce(e*2-i,0,s,i),a*.5+s*.5+n)}};return Oy=t,Oy}var CJ=SJ();function TJ(t){return t*Math.PI/180}function tr(t,e){return t+Math.random()*(e-t)}function kJ(t,e){return Math.floor(t+Math.random()*(e-t+1))}var sd;(function(t){t[t.Circle=0]="Circle",t[t.Square=1]="Square",t[t.Strip=2]="Strip"})(sd||(sd={}));var Xs;(function(t){t[t.Positive=1]="Positive",t[t.Negative=-1]="Negative"})(Xs||(Xs={}));const PJ=1e3/60;class IJ{constructor(e,n,r,i){this.getOptions=n;const{colors:s,initialVelocityX:a,initialVelocityY:c}=this.getOptions();this.context=e,this.x=r,this.y=i,this.w=tr(5,20),this.h=tr(5,20),this.radius=tr(5,10),this.vx=typeof a=="number"?tr(-a,a):tr(a.min,a.max),this.vy=typeof c=="number"?tr(-c,0):tr(c.min,c.max),this.shape=kJ(0,2),this.angle=TJ(tr(0,360)),this.angularSpin=tr(-.2,.2),this.color=s[Math.floor(Math.random()*s.length)],this.rotateY=tr(0,1),this.rotationDirection=tr(0,1)?Xs.Positive:Xs.Negative}update(e){const{gravity:n,wind:r,friction:i,opacity:s,drawShape:a}=this.getOptions(),c=e/PJ;this.x+=this.vx*c,this.y+=this.vy*c,this.vy+=n*c,this.vx+=r*c,this.vx*=i**c,this.vy*=i**c,this.rotateY>=1&&this.rotationDirection===Xs.Positive?this.rotationDirection=Xs.Negative:this.rotateY<=-1&&this.rotationDirection===Xs.Negative&&(this.rotationDirection=Xs.Positive);const u=.1*this.rotationDirection*c;if(this.rotateY+=u,this.angle+=this.angularSpin,this.context.save(),this.context.translate(this.x,this.y),this.context.rotate(this.angle),this.context.scale(1,this.rotateY),this.context.rotate(this.angle),this.context.beginPath(),this.context.fillStyle=this.color,this.context.strokeStyle=this.color,this.context.globalAlpha=s,this.context.lineCap="round",this.context.lineWidth=2,a&&typeof a=="function")a.call(this,this.context);else switch(this.shape){case sd.Circle:{this.context.beginPath(),this.context.arc(0,0,this.radius,0,2*Math.PI),this.context.fill();break}case sd.Square:{this.context.fillRect(-this.w/2,-this.h/2,this.w,this.h);break}case sd.Strip:{this.context.fillRect(-this.w/6,-this.h/2,this.w/3,this.h);break}}this.context.closePath(),this.context.restore()}}class RJ{constructor(e,n){this.x=0,this.y=0,this.w=0,this.h=0,this.lastNumberOfPieces=0,this.tweenProgress=0,this.tweenFrom=0,this.particles=[],this.particlesGenerated=0,this.removeParticleAt=i=>{this.particles.splice(i,1)},this.getParticle=()=>{const i=tr(this.x,this.w+this.x),s=tr(this.y,this.h+this.y);return new IJ(this.context,this.getOptions,i,s)},this.animate=i=>{const{canvas:s,context:a,particlesGenerated:c,lastNumberOfPieces:u}=this,{run:f,recycle:h,numberOfPieces:g,debug:v,tweenFunction:x,tweenDuration:_}=this.getOptions();if(!f)return!1;const T=this.particles.length,N=h?T:c;if(N<g){u!==g&&(this.tweenProgress=0,this.tweenFrom=N,this.lastNumberOfPieces=g),this.tweenProgress=Math.min(_,Math.max(0,this.tweenProgress+i));const A=x(this.tweenProgress,this.tweenFrom,g,_),k=Math.round(A-N);for(let P=0;P<k;P++)this.particles.push(this.getParticle());this.particlesGenerated+=k}v&&(a.font="12px sans-serif",a.fillStyle="#333",a.textAlign="right",a.fillText(`Particles: ${T}`,s.width-10,s.height-20));for(let A=this.particles.length-1;A>=0;A--){const k=this.particles[A];k.update(i),(k.y>s.height||k.y<-100||k.x>s.width+100||k.x<-100)&&(h&&N<=g?this.particles[A]=this.getParticle():this.removeParticleAt(A))}return T>0||N<g},this.canvas=e;const r=this.canvas.getContext("2d");if(!r)throw new Error("Could not get canvas context");this.context=r,this.getOptions=n}}const Ox={width:typeof window<"u"?window.innerWidth:300,height:typeof window<"u"?window.innerHeight:200,numberOfPieces:200,friction:.99,wind:0,gravity:.1,initialVelocityX:4,initialVelocityY:10,colors:["#f44336","#e91e63","#9c27b0","#673ab7","#3f51b5","#2196f3","#03a9f4","#00bcd4","#009688","#4CAF50","#8BC34A","#CDDC39","#FFEB3B","#FFC107","#FF9800","#FF5722","#795548"],opacity:1,debug:!1,tweenFunction:CJ.easeInOutQuad,tweenDuration:5e3,recycle:!0,run:!0};class AJ{constructor(e,n){this.lastFrameTime=0,this.setOptionsWithDefaults=i=>{const s={confettiSource:{x:0,y:0,w:this.canvas.width,h:0}};this._options={...s,...Ox,...i},Object.assign(this,i.confettiSource)},this.update=(i=0)=>{const{options:{run:s,onConfettiComplete:a,frameRate:c},canvas:u,context:f}=this,h=Math.min(i-this.lastFrameTime,50);if(c&&h<1e3/c){this.rafId=requestAnimationFrame(this.update);return}this.lastFrameTime=i-(c?h%c:0),s&&(f.fillStyle="white",f.clearRect(0,0,u.width,u.height)),this.generator.animate(h)?this.rafId=requestAnimationFrame(this.update):(a&&typeof a=="function"&&this.generator.particlesGenerated>0&&a.call(this,this),this._options.run=!1)},this.reset=()=>{this.generator&&this.generator.particlesGenerated>0&&(this.generator.particlesGenerated=0,this.generator.particles=[],this.generator.lastNumberOfPieces=0)},this.stop=()=>{this.options={run:!1},this.rafId&&(cancelAnimationFrame(this.rafId),this.rafId=void 0)},this.canvas=e;const r=this.canvas.getContext("2d");if(!r)throw new Error("Could not get canvas context");this.context=r,this.generator=new RJ(this.canvas,()=>this.options),this.options=n,this.update()}get options(){return this._options}set options(e){const n=this._options?.run,r=this._options?.recycle;this.setOptionsWithDefaults(e),this.generator&&(Object.assign(this.generator,this.options.confettiSource),typeof e.recycle=="boolean"&&e.recycle&&r===!1&&(this.generator.lastNumberOfPieces=this.generator.particles.length)),typeof e.run=="boolean"&&e.run&&n===!1&&this.update()}}const NJ=me.createRef();class Mx extends me.Component{constructor(e){super(e),this.canvas=me.createRef(),this.canvas=e.canvasRef||NJ}componentDidMount(){if(this.canvas.current){const e=My(this.props)[0];this.confetti=new AJ(this.canvas.current,e)}}componentDidUpdate(){const e=My(this.props)[0];this.confetti&&(this.confetti.options=e)}componentWillUnmount(){this.confetti&&this.confetti.stop(),this.confetti=void 0}render(){const[e,n]=My(this.props),r={zIndex:2,position:"absolute",pointerEvents:"none",top:0,left:0,bottom:0,right:0,...n.style};return w.jsx("canvas",{width:e.width,height:e.height,ref:this.canvas,...n,style:r})}}Mx.defaultProps={...Ox};Mx.displayName="ReactConfetti";function My(t){const e={},n={},r={},i=[...Object.keys(Ox),"confettiSource","drawShape","onConfettiComplete","frameRate"],s=["canvasRef"];for(const a in t){const c=t[a];i.includes(a)?e[a]=c:s.includes(a)?s[a]=c:r[a]=c}return[e,r,n]}const OJ=me.forwardRef((t,e)=>w.jsx(Mx,{canvasRef:e,...t})),MJ=t=>{const e=C.useRef(t);return C.useEffect(()=>{e.current=t}),e},DJ=(t,e=100,n=!1)=>{const r=MJ(t),i=C.useRef(),s=[e,n,r];function a(){i.current&&clearTimeout(i.current),i.current=void 0}C.useEffect(()=>a,s);function c(){i.current=void 0}return C.useCallback(function(){const u=arguments,{current:f}=i;if(f===void 0&&n)return i.current=setTimeout(c,e),r.current.apply(null,u);f&&clearTimeout(f),i.current=setTimeout(()=>{i.current=void 0,r.current.apply(null,u)},e)},s)},LJ=(t,e,n)=>{const r=C.useState(t);return[r[0],DJ(r[1],e,n)]};function Dy(t,e,n,r){const i=C.useRef(n),s=C.useRef(r);C.useEffect(()=>{i.current=n,s.current=r}),C.useEffect(()=>{const a=t&&"current"in t?t.current:t;if(!a)return;let c=0;function u(...h){c||i.current.apply(this,h)}a.addEventListener(e,u);const f=s.current;return()=>{c=1,a.removeEventListener(e,u),f&&f()}},[t,e])}const jJ={},od=typeof window>"u"?null:window,FJ=od&&typeof od.visualViewport<"u"?od.visualViewport:null,c2=()=>[document.documentElement.clientWidth,document.documentElement.clientHeight],$J=function(t){t===void 0&&(t=jJ);const{wait:e,leading:n,initialWidth:r=0,initialHeight:i=0}=t,[s,a]=LJ(typeof document>"u"?[r,i]:c2,e,n),c=()=>a(c2);return Dy(od,"resize",c),Dy(FJ,"resize",c),Dy(od,"orientationchange",c),s};function VJ(){const{partidoId:t}=uw(),[e,n]=C.useState({equipo1:0,equipo2:0}),[r,i]=C.useState(null),[s,a]=C.useState([]),[c,u]=C.useState("00:00"),[f,h]=C.useState("activo"),[g,v]=C.useState(!1),[x,_]=$J(),T=Pr();if(C.useEffect(()=>{const A=Ce(Te,`partidos/${t}/marcador`),k=Ce(Te,`partidos/${t}/alineacion`),P=Ce(Te,`partidos/${t}/eventos`),j=Ce(Te,`partidos/${t}/cronometro/tiempo`),$=Ce(Te,`partidos/${t}/estado`),z=ln(A,M=>{M.exists()&&n(M.val())}),D=ln(k,M=>{M.exists()&&i(M.val())}),I=ln(P,M=>{const V=M.val();if(V){const F=[],Z=se=>{for(const re in se)F.push({id:re,...se[re]})};V.goles&&Z(V.goles),V.tarjetas&&Z(V.tarjetas),V.cambios&&Z(V.cambios),F.sort((se,re)=>{const[ue,ne]=se.minuto?.split(":").map(Number)||[0,0],[oe,le]=re.minuto?.split(":").map(Number)||[0,0];return ue*60+ne-(oe*60+le)}),a(F)}}),O=ln(j,M=>{M.exists()&&u(M.val())}),b=ln($,M=>{if(M.exists()){const V=M.val();h(V),V==="finalizado"&&v(!0)}});return()=>{z(),D(),I(),O(),b()}},[t]),!r)return w.jsx("div",{className:"text-white text-center p-6",children:"Cargando partido..."});const N=e.equipo1>e.equipo2?r.equipo1.nombre:e.equipo2>e.equipo1?r.equipo2.nombre:"Empate";return w.jsxs("div",{className:"min-h-screen bg-cover bg-center font-qatar text-white px-4",style:{backgroundImage:"url('/EmproChampions-2025/img/fondoempro-horizontal.png')"},children:[w.jsx(lr,{}),w.jsx("h1",{className:"text-4xl font-bold text-center mt-6 text-yellow-400 drop-shadow",children:"Partido en curso"}),w.jsxs("div",{className:"text-center mt-4 text-2xl",children:["⏱ ",c]}),w.jsxs("div",{className:"flex justify-center items-center gap-4 mt-4",children:[w.jsx("img",{src:`/EmproChampions-2025/img/escudos/${r.equipo1.logo}`,className:"w-16 h-16 object-contain"}),w.jsxs("span",{className:"text-4xl font-extrabold",children:[e.equipo1," - ",e.equipo2]}),w.jsx("img",{src:`/EmproChampions-2025/img/escudos/${r.equipo2.logo}`,className:"w-16 h-16 object-contain"})]}),w.jsxs("div",{className:"max-w-3xl mx-auto bg-black/50 p-4 mt-6 mb-20 rounded-xl",children:[w.jsx("h2",{className:"text-yellow-400 font-bold text-xl mb-2",children:"Eventos del partido"}),s.length===0?w.jsx("p",{className:"text-gray-300",children:"Sin eventos todavía."}):w.jsx(YI,{eventos:s})]}),w.jsx(cr,{}),g&&w.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-80 flex justify-center items-center z-50 p-4",children:w.jsxs("div",{className:"bg-gray-900 rounded-2xl shadow-2xl w-full max-w-lg p-8 text-center border-2 border-yellow-400 relative",children:[w.jsx("h2",{className:"text-4xl font-extrabold text-yellow-400 mb-6 animate-bounce",children:"¡Partido Finalizado!"}),N!=="Empate"?w.jsxs(w.Fragment,{children:[w.jsx("img",{src:`/EmproChampions-2025/img/escudos/${N===r?.equipo1?.nombre?r?.equipo1?.logo:r?.equipo2?.logo}`,alt:"Escudo ganador",className:"w-36 h-36 mx-auto mb-6 drop-shadow-xl"}),w.jsxs("p",{className:"text-white text-5xl md:text-6xl font-extrabold",children:["🏆 ",N]})]}):w.jsx("p",{className:"text-4xl text-white",children:"🤝 El partido terminó en empate"}),w.jsx("button",{onClick:()=>T("/"),className:"mt-6 bg-green-600 hover:bg-green-500 text-white font-bold py-2 px-6 rounded-full text-lg shadow-lg",children:"Cerrar"}),N!=="Empate"&&w.jsx(OJ,{width:x,height:_,numberOfPieces:500,gravity:.3,recycle:!1})]})})]})}function UJ({open:t,onClose:e}){const{user:n}=ii(),[r,i]=C.useState(null),[s,a]=C.useState(0),[c,u]=C.useState(""),[f,h]=C.useState(!1),g=_=>{const T=_.target.files[0];T&&T.type.startsWith("image/")?(i(T),u("")):(i(null),u("Por favor, selecciona un archivo de imagen válido."))},v=()=>{if(!r||!n)return;h(!0);const _=LI(),T=x_(),N=O9(_,`galeria/${Date.now()}_${r.name}`),A=A9(N,r);A.on("state_changed",k=>{const P=k.bytesTransferred/k.totalBytes*100;a(P)},k=>{console.error("Error al subir imagen:",k),u("Ocurrió un error al subir la imagen."),h(!1)},()=>{N9(A.snapshot.ref).then(k=>{const P=Ce(T,"galeria"),j={imageUrl:k,timestamp:b$(),uploadedBy:n.uid,likes:{},visible:!0};jl(P,j),x()})})},x=()=>{i(null),a(0),u(""),h(!1),e()};return t?w.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-75 flex justify-center items-center z-50",children:w.jsxs("div",{className:"bg-gray-800 p-6 rounded-lg shadow-xl w-full max-w-md",children:[w.jsx("h2",{className:"text-2xl font-bold text-yellow-400 mb-4",children:"Subir Nueva Foto"}),w.jsx("input",{type:"file",accept:"image/*",onChange:g,className:"block w-full text-sm text-gray-400 file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-sm file:font-semibold file:bg-yellow-500 file:text-black hover:file:bg-yellow-400"}),r&&w.jsxs("p",{className:"text-sm mt-2 text-gray-300",children:["Archivo seleccionado: ",r.name]}),c&&w.jsx("p",{className:"text-red-500 text-sm mt-2",children:c}),f&&w.jsx("div",{className:"w-full bg-gray-600 rounded-full h-2.5 mt-4",children:w.jsx("div",{className:"bg-green-500 h-2.5 rounded-full",style:{width:`${s}%`}})}),w.jsxs("div",{className:"flex justify-end gap-4 mt-6",children:[w.jsx("button",{onClick:x,disabled:f,className:"px-4 py-2 rounded-lg bg-gray-600 hover:bg-gray-500 disabled:opacity-50",children:"Cancelar"}),w.jsx("button",{onClick:v,disabled:!r||f,className:"px-4 py-2 rounded-lg bg-green-600 hover:bg-green-500 disabled:bg-gray-400 disabled:cursor-not-allowed",children:f?"Subiendo...":"Subir"})]})]})}):null}function BJ({title:t,titleId:e,...n},r){return C.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?C.createElement("title",{id:e},t):null,C.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.98 8.223A10.477 10.477 0 0 0 1.934 12C3.226 16.338 7.244 19.5 12 19.5c.993 0 1.953-.138 2.863-.395M6.228 6.228A10.451 10.451 0 0 1 12 4.5c4.756 0 8.773 3.162 10.065 7.498a10.522 10.522 0 0 1-4.293 5.774M6.228 6.228 3 3m3.228 3.228 3.65 3.65m7.894 7.894L21 21m-3.228-3.228-3.65-3.65m0 0a3 3 0 1 0-4.243-4.243m4.242 4.242L9.88 9.88"}))}const zJ=C.forwardRef(BJ);function HJ({foto:t,onImageClick:e,onBorrarClick:n,esAdmin:r}){const{user:i}=ii(),s=t.likes?Object.values(t.likes).filter(Boolean).length:0,a=i&&t.likes&&t.likes[i.uid];return w.jsxs("div",{className:"group relative aspect-square bg-gray-800 rounded-lg overflow-hidden cursor-pointer shadow-lg",onClick:()=>e(t),children:[w.jsx("img",{src:t.imageUrl,alt:"Foto de la galería",className:"w-full h-full object-cover transition-transform duration-300 group-hover:scale-110"}),w.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/60 via-black/20 to-transparent p-2 flex flex-col justify-end",children:w.jsxs("div",{className:"flex items-center gap-1 text-white opacity-0 group-hover:opacity-100 transition-opacity duration-300",children:[a?w.jsx(w0,{className:"h-5 w-5 text-red-500"}):w.jsx(w0,{className:"h-5 w-5 text-white"}),w.jsx("span",{className:"font-bold text-sm drop-shadow-md",children:s})]})}),r&&w.jsx("button",{onClick:c=>{c.stopPropagation(),n(t.id)},className:"absolute top-2 right-2 bg-red-600/80 text-white rounded-full w-8 h-8 flex items-center justify-center opacity-0 group-hover:opacity-100 transition-all duration-300 hover:bg-red-500 hover:scale-110",title:"Ocultar foto",children:w.jsx(zJ,{className:"w-5 h-5"})})]})}function u2(t){return t!==null&&typeof t=="object"&&"constructor"in t&&t.constructor===Object}function Dx(t,e){t===void 0&&(t={}),e===void 0&&(e={});const n=["__proto__","constructor","prototype"];Object.keys(e).filter(r=>n.indexOf(r)<0).forEach(r=>{typeof t[r]>"u"?t[r]=e[r]:u2(e[r])&&u2(t[r])&&Object.keys(e[r]).length>0&&Dx(t[r],e[r])})}const VN={body:{},addEventListener(){},removeEventListener(){},activeElement:{blur(){},nodeName:""},querySelector(){return null},querySelectorAll(){return[]},getElementById(){return null},createEvent(){return{initEvent(){}}},createElement(){return{children:[],childNodes:[],style:{},setAttribute(){},getElementsByTagName(){return[]}}},createElementNS(){return{}},importNode(){return null},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""}};function La(){const t=typeof document<"u"?document:{};return Dx(t,VN),t}const WJ={document:VN,navigator:{userAgent:""},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""},history:{replaceState(){},pushState(){},go(){},back(){}},CustomEvent:function(){return this},addEventListener(){},removeEventListener(){},getComputedStyle(){return{getPropertyValue(){return""}}},Image(){},Date(){},screen:{},setTimeout(){},clearTimeout(){},matchMedia(){return{}},requestAnimationFrame(t){return typeof setTimeout>"u"?(t(),null):setTimeout(t,0)},cancelAnimationFrame(t){typeof setTimeout>"u"||clearTimeout(t)}};function An(){const t=typeof window<"u"?window:{};return Dx(t,WJ),t}function qJ(t){return t===void 0&&(t=""),t.trim().split(" ").filter(e=>!!e.trim())}function GJ(t){const e=t;Object.keys(e).forEach(n=>{try{e[n]=null}catch{}try{delete e[n]}catch{}})}function UN(t,e){return e===void 0&&(e=0),setTimeout(t,e)}function Jp(){return Date.now()}function KJ(t){const e=An();let n;return e.getComputedStyle&&(n=e.getComputedStyle(t,null)),!n&&t.currentStyle&&(n=t.currentStyle),n||(n=t.style),n}function YJ(t,e){e===void 0&&(e="x");const n=An();let r,i,s;const a=KJ(t);return n.WebKitCSSMatrix?(i=a.transform||a.webkitTransform,i.split(",").length>6&&(i=i.split(", ").map(c=>c.replace(",",".")).join(", ")),s=new n.WebKitCSSMatrix(i==="none"?"":i)):(s=a.MozTransform||a.OTransform||a.MsTransform||a.msTransform||a.transform||a.getPropertyValue("transform").replace("translate(","matrix(1, 0, 0, 1,"),r=s.toString().split(",")),e==="x"&&(n.WebKitCSSMatrix?i=s.m41:r.length===16?i=parseFloat(r[12]):i=parseFloat(r[4])),e==="y"&&(n.WebKitCSSMatrix?i=s.m42:r.length===16?i=parseFloat(r[13]):i=parseFloat(r[5])),i||0}function Wh(t){return typeof t=="object"&&t!==null&&t.constructor&&Object.prototype.toString.call(t).slice(8,-1)==="Object"}function XJ(t){return typeof window<"u"&&typeof window.HTMLElement<"u"?t instanceof HTMLElement:t&&(t.nodeType===1||t.nodeType===11)}function nr(){const t=Object(arguments.length<=0?void 0:arguments[0]),e=["__proto__","constructor","prototype"];for(let n=1;n<arguments.length;n+=1){const r=n<0||arguments.length<=n?void 0:arguments[n];if(r!=null&&!XJ(r)){const i=Object.keys(Object(r)).filter(s=>e.indexOf(s)<0);for(let s=0,a=i.length;s<a;s+=1){const c=i[s],u=Object.getOwnPropertyDescriptor(r,c);u!==void 0&&u.enumerable&&(Wh(t[c])&&Wh(r[c])?r[c].__swiper__?t[c]=r[c]:nr(t[c],r[c]):!Wh(t[c])&&Wh(r[c])?(t[c]={},r[c].__swiper__?t[c]=r[c]:nr(t[c],r[c])):t[c]=r[c])}}}return t}function qh(t,e,n){t.style.setProperty(e,n)}function BN(t){let{swiper:e,targetPosition:n,side:r}=t;const i=An(),s=-e.translate;let a=null,c;const u=e.params.speed;e.wrapperEl.style.scrollSnapType="none",i.cancelAnimationFrame(e.cssModeFrameID);const f=n>s?"next":"prev",h=(v,x)=>f==="next"&&v>=x||f==="prev"&&v<=x,g=()=>{c=new Date().getTime(),a===null&&(a=c);const v=Math.max(Math.min((c-a)/u,1),0),x=.5-Math.cos(v*Math.PI)/2;let _=s+x*(n-s);if(h(_,n)&&(_=n),e.wrapperEl.scrollTo({[r]:_}),h(_,n)){e.wrapperEl.style.overflow="hidden",e.wrapperEl.style.scrollSnapType="",setTimeout(()=>{e.wrapperEl.style.overflow="",e.wrapperEl.scrollTo({[r]:_})}),i.cancelAnimationFrame(e.cssModeFrameID);return}e.cssModeFrameID=i.requestAnimationFrame(g)};g()}function bi(t,e){e===void 0&&(e="");const n=An(),r=[...t.children];return n.HTMLSlotElement&&t instanceof HTMLSlotElement&&r.push(...t.assignedElements()),e?r.filter(i=>i.matches(e)):r}function JJ(t,e){const n=[e];for(;n.length>0;){const r=n.shift();if(t===r)return!0;n.push(...r.children,...r.shadowRoot?r.shadowRoot.children:[],...r.assignedElements?r.assignedElements():[])}}function QJ(t,e){const n=An();let r=e.contains(t);return!r&&n.HTMLSlotElement&&e instanceof HTMLSlotElement&&(r=[...e.assignedElements()].includes(t),r||(r=JJ(t,e))),r}function Qp(t){try{console.warn(t);return}catch{}}function Zp(t,e){e===void 0&&(e=[]);const n=document.createElement(t);return n.classList.add(...Array.isArray(e)?e:qJ(e)),n}function ZJ(t,e){const n=[];for(;t.previousElementSibling;){const r=t.previousElementSibling;e?r.matches(e)&&n.push(r):n.push(r),t=r}return n}function eQ(t,e){const n=[];for(;t.nextElementSibling;){const r=t.nextElementSibling;e?r.matches(e)&&n.push(r):n.push(r),t=r}return n}function oo(t,e){return An().getComputedStyle(t,null).getPropertyValue(e)}function em(t){let e=t,n;if(e){for(n=0;(e=e.previousSibling)!==null;)e.nodeType===1&&(n+=1);return n}}function zN(t,e){const n=[];let r=t.parentElement;for(;r;)e?r.matches(e)&&n.push(r):n.push(r),r=r.parentElement;return n}function iw(t,e,n){const r=An();return t[e==="width"?"offsetWidth":"offsetHeight"]+parseFloat(r.getComputedStyle(t,null).getPropertyValue(e==="width"?"margin-right":"margin-top"))+parseFloat(r.getComputedStyle(t,null).getPropertyValue(e==="width"?"margin-left":"margin-bottom"))}function Yt(t){return(Array.isArray(t)?t:[t]).filter(e=>!!e)}function tm(t,e){e===void 0&&(e=""),typeof trustedTypes<"u"?t.innerHTML=trustedTypes.createPolicy("html",{createHTML:n=>n}).createHTML(e):t.innerHTML=e}let Ly;function tQ(){const t=An(),e=La();return{smoothScroll:e.documentElement&&e.documentElement.style&&"scrollBehavior"in e.documentElement.style,touch:!!("ontouchstart"in t||t.DocumentTouch&&e instanceof t.DocumentTouch)}}function HN(){return Ly||(Ly=tQ()),Ly}let jy;function nQ(t){let{userAgent:e}=t===void 0?{}:t;const n=HN(),r=An(),i=r.navigator.platform,s=e||r.navigator.userAgent,a={ios:!1,android:!1},c=r.screen.width,u=r.screen.height,f=s.match(/(Android);?[\s\/]+([\d.]+)?/);let h=s.match(/(iPad).*OS\s([\d_]+)/);const g=s.match(/(iPod)(.*OS\s([\d_]+))?/),v=!h&&s.match(/(iPhone\sOS|iOS)\s([\d_]+)/),x=i==="Win32";let _=i==="MacIntel";const T=["1024x1366","1366x1024","834x1194","1194x834","834x1112","1112x834","768x1024","1024x768","820x1180","1180x820","810x1080","1080x810"];return!h&&_&&n.touch&&T.indexOf(`${c}x${u}`)>=0&&(h=s.match(/(Version)\/([\d.]+)/),h||(h=[0,1,"13_0_0"]),_=!1),f&&!x&&(a.os="android",a.android=!0),(h||v||g)&&(a.os="ios",a.ios=!0),a}function WN(t){return t===void 0&&(t={}),jy||(jy=nQ(t)),jy}let Fy;function rQ(){const t=An(),e=WN();let n=!1;function r(){const c=t.navigator.userAgent.toLowerCase();return c.indexOf("safari")>=0&&c.indexOf("chrome")<0&&c.indexOf("android")<0}if(r()){const c=String(t.navigator.userAgent);if(c.includes("Version/")){const[u,f]=c.split("Version/")[1].split(" ")[0].split(".").map(h=>Number(h));n=u<16||u===16&&f<2}}const i=/(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/i.test(t.navigator.userAgent),s=r(),a=s||i&&e.ios;return{isSafari:n||s,needPerspectiveFix:n,need3dFix:a,isWebView:i}}function qN(){return Fy||(Fy=rQ()),Fy}function iQ(t){let{swiper:e,on:n,emit:r}=t;const i=An();let s=null,a=null;const c=()=>{!e||e.destroyed||!e.initialized||(r("beforeResize"),r("resize"))},u=()=>{!e||e.destroyed||!e.initialized||(s=new ResizeObserver(g=>{a=i.requestAnimationFrame(()=>{const{width:v,height:x}=e;let _=v,T=x;g.forEach(N=>{let{contentBoxSize:A,contentRect:k,target:P}=N;P&&P!==e.el||(_=k?k.width:(A[0]||A).inlineSize,T=k?k.height:(A[0]||A).blockSize)}),(_!==v||T!==x)&&c()})}),s.observe(e.el))},f=()=>{a&&i.cancelAnimationFrame(a),s&&s.unobserve&&e.el&&(s.unobserve(e.el),s=null)},h=()=>{!e||e.destroyed||!e.initialized||r("orientationchange")};n("init",()=>{if(e.params.resizeObserver&&typeof i.ResizeObserver<"u"){u();return}i.addEventListener("resize",c),i.addEventListener("orientationchange",h)}),n("destroy",()=>{f(),i.removeEventListener("resize",c),i.removeEventListener("orientationchange",h)})}function sQ(t){let{swiper:e,extendParams:n,on:r,emit:i}=t;const s=[],a=An(),c=function(h,g){g===void 0&&(g={});const v=a.MutationObserver||a.WebkitMutationObserver,x=new v(_=>{if(e.__preventObserver__)return;if(_.length===1){i("observerUpdate",_[0]);return}const T=function(){i("observerUpdate",_[0])};a.requestAnimationFrame?a.requestAnimationFrame(T):a.setTimeout(T,0)});x.observe(h,{attributes:typeof g.attributes>"u"?!0:g.attributes,childList:e.isElement||(typeof g.childList>"u"?!0:g).childList,characterData:typeof g.characterData>"u"?!0:g.characterData}),s.push(x)},u=()=>{if(e.params.observer){if(e.params.observeParents){const h=zN(e.hostEl);for(let g=0;g<h.length;g+=1)c(h[g])}c(e.hostEl,{childList:e.params.observeSlideChildren}),c(e.wrapperEl,{attributes:!1})}},f=()=>{s.forEach(h=>{h.disconnect()}),s.splice(0,s.length)};n({observer:!1,observeParents:!1,observeSlideChildren:!1}),r("init",u),r("destroy",f)}var oQ={on(t,e,n){const r=this;if(!r.eventsListeners||r.destroyed||typeof e!="function")return r;const i=n?"unshift":"push";return t.split(" ").forEach(s=>{r.eventsListeners[s]||(r.eventsListeners[s]=[]),r.eventsListeners[s][i](e)}),r},once(t,e,n){const r=this;if(!r.eventsListeners||r.destroyed||typeof e!="function")return r;function i(){r.off(t,i),i.__emitterProxy&&delete i.__emitterProxy;for(var s=arguments.length,a=new Array(s),c=0;c<s;c++)a[c]=arguments[c];e.apply(r,a)}return i.__emitterProxy=e,r.on(t,i,n)},onAny(t,e){const n=this;if(!n.eventsListeners||n.destroyed||typeof t!="function")return n;const r=e?"unshift":"push";return n.eventsAnyListeners.indexOf(t)<0&&n.eventsAnyListeners[r](t),n},offAny(t){const e=this;if(!e.eventsListeners||e.destroyed||!e.eventsAnyListeners)return e;const n=e.eventsAnyListeners.indexOf(t);return n>=0&&e.eventsAnyListeners.splice(n,1),e},off(t,e){const n=this;return!n.eventsListeners||n.destroyed||!n.eventsListeners||t.split(" ").forEach(r=>{typeof e>"u"?n.eventsListeners[r]=[]:n.eventsListeners[r]&&n.eventsListeners[r].forEach((i,s)=>{(i===e||i.__emitterProxy&&i.__emitterProxy===e)&&n.eventsListeners[r].splice(s,1)})}),n},emit(){const t=this;if(!t.eventsListeners||t.destroyed||!t.eventsListeners)return t;let e,n,r;for(var i=arguments.length,s=new Array(i),a=0;a<i;a++)s[a]=arguments[a];return typeof s[0]=="string"||Array.isArray(s[0])?(e=s[0],n=s.slice(1,s.length),r=t):(e=s[0].events,n=s[0].data,r=s[0].context||t),n.unshift(r),(Array.isArray(e)?e:e.split(" ")).forEach(u=>{t.eventsAnyListeners&&t.eventsAnyListeners.length&&t.eventsAnyListeners.forEach(f=>{f.apply(r,[u,...n])}),t.eventsListeners&&t.eventsListeners[u]&&t.eventsListeners[u].forEach(f=>{f.apply(r,n)})}),t}};function aQ(){const t=this;let e,n;const r=t.el;typeof t.params.width<"u"&&t.params.width!==null?e=t.params.width:e=r.clientWidth,typeof t.params.height<"u"&&t.params.height!==null?n=t.params.height:n=r.clientHeight,!(e===0&&t.isHorizontal()||n===0&&t.isVertical())&&(e=e-parseInt(oo(r,"padding-left")||0,10)-parseInt(oo(r,"padding-right")||0,10),n=n-parseInt(oo(r,"padding-top")||0,10)-parseInt(oo(r,"padding-bottom")||0,10),Number.isNaN(e)&&(e=0),Number.isNaN(n)&&(n=0),Object.assign(t,{width:e,height:n,size:t.isHorizontal()?e:n}))}function lQ(){const t=this;function e(b,M){return parseFloat(b.getPropertyValue(t.getDirectionLabel(M))||0)}const n=t.params,{wrapperEl:r,slidesEl:i,size:s,rtlTranslate:a,wrongRTL:c}=t,u=t.virtual&&n.virtual.enabled,f=u?t.virtual.slides.length:t.slides.length,h=bi(i,`.${t.params.slideClass}, swiper-slide`),g=u?t.virtual.slides.length:h.length;let v=[];const x=[],_=[];let T=n.slidesOffsetBefore;typeof T=="function"&&(T=n.slidesOffsetBefore.call(t));let N=n.slidesOffsetAfter;typeof N=="function"&&(N=n.slidesOffsetAfter.call(t));const A=t.snapGrid.length,k=t.slidesGrid.length;let P=n.spaceBetween,j=-T,$=0,z=0;if(typeof s>"u")return;typeof P=="string"&&P.indexOf("%")>=0?P=parseFloat(P.replace("%",""))/100*s:typeof P=="string"&&(P=parseFloat(P)),t.virtualSize=-P,h.forEach(b=>{a?b.style.marginLeft="":b.style.marginRight="",b.style.marginBottom="",b.style.marginTop=""}),n.centeredSlides&&n.cssMode&&(qh(r,"--swiper-centered-offset-before",""),qh(r,"--swiper-centered-offset-after",""));const D=n.grid&&n.grid.rows>1&&t.grid;D?t.grid.initSlides(h):t.grid&&t.grid.unsetSlides();let I;const O=n.slidesPerView==="auto"&&n.breakpoints&&Object.keys(n.breakpoints).filter(b=>typeof n.breakpoints[b].slidesPerView<"u").length>0;for(let b=0;b<g;b+=1){I=0;let M;if(h[b]&&(M=h[b]),D&&t.grid.updateSlide(b,M,h),!(h[b]&&oo(M,"display")==="none")){if(n.slidesPerView==="auto"){O&&(h[b].style[t.getDirectionLabel("width")]="");const V=getComputedStyle(M),F=M.style.transform,Z=M.style.webkitTransform;if(F&&(M.style.transform="none"),Z&&(M.style.webkitTransform="none"),n.roundLengths)I=t.isHorizontal()?iw(M,"width"):iw(M,"height");else{const se=e(V,"width"),re=e(V,"padding-left"),ue=e(V,"padding-right"),ne=e(V,"margin-left"),oe=e(V,"margin-right"),le=V.getPropertyValue("box-sizing");if(le&&le==="border-box")I=se+ne+oe;else{const{clientWidth:q,offsetWidth:te}=M;I=se+re+ue+ne+oe+(te-q)}}F&&(M.style.transform=F),Z&&(M.style.webkitTransform=Z),n.roundLengths&&(I=Math.floor(I))}else I=(s-(n.slidesPerView-1)*P)/n.slidesPerView,n.roundLengths&&(I=Math.floor(I)),h[b]&&(h[b].style[t.getDirectionLabel("width")]=`${I}px`);h[b]&&(h[b].swiperSlideSize=I),_.push(I),n.centeredSlides?(j=j+I/2+$/2+P,$===0&&b!==0&&(j=j-s/2-P),b===0&&(j=j-s/2-P),Math.abs(j)<1/1e3&&(j=0),n.roundLengths&&(j=Math.floor(j)),z%n.slidesPerGroup===0&&v.push(j),x.push(j)):(n.roundLengths&&(j=Math.floor(j)),(z-Math.min(t.params.slidesPerGroupSkip,z))%t.params.slidesPerGroup===0&&v.push(j),x.push(j),j=j+I+P),t.virtualSize+=I+P,$=I,z+=1}}if(t.virtualSize=Math.max(t.virtualSize,s)+N,a&&c&&(n.effect==="slide"||n.effect==="coverflow")&&(r.style.width=`${t.virtualSize+P}px`),n.setWrapperSize&&(r.style[t.getDirectionLabel("width")]=`${t.virtualSize+P}px`),D&&t.grid.updateWrapperSize(I,v),!n.centeredSlides){const b=[];for(let M=0;M<v.length;M+=1){let V=v[M];n.roundLengths&&(V=Math.floor(V)),v[M]<=t.virtualSize-s&&b.push(V)}v=b,Math.floor(t.virtualSize-s)-Math.floor(v[v.length-1])>1&&v.push(t.virtualSize-s)}if(u&&n.loop){const b=_[0]+P;if(n.slidesPerGroup>1){const M=Math.ceil((t.virtual.slidesBefore+t.virtual.slidesAfter)/n.slidesPerGroup),V=b*n.slidesPerGroup;for(let F=0;F<M;F+=1)v.push(v[v.length-1]+V)}for(let M=0;M<t.virtual.slidesBefore+t.virtual.slidesAfter;M+=1)n.slidesPerGroup===1&&v.push(v[v.length-1]+b),x.push(x[x.length-1]+b),t.virtualSize+=b}if(v.length===0&&(v=[0]),P!==0){const b=t.isHorizontal()&&a?"marginLeft":t.getDirectionLabel("marginRight");h.filter((M,V)=>!n.cssMode||n.loop?!0:V!==h.length-1).forEach(M=>{M.style[b]=`${P}px`})}if(n.centeredSlides&&n.centeredSlidesBounds){let b=0;_.forEach(V=>{b+=V+(P||0)}),b-=P;const M=b>s?b-s:0;v=v.map(V=>V<=0?-T:V>M?M+N:V)}if(n.centerInsufficientSlides){let b=0;_.forEach(V=>{b+=V+(P||0)}),b-=P;const M=(n.slidesOffsetBefore||0)+(n.slidesOffsetAfter||0);if(b+M<s){const V=(s-b-M)/2;v.forEach((F,Z)=>{v[Z]=F-V}),x.forEach((F,Z)=>{x[Z]=F+V})}}if(Object.assign(t,{slides:h,snapGrid:v,slidesGrid:x,slidesSizesGrid:_}),n.centeredSlides&&n.cssMode&&!n.centeredSlidesBounds){qh(r,"--swiper-centered-offset-before",`${-v[0]}px`),qh(r,"--swiper-centered-offset-after",`${t.size/2-_[_.length-1]/2}px`);const b=-t.snapGrid[0],M=-t.slidesGrid[0];t.snapGrid=t.snapGrid.map(V=>V+b),t.slidesGrid=t.slidesGrid.map(V=>V+M)}if(g!==f&&t.emit("slidesLengthChange"),v.length!==A&&(t.params.watchOverflow&&t.checkOverflow(),t.emit("snapGridLengthChange")),x.length!==k&&t.emit("slidesGridLengthChange"),n.watchSlidesProgress&&t.updateSlidesOffset(),t.emit("slidesUpdated"),!u&&!n.cssMode&&(n.effect==="slide"||n.effect==="fade")){const b=`${n.containerModifierClass}backface-hidden`,M=t.el.classList.contains(b);g<=n.maxBackfaceHiddenSlides?M||t.el.classList.add(b):M&&t.el.classList.remove(b)}}function cQ(t){const e=this,n=[],r=e.virtual&&e.params.virtual.enabled;let i=0,s;typeof t=="number"?e.setTransition(t):t===!0&&e.setTransition(e.params.speed);const a=c=>r?e.slides[e.getSlideIndexByData(c)]:e.slides[c];if(e.params.slidesPerView!=="auto"&&e.params.slidesPerView>1)if(e.params.centeredSlides)(e.visibleSlides||[]).forEach(c=>{n.push(c)});else for(s=0;s<Math.ceil(e.params.slidesPerView);s+=1){const c=e.activeIndex+s;if(c>e.slides.length&&!r)break;n.push(a(c))}else n.push(a(e.activeIndex));for(s=0;s<n.length;s+=1)if(typeof n[s]<"u"){const c=n[s].offsetHeight;i=c>i?c:i}(i||i===0)&&(e.wrapperEl.style.height=`${i}px`)}function uQ(){const t=this,e=t.slides,n=t.isElement?t.isHorizontal()?t.wrapperEl.offsetLeft:t.wrapperEl.offsetTop:0;for(let r=0;r<e.length;r+=1)e[r].swiperSlideOffset=(t.isHorizontal()?e[r].offsetLeft:e[r].offsetTop)-n-t.cssOverflowAdjustment()}const d2=(t,e,n)=>{e&&!t.classList.contains(n)?t.classList.add(n):!e&&t.classList.contains(n)&&t.classList.remove(n)};function dQ(t){t===void 0&&(t=this&&this.translate||0);const e=this,n=e.params,{slides:r,rtlTranslate:i,snapGrid:s}=e;if(r.length===0)return;typeof r[0].swiperSlideOffset>"u"&&e.updateSlidesOffset();let a=-t;i&&(a=t),e.visibleSlidesIndexes=[],e.visibleSlides=[];let c=n.spaceBetween;typeof c=="string"&&c.indexOf("%")>=0?c=parseFloat(c.replace("%",""))/100*e.size:typeof c=="string"&&(c=parseFloat(c));for(let u=0;u<r.length;u+=1){const f=r[u];let h=f.swiperSlideOffset;n.cssMode&&n.centeredSlides&&(h-=r[0].swiperSlideOffset);const g=(a+(n.centeredSlides?e.minTranslate():0)-h)/(f.swiperSlideSize+c),v=(a-s[0]+(n.centeredSlides?e.minTranslate():0)-h)/(f.swiperSlideSize+c),x=-(a-h),_=x+e.slidesSizesGrid[u],T=x>=0&&x<=e.size-e.slidesSizesGrid[u],N=x>=0&&x<e.size-1||_>1&&_<=e.size||x<=0&&_>=e.size;N&&(e.visibleSlides.push(f),e.visibleSlidesIndexes.push(u)),d2(f,N,n.slideVisibleClass),d2(f,T,n.slideFullyVisibleClass),f.progress=i?-g:g,f.originalProgress=i?-v:v}}function fQ(t){const e=this;if(typeof t>"u"){const h=e.rtlTranslate?-1:1;t=e&&e.translate&&e.translate*h||0}const n=e.params,r=e.maxTranslate()-e.minTranslate();let{progress:i,isBeginning:s,isEnd:a,progressLoop:c}=e;const u=s,f=a;if(r===0)i=0,s=!0,a=!0;else{i=(t-e.minTranslate())/r;const h=Math.abs(t-e.minTranslate())<1,g=Math.abs(t-e.maxTranslate())<1;s=h||i<=0,a=g||i>=1,h&&(i=0),g&&(i=1)}if(n.loop){const h=e.getSlideIndexByData(0),g=e.getSlideIndexByData(e.slides.length-1),v=e.slidesGrid[h],x=e.slidesGrid[g],_=e.slidesGrid[e.slidesGrid.length-1],T=Math.abs(t);T>=v?c=(T-v)/_:c=(T+_-x)/_,c>1&&(c-=1)}Object.assign(e,{progress:i,progressLoop:c,isBeginning:s,isEnd:a}),(n.watchSlidesProgress||n.centeredSlides&&n.autoHeight)&&e.updateSlidesProgress(t),s&&!u&&e.emit("reachBeginning toEdge"),a&&!f&&e.emit("reachEnd toEdge"),(u&&!s||f&&!a)&&e.emit("fromEdge"),e.emit("progress",i)}const $y=(t,e,n)=>{e&&!t.classList.contains(n)?t.classList.add(n):!e&&t.classList.contains(n)&&t.classList.remove(n)};function hQ(){const t=this,{slides:e,params:n,slidesEl:r,activeIndex:i}=t,s=t.virtual&&n.virtual.enabled,a=t.grid&&n.grid&&n.grid.rows>1,c=g=>bi(r,`.${n.slideClass}${g}, swiper-slide${g}`)[0];let u,f,h;if(s)if(n.loop){let g=i-t.virtual.slidesBefore;g<0&&(g=t.virtual.slides.length+g),g>=t.virtual.slides.length&&(g-=t.virtual.slides.length),u=c(`[data-swiper-slide-index="${g}"]`)}else u=c(`[data-swiper-slide-index="${i}"]`);else a?(u=e.find(g=>g.column===i),h=e.find(g=>g.column===i+1),f=e.find(g=>g.column===i-1)):u=e[i];u&&(a||(h=eQ(u,`.${n.slideClass}, swiper-slide`)[0],n.loop&&!h&&(h=e[0]),f=ZJ(u,`.${n.slideClass}, swiper-slide`)[0],n.loop&&!f===0&&(f=e[e.length-1]))),e.forEach(g=>{$y(g,g===u,n.slideActiveClass),$y(g,g===h,n.slideNextClass),$y(g,g===f,n.slidePrevClass)}),t.emitSlidesClasses()}const cp=(t,e)=>{if(!t||t.destroyed||!t.params)return;const n=()=>t.isElement?"swiper-slide":`.${t.params.slideClass}`,r=e.closest(n());if(r){let i=r.querySelector(`.${t.params.lazyPreloaderClass}`);!i&&t.isElement&&(r.shadowRoot?i=r.shadowRoot.querySelector(`.${t.params.lazyPreloaderClass}`):requestAnimationFrame(()=>{r.shadowRoot&&(i=r.shadowRoot.querySelector(`.${t.params.lazyPreloaderClass}`),i&&i.remove())})),i&&i.remove()}},Vy=(t,e)=>{if(!t.slides[e])return;const n=t.slides[e].querySelector('[loading="lazy"]');n&&n.removeAttribute("loading")},sw=t=>{if(!t||t.destroyed||!t.params)return;let e=t.params.lazyPreloadPrevNext;const n=t.slides.length;if(!n||!e||e<0)return;e=Math.min(e,n);const r=t.params.slidesPerView==="auto"?t.slidesPerViewDynamic():Math.ceil(t.params.slidesPerView),i=t.activeIndex;if(t.params.grid&&t.params.grid.rows>1){const a=i,c=[a-e];c.push(...Array.from({length:e}).map((u,f)=>a+r+f)),t.slides.forEach((u,f)=>{c.includes(u.column)&&Vy(t,f)});return}const s=i+r-1;if(t.params.rewind||t.params.loop)for(let a=i-e;a<=s+e;a+=1){const c=(a%n+n)%n;(c<i||c>s)&&Vy(t,c)}else for(let a=Math.max(i-e,0);a<=Math.min(s+e,n-1);a+=1)a!==i&&(a>s||a<i)&&Vy(t,a)};function pQ(t){const{slidesGrid:e,params:n}=t,r=t.rtlTranslate?t.translate:-t.translate;let i;for(let s=0;s<e.length;s+=1)typeof e[s+1]<"u"?r>=e[s]&&r<e[s+1]-(e[s+1]-e[s])/2?i=s:r>=e[s]&&r<e[s+1]&&(i=s+1):r>=e[s]&&(i=s);return n.normalizeSlideIndex&&(i<0||typeof i>"u")&&(i=0),i}function mQ(t){const e=this,n=e.rtlTranslate?e.translate:-e.translate,{snapGrid:r,params:i,activeIndex:s,realIndex:a,snapIndex:c}=e;let u=t,f;const h=x=>{let _=x-e.virtual.slidesBefore;return _<0&&(_=e.virtual.slides.length+_),_>=e.virtual.slides.length&&(_-=e.virtual.slides.length),_};if(typeof u>"u"&&(u=pQ(e)),r.indexOf(n)>=0)f=r.indexOf(n);else{const x=Math.min(i.slidesPerGroupSkip,u);f=x+Math.floor((u-x)/i.slidesPerGroup)}if(f>=r.length&&(f=r.length-1),u===s&&!e.params.loop){f!==c&&(e.snapIndex=f,e.emit("snapIndexChange"));return}if(u===s&&e.params.loop&&e.virtual&&e.params.virtual.enabled){e.realIndex=h(u);return}const g=e.grid&&i.grid&&i.grid.rows>1;let v;if(e.virtual&&i.virtual.enabled&&i.loop)v=h(u);else if(g){const x=e.slides.find(T=>T.column===u);let _=parseInt(x.getAttribute("data-swiper-slide-index"),10);Number.isNaN(_)&&(_=Math.max(e.slides.indexOf(x),0)),v=Math.floor(_/i.grid.rows)}else if(e.slides[u]){const x=e.slides[u].getAttribute("data-swiper-slide-index");x?v=parseInt(x,10):v=u}else v=u;Object.assign(e,{previousSnapIndex:c,snapIndex:f,previousRealIndex:a,realIndex:v,previousIndex:s,activeIndex:u}),e.initialized&&sw(e),e.emit("activeIndexChange"),e.emit("snapIndexChange"),(e.initialized||e.params.runCallbacksOnInit)&&(a!==v&&e.emit("realIndexChange"),e.emit("slideChange"))}function gQ(t,e){const n=this,r=n.params;let i=t.closest(`.${r.slideClass}, swiper-slide`);!i&&n.isElement&&e&&e.length>1&&e.includes(t)&&[...e.slice(e.indexOf(t)+1,e.length)].forEach(c=>{!i&&c.matches&&c.matches(`.${r.slideClass}, swiper-slide`)&&(i=c)});let s=!1,a;if(i){for(let c=0;c<n.slides.length;c+=1)if(n.slides[c]===i){s=!0,a=c;break}}if(i&&s)n.clickedSlide=i,n.virtual&&n.params.virtual.enabled?n.clickedIndex=n.getSlideIndexWhenGrid(parseInt(i.getAttribute("data-swiper-slide-index"),10)):n.clickedIndex=n.getSlideIndexWhenGrid(a);else{n.clickedSlide=void 0,n.clickedIndex=void 0;return}r.slideToClickedSlide&&n.clickedIndex!==void 0&&n.clickedIndex!==n.activeIndex&&n.slideToClickedSlide()}var vQ={updateSize:aQ,updateSlides:lQ,updateAutoHeight:cQ,updateSlidesOffset:uQ,updateSlidesProgress:dQ,updateProgress:fQ,updateSlidesClasses:hQ,updateActiveIndex:mQ,updateClickedSlide:gQ};function yQ(t){t===void 0&&(t=this.isHorizontal()?"x":"y");const e=this,{params:n,rtlTranslate:r,translate:i,wrapperEl:s}=e;if(n.virtualTranslate)return r?-i:i;if(n.cssMode)return i;let a=YJ(s,t);return a+=e.cssOverflowAdjustment(),r&&(a=-a),a||0}function wQ(t,e){const n=this,{rtlTranslate:r,params:i,wrapperEl:s,progress:a}=n;let c=0,u=0;const f=0;n.isHorizontal()?c=r?-t:t:u=t,i.roundLengths&&(c=Math.floor(c),u=Math.floor(u)),n.previousTranslate=n.translate,n.translate=n.isHorizontal()?c:u,i.cssMode?s[n.isHorizontal()?"scrollLeft":"scrollTop"]=n.isHorizontal()?-c:-u:i.virtualTranslate||(n.isHorizontal()?c-=n.cssOverflowAdjustment():u-=n.cssOverflowAdjustment(),s.style.transform=`translate3d(${c}px, ${u}px, ${f}px)`);let h;const g=n.maxTranslate()-n.minTranslate();g===0?h=0:h=(t-n.minTranslate())/g,h!==a&&n.updateProgress(t),n.emit("setTranslate",n.translate,e)}function _Q(){return-this.snapGrid[0]}function xQ(){return-this.snapGrid[this.snapGrid.length-1]}function bQ(t,e,n,r,i){t===void 0&&(t=0),e===void 0&&(e=this.params.speed),n===void 0&&(n=!0),r===void 0&&(r=!0);const s=this,{params:a,wrapperEl:c}=s;if(s.animating&&a.preventInteractionOnTransition)return!1;const u=s.minTranslate(),f=s.maxTranslate();let h;if(r&&t>u?h=u:r&&t<f?h=f:h=t,s.updateProgress(h),a.cssMode){const g=s.isHorizontal();if(e===0)c[g?"scrollLeft":"scrollTop"]=-h;else{if(!s.support.smoothScroll)return BN({swiper:s,targetPosition:-h,side:g?"left":"top"}),!0;c.scrollTo({[g?"left":"top"]:-h,behavior:"smooth"})}return!0}return e===0?(s.setTransition(0),s.setTranslate(h),n&&(s.emit("beforeTransitionStart",e,i),s.emit("transitionEnd"))):(s.setTransition(e),s.setTranslate(h),n&&(s.emit("beforeTransitionStart",e,i),s.emit("transitionStart")),s.animating||(s.animating=!0,s.onTranslateToWrapperTransitionEnd||(s.onTranslateToWrapperTransitionEnd=function(v){!s||s.destroyed||v.target===this&&(s.wrapperEl.removeEventListener("transitionend",s.onTranslateToWrapperTransitionEnd),s.onTranslateToWrapperTransitionEnd=null,delete s.onTranslateToWrapperTransitionEnd,s.animating=!1,n&&s.emit("transitionEnd"))}),s.wrapperEl.addEventListener("transitionend",s.onTranslateToWrapperTransitionEnd))),!0}var EQ={getTranslate:yQ,setTranslate:wQ,minTranslate:_Q,maxTranslate:xQ,translateTo:bQ};function SQ(t,e){const n=this;n.params.cssMode||(n.wrapperEl.style.transitionDuration=`${t}ms`,n.wrapperEl.style.transitionDelay=t===0?"0ms":""),n.emit("setTransition",t,e)}function GN(t){let{swiper:e,runCallbacks:n,direction:r,step:i}=t;const{activeIndex:s,previousIndex:a}=e;let c=r;c||(s>a?c="next":s<a?c="prev":c="reset"),e.emit(`transition${i}`),n&&c==="reset"?e.emit(`slideResetTransition${i}`):n&&s!==a&&(e.emit(`slideChangeTransition${i}`),c==="next"?e.emit(`slideNextTransition${i}`):e.emit(`slidePrevTransition${i}`))}function CQ(t,e){t===void 0&&(t=!0);const n=this,{params:r}=n;r.cssMode||(r.autoHeight&&n.updateAutoHeight(),GN({swiper:n,runCallbacks:t,direction:e,step:"Start"}))}function TQ(t,e){t===void 0&&(t=!0);const n=this,{params:r}=n;n.animating=!1,!r.cssMode&&(n.setTransition(0),GN({swiper:n,runCallbacks:t,direction:e,step:"End"}))}var kQ={setTransition:SQ,transitionStart:CQ,transitionEnd:TQ};function PQ(t,e,n,r,i){t===void 0&&(t=0),n===void 0&&(n=!0),typeof t=="string"&&(t=parseInt(t,10));const s=this;let a=t;a<0&&(a=0);const{params:c,snapGrid:u,slidesGrid:f,previousIndex:h,activeIndex:g,rtlTranslate:v,wrapperEl:x,enabled:_}=s;if(!_&&!r&&!i||s.destroyed||s.animating&&c.preventInteractionOnTransition)return!1;typeof e>"u"&&(e=s.params.speed);const T=Math.min(s.params.slidesPerGroupSkip,a);let N=T+Math.floor((a-T)/s.params.slidesPerGroup);N>=u.length&&(N=u.length-1);const A=-u[N];if(c.normalizeSlideIndex)for(let D=0;D<f.length;D+=1){const I=-Math.floor(A*100),O=Math.floor(f[D]*100),b=Math.floor(f[D+1]*100);typeof f[D+1]<"u"?I>=O&&I<b-(b-O)/2?a=D:I>=O&&I<b&&(a=D+1):I>=O&&(a=D)}if(s.initialized&&a!==g&&(!s.allowSlideNext&&(v?A>s.translate&&A>s.minTranslate():A<s.translate&&A<s.minTranslate())||!s.allowSlidePrev&&A>s.translate&&A>s.maxTranslate()&&(g||0)!==a))return!1;a!==(h||0)&&n&&s.emit("beforeSlideChangeStart"),s.updateProgress(A);let k;a>g?k="next":a<g?k="prev":k="reset";const P=s.virtual&&s.params.virtual.enabled;if(!(P&&i)&&(v&&-A===s.translate||!v&&A===s.translate))return s.updateActiveIndex(a),c.autoHeight&&s.updateAutoHeight(),s.updateSlidesClasses(),c.effect!=="slide"&&s.setTranslate(A),k!=="reset"&&(s.transitionStart(n,k),s.transitionEnd(n,k)),!1;if(c.cssMode){const D=s.isHorizontal(),I=v?A:-A;if(e===0)P&&(s.wrapperEl.style.scrollSnapType="none",s._immediateVirtual=!0),P&&!s._cssModeVirtualInitialSet&&s.params.initialSlide>0?(s._cssModeVirtualInitialSet=!0,requestAnimationFrame(()=>{x[D?"scrollLeft":"scrollTop"]=I})):x[D?"scrollLeft":"scrollTop"]=I,P&&requestAnimationFrame(()=>{s.wrapperEl.style.scrollSnapType="",s._immediateVirtual=!1});else{if(!s.support.smoothScroll)return BN({swiper:s,targetPosition:I,side:D?"left":"top"}),!0;x.scrollTo({[D?"left":"top"]:I,behavior:"smooth"})}return!0}const z=qN().isSafari;return P&&!i&&z&&s.isElement&&s.virtual.update(!1,!1,a),s.setTransition(e),s.setTranslate(A),s.updateActiveIndex(a),s.updateSlidesClasses(),s.emit("beforeTransitionStart",e,r),s.transitionStart(n,k),e===0?s.transitionEnd(n,k):s.animating||(s.animating=!0,s.onSlideToWrapperTransitionEnd||(s.onSlideToWrapperTransitionEnd=function(I){!s||s.destroyed||I.target===this&&(s.wrapperEl.removeEventListener("transitionend",s.onSlideToWrapperTransitionEnd),s.onSlideToWrapperTransitionEnd=null,delete s.onSlideToWrapperTransitionEnd,s.transitionEnd(n,k))}),s.wrapperEl.addEventListener("transitionend",s.onSlideToWrapperTransitionEnd)),!0}function IQ(t,e,n,r){t===void 0&&(t=0),n===void 0&&(n=!0),typeof t=="string"&&(t=parseInt(t,10));const i=this;if(i.destroyed)return;typeof e>"u"&&(e=i.params.speed);const s=i.grid&&i.params.grid&&i.params.grid.rows>1;let a=t;if(i.params.loop)if(i.virtual&&i.params.virtual.enabled)a=a+i.virtual.slidesBefore;else{let c;if(s){const v=a*i.params.grid.rows;c=i.slides.find(x=>x.getAttribute("data-swiper-slide-index")*1===v).column}else c=i.getSlideIndexByData(a);const u=s?Math.ceil(i.slides.length/i.params.grid.rows):i.slides.length,{centeredSlides:f}=i.params;let h=i.params.slidesPerView;h==="auto"?h=i.slidesPerViewDynamic():(h=Math.ceil(parseFloat(i.params.slidesPerView,10)),f&&h%2===0&&(h=h+1));let g=u-c<h;if(f&&(g=g||c<Math.ceil(h/2)),r&&f&&i.params.slidesPerView!=="auto"&&!s&&(g=!1),g){const v=f?c<i.activeIndex?"prev":"next":c-i.activeIndex-1<i.params.slidesPerView?"next":"prev";i.loopFix({direction:v,slideTo:!0,activeSlideIndex:v==="next"?c+1:c-u+1,slideRealIndex:v==="next"?i.realIndex:void 0})}if(s){const v=a*i.params.grid.rows;a=i.slides.find(x=>x.getAttribute("data-swiper-slide-index")*1===v).column}else a=i.getSlideIndexByData(a)}return requestAnimationFrame(()=>{i.slideTo(a,e,n,r)}),i}function RQ(t,e,n){e===void 0&&(e=!0);const r=this,{enabled:i,params:s,animating:a}=r;if(!i||r.destroyed)return r;typeof t>"u"&&(t=r.params.speed);let c=s.slidesPerGroup;s.slidesPerView==="auto"&&s.slidesPerGroup===1&&s.slidesPerGroupAuto&&(c=Math.max(r.slidesPerViewDynamic("current",!0),1));const u=r.activeIndex<s.slidesPerGroupSkip?1:c,f=r.virtual&&s.virtual.enabled;if(s.loop){if(a&&!f&&s.loopPreventsSliding)return!1;if(r.loopFix({direction:"next"}),r._clientLeft=r.wrapperEl.clientLeft,r.activeIndex===r.slides.length-1&&s.cssMode)return requestAnimationFrame(()=>{r.slideTo(r.activeIndex+u,t,e,n)}),!0}return s.rewind&&r.isEnd?r.slideTo(0,t,e,n):r.slideTo(r.activeIndex+u,t,e,n)}function AQ(t,e,n){e===void 0&&(e=!0);const r=this,{params:i,snapGrid:s,slidesGrid:a,rtlTranslate:c,enabled:u,animating:f}=r;if(!u||r.destroyed)return r;typeof t>"u"&&(t=r.params.speed);const h=r.virtual&&i.virtual.enabled;if(i.loop){if(f&&!h&&i.loopPreventsSliding)return!1;r.loopFix({direction:"prev"}),r._clientLeft=r.wrapperEl.clientLeft}const g=c?r.translate:-r.translate;function v(k){return k<0?-Math.floor(Math.abs(k)):Math.floor(k)}const x=v(g),_=s.map(k=>v(k)),T=i.freeMode&&i.freeMode.enabled;let N=s[_.indexOf(x)-1];if(typeof N>"u"&&(i.cssMode||T)){let k;s.forEach((P,j)=>{x>=P&&(k=j)}),typeof k<"u"&&(N=T?s[k]:s[k>0?k-1:k])}let A=0;if(typeof N<"u"&&(A=a.indexOf(N),A<0&&(A=r.activeIndex-1),i.slidesPerView==="auto"&&i.slidesPerGroup===1&&i.slidesPerGroupAuto&&(A=A-r.slidesPerViewDynamic("previous",!0)+1,A=Math.max(A,0))),i.rewind&&r.isBeginning){const k=r.params.virtual&&r.params.virtual.enabled&&r.virtual?r.virtual.slides.length-1:r.slides.length-1;return r.slideTo(k,t,e,n)}else if(i.loop&&r.activeIndex===0&&i.cssMode)return requestAnimationFrame(()=>{r.slideTo(A,t,e,n)}),!0;return r.slideTo(A,t,e,n)}function NQ(t,e,n){e===void 0&&(e=!0);const r=this;if(!r.destroyed)return typeof t>"u"&&(t=r.params.speed),r.slideTo(r.activeIndex,t,e,n)}function OQ(t,e,n,r){e===void 0&&(e=!0),r===void 0&&(r=.5);const i=this;if(i.destroyed)return;typeof t>"u"&&(t=i.params.speed);let s=i.activeIndex;const a=Math.min(i.params.slidesPerGroupSkip,s),c=a+Math.floor((s-a)/i.params.slidesPerGroup),u=i.rtlTranslate?i.translate:-i.translate;if(u>=i.snapGrid[c]){const f=i.snapGrid[c],h=i.snapGrid[c+1];u-f>(h-f)*r&&(s+=i.params.slidesPerGroup)}else{const f=i.snapGrid[c-1],h=i.snapGrid[c];u-f<=(h-f)*r&&(s-=i.params.slidesPerGroup)}return s=Math.max(s,0),s=Math.min(s,i.slidesGrid.length-1),i.slideTo(s,t,e,n)}function MQ(){const t=this;if(t.destroyed)return;const{params:e,slidesEl:n}=t,r=e.slidesPerView==="auto"?t.slidesPerViewDynamic():e.slidesPerView;let i=t.clickedIndex,s;const a=t.isElement?"swiper-slide":`.${e.slideClass}`,c=t.grid&&t.params.grid&&t.params.grid.rows>1;if(e.loop){if(t.animating)return;s=parseInt(t.clickedSlide.getAttribute("data-swiper-slide-index"),10),e.centeredSlides?t.slideToLoop(s):(i>c?(t.slides.length-r)/2-(t.params.grid.rows-1):t.slides.length-r)?(t.loopFix(),i=t.getSlideIndex(bi(n,`${a}[data-swiper-slide-index="${s}"]`)[0]),UN(()=>{t.slideTo(i)})):t.slideTo(i)}else t.slideTo(i)}var DQ={slideTo:PQ,slideToLoop:IQ,slideNext:RQ,slidePrev:AQ,slideReset:NQ,slideToClosest:OQ,slideToClickedSlide:MQ};function LQ(t,e){const n=this,{params:r,slidesEl:i}=n;if(!r.loop||n.virtual&&n.params.virtual.enabled)return;const s=()=>{bi(i,`.${r.slideClass}, swiper-slide`).forEach((x,_)=>{x.setAttribute("data-swiper-slide-index",_)})},a=()=>{const v=bi(i,`.${r.slideBlankClass}`);v.forEach(x=>{x.remove()}),v.length>0&&(n.recalcSlides(),n.updateSlides())},c=n.grid&&r.grid&&r.grid.rows>1;r.loopAddBlankSlides&&(r.slidesPerGroup>1||c)&&a();const u=r.slidesPerGroup*(c?r.grid.rows:1),f=n.slides.length%u!==0,h=c&&n.slides.length%r.grid.rows!==0,g=v=>{for(let x=0;x<v;x+=1){const _=n.isElement?Zp("swiper-slide",[r.slideBlankClass]):Zp("div",[r.slideClass,r.slideBlankClass]);n.slidesEl.append(_)}};if(f){if(r.loopAddBlankSlides){const v=u-n.slides.length%u;g(v),n.recalcSlides(),n.updateSlides()}else Qp("Swiper Loop Warning: The number of slides is not even to slidesPerGroup, loop mode may not function properly. You need to add more slides (or make duplicates, or empty slides)");s()}else if(h){if(r.loopAddBlankSlides){const v=r.grid.rows-n.slides.length%r.grid.rows;g(v),n.recalcSlides(),n.updateSlides()}else Qp("Swiper Loop Warning: The number of slides is not even to grid.rows, loop mode may not function properly. You need to add more slides (or make duplicates, or empty slides)");s()}else s();n.loopFix({slideRealIndex:t,direction:r.centeredSlides?void 0:"next",initial:e})}function jQ(t){let{slideRealIndex:e,slideTo:n=!0,direction:r,setTranslate:i,activeSlideIndex:s,initial:a,byController:c,byMousewheel:u}=t===void 0?{}:t;const f=this;if(!f.params.loop)return;f.emit("beforeLoopFix");const{slides:h,allowSlidePrev:g,allowSlideNext:v,slidesEl:x,params:_}=f,{centeredSlides:T,initialSlide:N}=_;if(f.allowSlidePrev=!0,f.allowSlideNext=!0,f.virtual&&_.virtual.enabled){n&&(!_.centeredSlides&&f.snapIndex===0?f.slideTo(f.virtual.slides.length,0,!1,!0):_.centeredSlides&&f.snapIndex<_.slidesPerView?f.slideTo(f.virtual.slides.length+f.snapIndex,0,!1,!0):f.snapIndex===f.snapGrid.length-1&&f.slideTo(f.virtual.slidesBefore,0,!1,!0)),f.allowSlidePrev=g,f.allowSlideNext=v,f.emit("loopFix");return}let A=_.slidesPerView;A==="auto"?A=f.slidesPerViewDynamic():(A=Math.ceil(parseFloat(_.slidesPerView,10)),T&&A%2===0&&(A=A+1));const k=_.slidesPerGroupAuto?A:_.slidesPerGroup;let P=T?Math.max(k,Math.ceil(A/2)):k;P%k!==0&&(P+=k-P%k),P+=_.loopAdditionalSlides,f.loopedSlides=P;const j=f.grid&&_.grid&&_.grid.rows>1;h.length<A+P||f.params.effect==="cards"&&h.length<A+P*2?Qp("Swiper Loop Warning: The number of slides is not enough for loop mode, it will be disabled or not function properly. You need to add more slides (or make duplicates) or lower the values of slidesPerView and slidesPerGroup parameters"):j&&_.grid.fill==="row"&&Qp("Swiper Loop Warning: Loop mode is not compatible with grid.fill = `row`");const $=[],z=[],D=j?Math.ceil(h.length/_.grid.rows):h.length,I=a&&D-N<A&&!T;let O=I?N:f.activeIndex;typeof s>"u"?s=f.getSlideIndex(h.find(re=>re.classList.contains(_.slideActiveClass))):O=s;const b=r==="next"||!r,M=r==="prev"||!r;let V=0,F=0;const se=(j?h[s].column:s)+(T&&typeof i>"u"?-A/2+.5:0);if(se<P){V=Math.max(P-se,k);for(let re=0;re<P-se;re+=1){const ue=re-Math.floor(re/D)*D;if(j){const ne=D-ue-1;for(let oe=h.length-1;oe>=0;oe-=1)h[oe].column===ne&&$.push(oe)}else $.push(D-ue-1)}}else if(se+A>D-P){F=Math.max(se-(D-P*2),k),I&&(F=Math.max(F,A-D+N+1));for(let re=0;re<F;re+=1){const ue=re-Math.floor(re/D)*D;j?h.forEach((ne,oe)=>{ne.column===ue&&z.push(oe)}):z.push(ue)}}if(f.__preventObserver__=!0,requestAnimationFrame(()=>{f.__preventObserver__=!1}),f.params.effect==="cards"&&h.length<A+P*2&&(z.includes(s)&&z.splice(z.indexOf(s),1),$.includes(s)&&$.splice($.indexOf(s),1)),M&&$.forEach(re=>{h[re].swiperLoopMoveDOM=!0,x.prepend(h[re]),h[re].swiperLoopMoveDOM=!1}),b&&z.forEach(re=>{h[re].swiperLoopMoveDOM=!0,x.append(h[re]),h[re].swiperLoopMoveDOM=!1}),f.recalcSlides(),_.slidesPerView==="auto"?f.updateSlides():j&&($.length>0&&M||z.length>0&&b)&&f.slides.forEach((re,ue)=>{f.grid.updateSlide(ue,re,f.slides)}),_.watchSlidesProgress&&f.updateSlidesOffset(),n){if($.length>0&&M){if(typeof e>"u"){const re=f.slidesGrid[O],ne=f.slidesGrid[O+V]-re;u?f.setTranslate(f.translate-ne):(f.slideTo(O+Math.ceil(V),0,!1,!0),i&&(f.touchEventsData.startTranslate=f.touchEventsData.startTranslate-ne,f.touchEventsData.currentTranslate=f.touchEventsData.currentTranslate-ne))}else if(i){const re=j?$.length/_.grid.rows:$.length;f.slideTo(f.activeIndex+re,0,!1,!0),f.touchEventsData.currentTranslate=f.translate}}else if(z.length>0&&b)if(typeof e>"u"){const re=f.slidesGrid[O],ne=f.slidesGrid[O-F]-re;u?f.setTranslate(f.translate-ne):(f.slideTo(O-F,0,!1,!0),i&&(f.touchEventsData.startTranslate=f.touchEventsData.startTranslate-ne,f.touchEventsData.currentTranslate=f.touchEventsData.currentTranslate-ne))}else{const re=j?z.length/_.grid.rows:z.length;f.slideTo(f.activeIndex-re,0,!1,!0)}}if(f.allowSlidePrev=g,f.allowSlideNext=v,f.controller&&f.controller.control&&!c){const re={slideRealIndex:e,direction:r,setTranslate:i,activeSlideIndex:s,byController:!0};Array.isArray(f.controller.control)?f.controller.control.forEach(ue=>{!ue.destroyed&&ue.params.loop&&ue.loopFix({...re,slideTo:ue.params.slidesPerView===_.slidesPerView?n:!1})}):f.controller.control instanceof f.constructor&&f.controller.control.params.loop&&f.controller.control.loopFix({...re,slideTo:f.controller.control.params.slidesPerView===_.slidesPerView?n:!1})}f.emit("loopFix")}function FQ(){const t=this,{params:e,slidesEl:n}=t;if(!e.loop||!n||t.virtual&&t.params.virtual.enabled)return;t.recalcSlides();const r=[];t.slides.forEach(i=>{const s=typeof i.swiperSlideIndex>"u"?i.getAttribute("data-swiper-slide-index")*1:i.swiperSlideIndex;r[s]=i}),t.slides.forEach(i=>{i.removeAttribute("data-swiper-slide-index")}),r.forEach(i=>{n.append(i)}),t.recalcSlides(),t.slideTo(t.realIndex,0)}var $Q={loopCreate:LQ,loopFix:jQ,loopDestroy:FQ};function VQ(t){const e=this;if(!e.params.simulateTouch||e.params.watchOverflow&&e.isLocked||e.params.cssMode)return;const n=e.params.touchEventsTarget==="container"?e.el:e.wrapperEl;e.isElement&&(e.__preventObserver__=!0),n.style.cursor="move",n.style.cursor=t?"grabbing":"grab",e.isElement&&requestAnimationFrame(()=>{e.__preventObserver__=!1})}function UQ(){const t=this;t.params.watchOverflow&&t.isLocked||t.params.cssMode||(t.isElement&&(t.__preventObserver__=!0),t[t.params.touchEventsTarget==="container"?"el":"wrapperEl"].style.cursor="",t.isElement&&requestAnimationFrame(()=>{t.__preventObserver__=!1}))}var BQ={setGrabCursor:VQ,unsetGrabCursor:UQ};function zQ(t,e){e===void 0&&(e=this);function n(r){if(!r||r===La()||r===An())return null;r.assignedSlot&&(r=r.assignedSlot);const i=r.closest(t);return!i&&!r.getRootNode?null:i||n(r.getRootNode().host)}return n(e)}function f2(t,e,n){const r=An(),{params:i}=t,s=i.edgeSwipeDetection,a=i.edgeSwipeThreshold;return s&&(n<=a||n>=r.innerWidth-a)?s==="prevent"?(e.preventDefault(),!0):!1:!0}function HQ(t){const e=this,n=La();let r=t;r.originalEvent&&(r=r.originalEvent);const i=e.touchEventsData;if(r.type==="pointerdown"){if(i.pointerId!==null&&i.pointerId!==r.pointerId)return;i.pointerId=r.pointerId}else r.type==="touchstart"&&r.targetTouches.length===1&&(i.touchId=r.targetTouches[0].identifier);if(r.type==="touchstart"){f2(e,r,r.targetTouches[0].pageX);return}const{params:s,touches:a,enabled:c}=e;if(!c||!s.simulateTouch&&r.pointerType==="mouse"||e.animating&&s.preventInteractionOnTransition)return;!e.animating&&s.cssMode&&s.loop&&e.loopFix();let u=r.target;if(s.touchEventsTarget==="wrapper"&&!QJ(u,e.wrapperEl)||"which"in r&&r.which===3||"button"in r&&r.button>0||i.isTouched&&i.isMoved)return;const f=!!s.noSwipingClass&&s.noSwipingClass!=="",h=r.composedPath?r.composedPath():r.path;f&&r.target&&r.target.shadowRoot&&h&&(u=h[0]);const g=s.noSwipingSelector?s.noSwipingSelector:`.${s.noSwipingClass}`,v=!!(r.target&&r.target.shadowRoot);if(s.noSwiping&&(v?zQ(g,u):u.closest(g))){e.allowClick=!0;return}if(s.swipeHandler&&!u.closest(s.swipeHandler))return;a.currentX=r.pageX,a.currentY=r.pageY;const x=a.currentX,_=a.currentY;if(!f2(e,r,x))return;Object.assign(i,{isTouched:!0,isMoved:!1,allowTouchCallbacks:!0,isScrolling:void 0,startMoving:void 0}),a.startX=x,a.startY=_,i.touchStartTime=Jp(),e.allowClick=!0,e.updateSize(),e.swipeDirection=void 0,s.threshold>0&&(i.allowThresholdMove=!1);let T=!0;u.matches(i.focusableElements)&&(T=!1,u.nodeName==="SELECT"&&(i.isTouched=!1)),n.activeElement&&n.activeElement.matches(i.focusableElements)&&n.activeElement!==u&&(r.pointerType==="mouse"||r.pointerType!=="mouse"&&!u.matches(i.focusableElements))&&n.activeElement.blur();const N=T&&e.allowTouchMove&&s.touchStartPreventDefault;(s.touchStartForcePreventDefault||N)&&!u.isContentEditable&&r.preventDefault(),s.freeMode&&s.freeMode.enabled&&e.freeMode&&e.animating&&!s.cssMode&&e.freeMode.onTouchStart(),e.emit("touchStart",r)}function WQ(t){const e=La(),n=this,r=n.touchEventsData,{params:i,touches:s,rtlTranslate:a,enabled:c}=n;if(!c||!i.simulateTouch&&t.pointerType==="mouse")return;let u=t;if(u.originalEvent&&(u=u.originalEvent),u.type==="pointermove"&&(r.touchId!==null||u.pointerId!==r.pointerId))return;let f;if(u.type==="touchmove"){if(f=[...u.changedTouches].find($=>$.identifier===r.touchId),!f||f.identifier!==r.touchId)return}else f=u;if(!r.isTouched){r.startMoving&&r.isScrolling&&n.emit("touchMoveOpposite",u);return}const h=f.pageX,g=f.pageY;if(u.preventedByNestedSwiper){s.startX=h,s.startY=g;return}if(!n.allowTouchMove){u.target.matches(r.focusableElements)||(n.allowClick=!1),r.isTouched&&(Object.assign(s,{startX:h,startY:g,currentX:h,currentY:g}),r.touchStartTime=Jp());return}if(i.touchReleaseOnEdges&&!i.loop)if(n.isVertical()){if(g<s.startY&&n.translate<=n.maxTranslate()||g>s.startY&&n.translate>=n.minTranslate()){r.isTouched=!1,r.isMoved=!1;return}}else{if(a&&(h>s.startX&&-n.translate<=n.maxTranslate()||h<s.startX&&-n.translate>=n.minTranslate()))return;if(!a&&(h<s.startX&&n.translate<=n.maxTranslate()||h>s.startX&&n.translate>=n.minTranslate()))return}if(e.activeElement&&e.activeElement.matches(r.focusableElements)&&e.activeElement!==u.target&&u.pointerType!=="mouse"&&e.activeElement.blur(),e.activeElement&&u.target===e.activeElement&&u.target.matches(r.focusableElements)){r.isMoved=!0,n.allowClick=!1;return}r.allowTouchCallbacks&&n.emit("touchMove",u),s.previousX=s.currentX,s.previousY=s.currentY,s.currentX=h,s.currentY=g;const v=s.currentX-s.startX,x=s.currentY-s.startY;if(n.params.threshold&&Math.sqrt(v**2+x**2)<n.params.threshold)return;if(typeof r.isScrolling>"u"){let $;n.isHorizontal()&&s.currentY===s.startY||n.isVertical()&&s.currentX===s.startX?r.isScrolling=!1:v*v+x*x>=25&&($=Math.atan2(Math.abs(x),Math.abs(v))*180/Math.PI,r.isScrolling=n.isHorizontal()?$>i.touchAngle:90-$>i.touchAngle)}if(r.isScrolling&&n.emit("touchMoveOpposite",u),typeof r.startMoving>"u"&&(s.currentX!==s.startX||s.currentY!==s.startY)&&(r.startMoving=!0),r.isScrolling||u.type==="touchmove"&&r.preventTouchMoveFromPointerMove){r.isTouched=!1;return}if(!r.startMoving)return;n.allowClick=!1,!i.cssMode&&u.cancelable&&u.preventDefault(),i.touchMoveStopPropagation&&!i.nested&&u.stopPropagation();let _=n.isHorizontal()?v:x,T=n.isHorizontal()?s.currentX-s.previousX:s.currentY-s.previousY;i.oneWayMovement&&(_=Math.abs(_)*(a?1:-1),T=Math.abs(T)*(a?1:-1)),s.diff=_,_*=i.touchRatio,a&&(_=-_,T=-T);const N=n.touchesDirection;n.swipeDirection=_>0?"prev":"next",n.touchesDirection=T>0?"prev":"next";const A=n.params.loop&&!i.cssMode,k=n.touchesDirection==="next"&&n.allowSlideNext||n.touchesDirection==="prev"&&n.allowSlidePrev;if(!r.isMoved){if(A&&k&&n.loopFix({direction:n.swipeDirection}),r.startTranslate=n.getTranslate(),n.setTransition(0),n.animating){const $=new window.CustomEvent("transitionend",{bubbles:!0,cancelable:!0,detail:{bySwiperTouchMove:!0}});n.wrapperEl.dispatchEvent($)}r.allowMomentumBounce=!1,i.grabCursor&&(n.allowSlideNext===!0||n.allowSlidePrev===!0)&&n.setGrabCursor(!0),n.emit("sliderFirstMove",u)}if(new Date().getTime(),i._loopSwapReset!==!1&&r.isMoved&&r.allowThresholdMove&&N!==n.touchesDirection&&A&&k&&Math.abs(_)>=1){Object.assign(s,{startX:h,startY:g,currentX:h,currentY:g,startTranslate:r.currentTranslate}),r.loopSwapReset=!0,r.startTranslate=r.currentTranslate;return}n.emit("sliderMove",u),r.isMoved=!0,r.currentTranslate=_+r.startTranslate;let P=!0,j=i.resistanceRatio;if(i.touchReleaseOnEdges&&(j=0),_>0?(A&&k&&r.allowThresholdMove&&r.currentTranslate>(i.centeredSlides?n.minTranslate()-n.slidesSizesGrid[n.activeIndex+1]-(i.slidesPerView!=="auto"&&n.slides.length-i.slidesPerView>=2?n.slidesSizesGrid[n.activeIndex+1]+n.params.spaceBetween:0)-n.params.spaceBetween:n.minTranslate())&&n.loopFix({direction:"prev",setTranslate:!0,activeSlideIndex:0}),r.currentTranslate>n.minTranslate()&&(P=!1,i.resistance&&(r.currentTranslate=n.minTranslate()-1+(-n.minTranslate()+r.startTranslate+_)**j))):_<0&&(A&&k&&r.allowThresholdMove&&r.currentTranslate<(i.centeredSlides?n.maxTranslate()+n.slidesSizesGrid[n.slidesSizesGrid.length-1]+n.params.spaceBetween+(i.slidesPerView!=="auto"&&n.slides.length-i.slidesPerView>=2?n.slidesSizesGrid[n.slidesSizesGrid.length-1]+n.params.spaceBetween:0):n.maxTranslate())&&n.loopFix({direction:"next",setTranslate:!0,activeSlideIndex:n.slides.length-(i.slidesPerView==="auto"?n.slidesPerViewDynamic():Math.ceil(parseFloat(i.slidesPerView,10)))}),r.currentTranslate<n.maxTranslate()&&(P=!1,i.resistance&&(r.currentTranslate=n.maxTranslate()+1-(n.maxTranslate()-r.startTranslate-_)**j))),P&&(u.preventedByNestedSwiper=!0),!n.allowSlideNext&&n.swipeDirection==="next"&&r.currentTranslate<r.startTranslate&&(r.currentTranslate=r.startTranslate),!n.allowSlidePrev&&n.swipeDirection==="prev"&&r.currentTranslate>r.startTranslate&&(r.currentTranslate=r.startTranslate),!n.allowSlidePrev&&!n.allowSlideNext&&(r.currentTranslate=r.startTranslate),i.threshold>0)if(Math.abs(_)>i.threshold||r.allowThresholdMove){if(!r.allowThresholdMove){r.allowThresholdMove=!0,s.startX=s.currentX,s.startY=s.currentY,r.currentTranslate=r.startTranslate,s.diff=n.isHorizontal()?s.currentX-s.startX:s.currentY-s.startY;return}}else{r.currentTranslate=r.startTranslate;return}!i.followFinger||i.cssMode||((i.freeMode&&i.freeMode.enabled&&n.freeMode||i.watchSlidesProgress)&&(n.updateActiveIndex(),n.updateSlidesClasses()),i.freeMode&&i.freeMode.enabled&&n.freeMode&&n.freeMode.onTouchMove(),n.updateProgress(r.currentTranslate),n.setTranslate(r.currentTranslate))}function qQ(t){const e=this,n=e.touchEventsData;let r=t;r.originalEvent&&(r=r.originalEvent);let i;if(r.type==="touchend"||r.type==="touchcancel"){if(i=[...r.changedTouches].find($=>$.identifier===n.touchId),!i||i.identifier!==n.touchId)return}else{if(n.touchId!==null||r.pointerId!==n.pointerId)return;i=r}if(["pointercancel","pointerout","pointerleave","contextmenu"].includes(r.type)&&!(["pointercancel","contextmenu"].includes(r.type)&&(e.browser.isSafari||e.browser.isWebView)))return;n.pointerId=null,n.touchId=null;const{params:a,touches:c,rtlTranslate:u,slidesGrid:f,enabled:h}=e;if(!h||!a.simulateTouch&&r.pointerType==="mouse")return;if(n.allowTouchCallbacks&&e.emit("touchEnd",r),n.allowTouchCallbacks=!1,!n.isTouched){n.isMoved&&a.grabCursor&&e.setGrabCursor(!1),n.isMoved=!1,n.startMoving=!1;return}a.grabCursor&&n.isMoved&&n.isTouched&&(e.allowSlideNext===!0||e.allowSlidePrev===!0)&&e.setGrabCursor(!1);const g=Jp(),v=g-n.touchStartTime;if(e.allowClick){const $=r.path||r.composedPath&&r.composedPath();e.updateClickedSlide($&&$[0]||r.target,$),e.emit("tap click",r),v<300&&g-n.lastClickTime<300&&e.emit("doubleTap doubleClick",r)}if(n.lastClickTime=Jp(),UN(()=>{e.destroyed||(e.allowClick=!0)}),!n.isTouched||!n.isMoved||!e.swipeDirection||c.diff===0&&!n.loopSwapReset||n.currentTranslate===n.startTranslate&&!n.loopSwapReset){n.isTouched=!1,n.isMoved=!1,n.startMoving=!1;return}n.isTouched=!1,n.isMoved=!1,n.startMoving=!1;let x;if(a.followFinger?x=u?e.translate:-e.translate:x=-n.currentTranslate,a.cssMode)return;if(a.freeMode&&a.freeMode.enabled){e.freeMode.onTouchEnd({currentPos:x});return}const _=x>=-e.maxTranslate()&&!e.params.loop;let T=0,N=e.slidesSizesGrid[0];for(let $=0;$<f.length;$+=$<a.slidesPerGroupSkip?1:a.slidesPerGroup){const z=$<a.slidesPerGroupSkip-1?1:a.slidesPerGroup;typeof f[$+z]<"u"?(_||x>=f[$]&&x<f[$+z])&&(T=$,N=f[$+z]-f[$]):(_||x>=f[$])&&(T=$,N=f[f.length-1]-f[f.length-2])}let A=null,k=null;a.rewind&&(e.isBeginning?k=a.virtual&&a.virtual.enabled&&e.virtual?e.virtual.slides.length-1:e.slides.length-1:e.isEnd&&(A=0));const P=(x-f[T])/N,j=T<a.slidesPerGroupSkip-1?1:a.slidesPerGroup;if(v>a.longSwipesMs){if(!a.longSwipes){e.slideTo(e.activeIndex);return}e.swipeDirection==="next"&&(P>=a.longSwipesRatio?e.slideTo(a.rewind&&e.isEnd?A:T+j):e.slideTo(T)),e.swipeDirection==="prev"&&(P>1-a.longSwipesRatio?e.slideTo(T+j):k!==null&&P<0&&Math.abs(P)>a.longSwipesRatio?e.slideTo(k):e.slideTo(T))}else{if(!a.shortSwipes){e.slideTo(e.activeIndex);return}e.navigation&&(r.target===e.navigation.nextEl||r.target===e.navigation.prevEl)?r.target===e.navigation.nextEl?e.slideTo(T+j):e.slideTo(T):(e.swipeDirection==="next"&&e.slideTo(A!==null?A:T+j),e.swipeDirection==="prev"&&e.slideTo(k!==null?k:T))}}function h2(){const t=this,{params:e,el:n}=t;if(n&&n.offsetWidth===0)return;e.breakpoints&&t.setBreakpoint();const{allowSlideNext:r,allowSlidePrev:i,snapGrid:s}=t,a=t.virtual&&t.params.virtual.enabled;t.allowSlideNext=!0,t.allowSlidePrev=!0,t.updateSize(),t.updateSlides(),t.updateSlidesClasses();const c=a&&e.loop;(e.slidesPerView==="auto"||e.slidesPerView>1)&&t.isEnd&&!t.isBeginning&&!t.params.centeredSlides&&!c?t.slideTo(t.slides.length-1,0,!1,!0):t.params.loop&&!a?t.slideToLoop(t.realIndex,0,!1,!0):t.slideTo(t.activeIndex,0,!1,!0),t.autoplay&&t.autoplay.running&&t.autoplay.paused&&(clearTimeout(t.autoplay.resizeTimeout),t.autoplay.resizeTimeout=setTimeout(()=>{t.autoplay&&t.autoplay.running&&t.autoplay.paused&&t.autoplay.resume()},500)),t.allowSlidePrev=i,t.allowSlideNext=r,t.params.watchOverflow&&s!==t.snapGrid&&t.checkOverflow()}function GQ(t){const e=this;e.enabled&&(e.allowClick||(e.params.preventClicks&&t.preventDefault(),e.params.preventClicksPropagation&&e.animating&&(t.stopPropagation(),t.stopImmediatePropagation())))}function KQ(){const t=this,{wrapperEl:e,rtlTranslate:n,enabled:r}=t;if(!r)return;t.previousTranslate=t.translate,t.isHorizontal()?t.translate=-e.scrollLeft:t.translate=-e.scrollTop,t.translate===0&&(t.translate=0),t.updateActiveIndex(),t.updateSlidesClasses();let i;const s=t.maxTranslate()-t.minTranslate();s===0?i=0:i=(t.translate-t.minTranslate())/s,i!==t.progress&&t.updateProgress(n?-t.translate:t.translate),t.emit("setTranslate",t.translate,!1)}function YQ(t){const e=this;cp(e,t.target),!(e.params.cssMode||e.params.slidesPerView!=="auto"&&!e.params.autoHeight)&&e.update()}function XQ(){const t=this;t.documentTouchHandlerProceeded||(t.documentTouchHandlerProceeded=!0,t.params.touchReleaseOnEdges&&(t.el.style.touchAction="auto"))}const KN=(t,e)=>{const n=La(),{params:r,el:i,wrapperEl:s,device:a}=t,c=!!r.nested,u=e==="on"?"addEventListener":"removeEventListener",f=e;!i||typeof i=="string"||(n[u]("touchstart",t.onDocumentTouchStart,{passive:!1,capture:c}),i[u]("touchstart",t.onTouchStart,{passive:!1}),i[u]("pointerdown",t.onTouchStart,{passive:!1}),n[u]("touchmove",t.onTouchMove,{passive:!1,capture:c}),n[u]("pointermove",t.onTouchMove,{passive:!1,capture:c}),n[u]("touchend",t.onTouchEnd,{passive:!0}),n[u]("pointerup",t.onTouchEnd,{passive:!0}),n[u]("pointercancel",t.onTouchEnd,{passive:!0}),n[u]("touchcancel",t.onTouchEnd,{passive:!0}),n[u]("pointerout",t.onTouchEnd,{passive:!0}),n[u]("pointerleave",t.onTouchEnd,{passive:!0}),n[u]("contextmenu",t.onTouchEnd,{passive:!0}),(r.preventClicks||r.preventClicksPropagation)&&i[u]("click",t.onClick,!0),r.cssMode&&s[u]("scroll",t.onScroll),r.updateOnWindowResize?t[f](a.ios||a.android?"resize orientationchange observerUpdate":"resize observerUpdate",h2,!0):t[f]("observerUpdate",h2,!0),i[u]("load",t.onLoad,{capture:!0}))};function JQ(){const t=this,{params:e}=t;t.onTouchStart=HQ.bind(t),t.onTouchMove=WQ.bind(t),t.onTouchEnd=qQ.bind(t),t.onDocumentTouchStart=XQ.bind(t),e.cssMode&&(t.onScroll=KQ.bind(t)),t.onClick=GQ.bind(t),t.onLoad=YQ.bind(t),KN(t,"on")}function QQ(){KN(this,"off")}var ZQ={attachEvents:JQ,detachEvents:QQ};const p2=(t,e)=>t.grid&&e.grid&&e.grid.rows>1;function eZ(){const t=this,{realIndex:e,initialized:n,params:r,el:i}=t,s=r.breakpoints;if(!s||s&&Object.keys(s).length===0)return;const a=La(),c=r.breakpointsBase==="window"||!r.breakpointsBase?r.breakpointsBase:"container",u=["window","container"].includes(r.breakpointsBase)||!r.breakpointsBase?t.el:a.querySelector(r.breakpointsBase),f=t.getBreakpoint(s,c,u);if(!f||t.currentBreakpoint===f)return;const g=(f in s?s[f]:void 0)||t.originalParams,v=p2(t,r),x=p2(t,g),_=t.params.grabCursor,T=g.grabCursor,N=r.enabled;v&&!x?(i.classList.remove(`${r.containerModifierClass}grid`,`${r.containerModifierClass}grid-column`),t.emitContainerClasses()):!v&&x&&(i.classList.add(`${r.containerModifierClass}grid`),(g.grid.fill&&g.grid.fill==="column"||!g.grid.fill&&r.grid.fill==="column")&&i.classList.add(`${r.containerModifierClass}grid-column`),t.emitContainerClasses()),_&&!T?t.unsetGrabCursor():!_&&T&&t.setGrabCursor(),["navigation","pagination","scrollbar"].forEach(z=>{if(typeof g[z]>"u")return;const D=r[z]&&r[z].enabled,I=g[z]&&g[z].enabled;D&&!I&&t[z].disable(),!D&&I&&t[z].enable()});const A=g.direction&&g.direction!==r.direction,k=r.loop&&(g.slidesPerView!==r.slidesPerView||A),P=r.loop;A&&n&&t.changeDirection(),nr(t.params,g);const j=t.params.enabled,$=t.params.loop;Object.assign(t,{allowTouchMove:t.params.allowTouchMove,allowSlideNext:t.params.allowSlideNext,allowSlidePrev:t.params.allowSlidePrev}),N&&!j?t.disable():!N&&j&&t.enable(),t.currentBreakpoint=f,t.emit("_beforeBreakpoint",g),n&&(k?(t.loopDestroy(),t.loopCreate(e),t.updateSlides()):!P&&$?(t.loopCreate(e),t.updateSlides()):P&&!$&&t.loopDestroy()),t.emit("breakpoint",g)}function tZ(t,e,n){if(e===void 0&&(e="window"),!t||e==="container"&&!n)return;let r=!1;const i=An(),s=e==="window"?i.innerHeight:n.clientHeight,a=Object.keys(t).map(c=>{if(typeof c=="string"&&c.indexOf("@")===0){const u=parseFloat(c.substr(1));return{value:s*u,point:c}}return{value:c,point:c}});a.sort((c,u)=>parseInt(c.value,10)-parseInt(u.value,10));for(let c=0;c<a.length;c+=1){const{point:u,value:f}=a[c];e==="window"?i.matchMedia(`(min-width: ${f}px)`).matches&&(r=u):f<=n.clientWidth&&(r=u)}return r||"max"}var nZ={setBreakpoint:eZ,getBreakpoint:tZ};function rZ(t,e){const n=[];return t.forEach(r=>{typeof r=="object"?Object.keys(r).forEach(i=>{r[i]&&n.push(e+i)}):typeof r=="string"&&n.push(e+r)}),n}function iZ(){const t=this,{classNames:e,params:n,rtl:r,el:i,device:s}=t,a=rZ(["initialized",n.direction,{"free-mode":t.params.freeMode&&n.freeMode.enabled},{autoheight:n.autoHeight},{rtl:r},{grid:n.grid&&n.grid.rows>1},{"grid-column":n.grid&&n.grid.rows>1&&n.grid.fill==="column"},{android:s.android},{ios:s.ios},{"css-mode":n.cssMode},{centered:n.cssMode&&n.centeredSlides},{"watch-progress":n.watchSlidesProgress}],n.containerModifierClass);e.push(...a),i.classList.add(...e),t.emitContainerClasses()}function sZ(){const t=this,{el:e,classNames:n}=t;!e||typeof e=="string"||(e.classList.remove(...n),t.emitContainerClasses())}var oZ={addClasses:iZ,removeClasses:sZ};function aZ(){const t=this,{isLocked:e,params:n}=t,{slidesOffsetBefore:r}=n;if(r){const i=t.slides.length-1,s=t.slidesGrid[i]+t.slidesSizesGrid[i]+r*2;t.isLocked=t.size>s}else t.isLocked=t.snapGrid.length===1;n.allowSlideNext===!0&&(t.allowSlideNext=!t.isLocked),n.allowSlidePrev===!0&&(t.allowSlidePrev=!t.isLocked),e&&e!==t.isLocked&&(t.isEnd=!1),e!==t.isLocked&&t.emit(t.isLocked?"lock":"unlock")}var lZ={checkOverflow:aZ},ow={init:!0,direction:"horizontal",oneWayMovement:!1,swiperElementNodeName:"SWIPER-CONTAINER",touchEventsTarget:"wrapper",initialSlide:0,speed:300,cssMode:!1,updateOnWindowResize:!0,resizeObserver:!0,nested:!1,createElements:!1,eventsPrefix:"swiper",enabled:!0,focusableElements:"input, select, option, textarea, button, video, label",width:null,height:null,preventInteractionOnTransition:!1,userAgent:null,url:null,edgeSwipeDetection:!1,edgeSwipeThreshold:20,autoHeight:!1,setWrapperSize:!1,virtualTranslate:!1,effect:"slide",breakpoints:void 0,breakpointsBase:"window",spaceBetween:0,slidesPerView:1,slidesPerGroup:1,slidesPerGroupSkip:0,slidesPerGroupAuto:!1,centeredSlides:!1,centeredSlidesBounds:!1,slidesOffsetBefore:0,slidesOffsetAfter:0,normalizeSlideIndex:!0,centerInsufficientSlides:!1,watchOverflow:!0,roundLengths:!1,touchRatio:1,touchAngle:45,simulateTouch:!0,shortSwipes:!0,longSwipes:!0,longSwipesRatio:.5,longSwipesMs:300,followFinger:!0,allowTouchMove:!0,threshold:5,touchMoveStopPropagation:!1,touchStartPreventDefault:!0,touchStartForcePreventDefault:!1,touchReleaseOnEdges:!1,uniqueNavElements:!0,resistance:!0,resistanceRatio:.85,watchSlidesProgress:!1,grabCursor:!1,preventClicks:!0,preventClicksPropagation:!0,slideToClickedSlide:!1,loop:!1,loopAddBlankSlides:!0,loopAdditionalSlides:0,loopPreventsSliding:!0,rewind:!1,allowSlidePrev:!0,allowSlideNext:!0,swipeHandler:null,noSwiping:!0,noSwipingClass:"swiper-no-swiping",noSwipingSelector:null,passiveListeners:!0,maxBackfaceHiddenSlides:10,containerModifierClass:"swiper-",slideClass:"swiper-slide",slideBlankClass:"swiper-slide-blank",slideActiveClass:"swiper-slide-active",slideVisibleClass:"swiper-slide-visible",slideFullyVisibleClass:"swiper-slide-fully-visible",slideNextClass:"swiper-slide-next",slidePrevClass:"swiper-slide-prev",wrapperClass:"swiper-wrapper",lazyPreloaderClass:"swiper-lazy-preloader",lazyPreloadPrevNext:0,runCallbacksOnInit:!0,_emitClasses:!1};function cZ(t,e){return function(r){r===void 0&&(r={});const i=Object.keys(r)[0],s=r[i];if(typeof s!="object"||s===null){nr(e,r);return}if(t[i]===!0&&(t[i]={enabled:!0}),i==="navigation"&&t[i]&&t[i].enabled&&!t[i].prevEl&&!t[i].nextEl&&(t[i].auto=!0),["pagination","scrollbar"].indexOf(i)>=0&&t[i]&&t[i].enabled&&!t[i].el&&(t[i].auto=!0),!(i in t&&"enabled"in s)){nr(e,r);return}typeof t[i]=="object"&&!("enabled"in t[i])&&(t[i].enabled=!0),t[i]||(t[i]={enabled:!1}),nr(e,r)}}const Uy={eventsEmitter:oQ,update:vQ,translate:EQ,transition:kQ,slide:DQ,loop:$Q,grabCursor:BQ,events:ZQ,breakpoints:nZ,checkOverflow:lZ,classes:oZ},By={};let Lx=class Ji{constructor(){let e,n;for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];i.length===1&&i[0].constructor&&Object.prototype.toString.call(i[0]).slice(8,-1)==="Object"?n=i[0]:[e,n]=i,n||(n={}),n=nr({},n),e&&!n.el&&(n.el=e);const a=La();if(n.el&&typeof n.el=="string"&&a.querySelectorAll(n.el).length>1){const h=[];return a.querySelectorAll(n.el).forEach(g=>{const v=nr({},n,{el:g});h.push(new Ji(v))}),h}const c=this;c.__swiper__=!0,c.support=HN(),c.device=WN({userAgent:n.userAgent}),c.browser=qN(),c.eventsListeners={},c.eventsAnyListeners=[],c.modules=[...c.__modules__],n.modules&&Array.isArray(n.modules)&&c.modules.push(...n.modules);const u={};c.modules.forEach(h=>{h({params:n,swiper:c,extendParams:cZ(n,u),on:c.on.bind(c),once:c.once.bind(c),off:c.off.bind(c),emit:c.emit.bind(c)})});const f=nr({},ow,u);return c.params=nr({},f,By,n),c.originalParams=nr({},c.params),c.passedParams=nr({},n),c.params&&c.params.on&&Object.keys(c.params.on).forEach(h=>{c.on(h,c.params.on[h])}),c.params&&c.params.onAny&&c.onAny(c.params.onAny),Object.assign(c,{enabled:c.params.enabled,el:e,classNames:[],slides:[],slidesGrid:[],snapGrid:[],slidesSizesGrid:[],isHorizontal(){return c.params.direction==="horizontal"},isVertical(){return c.params.direction==="vertical"},activeIndex:0,realIndex:0,isBeginning:!0,isEnd:!1,translate:0,previousTranslate:0,progress:0,velocity:0,animating:!1,cssOverflowAdjustment(){return Math.trunc(this.translate/2**23)*2**23},allowSlideNext:c.params.allowSlideNext,allowSlidePrev:c.params.allowSlidePrev,touchEventsData:{isTouched:void 0,isMoved:void 0,allowTouchCallbacks:void 0,touchStartTime:void 0,isScrolling:void 0,currentTranslate:void 0,startTranslate:void 0,allowThresholdMove:void 0,focusableElements:c.params.focusableElements,lastClickTime:0,clickTimeout:void 0,velocities:[],allowMomentumBounce:void 0,startMoving:void 0,pointerId:null,touchId:null},allowClick:!0,allowTouchMove:c.params.allowTouchMove,touches:{startX:0,startY:0,currentX:0,currentY:0,diff:0},imagesToLoad:[],imagesLoaded:0}),c.emit("_swiper"),c.params.init&&c.init(),c}getDirectionLabel(e){return this.isHorizontal()?e:{width:"height","margin-top":"margin-left","margin-bottom ":"margin-right","margin-left":"margin-top","margin-right":"margin-bottom","padding-left":"padding-top","padding-right":"padding-bottom",marginRight:"marginBottom"}[e]}getSlideIndex(e){const{slidesEl:n,params:r}=this,i=bi(n,`.${r.slideClass}, swiper-slide`),s=em(i[0]);return em(e)-s}getSlideIndexByData(e){return this.getSlideIndex(this.slides.find(n=>n.getAttribute("data-swiper-slide-index")*1===e))}getSlideIndexWhenGrid(e){return this.grid&&this.params.grid&&this.params.grid.rows>1&&(this.params.grid.fill==="column"?e=Math.floor(e/this.params.grid.rows):this.params.grid.fill==="row"&&(e=e%Math.ceil(this.slides.length/this.params.grid.rows))),e}recalcSlides(){const e=this,{slidesEl:n,params:r}=e;e.slides=bi(n,`.${r.slideClass}, swiper-slide`)}enable(){const e=this;e.enabled||(e.enabled=!0,e.params.grabCursor&&e.setGrabCursor(),e.emit("enable"))}disable(){const e=this;e.enabled&&(e.enabled=!1,e.params.grabCursor&&e.unsetGrabCursor(),e.emit("disable"))}setProgress(e,n){const r=this;e=Math.min(Math.max(e,0),1);const i=r.minTranslate(),a=(r.maxTranslate()-i)*e+i;r.translateTo(a,typeof n>"u"?0:n),r.updateActiveIndex(),r.updateSlidesClasses()}emitContainerClasses(){const e=this;if(!e.params._emitClasses||!e.el)return;const n=e.el.className.split(" ").filter(r=>r.indexOf("swiper")===0||r.indexOf(e.params.containerModifierClass)===0);e.emit("_containerClasses",n.join(" "))}getSlideClasses(e){const n=this;return n.destroyed?"":e.className.split(" ").filter(r=>r.indexOf("swiper-slide")===0||r.indexOf(n.params.slideClass)===0).join(" ")}emitSlidesClasses(){const e=this;if(!e.params._emitClasses||!e.el)return;const n=[];e.slides.forEach(r=>{const i=e.getSlideClasses(r);n.push({slideEl:r,classNames:i}),e.emit("_slideClass",r,i)}),e.emit("_slideClasses",n)}slidesPerViewDynamic(e,n){e===void 0&&(e="current"),n===void 0&&(n=!1);const r=this,{params:i,slides:s,slidesGrid:a,slidesSizesGrid:c,size:u,activeIndex:f}=r;let h=1;if(typeof i.slidesPerView=="number")return i.slidesPerView;if(i.centeredSlides){let g=s[f]?Math.ceil(s[f].swiperSlideSize):0,v;for(let x=f+1;x<s.length;x+=1)s[x]&&!v&&(g+=Math.ceil(s[x].swiperSlideSize),h+=1,g>u&&(v=!0));for(let x=f-1;x>=0;x-=1)s[x]&&!v&&(g+=s[x].swiperSlideSize,h+=1,g>u&&(v=!0))}else if(e==="current")for(let g=f+1;g<s.length;g+=1)(n?a[g]+c[g]-a[f]<u:a[g]-a[f]<u)&&(h+=1);else for(let g=f-1;g>=0;g-=1)a[f]-a[g]<u&&(h+=1);return h}update(){const e=this;if(!e||e.destroyed)return;const{snapGrid:n,params:r}=e;r.breakpoints&&e.setBreakpoint(),[...e.el.querySelectorAll('[loading="lazy"]')].forEach(a=>{a.complete&&cp(e,a)}),e.updateSize(),e.updateSlides(),e.updateProgress(),e.updateSlidesClasses();function i(){const a=e.rtlTranslate?e.translate*-1:e.translate,c=Math.min(Math.max(a,e.maxTranslate()),e.minTranslate());e.setTranslate(c),e.updateActiveIndex(),e.updateSlidesClasses()}let s;if(r.freeMode&&r.freeMode.enabled&&!r.cssMode)i(),r.autoHeight&&e.updateAutoHeight();else{if((r.slidesPerView==="auto"||r.slidesPerView>1)&&e.isEnd&&!r.centeredSlides){const a=e.virtual&&r.virtual.enabled?e.virtual.slides:e.slides;s=e.slideTo(a.length-1,0,!1,!0)}else s=e.slideTo(e.activeIndex,0,!1,!0);s||i()}r.watchOverflow&&n!==e.snapGrid&&e.checkOverflow(),e.emit("update")}changeDirection(e,n){n===void 0&&(n=!0);const r=this,i=r.params.direction;return e||(e=i==="horizontal"?"vertical":"horizontal"),e===i||e!=="horizontal"&&e!=="vertical"||(r.el.classList.remove(`${r.params.containerModifierClass}${i}`),r.el.classList.add(`${r.params.containerModifierClass}${e}`),r.emitContainerClasses(),r.params.direction=e,r.slides.forEach(s=>{e==="vertical"?s.style.width="":s.style.height=""}),r.emit("changeDirection"),n&&r.update()),r}changeLanguageDirection(e){const n=this;n.rtl&&e==="rtl"||!n.rtl&&e==="ltr"||(n.rtl=e==="rtl",n.rtlTranslate=n.params.direction==="horizontal"&&n.rtl,n.rtl?(n.el.classList.add(`${n.params.containerModifierClass}rtl`),n.el.dir="rtl"):(n.el.classList.remove(`${n.params.containerModifierClass}rtl`),n.el.dir="ltr"),n.update())}mount(e){const n=this;if(n.mounted)return!0;let r=e||n.params.el;if(typeof r=="string"&&(r=document.querySelector(r)),!r)return!1;r.swiper=n,r.parentNode&&r.parentNode.host&&r.parentNode.host.nodeName===n.params.swiperElementNodeName.toUpperCase()&&(n.isElement=!0);const i=()=>`.${(n.params.wrapperClass||"").trim().split(" ").join(".")}`;let a=r&&r.shadowRoot&&r.shadowRoot.querySelector?r.shadowRoot.querySelector(i()):bi(r,i())[0];return!a&&n.params.createElements&&(a=Zp("div",n.params.wrapperClass),r.append(a),bi(r,`.${n.params.slideClass}`).forEach(c=>{a.append(c)})),Object.assign(n,{el:r,wrapperEl:a,slidesEl:n.isElement&&!r.parentNode.host.slideSlots?r.parentNode.host:a,hostEl:n.isElement?r.parentNode.host:r,mounted:!0,rtl:r.dir.toLowerCase()==="rtl"||oo(r,"direction")==="rtl",rtlTranslate:n.params.direction==="horizontal"&&(r.dir.toLowerCase()==="rtl"||oo(r,"direction")==="rtl"),wrongRTL:oo(a,"display")==="-webkit-box"}),!0}init(e){const n=this;if(n.initialized||n.mount(e)===!1)return n;n.emit("beforeInit"),n.params.breakpoints&&n.setBreakpoint(),n.addClasses(),n.updateSize(),n.updateSlides(),n.params.watchOverflow&&n.checkOverflow(),n.params.grabCursor&&n.enabled&&n.setGrabCursor(),n.params.loop&&n.virtual&&n.params.virtual.enabled?n.slideTo(n.params.initialSlide+n.virtual.slidesBefore,0,n.params.runCallbacksOnInit,!1,!0):n.slideTo(n.params.initialSlide,0,n.params.runCallbacksOnInit,!1,!0),n.params.loop&&n.loopCreate(void 0,!0),n.attachEvents();const i=[...n.el.querySelectorAll('[loading="lazy"]')];return n.isElement&&i.push(...n.hostEl.querySelectorAll('[loading="lazy"]')),i.forEach(s=>{s.complete?cp(n,s):s.addEventListener("load",a=>{cp(n,a.target)})}),sw(n),n.initialized=!0,sw(n),n.emit("init"),n.emit("afterInit"),n}destroy(e,n){e===void 0&&(e=!0),n===void 0&&(n=!0);const r=this,{params:i,el:s,wrapperEl:a,slides:c}=r;return typeof r.params>"u"||r.destroyed||(r.emit("beforeDestroy"),r.initialized=!1,r.detachEvents(),i.loop&&r.loopDestroy(),n&&(r.removeClasses(),s&&typeof s!="string"&&s.removeAttribute("style"),a&&a.removeAttribute("style"),c&&c.length&&c.forEach(u=>{u.classList.remove(i.slideVisibleClass,i.slideFullyVisibleClass,i.slideActiveClass,i.slideNextClass,i.slidePrevClass),u.removeAttribute("style"),u.removeAttribute("data-swiper-slide-index")})),r.emit("destroy"),Object.keys(r.eventsListeners).forEach(u=>{r.off(u)}),e!==!1&&(r.el&&typeof r.el!="string"&&(r.el.swiper=null),GJ(r)),r.destroyed=!0),null}static extendDefaults(e){nr(By,e)}static get extendedDefaults(){return By}static get defaults(){return ow}static installModule(e){Ji.prototype.__modules__||(Ji.prototype.__modules__=[]);const n=Ji.prototype.__modules__;typeof e=="function"&&n.indexOf(e)<0&&n.push(e)}static use(e){return Array.isArray(e)?(e.forEach(n=>Ji.installModule(n)),Ji):(Ji.installModule(e),Ji)}};Object.keys(Uy).forEach(t=>{Object.keys(Uy[t]).forEach(e=>{Lx.prototype[e]=Uy[t][e]})});Lx.use([iQ,sQ]);const YN=["eventsPrefix","injectStyles","injectStylesUrls","modules","init","_direction","oneWayMovement","swiperElementNodeName","touchEventsTarget","initialSlide","_speed","cssMode","updateOnWindowResize","resizeObserver","nested","focusableElements","_enabled","_width","_height","preventInteractionOnTransition","userAgent","url","_edgeSwipeDetection","_edgeSwipeThreshold","_freeMode","_autoHeight","setWrapperSize","virtualTranslate","_effect","breakpoints","breakpointsBase","_spaceBetween","_slidesPerView","maxBackfaceHiddenSlides","_grid","_slidesPerGroup","_slidesPerGroupSkip","_slidesPerGroupAuto","_centeredSlides","_centeredSlidesBounds","_slidesOffsetBefore","_slidesOffsetAfter","normalizeSlideIndex","_centerInsufficientSlides","_watchOverflow","roundLengths","touchRatio","touchAngle","simulateTouch","_shortSwipes","_longSwipes","longSwipesRatio","longSwipesMs","_followFinger","allowTouchMove","_threshold","touchMoveStopPropagation","touchStartPreventDefault","touchStartForcePreventDefault","touchReleaseOnEdges","uniqueNavElements","_resistance","_resistanceRatio","_watchSlidesProgress","_grabCursor","preventClicks","preventClicksPropagation","_slideToClickedSlide","_loop","loopAdditionalSlides","loopAddBlankSlides","loopPreventsSliding","_rewind","_allowSlidePrev","_allowSlideNext","_swipeHandler","_noSwiping","noSwipingClass","noSwipingSelector","passiveListeners","containerModifierClass","slideClass","slideActiveClass","slideVisibleClass","slideFullyVisibleClass","slideNextClass","slidePrevClass","slideBlankClass","wrapperClass","lazyPreloaderClass","lazyPreloadPrevNext","runCallbacksOnInit","observer","observeParents","observeSlideChildren","a11y","_autoplay","_controller","coverflowEffect","cubeEffect","fadeEffect","flipEffect","creativeEffect","cardsEffect","hashNavigation","history","keyboard","mousewheel","_navigation","_pagination","parallax","_scrollbar","_thumbs","virtual","zoom","control"];function Ra(t){return typeof t=="object"&&t!==null&&t.constructor&&Object.prototype.toString.call(t).slice(8,-1)==="Object"&&!t.__swiper__}function Xl(t,e){const n=["__proto__","constructor","prototype"];Object.keys(e).filter(r=>n.indexOf(r)<0).forEach(r=>{typeof t[r]>"u"?t[r]=e[r]:Ra(e[r])&&Ra(t[r])&&Object.keys(e[r]).length>0?e[r].__swiper__?t[r]=e[r]:Xl(t[r],e[r]):t[r]=e[r]})}function XN(t){return t===void 0&&(t={}),t.navigation&&typeof t.navigation.nextEl>"u"&&typeof t.navigation.prevEl>"u"}function JN(t){return t===void 0&&(t={}),t.pagination&&typeof t.pagination.el>"u"}function QN(t){return t===void 0&&(t={}),t.scrollbar&&typeof t.scrollbar.el>"u"}function ZN(t){t===void 0&&(t="");const e=t.split(" ").map(r=>r.trim()).filter(r=>!!r),n=[];return e.forEach(r=>{n.indexOf(r)<0&&n.push(r)}),n.join(" ")}function uZ(t){return t===void 0&&(t=""),t?t.includes("swiper-wrapper")?t:`swiper-wrapper ${t}`:"swiper-wrapper"}function dZ(t){let{swiper:e,slides:n,passedParams:r,changedParams:i,nextEl:s,prevEl:a,scrollbarEl:c,paginationEl:u}=t;const f=i.filter(O=>O!=="children"&&O!=="direction"&&O!=="wrapperClass"),{params:h,pagination:g,navigation:v,scrollbar:x,virtual:_,thumbs:T}=e;let N,A,k,P,j,$,z,D;i.includes("thumbs")&&r.thumbs&&r.thumbs.swiper&&!r.thumbs.swiper.destroyed&&h.thumbs&&(!h.thumbs.swiper||h.thumbs.swiper.destroyed)&&(N=!0),i.includes("controller")&&r.controller&&r.controller.control&&h.controller&&!h.controller.control&&(A=!0),i.includes("pagination")&&r.pagination&&(r.pagination.el||u)&&(h.pagination||h.pagination===!1)&&g&&!g.el&&(k=!0),i.includes("scrollbar")&&r.scrollbar&&(r.scrollbar.el||c)&&(h.scrollbar||h.scrollbar===!1)&&x&&!x.el&&(P=!0),i.includes("navigation")&&r.navigation&&(r.navigation.prevEl||a)&&(r.navigation.nextEl||s)&&(h.navigation||h.navigation===!1)&&v&&!v.prevEl&&!v.nextEl&&(j=!0);const I=O=>{e[O]&&(e[O].destroy(),O==="navigation"?(e.isElement&&(e[O].prevEl.remove(),e[O].nextEl.remove()),h[O].prevEl=void 0,h[O].nextEl=void 0,e[O].prevEl=void 0,e[O].nextEl=void 0):(e.isElement&&e[O].el.remove(),h[O].el=void 0,e[O].el=void 0))};i.includes("loop")&&e.isElement&&(h.loop&&!r.loop?$=!0:!h.loop&&r.loop?z=!0:D=!0),f.forEach(O=>{if(Ra(h[O])&&Ra(r[O]))Object.assign(h[O],r[O]),(O==="navigation"||O==="pagination"||O==="scrollbar")&&"enabled"in r[O]&&!r[O].enabled&&I(O);else{const b=r[O];(b===!0||b===!1)&&(O==="navigation"||O==="pagination"||O==="scrollbar")?b===!1&&I(O):h[O]=r[O]}}),f.includes("controller")&&!A&&e.controller&&e.controller.control&&h.controller&&h.controller.control&&(e.controller.control=h.controller.control),i.includes("children")&&n&&_&&h.virtual.enabled?(_.slides=n,_.update(!0)):i.includes("virtual")&&_&&h.virtual.enabled&&(n&&(_.slides=n),_.update(!0)),i.includes("children")&&n&&h.loop&&(D=!0),N&&T.init()&&T.update(!0),A&&(e.controller.control=h.controller.control),k&&(e.isElement&&(!u||typeof u=="string")&&(u=document.createElement("div"),u.classList.add("swiper-pagination"),u.part.add("pagination"),e.el.appendChild(u)),u&&(h.pagination.el=u),g.init(),g.render(),g.update()),P&&(e.isElement&&(!c||typeof c=="string")&&(c=document.createElement("div"),c.classList.add("swiper-scrollbar"),c.part.add("scrollbar"),e.el.appendChild(c)),c&&(h.scrollbar.el=c),x.init(),x.updateSize(),x.setTranslate()),j&&(e.isElement&&((!s||typeof s=="string")&&(s=document.createElement("div"),s.classList.add("swiper-button-next"),tm(s,e.hostEl.constructor.nextButtonSvg),s.part.add("button-next"),e.el.appendChild(s)),(!a||typeof a=="string")&&(a=document.createElement("div"),a.classList.add("swiper-button-prev"),tm(a,e.hostEl.constructor.prevButtonSvg),a.part.add("button-prev"),e.el.appendChild(a))),s&&(h.navigation.nextEl=s),a&&(h.navigation.prevEl=a),v.init(),v.update()),i.includes("allowSlideNext")&&(e.allowSlideNext=r.allowSlideNext),i.includes("allowSlidePrev")&&(e.allowSlidePrev=r.allowSlidePrev),i.includes("direction")&&e.changeDirection(r.direction,!1),($||D)&&e.loopDestroy(),(z||D)&&e.loopCreate(),e.update()}function fZ(t,e){t===void 0&&(t={}),e===void 0&&(e=!0);const n={on:{}},r={},i={};Xl(n,ow),n._emitClasses=!0,n.init=!1;const s={},a=YN.map(u=>u.replace(/_/,"")),c=Object.assign({},t);return Object.keys(c).forEach(u=>{typeof t[u]>"u"||(a.indexOf(u)>=0?Ra(t[u])?(n[u]={},i[u]={},Xl(n[u],t[u]),Xl(i[u],t[u])):(n[u]=t[u],i[u]=t[u]):u.search(/on[A-Z]/)===0&&typeof t[u]=="function"?e?r[`${u[2].toLowerCase()}${u.substr(3)}`]=t[u]:n.on[`${u[2].toLowerCase()}${u.substr(3)}`]=t[u]:s[u]=t[u])}),["navigation","pagination","scrollbar"].forEach(u=>{n[u]===!0&&(n[u]={}),n[u]===!1&&delete n[u]}),{params:n,passedParams:i,rest:s,events:r}}function hZ(t,e){let{el:n,nextEl:r,prevEl:i,paginationEl:s,scrollbarEl:a,swiper:c}=t;XN(e)&&r&&i&&(c.params.navigation.nextEl=r,c.originalParams.navigation.nextEl=r,c.params.navigation.prevEl=i,c.originalParams.navigation.prevEl=i),JN(e)&&s&&(c.params.pagination.el=s,c.originalParams.pagination.el=s),QN(e)&&a&&(c.params.scrollbar.el=a,c.originalParams.scrollbar.el=a),c.init(n)}function pZ(t,e,n,r,i){const s=[];if(!e)return s;const a=u=>{s.indexOf(u)<0&&s.push(u)};if(n&&r){const u=r.map(i),f=n.map(i);u.join("")!==f.join("")&&a("children"),r.length!==n.length&&a("children")}return YN.filter(u=>u[0]==="_").map(u=>u.replace(/_/,"")).forEach(u=>{if(u in t&&u in e)if(Ra(t[u])&&Ra(e[u])){const f=Object.keys(t[u]),h=Object.keys(e[u]);f.length!==h.length?a(u):(f.forEach(g=>{t[u][g]!==e[u][g]&&a(u)}),h.forEach(g=>{t[u][g]!==e[u][g]&&a(u)}))}else t[u]!==e[u]&&a(u)}),s}const mZ=t=>{!t||t.destroyed||!t.params.virtual||t.params.virtual&&!t.params.virtual.enabled||(t.updateSlides(),t.updateProgress(),t.updateSlidesClasses(),t.emit("_virtualUpdated"),t.parallax&&t.params.parallax&&t.params.parallax.enabled&&t.parallax.setTranslate())};function nm(){return nm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},nm.apply(this,arguments)}function eO(t){return t.type&&t.type.displayName&&t.type.displayName.includes("SwiperSlide")}function tO(t){const e=[];return me.Children.toArray(t).forEach(n=>{eO(n)?e.push(n):n.props&&n.props.children&&tO(n.props.children).forEach(r=>e.push(r))}),e}function gZ(t){const e=[],n={"container-start":[],"container-end":[],"wrapper-start":[],"wrapper-end":[]};return me.Children.toArray(t).forEach(r=>{if(eO(r))e.push(r);else if(r.props&&r.props.slot&&n[r.props.slot])n[r.props.slot].push(r);else if(r.props&&r.props.children){const i=tO(r.props.children);i.length>0?i.forEach(s=>e.push(s)):n["container-end"].push(r)}else n["container-end"].push(r)}),{slides:e,slots:n}}function vZ(t,e,n){if(!n)return null;const r=h=>{let g=h;return h<0?g=e.length+h:g>=e.length&&(g=g-e.length),g},i=t.isHorizontal()?{[t.rtlTranslate?"right":"left"]:`${n.offset}px`}:{top:`${n.offset}px`},{from:s,to:a}=n,c=t.params.loop?-e.length:0,u=t.params.loop?e.length*2:e.length,f=[];for(let h=c;h<u;h+=1)h>=s&&h<=a&&f.push(e[r(h)]);return f.map((h,g)=>me.cloneElement(h,{swiper:t,style:i,key:h.props.virtualIndex||h.key||`slide-${g}`}))}function ad(t,e){return typeof window>"u"?C.useEffect(t,e):C.useLayoutEffect(t,e)}const m2=C.createContext(null),yZ=C.createContext(null),nO=C.forwardRef(function(t,e){let{className:n,tag:r="div",wrapperTag:i="div",children:s,onSwiper:a,...c}=t===void 0?{}:t,u=!1;const[f,h]=C.useState("swiper"),[g,v]=C.useState(null),[x,_]=C.useState(!1),T=C.useRef(!1),N=C.useRef(null),A=C.useRef(null),k=C.useRef(null),P=C.useRef(null),j=C.useRef(null),$=C.useRef(null),z=C.useRef(null),D=C.useRef(null),{params:I,passedParams:O,rest:b,events:M}=fZ(c),{slides:V,slots:F}=gZ(s),Z=()=>{_(!x)};Object.assign(I.on,{_containerClasses(oe,le){h(le)}});const se=()=>{Object.assign(I.on,M),u=!0;const oe={...I};if(delete oe.wrapperClass,A.current=new Lx(oe),A.current.virtual&&A.current.params.virtual.enabled){A.current.virtual.slides=V;const le={cache:!1,slides:V,renderExternal:v,renderExternalUpdate:!1};Xl(A.current.params.virtual,le),Xl(A.current.originalParams.virtual,le)}};N.current||se(),A.current&&A.current.on("_beforeBreakpoint",Z);const re=()=>{u||!M||!A.current||Object.keys(M).forEach(oe=>{A.current.on(oe,M[oe])})},ue=()=>{!M||!A.current||Object.keys(M).forEach(oe=>{A.current.off(oe,M[oe])})};C.useEffect(()=>()=>{A.current&&A.current.off("_beforeBreakpoint",Z)}),C.useEffect(()=>{!T.current&&A.current&&(A.current.emitSlidesClasses(),T.current=!0)}),ad(()=>{if(e&&(e.current=N.current),!!N.current)return A.current.destroyed&&se(),hZ({el:N.current,nextEl:j.current,prevEl:$.current,paginationEl:z.current,scrollbarEl:D.current,swiper:A.current},I),a&&!A.current.destroyed&&a(A.current),()=>{A.current&&!A.current.destroyed&&A.current.destroy(!0,!1)}},[]),ad(()=>{re();const oe=pZ(O,k.current,V,P.current,le=>le.key);return k.current=O,P.current=V,oe.length&&A.current&&!A.current.destroyed&&dZ({swiper:A.current,slides:V,passedParams:O,changedParams:oe,nextEl:j.current,prevEl:$.current,scrollbarEl:D.current,paginationEl:z.current}),()=>{ue()}}),ad(()=>{mZ(A.current)},[g]);function ne(){return I.virtual?vZ(A.current,V,g):V.map((oe,le)=>me.cloneElement(oe,{swiper:A.current,swiperSlideIndex:le}))}return me.createElement(r,nm({ref:N,className:ZN(`${f}${n?` ${n}`:""}`)},b),me.createElement(yZ.Provider,{value:A.current},F["container-start"],me.createElement(i,{className:uZ(I.wrapperClass)},F["wrapper-start"],ne(),F["wrapper-end"]),XN(I)&&me.createElement(me.Fragment,null,me.createElement("div",{ref:$,className:"swiper-button-prev"}),me.createElement("div",{ref:j,className:"swiper-button-next"})),QN(I)&&me.createElement("div",{ref:D,className:"swiper-scrollbar"}),JN(I)&&me.createElement("div",{ref:z,className:"swiper-pagination"}),F["container-end"]))});nO.displayName="Swiper";const rO=C.forwardRef(function(t,e){let{tag:n="div",children:r,className:i="",swiper:s,zoom:a,lazy:c,virtualIndex:u,swiperSlideIndex:f,...h}=t===void 0?{}:t;const g=C.useRef(null),[v,x]=C.useState("swiper-slide"),[_,T]=C.useState(!1);function N(j,$,z){$===g.current&&x(z)}ad(()=>{if(typeof f<"u"&&(g.current.swiperSlideIndex=f),e&&(e.current=g.current),!(!g.current||!s)){if(s.destroyed){v!=="swiper-slide"&&x("swiper-slide");return}return s.on("_slideClass",N),()=>{s&&s.off("_slideClass",N)}}}),ad(()=>{s&&g.current&&!s.destroyed&&x(s.getSlideClasses(g.current))},[s]);const A={isActive:v.indexOf("swiper-slide-active")>=0,isVisible:v.indexOf("swiper-slide-visible")>=0,isPrev:v.indexOf("swiper-slide-prev")>=0,isNext:v.indexOf("swiper-slide-next")>=0},k=()=>typeof r=="function"?r(A):r,P=()=>{T(!0)};return me.createElement(n,nm({ref:g,className:ZN(`${v}${i?` ${i}`:""}`),"data-swiper-slide-index":u,onLoad:P},h),a&&me.createElement(m2.Provider,{value:A},me.createElement("div",{className:"swiper-zoom-container","data-swiper-zoom":typeof a=="number"?a:void 0},k(),c&&!_&&me.createElement("div",{className:"swiper-lazy-preloader"}))),!a&&me.createElement(m2.Provider,{value:A},k(),c&&!_&&me.createElement("div",{className:"swiper-lazy-preloader"})))});rO.displayName="SwiperSlide";function iO(t,e,n,r){return t.params.createElements&&Object.keys(r).forEach(i=>{if(!n[i]&&n.auto===!0){let s=bi(t.el,`.${r[i]}`)[0];s||(s=Zp("div",r[i]),s.className=r[i],t.el.append(s)),n[i]=s,e[i]=s}}),n}function wZ(t){let{swiper:e,extendParams:n,on:r,emit:i}=t;n({navigation:{nextEl:null,prevEl:null,hideOnClick:!1,disabledClass:"swiper-button-disabled",hiddenClass:"swiper-button-hidden",lockClass:"swiper-button-lock",navigationDisabledClass:"swiper-navigation-disabled"}}),e.navigation={nextEl:null,prevEl:null};function s(_){let T;return _&&typeof _=="string"&&e.isElement&&(T=e.el.querySelector(_)||e.hostEl.querySelector(_),T)?T:(_&&(typeof _=="string"&&(T=[...document.querySelectorAll(_)]),e.params.uniqueNavElements&&typeof _=="string"&&T&&T.length>1&&e.el.querySelectorAll(_).length===1?T=e.el.querySelector(_):T&&T.length===1&&(T=T[0])),_&&!T?_:T)}function a(_,T){const N=e.params.navigation;_=Yt(_),_.forEach(A=>{A&&(A.classList[T?"add":"remove"](...N.disabledClass.split(" ")),A.tagName==="BUTTON"&&(A.disabled=T),e.params.watchOverflow&&e.enabled&&A.classList[e.isLocked?"add":"remove"](N.lockClass))})}function c(){const{nextEl:_,prevEl:T}=e.navigation;if(e.params.loop){a(T,!1),a(_,!1);return}a(T,e.isBeginning&&!e.params.rewind),a(_,e.isEnd&&!e.params.rewind)}function u(_){_.preventDefault(),!(e.isBeginning&&!e.params.loop&&!e.params.rewind)&&(e.slidePrev(),i("navigationPrev"))}function f(_){_.preventDefault(),!(e.isEnd&&!e.params.loop&&!e.params.rewind)&&(e.slideNext(),i("navigationNext"))}function h(){const _=e.params.navigation;if(e.params.navigation=iO(e,e.originalParams.navigation,e.params.navigation,{nextEl:"swiper-button-next",prevEl:"swiper-button-prev"}),!(_.nextEl||_.prevEl))return;let T=s(_.nextEl),N=s(_.prevEl);Object.assign(e.navigation,{nextEl:T,prevEl:N}),T=Yt(T),N=Yt(N);const A=(k,P)=>{k&&k.addEventListener("click",P==="next"?f:u),!e.enabled&&k&&k.classList.add(..._.lockClass.split(" "))};T.forEach(k=>A(k,"next")),N.forEach(k=>A(k,"prev"))}function g(){let{nextEl:_,prevEl:T}=e.navigation;_=Yt(_),T=Yt(T);const N=(A,k)=>{A.removeEventListener("click",k==="next"?f:u),A.classList.remove(...e.params.navigation.disabledClass.split(" "))};_.forEach(A=>N(A,"next")),T.forEach(A=>N(A,"prev"))}r("init",()=>{e.params.navigation.enabled===!1?x():(h(),c())}),r("toEdge fromEdge lock unlock",()=>{c()}),r("destroy",()=>{g()}),r("enable disable",()=>{let{nextEl:_,prevEl:T}=e.navigation;if(_=Yt(_),T=Yt(T),e.enabled){c();return}[..._,...T].filter(N=>!!N).forEach(N=>N.classList.add(e.params.navigation.lockClass))}),r("click",(_,T)=>{let{nextEl:N,prevEl:A}=e.navigation;N=Yt(N),A=Yt(A);const k=T.target;let P=A.includes(k)||N.includes(k);if(e.isElement&&!P){const j=T.path||T.composedPath&&T.composedPath();j&&(P=j.find($=>N.includes($)||A.includes($)))}if(e.params.navigation.hideOnClick&&!P){if(e.pagination&&e.params.pagination&&e.params.pagination.clickable&&(e.pagination.el===k||e.pagination.el.contains(k)))return;let j;N.length?j=N[0].classList.contains(e.params.navigation.hiddenClass):A.length&&(j=A[0].classList.contains(e.params.navigation.hiddenClass)),i(j===!0?"navigationShow":"navigationHide"),[...N,...A].filter($=>!!$).forEach($=>$.classList.toggle(e.params.navigation.hiddenClass))}});const v=()=>{e.el.classList.remove(...e.params.navigation.navigationDisabledClass.split(" ")),h(),c()},x=()=>{e.el.classList.add(...e.params.navigation.navigationDisabledClass.split(" ")),g()};Object.assign(e.navigation,{enable:v,disable:x,update:c,init:h,destroy:g})}function Iu(t){return t===void 0&&(t=""),`.${t.trim().replace(/([\.:!+\/()[\]])/g,"\\$1").replace(/ /g,".")}`}function _Z(t){let{swiper:e,extendParams:n,on:r,emit:i}=t;const s="swiper-pagination";n({pagination:{el:null,bulletElement:"span",clickable:!1,hideOnClick:!1,renderBullet:null,renderProgressbar:null,renderFraction:null,renderCustom:null,progressbarOpposite:!1,type:"bullets",dynamicBullets:!1,dynamicMainBullets:1,formatFractionCurrent:k=>k,formatFractionTotal:k=>k,bulletClass:`${s}-bullet`,bulletActiveClass:`${s}-bullet-active`,modifierClass:`${s}-`,currentClass:`${s}-current`,totalClass:`${s}-total`,hiddenClass:`${s}-hidden`,progressbarFillClass:`${s}-progressbar-fill`,progressbarOppositeClass:`${s}-progressbar-opposite`,clickableClass:`${s}-clickable`,lockClass:`${s}-lock`,horizontalClass:`${s}-horizontal`,verticalClass:`${s}-vertical`,paginationDisabledClass:`${s}-disabled`}}),e.pagination={el:null,bullets:[]};let a,c=0;function u(){return!e.params.pagination.el||!e.pagination.el||Array.isArray(e.pagination.el)&&e.pagination.el.length===0}function f(k,P){const{bulletActiveClass:j}=e.params.pagination;k&&(k=k[`${P==="prev"?"previous":"next"}ElementSibling`],k&&(k.classList.add(`${j}-${P}`),k=k[`${P==="prev"?"previous":"next"}ElementSibling`],k&&k.classList.add(`${j}-${P}-${P}`)))}function h(k,P,j){if(k=k%j,P=P%j,P===k+1)return"next";if(P===k-1)return"previous"}function g(k){const P=k.target.closest(Iu(e.params.pagination.bulletClass));if(!P)return;k.preventDefault();const j=em(P)*e.params.slidesPerGroup;if(e.params.loop){if(e.realIndex===j)return;const $=h(e.realIndex,j,e.slides.length);$==="next"?e.slideNext():$==="previous"?e.slidePrev():e.slideToLoop(j)}else e.slideTo(j)}function v(){const k=e.rtl,P=e.params.pagination;if(u())return;let j=e.pagination.el;j=Yt(j);let $,z;const D=e.virtual&&e.params.virtual.enabled?e.virtual.slides.length:e.slides.length,I=e.params.loop?Math.ceil(D/e.params.slidesPerGroup):e.snapGrid.length;if(e.params.loop?(z=e.previousRealIndex||0,$=e.params.slidesPerGroup>1?Math.floor(e.realIndex/e.params.slidesPerGroup):e.realIndex):typeof e.snapIndex<"u"?($=e.snapIndex,z=e.previousSnapIndex):(z=e.previousIndex||0,$=e.activeIndex||0),P.type==="bullets"&&e.pagination.bullets&&e.pagination.bullets.length>0){const O=e.pagination.bullets;let b,M,V;if(P.dynamicBullets&&(a=iw(O[0],e.isHorizontal()?"width":"height"),j.forEach(F=>{F.style[e.isHorizontal()?"width":"height"]=`${a*(P.dynamicMainBullets+4)}px`}),P.dynamicMainBullets>1&&z!==void 0&&(c+=$-(z||0),c>P.dynamicMainBullets-1?c=P.dynamicMainBullets-1:c<0&&(c=0)),b=Math.max($-c,0),M=b+(Math.min(O.length,P.dynamicMainBullets)-1),V=(M+b)/2),O.forEach(F=>{const Z=[...["","-next","-next-next","-prev","-prev-prev","-main"].map(se=>`${P.bulletActiveClass}${se}`)].map(se=>typeof se=="string"&&se.includes(" ")?se.split(" "):se).flat();F.classList.remove(...Z)}),j.length>1)O.forEach(F=>{const Z=em(F);Z===$?F.classList.add(...P.bulletActiveClass.split(" ")):e.isElement&&F.setAttribute("part","bullet"),P.dynamicBullets&&(Z>=b&&Z<=M&&F.classList.add(...`${P.bulletActiveClass}-main`.split(" ")),Z===b&&f(F,"prev"),Z===M&&f(F,"next"))});else{const F=O[$];if(F&&F.classList.add(...P.bulletActiveClass.split(" ")),e.isElement&&O.forEach((Z,se)=>{Z.setAttribute("part",se===$?"bullet-active":"bullet")}),P.dynamicBullets){const Z=O[b],se=O[M];for(let re=b;re<=M;re+=1)O[re]&&O[re].classList.add(...`${P.bulletActiveClass}-main`.split(" "));f(Z,"prev"),f(se,"next")}}if(P.dynamicBullets){const F=Math.min(O.length,P.dynamicMainBullets+4),Z=(a*F-a)/2-V*a,se=k?"right":"left";O.forEach(re=>{re.style[e.isHorizontal()?se:"top"]=`${Z}px`})}}j.forEach((O,b)=>{if(P.type==="fraction"&&(O.querySelectorAll(Iu(P.currentClass)).forEach(M=>{M.textContent=P.formatFractionCurrent($+1)}),O.querySelectorAll(Iu(P.totalClass)).forEach(M=>{M.textContent=P.formatFractionTotal(I)})),P.type==="progressbar"){let M;P.progressbarOpposite?M=e.isHorizontal()?"vertical":"horizontal":M=e.isHorizontal()?"horizontal":"vertical";const V=($+1)/I;let F=1,Z=1;M==="horizontal"?F=V:Z=V,O.querySelectorAll(Iu(P.progressbarFillClass)).forEach(se=>{se.style.transform=`translate3d(0,0,0) scaleX(${F}) scaleY(${Z})`,se.style.transitionDuration=`${e.params.speed}ms`})}P.type==="custom"&&P.renderCustom?(tm(O,P.renderCustom(e,$+1,I)),b===0&&i("paginationRender",O)):(b===0&&i("paginationRender",O),i("paginationUpdate",O)),e.params.watchOverflow&&e.enabled&&O.classList[e.isLocked?"add":"remove"](P.lockClass)})}function x(){const k=e.params.pagination;if(u())return;const P=e.virtual&&e.params.virtual.enabled?e.virtual.slides.length:e.grid&&e.params.grid.rows>1?e.slides.length/Math.ceil(e.params.grid.rows):e.slides.length;let j=e.pagination.el;j=Yt(j);let $="";if(k.type==="bullets"){let z=e.params.loop?Math.ceil(P/e.params.slidesPerGroup):e.snapGrid.length;e.params.freeMode&&e.params.freeMode.enabled&&z>P&&(z=P);for(let D=0;D<z;D+=1)k.renderBullet?$+=k.renderBullet.call(e,D,k.bulletClass):$+=`<${k.bulletElement} ${e.isElement?'part="bullet"':""} class="${k.bulletClass}"></${k.bulletElement}>`}k.type==="fraction"&&(k.renderFraction?$=k.renderFraction.call(e,k.currentClass,k.totalClass):$=`<span class="${k.currentClass}"></span> / <span class="${k.totalClass}"></span>`),k.type==="progressbar"&&(k.renderProgressbar?$=k.renderProgressbar.call(e,k.progressbarFillClass):$=`<span class="${k.progressbarFillClass}"></span>`),e.pagination.bullets=[],j.forEach(z=>{k.type!=="custom"&&tm(z,$||""),k.type==="bullets"&&e.pagination.bullets.push(...z.querySelectorAll(Iu(k.bulletClass)))}),k.type!=="custom"&&i("paginationRender",j[0])}function _(){e.params.pagination=iO(e,e.originalParams.pagination,e.params.pagination,{el:"swiper-pagination"});const k=e.params.pagination;if(!k.el)return;let P;typeof k.el=="string"&&e.isElement&&(P=e.el.querySelector(k.el)),!P&&typeof k.el=="string"&&(P=[...document.querySelectorAll(k.el)]),P||(P=k.el),!(!P||P.length===0)&&(e.params.uniqueNavElements&&typeof k.el=="string"&&Array.isArray(P)&&P.length>1&&(P=[...e.el.querySelectorAll(k.el)],P.length>1&&(P=P.find(j=>zN(j,".swiper")[0]===e.el))),Array.isArray(P)&&P.length===1&&(P=P[0]),Object.assign(e.pagination,{el:P}),P=Yt(P),P.forEach(j=>{k.type==="bullets"&&k.clickable&&j.classList.add(...(k.clickableClass||"").split(" ")),j.classList.add(k.modifierClass+k.type),j.classList.add(e.isHorizontal()?k.horizontalClass:k.verticalClass),k.type==="bullets"&&k.dynamicBullets&&(j.classList.add(`${k.modifierClass}${k.type}-dynamic`),c=0,k.dynamicMainBullets<1&&(k.dynamicMainBullets=1)),k.type==="progressbar"&&k.progressbarOpposite&&j.classList.add(k.progressbarOppositeClass),k.clickable&&j.addEventListener("click",g),e.enabled||j.classList.add(k.lockClass)}))}function T(){const k=e.params.pagination;if(u())return;let P=e.pagination.el;P&&(P=Yt(P),P.forEach(j=>{j.classList.remove(k.hiddenClass),j.classList.remove(k.modifierClass+k.type),j.classList.remove(e.isHorizontal()?k.horizontalClass:k.verticalClass),k.clickable&&(j.classList.remove(...(k.clickableClass||"").split(" ")),j.removeEventListener("click",g))})),e.pagination.bullets&&e.pagination.bullets.forEach(j=>j.classList.remove(...k.bulletActiveClass.split(" ")))}r("changeDirection",()=>{if(!e.pagination||!e.pagination.el)return;const k=e.params.pagination;let{el:P}=e.pagination;P=Yt(P),P.forEach(j=>{j.classList.remove(k.horizontalClass,k.verticalClass),j.classList.add(e.isHorizontal()?k.horizontalClass:k.verticalClass)})}),r("init",()=>{e.params.pagination.enabled===!1?A():(_(),x(),v())}),r("activeIndexChange",()=>{typeof e.snapIndex>"u"&&v()}),r("snapIndexChange",()=>{v()}),r("snapGridLengthChange",()=>{x(),v()}),r("destroy",()=>{T()}),r("enable disable",()=>{let{el:k}=e.pagination;k&&(k=Yt(k),k.forEach(P=>P.classList[e.enabled?"remove":"add"](e.params.pagination.lockClass)))}),r("lock unlock",()=>{v()}),r("click",(k,P)=>{const j=P.target,$=Yt(e.pagination.el);if(e.params.pagination.el&&e.params.pagination.hideOnClick&&$&&$.length>0&&!j.classList.contains(e.params.pagination.bulletClass)){if(e.navigation&&(e.navigation.nextEl&&j===e.navigation.nextEl||e.navigation.prevEl&&j===e.navigation.prevEl))return;const z=$[0].classList.contains(e.params.pagination.hiddenClass);i(z===!0?"paginationShow":"paginationHide"),$.forEach(D=>D.classList.toggle(e.params.pagination.hiddenClass))}});const N=()=>{e.el.classList.remove(e.params.pagination.paginationDisabledClass);let{el:k}=e.pagination;k&&(k=Yt(k),k.forEach(P=>P.classList.remove(e.params.pagination.paginationDisabledClass))),_(),x(),v()},A=()=>{e.el.classList.add(e.params.pagination.paginationDisabledClass);let{el:k}=e.pagination;k&&(k=Yt(k),k.forEach(P=>P.classList.add(e.params.pagination.paginationDisabledClass))),T()};Object.assign(e.pagination,{enable:N,disable:A,render:x,update:v,init:_,destroy:T})}const xZ=({foto:t,user:e})=>{const[n,r]=C.useState(!1),i=C.useRef(0),s=()=>{if(!e)return;const c=Ce(Te,`galeria/${t.id}/likes`),u=t.likes&&t.likes[e.uid];hs(c,{[e.uid]:u?null:!0})},a=()=>{const c=Date.now(),u=c-i.current;u<300&&u>0&&(t.likes&&t.likes[e.uid]||s(),r(!0),setTimeout(()=>r(!1),1e3)),i.current=c};return w.jsxs("div",{className:"w-full h-full flex justify-center items-center",onTouchStart:a,onDoubleClick:a,children:[w.jsx("img",{src:t.imageUrl,alt:"Vista detallada",className:"block object-contain max-w-full max-h-full"}),n&&w.jsx("div",{className:"absolute inset-0 flex justify-center items-center pointer-events-none",children:w.jsx(w0,{className:"w-28 h-28 text-white/90 drop-shadow-lg animate-like-heart"})})]})};function bZ({fotos:t,indiceInicial:e,onClose:n,user:r}){return!t||t.length===0?null:w.jsxs("div",{className:"fixed inset-0 bg-black/90 flex justify-center items-center z-50 animate-fade-in",children:[w.jsx("button",{onClick:n,className:"absolute top-4 right-4 bg-white/20 text-white rounded-full w-10 h-10 flex items-center justify-center text-2xl font-bold z-20 hover:bg-white/30","aria-label":"Cerrar",children:"×"}),w.jsx(nO,{modules:[wZ,_Z],initialSlide:e,navigation:!0,pagination:{clickable:!0},className:"w-full h-full",children:t.map(i=>w.jsx(rO,{children:w.jsx(xZ,{foto:i,user:r})},i.id))})]})}function EZ(){const{user:t,rol:e}=ii(),[n,r]=C.useState(!1),[i,s]=C.useState([]),[a,c]=C.useState(!0),[u,f]=C.useState({abierto:!1,indiceInicial:0});C.useEffect(()=>{const x=Ce(Te,"galeria"),_=ln(x,T=>{const N=T.val(),k=(N?Object.keys(N).map(P=>({id:P,...N[P]})):[]).filter(P=>P.visible!==!1);s(k.sort((P,j)=>j.timestamp-P.timestamp)),c(!1)});return()=>_()},[]);const h=x=>{f({abierto:!0,indiceInicial:x})},g=()=>{f({abierto:!1,indiceInicial:0})},v=x=>{if(window.confirm("¿Seguro que quieres ocultar esta foto de la galería?")){const _=Ce(Te,`galeria/${x}`);hs(_,{visible:!1})}};return w.jsxs("div",{className:"w-full min-h-screen bg-main-background text-white font-qatar flex flex-col",children:[w.jsx(lr,{}),w.jsxs("div",{className:"container mx-auto px-4 py-8 flex-grow",children:[w.jsxs("div",{className:"flex justify-between items-center mb-6",children:[w.jsx("h1",{className:"text-4xl md:text-5xl font-bold text-yellow-400 drop-shadow-lg",children:"Galería"}),(e==="admin"||e==="superadmin")&&w.jsx("button",{onClick:()=>r(!0),className:"bg-yellow-500 text-black rounded-full w-12 h-12 flex items-center justify-center shadow-lg hover:bg-yellow-400 transition-transform duration-200 hover:scale-110","aria-label":"Subir Foto",children:w.jsx(GI,{className:"w-7 h-7"})})]}),a?w.jsx("p",{className:"text-center text-xl",children:"Cargando galería..."}):i.length>0?w.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 gap-3 md:gap-4",children:i.map((x,_)=>w.jsx(HJ,{foto:x,onImageClick:()=>h(_),onBorrarClick:()=>v(x.id),esAdmin:e==="admin"||e==="superadmin"},x.id))}):w.jsx("p",{className:"text-center text-xl",children:"Aún no hay fotos en la galería. ¡Sube la primera!"})]}),w.jsx(cr,{}),w.jsx(UJ,{open:n,onClose:()=>r(!1)}),u.abierto&&w.jsx(bZ,{fotos:i,indiceInicial:u.indiceInicial,onClose:g,user:t,esAdmin:e==="admin"||e==="superadmin",onBorrarClick:v})]})}function SZ({mvps:t,onSelect:e,onClose:n,jugadoresYaSeleccionados:r=[]}){if(!t)return null;const i=t.filter(s=>!r.some(a=>a?.nombre===s.nombre));return w.jsx("div",{className:"fixed inset-0 flex items-center justify-center z-50 bg-black/80 p-4 font-qatar",children:w.jsxs("div",{className:"bg-gray-800 border border-yellow-500/30 rounded-xl shadow-2xl w-full max-w-md mx-auto",children:[w.jsxs("div",{className:"flex justify-between items-center p-4 border-b border-gray-700",children:[w.jsx("h2",{className:"text-xl font-bold text-yellow-400",children:"Seleccionar Jugador Estrella"}),w.jsx("button",{onClick:n,className:"text-gray-400 hover:text-white text-2xl",children:"×"})]}),w.jsx("div",{className:"p-4 max-h-[60vh] overflow-y-auto",children:i.length>0?w.jsx("ul",{className:"space-y-2",children:i.map((s,a)=>w.jsxs("li",{className:"bg-gray-700 p-3 rounded-lg flex items-center justify-between",children:[w.jsxs("div",{children:[w.jsx("p",{className:"font-bold text-white",children:s.nombre}),w.jsxs("p",{className:"text-sm text-gray-400",children:[s.equipo," - ",s.genero]})]}),w.jsx("button",{onClick:()=>e(s),className:"bg-green-600 text-white p-2 rounded-full hover:bg-green-500 transition-transform hover:scale-110",title:`Seleccionar a ${s.nombre}`,children:w.jsx(S8,{className:"w-5 h-5"})})]},a))}):w.jsx("p",{className:"text-center text-gray-400 py-8",children:"No hay nuevos MVPs disponibles o ya han sido seleccionados."})})]})})}const CZ=t=>t?`/EmproChampions-2025/camisas/camisa-${t.toLowerCase().replace(/\s+/g,"-")}.png`:"/EmproChampions-2025/camisas/camisa-default.png",TZ=t=>t&&["don bosco","luz","emprosaurios"].includes(t.toLowerCase())?"#000":"#fff",kZ=t=>t?`/EmproChampions-2025/img/escudos/${t.toLowerCase().replace(/\s+/g,"")}.png`:"",PZ=[{top:"15%",left:"50%"},{top:"35%",left:"25%"},{top:"35%",left:"75%"},{top:"65%",left:"25%"},{top:"65%",left:"75%"},{top:"85%",left:"50%"}];function g2({titulo:t,jugadores:e,onSlotClick:n,isAdmin:r,onDeleteSlot:i}){return w.jsxs("div",{className:"flex flex-col items-center",children:[w.jsx("h2",{className:"text-3xl font-bold text-yellow-400 mb-4",children:t}),w.jsxs("div",{className:"relative w-[300px] h-[510px] sm:w-[400px] sm:h-[680px]",children:[w.jsx("img",{src:"/EmproChampions-2025/img/cancha-vertical.svg",alt:"cancha",className:"w-full h-full"}),e.map((s,a)=>w.jsx("div",{className:`absolute group ${r?"cursor-pointer hover:scale-110 transition-transform":""}`,style:{...PZ[a],transform:"translate(-50%, -50%)"},onClick:()=>r&&n(a),children:s?w.jsxs("div",{className:"relative w-fit flex flex-col items-center text-center",children:[r&&w.jsx("button",{onClick:c=>{c.stopPropagation(),i(a)},className:"absolute -top-2 -right-2 z-30 text-red-500 bg-white rounded-full opacity-0 group-hover:opacity-100 transition-opacity",title:"Quitar jugador",children:w.jsx(T8,{className:"w-6 h-6"})}),w.jsxs("div",{className:"relative",children:[w.jsx("img",{src:CZ(s.equipo),className:"w-16 md:w-20 relative z-10 drop-shadow-lg",alt:`Camiseta de ${s.equipo}`}),w.jsx("div",{className:"absolute top-[12%] font-barcelona text-[24px] md:text-[30px] z-20 pointer-events-none w-full",style:{color:TZ(s.equipo),textShadow:"1px 1px 2px rgba(0,0,0,0.6)"},children:s.dorsal})]}),w.jsxs("div",{className:"absolute bottom-[-25px] flex items-center gap-2 font-barcelona text-[12px] text-white bg-black/80 px-2 py-1 rounded z-20 whitespace-nowrap",children:[w.jsx("img",{src:kZ(s.equipo),alt:s.equipo,className:"w-4 h-4"}),w.jsx("span",{children:s.nombre})]})]}):w.jsx("div",{className:"w-16 h-16 bg-black/50 rounded-full flex items-center justify-center text-white text-4xl border-2 border-dashed border-gray-500",children:r&&"+"})},a))]})]})}function IZ(){const{rol:t}=ii(),e=t==="admin"||t==="superadmin",[n,r]=C.useState(Array(6).fill(null)),[i,s]=C.useState(Array(6).fill(null)),[a,c]=C.useState(""),[u,f]=C.useState(""),[h,g]=C.useState([]),[v,x]=C.useState(!0),[_,T]=C.useState(!1),[N,A]=C.useState(null);C.useEffect(()=>{const I=Ce(Te,"equipoIdeal/masculino"),O=Ce(Te,"equipoIdeal/femenino"),b=ln(I,V=>{const F=V.val();c(F?.jornadaInfo||"Equipo Masculino");const Z=F?.jugadores||[];for(;Z.length<6;)Z.push(null);r(Z)}),M=ln(O,V=>{const F=V.val();f(F?.jornadaInfo||"Equipo Femenino");const Z=F?.jugadores||[];for(;Z.length<6;)Z.push(null);s(Z)});return e&&(async()=>{const F=Ce(Te,"mvps_registrados"),Z=await Sr(F);if(Z.exists()){const se=Z.val(),re=Object.values(se);g(re)}})(),x(!1),()=>{b(),M()}},[e]);const k=(I,O)=>{A({genero:I,index:O}),T(!0)},P=I=>{if(!N)return;const{genero:O,index:b}=N;if(O==="masculino"){const M=[...n];M[b]=I,r(M)}else{const M=[...i];M[b]=I,s(M)}T(!1)},j=(I,O)=>{if(I==="masculino"){const b=[...n];b[O]=null,r(b)}else{const b=[...i];b[O]=null,s(b)}},$=async()=>{try{await Ct(Ce(Te,"equipoIdeal/masculino"),{jornadaInfo:a,jugadores:n.filter(I=>I!=null)}),await Ct(Ce(Te,"equipoIdeal/femenino"),{jornadaInfo:u,jugadores:i.filter(I=>I!=null)}),alert("¡Equipos Ideales guardados con éxito!")}catch(I){console.error("Error al guardar:",I),alert("Error al guardar los cambios.")}},z=h.filter(I=>I.genero===N?.genero),D=N?.genero==="masculino"?n:i;return v?w.jsx("div",{className:"w-full h-screen bg-main-background flex justify-center items-center text-white text-2xl",children:"Cargando..."}):w.jsxs("div",{className:"w-full min-h-screen bg-main-background text-white font-qatar flex flex-col",children:[w.jsx(lr,{}),w.jsxs("div",{className:"container mx-auto px-4 py-8 flex-grow",children:[w.jsx("div",{className:"text-center mb-12",children:w.jsxs("h1",{className:"text-4xl md:text-5xl font-bold text-yellow-400 drop-shadow-lg flex items-center justify-center gap-4",children:[w.jsx(_0,{className:"w-10 h-10"}),"Equipo Ideal del Torneo",w.jsx(_0,{className:"w-10 h-10"})]})}),w.jsxs("div",{className:"flex flex-col lg:flex-row justify-center items-start gap-8 lg:gap-16",children:[w.jsx(g2,{titulo:e?w.jsx("input",{type:"text",value:a,onChange:I=>c(I.target.value),className:"text-3xl font-bold text-yellow-400 bg-transparent text-center outline-none w-full"}):a,jugadores:n,onSlotClick:I=>k("masculino",I),onDeleteSlot:I=>j("masculino",I),isAdmin:e}),w.jsx(g2,{titulo:e?w.jsx("input",{type:"text",value:u,onChange:I=>f(I.target.value),className:"text-3xl font-bold text-yellow-400 bg-transparent text-center outline-none w-full"}):u,jugadores:i,onSlotClick:I=>k("femenino",I),onDeleteSlot:I=>j("femenino",I),isAdmin:e})]}),e&&w.jsx("div",{className:"text-center mt-12",children:w.jsx("button",{onClick:$,className:"bg-green-600 text-white font-bold px-8 py-3 rounded-lg text-xl hover:bg-green-500 transition-transform hover:scale-105",children:"Guardar Cambios"})})]}),w.jsx(cr,{}),_&&w.jsx(SZ,{mvps:z,onSelect:P,onClose:()=>T(!1),jugadoresYaSeleccionados:D})]})}function Xi({children:t}){const{user:e,loading:n}=ii();return n?w.jsx("div",{children:"Cargando aplicación..."}):e?t:w.jsx(Hy,{to:"/login",replace:!0})}function Gh({children:t}){const{user:e,rol:n,loading:r}=ii();return r?w.jsx("div",{children:"Cargando aplicación..."}):e?n!=="admin"&&n!=="superadmin"?w.jsx(Hy,{to:"/",replace:!0}):t:w.jsx(Hy,{to:"/login",replace:!0})}function RZ(){const[t,e]=C.useState(!1),[n,r]=C.useState({title:"",body:""});return C.useEffect(()=>{r8()},[]),C.useEffect(()=>{const i=Iw(Ma),s=GL(i,a=>{r({title:a.notification.title,body:a.notification.body}),e(!0)});return"serviceWorker"in navigator&&navigator.serviceWorker.register("/EmproChampions-2025/firebase-messaging-sw.js").then(a=>{console.log("✅ Service Worker registrado:",a)}).catch(a=>{console.error("❌ Error al registrar Service Worker:",a)}),()=>s()},[]),w.jsx(n8,{children:w.jsxs(NM,{basename:"/EmproChampions-2025",children:[t&&w.jsx(KI,{title:n.title,body:n.body,onClose:()=>e(!1)}),w.jsxs(lM,{children:[w.jsx(rn,{path:"/login",element:w.jsx(i8,{})}),w.jsx(rn,{path:"/registro",element:w.jsx(s8,{})}),w.jsx(rn,{path:"/",element:w.jsx(Xi,{children:w.jsx(A8,{})})}),w.jsx(rn,{path:"/partido/configurar",element:w.jsx(Gh,{children:w.jsx(HS,{})})}),w.jsx(rn,{path:"/partido/alineacion",element:w.jsx(Gh,{children:w.jsx(jH,{})})}),w.jsx(rn,{path:"/control-partido/:partidoId",element:w.jsx(Gh,{children:w.jsx($8,{})})}),w.jsx(rn,{path:"/match/:partidoId",element:w.jsx(Xi,{children:w.jsx(HS,{modo:"ver"})})}),w.jsx(rn,{path:"/goleadores",element:w.jsx(Xi,{children:w.jsx(V8,{})})}),w.jsx(rn,{path:"/historial",element:w.jsx(Xi,{children:w.jsx(B8,{})})}),w.jsx(rn,{path:"/configuracion",element:w.jsx(Xi,{children:w.jsx(QK,{})})}),w.jsx(rn,{path:"/partido/editar/:partidoId",element:w.jsx(Gh,{children:w.jsx(ZK,{})})}),w.jsx(rn,{path:"/calendario",element:w.jsx(Xi,{children:w.jsx(EJ,{})})}),w.jsx(rn,{path:"/partido/en-vivo/:partidoId",element:w.jsx(Xi,{children:w.jsx(VJ,{})})}),w.jsx(rn,{path:"/galeria",element:w.jsx(Xi,{children:w.jsx(EZ,{})})}),w.jsx(rn,{path:"/equipo-ideal",element:w.jsx(Xi,{children:w.jsx(IZ,{})})}),w.jsx(rn,{path:"*",element:w.jsx("div",{children:"Página no encontrada"})})]})]})})}const Qo=sessionStorage.getItem("redirect");sessionStorage.removeItem("redirect");if(Qo&&Qo!==window.location.pathname.replace("/EmproChampions-2025","")){let t=Qo;const e="/EmproChampions-2025";Qo.startsWith(e)?(t=Qo.substring(e.length),t.startsWith("/")||(t="/"+t)):Qo.startsWith("/")||(t="/"+Qo),t!==window.location.pathname.replace(e,"")&&(window.history.replaceState(null,null,e+(t==="/"?"":t)),console.log("Redirecting to:",e+(t==="/"?"":t)))}v5.createRoot(document.getElementById("root")).render(w.jsx(me.StrictMode,{children:w.jsx(RZ,{})}));if("serviceWorker"in navigator){const t="/EmproChampions-2025/firebase-messaging-sw.js";navigator.serviceWorker.register(t,{scope:"/EmproChampions-2025/"}).then(e=>{console.log("Service Worker registrado:",e,"con ruta:",t,"y scope:",e.scope)}).catch(e=>{console.error("Fallo el registro del Service Worker:",e,"con ruta:",t)})}
